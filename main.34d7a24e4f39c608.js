"use strict";(self.webpackChunkcoop_app=self.webpackChunkcoop_app||[]).push([[792],{681:(jt,We,H)=>{H.d(We,{kR:()=>Xn});var M=H(3531),he=(H(7705),H(8934),H(7037),H(467)),Z=H(2979),ee=H(8779),xe=H(1401),$e=H(5398);const ie=new Map,ae={activated:!1,tokenObservers:[]},Te={initialized:!1,enabled:!1};function Ge(ge){return ie.get(ge)||Object.assign({},ae)}function ht(){return Te}const Ve="https://content-firebaseappcheck.googleapis.com/v1",bn="exchangeDebugToken",On={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class ot{constructor(pe,Ne,Je,pt,tn){if(this.operation=pe,this.retryPolicy=Ne,this.getWaitDuration=Je,this.lowerBound=pt,this.upperBound=tn,this.pending=null,this.nextErrorWaitInterval=pt,pt>tn)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(pe){var Ne=this;return(0,he.A)(function*(){Ne.stop();try{Ne.pending=new xe.cY,yield function Ue(ge){return new Promise(pe=>{setTimeout(pe,ge)})}(Ne.getNextRun(pe)),Ne.pending.resolve(),yield Ne.pending.promise,Ne.pending=new xe.cY,yield Ne.operation(),Ne.pending.resolve(),yield Ne.pending.promise,Ne.process(!0).catch(()=>{})}catch(Je){Ne.retryPolicy(Je)?Ne.process(!1).catch(()=>{}):Ne.stop()}})()}getNextRun(pe){if(pe)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const Ne=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),Ne}}}const ft=new xe.FA("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Jt(ge){if(!Ge(ge).activated)throw ft.create("use-before-activation",{appName:ge.name})}function Br(ge,pe){return lt.apply(this,arguments)}function lt(){return(lt=(0,he.A)(function*({url:ge,body:pe},Ne){const Je={"Content-Type":"application/json"},pt=Ne.getImmediate({optional:!0});if(pt){const Ci=yield pt.getHeartbeatsHeader();Ci&&(Je["X-Firebase-Client"]=Ci)}const tn={method:"POST",body:JSON.stringify(pe),headers:Je};let zn,kn;try{zn=yield fetch(ge,tn)}catch(Ci){throw ft.create("fetch-network-error",{originalErrorMessage:Ci?.message})}if(200!==zn.status)throw ft.create("fetch-status-error",{httpStatus:zn.status});try{kn=yield zn.json()}catch(Ci){throw ft.create("fetch-parse-error",{originalErrorMessage:Ci?.message})}const Vn=kn.ttl.match(/^([\d.]+)(s)$/);if(!Vn||!Vn[2]||isNaN(Number(Vn[1])))throw ft.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${kn.ttl}`});const Xi=1e3*Number(Vn[1]),li=Date.now();return{token:kn.token,expireTimeMillis:li+Xi,issuedAtTimeMillis:li}})).apply(this,arguments)}function Cr(ge,pe){const{projectId:Ne,appId:Je,apiKey:pt}=ge.options;return{url:`${Ve}/projects/${Ne}/apps/${Je}:${bn}?key=${pt}`,body:{debug_token:pe}}}const Jr="firebase-app-check-database",jn=1,Pr="firebase-app-check-store";let Be=null;function Un(){return(Un=(0,he.A)(function*(ge,pe){const Je=(yield function ke(){return Be||(Be=new Promise((ge,pe)=>{try{const Ne=indexedDB.open(Jr,jn);Ne.onsuccess=Je=>{ge(Je.target.result)},Ne.onerror=Je=>{var pt;pe(ft.create("storage-open",{originalErrorMessage:null===(pt=Je.target.error)||void 0===pt?void 0:pt.message}))},Ne.onupgradeneeded=Je=>{0===Je.oldVersion&&Je.target.result.createObjectStore(Pr,{keyPath:"compositeKey"})}}catch(Ne){pe(ft.create("storage-open",{originalErrorMessage:Ne?.message}))}}),Be)}()).transaction(Pr,"readwrite"),tn=Je.objectStore(Pr).put({compositeKey:ge,value:pe});return new Promise((zn,kn)=>{tn.onsuccess=Vn=>{zn()},Je.onerror=Vn=>{var Xi;kn(ft.create("storage-set",{originalErrorMessage:null===(Xi=Vn.target.error)||void 0===Xi?void 0:Xi.message}))}})})).apply(this,arguments)}const Jn=new $e.Vy("@firebase/app-check");function Rn(ge,pe){return(0,xe.zW)()?function rt(ge,pe){return function Kt(ge,pe){return Un.apply(this,arguments)}(function Sn(ge){return`${ge.options.appId}-${ge.name}`}(ge),pe)}(ge,pe).catch(Ne=>{Jn.warn(`Failed to write token to IndexedDB. Error: ${Ne}`)}):Promise.resolve()}function kr(){return ht().enabled}function pi(){return jr.apply(this,arguments)}function jr(){return(jr=(0,he.A)(function*(){const ge=ht();if(ge.enabled&&ge.token)return ge.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const vn={error:"UNKNOWN_ERROR"};function hn(ge){return xe.K3.encodeString(JSON.stringify(ge),!1)}function $n(ge){return Lr.apply(this,arguments)}function Lr(){return(Lr=(0,he.A)(function*(ge,pe=!1){const Ne=ge.app;Jt(Ne);const Je=Ge(Ne);let tn,pt=Je.token;if(pt&&!wi(pt)&&(Je.token=void 0,pt=void 0),!pt){const Vn=yield Je.cachedTokenPromise;Vn&&(wi(Vn)?pt=Vn:yield Rn(Ne,void 0))}if(!pe&&pt&&wi(pt))return{token:pt.token};let kn,zn=!1;if(kr()){Je.exchangeTokenPromise||(Je.exchangeTokenPromise=Br(Cr(Ne,yield pi()),ge.heartbeatServiceProvider).finally(()=>{Je.exchangeTokenPromise=void 0}),zn=!0);const Vn=yield Je.exchangeTokenPromise;return yield Rn(Ne,Vn),Je.token=Vn,{token:Vn.token}}try{Je.exchangeTokenPromise||(Je.exchangeTokenPromise=Je.provider.getToken().finally(()=>{Je.exchangeTokenPromise=void 0}),zn=!0),pt=yield Ge(Ne).exchangeTokenPromise}catch(Vn){"appCheck/throttled"===Vn.code?Jn.warn(Vn.message):Jn.error(Vn),tn=Vn}return pt?tn?kn=wi(pt)?{token:pt.token,internalError:tn}:Nr(tn):(kn={token:pt.token},Je.token=pt,yield Rn(Ne,pt)):kn=Nr(tn),zn&&function on(ge,pe){const Ne=Ge(ge).tokenObservers;for(const Je of Ne)try{"EXTERNAL"===Je.type&&null!=pe.error?Je.error(pe.error):Je.next(pe)}catch{}}(Ne,kn),kn})).apply(this,arguments)}function Qr(ge){return In.apply(this,arguments)}function In(){return(In=(0,he.A)(function*(ge){const pe=ge.app;Jt(pe);const{provider:Ne}=Ge(pe);if(kr()){const Je=yield pi(),{token:pt}=yield Br(Cr(pe,Je),ge.heartbeatServiceProvider);return{token:pt}}{const{token:Je}=yield Ne.getToken();return{token:Je}}})).apply(this,arguments)}function yn(ge,pe){const Ne=Ge(ge),Je=Ne.tokenObservers.filter(pt=>pt.next!==pe);0===Je.length&&Ne.tokenRefresher&&Ne.tokenRefresher.isRunning()&&Ne.tokenRefresher.stop(),Ne.tokenObservers=Je}function Ot(ge){const{app:pe}=ge,Ne=Ge(pe);let Je=Ne.tokenRefresher;Je||(Je=function Ei(ge){const{app:pe}=ge;return new ot((0,he.A)(function*(){let Je;if(Je=Ge(pe).token?yield $n(ge,!0):yield $n(ge),Je.error)throw Je.error;if(Je.internalError)throw Je.internalError}),()=>!0,()=>{const Ne=Ge(pe);if(Ne.token){let Je=Ne.token.issuedAtTimeMillis+.5*(Ne.token.expireTimeMillis-Ne.token.issuedAtTimeMillis)+3e5;return Je=Math.min(Je,Ne.token.expireTimeMillis-3e5),Math.max(0,Je-Date.now())}return 0},On.RETRIAL_MIN_WAIT,On.RETRIAL_MAX_WAIT)}(ge),Ne.tokenRefresher=Je),!Je.isRunning()&&Ne.isTokenAutoRefreshEnabled&&Je.start()}function wi(ge){return ge.expireTimeMillis-Date.now()>0}function Nr(ge){return{token:hn(vn),error:ge}}class yr{constructor(pe,Ne){this.app=pe,this.heartbeatServiceProvider=Ne}_delete(){const{tokenObservers:pe}=Ge(this.app);for(const Ne of pe)yn(this.app,Ne.next);return Promise.resolve()}}const Lt="app-check-internal";!function Wt(){(0,Z.om)(new ee.uA("app-check",ge=>function $r(ge,pe){return new yr(ge,pe)}(ge.getProvider("app").getImmediate(),ge.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((ge,pe,Ne)=>{ge.getProvider(Lt).initialize()})),(0,Z.om)(new ee.uA(Lt,ge=>function Ii(ge){return{getToken:pe=>$n(ge,pe),getLimitedUseToken:()=>Qr(ge),addTokenListener:pe=>function or(ge,pe,Ne,Je){const{app:pt}=ge,tn=Ge(pt);if(tn.tokenObservers=[...tn.tokenObservers,{next:Ne,error:Je,type:pe}],tn.token&&wi(tn.token)){const kn=tn.token;Promise.resolve().then(()=>{Ne({token:kn.token}),Ot(ge)}).catch(()=>{})}tn.cachedTokenPromise.then(()=>Ot(ge))}(ge,"INTERNAL",pe),removeTokenListener:pe=>yn(ge.app,pe)}}(ge.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Z.KO)("@firebase/app-check","0.8.0")}();class Xn{constructor(){return(0,M.CA)("app-check")}}typeof window<"u"&&window},8934:(jt,We,H)=>{H.d(We,{MW:()=>Ge,Wp:()=>Ut,XU:()=>ye,gL:()=>he});var M=H(7037),ue=H(7705),re=H(3531);class ye{constructor(ot){return ot}}class he{constructor(){return(0,M.Dk)()}}const xe=new ue.nKC("angularfire2._apps"),$e={provide:ye,useFactory:function ee(Ae){return Ae&&1===Ae.length?Ae[0]:new ye((0,M.Sx)())},deps:[[new ue.Xx1,xe]]},ie={provide:he,deps:[[new ue.Xx1,xe]]};function ae(Ae){return(ot,Ue)=>{const He=ot.runOutsideAngular(()=>Ae(Ue));return new ye(He)}}let Te=(()=>{class Ae{constructor(Ue){(0,M.KO)("angularfire",re.xv.full,"core"),(0,M.KO)("angularfire",re.xv.full,"app"),(0,M.KO)("angular",ue.xvI.full,Ue.toString())}}return Ae.\u0275fac=function(Ue){return new(Ue||Ae)(ue.KVO(ue.Agw))},Ae.\u0275mod=ue.$C({type:Ae}),Ae.\u0275inj=ue.G2t({providers:[$e,ie]}),Ae})();function Ge(Ae,...ot){return{ngModule:Te,providers:[{provide:xe,useFactory:ae(Ae),multi:!0,deps:[ue.SKi,ue.zZn,re.u0,...ot]}]}}const Ut=(0,re.S3)(M.Wp,!0)},9676:(jt,We,H)=>{H.d(We,{Nj:()=>Fa,DF:()=>Fl,xI:()=>$l,_q:()=>Ec,x9:()=>Wl,CI:()=>ru});var M=H(3531),ue=H(7705),re=H(8934),ye=H(7037),he=H(681),Z=H(467),ee=H(1401),xe=H(2979),$e=H(1635),ie=H(5398),ae=H(8779);const On=function kt(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Ae=new ee.FA("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ue=new ie.Vy("@firebase/auth");function ft(D,...h){Ue.logLevel<=ie.$b.ERROR&&Ue.error(`Auth (${xe.MF}): ${D}`,...h)}function ct(D,...h){throw Br(D,...h)}function Jt(D,...h){return Br(D,...h)}function Br(D,...h){if("string"!=typeof D){const p=h[0],C=[...h.slice(1)];return C[0]&&(C[0].appName=D.name),D._errorFactory.create(p,...C)}return Ae.create(D,...h)}function lt(D,h,...p){if(!D)throw Br(h,...p)}function Pn(D){const h="INTERNAL ASSERTION FAILED: "+D;throw ft(h),new Error(h)}function Qn(D,h){D||Pn(h)}function Cr(){var D;return typeof self<"u"&&(null===(D=self.location)||void 0===D?void 0:D.href)||""}function jn(){var D;return typeof self<"u"&&(null===(D=self.location)||void 0===D?void 0:D.protocol)||null}class Be{constructor(h,p){this.shortDelay=h,this.longDelay=p,Qn(p>h,"Short delay should be less than long delay!"),this.isMobile=(0,ee.jZ)()||(0,ee.lV)()}get(){return function Pr(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function Jr(){return"http:"===jn()||"https:"===jn()}()||(0,ee.sr)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function ke(D,h){Qn(D.emulator,"Emulator should always be set here");const{url:p}=D.emulator;return h?`${p}${h.startsWith("/")?h.slice(1):h}`:p}class Ke{static initialize(h,p,C){this.fetchImpl=h,p&&(this.headersImpl=p),C&&(this.responseImpl=C)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Pn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Pn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Pn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const rt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},je=new Be(3e4,6e4);function Dt(D,h){return D.tenantId&&!h.tenantId?Object.assign(Object.assign({},h),{tenantId:D.tenantId}):h}function Kt(D,h,p,C){return Un.apply(this,arguments)}function Un(){return(Un=(0,Z.A)(function*(D,h,p,C,j={}){return nt(D,j,(0,Z.A)(function*(){let Y={},Ee={};C&&("GET"===h?Ee=C:Y={body:JSON.stringify(C)});const ze=(0,ee.Am)(Object.assign({key:D.config.apiKey},Ee)).slice(1),_t=yield D._getAdditionalHeaders();return _t["Content-Type"]="application/json",D.languageCode&&(_t["X-Firebase-Locale"]=D.languageCode),Ke.fetch()(dn(D,D.config.apiHost,p,ze),Object.assign({method:h,headers:_t,referrerPolicy:"no-referrer"},Y))}))})).apply(this,arguments)}function nt(D,h,p){return Nn.apply(this,arguments)}function Nn(){return(Nn=(0,Z.A)(function*(D,h,p){D._canInitEmulator=!1;const C=Object.assign(Object.assign({},rt),h);try{const j=new Er(D),Y=yield Promise.race([p(),j.promise]);j.clearNetworkTimeout();const Ee=yield Y.json();if("needConfirmation"in Ee)throw Rn(D,"account-exists-with-different-credential",Ee);if(Y.ok&&!("errorMessage"in Ee))return Ee;{const ze=Y.ok?Ee.errorMessage:Ee.error.message,[_t,Gt]=ze.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===_t)throw Rn(D,"credential-already-in-use",Ee);if("EMAIL_EXISTS"===_t)throw Rn(D,"email-already-in-use",Ee);if("USER_DISABLED"===_t)throw Rn(D,"user-disabled",Ee);const _n=C[_t]||_t.toLowerCase().replace(/[_\s]+/g,"-");if(Gt)throw function fn(D,h,p){const C=Object.assign(Object.assign({},On()),{[h]:p});return new ee.FA("auth","Firebase",C).create(h,{appName:D.name})}(D,_n,Gt);ct(D,_n)}}catch(j){if(j instanceof ee.g)throw j;ct(D,"network-request-failed",{message:String(j)})}})).apply(this,arguments)}function Sn(D,h,p,C){return Jn.apply(this,arguments)}function Jn(){return(Jn=(0,Z.A)(function*(D,h,p,C,j={}){const Y=yield Kt(D,h,p,C,j);return"mfaPendingCredential"in Y&&ct(D,"multi-factor-auth-required",{_serverResponse:Y}),Y})).apply(this,arguments)}function dn(D,h,p,C){const j=`${h}${p}?${C}`;return D.config.emulator?ke(D.config,j):`${D.config.apiScheme}://${j}`}class Er{constructor(h){this.auth=h,this.timer=null,this.promise=new Promise((p,C)=>{this.timer=setTimeout(()=>C(Jt(this.auth,"network-request-failed")),je.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Rn(D,h,p){const C={appName:D.name};p.email&&(C.email=p.email),p.phoneNumber&&(C.phoneNumber=p.phoneNumber);const j=Jt(D,h,C);return j.customData._tokenResponse=p,j}function er(){return(er=(0,Z.A)(function*(D,h){return Kt(D,"POST","/v1/accounts:delete",h)})).apply(this,arguments)}function qt(){return(qt=(0,Z.A)(function*(D,h){return Kt(D,"POST","/v1/accounts:lookup",h)})).apply(this,arguments)}function vn(D){if(D)try{const h=new Date(Number(D));if(!isNaN(h.getTime()))return h.toUTCString()}catch{}}function Lr(){return(Lr=(0,Z.A)(function*(D,h=!1){const p=(0,ee.Ku)(D),C=yield p.getIdToken(h),j=In(C);lt(j&&j.exp&&j.auth_time&&j.iat,p.auth,"internal-error");const Y="object"==typeof j.firebase?j.firebase:void 0,Ee=Y?.sign_in_provider;return{claims:j,token:C,authTime:vn(Qr(j.auth_time)),issuedAtTime:vn(Qr(j.iat)),expirationTime:vn(Qr(j.exp)),signInProvider:Ee||null,signInSecondFactor:Y?.sign_in_second_factor||null}})).apply(this,arguments)}function Qr(D){return 1e3*Number(D)}function In(D){const[h,p,C]=D.split(".");if(void 0===h||void 0===p||void 0===C)return ft("JWT malformed, contained fewer than 3 sections"),null;try{const j=(0,ee.u)(p);return j?JSON.parse(j):(ft("Failed to decode base64 JWT payload"),null)}catch(j){return ft("Caught error parsing JWT payload as JSON",j?.toString()),null}}function yn(D,h){return Ot.apply(this,arguments)}function Ot(){return(Ot=(0,Z.A)(function*(D,h,p=!1){if(p)return h;try{return yield h}catch(C){throw C instanceof ee.g&&function Ei({code:D}){return"auth/user-disabled"===D||"auth/user-token-expired"===D}(C)&&D.auth.currentUser===D&&(yield D.auth.signOut()),C}})).apply(this,arguments)}class on{constructor(h){this.user=h,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(h){var p;if(h){const C=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),C}{this.errorBackoff=3e4;const j=(null!==(p=this.user.stsTokenManager.expirationTime)&&void 0!==p?p:0)-Date.now()-3e5;return Math.max(0,j)}}schedule(h=!1){var p=this;if(!this.isRunning)return;const C=this.getInterval(h);this.timerId=setTimeout((0,Z.A)(function*(){yield p.iteration()}),C)}iteration(){var h=this;return(0,Z.A)(function*(){try{yield h.user.getIdToken(!0)}catch(p){return void("auth/network-request-failed"===p?.code&&h.schedule(!0))}h.schedule()})()}}class wi{constructor(h,p){this.createdAt=h,this.lastLoginAt=p,this._initializeTime()}_initializeTime(){this.lastSignInTime=vn(this.lastLoginAt),this.creationTime=vn(this.createdAt)}_copy(h){this.createdAt=h.createdAt,this.lastLoginAt=h.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Nr(D){return yr.apply(this,arguments)}function yr(){return yr=(0,Z.A)(function*(D){var h;const p=D.auth,C=yield D.getIdToken(),j=yield yn(D,function jr(D,h){return qt.apply(this,arguments)}(p,{idToken:C}));lt(j?.users.length,p,"internal-error");const Y=j.users[0];D._notifyReloadListener(Y);const Ee=null!==(h=Y.providerUserInfo)&&void 0!==h&&h.length?function Ti(D){return D.map(h=>{var{providerId:p}=h,C=(0,$e.Tt)(h,["providerId"]);return{providerId:p,uid:C.rawId||"",displayName:C.displayName||null,email:C.email||null,phoneNumber:C.phoneNumber||null,photoURL:C.photoUrl||null}})}(Y.providerUserInfo):[],ze=function Di(D,h){return[...D.filter(C=>!h.some(j=>j.providerId===C.providerId)),...h]}(D.providerData,Ee),_n=!!D.isAnonymous&&!(D.email&&Y.passwordHash||ze?.length),Mn={uid:Y.localId,displayName:Y.displayName||null,photoURL:Y.photoUrl||null,email:Y.email||null,emailVerified:Y.emailVerified||!1,phoneNumber:Y.phoneNumber||null,tenantId:Y.tenantId||null,providerData:ze,metadata:new wi(Y.createdAt,Y.lastLoginAt),isAnonymous:_n};Object.assign(D,Mn)}),yr.apply(this,arguments)}function Ii(){return(Ii=(0,Z.A)(function*(D){const h=(0,ee.Ku)(D);yield Nr(h),yield h.auth._persistUserIfCurrent(h),h.auth._notifyListenersIfCurrent(h)})).apply(this,arguments)}function $i(){return($i=(0,Z.A)(function*(D,h){const p=yield nt(D,{},(0,Z.A)(function*(){const C=(0,ee.Am)({grant_type:"refresh_token",refresh_token:h}).slice(1),{tokenApiHost:j,apiKey:Y}=D.config,Ee=dn(D,j,"/v1/token",`key=${Y}`),ze=yield D._getAdditionalHeaders();return ze["Content-Type"]="application/x-www-form-urlencoded",Ke.fetch()(Ee,{method:"POST",headers:ze,body:C})}));return{accessToken:p.access_token,expiresIn:p.expires_in,refreshToken:p.refresh_token}})).apply(this,arguments)}class Hn{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(h){lt(h.idToken,"internal-error"),lt(typeof h.idToken<"u","internal-error"),lt(typeof h.refreshToken<"u","internal-error");const p="expiresIn"in h&&typeof h.expiresIn<"u"?Number(h.expiresIn):function or(D){const h=In(D);return lt(h,"internal-error"),lt(typeof h.exp<"u","internal-error"),lt(typeof h.iat<"u","internal-error"),Number(h.exp)-Number(h.iat)}(h.idToken);this.updateTokensAndExpiration(h.idToken,h.refreshToken,p)}getToken(h){var p=this;return(0,Z.A)(function*(C,j=!1){return lt(!p.accessToken||p.refreshToken,C,"user-token-expired"),j||!p.accessToken||p.isExpired?p.refreshToken?(yield p.refresh(C,p.refreshToken),p.accessToken):null:p.accessToken}).apply(this,arguments)}clearRefreshToken(){this.refreshToken=null}refresh(h,p){var C=this;return(0,Z.A)(function*(){const{accessToken:j,refreshToken:Y,expiresIn:Ee}=yield function wr(D,h){return $i.apply(this,arguments)}(h,p);C.updateTokensAndExpiration(j,Y,Number(Ee))})()}updateTokensAndExpiration(h,p,C){this.refreshToken=p||null,this.accessToken=h||null,this.expirationTime=Date.now()+1e3*C}static fromJSON(h,p){const{refreshToken:C,accessToken:j,expirationTime:Y}=p,Ee=new Hn;return C&&(lt("string"==typeof C,"internal-error",{appName:h}),Ee.refreshToken=C),j&&(lt("string"==typeof j,"internal-error",{appName:h}),Ee.accessToken=j),Y&&(lt("number"==typeof Y,"internal-error",{appName:h}),Ee.expirationTime=Y),Ee}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(h){this.accessToken=h.accessToken,this.refreshToken=h.refreshToken,this.expirationTime=h.expirationTime}_clone(){return Object.assign(new Hn,this.toJSON())}_performRefresh(){return Pn("not implemented")}}function xn(D,h){lt("string"==typeof D||typeof D>"u","internal-error",{appName:h})}class Ir{constructor(h){var{uid:p,auth:C,stsTokenManager:j}=h,Y=(0,$e.Tt)(h,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new on(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=p,this.auth=C,this.stsTokenManager=j,this.accessToken=j.accessToken,this.displayName=Y.displayName||null,this.email=Y.email||null,this.emailVerified=Y.emailVerified||!1,this.phoneNumber=Y.phoneNumber||null,this.photoURL=Y.photoURL||null,this.isAnonymous=Y.isAnonymous||!1,this.tenantId=Y.tenantId||null,this.providerData=Y.providerData?[...Y.providerData]:[],this.metadata=new wi(Y.createdAt||void 0,Y.lastLoginAt||void 0)}getIdToken(h){var p=this;return(0,Z.A)(function*(){const C=yield yn(p,p.stsTokenManager.getToken(p.auth,h));return lt(C,p.auth,"internal-error"),p.accessToken!==C&&(p.accessToken=C,yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)),C})()}getIdTokenResult(h){return function $n(D){return Lr.apply(this,arguments)}(this,h)}reload(){return function $r(D){return Ii.apply(this,arguments)}(this)}_assign(h){this!==h&&(lt(this.uid===h.uid,this.auth,"internal-error"),this.displayName=h.displayName,this.photoURL=h.photoURL,this.email=h.email,this.emailVerified=h.emailVerified,this.phoneNumber=h.phoneNumber,this.isAnonymous=h.isAnonymous,this.tenantId=h.tenantId,this.providerData=h.providerData.map(p=>Object.assign({},p)),this.metadata._copy(h.metadata),this.stsTokenManager._assign(h.stsTokenManager))}_clone(h){const p=new Ir(Object.assign(Object.assign({},this),{auth:h,stsTokenManager:this.stsTokenManager._clone()}));return p.metadata._copy(this.metadata),p}_onReload(h){lt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=h,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(h){this.reloadListener?this.reloadListener(h):this.reloadUserInfo=h}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(h){var p=this;return(0,Z.A)(function*(C,j=!1){let Y=!1;C.idToken&&C.idToken!==p.stsTokenManager.accessToken&&(p.stsTokenManager.updateFromServerResponse(C),Y=!0),j&&(yield Nr(p)),yield p.auth._persistUserIfCurrent(p),Y&&p.auth._notifyListenersIfCurrent(p)}).apply(this,arguments)}delete(){var h=this;return(0,Z.A)(function*(){const p=yield h.getIdToken();return yield yn(h,function qr(D,h){return er.apply(this,arguments)}(h.auth,{idToken:p})),h.stsTokenManager.clearRefreshToken(),h.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(h=>Object.assign({},h)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(h,p){var C,j,Y,Ee,ze,_t,Gt,_n;const Mn=null!==(C=p.displayName)&&void 0!==C?C:void 0,xr=null!==(j=p.email)&&void 0!==j?j:void 0,To=null!==(Y=p.phoneNumber)&&void 0!==Y?Y:void 0,Ua=null!==(Ee=p.photoURL)&&void 0!==Ee?Ee:void 0,wa=null!==(ze=p.tenantId)&&void 0!==ze?ze:void 0,wc=null!==(_t=p._redirectEventId)&&void 0!==_t?_t:void 0,Hd=null!==(Gt=p.createdAt)&&void 0!==Gt?Gt:void 0,$u=null!==(_n=p.lastLoginAt)&&void 0!==_n?_n:void 0,{uid:zd,emailVerified:Gd,isAnonymous:Kl,providerData:ql,stsTokenManager:Wd}=p;lt(zd&&Wd,h,"internal-error");const Ic=Hn.fromJSON(this.name,Wd);lt("string"==typeof zd,h,"internal-error"),xn(Mn,h.name),xn(xr,h.name),lt("boolean"==typeof Gd,h,"internal-error"),lt("boolean"==typeof Kl,h,"internal-error"),xn(To,h.name),xn(Ua,h.name),xn(wa,h.name),xn(wc,h.name),xn(Hd,h.name),xn($u,h.name);const Dc=new Ir({uid:zd,auth:h,email:xr,emailVerified:Gd,displayName:Mn,isAnonymous:Kl,photoURL:Ua,phoneNumber:To,tenantId:wa,stsTokenManager:Ic,createdAt:Hd,lastLoginAt:$u});return ql&&Array.isArray(ql)&&(Dc.providerData=ql.map(Ql=>Object.assign({},Ql))),wc&&(Dc._redirectEventId=wc),Dc}static _fromIdTokenResponse(h,p){return(0,Z.A)(function*(C,j,Y=!1){const Ee=new Hn;Ee.updateFromServerResponse(j);const ze=new Ir({uid:j.localId,auth:C,stsTokenManager:Ee,isAnonymous:Y});return yield Nr(ze),ze}).apply(this,arguments)}}const de=new Map;function G(D){Qn(D instanceof Function,"Expected a class definition");let h=de.get(D);return h?(Qn(h instanceof D,"Instance stored in cache mismatched with class"),h):(h=new D,de.set(D,h),h)}const q=(()=>{class D{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,Z.A)(function*(){return!0})()}_set(p,C){var j=this;return(0,Z.A)(function*(){j.storage[p]=C})()}_get(p){var C=this;return(0,Z.A)(function*(){const j=C.storage[p];return void 0===j?null:j})()}_remove(p){var C=this;return(0,Z.A)(function*(){delete C.storage[p]})()}_addListener(p,C){}_removeListener(p,C){}}return D.type="NONE",D})();function W(D,h,p){return`firebase:${D}:${h}:${p}`}class we{constructor(h,p,C){this.persistence=h,this.auth=p,this.userKey=C;const{config:j,name:Y}=this.auth;this.fullUserKey=W(this.userKey,j.apiKey,Y),this.fullPersistenceKey=W("persistence",j.apiKey,Y),this.boundEventHandler=p._onStorageEvent.bind(p),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(h){return this.persistence._set(this.fullUserKey,h.toJSON())}getCurrentUser(){var h=this;return(0,Z.A)(function*(){const p=yield h.persistence._get(h.fullUserKey);return p?Ir._fromJSON(h.auth,p):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(h){var p=this;return(0,Z.A)(function*(){if(p.persistence===h)return;const C=yield p.getCurrentUser();return yield p.removeCurrentUser(),p.persistence=h,C?p.setCurrentUser(C):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(h,p){return(0,Z.A)(function*(C,j,Y="authUser"){if(!j.length)return new we(G(q),C,Y);const Ee=(yield Promise.all(j.map(function(){var Mn=(0,Z.A)(function*(xr){if(yield xr._isAvailable())return xr});return function(xr){return Mn.apply(this,arguments)}}()))).filter(Mn=>Mn);let ze=Ee[0]||G(q);const _t=W(Y,C.config.apiKey,C.name);let Gt=null;for(const Mn of j)try{const xr=yield Mn._get(_t);if(xr){const To=Ir._fromJSON(C,xr);Mn!==ze&&(Gt=To),ze=Mn;break}}catch{}const _n=Ee.filter(Mn=>Mn._shouldAllowMigration);return ze._shouldAllowMigration&&_n.length?(ze=_n[0],Gt&&(yield ze._set(_t,Gt.toJSON())),yield Promise.all(j.map(function(){var Mn=(0,Z.A)(function*(xr){if(xr!==ze)try{yield xr._remove(_t)}catch{}});return function(xr){return Mn.apply(this,arguments)}}())),new we(ze,C,Y)):new we(ze,C,Y)}).apply(this,arguments)}}function tt(D){const h=D.toLowerCase();if(h.includes("opera/")||h.includes("opr/")||h.includes("opios/"))return"Opera";if(zt(h))return"IEMobile";if(h.includes("msie")||h.includes("trident/"))return"IE";if(h.includes("edge/"))return"Edge";if(St(h))return"Firefox";if(h.includes("silk/"))return"Silk";if(ar(h))return"Blackberry";if(Hr(h))return"Webos";if(Vt(h))return"Safari";if((h.includes("chrome/")||en(h))&&!h.includes("edge/"))return"Chrome";if(un(h))return"Android";{const C=D.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===C?.length)return C[1]}return"Other"}function St(D=(0,ee.ZQ)()){return/firefox\//i.test(D)}function Vt(D=(0,ee.ZQ)()){const h=D.toLowerCase();return h.includes("safari/")&&!h.includes("chrome/")&&!h.includes("crios/")&&!h.includes("android")}function en(D=(0,ee.ZQ)()){return/crios\//i.test(D)}function zt(D=(0,ee.ZQ)()){return/iemobile/i.test(D)}function un(D=(0,ee.ZQ)()){return/android/i.test(D)}function ar(D=(0,ee.ZQ)()){return/blackberry/i.test(D)}function Hr(D=(0,ee.ZQ)()){return/webos/i.test(D)}function zr(D=(0,ee.ZQ)()){return/iphone|ipad|ipod/i.test(D)||/macintosh/i.test(D)&&/mobile/i.test(D)}function at(D=(0,ee.ZQ)()){return zr(D)||un(D)||Hr(D)||ar(D)||/windows phone/i.test(D)||zt(D)}function Wt(D,h=[]){let p;switch(D){case"Browser":p=tt((0,ee.ZQ)());break;case"Worker":p=`${tt((0,ee.ZQ)())}-${D}`;break;default:p=D}const C=h.length?h.join(","):"FirebaseCore-web";return`${p}/JsCore/${xe.MF}/${C}`}function Xn(D,h){return ur.apply(this,arguments)}function ur(){return(ur=(0,Z.A)(function*(D,h){return Kt(D,"GET","/v2/recaptchaConfig",Dt(D,h))})).apply(this,arguments)}function Hi(D){return void 0!==D&&void 0!==D.enterprise}class Qi{constructor(h){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===h.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=h.recaptchaKey.split("/")[3],this.emailPasswordEnabled=h.recaptchaEnforcementState.some(p=>"EMAIL_PASSWORD_PROVIDER"===p.provider&&"OFF"!==p.enforcementState)}}function zi(D){return new Promise((h,p)=>{const C=document.createElement("script");C.setAttribute("src",D),C.onload=h,C.onerror=j=>{const Y=Jt("internal-error");Y.customData=j,p(Y)},C.type="text/javascript",C.charset="UTF-8",function cs(){var D,h;return null!==(h=null===(D=document.getElementsByTagName("head"))||void 0===D?void 0:D[0])&&void 0!==h?h:document}().appendChild(C)})}function Pi(D){return`__${D}${Math.floor(1e6*Math.random())}`}class ei{constructor(h){this.type="recaptcha-enterprise",this.auth=ge(h)}verify(){var h=this;return(0,Z.A)(function*(p="verify",C=!1){function Y(){return Y=(0,Z.A)(function*(ze){if(!C){if(null==ze.tenantId&&null!=ze._agentRecaptchaConfig)return ze._agentRecaptchaConfig.siteKey;if(null!=ze.tenantId&&void 0!==ze._tenantRecaptchaConfigs[ze.tenantId])return ze._tenantRecaptchaConfigs[ze.tenantId].siteKey}return new Promise(function(){var _t=(0,Z.A)(function*(Gt,_n){Xn(ze,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Mn=>{if(void 0!==Mn.recaptchaKey){const xr=new Qi(Mn);return null==ze.tenantId?ze._agentRecaptchaConfig=xr:ze._tenantRecaptchaConfigs[ze.tenantId]=xr,Gt(xr.siteKey)}_n(new Error("recaptcha Enterprise site key undefined"))}).catch(Mn=>{_n(Mn)})});return function(Gt,_n){return _t.apply(this,arguments)}}())}),Y.apply(this,arguments)}function Ee(ze,_t,Gt){const _n=window.grecaptcha;Hi(_n)?_n.enterprise.ready(()=>{_n.enterprise.execute(ze,{action:p}).then(Mn=>{_t(Mn)}).catch(()=>{_t("NO_RECAPTCHA")})}):Gt(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((ze,_t)=>{(function j(ze){return Y.apply(this,arguments)})(h.auth).then(Gt=>{if(!C&&Hi(window.grecaptcha))Ee(Gt,ze,_t);else{if(typeof window>"u")return void _t(new Error("RecaptchaVerifier is only supported in browser"));zi("https://www.google.com/recaptcha/enterprise.js?render="+Gt).then(()=>{Ee(Gt,ze,_t)}).catch(_n=>{_t(_n)})}}).catch(Gt=>{_t(Gt)})})}).apply(this,arguments)}}function Es(D,h,p){return vr.apply(this,arguments)}function vr(){return(vr=(0,Z.A)(function*(D,h,p,C=!1){const j=new ei(D);let Y;try{Y=yield j.verify(p)}catch{Y=yield j.verify(p,!0)}const Ee=Object.assign({},h);return Object.assign(Ee,C?{captchaResp:Y}:{captchaResponse:Y}),Object.assign(Ee,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(Ee,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),Ee})).apply(this,arguments)}class Gi{constructor(h){this.auth=h,this.queue=[]}pushCallback(h,p){const C=Y=>new Promise((Ee,ze)=>{try{Ee(h(Y))}catch(_t){ze(_t)}});C.onAbort=p,this.queue.push(C);const j=this.queue.length-1;return()=>{this.queue[j]=()=>Promise.resolve()}}runMiddleware(h){var p=this;return(0,Z.A)(function*(){if(p.auth.currentUser===h)return;const C=[];try{for(const j of p.queue)yield j(h),j.onAbort&&C.push(j.onAbort)}catch(j){C.reverse();for(const Y of C)try{Y()}catch{}throw p.auth._errorFactory.create("login-blocked",{originalMessage:j?.message})}})()}}class Co{constructor(h,p,C,j){this.app=h,this.heartbeatServiceProvider=p,this.appCheckServiceProvider=C,this.config=j,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new pe(this),this.idTokenSubscription=new pe(this),this.beforeStateQueue=new Gi(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ae,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=h.name,this.clientVersion=j.sdkClientVersion}_initializeWithPersistence(h,p){var C=this;return p&&(this._popupRedirectResolver=G(p)),this._initializationPromise=this.queue((0,Z.A)(function*(){var j,Y;if(!C._deleted&&(C.persistenceManager=yield we.create(C,h),!C._deleted)){if(null!==(j=C._popupRedirectResolver)&&void 0!==j&&j._shouldInitProactively)try{yield C._popupRedirectResolver._initialize(C)}catch{}yield C.initializeCurrentUser(p),C.lastNotifiedUid=(null===(Y=C.currentUser)||void 0===Y?void 0:Y.uid)||null,!C._deleted&&(C._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var h=this;return(0,Z.A)(function*(){if(h._deleted)return;const p=yield h.assertedPersistence.getCurrentUser();if(h.currentUser||p){if(h.currentUser&&p&&h.currentUser.uid===p.uid)return h._currentUser._assign(p),void(yield h.currentUser.getIdToken());yield h._updateCurrentUser(p,!0)}})()}initializeCurrentUser(h){var p=this;return(0,Z.A)(function*(){var C;const j=yield p.assertedPersistence.getCurrentUser();let Y=j,Ee=!1;if(h&&p.config.authDomain){yield p.getOrInitRedirectPersistenceManager();const ze=null===(C=p.redirectUser)||void 0===C?void 0:C._redirectEventId,_t=Y?._redirectEventId,Gt=yield p.tryRedirectSignIn(h);(!ze||ze===_t)&&Gt?.user&&(Y=Gt.user,Ee=!0)}if(!Y)return p.directlySetCurrentUser(null);if(!Y._redirectEventId){if(Ee)try{yield p.beforeStateQueue.runMiddleware(Y)}catch(ze){Y=j,p._popupRedirectResolver._overrideRedirectResult(p,()=>Promise.reject(ze))}return Y?p.reloadAndSetCurrentUserOrClear(Y):p.directlySetCurrentUser(null)}return lt(p._popupRedirectResolver,p,"argument-error"),yield p.getOrInitRedirectPersistenceManager(),p.redirectUser&&p.redirectUser._redirectEventId===Y._redirectEventId?p.directlySetCurrentUser(Y):p.reloadAndSetCurrentUserOrClear(Y)})()}tryRedirectSignIn(h){var p=this;return(0,Z.A)(function*(){let C=null;try{C=yield p._popupRedirectResolver._completeRedirectFn(p,h,!0)}catch{yield p._setRedirectUser(null)}return C})()}reloadAndSetCurrentUserOrClear(h){var p=this;return(0,Z.A)(function*(){try{yield Nr(h)}catch(C){if("auth/network-request-failed"!==C?.code)return p.directlySetCurrentUser(null)}return p.directlySetCurrentUser(h)})()}useDeviceLanguage(){this.languageCode=function Oe(){if(typeof navigator>"u")return null;const D=navigator;return D.languages&&D.languages[0]||D.language||null}()}_delete(){var h=this;return(0,Z.A)(function*(){h._deleted=!0})()}updateCurrentUser(h){var p=this;return(0,Z.A)(function*(){const C=h?(0,ee.Ku)(h):null;return C&&lt(C.auth.config.apiKey===p.config.apiKey,p,"invalid-user-token"),p._updateCurrentUser(C&&C._clone(p))})()}_updateCurrentUser(h){var p=this;return(0,Z.A)(function*(C,j=!1){if(!p._deleted)return C&&lt(p.tenantId===C.tenantId,p,"tenant-id-mismatch"),j||(yield p.beforeStateQueue.runMiddleware(C)),p.queue((0,Z.A)(function*(){yield p.directlySetCurrentUser(C),p.notifyAuthListeners()}))}).apply(this,arguments)}signOut(){var h=this;return(0,Z.A)(function*(){return yield h.beforeStateQueue.runMiddleware(null),(h.redirectPersistenceManager||h._popupRedirectResolver)&&(yield h._setRedirectUser(null)),h._updateCurrentUser(null,!0)})()}setPersistence(h){var p=this;return this.queue((0,Z.A)(function*(){yield p.assertedPersistence.setPersistence(G(h))}))}initializeRecaptchaConfig(){var h=this;return(0,Z.A)(function*(){const p=yield Xn(h,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),C=new Qi(p);null==h.tenantId?h._agentRecaptchaConfig=C:h._tenantRecaptchaConfigs[h.tenantId]=C,C.emailPasswordEnabled&&new ei(h).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(h){this._errorFactory=new ee.FA("auth","Firebase",h())}onAuthStateChanged(h,p,C){return this.registerStateListener(this.authStateSubscription,h,p,C)}beforeAuthStateChanged(h,p){return this.beforeStateQueue.pushCallback(h,p)}onIdTokenChanged(h,p,C){return this.registerStateListener(this.idTokenSubscription,h,p,C)}toJSON(){var h;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(h=this._currentUser)||void 0===h?void 0:h.toJSON()}}_setRedirectUser(h,p){var C=this;return(0,Z.A)(function*(){const j=yield C.getOrInitRedirectPersistenceManager(p);return null===h?j.removeCurrentUser():j.setCurrentUser(h)})()}getOrInitRedirectPersistenceManager(h){var p=this;return(0,Z.A)(function*(){if(!p.redirectPersistenceManager){const C=h&&G(h)||p._popupRedirectResolver;lt(C,p,"argument-error"),p.redirectPersistenceManager=yield we.create(p,[G(C._redirectPersistence)],"redirectUser"),p.redirectUser=yield p.redirectPersistenceManager.getCurrentUser()}return p.redirectPersistenceManager})()}_redirectUserForId(h){var p=this;return(0,Z.A)(function*(){var C,j;return p._isInitialized&&(yield p.queue((0,Z.A)(function*(){}))),(null===(C=p._currentUser)||void 0===C?void 0:C._redirectEventId)===h?p._currentUser:(null===(j=p.redirectUser)||void 0===j?void 0:j._redirectEventId)===h?p.redirectUser:null})()}_persistUserIfCurrent(h){var p=this;return(0,Z.A)(function*(){if(h===p.currentUser)return p.queue((0,Z.A)(function*(){return p.directlySetCurrentUser(h)}))})()}_notifyListenersIfCurrent(h){h===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var h,p;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const C=null!==(p=null===(h=this.currentUser)||void 0===h?void 0:h.uid)&&void 0!==p?p:null;this.lastNotifiedUid!==C&&(this.lastNotifiedUid=C,this.authStateSubscription.next(this.currentUser))}registerStateListener(h,p,C,j){if(this._deleted)return()=>{};const Y="function"==typeof p?p:p.next.bind(p),Ee=this._isInitialized?Promise.resolve():this._initializationPromise;return lt(Ee,this,"internal-error"),Ee.then(()=>Y(this.currentUser)),"function"==typeof p?h.addObserver(p,C,j):h.addObserver(p)}directlySetCurrentUser(h){var p=this;return(0,Z.A)(function*(){p.currentUser&&p.currentUser!==h&&p._currentUser._stopProactiveRefresh(),h&&p.isProactiveRefreshEnabled&&h._startProactiveRefresh(),p.currentUser=h,h?yield p.assertedPersistence.setCurrentUser(h):yield p.assertedPersistence.removeCurrentUser()})()}queue(h){return this.operations=this.operations.then(h,h),this.operations}get assertedPersistence(){return lt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(h){!h||this.frameworks.includes(h)||(this.frameworks.push(h),this.frameworks.sort(),this.clientVersion=Wt(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var h=this;return(0,Z.A)(function*(){var p;const C={"X-Client-Version":h.clientVersion};h.app.options.appId&&(C["X-Firebase-gmpid"]=h.app.options.appId);const j=yield null===(p=h.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===p?void 0:p.getHeartbeatsHeader();j&&(C["X-Firebase-Client"]=j);const Y=yield h._getAppCheckToken();return Y&&(C["X-Firebase-AppCheck"]=Y),C})()}_getAppCheckToken(){var h=this;return(0,Z.A)(function*(){var p;const C=yield null===(p=h.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===p?void 0:p.getToken();return C?.error&&function He(D,...h){Ue.logLevel<=ie.$b.WARN&&Ue.warn(`Auth (${xe.MF}): ${D}`,...h)}(`Error while retrieving App Check token: ${C.error}`),C?.token})()}}function ge(D){return(0,ee.Ku)(D)}class pe{constructor(h){this.auth=h,this.observer=null,this.addObserver=(0,ee.tD)(p=>this.observer=p)}get next(){return lt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function tn(D){const h=D.indexOf(":");return h<0?"":D.substr(0,h+1)}function kn(D){if(!D)return null;const h=Number(D);return isNaN(h)?null:h}class Xi{constructor(h,p){this.providerId=h,this.signInMethod=p}toJSON(){return Pn("not implemented")}_getIdTokenResponse(h){return Pn("not implemented")}_linkToIdToken(h,p){return Pn("not implemented")}_getReauthenticationResolver(h){return Pn("not implemented")}}function ti(D,h){return bo.apply(this,arguments)}function bo(){return(bo=(0,Z.A)(function*(D,h){return Kt(D,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function ks(D,h){return So.apply(this,arguments)}function So(){return(So=(0,Z.A)(function*(D,h){return Sn(D,"POST","/v1/accounts:signInWithPassword",Dt(D,h))})).apply(this,arguments)}function bi(){return(bi=(0,Z.A)(function*(D,h){return Sn(D,"POST","/v1/accounts:signInWithEmailLink",Dt(D,h))})).apply(this,arguments)}function cr(){return(cr=(0,Z.A)(function*(D,h){return Sn(D,"POST","/v1/accounts:signInWithEmailLink",Dt(D,h))})).apply(this,arguments)}class Tt extends Xi{constructor(h,p,C,j=null){super("password",C),this._email=h,this._password=p,this._tenantId=j}static _fromEmailAndPassword(h,p){return new Tt(h,p,"password")}static _fromEmailAndCode(h,p,C=null){return new Tt(h,p,"emailLink",C)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(h){const p="string"==typeof h?JSON.parse(h):h;if(p?.email&&p?.password){if("password"===p.signInMethod)return this._fromEmailAndPassword(p.email,p.password);if("emailLink"===p.signInMethod)return this._fromEmailAndCode(p.email,p.password,p.tenantId)}return null}_getIdTokenResponse(h){var p=this;return(0,Z.A)(function*(){var C;switch(p.signInMethod){case"password":const j={returnSecureToken:!0,email:p._email,password:p._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(C=h._getRecaptchaConfig())&&void 0!==C&&C.emailPasswordEnabled){const Y=yield Es(h,j,"signInWithPassword");return ks(h,Y)}return ks(h,j).catch(function(){var Y=(0,Z.A)(function*(Ee){if("auth/missing-recaptcha-token"===Ee.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const ze=yield Es(h,j,"signInWithPassword");return ks(h,ze)}return Promise.reject(Ee)});return function(Ee){return Y.apply(this,arguments)}}());case"emailLink":return function ca(D,h){return bi.apply(this,arguments)}(h,{email:p._email,oobCode:p._password});default:ct(h,"internal-error")}})()}_linkToIdToken(h,p){var C=this;return(0,Z.A)(function*(){switch(C.signInMethod){case"password":return ti(h,{idToken:p,returnSecureToken:!0,email:C._email,password:C._password});case"emailLink":return function ws(D,h){return cr.apply(this,arguments)}(h,{idToken:p,email:C._email,oobCode:C._password});default:ct(h,"internal-error")}})()}_getReauthenticationResolver(h){return this._getIdTokenResponse(h)}}function nn(D,h){return rn.apply(this,arguments)}function rn(){return(rn=(0,Z.A)(function*(D,h){return Sn(D,"POST","/v1/accounts:signInWithIdp",Dt(D,h))})).apply(this,arguments)}class mi{constructor(h){var p,C,j,Y,Ee,ze;const _t=(0,ee.I9)((0,ee.hp)(h)),Gt=null!==(p=_t.apiKey)&&void 0!==p?p:null,_n=null!==(C=_t.oobCode)&&void 0!==C?C:null,Mn=function Mo(D){switch(D){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(j=_t.mode)&&void 0!==j?j:null);lt(Gt&&_n&&Mn,"argument-error"),this.apiKey=Gt,this.operation=Mn,this.code=_n,this.continueUrl=null!==(Y=_t.continueUrl)&&void 0!==Y?Y:null,this.languageCode=null!==(Ee=_t.languageCode)&&void 0!==Ee?Ee:null,this.tenantId=null!==(ze=_t.tenantId)&&void 0!==ze?ze:null}static parseLink(h){const p=function qs(D){const h=(0,ee.I9)((0,ee.hp)(D)).link,p=h?(0,ee.I9)((0,ee.hp)(h)).deep_link_id:null,C=(0,ee.I9)((0,ee.hp)(D)).deep_link_id;return(C?(0,ee.I9)((0,ee.hp)(C)).link:null)||C||p||h||D}(h);try{return new mi(p)}catch{return null}}}let la=(()=>{class D{constructor(){this.providerId=D.PROVIDER_ID}static credential(p,C){return Tt._fromEmailAndPassword(p,C)}static credentialWithLink(p,C){const j=mi.parseLink(C);return lt(j,"argument-error"),Tt._fromEmailAndCode(p,j.code,j.tenantId)}}return D.PROVIDER_ID="password",D.EMAIL_PASSWORD_SIGN_IN_METHOD="password",D.EMAIL_LINK_SIGN_IN_METHOD="emailLink",D})();class di{constructor(h){this.providerId=h,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(h){this.defaultLanguageCode=h}setCustomParameters(h){return this.customParameters=h,this}getCustomParameters(){return this.customParameters}}class ro extends di{constructor(){super(...arguments),this.scopes=[]}addScope(h){return this.scopes.includes(h)||this.scopes.push(h),this}getScopes(){return[...this.scopes]}}class Ki{constructor(h){this.user=h.user,this.providerId=h.providerId,this._tokenResponse=h._tokenResponse,this.operationType=h.operationType}static _fromIdTokenResponse(h,p,C){return(0,Z.A)(function*(j,Y,Ee,ze=!1){const _t=yield Ir._fromIdTokenResponse(j,Ee,ze),Gt=fr(Ee);return new Ki({user:_t,providerId:Gt,_tokenResponse:Ee,operationType:Y})}).apply(this,arguments)}static _forOperation(h,p,C){return(0,Z.A)(function*(){yield h._updateTokensIfNecessary(C,!0);const j=fr(C);return new Ki({user:h,providerId:j,_tokenResponse:C,operationType:p})})()}}function fr(D){return D.providerId?D.providerId:"phoneNumber"in D?"phone":null}class Tr extends ee.g{constructor(h,p,C,j){var Y;super(p.code,p.message),this.operationType=C,this.user=j,Object.setPrototypeOf(this,Tr.prototype),this.customData={appName:h.name,tenantId:null!==(Y=h.tenantId)&&void 0!==Y?Y:void 0,_serverResponse:p.customData._serverResponse,operationType:C}}static _fromErrorAndOperation(h,p,C,j){return new Tr(h,p,C,j)}}function Ds(D,h,p,C){return("reauthenticate"===h?p._getReauthenticationResolver(D):p._getIdTokenResponse(D)).catch(Y=>{throw"auth/multi-factor-auth-required"===Y.code?Tr._fromErrorAndOperation(D,Y,h,C):Y})}function mo(){return(mo=(0,Z.A)(function*(D,h,p=!1){const C=yield yn(D,h._linkToIdToken(D.auth,yield D.getIdToken()),p);return Ki._forOperation(D,"link",C)})).apply(this,arguments)}function Qo(){return(Qo=(0,Z.A)(function*(D,h,p=!1){const{auth:C}=D,j="reauthenticate";try{const Y=yield yn(D,Ds(C,j,h,D),p);lt(Y.idToken,C,"internal-error");const Ee=In(Y.idToken);lt(Ee,C,"internal-error");const{sub:ze}=Ee;return lt(D.uid===ze,C,"user-mismatch"),Ki._forOperation(D,j,Y)}catch(Y){throw"auth/user-not-found"===Y?.code&&ct(C,"user-mismatch"),Y}})).apply(this,arguments)}function Ji(D,h){return lr.apply(this,arguments)}function lr(){return(lr=(0,Z.A)(function*(D,h,p=!1){const C="signIn",j=yield Ds(D,C,h),Y=yield Ki._fromIdTokenResponse(D,C,j);return p||(yield D._updateCurrentUser(Y.user)),Y})).apply(this,arguments)}function Na(){return(Na=(0,Z.A)(function*(D,h){return Ji(ge(D),h)})).apply(this,arguments)}function fi(D,h,p){return function Ts(D,h){return Na.apply(this,arguments)}((0,ee.Ku)(D),la.credential(h,p))}function si(D){return(0,ee.Ku)(D).signOut()}const wt="__sak";class Ie{constructor(h,p){this.storageRetriever=h,this.type=p}_isAvailable(){try{return this.storage?(this.storage.setItem(wt,"1"),this.storage.removeItem(wt),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(h,p){return this.storage.setItem(h,JSON.stringify(p)),Promise.resolve()}_get(h){const p=this.storage.getItem(h);return Promise.resolve(p?JSON.parse(p):null)}_remove(h){return this.storage.removeItem(h),Promise.resolve()}get storage(){return this.storageRetriever()}}const Oa=(()=>{class D extends Ie{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(p,C)=>this.onStorageEvent(p,C),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function st(){const D=(0,ee.ZQ)();return Vt(D)||zr(D)}()&&function Lt(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=at(),this._shouldAllowMigration=!0}forAllChangedKeys(p){for(const C of Object.keys(this.listeners)){const j=this.storage.getItem(C),Y=this.localCache[C];j!==Y&&p(C,Y,j)}}onStorageEvent(p,C=!1){if(!p.key)return void this.forAllChangedKeys((ze,_t,Gt)=>{this.notifyListeners(ze,Gt)});const j=p.key;if(C?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ze=this.storage.getItem(j);if(p.newValue!==ze)null!==p.newValue?this.storage.setItem(j,p.newValue):this.storage.removeItem(j);else if(this.localCache[j]===p.newValue&&!C)return}const Y=()=>{const ze=this.storage.getItem(j);!C&&this.localCache[j]===ze||this.notifyListeners(j,ze)},Ee=this.storage.getItem(j);!function Ce(){return(0,ee.lT)()&&10===document.documentMode}()||Ee===p.newValue||p.newValue===p.oldValue?Y():setTimeout(Y,10)}notifyListeners(p,C){this.localCache[p]=C;const j=this.listeners[p];if(j)for(const Y of Array.from(j))Y(C&&JSON.parse(C))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((p,C,j)=>{this.onStorageEvent(new StorageEvent("storage",{key:p,oldValue:C,newValue:j}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(p,C){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[p]||(this.listeners[p]=new Set,this.localCache[p]=this.storage.getItem(p)),this.listeners[p].add(C)}_removeListener(p,C){this.listeners[p]&&(this.listeners[p].delete(C),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(p,C){var j=()=>super._set,Y=this;return(0,Z.A)(function*(){yield j().call(Y,p,C),Y.localCache[p]=JSON.stringify(C)})()}_get(p){var C=()=>super._get,j=this;return(0,Z.A)(function*(){const Y=yield C().call(j,p);return j.localCache[p]=JSON.stringify(Y),Y})()}_remove(p){var C=()=>super._remove,j=this;return(0,Z.A)(function*(){yield C().call(j,p),delete j.localCache[p]})()}}return D.type="LOCAL",D})(),Kc=(()=>{class D extends Ie{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(p,C){}_removeListener(p,C){}}return D.type="SESSION",D})();let uo=(()=>{class D{constructor(p){this.eventTarget=p,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(p){const C=this.receivers.find(Y=>Y.isListeningto(p));if(C)return C;const j=new D(p);return this.receivers.push(j),j}isListeningto(p){return this.eventTarget===p}handleEvent(p){var C=this;return(0,Z.A)(function*(){const j=p,{eventId:Y,eventType:Ee,data:ze}=j.data,_t=C.handlersMap[Ee];if(!_t?.size)return;j.ports[0].postMessage({status:"ack",eventId:Y,eventType:Ee});const Gt=Array.from(_t).map(function(){var Mn=(0,Z.A)(function*(xr){return xr(j.origin,ze)});return function(xr){return Mn.apply(this,arguments)}}()),_n=yield function Pa(D){return Promise.all(D.map(function(){var h=(0,Z.A)(function*(p){try{return{fulfilled:!0,value:yield p}}catch(C){return{fulfilled:!1,reason:C}}});return function(p){return h.apply(this,arguments)}}()))}(Gt);j.ports[0].postMessage({status:"done",eventId:Y,eventType:Ee,response:_n})})()}_subscribe(p,C){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[p]||(this.handlersMap[p]=new Set),this.handlersMap[p].add(C)}_unsubscribe(p,C){this.handlersMap[p]&&C&&this.handlersMap[p].delete(C),(!C||0===this.handlersMap[p].size)&&delete this.handlersMap[p],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return D.receivers=[],D})();function Su(D="",h=10){let p="";for(let C=0;C<h;C++)p+=Math.floor(10*Math.random());return D+p}class Tn{constructor(h){this.target=h,this.handlers=new Set}removeMessageHandler(h){h.messageChannel&&(h.messageChannel.port1.removeEventListener("message",h.onMessage),h.messageChannel.port1.close()),this.handlers.delete(h)}_send(h,p){var C=this;return(0,Z.A)(function*(j,Y,Ee=50){const ze=typeof MessageChannel<"u"?new MessageChannel:null;if(!ze)throw new Error("connection_unavailable");let _t,Gt;return new Promise((_n,Mn)=>{const xr=Su("",20);ze.port1.start();const To=setTimeout(()=>{Mn(new Error("unsupported_event"))},Ee);Gt={messageChannel:ze,onMessage(Ua){const wa=Ua;if(wa.data.eventId===xr)switch(wa.data.status){case"ack":clearTimeout(To),_t=setTimeout(()=>{Mn(new Error("timeout"))},3e3);break;case"done":clearTimeout(_t),_n(wa.data.response);break;default:clearTimeout(To),clearTimeout(_t),Mn(new Error("invalid_response"))}}},C.handlers.add(Gt),ze.port1.addEventListener("message",Gt.onMessage),C.target.postMessage({eventType:j,eventId:xr,data:Y},[ze.port2])}).finally(()=>{Gt&&C.removeMessageHandler(Gt)})}).apply(this,arguments)}}function Fi(){return window}function Qt(){return typeof Fi().WorkerGlobalScope<"u"&&"function"==typeof Fi().importScripts}function Ui(){return(Ui=(0,Z.A)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const za="firebaseLocalStorageDb",uu="firebaseLocalStorage",Ai="fbase_key";class Nt{constructor(h){this.request=h}toPromise(){return new Promise((h,p)=>{this.request.addEventListener("success",()=>{h(this.request.result)}),this.request.addEventListener("error",()=>{p(this.request.error)})})}}function ut(D,h){return D.transaction([uu],h?"readwrite":"readonly").objectStore(uu)}function ko(){const D=indexedDB.open(za,1);return new Promise((h,p)=>{D.addEventListener("error",()=>{p(D.error)}),D.addEventListener("upgradeneeded",()=>{const C=D.result;try{C.createObjectStore(uu,{keyPath:Ai})}catch(j){p(j)}}),D.addEventListener("success",(0,Z.A)(function*(){const C=D.result;C.objectStoreNames.contains(uu)?h(C):(C.close(),yield function qn(){const D=indexedDB.deleteDatabase(za);return new Nt(D).toPromise()}(),h(yield ko()))}))})}function cu(D,h,p){return _i.apply(this,arguments)}function _i(){return(_i=(0,Z.A)(function*(D,h,p){const C=ut(D,!0).put({[Ai]:h,value:p});return new Nt(C).toPromise()})).apply(this,arguments)}function co(){return(co=(0,Z.A)(function*(D,h){const p=ut(D,!1).get(h),C=yield new Nt(p).toPromise();return void 0===C?null:C.value})).apply(this,arguments)}function Zs(D,h){const p=ut(D,!0).delete(h);return new Nt(p).toPromise()}const Au=(()=>{class D{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var p=this;return(0,Z.A)(function*(){return p.db||(p.db=yield ko()),p.db})()}_withRetries(p){var C=this;return(0,Z.A)(function*(){let j=0;for(;;)try{const Y=yield C._openDb();return yield p(Y)}catch(Y){if(j++>3)throw Y;C.db&&(C.db.close(),C.db=void 0)}})()}initializeServiceWorkerMessaging(){var p=this;return(0,Z.A)(function*(){return Qt()?p.initializeReceiver():p.initializeSender()})()}initializeReceiver(){var p=this;return(0,Z.A)(function*(){p.receiver=uo._getInstance(function Zt(){return Qt()?self:null}()),p.receiver._subscribe("keyChanged",function(){var C=(0,Z.A)(function*(j,Y){return{keyProcessed:(yield p._poll()).includes(Y.key)}});return function(j,Y){return C.apply(this,arguments)}}()),p.receiver._subscribe("ping",function(){var C=(0,Z.A)(function*(j,Y){return["keyChanged"]});return function(j,Y){return C.apply(this,arguments)}}())})()}initializeSender(){var p=this;return(0,Z.A)(function*(){var C,j;if(p.activeServiceWorker=yield function pa(){return Ui.apply(this,arguments)}(),!p.activeServiceWorker)return;p.sender=new Tn(p.activeServiceWorker);const Y=yield p.sender._send("ping",{},800);Y&&null!==(C=Y[0])&&void 0!==C&&C.fulfilled&&null!==(j=Y[0])&&void 0!==j&&j.value.includes("keyChanged")&&(p.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(p){var C=this;return(0,Z.A)(function*(){if(C.sender&&C.activeServiceWorker&&function ai(){var D;return(null===(D=navigator?.serviceWorker)||void 0===D?void 0:D.controller)||null}()===C.activeServiceWorker)try{yield C.sender._send("keyChanged",{key:p},C.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,Z.A)(function*(){try{if(!indexedDB)return!1;const p=yield ko();return yield cu(p,wt,"1"),yield Zs(p,wt),!0}catch{}return!1})()}_withPendingWrite(p){var C=this;return(0,Z.A)(function*(){C.pendingWrites++;try{yield p()}finally{C.pendingWrites--}})()}_set(p,C){var j=this;return(0,Z.A)(function*(){return j._withPendingWrite((0,Z.A)(function*(){return yield j._withRetries(Y=>cu(Y,p,C)),j.localCache[p]=C,j.notifyServiceWorker(p)}))})()}_get(p){var C=this;return(0,Z.A)(function*(){const j=yield C._withRetries(Y=>function ic(D,h){return co.apply(this,arguments)}(Y,p));return C.localCache[p]=j,j})()}_remove(p){var C=this;return(0,Z.A)(function*(){return C._withPendingWrite((0,Z.A)(function*(){return yield C._withRetries(j=>Zs(j,p)),delete C.localCache[p],C.notifyServiceWorker(p)}))})()}_poll(){var p=this;return(0,Z.A)(function*(){const C=yield p._withRetries(Ee=>{const ze=ut(Ee,!1).getAll();return new Nt(ze).toPromise()});if(!C)return[];if(0!==p.pendingWrites)return[];const j=[],Y=new Set;for(const{fbase_key:Ee,value:ze}of C)Y.add(Ee),JSON.stringify(p.localCache[Ee])!==JSON.stringify(ze)&&(p.notifyListeners(Ee,ze),j.push(Ee));for(const Ee of Object.keys(p.localCache))p.localCache[Ee]&&!Y.has(Ee)&&(p.notifyListeners(Ee,null),j.push(Ee));return j})()}notifyListeners(p,C){this.localCache[p]=C;const j=this.listeners[p];if(j)for(const Y of Array.from(j))Y(C)}startPolling(){var p=this;this.stopPolling(),this.pollTimer=setInterval((0,Z.A)(function*(){return p._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(p,C){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[p]||(this.listeners[p]=new Set,this._get(p)),this.listeners[p].add(C)}_removeListener(p,C){this.listeners[p]&&(this.listeners[p].delete(C),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return D.type="LOCAL",D})();Pi("rcb"),new Be(3e4,6e4);class Mu extends Xi{constructor(h){super("custom","custom"),this.params=h}_getIdTokenResponse(h){return nn(h,this._buildIdpRequest())}_linkToIdToken(h,p){return nn(h,this._buildIdpRequest(p))}_getReauthenticationResolver(h){return nn(h,this._buildIdpRequest())}_buildIdpRequest(h){const p={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return h&&(p.idToken=h),p}}function Nu(D){return Ji(D.auth,new Mu(D),D.bypassAuthState)}function ys(D){const{auth:h,user:p}=D;return lt(p,h,"internal-error"),function da(D,h){return Qo.apply(this,arguments)}(p,new Mu(D),D.bypassAuthState)}function Qc(D){return Ru.apply(this,arguments)}function Ru(){return(Ru=(0,Z.A)(function*(D){const{auth:h,user:p}=D;return lt(p,h,"internal-error"),function Ma(D,h){return mo.apply(this,arguments)}(p,new Mu(D),D.bypassAuthState)})).apply(this,arguments)}class ac{constructor(h,p,C,j,Y=!1){this.auth=h,this.resolver=C,this.user=j,this.bypassAuthState=Y,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(p)?p:[p]}execute(){var h=this;return new Promise(function(){var p=(0,Z.A)(function*(C,j){h.pendingPromise={resolve:C,reject:j};try{h.eventManager=yield h.resolver._initialize(h.auth),yield h.onExecution(),h.eventManager.registerConsumer(h)}catch(Y){h.reject(Y)}});return function(C,j){return p.apply(this,arguments)}}())}onAuthEvent(h){var p=this;return(0,Z.A)(function*(){const{urlResponse:C,sessionId:j,postBody:Y,tenantId:Ee,error:ze,type:_t}=h;if(ze)return void p.reject(ze);const Gt={auth:p.auth,requestUri:C,sessionId:j,tenantId:Ee||void 0,postBody:Y||void 0,user:p.user,bypassAuthState:p.bypassAuthState};try{p.resolve(yield p.getIdpTask(_t)(Gt))}catch(_n){p.reject(_n)}})()}onError(h){this.reject(h)}getIdpTask(h){switch(h){case"signInViaPopup":case"signInViaRedirect":return Nu;case"linkViaPopup":case"linkViaRedirect":return Qc;case"reauthViaPopup":case"reauthViaRedirect":return ys;default:ct(this.auth,"internal-error")}}resolve(h){Qn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(h),this.unregisterAndCleanUp()}reject(h){Qn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(h),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}new Be(2e3,1e4);const Pd="pendingRedirect",Ri=new Map;class kh extends ac{constructor(h,p,C=!1){super(h,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],p,void 0,C),this.eventId=null}execute(){var h=()=>super.execute,p=this;return(0,Z.A)(function*(){let C=Ri.get(p.auth._key());if(!C){try{const Y=(yield function Ka(D,h){return cc.apply(this,arguments)}(p.resolver,p.auth))?yield h().call(p):null;C=()=>Promise.resolve(Y)}catch(j){C=()=>Promise.reject(j)}Ri.set(p.auth._key(),C)}return p.bypassAuthState||Ri.set(p.auth._key(),()=>Promise.resolve(null)),C()})()}onAuthEvent(h){var p=()=>super.onAuthEvent,C=this;return(0,Z.A)(function*(){if("signInViaRedirect"===h.type)return p().call(C,h);if("unknown"!==h.type){if(h.eventId){const j=yield C.auth._redirectUserForId(h.eventId);if(j)return C.user=j,p().call(C,h);C.resolve(null)}}else C.resolve(null)})()}onExecution(){return(0,Z.A)(function*(){})()}cleanUp(){}}function cc(){return(cc=(0,Z.A)(function*(D,h){const p=function Fo(D){return W(Pd,D.config.apiKey,D.name)}(h),C=function Yc(D){return G(D._redirectPersistence)}(D);if(!(yield C._isAvailable()))return!1;const j="true"===(yield C._get(p));return yield C._remove(p),j})).apply(this,arguments)}function Vr(D,h){Ri.set(D._key(),h)}function qa(D,h){return ho.apply(this,arguments)}function ho(){return(ho=(0,Z.A)(function*(D,h,p=!1){const C=ge(D),j=function Lo(D,h){return h?G(h):(lt(D._popupRedirectResolver,D,"argument-error"),D._popupRedirectResolver)}(C,h),Ee=yield new kh(C,j,p).execute();return Ee&&!p&&(delete Ee.user._redirectEventId,yield C._persistUserIfCurrent(Ee.user),yield C._setRedirectUser(null,h)),Ee})).apply(this,arguments)}class fo{constructor(h){this.auth=h,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(h){this.consumers.add(h),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,h)&&(this.sendToConsumer(this.queuedRedirectEvent,h),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(h){this.consumers.delete(h)}onEvent(h){if(this.hasEventBeenHandled(h))return!1;let p=!1;return this.consumers.forEach(C=>{this.isEventForConsumer(h,C)&&(p=!0,this.sendToConsumer(h,C),this.saveEventToCache(h))}),this.hasHandledPotentialRedirect||!function lc(D){switch(D.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ka(D);default:return!1}}(h)||(this.hasHandledPotentialRedirect=!0,p||(this.queuedRedirectEvent=h,p=!0)),p}sendToConsumer(h,p){var C;if(h.error&&!ka(h)){const j=(null===(C=h.error.code)||void 0===C?void 0:C.split("auth/")[1])||"internal-error";p.onError(Jt(this.auth,j))}else p.onAuthEvent(h)}isEventForConsumer(h,p){const C=null===p.eventId||!!h.eventId&&h.eventId===p.eventId;return p.filter.includes(h.type)&&C}hasEventBeenHandled(h){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(hu(h))}saveEventToCache(h){this.cachedEventUids.add(hu(h)),this.lastProcessedEventTime=Date.now()}}function hu(D){return[D.type,D.eventId,D.sessionId,D.tenantId].filter(h=>h).join("-")}function ka({type:D,error:h}){return"unknown"===D&&"auth/no-auth-event"===h?.code}function Fu(){return(Fu=(0,Z.A)(function*(D,h={}){return Kt(D,"GET","/v1/projects",h)})).apply(this,arguments)}const ia=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,va=/^https?/;function Xa(){return Xa=(0,Z.A)(function*(D){if(D.config.emulator)return;const{authorizedDomains:h}=yield function Io(D){return Fu.apply(this,arguments)}(D);for(const p of h)try{if(Vi(p))return}catch{}ct(D,"unauthorized-domain")}),Xa.apply(this,arguments)}function Vi(D){const h=Cr(),{protocol:p,hostname:C}=new URL(h);if(D.startsWith("chrome-extension://")){const Ee=new URL(D);return""===Ee.hostname&&""===C?"chrome-extension:"===p&&D.replace("chrome-extension://","")===h.replace("chrome-extension://",""):"chrome-extension:"===p&&Ee.hostname===C}if(!va.test(p))return!1;if(ia.test(D))return C===D;const j=D.replace(/\./g,"\\.");return new RegExp("^(.+\\."+j+"|"+j+")$","i").test(C)}const kl=new Be(3e4,6e4);function Do(){const D=Fi().___jsl;if(D?.H)for(const h of Object.keys(D.H))if(D.H[h].r=D.H[h].r||[],D.H[h].L=D.H[h].L||[],D.H[h].r=[...D.H[h].L],D.CP)for(let p=0;p<D.CP.length;p++)D.CP[p]=null}let dc=null;const Zc=new Be(5e3,15e3),Ya="__/auth/iframe",Za="emulator/auth/iframe",I={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},N=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function L(D){const h=D.config;lt(h.authDomain,D,"auth-domain-config-required");const p=h.emulator?ke(h,Za):`https://${D.config.authDomain}/${Ya}`,C={apiKey:h.apiKey,appName:D.name,v:xe.MF},j=N.get(D.config.apiHost);j&&(C.eid=j);const Y=D._getFrameworks();return Y.length&&(C.fw=Y.join(",")),`${p}?${(0,ee.Am)(C).slice(1)}`}function me(){return me=(0,Z.A)(function*(D){const h=yield function Ll(D){return dc=dc||function fu(D){return new Promise((h,p)=>{var C,j,Y;function Ee(){Do(),gapi.load("gapi.iframes",{callback:()=>{h(gapi.iframes.getContext())},ontimeout:()=>{Do(),p(Jt(D,"network-request-failed"))},timeout:kl.get()})}if(null!==(j=null===(C=Fi().gapi)||void 0===C?void 0:C.iframes)&&void 0!==j&&j.Iframe)h(gapi.iframes.getContext());else{if(null===(Y=Fi().gapi)||void 0===Y||!Y.load){const ze=Pi("iframefcb");return Fi()[ze]=()=>{gapi.load?Ee():p(Jt(D,"network-request-failed"))},zi(`https://apis.google.com/js/api.js?onload=${ze}`).catch(_t=>p(_t))}Ee()}}).catch(h=>{throw dc=null,h})}(D),dc}(D),p=Fi().gapi;return lt(p,D,"internal-error"),h.open({where:document.body,url:L(D),messageHandlersFilter:p.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:I,dontclear:!0},C=>new Promise(function(){var j=(0,Z.A)(function*(Y,Ee){yield C.restyle({setHideOnLeave:!1});const ze=Jt(D,"network-request-failed"),_t=Fi().setTimeout(()=>{Ee(ze)},Zc.get());function Gt(){Fi().clearTimeout(_t),Y(C)}C.ping(Gt).then(Gt,()=>{Ee(ze)})});return function(Y,Ee){return j.apply(this,arguments)}}()))}),me.apply(this,arguments)}const De={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Bt{constructor(h){this.window=h,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const is="__/auth/handler",Uu="emulator/auth/handler",xi=encodeURIComponent("fac");function Ja(D,h,p,C,j,Y){return as.apply(this,arguments)}function as(){return(as=(0,Z.A)(function*(D,h,p,C,j,Y){lt(D.config.authDomain,D,"auth-domain-config-required"),lt(D.config.apiKey,D,"invalid-api-key");const Ee={apiKey:D.config.apiKey,appName:D.name,authType:p,redirectUrl:C,v:xe.MF,eventId:j};if(h instanceof di){h.setDefaultLanguage(D.languageCode),Ee.providerId=h.providerId||"",(0,ee.Im)(h.getCustomParameters())||(Ee.customParameters=JSON.stringify(h.getCustomParameters()));for(const[_n,Mn]of Object.entries(Y||{}))Ee[_n]=Mn}if(h instanceof ro){const _n=h.getScopes().filter(Mn=>""!==Mn);_n.length>0&&(Ee.scopes=_n.join(","))}D.tenantId&&(Ee.tid=D.tenantId);const ze=Ee;for(const _n of Object.keys(ze))void 0===ze[_n]&&delete ze[_n];const _t=yield D._getAppCheckToken(),Gt=_t?`#${xi}=${encodeURIComponent(_t)}`:"";return`${function _a({config:D}){return D.emulator?ke(D,Uu):`https://${D.authDomain}/${is}`}(D)}?${(0,ee.Am)(ze).slice(1)}${Gt}`})).apply(this,arguments)}const Hs="webStorageSupport",Lh=class hc{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Kc,this._completeRedirectFn=qa,this._overrideRedirectResult=Vr}_openPopup(h,p,C,j){var Y=this;return(0,Z.A)(function*(){var Ee;Qn(null===(Ee=Y.eventManagers[h._key()])||void 0===Ee?void 0:Ee.manager,"_initialize() not called before _openPopup()");const ze=yield Ja(h,p,C,Cr(),j);return function wn(D,h,p,C=500,j=600){const Y=Math.max((window.screen.availHeight-j)/2,0).toString(),Ee=Math.max((window.screen.availWidth-C)/2,0).toString();let ze="";const _t=Object.assign(Object.assign({},De),{width:C.toString(),height:j.toString(),top:Y,left:Ee}),Gt=(0,ee.ZQ)().toLowerCase();p&&(ze=en(Gt)?"_blank":p),St(Gt)&&(h=h||"http://localhost",_t.scrollbars="yes");const _n=Object.entries(_t).reduce((xr,[To,Ua])=>`${xr}${To}=${Ua},`,"");if(function qe(D=(0,ee.ZQ)()){var h;return zr(D)&&!(null===(h=window.navigator)||void 0===h||!h.standalone)}(Gt)&&"_self"!==ze)return function rs(D,h){const p=document.createElement("a");p.href=D,p.target=h;const C=document.createEvent("MouseEvent");C.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),p.dispatchEvent(C)}(h||"",ze),new Bt(null);const Mn=window.open(h||"",ze,_n);lt(Mn,D,"popup-blocked");try{Mn.focus()}catch{}return new Bt(Mn)}(h,ze,Su())})()}_openRedirect(h,p,C,j){var Y=this;return(0,Z.A)(function*(){return yield Y._originValidation(h),function rc(D){Fi().location.href=D}(yield Ja(h,p,C,Cr(),j)),new Promise(()=>{})})()}_initialize(h){const p=h._key();if(this.eventManagers[p]){const{manager:j,promise:Y}=this.eventManagers[p];return j?Promise.resolve(j):(Qn(Y,"If manager is not set, promise should be"),Y)}const C=this.initAndGetManager(h);return this.eventManagers[p]={promise:C},C.catch(()=>{delete this.eventManagers[p]}),C}initAndGetManager(h){var p=this;return(0,Z.A)(function*(){const C=yield function te(D){return me.apply(this,arguments)}(h),j=new fo(h);return C.register("authEvent",Y=>(lt(Y?.authEvent,h,"invalid-auth-event"),{status:j.onEvent(Y.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),p.eventManagers[h._key()]={manager:j},p.iframes[h._key()]=C,j})()}_isIframeWebStorageSupported(h,p){this.iframes[h._key()].send(Hs,{type:Hs},j=>{var Y;const Ee=null===(Y=j?.[0])||void 0===Y?void 0:Y[Hs];void 0!==Ee&&p(!!Ee),ct(h,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(h){const p=h._key();return this.originValidationPromises[p]||(this.originValidationPromises[p]=function Qa(D){return Xa.apply(this,arguments)}(h)),this.originValidationPromises[p]}get _shouldInitProactively(){return at()||Vt()||zr()}};var La="@firebase/auth";class Fd{constructor(h){this.auth=h,this.internalListeners=new Map}getUid(){var h;return this.assertAuthConfigured(),(null===(h=this.auth.currentUser)||void 0===h?void 0:h.uid)||null}getToken(h){var p=this;return(0,Z.A)(function*(){return p.assertAuthConfigured(),yield p.auth._initializationPromise,p.auth.currentUser?{accessToken:yield p.auth.currentUser.getIdToken(h)}:null})()}addAuthTokenListener(h){if(this.assertAuthConfigured(),this.internalListeners.has(h))return;const p=this.auth.onIdTokenChanged(C=>{h(C?.stsTokenManager.accessToken||null)});this.internalListeners.set(h,p),this.updateProactiveRefresh()}removeAuthTokenListener(h){this.assertAuthConfigured();const p=this.internalListeners.get(h);p&&(this.internalListeners.delete(h),p(),this.updateProactiveRefresh())}assertAuthConfigured(){lt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const eu=(0,ee.XA)("authIdTokenMaxAge")||300;let Ud=null;const gc=D=>function(){var h=(0,Z.A)(function*(p){const C=p&&(yield p.getIdTokenResult()),j=C&&((new Date).getTime()-Date.parse(C.issuedAtTime))/1e3;if(j&&j>eu)return;const Y=C?.token;Ud!==Y&&(Ud=Y,yield fetch(D,{method:Y?"POST":"DELETE",headers:Y?{Authorization:`Bearer ${Y}`}:{}}))});return function(p){return h.apply(this,arguments)}}();function Vh(D=(0,xe.Sx)()){const h=(0,xe.j6)(D,"auth");if(h.isInitialized())return h.getImmediate();const p=function Ne(D,h){const p=(0,xe.j6)(D,"auth");if(p.isInitialized()){const j=p.getImmediate(),Y=p.getOptions();if((0,ee.bD)(Y,h??{}))return j;ct(j,"already-initialized")}return p.initialize({options:h})}(D,{popupRedirectResolver:Lh,persistence:[Au,Oa,Kc]}),C=(0,ee.XA)("authTokenSyncURL");if(C){const Y=gc(C);(function cn(D,h,p){(0,ee.Ku)(D).beforeAuthStateChanged(h,p)})(p,Y,()=>Y(p.currentUser)),function gn(D,h,p,C){(0,ee.Ku)(D).onIdTokenChanged(h,p,C)}(p,Ee=>Y(Ee))}const j=(0,ee.Tj)("auth");return j&&function pt(D,h,p){const C=ge(D);lt(C._canInitEmulator,C,"emulator-config-failed"),lt(/^https?:\/\//.test(h),C,"invalid-emulator-scheme");const j=!!p?.disableWarnings,Y=tn(h),{host:Ee,port:ze}=function zn(D){const h=tn(D),p=/(\/\/)?([^?#/]+)/.exec(D.substr(h.length));if(!p)return{host:"",port:null};const C=p[2].split("@").pop()||"",j=/^(\[[^\]]+\])(:|$)/.exec(C);if(j){const Y=j[1];return{host:Y,port:kn(C.substr(Y.length+1))}}{const[Y,Ee]=C.split(":");return{host:Y,port:kn(Ee)}}}(h);C.config.emulator={url:`${Y}//${Ee}${null===ze?"":`:${ze}`}/`},C.settings.appVerificationDisabledForTesting=!0,C.emulatorConfig=Object.freeze({host:Ee,port:ze,protocol:Y.replace(":",""),options:Object.freeze({disableWarnings:j})}),j||function Vn(){function D(){const h=document.createElement("p"),p=h.style;h.innerText="Running in emulator mode. Do not use with production credentials.",p.position="fixed",p.width="100%",p.backgroundColor="#ffffff",p.border=".1em solid #000000",p.color="#b50000",p.bottom="0px",p.left="0px",p.margin="0px",p.zIndex="10000",p.textAlign="center",h.classList.add("firebase-emulator-warning"),document.body.appendChild(h)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",D):D())}()}(p,`http://${j}`),p}!function Fh(D){(0,xe.om)(new ae.uA("auth",(h,{options:p})=>{const C=h.getProvider("app").getImmediate(),j=h.getProvider("heartbeat"),Y=h.getProvider("app-check-internal"),{apiKey:Ee,authDomain:ze}=C.options;lt(Ee&&!Ee.includes(":"),"invalid-api-key",{appName:C.name});const _t={apiKey:Ee,authDomain:ze,clientPlatform:D,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Wt(D)},Gt=new Co(C,j,Y,_t);return function Je(D,h){const p=h?.persistence||[],C=(Array.isArray(p)?p:[p]).map(G);h?.errorMap&&D._updateErrorMap(h.errorMap),D._initializeWithPersistence(C,h?.popupRedirectResolver)}(Gt,p),Gt},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((h,p,C)=>{h.getProvider("auth-internal").initialize()})),(0,xe.om)(new ae.uA("auth-internal",h=>{const p=ge(h.getProvider("auth").getImmediate());return new Fd(p)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,xe.KO)(La,"0.23.2",function Jc(D){switch(D){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(D)),(0,xe.KO)(La,"0.23.2","esm2017")}("Browser");class Fa{constructor(h){return h}}class Fl{constructor(){return(0,M.CA)("auth")}}const zs=new ue.nKC("angularfire2.auth-instances");function Ul(D){return(h,p)=>{const C=h.runOutsideAngular(()=>D(p));return new Fa(C)}}const vc={provide:Fl,deps:[[new ue.Xx1,zs]]},Vl={provide:Fa,useFactory:function yc(D,h){const p=(0,M.lR)("auth",D,h);return p&&new Fa(p)},deps:[[new ue.Xx1,zs],re.XU]};let _c=(()=>{class D{constructor(){(0,ye.KO)("angularfire",M.xv.full,"auth")}}return D.\u0275fac=function(p){return new(p||D)},D.\u0275mod=ue.$C({type:D}),D.\u0275inj=ue.G2t({providers:[Vl,vc]}),D})();function Ec(D,...h){return{ngModule:_c,providers:[{provide:zs,useFactory:Ul(D),multi:!0,deps:[ue.SKi,ue.zZn,M.u0,re.gL,[new ue.Xx1,he.kR],...h]}]}}const $l=(0,M.S3)(Vh,!0),Wl=(0,M.S3)(fi,!0),ru=(0,M.S3)(si,!0)},4724:(jt,We,H)=>{H.d(We,{_7:()=>Md,gS:()=>K_,rJ:()=>Ws,kd:()=>X_,H9:()=>uv,GG:()=>Yg,aU:()=>nE,hV:()=>Wc,P:()=>Zg,mZ:()=>cv,_M:()=>lE});var _e,M=H(3531),ue=H(7705),re=H(9676),ye=H(8934),he=H(7037),Z=H(681),ee=H(467),xe=H(2979),$e=H(8779),ie=H(5398),ae=H(1401),Te=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ge={},ht=ht||{},Ve=Te||self;function Ut(i){var e=typeof i;return"array"==(e="object"!=e?e:i?Array.isArray(i)?"array":e:"null")||"object"==e&&"number"==typeof i.length}function kt(i){var e=typeof i;return"object"==e&&null!=i||"function"==e}var On="closure_uid_"+(1e9*Math.random()>>>0),Ae=0;function ot(i,e,n){return i.call.apply(i.bind,arguments)}function Ue(i,e,n){if(!i)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var u=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(u,o),i.apply(e,u)}}return function(){return i.apply(e,arguments)}}function He(i,e,n){return(He=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ot:Ue).apply(null,arguments)}function ft(i,e){var n=Array.prototype.slice.call(arguments,1);return function(){var o=n.slice();return o.push.apply(o,arguments),i.apply(this,o)}}function ct(i,e){function n(){}n.prototype=e.prototype,i.$=e.prototype,i.prototype=new n,i.prototype.constructor=i,i.ac=function(o,u,l){for(var f=Array(arguments.length-2),T=2;T<arguments.length;T++)f[T-2]=arguments[T];return e.prototype[u].apply(o,f)}}function Jt(){this.s=this.s,this.o=this.o}Jt.prototype.s=!1,Jt.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function bn(i){Object.prototype.hasOwnProperty.call(i,On)&&i[On]||(i[On]=++Ae)}(this)},Jt.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const pn=Array.prototype.indexOf?function(i,e){return Array.prototype.indexOf.call(i,e,void 0)}:function(i,e){if("string"==typeof i)return"string"!=typeof e||1!=e.length?-1:i.indexOf(e,0);for(let n=0;n<i.length;n++)if(n in i&&i[n]===e)return n;return-1};function Br(i){const e=i.length;if(0<e){const n=Array(e);for(let o=0;o<e;o++)n[o]=i[o];return n}return[]}function lt(i,e){for(let n=1;n<arguments.length;n++){const o=arguments[n];if(Ut(o)){const u=i.length||0,l=o.length||0;i.length=u+l;for(let f=0;f<l;f++)i[u+f]=o[f]}else i.push(o)}}function Pn(i,e){this.type=i,this.g=this.target=e,this.defaultPrevented=!1}Pn.prototype.h=function(){this.defaultPrevented=!0};var Qn=function(){if(!Ve.addEventListener||!Object.defineProperty)return!1;var i=!1,e=Object.defineProperty({},"passive",{get:function(){i=!0}});try{Ve.addEventListener("test",()=>{},e),Ve.removeEventListener("test",()=>{},e)}catch{}return i}();function Cr(i){return/^[\s\xa0]*$/.test(i)}function Jr(){var i=Ve.navigator;return i&&(i=i.userAgent)?i:""}function jn(i){return-1!=Jr().indexOf(i)}function Pr(i){return Pr[" "](i),i}Pr[" "]=function(){};var Un,i,Be=jn("Opera"),ke=jn("Trident")||jn("MSIE"),Ke=jn("Edge"),rt=Ke||ke,je=jn("Gecko")&&!(-1!=Jr().toLowerCase().indexOf("webkit")&&!jn("Edge"))&&!(jn("Trident")||jn("MSIE"))&&!jn("Edge"),Dt=-1!=Jr().toLowerCase().indexOf("webkit")&&!jn("Edge");function Kt(){var i=Ve.document;return i?i.documentMode:void 0}e:{var nt="",Nn=(i=Jr(),je?/rv:([^\);]+)(\)|;)/.exec(i):Ke?/Edge\/([\d\.]+)/.exec(i):ke?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):Dt?/WebKit\/(\S+)/.exec(i):Be?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(Nn&&(nt=Nn?Nn[1]:""),ke){var Sn=Kt();if(null!=Sn&&Sn>parseFloat(nt)){Un=String(Sn);break e}}Un=nt}var Er=Ve.document&&ke&&(Kt()||parseInt(Un,10))||void 0;function Rn(i,e){if(Pn.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var n=this.type=i.type,o=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=e,e=i.relatedTarget){if(je){e:{try{Pr(e.nodeName);var u=!0;break e}catch{}u=!1}u||(e=null)}}else"mouseover"==n?e=i.fromElement:"mouseout"==n&&(e=i.toElement);this.relatedTarget=e,o?(this.clientX=void 0!==o.clientX?o.clientX:o.pageX,this.clientY=void 0!==o.clientY?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:qr[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&Rn.$.h.call(this)}}ct(Rn,Pn);var qr={2:"touch",3:"pen",4:"mouse"};Rn.prototype.h=function(){Rn.$.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var er="closure_listenable_"+(1e6*Math.random()|0),kr=0;function pi(i,e,n,o,u){this.listener=i,this.proxy=null,this.src=e,this.type=n,this.capture=!!o,this.la=u,this.key=++kr,this.fa=this.ia=!1}function jr(i){i.fa=!0,i.listener=null,i.proxy=null,i.src=null,i.la=null}function qt(i,e,n){for(const o in i)e.call(n,i[o],o,i)}function hn(i){const e={};for(const n in i)e[n]=i[n];return e}const $n="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Lr(i,e){let n,o;for(let u=1;u<arguments.length;u++){for(n in o=arguments[u],o)i[n]=o[n];for(let l=0;l<$n.length;l++)n=$n[l],Object.prototype.hasOwnProperty.call(o,n)&&(i[n]=o[n])}}function Qr(i){this.src=i,this.g={},this.h=0}function In(i,e){var n=e.type;if(n in i.g){var l,o=i.g[n],u=pn(o,e);(l=0<=u)&&Array.prototype.splice.call(o,u,1),l&&(jr(e),0==i.g[n].length&&(delete i.g[n],i.h--))}}function or(i,e,n,o){for(var u=0;u<i.length;++u){var l=i[u];if(!l.fa&&l.listener==e&&l.capture==!!n&&l.la==o)return u}return-1}Qr.prototype.add=function(i,e,n,o,u){var l=i.toString();(i=this.g[l])||(i=this.g[l]=[],this.h++);var f=or(i,e,o,u);return-1<f?(e=i[f],n||(e.ia=!1)):((e=new pi(e,this.src,l,!!o,u)).ia=n,i.push(e)),e};var yn="closure_lm_"+(1e6*Math.random()|0),Ot={};function Ei(i,e,n,o,u){if(o&&o.once)return Nr(i,e,n,o,u);if(Array.isArray(e)){for(var l=0;l<e.length;l++)Ei(i,e[l],n,o,u);return null}return n=$i(n),i&&i[er]?i.O(e,n,kt(o)?!!o.capture:!!o,u):on(i,e,n,!1,o,u)}function on(i,e,n,o,u,l){if(!e)throw Error("Invalid event type");var f=kt(u)?!!u.capture:!!u,T=Ti(i);if(T||(i[yn]=T=new Qr(i)),(n=T.add(e,n,o,f,l)).proxy)return n;if(o=function wi(){const e=Di;return function i(n){return e.call(i.src,i.listener,n)}}(),n.proxy=o,o.src=i,o.listener=n,i.addEventListener)Qn||(u=f),void 0===u&&(u=!1),i.addEventListener(e.toString(),o,u);else if(i.attachEvent)i.attachEvent(Ii(e.toString()),o);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(o)}return n}function Nr(i,e,n,o,u){if(Array.isArray(e)){for(var l=0;l<e.length;l++)Nr(i,e[l],n,o,u);return null}return n=$i(n),i&&i[er]?i.P(e,n,kt(o)?!!o.capture:!!o,u):on(i,e,n,!0,o,u)}function yr(i,e,n,o,u){if(Array.isArray(e))for(var l=0;l<e.length;l++)yr(i,e[l],n,o,u);else o=kt(o)?!!o.capture:!!o,n=$i(n),i&&i[er]?(i=i.i,(e=String(e).toString())in i.g&&-1<(n=or(l=i.g[e],n,o,u))&&(jr(l[n]),Array.prototype.splice.call(l,n,1),0==l.length&&(delete i.g[e],i.h--))):i&&(i=Ti(i))&&(e=i.g[e.toString()],i=-1,e&&(i=or(e,n,o,u)),(n=-1<i?e[i]:null)&&$r(n))}function $r(i){if("number"!=typeof i&&i&&!i.fa){var e=i.src;if(e&&e[er])In(e.i,i);else{var n=i.type,o=i.proxy;e.removeEventListener?e.removeEventListener(n,o,i.capture):e.detachEvent?e.detachEvent(Ii(n),o):e.addListener&&e.removeListener&&e.removeListener(o),(n=Ti(e))?(In(n,i),0==n.h&&(n.src=null,e[yn]=null)):jr(i)}}}function Ii(i){return i in Ot?Ot[i]:Ot[i]="on"+i}function Di(i,e){if(i.fa)i=!0;else{e=new Rn(e,this);var n=i.listener,o=i.la||i.src;i.ia&&$r(i),i=n.call(o,e)}return i}function Ti(i){return(i=i[yn])instanceof Qr?i:null}var wr="__closure_events_fn_"+(1e9*Math.random()>>>0);function $i(i){return"function"==typeof i?i:(i[wr]||(i[wr]=function(e){return i.handleEvent(e)}),i[wr])}function Hn(){Jt.call(this),this.i=new Qr(this),this.S=this,this.J=null}function xn(i,e){var n,o=i.J;if(o)for(n=[];o;o=o.J)n.push(o);if(i=i.S,o=e.type||e,"string"==typeof e)e=new Pn(e,i);else if(e instanceof Pn)e.target=e.target||i;else{var u=e;Lr(e=new Pn(o,i),u)}if(u=!0,n)for(var l=n.length-1;0<=l;l--){var f=e.g=n[l];u=Ir(f,o,!0,e)&&u}if(u=Ir(f=e.g=i,o,!0,e)&&u,u=Ir(f,o,!1,e)&&u,n)for(l=0;l<n.length;l++)u=Ir(f=e.g=n[l],o,!1,e)&&u}function Ir(i,e,n,o){if(!(e=i.i.g[String(e)]))return!0;e=e.concat();for(var u=!0,l=0;l<e.length;++l){var f=e[l];if(f&&!f.fa&&f.capture==n){var T=f.listener,O=f.la||f.src;f.ia&&In(i.i,f),u=!1!==T.call(O,o)&&u}}return u&&!o.defaultPrevented}ct(Hn,Jt),Hn.prototype[er]=!0,Hn.prototype.removeEventListener=function(i,e,n,o){yr(this,i,e,n,o)},Hn.prototype.N=function(){if(Hn.$.N.call(this),this.i){var e,i=this.i;for(e in i.g){for(var n=i.g[e],o=0;o<n.length;o++)jr(n[o]);delete i.g[e],i.h--}}this.J=null},Hn.prototype.O=function(i,e,n,o){return this.i.add(String(i),e,!1,n,o)},Hn.prototype.P=function(i,e,n,o){return this.i.add(String(i),e,!0,n,o)};var de=Ve.JSON.stringify;function X(){var i=zt;let e=null;return i.g&&(e=i.g,i.g=i.g.next,i.g||(i.h=null),e.next=null),e}var W=new class G{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new we,i=>i.reset());class we{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function tt(i){var e=1;i=i.split(":");const n=[];for(;0<e&&i.length;)n.push(i.shift()),e--;return i.length&&n.push(i.join(":")),n}function St(i){Ve.setTimeout(()=>{throw i},0)}let Vt,en=!1,zt=new class q{constructor(){this.h=this.g=null}add(e,n){const o=W.get();o.set(e,n),this.h?this.h.next=o:this.g=o,this.h=o}},un=()=>{const i=Ve.Promise.resolve(void 0);Vt=()=>{i.then(ar)}};var ar=()=>{for(var i;i=X();){try{i.h.call(i.g)}catch(n){St(n)}var e=W;e.j(i),100>e.h&&(e.h++,i.next=e.g,e.g=i)}en=!1};function Hr(i,e){Hn.call(this),this.h=i||1,this.g=e||Ve,this.j=He(this.qb,this),this.l=Date.now()}function zr(i){i.ga=!1,i.T&&(i.g.clearTimeout(i.T),i.T=null)}function gi(i,e,n){if("function"==typeof i)n&&(i=He(i,n));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=He(i.handleEvent,i)}return 2147483647<Number(e)?-1:Ve.setTimeout(i,e||0)}function qe(i){i.g=gi(()=>{i.g=null,i.i&&(i.i=!1,qe(i))},i.j);const e=i.h;i.h=null,i.m.apply(null,e)}ct(Hr,Hn),(_e=Hr.prototype).ga=!1,_e.T=null,_e.qb=function(){if(this.ga){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-i):(this.T&&(this.g.clearTimeout(this.T),this.T=null),xn(this,"tick"),this.ga&&(zr(this),this.start()))}},_e.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},_e.N=function(){Hr.$.N.call(this),zr(this),delete this.g};class Ce extends Jt{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:qe(this)}N(){super.N(),this.g&&(Ve.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function at(i){Jt.call(this),this.h=i,this.g={}}ct(at,Jt);var Lt=[];function Wt(i,e,n,o){Array.isArray(n)||(n&&(Lt[0]=n.toString()),n=Lt);for(var u=0;u<n.length;u++){var l=Ei(e,n[u],o||i.handleEvent,!1,i.h||i);if(!l)break;i.g[l.key]=l}}function Rt(i){qt(i.g,function(e,n){this.g.hasOwnProperty(n)&&$r(e)},i),i.g={}}function ln(){this.g=!0}function br(i,e,n,o){i.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Qi(i,e){if(!i.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(i=0;i<n.length;i++)if(Array.isArray(n[i])){var o=n[i];if(!(2>o.length)){var u=o[1];if(Array.isArray(u)&&!(1>u.length)){var l=u[0];if("noop"!=l&&"stop"!=l&&"close"!=l)for(var f=1;f<u.length;f++)u[f]=""}}}return de(n)}catch{return e}}(i,n)+(o?" "+o:"")})}at.prototype.N=function(){at.$.N.call(this),Rt(this)},at.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},ln.prototype.Ea=function(){this.g=!1},ln.prototype.info=function(){};var cs={},zi=null;function Pi(){return zi=zi||new Hn}function eo(i){Pn.call(this,cs.Ta,i)}function ls(i){const e=Pi();xn(e,new eo(e))}function _s(i,e){Pn.call(this,cs.STAT_EVENT,i),this.stat=e}function ei(i){const e=Pi();xn(e,new _s(e,i))}function Es(i,e){Pn.call(this,cs.Ua,i),this.size=e}function vr(i,e){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return Ve.setTimeout(function(){i()},e)}cs.Ta="serverreachability",ct(eo,Pn),cs.STAT_EVENT="statevent",ct(_s,Pn),cs.Ua="timingevent",ct(Es,Pn);var Gi={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Co={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function ge(){}function Ne(){}ge.prototype.h=null;var zn,Je={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function pt(){Pn.call(this,"d")}function tn(){Pn.call(this,"c")}function kn(){}function Vn(i,e,n,o){this.l=i,this.j=e,this.m=n,this.W=o||1,this.U=new at(this),this.P=li,this.V=new Hr(i=rt?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Xi}function Xi(){this.i=null,this.g="",this.h=!1}ct(pt,Pn),ct(tn,Pn),ct(kn,ge),kn.prototype.g=function(){return new XMLHttpRequest},kn.prototype.i=function(){return{}},zn=new kn;var li=45e3,Ci={},ti={};function bo(i,e,n){i.L=1,i.v=ri(ws(e)),i.s=n,i.S=!0,Go(i,null)}function Go(i,e){i.G=Date.now(),ds(i),i.A=ws(i.v);var n=i.A,o=i.W;Array.isArray(o)||(o=[String(o)]),qs(n.i,"t",o),i.C=0,n=i.l.J,i.h=new Xi,i.g=_o(i.l,n?e:null,!i.s),0<i.O&&(i.M=new Ce(He(i.Pa,i,i.g),i.O)),Wt(i.U,i.g,"readystatechange",i.nb),e=i.I?hn(i.I):{},i.s?(i.u||(i.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",i.g.ha(i.A,i.u,i.s,e)):(i.u="GET",i.g.ha(i.A,i.u,null,e)),ls(),function Xn(i,e,n,o,u,l){i.info(function(){if(i.g)if(l)for(var f="",T=l.split("&"),O=0;O<T.length;O++){var U=T[O].split("=");if(1<U.length){var Q=U[0];U=U[1];var ce=Q.split("_");f=2<=ce.length&&"type"==ce[1]?f+(Q+"=")+U+"&":f+(Q+"=redacted&")}}else f=null;else f=l;return"XMLHTTP REQ ("+o+") [attempt "+u+"]: "+e+"\n"+n+"\n"+f})}(i.j,i.u,i.A,i.m,i.W,i.s)}function go(i){return!!i.g&&"GET"==i.u&&2!=i.L&&i.l.Ha}function ks(i,e,n){let u,o=!0;for(;!i.J&&i.C<n.length;){if(u=So(i,n),u==ti){4==e&&(i.o=4,ei(14),o=!1),br(i.j,i.m,null,"[Incomplete Response]");break}if(u==Ci){i.o=4,ei(15),br(i.j,i.m,n,"[Invalid Chunk]"),o=!1;break}br(i.j,i.m,u,null),Fr(i,u)}go(i)&&u!=ti&&u!=Ci&&(i.h.g="",i.C=0),4!=e||0!=n.length||i.h.h||(i.o=1,ei(16),o=!1),i.i=i.i&&o,o?0<n.length&&!i.ba&&(i.ba=!0,(e=i.l).g==i&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Sr(e),e.M=!0,ei(11))):(br(i.j,i.m,n,"[Invalid Chunked Response]"),Yn(i),En(i))}function So(i,e){var n=i.C,o=e.indexOf("\n",n);return-1==o?ti:(n=Number(e.substring(n,o)),isNaN(n)?Ci:(o+=1)+n>e.length?ti:(e=e.slice(o,o+n),i.C=o+n,e))}function ds(i){i.Y=Date.now()+i.P,Wo(i,i.P)}function Wo(i,e){if(null!=i.B)throw Error("WatchDog timer not null");i.B=vr(He(i.lb,i),e)}function Ls(i){i.B&&(Ve.clearTimeout(i.B),i.B=null)}function En(i){0==i.l.H||i.J||Ss(i.l,i)}function Yn(i){Ls(i);var e=i.M;e&&"function"==typeof e.sa&&e.sa(),i.M=null,zr(i.V),Rt(i.U),i.g&&(e=i.g,i.g=null,e.abort(),e.sa())}function Fr(i,e){try{var n=i.l;if(0!=n.H&&(n.g==i||Ln(n.i,i)))if(!i.K&&Ln(n.i,i)&&3==n.H){try{var o=n.Ja.g.parse(e)}catch{o=null}if(Array.isArray(o)&&3==o.length){var u=o;if(0==u[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<i.G))break e;Xr(n),Ro(n)}Yo(n),ei(18)}}else n.Fa=u[1],0<n.Fa-n.V&&37500>u[2]&&n.G&&0==n.A&&!n.v&&(n.v=vr(He(n.ib,n),6e3));if(1>=Ko(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else oo(n,11)}else if((i.K||n.g==i)&&Xr(n),!Cr(e))for(u=n.Ja.g.parse(e),e=0;e<u.length;e++){let U=u[e];if(n.V=U[0],U=U[1],2==n.H)if("c"==U[0]){n.K=U[1],n.pa=U[2];const Q=U[3];null!=Q&&(n.ra=Q,n.l.info("VER="+n.ra));const ce=U[4];null!=ce&&(n.Ga=ce,n.l.info("SVER="+n.Ga));const Fe=U[5];null!=Fe&&"number"==typeof Fe&&0<Fe&&(n.L=o=1.5*Fe,n.l.info("backChannelRequestTimeoutMs_="+o)),o=n;const et=i.g;if(et){const It=et.g?et.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(It){var l=o.i;l.g||-1==It.indexOf("spdy")&&-1==It.indexOf("quic")&&-1==It.indexOf("h2")||(l.j=l.l,l.g=new Set,l.h&&(Aa(l,l.h),l.h=null))}if(o.F){const $t=et.g?et.g.getResponseHeader("X-HTTP-Session-Id"):null;$t&&(o.Da=$t,rn(o.I,o.F,$t))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-i.G,n.l.info("Handshake RTT: "+n.S+"ms"));var f=i;if((o=n).wa=Zo(o,o.J?o.pa:null,o.Y),f.K){qo(o.i,f);var T=f,O=o.L;O&&T.setTimeout(O),T.B&&(Ls(T),ds(T)),o.g=f}else ts(o);0<n.j.length&&io(n)}else"stop"!=U[0]&&"close"!=U[0]||oo(n,7);else 3==n.H&&("stop"==U[0]||"close"==U[0]?"stop"==U[0]?oo(n,7):vo(n):"noop"!=U[0]&&n.h&&n.h.Aa(U),n.A=0)}ls()}catch{}}function ua(i,e){if(i.forEach&&"function"==typeof i.forEach)i.forEach(e,void 0);else if(Ut(i)||"string"==typeof i)Array.prototype.forEach.call(i,e,void 0);else for(var n=function Gr(i){if(i.ta&&"function"==typeof i.ta)return i.ta();if(!i.Z||"function"!=typeof i.Z){if(typeof Map<"u"&&i instanceof Map)return Array.from(i.keys());if(!(typeof Set<"u"&&i instanceof Set)){if(Ut(i)||"string"==typeof i){var e=[];i=i.length;for(var n=0;n<i;n++)e.push(n);return e}e=[],n=0;for(const o in i)e[n++]=o;return e}}}(i),o=function ni(i){if(i.Z&&"function"==typeof i.Z)return i.Z();if(typeof Map<"u"&&i instanceof Map||typeof Set<"u"&&i instanceof Set)return Array.from(i.values());if("string"==typeof i)return i.split("");if(Ut(i)){for(var e=[],n=i.length,o=0;o<n;o++)e.push(i[o]);return e}for(o in e=[],n=0,i)e[n++]=i[o];return e}(i),u=o.length,l=0;l<u;l++)e.call(void 0,o[l],n&&n[l],i)}(_e=Vn.prototype).setTimeout=function(i){this.P=i},_e.nb=function(i){i=i.target;const e=this.M;e&&3==Ts(i)?e.l():this.Pa(i)},_e.Pa=function(i){try{if(i==this.g)e:{const Q=Ts(this.g);var e=this.g.Ia();if(this.g.da(),!(3>Q)&&(3!=Q||rt||this.g&&(this.h.h||this.g.ja()||Na(this.g)))){this.J||4!=Q||7==e||ls(),Ls(this);var n=this.g.da();this.ca=n;t:if(go(this)){var o=Na(this.g);i="";var u=o.length,l=4==Ts(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Yn(this),En(this);var f="";break t}this.h.i=new Ve.TextDecoder}for(e=0;e<u;e++)this.h.h=!0,i+=this.h.i.decode(o[e],{stream:l&&e==u-1});o.splice(0,u),this.h.g+=i,this.C=0,f=this.h.g}else f=this.g.ja();if(this.i=200==n,function ur(i,e,n,o,u,l,f){i.info(function(){return"XMLHTTP RESP ("+o+") [ attempt "+u+"]: "+e+"\n"+n+"\n"+l+" "+f})}(this.j,this.u,this.A,this.m,this.W,Q,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var T,O=this.g;if((T=O.g?O.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Cr(T)){var U=T;break t}}U=null}if(!(n=U)){this.i=!1,this.o=3,ei(12),Yn(this),En(this);break e}br(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Fr(this,n)}this.S?(ks(this,Q,f),rt&&this.i&&3==Q&&(Wt(this.U,this.V,"tick",this.mb),this.V.start())):(br(this.j,this.m,f,null),Fr(this,f)),4==Q&&Yn(this),this.i&&!this.J&&(4==Q?Ss(this.l,this):(this.i=!1,ds(this)))}else(function bu(i){const e={};i=(i.g&&2<=Ts(i)&&i.g.getAllResponseHeaders()||"").split("\r\n");for(let o=0;o<i.length;o++){if(Cr(i[o]))continue;var n=tt(i[o]);const u=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const l=e[u]||[];e[u]=l,l.push(n)}!function vn(i,e){for(const n in i)e.call(void 0,i[n],n,i)}(e,function(o){return o.join(", ")})})(this.g),400==n&&0<f.indexOf("Unknown SID")?(this.o=3,ei(12)):(this.o=0,ei(13)),Yn(this),En(this)}}}catch{}},_e.mb=function(){if(this.g){var i=Ts(this.g),e=this.g.ja();this.C<e.length&&(Ls(this),ks(this,i,e),this.i&&4!=i&&ds(this))}},_e.cancel=function(){this.J=!0,Yn(this)},_e.lb=function(){this.B=null;const i=Date.now();0<=i-this.Y?(function Hi(i,e){i.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(ls(),ei(17)),Yn(this),this.o=2,En(this)):Wo(this,this.Y-i)};var Ao=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function bi(i){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,i instanceof bi){this.h=i.h,cr(this,i.j),this.s=i.s,this.g=i.g,Tt(this,i.m),this.l=i.l;var e=i.i,n=new to;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),nn(this,n),this.o=i.o}else i&&(e=String(i).match(Ao))?(this.h=!1,cr(this,e[1]||"",!0),this.s=Yi(e[2]||""),this.g=Yi(e[3]||"",!0),Tt(this,e[4]),this.l=Yi(e[5]||"",!0),nn(this,e[6]||"",!0),this.o=Yi(e[7]||"")):(this.h=!1,this.i=new to(null,this.h))}function ws(i){return new bi(i)}function cr(i,e,n){i.j=n?Yi(e,!0):e,i.j&&(i.j=i.j.replace(/:$/,""))}function Tt(i,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);i.m=e}else i.m=null}function nn(i,e,n){e instanceof to?(i.i=e,function no(i,e){e&&!i.j&&(ki(i),i.i=null,i.g.forEach(function(n,o){var u=o.toLowerCase();o!=u&&(hr(this,o),qs(this,u,n))},i)),i.j=e}(i.i,i.h)):(n||(e=Wr(e,an)),i.i=new to(e,i.h))}function rn(i,e,n){i.i.set(e,n)}function ri(i){return rn(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function Yi(i,e){return i?e?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function Wr(i,e,n){return"string"==typeof i?(i=encodeURI(i).replace(e,Is),n&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function Is(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}bi.prototype.toString=function(){var i=[],e=this.j;e&&i.push(Wr(e,Kr,!0),":");var n=this.g;return(n||"file"==e)&&(i.push("//"),(e=this.s)&&i.push(Wr(e,Kr,!0),"@"),i.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&i.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&i.push("/"),i.push(Wr(n,"/"==n.charAt(0)?Fs:Wi,!0))),(n=this.i.toString())&&i.push("?",n),(n=this.o)&&i.push("#",Wr(n,Us)),i.join("")};var Kr=/[#\/\?@]/g,Wi=/[#\?:]/g,Fs=/[#\?]/g,an=/[#\?@]/g,Us=/#/g;function to(i,e){this.h=this.g=null,this.i=i||null,this.j=!!e}function ki(i){i.g||(i.g=new Map,i.h=0,i.i&&function ca(i,e){if(i){i=i.split("&");for(var n=0;n<i.length;n++){var o=i[n].indexOf("="),u=null;if(0<=o){var l=i[n].substring(0,o);u=i[n].substring(o+1)}else l=i[n];e(l,u?decodeURIComponent(u.replace(/\+/g," ")):"")}}}(i.i,function(e,n){i.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function hr(i,e){ki(i),e=mi(i,e),i.g.has(e)&&(i.i=null,i.h-=i.g.get(e).length,i.g.delete(e))}function Mo(i,e){return ki(i),e=mi(i,e),i.g.has(e)}function qs(i,e,n){hr(i,e),0<n.length&&(i.i=null,i.g.set(mi(i,e),Br(n)),i.h+=n.length)}function mi(i,e){return e=String(e),i.j&&(e=e.toLowerCase()),e}function di(i){this.l=i||ro,i=Ve.PerformanceNavigationTiming?0<(i=Ve.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(Ve.g&&Ve.g.Ka&&Ve.g.Ka()&&Ve.g.Ka().ec),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(_e=to.prototype).add=function(i,e){ki(this),this.i=null,i=mi(this,i);var n=this.g.get(i);return n||this.g.set(i,n=[]),n.push(e),this.h+=1,this},_e.forEach=function(i,e){ki(this),this.g.forEach(function(n,o){n.forEach(function(u){i.call(e,u,o,this)},this)},this)},_e.ta=function(){ki(this);const i=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let o=0;o<e.length;o++){const u=i[o];for(let l=0;l<u.length;l++)n.push(e[o])}return n},_e.Z=function(i){ki(this);let e=[];if("string"==typeof i)Mo(this,i)&&(e=e.concat(this.g.get(mi(this,i))));else{i=Array.from(this.g.values());for(let n=0;n<i.length;n++)e=e.concat(i[n])}return e},_e.set=function(i,e){return ki(this),this.i=null,Mo(this,i=mi(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[e]),this.h+=1,this},_e.get=function(i,e){return i&&0<(i=this.Z(i)).length?String(i[0]):e},_e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const i=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var o=e[n];const l=encodeURIComponent(String(o)),f=this.Z(o);for(o=0;o<f.length;o++){var u=l;""!==f[o]&&(u+="="+encodeURIComponent(String(f[o]))),i.push(u)}}return this.i=i.join("&")};var ro=10;function ss(i){return!!i.h||!!i.g&&i.g.size>=i.j}function Ko(i){return i.h?1:i.g?i.g.size:0}function Ln(i,e){return i.h?i.h==e:!!i.g&&i.g.has(e)}function Aa(i,e){i.g?i.g.add(e):i.h=e}function qo(i,e){i.h&&i.h==e?i.h=null:i.g&&i.g.has(e)&&i.g.delete(e)}function Zi(i){if(null!=i.h)return i.i.concat(i.h.F);if(null!=i.g&&0!==i.g.size){let e=i.i;for(const n of i.g.values())e=e.concat(n.F);return e}return Br(i.i)}di.prototype.cancel=function(){if(this.i=Zi(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const i of this.g.values())i.cancel();this.g.clear()}};var hs=class{stringify(i){return Ve.JSON.stringify(i,void 0)}parse(i){return Ve.JSON.parse(i,void 0)}};function Vs(){this.g=new hs}function Si(i,e,n){const o=n||"";try{ua(i,function(u,l){let f=u;kt(u)&&(f=de(u)),e.push(o+l+"="+encodeURIComponent(f))})}catch(u){throw e.push(o+"type="+encodeURIComponent("_badmap")),u}}function Dr(i,e,n,o,u){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,u(o)}catch{}}function Ki(i){this.l=i.fc||null,this.j=i.ob||!1}function fr(i,e){Hn.call(this),this.F=i,this.u=e,this.m=void 0,this.readyState=yi,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ct(Ki,ge),Ki.prototype.g=function(){return new fr(this.l,this.j)},Ki.prototype.i=function(i){return function(){return i}}({}),ct(fr,Hn);var yi=0;function fs(i){i.j.read().then(i.Xa.bind(i)).catch(i.ka.bind(i))}function Tr(i){i.readyState=4,i.l=null,i.j=null,i.A=null,Ds(i)}function Ds(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(_e=fr.prototype).open=function(i,e){if(this.readyState!=yi)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=e,this.readyState=1,Ds(this)},_e.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(e.body=i),(this.F||Ve).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},_e.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Tr(this)),this.readyState=yi},_e.$a=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,Ds(this)),this.g&&(this.readyState=3,Ds(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Ve.ReadableStream<"u"&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;fs(this)}else i.text().then(this.Za.bind(this),this.ka.bind(this))},_e.Xa=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var e=i.value?i.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!i.done}))&&(this.response=this.responseText+=e)}i.done?Tr(this):Ds(this),3==this.readyState&&fs(this)}},_e.Za=function(i){this.g&&(this.response=this.responseText=i,Tr(this))},_e.Ya=function(i){this.g&&(this.response=i,Tr(this))},_e.ka=function(){this.g&&Tr(this)},_e.setRequestHeader=function(i,e){this.v.append(i,e)},_e.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},_e.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],e=this.h.entries();for(var n=e.next();!n.done;)i.push((n=n.value)[0]+": "+n[1]),n=e.next();return i.join("\r\n")},Object.defineProperty(fr.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var es=Ve.JSON.parse;function tr(i){Hn.call(this),this.headers=new Map,this.u=i||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Xs,this.L=this.M=!1}ct(tr,Hn);var Xs="",Ma=/^https?$/i,mo=["POST","PUT"];function js(i,e){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=e,i.m=5,da(i),Ji(i)}function da(i){i.F||(i.F=!0,xn(i,"complete"),xn(i,"error"))}function Qo(i){if(i.h&&typeof ht<"u"&&(!i.C[1]||4!=Ts(i)||2!=i.da()))if(i.v&&4==Ts(i))gi(i.La,0,i);else if(xn(i,"readystatechange"),4==Ts(i)){i.h=!1;try{const f=i.da();e:switch(f){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var o;if(o=0===f){var u=String(i.I).match(Ao)[1]||null;!u&&Ve.self&&Ve.self.location&&(u=Ve.self.location.protocol.slice(0,-1)),o=!Ma.test(u?u.toLowerCase():"")}n=o}if(n)xn(i,"complete"),xn(i,"success");else{i.m=6;try{var l=2<Ts(i)?i.g.statusText:""}catch{l=""}i.j=l+" ["+i.da()+"]",da(i)}}finally{Ji(i)}}}function Ji(i,e){if(i.g){lr(i);const n=i.g,o=i.C[0]?()=>{}:null;i.g=null,i.C=null,e||xn(i,"ready");try{n.onreadystatechange=o}catch{}}}function lr(i){i.g&&i.L&&(i.g.ontimeout=null),i.A&&(Ve.clearTimeout(i.A),i.A=null)}function Ts(i){return i.g?i.g.readyState:0}function Na(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.K){case Xs:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch{return null}}function Ra(i){let e="";return qt(i,function(n,o){e+=o,e+=":",e+=n,e+="\r\n"}),e}function yo(i,e,n){e:{for(o in n){var o=!1;break e}o=!0}o||(n=Ra(n),"string"==typeof i?null!=n&&encodeURIComponent(String(n)):rn(i,e,n))}function hi(i,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[i]||e}function No(i){this.Ga=0,this.j=[],this.l=new ln,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=hi("failFast",!1,i),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=hi("baseRetryDelayMs",5e3,i),this.hb=hi("retryDelaySeedMs",1e4,i),this.eb=hi("forwardChannelMaxRetries",2,i),this.xa=hi("forwardChannelRequestTimeoutMs",2e4,i),this.va=i&&i.xmlHttpFactory||void 0,this.Ha=i&&i.dc||!1,this.L=void 0,this.J=i&&i.supportsCrossDomainXhr||!1,this.K="",this.i=new di(i&&i.concurrentRequestLimit),this.Ja=new Vs,this.P=i&&i.fastHandshake||!1,this.O=i&&i.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=i&&i.bc||!1,i&&i.Ea&&this.l.Ea(),i&&i.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&i&&i.detectBufferingProxy||!1,this.qa=void 0,i&&i.longPollingTimeout&&0<i.longPollingTimeout&&(this.qa=i.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function vo(i){if(xo(i),3==i.H){var e=i.W++,n=ws(i.I);if(rn(n,"SID",i.K),rn(n,"RID",e),rn(n,"TYPE","terminate"),Li(i,n),(e=new Vn(i,i.l,e)).L=2,e.v=ri(ws(n)),n=!1,Ve.navigator&&Ve.navigator.sendBeacon)try{n=Ve.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&Ve.Image&&((new Image).src=e.v,n=!0),n||(e.g=_o(e.l,null),e.g.ha(e.v)),e.G=Date.now(),ds(e)}Ys(i)}function Ro(i){i.g&&(Sr(i),i.g.cancel(),i.g=null)}function xo(i){Ro(i),i.u&&(Ve.clearTimeout(i.u),i.u=null),Xr(i),i.i.cancel(),i.m&&("number"==typeof i.m&&Ve.clearTimeout(i.m),i.m=null)}function io(i){if(!ss(i.i)&&!i.m){i.m=!0;var e=i.Na;Vt||un(),en||(Vt(),en=!0),zt.add(e,i),i.C=0}}function Xo(i,e){var n;n=e?e.m:i.W++;const o=ws(i.I);rn(o,"SID",i.K),rn(o,"RID",n),rn(o,"AID",i.V),Li(i,o),i.o&&i.s&&yo(o,i.o,i.s),n=new Vn(i,i.l,n,i.C+1),null===i.o&&(n.I=i.s),e&&(i.j=e.F.concat(i.j)),e=Cs(i,n,1e3),n.setTimeout(Math.round(.5*i.xa)+Math.round(.5*i.xa*Math.random())),Aa(i.i,n),bo(n,o,e)}function Li(i,e){i.na&&qt(i.na,function(n,o){rn(e,o,n)}),i.h&&ua({},function(n,o){rn(e,o,n)})}function Cs(i,e,n){n=Math.min(i.j.length,n);var o=i.h?He(i.h.Va,i.h,i):null;e:{var u=i.j;let l=-1;for(;;){const f=["count="+n];-1==l?0<n?(l=u[0].g,f.push("ofs="+l)):l=0:f.push("ofs="+l);let T=!0;for(let O=0;O<n;O++){let U=u[O].g;const Q=u[O].map;if(U-=l,0>U)l=Math.max(0,u[O].g-100),T=!1;else try{Si(Q,f,"req"+U+"_")}catch{o&&o(Q)}}if(T){o=f.join("&");break e}}}return i=i.j.splice(0,n),e.F=i,o}function ts(i){if(!i.g&&!i.u){i.ba=1;var e=i.Ma;Vt||un(),en||(Vt(),en=!0),zt.add(e,i),i.A=0}}function Yo(i){return!(i.g||i.u||3<=i.A||(i.ba++,i.u=vr(He(i.Ma,i),so(i,i.A)),i.A++,0))}function Sr(i){null!=i.B&&(Ve.clearTimeout(i.B),i.B=null)}function bs(i){i.g=new Vn(i,i.l,"rpc",i.ba),null===i.o&&(i.g.I=i.s),i.g.O=0;var e=ws(i.wa);rn(e,"RID","rpc"),rn(e,"SID",i.K),rn(e,"AID",i.V),rn(e,"CI",i.G?"0":"1"),!i.G&&i.qa&&rn(e,"TO",i.qa),rn(e,"TYPE","xmlhttp"),Li(i,e),i.o&&i.s&&yo(e,i.o,i.s),i.L&&i.g.setTimeout(i.L);var n=i.g;i=i.pa,n.L=1,n.v=ri(ws(e)),n.s=null,n.S=!0,Go(n,i)}function Xr(i){null!=i.v&&(Ve.clearTimeout(i.v),i.v=null)}function Ss(i,e){var n=null;if(i.g==e){Xr(i),Sr(i),i.g=null;var o=2}else{if(!Ln(i.i,e))return;n=e.F,qo(i.i,e),o=1}if(0!=i.H)if(e.i)if(1==o){n=e.s?e.s.length:0,e=Date.now()-e.G;var u=i.C;xn(o=Pi(),new Es(o,n)),io(i)}else ts(i);else if(3==(u=e.o)||0==u&&0<e.ca||!(1==o&&function Oo(i,e){return!(Ko(i.i)>=i.i.j-(i.m?1:0)||(i.m?(i.j=e.F.concat(i.j),0):1==i.H||2==i.H||i.C>=(i.cb?0:i.eb)||(i.m=vr(He(i.Na,i,e),so(i,i.C)),i.C++,0)))}(i,e)||2==o&&Yo(i)))switch(n&&0<n.length&&(e=i.i,e.i=e.i.concat(n)),u){case 1:oo(i,5);break;case 4:oo(i,10);break;case 3:oo(i,6);break;default:oo(i,2)}}function so(i,e){let n=i.ab+Math.floor(Math.random()*i.hb);return i.isActive()||(n*=2),n*e}function oo(i,e){if(i.l.info("Error code "+e),2==e){var n=null;i.h&&(n=null);var o=He(i.pb,i);n||(n=new bi("//www.google.com/images/cleardot.gif"),Ve.location&&"http"==Ve.location.protocol||cr(n,"https"),ri(n)),function Qs(i,e){const n=new ln;if(Ve.Image){const o=new Image;o.onload=ft(Dr,n,o,"TestLoadImage: loaded",!0,e),o.onerror=ft(Dr,n,o,"TestLoadImage: error",!1,e),o.onabort=ft(Dr,n,o,"TestLoadImage: abort",!1,e),o.ontimeout=ft(Dr,n,o,"TestLoadImage: timeout",!1,e),Ve.setTimeout(function(){o.ontimeout&&o.ontimeout()},1e4),o.src=i}else e(!1)}(n.toString(),o)}else ei(2);i.H=0,i.h&&i.h.za(e),Ys(i),xo(i)}function Ys(i){if(i.H=0,i.ma=[],i.h){const e=Zi(i.i);(0!=e.length||0!=i.j.length)&&(lt(i.ma,e),lt(i.ma,i.j),i.i.i.length=0,Br(i.j),i.j.length=0),i.h.ya()}}function Zo(i,e,n){var o=n instanceof bi?ws(n):new bi(n);if(""!=o.g)e&&(o.g=e+"."+o.g),Tt(o,o.m);else{var u=Ve.location;o=u.protocol,e=e?e+"."+u.hostname:u.hostname,u=+u.port;var l=new bi(null);o&&cr(l,o),e&&(l.g=e),u&&Tt(l,u),n&&(l.l=n),o=l}return e=i.Da,(n=i.F)&&e&&rn(o,n,e),rn(o,"VER",i.ra),Li(i,o),o}function _o(i,e,n){if(e&&!i.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new tr(n&&i.Ha&&!i.va?new Ki({ob:!0}):i.va)).Oa(i.J),e}function fi(){}function ao(){if(ke&&!(10<=Number(Er)))throw Error("Environmental error: no available transport.")}function ii(i,e){Hn.call(this),this.g=new No(e),this.l=i,this.h=e&&e.messageUrlParams||null,i=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(i?i["X-WebChannel-Content-Type"]=e.messageContentType:i={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(i?i["X-WebChannel-Client-Profile"]=e.Ca:i={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=i,(i=e&&e.cc)&&!Cr(i)&&(this.g.o=i),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Cr(e)&&(this.g.F=e,null!==(i=this.h)&&e in i&&e in(i=this.h)&&delete i[e]),this.j=new As(this)}function xa(i){pt.call(this),i.__headers__&&(this.headers=i.__headers__,this.statusCode=i.__status__,delete i.__headers__,delete i.__status__);var e=i.__sm__;if(e){e:{for(const n in e){i=n;break e}i=void 0}(this.i=i)&&(i=this.i,e=null!==e&&i in e?e[i]:void 0),this.data=e}else this.data=i}function ha(){tn.call(this),this.status=1}function As(i){this.g=i}function Yr(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Po(i,e,n){n||(n=0);var o=Array(16);if("string"==typeof e)for(var u=0;16>u;++u)o[u]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(u=0;16>u;++u)o[u]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;var l=i.g[3],f=(e=i.g[0])+(l^(n=i.g[1])&((u=i.g[2])^l))+o[0]+3614090360&4294967295;f=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=n+(f<<7&4294967295|f>>>25))+((f=l+(u^e&(n^u))+o[1]+3905402710&4294967295)<<12&4294967295|f>>>20))+((f=u+(n^l&(e^n))+o[2]+606105819&4294967295)<<17&4294967295|f>>>15))+((f=n+(e^u&(l^e))+o[3]+3250441966&4294967295)<<22&4294967295|f>>>10))+((f=e+(l^n&(u^l))+o[4]+4118548399&4294967295)<<7&4294967295|f>>>25))+((f=l+(u^e&(n^u))+o[5]+1200080426&4294967295)<<12&4294967295|f>>>20))+((f=u+(n^l&(e^n))+o[6]+2821735955&4294967295)<<17&4294967295|f>>>15))+((f=n+(e^u&(l^e))+o[7]+4249261313&4294967295)<<22&4294967295|f>>>10))+((f=e+(l^n&(u^l))+o[8]+1770035416&4294967295)<<7&4294967295|f>>>25))+((f=l+(u^e&(n^u))+o[9]+2336552879&4294967295)<<12&4294967295|f>>>20))+((f=u+(n^l&(e^n))+o[10]+4294925233&4294967295)<<17&4294967295|f>>>15))+((f=n+(e^u&(l^e))+o[11]+2304563134&4294967295)<<22&4294967295|f>>>10))+((f=e+(l^n&(u^l))+o[12]+1804603682&4294967295)<<7&4294967295|f>>>25))+((f=l+(u^e&(n^u))+o[13]+4254626195&4294967295)<<12&4294967295|f>>>20))+((f=u+(n^l&(e^n))+o[14]+2792965006&4294967295)<<17&4294967295|f>>>15))+((f=n+(e^u&(l^e))+o[15]+1236535329&4294967295)<<22&4294967295|f>>>10))+((f=e+(u^l&(n^u))+o[1]+4129170786&4294967295)<<5&4294967295|f>>>27))+((f=l+(n^u&(e^n))+o[6]+3225465664&4294967295)<<9&4294967295|f>>>23))+((f=u+(e^n&(l^e))+o[11]+643717713&4294967295)<<14&4294967295|f>>>18))+((f=n+(l^e&(u^l))+o[0]+3921069994&4294967295)<<20&4294967295|f>>>12))+((f=e+(u^l&(n^u))+o[5]+3593408605&4294967295)<<5&4294967295|f>>>27))+((f=l+(n^u&(e^n))+o[10]+38016083&4294967295)<<9&4294967295|f>>>23))+((f=u+(e^n&(l^e))+o[15]+3634488961&4294967295)<<14&4294967295|f>>>18))+((f=n+(l^e&(u^l))+o[4]+3889429448&4294967295)<<20&4294967295|f>>>12))+((f=e+(u^l&(n^u))+o[9]+568446438&4294967295)<<5&4294967295|f>>>27))+((f=l+(n^u&(e^n))+o[14]+3275163606&4294967295)<<9&4294967295|f>>>23))+((f=u+(e^n&(l^e))+o[3]+4107603335&4294967295)<<14&4294967295|f>>>18))+((f=n+(l^e&(u^l))+o[8]+1163531501&4294967295)<<20&4294967295|f>>>12))+((f=e+(u^l&(n^u))+o[13]+2850285829&4294967295)<<5&4294967295|f>>>27))+((f=l+(n^u&(e^n))+o[2]+4243563512&4294967295)<<9&4294967295|f>>>23))+((f=u+(e^n&(l^e))+o[7]+1735328473&4294967295)<<14&4294967295|f>>>18))+((f=n+(l^e&(u^l))+o[12]+2368359562&4294967295)<<20&4294967295|f>>>12))+((f=e+(n^u^l)+o[5]+4294588738&4294967295)<<4&4294967295|f>>>28))+((f=l+(e^n^u)+o[8]+2272392833&4294967295)<<11&4294967295|f>>>21))+((f=u+(l^e^n)+o[11]+1839030562&4294967295)<<16&4294967295|f>>>16))+((f=n+(u^l^e)+o[14]+4259657740&4294967295)<<23&4294967295|f>>>9))+((f=e+(n^u^l)+o[1]+2763975236&4294967295)<<4&4294967295|f>>>28))+((f=l+(e^n^u)+o[4]+1272893353&4294967295)<<11&4294967295|f>>>21))+((f=u+(l^e^n)+o[7]+4139469664&4294967295)<<16&4294967295|f>>>16))+((f=n+(u^l^e)+o[10]+3200236656&4294967295)<<23&4294967295|f>>>9))+((f=e+(n^u^l)+o[13]+681279174&4294967295)<<4&4294967295|f>>>28))+((f=l+(e^n^u)+o[0]+3936430074&4294967295)<<11&4294967295|f>>>21))+((f=u+(l^e^n)+o[3]+3572445317&4294967295)<<16&4294967295|f>>>16))+((f=n+(u^l^e)+o[6]+76029189&4294967295)<<23&4294967295|f>>>9))+((f=e+(n^u^l)+o[9]+3654602809&4294967295)<<4&4294967295|f>>>28))+((f=l+(e^n^u)+o[12]+3873151461&4294967295)<<11&4294967295|f>>>21))+((f=u+(l^e^n)+o[15]+530742520&4294967295)<<16&4294967295|f>>>16))+((f=n+(u^l^e)+o[2]+3299628645&4294967295)<<23&4294967295|f>>>9))+((f=e+(u^(n|~l))+o[0]+4096336452&4294967295)<<6&4294967295|f>>>26))+((f=l+(n^(e|~u))+o[7]+1126891415&4294967295)<<10&4294967295|f>>>22))+((f=u+(e^(l|~n))+o[14]+2878612391&4294967295)<<15&4294967295|f>>>17))+((f=n+(l^(u|~e))+o[5]+4237533241&4294967295)<<21&4294967295|f>>>11))+((f=e+(u^(n|~l))+o[12]+1700485571&4294967295)<<6&4294967295|f>>>26))+((f=l+(n^(e|~u))+o[3]+2399980690&4294967295)<<10&4294967295|f>>>22))+((f=u+(e^(l|~n))+o[10]+4293915773&4294967295)<<15&4294967295|f>>>17))+((f=n+(l^(u|~e))+o[1]+2240044497&4294967295)<<21&4294967295|f>>>11))+((f=e+(u^(n|~l))+o[8]+1873313359&4294967295)<<6&4294967295|f>>>26))+((f=l+(n^(e|~u))+o[15]+4264355552&4294967295)<<10&4294967295|f>>>22))+((f=u+(e^(l|~n))+o[6]+2734768916&4294967295)<<15&4294967295|f>>>17))+((f=n+(l^(u|~e))+o[13]+1309151649&4294967295)<<21&4294967295|f>>>11))+((l=(e=n+((f=e+(u^(n|~l))+o[4]+4149444226&4294967295)<<6&4294967295|f>>>26))+((f=l+(n^(e|~u))+o[11]+3174756917&4294967295)<<10&4294967295|f>>>22))^((u=l+((f=u+(e^(l|~n))+o[2]+718787259&4294967295)<<15&4294967295|f>>>17))|~e))+o[9]+3951481745&4294967295,i.g[0]=i.g[0]+e&4294967295,i.g[1]=i.g[1]+(u+(f<<21&4294967295|f>>>11))&4294967295,i.g[2]=i.g[2]+u&4294967295,i.g[3]=i.g[3]+l&4294967295}function B(i,e){this.h=e;for(var n=[],o=!0,u=i.length-1;0<=u;u--){var l=0|i[u];o&&l==e||(n[u]=l,o=!1)}this.g=n}(_e=tr.prototype).Oa=function(i){this.M=i},_e.ha=function(i,e,n,o){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+i);e=e?e.toUpperCase():"GET",this.I=i,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():zn.g(),this.C=function pe(i){return i.h||(i.h=i.i())}(this.u?this.u:zn),this.g.onreadystatechange=He(this.La,this);try{this.G=!0,this.g.open(e,String(i),!0),this.G=!1}catch(l){return void js(this,l)}if(i=n||"",n=new Map(this.headers),o)if(Object.getPrototypeOf(o)===Object.prototype)for(var u in o)n.set(u,o[u]);else{if("function"!=typeof o.keys||"function"!=typeof o.get)throw Error("Unknown input type for opt_headers: "+String(o));for(const l of o.keys())n.set(l,o.get(l))}o=Array.from(n.keys()).find(l=>"content-type"==l.toLowerCase()),u=Ve.FormData&&i instanceof Ve.FormData,!(0<=pn(mo,e))||o||u||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[l,f]of n)this.g.setRequestHeader(l,f);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{lr(this),0<this.B&&((this.L=function Bs(i){return ke&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=He(this.ua,this)):this.A=gi(this.ua,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(l){js(this,l)}},_e.ua=function(){typeof ht<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,xn(this,"timeout"),this.abort(8))},_e.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,xn(this,"complete"),xn(this,"abort"),Ji(this))},_e.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Ji(this,!0)),tr.$.N.call(this)},_e.La=function(){this.s||(this.G||this.v||this.l?Qo(this):this.kb())},_e.kb=function(){Qo(this)},_e.isActive=function(){return!!this.g},_e.da=function(){try{return 2<Ts(this)?this.g.status:-1}catch{return-1}},_e.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},_e.Wa=function(i){if(this.g){var e=this.g.responseText;return i&&0==e.indexOf(i)&&(e=e.substring(i.length)),es(e)}},_e.Ia=function(){return this.m},_e.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(_e=No.prototype).ra=8,_e.H=1,_e.Na=function(i){if(this.m)if(this.m=null,1==this.H){if(!i){this.W=Math.floor(1e5*Math.random()),i=this.W++;const u=new Vn(this,this.l,i);let l=this.s;if(this.U&&(l?(l=hn(l),Lr(l,this.U)):l=this.U),null!==this.o||this.O||(u.I=l,l=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){var o=this.j[n];if(void 0===(o="__data__"in o.map&&"string"==typeof(o=o.map.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=n;break e}if(4096===e||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=Cs(this,u,e),rn(n=ws(this.I),"RID",i),rn(n,"CVER",22),this.F&&rn(n,"X-HTTP-Session-Id",this.F),Li(this,n),l&&(this.O?e="headers="+encodeURIComponent(String(Ra(l)))+"&"+e:this.o&&yo(n,this.o,l)),Aa(this.i,u),this.bb&&rn(n,"TYPE","init"),this.P?(rn(n,"$req",e),rn(n,"SID","null"),u.aa=!0,bo(u,n,null)):bo(u,n,e),this.H=2}}else 3==this.H&&(i?Xo(this,i):0==this.j.length||ss(this.i)||Xo(this))},_e.Ma=function(){if(this.u=null,bs(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var i=2*this.S;this.l.info("BP detection timer enabled: "+i),this.B=vr(He(this.jb,this),i)}},_e.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,ei(10),Ro(this),bs(this))},_e.ib=function(){null!=this.v&&(this.v=null,Ro(this),Yo(this),ei(19))},_e.pb=function(i){i?(this.l.info("Successfully pinged google.com"),ei(2)):(this.l.info("Failed to ping google.com"),ei(1))},_e.isActive=function(){return!!this.h&&this.h.isActive(this)},(_e=fi.prototype).Ba=function(){},_e.Aa=function(){},_e.za=function(){},_e.ya=function(){},_e.isActive=function(){return!0},_e.Va=function(){},ao.prototype.g=function(i,e){return new ii(i,e)},ct(ii,Hn),ii.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var i=this.g,e=this.l,n=this.h||void 0;ei(0),i.Y=e,i.na=n||{},i.G=i.aa,i.I=Zo(i,null,i.Y),io(i)},ii.prototype.close=function(){vo(this.g)},ii.prototype.u=function(i){var e=this.g;if("string"==typeof i){var n={};n.__data__=i,i=n}else this.v&&((n={}).__data__=de(i),i=n);e.j.push(new class{constructor(i,e){this.g=i,this.map=e}}(e.fb++,i)),3==e.H&&io(e)},ii.prototype.N=function(){this.g.h=null,delete this.j,vo(this.g),delete this.g,ii.$.N.call(this)},ct(xa,pt),ct(ha,tn),ct(As,fi),As.prototype.Ba=function(){xn(this.g,"a")},As.prototype.Aa=function(i){xn(this.g,new xa(i))},As.prototype.za=function(i){xn(this.g,new ha)},As.prototype.ya=function(){xn(this.g,"b")},ct(Yr,function Eo(){this.blockSize=-1}),Yr.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Yr.prototype.j=function(i,e){void 0===e&&(e=i.length);for(var n=e-this.blockSize,o=this.m,u=this.h,l=0;l<e;){if(0==u)for(;l<=n;)Po(this,i,l),l+=this.blockSize;if("string"==typeof i){for(;l<e;)if(o[u++]=i.charCodeAt(l++),u==this.blockSize){Po(this,o),u=0;break}}else for(;l<e;)if(o[u++]=i[l++],u==this.blockSize){Po(this,o),u=0;break}}this.h=u,this.i+=e},Yr.prototype.l=function(){var i=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);i[0]=128;for(var e=1;e<i.length-8;++e)i[e]=0;var n=8*this.i;for(e=i.length-8;e<i.length;++e)i[e]=255&n,n/=256;for(this.j(i),i=Array(16),e=n=0;4>e;++e)for(var o=0;32>o;o+=8)i[n++]=this.g[e]>>>o&255;return i};var m={};function E(i){return-128<=i&&128>i?function Oe(i,e){var n=m;return Object.prototype.hasOwnProperty.call(n,i)?n[i]:n[i]=e(i)}(i,function(e){return new B([0|e],0>e?-1:0)}):new B([0|i],0>i?-1:0)}function x(i){if(isNaN(i)||!isFinite(i))return le;if(0>i)return yt(x(-i));for(var e=[],n=1,o=0;i>=n;o++)e[o]=i/n|0,n*=J;return new B(e,0)}var J=4294967296,le=E(0),fe=E(1),Re=E(16777216);function Qe(i){if(0!=i.h)return!1;for(var e=0;e<i.g.length;e++)if(0!=i.g[e])return!1;return!0}function Et(i){return-1==i.h}function yt(i){for(var e=i.g.length,n=[],o=0;o<e;o++)n[o]=~i.g[o];return new B(n,~i.h).add(fe)}function Dn(i,e){return i.add(yt(e))}function w(i,e){for(;(65535&i[e])!=i[e];)i[e+1]+=i[e]>>>16,i[e]&=65535,e++}function V(i,e){this.g=i,this.h=e}function R(i,e){if(Qe(e))throw Error("division by zero");if(Qe(i))return new V(le,le);if(Et(i))return e=R(yt(i),e),new V(yt(e.g),yt(e.h));if(Et(e))return e=R(i,yt(e)),new V(yt(e.g),e.h);if(30<i.g.length){if(Et(i)||Et(e))throw Error("slowDivide_ only works with positive integers.");for(var n=fe,o=e;0>=o.X(i);)n=F(n),o=F(o);var u=ne(n,1),l=ne(o,1);for(o=ne(o,2),n=ne(n,2);!Qe(o);){var f=l.add(o);0>=f.X(i)&&(u=u.add(n),l=f),o=ne(o,1),n=ne(n,1)}return e=Dn(i,u.R(e)),new V(u,e)}for(u=le;0<=i.X(e);){for(n=Math.max(1,Math.floor(i.ea()/e.ea())),o=48>=(o=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,o-48),f=(l=x(n)).R(e);Et(f)||0<f.X(i);)f=(l=x(n-=o)).R(e);Qe(l)&&(l=fe),u=u.add(l),i=Dn(i,f)}return new V(u,i)}function F(i){for(var e=i.g.length+1,n=[],o=0;o<e;o++)n[o]=i.D(o)<<1|i.D(o-1)>>>31;return new B(n,i.h)}function ne(i,e){var n=e>>5;e%=32;for(var o=i.g.length-n,u=[],l=0;l<o;l++)u[l]=0<e?i.D(l+n)>>>e|i.D(l+n+1)<<32-e:i.D(l+n);return new B(u,i.h)}(_e=B.prototype).ea=function(){if(Et(this))return-yt(this).ea();for(var i=0,e=1,n=0;n<this.g.length;n++){var o=this.D(n);i+=(0<=o?o:J+o)*e,e*=J}return i},_e.toString=function(i){if(2>(i=i||10)||36<i)throw Error("radix out of range: "+i);if(Qe(this))return"0";if(Et(this))return"-"+yt(this).toString(i);for(var e=x(Math.pow(i,6)),n=this,o="";;){var u=R(n,e).g,l=((0<(n=Dn(n,u.R(e))).g.length?n.g[0]:n.h)>>>0).toString(i);if(Qe(n=u))return l+o;for(;6>l.length;)l="0"+l;o=l+o}},_e.D=function(i){return 0>i?0:i<this.g.length?this.g[i]:this.h},_e.X=function(i){return Et(i=Dn(this,i))?-1:Qe(i)?0:1},_e.abs=function(){return Et(this)?yt(this):this},_e.add=function(i){for(var e=Math.max(this.g.length,i.g.length),n=[],o=0,u=0;u<=e;u++){var l=o+(65535&this.D(u))+(65535&i.D(u)),f=(l>>>16)+(this.D(u)>>>16)+(i.D(u)>>>16);o=f>>>16,n[u]=(f&=65535)<<16|(l&=65535)}return new B(n,-2147483648&n[n.length-1]?-1:0)},_e.R=function(i){if(Qe(this)||Qe(i))return le;if(Et(this))return Et(i)?yt(this).R(yt(i)):yt(yt(this).R(i));if(Et(i))return yt(this.R(yt(i)));if(0>this.X(Re)&&0>i.X(Re))return x(this.ea()*i.ea());for(var e=this.g.length+i.g.length,n=[],o=0;o<2*e;o++)n[o]=0;for(o=0;o<this.g.length;o++)for(var u=0;u<i.g.length;u++){var l=this.D(o)>>>16,f=65535&this.D(o),T=i.D(u)>>>16,O=65535&i.D(u);n[2*o+2*u]+=f*O,w(n,2*o+2*u),n[2*o+2*u+1]+=l*O,w(n,2*o+2*u+1),n[2*o+2*u+1]+=f*T,w(n,2*o+2*u+1),n[2*o+2*u+2]+=l*T,w(n,2*o+2*u+2)}for(o=0;o<e;o++)n[o]=n[2*o+1]<<16|n[2*o];for(o=e;o<2*e;o++)n[o]=0;return new B(n,0)},_e.gb=function(i){return R(this,i).h},_e.and=function(i){for(var e=Math.max(this.g.length,i.g.length),n=[],o=0;o<e;o++)n[o]=this.D(o)&i.D(o);return new B(n,this.h&i.h)},_e.or=function(i){for(var e=Math.max(this.g.length,i.g.length),n=[],o=0;o<e;o++)n[o]=this.D(o)|i.D(o);return new B(n,this.h|i.h)},_e.xor=function(i){for(var e=Math.max(this.g.length,i.g.length),n=[],o=0;o<e;o++)n[o]=this.D(o)^i.D(o);return new B(n,this.h^i.h)},ao.prototype.createWebChannel=ao.prototype.g,ii.prototype.send=ii.prototype.u,ii.prototype.open=ii.prototype.m,ii.prototype.close=ii.prototype.close,Gi.NO_ERROR=0,Gi.TIMEOUT=8,Gi.HTTP_ERROR=6,Co.COMPLETE="complete",Ne.EventType=Je,Je.OPEN="a",Je.CLOSE="b",Je.ERROR="c",Je.MESSAGE="d",Hn.prototype.listen=Hn.prototype.O,tr.prototype.listenOnce=tr.prototype.P,tr.prototype.getLastError=tr.prototype.Sa,tr.prototype.getLastErrorCode=tr.prototype.Ia,tr.prototype.getStatus=tr.prototype.da,tr.prototype.getResponseJson=tr.prototype.Wa,tr.prototype.getResponseText=tr.prototype.ja,tr.prototype.send=tr.prototype.ha,tr.prototype.setWithCredentials=tr.prototype.Oa,Yr.prototype.digest=Yr.prototype.l,Yr.prototype.reset=Yr.prototype.reset,Yr.prototype.update=Yr.prototype.j,B.prototype.add=B.prototype.add,B.prototype.multiply=B.prototype.R,B.prototype.modulo=B.prototype.gb,B.prototype.compare=B.prototype.X,B.prototype.toNumber=B.prototype.ea,B.prototype.toString=B.prototype.toString,B.prototype.getBits=B.prototype.D,B.fromNumber=x,B.fromString=function $(i,e){if(0==i.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==i.charAt(0))return yt($(i.substring(1),e));if(0<=i.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=x(Math.pow(e,8)),o=le,u=0;u<i.length;u+=8){var l=Math.min(8,i.length-u),f=parseInt(i.substring(u,u+l),e);8>l?(l=x(Math.pow(e,l)),o=o.R(l).add(x(f))):o=(o=o.R(n)).add(x(f))}return o};var be=Ge.createWebChannelTransport=function(){return new ao},Ze=Ge.getStatEventTarget=function(){return Pi()},Mt=Ge.ErrorCode=Gi,Kn=Ge.EventType=Co,Fn=Ge.Event=cs,gn=Ge.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},cn=Ge.FetchXmlHttpFactory=Ki,nr=Ge.WebChannel=Ne,Gn=Ge.XhrIo=tr,vi=Ge.Md5=Yr,si=Ge.Integer=B;const oi="@firebase/firestore";class pr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}pr.UNAUTHENTICATED=new pr(null),pr.GOOGLE_CREDENTIALS=new pr("google-credentials-uid"),pr.FIRST_PARTY=new pr("first-party-uid"),pr.MOCK_USER=new pr("mock-user");let Ar="9.23.0";const Ct=new ie.Vy("@firebase/firestore");function Ft(){return Ct.logLevel}function Ye(i,...e){if(Ct.logLevel<=ie.$b.DEBUG){const n=e.map(gr);Ct.debug(`Firestore (${Ar}): ${i}`,...n)}}function Yt(i,...e){if(Ct.logLevel<=ie.$b.ERROR){const n=e.map(gr);Ct.error(`Firestore (${Ar}): ${i}`,...n)}}function Zr(i,...e){if(Ct.logLevel<=ie.$b.WARN){const n=e.map(gr);Ct.warn(`Firestore (${Ar}): ${i}`,...n)}}function gr(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch{return i}}function mt(i="Unexpected state"){const e=`FIRESTORE (${Ar}) INTERNAL ASSERTION FAILED: `+i;throw Yt(e),new Error(e)}function bt(i,e){i||mt()}function wt(i,e){return i}const Ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class st extends ae.g{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class _r{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class Ha{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class wo{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(pr.UNAUTHENTICATED))}shutdown(){}}class Oa{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Rl{constructor(e){this.t=e,this.currentUser=pr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var o=this;let u=this.i;const l=U=>this.i!==u?(u=this.i,n(U)):Promise.resolve();let f=new _r;this.o=()=>{this.i++,this.currentUser=this.u(),f.resolve(),f=new _r,e.enqueueRetryable(()=>l(this.currentUser))};const T=()=>{const U=f;e.enqueueRetryable((0,ee.A)(function*(){yield U.promise,yield l(o.currentUser)}))},O=U=>{Ye("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=U,this.auth.addAuthTokenListener(this.o),T()};this.t.onInit(U=>O(U)),setTimeout(()=>{if(!this.auth){const U=this.t.getImmediate({optional:!0});U?O(U):(Ye("FirebaseAuthCredentialsProvider","Auth not yet detected"),f.resolve(),f=new _r)}},0),T()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(o=>this.i!==e?(Ye("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(bt("string"==typeof o.accessToken),new Ha(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return bt(null===e||"string"==typeof e),new pr(e)}}class Kc{constructor(e,n,o){this.h=e,this.l=n,this.m=o,this.type="FirstParty",this.user=pr.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class Pa{constructor(e,n,o){this.h=e,this.l=n,this.m=o}getToken(){return Promise.resolve(new Kc(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(pr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class uo{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Su{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const o=l=>{null!=l.error&&Ye("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const f=l.token!==this.T;return this.T=l.token,Ye("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>o(l))};const u=l=>{Ye("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.appCheck.addTokenListener(this.o)};this.I.onInit(l=>u(l)),setTimeout(()=>{if(!this.appCheck){const l=this.I.getImmediate({optional:!0});l?u(l):Ye("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(bt("string"==typeof n.token),this.T=n.token,new uo(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Fi(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let o=0;o<i;o++)n[o]=Math.floor(256*Math.random());return n}class rc{static A(){const n=62*Math.floor(256/62);let o="";for(;o.length<20;){const u=Fi(40);for(let l=0;l<u.length;++l)o.length<20&&u[l]<n&&(o+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(u[l]%62))}return o}}function Qt(i,e){return i<e?-1:i>e?1:0}function pa(i,e,n){return i.length===e.length&&i.every((o,u)=>n(o,e[u]))}class ai{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new st(Ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new st(Ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new st(Ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new st(Ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ai.fromMillis(Date.now())}static fromDate(e){return ai.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),o=Math.floor(1e6*(e-1e3*n));return new ai(n,o)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Qt(this.nanoseconds,e.nanoseconds):Qt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Zt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Zt(e)}static min(){return new Zt(new ai(0,0))}static max(){return new Zt(new ai(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class za{constructor(e,n,o){void 0===n?n=0:n>e.length&&mt(),void 0===o?o=e.length-n:o>e.length-n&&mt(),this.segments=e,this.offset=n,this.len=o}get length(){return this.len}isEqual(e){return 0===za.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof za?e.forEach(o=>{n.push(o)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,o=this.limit();n<o;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const o=Math.min(e.length,n.length);for(let u=0;u<o;u++){const l=e.get(u),f=n.get(u);if(l<f)return-1;if(l>f)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class ir extends za{construct(e,n,o){return new ir(e,n,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const o of e){if(o.indexOf("//")>=0)throw new st(Ie.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);n.push(...o.split("/").filter(u=>u.length>0))}return new ir(n)}static emptyPath(){return new ir([])}}const uu=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ai extends za{construct(e,n,o){return new Ai(e,n,o)}static isValidIdentifier(e){return uu.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ai.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Ai(["__name__"])}static fromServerFormat(e){const n=[];let o="",u=0;const l=()=>{if(0===o.length)throw new st(Ie.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(o),o=""};let f=!1;for(;u<e.length;){const T=e[u];if("\\"===T){if(u+1===e.length)throw new st(Ie.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const O=e[u+1];if("\\"!==O&&"."!==O&&"`"!==O)throw new st(Ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=O,u+=2}else"`"===T?(f=!f,u++):"."!==T||f?(o+=T,u++):(l(),u++)}if(l(),f)throw new st(Ie.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ai(n)}static emptyPath(){return new Ai([])}}class Nt{constructor(e){this.path=e}static fromPath(e){return new Nt(ir.fromString(e))}static fromName(e){return new Nt(ir.fromString(e).popFirst(5))}static empty(){return new Nt(ir.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===ir.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return ir.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Nt(new ir(e.slice()))}}function Ga(i){return new ps(i.readTime,i.key,-1)}class ps{constructor(e,n,o){this.readTime=e,this.documentKey=n,this.largestBatchId=o}static min(){return new ps(Zt.min(),Nt.empty(),-1)}static max(){return new ps(Zt.max(),Nt.empty(),-1)}}function sc(i,e){let n=i.readTime.compareTo(e.readTime);return 0!==n?n:(n=Nt.comparator(i.documentKey,e.documentKey),0!==n?n:Qt(i.largestBatchId,e.largestBatchId))}const Au="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class lu{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function ui(i){return lo.apply(this,arguments)}function lo(){return lo=(0,ee.A)(function*(i){if(i.code!==Ie.FAILED_PRECONDITION||i.message!==Au)throw i;Ye("LocalStore","Unexpectedly lost primary lease")}),lo.apply(this,arguments)}class Le{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&mt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Le((o,u)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(o,u)},this.catchCallback=l=>{this.wrapFailure(n,l).next(o,u)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Le?n:Le.resolve(n)}catch(n){return Le.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Le.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Le.reject(n)}static resolve(e){return new Le((n,o)=>{n(e)})}static reject(e){return new Le((n,o)=>{o(e)})}static waitFor(e){return new Le((n,o)=>{let u=0,l=0,f=!1;e.forEach(T=>{++u,T.next(()=>{++l,f&&l===u&&n()},O=>o(O))}),f=!0,l===u&&n()})}static or(e){let n=Le.resolve(!1);for(const o of e)n=n.next(u=>u?Le.resolve(u):o());return n}static forEach(e,n){const o=[];return e.forEach((u,l)=>{o.push(n.call(this,u,l))}),this.waitFor(o)}static mapArray(e,n){return new Le((o,u)=>{const l=e.length,f=new Array(l);let T=0;for(let O=0;O<l;O++){const U=O;n(e[U]).next(Q=>{f[U]=Q,++T,T===l&&o(f)},Q=>u(Q))}})}static doWhile(e,n){return new Le((o,u)=>{const l=()=>{!0===e()?n().next(()=>{l()},u):o()};l()})}}function _(i){return"IndexedDbTransactionError"===i.name}let Me=(()=>{class i{constructor(n,o){this.previousValue=n,o&&(o.sequenceNumberHandler=u=>this.ot(u),this.ut=u=>o.writeSequenceNumber(u))}ot(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.ut&&this.ut(n),n}}return i.ct=-1,i})();function Pe(i){return null==i}function xt(i){return 0===i&&1/i==-1/0}function kh(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function Ka(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function cc(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class ci{constructor(e,n){this.comparator=e,this.root=n||ns.EMPTY}insert(e,n){return new ci(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ns.BLACK,null,null))}remove(e){return new ci(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ns.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const o=this.comparator(e,n.key);if(0===o)return n.value;o<0?n=n.left:o>0&&(n=n.right)}return null}indexOf(e){let n=0,o=this.root;for(;!o.isEmpty();){const u=this.comparator(e,o.key);if(0===u)return n+o.left.size;u<0?o=o.left:(n+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,o)=>(e(n,o),!1))}toString(){const e=[];return this.inorderTraversal((n,o)=>(e.push(`${n}:${o}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new du(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new du(this.root,e,this.comparator,!1)}getReverseIterator(){return new du(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new du(this.root,e,this.comparator,!0)}}class du{constructor(e,n,o,u){this.isReverse=u,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?o(e.key,n):1,n&&u&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(0===l){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ns{constructor(e,n,o,u,l){this.key=e,this.value=n,this.color=o??ns.RED,this.left=u??ns.EMPTY,this.right=l??ns.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,o,u,l){return new ns(e??this.key,n??this.value,o??this.color,u??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,o){let u=this;const l=o(e,u.key);return u=l<0?u.copy(null,null,null,u.left.insert(e,n,o),null):0===l?u.copy(null,n,null,null,null):u.copy(null,null,null,null,u.right.insert(e,n,o)),u.fixUp()}removeMin(){if(this.left.isEmpty())return ns.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let o,u=this;if(n(e,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(e,n),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),0===n(e,u.key)){if(u.right.isEmpty())return ns.EMPTY;o=u.right.min(),u=u.copy(o.key,o.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(e,n))}return u.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ns.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ns.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw mt();const e=this.left.check();if(e!==this.right.check())throw mt();return e+(this.isRed()?0:1)}}ns.EMPTY=null,ns.RED=!0,ns.BLACK=!1,ns.EMPTY=new class{constructor(){this.size=0}get key(){throw mt()}get value(){throw mt()}get color(){throw mt()}get left(){throw mt()}get right(){throw mt()}copy(i,e,n,o,u){return this}insert(i,e,n){return new ns(i,e)}remove(i,e){return this}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Vr{constructor(e){this.comparator=e,this.data=new ci(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,o)=>(e(n),!1))}forEachInRange(e,n){const o=this.data.getIteratorFrom(e[0]);for(;o.hasNext();){const u=o.getNext();if(this.comparator(u.key,e[1])>=0)return;n(u.key)}}forEachWhile(e,n){let o;for(o=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();o.hasNext();)if(!e(o.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Yc(this.data.getIterator())}getIteratorFrom(e){return new Yc(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(o=>{n=n.add(o)}),n}isEqual(e){if(!(e instanceof Vr)||this.size!==e.size)return!1;const n=this.data.getIterator(),o=e.data.getIterator();for(;n.hasNext();){const u=n.getNext().key,l=o.getNext().key;if(0!==this.comparator(u,l))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Vr(this.comparator);return n.data=e,n}}class Yc{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class $s{constructor(e){this.fields=e,e.sort(Ai.comparator)}static empty(){return new $s([])}unionWith(e){let n=new Vr(Ai.comparator);for(const o of this.fields)n=n.add(o);for(const o of e)n=n.add(o);return new $s(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return pa(this.fields,e.fields,(n,o)=>n.isEqual(o))}}class ku extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class os{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new ku("Invalid base64 string: "+u):u}}(e);return new os(n)}static fromUint8Array(e){const n=function(o){let u="";for(let l=0;l<o.length;++l)u+=String.fromCharCode(o[l]);return u}(e);return new os(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let o=0;o<e.length;o++)n[o]=e.charCodeAt(o);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Qt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}os.EMPTY_BYTE_STRING=new os("");const Pl=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Uo(i){if(bt(!!i),"string"==typeof i){let e=0;const n=Pl.exec(i);if(bt(!!n),n[1]){let u=n[1];u=(u+"000000000").substr(0,9),e=Number(u)}const o=new Date(i);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:Rr(i.seconds),nanos:Rr(i.nanos)}}function Rr(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function ta(i){return"string"==typeof i?os.fromBase64String(i):os.fromUint8Array(i)}function na(i){var e,n;return"server_timestamp"===(null===(n=((null===(e=i?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Lu(i){const e=i.mapValue.fields.__previous_value__;return na(e)?Lu(e):e}function ra(i){const e=Uo(i.mapValue.fields.__local_write_time__.timestampValue);return new ai(e.seconds,e.nanos)}class qa{constructor(e,n,o,u,l,f,T,O,U){this.databaseId=e,this.appId=n,this.persistenceKey=o,this.host=u,this.ssl=l,this.forceLongPolling=f,this.autoDetectLongPolling=T,this.longPollingOptions=O,this.useFetchStreams=U}}class ho{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new ho("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof ho&&e.projectId===this.projectId&&e.database===this.database}}const Vo={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Bo(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?na(i)?4:dc(i)?9007199254740991:10:mt()}function fo(i,e){if(i===e)return!0;const n=Bo(i);if(n!==Bo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return ra(i).isEqual(ra(e));case 3:return function(o,u){if("string"==typeof o.timestampValue&&"string"==typeof u.timestampValue&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const l=Uo(o.timestampValue),f=Uo(u.timestampValue);return l.seconds===f.seconds&&l.nanos===f.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return u=e,ta(i.bytesValue).isEqual(ta(u.bytesValue));case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,u){return Rr(o.geoPointValue.latitude)===Rr(u.geoPointValue.latitude)&&Rr(o.geoPointValue.longitude)===Rr(u.geoPointValue.longitude)}(i,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return Rr(o.integerValue)===Rr(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const l=Rr(o.doubleValue),f=Rr(u.doubleValue);return l===f?xt(l)===xt(f):isNaN(l)&&isNaN(f)}return!1}(i,e);case 9:return pa(i.arrayValue.values||[],e.arrayValue.values||[],fo);case 10:return function(o,u){const l=o.mapValue.fields||{},f=u.mapValue.fields||{};if(kh(l)!==kh(f))return!1;for(const T in l)if(l.hasOwnProperty(T)&&(void 0===f[T]||!fo(l[T],f[T])))return!1;return!0}(i,e);default:return mt()}var u}function hu(i,e){return void 0!==(i.values||[]).find(n=>fo(n,e))}function ka(i,e){if(i===e)return 0;const n=Bo(i),o=Bo(e);if(n!==o)return Qt(n,o);switch(n){case 0:case 9007199254740991:return 0;case 1:return Qt(i.booleanValue,e.booleanValue);case 2:return function(u,l){const f=Rr(u.integerValue||u.doubleValue),T=Rr(l.integerValue||l.doubleValue);return f<T?-1:f>T?1:f===T?0:isNaN(f)?isNaN(T)?0:-1:1}(i,e);case 3:return lc(i.timestampValue,e.timestampValue);case 4:return lc(ra(i),ra(e));case 5:return Qt(i.stringValue,e.stringValue);case 6:return function(u,l){const f=ta(u),T=ta(l);return f.compareTo(T)}(i.bytesValue,e.bytesValue);case 7:return function(u,l){const f=u.split("/"),T=l.split("/");for(let O=0;O<f.length&&O<T.length;O++){const U=Qt(f[O],T[O]);if(0!==U)return U}return Qt(f.length,T.length)}(i.referenceValue,e.referenceValue);case 8:return function(u,l){const f=Qt(Rr(u.latitude),Rr(l.latitude));return 0!==f?f:Qt(Rr(u.longitude),Rr(l.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return function(u,l){const f=u.values||[],T=l.values||[];for(let O=0;O<f.length&&O<T.length;++O){const U=ka(f[O],T[O]);if(U)return U}return Qt(f.length,T.length)}(i.arrayValue,e.arrayValue);case 10:return function(u,l){if(u===Vo.mapValue&&l===Vo.mapValue)return 0;if(u===Vo.mapValue)return 1;if(l===Vo.mapValue)return-1;const f=u.fields||{},T=Object.keys(f),O=l.fields||{},U=Object.keys(O);T.sort(),U.sort();for(let Q=0;Q<T.length&&Q<U.length;++Q){const ce=Qt(T[Q],U[Q]);if(0!==ce)return ce;const Fe=ka(f[T[Q]],O[U[Q]]);if(0!==Fe)return Fe}return Qt(T.length,U.length)}(i.mapValue,e.mapValue);default:throw mt()}}function lc(i,e){if("string"==typeof i&&"string"==typeof e&&i.length===e.length)return Qt(i,e);const n=Uo(i),o=Uo(e),u=Qt(n.seconds,o.seconds);return 0!==u?u:Qt(n.nanos,o.nanos)}function Io(i){return Fu(i)}function Fu(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(o){const u=Uo(o);return`time(${u.seconds},${u.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?ta(i.bytesValue).toBase64():"referenceValue"in i?Nt.fromName(i.referenceValue).toString():"geoPointValue"in i?`geo(${(e=i.geoPointValue).latitude},${e.longitude})`:"arrayValue"in i?function(o){let u="[",l=!0;for(const f of o.values||[])l?l=!1:u+=",",u+=Fu(f);return u+"]"}(i.arrayValue):"mapValue"in i?function(o){const u=Object.keys(o.fields||{}).sort();let l="{",f=!0;for(const T of u)f?f=!1:l+=",",l+=`${T}:${Fu(o.fields[T])}`;return l+"}"}(i.mapValue):mt();var e}function va(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function Qa(i){return!!i&&"integerValue"in i}function Xa(i){return!!i&&"arrayValue"in i}function Vi(i){return!!i&&"nullValue"in i}function kl(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Do(i){return!!i&&"mapValue"in i}function fu(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return Ka(i.mapValue.fields,(n,o)=>e.mapValue.fields[n]=fu(o)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=fu(i.arrayValue.values[n]);return e}return Object.assign({},i)}function dc(i){return"__max__"===(((i.mapValue||{}).fields||{}).__type__||{}).stringValue}class I{constructor(e){this.value=e}static empty(){return new I({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let o=0;o<e.length-1;++o)if(n=(n.mapValue.fields||{})[e.get(o)],!Do(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=fu(n)}setAll(e){let n=Ai.emptyPath(),o={},u=[];e.forEach((f,T)=>{if(!n.isImmediateParentOf(T)){const O=this.getFieldsMap(n);this.applyChanges(O,o,u),o={},u=[],n=T.popLast()}f?o[T.lastSegment()]=fu(f):u.push(T.lastSegment())});const l=this.getFieldsMap(n);this.applyChanges(l,o,u)}delete(e){const n=this.field(e.popLast());Do(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return fo(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let o=0;o<e.length;++o){let u=n.mapValue.fields[e.get(o)];Do(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},n.mapValue.fields[e.get(o)]=u),n=u}return n.mapValue.fields}applyChanges(e,n,o){Ka(n,(u,l)=>e[u]=l);for(const u of o)delete e[u]}clone(){return new I(fu(this.value))}}function N(i){const e=[];return Ka(i.fields,(n,o)=>{const u=new Ai([n]);if(Do(o)){const l=N(o.mapValue).fields;if(0===l.length)e.push(u);else for(const f of l)e.push(u.child(f))}else e.push(u)}),new $s(e)}class L{constructor(e,n,o,u,l,f,T){this.key=e,this.documentType=n,this.version=o,this.readTime=u,this.createTime=l,this.data=f,this.documentState=T}static newInvalidDocument(e){return new L(e,0,Zt.min(),Zt.min(),Zt.min(),I.empty(),0)}static newFoundDocument(e,n,o,u){return new L(e,1,n,Zt.min(),o,u,0)}static newNoDocument(e,n){return new L(e,2,n,Zt.min(),Zt.min(),I.empty(),0)}static newUnknownDocument(e,n){return new L(e,3,n,Zt.min(),Zt.min(),I.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Zt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=I.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=I.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Zt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof L&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new L(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class te{constructor(e,n){this.position=e,this.inclusive=n}}function me(i,e,n){let o=0;for(let u=0;u<i.position.length;u++){const l=e[u],f=i.position[u];if(o=l.field.isKeyField()?Nt.comparator(Nt.fromName(f.referenceValue),n.key):ka(f,n.data.field(l.field)),"desc"===l.dir&&(o*=-1),0!==o)break}return o}function De(i,e){if(null===i)return null===e;if(null===e||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!fo(i.position[n],e.position[n]))return!1;return!0}class Xe{constructor(e,n="asc"){this.field=e,this.dir=n}}function Pt(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}class At{}class gt extends At{constructor(e,n,o){super(),this.field=e,this.op=n,this.value=o}static create(e,n,o){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,o):new Hs(e,n,o):"array-contains"===n?new pc(e,o):"in"===n?new ip(e,o):"not-in"===n?new bv(e,o):"array-contains-any"===n?new Ld(e,o):new gt(e,n,o)}static createKeyFieldInFilter(e,n,o){return"in"===n?new hc(e,o):new Lh(e,o)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(ka(n,this.value)):null!==n&&Bo(this.value)===Bo(n)&&this.matchesComparison(ka(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return mt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Bt extends At{constructor(e,n){super(),this.filters=e,this.op=n,this.lt=null}static create(e,n){return new Bt(e,n)}matches(e){return wn(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(n=>n.isInequality());return null!==e?e.field:null}ft(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function wn(i){return"and"===i.op}function is(i){return function Uu(i){for(const e of i.filters)if(e instanceof Bt)return!1;return!0}(i)&&wn(i)}function xi(i){if(i instanceof gt)return i.field.canonicalString()+i.op.toString()+Io(i.value);if(is(i))return i.filters.map(e=>xi(e)).join(",");{const e=i.filters.map(n=>xi(n)).join(",");return`${i.op}(${e})`}}function Ja(i,e){return i instanceof gt?(n=i,(o=e)instanceof gt&&n.op===o.op&&n.field.isEqual(o.field)&&fo(n.value,o.value)):i instanceof Bt?function(n,o){return o instanceof Bt&&n.op===o.op&&n.filters.length===o.filters.length&&n.filters.reduce((u,l,f)=>u&&Ja(l,o.filters[f]),!0)}(i,e):void mt();var n,o}function _a(i){return i instanceof gt?`${(e=i).field.canonicalString()} ${e.op} ${Io(e.value)}`:i instanceof Bt?function(e){return e.op.toString()+" {"+e.getFilters().map(_a).join(" ,")+"}"}(i):"Filter";var e}class Hs extends gt{constructor(e,n,o){super(e,n,o),this.key=Nt.fromName(o.referenceValue)}matches(e){const n=Nt.comparator(e.key,this.key);return this.matchesComparison(n)}}class hc extends gt{constructor(e,n){super(e,"in",n),this.keys=fc(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Lh extends gt{constructor(e,n){super(e,"not-in",n),this.keys=fc(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function fc(i,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(o=>Nt.fromName(o.referenceValue))}class pc extends gt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Xa(n)&&hu(n.arrayValue,this.value)}}class ip extends gt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&hu(this.value.arrayValue,n)}}class bv extends gt{constructor(e,n){super(e,"not-in",n)}matches(e){if(hu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!hu(this.value.arrayValue,n)}}class Ld extends gt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Xa(n)||!n.arrayValue.values)&&n.arrayValue.values.some(o=>hu(this.value.arrayValue,o))}}class sp{constructor(e,n=null,o=[],u=[],l=null,f=null,T=null){this.path=e,this.collectionGroup=n,this.orderBy=o,this.filters=u,this.limit=l,this.startAt=f,this.endAt=T,this.dt=null}}function Ns(i,e=null,n=[],o=[],u=null,l=null,f=null){return new sp(i,e,n,o,u,l,f)}function La(i){const e=wt(i);if(null===e.dt){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(o=>xi(o)).join(","),n+="|ob:",n+=e.orderBy.map(o=>{return(u=o).field.canonicalString()+u.dir;var u}).join(","),Pe(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(o=>Io(o)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(o=>Io(o)).join(",")),e.dt=n}return e.dt}function Ea(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!Pt(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!Ja(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!De(i.startAt,e.startAt)&&De(i.endAt,e.endAt)}function Fd(i){return Nt.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}class eu{constructor(e,n=null,o=[],u=[],l=null,f="F",T=null,O=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=o,this.filters=u,this.limit=l,this.limitType=f,this.startAt=T,this.endAt=O,this.wt=null,this._t=null}}function gc(i){return new eu(i)}function Vh(i){return 0===i.filters.length&&null===i.limit&&null==i.startAt&&null==i.endAt&&(0===i.explicitOrderBy.length||1===i.explicitOrderBy.length&&i.explicitOrderBy[0].field.isKeyField())}function mc(i){return i.explicitOrderBy.length>0?i.explicitOrderBy[0].field:null}function Fa(i){for(const e of i.filters){const n=e.getFirstInequalityField();if(null!==n)return n}return null}function Fl(i){return null!==i.collectionGroup}function tu(i){const e=wt(i);if(null===e.wt){e.wt=[];const n=Fa(e),o=mc(e);if(null!==n&&null===o)n.isKeyField()||e.wt.push(new Xe(n)),e.wt.push(new Xe(Ai.keyField(),"asc"));else{let u=!1;for(const l of e.explicitOrderBy)e.wt.push(l),l.field.isKeyField()&&(u=!0);if(!u){const l=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Xe(Ai.keyField(),l))}}}return e.wt}function zs(i){const e=wt(i);if(!e._t)if("F"===e.limitType)e._t=Ns(e.path,e.collectionGroup,tu(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const l of tu(e))n.push(new Xe(l.field,"desc"===l.dir?"asc":"desc"));const o=e.endAt?new te(e.endAt.position,e.endAt.inclusive):null,u=e.startAt?new te(e.startAt.position,e.startAt.inclusive):null;e._t=Ns(e.path,e.collectionGroup,n,e.filters,e.limit,o,u)}return e._t}function yc(i,e){e.getFirstInequalityField(),Fa(i);const n=i.filters.concat([e]);return new eu(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function Ul(i,e,n){return new eu(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function vc(i,e){return Ea(zs(i),zs(e))&&i.limitType===e.limitType}function Vl(i){return`${La(zs(i))}|lt:${i.limitType}`}function _c(i){return`Query(target=${function(e){let n=e.path.canonicalString();return null!==e.collectionGroup&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(o=>_a(o)).join(", ")}]`),Pe(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(o=>{return`${(u=o).field.canonicalString()} (${u.dir})`;var u}).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(o=>Io(o)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(o=>Io(o)).join(",")),`Target(${n})`}(zs(i))}; limitType=${i.limitType})`}function Ec(i,e){return e.isFoundDocument()&&function(n,o){const u=o.key.path;return null!==n.collectionGroup?o.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(u):Nt.isDocumentKey(n.path)?n.path.isEqual(u):n.path.isImmediateParentOf(u)}(i,e)&&function(n,o){for(const u of tu(n))if(!u.field.isKeyField()&&null===o.data.field(u.field))return!1;return!0}(i,e)&&function(n,o){for(const u of n.filters)if(!u.matches(o))return!1;return!0}(i,e)&&(o=e,!((n=i).startAt&&!function(u,l,f){const T=me(u,l,f);return u.inclusive?T<=0:T<0}(n.startAt,tu(n),o)||n.endAt&&!function(u,l,f){const T=me(u,l,f);return u.inclusive?T>=0:T>0}(n.endAt,tu(n),o)));var n,o}function ap(i){return(e,n)=>{let o=!1;for(const u of tu(i)){const l=el(u,e,n);if(0!==l)return l;o=o||u.field.isKeyField()}return 0}}function el(i,e,n){const o=i.field.isKeyField()?Nt.comparator(e.key,n.key):function(u,l,f){const T=l.data.field(u),O=f.data.field(u);return null!==T&&null!==O?ka(T,O):mt()}(i.field,e,n);switch(i.dir){case"asc":return o;case"desc":return-1*o;default:return mt()}}class sa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),o=this.inner[n];if(void 0!==o)for(const[u,l]of o)if(this.equalsFn(u,e))return l}has(e){return void 0!==this.get(e)}set(e,n){const o=this.mapKeyFn(e),u=this.inner[o];if(void 0===u)return this.inner[o]=[[e,n]],void this.innerSize++;for(let l=0;l<u.length;l++)if(this.equalsFn(u[l][0],e))return void(u[l]=[e,n]);u.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),o=this.inner[n];if(void 0===o)return!1;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return 1===o.length?delete this.inner[n]:o.splice(u,1),this.innerSize--,!0;return!1}forEach(e){Ka(this.inner,(n,o)=>{for(const[u,l]of o)e(u,l)})}isEmpty(){return cc(this.inner)}size(){return this.innerSize}}const lm=new ci(Nt.comparator);function oa(){return lm}const Bh=new ci(Nt.comparator);function Bl(...i){let e=Bh;for(const n of i)e=e.insert(n.key,n);return e}function dm(i){let e=Bh;return i.forEach((n,o)=>e=e.insert(n,o.overlayedDocument)),e}function nu(){return jl()}function up(){return jl()}function jl(){return new sa(i=>i.toString(),(i,e)=>i.isEqual(e))}const $l=new ci(Nt.comparator),cp=new Vr(Nt.comparator);function Zn(...i){let e=cp;for(const n of i)e=e.add(n);return e}const lp=new Vr(Qt);function jh(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:xt(e)?"-0":e}}function hm(i){return{integerValue:""+i}}function hp(i,e){return function An(i){return"number"==typeof i&&Number.isInteger(i)&&!xt(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}(e)?hm(e):jh(i,e)}class Vd{constructor(){this._=void 0}}function $h(i,e,n){return i instanceof Vu?function(o,u){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&na(u)&&(u=Lu(u)),u&&(l.fields.__previous_value__=u),{mapValue:l}}(n,e):i instanceof tl?pm(i,e):i instanceof nl?gm(i,e):function(o,u){const l=fm(o,u),f=fp(l)+fp(o.gt);return Qa(l)&&Qa(o.gt)?hm(f):jh(o.serializer,f)}(i,e)}function Sv(i,e,n){return i instanceof tl?pm(i,e):i instanceof nl?gm(i,e):n}function fm(i,e){return i instanceof Hl?Qa(n=e)||(o=n)&&"doubleValue"in o?e:{integerValue:0}:null;var o,n}class Vu extends Vd{}class tl extends Vd{constructor(e){super(),this.elements=e}}function pm(i,e){const n=zl(e);for(const o of i.elements)n.some(u=>fo(u,o))||n.push(o);return{arrayValue:{values:n}}}class nl extends Vd{constructor(e){super(),this.elements=e}}function gm(i,e){let n=zl(e);for(const o of i.elements)n=n.filter(u=>!fo(u,o));return{arrayValue:{values:n}}}class Hl extends Vd{constructor(e,n){super(),this.serializer=e,this.gt=n}}function fp(i){return Rr(i.integerValue||i.doubleValue)}function zl(i){return Xa(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class gp{constructor(e,n){this.version=e,this.transformResults=n}}class Bi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Bi}static exists(e){return new Bi(void 0,e)}static updateTime(e){return new Bi(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function pu(i,e){return void 0!==i.updateTime?e.isFoundDocument()&&e.version.isEqual(i.updateTime):void 0===i.exists||i.exists===e.isFoundDocument()}class Gl{}function Hh(i,e){if(!i.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return i.isNoDocument()?new il(i.key,Bi.none()):new rl(i.key,i.data,Bi.none());{const n=i.data,o=I.empty();let u=new Vr(Ai.comparator);for(let l of e.fields)if(!u.has(l)){let f=n.field(l);null===f&&l.length>1&&(l=l.popLast(),f=n.field(l)),null===f?o.delete(l):o.set(l,f),u=u.add(l)}return new ru(i.key,o,new $s(u.toArray()),Bi.none())}}function Wl(i,e,n){i instanceof rl?function(o,u,l){const f=o.value.clone(),T=jd(o.fieldTransforms,u,l.transformResults);f.setAll(T),u.convertToFoundDocument(l.version,f).setHasCommittedMutations()}(i,e,n):i instanceof ru?function(o,u,l){if(!pu(o.precondition,u))return void u.convertToUnknownDocument(l.version);const f=jd(o.fieldTransforms,u,l.transformResults),T=u.data;T.setAll(zh(o)),T.setAll(f),u.convertToFoundDocument(l.version,T).setHasCommittedMutations()}(i,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function ju(i,e,n,o){return i instanceof rl?function(u,l,f,T){if(!pu(u.precondition,l))return f;const O=u.value.clone(),U=yp(u.fieldTransforms,T,l);return O.setAll(U),l.convertToFoundDocument(l.version,O).setHasLocalMutations(),null}(i,e,n,o):i instanceof ru?function(u,l,f,T){if(!pu(u.precondition,l))return f;const O=yp(u.fieldTransforms,T,l),U=l.data;return U.setAll(zh(u)),U.setAll(O),l.convertToFoundDocument(l.version,U).setHasLocalMutations(),null===f?null:f.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(Q=>Q.field))}(i,e,n,o):(f=n,pu(i.precondition,l=e)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):f);var l,f}function Bd(i,e){let n=null;for(const o of i.fieldTransforms){const u=e.data.field(o.field),l=fm(o.transform,u||null);null!=l&&(null===n&&(n=I.empty()),n.set(o.field,l))}return n||null}function mp(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&(o=e.fieldTransforms,!!(void 0===(n=i.fieldTransforms)&&void 0===o||n&&o&&pa(n,o,(u,l)=>function pp(i,e){return i.field.isEqual(e.field)&&(o=e.transform,(n=i.transform)instanceof tl&&o instanceof tl||n instanceof nl&&o instanceof nl?pa(n.elements,o.elements,fo):n instanceof Hl&&o instanceof Hl?fo(n.gt,o.gt):n instanceof Vu&&o instanceof Vu);var n,o}(u,l))))&&(0===i.type?i.value.isEqual(e.value):1!==i.type||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask));var n,o}class rl extends Gl{constructor(e,n,o,u=[]){super(),this.key=e,this.value=n,this.precondition=o,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class ru extends Gl{constructor(e,n,o,u,l=[]){super(),this.key=e,this.data=n,this.fieldMask=o,this.precondition=u,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function zh(i){const e=new Map;return i.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const o=i.data.field(n);e.set(n,o)}}),e}function jd(i,e,n){const o=new Map;bt(i.length===n.length);for(let u=0;u<n.length;u++){const l=i[u],f=l.transform,T=e.data.field(l.field);o.set(l.field,Sv(f,T,n[u]))}return o}function yp(i,e,n){const o=new Map;for(const u of i){const l=u.transform,f=n.data.field(u.field);o.set(u.field,$h(l,f,e))}return o}class il extends Gl{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Gh extends Gl{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class $d{constructor(e,n,o,u){this.batchId=e,this.localWriteTime=n,this.baseMutations=o,this.mutations=u}applyToRemoteDocument(e,n){const o=n.mutationResults;for(let u=0;u<this.mutations.length;u++){const l=this.mutations[u];l.key.isEqual(e.key)&&Wl(l,e,o[u])}}applyToLocalView(e,n){for(const o of this.baseMutations)o.key.isEqual(e.key)&&(n=ju(o,e,n,this.localWriteTime));for(const o of this.mutations)o.key.isEqual(e.key)&&(n=ju(o,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const o=up();return this.mutations.forEach(u=>{const l=e.get(u.key),f=l.overlayedDocument;let T=this.applyToLocalView(f,l.mutatedFields);T=n.has(u.key)?null:T;const O=Hh(f,T);null!==O&&o.set(u.key,O),f.isValidDocument()||f.convertToNoDocument(Zt.min())}),o}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Zn())}isEqual(e){return this.batchId===e.batchId&&pa(this.mutations,e.mutations,(n,o)=>mp(n,o))&&pa(this.baseMutations,e.baseMutations,(n,o)=>mp(n,o))}}class Wh{constructor(e,n,o,u){this.batch=e,this.commitVersion=n,this.mutationResults=o,this.docVersions=u}static from(e,n,o){bt(e.mutations.length===o.length);let u=$l;const l=e.mutations;for(let f=0;f<l.length;f++)u=u.insert(l[f].key,o[f].version);return new Wh(e,n,o,u)}}class Kh{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class D{constructor(e,n){this.count=e,this.unchangedNames=n}}var h,p;function j(i){if(void 0===i)return Yt("GRPC error has no .code"),Ie.UNKNOWN;switch(i){case h.OK:return Ie.OK;case h.CANCELLED:return Ie.CANCELLED;case h.UNKNOWN:return Ie.UNKNOWN;case h.DEADLINE_EXCEEDED:return Ie.DEADLINE_EXCEEDED;case h.RESOURCE_EXHAUSTED:return Ie.RESOURCE_EXHAUSTED;case h.INTERNAL:return Ie.INTERNAL;case h.UNAVAILABLE:return Ie.UNAVAILABLE;case h.UNAUTHENTICATED:return Ie.UNAUTHENTICATED;case h.INVALID_ARGUMENT:return Ie.INVALID_ARGUMENT;case h.NOT_FOUND:return Ie.NOT_FOUND;case h.ALREADY_EXISTS:return Ie.ALREADY_EXISTS;case h.PERMISSION_DENIED:return Ie.PERMISSION_DENIED;case h.FAILED_PRECONDITION:return Ie.FAILED_PRECONDITION;case h.ABORTED:return Ie.ABORTED;case h.OUT_OF_RANGE:return Ie.OUT_OF_RANGE;case h.UNIMPLEMENTED:return Ie.UNIMPLEMENTED;case h.DATA_LOSS:return Ie.DATA_LOSS;default:return mt()}}(p=h||(h={}))[p.OK=0]="OK",p[p.CANCELLED=1]="CANCELLED",p[p.UNKNOWN=2]="UNKNOWN",p[p.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",p[p.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",p[p.NOT_FOUND=5]="NOT_FOUND",p[p.ALREADY_EXISTS=6]="ALREADY_EXISTS",p[p.PERMISSION_DENIED=7]="PERMISSION_DENIED",p[p.UNAUTHENTICATED=16]="UNAUTHENTICATED",p[p.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",p[p.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",p[p.ABORTED=10]="ABORTED",p[p.OUT_OF_RANGE=11]="OUT_OF_RANGE",p[p.UNIMPLEMENTED=12]="UNIMPLEMENTED",p[p.INTERNAL=13]="INTERNAL",p[p.UNAVAILABLE=14]="UNAVAILABLE",p[p.DATA_LOSS=15]="DATA_LOSS";class Y{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Ee}static getOrCreateInstance(){return null===Ee&&(Ee=new Y),Ee}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let Ee=null;const _t=new si([4294967295,4294967295],0);function Gt(i){const e=function ze(){return new TextEncoder}().encode(i),n=new vi;return n.update(e),new Uint8Array(n.digest())}function _n(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),o=e.getUint32(4,!0),u=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new si([n,o],0),new si([u,l],0)]}class Mn{constructor(e,n,o){if(this.bitmap=e,this.padding=n,this.hashCount=o,n<0||n>=8)throw new xr(`Invalid padding: ${n}`);if(o<0)throw new xr(`Invalid hash count: ${o}`);if(e.length>0&&0===this.hashCount)throw new xr(`Invalid hash count: ${o}`);if(0===e.length&&0!==n)throw new xr(`Invalid padding when bitmap length is 0: ${n}`);this.It=8*e.length-n,this.Tt=si.fromNumber(this.It)}Et(e,n,o){let u=e.add(n.multiply(si.fromNumber(o)));return 1===u.compare(_t)&&(u=new si([u.getBits(0),u.getBits(1)],0)),u.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const n=Gt(e),[o,u]=_n(n);for(let l=0;l<this.hashCount;l++){const f=this.Et(o,u,l);if(!this.At(f))return!1}return!0}static create(e,n,o){const u=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),f=new Mn(l,u,n);return o.forEach(T=>f.insert(T)),f}insert(e){if(0===this.It)return;const n=Gt(e),[o,u]=_n(n);for(let l=0;l<this.hashCount;l++){const f=this.Et(o,u,l);this.Rt(f)}}Rt(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class xr extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class To{constructor(e,n,o,u,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=o,this.documentUpdates=u,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,o){const u=new Map;return u.set(e,Ua.createSynthesizedTargetChangeForCurrentChange(e,n,o)),new To(Zt.min(),u,new ci(Qt),oa(),Zn())}}class Ua{constructor(e,n,o,u,l){this.resumeToken=e,this.current=n,this.addedDocuments=o,this.modifiedDocuments=u,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,o){return new Ua(o,n,Zn(),Zn(),Zn())}}class wa{constructor(e,n,o,u){this.Pt=e,this.removedTargetIds=n,this.key=o,this.bt=u}}class wc{constructor(e,n){this.targetId=e,this.Vt=n}}class Hd{constructor(e,n,o=os.EMPTY_BYTE_STRING,u=null){this.state=e,this.targetIds=n,this.resumeToken=o,this.cause=u}}class $u{constructor(){this.St=0,this.Dt=Kl(),this.Ct=os.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=Zn(),n=Zn(),o=Zn();return this.Dt.forEach((u,l)=>{switch(l){case 0:e=e.add(u);break;case 2:n=n.add(u);break;case 1:o=o.add(u);break;default:mt()}}),new Ua(this.Ct,this.xt,e,n,o)}Ft(){this.Nt=!1,this.Dt=Kl()}Bt(e,n){this.Nt=!0,this.Dt=this.Dt.insert(e,n)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class zd{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=oa(),this.zt=Gd(),this.Wt=new ci(Qt)}Ht(e){for(const n of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(n,e.bt):this.Yt(n,e.key,e.bt);for(const n of e.removedTargetIds)this.Yt(n,e.key,e.bt)}Xt(e){this.forEachTarget(e,n=>{const o=this.Zt(n);switch(e.state){case 0:this.te(n)&&o.$t(e.resumeToken);break;case 1:o.Ut(),o.kt||o.Ft(),o.$t(e.resumeToken);break;case 2:o.Ut(),o.kt||this.removeTarget(n);break;case 3:this.te(n)&&(o.Kt(),o.$t(e.resumeToken));break;case 4:this.te(n)&&(this.ee(n),o.$t(e.resumeToken));break;default:mt()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qt.forEach((o,u)=>{this.te(u)&&n(u)})}ne(e){var n;const o=e.targetId,u=e.Vt.count,l=this.se(o);if(l){const f=l.target;if(Fd(f))if(0===u){const T=new Nt(f.path);this.Yt(o,T,L.newNoDocument(T,Zt.min()))}else bt(1===u);else{const T=this.ie(o);if(T!==u){const O=this.re(e,T);0!==O&&(this.ee(o),this.Wt=this.Wt.insert(o,2===O?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(n=Y.instance)||void 0===n||n.notifyOnExistenceFilterMismatch(function(U,Q,ce){var Fe,et,It,$t,Xt,rr;const Or={localCacheCount:Q,existenceFilterCount:ce.count},dr=ce.unchangedNames;return dr&&(Or.bloomFilter={applied:0===U,hashCount:null!==(Fe=dr?.hashCount)&&void 0!==Fe?Fe:0,bitmapLength:null!==($t=null===(It=null===(et=dr?.bits)||void 0===et?void 0:et.bitmap)||void 0===It?void 0:It.length)&&void 0!==$t?$t:0,padding:null!==(rr=null===(Xt=dr?.bits)||void 0===Xt?void 0:Xt.padding)&&void 0!==rr?rr:0}),Or}(O,T,e.Vt))}}}}re(e,n){const{unchangedNames:o,count:u}=e.Vt;if(!o||!o.bits)return 1;const{bits:{bitmap:l="",padding:f=0},hashCount:T=0}=o;let O,U;try{O=ta(l).toUint8Array()}catch(Q){if(Q instanceof ku)return Zr("Decoding the base64 bloom filter in existence filter failed ("+Q.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw Q}try{U=new Mn(O,f,T)}catch(Q){return Zr(Q instanceof xr?"BloomFilter error: ":"Applying bloom filter failed: ",Q),1}return 0===U.It?1:u!==n-this.oe(e.targetId,U)?2:0}oe(e,n){const o=this.Gt.getRemoteKeysForTarget(e);let u=0;return o.forEach(l=>{const f=this.Gt.ue(),T=`projects/${f.projectId}/databases/${f.database}/documents/${l.path.canonicalString()}`;n.vt(T)||(this.Yt(e,l,null),u++)}),u}ce(e){const n=new Map;this.Qt.forEach((l,f)=>{const T=this.se(f);if(T){if(l.current&&Fd(T.target)){const O=new Nt(T.target.path);null!==this.jt.get(O)||this.ae(f,O)||this.Yt(f,O,L.newNoDocument(O,e))}l.Mt&&(n.set(f,l.Ot()),l.Ft())}});let o=Zn();this.zt.forEach((l,f)=>{let T=!0;f.forEachWhile(O=>{const U=this.se(O);return!U||"TargetPurposeLimboResolution"===U.purpose||(T=!1,!1)}),T&&(o=o.add(l))}),this.jt.forEach((l,f)=>f.setReadTime(e));const u=new To(e,n,this.Wt,this.jt,o);return this.jt=oa(),this.zt=Gd(),this.Wt=new ci(Qt),u}Jt(e,n){if(!this.te(e))return;const o=this.ae(e,n.key)?2:0;this.Zt(e).Bt(n.key,o),this.jt=this.jt.insert(n.key,n),this.zt=this.zt.insert(n.key,this.he(n.key).add(e))}Yt(e,n,o){if(!this.te(e))return;const u=this.Zt(e);this.ae(e,n)?u.Bt(n,1):u.Lt(n),this.zt=this.zt.insert(n,this.he(n).delete(e)),o&&(this.jt=this.jt.insert(n,o))}removeTarget(e){this.Qt.delete(e)}ie(e){const n=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let n=this.Qt.get(e);return n||(n=new $u,this.Qt.set(e,n)),n}he(e){let n=this.zt.get(e);return n||(n=new Vr(Qt),this.zt=this.zt.insert(e,n)),n}te(e){const n=null!==this.se(e);return n||Ye("WatchChangeAggregator","Detected inactive target",e),n}se(e){const n=this.Qt.get(e);return n&&n.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new $u),this.Gt.getRemoteKeysForTarget(e).forEach(n=>{this.Yt(e,n,null)})}ae(e,n){return this.Gt.getRemoteKeysForTarget(e).has(n)}}function Gd(){return new ci(Nt.comparator)}function Kl(){return new ci(Nt.comparator)}const ql={asc:"ASCENDING",desc:"DESCENDING"},Wd={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Ic={and:"AND",or:"OR"};class Dc{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Ql(i,e){return i.useProto3Json||Pe(e)?e:{value:e}}function Tc(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Kd(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function Av(i,e){return Tc(i,e.toTimestamp())}function vs(i){return bt(!!i),Zt.fromTimestamp(function(e){const n=Uo(e);return new ai(n.seconds,n.nanos)}(i))}function vp(i,e){return(n=i,new ir(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}function mm(i){const e=ir.fromString(i);return bt(Yh(e)),e}function qd(i,e){return vp(i.databaseId,e.path)}function gu(i,e){const n=mm(e);if(n.get(1)!==i.databaseId.projectId)throw new st(Ie.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new st(Ie.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new Nt(Qh(n))}function qh(i,e){return vp(i.databaseId,e)}function sl(i){return new ir(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function Qh(i){return bt(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function ym(i,e,n){return{name:qd(i,e),fields:n.value.mapValue.fields}}function wm(i,e){return{documents:[qh(i,e.path)]}}function Im(i,e){const n={structuredQuery:{}},o=e.path;null!==e.collectionGroup?(n.parent=qh(i,o),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=qh(i,o.popLast()),n.structuredQuery.from=[{collectionId:o.lastSegment()}]);const u=function(O){if(0!==O.length)return Xl(Bt.create(O,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const l=function(O){if(0!==O.length)return O.map(U=>{return{field:Hu((Q=U).field),direction:Dm(Q.dir)};var Q})}(e.orderBy);l&&(n.structuredQuery.orderBy=l);const f=Ql(i,e.limit);var T,O;return null!==f&&(n.structuredQuery.limit=f),e.startAt&&(n.structuredQuery.startAt={before:(T=e.startAt).inclusive,values:T.position}),e.endAt&&(n.structuredQuery.endAt={before:!(O=e.endAt).inclusive,values:O.position}),n}function Xd(i){let e=function Qd(i){const e=mm(i);return 4===e.length?ir.emptyPath():Qh(e)}(i.parent);const n=i.structuredQuery,o=n.from?n.from.length:0;let u=null;if(o>0){bt(1===o);const Q=n.from[0];Q.allDescendants?u=Q.collectionId:e=e.child(Q.collectionId)}let l=[];n.where&&(l=function(Q){const ce=Ep(Q);return ce instanceof Bt&&is(ce)?ce.getFilters():[ce]}(n.where));let f=[];n.orderBy&&(f=n.orderBy.map(Q=>{return new Xe(zu((ce=Q).field),function(Fe){switch(Fe){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(ce.direction));var ce}));let T=null;n.limit&&(T=function(Q){let ce;return ce="object"==typeof Q?Q.value:Q,Pe(ce)?null:ce}(n.limit));let O=null;var Q;n.startAt&&(O=new te((Q=n.startAt).values||[],!!Q.before));let U=null;return n.endAt&&(U=function(Q){return new te(Q.values||[],!Q.before)}(n.endAt)),function Ud(i,e,n,o,u,l,f,T){return new eu(i,e,n,o,u,l,f,T)}(e,u,f,l,T,"F",O,U)}function Ep(i){return void 0!==i.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=zu(e.unaryFilter.field);return gt.create(n,"==",{doubleValue:NaN});case"IS_NULL":const o=zu(e.unaryFilter.field);return gt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=zu(e.unaryFilter.field);return gt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=zu(e.unaryFilter.field);return gt.create(l,"!=",{nullValue:"NULL_VALUE"});default:return mt()}}(i):void 0!==i.fieldFilter?gt.create(zu((e=i).fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return mt()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==i.compositeFilter?function(e){return Bt.create(e.compositeFilter.filters.map(n=>Ep(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return mt()}}(e.compositeFilter.op))}(i):mt();var e}function Dm(i){return ql[i]}function Tm(i){return Wd[i]}function wp(i){return Ic[i]}function Hu(i){return{fieldPath:i.canonicalString()}}function zu(i){return Ai.fromServerFormat(i.fieldPath)}function Xl(i){return i instanceof gt?function(e){if("=="===e.op){if(kl(e.value))return{unaryFilter:{field:Hu(e.field),op:"IS_NAN"}};if(Vi(e.value))return{unaryFilter:{field:Hu(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(kl(e.value))return{unaryFilter:{field:Hu(e.field),op:"IS_NOT_NAN"}};if(Vi(e.value))return{unaryFilter:{field:Hu(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Hu(e.field),op:Tm(e.op),value:e.value}}}(i):i instanceof Bt?function(e){const n=e.getFilters().map(o=>Xl(o));return 1===n.length?n[0]:{compositeFilter:{op:wp(e.op),filters:n}}}(i):mt()}function Cm(i){const e=[];return i.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Yh(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}class Va{constructor(e,n,o,u,l=Zt.min(),f=Zt.min(),T=os.EMPTY_BYTE_STRING,O=null){this.target=e,this.targetId=n,this.purpose=o,this.sequenceNumber=u,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=T,this.expectedCount=O}withSequenceNumber(e){return new Va(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Va(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Va(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Va(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Ip{constructor(e){this.fe=e}}function Jh(i){const e=Xd({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?Ul(e,e.limit,"L"):e}class ll{constructor(){}_e(e,n){this.me(e,n),n.ge()}me(e,n){if("nullValue"in e)this.ye(n,5);else if("booleanValue"in e)this.ye(n,10),n.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(n,15),n.pe(Rr(e.integerValue));else if("doubleValue"in e){const o=Rr(e.doubleValue);isNaN(o)?this.ye(n,13):(this.ye(n,15),xt(o)?n.pe(0):n.pe(o))}else if("timestampValue"in e){const o=e.timestampValue;this.ye(n,20),"string"==typeof o?n.Ie(o):(n.Ie(`${o.seconds||""}`),n.pe(o.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,n),this.Ee(n);else if("bytesValue"in e)this.ye(n,30),n.Ae(ta(e.bytesValue)),this.Ee(n);else if("referenceValue"in e)this.ve(e.referenceValue,n);else if("geoPointValue"in e){const o=e.geoPointValue;this.ye(n,45),n.pe(o.latitude||0),n.pe(o.longitude||0)}else"mapValue"in e?dc(e)?this.ye(n,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,n),this.Ee(n)):"arrayValue"in e?(this.Pe(e.arrayValue,n),this.Ee(n)):mt()}Te(e,n){this.ye(n,25),this.be(e,n)}be(e,n){n.Ie(e)}Re(e,n){const o=e.fields||{};this.ye(n,55);for(const u of Object.keys(o))this.Te(u,n),this.me(o[u],n)}Pe(e,n){const o=e.values||[];this.ye(n,50);for(const u of o)this.me(u,n)}ve(e,n){this.ye(n,37),Nt.fromName(e).path.forEach(o=>{this.ye(n,60),this.be(o,n)})}ye(e,n){e.pe(n)}Ee(e){e.pe(2)}}ll.Ve=new ll;class Pv{constructor(){this.rn=new rf}addToCollectionParentIndex(e,n){return this.rn.add(n),Le.resolve()}getCollectionParents(e,n){return Le.resolve(this.rn.getEntries(n))}addFieldIndex(e,n){return Le.resolve()}deleteFieldIndex(e,n){return Le.resolve()}getDocumentsMatchingTarget(e,n){return Le.resolve(null)}getIndexType(e,n){return Le.resolve(0)}getFieldIndexes(e,n){return Le.resolve([])}getNextCollectionGroupToUpdate(e){return Le.resolve(null)}getMinOffset(e,n){return Le.resolve(ps.min())}getMinOffsetFromCollectionGroup(e,n){return Le.resolve(ps.min())}updateCollectionGroup(e,n,o){return Le.resolve()}updateIndexEntries(e,n){return Le.resolve()}}class rf{constructor(){this.index={}}add(e){const n=e.lastSegment(),o=e.popLast(),u=this.index[n]||new Vr(ir.comparator),l=!u.has(o);return this.index[n]=u.add(o),l}has(e){const n=e.lastSegment(),o=e.popLast(),u=this.index[n];return u&&u.has(o)}getEntries(e){return(this.index[e]||new Vr(ir.comparator)).toArray()}}new Uint8Array(0);class po{constructor(e,n,o){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=o}static withCacheSize(e){return new po(e,po.DEFAULT_COLLECTION_PERCENTILE,po.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}po.DEFAULT_COLLECTION_PERCENTILE=10,po.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,po.DEFAULT=new po(41943040,po.DEFAULT_COLLECTION_PERCENTILE,po.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),po.DISABLED=new po(-1,0,0);class nd{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new nd(0)}static Mn(){return new nd(-1)}}class Vm{constructor(){this.changes=new sa(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,L.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const o=this.changes.get(n);return void 0!==o?Le.resolve(o):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class KE{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class Bv{constructor(e,n,o,u){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=o,this.indexManager=u}getDocument(e,n){let o=null;return this.documentOverlayCache.getOverlay(e,n).next(u=>(o=u,this.remoteDocumentCache.getEntry(e,n))).next(u=>(null!==o&&ju(o.mutation,u,$s.empty(),ai.now()),u))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(o=>this.getLocalViewOfDocuments(e,o,Zn()).next(()=>o))}getLocalViewOfDocuments(e,n,o=Zn()){const u=nu();return this.populateOverlays(e,u,n).next(()=>this.computeViews(e,n,u,o).next(l=>{let f=Bl();return l.forEach((T,O)=>{f=f.insert(T,O.overlayedDocument)}),f}))}getOverlayedDocuments(e,n){const o=nu();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,Zn()))}populateOverlays(e,n,o){const u=[];return o.forEach(l=>{n.has(l)||u.push(l)}),this.documentOverlayCache.getOverlays(e,u).next(l=>{l.forEach((f,T)=>{n.set(f,T)})})}computeViews(e,n,o,u){let l=oa();const f=jl(),T=jl();return n.forEach((O,U)=>{const Q=o.get(U.key);u.has(U.key)&&(void 0===Q||Q.mutation instanceof ru)?l=l.insert(U.key,U):void 0!==Q?(f.set(U.key,Q.mutation.getFieldMask()),ju(Q.mutation,U,Q.mutation.getFieldMask(),ai.now())):f.set(U.key,$s.empty())}),this.recalculateAndSaveOverlays(e,l).next(O=>(O.forEach((U,Q)=>f.set(U,Q)),n.forEach((U,Q)=>{var ce;return T.set(U,new KE(Q,null!==(ce=f.get(U))&&void 0!==ce?ce:null))}),T))}recalculateAndSaveOverlays(e,n){const o=jl();let u=new ci((f,T)=>f-T),l=Zn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(f=>{for(const T of f)T.keys().forEach(O=>{const U=n.get(O);if(null===U)return;let Q=o.get(O)||$s.empty();Q=T.applyToLocalView(U,Q),o.set(O,Q);const ce=(u.get(T.batchId)||Zn()).add(O);u=u.insert(T.batchId,ce)})}).next(()=>{const f=[],T=u.getReverseIterator();for(;T.hasNext();){const O=T.getNext(),U=O.key,Q=O.value,ce=up();Q.forEach(Fe=>{if(!l.has(Fe)){const et=Hh(n.get(Fe),o.get(Fe));null!==et&&ce.set(Fe,et),l=l.add(Fe)}}),f.push(this.documentOverlayCache.saveOverlays(e,U,ce))}return Le.waitFor(f)}).next(()=>o)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(o=>this.recalculateAndSaveOverlays(e,o))}getDocumentsMatchingQuery(e,n,o){return Nt.isDocumentKey((u=n).path)&&null===u.collectionGroup&&0===u.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):Fl(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,o):this.getDocumentsMatchingCollectionQuery(e,n,o);var u}getNextDocuments(e,n,o,u){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,o,u).next(l=>{const f=u-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,o.largestBatchId,u-l.size):Le.resolve(nu());let T=-1,O=l;return f.next(U=>Le.forEach(U,(Q,ce)=>(T<ce.largestBatchId&&(T=ce.largestBatchId),l.get(Q)?Le.resolve():this.remoteDocumentCache.getEntry(e,Q).next(Fe=>{O=O.insert(Q,Fe)}))).next(()=>this.populateOverlays(e,U,l)).next(()=>this.computeViews(e,O,U,Zn())).next(Q=>({batchId:T,changes:dm(Q)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Nt(n)).next(o=>{let u=Bl();return o.isFoundDocument()&&(u=u.insert(o.key,o)),u})}getDocumentsMatchingCollectionGroupQuery(e,n,o){const u=n.collectionGroup;let l=Bl();return this.indexManager.getCollectionParents(e,u).next(f=>Le.forEach(f,T=>{const O=(U=n,Q=T.child(u),new eu(Q,null,U.explicitOrderBy.slice(),U.filters.slice(),U.limit,U.limitType,U.startAt,U.endAt));var U,Q;return this.getDocumentsMatchingCollectionQuery(e,O,o).next(U=>{U.forEach((Q,ce)=>{l=l.insert(Q,ce)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,n,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,o.largestBatchId).next(l=>(u=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,o,u))).next(l=>{u.forEach((T,O)=>{const U=O.getKey();null===l.get(U)&&(l=l.insert(U,L.newInvalidDocument(U)))});let f=Bl();return l.forEach((T,O)=>{const U=u.get(T);void 0!==U&&ju(U.mutation,O,$s.empty(),ai.now()),Ec(n,O)&&(f=f.insert(T,O))}),f})}}class nh{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,n){return Le.resolve(this.cs.get(n))}saveBundleMetadata(e,n){var o;return this.cs.set(n.id,{id:(o=n).id,version:o.version,createTime:vs(o.createTime)}),Le.resolve()}getNamedQuery(e,n){return Le.resolve(this.hs.get(n))}saveNamedQuery(e,n){return this.hs.set(n.name,{name:(o=n).name,query:Jh(o.bundledQuery),readTime:vs(o.readTime)}),Le.resolve();var o}}class rh{constructor(){this.overlays=new ci(Nt.comparator),this.ls=new Map}getOverlay(e,n){return Le.resolve(this.overlays.get(n))}getOverlays(e,n){const o=nu();return Le.forEach(n,u=>this.getOverlay(e,u).next(l=>{null!==l&&o.set(u,l)})).next(()=>o)}saveOverlays(e,n,o){return o.forEach((u,l)=>{this.we(e,n,l)}),Le.resolve()}removeOverlaysForBatchId(e,n,o){const u=this.ls.get(o);return void 0!==u&&(u.forEach(l=>this.overlays=this.overlays.remove(l)),this.ls.delete(o)),Le.resolve()}getOverlaysForCollection(e,n,o){const u=nu(),l=n.length+1,f=new Nt(n.child("")),T=this.overlays.getIteratorFrom(f);for(;T.hasNext();){const O=T.getNext().value,U=O.getKey();if(!n.isPrefixOf(U.path))break;U.path.length===l&&O.largestBatchId>o&&u.set(O.getKey(),O)}return Le.resolve(u)}getOverlaysForCollectionGroup(e,n,o,u){let l=new ci((U,Q)=>U-Q);const f=this.overlays.getIterator();for(;f.hasNext();){const U=f.getNext().value;if(U.getKey().getCollectionGroup()===n&&U.largestBatchId>o){let Q=l.get(U.largestBatchId);null===Q&&(Q=nu(),l=l.insert(U.largestBatchId,Q)),Q.set(U.getKey(),U)}}const T=nu(),O=l.getIterator();for(;O.hasNext()&&(O.getNext().value.forEach((U,Q)=>T.set(U,Q)),!(T.size()>=u)););return Le.resolve(T)}we(e,n,o){const u=this.overlays.get(o.key);if(null!==u){const f=this.ls.get(u.largestBatchId).delete(o.key);this.ls.set(u.largestBatchId,f)}this.overlays=this.overlays.insert(o.key,new Kh(n,o));let l=this.ls.get(n);void 0===l&&(l=Zn(),this.ls.set(n,l)),this.ls.set(n,l.add(o.key))}}class uf{constructor(){this.fs=new Vr(Gs.ds),this.ws=new Vr(Gs._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,n){const o=new Gs(e,n);this.fs=this.fs.add(o),this.ws=this.ws.add(o)}gs(e,n){e.forEach(o=>this.addReference(o,n))}removeReference(e,n){this.ys(new Gs(e,n))}ps(e,n){e.forEach(o=>this.removeReference(o,n))}Is(e){const n=new Nt(new ir([])),o=new Gs(n,e),u=new Gs(n,e+1),l=[];return this.ws.forEachInRange([o,u],f=>{this.ys(f),l.push(f.key)}),l}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const n=new Nt(new ir([])),o=new Gs(n,e),u=new Gs(n,e+1);let l=Zn();return this.ws.forEachInRange([o,u],f=>{l=l.add(f.key)}),l}containsKey(e){const n=new Gs(e,0),o=this.fs.firstAfterOrEqual(n);return null!==o&&e.isEqual(o.key)}}class Gs{constructor(e,n){this.key=e,this.As=n}static ds(e,n){return Nt.comparator(e.key,n.key)||Qt(e.As,n.As)}static _s(e,n){return Qt(e.As,n.As)||Nt.comparator(e.key,n.key)}}class Pp{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new Vr(Gs.ds)}checkEmpty(e){return Le.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,o,u){const l=this.vs;this.vs++;const f=new $d(l,n,o,u);this.mutationQueue.push(f);for(const T of u)this.Rs=this.Rs.add(new Gs(T.key,l)),this.indexManager.addToCollectionParentIndex(e,T.key.path.popLast());return Le.resolve(f)}lookupMutationBatch(e,n){return Le.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(e,n){const u=this.bs(n+1),l=u<0?0:u;return Le.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return Le.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return Le.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const o=new Gs(n,0),u=new Gs(n,Number.POSITIVE_INFINITY),l=[];return this.Rs.forEachInRange([o,u],f=>{const T=this.Ps(f.As);l.push(T)}),Le.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let o=new Vr(Qt);return n.forEach(u=>{const l=new Gs(u,0),f=new Gs(u,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([l,f],T=>{o=o.add(T.As)})}),Le.resolve(this.Vs(o))}getAllMutationBatchesAffectingQuery(e,n){const o=n.path,u=o.length+1;let l=o;Nt.isDocumentKey(l)||(l=l.child(""));const f=new Gs(new Nt(l),0);let T=new Vr(Qt);return this.Rs.forEachWhile(O=>{const U=O.key.path;return!!o.isPrefixOf(U)&&(U.length===u&&(T=T.add(O.As)),!0)},f),Le.resolve(this.Vs(T))}Vs(e){const n=[];return e.forEach(o=>{const u=this.Ps(o);null!==u&&n.push(u)}),n}removeMutationBatch(e,n){bt(0===this.Ss(n.batchId,"removed")),this.mutationQueue.shift();let o=this.Rs;return Le.forEach(n.mutations,u=>{const l=new Gs(u.key,n.batchId);return o=o.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,u.key)}).next(()=>{this.Rs=o})}Cn(e){}containsKey(e,n){const o=new Gs(n,0),u=this.Rs.firstAfterOrEqual(o);return Le.resolve(n.isEqual(u&&u.key))}performConsistencyCheck(e){return Le.resolve()}Ss(e,n){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const n=this.bs(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class Hm{constructor(e){this.Ds=e,this.docs=new ci(Nt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const o=n.key,u=this.docs.get(o),l=u?u.size:0,f=this.Ds(n);return this.docs=this.docs.insert(o,{document:n.mutableCopy(),size:f}),this.size+=f-l,this.indexManager.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const o=this.docs.get(n);return Le.resolve(o?o.document.mutableCopy():L.newInvalidDocument(n))}getEntries(e,n){let o=oa();return n.forEach(u=>{const l=this.docs.get(u);o=o.insert(u,l?l.document.mutableCopy():L.newInvalidDocument(u))}),Le.resolve(o)}getDocumentsMatchingQuery(e,n,o,u){let l=oa();const f=n.path,T=new Nt(f.child("")),O=this.docs.getIteratorFrom(T);for(;O.hasNext();){const{key:U,value:{document:Q}}=O.getNext();if(!f.isPrefixOf(U.path))break;U.path.length>f.length+1||sc(Ga(Q),o)<=0||(u.has(Q.key)||Ec(n,Q))&&(l=l.insert(Q.key,Q.mutableCopy()))}return Le.resolve(l)}getAllFromCollectionGroup(e,n,o,u){mt()}Cs(e,n){return Le.forEach(this.docs,o=>n(o))}newChangeBuffer(e){return new jv(this)}getSize(e){return Le.resolve(this.size)}}class jv extends Vm{constructor(e){super(),this.os=e}applyChanges(e){const n=[];return this.changes.forEach((o,u)=>{u.isValidDocument()?n.push(this.os.addEntry(e,u)):this.os.removeEntry(o)}),Le.waitFor(n)}getFromCache(e,n){return this.os.getEntry(e,n)}getAllFromCache(e,n){return this.os.getEntries(e,n)}}class zm{constructor(e){this.persistence=e,this.xs=new sa(n=>La(n),Ea),this.lastRemoteSnapshotVersion=Zt.min(),this.highestTargetId=0,this.Ns=0,this.ks=new uf,this.targetCount=0,this.Ms=nd.kn()}forEachTarget(e,n){return this.xs.forEach((o,u)=>n(u)),Le.resolve()}getLastRemoteSnapshotVersion(e){return Le.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Le.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),Le.resolve(this.highestTargetId)}setTargetsMetadata(e,n,o){return o&&(this.lastRemoteSnapshotVersion=o),n>this.Ns&&(this.Ns=n),Le.resolve()}Fn(e){this.xs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ms=new nd(n),this.highestTargetId=n),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,n){return this.Fn(n),this.targetCount+=1,Le.resolve()}updateTargetData(e,n){return this.Fn(n),Le.resolve()}removeTargetData(e,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,Le.resolve()}removeTargets(e,n,o){let u=0;const l=[];return this.xs.forEach((f,T)=>{T.sequenceNumber<=n&&null===o.get(T.targetId)&&(this.xs.delete(f),l.push(this.removeMatchingKeysForTargetId(e,T.targetId)),u++)}),Le.waitFor(l).next(()=>u)}getTargetCount(e){return Le.resolve(this.targetCount)}getTargetData(e,n){const o=this.xs.get(n)||null;return Le.resolve(o)}addMatchingKeys(e,n,o){return this.ks.gs(n,o),Le.resolve()}removeMatchingKeys(e,n,o){this.ks.ps(n,o);const u=this.persistence.referenceDelegate,l=[];return u&&n.forEach(f=>{l.push(u.markPotentiallyOrphaned(e,f))}),Le.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this.ks.Is(n),Le.resolve()}getMatchingKeysForTargetId(e,n){const o=this.ks.Es(n);return Le.resolve(o)}containsKey(e,n){return Le.resolve(this.ks.containsKey(n))}}class cf{constructor(e,n){this.$s={},this.overlays={},this.Os=new Me(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new zm(this),this.indexManager=new Pv,this.remoteDocumentCache=new Hm(o=>this.referenceDelegate.Ls(o)),this.serializer=new Ip(n),this.qs=new nh(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new rh,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let o=this.$s[e.toKey()];return o||(o=new Pp(n,this.referenceDelegate),this.$s[e.toKey()]=o),o}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,n,o){Ye("MemoryPersistence","Starting transaction:",e);const u=new lf(this.Os.next());return this.referenceDelegate.Us(),o(u).next(l=>this.referenceDelegate.Ks(u).next(()=>l)).toPromise().then(l=>(u.raiseOnCommittedEvent(),l))}Gs(e,n){return Le.or(Object.values(this.$s).map(o=>()=>o.containsKey(e,n)))}}class lf extends lu{constructor(e){super(),this.currentSequenceNumber=e}}class kp{constructor(e){this.persistence=e,this.Qs=new uf,this.js=null}static zs(e){return new kp(e)}get Ws(){if(this.js)return this.js;throw mt()}addReference(e,n,o){return this.Qs.addReference(o,n),this.Ws.delete(o.toString()),Le.resolve()}removeReference(e,n,o){return this.Qs.removeReference(o,n),this.Ws.add(o.toString()),Le.resolve()}markPotentiallyOrphaned(e,n){return this.Ws.add(n.toString()),Le.resolve()}removeTarget(e,n){this.Qs.Is(n.targetId).forEach(u=>this.Ws.add(u.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,n.targetId).next(u=>{u.forEach(l=>this.Ws.add(l.toString()))}).next(()=>o.removeTargetData(e,n))}Us(){this.js=new Set}Ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Le.forEach(this.Ws,o=>{const u=Nt.fromPath(o);return this.Hs(e,u).next(l=>{l||n.removeEntry(u,Zt.min())})}).next(()=>(this.js=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hs(e,n).next(o=>{o?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(e){return 0}Hs(e,n){return Le.or([()=>Le.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gs(e,n)])}}class sd{constructor(e,n,o,u){this.targetId=e,this.fromCache=n,this.Fi=o,this.Bi=u}static Li(e,n){let o=Zn(),u=Zn();for(const l of n.docChanges)switch(l.type){case 0:o=o.add(l.doc.key);break;case 1:u=u.add(l.doc.key)}return new sd(e,n.fromCache,o,u)}}class Gm{constructor(){this.qi=!1}initialize(e,n){this.Ui=e,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(e,n,o,u){return this.Ki(e,n).next(l=>l||this.Gi(e,n,u,o)).next(l=>l||this.Qi(e,n))}Ki(e,n){if(Vh(n))return Le.resolve(null);let o=zs(n);return this.indexManager.getIndexType(e,o).next(u=>0===u?null:(null!==n.limit&&1===u&&(n=Ul(n,null,"F"),o=zs(n)),this.indexManager.getDocumentsMatchingTarget(e,o).next(l=>{const f=Zn(...l);return this.Ui.getDocuments(e,f).next(T=>this.indexManager.getMinOffset(e,o).next(O=>{const U=this.ji(n,T);return this.zi(n,U,f,O.readTime)?this.Ki(e,Ul(n,null,"F")):this.Wi(e,U,n,O)}))})))}Gi(e,n,o,u){return Vh(n)||u.isEqual(Zt.min())?this.Qi(e,n):this.Ui.getDocuments(e,o).next(l=>{const f=this.ji(n,l);return this.zi(n,f,o,u)?this.Qi(e,n):(Ft()<=ie.$b.DEBUG&&Ye("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),_c(n)),this.Wi(e,f,n,function Zs(i,e){const n=i.toTimestamp().seconds,o=i.toTimestamp().nanoseconds+1,u=Zt.fromTimestamp(1e9===o?new ai(n+1,0):new ai(n,o));return new ps(u,Nt.empty(),e)}(u,-1)))})}ji(e,n){let o=new Vr(ap(e));return n.forEach((u,l)=>{Ec(e,l)&&(o=o.add(l))}),o}zi(e,n,o,u){if(null===e.limit)return!1;if(o.size!==n.size)return!0;const l="F"===e.limitType?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(u)>0)}Qi(e,n){return Ft()<=ie.$b.DEBUG&&Ye("QueryEngine","Using full collection scan to execute query:",_c(n)),this.Ui.getDocumentsMatchingQuery(e,n,ps.min())}Wi(e,n,o,u){return this.Ui.getDocumentsMatchingQuery(e,o,u).next(l=>(n.forEach(f=>{l=l.insert(f.key,f)}),l))}}class Lp{constructor(e,n,o,u){this.persistence=e,this.Hi=n,this.serializer=u,this.Ji=new ci(Qt),this.Yi=new sa(l=>La(l),Ea),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(o)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Bv(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function au(i,e){return Nc.apply(this,arguments)}function Nc(){return Nc=(0,ee.A)(function*(i,e){const n=wt(i);return yield n.persistence.runTransaction("Handle user change","readonly",o=>{let u;return n.mutationQueue.getAllMutationBatches(o).next(l=>(u=l,n.tr(e),n.mutationQueue.getAllMutationBatches(o))).next(l=>{const f=[],T=[];let O=Zn();for(const U of u){f.push(U.batchId);for(const Q of U.mutations)O=O.add(Q.key)}for(const U of l){T.push(U.batchId);for(const Q of U.mutations)O=O.add(Q.key)}return n.localDocuments.getDocuments(o,O).next(U=>({er:U,removedBatchIds:f,addedBatchIds:T}))})})}),Nc.apply(this,arguments)}function Wm(i){const e=wt(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Bs.getLastRemoteSnapshotVersion(n))}function od(i,e){const n=wt(i);return n.persistence.runTransaction("Get next mutation batch","readonly",o=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(o,e)))}function ud(i,e,n){return Vp.apply(this,arguments)}function Vp(){return Vp=(0,ee.A)(function*(i,e,n){const o=wt(i),u=o.Ji.get(e),l=n?"readwrite":"readwrite-primary";try{n||(yield o.persistence.runTransaction("Release target",l,f=>o.persistence.referenceDelegate.removeTarget(f,u)))}catch(f){if(!_(f))throw f;Ye("LocalStore",`Failed to update sequence numbers for target ${e}: ${f}`)}o.Ji=o.Ji.remove(e),o.Yi.delete(u.target)}),Vp.apply(this,arguments)}function cd(i,e,n){const o=wt(i);let u=Zt.min(),l=Zn();return o.persistence.runTransaction("Execute query","readonly",f=>function(T,O,U){const Q=wt(T),ce=Q.Yi.get(U);return void 0!==ce?Le.resolve(Q.Ji.get(ce)):Q.Bs.getTargetData(O,U)}(o,f,zs(e)).next(T=>{if(T)return u=T.lastLimboFreeSnapshotVersion,o.Bs.getMatchingKeysForTargetId(f,T.targetId).next(O=>{l=O})}).next(()=>o.Hi.getDocumentsMatchingQuery(f,e,n?u:Zt.min(),n?l:Zn())).next(T=>(function jp(i,e,n){let o=i.Xi.get(e)||Zt.min();n.forEach((u,l)=>{l.readTime.compareTo(o)>0&&(o=l.readTime)}),i.Xi.set(e,o)}(o,function op(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}(e),T),{documents:T,ir:l})))}class Rc{constructor(){this.activeTargetIds=function dp(){return lp}()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class gf{constructor(){this.Hr=new Rc,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,o){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,n,o){this.Jr[e]=n}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new Rc,Promise.resolve()}handleUserChange(e,n,o){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class ch{Yr(e){}shutdown(){}}class lh{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){Ye("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){Ye("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Gu=null;function dh(){return null===Gu?Gu=268435456+Math.round(2147483648*Math.random()):Gu++,"0x"+Gu.toString(16)}const zp={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class mf{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const $o="WebChannelConnection";class Gp extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,n,o,u,l){const f=dh(),T=this.To(e,n);Ye("RestConnection",`Sending RPC '${e}' ${f}:`,T,o);const O={};return this.Eo(O,u,l),this.Ao(e,T,O,o).then(U=>(Ye("RestConnection",`Received RPC '${e}' ${f}: `,U),U),U=>{throw Zr("RestConnection",`RPC '${e}' ${f} failed with error: `,U,"url: ",T,"request:",o),U})}vo(e,n,o,u,l,f){return this.Io(e,n,o,u,l)}Eo(e,n,o){e["X-Goog-Api-Client"]="gl-js/ fire/"+Ar,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((u,l)=>e[l]=u),o&&o.headers.forEach((u,l)=>e[l]=u)}To(e,n){return`${this.mo}/v1/${n}:${zp[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,n,o,u){const l=dh();return new Promise((f,T)=>{const O=new Gn;O.setWithCredentials(!0),O.listenOnce(Kn.COMPLETE,()=>{try{switch(O.getLastErrorCode()){case Mt.NO_ERROR:const Q=O.getResponseJson();Ye($o,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(Q)),f(Q);break;case Mt.TIMEOUT:Ye($o,`RPC '${e}' ${l} timed out`),T(new st(Ie.DEADLINE_EXCEEDED,"Request time out"));break;case Mt.HTTP_ERROR:const ce=O.getStatus();if(Ye($o,`RPC '${e}' ${l} failed with status:`,ce,"response text:",O.getResponseText()),ce>0){let Fe=O.getResponseJson();Array.isArray(Fe)&&(Fe=Fe[0]);const et=Fe?.error;if(et&&et.status&&et.message){const It=function($t){const Xt=$t.toLowerCase().replace(/_/g,"-");return Object.values(Ie).indexOf(Xt)>=0?Xt:Ie.UNKNOWN}(et.status);T(new st(It,et.message))}else T(new st(Ie.UNKNOWN,"Server responded with status "+O.getStatus()))}else T(new st(Ie.UNAVAILABLE,"Connection failed."));break;default:mt()}}finally{Ye($o,`RPC '${e}' ${l} completed.`)}});const U=JSON.stringify(u);Ye($o,`RPC '${e}' ${l} sending request:`,u),O.send(n,"POST",U,o,15)})}Ro(e,n,o){const u=dh(),l=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=be(),T=Ze(),O={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},U=this.longPollingOptions.timeoutSeconds;void 0!==U&&(O.longPollingTimeout=Math.round(1e3*U)),this.useFetchStreams&&(O.xmlHttpFactory=new cn({})),this.Eo(O.initMessageHeaders,n,o),O.encodeInitMessageHeaders=!0;const Q=l.join("");Ye($o,`Creating RPC '${e}' stream ${u}: ${Q}`,O);const ce=f.createWebChannel(Q,O);let Fe=!1,et=!1;const It=new mf({ro:Xt=>{et?Ye($o,`Not sending because RPC '${e}' stream ${u} is closed:`,Xt):(Fe||(Ye($o,`Opening RPC '${e}' stream ${u} transport.`),ce.open(),Fe=!0),Ye($o,`RPC '${e}' stream ${u} sending:`,Xt),ce.send(Xt))},oo:()=>ce.close()}),$t=(Xt,rr,Or)=>{Xt.listen(rr,dr=>{try{Or(dr)}catch(Ks){setTimeout(()=>{throw Ks},0)}})};return $t(ce,nr.EventType.OPEN,()=>{et||Ye($o,`RPC '${e}' stream ${u} transport opened.`)}),$t(ce,nr.EventType.CLOSE,()=>{et||(et=!0,Ye($o,`RPC '${e}' stream ${u} transport closed`),It.wo())}),$t(ce,nr.EventType.ERROR,Xt=>{et||(et=!0,Zr($o,`RPC '${e}' stream ${u} transport errored:`,Xt),It.wo(new st(Ie.UNAVAILABLE,"The operation could not be completed")))}),$t(ce,nr.EventType.MESSAGE,Xt=>{var rr;if(!et){const Or=Xt.data[0];bt(!!Or);const Ks=Or.error||(null===(rr=Or[0])||void 0===rr?void 0:rr.error);if(Ks){Ye($o,`RPC '${e}' stream ${u} received error:`,Ks);const Ps=Ks.status;let qi=function(Ml){const lv=h[Ml];if(void 0!==lv)return j(lv)}(Ps),aa=Ks.message;void 0===qi&&(qi=Ie.INTERNAL,aa="Unknown error status: "+Ps+" with message "+Ks.message),et=!0,It.wo(new st(qi,aa)),ce.close()}else Ye($o,`RPC '${e}' stream ${u} received:`,Or),It._o(Or)}}),$t(T,Fn.STAT_EVENT,Xt=>{Xt.stat===gn.PROXY?Ye($o,`RPC '${e}' stream ${u} detected buffering proxy`):Xt.stat===gn.NOPROXY&&Ye($o,`RPC '${e}' stream ${u} detected no buffering proxy`)}),setTimeout(()=>{It.fo()},0),It}}function yf(){return typeof document<"u"?document:null}function hd(i){return new Dc(i,!0)}class Wp{constructor(e,n,o=1e3,u=1.5,l=6e4){this.ii=e,this.timerId=n,this.Po=o,this.bo=u,this.Vo=l,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),o=Math.max(0,Date.now()-this.Co),u=Math.max(0,n-o);u>0&&Ye("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${o} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,u,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class Ym{constructor(e,n,o,u,l,f,T,O){this.ii=e,this.$o=o,this.Oo=u,this.connection=l,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=T,this.listener=O,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new Wp(e,n)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,ee.A)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,ee.A)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,n){var o=this;return(0,ee.A)(function*(){o.Ho(),o.Jo(),o.qo.cancel(),o.Fo++,4!==e?o.qo.reset():n&&n.code===Ie.RESOURCE_EXHAUSTED?(Yt(n.toString()),Yt("Using maximum backoff delay to prevent overloading the backend."),o.qo.xo()):n&&n.code===Ie.UNAUTHENTICATED&&3!==o.state&&(o.authCredentialsProvider.invalidateToken(),o.appCheckCredentialsProvider.invalidateToken()),null!==o.stream&&(o.Yo(),o.stream.close(),o.stream=null),o.state=e,yield o.listener.ao(n)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,u])=>{this.Fo===n&&this.Zo(o,u)},o=>{e(()=>{const u=new st(Ie.UNKNOWN,"Fetching auth token failed: "+o.message);return this.tu(u)})})}Zo(e,n){const o=this.Xo(this.Fo);this.stream=this.eu(e,n),this.stream.uo(()=>{o(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(u=>{o(()=>this.tu(u))}),this.stream.onMessage(u=>{o(()=>this.onMessage(u))})}Go(){var e=this;this.state=5,this.qo.No((0,ee.A)(function*(){e.state=0,e.start()}))}tu(e){return Ye("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.Fo===e?n():(Ye("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Kp extends Ym{constructor(e,n,o,u,l,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,o,u,f),this.serializer=l}eu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.qo.reset();const n=function _m(i,e){let n;if("targetChange"in e){const o="NO_CHANGE"===(O=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===O?1:"REMOVE"===O?2:"CURRENT"===O?3:"RESET"===O?4:mt(),u=e.targetChange.targetIds||[],l=function(O,U){return O.useProto3Json?(bt(void 0===U||"string"==typeof U),os.fromBase64String(U||"")):(bt(void 0===U||U instanceof Uint8Array),os.fromUint8Array(U||new Uint8Array))}(i,e.targetChange.resumeToken),f=e.targetChange.cause,T=f&&function(O){const U=void 0===O.code?Ie.UNKNOWN:j(O.code);return new st(U,O.message||"")}(f);n=new Hd(o,u,l,T||null)}else if("documentChange"in e){const o=e.documentChange,u=gu(i,o.document.name),l=vs(o.document.updateTime),f=o.document.createTime?vs(o.document.createTime):Zt.min(),T=new I({mapValue:{fields:o.document.fields}}),O=L.newFoundDocument(u,l,f,T);n=new wa(o.targetIds||[],o.removedTargetIds||[],O.key,O)}else if("documentDelete"in e){const o=e.documentDelete,u=gu(i,o.document),l=o.readTime?vs(o.readTime):Zt.min(),f=L.newNoDocument(u,l);n=new wa([],o.removedTargetIds||[],f.key,f)}else if("documentRemove"in e){const o=e.documentRemove,u=gu(i,o.document);n=new wa([],o.removedTargetIds||[],u,null)}else{if(!("filter"in e))return mt();{const o=e.filter,{count:u=0,unchangedNames:l}=o,f=new D(u,l);n=new wc(o.targetId,f)}}var O;return n}(this.serializer,e),o=function(u){if(!("targetChange"in u))return Zt.min();const l=u.targetChange;return l.targetIds&&l.targetIds.length?Zt.min():l.readTime?vs(l.readTime):Zt.min()}(e);return this.listener.nu(n,o)}su(e){const n={};n.database=sl(this.serializer),n.addTarget=function(u,l){let f;const T=l.target;if(f=Fd(T)?{documents:wm(u,T)}:{query:Im(u,T)},f.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){f.resumeToken=Kd(u,l.resumeToken);const O=Ql(u,l.expectedCount);null!==O&&(f.expectedCount=O)}else if(l.snapshotVersion.compareTo(Zt.min())>0){f.readTime=Tc(u,l.snapshotVersion.toTimestamp());const O=Ql(u,l.expectedCount);null!==O&&(f.expectedCount=O)}return f}(this.serializer,e);const o=function Mv(i,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return mt()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);o&&(n.labels=o),this.Wo(n)}iu(e){const n={};n.database=sl(this.serializer),n.removeTarget=e,this.Wo(n)}}class Zm extends Ym{constructor(e,n,o,u,l,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,o,u,f),this.serializer=l,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,n){return this.connection.Ro("Write",e,n)}onMessage(e){if(bt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const n=function Em(i,e){return i&&i.length>0?(bt(void 0!==e),i.map(n=>function(o,u){let l=vs(o.updateTime?o.updateTime:u);return l.isEqual(Zt.min())&&(l=vs(u)),new gp(l,o.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),o=vs(e.commitTime);return this.listener.cu(o,n)}return bt(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=sl(this.serializer),this.Wo(e)}uu(e){const n={streamToken:this.lastStreamToken,writes:e.map(o=>function iu(i,e){let n;if(e instanceof rl)n={update:ym(i,e.key,e.value)};else if(e instanceof il)n={delete:qd(i,e.key)};else if(e instanceof ru)n={update:ym(i,e.key,e.data),updateMask:Cm(e.fieldMask)};else{if(!(e instanceof Gh))return mt();n={verify:qd(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(o=>function(u,l){const f=l.transform;if(f instanceof Vu)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof tl)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof nl)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof Hl)return{fieldPath:l.field.canonicalString(),increment:f.gt};throw mt()}(0,o))),e.precondition.isNone||(n.currentDocument=void 0!==(u=e.precondition).updateTime?{updateTime:Av(i,u.updateTime)}:void 0!==u.exists?{exists:u.exists}:mt()),n;var u}(this.serializer,o))};this.Wo(n)}}class Wv extends class{}{constructor(e,n,o,u){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=o,this.serializer=u,this.lu=!1}fu(){if(this.lu)throw new st(Ie.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,n,o){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,l])=>this.connection.Io(e,n,o,u,l)).catch(u=>{throw"FirebaseError"===u.name?(u.code===Ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new st(Ie.UNKNOWN,u.toString())})}vo(e,n,o,u){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,f])=>this.connection.vo(e,n,o,l,f,u)).catch(l=>{throw"FirebaseError"===l.name?(l.code===Ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new st(Ie.UNKNOWN,l.toString())})}terminate(){this.lu=!0}}class qv{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Yt(n),this.mu=!1):Ye("OnlineStateTracker",n)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class vf{constructor(e,n,o,u,l){var f=this;this.localStore=e,this.datastore=n,this.asyncQueue=o,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=l,this.Pu.Yr(T=>{o.enqueueAndForget((0,ee.A)(function*(){var O;xc(f)&&(Ye("RemoteStore","Restarting streams for network reachability change."),yield(O=(0,ee.A)(function*(U){const Q=wt(U);Q.vu.add(4),yield gl(Q),Q.bu.set("Unknown"),Q.vu.delete(4),yield pl(Q)}),function(U){return O.apply(this,arguments)})(f))}))}),this.bu=new qv(o,u)}}function pl(i){return qp.apply(this,arguments)}function qp(){return qp=(0,ee.A)(function*(i){if(xc(i))for(const e of i.Ru)yield e(!0)}),qp.apply(this,arguments)}function gl(i){return hh.apply(this,arguments)}function hh(){return hh=(0,ee.A)(function*(i){for(const e of i.Ru)yield e(!1)}),hh.apply(this,arguments)}function ml(i,e){const n=wt(i);n.Au.has(e.targetId)||(n.Au.set(e.targetId,e),ty(n)?Ef(n):Pc(n).Ko()&&_f(n,e))}function fh(i,e){const n=wt(i),o=Pc(n);n.Au.delete(e),o.Ko()&&ey(n,e),0===n.Au.size&&(o.Ko()?o.jo():xc(n)&&n.bu.set("Unknown"))}function _f(i,e){if(i.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Zt.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Pc(i).su(e)}function ey(i,e){i.Vu.qt(e),Pc(i).iu(e)}function Ef(i){i.Vu=new zd({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),le:e=>i.Au.get(e)||null,ue:()=>i.datastore.serializer.databaseId}),Pc(i).start(),i.bu.gu()}function ty(i){return xc(i)&&!Pc(i).Uo()&&i.Au.size>0}function xc(i){return 0===wt(i).vu.size}function ph(i){i.Vu=void 0}function Qv(i){return Oc.apply(this,arguments)}function Oc(){return Oc=(0,ee.A)(function*(i){i.Au.forEach((e,n)=>{_f(i,e)})}),Oc.apply(this,arguments)}function gh(i,e){return Qp.apply(this,arguments)}function Qp(){return Qp=(0,ee.A)(function*(i,e){ph(i),ty(i)?(i.bu.Iu(e),Ef(i)):i.bu.set("Unknown")}),Qp.apply(this,arguments)}function ny(i,e,n){return Xp.apply(this,arguments)}function Xp(){return Xp=(0,ee.A)(function*(i,e,n){if(i.bu.set("Online"),e instanceof Hd&&2===e.state&&e.cause)try{yield(o=(0,ee.A)(function*(u,l){const f=l.cause;for(const T of l.targetIds)u.Au.has(T)&&(yield u.remoteSyncer.rejectListen(T,f),u.Au.delete(T),u.Vu.removeTarget(T))}),function(u,l){return o.apply(this,arguments)})(i,e)}catch(o){Ye("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),o),yield wf(i,o)}else if(e instanceof wa?i.Vu.Ht(e):e instanceof wc?i.Vu.ne(e):i.Vu.Xt(e),!n.isEqual(Zt.min()))try{const o=yield Wm(i.localStore);n.compareTo(o)>=0&&(yield function(u,l){const f=u.Vu.ce(l);return f.targetChanges.forEach((T,O)=>{if(T.resumeToken.approximateByteSize()>0){const U=u.Au.get(O);U&&u.Au.set(O,U.withResumeToken(T.resumeToken,l))}}),f.targetMismatches.forEach((T,O)=>{const U=u.Au.get(T);if(!U)return;u.Au.set(T,U.withResumeToken(os.EMPTY_BYTE_STRING,U.snapshotVersion)),ey(u,T);const Q=new Va(U.target,T,O,U.sequenceNumber);_f(u,Q)}),u.remoteSyncer.applyRemoteEvent(f)}(i,n))}catch(o){Ye("RemoteStore","Failed to raise snapshot:",o),yield wf(i,o)}var o}),Xp.apply(this,arguments)}function wf(i,e,n){return Yp.apply(this,arguments)}function Yp(){return Yp=(0,ee.A)(function*(i,e,n){if(!_(e))throw e;i.vu.add(1),yield gl(i),i.bu.set("Offline"),n||(n=()=>Wm(i.localStore)),i.asyncQueue.enqueueRetryable((0,ee.A)(function*(){Ye("RemoteStore","Retrying IndexedDB access"),yield n(),i.vu.delete(1),yield pl(i)}))}),Yp.apply(this,arguments)}function Zp(i,e){return e().catch(n=>wf(i,n,e))}function yl(i){return mh.apply(this,arguments)}function mh(){return mh=(0,ee.A)(function*(i){const e=wt(i),n=Ho(e);let o=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;qE(e);)try{const u=yield od(e.localStore,o);if(null===u){0===e.Eu.length&&n.jo();break}o=u.batchId,Jp(e,u)}catch(u){yield wf(e,u)}eg(e)&&ry(e)}),mh.apply(this,arguments)}function qE(i){return xc(i)&&i.Eu.length<10}function Jp(i,e){i.Eu.push(e);const n=Ho(i);n.Ko()&&n.ou&&n.uu(e.mutations)}function eg(i){return xc(i)&&!Ho(i).Uo()&&i.Eu.length>0}function ry(i){Ho(i).start()}function Xv(i){return If.apply(this,arguments)}function If(){return If=(0,ee.A)(function*(i){Ho(i).hu()}),If.apply(this,arguments)}function Yv(i){return Df.apply(this,arguments)}function Df(){return Df=(0,ee.A)(function*(i){const e=Ho(i);for(const n of i.Eu)e.uu(n.mutations)}),Df.apply(this,arguments)}function Zv(i,e,n){return tg.apply(this,arguments)}function tg(){return tg=(0,ee.A)(function*(i,e,n){const o=i.Eu.shift(),u=Wh.from(o,e,n);yield Zp(i,()=>i.remoteSyncer.applySuccessfulWrite(u)),yield yl(i)}),tg.apply(this,arguments)}function QE(i,e){return Tf.apply(this,arguments)}function Tf(){return Tf=(0,ee.A)(function*(i,e){var n;e&&Ho(i).ou&&(yield(n=(0,ee.A)(function*(o,u){if(function C(i){switch(i){default:return mt();case Ie.CANCELLED:case Ie.UNKNOWN:case Ie.DEADLINE_EXCEEDED:case Ie.RESOURCE_EXHAUSTED:case Ie.INTERNAL:case Ie.UNAVAILABLE:case Ie.UNAUTHENTICATED:return!1;case Ie.INVALID_ARGUMENT:case Ie.NOT_FOUND:case Ie.ALREADY_EXISTS:case Ie.PERMISSION_DENIED:case Ie.FAILED_PRECONDITION:case Ie.ABORTED:case Ie.OUT_OF_RANGE:case Ie.UNIMPLEMENTED:case Ie.DATA_LOSS:return!0}}(l=u.code)&&l!==Ie.ABORTED){const f=o.Eu.shift();Ho(o).Qo(),yield Zp(o,()=>o.remoteSyncer.rejectFailedWrite(f.batchId,u)),yield yl(o)}var l}),function(o,u){return n.apply(this,arguments)})(i,e)),eg(i)&&ry(i)}),Tf.apply(this,arguments)}function ng(i,e){return Ta.apply(this,arguments)}function Ta(){return Ta=(0,ee.A)(function*(i,e){const n=wt(i);n.asyncQueue.verifyOperationInProgress(),Ye("RemoteStore","RemoteStore received new credentials");const o=xc(n);n.vu.add(3),yield gl(n),o&&n.bu.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.vu.delete(3),yield pl(n)}),Ta.apply(this,arguments)}function iy(){return iy=(0,ee.A)(function*(i,e){const n=wt(i);e?(n.vu.delete(2),yield pl(n)):e||(n.vu.add(2),yield gl(n),n.bu.set("Unknown"))}),iy.apply(this,arguments)}function Pc(i){return i.Su||(i.Su=function(e,n,o){const u=wt(e);return u.fu(),new Kp(n,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{uo:Qv.bind(null,i),ao:gh.bind(null,i),nu:ny.bind(null,i)}),i.Ru.push(function(){var e=(0,ee.A)(function*(n){n?(i.Su.Qo(),ty(i)?Ef(i):i.bu.set("Unknown")):(yield i.Su.stop(),ph(i))});return function(n){return e.apply(this,arguments)}}())),i.Su}function Ho(i){return i.Du||(i.Du=function(e,n,o){const u=wt(e);return u.fu(),new Zm(n,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{uo:Xv.bind(null,i),ao:QE.bind(null,i),au:Yv.bind(null,i),cu:Zv.bind(null,i)}),i.Ru.push(function(){var e=(0,ee.A)(function*(n){n?(i.Du.Qo(),yield yl(i)):(yield i.Du.stop(),i.Eu.length>0&&(Ye("RemoteStore",`Stopping write stream with ${i.Eu.length} pending writes`),i.Eu=[]))});return function(n){return e.apply(this,arguments)}}())),i.Du}class fd{constructor(e,n,o,u,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=o,this.op=u,this.removalCallback=l,this.deferred=new _r,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}static createAndSchedule(e,n,o,u,l){const f=Date.now()+o,T=new fd(e,n,f,u,l);return T.start(o),T}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new st(Ie.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function pd(i,e){if(Yt("AsyncQueue",`${e}: ${i}`),_(i))return new st(Ie.UNAVAILABLE,`${e}: ${i}`);throw i}class gd{constructor(e){this.comparator=e?(n,o)=>e(n,o)||Nt.comparator(n.key,o.key):(n,o)=>Nt.comparator(n.key,o.key),this.keyedMap=Bl(),this.sortedSet=new ci(this.comparator)}static emptySet(e){return new gd(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,o)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof gd)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),o=e.sortedSet.getIterator();for(;n.hasNext();){const u=n.getNext().key,l=o.getNext().key;if(!u.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const o=new gd;return o.comparator=this.comparator,o.keyedMap=e,o.sortedSet=n,o}}class sy{constructor(){this.Cu=new ci(Nt.comparator)}track(e){const n=e.doc.key,o=this.Cu.get(n);o?0!==e.type&&3===o.type?this.Cu=this.Cu.insert(n,e):3===e.type&&1!==o.type?this.Cu=this.Cu.insert(n,{type:o.type,doc:e.doc}):2===e.type&&2===o.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):2===e.type&&0===o.type?this.Cu=this.Cu.insert(n,{type:0,doc:e.doc}):1===e.type&&0===o.type?this.Cu=this.Cu.remove(n):1===e.type&&2===o.type?this.Cu=this.Cu.insert(n,{type:1,doc:o.doc}):0===e.type&&1===o.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):mt():this.Cu=this.Cu.insert(n,e)}xu(){const e=[];return this.Cu.inorderTraversal((n,o)=>{e.push(o)}),e}}class kc{constructor(e,n,o,u,l,f,T,O,U){this.query=e,this.docs=n,this.oldDocs=o,this.docChanges=u,this.mutatedKeys=l,this.fromCache=f,this.syncStateChanged=T,this.excludesMetadataChanges=O,this.hasCachedResults=U}static fromInitialDocuments(e,n,o,u,l){const f=[];return n.forEach(T=>{f.push({type:0,doc:T})}),new kc(e,n,gd.emptySet(n),f,o,u,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&vc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,o=e.docChanges;if(n.length!==o.length)return!1;for(let u=0;u<n.length;u++)if(n[u].type!==o[u].type||!n[u].doc.isEqual(o[u].doc))return!1;return!0}}class vu{constructor(){this.Nu=void 0,this.listeners=[]}}class oy{constructor(){this.queries=new sa(e=>Vl(e),vc),this.onlineState="Unknown",this.ku=new Set}}function ay(){return ay=(0,ee.A)(function*(i,e){const n=wt(i),o=e.query;let u=!1,l=n.queries.get(o);if(l||(u=!0,l=new vu),u)try{l.Nu=yield n.onListen(o)}catch(f){const T=pd(f,`Initialization of query '${_c(e.query)}' failed`);return void e.onError(T)}n.queries.set(o,l),l.listeners.push(e),e.Mu(n.onlineState),l.Nu&&e.$u(l.Nu)&&og(n)}),ay.apply(this,arguments)}function ig(){return ig=(0,ee.A)(function*(i,e){const n=wt(i),o=e.query;let u=!1;const l=n.queries.get(o);if(l){const f=l.listeners.indexOf(e);f>=0&&(l.listeners.splice(f,1),u=0===l.listeners.length)}if(u)return n.queries.delete(o),n.onUnlisten(o)}),ig.apply(this,arguments)}function sg(i,e){const n=wt(i);let o=!1;for(const u of e){const f=n.queries.get(u.query);if(f){for(const T of f.listeners)T.$u(u)&&(o=!0);f.Nu=u}}o&&og(n)}function Jv(i,e,n){const o=wt(i),u=o.queries.get(e);if(u)for(const l of u.listeners)l.onError(n);o.queries.delete(e)}function og(i){i.ku.forEach(e=>{e.next()})}class yh{constructor(e,n,o){this.query=e,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=o||{}}$u(e){if(!this.options.includeMetadataChanges){const o=[];for(const u of e.docChanges)3!==u.type&&o.push(u);e=new kc(e.query,e.docs,e.oldDocs,o,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),n=!0):this.qu(e,this.onlineState)&&(this.Uu(e),n=!0),this.Bu=e,n}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let n=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),n=!0),n}qu(e,n){return!e.fromCache||(!this.options.Ku||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=kc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class cg{constructor(e){this.key=e}}class cy{constructor(e){this.key=e}}class ly{constructor(e,n){this.query=e,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=Zn(),this.mutatedKeys=Zn(),this.tc=ap(e),this.ec=new gd(this.tc)}get nc(){return this.Yu}sc(e,n){const o=n?n.ic:new sy,u=n?n.ec:this.ec;let l=n?n.mutatedKeys:this.mutatedKeys,f=u,T=!1;const O="F"===this.query.limitType&&u.size===this.query.limit?u.last():null,U="L"===this.query.limitType&&u.size===this.query.limit?u.first():null;if(e.inorderTraversal((Q,ce)=>{const Fe=u.get(Q),et=Ec(this.query,ce)?ce:null,It=!!Fe&&this.mutatedKeys.has(Fe.key),$t=!!et&&(et.hasLocalMutations||this.mutatedKeys.has(et.key)&&et.hasCommittedMutations);let Xt=!1;Fe&&et?Fe.data.isEqual(et.data)?It!==$t&&(o.track({type:3,doc:et}),Xt=!0):this.rc(Fe,et)||(o.track({type:2,doc:et}),Xt=!0,(O&&this.tc(et,O)>0||U&&this.tc(et,U)<0)&&(T=!0)):!Fe&&et?(o.track({type:0,doc:et}),Xt=!0):Fe&&!et&&(o.track({type:1,doc:Fe}),Xt=!0,(O||U)&&(T=!0)),Xt&&(et?(f=f.add(et),l=$t?l.add(Q):l.delete(Q)):(f=f.delete(Q),l=l.delete(Q)))}),null!==this.query.limit)for(;f.size>this.query.limit;){const Q="F"===this.query.limitType?f.last():f.first();f=f.delete(Q.key),l=l.delete(Q.key),o.track({type:1,doc:Q})}return{ec:f,ic:o,zi:T,mutatedKeys:l}}rc(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,o){const u=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const l=e.ic.xu();l.sort((U,Q)=>function(ce,Fe){const et=It=>{switch(It){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return mt()}};return et(ce)-et(Fe)}(U.type,Q.type)||this.tc(U.doc,Q.doc)),this.oc(o);const f=n?this.uc():[],T=0===this.Zu.size&&this.current?1:0,O=T!==this.Xu;return this.Xu=T,0!==l.length||O?{snapshot:new kc(this.query,e.ec,u,l,e.mutatedKeys,0===T,O,!1,!!o&&o.resumeToken.approximateByteSize()>0),cc:f}:{cc:f}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new sy,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(n=>this.Yu=this.Yu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Yu=this.Yu.delete(n)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=Zn(),this.ec.forEach(o=>{this.ac(o.key)&&(this.Zu=this.Zu.add(o.key))});const n=[];return e.forEach(o=>{this.Zu.has(o)||n.push(new cy(o))}),this.Zu.forEach(o=>{e.has(o)||n.push(new cg(o))}),n}hc(e){this.Yu=e.ir,this.Zu=Zn();const n=this.sc(e.documents);return this.applyChanges(n,!0)}lc(){return kc.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class t_{constructor(e,n,o){this.query=e,this.targetId=n,this.view=o}}class dy{constructor(e){this.key=e,this.fc=!1}}class md{constructor(e,n,o,u,l,f){this.localStore=e,this.remoteStore=n,this.eventManager=o,this.sharedClientState=u,this.currentUser=l,this.maxConcurrentLimboResolutions=f,this.dc={},this.wc=new sa(T=>Vl(T),vc),this._c=new Map,this.mc=new Set,this.gc=new ci(Nt.comparator),this.yc=new Map,this.Ic=new uf,this.Tc={},this.Ec=new Map,this.Ac=nd.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function Wu(i,e){return Lc.apply(this,arguments)}function Lc(){return Lc=(0,ee.A)(function*(i,e){const n=function wg(i){const e=wt(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=vh.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=_y.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=n_.bind(null,e),e.dc.nu=sg.bind(null,e.eventManager),e.dc.Pc=Jv.bind(null,e.eventManager),e}(i);let o,u;const l=n.wc.get(e);if(l)o=l.targetId,n.sharedClientState.addLocalQueryTarget(o),u=l.view.lc();else{const f=yield function ad(i,e){const n=wt(i);return n.persistence.runTransaction("Allocate target","readwrite",o=>{let u;return n.Bs.getTargetData(o,e).next(l=>l?(u=l,Le.resolve(u)):n.Bs.allocateTargetId(o).next(f=>(u=new Va(e,f,"TargetPurposeListen",o.currentSequenceNumber),n.Bs.addTargetData(o,u).next(()=>u))))}).then(o=>{const u=n.Ji.get(o.targetId);return(null===u||o.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(o.targetId,o),n.Yi.set(e,o.targetId)),o})}(n.localStore,zs(e)),T=n.sharedClientState.addLocalQueryTarget(f.targetId);o=f.targetId,u=yield function lg(i,e,n,o,u){return dg.apply(this,arguments)}(n,e,o,"current"===T,f.resumeToken),n.isPrimaryClient&&ml(n.remoteStore,f)}return u}),Lc.apply(this,arguments)}function dg(){return dg=(0,ee.A)(function*(i,e,n,o,u){i.Rc=(ce,Fe,et)=>{return(It=(0,ee.A)(function*($t,Xt,rr,Or){let dr=Xt.view.sc(rr);dr.zi&&(dr=yield cd($t.localStore,Xt.query,!1).then(({documents:qi})=>Xt.view.sc(qi,dr)));const Ks=Or&&Or.targetChanges.get(Xt.targetId),Ps=Xt.view.applyChanges(dr,$t.isPrimaryClient,Ks);return yd($t,Xt.targetId,Ps.cc),Ps.snapshot}),function($t,Xt,rr,Or){return It.apply(this,arguments)})(i,ce,Fe,et);var It};const l=yield cd(i.localStore,e,!0),f=new ly(e,l.ir),T=f.sc(l.documents),O=Ua.createSynthesizedTargetChangeForCurrentChange(n,o&&"Offline"!==i.onlineState,u),U=f.applyChanges(T,i.isPrimaryClient,O);yd(i,n,U.cc);const Q=new t_(e,n,f);return i.wc.set(e,Q),i._c.has(n)?i._c.get(n).push(e):i._c.set(n,[e]),U.snapshot}),dg.apply(this,arguments)}function hy(i,e){return bf.apply(this,arguments)}function bf(){return bf=(0,ee.A)(function*(i,e){const n=wt(i),o=n.wc.get(e),u=n._c.get(o.targetId);if(u.length>1)return n._c.set(o.targetId,u.filter(l=>!vc(l,e))),void n.wc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(o.targetId),n.sharedClientState.isActiveQueryTarget(o.targetId)||(yield ud(n.localStore,o.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(o.targetId),fh(n.remoteStore,o.targetId),_l(n,o.targetId)}).catch(ui))):(_l(n,o.targetId),yield ud(n.localStore,o.targetId,!0))}),bf.apply(this,arguments)}function vl(){return vl=(0,ee.A)(function*(i,e,n){const o=function Of(i){const e=wt(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=r_.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=fy.bind(null,e),e}(i);try{const u=yield function(l,f){const T=wt(l),O=ai.now(),U=f.reduce((Fe,et)=>Fe.add(et.key),Zn());let Q,ce;return T.persistence.runTransaction("Locally write mutations","readwrite",Fe=>{let et=oa(),It=Zn();return T.Zi.getEntries(Fe,U).next($t=>{et=$t,et.forEach((Xt,rr)=>{rr.isValidDocument()||(It=It.add(Xt))})}).next(()=>T.localDocuments.getOverlayedDocuments(Fe,et)).next($t=>{Q=$t;const Xt=[];for(const rr of f){const Or=Bd(rr,Q.get(rr.key).overlayedDocument);null!=Or&&Xt.push(new ru(rr.key,Or,N(Or.value.mapValue),Bi.exists(!0)))}return T.mutationQueue.addMutationBatch(Fe,O,Xt,f)}).next($t=>{ce=$t;const Xt=$t.applyToLocalDocumentSet(Q,It);return T.documentOverlayCache.saveOverlays(Fe,$t.batchId,Xt)})}).then(()=>({batchId:ce.batchId,changes:dm(Q)}))}(o.localStore,e);o.sharedClientState.addPendingMutation(u.batchId),function(l,f,T){let O=l.Tc[l.currentUser.toKey()];O||(O=new ci(Qt)),O=O.insert(f,T),l.Tc[l.currentUser.toKey()]=O}(o,u.batchId,n),yield Ku(o,u.changes),yield yl(o.remoteStore)}catch(u){const l=pd(u,"Failed to persist write");n.reject(l)}}),vl.apply(this,arguments)}function vh(i,e){return Sf.apply(this,arguments)}function Sf(){return Sf=(0,ee.A)(function*(i,e){const n=wt(i);try{const o=yield function Hv(i,e){const n=wt(i),o=e.snapshotVersion;let u=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const f=n.Zi.newChangeBuffer({trackRemovals:!0});u=n.Ji;const T=[];e.targetChanges.forEach((Q,ce)=>{const Fe=u.get(ce);if(!Fe)return;T.push(n.Bs.removeMatchingKeys(l,Q.removedDocuments,ce).next(()=>n.Bs.addMatchingKeys(l,Q.addedDocuments,ce)));let et=Fe.withSequenceNumber(l.currentSequenceNumber);var It,$t,Xt;null!==e.targetMismatches.get(ce)?et=et.withResumeToken(os.EMPTY_BYTE_STRING,Zt.min()).withLastLimboFreeSnapshotVersion(Zt.min()):Q.resumeToken.approximateByteSize()>0&&(et=et.withResumeToken(Q.resumeToken,o)),u=u.insert(ce,et),$t=et,Xt=Q,(0===(It=Fe).resumeToken.approximateByteSize()||$t.snapshotVersion.toMicroseconds()-It.snapshotVersion.toMicroseconds()>=3e8||Xt.addedDocuments.size+Xt.modifiedDocuments.size+Xt.removedDocuments.size>0)&&T.push(n.Bs.updateTargetData(l,et))});let O=oa(),U=Zn();if(e.documentUpdates.forEach(Q=>{e.resolvedLimboDocuments.has(Q)&&T.push(n.persistence.referenceDelegate.updateLimboDocument(l,Q))}),T.push(function Up(i,e,n){let o=Zn(),u=Zn();return n.forEach(l=>o=o.add(l)),e.getEntries(i,o).next(l=>{let f=oa();return n.forEach((T,O)=>{const U=l.get(T);O.isFoundDocument()!==U.isFoundDocument()&&(u=u.add(T)),O.isNoDocument()&&O.version.isEqual(Zt.min())?(e.removeEntry(T,O.readTime),f=f.insert(T,O)):!U.isValidDocument()||O.version.compareTo(U.version)>0||0===O.version.compareTo(U.version)&&U.hasPendingWrites?(e.addEntry(O),f=f.insert(T,O)):Ye("LocalStore","Ignoring outdated watch update for ",T,". Current version:",U.version," Watch version:",O.version)}),{nr:f,sr:u}})}(l,f,e.documentUpdates).next(Q=>{O=Q.nr,U=Q.sr})),!o.isEqual(Zt.min())){const Q=n.Bs.getLastRemoteSnapshotVersion(l).next(ce=>n.Bs.setTargetsMetadata(l,l.currentSequenceNumber,o));T.push(Q)}return Le.waitFor(T).next(()=>f.apply(l)).next(()=>n.localDocuments.getLocalViewOfDocuments(l,O,U)).next(()=>O)}).then(l=>(n.Ji=u,l))}(n.localStore,e);e.targetChanges.forEach((u,l)=>{const f=n.yc.get(l);f&&(bt(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1),u.addedDocuments.size>0?f.fc=!0:u.modifiedDocuments.size>0?bt(f.fc):u.removedDocuments.size>0&&(bt(f.fc),f.fc=!1))}),yield Ku(n,o,e)}catch(o){yield ui(o)}}),Sf.apply(this,arguments)}function fg(i,e,n){const o=wt(i);if(o.isPrimaryClient&&0===n||!o.isPrimaryClient&&1===n){const u=[];o.wc.forEach((l,f)=>{const T=f.view.Mu(e);T.snapshot&&u.push(T.snapshot)}),function(l,f){const T=wt(l);T.onlineState=f;let O=!1;T.queries.forEach((U,Q)=>{for(const ce of Q.listeners)ce.Mu(f)&&(O=!0)}),O&&og(T)}(o.eventManager,e),u.length&&o.dc.nu(u),o.onlineState=e,o.isPrimaryClient&&o.sharedClientState.setOnlineState(e)}}function n_(i,e,n){return pg.apply(this,arguments)}function pg(){return pg=(0,ee.A)(function*(i,e,n){const o=wt(i);o.sharedClientState.updateQueryState(e,"rejected",n);const u=o.yc.get(e),l=u&&u.key;if(l){let f=new ci(Nt.comparator);f=f.insert(l,L.newNoDocument(l,Zt.min()));const T=Zn().add(l),O=new To(Zt.min(),new Map,new ci(Qt),f,T);yield vh(o,O),o.gc=o.gc.remove(l),o.yc.delete(e),Mf(o)}else yield ud(o.localStore,e,!1).then(()=>_l(o,e,n)).catch(ui)}),pg.apply(this,arguments)}function r_(i,e){return gg.apply(this,arguments)}function gg(){return gg=(0,ee.A)(function*(i,e){const n=wt(i),o=e.batch.batchId;try{const u=yield function Fp(i,e){const n=wt(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const u=e.batch.keys(),l=n.Zi.newChangeBuffer({trackRemovals:!0});return function(f,T,O,U){const Q=O.batch,ce=Q.keys();let Fe=Le.resolve();return ce.forEach(et=>{Fe=Fe.next(()=>U.getEntry(T,et)).next(It=>{const $t=O.docVersions.get(et);bt(null!==$t),It.version.compareTo($t)<0&&(Q.applyToRemoteDocument(It,O),It.isValidDocument()&&(It.setReadTime(O.commitVersion),U.addEntry(It)))})}),Fe.next(()=>f.mutationQueue.removeMutationBatch(T,Q))}(n,o,e,l).next(()=>l.apply(o)).next(()=>n.mutationQueue.performConsistencyCheck(o)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(o,u,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(o,function(f){let T=Zn();for(let O=0;O<f.mutationResults.length;++O)f.mutationResults[O].transformResults.length>0&&(T=T.add(f.batch.mutations[O].key));return T}(e))).next(()=>n.localDocuments.getDocuments(o,u))})}(n.localStore,e);Af(n,o,null),my(n,o),n.sharedClientState.updateMutationState(o,"acknowledged"),yield Ku(n,u)}catch(u){yield ui(u)}}),gg.apply(this,arguments)}function fy(i,e,n){return py.apply(this,arguments)}function py(){return py=(0,ee.A)(function*(i,e,n){const o=wt(i);try{const u=yield function(l,f){const T=wt(l);return T.persistence.runTransaction("Reject batch","readwrite-primary",O=>{let U;return T.mutationQueue.lookupMutationBatch(O,f).next(Q=>(bt(null!==Q),U=Q.keys(),T.mutationQueue.removeMutationBatch(O,Q))).next(()=>T.mutationQueue.performConsistencyCheck(O)).next(()=>T.documentOverlayCache.removeOverlaysForBatchId(O,U,f)).next(()=>T.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(O,U)).next(()=>T.localDocuments.getDocuments(O,U))})}(o.localStore,e);Af(o,e,n),my(o,e),o.sharedClientState.updateMutationState(e,"rejected",n),yield Ku(o,u)}catch(u){yield ui(u)}}),py.apply(this,arguments)}function my(i,e){(i.Ec.get(e)||[]).forEach(n=>{n.resolve()}),i.Ec.delete(e)}function Af(i,e,n){const o=wt(i);let u=o.Tc[o.currentUser.toKey()];if(u){const l=u.get(e);l&&(n?l.reject(n):l.resolve(),u=u.remove(e)),o.Tc[o.currentUser.toKey()]=u}}function _l(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const o of i._c.get(e))i.wc.delete(o),n&&i.dc.Pc(o,n);i._c.delete(e),i.isPrimaryClient&&i.Ic.Is(e).forEach(o=>{i.Ic.containsKey(o)||s_(i,o)})}function s_(i,e){i.mc.delete(e.path.canonicalString());const n=i.gc.get(e);null!==n&&(fh(i.remoteStore,n),i.gc=i.gc.remove(e),i.yc.delete(n),Mf(i))}function yd(i,e,n){for(const o of n)o instanceof cg?(i.Ic.addReference(o.key,e),yy(i,o)):o instanceof cy?(Ye("SyncEngine","Document no longer in limbo: "+o.key),i.Ic.removeReference(o.key,e),i.Ic.containsKey(o.key)||s_(i,o.key)):mt()}function yy(i,e){const n=e.key,o=n.path.canonicalString();i.gc.get(n)||i.mc.has(o)||(Ye("SyncEngine","New document in limbo: "+n),i.mc.add(o),Mf(i))}function Mf(i){for(;i.mc.size>0&&i.gc.size<i.maxConcurrentLimboResolutions;){const e=i.mc.values().next().value;i.mc.delete(e);const n=new Nt(ir.fromString(e)),o=i.Ac.next();i.yc.set(o,new dy(n)),i.gc=i.gc.insert(n,o),ml(i.remoteStore,new Va(zs(gc(n.path)),o,"TargetPurposeLimboResolution",Me.ct))}}function Ku(i,e,n){return Nf.apply(this,arguments)}function Nf(){return Nf=(0,ee.A)(function*(i,e,n){const o=wt(i),u=[],l=[],f=[];var T;o.wc.isEmpty()||(o.wc.forEach((T,O)=>{f.push(o.Rc(O,e,n).then(U=>{if((U||n)&&o.isPrimaryClient&&o.sharedClientState.updateQueryState(O.targetId,U?.fromCache?"not-current":"current"),U){u.push(U);const Q=sd.Li(O.targetId,U);l.push(Q)}}))}),yield Promise.all(f),o.dc.nu(u),yield(T=(0,ee.A)(function*(O,U){const Q=wt(O);try{yield Q.persistence.runTransaction("notifyLocalViewChanges","readwrite",ce=>Le.forEach(U,Fe=>Le.forEach(Fe.Fi,et=>Q.persistence.referenceDelegate.addReference(ce,Fe.targetId,et)).next(()=>Le.forEach(Fe.Bi,et=>Q.persistence.referenceDelegate.removeReference(ce,Fe.targetId,et)))))}catch(ce){if(!_(ce))throw ce;Ye("LocalStore","Failed to update sequence numbers: "+ce)}for(const ce of U){const Fe=ce.targetId;if(!ce.fromCache){const et=Q.Ji.get(Fe),$t=et.withLastLimboFreeSnapshotVersion(et.snapshotVersion);Q.Ji=Q.Ji.insert(Fe,$t)}}}),function(O,U){return T.apply(this,arguments)})(o.localStore,l))}),Nf.apply(this,arguments)}function vy(i,e){return Bn.apply(this,arguments)}function Bn(){return Bn=(0,ee.A)(function*(i,e){const n=wt(i);if(!n.currentUser.isEqual(e)){Ye("SyncEngine","User change. New user:",e.toKey());const o=yield au(n.localStore,e);n.currentUser=e,(u=n).Ec.forEach(f=>{f.forEach(T=>{T.reject(new st(Ie.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),u.Ec.clear(),n.sharedClientState.handleUserChange(e,o.removedBatchIds,o.addedBatchIds),yield Ku(n,o.er)}var u}),Bn.apply(this,arguments)}function _y(i,e){const n=wt(i),o=n.yc.get(e);if(o&&o.fc)return Zn().add(o.key);{let u=Zn();const l=n._c.get(e);if(!l)return u;for(const f of l){const T=n.wc.get(f);u=u.unionWith(T.view.nc)}return u}}class vd{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return(0,ee.A)(function*(){n.serializer=hd(e.databaseInfo.databaseId),n.sharedClientState=n.createSharedClientState(e),n.persistence=n.createPersistence(e),yield n.persistence.start(),n.localStore=n.createLocalStore(e),n.gcScheduler=n.createGarbageCollectionScheduler(e,n.localStore),n.indexBackfillerScheduler=n.createIndexBackfillerScheduler(e,n.localStore)})()}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return function sh(i,e,n,o){return new Lp(i,e,n,o)}(this.persistence,new Gm,e.initialUser,this.serializer)}createPersistence(e){return new cf(kp.zs,this.serializer)}createSharedClientState(e){return new gf}terminate(){var e=this;return(0,ee.A)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class wl{initialize(e,n){var o=this;return(0,ee.A)(function*(){o.localStore||(o.localStore=e.localStore,o.sharedClientState=e.sharedClientState,o.datastore=o.createDatastore(n),o.remoteStore=o.createRemoteStore(n),o.eventManager=o.createEventManager(n),o.syncEngine=o.createSyncEngine(n,!e.synchronizeTabs),o.sharedClientState.onlineStateHandler=u=>fg(o.syncEngine,u,1),o.remoteStore.remoteSyncer.handleCredentialChange=vy.bind(null,o.syncEngine),yield function Cf(i,e){return iy.apply(this,arguments)}(o.remoteStore,o.syncEngine.isPrimaryClient))})()}createEventManager(e){return new oy}createDatastore(e){const n=hd(e.databaseInfo.databaseId),o=new Gp(e.databaseInfo);return new Wv(e.authCredentials,e.appCheckCredentials,o,n)}createRemoteStore(e){return n=this.localStore,o=this.datastore,u=e.asyncQueue,l=T=>fg(this.syncEngine,T,0),f=lh.D()?new lh:new ch,new vf(n,o,u,l,f);var n,o,u,l,f}createSyncEngine(e,n){return function(o,u,l,f,T,O,U){const Q=new md(o,u,l,f,T,O);return U&&(Q.vc=!0),Q}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return(e=(0,ee.A)(function*(n){const o=wt(n);Ye("RemoteStore","RemoteStore shutting down."),o.vu.add(5),yield gl(o),o.Pu.shutdown(),o.bu.set("Unknown")}),function(n){return e.apply(this,arguments)})(this.remoteStore);var e}}class Pf{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):Yt("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class XE{constructor(e,n,o,u){var l=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=o,this.databaseInfo=u,this.user=pr.UNAUTHENTICATED,this.clientId=rc.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(o,function(){var f=(0,ee.A)(function*(T){Ye("FirestoreClient","Received user=",T.uid),yield l.authCredentialListener(T),l.user=T});return function(T){return f.apply(this,arguments)}}()),this.appCheckCredentials.start(o,f=>(Ye("FirestoreClient","Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}getConfiguration(){var e=this;return(0,ee.A)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new st(Ie.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new _r;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,ee.A)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(o){const u=pd(o,"Failed to shutdown persistence");n.reject(u)}})),n.promise}}function _d(i,e){return kf.apply(this,arguments)}function kf(){return kf=(0,ee.A)(function*(i,e){i.asyncQueue.verifyOperationInProgress(),Ye("FirestoreClient","Initializing OfflineComponentProvider");const n=yield i.getConfiguration();yield e.initialize(n);let o=n.initialUser;i.setCredentialChangeListener(function(){var u=(0,ee.A)(function*(l){o.isEqual(l)||(yield au(e.localStore,l),o=l)});return function(l){return u.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}),kf.apply(this,arguments)}function Tg(i,e){return Cg.apply(this,arguments)}function Cg(){return Cg=(0,ee.A)(function*(i,e){i.asyncQueue.verifyOperationInProgress();const n=yield function Lf(i){return bg.apply(this,arguments)}(i);Ye("FirestoreClient","Initializing OnlineComponentProvider");const o=yield i.getConfiguration();yield e.initialize(n,o),i.setCredentialChangeListener(u=>ng(e.remoteStore,u)),i.setAppCheckTokenChangeListener((u,l)=>ng(e.remoteStore,l)),i._onlineComponents=e}),Cg.apply(this,arguments)}function bg(){return bg=(0,ee.A)(function*(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){Ye("FirestoreClient","Using user provided OfflineComponentProvider");try{yield _d(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function Ty(i){return"FirebaseError"===i.name?i.code===Ie.FAILED_PRECONDITION||i.code===Ie.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||22===i.code||20===i.code||11===i.code}(n))throw n;Zr("Error using user provided cache. Falling back to memory cache: "+n),yield _d(i,new vd)}}else Ye("FirestoreClient","Using default OfflineComponentProvider"),yield _d(i,new vd);return i._offlineComponents}),bg.apply(this,arguments)}function Ff(i){return wh.apply(this,arguments)}function wh(){return wh=(0,ee.A)(function*(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(Ye("FirestoreClient","Using user provided OnlineComponentProvider"),yield Tg(i,i._uninitializedComponentsProvider._online)):(Ye("FirestoreClient","Using default OnlineComponentProvider"),yield Tg(i,new wl))),i._onlineComponents}),wh.apply(this,arguments)}function Ih(){return Ih=(0,ee.A)(function*(i){const e=yield Ff(i),n=e.eventManager;return n.onListen=Wu.bind(null,e.syncEngine),n.onUnlisten=hy.bind(null,e.syncEngine),n}),Ih.apply(this,arguments)}function Dh(i,e,n={}){const o=new _r;return i.asyncQueue.enqueueAndForget((0,ee.A)(function*(){return function(u,l,f,T,O){const U=new Pf({next:ce=>{l.enqueueAndForget(()=>function Rs(i,e){return ig.apply(this,arguments)}(u,Q)),ce.fromCache&&"server"===T.source?O.reject(new st(Ie.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):O.resolve(ce)},error:ce=>O.reject(ce)}),Q=new yh(f,U,{includeMetadataChanges:!0,Ku:!0});return function rg(i,e){return ay.apply(this,arguments)}(u,Q)}(yield function zo(i){return Ih.apply(this,arguments)}(i),i.asyncQueue,e,n,o)})),o.promise}function Ng(i){const e={};return void 0!==i.timeoutSeconds&&(e.timeoutSeconds=i.timeoutSeconds),e}const Rg=new Map;function Th(i,e,n){if(!n)throw new st(Ie.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function xy(i){if(!Nt.isDocumentKey(i))throw new st(Ie.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function Oy(i){if(Nt.isDocumentKey(i))throw new st(Ie.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function Ed(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const e=(n=i).constructor?n.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var n;return"function"==typeof i?"a function":mt()}function Mr(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new st(Ie.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Ed(i);throw new st(Ie.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}class Py{constructor(e){var n,o;if(void 0===e.host){if(void 0!==e.ssl)throw new st(Ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new st(Ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function qu(i,e,n,o){if(!0===e&&!0===o)throw new st(Ie.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=Ng(null!==(o=e.experimentalLongPollingOptions)&&void 0!==o?o:{}),function(u){if(void 0!==u.timeoutSeconds){if(isNaN(u.timeoutSeconds))throw new st(Ie.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new st(Ie.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new st(Ie.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Vc{constructor(e,n,o,u){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=o,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Py({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new st(Ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new st(Ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Py(e),void 0!==e.credentials&&(this._authCredentials=function(n){if(!n)return new wo;switch(n.type){case"firstParty":return new Pa(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new st(Ie.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=Rg.get(e);n&&(Ye("ComponentProvider","Removing Datastore"),Rg.delete(e),n.terminate())}(this),Promise.resolve()}}class us{constructor(e,n,o){this.converter=n,this._key=o,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Qu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new us(this.firestore,e,this._key)}}class xs{constructor(e,n,o){this.converter=n,this._query=o,this.type="query",this.firestore=e}withConverter(e){return new xs(this.firestore,e,this._query)}}class Qu extends xs{constructor(e,n,o){super(e,n,gc(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new us(this.firestore,null,new Nt(e))}withConverter(e){return new Qu(this.firestore,e,this._path)}}function f_(i,e,...n){if(i=(0,ae.Ku)(i),Th("collection","path",e),i instanceof Vc){const o=ir.fromString(e,...n);return Oy(o),new Qu(i,null,o)}{if(!(i instanceof us||i instanceof Qu))throw new st(Ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(ir.fromString(e,...n));return Oy(o),new Qu(i.firestore,null,o)}}function Og(i,e,...n){if(i=(0,ae.Ku)(i),1===arguments.length&&(e=rc.A()),Th("doc","path",e),i instanceof Vc){const o=ir.fromString(e,...n);return xy(o),new us(i,null,new Nt(o))}{if(!(i instanceof us||i instanceof Qu))throw new st(Ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(ir.fromString(e,...n));return xy(o),new us(i.firestore,i instanceof Qu?i.converter:null,new Nt(o))}}class Ly{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new Wp(this,"async_queue_retry"),this.Xc=()=>{const n=yf();n&&Ye("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=yf();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=yf();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new _r;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,ee.A)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(n){if(!_(n))throw n;Ye("AsyncQueue","Operation failed with retryable error: "+n)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(o=>{throw this.Wc=o,this.Hc=!1,Yt("INTERNAL UNHANDLED ERROR: ",function(l){let f=l.message||"";return l.stack&&(f=l.stack.includes(l.message)?l.stack:l.message+"\n"+l.stack),f}(o)),o}).then(o=>(this.Hc=!1,o))));return this.Gc=n,n}enqueueAfterDelay(e,n,o){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const u=fd.createAndSchedule(this,e,n,o,l=>this.na(l));return this.zc.push(u),u}Zc(){this.Wc&&mt()}verifyOperationInProgress(){}sa(){var e=this;return(0,ee.A)(function*(){let n;do{n=e.Gc,yield n}while(n!==e.Gc)})()}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,o)=>n.targetTimeMs-o.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}}class ji extends Vc{constructor(e,n,o,u){super(e,n,o,u),this.type="firestore",this._queue=new Ly,this._persistenceKey=u?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||wd(this),this._firestoreClient.terminate()}}function m_(i,e){const n="object"==typeof i?i:(0,xe.Sx)(),o="string"==typeof i?i:e||"(default)",u=(0,xe.j6)(n,"firestore").getImmediate({identifier:o});if(!u._initialized){const l=(0,ae.yU)("firestore");l&&function Ch(i,e,n,o={}){var u;const l=(i=Mr(i,Vc))._getSettings(),f=`${e}:${n}`;if("firestore.googleapis.com"!==l.host&&l.host!==f&&Zr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),i._setSettings(Object.assign(Object.assign({},l),{host:f,ssl:!1})),o.mockUserToken){let T,O;if("string"==typeof o.mockUserToken)T=o.mockUserToken,O=pr.MOCK_USER;else{T=(0,ae.Fy)(o.mockUserToken,null===(u=i._app)||void 0===u?void 0:u.options.projectId);const U=o.mockUserToken.sub||o.mockUserToken.user_id;if(!U)throw new st(Ie.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");O=new pr(U)}i._authCredentials=new Oa(new Ha(T,O))}}(u,...l)}return u}function Os(i){return i._firestoreClient||wd(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function wd(i){var e,n,o;const u=i._freezeSettings(),l=(T=(null===(e=i._app)||void 0===e?void 0:e.options.appId)||"",new qa(i._databaseId,T,i._persistenceKey,(U=u).host,U.ssl,U.experimentalForceLongPolling,U.experimentalAutoDetectLongPolling,Ng(U.experimentalLongPollingOptions),U.useFetchStreams));var T,U;i._firestoreClient=new XE(i._authCredentials,i._appCheckCredentials,i._queue,l),null!==(n=u.cache)&&void 0!==n&&n._offlineComponentProvider&&null!==(o=u.cache)&&void 0!==o&&o._onlineComponentProvider&&(i._firestoreClient._uninitializedComponentsProvider={_offlineKind:u.cache.kind,_offline:u.cache._offlineComponentProvider,_online:u.cache._onlineComponentProvider})}class Il{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Il(os.fromBase64String(e))}catch(n){throw new st(Ie.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Il(os.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Dl{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new st(Ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ai(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Id{constructor(e){this._methodName=e}}class Pg{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new st(Ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new st(Ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Qt(this._lat,e._lat)||Qt(this._long,e._long)}}const __=/^__.*__$/;class By{constructor(e,n,o){this.data=e,this.fieldMask=n,this.fieldTransforms=o}toMutation(e,n){return null!==this.fieldMask?new ru(e,this.data,this.fieldMask,n,this.fieldTransforms):new rl(e,this.data,n,this.fieldTransforms)}}class kg{constructor(e,n,o){this.data=e,this.fieldMask=n,this.fieldTransforms=o}toMutation(e,n){return new ru(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function jy(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw mt()}}class Lg{constructor(e,n,o,u,l,f){this.settings=e,this.databaseId=n,this.serializer=o,this.ignoreUndefinedProperties=u,void 0===l&&this.ua(),this.fieldTransforms=l||[],this.fieldMask=f||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new Lg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var n;const o=null===(n=this.path)||void 0===n?void 0:n.child(e),u=this.aa({path:o,la:!1});return u.fa(e),u}da(e){var n;const o=null===(n=this.path)||void 0===n?void 0:n.child(e),u=this.aa({path:o,la:!1});return u.ua(),u}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return Yu(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(jy(this.ca)&&__.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class $y{constructor(e,n,o){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=o||hd(e)}ya(e,n,o,u=!1){return new Lg({ca:e,methodName:n,ga:o,path:Ai.emptyPath(),la:!1,ma:u},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function jc(i){const e=i._freezeSettings(),n=hd(i._databaseId);return new $y(i._databaseId,!!e.ignoreUndefinedProperties,n)}function Fg(i,e,n,o,u,l={}){const f=i.ya(l.merge||l.mergeFields?2:0,e,n,u);zc("Data must be an object, but it was:",f,o);const T=ba(o,f);let O,U;if(l.merge)O=new $s(f.fieldMask),U=f.fieldTransforms;else if(l.mergeFields){const Q=[];for(const ce of l.mergeFields){const Fe=wu(e,ce,n);if(!f.contains(Fe))throw new st(Ie.INVALID_ARGUMENT,`Field '${Fe}' is specified in your field mask but missing from your input data.`);Cl(Q,Fe)||Q.push(Fe)}O=new $s(Q),U=f.fieldTransforms.filter(ce=>O.covers(ce.field))}else O=null,U=f.fieldTransforms;return new By(new I(T),O,U)}class $c extends Id{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof $c}}function Eu(i,e){if(Bf(i=(0,ae.Ku)(i)))return zc("Unsupported field value:",e,i),ba(i,e);if(i instanceof Id)return function(n,o){if(!jy(o.ca))throw o._a(`${n._methodName}() can only be used with update() and set()`);if(!o.path)throw o._a(`${n._methodName}() is not currently supported inside arrays`);const u=n._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(i,e),null;if(void 0===i&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(n,o){const u=[];let l=0;for(const f of n){let T=Eu(f,o.wa(l));null==T&&(T={nullValue:"NULL_VALUE"}),u.push(T),l++}return{arrayValue:{values:u}}}(i,e)}return function(n,o){if(null===(n=(0,ae.Ku)(n)))return{nullValue:"NULL_VALUE"};if("number"==typeof n)return hp(o.serializer,n);if("boolean"==typeof n)return{booleanValue:n};if("string"==typeof n)return{stringValue:n};if(n instanceof Date){const u=ai.fromDate(n);return{timestampValue:Tc(o.serializer,u)}}if(n instanceof ai){const u=new ai(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Tc(o.serializer,u)}}if(n instanceof Pg)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Il)return{bytesValue:Kd(o.serializer,n._byteString)};if(n instanceof us){const u=o.databaseId,l=n.firestore._databaseId;if(!l.isEqual(u))throw o._a(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:vp(n.firestore._databaseId||o.databaseId,n._key.path)}}throw o._a(`Unsupported field value: ${Ed(n)}`)}(i,e)}function ba(i,e){const n={};return cc(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ka(i,(o,u)=>{const l=Eu(u,e.ha(o));null!=l&&(n[o]=l)}),{mapValue:{fields:n}}}function Bf(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof ai||i instanceof Pg||i instanceof Il||i instanceof us||i instanceof Id)}function zc(i,e,n){if(!Bf(n)||"object"!=typeof(o=n)||null===o||Object.getPrototypeOf(o)!==Object.prototype&&null!==Object.getPrototypeOf(o)){const o=Ed(n);throw e._a("an object"===o?i+" a custom object":i+" "+o)}var o}function wu(i,e,n){if((e=(0,ae.Ku)(e))instanceof Dl)return e._internalPath;if("string"==typeof e)return Xu(i,e);throw Yu("Field path arguments must be of type string or ",i,!1,void 0,n)}const Dd=new RegExp("[~\\*/\\[\\]]");function Xu(i,e,n){if(e.search(Dd)>=0)throw Yu(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new Dl(...e.split("."))._internalPath}catch{throw Yu(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function Yu(i,e,n,o,u){const l=o&&!o.isEmpty(),f=void 0!==u;let T=`Function ${e}() called with invalid data`;n&&(T+=" (via `toFirestore()`)"),T+=". ";let O="";return(l||f)&&(O+=" (found",l&&(O+=` in field ${o}`),f&&(O+=` in document ${u}`),O+=")"),new st(Ie.INVALID_ARGUMENT,T+i+O)}function Cl(i,e){return i.some(n=>n.isEqual(e))}class Iu{constructor(e,n,o,u,l){this._firestore=e,this._userDataWriter=n,this._key=o,this._document=u,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new us(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Td(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Zu("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class Td extends Iu{data(){return super.data()}}function Zu(i,e){return"string"==typeof e?Xu(i,e):e instanceof Dl?e._internalPath:e._delegate._internalPath}class jf{}class Cd extends jf{}function zy(i,e,...n){let o=[];e instanceof jf&&o.push(e),o=o.concat(n),function(u){const l=u.filter(T=>T instanceof bl).length,f=u.filter(T=>T instanceof bd).length;if(l>1||l>0&&f>0)throw new st(Ie.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(o);for(const u of o)i=u._apply(i);return i}class bd extends Cd{constructor(e,n,o){super(),this._field=e,this._op=n,this._value=o,this.type="where"}static _create(e,n,o){return new bd(e,n,o)}_apply(e){const n=this._parse(e);return zf(e._query,n),new xs(e.firestore,e.converter,yc(e._query,n))}_parse(e){const n=jc(e.firestore);return function(u,l,f,T,O,U,Q){let ce;if(O.isKeyField()){if("array-contains"===U||"array-contains-any"===U)throw new st(Ie.INVALID_ARGUMENT,`Invalid Query. You can't perform '${U}' queries on documentId().`);if("in"===U||"not-in"===U){Sd(Q,U);const Fe=[];for(const et of Q)Fe.push(Hf(T,u,et));ce={arrayValue:{values:Fe}}}else ce=Hf(T,u,Q)}else"in"!==U&&"not-in"!==U&&"array-contains-any"!==U||Sd(Q,U),ce=function Hc(i,e,n,o=!1){return Eu(n,i.ya(o?4:3,e))}(f,"where",Q,"in"===U||"not-in"===U);return gt.create(O,U,ce)}(e._query,0,n,e.firestore._databaseId,this._field,this._op,this._value)}}function Gy(i,e,n){const o=e,u=Zu("where",i);return bd._create(u,o,n)}class bl extends jf{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new bl(e,n)}_parse(e){const n=this._queryConstraints.map(o=>o._parse(e)).filter(o=>o.getFilters().length>0);return 1===n.length?n[0]:Bt.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return 0===n.getFilters().length?e:(function(o,u){let l=o;const f=u.getFlattenedFilters();for(const T of f)zf(l,T),l=yc(l,T)}(e._query,n),new xs(e.firestore,e.converter,yc(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}function Hf(i,e,n){if("string"==typeof(n=(0,ae.Ku)(n))){if(""===n)throw new st(Ie.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Fl(e)&&-1!==n.indexOf("/"))throw new st(Ie.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const o=e.path.child(ir.fromString(n));if(!Nt.isDocumentKey(o))throw new st(Ie.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${o}' is not because it has an odd number of segments (${o.length}).`);return va(i,new Nt(o))}if(n instanceof us)return va(i,n._key);throw new st(Ie.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ed(n)}.`)}function Sd(i,e){if(!Array.isArray(i)||0===i.length)throw new st(Ie.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function zf(i,e){if(e.isInequality()){const o=Fa(i),u=e.field;if(null!==o&&!o.isEqual(u))throw new st(Ie.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${o.toString()}' and '${u.toString()}'`);const l=mc(i);null!==l&&function Ah(i,e,n){if(!n.isEqual(e))throw new st(Ie.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}(0,u,l)}const n=function(o,u){for(const l of o)for(const f of l.getFlattenedFilters())if(u.indexOf(f.op)>=0)return f.op;return null}(i.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==n)throw new st(Ie.INVALID_ARGUMENT,n===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class Ad{convertValue(e,n="none"){switch(Bo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Rr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ta(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw mt()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const o={};return Ka(e,(u,l)=>{o[u]=this.convertValue(l,n)}),o}convertGeoPoint(e){return new Pg(Rr(e.latitude),Rr(e.longitude))}convertArray(e,n){return(e.values||[]).map(o=>this.convertValue(o,n))}convertServerTimestamp(e,n){switch(n){case"previous":const o=Lu(e);return null==o?null:this.convertValue(o,n);case"estimate":return this.convertTimestamp(ra(e));default:return null}}convertTimestamp(e){const n=Uo(e);return new ai(n.seconds,n.nanos)}convertDocumentKey(e,n){const o=ir.fromString(e);bt(Yh(o));const u=new ho(o.get(1),o.get(3)),l=new Nt(o.popFirst(5));return u.isEqual(n)||Yt(`Document ${l} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}class Ju{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ec extends Iu{constructor(e,n,o,u,l,f){super(e,n,o,u,f),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Sl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const o=this._document.data.field(Zu("DocumentSnapshot.get",e));if(null!==o)return this._userDataWriter.convertValue(o,n.serverTimestamps)}}}class Sl extends ec{data(e={}){return super.data(e)}}class Nh{constructor(e,n,o,u){this._firestore=e,this._userDataWriter=n,this._snapshot=u,this.metadata=new Ju(u.hasPendingWrites,u.fromCache),this.query=o}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(o=>{e.call(n,new Sl(this._firestore,this._userDataWriter,o.key,o,new Ju(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new st(Ie.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let l=0;return o._snapshot.docChanges.map(f=>({type:"added",doc:new Sl(o._firestore,o._userDataWriter,f.doc.key,f.doc,new Ju(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter),oldIndex:-1,newIndex:l++}))}{let l=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(f=>u||3!==f.type).map(f=>{const T=new Sl(o._firestore,o._userDataWriter,f.doc.key,f.doc,new Ju(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);let O=-1,U=-1;return 0!==f.type&&(O=l.indexOf(f.doc.key),l=l.delete(f.doc.key)),1!==f.type&&(l=l.add(f.doc),U=l.indexOf(f.doc.key)),{type:C_(f.type),doc:T,oldIndex:O,newIndex:U}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function C_(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return mt()}}class Gc extends Ad{constructor(e){super(),this.firestore=e}convertBytes(e){return new Il(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new us(this.firestore,null,n)}}function S_(i){i=Mr(i,xs);const e=Mr(i.firestore,ji),n=Os(e),o=new Gc(e);return function Bg(i){if("L"===i.limitType&&0===i.explicitOrderBy.length)throw new st(Ie.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(i._query),Dh(n,i._query).then(u=>new Nh(e,o,i,u))}function R_(i,e,n,...o){i=Mr(i,us);const u=Mr(i.firestore,ji),l=jc(u);let f;return f="string"==typeof(e=(0,ae.Ku)(e))||e instanceof Dl?function Js(i,e,n,o,u,l){const f=i.ya(1,e,n),T=[wu(e,o,n)],O=[u];if(l.length%2!=0)throw new st(Ie.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Fe=0;Fe<l.length;Fe+=2)T.push(wu(e,l[Fe])),O.push(l[Fe+1]);const U=[],Q=I.empty();for(let Fe=T.length-1;Fe>=0;--Fe)if(!Cl(U,T[Fe])){const et=T[Fe];let It=O[Fe];It=(0,ae.Ku)(It);const $t=f.da(et);if(It instanceof $c)U.push(et);else{const Xt=Eu(It,$t);null!=Xt&&(U.push(et),Q.set(et,Xt))}}const ce=new $s(U);return new kg(Q,ce,f.fieldTransforms)}(l,"updateDoc",i._key,e,n,o):function Tl(i,e,n,o){const u=i.ya(1,e,n);zc("Data must be an object, but it was:",u,o);const l=[],f=I.empty();Ka(o,(O,U)=>{const Q=Xu(e,O,n);U=(0,ae.Ku)(U);const ce=u.da(Q);if(U instanceof $c)l.push(Q);else{const Fe=Eu(U,ce);null!=Fe&&(l.push(Q),f.set(Q,Fe))}});const T=new $s(l);return new kg(f,T,u.fieldTransforms)}(l,"updateDoc",i._key,e),Al(u,[f.toMutation(i._key,Bi.exists(!0))])}function x_(i){return Al(Mr(i.firestore,ji),[new il(i._key,Bi.none())])}function O_(i,e){const n=Mr(i.firestore,ji),o=Og(i),u=function Mh(i,e,n){let o;return o=i?n&&(n.merge||n.mergeFields)?i.toFirestore(e,n):i.toFirestore(e):e,o}(i.converter,e);return Al(n,[Fg(jc(i.firestore),"addDoc",o._key,u,null!==i.converter,{}).toMutation(o._key,Bi.exists(!1))]).then(()=>o)}function Al(i,e){return function(n,o){const u=new _r;return n.asyncQueue.enqueueAndForget((0,ee.A)(function*(){return function hg(i,e,n){return vl.apply(this,arguments)}(yield function Sg(i){return Ff(i).then(e=>e.syncEngine)}(n),o,u)})),u.promise}(Os(i),e)}!function(i,e=!0){Ar=xe.MF,(0,xe.om)(new $e.uA("firestore",(n,{instanceIdentifier:o,options:u})=>{const l=n.getProvider("app").getImmediate(),f=new ji(new Rl(n.getProvider("auth-internal")),new Su(n.getProvider("app-check-internal")),function(T,O){if(!Object.prototype.hasOwnProperty.apply(T.options,["projectId"]))throw new st(Ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ho(T.options.projectId,O)}(l,o),l);return u=Object.assign({useFetchStreams:e},u),f._setSettings(u),f},"PUBLIC").setMultipleInstances(!0)),(0,xe.KO)(oi,"3.13.0",i),(0,xe.KO)(oi,"3.13.0","esm2017")}();class Md{constructor(e){return e}}const Xg="firestore",qf=new ue.nKC("angularfire2.firestore-instances");function nv(i){return(e,n)=>{const o=e.runOutsideAngular(()=>i(n));return new Md(o)}}const rv={provide:class ev{constructor(){return(0,M.CA)(Xg)}},deps:[[new ue.Xx1,qf]]},iv={provide:Md,useFactory:function tv(i,e){const n=(0,M.lR)(Xg,i,e);return n&&new Md(n)},deps:[[new ue.Xx1,qf],ye.XU]};let Qf=(()=>{class i{constructor(){(0,he.KO)("angularfire",M.xv.full,"fst")}}return i.\u0275fac=function(n){return new(n||i)},i.\u0275mod=ue.$C({type:i}),i.\u0275inj=ue.G2t({providers:[iv,rv]}),i})();function Wc(i,...e){return{ngModule:Qf,providers:[{provide:qf,useFactory:nv(i),multi:!0,deps:[ue.SKi,ue.zZn,M.u0,ye.gL,[new ue.Xx1,re.DF],[new ue.Xx1,Z.kR],...e]}]}}const K_=(0,M.S3)(O_,!0),Ws=(0,M.S3)(f_,!0),X_=(0,M.S3)(x_,!0),uv=(0,M.S3)(Og,!0),Yg=(0,M.S3)(S_,!0),nE=(0,M.S3)(m_,!0),Zg=(0,M.S3)(zy,!0),cv=(0,M.S3)(R_,!0),lE=(0,M.S3)(Gy,!0)},3531:(jt,We,H)=>{H.d(We,{xv:()=>Lu,u0:()=>Xa,CA:()=>Fu,lR:()=>Io,S3:()=>Za});var M=H(7705),ue=H(7037),re=H(467),ye=H(2979),he=H(1401),Z=H(8779),ee=H(5398);const xe=(I,N)=>N.some(L=>I instanceof L);let $e,ie;const Ge=new WeakMap,_e=new WeakMap,ht=new WeakMap,Ve=new WeakMap,Ut=new WeakMap;let On={get(I,N,L){if(I instanceof IDBTransaction){if("done"===N)return _e.get(I);if("objectStoreNames"===N)return I.objectStoreNames||ht.get(I);if("store"===N)return L.objectStoreNames[1]?void 0:L.objectStore(L.objectStoreNames[0])}return He(I[N])},set:(I,N,L)=>(I[N]=L,!0),has:(I,N)=>I instanceof IDBTransaction&&("done"===N||"store"===N)||N in I};function Ue(I){return"function"==typeof I?function ot(I){return I!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Te(){return ie||(ie=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(I)?function(...N){return I.apply(ft(this),N),He(Ge.get(this))}:function(...N){return He(I.apply(ft(this),N))}:function(N,...L){const te=I.call(ft(this),N,...L);return ht.set(te,N.sort?N.sort():[N]),He(te)}}(I):(I instanceof IDBTransaction&&function bn(I){if(_e.has(I))return;const N=new Promise((L,te)=>{const me=()=>{I.removeEventListener("complete",De),I.removeEventListener("error",Xe),I.removeEventListener("abort",Xe)},De=()=>{L(),me()},Xe=()=>{te(I.error||new DOMException("AbortError","AbortError")),me()};I.addEventListener("complete",De),I.addEventListener("error",Xe),I.addEventListener("abort",Xe)});_e.set(I,N)}(I),xe(I,function ae(){return $e||($e=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(I,On):I)}function He(I){if(I instanceof IDBRequest)return function kt(I){const N=new Promise((L,te)=>{const me=()=>{I.removeEventListener("success",De),I.removeEventListener("error",Xe)},De=()=>{L(He(I.result)),me()},Xe=()=>{te(I.error),me()};I.addEventListener("success",De),I.addEventListener("error",Xe)});return N.then(L=>{L instanceof IDBCursor&&Ge.set(L,I)}).catch(()=>{}),Ut.set(N,I),N}(I);if(Ve.has(I))return Ve.get(I);const N=Ue(I);return N!==I&&(Ve.set(I,N),Ut.set(N,I)),N}const ft=I=>Ut.get(I),fn=["get","getKey","getAll","getAllKeys","count"],pn=["put","add","delete","clear"],Br=new Map;function lt(I,N){if(!(I instanceof IDBDatabase)||N in I||"string"!=typeof N)return;if(Br.get(N))return Br.get(N);const L=N.replace(/FromIndex$/,""),te=N!==L,me=pn.includes(L);if(!(L in(te?IDBIndex:IDBObjectStore).prototype)||!me&&!fn.includes(L))return;const De=function(){var Xe=(0,re.A)(function*(Pt,...At){const gt=this.transaction(Pt,me?"readwrite":"readonly");let Bt=gt.store;return te&&(Bt=Bt.index(At.shift())),(yield Promise.all([Bt[L](...At),me&&gt.done]))[0]});return function(At){return Xe.apply(this,arguments)}}();return Br.set(N,De),De}!function Ae(I){On=I(On)}(I=>({...I,get:(N,L,te)=>lt(N,L)||I.get(N,L,te),has:(N,L)=>!!lt(N,L)||I.has(N,L)}));const Pn="@firebase/installations",Qn="0.6.4",Cr=1e4,Jr=`w:${Qn}`,jn="FIS_v2",Pr="https://firebaseinstallations.googleapis.com/v1",Oe=36e5,rt=new he.FA("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function je(I){return I instanceof he.g&&I.code.includes("request-failed")}function Dt({projectId:I}){return`${Pr}/projects/${I}/installations`}function Kt(I){return{token:I.token,requestStatus:2,expiresIn:Er(I.expiresIn),creationTime:Date.now()}}function Un(I,N){return nt.apply(this,arguments)}function nt(){return(nt=(0,re.A)(function*(I,N){const te=(yield N.json()).error;return rt.create("request-failed",{requestName:I,serverCode:te.code,serverMessage:te.message,serverStatus:te.status})})).apply(this,arguments)}function Nn({apiKey:I}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":I})}function Jn(I){return dn.apply(this,arguments)}function dn(){return(dn=(0,re.A)(function*(I){const N=yield I();return N.status>=500&&N.status<600?I():N})).apply(this,arguments)}function Er(I){return Number(I.replace("s","000"))}function er(){return(er=(0,re.A)(function*({appConfig:I,heartbeatServiceProvider:N},{fid:L}){const te=Dt(I),me=Nn(I),De=N.getImmediate({optional:!0});if(De){const gt=yield De.getHeartbeatsHeader();gt&&me.append("x-firebase-client",gt)}const Pt={method:"POST",headers:me,body:JSON.stringify({fid:L,authVersion:jn,appId:I.appId,sdkVersion:Jr})},At=yield Jn(()=>fetch(te,Pt));if(At.ok){const gt=yield At.json();return{fid:gt.fid||L,registrationStatus:2,refreshToken:gt.refreshToken,authToken:Kt(gt.authToken)}}throw yield Un("Create Installation",At)})).apply(this,arguments)}function kr(I){return new Promise(N=>{setTimeout(N,I)})}const jr=/^[cdef][\w-]{21}$/,qt="";function vn(){try{const I=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(I),I[0]=112+I[0]%16;const L=function hn(I){return function pi(I){return btoa(String.fromCharCode(...I)).replace(/\+/g,"-").replace(/\//g,"_")}(I).substr(0,22)}(I);return jr.test(L)?L:qt}catch{return qt}}function $n(I){return`${I.appName}!${I.appId}`}const Lr=new Map;function Qr(I,N){const L=$n(I);yn(L,N),function Ot(I,N){const L=function on(){return!Ei&&"BroadcastChannel"in self&&(Ei=new BroadcastChannel("[Firebase] FID Change"),Ei.onmessage=I=>{yn(I.data.key,I.data.fid)}),Ei}();L&&L.postMessage({key:I,fid:N}),function wi(){0===Lr.size&&Ei&&(Ei.close(),Ei=null)}()}(L,N)}function yn(I,N){const L=Lr.get(I);if(L)for(const te of L)te(N)}let Ei=null;const Nr="firebase-installations-database",yr=1,$r="firebase-installations-store";let Ii=null;function Di(){return Ii||(Ii=function ct(I,N,{blocked:L,upgrade:te,blocking:me,terminated:De}={}){const Xe=indexedDB.open(I,N),Pt=He(Xe);return te&&Xe.addEventListener("upgradeneeded",At=>{te(He(Xe.result),At.oldVersion,At.newVersion,He(Xe.transaction))}),L&&Xe.addEventListener("blocked",()=>L()),Pt.then(At=>{De&&At.addEventListener("close",()=>De()),me&&At.addEventListener("versionchange",()=>me())}).catch(()=>{}),Pt}(Nr,yr,{upgrade:(I,N)=>{0===N&&I.createObjectStore($r)}})),Ii}function Ti(I,N){return wr.apply(this,arguments)}function wr(){return(wr=(0,re.A)(function*(I,N){const L=$n(I),me=(yield Di()).transaction($r,"readwrite"),De=me.objectStore($r),Xe=yield De.get(L);return yield De.put(N,L),yield me.done,(!Xe||Xe.fid!==N.fid)&&Qr(I,N.fid),N})).apply(this,arguments)}function $i(I){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,re.A)(function*(I){const N=$n(I),te=(yield Di()).transaction($r,"readwrite");yield te.objectStore($r).delete(N),yield te.done})).apply(this,arguments)}function xn(I,N){return Ir.apply(this,arguments)}function Ir(){return(Ir=(0,re.A)(function*(I,N){const L=$n(I),me=(yield Di()).transaction($r,"readwrite"),De=me.objectStore($r),Xe=yield De.get(L),Pt=N(Xe);return void 0===Pt?yield De.delete(L):yield De.put(Pt,L),yield me.done,Pt&&(!Xe||Xe.fid!==Pt.fid)&&Qr(I,Pt.fid),Pt})).apply(this,arguments)}function de(I){return G.apply(this,arguments)}function G(){return G=(0,re.A)(function*(I){let N;const L=yield xn(I.appConfig,te=>{const me=function X(I){return en(I||{fid:vn(),registrationStatus:0})}(te),De=function q(I,N){if(0===N.registrationStatus){if(!navigator.onLine)return{installationEntry:N,registrationPromise:Promise.reject(rt.create("app-offline"))};const L={fid:N.fid,registrationStatus:1,registrationTime:Date.now()},te=function W(I,N){return we.apply(this,arguments)}(I,L);return{installationEntry:L,registrationPromise:te}}return 1===N.registrationStatus?{installationEntry:N,registrationPromise:tt(I)}:{installationEntry:N}}(I,me);return N=De.registrationPromise,De.installationEntry});return L.fid===qt?{installationEntry:yield N}:{installationEntry:L,registrationPromise:N}}),G.apply(this,arguments)}function we(){return we=(0,re.A)(function*(I,N){try{const L=yield function qr(I,N){return er.apply(this,arguments)}(I,N);return Ti(I.appConfig,L)}catch(L){throw je(L)&&409===L.customData.serverCode?yield $i(I.appConfig):yield Ti(I.appConfig,{fid:N.fid,registrationStatus:0}),L}}),we.apply(this,arguments)}function tt(I){return St.apply(this,arguments)}function St(){return(St=(0,re.A)(function*(I){let N=yield Vt(I.appConfig);for(;1===N.registrationStatus;)yield kr(100),N=yield Vt(I.appConfig);if(0===N.registrationStatus){const{installationEntry:L,registrationPromise:te}=yield de(I);return te||L}return N})).apply(this,arguments)}function Vt(I){return xn(I,N=>{if(!N)throw rt.create("installation-not-found");return en(N)})}function en(I){return function zt(I){return 1===I.registrationStatus&&I.registrationTime+Cr<Date.now()}(I)?{fid:I.fid,registrationStatus:0}:I}function ar(){return(ar=(0,re.A)(function*({appConfig:I,heartbeatServiceProvider:N},L){const te=function Hr(I,{fid:N}){return`${Dt(I)}/${N}/authTokens:generate`}(I,L),me=function Sn(I,{refreshToken:N}){const L=Nn(I);return L.append("Authorization",function Rn(I){return`${jn} ${I}`}(N)),L}(I,L),De=N.getImmediate({optional:!0});if(De){const gt=yield De.getHeartbeatsHeader();gt&&me.append("x-firebase-client",gt)}const Pt={method:"POST",headers:me,body:JSON.stringify({installation:{sdkVersion:Jr,appId:I.appId}})},At=yield Jn(()=>fetch(te,Pt));if(At.ok)return Kt(yield At.json());throw yield Un("Generate Auth Token",At)})).apply(this,arguments)}function zr(I){return gi.apply(this,arguments)}function gi(){return gi=(0,re.A)(function*(I,N=!1){let L;const te=yield xn(I.appConfig,De=>{if(!Rt(De))throw rt.create("not-registered");const Xe=De.authToken;if(!N&&function ln(I){return 2===I.requestStatus&&!function Xn(I){const N=Date.now();return N<I.creationTime||I.creationTime+I.expiresIn<N+Oe}(I)}(Xe))return De;if(1===Xe.requestStatus)return L=function qe(I,N){return Ce.apply(this,arguments)}(I,N),De;{if(!navigator.onLine)throw rt.create("app-offline");const Pt=function ur(I){const N={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},I),{authToken:N})}(De);return L=function Lt(I,N){return Wt.apply(this,arguments)}(I,Pt),Pt}});return L?yield L:te.authToken}),gi.apply(this,arguments)}function Ce(){return(Ce=(0,re.A)(function*(I,N){let L=yield at(I.appConfig);for(;1===L.authToken.requestStatus;)yield kr(100),L=yield at(I.appConfig);const te=L.authToken;return 0===te.requestStatus?zr(I,N):te})).apply(this,arguments)}function at(I){return xn(I,N=>{if(!Rt(N))throw rt.create("not-registered");return function br(I){return 1===I.requestStatus&&I.requestTime+Cr<Date.now()}(N.authToken)?Object.assign(Object.assign({},N),{authToken:{requestStatus:0}}):N})}function Wt(){return Wt=(0,re.A)(function*(I,N){try{const L=yield function un(I,N){return ar.apply(this,arguments)}(I,N),te=Object.assign(Object.assign({},N),{authToken:L});return yield Ti(I.appConfig,te),L}catch(L){if(!je(L)||401!==L.customData.serverCode&&404!==L.customData.serverCode){const te=Object.assign(Object.assign({},N),{authToken:{requestStatus:0}});yield Ti(I.appConfig,te)}else yield $i(I.appConfig);throw L}}),Wt.apply(this,arguments)}function Rt(I){return void 0!==I&&2===I.registrationStatus}function Qi(){return(Qi=(0,re.A)(function*(I){const N=I,{installationEntry:L,registrationPromise:te}=yield de(N);return te?te.catch(console.error):zr(N).catch(console.error),L.fid})).apply(this,arguments)}function zi(){return zi=(0,re.A)(function*(I,N=!1){const L=I;return yield function Pi(I){return eo.apply(this,arguments)}(L),(yield zr(L,N)).token}),zi.apply(this,arguments)}function eo(){return(eo=(0,re.A)(function*(I){const{registrationPromise:N}=yield de(I);N&&(yield N)})).apply(this,arguments)}function pe(I){return rt.create("missing-app-config-values",{valueName:I})}const Ne="installations",pt=I=>{const N=I.getProvider("app").getImmediate(),L=function ge(I){if(!I||!I.options)throw pe("App Configuration");if(!I.name)throw pe("App Name");const N=["projectId","apiKey","appId"];for(const L of N)if(!I.options[L])throw pe(L);return{appName:I.name,projectId:I.options.projectId,apiKey:I.options.apiKey,appId:I.options.appId}}(N);return{app:N,appConfig:L,heartbeatServiceProvider:(0,ye.j6)(N,"heartbeat"),_delete:()=>Promise.resolve()}},tn=I=>{const N=I.getProvider("app").getImmediate(),L=(0,ye.j6)(N,Ne).getImmediate();return{getId:()=>function Hi(I){return Qi.apply(this,arguments)}(L),getToken:me=>function cs(I){return zi.apply(this,arguments)}(L,me)}};(function zn(){(0,ye.om)(new Z.uA(Ne,pt,"PUBLIC")),(0,ye.om)(new Z.uA("installations-internal",tn,"PRIVATE"))})(),(0,ye.KO)(Pn,Qn),(0,ye.KO)(Pn,Qn,"esm2017");const kn="@firebase/remote-config",ti=new he.FA("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Tt{constructor(N,L,te,me){this.client=N,this.storage=L,this.storageCache=te,this.logger=me}isCachedDataFresh(N,L){if(!L)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const te=Date.now()-L,me=te<=N;return this.logger.debug(`Config fetch cache check. Cache age millis: ${te}. Cache max age millis (minimumFetchIntervalMillis setting): ${N}. Is cache hit: ${me}.`),me}fetch(N){var L=this;return(0,re.A)(function*(){const[te,me]=yield Promise.all([L.storage.getLastSuccessfulFetchTimestampMillis(),L.storage.getLastSuccessfulFetchResponse()]);if(me&&L.isCachedDataFresh(N.cacheMaxAgeMillis,te))return me;N.eTag=me&&me.eTag;const De=yield L.client.fetch(N),Xe=[L.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===De.status&&Xe.push(L.storage.setLastSuccessfulFetchResponse(De)),yield Promise.all(Xe),De})()}}function nn(I=navigator){return I.languages&&I.languages[0]||I.language}class rn{constructor(N,L,te,me,De,Xe){this.firebaseInstallations=N,this.sdkVersion=L,this.namespace=te,this.projectId=me,this.apiKey=De,this.appId=Xe}fetch(N){var L=this;return(0,re.A)(function*(){const[te,me]=yield Promise.all([L.firebaseInstallations.getId(),L.firebaseInstallations.getToken()]),Xe=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${L.projectId}/namespaces/${L.namespace}:fetch?key=${L.apiKey}`,Pt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":N.eTag||"*"},At={sdk_version:L.sdkVersion,app_instance_id:te,app_instance_id_token:me,app_id:L.appId,language_code:nn()},gt={method:"POST",headers:Pt,body:JSON.stringify(At)},Bt=fetch(Xe,gt),wn=new Promise((as,_a)=>{N.signal.addEventListener(()=>{const Hs=new Error("The operation was aborted.");Hs.name="AbortError",_a(Hs)})});let rs;try{yield Promise.race([Bt,wn]),rs=yield Bt}catch(as){let _a="fetch-client-network";throw"AbortError"===as?.name&&(_a="fetch-timeout"),ti.create(_a,{originalErrorMessage:as?.message})}let is=rs.status;const Uu=rs.headers.get("ETag")||void 0;let xi,Ja;if(200===rs.status){let as;try{as=yield rs.json()}catch(_a){throw ti.create("fetch-client-parse",{originalErrorMessage:_a?.message})}xi=as.entries,Ja=as.state}if("INSTANCE_STATE_UNSPECIFIED"===Ja?is=500:"NO_CHANGE"===Ja?is=304:("NO_TEMPLATE"===Ja||"EMPTY_CONFIG"===Ja)&&(xi={}),304!==is&&200!==is)throw ti.create("fetch-status",{httpStatus:is});return{status:is,eTag:Uu,config:xi}})()}}class Wr{constructor(N,L){this.client=N,this.storage=L}fetch(N){var L=this;return(0,re.A)(function*(){const te=(yield L.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return L.attemptFetch(N,te)})()}attemptFetch(N,L){var te=this;return(0,re.A)(function*(me,{throttleEndTimeMillis:De,backoffCount:Xe}){yield function ri(I,N){return new Promise((L,te)=>{const me=Math.max(N-Date.now(),0),De=setTimeout(L,me);I.addEventListener(()=>{clearTimeout(De),te(ti.create("fetch-throttle",{throttleEndTimeMillis:N}))})})}(me.signal,De);try{const Pt=yield te.client.fetch(me);return yield te.storage.deleteThrottleMetadata(),Pt}catch(Pt){if(!function Yi(I){if(!(I instanceof he.g&&I.customData))return!1;const N=Number(I.customData.httpStatus);return 429===N||500===N||503===N||504===N}(Pt))throw Pt;const At={throttleEndTimeMillis:Date.now()+(0,he.p9)(Xe),backoffCount:Xe+1};return yield te.storage.setThrottleMetadata(At),te.attemptFetch(me,At)}}).apply(this,arguments)}}class Wi{constructor(N,L,te,me,De){this.app=N,this._client=L,this._storageCache=te,this._storage=me,this._logger=De,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Fs(I,N){const L=I.target.error||void 0;return ti.create(N,{originalErrorMessage:L&&L?.message})}const an="app_namespace_store";class hr{constructor(N,L,te,me=function ki(){return new Promise((I,N)=>{try{const L=indexedDB.open("firebase_remote_config",1);L.onerror=te=>{N(Fs(te,"storage-open"))},L.onsuccess=te=>{I(te.target.result)},L.onupgradeneeded=te=>{0===te.oldVersion&&te.target.result.createObjectStore(an,{keyPath:"compositeKey"})}}catch(L){N(ti.create("storage-open",{originalErrorMessage:L?.message}))}})}()){this.appId=N,this.appName=L,this.namespace=te,this.openDbPromise=me}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(N){return this.set("last_fetch_status",N)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(N){return this.set("last_successful_fetch_timestamp_millis",N)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(N){return this.set("last_successful_fetch_response",N)}getActiveConfig(){return this.get("active_config")}setActiveConfig(N){return this.set("active_config",N)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(N){return this.set("active_config_etag",N)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(N){return this.set("throttle_metadata",N)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(N){var L=this;return(0,re.A)(function*(){const te=yield L.openDbPromise;return new Promise((me,De)=>{const Pt=te.transaction([an],"readonly").objectStore(an),At=L.createCompositeKey(N);try{const gt=Pt.get(At);gt.onerror=Bt=>{De(Fs(Bt,"storage-get"))},gt.onsuccess=Bt=>{const wn=Bt.target.result;me(wn?wn.value:void 0)}}catch(gt){De(ti.create("storage-get",{originalErrorMessage:gt?.message}))}})})()}set(N,L){var te=this;return(0,re.A)(function*(){const me=yield te.openDbPromise;return new Promise((De,Xe)=>{const At=me.transaction([an],"readwrite").objectStore(an),gt=te.createCompositeKey(N);try{const Bt=At.put({compositeKey:gt,value:L});Bt.onerror=wn=>{Xe(Fs(wn,"storage-set"))},Bt.onsuccess=()=>{De()}}catch(Bt){Xe(ti.create("storage-set",{originalErrorMessage:Bt?.message}))}})})()}delete(N){var L=this;return(0,re.A)(function*(){const te=yield L.openDbPromise;return new Promise((me,De)=>{const Pt=te.transaction([an],"readwrite").objectStore(an),At=L.createCompositeKey(N);try{const gt=Pt.delete(At);gt.onerror=Bt=>{De(Fs(Bt,"storage-delete"))},gt.onsuccess=()=>{me()}}catch(gt){De(ti.create("storage-delete",{originalErrorMessage:gt?.message}))}})})()}createCompositeKey(N){return[this.appId,this.appName,this.namespace,N].join()}}class Mo{constructor(N){this.storage=N}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var N=this;return(0,re.A)(function*(){const L=N.storage.getLastFetchStatus(),te=N.storage.getLastSuccessfulFetchTimestampMillis(),me=N.storage.getActiveConfig(),De=yield L;De&&(N.lastFetchStatus=De);const Xe=yield te;Xe&&(N.lastSuccessfulFetchTimestampMillis=Xe);const Pt=yield me;Pt&&(N.activeConfig=Pt)})()}setLastFetchStatus(N){return this.lastFetchStatus=N,this.storage.setLastFetchStatus(N)}setLastSuccessfulFetchTimestampMillis(N){return this.lastSuccessfulFetchTimestampMillis=N,this.storage.setLastSuccessfulFetchTimestampMillis(N)}setActiveConfig(N){return this.activeConfig=N,this.storage.setActiveConfig(N)}}function la(){return di.apply(this,arguments)}function di(){return(di=(0,re.A)(function*(){if(!(0,he.zW)())return!1;try{return yield(0,he.eX)()}catch{return!1}})).apply(this,arguments)}!function qs(){(0,ye.om)(new Z.uA("remote-config",function I(N,{instanceIdentifier:L}){const te=N.getProvider("app").getImmediate(),me=N.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw ti.create("registration-window");if(!(0,he.zW)())throw ti.create("indexed-db-unavailable");const{projectId:De,apiKey:Xe,appId:Pt}=te.options;if(!De)throw ti.create("registration-project-id");if(!Xe)throw ti.create("registration-api-key");if(!Pt)throw ti.create("registration-app-id");const At=new hr(Pt,te.name,L=L||"firebase"),gt=new Mo(At),Bt=new ee.Vy(kn);Bt.logLevel=ee.$b.ERROR;const wn=new rn(me,ye.MF,L,De,Xe,Pt),rs=new Wr(wn,At),is=new Tt(rs,At,gt,Bt),Uu=new Wi(te,is,gt,At,Bt);return function Yn(I){const N=(0,he.Ku)(I);N._initializePromise||(N._initializePromise=N._storageCache.loadFromStorage().then(()=>{N._isInitializationComplete=!0}))}(Uu),Uu},"PUBLIC").setMultipleInstances(!0)),(0,ye.KO)(kn,"0.4.4"),(0,ye.KO)(kn,"0.4.4","esm2017")}();const ro=(I,N)=>N.some(L=>I instanceof L);let ss,Ko;const qo=new WeakMap,Zi=new WeakMap,hs=new WeakMap,Vs=new WeakMap,Si=new WeakMap;let Ki={get(I,N,L){if(I instanceof IDBTransaction){if("done"===N)return Zi.get(I);if("objectStoreNames"===N)return I.objectStoreNames||hs.get(I);if("store"===N)return L.objectStoreNames[1]?void 0:L.objectStore(L.objectStoreNames[0])}return Tr(I[N])},set:(I,N,L)=>(I[N]=L,!0),has:(I,N)=>I instanceof IDBTransaction&&("done"===N||"store"===N)||N in I};function fs(I){return"function"==typeof I?function yi(I){return I!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Aa(){return Ko||(Ko=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(I)?function(...N){return I.apply(Ds(this),N),Tr(qo.get(this))}:function(...N){return Tr(I.apply(Ds(this),N))}:function(N,...L){const te=I.call(Ds(this),N,...L);return hs.set(te,N.sort?N.sort():[N]),Tr(te)}}(I):(I instanceof IDBTransaction&&function Dr(I){if(Zi.has(I))return;const N=new Promise((L,te)=>{const me=()=>{I.removeEventListener("complete",De),I.removeEventListener("error",Xe),I.removeEventListener("abort",Xe)},De=()=>{L(),me()},Xe=()=>{te(I.error||new DOMException("AbortError","AbortError")),me()};I.addEventListener("complete",De),I.addEventListener("error",Xe),I.addEventListener("abort",Xe)});Zi.set(I,N)}(I),ro(I,function Ln(){return ss||(ss=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(I,Ki):I)}function Tr(I){if(I instanceof IDBRequest)return function Qs(I){const N=new Promise((L,te)=>{const me=()=>{I.removeEventListener("success",De),I.removeEventListener("error",Xe)},De=()=>{L(Tr(I.result)),me()},Xe=()=>{te(I.error),me()};I.addEventListener("success",De),I.addEventListener("error",Xe)});return N.then(L=>{L instanceof IDBCursor&&qo.set(L,I)}).catch(()=>{}),Si.set(N,I),N}(I);if(Vs.has(I))return Vs.get(I);const N=fs(I);return N!==I&&(Vs.set(I,N),Si.set(N,I)),N}const Ds=I=>Si.get(I);function es(I,N,{blocked:L,upgrade:te,blocking:me,terminated:De}={}){const Xe=indexedDB.open(I,N),Pt=Tr(Xe);return te&&Xe.addEventListener("upgradeneeded",At=>{te(Tr(Xe.result),At.oldVersion,At.newVersion,Tr(Xe.transaction))}),L&&Xe.addEventListener("blocked",()=>L()),Pt.then(At=>{De&&At.addEventListener("close",()=>De()),me&&At.addEventListener("versionchange",()=>me())}).catch(()=>{}),Pt}function tr(I,{blocked:N}={}){const L=indexedDB.deleteDatabase(I);return N&&L.addEventListener("blocked",()=>N()),Tr(L).then(()=>{})}const Xs=["get","getKey","getAll","getAllKeys","count"],Ma=["put","add","delete","clear"],mo=new Map;function Bs(I,N){if(!(I instanceof IDBDatabase)||N in I||"string"!=typeof N)return;if(mo.get(N))return mo.get(N);const L=N.replace(/FromIndex$/,""),te=N!==L,me=Ma.includes(L);if(!(L in(te?IDBIndex:IDBObjectStore).prototype)||!me&&!Xs.includes(L))return;const De=function(){var Xe=(0,re.A)(function*(Pt,...At){const gt=this.transaction(Pt,me?"readwrite":"readonly");let Bt=gt.store;return te&&(Bt=Bt.index(At.shift())),(yield Promise.all([Bt[L](...At),me&&gt.done]))[0]});return function(At){return Xe.apply(this,arguments)}}();return mo.set(N,De),De}!function fr(I){Ki=I(Ki)}(I=>({...I,get:(N,L,te)=>Bs(N,L)||I.get(N,L,te),has:(N,L)=>!!Bs(N,L)||I.has(N,L)}));const js="/firebase-messaging-sw.js",da="/firebase-cloud-messaging-push-scope",Qo="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Ji="https://fcmregistrations.googleapis.com/v1",lr="google.c.a.c_id",Ts="google.c.a.c_l",Na="google.c.a.ts";var yo=function(I){return I.PUSH_RECEIVED="push-received",I.NOTIFICATION_CLICKED="notification-clicked",I}(yo||{});function hi(I){const N=new Uint8Array(I);return btoa(String.fromCharCode(...N)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function No(I){const L=(I+"=".repeat((4-I.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),te=atob(L),me=new Uint8Array(te.length);for(let De=0;De<te.length;++De)me[De]=te.charCodeAt(De);return me}const vo="fcm_token_details_db",Ro=5,xo="fcm_token_object_Store";function Oo(){return Oo=(0,re.A)(function*(I){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(De=>De.name).includes(vo))return null;let N=null;return(yield es(vo,Ro,{upgrade:(te=(0,re.A)(function*(me,De,Xe,Pt){var At;if(De<2||!me.objectStoreNames.contains(xo))return;const gt=Pt.objectStore(xo),Bt=yield gt.index("fcmSenderId").get(I);if(yield gt.clear(),Bt)if(2===De){const wn=Bt;if(!wn.auth||!wn.p256dh||!wn.endpoint)return;N={token:wn.fcmToken,createTime:null!==(At=wn.createTime)&&void 0!==At?At:Date.now(),subscriptionOptions:{auth:wn.auth,p256dh:wn.p256dh,endpoint:wn.endpoint,swScope:wn.swScope,vapidKey:"string"==typeof wn.vapidKey?wn.vapidKey:hi(wn.vapidKey)}}}else if(3===De){const wn=Bt;N={token:wn.fcmToken,createTime:wn.createTime,subscriptionOptions:{auth:hi(wn.auth),p256dh:hi(wn.p256dh),endpoint:wn.endpoint,swScope:wn.swScope,vapidKey:hi(wn.vapidKey)}}}else if(4===De){const wn=Bt;N={token:wn.fcmToken,createTime:wn.createTime,subscriptionOptions:{auth:hi(wn.auth),p256dh:hi(wn.p256dh),endpoint:wn.endpoint,swScope:wn.swScope,vapidKey:hi(wn.vapidKey)}}}}),function(De,Xe,Pt,At){return te.apply(this,arguments)})})).close(),yield tr(vo),yield tr("fcm_vapid_details_db"),yield tr("undefined"),function Xo(I){if(!I||!I.subscriptionOptions)return!1;const{subscriptionOptions:N}=I;return"number"==typeof I.createTime&&I.createTime>0&&"string"==typeof I.token&&I.token.length>0&&"string"==typeof N.auth&&N.auth.length>0&&"string"==typeof N.p256dh&&N.p256dh.length>0&&"string"==typeof N.endpoint&&N.endpoint.length>0&&"string"==typeof N.swScope&&N.swScope.length>0&&"string"==typeof N.vapidKey&&N.vapidKey.length>0}(N)?N:null;var te}),Oo.apply(this,arguments)}const Li="firebase-messaging-database",Cs=1,ts="firebase-messaging-store";let Yo=null;function Sr(){return Yo||(Yo=es(Li,Cs,{upgrade:(I,N)=>{0===N&&I.createObjectStore(ts)}})),Yo}function bs(I){return Xr.apply(this,arguments)}function Xr(){return Xr=(0,re.A)(function*(I){const N=Zo(I),te=yield(yield Sr()).transaction(ts).objectStore(ts).get(N);if(te)return te;{const me=yield function io(I){return Oo.apply(this,arguments)}(I.appConfig.senderId);if(me)return yield Ss(I,me),me}}),Xr.apply(this,arguments)}function Ss(I,N){return so.apply(this,arguments)}function so(){return(so=(0,re.A)(function*(I,N){const L=Zo(I),me=(yield Sr()).transaction(ts,"readwrite");return yield me.objectStore(ts).put(N,L),yield me.done,N})).apply(this,arguments)}function Ys(){return(Ys=(0,re.A)(function*(I){const N=Zo(I),te=(yield Sr()).transaction(ts,"readwrite");yield te.objectStore(ts).delete(N),yield te.done})).apply(this,arguments)}function Zo({appConfig:I}){return I.appId}const fi=new he.FA("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function ao(I,N){return ii.apply(this,arguments)}function ii(){return(ii=(0,re.A)(function*(I,N){const L=yield Po(I),te=m(N),me={method:"POST",headers:L,body:JSON.stringify(te)};let De;try{De=yield(yield fetch(Yr(I.appConfig),me)).json()}catch(Xe){throw fi.create("token-subscribe-failed",{errorInfo:Xe?.toString()})}if(De.error)throw fi.create("token-subscribe-failed",{errorInfo:De.error.message});if(!De.token)throw fi.create("token-subscribe-no-token");return De.token})).apply(this,arguments)}function ha(){return(ha=(0,re.A)(function*(I,N){const L=yield Po(I),te=m(N.subscriptionOptions),me={method:"PATCH",headers:L,body:JSON.stringify(te)};let De;try{De=yield(yield fetch(`${Yr(I.appConfig)}/${N.token}`,me)).json()}catch(Xe){throw fi.create("token-update-failed",{errorInfo:Xe?.toString()})}if(De.error)throw fi.create("token-update-failed",{errorInfo:De.error.message});if(!De.token)throw fi.create("token-update-no-token");return De.token})).apply(this,arguments)}function As(I,N){return Eo.apply(this,arguments)}function Eo(){return(Eo=(0,re.A)(function*(I,N){const te={method:"DELETE",headers:yield Po(I)};try{const De=yield(yield fetch(`${Yr(I.appConfig)}/${N}`,te)).json();if(De.error)throw fi.create("token-unsubscribe-failed",{errorInfo:De.error.message})}catch(me){throw fi.create("token-unsubscribe-failed",{errorInfo:me?.toString()})}})).apply(this,arguments)}function Yr({projectId:I}){return`${Ji}/projects/${I}/registrations`}function Po(I){return B.apply(this,arguments)}function B(){return(B=(0,re.A)(function*({appConfig:I,installations:N}){const L=yield N.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":I.apiKey,"x-goog-firebase-installations-auth":`FIS ${L}`})})).apply(this,arguments)}function m({p256dh:I,auth:N,endpoint:L,vapidKey:te}){const me={web:{endpoint:L,auth:N,p256dh:I}};return te!==Qo&&(me.web.applicationPubKey=te),me}const E=6048e5;function $(){return $=(0,re.A)(function*(I){const N=yield function yt(I,N){return Dn.apply(this,arguments)}(I.swRegistration,I.vapidKey),L={vapidKey:I.vapidKey,swScope:I.swRegistration.scope,endpoint:N.endpoint,auth:hi(N.getKey("auth")),p256dh:hi(N.getKey("p256dh"))},te=yield bs(I.firebaseDependencies);if(te){if(function w(I,N){return N.vapidKey===I.vapidKey&&N.endpoint===I.endpoint&&N.auth===I.auth&&N.p256dh===I.p256dh}(te.subscriptionOptions,L))return Date.now()>=te.createTime+E?function fe(I,N){return Re.apply(this,arguments)}(I,{token:te.token,createTime:Date.now(),subscriptionOptions:L}):te.token;try{yield As(I.firebaseDependencies,te.token)}catch(me){console.warn(me)}return Qe(I.firebaseDependencies,L)}return Qe(I.firebaseDependencies,L)}),$.apply(this,arguments)}function le(){return le=(0,re.A)(function*(I){const N=yield bs(I.firebaseDependencies);N&&(yield As(I.firebaseDependencies,N.token),yield function oo(I){return Ys.apply(this,arguments)}(I.firebaseDependencies));const L=yield I.swRegistration.pushManager.getSubscription();return!L||L.unsubscribe()}),le.apply(this,arguments)}function Re(){return Re=(0,re.A)(function*(I,N){try{const L=yield function xa(I,N){return ha.apply(this,arguments)}(I.firebaseDependencies,N),te=Object.assign(Object.assign({},N),{token:L,createTime:Date.now()});return yield Ss(I.firebaseDependencies,te),L}catch(L){throw yield function J(I){return le.apply(this,arguments)}(I),L}}),Re.apply(this,arguments)}function Qe(I,N){return Et.apply(this,arguments)}function Et(){return(Et=(0,re.A)(function*(I,N){const te={token:yield ao(I,N),createTime:Date.now(),subscriptionOptions:N};return yield Ss(I,te),te.token})).apply(this,arguments)}function Dn(){return(Dn=(0,re.A)(function*(I,N){return(yield I.pushManager.getSubscription())||I.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:No(N)})})).apply(this,arguments)}function V(I){const N={from:I.from,collapseKey:I.collapse_key,messageId:I.fcmMessageId};return function R(I,N){if(!N.notification)return;I.notification={};const L=N.notification.title;L&&(I.notification.title=L);const te=N.notification.body;te&&(I.notification.body=te);const me=N.notification.image;me&&(I.notification.image=me);const De=N.notification.icon;De&&(I.notification.icon=De)}(N,I),function F(I,N){N.data&&(I.data=N.data)}(N,I),function ne(I,N){var L,te,me,De,Xe;if(!(N.fcmOptions||null!==(L=N.notification)&&void 0!==L&&L.click_action))return;I.fcmOptions={};const Pt=null!==(me=null===(te=N.fcmOptions)||void 0===te?void 0:te.link)&&void 0!==me?me:null===(De=N.notification)||void 0===De?void 0:De.click_action;Pt&&(I.fcmOptions.link=Pt);const At=null===(Xe=N.fcmOptions)||void 0===Xe?void 0:Xe.analytics_label;At&&(I.fcmOptions.analyticsLabel=At)}(N,I),N}function Ze(I,N){const L=[];for(let te=0;te<I.length;te++)L.push(I.charAt(te)),te<N.length&&L.push(N.charAt(te));return L.join("")}function Kn(I){return fi.create("missing-app-config-values",{valueName:I})}Ze("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Ze("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Fn{constructor(N,L,te){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const me=function Mt(I){if(!I||!I.options)throw Kn("App Configuration Object");if(!I.name)throw Kn("App Name");const N=["projectId","apiKey","appId","messagingSenderId"],{options:L}=I;for(const te of N)if(!L[te])throw Kn(te);return{appName:I.name,projectId:L.projectId,apiKey:L.apiKey,appId:L.appId,senderId:L.messagingSenderId}}(N);this.firebaseDependencies={app:N,appConfig:me,installations:L,analyticsProvider:te}}_delete(){return Promise.resolve()}}function cn(){return(cn=(0,re.A)(function*(I){try{I.swRegistration=yield navigator.serviceWorker.register(js,{scope:da}),I.swRegistration.update().catch(()=>{})}catch(N){throw fi.create("failed-service-worker-registration",{browserErrorMessage:N?.message})}})).apply(this,arguments)}function Gn(){return(Gn=(0,re.A)(function*(I,N){if(!N&&!I.swRegistration&&(yield function gn(I){return cn.apply(this,arguments)}(I)),N||!I.swRegistration){if(!(N instanceof ServiceWorkerRegistration))throw fi.create("invalid-sw-registration");I.swRegistration=N}})).apply(this,arguments)}function si(){return(si=(0,re.A)(function*(I,N){N?I.vapidKey=N:I.vapidKey||(I.vapidKey=Qo)})).apply(this,arguments)}function pr(){return pr=(0,re.A)(function*(I,N){if(!navigator)throw fi.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw fi.create("permission-blocked");return yield function vi(I,N){return si.apply(this,arguments)}(I,N?.vapidKey),yield function nr(I,N){return Gn.apply(this,arguments)}(I,N?.serviceWorkerRegistration),function x(I){return $.apply(this,arguments)}(I)}),pr.apply(this,arguments)}function Ct(){return(Ct=(0,re.A)(function*(I,N,L){const te=function Ft(I){switch(I){case yo.NOTIFICATION_CLICKED:return"notification_open";case yo.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(N);(yield I.firebaseDependencies.analyticsProvider.get()).logEvent(te,{message_id:L[lr],message_name:L[Ts],message_time:L[Na],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Ye(){return Ye=(0,re.A)(function*(I,N){const L=N.data;if(!L.isFirebaseMessaging)return;I.onMessageHandler&&L.messageType===yo.PUSH_RECEIVED&&("function"==typeof I.onMessageHandler?I.onMessageHandler(V(L)):I.onMessageHandler.next(V(L)));const te=L.data;(function be(I){return"object"==typeof I&&!!I&&lr in I})(te)&&"1"===te["google.c.a.e"]&&(yield function Ar(I,N,L){return Ct.apply(this,arguments)}(I,L.messageType,te))}),Ye.apply(this,arguments)}const Yt="@firebase/messaging",gr=I=>{const N=new Fn(I.getProvider("app").getImmediate(),I.getProvider("installations-internal").getImmediate(),I.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",L=>function sn(I,N){return Ye.apply(this,arguments)}(N,L)),N},mt=I=>{const N=I.getProvider("messaging").getImmediate();return{getToken:te=>function oi(I,N){return pr.apply(this,arguments)}(N,te)}};function fa(){return wt.apply(this,arguments)}function wt(){return(wt=(0,re.A)(function*(){try{yield(0,he.eX)()}catch{return!1}return typeof window<"u"&&(0,he.zW)()&&(0,he.dM)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function bt(){(0,ye.om)(new Z.uA("messaging",gr,"PUBLIC")),(0,ye.om)(new Z.uA("messaging-internal",mt,"PRIVATE")),(0,ye.KO)(Yt,"0.12.4"),(0,ye.KO)(Yt,"0.12.4","esm2017")}();const Pa="analytics",uo="firebase_id",Su="origin",Tn=6e4,Fi="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",rc="https://www.googletagmanager.com/gtag/js",Qt=new ee.Vy("@firebase/analytics"),Ui=new he.FA("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function ai(I){if(!I.startsWith(rc)){const N=Ui.create("invalid-gtag-resource",{gtagURL:I});return Qt.warn(N.message),""}return I}function Zt(I){return Promise.all(I.map(N=>N.catch(L=>L)))}function Nt(){return(Nt=(0,re.A)(function*(I,N,L,te,me,De){const Xe=te[me];try{if(Xe)yield N[Xe];else{const At=(yield Zt(L)).find(gt=>gt.measurementId===me);At&&(yield N[At.appId])}}catch(Pt){Qt.error(Pt)}I("config",me,De)})).apply(this,arguments)}function qn(){return(qn=(0,re.A)(function*(I,N,L,te,me){try{let De=[];if(me&&me.send_to){let Xe=me.send_to;Array.isArray(Xe)||(Xe=[Xe]);const Pt=yield Zt(L);for(const At of Xe){const gt=Pt.find(wn=>wn.measurementId===At),Bt=gt&&N[gt.appId];if(!Bt){De=[];break}De.push(Bt)}}0===De.length&&(De=Object.values(N)),yield Promise.all(De),I("event",te,me||{})}catch(De){Qt.error(De)}})).apply(this,arguments)}const ic=30,Ga=new class Zs{constructor(N={},L=1e3){this.throttleMetadata=N,this.intervalMillis=L}getThrottleMetadata(N){return this.throttleMetadata[N]}setThrottleMetadata(N,L){this.throttleMetadata[N]=L}deleteThrottleMetadata(N){delete this.throttleMetadata[N]}};function ps(I){return new Headers({Accept:"application/json","x-goog-api-key":I})}function Au(){return(Au=(0,re.A)(function*(I){var N;const{appId:L,apiKey:te}=I,me={method:"GET",headers:ps(te)},De=Fi.replace("{app-id}",L),Xe=yield fetch(De,me);if(200!==Xe.status&&304!==Xe.status){let Pt="";try{const At=yield Xe.json();null!==(N=At.error)&&void 0!==N&&N.message&&(Pt=At.error.message)}catch{}throw Ui.create("config-fetch-failed",{httpStatus:Xe.status,responseMessage:Pt})}return Xe.json()})).apply(this,arguments)}function ui(){return(ui=(0,re.A)(function*(I,N=Ga,L){const{appId:te,apiKey:me,measurementId:De}=I.options;if(!te)throw Ui.create("no-app-id");if(!me){if(De)return{measurementId:De,appId:te};throw Ui.create("no-api-key")}const Xe=N.getThrottleMetadata(te)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Pt=new xl;return setTimeout((0,re.A)(function*(){Pt.abort()}),void 0!==L?L:Tn),lo({appId:te,apiKey:me,measurementId:De},Xe,Pt,N)})).apply(this,arguments)}function lo(I,N,L){return Le.apply(this,arguments)}function Le(){return Le=(0,re.A)(function*(I,{throttleEndTimeMillis:N,backoffCount:L},te,me=Ga){var De;const{appId:Xe,measurementId:Pt}=I;try{yield function Jo(I,N){return new Promise((L,te)=>{const me=Math.max(N-Date.now(),0),De=setTimeout(L,me);I.addEventListener(()=>{clearTimeout(De),te(Ui.create("fetch-throttle",{throttleEndTimeMillis:N}))})})}(te,N)}catch(At){if(Pt)return Qt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Pt} provided in the "measurementId" field in the local Firebase config. [${At?.message}]`),{appId:Xe,measurementId:Pt};throw At}try{const At=yield function sc(I){return Au.apply(this,arguments)}(I);return me.deleteThrottleMetadata(Xe),At}catch(At){const gt=At;if(!function Mi(I){if(!(I instanceof he.g&&I.customData))return!1;const N=Number(I.customData.httpStatus);return 429===N||500===N||503===N||504===N}(gt)){if(me.deleteThrottleMetadata(Xe),Pt)return Qt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Pt} provided in the "measurementId" field in the local Firebase config. [${gt?.message}]`),{appId:Xe,measurementId:Pt};throw At}const Bt=503===Number(null===(De=gt?.customData)||void 0===De?void 0:De.httpStatus)?(0,he.p9)(L,me.intervalMillis,ic):(0,he.p9)(L,me.intervalMillis),wn={throttleEndTimeMillis:Date.now()+Bt,backoffCount:L+1};return me.setThrottleMetadata(Xe,wn),Qt.debug(`Calling attemptFetch again in ${Bt} millis`),lo(I,wn,te,me)}}),Le.apply(this,arguments)}class xl{constructor(){this.listeners=[]}addEventListener(N){this.listeners.push(N)}abort(){this.listeners.forEach(N=>N())}}let ga,sr;function S(){return(S=(0,re.A)(function*(I,N,L,te,me){if(me&&me.global)I("event",L,te);else{const De=yield N;I("event",L,Object.assign(Object.assign({},te),{send_to:De}))}})).apply(this,arguments)}function Ni(){return(Ni=(0,re.A)(function*(){if(!(0,he.zW)())return Qt.warn(Ui.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,he.eX)()}catch(I){return Qt.warn(Ui.create("indexeddb-unavailable",{errorInfo:I?.toString()}).message),!1}return!0})).apply(this,arguments)}function Ur(){return Ur=(0,re.A)(function*(I,N,L,te,me,De,Xe){var Pt;const At=function lu(I){return ui.apply(this,arguments)}(I);At.then(is=>{L[is.measurementId]=is.appId,I.options.measurementId&&is.measurementId!==I.options.measurementId&&Qt.warn(`The measurement ID in the local Firebase config (${I.options.measurementId}) does not match the measurement ID fetched from the server (${is.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(is=>Qt.error(is)),N.push(At);const gt=function ea(){return Ni.apply(this,arguments)}().then(is=>{if(is)return te.getId()}),[Bt,wn]=yield Promise.all([At,gt]);(function _i(I){const N=window.document.getElementsByTagName("script");for(const L of Object.values(N))if(L.src&&L.src.includes(rc)&&L.src.includes(I))return L;return null})(De)||function ir(I,N){const L=function za(I,N){let L;return window.trustedTypes&&(L=window.trustedTypes.createPolicy(I,N)),L}("firebase-js-sdk-policy",{createScriptURL:ai}),te=document.createElement("script"),me=`${rc}?l=${I}&id=${N}`;te.src=L?L?.createScriptURL(me):me,te.async=!0,document.head.appendChild(te)}(De,Bt.measurementId),sr&&(me("consent","default",sr),function gs(I){sr=I}(void 0)),me("js",new Date);const rs=null!==(Pt=Xe?.config)&&void 0!==Pt?Pt:{};return rs[Su]="firebase",rs.update=!0,null!=wn&&(rs[uo]=wn),me("config",Bt.measurementId,rs),ga&&(me("set",ga),function Ms(I){ga=I}(void 0)),Bt.measurementId}),Ur.apply(this,arguments)}class qc{constructor(N){this.app=N}_delete(){return delete ma[this.app.options.appId],Promise.resolve()}}let ma={},oc=[];const xd={};let Nu,ys,Lo="dataLayer",Qc=!1;function Xc(I,N,L){!function ac(){const I=[];if((0,he.sr)()&&I.push("This is a browser extension environment."),(0,he.dM)()||I.push("Cookies are not available."),I.length>0){const N=I.map((te,me)=>`(${me+1}) ${te}`).join(" "),L=Ui.create("invalid-analytics-context",{errorInfo:N});Qt.warn(L.message)}}();const te=I.options.appId;if(!te)throw Ui.create("no-app-id");if(!I.options.apiKey){if(!I.options.measurementId)throw Ui.create("no-api-key");Qt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${I.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=ma[te])throw Ui.create("already-exists",{id:te});if(!Qc){!function uu(I){let N=[];Array.isArray(window[I])?N=window[I]:window[I]=N}(Lo);const{wrappedGtag:De,gtagCore:Xe}=function cu(I,N,L,te,me){let De=function(...Xe){window[te].push(arguments)};return window[me]&&"function"==typeof window[me]&&(De=window[me]),window[me]=function ko(I,N,L,te){function De(){return De=(0,re.A)(function*(Xe,...Pt){try{if("event"===Xe){const[At,gt]=Pt;yield function ut(I,N,L,te,me){return qn.apply(this,arguments)}(I,N,L,At,gt)}else if("config"===Xe){const[At,gt]=Pt;yield function Ai(I,N,L,te,me,De){return Nt.apply(this,arguments)}(I,N,L,te,At,gt)}else if("consent"===Xe){const[At]=Pt;I("consent","update",At)}else if("get"===Xe){const[At,gt,Bt]=Pt;I("get",At,gt,Bt)}else if("set"===Xe){const[At]=Pt;I("set",At)}else I(Xe,...Pt)}catch(At){Qt.error(At)}}),De.apply(this,arguments)}return function me(Xe){return De.apply(this,arguments)}}(De,I,N,L),{gtagCore:De,wrappedGtag:window[me]}}(ma,oc,xd,Lo,"gtag");ys=De,Nu=Xe,Qc=!0}return ma[te]=function ms(I,N,L,te,me,De,Xe){return Ur.apply(this,arguments)}(I,oc,xd,N,Nu,Lo,L),new qc(I)}function Ol(){return xu.apply(this,arguments)}function xu(){return(xu=(0,re.A)(function*(){if((0,he.sr)()||!(0,he.dM)()||!(0,he.zW)())return!1;try{return yield(0,he.eX)()}catch{return!1}})).apply(this,arguments)}const du="@firebase/analytics";!function Vr(){(0,ye.om)(new Z.uA(Pa,(N,{options:L})=>Xc(N.getProvider("app").getImmediate(),N.getProvider("installations-internal").getImmediate(),L),"PUBLIC")),(0,ye.om)(new Z.uA("analytics-internal",function I(N){try{const L=N.getProvider(Pa).getImmediate();return{logEvent:(te,me,De)=>function cc(I,N,L,te){I=(0,he.Ku)(I),function _(I,N,L,te,me){return S.apply(this,arguments)}(ys,ma[I.app.options.appId],N,L,te).catch(me=>Qt.error(me))}(L,te,me,De)}}catch(L){throw Ui.create("interop-component-reg-failed",{reason:L})}},"PRIVATE")),(0,ye.KO)(du,"0.10.0"),(0,ye.KO)(du,"0.10.0","esm2017")}();var Yc=H(6780),$s=H(3604);const kd=new class ku extends $s.q{}(class Fo extends Yc.R{constructor(N,L){super(N,L),this.scheduler=N,this.work=L}schedule(N,L=0){return L>0?super.schedule(N,L):(this.delay=L,this.state=N,this.scheduler.flush(this),this)}execute(N,L){return L>0||this.closed?super.execute(N,L):this._execute(N,L)}requestAsyncId(N,L,te=0){return null!=te&&te>0||null==te&&this.delay>0?super.requestAsyncId(N,L,te):(N.flush(this),0)}});var Pl=H(3236),Uo=H(1985),Rr=H(8141),ta=H(6745),na=H(941);const Lu=new M.RxE("7.6.1"),ra="__angularfire_symbol__analyticsIsSupportedValue",qa="__angularfire_symbol__analyticsIsSupported",ho="__angularfire_symbol__remoteConfigIsSupportedValue",Vo="__angularfire_symbol__remoteConfigIsSupported",ya="__angularfire_symbol__messagingIsSupportedValue",Bo="__angularfire_symbol__messagingIsSupported";function Io(I,N,L){if(N){if(1===N.length)return N[0];const De=N.filter(Xe=>Xe.app===L);if(1===De.length)return De[0]}return L.container.getProvider(I).getImmediate({optional:!0})}globalThis[qa]||(globalThis[qa]=Ol().then(I=>globalThis[ra]=I).catch(()=>globalThis[ra]=!1)),globalThis[Bo]||(globalThis[Bo]=fa().then(I=>globalThis[ya]=I).catch(()=>globalThis[ya]=!1)),globalThis[Vo]||(globalThis[Vo]=la().then(I=>globalThis[ho]=I).catch(()=>globalThis[ho]=!1));const Fu=(I,N)=>{const L=N?[N]:(0,ue.Dk)(),te=[];return L.forEach(me=>{me.container.getProvider(I).instances.forEach(Xe=>{te.includes(Xe)||te.push(Xe)})}),te};function ia(){}class va{constructor(N,L=kd){this.zone=N,this.delegate=L}now(){return this.delegate.now()}schedule(N,L,te){const me=this.zone;return this.delegate.schedule(function(Xe){me.runGuarded(()=>{N.apply(this,[Xe])})},L,te)}}class Qa{constructor(N){this.zone=N,this.task=null}call(N,L){const te=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ia,{},ia,ia)),L.pipe((0,Rr.M)({next:te,complete:te,error:te})).subscribe(N).add(te)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Xa=(()=>{class I{constructor(L){this.ngZone=L,this.outsideAngular=L.runOutsideAngular(()=>new va(Zone.current)),this.insideAngular=L.run(()=>new va(Zone.current,Pl.E)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return I.\u0275fac=function(L){return new(L||I)(M.KVO(M.SKi))},I.\u0275prov=M.jDH({token:I,factory:I.\u0275fac,providedIn:"root"}),I})();function Vi(){const I=globalThis.\u0275AngularFireScheduler;if(!I)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return I}function Do(I){return Vi().ngZone.run(()=>I())}function Ll(I){return Vi(),function Zc(I){return function(L){return(L=L.lift(new Qa(I.ngZone))).pipe((0,ta._)(I.outsideAngular),(0,na.Q)(I.insideAngular))}}(Vi())(I)}const Ya=(I,N)=>function(){const te=arguments;return N&&setTimeout(()=>{"scheduled"===N.state&&N.invoke()},10),Do(()=>I.apply(void 0,te))},Za=(I,N)=>function(){let L;const te=arguments;for(let De=0;De<arguments.length;De++)"function"==typeof te[De]&&(N&&(L||(L=Do(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ia,{},ia,ia)))),te[De]=Ya(te[De],L));const me=function kl(I){return Vi().ngZone.runOutsideAngular(()=>I())}(()=>I.apply(this,te));if(!N){if(me instanceof Uo.c){const De=Vi();return me.pipe((0,ta._)(De.outsideAngular),(0,na.Q)(De.insideAngular))}return Do(()=>me)}return me instanceof Uo.c?me.pipe(Ll):me instanceof Promise?Do(()=>new Promise((De,Xe)=>me.then(Pt=>Do(()=>De(Pt)),Pt=>Do(()=>Xe(Pt))))):"function"==typeof me&&L?function(){return setTimeout(()=>{L&&"scheduled"===L.state&&L.invoke()},10),me.apply(this,arguments)}:Do(()=>me)}},1401:(jt,We,H)=>{H.d(We,{Am:()=>jr,FA:()=>Ke,Fy:()=>He,I9:()=>qt,Im:()=>Rn,K3:()=>Z,Ku:()=>Ir,T9:()=>Ae,Tj:()=>bn,Uj:()=>$e,XA:()=>ot,ZQ:()=>ft,bD:()=>er,cY:()=>Ue,dM:()=>Oe,eX:()=>Pr,g:()=>ke,hp:()=>vn,jZ:()=>ct,lT:()=>Pn,lV:()=>Br,nr:()=>Jr,p9:()=>$i,sr:()=>pn,tD:()=>$n,u:()=>ie,yU:()=>On,zW:()=>jn});const ye=function(de){const G=[];let X=0;for(let q=0;q<de.length;q++){let W=de.charCodeAt(q);W<128?G[X++]=W:W<2048?(G[X++]=W>>6|192,G[X++]=63&W|128):55296==(64512&W)&&q+1<de.length&&56320==(64512&de.charCodeAt(q+1))?(W=65536+((1023&W)<<10)+(1023&de.charCodeAt(++q)),G[X++]=W>>18|240,G[X++]=W>>12&63|128,G[X++]=W>>6&63|128,G[X++]=63&W|128):(G[X++]=W>>12|224,G[X++]=W>>6&63|128,G[X++]=63&W|128)}return G},Z={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(de,G){if(!Array.isArray(de))throw Error("encodeByteArray takes an array as a parameter");this.init_();const X=G?this.byteToCharMapWebSafe_:this.byteToCharMap_,q=[];for(let W=0;W<de.length;W+=3){const we=de[W],tt=W+1<de.length,St=tt?de[W+1]:0,Vt=W+2<de.length,en=Vt?de[W+2]:0;let ar=(15&St)<<2|en>>6,Hr=63&en;Vt||(Hr=64,tt||(ar=64)),q.push(X[we>>2],X[(3&we)<<4|St>>4],X[ar],X[Hr])}return q.join("")},encodeString(de,G){return this.HAS_NATIVE_SUPPORT&&!G?btoa(de):this.encodeByteArray(ye(de),G)},decodeString(de,G){return this.HAS_NATIVE_SUPPORT&&!G?atob(de):function(de){const G=[];let X=0,q=0;for(;X<de.length;){const W=de[X++];if(W<128)G[q++]=String.fromCharCode(W);else if(W>191&&W<224){const we=de[X++];G[q++]=String.fromCharCode((31&W)<<6|63&we)}else if(W>239&&W<365){const Vt=((7&W)<<18|(63&de[X++])<<12|(63&de[X++])<<6|63&de[X++])-65536;G[q++]=String.fromCharCode(55296+(Vt>>10)),G[q++]=String.fromCharCode(56320+(1023&Vt))}else{const we=de[X++],tt=de[X++];G[q++]=String.fromCharCode((15&W)<<12|(63&we)<<6|63&tt)}}return G.join("")}(this.decodeStringToByteArray(de,G))},decodeStringToByteArray(de,G){this.init_();const X=G?this.charToByteMapWebSafe_:this.charToByteMap_,q=[];for(let W=0;W<de.length;){const we=X[de.charAt(W++)],St=W<de.length?X[de.charAt(W)]:0;++W;const en=W<de.length?X[de.charAt(W)]:64;++W;const un=W<de.length?X[de.charAt(W)]:64;if(++W,null==we||null==St||null==en||null==un)throw new ee;q.push(we<<2|St>>4),64!==en&&(q.push(St<<4&240|en>>2),64!==un&&q.push(en<<6&192|un))}return q},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let de=0;de<this.ENCODED_VALS.length;de++)this.byteToCharMap_[de]=this.ENCODED_VALS.charAt(de),this.charToByteMap_[this.byteToCharMap_[de]]=de,this.byteToCharMapWebSafe_[de]=this.ENCODED_VALS_WEBSAFE.charAt(de),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[de]]=de,de>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(de)]=de,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(de)]=de)}}};class ee extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const $e=function(de){return function(de){const G=ye(de);return Z.encodeByteArray(G,!0)}(de).replace(/\./g,"")},ie=function(de){try{return Z.decodeString(de,!0)}catch(G){console.error("base64Decode failed: ",G)}return null},kt=()=>{try{return function _e(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const de=process.env.__FIREBASE_DEFAULTS__;return de?JSON.parse(de):void 0})()||(()=>{if(typeof document>"u")return;let de;try{de=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const G=de&&ie(de[1]);return G&&JSON.parse(G)})()}catch(de){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${de}`)}},bn=de=>{var G,X;return null===(X=null===(G=kt())||void 0===G?void 0:G.emulatorHosts)||void 0===X?void 0:X[de]},On=de=>{const G=bn(de);if(!G)return;const X=G.lastIndexOf(":");if(X<=0||X+1===G.length)throw new Error(`Invalid host ${G} with no separate hostname and port!`);const q=parseInt(G.substring(X+1),10);return"["===G[0]?[G.substring(1,X-1),q]:[G.substring(0,X),q]},Ae=()=>{var de;return null===(de=kt())||void 0===de?void 0:de.config},ot=de=>{var G;return null===(G=kt())||void 0===G?void 0:G[`_${de}`]};class Ue{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((G,X)=>{this.resolve=G,this.reject=X})}wrapCallback(G){return(X,q)=>{X?this.reject(X):this.resolve(q),"function"==typeof G&&(this.promise.catch(()=>{}),1===G.length?G(X):G(X,q))}}}function He(de,G){if(de.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const q=G||"demo-project",W=de.iat||0,we=de.sub||de.user_id;if(!we)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const tt=Object.assign({iss:`https://securetoken.google.com/${q}`,aud:q,iat:W,exp:W+3600,auth_time:W,sub:we,user_id:we,firebase:{sign_in_provider:"custom",identities:{}}},de);return[$e(JSON.stringify({alg:"none",type:"JWT"})),$e(JSON.stringify(tt)),""].join(".")}function ft(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ct(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ft())}function pn(){const de="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof de&&void 0!==de.id}function Br(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Pn(){const de=ft();return de.indexOf("MSIE ")>=0||de.indexOf("Trident/")>=0}function Jr(){return!function Jt(){var de;const G=null===(de=kt())||void 0===de?void 0:de.forceEnvironment;if("node"===G)return!0;if("browser"===G)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function jn(){try{return"object"==typeof indexedDB}catch{return!1}}function Pr(){return new Promise((de,G)=>{try{let X=!0;const q="validate-browser-context-for-indexeddb-analytics-module",W=self.indexedDB.open(q);W.onsuccess=()=>{W.result.close(),X||self.indexedDB.deleteDatabase(q),de(!0)},W.onupgradeneeded=()=>{X=!1},W.onerror=()=>{var we;G((null===(we=W.error)||void 0===we?void 0:we.message)||"")}}catch(X){G(X)}})}function Oe(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class ke extends Error{constructor(G,X,q){super(X),this.code=G,this.customData=q,this.name="FirebaseError",Object.setPrototypeOf(this,ke.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ke.prototype.create)}}class Ke{constructor(G,X,q){this.service=G,this.serviceName=X,this.errors=q}create(G,...X){const q=X[0]||{},W=`${this.service}/${G}`,we=this.errors[G],tt=we?function rt(de,G){return de.replace(je,(X,q)=>{const W=G[q];return null!=W?String(W):`<${q}?>`})}(we,q):"Error";return new ke(W,`${this.serviceName}: ${tt} (${W}).`,q)}}const je=/\{\$([^}]+)}/g;function Rn(de){for(const G in de)if(Object.prototype.hasOwnProperty.call(de,G))return!1;return!0}function er(de,G){if(de===G)return!0;const X=Object.keys(de),q=Object.keys(G);for(const W of X){if(!q.includes(W))return!1;const we=de[W],tt=G[W];if(kr(we)&&kr(tt)){if(!er(we,tt))return!1}else if(we!==tt)return!1}for(const W of q)if(!X.includes(W))return!1;return!0}function kr(de){return null!==de&&"object"==typeof de}function jr(de){const G=[];for(const[X,q]of Object.entries(de))Array.isArray(q)?q.forEach(W=>{G.push(encodeURIComponent(X)+"="+encodeURIComponent(W))}):G.push(encodeURIComponent(X)+"="+encodeURIComponent(q));return G.length?"&"+G.join("&"):""}function qt(de){const G={};return de.replace(/^\?/,"").split("&").forEach(q=>{if(q){const[W,we]=q.split("=");G[decodeURIComponent(W)]=decodeURIComponent(we)}}),G}function vn(de){const G=de.indexOf("?");if(!G)return"";const X=de.indexOf("#",G);return de.substring(G,X>0?X:void 0)}function $n(de,G){const X=new Lr(de,G);return X.subscribe.bind(X)}class Lr{constructor(G,X){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=X,this.task.then(()=>{G(this)}).catch(q=>{this.error(q)})}next(G){this.forEachObserver(X=>{X.next(G)})}error(G){this.forEachObserver(X=>{X.error(G)}),this.close(G)}complete(){this.forEachObserver(G=>{G.complete()}),this.close()}subscribe(G,X,q){let W;if(void 0===G&&void 0===X&&void 0===q)throw new Error("Missing Observer.");W=function In(de,G){if("object"!=typeof de||null===de)return!1;for(const X of G)if(X in de&&"function"==typeof de[X])return!0;return!1}(G,["next","error","complete"])?G:{next:G,error:X,complete:q},void 0===W.next&&(W.next=or),void 0===W.error&&(W.error=or),void 0===W.complete&&(W.complete=or);const we=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?W.error(this.finalError):W.complete()}catch{}}),this.observers.push(W),we}unsubscribeOne(G){void 0===this.observers||void 0===this.observers[G]||(delete this.observers[G],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(G){if(!this.finalized)for(let X=0;X<this.observers.length;X++)this.sendOne(X,G)}sendOne(G,X){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[G])try{X(this.observers[G])}catch(q){typeof console<"u"&&console.error&&console.error(q)}})}close(G){this.finalized||(this.finalized=!0,void 0!==G&&(this.finalError=G),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function or(){}const Ii=1e3,Di=2,Ti=144e5,wr=.5;function $i(de,G=Ii,X=Di){const q=G*Math.pow(X,de),W=Math.round(wr*q*(Math.random()-.5)*2);return Math.min(Ti,q+W)}function Ir(de){return de&&de._delegate?de._delegate:de}},2661:(jt,We,H)=>{var M=H(345),ue=H(5574),re=H(7705);const ye=[{path:"",redirectTo:"auth/login",pathMatch:"full"},{path:"auth",loadChildren:()=>Promise.all([H.e(417),H.e(384)]).then(H.bind(H,5384)).then(B=>B.AuthModule)},{path:"dashboard",loadChildren:()=>Promise.all([H.e(417),H.e(722)]).then(H.bind(H,1722)).then(B=>B.DashboardModule)}];let he=(()=>{class B{static{this.\u0275fac=function(x){return new(x||B)}}static{this.\u0275mod=re.$C({type:B})}static{this.\u0275inj=re.G2t({imports:[ue.iI.forRoot(ye),ue.iI]})}}return B})(),Z=(()=>{class B{constructor(){this.title="coop-app"}static{this.\u0275fac=function(x){return new(x||B)}}static{this.\u0275cmp=re.VBU({type:B,selectors:[["app-root"]],decls:1,vars:0,template:function(x,$){1&x&&re.nrm(0,"router-outlet")},dependencies:[ue.n3]})}}return B})();const ee_firebase={apiKey:"AIzaSyCbw8b_ag8QyunuIJIXl24SCepm439uzVU",authDomain:"coop-pro.firebaseapp.com",projectId:"coop-pro",storageBucket:"coop-pro.firebasestorage.app",messagingSenderId:"770543345465",appId:"1:770543345465:web:33089459f3d6eba9b992e8",measurementId:"G-T4463ZST23"};var xe=H(8934),$e=H(4724),ie=H(9676);class ae{}class Te{}const Ge="*";function Ut(B,m=null){return{type:2,steps:B,options:m}}function kt(B){return{type:6,styles:B,offset:null}}class Jt{constructor(m=0,E=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=m+E}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(m=>m()),this._onDoneFns=[])}onStart(m){this._originalOnStartFns.push(m),this._onStartFns.push(m)}onDone(m){this._originalOnDoneFns.push(m),this._onDoneFns.push(m)}onDestroy(m){this._onDestroyFns.push(m)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(m=>m()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(m=>m()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(m){this._position=this.totalTime?m*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(m){const E="start"==m?this._onStartFns:this._onDoneFns;E.forEach(x=>x()),E.length=0}}class fn{constructor(m){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=m;let E=0,x=0,$=0;const J=this.players.length;0==J?queueMicrotask(()=>this._onFinish()):this.players.forEach(le=>{le.onDone(()=>{++E==J&&this._onFinish()}),le.onDestroy(()=>{++x==J&&this._onDestroy()}),le.onStart(()=>{++$==J&&this._onStart()})}),this.totalTime=this.players.reduce((le,fe)=>Math.max(le,fe.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(m=>m()),this._onDoneFns=[])}init(){this.players.forEach(m=>m.init())}onStart(m){this._onStartFns.push(m)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(m=>m()),this._onStartFns=[])}onDone(m){this._onDoneFns.push(m)}onDestroy(m){this._onDestroyFns.push(m)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(m=>m.play())}pause(){this.players.forEach(m=>m.pause())}restart(){this.players.forEach(m=>m.restart())}finish(){this._onFinish(),this.players.forEach(m=>m.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(m=>m.destroy()),this._onDestroyFns.forEach(m=>m()),this._onDestroyFns=[])}reset(){this.players.forEach(m=>m.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(m){const E=m*this.totalTime;this.players.forEach(x=>{const $=x.totalTime?Math.min(1,E/x.totalTime):1;x.setPosition($)})}getPosition(){const m=this.players.reduce((E,x)=>null===E||x.totalTime>E.totalTime?x:E,null);return null!=m?m.getPosition():0}beforeDestroy(){this.players.forEach(m=>{m.beforeDestroy&&m.beforeDestroy()})}triggerCallback(m){const E="start"==m?this._onStartFns:this._onDoneFns;E.forEach(x=>x()),E.length=0}}function lt(B){return new re.wOt(3e3,!1)}function Ot(B){switch(B.length){case 0:return new Jt;case 1:return B[0];default:return new fn(B)}}function Ei(B,m,E=new Map,x=new Map){const $=[],J=[];let le=-1,fe=null;if(m.forEach(Re=>{const Qe=Re.get("offset"),Et=Qe==le,yt=Et&&fe||new Map;Re.forEach((Dn,w)=>{let V=w,R=Dn;if("offset"!==w)switch(V=B.normalizePropertyName(V,$),R){case"!":R=E.get(w);break;case Ge:R=x.get(w);break;default:R=B.normalizeStyleValue(w,V,R,$)}yt.set(V,R)}),Et||J.push(yt),fe=yt,le=Qe}),$.length)throw function er(B){return new re.wOt(3502,!1)}();return J}function on(B,m,E,x){switch(m){case"start":B.onStart(()=>x(E&&wi(E,"start",B)));break;case"done":B.onDone(()=>x(E&&wi(E,"done",B)));break;case"destroy":B.onDestroy(()=>x(E&&wi(E,"destroy",B)))}}function wi(B,m,E){const J=Nr(B.element,B.triggerName,B.fromState,B.toState,m||B.phaseName,E.totalTime??B.totalTime,!!E.disabled),le=B._data;return null!=le&&(J._data=le),J}function Nr(B,m,E,x,$="",J=0,le){return{element:B,triggerName:m,fromState:E,toState:x,phaseName:$,totalTime:J,disabled:!!le}}function yr(B,m,E){let x=B.get(m);return x||B.set(m,x=E),x}function $r(B){const m=B.indexOf(":");return[B.substring(1,m),B.slice(m+1)]}const Ii=(()=>typeof document>"u"?null:document.documentElement)();function Di(B){const m=B.parentNode||B.host||null;return m===Ii?null:m}let wr=null,$i=!1;function de(B,m){for(;m;){if(m===B)return!0;m=Di(m)}return!1}function G(B,m,E){if(E)return Array.from(B.querySelectorAll(m));const x=B.querySelector(m);return x?[x]:[]}let q=(()=>{class B{validateStyleProperty(E){return function Hn(B){wr||(wr=function Ir(){return typeof document<"u"?document.body:null}()||{},$i=!!wr.style&&"WebkitAppearance"in wr.style);let m=!0;return wr.style&&!function Ti(B){return"ebkit"==B.substring(1,6)}(B)&&(m=B in wr.style,!m&&$i&&(m="Webkit"+B.charAt(0).toUpperCase()+B.slice(1)in wr.style)),m}(E)}matchesElement(E,x){return!1}containsElement(E,x){return de(E,x)}getParentElement(E){return Di(E)}query(E,x,$){return G(E,x,$)}computeStyle(E,x,$){return $||""}animate(E,x,$,J,le,fe=[],Re){return new Jt($,J)}static{this.\u0275fac=function(x){return new(x||B)}}static{this.\u0275prov=re.jDH({token:B,factory:B.\u0275fac})}}return B})(),W=(()=>{class B{static{this.NOOP=new q}}return B})();const we=1e3,Vt="ng-enter",en="ng-leave",zt="ng-trigger",un=".ng-trigger",ar="ng-animating",Hr=".ng-animating";function zr(B){if("number"==typeof B)return B;const m=B.match(/^(-?[\.\d]+)(m?s)/);return!m||m.length<2?0:gi(parseFloat(m[1]),m[2])}function gi(B,m){return"s"===m?B*we:B}function qe(B,m,E){return B.hasOwnProperty("duration")?B:function Ce(B,m,E){let $,J=0,le="";if("string"==typeof B){const fe=B.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===fe)return m.push(lt()),{duration:0,delay:0,easing:""};$=gi(parseFloat(fe[1]),fe[2]);const Re=fe[3];null!=Re&&(J=gi(parseFloat(Re),fe[4]));const Qe=fe[5];Qe&&(le=Qe)}else $=B;if(!E){let fe=!1,Re=m.length;$<0&&(m.push(function Pn(){return new re.wOt(3100,!1)}()),fe=!0),J<0&&(m.push(function Qn(){return new re.wOt(3101,!1)}()),fe=!0),fe&&m.splice(Re,0,lt())}return{duration:$,delay:J,easing:le}}(B,m,E)}function at(B,m={}){return Object.keys(B).forEach(E=>{m[E]=B[E]}),m}function Lt(B){const m=new Map;return Object.keys(B).forEach(E=>{m.set(E,B[E])}),m}function ln(B,m=new Map,E){if(E)for(let[x,$]of E)m.set(x,$);for(let[x,$]of B)m.set(x,$);return m}function Xn(B,m,E){m.forEach((x,$)=>{const J=ls($);E&&!E.has($)&&E.set($,B.style[J]),B.style[J]=x})}function ur(B,m){m.forEach((E,x)=>{const $=ls(x);B.style[$]=""})}function br(B){return Array.isArray(B)?1==B.length?B[0]:Ut(B):B}const Qi=new RegExp("{{\\s*(.+?)\\s*}}","g");function cs(B){let m=[];if("string"==typeof B){let E;for(;E=Qi.exec(B);)m.push(E[1]);Qi.lastIndex=0}return m}function zi(B,m,E){const x=B.toString(),$=x.replace(Qi,(J,le)=>{let fe=m[le];return null==fe&&(E.push(function Jr(B){return new re.wOt(3003,!1)}()),fe=""),fe.toString()});return $==x?B:$}function Pi(B){const m=[];let E=B.next();for(;!E.done;)m.push(E.value),E=B.next();return m}const eo=/-+([a-z0-9])/g;function ls(B){return B.replace(eo,(...m)=>m[1].toUpperCase())}function vr(B,m,E){switch(m.type){case 7:return B.visitTrigger(m,E);case 0:return B.visitState(m,E);case 1:return B.visitTransition(m,E);case 2:return B.visitSequence(m,E);case 3:return B.visitGroup(m,E);case 4:return B.visitAnimate(m,E);case 5:return B.visitKeyframes(m,E);case 6:return B.visitStyle(m,E);case 8:return B.visitReference(m,E);case 9:return B.visitAnimateChild(m,E);case 10:return B.visitAnimateRef(m,E);case 11:return B.visitQuery(m,E);case 12:return B.visitStagger(m,E);default:throw function jn(B){return new re.wOt(3004,!1)}()}}function Gi(B,m){return window.getComputedStyle(B)[m]}const tn="*";function zn(B,m){const E=[];return"string"==typeof B?B.split(/\s*,\s*/).forEach(x=>function kn(B,m,E){if(":"==B[0]){const Re=function Vn(B,m){switch(B){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(E,x)=>parseFloat(x)>parseFloat(E);case":decrement":return(E,x)=>parseFloat(x)<parseFloat(E);default:return m.push(function dn(B){return new re.wOt(3016,!1)}()),"* => *"}}(B,E);if("function"==typeof Re)return void m.push(Re);B=Re}const x=B.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==x||x.length<4)return E.push(function Jn(B){return new re.wOt(3015,!1)}()),m;const $=x[1],J=x[2],le=x[3];m.push(Ci($,le));"<"==J[0]&&!($==tn&&le==tn)&&m.push(Ci(le,$))}(x,E,m)):E.push(B),E}const Xi=new Set(["true","1"]),li=new Set(["false","0"]);function Ci(B,m){const E=Xi.has(B)||li.has(B),x=Xi.has(m)||li.has(m);return($,J)=>{let le=B==tn||B==$,fe=m==tn||m==J;return!le&&E&&"boolean"==typeof $&&(le=$?Xi.has(B):li.has(B)),!fe&&x&&"boolean"==typeof J&&(fe=J?Xi.has(m):li.has(m)),le&&fe}}const bo=new RegExp("s*:selfs*,?","g");function Go(B,m,E,x){return new ks(B).build(m,E,x)}class ks{constructor(m){this._driver=m}build(m,E,x){const $=new Wo(E);return this._resetContextStyleTimingState($),vr(this,br(m),$)}_resetContextStyleTimingState(m){m.currentQuerySelector="",m.collectedStyles=new Map,m.collectedStyles.set("",new Map),m.currentTime=0}visitTrigger(m,E){let x=E.queryCount=0,$=E.depCount=0;const J=[],le=[];return"@"==m.name.charAt(0)&&E.errors.push(function Oe(){return new re.wOt(3006,!1)}()),m.definitions.forEach(fe=>{if(this._resetContextStyleTimingState(E),0==fe.type){const Re=fe,Qe=Re.name;Qe.toString().split(/\s*,\s*/).forEach(Et=>{Re.name=Et,J.push(this.visitState(Re,E))}),Re.name=Qe}else if(1==fe.type){const Re=this.visitTransition(fe,E);x+=Re.queryCount,$+=Re.depCount,le.push(Re)}else E.errors.push(function Be(){return new re.wOt(3007,!1)}())}),{type:7,name:m.name,states:J,transitions:le,queryCount:x,depCount:$,options:null}}visitState(m,E){const x=this.visitStyle(m.styles,E),$=m.options&&m.options.params||null;if(x.containsDynamicStyles){const J=new Set,le=$||{};x.styles.forEach(fe=>{fe instanceof Map&&fe.forEach(Re=>{cs(Re).forEach(Qe=>{le.hasOwnProperty(Qe)||J.add(Qe)})})}),J.size&&(Pi(J.values()),E.errors.push(function ke(B,m){return new re.wOt(3008,!1)}()))}return{type:0,name:m.name,style:x,options:$?{params:$}:null}}visitTransition(m,E){E.queryCount=0,E.depCount=0;const x=vr(this,br(m.animation),E);return{type:1,matchers:zn(m.expr,E.errors),animation:x,queryCount:E.queryCount,depCount:E.depCount,options:Yn(m.options)}}visitSequence(m,E){return{type:2,steps:m.steps.map(x=>vr(this,x,E)),options:Yn(m.options)}}visitGroup(m,E){const x=E.currentTime;let $=0;const J=m.steps.map(le=>{E.currentTime=x;const fe=vr(this,le,E);return $=Math.max($,E.currentTime),fe});return E.currentTime=$,{type:3,steps:J,options:Yn(m.options)}}visitAnimate(m,E){const x=function En(B,m){if(B.hasOwnProperty("duration"))return B;if("number"==typeof B)return Fr(qe(B,m).duration,0,"");const E=B;if(E.split(/\s+/).some(J=>"{"==J.charAt(0)&&"{"==J.charAt(1))){const J=Fr(0,0,"");return J.dynamic=!0,J.strValue=E,J}const $=qe(E,m);return Fr($.duration,$.delay,$.easing)}(m.timings,E.errors);E.currentAnimateTimings=x;let $,J=m.styles?m.styles:kt({});if(5==J.type)$=this.visitKeyframes(J,E);else{let le=m.styles,fe=!1;if(!le){fe=!0;const Qe={};x.easing&&(Qe.easing=x.easing),le=kt(Qe)}E.currentTime+=x.duration+x.delay;const Re=this.visitStyle(le,E);Re.isEmptyStep=fe,$=Re}return E.currentAnimateTimings=null,{type:4,timings:x,style:$,options:null}}visitStyle(m,E){const x=this._makeStyleAst(m,E);return this._validateStyleAst(x,E),x}_makeStyleAst(m,E){const x=[],$=Array.isArray(m.styles)?m.styles:[m.styles];for(let fe of $)"string"==typeof fe?fe===Ge?x.push(fe):E.errors.push(new re.wOt(3002,!1)):x.push(Lt(fe));let J=!1,le=null;return x.forEach(fe=>{if(fe instanceof Map&&(fe.has("easing")&&(le=fe.get("easing"),fe.delete("easing")),!J))for(let Re of fe.values())if(Re.toString().indexOf("{{")>=0){J=!0;break}}),{type:6,styles:x,easing:le,offset:m.offset,containsDynamicStyles:J,options:null}}_validateStyleAst(m,E){const x=E.currentAnimateTimings;let $=E.currentTime,J=E.currentTime;x&&J>0&&(J-=x.duration+x.delay),m.styles.forEach(le=>{"string"!=typeof le&&le.forEach((fe,Re)=>{const Qe=E.collectedStyles.get(E.currentQuerySelector),Et=Qe.get(Re);let yt=!0;Et&&(J!=$&&J>=Et.startTime&&$<=Et.endTime&&(E.errors.push(function je(B,m,E,x,$){return new re.wOt(3010,!1)}()),yt=!1),J=Et.startTime),yt&&Qe.set(Re,{startTime:J,endTime:$}),E.options&&function Hi(B,m,E){const x=m.params||{},$=cs(B);$.length&&$.forEach(J=>{x.hasOwnProperty(J)||E.push(function Cr(B){return new re.wOt(3001,!1)}())})}(fe,E.options,E.errors)})})}visitKeyframes(m,E){const x={type:5,styles:[],options:null};if(!E.currentAnimateTimings)return E.errors.push(function Dt(){return new re.wOt(3011,!1)}()),x;let J=0;const le=[];let fe=!1,Re=!1,Qe=0;const Et=m.steps.map(ne=>{const be=this._makeStyleAst(ne,E);let Ze=null!=be.offset?be.offset:function Ls(B){if("string"==typeof B)return null;let m=null;if(Array.isArray(B))B.forEach(E=>{if(E instanceof Map&&E.has("offset")){const x=E;m=parseFloat(x.get("offset")),x.delete("offset")}});else if(B instanceof Map&&B.has("offset")){const E=B;m=parseFloat(E.get("offset")),E.delete("offset")}return m}(be.styles),Mt=0;return null!=Ze&&(J++,Mt=be.offset=Ze),Re=Re||Mt<0||Mt>1,fe=fe||Mt<Qe,Qe=Mt,le.push(Mt),be});Re&&E.errors.push(function Kt(){return new re.wOt(3012,!1)}()),fe&&E.errors.push(function Un(){return new re.wOt(3200,!1)}());const yt=m.steps.length;let Dn=0;J>0&&J<yt?E.errors.push(function nt(){return new re.wOt(3202,!1)}()):0==J&&(Dn=1/(yt-1));const w=yt-1,V=E.currentTime,R=E.currentAnimateTimings,F=R.duration;return Et.forEach((ne,be)=>{const Ze=Dn>0?be==w?1:Dn*be:le[be],Mt=Ze*F;E.currentTime=V+R.delay+Mt,R.duration=Mt,this._validateStyleAst(ne,E),ne.offset=Ze,x.styles.push(ne)}),x}visitReference(m,E){return{type:8,animation:vr(this,br(m.animation),E),options:Yn(m.options)}}visitAnimateChild(m,E){return E.depCount++,{type:9,options:Yn(m.options)}}visitAnimateRef(m,E){return{type:10,animation:this.visitReference(m.animation,E),options:Yn(m.options)}}visitQuery(m,E){const x=E.currentQuerySelector,$=m.options||{};E.queryCount++,E.currentQuery=m;const[J,le]=function So(B){const m=!!B.split(/\s*,\s*/).find(E=>":self"==E);return m&&(B=B.replace(bo,"")),B=B.replace(/@\*/g,un).replace(/@\w+/g,E=>un+"-"+E.slice(1)).replace(/:animating/g,Hr),[B,m]}(m.selector);E.currentQuerySelector=x.length?x+" "+J:J,yr(E.collectedStyles,E.currentQuerySelector,new Map);const fe=vr(this,br(m.animation),E);return E.currentQuery=null,E.currentQuerySelector=x,{type:11,selector:J,limit:$.limit||0,optional:!!$.optional,includeSelf:le,animation:fe,originalSelector:m.selector,options:Yn(m.options)}}visitStagger(m,E){E.currentQuery||E.errors.push(function Nn(){return new re.wOt(3013,!1)}());const x="full"===m.timings?{duration:0,delay:0,easing:"full"}:qe(m.timings,E.errors,!0);return{type:12,animation:vr(this,br(m.animation),E),timings:x,options:null}}}class Wo{constructor(m){this.errors=m,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Yn(B){return B?(B=at(B)).params&&(B.params=function ds(B){return B?at(B):null}(B.params)):B={},B}function Fr(B,m,E){return{duration:B,delay:m,easing:E}}function ni(B,m,E,x,$,J,le=null,fe=!1){return{type:1,element:B,keyframes:m,preStyleProps:E,postStyleProps:x,duration:$,delay:J,totalTime:$+J,easing:le,subTimeline:fe}}class Gr{constructor(){this._map=new Map}get(m){return this._map.get(m)||[]}append(m,E){let x=this._map.get(m);x||this._map.set(m,x=[]),x.push(...E)}has(m){return this._map.has(m)}clear(){this._map.clear()}}const ca=new RegExp(":enter","g"),ws=new RegExp(":leave","g");function cr(B,m,E,x,$,J=new Map,le=new Map,fe,Re,Qe=[]){return(new Tt).buildKeyframes(B,m,E,x,$,J,le,fe,Re,Qe)}class Tt{buildKeyframes(m,E,x,$,J,le,fe,Re,Qe,Et=[]){Qe=Qe||new Gr;const yt=new rn(m,E,Qe,$,J,Et,[]);yt.options=Re;const Dn=Re.delay?zr(Re.delay):0;yt.currentTimeline.delayNextStep(Dn),yt.currentTimeline.setStyles([le],null,yt.errors,Re),vr(this,x,yt);const w=yt.timelines.filter(V=>V.containsAnimation());if(w.length&&fe.size){let V;for(let R=w.length-1;R>=0;R--){const F=w[R];if(F.element===E){V=F;break}}V&&!V.allowOnlyTimelineStyles()&&V.setStyles([fe],null,yt.errors,Re)}return w.length?w.map(V=>V.buildKeyframes()):[ni(E,[],[],[],0,Dn,"",!1)]}visitTrigger(m,E){}visitState(m,E){}visitTransition(m,E){}visitAnimateChild(m,E){const x=E.subInstructions.get(E.element);if(x){const $=E.createSubContext(m.options),J=E.currentTimeline.currentTime,le=this._visitSubInstructions(x,$,$.options);J!=le&&E.transformIntoNewTimeline(le)}E.previousNode=m}visitAnimateRef(m,E){const x=E.createSubContext(m.options);x.transformIntoNewTimeline(),this._applyAnimationRefDelays([m.options,m.animation.options],E,x),this.visitReference(m.animation,x),E.transformIntoNewTimeline(x.currentTimeline.currentTime),E.previousNode=m}_applyAnimationRefDelays(m,E,x){for(const $ of m){const J=$?.delay;if(J){const le="number"==typeof J?J:zr(zi(J,$?.params??{},E.errors));x.delayNextStep(le)}}}_visitSubInstructions(m,E,x){let J=E.currentTimeline.currentTime;const le=null!=x.duration?zr(x.duration):null,fe=null!=x.delay?zr(x.delay):null;return 0!==le&&m.forEach(Re=>{const Qe=E.appendInstructionToTimeline(Re,le,fe);J=Math.max(J,Qe.duration+Qe.delay)}),J}visitReference(m,E){E.updateOptions(m.options,!0),vr(this,m.animation,E),E.previousNode=m}visitSequence(m,E){const x=E.subContextCount;let $=E;const J=m.options;if(J&&(J.params||J.delay)&&($=E.createSubContext(J),$.transformIntoNewTimeline(),null!=J.delay)){6==$.previousNode.type&&($.currentTimeline.snapshotCurrentStyles(),$.previousNode=nn);const le=zr(J.delay);$.delayNextStep(le)}m.steps.length&&(m.steps.forEach(le=>vr(this,le,$)),$.currentTimeline.applyStylesToKeyframe(),$.subContextCount>x&&$.transformIntoNewTimeline()),E.previousNode=m}visitGroup(m,E){const x=[];let $=E.currentTimeline.currentTime;const J=m.options&&m.options.delay?zr(m.options.delay):0;m.steps.forEach(le=>{const fe=E.createSubContext(m.options);J&&fe.delayNextStep(J),vr(this,le,fe),$=Math.max($,fe.currentTimeline.currentTime),x.push(fe.currentTimeline)}),x.forEach(le=>E.currentTimeline.mergeTimelineCollectedStyles(le)),E.transformIntoNewTimeline($),E.previousNode=m}_visitTiming(m,E){if(m.dynamic){const x=m.strValue;return qe(E.params?zi(x,E.params,E.errors):x,E.errors)}return{duration:m.duration,delay:m.delay,easing:m.easing}}visitAnimate(m,E){const x=E.currentAnimateTimings=this._visitTiming(m.timings,E),$=E.currentTimeline;x.delay&&(E.incrementTime(x.delay),$.snapshotCurrentStyles());const J=m.style;5==J.type?this.visitKeyframes(J,E):(E.incrementTime(x.duration),this.visitStyle(J,E),$.applyStylesToKeyframe()),E.currentAnimateTimings=null,E.previousNode=m}visitStyle(m,E){const x=E.currentTimeline,$=E.currentAnimateTimings;!$&&x.hasCurrentStyleProperties()&&x.forwardFrame();const J=$&&$.easing||m.easing;m.isEmptyStep?x.applyEmptyStep(J):x.setStyles(m.styles,J,E.errors,E.options),E.previousNode=m}visitKeyframes(m,E){const x=E.currentAnimateTimings,$=E.currentTimeline.duration,J=x.duration,fe=E.createSubContext().currentTimeline;fe.easing=x.easing,m.styles.forEach(Re=>{fe.forwardTime((Re.offset||0)*J),fe.setStyles(Re.styles,Re.easing,E.errors,E.options),fe.applyStylesToKeyframe()}),E.currentTimeline.mergeTimelineCollectedStyles(fe),E.transformIntoNewTimeline($+J),E.previousNode=m}visitQuery(m,E){const x=E.currentTimeline.currentTime,$=m.options||{},J=$.delay?zr($.delay):0;J&&(6===E.previousNode.type||0==x&&E.currentTimeline.hasCurrentStyleProperties())&&(E.currentTimeline.snapshotCurrentStyles(),E.previousNode=nn);let le=x;const fe=E.invokeQuery(m.selector,m.originalSelector,m.limit,m.includeSelf,!!$.optional,E.errors);E.currentQueryTotal=fe.length;let Re=null;fe.forEach((Qe,Et)=>{E.currentQueryIndex=Et;const yt=E.createSubContext(m.options,Qe);J&&yt.delayNextStep(J),Qe===E.element&&(Re=yt.currentTimeline),vr(this,m.animation,yt),yt.currentTimeline.applyStylesToKeyframe(),le=Math.max(le,yt.currentTimeline.currentTime)}),E.currentQueryIndex=0,E.currentQueryTotal=0,E.transformIntoNewTimeline(le),Re&&(E.currentTimeline.mergeTimelineCollectedStyles(Re),E.currentTimeline.snapshotCurrentStyles()),E.previousNode=m}visitStagger(m,E){const x=E.parentContext,$=E.currentTimeline,J=m.timings,le=Math.abs(J.duration),fe=le*(E.currentQueryTotal-1);let Re=le*E.currentQueryIndex;switch(J.duration<0?"reverse":J.easing){case"reverse":Re=fe-Re;break;case"full":Re=x.currentStaggerTime}const Et=E.currentTimeline;Re&&Et.delayNextStep(Re);const yt=Et.currentTime;vr(this,m.animation,E),E.previousNode=m,x.currentStaggerTime=$.currentTime-yt+($.startTime-x.currentTimeline.startTime)}}const nn={};class rn{constructor(m,E,x,$,J,le,fe,Re){this._driver=m,this.element=E,this.subInstructions=x,this._enterClassName=$,this._leaveClassName=J,this.errors=le,this.timelines=fe,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=nn,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=Re||new ri(this._driver,E,0),fe.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(m,E){if(!m)return;const x=m;let $=this.options;null!=x.duration&&($.duration=zr(x.duration)),null!=x.delay&&($.delay=zr(x.delay));const J=x.params;if(J){let le=$.params;le||(le=this.options.params={}),Object.keys(J).forEach(fe=>{(!E||!le.hasOwnProperty(fe))&&(le[fe]=zi(J[fe],le,this.errors))})}}_copyOptions(){const m={};if(this.options){const E=this.options.params;if(E){const x=m.params={};Object.keys(E).forEach($=>{x[$]=E[$]})}}return m}createSubContext(m=null,E,x){const $=E||this.element,J=new rn(this._driver,$,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork($,x||0));return J.previousNode=this.previousNode,J.currentAnimateTimings=this.currentAnimateTimings,J.options=this._copyOptions(),J.updateOptions(m),J.currentQueryIndex=this.currentQueryIndex,J.currentQueryTotal=this.currentQueryTotal,J.parentContext=this,this.subContextCount++,J}transformIntoNewTimeline(m){return this.previousNode=nn,this.currentTimeline=this.currentTimeline.fork(this.element,m),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(m,E,x){const $={duration:E??m.duration,delay:this.currentTimeline.currentTime+(x??0)+m.delay,easing:""},J=new Yi(this._driver,m.element,m.keyframes,m.preStyleProps,m.postStyleProps,$,m.stretchStartingKeyframe);return this.timelines.push(J),$}incrementTime(m){this.currentTimeline.forwardTime(this.currentTimeline.duration+m)}delayNextStep(m){m>0&&this.currentTimeline.delayNextStep(m)}invokeQuery(m,E,x,$,J,le){let fe=[];if($&&fe.push(this.element),m.length>0){m=(m=m.replace(ca,"."+this._enterClassName)).replace(ws,"."+this._leaveClassName);let Qe=this._driver.query(this.element,m,1!=x);0!==x&&(Qe=x<0?Qe.slice(Qe.length+x,Qe.length):Qe.slice(0,x)),fe.push(...Qe)}return!J&&0==fe.length&&le.push(function Sn(B){return new re.wOt(3014,!1)}()),fe}}class ri{constructor(m,E,x,$){this._driver=m,this.element=E,this.startTime=x,this._elementTimelineStylesLookup=$,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(E),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(E,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(m){const E=1===this._keyframes.size&&this._pendingStyles.size;this.duration||E?(this.forwardTime(this.currentTime+m),E&&this.snapshotCurrentStyles()):this.startTime+=m}fork(m,E){return this.applyStylesToKeyframe(),new ri(this._driver,m,E||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(m){this.applyStylesToKeyframe(),this.duration=m,this._loadKeyframe()}_updateStyle(m,E){this._localTimelineStyles.set(m,E),this._globalTimelineStyles.set(m,E),this._styleSummary.set(m,{time:this.currentTime,value:E})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(m){m&&this._previousKeyframe.set("easing",m);for(let[E,x]of this._globalTimelineStyles)this._backFill.set(E,x||Ge),this._currentKeyframe.set(E,Ge);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(m,E,x,$){E&&this._previousKeyframe.set("easing",E);const J=$&&$.params||{},le=function Is(B,m){const E=new Map;let x;return B.forEach($=>{if("*"===$){x=x||m.keys();for(let J of x)E.set(J,Ge)}else ln($,E)}),E}(m,this._globalTimelineStyles);for(let[fe,Re]of le){const Qe=zi(Re,J,x);this._pendingStyles.set(fe,Qe),this._localTimelineStyles.has(fe)||this._backFill.set(fe,this._globalTimelineStyles.get(fe)??Ge),this._updateStyle(fe,Qe)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((m,E)=>{this._currentKeyframe.set(E,m)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((m,E)=>{this._currentKeyframe.has(E)||this._currentKeyframe.set(E,m)}))}snapshotCurrentStyles(){for(let[m,E]of this._localTimelineStyles)this._pendingStyles.set(m,E),this._updateStyle(m,E)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const m=[];for(let E in this._currentKeyframe)m.push(E);return m}mergeTimelineCollectedStyles(m){m._styleSummary.forEach((E,x)=>{const $=this._styleSummary.get(x);(!$||E.time>$.time)&&this._updateStyle(x,E.value)})}buildKeyframes(){this.applyStylesToKeyframe();const m=new Set,E=new Set,x=1===this._keyframes.size&&0===this.duration;let $=[];this._keyframes.forEach((fe,Re)=>{const Qe=ln(fe,new Map,this._backFill);Qe.forEach((Et,yt)=>{"!"===Et?m.add(yt):Et===Ge&&E.add(yt)}),x||Qe.set("offset",Re/this.duration),$.push(Qe)});const J=m.size?Pi(m.values()):[],le=E.size?Pi(E.values()):[];if(x){const fe=$[0],Re=new Map(fe);fe.set("offset",0),Re.set("offset",1),$=[fe,Re]}return ni(this.element,$,J,le,this.duration,this.startTime,this.easing,!1)}}class Yi extends ri{constructor(m,E,x,$,J,le,fe=!1){super(m,E,le.delay),this.keyframes=x,this.preStyleProps=$,this.postStyleProps=J,this._stretchStartingKeyframe=fe,this.timings={duration:le.duration,delay:le.delay,easing:le.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let m=this.keyframes,{delay:E,duration:x,easing:$}=this.timings;if(this._stretchStartingKeyframe&&E){const J=[],le=x+E,fe=E/le,Re=ln(m[0]);Re.set("offset",0),J.push(Re);const Qe=ln(m[0]);Qe.set("offset",Wr(fe)),J.push(Qe);const Et=m.length-1;for(let yt=1;yt<=Et;yt++){let Dn=ln(m[yt]);const w=Dn.get("offset");Dn.set("offset",Wr((E+w*x)/le)),J.push(Dn)}x=le,E=0,$="",m=J}return ni(this.element,m,this.preStyleProps,this.postStyleProps,x,E,$,!0)}}function Wr(B,m=3){const E=Math.pow(10,m-1);return Math.round(B*E)/E}class Wi{}const an=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Us extends Wi{normalizePropertyName(m,E){return ls(m)}normalizeStyleValue(m,E,x,$){let J="";const le=x.toString().trim();if(an.has(E)&&0!==x&&"0"!==x)if("number"==typeof x)J="px";else{const fe=x.match(/^[+-]?[\d\.]+([a-z]*)$/);fe&&0==fe[1].length&&$.push(function Pr(B,m){return new re.wOt(3005,!1)}())}return le+J}}function to(B,m,E,x,$,J,le,fe,Re,Qe,Et,yt,Dn){return{type:0,element:B,triggerName:m,isRemovalTransition:$,fromState:E,fromStyles:J,toState:x,toStyles:le,timelines:fe,queriedElements:Re,preStyleProps:Qe,postStyleProps:Et,totalTime:yt,errors:Dn}}const ki={};class hr{constructor(m,E,x){this._triggerName=m,this.ast=E,this._stateStyles=x}match(m,E,x,$){return function qs(B,m,E,x,$){return B.some(J=>J(m,E,x,$))}(this.ast.matchers,m,E,x,$)}buildStyles(m,E,x){let $=this._stateStyles.get("*");return void 0!==m&&($=this._stateStyles.get(m?.toString())||$),$?$.buildStyles(E,x):new Map}build(m,E,x,$,J,le,fe,Re,Qe,Et){const yt=[],Dn=this.ast.options&&this.ast.options.params||ki,V=this.buildStyles(x,fe&&fe.params||ki,yt),R=Re&&Re.params||ki,F=this.buildStyles($,R,yt),ne=new Set,be=new Map,Ze=new Map,Mt="void"===$,Kn={params:mi(R,Dn),delay:this.ast.options?.delay},Fn=Et?[]:cr(m,E,this.ast.animation,J,le,V,F,Kn,Qe,yt);let gn=0;if(Fn.forEach(nr=>{gn=Math.max(nr.duration+nr.delay,gn)}),yt.length)return to(E,this._triggerName,x,$,Mt,V,F,[],[],be,Ze,gn,yt);Fn.forEach(nr=>{const Gn=nr.element,vi=yr(be,Gn,new Set);nr.preStyleProps.forEach(oi=>vi.add(oi));const si=yr(Ze,Gn,new Set);nr.postStyleProps.forEach(oi=>si.add(oi)),Gn!==E&&ne.add(Gn)});const cn=Pi(ne.values());return to(E,this._triggerName,x,$,Mt,V,F,Fn,cn,be,Ze,gn)}}function mi(B,m){const E=at(m);for(const x in B)B.hasOwnProperty(x)&&null!=B[x]&&(E[x]=B[x]);return E}class no{constructor(m,E,x){this.styles=m,this.defaultParams=E,this.normalizer=x}buildStyles(m,E){const x=new Map,$=at(this.defaultParams);return Object.keys(m).forEach(J=>{const le=m[J];null!==le&&($[J]=le)}),this.styles.styles.forEach(J=>{"string"!=typeof J&&J.forEach((le,fe)=>{le&&(le=zi(le,$,E));const Re=this.normalizer.normalizePropertyName(fe,E);le=this.normalizer.normalizeStyleValue(fe,Re,le,E),x.set(fe,le)})}),x}}class di{constructor(m,E,x){this.name=m,this.ast=E,this._normalizer=x,this.transitionFactories=[],this.states=new Map,E.states.forEach($=>{this.states.set($.name,new no($.style,$.options&&$.options.params||{},x))}),ss(this.states,"true","1"),ss(this.states,"false","0"),E.transitions.forEach($=>{this.transitionFactories.push(new hr(m,$,this.states))}),this.fallbackTransition=function ro(B,m,E){return new hr(B,{type:1,animation:{type:2,steps:[],options:null},matchers:[(le,fe)=>!0],options:null,queryCount:0,depCount:0},m)}(m,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(m,E,x,$){return this.transitionFactories.find(le=>le.match(m,E,x,$))||null}matchStyles(m,E,x){return this.fallbackTransition.buildStyles(m,E,x)}}function ss(B,m,E){B.has(m)?B.has(E)||B.set(E,B.get(m)):B.has(E)&&B.set(m,B.get(E))}const Ko=new Gr;class Ln{constructor(m,E,x){this.bodyNode=m,this._driver=E,this._normalizer=x,this._animations=new Map,this._playersById=new Map,this.players=[]}register(m,E){const x=[],J=Go(this._driver,E,x,[]);if(x.length)throw function kr(B){return new re.wOt(3503,!1)}();this._animations.set(m,J)}_buildPlayer(m,E,x){const $=m.element,J=Ei(this._normalizer,m.keyframes,E,x);return this._driver.animate($,J,m.duration,m.delay,m.easing,[],!0)}create(m,E,x={}){const $=[],J=this._animations.get(m);let le;const fe=new Map;if(J?(le=cr(this._driver,E,J,Vt,en,new Map,new Map,x,Ko,$),le.forEach(Et=>{const yt=yr(fe,Et.element,new Map);Et.postStyleProps.forEach(Dn=>yt.set(Dn,null))})):($.push(function pi(){return new re.wOt(3300,!1)}()),le=[]),$.length)throw function jr(B){return new re.wOt(3504,!1)}();fe.forEach((Et,yt)=>{Et.forEach((Dn,w)=>{Et.set(w,this._driver.computeStyle(yt,w,Ge))})});const Qe=Ot(le.map(Et=>{const yt=fe.get(Et.element);return this._buildPlayer(Et,new Map,yt)}));return this._playersById.set(m,Qe),Qe.onDestroy(()=>this.destroy(m)),this.players.push(Qe),Qe}destroy(m){const E=this._getPlayer(m);E.destroy(),this._playersById.delete(m);const x=this.players.indexOf(E);x>=0&&this.players.splice(x,1)}_getPlayer(m){const E=this._playersById.get(m);if(!E)throw function qt(B){return new re.wOt(3301,!1)}();return E}listen(m,E,x,$){const J=Nr(E,"","","");return on(this._getPlayer(m),x,J,$),()=>{}}command(m,E,x,$){if("register"==x)return void this.register(m,$[0]);if("create"==x)return void this.create(m,E,$[0]||{});const J=this._getPlayer(m);switch(x){case"play":J.play();break;case"pause":J.pause();break;case"reset":J.reset();break;case"restart":J.restart();break;case"finish":J.finish();break;case"init":J.init();break;case"setPosition":J.setPosition(parseFloat($[0]));break;case"destroy":this.destroy(m)}}}const Aa="ng-animate-queued",Zi="ng-animate-disabled",Qs=[],Dr={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Ki={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},fr="__ng_removed";class yi{get params(){return this.options.params}constructor(m,E=""){this.namespaceId=E;const x=m&&m.hasOwnProperty("value");if(this.value=function Ma(B){return B??null}(x?m.value:m),x){const J=at(m);delete J.value,this.options=J}else this.options={};this.options.params||(this.options.params={})}absorbOptions(m){const E=m.params;if(E){const x=this.options.params;Object.keys(E).forEach($=>{null==x[$]&&(x[$]=E[$])})}}}const fs="void",Tr=new yi(fs);class Ds{constructor(m,E,x){this.id=m,this.hostElement=E,this._engine=x,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+m,Ji(E,this._hostClassName)}listen(m,E,x,$){if(!this._triggers.has(E))throw function vn(B,m){return new re.wOt(3302,!1)}();if(null==x||0==x.length)throw function hn(B){return new re.wOt(3303,!1)}();if(!function Bs(B){return"start"==B||"done"==B}(x))throw function $n(B,m){return new re.wOt(3400,!1)}();const J=yr(this._elementListeners,m,[]),le={name:E,phase:x,callback:$};J.push(le);const fe=yr(this._engine.statesByElement,m,new Map);return fe.has(E)||(Ji(m,zt),Ji(m,zt+"-"+E),fe.set(E,Tr)),()=>{this._engine.afterFlush(()=>{const Re=J.indexOf(le);Re>=0&&J.splice(Re,1),this._triggers.has(E)||fe.delete(E)})}}register(m,E){return!this._triggers.has(m)&&(this._triggers.set(m,E),!0)}_getTrigger(m){const E=this._triggers.get(m);if(!E)throw function Lr(B){return new re.wOt(3401,!1)}();return E}trigger(m,E,x,$=!0){const J=this._getTrigger(E),le=new tr(this.id,E,m);let fe=this._engine.statesByElement.get(m);fe||(Ji(m,zt),Ji(m,zt+"-"+E),this._engine.statesByElement.set(m,fe=new Map));let Re=fe.get(E);const Qe=new yi(x,this.id);if(!(x&&x.hasOwnProperty("value"))&&Re&&Qe.absorbOptions(Re.options),fe.set(E,Qe),Re||(Re=Tr),Qe.value!==fs&&Re.value===Qe.value){if(!function Ra(B,m){const E=Object.keys(B),x=Object.keys(m);if(E.length!=x.length)return!1;for(let $=0;$<E.length;$++){const J=E[$];if(!m.hasOwnProperty(J)||B[J]!==m[J])return!1}return!0}(Re.params,Qe.params)){const R=[],F=J.matchStyles(Re.value,Re.params,R),ne=J.matchStyles(Qe.value,Qe.params,R);R.length?this._engine.reportError(R):this._engine.afterFlush(()=>{ur(m,F),Xn(m,ne)})}return}const Dn=yr(this._engine.playersByElement,m,[]);Dn.forEach(R=>{R.namespaceId==this.id&&R.triggerName==E&&R.queued&&R.destroy()});let w=J.matchTransition(Re.value,Qe.value,m,Qe.params),V=!1;if(!w){if(!$)return;w=J.fallbackTransition,V=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:m,triggerName:E,transition:w,fromState:Re,toState:Qe,player:le,isFallbackTransition:V}),V||(Ji(m,Aa),le.onStart(()=>{lr(m,Aa)})),le.onDone(()=>{let R=this.players.indexOf(le);R>=0&&this.players.splice(R,1);const F=this._engine.playersByElement.get(m);if(F){let ne=F.indexOf(le);ne>=0&&F.splice(ne,1)}}),this.players.push(le),Dn.push(le),le}deregister(m){this._triggers.delete(m),this._engine.statesByElement.forEach(E=>E.delete(m)),this._elementListeners.forEach((E,x)=>{this._elementListeners.set(x,E.filter($=>$.name!=m))})}clearElementCache(m){this._engine.statesByElement.delete(m),this._elementListeners.delete(m);const E=this._engine.playersByElement.get(m);E&&(E.forEach(x=>x.destroy()),this._engine.playersByElement.delete(m))}_signalRemovalForInnerTriggers(m,E){const x=this._engine.driver.query(m,un,!0);x.forEach($=>{if($[fr])return;const J=this._engine.fetchNamespacesByElement($);J.size?J.forEach(le=>le.triggerLeaveAnimation($,E,!1,!0)):this.clearElementCache($)}),this._engine.afterFlushAnimationsDone(()=>x.forEach($=>this.clearElementCache($)))}triggerLeaveAnimation(m,E,x,$){const J=this._engine.statesByElement.get(m),le=new Map;if(J){const fe=[];if(J.forEach((Re,Qe)=>{if(le.set(Qe,Re.value),this._triggers.has(Qe)){const Et=this.trigger(m,Qe,fs,$);Et&&fe.push(Et)}}),fe.length)return this._engine.markElementAsRemoved(this.id,m,!0,E,le),x&&Ot(fe).onDone(()=>this._engine.processLeaveNode(m)),!0}return!1}prepareLeaveAnimationListeners(m){const E=this._elementListeners.get(m),x=this._engine.statesByElement.get(m);if(E&&x){const $=new Set;E.forEach(J=>{const le=J.name;if($.has(le))return;$.add(le);const Re=this._triggers.get(le).fallbackTransition,Qe=x.get(le)||Tr,Et=new yi(fs),yt=new tr(this.id,le,m);this._engine.totalQueuedPlayers++,this._queue.push({element:m,triggerName:le,transition:Re,fromState:Qe,toState:Et,player:yt,isFallbackTransition:!0})})}}removeNode(m,E){const x=this._engine;if(m.childElementCount&&this._signalRemovalForInnerTriggers(m,E),this.triggerLeaveAnimation(m,E,!0))return;let $=!1;if(x.totalAnimations){const J=x.players.length?x.playersByQueriedElement.get(m):[];if(J&&J.length)$=!0;else{let le=m;for(;le=le.parentNode;)if(x.statesByElement.get(le)){$=!0;break}}}if(this.prepareLeaveAnimationListeners(m),$)x.markElementAsRemoved(this.id,m,!1,E);else{const J=m[fr];(!J||J===Dr)&&(x.afterFlush(()=>this.clearElementCache(m)),x.destroyInnerAnimations(m),x._onRemovalComplete(m,E))}}insertNode(m,E){Ji(m,this._hostClassName)}drainQueuedTransitions(m){const E=[];return this._queue.forEach(x=>{const $=x.player;if($.destroyed)return;const J=x.element,le=this._elementListeners.get(J);le&&le.forEach(fe=>{if(fe.name==x.triggerName){const Re=Nr(J,x.triggerName,x.fromState.value,x.toState.value);Re._data=m,on(x.player,fe.phase,Re,fe.callback)}}),$.markedForDestroy?this._engine.afterFlush(()=>{$.destroy()}):E.push(x)}),this._queue=[],E.sort((x,$)=>{const J=x.transition.ast.depCount,le=$.transition.ast.depCount;return 0==J||0==le?J-le:this._engine.driver.containsElement(x.element,$.element)?1:-1})}destroy(m){this.players.forEach(E=>E.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,m)}}class es{_onRemovalComplete(m,E){this.onRemovalComplete(m,E)}constructor(m,E,x){this.bodyNode=m,this.driver=E,this._normalizer=x,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=($,J)=>{}}get queuedPlayers(){const m=[];return this._namespaceList.forEach(E=>{E.players.forEach(x=>{x.queued&&m.push(x)})}),m}createNamespace(m,E){const x=new Ds(m,E,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,E)?this._balanceNamespaceList(x,E):(this.newHostElements.set(E,x),this.collectEnterElement(E)),this._namespaceLookup[m]=x}_balanceNamespaceList(m,E){const x=this._namespaceList,$=this.namespacesByHostElement;if(x.length-1>=0){let le=!1,fe=this.driver.getParentElement(E);for(;fe;){const Re=$.get(fe);if(Re){const Qe=x.indexOf(Re);x.splice(Qe+1,0,m),le=!0;break}fe=this.driver.getParentElement(fe)}le||x.unshift(m)}else x.push(m);return $.set(E,m),m}register(m,E){let x=this._namespaceLookup[m];return x||(x=this.createNamespace(m,E)),x}registerTrigger(m,E,x){let $=this._namespaceLookup[m];$&&$.register(E,x)&&this.totalAnimations++}destroy(m,E){m&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const x=this._fetchNamespace(m);this.namespacesByHostElement.delete(x.hostElement);const $=this._namespaceList.indexOf(x);$>=0&&this._namespaceList.splice($,1),x.destroy(E),delete this._namespaceLookup[m]}))}_fetchNamespace(m){return this._namespaceLookup[m]}fetchNamespacesByElement(m){const E=new Set,x=this.statesByElement.get(m);if(x)for(let $ of x.values())if($.namespaceId){const J=this._fetchNamespace($.namespaceId);J&&E.add(J)}return E}trigger(m,E,x,$){if(mo(E)){const J=this._fetchNamespace(m);if(J)return J.trigger(E,x,$),!0}return!1}insertNode(m,E,x,$){if(!mo(E))return;const J=E[fr];if(J&&J.setForRemoval){J.setForRemoval=!1,J.setForMove=!0;const le=this.collectedLeaveElements.indexOf(E);le>=0&&this.collectedLeaveElements.splice(le,1)}if(m){const le=this._fetchNamespace(m);le&&le.insertNode(E,x)}$&&this.collectEnterElement(E)}collectEnterElement(m){this.collectedEnterElements.push(m)}markElementAsDisabled(m,E){E?this.disabledNodes.has(m)||(this.disabledNodes.add(m),Ji(m,Zi)):this.disabledNodes.has(m)&&(this.disabledNodes.delete(m),lr(m,Zi))}removeNode(m,E,x){if(mo(E)){const $=m?this._fetchNamespace(m):null;$?$.removeNode(E,x):this.markElementAsRemoved(m,E,!1,x);const J=this.namespacesByHostElement.get(E);J&&J.id!==m&&J.removeNode(E,x)}else this._onRemovalComplete(E,x)}markElementAsRemoved(m,E,x,$,J){this.collectedLeaveElements.push(E),E[fr]={namespaceId:m,setForRemoval:$,hasAnimation:x,removedBeforeQueried:!1,previousTriggersValues:J}}listen(m,E,x,$,J){return mo(E)?this._fetchNamespace(m).listen(E,x,$,J):()=>{}}_buildInstruction(m,E,x,$,J){return m.transition.build(this.driver,m.element,m.fromState.value,m.toState.value,x,$,m.fromState.options,m.toState.options,E,J)}destroyInnerAnimations(m){let E=this.driver.query(m,un,!0);E.forEach(x=>this.destroyActiveAnimationsForElement(x)),0!=this.playersByQueriedElement.size&&(E=this.driver.query(m,Hr,!0),E.forEach(x=>this.finishActiveQueriedAnimationOnElement(x)))}destroyActiveAnimationsForElement(m){const E=this.playersByElement.get(m);E&&E.forEach(x=>{x.queued?x.markedForDestroy=!0:x.destroy()})}finishActiveQueriedAnimationOnElement(m){const E=this.playersByQueriedElement.get(m);E&&E.forEach(x=>x.finish())}whenRenderingDone(){return new Promise(m=>{if(this.players.length)return Ot(this.players).onDone(()=>m());m()})}processLeaveNode(m){const E=m[fr];if(E&&E.setForRemoval){if(m[fr]=Dr,E.namespaceId){this.destroyInnerAnimations(m);const x=this._fetchNamespace(E.namespaceId);x&&x.clearElementCache(m)}this._onRemovalComplete(m,E.setForRemoval)}m.classList?.contains(Zi)&&this.markElementAsDisabled(m,!1),this.driver.query(m,".ng-animate-disabled",!0).forEach(x=>{this.markElementAsDisabled(x,!1)})}flush(m=-1){let E=[];if(this.newHostElements.size&&(this.newHostElements.forEach((x,$)=>this._balanceNamespaceList(x,$)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let x=0;x<this.collectedEnterElements.length;x++)Ji(this.collectedEnterElements[x],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const x=[];try{E=this._flushAnimations(x,m)}finally{for(let $=0;$<x.length;$++)x[$]()}}else for(let x=0;x<this.collectedLeaveElements.length;x++)this.processLeaveNode(this.collectedLeaveElements[x]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(x=>x()),this._flushFns=[],this._whenQuietFns.length){const x=this._whenQuietFns;this._whenQuietFns=[],E.length?Ot(E).onDone(()=>{x.forEach($=>$())}):x.forEach($=>$())}}reportError(m){throw function Qr(B){return new re.wOt(3402,!1)}()}_flushAnimations(m,E){const x=new Gr,$=[],J=new Map,le=[],fe=new Map,Re=new Map,Qe=new Map,Et=new Set;this.disabledNodes.forEach(Ct=>{Et.add(Ct);const Ft=this.driver.query(Ct,".ng-animate-queued",!0);for(let sn=0;sn<Ft.length;sn++)Et.add(Ft[sn])});const yt=this.bodyNode,Dn=Array.from(this.statesByElement.keys()),w=Qo(Dn,this.collectedEnterElements),V=new Map;let R=0;w.forEach((Ct,Ft)=>{const sn=Vt+R++;V.set(Ft,sn),Ct.forEach(Ye=>Ji(Ye,sn))});const F=[],ne=new Set,be=new Set;for(let Ct=0;Ct<this.collectedLeaveElements.length;Ct++){const Ft=this.collectedLeaveElements[Ct],sn=Ft[fr];sn&&sn.setForRemoval&&(F.push(Ft),ne.add(Ft),sn.hasAnimation?this.driver.query(Ft,".ng-star-inserted",!0).forEach(Ye=>ne.add(Ye)):be.add(Ft))}const Ze=new Map,Mt=Qo(Dn,Array.from(ne));Mt.forEach((Ct,Ft)=>{const sn=en+R++;Ze.set(Ft,sn),Ct.forEach(Ye=>Ji(Ye,sn))}),m.push(()=>{w.forEach((Ct,Ft)=>{const sn=V.get(Ft);Ct.forEach(Ye=>lr(Ye,sn))}),Mt.forEach((Ct,Ft)=>{const sn=Ze.get(Ft);Ct.forEach(Ye=>lr(Ye,sn))}),F.forEach(Ct=>{this.processLeaveNode(Ct)})});const Kn=[],Fn=[];for(let Ct=this._namespaceList.length-1;Ct>=0;Ct--)this._namespaceList[Ct].drainQueuedTransitions(E).forEach(sn=>{const Ye=sn.player,Yt=sn.element;if(Kn.push(Ye),this.collectedEnterElements.length){const Ie=Yt[fr];if(Ie&&Ie.setForMove){if(Ie.previousTriggersValues&&Ie.previousTriggersValues.has(sn.triggerName)){const st=Ie.previousTriggersValues.get(sn.triggerName),_r=this.statesByElement.get(sn.element);if(_r&&_r.has(sn.triggerName)){const Ha=_r.get(sn.triggerName);Ha.value=st,_r.set(sn.triggerName,Ha)}}return void Ye.destroy()}}const Zr=!yt||!this.driver.containsElement(yt,Yt),gr=Ze.get(Yt),mt=V.get(Yt),bt=this._buildInstruction(sn,x,mt,gr,Zr);if(bt.errors&&bt.errors.length)return void Fn.push(bt);if(Zr)return Ye.onStart(()=>ur(Yt,bt.fromStyles)),Ye.onDestroy(()=>Xn(Yt,bt.toStyles)),void $.push(Ye);if(sn.isFallbackTransition)return Ye.onStart(()=>ur(Yt,bt.fromStyles)),Ye.onDestroy(()=>Xn(Yt,bt.toStyles)),void $.push(Ye);const fa=[];bt.timelines.forEach(Ie=>{Ie.stretchStartingKeyframe=!0,this.disabledNodes.has(Ie.element)||fa.push(Ie)}),bt.timelines=fa,x.append(Yt,bt.timelines),le.push({instruction:bt,player:Ye,element:Yt}),bt.queriedElements.forEach(Ie=>yr(fe,Ie,[]).push(Ye)),bt.preStyleProps.forEach((Ie,st)=>{if(Ie.size){let _r=Re.get(st);_r||Re.set(st,_r=new Set),Ie.forEach((Ha,wo)=>_r.add(wo))}}),bt.postStyleProps.forEach((Ie,st)=>{let _r=Qe.get(st);_r||Qe.set(st,_r=new Set),Ie.forEach((Ha,wo)=>_r.add(wo))})});if(Fn.length){const Ct=[];Fn.forEach(Ft=>{Ct.push(function or(B,m){return new re.wOt(3505,!1)}())}),Kn.forEach(Ft=>Ft.destroy()),this.reportError(Ct)}const gn=new Map,cn=new Map;le.forEach(Ct=>{const Ft=Ct.element;x.has(Ft)&&(cn.set(Ft,Ft),this._beforeAnimationBuild(Ct.player.namespaceId,Ct.instruction,gn))}),$.forEach(Ct=>{const Ft=Ct.element;this._getPreviousPlayers(Ft,!1,Ct.namespaceId,Ct.triggerName,null).forEach(Ye=>{yr(gn,Ft,[]).push(Ye),Ye.destroy()})});const nr=F.filter(Ct=>yo(Ct,Re,Qe)),Gn=new Map;da(Gn,this.driver,be,Qe,Ge).forEach(Ct=>{yo(Ct,Re,Qe)&&nr.push(Ct)});const si=new Map;w.forEach((Ct,Ft)=>{da(si,this.driver,new Set(Ct),Re,"!")}),nr.forEach(Ct=>{const Ft=Gn.get(Ct),sn=si.get(Ct);Gn.set(Ct,new Map([...Ft?.entries()??[],...sn?.entries()??[]]))});const oi=[],pr=[],Ar={};le.forEach(Ct=>{const{element:Ft,player:sn,instruction:Ye}=Ct;if(x.has(Ft)){if(Et.has(Ft))return sn.onDestroy(()=>Xn(Ft,Ye.toStyles)),sn.disabled=!0,sn.overrideTotalTime(Ye.totalTime),void $.push(sn);let Yt=Ar;if(cn.size>1){let gr=Ft;const mt=[];for(;gr=gr.parentNode;){const bt=cn.get(gr);if(bt){Yt=bt;break}mt.push(gr)}mt.forEach(bt=>cn.set(bt,Yt))}const Zr=this._buildAnimation(sn.namespaceId,Ye,gn,J,si,Gn);if(sn.setRealPlayer(Zr),Yt===Ar)oi.push(sn);else{const gr=this.playersByElement.get(Yt);gr&&gr.length&&(sn.parentPlayer=Ot(gr)),$.push(sn)}}else ur(Ft,Ye.fromStyles),sn.onDestroy(()=>Xn(Ft,Ye.toStyles)),pr.push(sn),Et.has(Ft)&&$.push(sn)}),pr.forEach(Ct=>{const Ft=J.get(Ct.element);if(Ft&&Ft.length){const sn=Ot(Ft);Ct.setRealPlayer(sn)}}),$.forEach(Ct=>{Ct.parentPlayer?Ct.syncPlayerEvents(Ct.parentPlayer):Ct.destroy()});for(let Ct=0;Ct<F.length;Ct++){const Ft=F[Ct],sn=Ft[fr];if(lr(Ft,en),sn&&sn.hasAnimation)continue;let Ye=[];if(fe.size){let Zr=fe.get(Ft);Zr&&Zr.length&&Ye.push(...Zr);let gr=this.driver.query(Ft,Hr,!0);for(let mt=0;mt<gr.length;mt++){let bt=fe.get(gr[mt]);bt&&bt.length&&Ye.push(...bt)}}const Yt=Ye.filter(Zr=>!Zr.destroyed);Yt.length?Ts(this,Ft,Yt):this.processLeaveNode(Ft)}return F.length=0,oi.forEach(Ct=>{this.players.push(Ct),Ct.onDone(()=>{Ct.destroy();const Ft=this.players.indexOf(Ct);this.players.splice(Ft,1)}),Ct.play()}),oi}afterFlush(m){this._flushFns.push(m)}afterFlushAnimationsDone(m){this._whenQuietFns.push(m)}_getPreviousPlayers(m,E,x,$,J){let le=[];if(E){const fe=this.playersByQueriedElement.get(m);fe&&(le=fe)}else{const fe=this.playersByElement.get(m);if(fe){const Re=!J||J==fs;fe.forEach(Qe=>{Qe.queued||!Re&&Qe.triggerName!=$||le.push(Qe)})}}return(x||$)&&(le=le.filter(fe=>!(x&&x!=fe.namespaceId||$&&$!=fe.triggerName))),le}_beforeAnimationBuild(m,E,x){const J=E.element,le=E.isRemovalTransition?void 0:m,fe=E.isRemovalTransition?void 0:E.triggerName;for(const Re of E.timelines){const Qe=Re.element,Et=Qe!==J,yt=yr(x,Qe,[]);this._getPreviousPlayers(Qe,Et,le,fe,E.toState).forEach(w=>{const V=w.getRealPlayer();V.beforeDestroy&&V.beforeDestroy(),w.destroy(),yt.push(w)})}ur(J,E.fromStyles)}_buildAnimation(m,E,x,$,J,le){const fe=E.triggerName,Re=E.element,Qe=[],Et=new Set,yt=new Set,Dn=E.timelines.map(V=>{const R=V.element;Et.add(R);const F=R[fr];if(F&&F.removedBeforeQueried)return new Jt(V.duration,V.delay);const ne=R!==Re,be=function Na(B){const m=[];return bu(B,m),m}((x.get(R)||Qs).map(gn=>gn.getRealPlayer())).filter(gn=>!!gn.element&&gn.element===R),Ze=J.get(R),Mt=le.get(R),Kn=Ei(this._normalizer,V.keyframes,Ze,Mt),Fn=this._buildPlayer(V,Kn,be);if(V.subTimeline&&$&&yt.add(R),ne){const gn=new tr(m,fe,R);gn.setRealPlayer(Fn),Qe.push(gn)}return Fn});Qe.forEach(V=>{yr(this.playersByQueriedElement,V.element,[]).push(V),V.onDone(()=>function Xs(B,m,E){let x=B.get(m);if(x){if(x.length){const $=x.indexOf(E);x.splice($,1)}0==x.length&&B.delete(m)}return x}(this.playersByQueriedElement,V.element,V))}),Et.forEach(V=>Ji(V,ar));const w=Ot(Dn);return w.onDestroy(()=>{Et.forEach(V=>lr(V,ar)),Xn(Re,E.toStyles)}),yt.forEach(V=>{yr($,V,[]).push(w)}),w}_buildPlayer(m,E,x){return E.length>0?this.driver.animate(m.element,E,m.duration,m.delay,m.easing,x):new Jt(m.duration,m.delay)}}class tr{constructor(m,E,x){this.namespaceId=m,this.triggerName=E,this.element=x,this._player=new Jt,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(m){this._containsRealPlayer||(this._player=m,this._queuedCallbacks.forEach((E,x)=>{E.forEach($=>on(m,x,void 0,$))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(m.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(m){this.totalTime=m}syncPlayerEvents(m){const E=this._player;E.triggerCallback&&m.onStart(()=>E.triggerCallback("start")),m.onDone(()=>this.finish()),m.onDestroy(()=>this.destroy())}_queueEvent(m,E){yr(this._queuedCallbacks,m,[]).push(E)}onDone(m){this.queued&&this._queueEvent("done",m),this._player.onDone(m)}onStart(m){this.queued&&this._queueEvent("start",m),this._player.onStart(m)}onDestroy(m){this.queued&&this._queueEvent("destroy",m),this._player.onDestroy(m)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(m){this.queued||this._player.setPosition(m)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(m){const E=this._player;E.triggerCallback&&E.triggerCallback(m)}}function mo(B){return B&&1===B.nodeType}function js(B,m){const E=B.style.display;return B.style.display=m??"none",E}function da(B,m,E,x,$){const J=[];E.forEach(Re=>J.push(js(Re)));const le=[];x.forEach((Re,Qe)=>{const Et=new Map;Re.forEach(yt=>{const Dn=m.computeStyle(Qe,yt,$);Et.set(yt,Dn),(!Dn||0==Dn.length)&&(Qe[fr]=Ki,le.push(Qe))}),B.set(Qe,Et)});let fe=0;return E.forEach(Re=>js(Re,J[fe++])),le}function Qo(B,m){const E=new Map;if(B.forEach(fe=>E.set(fe,[])),0==m.length)return E;const $=new Set(m),J=new Map;function le(fe){if(!fe)return 1;let Re=J.get(fe);if(Re)return Re;const Qe=fe.parentNode;return Re=E.has(Qe)?Qe:$.has(Qe)?1:le(Qe),J.set(fe,Re),Re}return m.forEach(fe=>{const Re=le(fe);1!==Re&&E.get(Re).push(fe)}),E}function Ji(B,m){B.classList?.add(m)}function lr(B,m){B.classList?.remove(m)}function Ts(B,m,E){Ot(E).onDone(()=>B.processLeaveNode(m))}function bu(B,m){for(let E=0;E<B.length;E++){const x=B[E];x instanceof fn?bu(x.players,m):m.push(x)}}function yo(B,m,E){const x=E.get(B);if(!x)return!1;let $=m.get(B);return $?x.forEach(J=>$.add(J)):m.set(B,x),E.delete(B),!0}class hi{constructor(m,E,x){this.bodyNode=m,this._driver=E,this._normalizer=x,this._triggerCache={},this.onRemovalComplete=($,J)=>{},this._transitionEngine=new es(m,E,x),this._timelineEngine=new Ln(m,E,x),this._transitionEngine.onRemovalComplete=($,J)=>this.onRemovalComplete($,J)}registerTrigger(m,E,x,$,J){const le=m+"-"+$;let fe=this._triggerCache[le];if(!fe){const Re=[],Et=Go(this._driver,J,Re,[]);if(Re.length)throw function qr(B,m){return new re.wOt(3404,!1)}();fe=function la(B,m,E){return new di(B,m,E)}($,Et,this._normalizer),this._triggerCache[le]=fe}this._transitionEngine.registerTrigger(E,$,fe)}register(m,E){this._transitionEngine.register(m,E)}destroy(m,E){this._transitionEngine.destroy(m,E)}onInsert(m,E,x,$){this._transitionEngine.insertNode(m,E,x,$)}onRemove(m,E,x){this._transitionEngine.removeNode(m,E,x)}disableAnimations(m,E){this._transitionEngine.markElementAsDisabled(m,E)}process(m,E,x,$){if("@"==x.charAt(0)){const[J,le]=$r(x);this._timelineEngine.command(J,E,le,$)}else this._transitionEngine.trigger(m,E,x,$)}listen(m,E,x,$,J){if("@"==x.charAt(0)){const[le,fe]=$r(x);return this._timelineEngine.listen(le,E,fe,J)}return this._transitionEngine.listen(m,E,x,$,J)}flush(m=-1){this._transitionEngine.flush(m)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(m){this._transitionEngine.afterFlushAnimationsDone(m)}}let vo=(()=>{class B{static{this.initialStylesByElement=new WeakMap}constructor(E,x,$){this._element=E,this._startStyles=x,this._endStyles=$,this._state=0;let J=B.initialStylesByElement.get(E);J||B.initialStylesByElement.set(E,J=new Map),this._initialStyles=J}start(){this._state<1&&(this._startStyles&&Xn(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Xn(this._element,this._initialStyles),this._endStyles&&(Xn(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(B.initialStylesByElement.delete(this._element),this._startStyles&&(ur(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(ur(this._element,this._endStyles),this._endStyles=null),Xn(this._element,this._initialStyles),this._state=3)}}return B})();function Ro(B){let m=null;return B.forEach((E,x)=>{(function xo(B){return"display"===B||"position"===B})(x)&&(m=m||new Map,m.set(x,E))}),m}class io{constructor(m,E,x,$){this.element=m,this.keyframes=E,this.options=x,this._specialStyles=$,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=x.duration,this._delay=x.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(m=>m()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const m=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,m,this.options),this._finalKeyframe=m.length?m[m.length-1]:new Map;const E=()=>this._onFinish();this.domPlayer.addEventListener("finish",E),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",E)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(m){const E=[];return m.forEach(x=>{E.push(Object.fromEntries(x))}),E}_triggerWebAnimation(m,E,x){return m.animate(this._convertKeyframesToObject(E),x)}onStart(m){this._originalOnStartFns.push(m),this._onStartFns.push(m)}onDone(m){this._originalOnDoneFns.push(m),this._onDoneFns.push(m)}onDestroy(m){this._onDestroyFns.push(m)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(m=>m()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(m=>m()),this._onDestroyFns=[])}setPosition(m){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=m*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const m=new Map;this.hasStarted()&&this._finalKeyframe.forEach((x,$)=>{"offset"!==$&&m.set($,this._finished?x:Gi(this.element,$))}),this.currentSnapshot=m}triggerCallback(m){const E="start"===m?this._onStartFns:this._onDoneFns;E.forEach(x=>x()),E.length=0}}class Oo{validateStyleProperty(m){return!0}validateAnimatableStyleProperty(m){return!0}matchesElement(m,E){return!1}containsElement(m,E){return de(m,E)}getParentElement(m){return Di(m)}query(m,E,x){return G(m,E,x)}computeStyle(m,E,x){return window.getComputedStyle(m)[E]}animate(m,E,x,$,J,le=[]){const Re={duration:x,delay:$,fill:0==$?"both":"forwards"};J&&(Re.easing=J);const Qe=new Map,Et=le.filter(w=>w instanceof io);(function ei(B,m){return 0===B||0===m})(x,$)&&Et.forEach(w=>{w.currentSnapshot.forEach((V,R)=>Qe.set(R,V))});let yt=function Wt(B){return B.length?B[0]instanceof Map?B:B.map(m=>Lt(m)):[]}(E).map(w=>ln(w));yt=function Es(B,m,E){if(E.size&&m.length){let x=m[0],$=[];if(E.forEach((J,le)=>{x.has(le)||$.push(le),x.set(le,J)}),$.length)for(let J=1;J<m.length;J++){let le=m[J];$.forEach(fe=>le.set(fe,Gi(B,fe)))}}return m}(m,yt,Qe);const Dn=function No(B,m){let E=null,x=null;return Array.isArray(m)&&m.length?(E=Ro(m[0]),m.length>1&&(x=Ro(m[m.length-1]))):m instanceof Map&&(E=Ro(m)),E||x?new vo(B,E,x):null}(m,yt);return new io(m,yt,Re,Dn)}}var Xo=H(177);let Li=(()=>{class B extends ae{constructor(E,x){super(),this._nextAnimationId=0,this._renderer=E.createRenderer(x.body,{id:"0",encapsulation:re.gXe.None,styles:[],data:{animation:[]}})}build(E){const x=this._nextAnimationId.toString();this._nextAnimationId++;const $=Array.isArray(E)?Ut(E):E;return Yo(this._renderer,null,x,"register",[$]),new Cs(x,this._renderer)}static{this.\u0275fac=function(x){return new(x||B)(re.KVO(re._9s),re.KVO(Xo.qQ))}}static{this.\u0275prov=re.jDH({token:B,factory:B.\u0275fac})}}return B})();class Cs extends Te{constructor(m,E){super(),this._id=m,this._renderer=E}create(m,E){return new ts(this._id,m,E||{},this._renderer)}}class ts{constructor(m,E,x,$){this.id=m,this.element=E,this._renderer=$,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",x)}_listen(m,E){return this._renderer.listen(this.element,`@@${this.id}:${m}`,E)}_command(m,...E){return Yo(this._renderer,this.element,this.id,m,E)}onDone(m){this._listen("done",m)}onStart(m){this._listen("start",m)}onDestroy(m){this._listen("destroy",m)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(m){this._command("setPosition",m)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function Yo(B,m,E,x,$){return B.setProperty(m,`@@${E}:${x}`,$)}const bs="@.disabled";let Xr=(()=>{class B{constructor(E,x,$){this.delegate=E,this.engine=x,this._zone=$,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,x.onRemovalComplete=(J,le)=>{const fe=le?.parentNode(J);fe&&le.removeChild(fe,J)}}createRenderer(E,x){const J=this.delegate.createRenderer(E,x);if(!(E&&x&&x.data&&x.data.animation)){let Et=this._rendererCache.get(J);return Et||(Et=new Ss("",J,this.engine,()=>this._rendererCache.delete(J)),this._rendererCache.set(J,Et)),Et}const le=x.id,fe=x.id+"-"+this._currentId;this._currentId++,this.engine.register(fe,E);const Re=Et=>{Array.isArray(Et)?Et.forEach(Re):this.engine.registerTrigger(le,fe,E,Et.name,Et)};return x.data.animation.forEach(Re),new so(this,fe,J,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(E,x,$){E>=0&&E<this._microtaskId?this._zone.run(()=>x($)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(J=>{const[le,fe]=J;le(fe)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([x,$]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static{this.\u0275fac=function(x){return new(x||B)(re.KVO(re._9s),re.KVO(hi),re.KVO(re.SKi))}}static{this.\u0275prov=re.jDH({token:B,factory:B.\u0275fac})}}return B})();class Ss{constructor(m,E,x,$){this.namespaceId=m,this.delegate=E,this.engine=x,this._onDestroy=$}get data(){return this.delegate.data}destroyNode(m){this.delegate.destroyNode?.(m)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(m,E){return this.delegate.createElement(m,E)}createComment(m){return this.delegate.createComment(m)}createText(m){return this.delegate.createText(m)}appendChild(m,E){this.delegate.appendChild(m,E),this.engine.onInsert(this.namespaceId,E,m,!1)}insertBefore(m,E,x,$=!0){this.delegate.insertBefore(m,E,x),this.engine.onInsert(this.namespaceId,E,m,$)}removeChild(m,E,x){this.engine.onRemove(this.namespaceId,E,this.delegate)}selectRootElement(m,E){return this.delegate.selectRootElement(m,E)}parentNode(m){return this.delegate.parentNode(m)}nextSibling(m){return this.delegate.nextSibling(m)}setAttribute(m,E,x,$){this.delegate.setAttribute(m,E,x,$)}removeAttribute(m,E,x){this.delegate.removeAttribute(m,E,x)}addClass(m,E){this.delegate.addClass(m,E)}removeClass(m,E){this.delegate.removeClass(m,E)}setStyle(m,E,x,$){this.delegate.setStyle(m,E,x,$)}removeStyle(m,E,x){this.delegate.removeStyle(m,E,x)}setProperty(m,E,x){"@"==E.charAt(0)&&E==bs?this.disableAnimations(m,!!x):this.delegate.setProperty(m,E,x)}setValue(m,E){this.delegate.setValue(m,E)}listen(m,E,x){return this.delegate.listen(m,E,x)}disableAnimations(m,E){this.engine.disableAnimations(m,E)}}class so extends Ss{constructor(m,E,x,$,J){super(E,x,$,J),this.factory=m,this.namespaceId=E}setProperty(m,E,x){"@"==E.charAt(0)?"."==E.charAt(1)&&E==bs?this.disableAnimations(m,x=void 0===x||!!x):this.engine.process(this.namespaceId,m,E.slice(1),x):this.delegate.setProperty(m,E,x)}listen(m,E,x){if("@"==E.charAt(0)){const $=function oo(B){switch(B){case"body":return document.body;case"document":return document;case"window":return window;default:return B}}(m);let J=E.slice(1),le="";return"@"!=J.charAt(0)&&([J,le]=function Ys(B){const m=B.indexOf(".");return[B.substring(0,m),B.slice(m+1)]}(J)),this.engine.listen(this.namespaceId,$,J,le,fe=>{this.factory.scheduleListenerCallback(fe._data||-1,x,fe)})}return this.delegate.listen(m,E,x)}}const ao=[{provide:ae,useClass:Li},{provide:Wi,useFactory:function _o(){return new Us}},{provide:hi,useClass:(()=>{class B extends hi{constructor(E,x,$,J){super(E.body,x,$)}ngOnDestroy(){this.flush()}static{this.\u0275fac=function(x){return new(x||B)(re.KVO(Xo.qQ),re.KVO(W),re.KVO(Wi),re.KVO(re.o8S))}}static{this.\u0275prov=re.jDH({token:B,factory:B.\u0275fac})}}return B})()},{provide:re._9s,useFactory:function fi(B,m,E){return new Xr(B,m,E)},deps:[M.B7,hi,re.SKi]}],ii=[{provide:W,useFactory:()=>new Oo},{provide:re.bc$,useValue:"BrowserAnimations"},...ao],xa=[{provide:W,useClass:q},{provide:re.bc$,useValue:"NoopAnimations"},...ao];let ha=(()=>{class B{static withConfig(E){return{ngModule:B,providers:E.disableAnimations?xa:ii}}static{this.\u0275fac=function(x){return new(x||B)}}static{this.\u0275mod=re.$C({type:B})}static{this.\u0275inj=re.G2t({providers:ii,imports:[M.Bb]})}}return B})(),Po=(()=>{class B{static{this.\u0275fac=function(x){return new(x||B)}}static{this.\u0275mod=re.$C({type:B,bootstrap:[Z]})}static{this.\u0275inj=re.G2t({imports:[(0,ie._q)(()=>(0,ie.xI)()),M.Bb,he,(0,xe.MW)(()=>(0,xe.Wp)(ee_firebase)),(0,$e.hV)(()=>(0,$e.aU)()),ha]})}}return B})();M.sG().bootstrapModule(Po).catch(B=>console.error(B))},4412:(jt,We,H)=>{H.d(We,{t:()=>ue});var M=H(1413);class ue extends M.B{constructor(ye){super(),this._value=ye}get value(){return this.getValue()}_subscribe(ye){const he=super._subscribe(ye);return!he.closed&&ye.next(this._value),he}getValue(){const{hasError:ye,thrownError:he,_value:Z}=this;if(ye)throw he;return this._throwIfClosed(),Z}next(ye){super.next(this._value=ye)}}},1985:(jt,We,H)=>{H.d(We,{c:()=>xe});var M=H(7707),ue=H(8359),re=H(3494),ye=H(1203),he=H(1026),Z=H(8071),ee=H(9786);let xe=(()=>{class Te{constructor(_e){_e&&(this._subscribe=_e)}lift(_e){const ht=new Te;return ht.source=this,ht.operator=_e,ht}subscribe(_e,ht,Ve){const Ut=function ae(Te){return Te&&Te instanceof M.vU||function ie(Te){return Te&&(0,Z.T)(Te.next)&&(0,Z.T)(Te.error)&&(0,Z.T)(Te.complete)}(Te)&&(0,ue.Uv)(Te)}(_e)?_e:new M.Ms(_e,ht,Ve);return(0,ee.Y)(()=>{const{operator:kt,source:bn}=this;Ut.add(kt?kt.call(Ut,bn):bn?this._subscribe(Ut):this._trySubscribe(Ut))}),Ut}_trySubscribe(_e){try{return this._subscribe(_e)}catch(ht){_e.error(ht)}}forEach(_e,ht){return new(ht=$e(ht))((Ve,Ut)=>{const kt=new M.Ms({next:bn=>{try{_e(bn)}catch(On){Ut(On),kt.unsubscribe()}},error:Ut,complete:Ve});this.subscribe(kt)})}_subscribe(_e){var ht;return null===(ht=this.source)||void 0===ht?void 0:ht.subscribe(_e)}[re.s](){return this}pipe(..._e){return(0,ye.m)(_e)(this)}toPromise(_e){return new(_e=$e(_e))((ht,Ve)=>{let Ut;this.subscribe(kt=>Ut=kt,kt=>Ve(kt),()=>ht(Ut))})}}return Te.create=Ge=>new Te(Ge),Te})();function $e(Te){var Ge;return null!==(Ge=Te??he.$.Promise)&&void 0!==Ge?Ge:Promise}},1413:(jt,We,H)=>{H.d(We,{B:()=>ee});var M=H(1985),ue=H(8359);const ye=(0,H(1853).L)($e=>function(){$e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var he=H(7908),Z=H(9786);let ee=(()=>{class $e extends M.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ae){const Te=new xe(this,this);return Te.operator=ae,Te}_throwIfClosed(){if(this.closed)throw new ye}next(ae){(0,Z.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Te of this.currentObservers)Te.next(ae)}})}error(ae){(0,Z.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ae;const{observers:Te}=this;for(;Te.length;)Te.shift().error(ae)}})}complete(){(0,Z.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ae}=this;for(;ae.length;)ae.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var ae;return(null===(ae=this.observers)||void 0===ae?void 0:ae.length)>0}_trySubscribe(ae){return this._throwIfClosed(),super._trySubscribe(ae)}_subscribe(ae){return this._throwIfClosed(),this._checkFinalizedStatuses(ae),this._innerSubscribe(ae)}_innerSubscribe(ae){const{hasError:Te,isStopped:Ge,observers:_e}=this;return Te||Ge?ue.Kn:(this.currentObservers=null,_e.push(ae),new ue.yU(()=>{this.currentObservers=null,(0,he.o)(_e,ae)}))}_checkFinalizedStatuses(ae){const{hasError:Te,thrownError:Ge,isStopped:_e}=this;Te?ae.error(Ge):_e&&ae.complete()}asObservable(){const ae=new M.c;return ae.source=this,ae}}return $e.create=(ie,ae)=>new xe(ie,ae),$e})();class xe extends ee{constructor(ie,ae){super(),this.destination=ie,this.source=ae}next(ie){var ae,Te;null===(Te=null===(ae=this.destination)||void 0===ae?void 0:ae.next)||void 0===Te||Te.call(ae,ie)}error(ie){var ae,Te;null===(Te=null===(ae=this.destination)||void 0===ae?void 0:ae.error)||void 0===Te||Te.call(ae,ie)}complete(){var ie,ae;null===(ae=null===(ie=this.destination)||void 0===ie?void 0:ie.complete)||void 0===ae||ae.call(ie)}_subscribe(ie){var ae,Te;return null!==(Te=null===(ae=this.source)||void 0===ae?void 0:ae.subscribe(ie))&&void 0!==Te?Te:ue.Kn}}},7707:(jt,We,H)=>{H.d(We,{Ms:()=>Ve,vU:()=>Te});var M=H(8071),ue=H(8359),re=H(1026),ye=H(5334),he=H(5343);const Z=$e("C",void 0,void 0);function $e(Ae,ot,Ue){return{kind:Ae,value:ot,error:Ue}}var ie=H(9270),ae=H(9786);class Te extends ue.yU{constructor(ot){super(),this.isStopped=!1,ot?(this.destination=ot,(0,ue.Uv)(ot)&&ot.add(this)):this.destination=On}static create(ot,Ue,He){return new Ve(ot,Ue,He)}next(ot){this.isStopped?bn(function xe(Ae){return $e("N",Ae,void 0)}(ot),this):this._next(ot)}error(ot){this.isStopped?bn(function ee(Ae){return $e("E",void 0,Ae)}(ot),this):(this.isStopped=!0,this._error(ot))}complete(){this.isStopped?bn(Z,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ot){this.destination.next(ot)}_error(ot){try{this.destination.error(ot)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ge=Function.prototype.bind;function _e(Ae,ot){return Ge.call(Ae,ot)}class ht{constructor(ot){this.partialObserver=ot}next(ot){const{partialObserver:Ue}=this;if(Ue.next)try{Ue.next(ot)}catch(He){Ut(He)}}error(ot){const{partialObserver:Ue}=this;if(Ue.error)try{Ue.error(ot)}catch(He){Ut(He)}else Ut(ot)}complete(){const{partialObserver:ot}=this;if(ot.complete)try{ot.complete()}catch(Ue){Ut(Ue)}}}class Ve extends Te{constructor(ot,Ue,He){let ft;if(super(),(0,M.T)(ot)||!ot)ft={next:ot??void 0,error:Ue??void 0,complete:He??void 0};else{let ct;this&&re.$.useDeprecatedNextContext?(ct=Object.create(ot),ct.unsubscribe=()=>this.unsubscribe(),ft={next:ot.next&&_e(ot.next,ct),error:ot.error&&_e(ot.error,ct),complete:ot.complete&&_e(ot.complete,ct)}):ft=ot}this.destination=new ht(ft)}}function Ut(Ae){re.$.useDeprecatedSynchronousErrorHandling?(0,ae.l)(Ae):(0,ye.m)(Ae)}function bn(Ae,ot){const{onStoppedNotification:Ue}=re.$;Ue&&ie.f.setTimeout(()=>Ue(Ae,ot))}const On={closed:!0,next:he.l,error:function kt(Ae){throw Ae},complete:he.l}},8359:(jt,We,H)=>{H.d(We,{Kn:()=>Z,yU:()=>he,Uv:()=>ee});var M=H(8071);const re=(0,H(1853).L)($e=>function(ae){$e(this),this.message=ae?`${ae.length} errors occurred during unsubscription:\n${ae.map((Te,Ge)=>`${Ge+1}) ${Te.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ae});var ye=H(7908);class he{constructor(ie){this.initialTeardown=ie,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let ie;if(!this.closed){this.closed=!0;const{_parentage:ae}=this;if(ae)if(this._parentage=null,Array.isArray(ae))for(const _e of ae)_e.remove(this);else ae.remove(this);const{initialTeardown:Te}=this;if((0,M.T)(Te))try{Te()}catch(_e){ie=_e instanceof re?_e.errors:[_e]}const{_finalizers:Ge}=this;if(Ge){this._finalizers=null;for(const _e of Ge)try{xe(_e)}catch(ht){ie=ie??[],ht instanceof re?ie=[...ie,...ht.errors]:ie.push(ht)}}if(ie)throw new re(ie)}}add(ie){var ae;if(ie&&ie!==this)if(this.closed)xe(ie);else{if(ie instanceof he){if(ie.closed||ie._hasParent(this))return;ie._addParent(this)}(this._finalizers=null!==(ae=this._finalizers)&&void 0!==ae?ae:[]).push(ie)}}_hasParent(ie){const{_parentage:ae}=this;return ae===ie||Array.isArray(ae)&&ae.includes(ie)}_addParent(ie){const{_parentage:ae}=this;this._parentage=Array.isArray(ae)?(ae.push(ie),ae):ae?[ae,ie]:ie}_removeParent(ie){const{_parentage:ae}=this;ae===ie?this._parentage=null:Array.isArray(ae)&&(0,ye.o)(ae,ie)}remove(ie){const{_finalizers:ae}=this;ae&&(0,ye.o)(ae,ie),ie instanceof he&&ie._removeParent(this)}}he.EMPTY=(()=>{const $e=new he;return $e.closed=!0,$e})();const Z=he.EMPTY;function ee($e){return $e instanceof he||$e&&"closed"in $e&&(0,M.T)($e.remove)&&(0,M.T)($e.add)&&(0,M.T)($e.unsubscribe)}function xe($e){(0,M.T)($e)?$e():$e.unsubscribe()}},1026:(jt,We,H)=>{H.d(We,{$:()=>M});const M={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},4572:(jt,We,H)=>{H.d(We,{z:()=>ie});var M=H(1985),ue=H(3073),re=H(8455),ye=H(3669),he=H(6450),Z=H(9326),ee=H(8496),xe=H(4360),$e=H(5225);function ie(...Ge){const _e=(0,Z.lI)(Ge),ht=(0,Z.ms)(Ge),{args:Ve,keys:Ut}=(0,ue.D)(Ge);if(0===Ve.length)return(0,re.H)([],_e);const kt=new M.c(function ae(Ge,_e,ht=ye.D){return Ve=>{Te(_e,()=>{const{length:Ut}=Ge,kt=new Array(Ut);let bn=Ut,On=Ut;for(let Ae=0;Ae<Ut;Ae++)Te(_e,()=>{const ot=(0,re.H)(Ge[Ae],_e);let Ue=!1;ot.subscribe((0,xe._)(Ve,He=>{kt[Ae]=He,Ue||(Ue=!0,On--),On||Ve.next(ht(kt.slice()))},()=>{--bn||Ve.complete()}))},Ve)},Ve)}}(Ve,_e,Ut?bn=>(0,ee.e)(Ut,bn):ye.D));return ht?kt.pipe((0,he.I)(ht)):kt}function Te(Ge,_e,ht){Ge?(0,$e.N)(ht,Ge,_e):_e()}},8793:(jt,We,H)=>{H.d(We,{x:()=>he});var M=H(6365),re=H(9326),ye=H(8455);function he(...Z){return function ue(){return(0,M.U)(1)}()((0,ye.H)(Z,(0,re.lI)(Z)))}},983:(jt,We,H)=>{H.d(We,{w:()=>ue});const ue=new(H(1985).c)(he=>he.complete())},8455:(jt,We,H)=>{H.d(We,{H:()=>ot});var M=H(8750),ue=H(941),re=H(6745),Z=H(1985),xe=H(4761),$e=H(8071),ie=H(5225);function Te(Ue,He){if(!Ue)throw new Error("Iterable cannot be null");return new Z.c(ft=>{(0,ie.N)(ft,He,()=>{const ct=Ue[Symbol.asyncIterator]();(0,ie.N)(ft,He,()=>{ct.next().then(Jt=>{Jt.done?ft.complete():ft.next(Jt.value)})},0,!0)})})}var Ge=H(5055),_e=H(9858),ht=H(7441),Ve=H(5397),Ut=H(7953),kt=H(591),bn=H(5196);function ot(Ue,He){return He?function Ae(Ue,He){if(null!=Ue){if((0,Ge.l)(Ue))return function ye(Ue,He){return(0,M.Tg)(Ue).pipe((0,re._)(He),(0,ue.Q)(He))}(Ue,He);if((0,ht.X)(Ue))return function ee(Ue,He){return new Z.c(ft=>{let ct=0;return He.schedule(function(){ct===Ue.length?ft.complete():(ft.next(Ue[ct++]),ft.closed||this.schedule())})})}(Ue,He);if((0,_e.y)(Ue))return function he(Ue,He){return(0,M.Tg)(Ue).pipe((0,re._)(He),(0,ue.Q)(He))}(Ue,He);if((0,Ut.T)(Ue))return Te(Ue,He);if((0,Ve.x)(Ue))return function ae(Ue,He){return new Z.c(ft=>{let ct;return(0,ie.N)(ft,He,()=>{ct=Ue[xe.l](),(0,ie.N)(ft,He,()=>{let Jt,fn;try{({value:Jt,done:fn}=ct.next())}catch(pn){return void ft.error(pn)}fn?ft.complete():ft.next(Jt)},0,!0)}),()=>(0,$e.T)(ct?.return)&&ct.return()})}(Ue,He);if((0,bn.U)(Ue))return function On(Ue,He){return Te((0,bn.C)(Ue),He)}(Ue,He)}throw(0,kt.L)(Ue)}(Ue,He):(0,M.Tg)(Ue)}},8750:(jt,We,H)=>{H.d(We,{Tg:()=>Ge});var M=H(1635),ue=H(7441),re=H(9858),ye=H(1985),he=H(5055),Z=H(7953),ee=H(591),xe=H(5397),$e=H(5196),ie=H(8071),ae=H(5334),Te=H(3494);function Ge(Ae){if(Ae instanceof ye.c)return Ae;if(null!=Ae){if((0,he.l)(Ae))return function _e(Ae){return new ye.c(ot=>{const Ue=Ae[Te.s]();if((0,ie.T)(Ue.subscribe))return Ue.subscribe(ot);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ae);if((0,ue.X)(Ae))return function ht(Ae){return new ye.c(ot=>{for(let Ue=0;Ue<Ae.length&&!ot.closed;Ue++)ot.next(Ae[Ue]);ot.complete()})}(Ae);if((0,re.y)(Ae))return function Ve(Ae){return new ye.c(ot=>{Ae.then(Ue=>{ot.closed||(ot.next(Ue),ot.complete())},Ue=>ot.error(Ue)).then(null,ae.m)})}(Ae);if((0,Z.T)(Ae))return kt(Ae);if((0,xe.x)(Ae))return function Ut(Ae){return new ye.c(ot=>{for(const Ue of Ae)if(ot.next(Ue),ot.closed)return;ot.complete()})}(Ae);if((0,$e.U)(Ae))return function bn(Ae){return kt((0,$e.C)(Ae))}(Ae)}throw(0,ee.L)(Ae)}function kt(Ae){return new ye.c(ot=>{(function On(Ae,ot){var Ue,He,ft,ct;return(0,M.sH)(this,void 0,void 0,function*(){try{for(Ue=(0,M.xN)(Ae);!(He=yield Ue.next()).done;)if(ot.next(He.value),ot.closed)return}catch(Jt){ft={error:Jt}}finally{try{He&&!He.done&&(ct=Ue.return)&&(yield ct.call(Ue))}finally{if(ft)throw ft.error}}ot.complete()})})(Ae,ot).catch(Ue=>ot.error(Ue))})}},7786:(jt,We,H)=>{H.d(We,{h:()=>Z});var M=H(6365),ue=H(8750),re=H(983),ye=H(9326),he=H(8455);function Z(...ee){const xe=(0,ye.lI)(ee),$e=(0,ye.R0)(ee,1/0),ie=ee;return ie.length?1===ie.length?(0,ue.Tg)(ie[0]):(0,M.U)($e)((0,he.H)(ie,xe)):re.w}},7673:(jt,We,H)=>{H.d(We,{of:()=>re});var M=H(9326),ue=H(8455);function re(...ye){const he=(0,M.lI)(ye);return(0,ue.H)(ye,he)}},8810:(jt,We,H)=>{H.d(We,{$:()=>re});var M=H(1985),ue=H(8071);function re(ye,he){const Z=(0,ue.T)(ye)?ye:()=>ye,ee=xe=>xe.error(Z());return new M.c(he?xe=>he.schedule(ee,0,xe):ee)}},4360:(jt,We,H)=>{H.d(We,{_:()=>ue});var M=H(7707);function ue(ye,he,Z,ee,xe){return new re(ye,he,Z,ee,xe)}class re extends M.vU{constructor(he,Z,ee,xe,$e,ie){super(he),this.onFinalize=$e,this.shouldUnsubscribe=ie,this._next=Z?function(ae){try{Z(ae)}catch(Te){he.error(Te)}}:super._next,this._error=xe?function(ae){try{xe(ae)}catch(Te){he.error(Te)}finally{this.unsubscribe()}}:super._error,this._complete=ee?function(){try{ee()}catch(ae){he.error(ae)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var he;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Z}=this;super.unsubscribe(),!Z&&(null===(he=this.onFinalize)||void 0===he||he.call(this))}}}},9437:(jt,We,H)=>{H.d(We,{W:()=>ye});var M=H(8750),ue=H(4360),re=H(9974);function ye(he){return(0,re.N)((Z,ee)=>{let ie,xe=null,$e=!1;xe=Z.subscribe((0,ue._)(ee,void 0,void 0,ae=>{ie=(0,M.Tg)(he(ae,ye(he)(Z))),xe?(xe.unsubscribe(),xe=null,ie.subscribe(ee)):$e=!0})),$e&&(xe.unsubscribe(),xe=null,ie.subscribe(ee))})}},274:(jt,We,H)=>{H.d(We,{H:()=>re});var M=H(1397),ue=H(8071);function re(ye,he){return(0,ue.T)(he)?(0,M.Z)(ye,he,1):(0,M.Z)(ye,1)}},3294:(jt,We,H)=>{H.d(We,{F:()=>ye});var M=H(3669),ue=H(9974),re=H(4360);function ye(Z,ee=M.D){return Z=Z??he,(0,ue.N)((xe,$e)=>{let ie,ae=!0;xe.subscribe((0,re._)($e,Te=>{const Ge=ee(Te);(ae||!Z(ie,Ge))&&(ae=!1,ie=Ge,$e.next(Te))}))})}function he(Z,ee){return Z===ee}},5964:(jt,We,H)=>{H.d(We,{p:()=>re});var M=H(9974),ue=H(4360);function re(ye,he){return(0,M.N)((Z,ee)=>{let xe=0;Z.subscribe((0,ue._)(ee,$e=>ye.call(he,$e,xe++)&&ee.next($e)))})}},980:(jt,We,H)=>{H.d(We,{j:()=>ue});var M=H(9974);function ue(re){return(0,M.N)((ye,he)=>{try{ye.subscribe(he)}finally{he.add(re)}})}},6354:(jt,We,H)=>{H.d(We,{T:()=>re});var M=H(9974),ue=H(4360);function re(ye,he){return(0,M.N)((Z,ee)=>{let xe=0;Z.subscribe((0,ue._)(ee,$e=>{ee.next(ye.call(he,$e,xe++))}))})}},6365:(jt,We,H)=>{H.d(We,{U:()=>re});var M=H(1397),ue=H(3669);function re(ye=1/0){return(0,M.Z)(ue.D,ye)}},1397:(jt,We,H)=>{H.d(We,{Z:()=>xe});var M=H(6354),ue=H(8750),re=H(9974),ye=H(5225),he=H(4360),ee=H(8071);function xe($e,ie,ae=1/0){return(0,ee.T)(ie)?xe((Te,Ge)=>(0,M.T)((_e,ht)=>ie(Te,_e,Ge,ht))((0,ue.Tg)($e(Te,Ge))),ae):("number"==typeof ie&&(ae=ie),(0,re.N)((Te,Ge)=>function Z($e,ie,ae,Te,Ge,_e,ht,Ve){const Ut=[];let kt=0,bn=0,On=!1;const Ae=()=>{On&&!Ut.length&&!kt&&ie.complete()},ot=He=>kt<Te?Ue(He):Ut.push(He),Ue=He=>{_e&&ie.next(He),kt++;let ft=!1;(0,ue.Tg)(ae(He,bn++)).subscribe((0,he._)(ie,ct=>{Ge?.(ct),_e?ot(ct):ie.next(ct)},()=>{ft=!0},void 0,()=>{if(ft)try{for(kt--;Ut.length&&kt<Te;){const ct=Ut.shift();ht?(0,ye.N)(ie,ht,()=>Ue(ct)):Ue(ct)}Ae()}catch(ct){ie.error(ct)}}))};return $e.subscribe((0,he._)(ie,ot,()=>{On=!0,Ae()})),()=>{Ve?.()}}(Te,Ge,$e,ae)))}},941:(jt,We,H)=>{H.d(We,{Q:()=>ye});var M=H(5225),ue=H(9974),re=H(4360);function ye(he,Z=0){return(0,ue.N)((ee,xe)=>{ee.subscribe((0,re._)(xe,$e=>(0,M.N)(xe,he,()=>xe.next($e),Z),()=>(0,M.N)(xe,he,()=>xe.complete(),Z),$e=>(0,M.N)(xe,he,()=>xe.error($e),Z)))})}},7647:(jt,We,H)=>{H.d(We,{u:()=>he});var M=H(8750),ue=H(1413),re=H(7707),ye=H(9974);function he(ee={}){const{connector:xe=(()=>new ue.B),resetOnError:$e=!0,resetOnComplete:ie=!0,resetOnRefCountZero:ae=!0}=ee;return Te=>{let Ge,_e,ht,Ve=0,Ut=!1,kt=!1;const bn=()=>{_e?.unsubscribe(),_e=void 0},On=()=>{bn(),Ge=ht=void 0,Ut=kt=!1},Ae=()=>{const ot=Ge;On(),ot?.unsubscribe()};return(0,ye.N)((ot,Ue)=>{Ve++,!kt&&!Ut&&bn();const He=ht=ht??xe();Ue.add(()=>{Ve--,0===Ve&&!kt&&!Ut&&(_e=Z(Ae,ae))}),He.subscribe(Ue),!Ge&&Ve>0&&(Ge=new re.Ms({next:ft=>He.next(ft),error:ft=>{kt=!0,bn(),_e=Z(On,$e,ft),He.error(ft)},complete:()=>{Ut=!0,bn(),_e=Z(On,ie),He.complete()}}),(0,M.Tg)(ot).subscribe(Ge))})(Te)}}function Z(ee,xe,...$e){if(!0===xe)return void ee();if(!1===xe)return;const ie=new re.Ms({next:()=>{ie.unsubscribe(),ee()}});return(0,M.Tg)(xe(...$e)).subscribe(ie)}},9172:(jt,We,H)=>{H.d(We,{Z:()=>ye});var M=H(8793),ue=H(9326),re=H(9974);function ye(...he){const Z=(0,ue.lI)(he);return(0,re.N)((ee,xe)=>{(Z?(0,M.x)(he,ee,Z):(0,M.x)(he,ee)).subscribe(xe)})}},6745:(jt,We,H)=>{H.d(We,{_:()=>ue});var M=H(9974);function ue(re,ye=0){return(0,M.N)((he,Z)=>{Z.add(re.schedule(()=>he.subscribe(Z),ye))})}},5558:(jt,We,H)=>{H.d(We,{n:()=>ye});var M=H(8750),ue=H(9974),re=H(4360);function ye(he,Z){return(0,ue.N)((ee,xe)=>{let $e=null,ie=0,ae=!1;const Te=()=>ae&&!$e&&xe.complete();ee.subscribe((0,re._)(xe,Ge=>{$e?.unsubscribe();let _e=0;const ht=ie++;(0,M.Tg)(he(Ge,ht)).subscribe($e=(0,re._)(xe,Ve=>xe.next(Z?Z(Ge,Ve,ht,_e++):Ve),()=>{$e=null,Te()}))},()=>{ae=!0,Te()}))})}},6697:(jt,We,H)=>{H.d(We,{s:()=>ye});var M=H(983),ue=H(9974),re=H(4360);function ye(he){return he<=0?()=>M.w:(0,ue.N)((Z,ee)=>{let xe=0;Z.subscribe((0,re._)(ee,$e=>{++xe<=he&&(ee.next($e),he<=xe&&ee.complete())}))})}},6977:(jt,We,H)=>{H.d(We,{Q:()=>he});var M=H(9974),ue=H(4360),re=H(8750),ye=H(5343);function he(Z){return(0,M.N)((ee,xe)=>{(0,re.Tg)(Z).subscribe((0,ue._)(xe,()=>xe.complete(),ye.l)),!xe.closed&&ee.subscribe(xe)})}},8141:(jt,We,H)=>{H.d(We,{M:()=>he});var M=H(8071),ue=H(9974),re=H(4360),ye=H(3669);function he(Z,ee,xe){const $e=(0,M.T)(Z)||ee||xe?{next:Z,error:ee,complete:xe}:Z;return $e?(0,ue.N)((ie,ae)=>{var Te;null===(Te=$e.subscribe)||void 0===Te||Te.call($e);let Ge=!0;ie.subscribe((0,re._)(ae,_e=>{var ht;null===(ht=$e.next)||void 0===ht||ht.call($e,_e),ae.next(_e)},()=>{var _e;Ge=!1,null===(_e=$e.complete)||void 0===_e||_e.call($e),ae.complete()},_e=>{var ht;Ge=!1,null===(ht=$e.error)||void 0===ht||ht.call($e,_e),ae.error(_e)},()=>{var _e,ht;Ge&&(null===(_e=$e.unsubscribe)||void 0===_e||_e.call($e)),null===(ht=$e.finalize)||void 0===ht||ht.call($e)}))}):ye.D}},6780:(jt,We,H)=>{H.d(We,{R:()=>he});var M=H(8359);class ue extends M.yU{constructor(ee,xe){super()}schedule(ee,xe=0){return this}}const re={setInterval(Z,ee,...xe){const{delegate:$e}=re;return $e?.setInterval?$e.setInterval(Z,ee,...xe):setInterval(Z,ee,...xe)},clearInterval(Z){const{delegate:ee}=re;return(ee?.clearInterval||clearInterval)(Z)},delegate:void 0};var ye=H(7908);class he extends ue{constructor(ee,xe){super(ee,xe),this.scheduler=ee,this.work=xe,this.pending=!1}schedule(ee,xe=0){var $e;if(this.closed)return this;this.state=ee;const ie=this.id,ae=this.scheduler;return null!=ie&&(this.id=this.recycleAsyncId(ae,ie,xe)),this.pending=!0,this.delay=xe,this.id=null!==($e=this.id)&&void 0!==$e?$e:this.requestAsyncId(ae,this.id,xe),this}requestAsyncId(ee,xe,$e=0){return re.setInterval(ee.flush.bind(ee,this),$e)}recycleAsyncId(ee,xe,$e=0){if(null!=$e&&this.delay===$e&&!1===this.pending)return xe;null!=xe&&re.clearInterval(xe)}execute(ee,xe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const $e=this._execute(ee,xe);if($e)return $e;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ee,xe){let ie,$e=!1;try{this.work(ee)}catch(ae){$e=!0,ie=ae||new Error("Scheduled action threw falsy error")}if($e)return this.unsubscribe(),ie}unsubscribe(){if(!this.closed){const{id:ee,scheduler:xe}=this,{actions:$e}=xe;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ye.o)($e,this),null!=ee&&(this.id=this.recycleAsyncId(xe,ee,null)),this.delay=null,super.unsubscribe()}}}},3604:(jt,We,H)=>{H.d(We,{q:()=>re});const M={now:()=>(M.delegate||Date).now(),delegate:void 0};class ue{constructor(he,Z=ue.now){this.schedulerActionCtor=he,this.now=Z}schedule(he,Z=0,ee){return new this.schedulerActionCtor(this,he).schedule(ee,Z)}}ue.now=M.now;class re extends ue{constructor(he,Z=ue.now){super(he,Z),this.actions=[],this._active=!1}flush(he){const{actions:Z}=this;if(this._active)return void Z.push(he);let ee;this._active=!0;do{if(ee=he.execute(he.state,he.delay))break}while(he=Z.shift());if(this._active=!1,ee){for(;he=Z.shift();)he.unsubscribe();throw ee}}}},3236:(jt,We,H)=>{H.d(We,{E:()=>re,b:()=>ye});var M=H(6780);const re=new(H(3604).q)(M.R),ye=re},9270:(jt,We,H)=>{H.d(We,{f:()=>M});const M={setTimeout(ue,re,...ye){const{delegate:he}=M;return he?.setTimeout?he.setTimeout(ue,re,...ye):setTimeout(ue,re,...ye)},clearTimeout(ue){const{delegate:re}=M;return(re?.clearTimeout||clearTimeout)(ue)},delegate:void 0}},4761:(jt,We,H)=>{H.d(We,{l:()=>ue});const ue=function M(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3494:(jt,We,H)=>{H.d(We,{s:()=>M});const M="function"==typeof Symbol&&Symbol.observable||"@@observable"},9326:(jt,We,H)=>{H.d(We,{R0:()=>Z,lI:()=>he,ms:()=>ye});var M=H(8071),ue=H(9470);function re(ee){return ee[ee.length-1]}function ye(ee){return(0,M.T)(re(ee))?ee.pop():void 0}function he(ee){return(0,ue.m)(re(ee))?ee.pop():void 0}function Z(ee,xe){return"number"==typeof re(ee)?ee.pop():xe}},3073:(jt,We,H)=>{H.d(We,{D:()=>he});const{isArray:M}=Array,{getPrototypeOf:ue,prototype:re,keys:ye}=Object;function he(ee){if(1===ee.length){const xe=ee[0];if(M(xe))return{args:xe,keys:null};if(function Z(ee){return ee&&"object"==typeof ee&&ue(ee)===re}(xe)){const $e=ye(xe);return{args:$e.map(ie=>xe[ie]),keys:$e}}}return{args:ee,keys:null}}},7908:(jt,We,H)=>{function M(ue,re){if(ue){const ye=ue.indexOf(re);0<=ye&&ue.splice(ye,1)}}H.d(We,{o:()=>M})},1853:(jt,We,H)=>{function M(ue){const ye=ue(he=>{Error.call(he),he.stack=(new Error).stack});return ye.prototype=Object.create(Error.prototype),ye.prototype.constructor=ye,ye}H.d(We,{L:()=>M})},8496:(jt,We,H)=>{function M(ue,re){return ue.reduce((ye,he,Z)=>(ye[he]=re[Z],ye),{})}H.d(We,{e:()=>M})},9786:(jt,We,H)=>{H.d(We,{Y:()=>re,l:()=>ye});var M=H(1026);let ue=null;function re(he){if(M.$.useDeprecatedSynchronousErrorHandling){const Z=!ue;if(Z&&(ue={errorThrown:!1,error:null}),he(),Z){const{errorThrown:ee,error:xe}=ue;if(ue=null,ee)throw xe}}else he()}function ye(he){M.$.useDeprecatedSynchronousErrorHandling&&ue&&(ue.errorThrown=!0,ue.error=he)}},5225:(jt,We,H)=>{function M(ue,re,ye,he=0,Z=!1){const ee=re.schedule(function(){ye(),Z?ue.add(this.schedule(null,he)):this.unsubscribe()},he);if(ue.add(ee),!Z)return ee}H.d(We,{N:()=>M})},3669:(jt,We,H)=>{function M(ue){return ue}H.d(We,{D:()=>M})},7441:(jt,We,H)=>{H.d(We,{X:()=>M});const M=ue=>ue&&"number"==typeof ue.length&&"function"!=typeof ue},7953:(jt,We,H)=>{H.d(We,{T:()=>ue});var M=H(8071);function ue(re){return Symbol.asyncIterator&&(0,M.T)(re?.[Symbol.asyncIterator])}},8071:(jt,We,H)=>{function M(ue){return"function"==typeof ue}H.d(We,{T:()=>M})},5055:(jt,We,H)=>{H.d(We,{l:()=>re});var M=H(3494),ue=H(8071);function re(ye){return(0,ue.T)(ye[M.s])}},5397:(jt,We,H)=>{H.d(We,{x:()=>re});var M=H(4761),ue=H(8071);function re(ye){return(0,ue.T)(ye?.[M.l])}},9858:(jt,We,H)=>{H.d(We,{y:()=>ue});var M=H(8071);function ue(re){return(0,M.T)(re?.then)}},5196:(jt,We,H)=>{H.d(We,{C:()=>re,U:()=>ye});var M=H(1635),ue=H(8071);function re(he){return(0,M.AQ)(this,arguments,function*(){const ee=he.getReader();try{for(;;){const{value:xe,done:$e}=yield(0,M.N3)(ee.read());if($e)return yield(0,M.N3)(void 0);yield yield(0,M.N3)(xe)}}finally{ee.releaseLock()}})}function ye(he){return(0,ue.T)(he?.getReader)}},9470:(jt,We,H)=>{H.d(We,{m:()=>ue});var M=H(8071);function ue(re){return re&&(0,M.T)(re.schedule)}},9974:(jt,We,H)=>{H.d(We,{N:()=>re,S:()=>ue});var M=H(8071);function ue(ye){return(0,M.T)(ye?.lift)}function re(ye){return he=>{if(ue(he))return he.lift(function(Z){try{return ye(Z,this)}catch(ee){this.error(ee)}});throw new TypeError("Unable to lift unknown Observable type")}}},6450:(jt,We,H)=>{H.d(We,{I:()=>ye});var M=H(6354);const{isArray:ue}=Array;function ye(he){return(0,M.T)(Z=>function re(he,Z){return ue(Z)?he(...Z):he(Z)}(he,Z))}},5343:(jt,We,H)=>{function M(){}H.d(We,{l:()=>M})},1203:(jt,We,H)=>{H.d(We,{F:()=>ue,m:()=>re});var M=H(3669);function ue(...ye){return re(ye)}function re(ye){return 0===ye.length?M.D:1===ye.length?ye[0]:function(Z){return ye.reduce((ee,xe)=>xe(ee),Z)}}},5334:(jt,We,H)=>{H.d(We,{m:()=>re});var M=H(1026),ue=H(9270);function re(ye){ue.f.setTimeout(()=>{const{onUnhandledError:he}=M.$;if(!he)throw ye;he(ye)})}},591:(jt,We,H)=>{function M(ue){return new TypeError(`You provided ${null!==ue&&"object"==typeof ue?"an invalid object":`'${ue}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}H.d(We,{L:()=>M})},177:(jt,We,H)=>{H.d(We,{AJ:()=>Kr,MD:()=>Is,N0:()=>di,PV:()=>ds,QT:()=>re,QX:()=>cr,Sm:()=>ht,Sq:()=>_s,T3:()=>Vn,UE:()=>Us,VF:()=>he,Vy:()=>to,Xr:()=>qs,YU:()=>zi,ZD:()=>ye,_b:()=>Hi,aZ:()=>Ut,bT:()=>vr,fw:()=>Ve,hb:()=>Ge,hj:()=>xe,qQ:()=>Z});var M=H(7705);let ue=null;function re(){return ue}function ye(w){ue||(ue=w)}class he{}const Z=new M.nKC("DocumentToken");let ee=(()=>{class w{historyGo(R){throw new Error("Not implemented")}static{this.\u0275fac=function(F){return new(F||w)}}static{this.\u0275prov=M.jDH({token:w,factory:function(){return(0,M.WQX)($e)},providedIn:"platform"})}}return w})();const xe=new M.nKC("Location Initialized");let $e=(()=>{class w extends ee{constructor(){super(),this._doc=(0,M.WQX)(Z),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return re().getBaseHref(this._doc)}onPopState(R){const F=re().getGlobalEventTarget(this._doc,"window");return F.addEventListener("popstate",R,!1),()=>F.removeEventListener("popstate",R)}onHashChange(R){const F=re().getGlobalEventTarget(this._doc,"window");return F.addEventListener("hashchange",R,!1),()=>F.removeEventListener("hashchange",R)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(R){this._location.pathname=R}pushState(R,F,ne){this._history.pushState(R,F,ne)}replaceState(R,F,ne){this._history.replaceState(R,F,ne)}forward(){this._history.forward()}back(){this._history.back()}historyGo(R=0){this._history.go(R)}getState(){return this._history.state}static{this.\u0275fac=function(F){return new(F||w)}}static{this.\u0275prov=M.jDH({token:w,factory:function(){return new w},providedIn:"platform"})}}return w})();function ie(w,V){if(0==w.length)return V;if(0==V.length)return w;let R=0;return w.endsWith("/")&&R++,V.startsWith("/")&&R++,2==R?w+V.substring(1):1==R?w+V:w+"/"+V}function ae(w){const V=w.match(/#|\?|$/),R=V&&V.index||w.length;return w.slice(0,R-("/"===w[R-1]?1:0))+w.slice(R)}function Te(w){return w&&"?"!==w[0]?"?"+w:w}let Ge=(()=>{class w{historyGo(R){throw new Error("Not implemented")}static{this.\u0275fac=function(F){return new(F||w)}}static{this.\u0275prov=M.jDH({token:w,factory:function(){return(0,M.WQX)(ht)},providedIn:"root"})}}return w})();const _e=new M.nKC("appBaseHref");let ht=(()=>{class w extends Ge{constructor(R,F){super(),this._platformLocation=R,this._removeListenerFns=[],this._baseHref=F??this._platformLocation.getBaseHrefFromDOM()??(0,M.WQX)(Z).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(R){this._removeListenerFns.push(this._platformLocation.onPopState(R),this._platformLocation.onHashChange(R))}getBaseHref(){return this._baseHref}prepareExternalUrl(R){return ie(this._baseHref,R)}path(R=!1){const F=this._platformLocation.pathname+Te(this._platformLocation.search),ne=this._platformLocation.hash;return ne&&R?`${F}${ne}`:F}pushState(R,F,ne,be){const Ze=this.prepareExternalUrl(ne+Te(be));this._platformLocation.pushState(R,F,Ze)}replaceState(R,F,ne,be){const Ze=this.prepareExternalUrl(ne+Te(be));this._platformLocation.replaceState(R,F,Ze)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(R=0){this._platformLocation.historyGo?.(R)}static{this.\u0275fac=function(F){return new(F||w)(M.KVO(ee),M.KVO(_e,8))}}static{this.\u0275prov=M.jDH({token:w,factory:w.\u0275fac,providedIn:"root"})}}return w})(),Ve=(()=>{class w extends Ge{constructor(R,F){super(),this._platformLocation=R,this._baseHref="",this._removeListenerFns=[],null!=F&&(this._baseHref=F)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(R){this._removeListenerFns.push(this._platformLocation.onPopState(R),this._platformLocation.onHashChange(R))}getBaseHref(){return this._baseHref}path(R=!1){let F=this._platformLocation.hash;return null==F&&(F="#"),F.length>0?F.substring(1):F}prepareExternalUrl(R){const F=ie(this._baseHref,R);return F.length>0?"#"+F:F}pushState(R,F,ne,be){let Ze=this.prepareExternalUrl(ne+Te(be));0==Ze.length&&(Ze=this._platformLocation.pathname),this._platformLocation.pushState(R,F,Ze)}replaceState(R,F,ne,be){let Ze=this.prepareExternalUrl(ne+Te(be));0==Ze.length&&(Ze=this._platformLocation.pathname),this._platformLocation.replaceState(R,F,Ze)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(R=0){this._platformLocation.historyGo?.(R)}static{this.\u0275fac=function(F){return new(F||w)(M.KVO(ee),M.KVO(_e,8))}}static{this.\u0275prov=M.jDH({token:w,factory:w.\u0275fac})}}return w})(),Ut=(()=>{class w{constructor(R){this._subject=new M.bkB,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=R;const F=this._locationStrategy.getBaseHref();this._basePath=function Ae(w){if(new RegExp("^(https?:)?//").test(w)){const[,R]=w.split(/\/\/[^\/]+/);return R}return w}(ae(On(F))),this._locationStrategy.onPopState(ne=>{this._subject.emit({url:this.path(!0),pop:!0,state:ne.state,type:ne.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(R=!1){return this.normalize(this._locationStrategy.path(R))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(R,F=""){return this.path()==this.normalize(R+Te(F))}normalize(R){return w.stripTrailingSlash(function bn(w,V){if(!w||!V.startsWith(w))return V;const R=V.substring(w.length);return""===R||["/",";","?","#"].includes(R[0])?R:V}(this._basePath,On(R)))}prepareExternalUrl(R){return R&&"/"!==R[0]&&(R="/"+R),this._locationStrategy.prepareExternalUrl(R)}go(R,F="",ne=null){this._locationStrategy.pushState(ne,"",R,F),this._notifyUrlChangeListeners(this.prepareExternalUrl(R+Te(F)),ne)}replaceState(R,F="",ne=null){this._locationStrategy.replaceState(ne,"",R,F),this._notifyUrlChangeListeners(this.prepareExternalUrl(R+Te(F)),ne)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(R=0){this._locationStrategy.historyGo?.(R)}onUrlChange(R){return this._urlChangeListeners.push(R),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(F=>{this._notifyUrlChangeListeners(F.url,F.state)})),()=>{const F=this._urlChangeListeners.indexOf(R);this._urlChangeListeners.splice(F,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(R="",F){this._urlChangeListeners.forEach(ne=>ne(R,F))}subscribe(R,F,ne){return this._subject.subscribe({next:R,error:F,complete:ne})}static{this.normalizeQueryParams=Te}static{this.joinWithSlash=ie}static{this.stripTrailingSlash=ae}static{this.\u0275fac=function(F){return new(F||w)(M.KVO(Ge))}}static{this.\u0275prov=M.jDH({token:w,factory:function(){return function kt(){return new Ut((0,M.KVO)(Ge))}()},providedIn:"root"})}}return w})();function On(w){return w.replace(/\/index.html$/,"")}var Ue=function(w){return w[w.Decimal=0]="Decimal",w[w.Percent=1]="Percent",w[w.Currency=2]="Currency",w[w.Scientific=3]="Scientific",w}(Ue||{}),fn=function(w){return w[w.Decimal=0]="Decimal",w[w.Group=1]="Group",w[w.List=2]="List",w[w.PercentSign=3]="PercentSign",w[w.PlusSign=4]="PlusSign",w[w.MinusSign=5]="MinusSign",w[w.Exponential=6]="Exponential",w[w.SuperscriptingExponent=7]="SuperscriptingExponent",w[w.PerMille=8]="PerMille",w[w.Infinity=9]="Infinity",w[w.NaN=10]="NaN",w[w.TimeSeparator=11]="TimeSeparator",w[w.CurrencyDecimal=12]="CurrencyDecimal",w[w.CurrencyGroup=13]="CurrencyGroup",w}(fn||{});function ke(w,V){const R=(0,M.H5H)(w),F=R[M.KH2.NumberSymbols][V];if(typeof F>"u"){if(V===fn.CurrencyDecimal)return R[M.KH2.NumberSymbols][fn.Decimal];if(V===fn.CurrencyGroup)return R[M.KH2.NumberSymbols][fn.Group]}return F}const W=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function Rt(w){const V=parseInt(w);if(isNaN(V))throw new Error("Invalid integer literal when parsing "+w);return V}function Hi(w,V){V=encodeURIComponent(V);for(const R of w.split(";")){const F=R.indexOf("="),[ne,be]=-1==F?[R,""]:[R.slice(0,F),R.slice(F+1)];if(ne.trim()===V)return decodeURIComponent(be)}return null}const Qi=/\s+/,cs=[];let zi=(()=>{class w{constructor(R,F,ne,be){this._iterableDiffers=R,this._keyValueDiffers=F,this._ngEl=ne,this._renderer=be,this.initialClasses=cs,this.stateMap=new Map}set klass(R){this.initialClasses=null!=R?R.trim().split(Qi):cs}set ngClass(R){this.rawClass="string"==typeof R?R.trim().split(Qi):R}ngDoCheck(){for(const F of this.initialClasses)this._updateState(F,!0);const R=this.rawClass;if(Array.isArray(R)||R instanceof Set)for(const F of R)this._updateState(F,!0);else if(null!=R)for(const F of Object.keys(R))this._updateState(F,!!R[F]);this._applyStateDiff()}_updateState(R,F){const ne=this.stateMap.get(R);void 0!==ne?(ne.enabled!==F&&(ne.changed=!0,ne.enabled=F),ne.touched=!0):this.stateMap.set(R,{enabled:F,changed:!0,touched:!0})}_applyStateDiff(){for(const R of this.stateMap){const F=R[0],ne=R[1];ne.changed?(this._toggleClass(F,ne.enabled),ne.changed=!1):ne.touched||(ne.enabled&&this._toggleClass(F,!1),this.stateMap.delete(F)),ne.touched=!1}}_toggleClass(R,F){(R=R.trim()).length>0&&R.split(Qi).forEach(ne=>{F?this._renderer.addClass(this._ngEl.nativeElement,ne):this._renderer.removeClass(this._ngEl.nativeElement,ne)})}static{this.\u0275fac=function(F){return new(F||w)(M.rXU(M._q3),M.rXU(M.MKu),M.rXU(M.aKT),M.rXU(M.sFG))}}static{this.\u0275dir=M.FsC({type:w,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}}return w})();class ls{constructor(V,R,F,ne){this.$implicit=V,this.ngForOf=R,this.index=F,this.count=ne}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let _s=(()=>{class w{set ngForOf(R){this._ngForOf=R,this._ngForOfDirty=!0}set ngForTrackBy(R){this._trackByFn=R}get ngForTrackBy(){return this._trackByFn}constructor(R,F,ne){this._viewContainer=R,this._template=F,this._differs=ne,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(R){R&&(this._template=R)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const R=this._ngForOf;!this._differ&&R&&(this._differ=this._differs.find(R).create(this.ngForTrackBy))}if(this._differ){const R=this._differ.diff(this._ngForOf);R&&this._applyChanges(R)}}_applyChanges(R){const F=this._viewContainer;R.forEachOperation((ne,be,Ze)=>{if(null==ne.previousIndex)F.createEmbeddedView(this._template,new ls(ne.item,this._ngForOf,-1,-1),null===Ze?void 0:Ze);else if(null==Ze)F.remove(null===be?void 0:be);else if(null!==be){const Mt=F.get(be);F.move(Mt,Ze),ei(Mt,ne)}});for(let ne=0,be=F.length;ne<be;ne++){const Mt=F.get(ne).context;Mt.index=ne,Mt.count=be,Mt.ngForOf=this._ngForOf}R.forEachIdentityChange(ne=>{ei(F.get(ne.currentIndex),ne)})}static ngTemplateContextGuard(R,F){return!0}static{this.\u0275fac=function(F){return new(F||w)(M.rXU(M.c1b),M.rXU(M.C4Q),M.rXU(M._q3))}}static{this.\u0275dir=M.FsC({type:w,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return w})();function ei(w,V){w.context.$implicit=V.item}let vr=(()=>{class w{constructor(R,F){this._viewContainer=R,this._context=new Gi,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=F}set ngIf(R){this._context.$implicit=this._context.ngIf=R,this._updateView()}set ngIfThen(R){Co("ngIfThen",R),this._thenTemplateRef=R,this._thenViewRef=null,this._updateView()}set ngIfElse(R){Co("ngIfElse",R),this._elseTemplateRef=R,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(R,F){return!0}static{this.\u0275fac=function(F){return new(F||w)(M.rXU(M.c1b),M.rXU(M.C4Q))}}static{this.\u0275dir=M.FsC({type:w,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return w})();class Gi{constructor(){this.$implicit=null,this.ngIf=null}}function Co(w,V){if(V&&!V.createEmbeddedView)throw new Error(`${w} must be a TemplateRef, but received '${(0,M.Tbb)(V)}'.`)}let Vn=(()=>{class w{constructor(R){this._viewContainerRef=R,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(R){if(R.ngTemplateOutlet||R.ngTemplateOutletInjector){const F=this._viewContainerRef;if(this._viewRef&&F.remove(F.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:ne,ngTemplateOutletContext:be,ngTemplateOutletInjector:Ze}=this;this._viewRef=F.createEmbeddedView(ne,be,Ze?{injector:Ze}:void 0)}else this._viewRef=null}else this._viewRef&&R.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}static{this.\u0275fac=function(F){return new(F||w)(M.rXU(M.c1b))}}static{this.\u0275dir=M.FsC({type:w,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[M.OA$]})}}return w})();function li(w,V){return new M.wOt(2100,!1)}const So=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g;let ds=(()=>{class w{transform(R){if(null==R)return null;if("string"!=typeof R)throw li();return R.replace(So,F=>F[0].toUpperCase()+F.slice(1).toLowerCase())}static{this.\u0275fac=function(F){return new(F||w)}}static{this.\u0275pipe=M.EJ8({name:"titlecase",type:w,pure:!0,standalone:!0})}}return w})(),cr=(()=>{class w{constructor(R){this._locale=R}transform(R,F,ne){if(!function rn(w){return!(null==w||""===w||w!=w)}(R))return null;ne=ne||this._locale;try{return function qe(w,V,R){return function Hr(w,V,R,F,ne,be,Ze=!1){let Mt="",Kn=!1;if(isFinite(w)){let Fn=function Lt(w){let F,ne,be,Ze,Mt,V=Math.abs(w)+"",R=0;for((ne=V.indexOf("."))>-1&&(V=V.replace(".","")),(be=V.search(/e/i))>0?(ne<0&&(ne=be),ne+=+V.slice(be+1),V=V.substring(0,be)):ne<0&&(ne=V.length),be=0;"0"===V.charAt(be);be++);if(be===(Mt=V.length))F=[0],ne=1;else{for(Mt--;"0"===V.charAt(Mt);)Mt--;for(ne-=be,F=[],Ze=0;be<=Mt;be++,Ze++)F[Ze]=Number(V.charAt(be))}return ne>22&&(F=F.splice(0,21),R=ne-1,ne=1),{digits:F,exponent:R,integerLen:ne}}(w);Ze&&(Fn=function at(w){if(0===w.digits[0])return w;const V=w.digits.length-w.integerLen;return w.exponent?w.exponent+=2:(0===V?w.digits.push(0,0):1===V&&w.digits.push(0),w.integerLen+=2),w}(Fn));let gn=V.minInt,cn=V.minFrac,nr=V.maxFrac;if(be){const Ar=be.match(W);if(null===Ar)throw new Error(`${be} is not a valid digit info`);const Ct=Ar[1],Ft=Ar[3],sn=Ar[5];null!=Ct&&(gn=Rt(Ct)),null!=Ft&&(cn=Rt(Ft)),null!=sn?nr=Rt(sn):null!=Ft&&cn>nr&&(nr=cn)}!function Wt(w,V,R){if(V>R)throw new Error(`The minimum number of digits after fraction (${V}) is higher than the maximum (${R}).`);let F=w.digits,ne=F.length-w.integerLen;const be=Math.min(Math.max(V,ne),R);let Ze=be+w.integerLen,Mt=F[Ze];if(Ze>0){F.splice(Math.max(w.integerLen,Ze));for(let cn=Ze;cn<F.length;cn++)F[cn]=0}else{ne=Math.max(0,ne),w.integerLen=1,F.length=Math.max(1,Ze=be+1),F[0]=0;for(let cn=1;cn<Ze;cn++)F[cn]=0}if(Mt>=5)if(Ze-1<0){for(let cn=0;cn>Ze;cn--)F.unshift(0),w.integerLen++;F.unshift(1),w.integerLen++}else F[Ze-1]++;for(;ne<Math.max(0,be);ne++)F.push(0);let Kn=0!==be;const Fn=V+w.integerLen,gn=F.reduceRight(function(cn,nr,Gn,vi){return vi[Gn]=(nr+=cn)<10?nr:nr-10,Kn&&(0===vi[Gn]&&Gn>=Fn?vi.pop():Kn=!1),nr>=10?1:0},0);gn&&(F.unshift(gn),w.integerLen++)}(Fn,cn,nr);let Gn=Fn.digits,vi=Fn.integerLen;const si=Fn.exponent;let oi=[];for(Kn=Gn.every(Ar=>!Ar);vi<gn;vi++)Gn.unshift(0);for(;vi<0;vi++)Gn.unshift(0);vi>0?oi=Gn.splice(vi,Gn.length):(oi=Gn,Gn=[0]);const pr=[];for(Gn.length>=V.lgSize&&pr.unshift(Gn.splice(-V.lgSize,Gn.length).join(""));Gn.length>V.gSize;)pr.unshift(Gn.splice(-V.gSize,Gn.length).join(""));Gn.length&&pr.unshift(Gn.join("")),Mt=pr.join(ke(R,F)),oi.length&&(Mt+=ke(R,ne)+oi.join("")),si&&(Mt+=ke(R,fn.Exponential)+"+"+si)}else Mt=ke(R,fn.Infinity);return Mt=w<0&&!Kn?V.negPre+Mt+V.negSuf:V.posPre+Mt+V.posSuf,Mt}(w,function Ce(w,V="-"){const R={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},F=w.split(";"),ne=F[0],be=F[1],Ze=-1!==ne.indexOf(".")?ne.split("."):[ne.substring(0,ne.lastIndexOf("0")+1),ne.substring(ne.lastIndexOf("0")+1)],Mt=Ze[0],Kn=Ze[1]||"";R.posPre=Mt.substring(0,Mt.indexOf("#"));for(let gn=0;gn<Kn.length;gn++){const cn=Kn.charAt(gn);"0"===cn?R.minFrac=R.maxFrac=gn+1:"#"===cn?R.maxFrac=gn+1:R.posSuf+=cn}const Fn=Mt.split(",");if(R.gSize=Fn[1]?Fn[1].length:0,R.lgSize=Fn[2]||Fn[1]?(Fn[2]||Fn[1]).length:0,be){const gn=ne.length-R.posPre.length-R.posSuf.length,cn=be.indexOf("#");R.negPre=be.substring(0,cn).replace(/'/g,""),R.negSuf=be.slice(cn+gn).replace(/'/g,"")}else R.negPre=V+R.posPre,R.negSuf=R.posSuf;return R}(function Ke(w,V){return(0,M.H5H)(w)[M.KH2.NumberFormats][V]}(V,Ue.Decimal),ke(V,fn.MinusSign)),V,fn.Group,fn.Decimal,R)}(function ri(w){if("string"==typeof w&&!isNaN(Number(w)-parseFloat(w)))return Number(w);if("number"!=typeof w)throw new Error(`${w} is not a number`);return w}(R),ne,F)}catch(be){throw li()}}static{this.\u0275fac=function(F){return new(F||w)(M.rXU(M.xe9,16))}}static{this.\u0275pipe=M.EJ8({name:"number",type:w,pure:!0,standalone:!0})}}return w})();let Is=(()=>{class w{static{this.\u0275fac=function(F){return new(F||w)}}static{this.\u0275mod=M.$C({type:w})}static{this.\u0275inj=M.G2t({})}}return w})();const Kr="browser",Wi="server";function Us(w){return w===Kr}function to(w){return w===Wi}let qs=(()=>{class w{static{this.\u0275prov=(0,M.jDH)({token:w,providedIn:"root",factory:()=>new mi((0,M.KVO)(Z),window)})}}return w})();class mi{constructor(V,R){this.document=V,this.window=R,this.offset=()=>[0,0]}setOffset(V){this.offset=Array.isArray(V)?()=>V:V}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(V){this.supportsScrolling()&&this.window.scrollTo(V[0],V[1])}scrollToAnchor(V){if(!this.supportsScrolling())return;const R=function no(w,V){const R=w.getElementById(V)||w.getElementsByName(V)[0];if(R)return R;if("function"==typeof w.createTreeWalker&&w.body&&"function"==typeof w.body.attachShadow){const F=w.createTreeWalker(w.body,NodeFilter.SHOW_ELEMENT);let ne=F.currentNode;for(;ne;){const be=ne.shadowRoot;if(be){const Ze=be.getElementById(V)||be.querySelector(`[name="${V}"]`);if(Ze)return Ze}ne=F.nextNode()}}return null}(this.document,V);R&&(this.scrollToElement(R),R.focus())}setHistoryScrollRestoration(V){this.supportsScrolling()&&(this.window.history.scrollRestoration=V)}scrollToElement(V){const R=V.getBoundingClientRect(),F=R.left+this.window.pageXOffset,ne=R.top+this.window.pageYOffset,be=this.offset();this.window.scrollTo(F-be[0],ne-be[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class di{}},7705:(jt,We,H)=>{H.d(We,{$C:()=>ks,$GK:()=>qt,$K3:()=>OI,$MX:()=>dl,AVh:()=>Yg,Agw:()=>$p,BIS:()=>Hp,BMQ:()=>Bf,C4Q:()=>am,C5r:()=>pI,Co$:()=>Aw,DNE:()=>A_,EFF:()=>cv,EJ8:()=>Ls,FS9:()=>Kf,FsC:()=>Wo,G2t:()=>Sn,GBs:()=>uI,GFd:()=>jc,H3F:()=>xI,H5H:()=>dE,H8p:()=>ih,HJs:()=>Gb,Hbi:()=>xb,JRh:()=>i,JZv:()=>In,Jv_:()=>Sw,KH2:()=>Zf,KVO:()=>Vt,Kcf:()=>bp,L39:()=>Hb,LfX:()=>dn,Lme:()=>n,MKu:()=>zE,NAR:()=>z_,NEm:()=>cb,NYb:()=>sb,Njj:()=>cu,O8t:()=>be,OA$:()=>cn,Ocv:()=>PC,Ol2:()=>Nw,PLl:()=>jp,QTQ:()=>wy,Ql9:()=>FC,QuC:()=>ni,R7$:()=>_y,RV6:()=>V_,Rfq:()=>ht,RxE:()=>Zp,SKi:()=>Rs,SdG:()=>G_,SpI:()=>e,TL$:()=>ll,Tbb:()=>Te,UyX:()=>xm,VBU:()=>ti,Vns:()=>Oh,Vt3:()=>Uy,WHO:()=>FI,WPN:()=>yu,WQX:()=>zt,XpG:()=>H_,Xx1:()=>tu,Y8G:()=>qy,Z63:()=>rh,ZF7:()=>Sc,_9s:()=>ny,_q3:()=>HE,aKT:()=>gh,aNF:()=>Rw,bIt:()=>Du,bMT:()=>qw,bVm:()=>qg,bc$:()=>zv,bkB:()=>vu,c1b:()=>vv,cWb:()=>Sp,czy:()=>Bd,e01:()=>UI,e5t:()=>Pv,eBV:()=>ko,eq3:()=>Uw,eu8:()=>Xy,fpN:()=>Rb,gRc:()=>yb,gXe:()=>Lt,giA:()=>VI,h9k:()=>Um,hnV:()=>RI,i5U:()=>Qw,iLQ:()=>FE,j41:()=>Gg,jDH:()=>nt,jNT:()=>Qg,k0s:()=>Wf,kS0:()=>Zc,kdw:()=>yc,lNU:()=>On,l_i:()=>Vw,lsd:()=>lI,mGM:()=>aI,mq5:()=>J0,n$t:()=>Op,nI1:()=>Kw,nKC:()=>Ot,nrm:()=>Wg,o8S:()=>np,oH4:()=>HI,osQ:()=>nf,plB:()=>SE,qex:()=>Kg,rOR:()=>gv,rXU:()=>Fc,rcV:()=>su,sFG:()=>Xp,sMw:()=>Bw,sZ2:()=>Bp,sdS:()=>P_,uvJ:()=>au,w6W:()=>TT,wOt:()=>Ae,wni:()=>cI,xGo:()=>Do,xe9:()=>Ev,xvI:()=>yl,zZn:()=>Ta,zcH:()=>Ho,ziG:()=>jw,zjR:()=>Zy});var M=H(1413),ue=H(8359),re=H(1985),ye=H(7786),he=H(4412),Z=H(7673),ee=H(7647),xe=H(5558),$e=H(3294);function ie(t){for(let r in t)if(t[r]===ie)return r;throw Error("Could not find renamed property on target object.")}function ae(t,r){for(const s in r)r.hasOwnProperty(s)&&!t.hasOwnProperty(s)&&(t[s]=r[s])}function Te(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Te).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const r=t.toString();if(null==r)return""+r;const s=r.indexOf("\n");return-1===s?r:r.substring(0,s)}function Ge(t,r){return null==t||""===t?null===r?"":r:null==r||""===r?t:t+" "+r}const _e=ie({__forward_ref__:ie});function ht(t){return t.__forward_ref__=ht,t.toString=function(){return Te(this())},t}function Ve(t){return Ut(t)?t():t}function Ut(t){return"function"==typeof t&&t.hasOwnProperty(_e)&&t.__forward_ref__===ht}function kt(t){return t&&!!t.\u0275providers}const On="https://g.co/ng/security#xss";class Ae extends Error{constructor(r,s){super(function ot(t,r){return`NG0${Math.abs(t)}${r?": "+r:""}`}(r,s)),this.code=r}}function Ue(t){return"string"==typeof t?t:null==t?"":String(t)}function fn(t,r){throw new Ae(-201,!1)}function rt(t,r){null==t&&function je(t,r,s,a){throw new Error(`ASSERTION ERROR: ${t}`+(null==a?"":` [Expected=> ${s} ${a} ${r} <=Actual]`))}(r,t,null,"!=")}function nt(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Sn(t){return{providers:t.providers||[],imports:t.imports||[]}}function Jn(t){return Er(t,er)||Er(t,pi)}function dn(t){return null!==Jn(t)}function Er(t,r){return t.hasOwnProperty(r)?t[r]:null}function qr(t){return t&&(t.hasOwnProperty(kr)||t.hasOwnProperty(jr))?t[kr]:null}const er=ie({\u0275prov:ie}),kr=ie({\u0275inj:ie}),pi=ie({ngInjectableDef:ie}),jr=ie({ngInjectorDef:ie});var qt=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(qt||{});let vn;function $n(t){const r=vn;return vn=t,r}function Lr(t,r,s){const a=Jn(t);return a&&"root"==a.providedIn?void 0===a.value?a.value=a.factory():a.value:s&qt.Optional?null:void 0!==r?r:void fn(Te(t))}const In=globalThis;class Ot{constructor(r,s){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=nt({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Hn={},xn="__NG_DI_FLAG__",Ir="ngTempTokenPath",G=/\n/gm,q="__source";let W;function tt(t){const r=W;return W=t,r}function St(t,r=qt.Default){if(void 0===W)throw new Ae(-203,!1);return null===W?Lr(t,void 0,r):W.get(t,r&qt.Optional?null:void 0,r)}function Vt(t,r=qt.Default){return(function hn(){return vn}()||St)(Ve(t),r)}function zt(t,r=qt.Default){return Vt(t,un(r))}function un(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function ar(t){const r=[];for(let s=0;s<t.length;s++){const a=Ve(t[s]);if(Array.isArray(a)){if(0===a.length)throw new Ae(900,!1);let c,d=qt.Default;for(let g=0;g<a.length;g++){const v=a[g],b=zr(v);"number"==typeof b?-1===b?c=v.token:d|=b:c=v}r.push(Vt(c,d))}else r.push(Vt(a))}return r}function Hr(t,r){return t[xn]=r,t.prototype[xn]=r,t}function zr(t){return t[xn]}function Ce(t){return{toString:t}.toString()}var at=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(at||{}),Lt=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Lt||{});const Wt={},Rt=[],ln=ie({\u0275cmp:ie}),Xn=ie({\u0275dir:ie}),ur=ie({\u0275pipe:ie}),br=ie({\u0275mod:ie}),Hi=ie({\u0275fac:ie}),Qi=ie({__NG_ELEMENT_ID__:ie}),cs=ie({__NG_ENV_ID__:ie});function zi(t,r,s){let a=t.length;for(;;){const c=t.indexOf(r,s);if(-1===c)return c;if(0===c||t.charCodeAt(c-1)<=32){const d=r.length;if(c+d===a||t.charCodeAt(c+d)<=32)return c}s=c+1}}function Pi(t,r,s){let a=0;for(;a<s.length;){const c=s[a];if("number"==typeof c){if(0!==c)break;a++;const d=s[a++],g=s[a++],v=s[a++];t.setAttribute(r,g,v,d)}else{const d=c,g=s[++a];ls(d)?t.setProperty(r,d,g):t.setAttribute(r,d,g),a++}}return a}function eo(t){return 3===t||4===t||6===t}function ls(t){return 64===t.charCodeAt(0)}function _s(t,r){if(null!==r&&0!==r.length)if(null===t||0===t.length)t=r.slice();else{let s=-1;for(let a=0;a<r.length;a++){const c=r[a];"number"==typeof c?s=c:0===s||ei(t,s,c,null,-1===s||2===s?r[++a]:null)}}return t}function ei(t,r,s,a,c){let d=0,g=t.length;if(-1===r)g=-1;else for(;d<t.length;){const v=t[d++];if("number"==typeof v){if(v===r){g=-1;break}if(v>r){g=d-1;break}}}for(;d<t.length;){const v=t[d];if("number"==typeof v)break;if(v===s){if(null===a)return void(null!==c&&(t[d+1]=c));if(a===t[d+1])return void(t[d+2]=c)}d++,null!==a&&d++,null!==c&&d++}-1!==g&&(t.splice(g,0,r),d=g+1),t.splice(d++,0,s),null!==a&&t.splice(d++,0,a),null!==c&&t.splice(d++,0,c)}const Es="ng-template";function vr(t,r,s){let a=0,c=!0;for(;a<t.length;){let d=t[a++];if("string"==typeof d&&c){const g=t[a++];if(s&&"class"===d&&-1!==zi(g.toLowerCase(),r,0))return!0}else{if(1===d){for(;a<t.length&&"string"==typeof(d=t[a++]);)if(d.toLowerCase()===r)return!0;return!1}"number"==typeof d&&(c=!1)}}return!1}function Gi(t){return 4===t.type&&t.value!==Es}function Co(t,r,s){return r===(4!==t.type||s?t.value:Es)}function ge(t,r,s){let a=4;const c=t.attrs||[],d=function tn(t){for(let r=0;r<t.length;r++)if(eo(t[r]))return r;return t.length}(c);let g=!1;for(let v=0;v<r.length;v++){const b=r[v];if("number"!=typeof b){if(!g)if(4&a){if(a=2|1&a,""!==b&&!Co(t,b,s)||""===b&&1===r.length){if(pe(a))return!1;g=!0}}else{const k=8&a?b:r[++v];if(8&a&&null!==t.attrs){if(!vr(t.attrs,k,s)){if(pe(a))return!1;g=!0}continue}const se=Ne(8&a?"class":b,c,Gi(t),s);if(-1===se){if(pe(a))return!1;g=!0;continue}if(""!==k){let ve;ve=se>d?"":c[se+1].toLowerCase();const Se=8&a?ve:null;if(Se&&-1!==zi(Se,k,0)||2&a&&k!==ve){if(pe(a))return!1;g=!0}}}}else{if(!g&&!pe(a)&&!pe(b))return!1;if(g&&pe(b))continue;g=!1,a=b|1&a}}return pe(a)||g}function pe(t){return 0==(1&t)}function Ne(t,r,s,a){if(null===r)return-1;let c=0;if(a||!s){let d=!1;for(;c<r.length;){const g=r[c];if(g===t)return c;if(3===g||6===g)d=!0;else{if(1===g||2===g){let v=r[++c];for(;"string"==typeof v;)v=r[++c];continue}if(4===g)break;if(0===g){c+=4;continue}}c+=d?1:2}return-1}return function zn(t,r){let s=t.indexOf(4);if(s>-1)for(s++;s<t.length;){const a=t[s];if("number"==typeof a)return-1;if(a===r)return s;s++}return-1}(r,t)}function Je(t,r,s=!1){for(let a=0;a<r.length;a++)if(ge(t,r[a],s))return!0;return!1}function kn(t,r){e:for(let s=0;s<r.length;s++){const a=r[s];if(t.length===a.length){for(let c=0;c<t.length;c++)if(t[c]!==a[c])continue e;return!0}}return!1}function Vn(t,r){return t?":not("+r.trim()+")":r}function Xi(t){let r=t[0],s=1,a=2,c="",d=!1;for(;s<t.length;){let g=t[s];if("string"==typeof g)if(2&a){const v=t[++s];c+="["+g+(v.length>0?'="'+v+'"':"")+"]"}else 8&a?c+="."+g:4&a&&(c+=" "+g);else""!==c&&!pe(g)&&(r+=Vn(d,c),c=""),a=g,d=d||!pe(a);s++}return""!==c&&(r+=Vn(d,c)),r}function ti(t){return Ce(()=>{const r=ua(t),s={...r,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===at.OnPush,directiveDefs:null,pipeDefs:null,dependencies:r.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Lt.Emulated,styles:t.styles||Rt,_:null,schemas:t.schemas||null,tView:null,id:""};Ao(s);const a=t.dependencies;return s.directiveDefs=ca(a,!1),s.pipeDefs=ca(a,!0),s.id=function ws(t){let r=0;const s=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const c of s)r=Math.imul(31,r)+c.charCodeAt(0)<<0;return r+=2147483648,"c"+r}(s),s})}function Go(t){return En(t)||Yn(t)}function go(t){return null!==t}function ks(t){return Ce(()=>({type:t.type,bootstrap:t.bootstrap||Rt,declarations:t.declarations||Rt,imports:t.imports||Rt,exports:t.exports||Rt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function ds(t,r){if(null==t)return Wt;const s={};for(const a in t)if(t.hasOwnProperty(a)){let c=t[a],d=c;Array.isArray(c)&&(d=c[1],c=c[0]),s[c]=a,r&&(r[c]=d)}return s}function Wo(t){return Ce(()=>{const r=ua(t);return Ao(r),r})}function Ls(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function En(t){return t[ln]||null}function Yn(t){return t[Xn]||null}function Fr(t){return t[ur]||null}function ni(t){const r=En(t)||Yn(t)||Fr(t);return null!==r&&r.standalone}function Gr(t,r){const s=t[br]||null;if(!s&&!0===r)throw new Error(`Type ${Te(t)} does not have '\u0275mod' property.`);return s}function ua(t){const r={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:r,inputTransforms:null,inputConfig:t.inputs||Wt,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||Rt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:ds(t.inputs,r),outputs:ds(t.outputs)}}function Ao(t){t.features?.forEach(r=>r(t))}function ca(t,r){if(!t)return null;const s=r?Fr:Go;return()=>("function"==typeof t?t():t).map(a=>s(a)).filter(go)}const cr=0,Tt=1,nn=2,rn=3,ri=4,Yi=5,Wr=6,Is=7,Kr=8,Wi=9,Fs=10,an=11,Us=12,to=13,ki=14,hr=15,Mo=16,qs=17,mi=18,no=19,la=20,di=21,ro=22,ss=23,Ko=24,Ln=25,qo=1,Zi=2,hs=7,Si=9,Dr=11;function fr(t){return Array.isArray(t)&&"object"==typeof t[qo]}function yi(t){return Array.isArray(t)&&!0===t[qo]}function fs(t){return 0!=(4&t.flags)}function Tr(t){return t.componentOffset>-1}function Ds(t){return 1==(1&t.flags)}function es(t){return!!t.template}function tr(t){return 0!=(512&t[nn])}function Li(t,r){return t.hasOwnProperty(Hi)?t[Hi]:null}let Sr=null,bs=!1;function Xr(t){const r=Sr;return Sr=t,r}const Ss={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function oo(t){if(!Eo(t)||t.dirty){if(!t.producerMustRecompute(t)&&!ii(t))return void(t.dirty=!1);t.producerRecomputeValue(t),t.dirty=!1}}function _o(t){t.dirty=!0,function Ys(t){if(void 0===t.liveConsumerNode)return;const r=bs;bs=!0;try{for(const s of t.liveConsumerNode)s.dirty||_o(s)}finally{bs=r}}(t),t.consumerMarkedDirty?.(t)}function fi(t){return t&&(t.nextProducerIndex=0),Xr(t)}function ao(t,r){if(Xr(r),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(Eo(t))for(let s=t.nextProducerIndex;s<t.producerNode.length;s++)As(t.producerNode[s],t.producerIndexOfThis[s]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function ii(t){Yr(t);for(let r=0;r<t.producerNode.length;r++){const s=t.producerNode[r],a=t.producerLastReadVersion[r];if(a!==s.version||(oo(s),a!==s.version))return!0}return!1}function xa(t){if(Yr(t),Eo(t))for(let r=0;r<t.producerNode.length;r++)As(t.producerNode[r],t.producerIndexOfThis[r]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function As(t,r){if(function Po(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),Yr(t),1===t.liveConsumerNode.length)for(let a=0;a<t.producerNode.length;a++)As(t.producerNode[a],t.producerIndexOfThis[a]);const s=t.liveConsumerNode.length-1;if(t.liveConsumerNode[r]=t.liveConsumerNode[s],t.liveConsumerIndexOfThis[r]=t.liveConsumerIndexOfThis[s],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,r<t.liveConsumerNode.length){const a=t.liveConsumerIndexOfThis[r],c=t.liveConsumerNode[r];Yr(c),c.producerIndexOfThis[a]=r}}function Eo(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Yr(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let le=null;function be(t){const r=Xr(null);try{return t()}finally{Xr(r)}}const Mt=()=>{},Kn=(()=>({...Ss,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule(t.ref)},hasRun:!1,cleanupFn:Mt}))();class gn{constructor(r,s,a){this.previousValue=r,this.currentValue=s,this.firstChange=a}isFirstChange(){return this.firstChange}}function cn(){return nr}function nr(t){return t.type.prototype.ngOnChanges&&(t.setInput=vi),Gn}function Gn(){const t=oi(this),r=t?.current;if(r){const s=t.previous;if(s===Wt)t.previous=r;else for(let a in r)s[a]=r[a];t.current=null,this.ngOnChanges(r)}}function vi(t,r,s,a){const c=this.declaredInputs[s],d=oi(t)||function pr(t,r){return t[si]=r}(t,{previous:Wt,current:null}),g=d.current||(d.current={}),v=d.previous,b=v[c];g[c]=new gn(b&&b.currentValue,r,v===Wt),t[a]=r}cn.ngInherit=!0;const si="__ngSimpleChanges__";function oi(t){return t[si]||null}const Ft=function(t,r,s){};function Yt(t){for(;Array.isArray(t);)t=t[cr];return t}function gr(t,r){return Yt(r[t])}function mt(t,r){return Yt(r[t.index])}function fa(t,r){return t.data[r]}function wt(t,r){return t[r]}function Ie(t,r){const s=r[t];return fr(s)?s:s[cr]}function wo(t,r){return null==r?null:t[r]}function Oa(t){t[qs]=0}function Rl(t){1024&t[nn]||(t[nn]|=1024,Pa(t,1))}function Kc(t){1024&t[nn]&&(t[nn]&=-1025,Pa(t,-1))}function Pa(t,r){let s=t[rn];if(null===s)return;s[Yi]+=r;let a=s;for(s=s[rn];null!==s&&(1===r&&1===a[Yi]||-1===r&&0===a[Yi]);)s[Yi]+=r,a=s,s=s[rn]}const Tn={lFrame:An(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function ai(){return Tn.bindingsEnabled}function Zt(){return null!==Tn.skipHydrationRootTNode}function ut(){return Tn.lFrame.lView}function qn(){return Tn.lFrame.tView}function ko(t){return Tn.lFrame.contextLView=t,t[Kr]}function cu(t){return Tn.lFrame.contextLView=null,t}function _i(){let t=ic();for(;null!==t&&64===t.type;)t=t.parent;return t}function ic(){return Tn.lFrame.currentTNode}function Zs(t,r){const s=Tn.lFrame;s.currentTNode=t,s.isParent=r}function Ga(){return Tn.lFrame.isParent}function ps(){Tn.lFrame.isParent=!1}function ui(){const t=Tn.lFrame;let r=t.bindingRootIndex;return-1===r&&(r=t.bindingRootIndex=t.tView.bindingStartIndex),r}function Jo(){return Tn.lFrame.bindingIndex++}function Mi(t){const r=Tn.lFrame,s=r.bindingIndex;return r.bindingIndex=r.bindingIndex+t,s}function _(t,r){const s=Tn.lFrame;s.bindingIndex=s.bindingRootIndex=t,y(r)}function y(t){Tn.lFrame.currentDirectiveIndex=t}function P(){return Tn.lFrame.currentQueryIndex}function K(t){Tn.lFrame.currentQueryIndex=t}function oe(t){const r=t[Tt];return 2===r.type?r.declTNode:1===r.type?t[Wr]:null}function Me(t,r,s){if(s&qt.SkipSelf){let c=r,d=t;for(;!(c=c.parent,null!==c||s&qt.Host||(c=oe(d),null===c||(d=d[ki],10&c.type))););if(null===c)return!1;r=c,t=d}const a=Tn.lFrame=xt();return a.currentTNode=r,a.lView=t,!0}function Pe(t){const r=xt(),s=t[Tt];Tn.lFrame=r,r.currentTNode=s.firstChild,r.lView=t,r.tView=s,r.contextLView=t,r.bindingIndex=s.bindingStartIndex,r.inI18n=!1}function xt(){const t=Tn.lFrame,r=null===t?null:t.child;return null===r?An(t):r}function An(t){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=r),r}function Cn(){const t=Tn.lFrame;return Tn.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const sr=Cn;function gs(){const t=Cn();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Ni(){return Tn.lFrame.selectedIndex}function ms(t){Tn.lFrame.selectedIndex=t}function Ur(){const t=Tn.lFrame;return fa(t.tView,t.selectedIndex)}let Mu=!0;function Nu(){return Mu}function ys(t){Mu=t}function Ru(t,r){for(let s=r.directiveStart,a=r.directiveEnd;s<a;s++){const d=t.data[s].type.prototype,{ngAfterContentInit:g,ngAfterContentChecked:v,ngAfterViewInit:b,ngAfterViewChecked:k,ngOnDestroy:z}=d;g&&(t.contentHooks??=[]).push(-s,g),v&&((t.contentHooks??=[]).push(s,v),(t.contentCheckHooks??=[]).push(s,v)),b&&(t.viewHooks??=[]).push(-s,b),k&&((t.viewHooks??=[]).push(s,k),(t.viewCheckHooks??=[]).push(s,k)),null!=z&&(t.destroyHooks??=[]).push(s,z)}}function ac(t,r,s){uc(t,r,3,s)}function Xc(t,r,s,a){(3&t[nn])===s&&uc(t,r,s,a)}function Od(t,r){let s=t[nn];(3&s)===r&&(s&=8191,s+=1,t[nn]=s)}function uc(t,r,s,a){const d=a??-1,g=r.length-1;let v=0;for(let b=void 0!==a?65535&t[qs]:0;b<g;b++)if("number"==typeof r[b+1]){if(v=r[b],null!=a&&v>=a)break}else r[b]<0&&(t[qs]+=65536),(v<d||-1==d)&&(xu(t,s,r,b),t[qs]=(4294901760&t[qs])+b+2),b++}function Ol(t,r){Ft(4,t,r);const s=Xr(null);try{r.call(t)}finally{Xr(s),Ft(5,t,r)}}function xu(t,r,s,a){const c=s[a]<0,d=s[a+1],v=t[c?-s[a]:s[a]];c?t[nn]>>13<t[qs]>>16&&(3&t[nn])===r&&(t[nn]+=8192,Ol(v,d)):Ol(v,d)}const Ou=-1;class Wa{constructor(r,s,a){this.factory=r,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=a}}function ns(t){return t!==Ou}function Vr(t){return 32767&t}function Fo(t,r){let s=function Yc(t){return t>>16}(t),a=r;for(;s>0;)a=a[ki],s--;return a}let $s=!0;function ku(t){const r=$s;return $s=t,r}const os=255,Pl=5;let Uo=0;const Rr={};function na(t,r){const s=ra(t,r);if(-1!==s)return s;const a=r[Tt];a.firstCreatePass&&(t.injectorIndex=r.length,Lu(a.data,t),Lu(r,null),Lu(a.blueprint,null));const c=qa(t,r),d=t.injectorIndex;if(ns(c)){const g=Vr(c),v=Fo(c,r),b=v[Tt].data;for(let k=0;k<8;k++)r[d+k]=v[g+k]|b[g+k]}return r[d+8]=c,d}function Lu(t,r){t.push(0,0,0,0,0,0,0,0,r)}function ra(t,r){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===r[t.injectorIndex+8]?-1:t.injectorIndex}function qa(t,r){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let s=0,a=null,c=r;for(;null!==c;){if(a=Ll(c),null===a)return Ou;if(s++,c=c[ki],-1!==a.injectorIndex)return a.injectorIndex|s<<16}return Ou}function ho(t,r,s){!function ta(t,r,s){let a;"string"==typeof s?a=s.charCodeAt(0)||0:s.hasOwnProperty(Qi)&&(a=s[Qi]),null==a&&(a=s[Qi]=Uo++);const c=a&os;r.data[t+(c>>Pl)]|=1<<c}(t,r,s)}function ya(t,r,s){if(s&qt.Optional||void 0!==t)return t;fn()}function Bo(t,r,s,a){if(s&qt.Optional&&void 0===a&&(a=null),!(s&(qt.Self|qt.Host))){const c=t[Wi],d=$n(void 0);try{return c?c.get(r,a,s&qt.Optional):Lr(r,a,s&qt.Optional)}finally{$n(d)}}return ya(a,0,s)}function fo(t,r,s,a=qt.Default,c){if(null!==t){if(2048&r[nn]&&!(a&qt.Self)){const g=function dc(t,r,s,a,c){let d=t,g=r;for(;null!==d&&null!==g&&2048&g[nn]&&!(512&g[nn]);){const v=hu(d,g,s,a|qt.Self,Rr);if(v!==Rr)return v;let b=d.parent;if(!b){const k=g[la];if(k){const z=k.get(s,Rr,a);if(z!==Rr)return z}b=Ll(g),g=g[ki]}d=b}return c}(t,r,s,a,Rr);if(g!==Rr)return g}const d=hu(t,r,s,a,Rr);if(d!==Rr)return d}return Bo(r,s,a,c)}function hu(t,r,s,a,c){const d=function Fu(t){if("string"==typeof t)return t.charCodeAt(0)||0;const r=t.hasOwnProperty(Qi)?t[Qi]:void 0;return"number"==typeof r?r>=0?r&os:kl:r}(s);if("function"==typeof d){if(!Me(r,t,a))return a&qt.Host?ya(c,0,a):Bo(r,s,a,c);try{let g;if(g=d(a),null!=g||a&qt.Optional)return g;fn()}finally{sr()}}else if("number"==typeof d){let g=null,v=ra(t,r),b=Ou,k=a&qt.Host?r[hr][Wr]:null;for((-1===v||a&qt.SkipSelf)&&(b=-1===v?qa(t,r):r[v+8],b!==Ou&&va(a,!1)?(g=r[Tt],v=Vr(b),r=Fo(b,r)):v=-1);-1!==v;){const z=r[Tt];if(ia(d,v,z.data)){const se=ka(v,r,s,g,a,k);if(se!==Rr)return se}b=r[v+8],b!==Ou&&va(a,r[Tt].data[v+8]===k)&&ia(d,v,r)?(g=z,v=Vr(b),r=Fo(b,r)):v=-1}}return c}function ka(t,r,s,a,c,d){const g=r[Tt],v=g.data[t+8],z=lc(v,g,s,null==a?Tr(v)&&$s:a!=g&&0!=(3&v.type),c&qt.Host&&d===v);return null!==z?Io(r,g,z,v):Rr}function lc(t,r,s,a,c){const d=t.providerIndexes,g=r.data,v=1048575&d,b=t.directiveStart,z=d>>20,ve=c?v+z:t.directiveEnd;for(let Se=a?v:v+z;Se<ve;Se++){const it=g[Se];if(Se<b&&s===it||Se>=b&&it.type===s)return Se}if(c){const Se=g[b];if(Se&&es(Se)&&Se.type===s)return b}return null}function Io(t,r,s,a){let c=t[s];const d=r.data;if(function Pu(t){return t instanceof Wa}(c)){const g=c;g.resolving&&function ft(t,r){const s=r?`. Dependency path: ${r.join(" > ")} > ${t}`:"";throw new Ae(-200,`Circular dependency in DI detected for ${t}${s}`)}(function He(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Ue(t)}(d[s]));const v=ku(g.canSeeViewProviders);g.resolving=!0;const k=g.injectImpl?$n(g.injectImpl):null;Me(t,a,qt.Default);try{c=t[s]=g.factory(void 0,d,t,a),r.firstCreatePass&&s>=a.directiveStart&&function Qc(t,r,s){const{ngOnChanges:a,ngOnInit:c,ngDoCheck:d}=r.type.prototype;if(a){const g=nr(r);(s.preOrderHooks??=[]).push(t,g),(s.preOrderCheckHooks??=[]).push(t,g)}c&&(s.preOrderHooks??=[]).push(0-t,c),d&&((s.preOrderHooks??=[]).push(t,d),(s.preOrderCheckHooks??=[]).push(t,d))}(s,d[s],r)}finally{null!==k&&$n(k),ku(v),g.resolving=!1,sr()}}return c}function ia(t,r,s){return!!(s[r+(t>>Pl)]&1<<t)}function va(t,r){return!(t&qt.Self||t&qt.Host&&r)}class Vi{constructor(r,s){this._tNode=r,this._lView=s}get(r,s,a){return fo(this._tNode,this._lView,r,un(a),s)}}function kl(){return new Vi(_i(),ut())}function Do(t){return Ce(()=>{const r=t.prototype.constructor,s=r[Hi]||fu(r),a=Object.prototype;let c=Object.getPrototypeOf(t.prototype).constructor;for(;c&&c!==a;){const d=c[Hi]||fu(c);if(d&&d!==s)return d;c=Object.getPrototypeOf(c)}return d=>new d})}function fu(t){return Ut(t)?()=>{const r=fu(Ve(t));return r&&r()}:Li(t)}function Ll(t){const r=t[Tt],s=r.type;return 2===s?r.declTNode:1===s?t[Wr]:null}function Zc(t){return function Vo(t,r){if("class"===r)return t.classes;if("style"===r)return t.styles;const s=t.attrs;if(s){const a=s.length;let c=0;for(;c<a;){const d=s[c];if(eo(d))break;if(0===d)c+=2;else if("number"==typeof d)for(c++;c<a&&"string"==typeof s[c];)c++;else{if(d===r)return s[c+1];c+=2}}}return null}(_i(),t)}const Za="__parameters__";function te(t,r,s){return Ce(()=>{const a=function L(t){return function(...s){if(t){const a=t(...s);for(const c in a)this[c]=a[c]}}}(r);function c(...d){if(this instanceof c)return a.apply(this,d),this;const g=new c(...d);return v.annotation=g,v;function v(b,k,z){const se=b.hasOwnProperty(Za)?b[Za]:Object.defineProperty(b,Za,{value:[]})[Za];for(;se.length<=z;)se.push(null);return(se[z]=se[z]||[]).push(g),b}}return s&&(c.prototype=Object.create(s.prototype)),c.prototype.ngMetadataName=t,c.annotationCls=c,c})}function hc(t,r){t.forEach(s=>Array.isArray(s)?hc(s,r):r(s))}function Lh(t,r,s){r>=t.length?t.push(s):t.splice(r,0,s)}function fc(t,r){return r>=t.length-1?t.pop():t.splice(r,1)[0]}function pc(t,r){const s=[];for(let a=0;a<t;a++)s.push(r);return s}function Ns(t,r,s){let a=Ea(t,r);return a>=0?t[1|a]=s:(a=~a,function Ld(t,r,s,a){let c=t.length;if(c==r)t.push(s,a);else if(1===c)t.push(a,t[0]),t[0]=s;else{for(c--,t.push(t[c-1],t[c]);c>r;)t[c]=t[c-2],c--;t[r]=s,t[r+1]=a}}(t,a,r,s)),a}function La(t,r){const s=Ea(t,r);if(s>=0)return t[1|s]}function Ea(t,r){return function Jc(t,r,s){let a=0,c=t.length>>s;for(;c!==a;){const d=a+(c-a>>1),g=t[d<<s];if(r===g)return d<<s;g>r?c=d:a=d+1}return~(c<<s)}(t,r,1)}const tu=Hr(te("Optional"),8),yc=Hr(te("SkipSelf"),4);function Wl(t){return 128==(128&t.flags)}var Bd=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Bd||{});const mp=/^>|^->|<!--|-->|--!>|<!-$/g,rl=/(<|>)/g,ru="\u200b$1\u200b";const jd=new Map;let yp=0;const p="__ngContext__";function C(t,r){fr(r)?(t[p]=r[no],function Gh(t){jd.set(t[no],t)}(r)):t[p]=r}let wa;function wc(t,r){return wa(t,r)}function $u(t){const r=t[rn];return yi(r)?r[rn]:r}function Kl(t){return Wd(t[Us])}function ql(t){return Wd(t[ri])}function Wd(t){for(;null!==t&&!yi(t);)t=t[ri];return t}function Ic(t,r,s,a,c){if(null!=a){let d,g=!1;yi(a)?d=a:fr(a)&&(g=!0,a=a[cr]);const v=Yt(a);0===t&&null!==s?null==c?Xh(r,s,v):iu(r,s,v,c||null,!0):1===t&&null!==s?iu(r,s,v,c||null,!0):2===t?function Va(t,r,s){const a=Xd(t,r);a&&function wm(t,r,s,a){t.removeChild(r,s,a)}(t,a,r,s)}(r,v,g):3===t&&r.destroyNode(v),null!=d&&function ol(t,r,s,a,c){const d=s[hs];d!==Yt(s)&&Ic(r,t,a,d,c);for(let v=Dr;v<s.length;v++){const b=s[v];Yl(b[Tt],b,t,r,a,d)}}(r,t,d,s,c)}}function Tc(t,r){return t.createComment(function zh(t){return t.replace(mp,r=>r.replace(rl,ru))}(r))}function Kd(t,r,s){return t.createElement(r,s)}function qh(t,r){const s=t[Si],a=s.indexOf(r);Kc(r),s.splice(a,1)}function Qd(t,r){if(t.length<=Dr)return;const s=Dr+r,a=t[s];if(a){const c=a[Mo];null!==c&&c!==t&&qh(c,a),r>0&&(t[s-1][ri]=a[ri]);const d=fc(t,Dr+r);!function Av(t,r){Yl(t,r,r[an],2,null,null),r[cr]=null,r[Wr]=null}(a[Tt],a);const g=d[mi];null!==g&&g.detachView(d[Tt]),a[rn]=null,a[ri]=null,a[nn]&=-129}return a}function sl(t,r){if(!(256&r[nn])){const s=r[an];r[ss]&&xa(r[ss]),r[Ko]&&xa(r[Ko]),s.destroyNode&&Yl(t,r,s,3,null,null),function mm(t){let r=t[Us];if(!r)return Qh(t[Tt],t);for(;r;){let s=null;if(fr(r))s=r[Us];else{const a=r[Dr];a&&(s=a)}if(!s){for(;r&&!r[ri]&&r!==t;)fr(r)&&Qh(r[Tt],r),r=r[rn];null===r&&(r=t),fr(r)&&Qh(r[Tt],r),s=r&&r[ri]}r=s}}(r)}}function Qh(t,r){if(!(256&r[nn])){r[nn]&=-129,r[nn]|=256,function vm(t,r){let s;if(null!=t&&null!=(s=t.destroyHooks))for(let a=0;a<s.length;a+=2){const c=r[s[a]];if(!(c instanceof Wa)){const d=s[a+1];if(Array.isArray(d))for(let g=0;g<d.length;g+=2){const v=c[d[g]],b=d[g+1];Ft(4,v,b);try{b.call(v)}finally{Ft(5,v,b)}}else{Ft(4,c,d);try{d.call(c)}finally{Ft(5,c,d)}}}}}(t,r),function ym(t,r){const s=t.cleanup,a=r[Is];if(null!==s)for(let d=0;d<s.length-1;d+=2)if("string"==typeof s[d]){const g=s[d+3];g>=0?a[g]():a[-g].unsubscribe(),d+=2}else s[d].call(a[s[d+1]]);null!==a&&(r[Is]=null);const c=r[di];if(null!==c){r[di]=null;for(let d=0;d<c.length;d++)(0,c[d])()}}(t,r),1===r[Tt].type&&r[an].destroy();const s=r[Mo];if(null!==s&&yi(r[rn])){s!==r[rn]&&qh(s,r);const a=r[mi];null!==a&&a.detachView(t)}!function Wh(t){jd.delete(t[no])}(r)}}function _p(t,r,s){return function _m(t,r,s){let a=r;for(;null!==a&&40&a.type;)a=(r=a).parent;if(null===a)return s[cr];{const{componentOffset:c}=a;if(c>-1){const{encapsulation:d}=t.data[a.directiveStart+c];if(d===Lt.None||d===Lt.Emulated)return null}return mt(a,s)}}(t,r.parent,s)}function iu(t,r,s,a,c){t.insertBefore(r,s,a,c)}function Xh(t,r,s){t.appendChild(r,s)}function Em(t,r,s,a,c){null!==a?iu(t,r,s,a,c):Xh(t,r,s)}function Xd(t,r){return t.parentNode(r)}function Ep(t,r,s){return Tm(t,r,s)}let wp,Zl,cl,Zd,Tm=function Dm(t,r,s){return 40&t.type?mt(t,s):null};function zu(t,r,s,a){const c=_p(t,a,r),d=r[an],v=Ep(a.parent||r[Wr],a,r);if(null!=c)if(Array.isArray(s))for(let b=0;b<s.length;b++)Em(d,c,s[b],v,!1);else Em(d,c,s,v,!1);void 0!==wp&&wp(d,a,r,s,c)}function Xl(t,r){if(null!==r){const s=r.type;if(3&s)return mt(r,t);if(4&s)return Yh(-1,t[r.index]);if(8&s){const a=r.child;if(null!==a)return Xl(t,a);{const c=t[r.index];return yi(c)?Yh(-1,c):Yt(c)}}if(32&s)return wc(r,t)()||Yt(t[r.index]);{const a=Cm(t,r);return null!==a?Array.isArray(a)?a[0]:Xl($u(t[hr]),a):Xl(t,r.next)}}return null}function Cm(t,r){return null!==r?t[hr][Wr].projection[r.projection]:null}function Yh(t,r){const s=Dr+t+1;if(s<r.length){const a=r[s],c=a[Tt].firstChild;if(null!==c)return Xl(a,c)}return r[hs]}function Dp(t,r,s,a,c,d,g){for(;null!=s;){const v=a[s.index],b=s.type;if(g&&0===r&&(v&&C(Yt(v),a),s.flags|=2),32!=(32&s.flags))if(8&b)Dp(t,r,s.child,a,c,d,!1),Ic(r,t,c,v,d);else if(32&b){const k=wc(s,a);let z;for(;z=k();)Ic(r,t,c,z,d);Ic(r,t,c,v,d)}else 16&b?Cc(t,r,a,s,c,d):Ic(r,t,c,v,d);s=g?s.projectionNext:s.next}}function Yl(t,r,s,a,c,d){Dp(s,a,t.firstChild,r,c,d,!1)}function Cc(t,r,s,a,c,d){const g=s[hr],b=g[Wr].projection[a.projection];if(Array.isArray(b))for(let k=0;k<b.length;k++)Ic(r,t,c,b[k],d);else{let k=b;const z=g[rn];Wl(a)&&(k.flags|=128),Dp(t,r,k,z,c,d,!0)}}function Tp(t,r,s){""===s?t.removeAttribute(r,"class"):t.setAttribute(r,"class",s)}function Jh(t,r,s){const{mergedAttrs:a,classes:c,styles:d}=s;null!==a&&Pi(t,r,a),null!==c&&Tp(t,r,c),null!==d&&function Yd(t,r,s){t.setAttribute(r,"style",s)}(t,r,d)}function ul(t){return function ef(){if(void 0===Zl&&(Zl=null,In.trustedTypes))try{Zl=In.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Zl}()?.createHTML(t)||t}function ll(t){cl=t}function ed(t){return function Cp(){if(void 0===Zd&&(Zd=null,In.trustedTypes))try{Zd=In.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Zd}()?.createScriptURL(t)||t}class Ia{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${On})`}}class bc extends Ia{getTypeName(){return"HTML"}}class Mm extends Ia{getTypeName(){return"Style"}}class xv extends Ia{getTypeName(){return"Script"}}class Nm extends Ia{getTypeName(){return"URL"}}class Ov extends Ia{getTypeName(){return"ResourceURL"}}function su(t){return t instanceof Ia?t.changingThisBreaksApplicationSecurity:t}function Sc(t,r){const s=function Rm(t){return t instanceof Ia&&t.getTypeName()||null}(t);if(null!=s&&s!==r){if("ResourceURL"===s&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${s} (see ${On})`)}return s===r}function bp(t){return new bc(t)}function Sp(t){return new Mm(t)}function xm(t){return new xv(t)}function nf(t){return new Nm(t)}function Pv(t){return new Ov(t)}class sf{constructor(r){this.inertDocumentHelper=r}getInertBodyElement(r){r="<body><remove></remove>"+r;try{const s=(new window.DOMParser).parseFromString(ul(r),"text/html").body;return null===s?this.inertDocumentHelper.getInertBodyElement(r):(s.removeChild(s.firstChild),s)}catch{return null}}}class kv{constructor(r){this.defaultDoc=r,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(r){const s=this.inertDocument.createElement("template");return s.innerHTML=ul(r),s}}const Jd=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function dl(t){return(t=String(t)).match(Jd)?t:"unsafe:"+t}function Da(t){const r={};for(const s of t.split(","))r[s]=!0;return r}function td(...t){const r={};for(const s of t)for(const a in s)s.hasOwnProperty(a)&&(r[a]=!0);return r}const Ap=Da("area,br,col,hr,img,wbr"),po=Da("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Mp=Da("rp,rt"),mu=td(Ap,td(po,Da("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),td(Mp,Da("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),td(Mp,po)),Ac=Da("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Pm=td(Ac,Da("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Da("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),rd=Da("script,style,template");class km{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(r){let s=r.firstChild,a=!0;for(;s;)if(s.nodeType===Node.ELEMENT_NODE?a=this.startElement(s):s.nodeType===Node.TEXT_NODE?this.chars(s.nodeValue):this.sanitizedSomething=!0,a&&s.firstChild)s=s.firstChild;else for(;s;){s.nodeType===Node.ELEMENT_NODE&&this.endElement(s);let c=this.checkClobberedElement(s,s.nextSibling);if(c){s=c;break}s=this.checkClobberedElement(s,s.parentNode)}return this.buf.join("")}startElement(r){const s=r.nodeName.toLowerCase();if(!mu.hasOwnProperty(s))return this.sanitizedSomething=!0,!rd.hasOwnProperty(s);this.buf.push("<"),this.buf.push(s);const a=r.attributes;for(let c=0;c<a.length;c++){const d=a.item(c),g=d.name,v=g.toLowerCase();if(!Pm.hasOwnProperty(v)){this.sanitizedSomething=!0;continue}let b=d.value;Ac[v]&&(b=dl(b)),this.buf.push(" ",g,'="',Fm(b),'"')}return this.buf.push(">"),!0}endElement(r){const s=r.nodeName.toLowerCase();mu.hasOwnProperty(s)&&!Ap.hasOwnProperty(s)&&(this.buf.push("</"),this.buf.push(s),this.buf.push(">"))}chars(r){this.buf.push(Fm(r))}checkClobberedElement(r,s){if(s&&(r.compareDocumentPosition(s)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${r.outerHTML}`);return s}}const Mc=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Lm=/([^\#-~ |!])/g;function Fm(t){return t.replace(/&/g,"&amp;").replace(Mc,function(r){return"&#"+(1024*(r.charCodeAt(0)-55296)+(r.charCodeAt(1)-56320)+65536)+";"}).replace(Lm,function(r){return"&#"+r.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let eh;function Um(t,r){let s=null;try{eh=eh||function rf(t){const r=new kv(t);return function Om(){try{return!!(new window.DOMParser).parseFromString(ul(""),"text/html")}catch{return!1}}()?new sf(r):r}(t);let a=r?String(r):"";s=eh.getInertBodyElement(a);let c=5,d=a;do{if(0===c)throw new Error("Failed to sanitize html because the input is unstable");c--,a=d,d=s.innerHTML,s=eh.getInertBodyElement(a)}while(a!==d);return ul((new km).sanitizeChildren(af(s)||s))}finally{if(s){const a=af(s)||s;for(;a.firstChild;)a.removeChild(a.firstChild)}}}function af(t){return"content"in t&&function Uv(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var yu=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(yu||{});function xp(t){const r=nh();return r?r.sanitize(yu.URL,t)||"":Sc(t,"URL")?su(t):dl(Ue(t))}function Bm(t){const r=nh();if(r)return ed(r.sanitize(yu.RESOURCE_URL,t)||"");if(Sc(t,"ResourceURL"))return ed(su(t));throw new Ae(904,!1)}function Op(t,r,s){return function $m(t,r){return"src"===r&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===r&&("base"===t||"link"===t)?Bm:xp}(r,s)(t)}function nh(){const t=ut();return t&&t[Fs].sanitizer}const rh=new Ot("ENVIRONMENT_INITIALIZER"),uf=new Ot("INJECTOR",-1),Gs=new Ot("INJECTOR_DEF_TYPES");class Pp{get(r,s=Hn){if(s===Hn){const a=new Error(`NullInjectorError: No provider for ${Te(r)}!`);throw a.name="NullInjectorError",a}return s}}function jv(...t){return{\u0275providers:zm(0,t),\u0275fromNgModule:!0}}function zm(t,...r){const s=[],a=new Set;let c;const d=g=>{s.push(g)};return hc(r,g=>{const v=g;lf(v,d,[],a)&&(c||=[],c.push(v))}),void 0!==c&&cf(c,d),s}function cf(t,r){for(let s=0;s<t.length;s++){const{ngModule:a,providers:c}=t[s];id(c,d=>{r(d,a)})}}function lf(t,r,s,a){if(!(t=Ve(t)))return!1;let c=null,d=qr(t);const g=!d&&En(t);if(d||g){if(g&&!g.standalone)return!1;c=t}else{const b=t.ngModule;if(d=qr(b),!d)return!1;c=b}const v=a.has(c);if(g){if(v)return!1;if(a.add(c),g.dependencies){const b="function"==typeof g.dependencies?g.dependencies():g.dependencies;for(const k of b)lf(k,r,s,a)}}else{if(!d)return!1;{if(null!=d.imports&&!v){let k;a.add(c);try{hc(d.imports,z=>{lf(z,r,s,a)&&(k||=[],k.push(z))})}finally{}void 0!==k&&cf(k,r)}if(!v){const k=Li(c)||(()=>new c);r({provide:c,useFactory:k,deps:Rt},c),r({provide:Gs,useValue:c,multi:!0},c),r({provide:rh,useValue:()=>Vt(c),multi:!0},c)}const b=d.providers;if(null!=b&&!v){const k=t;id(b,z=>{r(z,k)})}}}return c!==t&&void 0!==t.providers}function id(t,r){for(let s of t)kt(s)&&(s=s.\u0275providers),Array.isArray(s)?id(s,r):r(s)}const $v=ie({provide:String,useValue:ie});function df(t){return null!==t&&"object"==typeof t&&$v in t}function ou(t){return"function"==typeof t}const ih=new Ot("Set Injector scope."),sd={},Gm={};let Lp;function sh(){return void 0===Lp&&(Lp=new Pp),Lp}class au{}class Nc extends au{get destroyed(){return this._destroyed}constructor(r,s,a,c){super(),this.parent=s,this.source=a,this.scopes=c,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,cd(r,g=>this.processProvider(g)),this.records.set(uf,od(void 0,this)),c.has("environment")&&this.records.set(au,od(void 0,this));const d=this.records.get(ih);null!=d&&"string"==typeof d.value&&this.scopes.add(d.value),this.injectorDefTypes=new Set(this.get(Gs.multi,Rt,qt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const s of this._ngOnDestroyHooks)s.ngOnDestroy();const r=this._onDestroyHooks;this._onDestroyHooks=[];for(const s of r)s()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(r){return this.assertNotDestroyed(),this._onDestroyHooks.push(r),()=>this.removeOnDestroy(r)}runInContext(r){this.assertNotDestroyed();const s=tt(this),a=$n(void 0);try{return r()}finally{tt(s),$n(a)}}get(r,s=Hn,a=qt.Default){if(this.assertNotDestroyed(),r.hasOwnProperty(cs))return r[cs](this);a=un(a);const d=tt(this),g=$n(void 0);try{if(!(a&qt.SkipSelf)){let b=this.records.get(r);if(void 0===b){const k=function Vp(t){return"function"==typeof t||"object"==typeof t&&t instanceof Ot}(r)&&Jn(r);b=k&&this.injectableDefInScope(k)?od(Fp(r),sd):null,this.records.set(r,b)}if(null!=b)return this.hydrate(r,b)}return(a&qt.Self?sh():this.parent).get(r,s=a&qt.Optional&&s===Hn?null:s)}catch(v){if("NullInjectorError"===v.name){if((v[Ir]=v[Ir]||[]).unshift(Te(r)),d)throw v;return function gi(t,r,s,a){const c=t[Ir];throw r[q]&&c.unshift(r[q]),t.message=function qe(t,r,s,a=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let c=Te(r);if(Array.isArray(r))c=r.map(Te).join(" -> ");else if("object"==typeof r){let d=[];for(let g in r)if(r.hasOwnProperty(g)){let v=r[g];d.push(g+":"+("string"==typeof v?JSON.stringify(v):Te(v)))}c=`{${d.join(", ")}}`}return`${s}${a?"("+a+")":""}[${c}]: ${t.replace(G,"\n  ")}`}("\n"+t.message,c,s,a),t.ngTokenPath=c,t[Ir]=null,t}(v,r,"R3InjectorError",this.source)}throw v}finally{$n(g),tt(d)}}resolveInjectorInitializers(){const r=tt(this),s=$n(void 0);try{const c=this.get(rh.multi,Rt,qt.Self);for(const d of c)d()}finally{tt(r),$n(s)}}toString(){const r=[],s=this.records;for(const a of s.keys())r.push(Te(a));return`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ae(205,!1)}processProvider(r){let s=ou(r=Ve(r))?r:Ve(r&&r.provide);const a=function Hv(t){return df(t)?od(void 0,t.useValue):od(Up(t),sd)}(r);if(ou(r)||!0!==r.multi)this.records.get(s);else{let c=this.records.get(s);c||(c=od(void 0,sd,!0),c.factory=()=>ar(c.multi),this.records.set(s,c)),s=r,c.multi.push(r)}this.records.set(s,a)}hydrate(r,s){return s.value===sd&&(s.value=Gm,s.value=s.factory()),"object"==typeof s.value&&s.value&&function ud(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(s.value)&&this._ngOnDestroyHooks.add(s.value),s.value}injectableDefInScope(r){if(!r.providedIn)return!1;const s=Ve(r.providedIn);return"string"==typeof s?"any"===s||this.scopes.has(s):this.injectorDefTypes.has(s)}removeOnDestroy(r){const s=this._onDestroyHooks.indexOf(r);-1!==s&&this._onDestroyHooks.splice(s,1)}}function Fp(t){const r=Jn(t),s=null!==r?r.factory:Li(t);if(null!==s)return s;if(t instanceof Ot)throw new Ae(204,!1);if(t instanceof Function)return function Wm(t){const r=t.length;if(r>0)throw pc(r,"?"),new Ae(204,!1);const s=function Rn(t){return t&&(t[er]||t[pi])||null}(t);return null!==s?()=>s.factory(t):()=>new t}(t);throw new Ae(204,!1)}function Up(t,r,s){let a;if(ou(t)){const c=Ve(t);return Li(c)||Fp(c)}if(df(t))a=()=>Ve(t.useValue);else if(function ff(t){return!(!t||!t.useFactory)}(t))a=()=>t.useFactory(...ar(t.deps||[]));else if(function hf(t){return!(!t||!t.useExisting)}(t))a=()=>Vt(Ve(t.useExisting));else{const c=Ve(t&&(t.useClass||t.provide));if(!function ad(t){return!!t.deps}(t))return Li(c)||Fp(c);a=()=>new c(...ar(t.deps))}return a}function od(t,r,s=!1){return{factory:t,value:r,multi:s?[]:void 0}}function cd(t,r){for(const s of t)Array.isArray(s)?cd(s,r):s&&kt(s)?cd(s.\u0275providers,r):r(s)}const Bp=new Ot("AppId",{providedIn:"root",factory:()=>Km}),Km="ng",jp=new Ot("Platform Initializer"),$p=new Ot("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),zv=new Ot("AnimationModuleType"),Hp=new Ot("CSP nonce",{providedIn:"root",factory:()=>function Jl(){if(void 0!==cl)return cl;if(typeof document<"u")return document;throw new Ae(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let hd=(t,r,s)=>null;function Kp(t,r,s=!1){return hd(t,r,s)}class fh{}class _f{}class xc{resolveComponentFactory(r){throw function ey(t){const r=Error(`No component factory found for ${Te(t)}.`);return r.ngComponent=t,r}(r)}}let ph=(()=>{class t{static{this.NULL=new xc}}return t})();function Qv(){return Oc(_i(),ut())}function Oc(t,r){return new gh(mt(t,r))}let gh=(()=>{class t{constructor(s){this.nativeElement=s}static{this.__NG_ELEMENT_ID__=Qv}}return t})();function Qp(t){return t instanceof gh?t.nativeElement:t}class ny{}let Xp=(()=>{class t{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>function wf(){const t=ut(),s=Ie(_i().index,t);return(fr(s)?s:t)[an]}()}}return t})(),Yp=(()=>{class t{static{this.\u0275prov=nt({token:t,providedIn:"root",factory:()=>null})}}return t})();class Zp{constructor(r){this.full=r,this.major=r.split(".")[0],this.minor=r.split(".")[1],this.patch=r.split(".").slice(2).join(".")}}const yl=new Zp("16.2.12"),mh={};function Tf(t,r=null,s=null,a){const c=ng(t,r,s,a);return c.resolveInjectorInitializers(),c}function ng(t,r=null,s=null,a,c=new Set){const d=[s||Rt,jv(t)];return a=a||("object"==typeof t?void 0:Te(t)),new Nc(d,r||sh(),a||null,c)}let Ta=(()=>{class t{static{this.THROW_IF_NOT_FOUND=Hn}static{this.NULL=new Pp}static create(s,a){if(Array.isArray(s))return Tf({name:""},a,s,"");{const c=s.name??"";return Tf({name:c},s.parent,s.providers,c)}}static{this.\u0275prov=nt({token:t,providedIn:"any",factory:()=>Vt(uf)})}static{this.__NG_ELEMENT_ID__=-1}}return t})();function Pc(t){return t.ngOriginalError}class Ho{constructor(){this._console=console}handleError(r){const s=this._findOriginalError(r);this._console.error("ERROR",r),s&&this._console.error("ORIGINAL ERROR",s)}_findOriginalError(r){let s=r&&Pc(r);for(;s&&Pc(s);)s=Pc(s);return s||null}}function kc(t){return r=>{setTimeout(t,void 0,r)}}const vu=class sy extends M.B{constructor(r=!1){super(),this.__isAsync=r}emit(r){super.next(r)}subscribe(r,s,a){let c=r,d=s||(()=>null),g=a;if(r&&"object"==typeof r){const b=r;c=b.next?.bind(b),d=b.error?.bind(b),g=b.complete?.bind(b)}this.__isAsync&&(d=kc(d),c&&(c=kc(c)),g&&(g=kc(g)));const v=super.subscribe({next:c,error:d,complete:g});return r instanceof ue.yU&&r.add(v),v}};function oy(...t){}class Rs{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:a=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new vu(!1),this.onMicrotaskEmpty=new vu(!1),this.onStable=new vu(!1),this.onError=new vu(!1),typeof Zone>"u")throw new Ae(908,!1);Zone.assertZonePatched();const c=this;c._nesting=0,c._outer=c._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(c._inner=c._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(c._inner=c._inner.fork(Zone.longStackTraceZoneSpec)),c.shouldCoalesceEventChangeDetection=!a&&s,c.shouldCoalesceRunChangeDetection=a,c.lastRequestAnimationFrameId=-1,c.nativeRequestAnimationFrame=function rg(){const t="function"==typeof In.requestAnimationFrame;let r=In[t?"requestAnimationFrame":"setTimeout"],s=In[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&r&&s){const a=r[Zone.__symbol__("OriginalDelegate")];a&&(r=a);const c=s[Zone.__symbol__("OriginalDelegate")];c&&(s=c)}return{nativeRequestAnimationFrame:r,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function og(t){const r=()=>{!function Jv(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(In,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,yh(t),t.isCheckStableRunning=!0,sg(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),yh(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,a,c,d,g,v)=>{if(function cy(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(v))return s.invokeTask(c,d,g,v);try{return uy(t),s.invokeTask(c,d,g,v)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===d.type||t.shouldCoalesceRunChangeDetection)&&r(),ag(t)}},onInvoke:(s,a,c,d,g,v,b)=>{try{return uy(t),s.invoke(c,d,g,v,b)}finally{t.shouldCoalesceRunChangeDetection&&r(),ag(t)}},onHasTask:(s,a,c,d)=>{s.hasTask(c,d),a===c&&("microTask"==d.change?(t._hasPendingMicrotasks=d.microTask,yh(t),sg(t)):"macroTask"==d.change&&(t.hasPendingMacrotasks=d.macroTask))},onHandleError:(s,a,c,d)=>(s.handleError(c,d),t.runOutsideAngular(()=>t.onError.emit(d)),!1)})}(c)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Rs.isInAngularZone())throw new Ae(909,!1)}static assertNotInAngularZone(){if(Rs.isInAngularZone())throw new Ae(909,!1)}run(r,s,a){return this._inner.run(r,s,a)}runTask(r,s,a,c){const d=this._inner,g=d.scheduleEventTask("NgZoneEvent: "+c,r,ig,oy,oy);try{return d.runTask(g,s,a)}finally{d.cancelTask(g)}}runGuarded(r,s,a){return this._inner.runGuarded(r,s,a)}runOutsideAngular(r){return this._outer.run(r)}}const ig={};function sg(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function yh(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function uy(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function ag(t){t._nesting--,sg(t)}class e_{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new vu,this.onMicrotaskEmpty=new vu,this.onStable=new vu,this.onError=new vu}run(r,s,a){return r.apply(s,a)}runGuarded(r,s,a){return r.apply(s,a)}runOutsideAngular(r){return r()}runTask(r,s,a,c){return r.apply(s,a)}}const ug=new Ot("",{providedIn:"root",factory:cg});function cg(){const t=zt(Rs);let r=!0;const s=new re.c(c=>{r=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{c.next(r),c.complete()})}),a=new re.c(c=>{let d;t.runOutsideAngular(()=>{d=t.onStable.subscribe(()=>{Rs.assertNotInAngularZone(),queueMicrotask(()=>{!r&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(r=!0,c.next(!0))})})});const g=t.onUnstable.subscribe(()=>{Rs.assertInAngularZone(),r&&(r=!1,t.runOutsideAngular(()=>{c.next(!1)}))});return()=>{d.unsubscribe(),g.unsubscribe()}});return(0,ye.h)(s,a.pipe((0,ee.u)()))}function Wu(t){return t instanceof Function?t():t}let hg=(()=>{class t{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static{this.\u0275prov=nt({token:t,providedIn:"root",factory:()=>new t})}}return t})();function vl(t){for(;t;){t[nn]|=64;const r=$u(t);if(tr(t)&&!r)return t;t=r}return null}const fg=new Ot("",{providedIn:"root",factory:()=>!1});let yd=null;function yy(t,r){return t[r]??vy()}function Mf(t,r){const s=vy();s.producerNode?.length&&(t[r]=yd,s.lView=t,yd=Nf())}const Ku={...Ss,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{vl(t.lView)},lView:null};function Nf(){return Object.create(Ku)}function vy(){return yd??=Nf(),yd}const Bn={};function _y(t){Ey(qn(),ut(),Ni()+t,!1)}function Ey(t,r,s,a){if(!a)if(3==(3&r[nn])){const d=t.preOrderCheckHooks;null!==d&&ac(r,d,s)}else{const d=t.preOrderHooks;null!==d&&Xc(r,d,0,s)}ms(s)}function Fc(t,r=qt.Default){const s=ut();return null===s?Vt(t,r):fo(_i(),s,Ve(t),r)}function wy(){throw new Error("invalid")}function Rf(t,r,s,a,c,d,g,v,b,k,z){const se=r.blueprint.slice();return se[cr]=c,se[nn]=140|a,(null!==k||t&&2048&t[nn])&&(se[nn]|=2048),Oa(se),se[rn]=se[ki]=t,se[Kr]=s,se[Fs]=g||t&&t[Fs],se[an]=v||t&&t[an],se[Wi]=b||t&&t[Wi]||null,se[Wr]=d,se[no]=function il(){return yp++}(),se[ro]=z,se[la]=k,se[hr]=2==r.type?t[hr]:se,se}function Uc(t,r,s,a,c){let d=t.data[r];if(null===d)d=function yg(t,r,s,a,c){const d=ic(),g=Ga(),b=t.data[r]=function Ig(t,r,s,a,c,d){let g=r?r.injectorIndex:-1,v=0;return Zt()&&(v|=128),{type:s,index:a,insertBeforeIndex:null,injectorIndex:g,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:v,providerIndexes:0,value:c,attrs:d,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,g?d:d&&d.parent,s,r,a,c);return null===t.firstChild&&(t.firstChild=b),null!==d&&(g?null==d.child&&null!==b.parent&&(d.child=b):null===d.next&&(d.next=b,b.prev=d)),b}(t,r,s,a,c),function xl(){return Tn.lFrame.inI18n}()&&(d.flags|=32);else if(64&d.type){d.type=s,d.value=a,d.attrs=c;const g=function co(){const t=Tn.lFrame,r=t.currentTNode;return t.isParent?r:r.parent}();d.injectorIndex=null===g?-1:g.injectorIndex}return Zs(d,!0),d}function El(t,r,s,a){if(0===s)return-1;const c=r.length;for(let d=0;d<s;d++)r.push(a),t.blueprint.push(a),t.data.push(null);return c}function vg(t,r,s,a,c){const d=yy(r,ss),g=Ni(),v=2&a;try{ms(-1),v&&r.length>Ln&&Ey(t,r,Ln,!1),Ft(v?2:0,c);const k=v?d:null,z=fi(k);try{null!==k&&(k.dirty=!1),s(a,c)}finally{ao(k,z)}}finally{v&&null===r[ss]&&Mf(r,ss),ms(g),Ft(v?3:1,c)}}function _h(t,r,s){if(fs(r)){const a=Xr(null);try{const d=r.directiveEnd;for(let g=r.directiveStart;g<d;g++){const v=t.data[g];v.contentQueries&&v.contentQueries(1,s[g],g)}}finally{Xr(a)}}}function xf(t,r,s){ai()&&(function Ty(t,r,s,a){const c=s.directiveStart,d=s.directiveEnd;Tr(s)&&function Sy(t,r,s){const a=mt(r,t),c=Iy(s);let g=16;s.signals?g=4096:s.onPush&&(g=64);const v=Dh(t,Rf(t,c,null,g,a,r,null,t[Fs].rendererFactory.createRenderer(a,s),null,null,null));t[r.index]=v}(r,s,t.data[c+s.componentOffset]),t.firstCreatePass||na(s,r),C(a,r);const g=s.initialInputs;for(let v=c;v<d;v++){const b=t.data[v],k=Io(r,t,v,s);C(k,r),null!==g&&d_(0,v-c,k,b,0,g),es(b)&&(Ie(s.index,r)[Kr]=Io(r,t,v,s))}}(t,r,s,mt(s,r)),64==(64&s.flags)&&Lf(t,r,s))}function _g(t,r,s=mt){const a=r.localNames;if(null!==a){let c=r.index+1;for(let d=0;d<a.length;d+=2){const g=a[d+1],v=-1===g?s(r,t):t[g];t[c++]=v}}}function Iy(t){const r=t.tView;return null===r||r.incompleteFirstPass?t.tView=Eh(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):r}function Eh(t,r,s,a,c,d,g,v,b,k,z){const se=Ln+a,ve=se+c,Se=function o_(t,r){const s=[];for(let a=0;a<r;a++)s.push(a<t?null:Bn);return s}(se,ve),it="function"==typeof k?k():k;return Se[Tt]={type:t,blueprint:Se,template:s,queries:null,viewQuery:v,declTNode:r,data:Se.slice().fill(null,se),bindingStartIndex:se,expandoStartIndex:ve,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof d?d():d,pipeRegistry:"function"==typeof g?g():g,firstChild:null,schemas:b,consts:it,incompleteFirstPass:!1,ssrId:z}}let Of=t=>null;function Dg(t,r,s,a){for(let c in t)if(t.hasOwnProperty(c)){s=null===s?{}:s;const d=t[c];null===a?wl(s,r,c,d):a.hasOwnProperty(c)&&wl(s,r,a[c],d)}return s}function wl(t,r,s,a){t.hasOwnProperty(s)?t[s].push(r,a):t[s]=[r,a]}function Ca(t,r,s,a,c,d,g,v){const b=mt(r,s);let z,k=r.inputs;!v&&null!=k&&(z=k[a])?(Th(t,s,z,a,c),Tr(r)&&function c_(t,r){const s=Ie(r,t);16&s[nn]||(s[nn]|=64)}(s,r.index)):3&r.type&&(a=function Pf(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(a),c=null!=g?g(c,r.value||"",a):c,d.setProperty(b,a,c))}function _d(t,r,s,a){if(ai()){const c=null===a?null:{"":-1},d=function Ff(t,r){const s=t.directiveRegistry;let a=null,c=null;if(s)for(let d=0;d<s.length;d++){const g=s[d];if(Je(r,g.selectors,!1))if(a||(a=[]),es(g))if(null!==g.findHostDirectiveDefs){const v=[];c=c||new Map,g.findHostDirectiveDefs(g,v,c),a.unshift(...v,g),wh(t,r,v.length)}else a.unshift(g),wh(t,r,0);else c=c||new Map,g.findHostDirectiveDefs?.(g,a,c),a.push(g)}return null===a?null:[a,c]}(t,s);let g,v;null===d?g=v=null:[g,v]=d,null!==g&&kf(t,r,s,g,c,v),c&&function Cy(t,r,s){if(r){const a=t.localNames=[];for(let c=0;c<r.length;c+=2){const d=s[r[c+1]];if(null==d)throw new Ae(-301,!1);a.push(r[c],d)}}}(s,a,c)}s.mergedAttrs=_s(s.mergedAttrs,s.attrs)}function kf(t,r,s,a,c,d){for(let k=0;k<a.length;k++)ho(na(s,r),t,a[k].type);!function by(t,r,s){t.flags|=1,t.directiveStart=r,t.directiveEnd=r+s,t.providerIndexes=r}(s,t.data.length,a.length);for(let k=0;k<a.length;k++){const z=a[k];z.providersResolver&&z.providersResolver(z)}let g=!1,v=!1,b=El(t,r,a.length,null);for(let k=0;k<a.length;k++){const z=a[k];s.mergedAttrs=_s(s.mergedAttrs,z.hostAttrs),Sg(t,s,r,b,z),Uf(b,z,c),null!==z.contentQueries&&(s.flags|=4),(null!==z.hostBindings||null!==z.hostAttrs||0!==z.hostVars)&&(s.flags|=64);const se=z.type.prototype;!g&&(se.ngOnChanges||se.ngOnInit||se.ngDoCheck)&&((t.preOrderHooks??=[]).push(s.index),g=!0),!v&&(se.ngOnChanges||se.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(s.index),v=!0),b++}!function Dy(t,r,s){const c=r.directiveEnd,d=t.data,g=r.attrs,v=[];let b=null,k=null;for(let z=r.directiveStart;z<c;z++){const se=d[z],ve=s?s.get(se):null,it=ve?ve.outputs:null;b=Dg(se.inputs,z,b,ve?ve.inputs:null),k=Dg(se.outputs,z,k,it);const vt=null===b||null===g||Gi(r)?null:h_(b,z,g);v.push(vt)}null!==b&&(b.hasOwnProperty("class")&&(r.flags|=8),b.hasOwnProperty("style")&&(r.flags|=16)),r.initialInputs=v,r.inputs=b,r.outputs=k}(t,s,d)}function Lf(t,r,s){const a=s.directiveStart,c=s.directiveEnd,d=s.index,g=function S(){return Tn.lFrame.currentDirectiveIndex}();try{ms(d);for(let v=a;v<c;v++){const b=t.data[v],k=r[v];y(v),(null!==b.hostBindings||0!==b.hostVars||null!==b.hostAttrs)&&bg(b,k)}}finally{ms(-1),y(g)}}function bg(t,r){null!==t.hostBindings&&t.hostBindings(1,r)}function wh(t,r,s){r.componentOffset=s,(t.components??=[]).push(r.index)}function Uf(t,r,s){if(s){if(r.exportAs)for(let a=0;a<r.exportAs.length;a++)s[r.exportAs[a]]=t;es(r)&&(s[""]=t)}}function Sg(t,r,s,a,c){t.data[a]=c;const d=c.factory||(c.factory=Li(c.type)),g=new Wa(d,es(c),Fc);t.blueprint[a]=g,s[a]=g,function Tg(t,r,s,a,c){const d=c.hostBindings;if(d){let g=t.hostBindingOpCodes;null===g&&(g=t.hostBindingOpCodes=[]);const v=~r.index;(function Cg(t){let r=t.length;for(;r>0;){const s=t[--r];if("number"==typeof s&&s<0)return s}return 0})(g)!=v&&g.push(v),g.push(s,a,d)}}(t,r,a,El(t,s,c.hostVars,Bn),c)}function zo(t,r,s,a,c,d){const g=mt(t,r);!function Ih(t,r,s,a,c,d,g){if(null==d)t.removeAttribute(r,c,s);else{const v=null==g?Ue(d):g(d,a||"",c);t.setAttribute(r,c,v,s)}}(r[an],g,d,t.value,s,a,c)}function d_(t,r,s,a,c,d){const g=d[r];if(null!==g)for(let v=0;v<g.length;)Ay(a,s,g[v++],g[v++],g[v++])}function Ay(t,r,s,a,c){const d=Xr(null);try{const g=t.inputTransforms;null!==g&&g.hasOwnProperty(a)&&(c=g[a].call(r,c)),null!==t.setInput?t.setInput(r,c,s,a):r[a]=c}finally{Xr(d)}}function h_(t,r,s){let a=null,c=0;for(;c<s.length;){const d=s[c];if(0!==d)if(5!==d){if("number"==typeof d)break;if(t.hasOwnProperty(d)){null===a&&(a=[]);const g=t[d];for(let v=0;v<g.length;v+=2)if(g[v]===r){a.push(d,g[v+1],s[c+1]);break}}c+=2}else c+=2;else c+=4}return a}function Ag(t,r,s,a){return[t,!0,!1,r,null,0,a,s,null,null,null]}function My(t,r){const s=t.contentQueries;if(null!==s)for(let a=0;a<s.length;a+=2){const d=s[a+1];if(-1!==d){const g=t.data[d];K(s[a]),g.contentQueries(2,r[d],d)}}}function Dh(t,r){return t[Us]?t[to][ri]=r:t[Us]=r,t[to]=r,r}function Mg(t,r,s){K(0);const a=Xr(null);try{r(t,s)}finally{Xr(a)}}function Ny(t){return t[Is]||(t[Is]=[])}function Ry(t){return t.cleanup||(t.cleanup=[])}function Rg(t,r){const s=t[Wi],a=s?s.get(Ho,null):null;a&&a.handleError(r)}function Th(t,r,s,a,c){for(let d=0;d<s.length;){const g=s[d++],v=s[d++];Ay(t.data[g],r[g],a,v,c)}}function qu(t,r,s){const a=gr(r,t);!function Ql(t,r,s){t.setValue(r,s)}(t[an],a,s)}function xy(t,r){const s=Ie(r,t),a=s[Tt];!function Oy(t,r){for(let s=r.length;s<t.blueprint.length;s++)r.push(t.blueprint[s])}(a,s);const c=s[cr];null!==c&&null===s[ro]&&(s[ro]=Kp(c,s[Wi])),Ed(a,s,s[Kr])}function Ed(t,r,s){Pe(r);try{const a=t.viewQuery;null!==a&&Mg(1,a,s);const c=t.template;null!==c&&vg(t,r,c,1,s),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&My(t,r),t.staticViewQueries&&Mg(2,t.viewQuery,s);const d=t.components;null!==d&&function Mr(t,r){for(let s=0;s<r.length;s++)xy(t,r[s])}(r,d)}catch(a){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),a}finally{r[nn]&=-5,gs()}}let xg=(()=>{class t{constructor(){this.all=new Set,this.queue=new Map}create(s,a,c){const d=typeof Zone>"u"?null:Zone.current,g=function Ze(t,r,s){const a=Object.create(Kn);s&&(a.consumerAllowSignalWrites=!0),a.fn=t,a.schedule=r;const c=g=>{a.cleanupFn=g};return a.ref={notify:()=>_o(a),run:()=>{if(a.dirty=!1,a.hasRun&&!ii(a))return;a.hasRun=!0;const g=fi(a);try{a.cleanupFn(),a.cleanupFn=Mt,a.fn(c)}finally{ao(a,g)}},cleanup:()=>a.cleanupFn()},a.ref}(s,k=>{this.all.has(k)&&this.queue.set(k,d)},c);let v;this.all.add(g),g.notify();const b=()=>{g.cleanup(),v?.(),this.all.delete(g),this.queue.delete(g)};return v=a?.onDestroy(b),{destroy:b}}flush(){if(0!==this.queue.size)for(const[s,a]of this.queue)this.queue.delete(s),a?a.run(()=>s.run()):s.run()}get isQueueEmpty(){return 0===this.queue.size}static{this.\u0275prov=nt({token:t,providedIn:"root",factory:()=>new t})}}return t})();function Vc(t,r,s){let a=s?t.styles:null,c=s?t.classes:null,d=0;if(null!==r)for(let g=0;g<r.length;g++){const v=r[g];"number"==typeof v?d=v:1==d?c=Ge(c,v):2==d&&(a=Ge(a,v+": "+r[++g]+";"))}s?t.styles=a:t.stylesWithoutHost=a,s?t.classes=c:t.classesWithoutHost=c}function Ch(t,r,s,a,c=!1){for(;null!==s;){const d=r[s.index];null!==d&&a.push(Yt(d)),yi(d)&&us(d,a);const g=s.type;if(8&g)Ch(t,r,s.child,a);else if(32&g){const v=wc(s,r);let b;for(;b=v();)a.push(b)}else if(16&g){const v=Cm(r,s);if(Array.isArray(v))a.push(...v);else{const b=$u(r[hr]);Ch(b[Tt],b,v,a,!0)}}s=c?s.projectionNext:s.next}return a}function us(t,r){for(let s=Dr;s<t.length;s++){const a=t[s],c=a[Tt].firstChild;null!==c&&Ch(a[Tt],a,c,r)}t[hs]!==t[cr]&&r.push(t[hs])}function xs(t,r,s,a=!0){const c=r[Fs],d=c.rendererFactory,g=c.afterRenderEventManager;d.begin?.(),g?.begin();try{p_(t,r,t.template,s)}catch(b){throw a&&Rg(r,b),b}finally{d.end?.(),c.effectManager?.flush(),g?.end()}}function p_(t,r,s,a){const c=r[nn];if(256!=(256&c)){r[Fs].effectManager?.flush(),Pe(r);try{Oa(r),function Le(t){return Tn.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==s&&vg(t,r,s,2,a);const g=3==(3&c);if(g){const k=t.preOrderCheckHooks;null!==k&&ac(r,k,null)}else{const k=t.preOrderHooks;null!==k&&Xc(r,k,0,null),Od(r,0)}if(function ZE(t){for(let r=Kl(t);null!==r;r=ql(r)){if(!r[Zi])continue;const s=r[Si];for(let a=0;a<s.length;a++){Rl(s[a])}}}(r),Og(r,2),null!==t.contentQueries&&My(t,r),g){const k=t.contentCheckHooks;null!==k&&ac(r,k)}else{const k=t.contentHooks;null!==k&&Xc(r,k,1),Od(r,1)}!function mg(t,r){const s=t.hostBindingOpCodes;if(null===s)return;const a=yy(r,Ko);try{for(let c=0;c<s.length;c++){const d=s[c];if(d<0)ms(~d);else{const g=d,v=s[++c],b=s[++c];_(v,g),a.dirty=!1;const k=fi(a);try{b(2,r[g])}finally{ao(a,k)}}}}finally{null===r[Ko]&&Mf(r,Ko),ms(-1)}}(t,r);const v=t.components;null!==v&&Vf(r,v,0);const b=t.viewQuery;if(null!==b&&Mg(2,b,a),g){const k=t.viewCheckHooks;null!==k&&ac(r,k)}else{const k=t.viewHooks;null!==k&&Xc(r,k,2),Od(r,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),r[nn]&=-73,Kc(r)}finally{gs()}}}function Og(t,r){for(let s=Kl(t);null!==s;s=ql(s))for(let a=Dr;a<s.length;a++)Ly(s[a],r)}function ky(t,r,s){Ly(Ie(r,t),s)}function Ly(t,r){if(!function _r(t){return 128==(128&t[nn])}(t))return;const s=t[Tt],a=t[nn];if(80&a&&0===r||1024&a||2===r)p_(s,t,s.template,t[Kr]);else if(t[Yi]>0){Og(t,1);const c=s.components;null!==c&&Vf(t,c,1)}}function Vf(t,r,s){for(let a=0;a<r.length;a++)ky(t,r[a],s)}class bh{get rootNodes(){const r=this._lView,s=r[Tt];return Ch(s,r,s.firstChild,[])}constructor(r,s){this._lView=r,this._cdRefInjectingView=s,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Kr]}set context(r){this._lView[Kr]=r}get destroyed(){return 256==(256&this._lView[nn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[rn];if(yi(r)){const s=r[8],a=s?s.indexOf(this):-1;a>-1&&(Qd(r,a),fc(s,a))}this._attachedToViewContainer=!1}sl(this._lView[Tt],this._lView)}onDestroy(r){!function uo(t,r){if(256==(256&t[nn]))throw new Ae(911,!1);null===t[di]&&(t[di]=[]),t[di].push(r)}(this._lView,r)}markForCheck(){vl(this._cdRefInjectingView||this._lView)}detach(){this._lView[nn]&=-129}reattach(){this._lView[nn]|=128}detectChanges(){xs(this._lView[Tt],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ae(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function vp(t,r){Yl(t,r,r[an],2,null,null)}(this._lView[Tt],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new Ae(902,!1);this._appRef=r}}class JE extends bh{constructor(r){super(r),this._view=r}detectChanges(){const r=this._view;xs(r[Tt],r,r[Kr],!1)}checkNoChanges(){}get context(){return null}}class ji extends ph{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const s=En(r);return new wd(s,this.ngModule)}}function g_(t){const r=[];for(let s in t)t.hasOwnProperty(s)&&r.push({propName:t[s],templateName:s});return r}class Os{constructor(r,s){this.injector=r,this.parentInjector=s}get(r,s,a){a=un(a);const c=this.injector.get(r,mh,a);return c!==mh||s===mh?c:this.parentInjector.get(r,s,a)}}class wd extends _f{get inputs(){const r=this.componentDef,s=r.inputTransforms,a=g_(r.inputs);if(null!==s)for(const c of a)s.hasOwnProperty(c.propName)&&(c.transform=s[c.propName]);return a}get outputs(){return g_(this.componentDef.outputs)}constructor(r,s){super(),this.componentDef=r,this.ngModule=s,this.componentType=r.type,this.selector=function li(t){return t.map(Xi).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!s}create(r,s,a,c){let d=(c=c||this.ngModule)instanceof au?c:c?.injector;d&&null!==this.componentDef.getStandaloneInjector&&(d=this.componentDef.getStandaloneInjector(d)||d);const g=d?new Os(r,d):r,v=g.get(ny,null);if(null===v)throw new Ae(407,!1);const se={rendererFactory:v,sanitizer:g.get(Yp,null),effectManager:g.get(xg,null),afterRenderEventManager:g.get(hg,null)},ve=v.createRenderer(null,this.componentDef),Se=this.componentDef.selectors[0][0]||"div",it=a?function Eg(t,r,s,a){const d=a.get(fg,!1)||s===Lt.ShadowDom,g=t.selectRootElement(r,d);return function wg(t){Of(t)}(g),g}(ve,a,this.componentDef.encapsulation,g):Kd(ve,Se,function m_(t){const r=t.toLowerCase();return"svg"===r?"svg":"math"===r?"math":null}(Se)),mn=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let dt=null;null!==it&&(dt=Kp(it,g,!0));const Wn=Eh(0,null,null,1,0,null,null,null,null,null,null),mr=Rf(null,Wn,null,mn,null,null,se,ve,g,null,dt);let Oi,$a;Pe(mr);try{const Nl=this.componentDef;let rp,WE=null;Nl.findHostDirectiveDefs?(rp=[],WE=new Map,Nl.findHostDirectiveDefs(Nl,rp,WE),rp.push(Nl)):rp=[Nl];const Wb=function t0(t,r){const s=t[Tt],a=Ln;return t[a]=r,Uc(s,a,2,"#host",null)}(mr,it),Kb=function Fy(t,r,s,a,c,d,g){const v=c[Tt];!function n0(t,r,s,a){for(const c of t)r.mergedAttrs=_s(r.mergedAttrs,c.hostAttrs);null!==r.mergedAttrs&&(Vc(r,r.mergedAttrs,!0),null!==s&&Jh(a,s,r))}(a,t,r,g);let b=null;null!==r&&(b=Kp(r,c[Wi]));const k=d.rendererFactory.createRenderer(r,s);let z=16;s.signals?z=4096:s.onPush&&(z=64);const se=Rf(c,Iy(s),null,z,c[t.index],t,d,k,null,null,b);return v.firstCreatePass&&wh(v,t,a.length-1),Dh(c,se),c[t.index]=se}(Wb,it,Nl,rp,mr,se,ve);$a=fa(Wn,Ln),it&&function s0(t,r,s,a){if(a)Pi(t,s,["ng-version",yl.full]);else{const{attrs:c,classes:d}=function Ci(t){const r=[],s=[];let a=1,c=2;for(;a<t.length;){let d=t[a];if("string"==typeof d)2===c?""!==d&&r.push(d,t[++a]):8===c&&s.push(d);else{if(!pe(c))break;c=d}a++}return{attrs:r,classes:s}}(r.selectors[0]);c&&Pi(t,s,c),d&&d.length>0&&Tp(t,s,d.join(" "))}}(ve,Nl,it,a),void 0!==s&&function o0(t,r,s){const a=t.projection=[];for(let c=0;c<r.length;c++){const d=s[c];a.push(null!=d?Array.from(d):null)}}($a,this.ngContentSelectors,s),Oi=function r0(t,r,s,a,c,d){const g=_i(),v=c[Tt],b=mt(g,c);kf(v,c,g,s,null,a);for(let z=0;z<s.length;z++)C(Io(c,v,g.directiveStart+z,g),c);Lf(v,c,g),b&&C(b,c);const k=Io(c,v,g.directiveStart+g.componentOffset,g);if(t[Kr]=c[Kr]=k,null!==d)for(const z of d)z(k,r);return _h(v,g,t),k}(Kb,Nl,rp,WE,mr,[a0]),Ed(Wn,mr,null)}finally{gs()}return new e0(this.componentType,Oi,Oc($a,mr),mr,$a)}}class e0 extends fh{constructor(r,s,a,c,d){super(),this.location=a,this._rootLView=c,this._tNode=d,this.previousInputValues=null,this.instance=s,this.hostView=this.changeDetectorRef=new JE(c),this.componentType=r}setInput(r,s){const a=this._tNode.inputs;let c;if(null!==a&&(c=a[r])){if(this.previousInputValues??=new Map,this.previousInputValues.has(r)&&Object.is(this.previousInputValues.get(r),s))return;const d=this._rootLView;Th(d[Tt],d,c,r,s),this.previousInputValues.set(r,s),vl(Ie(this._tNode.index,d))}}get injector(){return new Vi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}function a0(){const t=_i();Ru(ut()[Tt],t)}function Uy(t){let r=function y_(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),s=!0;const a=[t];for(;r;){let c;if(es(t))c=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new Ae(903,!1);c=r.\u0275dir}if(c){if(s){a.push(c);const g=t;g.inputs=Bc(t.inputs),g.inputTransforms=Bc(t.inputTransforms),g.declaredInputs=Bc(t.declaredInputs),g.outputs=Bc(t.outputs);const v=c.hostBindings;v&&Dl(t,v);const b=c.viewQuery,k=c.contentQueries;if(b&&v_(t,b),k&&Il(t,k),ae(t.inputs,c.inputs),ae(t.declaredInputs,c.declaredInputs),ae(t.outputs,c.outputs),null!==c.inputTransforms&&(null===g.inputTransforms&&(g.inputTransforms={}),ae(g.inputTransforms,c.inputTransforms)),es(c)&&c.data.animation){const z=t.data;z.animation=(z.animation||[]).concat(c.data.animation)}}const d=c.features;if(d)for(let g=0;g<d.length;g++){const v=d[g];v&&v.ngInherit&&v(t),v===Uy&&(s=!1)}}r=Object.getPrototypeOf(r)}!function Vy(t){let r=0,s=null;for(let a=t.length-1;a>=0;a--){const c=t[a];c.hostVars=r+=c.hostVars,c.hostAttrs=_s(c.hostAttrs,s=_s(s,c.hostAttrs))}}(a)}function Bc(t){return t===Wt?{}:t===Rt?[]:t}function v_(t,r){const s=t.viewQuery;t.viewQuery=s?(a,c)=>{r(a,c),s(a,c)}:r}function Il(t,r){const s=t.contentQueries;t.contentQueries=s?(a,c,d)=>{r(a,c,d),s(a,c,d)}:r}function Dl(t,r){const s=t.hostBindings;t.hostBindings=s?(a,c)=>{r(a,c),s(a,c)}:r}function jc(t){const r=t.inputConfig,s={};for(const a in r)if(r.hasOwnProperty(a)){const c=r[a];Array.isArray(c)&&c[2]&&(s[a]=c[2])}t.inputTransforms=s}function $c(t){return!!Vg(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function Vg(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function _u(t,r,s){return t[r]=s}function Js(t,r,s){return!Object.is(t[r],s)&&(t[r]=s,!0)}function Hc(t,r,s,a){const c=Js(t,r,s);return Js(t,r+1,a)||c}function Bf(t,r,s,a){const c=ut();return Js(c,Jo(),r)&&(qn(),zo(Ur(),c,t,r,s,a)),Bf}function wu(t,r,s,a){return Js(t,Jo(),s)?r+Ue(s)+a:Bn}function Dd(t,r,s,a,c,d){const v=Hc(t,function lo(){return Tn.lFrame.bindingIndex}(),s,c);return Mi(2),v?r+Ue(s)+a+Ue(c)+d:Bn}function A_(t,r,s,a,c,d,g,v){const b=ut(),k=qn(),z=t+Ln,se=k.firstCreatePass?function S_(t,r,s,a,c,d,g,v,b){const k=r.consts,z=Uc(r,t,4,g||null,wo(k,v));_d(r,s,z,wo(k,b)),Ru(r,z);const se=z.tView=Eh(2,z,a,c,d,r.directiveRegistry,r.pipeRegistry,null,r.schemas,k,null);return null!==r.queries&&(r.queries.template(r,z),se.queries=r.queries.embeddedTView(z)),z}(z,k,b,r,s,a,c,d,g):k.data[z];Zs(se,!1);const ve=M_(k,b,se,t);Nu()&&zu(k,b,ve,se),C(ve,b),Dh(b,b[z]=Ag(ve,b,ve,se)),Ds(se)&&xf(k,b,se),null!=g&&_g(b,se,v)}let M_=function N_(t,r,s,a){return ys(!0),r[an].createComment("")};function P_(t){return wt(function sc(){return Tn.lFrame.contextLView}(),Ln+t)}function qy(t,r,s){const a=ut();return Js(a,Jo(),r)&&Ca(qn(),Ur(),a,t,r,a[an],s,!1),qy}function Al(t,r,s,a,c){const g=c?"class":"style";Th(t,s,r.inputs[g],g,a)}function Gg(t,r,s,a){const c=ut(),d=qn(),g=Ln+t,v=c[an],b=d.firstCreatePass?function zg(t,r,s,a,c,d){const g=r.consts,b=Uc(r,t,2,a,wo(g,c));return _d(r,s,b,wo(g,d)),null!==b.attrs&&Vc(b,b.attrs,!1),null!==b.mergedAttrs&&Vc(b,b.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,b),b}(g,d,c,r,s,a):d.data[g],k=Qy(d,c,b,v,r,t);c[g]=k;const z=Ds(b);return Zs(b,!0),Jh(v,k,b),32!=(32&b.flags)&&Nu()&&zu(d,c,k,b),0===function Qt(){return Tn.lFrame.elementDepthCount}()&&C(k,c),function pa(){Tn.lFrame.elementDepthCount++}(),z&&(xf(d,c,b),_h(d,b,c)),null!==a&&_g(c,b),Gg}function Wf(){let t=_i();Ga()?ps():(t=t.parent,Zs(t,!1));const r=t;(function za(t){return Tn.skipHydrationRootTNode===t})(r)&&function Nt(){Tn.skipHydrationRootTNode=null}(),function Ui(){Tn.lFrame.elementDepthCount--}();const s=qn();return s.firstCreatePass&&(Ru(s,t),fs(t)&&s.queries.elementEnd(t)),null!=r.classesWithoutHost&&function Ka(t){return 0!=(8&t.flags)}(r)&&Al(s,r,ut(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function cc(t){return 0!=(16&t.flags)}(r)&&Al(s,r,ut(),r.stylesWithoutHost,!1),Wf}function Wg(t,r,s,a){return Gg(t,r,s,a),Wf(),Wg}let Qy=(t,r,s,a,c,d)=>(ys(!0),Kd(a,c,function Lo(){return Tn.lFrame.currentNamespace}()));function Kg(t,r,s){const a=ut(),c=qn(),d=t+Ln,g=c.firstCreatePass?function _0(t,r,s,a,c){const d=r.consts,g=wo(d,a),v=Uc(r,t,8,"ng-container",g);return null!==g&&Vc(v,g,!0),_d(r,s,v,wo(d,c)),null!==r.queries&&r.queries.elementStart(r,v),v}(d,c,a,r,s):c.data[d];Zs(g,!0);const v=Yy(c,a,g,t);return a[d]=v,Nu()&&zu(c,a,v,g),C(v,a),Ds(g)&&(xf(c,a,g),_h(c,g,a)),null!=s&&_g(a,g),Kg}function qg(){let t=_i();const r=qn();return Ga()?ps():(t=t.parent,Zs(t,!1)),r.firstCreatePass&&(Ru(r,t),fs(t)&&r.queries.elementEnd(t)),qg}function Xy(t,r,s){return Kg(t,r,s),qg(),Xy}let Yy=(t,r,s,a)=>(ys(!0),Tc(r[an],""));function V_(){return ut()}function Qg(t){return!!t&&"function"==typeof t.then}function Zy(t){return!!t&&"function"==typeof t.subscribe}function Du(t,r,s,a){const c=ut(),d=qn(),g=_i();return function B_(t,r,s,a,c,d,g){const v=Ds(a),k=t.firstCreatePass&&Ry(t),z=r[Kr],se=Ny(r);let ve=!0;if(3&a.type||g){const vt=mt(a,r),Ht=g?g(vt):vt,mn=se.length,dt=g?mr=>g(Yt(mr[a.index])):a.index;let Wn=null;if(!g&&v&&(Wn=function E0(t,r,s,a){const c=t.cleanup;if(null!=c)for(let d=0;d<c.length-1;d+=2){const g=c[d];if(g===s&&c[d+1]===a){const v=r[Is],b=c[d+2];return v.length>b?v[b]:null}"string"==typeof g&&(d+=2)}return null}(t,r,c,a.index)),null!==Wn)(Wn.__ngLastListenerFn__||Wn).__ngNextListenerFn__=d,Wn.__ngLastListenerFn__=d,ve=!1;else{d=$_(a,r,z,d,!1);const mr=s.listen(Ht,c,d);se.push(d,mr),k&&k.push(c,dt,mn,mn+1)}}else d=$_(a,r,z,d,!1);const Se=a.outputs;let it;if(ve&&null!==Se&&(it=Se[c])){const vt=it.length;if(vt)for(let Ht=0;Ht<vt;Ht+=2){const Oi=r[it[Ht]][it[Ht+1]].subscribe(d),$a=se.length;se.push(d,Oi),k&&k.push(c,a.index,$a,-($a+1))}}}(d,c,c[an],g,t,r,a),Du}function j_(t,r,s,a){try{return Ft(6,r,s),!1!==s(a)}catch(c){return Rg(t,c),!1}finally{Ft(7,r,s)}}function $_(t,r,s,a,c){return function d(g){if(g===Function)return a;vl(t.componentOffset>-1?Ie(t.index,r):r);let b=j_(r,s,a,g),k=d.__ngNextListenerFn__;for(;k;)b=j_(r,s,k,g)&&b,k=k.__ngNextListenerFn__;return c&&!1===b&&g.preventDefault(),b}}function H_(t=1){return function Ms(t){return(Tn.lFrame.contextLView=function ea(t,r){for(;t>0;)r=r[ki],t--;return r}(t,Tn.lFrame.contextLView))[Kr]}(t)}function w0(t,r){let s=null;const a=function pt(t){const r=t.attrs;if(null!=r){const s=r.indexOf(5);if(!(1&s))return r[s+1]}return null}(t);for(let c=0;c<r.length;c++){const d=r[c];if("*"!==d){if(null===a?Je(t,d,!0):kn(a,d))return c}else s=c}return s}function z_(t){const r=ut()[hr][Wr];if(!r.projection){const a=r.projection=pc(t?t.length:1,null),c=a.slice();let d=r.child;for(;null!==d;){const g=t?w0(d,t):0;null!==g&&(c[g]?c[g].projectionNext=d:a[g]=d,c[g]=d),d=d.next}}}function G_(t,r=0,s){const a=ut(),c=qn(),d=Uc(c,Ln+t,16,null,s||null);null===d.projection&&(d.projection=r),ps(),(!a[ro]||Zt())&&32!=(32&d.flags)&&function Zh(t,r,s){Cc(r[an],0,r,s,_p(t,s,r),Ep(s.parent||r[Wr],s,r))}(c,a,d)}function Kf(t,r,s){return Md(t,"",r,"",s),Kf}function Md(t,r,s,a,c){const d=ut(),g=wu(d,r,s,a);return g!==Bn&&Ca(qn(),Ur(),d,t,g,d[an],c,!1),Md}function Qf(t,r){return t<<17|r<<2}function Wc(t){return t>>17&32767}function sv(t){return 2|t}function Nd(t){return(131068&t)>>2}function ov(t,r){return-131069&t|r<<2}function av(t){return 1|t}function q_(t,r,s,a,c){const d=t[s+1],g=null===r;let v=a?Wc(d):Nd(d),b=!1;for(;0!==v&&(!1===b||g);){const z=t[v+1];b0(t[v],r)&&(b=!0,t[v+1]=a?av(z):sv(z)),v=a?Wc(z):Nd(z)}b&&(t[s+1]=a?sv(d):av(d))}function b0(t,r){return null===t||null==r||(Array.isArray(t)?t[1]:t)===r||!(!Array.isArray(t)||"string"!=typeof r)&&Ea(t,r)>=0}function Yg(t,r){return function Tu(t,r,s,a){const c=ut(),d=qn(),g=Mi(2);d.firstUpdatePass&&function iE(t,r,s,a){const c=t.data;if(null===c[s+1]){const d=c[Ni()],g=function rE(t,r){return r>=t.expandoStartIndex}(t,s);(function uE(t,r){return 0!=(t.flags&(r?8:16))})(d,a)&&null===r&&!g&&(r=!1),r=function O0(t,r,s,a){const c=function A(t){const r=Tn.lFrame.currentDirectiveIndex;return-1===r?null:t[r]}(t);let d=a?r.residualClasses:r.residualStyles;if(null===c)0===(a?r.classBindings:r.styleBindings)&&(s=Xf(s=Zg(null,t,r,s,a),r.attrs,a),d=null);else{const g=r.directiveStylingLast;if(-1===g||t[g]!==c)if(s=Zg(c,t,r,s,a),null===d){let b=function P0(t,r,s){const a=s?r.classBindings:r.styleBindings;if(0!==Nd(a))return t[Wc(a)]}(t,r,a);void 0!==b&&Array.isArray(b)&&(b=Zg(null,t,r,b[1],a),b=Xf(b,r.attrs,a),function k0(t,r,s,a){t[Wc(s?r.classBindings:r.styleBindings)]=a}(t,r,a,b))}else d=function L0(t,r,s){let a;const c=r.directiveEnd;for(let d=1+r.directiveStylingLast;d<c;d++)a=Xf(a,t[d].hostAttrs,s);return Xf(a,r.attrs,s)}(t,r,a)}return void 0!==d&&(a?r.residualClasses=d:r.residualStyles=d),s}(c,d,r,a),function K_(t,r,s,a,c,d){let g=d?r.classBindings:r.styleBindings,v=Wc(g),b=Nd(g);t[a]=s;let z,k=!1;if(Array.isArray(s)?(z=s[1],(null===z||Ea(s,z)>0)&&(k=!0)):z=s,c)if(0!==b){const ve=Wc(t[v+1]);t[a+1]=Qf(ve,v),0!==ve&&(t[ve+1]=ov(t[ve+1],a)),t[v+1]=function D0(t,r){return 131071&t|r<<17}(t[v+1],a)}else t[a+1]=Qf(v,0),0!==v&&(t[v+1]=ov(t[v+1],a)),v=a;else t[a+1]=Qf(b,0),0===v?v=a:t[b+1]=ov(t[b+1],a),b=a;k&&(t[a+1]=sv(t[a+1])),q_(t,z,a,!0),q_(t,z,a,!1),function C0(t,r,s,a,c){const d=c?t.residualClasses:t.residualStyles;null!=d&&"string"==typeof r&&Ea(d,r)>=0&&(s[a+1]=av(s[a+1]))}(r,z,t,a,d),g=Qf(v,b),d?r.classBindings=g:r.styleBindings=g}(c,d,r,s,g,a)}}(d,t,g,a),r!==Bn&&Js(c,g,r)&&function oE(t,r,s,a,c,d,g,v){if(!(3&r.type))return;const b=t.data,k=b[v+1],z=function T0(t){return 1==(1&t)}(k)?aE(b,r,s,c,Nd(k),g):void 0;Jg(z)||(Jg(d)||function I0(t){return 2==(2&t)}(k)&&(d=aE(b,null,s,c,v,g)),function al(t,r,s,a,c){if(r)c?t.addClass(s,a):t.removeClass(s,a);else{let d=-1===a.indexOf("-")?void 0:Bd.DashCase;null==c?t.removeStyle(s,a,d):("string"==typeof c&&c.endsWith("!important")&&(c=c.slice(0,-10),d|=Bd.Important),t.setStyle(s,a,c,d))}}(a,g,gr(Ni(),s),c,d))}(d,d.data[Ni()],c,c[an],t,c[g+1]=function B0(t,r){return null==t||""===t||("string"==typeof r?t+=r:"object"==typeof t&&(t=Te(su(t)))),t}(r,s),a,g)}(t,r,null,!0),Yg}function Zg(t,r,s,a,c){let d=null;const g=s.directiveEnd;let v=s.directiveStylingLast;for(-1===v?v=s.directiveStart:v++;v<g&&(d=r[v],a=Xf(a,d.hostAttrs,c),d!==t);)v++;return null!==t&&(s.directiveStylingLast=v),a}function Xf(t,r,s){const a=s?1:2;let c=-1;if(null!==r)for(let d=0;d<r.length;d++){const g=r[d];"number"==typeof g?c=g:c===a&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Ns(t,g,!!s||r[++d]))}return void 0===t?null:t}function aE(t,r,s,a,c,d){const g=null===r;let v;for(;c>0;){const b=t[c],k=Array.isArray(b),z=k?b[1]:b,se=null===z;let ve=s[c+1];ve===Bn&&(ve=se?Rt:void 0);let Se=se?La(ve,a):z===a?ve:void 0;if(k&&!Jg(Se)&&(Se=La(b,a)),Jg(Se)&&(v=Se,g))return v;const it=t[c+1];c=g?Wc(it):Nd(it)}if(null!==r){let b=d?r.residualClasses:r.residualStyles;null!=b&&(v=La(b,a))}return v}function Jg(t){return void 0!==t}function cv(t,r=""){const s=ut(),a=qn(),c=t+Ln,d=a.firstCreatePass?Uc(a,c,1,r,null):a.data[c],g=cE(a,s,d,r,t);s[c]=g,Nu()&&zu(a,s,g,d),Zs(d,!1)}let cE=(t,r,s,a,c)=>(ys(!0),function Dc(t,r){return t.createText(r)}(r[an],a));function i(t){return e("",t,""),i}function e(t,r,s){const a=ut(),c=wu(a,t,r,s);return c!==Bn&&qu(a,Ni(),c),e}function n(t,r,s,a,c){const d=ut(),g=Dd(d,t,r,s,a,c);return g!==Bn&&qu(d,Ni(),g),n}const xh=void 0;var TD=["en",[["a","p"],["AM","PM"],xh],[["AM","PM"],xh,xh],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],xh,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],xh,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",xh,"{1} 'at' {0}",xh],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function DD(t){const s=Math.floor(Math.abs(t)),a=t.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===a?1:5}];let Yf={};function dE(t){const r=function CD(t){return t.toLowerCase().replace(/_/g,"-")}(t);let s=ew(r);if(s)return s;const a=r.split("-")[0];if(s=ew(a),s)return s;if("en"===a)return TD;throw new Ae(701,!1)}function J0(t){return dE(t)[Zf.PluralCase]}function ew(t){return t in Yf||(Yf[t]=In.ng&&In.ng.common&&In.ng.common.locales&&In.ng.common.locales[t]),Yf[t]}var Zf=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(Zf||{});const Jf="en-US";let tw=Jf;function pE(t,r,s,a,c){if(t=Ve(t),Array.isArray(t))for(let d=0;d<t.length;d++)pE(t[d],r,s,a,c);else{const d=qn(),g=ut(),v=_i();let b=ou(t)?t:Ve(t.provide);const k=Up(t),z=1048575&v.providerIndexes,se=v.directiveStart,ve=v.providerIndexes>>20;if(ou(t)||!t.multi){const Se=new Wa(k,c,Fc),it=mE(b,r,c?z:z+ve,se);-1===it?(ho(na(v,g),d,b),gE(d,t,r.length),r.push(b),v.directiveStart++,v.directiveEnd++,c&&(v.providerIndexes+=1048576),s.push(Se),g.push(Se)):(s[it]=Se,g[it]=Se)}else{const Se=mE(b,r,z+ve,se),it=mE(b,r,z,z+ve),Ht=it>=0&&s[it];if(c&&!Ht||!c&&!(Se>=0&&s[Se])){ho(na(v,g),d,b);const mn=function DT(t,r,s,a,c){const d=new Wa(t,s,Fc);return d.multi=[],d.index=r,d.componentProviders=0,bw(d,c,a&&!s),d}(c?IT:wT,s.length,c,a,k);!c&&Ht&&(s[it].providerFactory=mn),gE(d,t,r.length,0),r.push(b),v.directiveStart++,v.directiveEnd++,c&&(v.providerIndexes+=1048576),s.push(mn),g.push(mn)}else gE(d,t,Se>-1?Se:it,bw(s[c?it:Se],k,!c&&a));!c&&a&&Ht&&s[it].componentProviders++}}}function gE(t,r,s,a){const c=ou(r),d=function pf(t){return!!t.useClass}(r);if(c||d){const b=(d?Ve(r.useClass):r).prototype.ngOnDestroy;if(b){const k=t.destroyHooks||(t.destroyHooks=[]);if(!c&&r.multi){const z=k.indexOf(s);-1===z?k.push(s,[a,b]):k[z+1].push(a,b)}else k.push(s,b)}}}function bw(t,r,s){return s&&t.componentProviders++,t.multi.push(r)-1}function mE(t,r,s,a){for(let c=s;c<a;c++)if(r[c]===t)return c;return-1}function wT(t,r,s,a){return yE(this.multi,[])}function IT(t,r,s,a){const c=this.multi;let d;if(this.providerFactory){const g=this.providerFactory.componentProviders,v=Io(s,s[Tt],this.providerFactory.index,a);d=v.slice(0,g),yE(c,d);for(let b=g;b<v.length;b++)d.push(v[b])}else d=[],yE(c,d);return d}function yE(t,r){for(let s=0;s<t.length;s++)r.push((0,t[s])());return r}function Sw(t,r=[]){return s=>{s.providersResolver=(a,c)=>function ET(t,r,s){const a=qn();if(a.firstCreatePass){const c=es(t);pE(s,a.data,a.blueprint,c,!0),pE(r,a.data,a.blueprint,c,!1)}}(a,c?c(t):t,r)}}class Oh{}class Aw{}function TT(t,r){return new vE(t,r??null,[])}class vE extends Oh{constructor(r,s,a){super(),this._parent=s,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new ji(this);const c=Gr(r);this._bootstrapComponents=Wu(c.bootstrap),this._r3Injector=ng(r,s,[{provide:Oh,useValue:this},{provide:ph,useValue:this.componentFactoryResolver},...a],Te(r),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(r)}get injector(){return this._r3Injector}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class _E extends Aw{constructor(r){super(),this.moduleType=r}create(r){return new vE(this.moduleType,r,[])}}class Mw extends Oh{constructor(r){super(),this.componentFactoryResolver=new ji(this),this.instance=null;const s=new Nc([...r.providers,{provide:Oh,useValue:this},{provide:ph,useValue:this.componentFactoryResolver}],r.parent||sh(),r.debugName,new Set(["environment"]));this.injector=s,r.runEnvironmentInitializers&&s.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(r){this.injector.onDestroy(r)}}function Nw(t,r,s=null){return new Mw({providers:t,parent:r,debugName:s,runEnvironmentInitializers:!0}).injector}let bT=(()=>{class t{constructor(s){this._injector=s,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(s){if(!s.standalone)return null;if(!this.cachedInjectors.has(s)){const a=zm(0,s.type),c=a.length>0?Nw([a],this._injector,`Standalone[${s.type.name}]`):null;this.cachedInjectors.set(s,c)}return this.cachedInjectors.get(s)}ngOnDestroy(){try{for(const s of this.cachedInjectors.values())null!==s&&s.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=nt({token:t,providedIn:"environment",factory:()=>new t(Vt(au))})}}return t})();function Rw(t){t.getStandaloneInjector=r=>r.get(bT).getOrCreateStandaloneInjector(t)}function Uw(t,r,s,a){return $w(ut(),ui(),t,r,s,a)}function Vw(t,r,s,a,c){return Hw(ut(),ui(),t,r,s,a,c)}function Bw(t,r,s,a,c,d){return function zw(t,r,s,a,c,d,g,v){const b=r+s;return function Eu(t,r,s,a,c){const d=Hc(t,r,s,a);return Js(t,r+2,c)||d}(t,b,c,d,g)?_u(t,b+3,v?a.call(v,c,d,g):a(c,d,g)):sm(t,b+3)}(ut(),ui(),t,r,s,a,c,d)}function jw(t,r,s,a,c,d,g){return function Gw(t,r,s,a,c,d,g,v,b){const k=r+s;return function ba(t,r,s,a,c,d){const g=Hc(t,r,s,a);return Hc(t,r+2,c,d)||g}(t,k,c,d,g,v)?_u(t,k+4,b?a.call(b,c,d,g,v):a(c,d,g,v)):sm(t,k+4)}(ut(),ui(),t,r,s,a,c,d,g)}function sm(t,r){const s=t[r];return s===Bn?void 0:s}function $w(t,r,s,a,c,d){const g=r+s;return Js(t,g,c)?_u(t,g+1,d?a.call(d,c):a(c)):sm(t,g+1)}function Hw(t,r,s,a,c,d,g){const v=r+s;return Hc(t,v,c,d)?_u(t,v+2,g?a.call(g,c,d):a(c,d)):sm(t,v+2)}function Kw(t,r){const s=qn();let a;const c=t+Ln;s.firstCreatePass?(a=function jT(t,r){if(r)for(let s=r.length-1;s>=0;s--){const a=r[s];if(t===a.name)return a}}(r,s.pipeRegistry),s.data[c]=a,a.onDestroy&&(s.destroyHooks??=[]).push(c,a.onDestroy)):a=s.data[c];const d=a.factory||(a.factory=Li(a.type)),v=$n(Fc);try{const b=ku(!1),k=d();return ku(b),function O_(t,r,s,a){s>=t.data.length&&(t.data[s]=null,t.blueprint[s]=null),r[s]=a}(s,ut(),c,k),k}finally{$n(v)}}function qw(t,r,s){const a=t+Ln,c=ut(),d=wt(c,a);return om(c,a)?$w(c,ui(),r,d.transform,s,d):d.transform(s)}function Qw(t,r,s,a){const c=t+Ln,d=ut(),g=wt(d,c);return om(d,c)?Hw(d,ui(),r,g.transform,s,a,g):g.transform(s,a)}function om(t,r){return t[Tt].data[r].pure}function GT(){return this._results[Symbol.iterator]()}class gv{get changes(){return this._changes||(this._changes=new vu)}constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const s=gv.prototype;s[Symbol.iterator]||(s[Symbol.iterator]=GT)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,s){return this._results.reduce(r,s)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,s){const a=this;a.dirty=!1;const c=function Hs(t){return t.flat(Number.POSITIVE_INFINITY)}(r);(this._changesDetected=!function _a(t,r,s){if(t.length!==r.length)return!1;for(let a=0;a<t.length;a++){let c=t[a],d=r[a];if(s&&(c=s(c),d=s(d)),d!==c)return!1}return!0}(a._results,c,s))&&(a._results=c,a.length=c.length,a.last=c[this.length-1],a.first=c[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function KT(t,r,s,a=!0){const c=r[Tt];if(function qd(t,r,s,a){const c=Dr+a,d=s.length;a>0&&(s[c-1][ri]=r),a<d-Dr?(r[ri]=s[c],Lh(s,Dr+a,r)):(s.push(r),r[ri]=null),r[rn]=s;const g=r[Mo];null!==g&&s!==g&&function gu(t,r){const s=t[Si];r[hr]!==r[rn][rn][hr]&&(t[Zi]=!0),null===s?t[Si]=[r]:s.push(r)}(g,r);const v=r[mi];null!==v&&v.insertView(t),r[nn]|=128}(c,r,t,s),a){const d=Yh(s,t),g=r[an],v=Xd(g,t[hs]);null!==v&&function vs(t,r,s,a,c,d){a[cr]=c,a[Wr]=r,Yl(t,a,s,1,c,d)}(c,t[Wr],g,r,v,d)}}let am=(()=>{class t{static{this.__NG_ELEMENT_ID__=XT}}return t})();const qT=am,QT=class extends qT{constructor(r,s,a){super(),this._declarationLView=r,this._declarationTContainer=s,this.elementRef=a}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(r,s){return this.createEmbeddedViewImpl(r,s)}createEmbeddedViewImpl(r,s,a){const c=function WT(t,r,s,a){const c=r.tView,v=Rf(t,c,s,4096&t[nn]?4096:16,null,r,null,null,null,a?.injector??null,a?.hydrationInfo??null);v[Mo]=t[r.index];const k=t[mi];return null!==k&&(v[mi]=k.createEmbeddedView(c)),Ed(c,v,s),v}(this._declarationLView,this._declarationTContainer,r,{injector:s,hydrationInfo:a});return new bh(c)}};function XT(){return mv(_i(),ut())}function mv(t,r){return 4&t.type?new QT(r,t,Oc(t,r)):null}let vv=(()=>{class t{static{this.__NG_ELEMENT_ID__=nC}}return t})();function nC(){return nI(_i(),ut())}const rC=vv,eI=class extends rC{constructor(r,s,a){super(),this._lContainer=r,this._hostTNode=s,this._hostLView=a}get element(){return Oc(this._hostTNode,this._hostLView)}get injector(){return new Vi(this._hostTNode,this._hostLView)}get parentInjector(){const r=qa(this._hostTNode,this._hostLView);if(ns(r)){const s=Fo(r,this._hostLView),a=Vr(r);return new Vi(s[Tt].data[a+8],s)}return new Vi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const s=tI(this._lContainer);return null!==s&&s[r]||null}get length(){return this._lContainer.length-Dr}createEmbeddedView(r,s,a){let c,d;"number"==typeof a?c=a:null!=a&&(c=a.index,d=a.injector);const v=r.createEmbeddedViewImpl(s||{},d,null);return this.insertImpl(v,c,false),v}createComponent(r,s,a,c,d){const g=r&&!function as(t){return"function"==typeof t}(r);let v;if(g)v=s;else{const vt=s||{};v=vt.index,a=vt.injector,c=vt.projectableNodes,d=vt.environmentInjector||vt.ngModuleRef}const b=g?r:new wd(En(r)),k=a||this.parentInjector;if(!d&&null==b.ngModule){const Ht=(g?k:this.parentInjector).get(au,null);Ht&&(d=Ht)}En(b.componentType??{});const Se=b.create(k,c,null,d);return this.insertImpl(Se.hostView,v,false),Se}insert(r,s){return this.insertImpl(r,s,!1)}insertImpl(r,s,a){const c=r._lView;if(function Ha(t){return yi(t[rn])}(c)){const b=this.indexOf(r);if(-1!==b)this.detach(b);else{const k=c[rn],z=new eI(k,k[Wr],k[rn]);z.detach(z.indexOf(r))}}const g=this._adjustIndex(s),v=this._lContainer;return KT(v,c,g,!a),r.attachToViewContainerRef(),Lh(wE(v),g,r),r}move(r,s){return this.insert(r,s)}indexOf(r){const s=tI(this._lContainer);return null!==s?s.indexOf(r):-1}remove(r){const s=this._adjustIndex(r,-1),a=Qd(this._lContainer,s);a&&(fc(wE(this._lContainer),s),sl(a[Tt],a))}detach(r){const s=this._adjustIndex(r,-1),a=Qd(this._lContainer,s);return a&&null!=fc(wE(this._lContainer),s)?new bh(a):null}_adjustIndex(r,s=0){return r??this.length+s}};function tI(t){return t[8]}function wE(t){return t[8]||(t[8]=[])}function nI(t,r){let s;const a=r[t.index];return yi(a)?s=a:(s=Ag(a,r,null,t),r[t.index]=s,Dh(r,s)),rI(s,r,t,a),new eI(s,t,r)}let rI=function iI(t,r,s,a){if(t[hs])return;let c;c=8&s.type?Yt(a):function iC(t,r){const s=t[an],a=s.createComment(""),c=mt(r,t);return iu(s,Xd(s,c),a,function Mv(t,r){return t.nextSibling(r)}(s,c),!1),a}(r,s),t[hs]=c};class IE{constructor(r){this.queryList=r,this.matches=null}clone(){return new IE(this.queryList)}setDirty(){this.queryList.setDirty()}}class DE{constructor(r=[]){this.queries=r}createEmbeddedView(r){const s=r.queries;if(null!==s){const a=null!==r.contentQueries?r.contentQueries[0]:s.length,c=[];for(let d=0;d<a;d++){const g=s.getByIndex(d);c.push(this.queries[g.indexInDeclarationView].clone())}return new DE(c)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let s=0;s<this.queries.length;s++)null!==fI(r,s).matches&&this.queries[s].setDirty()}}class sI{constructor(r,s,a=null){this.predicate=r,this.flags=s,this.read=a}}class TE{constructor(r=[]){this.queries=r}elementStart(r,s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementStart(r,s)}elementEnd(r){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(r)}embeddedTView(r){let s=null;for(let a=0;a<this.length;a++){const c=null!==s?s.length:0,d=this.getByIndex(a).embeddedTView(r,c);d&&(d.indexInDeclarationView=a,null!==s?s.push(d):s=[d])}return null!==s?new TE(s):null}template(r,s){for(let a=0;a<this.queries.length;a++)this.queries[a].template(r,s)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class CE{constructor(r,s=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(r,s){this.isApplyingToNode(s)&&this.matchTNode(r,s)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,s){this.elementStart(r,s)}embeddedTView(r,s){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,s),new CE(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const s=this._declarationNodeIndex;let a=r.parent;for(;null!==a&&8&a.type&&a.index!==s;)a=a.parent;return s===(null!==a?a.index:-1)}return this._appliesToNextNode}matchTNode(r,s){const a=this.metadata.predicate;if(Array.isArray(a))for(let c=0;c<a.length;c++){const d=a[c];this.matchTNodeWithReadOption(r,s,aC(s,d)),this.matchTNodeWithReadOption(r,s,lc(s,r,d,!1,!1))}else a===am?4&s.type&&this.matchTNodeWithReadOption(r,s,-1):this.matchTNodeWithReadOption(r,s,lc(s,r,a,!1,!1))}matchTNodeWithReadOption(r,s,a){if(null!==a){const c=this.metadata.read;if(null!==c)if(c===gh||c===vv||c===am&&4&s.type)this.addMatch(s.index,-2);else{const d=lc(s,r,c,!1,!1);null!==d&&this.addMatch(s.index,d)}else this.addMatch(s.index,a)}}addMatch(r,s){null===this.matches?this.matches=[r,s]:this.matches.push(r,s)}}function aC(t,r){const s=t.localNames;if(null!==s)for(let a=0;a<s.length;a+=2)if(s[a]===r)return s[a+1];return null}function cC(t,r,s,a){return-1===s?function uC(t,r){return 11&t.type?Oc(t,r):4&t.type?mv(t,r):null}(r,t):-2===s?function lC(t,r,s){return s===gh?Oc(r,t):s===am?mv(r,t):s===vv?nI(r,t):void 0}(t,r,a):Io(t,t[Tt],s,r)}function oI(t,r,s,a){const c=r[mi].queries[a];if(null===c.matches){const d=t.data,g=s.matches,v=[];for(let b=0;b<g.length;b+=2){const k=g[b];v.push(k<0?null:cC(r,d[k],g[b+1],s.metadata.read))}c.matches=v}return c.matches}function bE(t,r,s,a){const c=t.queries.getByIndex(s),d=c.matches;if(null!==d){const g=oI(t,r,c,s);for(let v=0;v<d.length;v+=2){const b=d[v];if(b>0)a.push(g[v/2]);else{const k=d[v+1],z=r[-b];for(let se=Dr;se<z.length;se++){const ve=z[se];ve[Mo]===ve[rn]&&bE(ve[Tt],ve,k,a)}if(null!==z[Si]){const se=z[Si];for(let ve=0;ve<se.length;ve++){const Se=se[ve];bE(Se[Tt],Se,k,a)}}}}}return a}function aI(t){const r=ut(),s=qn(),a=P();K(a+1);const c=fI(s,a);if(t.dirty&&function st(t){return 4==(4&t[nn])}(r)===(2==(2&c.metadata.flags))){if(null===c.matches)t.reset([]);else{const d=c.crossesNgTemplate?bE(s,r,a,[]):oI(s,r,c,a);t.reset(d,Qp),t.notifyOnChanges()}return!0}return!1}function uI(t,r,s){const a=qn();a.firstCreatePass&&(hI(a,new sI(t,r,s),-1),2==(2&r)&&(a.staticViewQueries=!0)),dI(a,ut(),r)}function cI(t,r,s,a){const c=qn();if(c.firstCreatePass){const d=_i();hI(c,new sI(r,s,a),d.index),function hC(t,r){const s=t.contentQueries||(t.contentQueries=[]);r!==(s.length?s[s.length-1]:-1)&&s.push(t.queries.length-1,r)}(c,t),2==(2&s)&&(c.staticContentQueries=!0)}dI(c,ut(),s)}function lI(){return function dC(t,r){return t[mi].queries[r].queryList}(ut(),P())}function dI(t,r,s){const a=new gv(4==(4&s));(function u_(t,r,s,a){const c=Ny(r);c.push(s),t.firstCreatePass&&Ry(t).push(a,c.length-1)})(t,r,a,a.destroy),null===r[mi]&&(r[mi]=new DE),r[mi].queries.push(new IE(a))}function hI(t,r,s){null===t.queries&&(t.queries=new TE),t.queries.track(new CE(r,s))}function fI(t,r){return t.queries.getByIndex(r)}function pI(t,r){return mv(t,r)}function SE(t){return!!Gr(t)}const RI=new Ot("Application Initializer");let xE=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((s,a)=>{this.resolve=s,this.reject=a}),this.appInits=zt(RI,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const s=[];for(const c of this.appInits){const d=c();if(Qg(d))s.push(d);else if(Zy(d)){const g=new Promise((v,b)=>{d.subscribe({complete:v,error:b})});s.push(g)}}const a=()=>{this.done=!0,this.resolve()};Promise.all(s).then(()=>{a()}).catch(c=>{this.reject(c)}),0===s.length&&a(),this.initialized=!0}static{this.\u0275fac=function(a){return new(a||t)}}static{this.\u0275prov=nt({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),xI=(()=>{class t{log(s){console.log(s)}warn(s){console.warn(s)}static{this.\u0275fac=function(a){return new(a||t)}}static{this.\u0275prov=nt({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();const Ev=new Ot("LocaleId",{providedIn:"root",factory:()=>zt(Ev,qt.Optional|qt.SkipSelf)||function OC(){return typeof $localize<"u"&&$localize.locale||Jf}()}),PC=new Ot("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let OI=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new he.t(!1)}add(){this.hasPendingTasks.next(!0);const s=this.taskId++;return this.pendingTasks.add(s),s}remove(s){this.pendingTasks.delete(s),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static{this.\u0275fac=function(a){return new(a||t)}}static{this.\u0275prov=nt({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();class LC{constructor(r,s){this.ngModuleFactory=r,this.componentFactories=s}}let FC=(()=>{class t{compileModuleSync(s){return new _E(s)}compileModuleAsync(s){return Promise.resolve(this.compileModuleSync(s))}compileModuleAndAllComponentsSync(s){const a=this.compileModuleSync(s),d=Wu(Gr(s).declarations).reduce((g,v)=>{const b=En(v);return b&&g.push(new wd(b)),g},[]);return new LC(a,d)}compileModuleAndAllComponentsAsync(s){return Promise.resolve(this.compileModuleAndAllComponentsSync(s))}clearCache(){}clearCacheFor(s){}getModuleId(s){}static{this.\u0275fac=function(a){return new(a||t)}}static{this.\u0275prov=nt({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();const FI=new Ot(""),UI=new Ot("");let kE,sb=(()=>{class t{constructor(s,a,c){this._ngZone=s,this.registry=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,kE||(function ob(t){kE=t}(c),c.addToWindow(a)),this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Rs.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb(this._didWork)}this._didWork=!1});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(a=>!a.updateCb||!a.updateCb(s)||(clearTimeout(a.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,a,c){let d=-1;a&&a>0&&(d=setTimeout(()=>{this._callbacks=this._callbacks.filter(g=>g.timeoutId!==d),s(this._didWork,this.getPendingTasks())},a)),this._callbacks.push({doneCb:s,timeoutId:d,updateCb:c})}whenStable(s,a,c){if(c&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,a,c),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(s){this.registry.registerApplication(s,this)}unregisterApplication(s){this.registry.unregisterApplication(s)}findProviders(s,a,c){return[]}static{this.\u0275fac=function(a){return new(a||t)(Vt(Rs),Vt(VI),Vt(UI))}}static{this.\u0275prov=nt({token:t,factory:t.\u0275fac})}}return t})(),VI=(()=>{class t{constructor(){this._applications=new Map}registerApplication(s,a){this._applications.set(s,a)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,a=!0){return kE?.findTestabilityInTree(this,s,a)??null}static{this.\u0275fac=function(a){return new(a||t)}}static{this.\u0275prov=nt({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})(),Rd=null;const BI=new Ot("AllowMultipleToken"),LE=new Ot("PlatformDestroyListeners"),FE=new Ot("appBootstrapListener");class cb{constructor(r,s){this.name=r,this.token=s}}function HI(t,r,s=[]){const a=`Platform: ${r}`,c=new Ot(a);return(d=[])=>{let g=UE();if(!g||g.injector.get(BI,!1)){const v=[...s,...d,{provide:c,useValue:!0}];t?t(v):function lb(t){if(Rd&&!Rd.get(BI,!1))throw new Ae(400,!1);(function jI(){!function Re(t){le=t}(()=>{throw new Ae(600,!1)})})(),Rd=t;const r=t.get(GI);(function $I(t){t.get(jp,null)?.forEach(s=>s())})(t)}(function zI(t=[],r){return Ta.create({name:r,providers:[{provide:ih,useValue:"platform"},{provide:LE,useValue:new Set([()=>Rd=null])},...t]})}(v,a))}return function hb(t){const r=UE();if(!r)throw new Ae(401,!1);return r}()}}function UE(){return Rd?.get(GI)??null}let GI=(()=>{class t{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,a){const c=function fb(t="zone.js",r){return"noop"===t?new e_:"zone.js"===t?new Rs(r):t}(a?.ngZone,function WI(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:a?.ngZoneEventCoalescing,runCoalescing:a?.ngZoneRunCoalescing}));return c.run(()=>{const d=function CT(t,r,s){return new vE(t,r,s)}(s.moduleType,this.injector,function YI(t){return[{provide:Rs,useFactory:t},{provide:rh,multi:!0,useFactory:()=>{const r=zt(gb,{optional:!0});return()=>r.initialize()}},{provide:XI,useFactory:pb},{provide:ug,useFactory:cg}]}(()=>c)),g=d.injector.get(Ho,null);return c.runOutsideAngular(()=>{const v=c.onError.subscribe({next:b=>{g.handleError(b)}});d.onDestroy(()=>{Iv(this._modules,d),v.unsubscribe()})}),function KI(t,r,s){try{const a=s();return Qg(a)?a.catch(c=>{throw r.runOutsideAngular(()=>t.handleError(c)),c}):a}catch(a){throw r.runOutsideAngular(()=>t.handleError(a)),a}}(g,c,()=>{const v=d.injector.get(xE);return v.runInitializers(),v.donePromise.then(()=>(function nw(t){rt(t,"Expected localeId to be defined"),"string"==typeof t&&(tw=t.toLowerCase().replace(/_/g,"-"))}(d.injector.get(Ev,Jf)||Jf),this._moduleDoBootstrap(d),d))})})}bootstrapModule(s,a=[]){const c=qI({},a);return function ab(t,r,s){const a=new _E(s);return Promise.resolve(a)}(0,0,s).then(d=>this.bootstrapModuleFactory(d,c))}_moduleDoBootstrap(s){const a=s.injector.get(np);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(c=>a.bootstrap(c));else{if(!s.instance.ngDoBootstrap)throw new Ae(-403,!1);s.instance.ngDoBootstrap(a)}this._modules.push(s)}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ae(404,!1);this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a());const s=this._injector.get(LE,null);s&&(s.forEach(a=>a()),s.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static{this.\u0275fac=function(a){return new(a||t)(Vt(Ta))}}static{this.\u0275prov=nt({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();function qI(t,r){return Array.isArray(r)?r.reduce(qI,t):{...t,...r}}let np=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=zt(XI),this.zoneIsStable=zt(ug),this.componentTypes=[],this.components=[],this.isStable=zt(OI).hasPendingTasks.pipe((0,xe.n)(s=>s?(0,Z.of)(!1):this.zoneIsStable),(0,$e.F)(),(0,ee.u)()),this._injector=zt(au)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(s,a){const c=s instanceof _f;if(!this._injector.get(xE).done)throw!c&&ni(s),new Ae(405,!1);let g;g=c?s:this._injector.get(ph).resolveComponentFactory(s),this.componentTypes.push(g.componentType);const v=function ub(t){return t.isBoundToModule}(g)?void 0:this._injector.get(Oh),k=g.create(Ta.NULL,[],a||g.selector,v),z=k.location.nativeElement,se=k.injector.get(FI,null);return se?.registerApplication(z),k.onDestroy(()=>{this.detachView(k.hostView),Iv(this.components,k),se?.unregisterApplication(z)}),this._loadComponent(k),k}tick(){if(this._runningTick)throw new Ae(101,!1);try{this._runningTick=!0;for(let s of this._views)s.detectChanges()}catch(s){this.internalErrorHandler(s)}finally{this._runningTick=!1}}attachView(s){const a=s;this._views.push(a),a.attachToAppRef(this)}detachView(s){const a=s;Iv(this._views,a),a.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s);const a=this._injector.get(FE,[]);a.push(...this._bootstrapListeners),a.forEach(c=>c(s))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(s=>s()),this._views.slice().forEach(s=>s.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(s){return this._destroyListeners.push(s),()=>Iv(this._destroyListeners,s)}destroy(){if(this._destroyed)throw new Ae(406,!1);const s=this._injector;s.destroy&&!s.destroyed&&s.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(a){return new(a||t)}}static{this.\u0275prov=nt({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Iv(t,r){const s=t.indexOf(r);s>-1&&t.splice(s,1)}const XI=new Ot("",{providedIn:"root",factory:()=>zt(Ho).handleError.bind(void 0)});function pb(){const t=zt(Rs),r=zt(Ho);return s=>t.runOutsideAngular(()=>r.handleError(s))}let gb=(()=>{class t{constructor(){this.zone=zt(Rs),this.applicationRef=zt(np)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(a){return new(a||t)}}static{this.\u0275prov=nt({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();let yb=(()=>{class t{static{this.__NG_ELEMENT_ID__=vb}}return t})();function vb(t){return function _b(t,r,s){if(Tr(t)&&!s){const a=Ie(t.index,r);return new bh(a,a)}return 47&t.type?new bh(r[hr],r):null}(_i(),ut(),16==(16&t))}class nD{constructor(){}supports(r){return $c(r)}create(r){return new Tb(r)}}const Db=(t,r)=>r;class Tb{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||Db}forEachItem(r){let s;for(s=this._itHead;null!==s;s=s._next)r(s)}forEachOperation(r){let s=this._itHead,a=this._removalsHead,c=0,d=null;for(;s||a;){const g=!a||s&&s.currentIndex<iD(a,c,d)?s:a,v=iD(g,c,d),b=g.currentIndex;if(g===a)c--,a=a._nextRemoved;else if(s=s._next,null==g.previousIndex)c++;else{d||(d=[]);const k=v-c,z=b-c;if(k!=z){for(let ve=0;ve<k;ve++){const Se=ve<d.length?d[ve]:d[ve]=0,it=Se+ve;z<=it&&it<k&&(d[ve]=Se+1)}d[g.previousIndex]=z-k}}v!==b&&r(g,v,b)}}forEachPreviousItem(r){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachMovedItem(r){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}forEachIdentityChange(r){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)r(s)}diff(r){if(null==r&&(r=[]),!$c(r))throw new Ae(900,!1);return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let c,d,g,s=this._itHead,a=!1;if(Array.isArray(r)){this.length=r.length;for(let v=0;v<this.length;v++)d=r[v],g=this._trackByFn(v,d),null!==s&&Object.is(s.trackById,g)?(a&&(s=this._verifyReinsertion(s,d,g,v)),Object.is(s.item,d)||this._addIdentityChange(s,d)):(s=this._mismatch(s,d,g,v),a=!0),s=s._next}else c=0,function Ug(t,r){if(Array.isArray(t))for(let s=0;s<t.length;s++)r(t[s]);else{const s=t[Symbol.iterator]();let a;for(;!(a=s.next()).done;)r(a.value)}}(r,v=>{g=this._trackByFn(c,v),null!==s&&Object.is(s.trackById,g)?(a&&(s=this._verifyReinsertion(s,v,g,c)),Object.is(s.item,v)||this._addIdentityChange(s,v)):(s=this._mismatch(s,v,g,c),a=!0),s=s._next,c++}),this.length=c;return this._truncate(s),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,s,a,c){let d;return null===r?d=this._itTail:(d=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._reinsertAfter(r,d,c)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(a,c))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._moveAfter(r,d,c)):r=this._addAfter(new Cb(s,a),d,c),r}_verifyReinsertion(r,s,a,c){let d=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null);return null!==d?r=this._reinsertAfter(d,r._prev,c):r.currentIndex!=c&&(r.currentIndex=c,this._addToMoves(r,c)),r}_truncate(r){for(;null!==r;){const s=r._next;this._addToRemovals(this._unlink(r)),r=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,s,a){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const c=r._prevRemoved,d=r._nextRemoved;return null===c?this._removalsHead=d:c._nextRemoved=d,null===d?this._removalsTail=c:d._prevRemoved=c,this._insertAfter(r,s,a),this._addToMoves(r,a),r}_moveAfter(r,s,a){return this._unlink(r),this._insertAfter(r,s,a),this._addToMoves(r,a),r}_addAfter(r,s,a){return this._insertAfter(r,s,a),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,s,a){const c=null===s?this._itHead:s._next;return r._next=c,r._prev=s,null===c?this._itTail=r:c._prev=r,null===s?this._itHead=r:s._next=r,null===this._linkedRecords&&(this._linkedRecords=new rD),this._linkedRecords.put(r),r.currentIndex=a,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const s=r._prev,a=r._next;return null===s?this._itHead=a:s._next=a,null===a?this._itTail=s:a._prev=s,r}_addToMoves(r,s){return r.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new rD),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,s){return r.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class Cb{constructor(r,s){this.item=r,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class bb{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,s){let a;for(a=this._head;null!==a;a=a._nextDup)if((null===s||s<=a.currentIndex)&&Object.is(a.trackById,r))return a;return null}remove(r){const s=r._prevDup,a=r._nextDup;return null===s?this._head=a:s._nextDup=a,null===a?this._tail=s:a._prevDup=s,null===this._head}}class rD{constructor(){this.map=new Map}put(r){const s=r.trackById;let a=this.map.get(s);a||(a=new bb,this.map.set(s,a)),a.add(r)}get(r,s){const c=this.map.get(r);return c?c.get(r,s):null}remove(r){const s=r.trackById;return this.map.get(s).remove(r)&&this.map.delete(s),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function iD(t,r,s){const a=t.previousIndex;if(null===a)return a;let c=0;return s&&a<s.length&&(c=s[a]),a+r+c}class sD{constructor(){}supports(r){return r instanceof Map||Vg(r)}create(){return new Sb}}class Sb{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let s;for(s=this._mapHead;null!==s;s=s._next)r(s)}forEachPreviousItem(r){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)r(s)}forEachChangedItem(r){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}diff(r){if(r){if(!(r instanceof Map||Vg(r)))throw new Ae(900,!1)}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(r,(a,c)=>{if(s&&s.key===c)this._maybeAddToChanges(s,a),this._appendAfter=s,s=s._next;else{const d=this._getOrCreateRecordForKey(c,a);s=this._insertBeforeOrAppend(s,d)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let a=s;null!==a;a=a._nextRemoved)a===this._mapHead&&(this._mapHead=null),this._records.delete(a.key),a._nextRemoved=a._next,a.previousValue=a.currentValue,a.currentValue=null,a._prev=null,a._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,s){if(r){const a=r._prev;return s._next=r,s._prev=a,r._prev=s,a&&(a._next=s),r===this._mapHead&&(this._mapHead=s),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(r,s){if(this._records.has(r)){const c=this._records.get(r);this._maybeAddToChanges(c,s);const d=c._prev,g=c._next;return d&&(d._next=g),g&&(g._prev=d),c._next=null,c._prev=null,c}const a=new Ab(r);return this._records.set(r,a),a.currentValue=s,this._addToAdditions(a),a}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,s){Object.is(s,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=s,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,s){r instanceof Map?r.forEach(s):Object.keys(r).forEach(a=>s(r[a],a))}}class Ab{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function oD(){return new HE([new nD])}let HE=(()=>{class t{static{this.\u0275prov=nt({token:t,providedIn:"root",factory:oD})}constructor(s){this.factories=s}static create(s,a){if(null!=a){const c=a.factories.slice();s=s.concat(c)}return new t(s)}static extend(s){return{provide:t,useFactory:a=>t.create(s,a||oD()),deps:[[t,new yc,new tu]]}}find(s){const a=this.factories.find(c=>c.supports(s));if(null!=a)return a;throw new Ae(901,!1)}}return t})();function aD(){return new zE([new sD])}let zE=(()=>{class t{static{this.\u0275prov=nt({token:t,providedIn:"root",factory:aD})}constructor(s){this.factories=s}static create(s,a){if(a){const c=a.factories.slice();s=s.concat(c)}return new t(s)}static extend(s){return{provide:t,useFactory:a=>t.create(s,a||aD()),deps:[[t,new yc,new tu]]}}find(s){const a=this.factories.find(c=>c.supports(s));if(a)return a;throw new Ae(901,!1)}}return t})();const Rb=HI(null,"core",[]);let xb=(()=>{class t{constructor(s){}static{this.\u0275fac=function(a){return new(a||t)(Vt(np))}}static{this.\u0275mod=ks({type:t})}static{this.\u0275inj=Sn({})}}return t})();function Hb(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function Gb(t){const r=En(t);if(!r)return null;const s=new wd(r);return{get selector(){return s.selector},get type(){return s.componentType},get inputs(){return s.inputs},get outputs(){return s.outputs},get ngContentSelectors(){return s.ngContentSelectors},get isStandalone(){return r.standalone},get isSignal(){return r.signals}}}},2979:(jt,We,H)=>{H.d(We,{MF:()=>Nr,j6:()=>or,om:()=>In,Sx:()=>$r,Dk:()=>Ii,Wp:()=>yr,KO:()=>wr});var M=H(467),ue=H(8779),re=H(5398),ye=H(1401);const he=(qe,Ce)=>Ce.some(at=>qe instanceof at);let Z,ee;const ie=new WeakMap,ae=new WeakMap,Te=new WeakMap,Ge=new WeakMap,_e=new WeakMap;let Ut={get(qe,Ce,at){if(qe instanceof IDBTransaction){if("done"===Ce)return ae.get(qe);if("objectStoreNames"===Ce)return qe.objectStoreNames||Te.get(qe);if("store"===Ce)return at.objectStoreNames[1]?void 0:at.objectStore(at.objectStoreNames[0])}return Ae(qe[Ce])},set:(qe,Ce,at)=>(qe[Ce]=at,!0),has:(qe,Ce)=>qe instanceof IDBTransaction&&("done"===Ce||"store"===Ce)||Ce in qe};function On(qe){return"function"==typeof qe?function bn(qe){return qe!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function $e(){return ee||(ee=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(qe)?function(...Ce){return qe.apply(ot(this),Ce),Ae(ie.get(this))}:function(...Ce){return Ae(qe.apply(ot(this),Ce))}:function(Ce,...at){const Lt=qe.call(ot(this),Ce,...at);return Te.set(Lt,Ce.sort?Ce.sort():[Ce]),Ae(Lt)}}(qe):(qe instanceof IDBTransaction&&function Ve(qe){if(ae.has(qe))return;const Ce=new Promise((at,Lt)=>{const Wt=()=>{qe.removeEventListener("complete",Rt),qe.removeEventListener("error",ln),qe.removeEventListener("abort",ln)},Rt=()=>{at(),Wt()},ln=()=>{Lt(qe.error||new DOMException("AbortError","AbortError")),Wt()};qe.addEventListener("complete",Rt),qe.addEventListener("error",ln),qe.addEventListener("abort",ln)});ae.set(qe,Ce)}(qe),he(qe,function xe(){return Z||(Z=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(qe,Ut):qe)}function Ae(qe){if(qe instanceof IDBRequest)return function ht(qe){const Ce=new Promise((at,Lt)=>{const Wt=()=>{qe.removeEventListener("success",Rt),qe.removeEventListener("error",ln)},Rt=()=>{at(Ae(qe.result)),Wt()},ln=()=>{Lt(qe.error),Wt()};qe.addEventListener("success",Rt),qe.addEventListener("error",ln)});return Ce.then(at=>{at instanceof IDBCursor&&ie.set(at,qe)}).catch(()=>{}),_e.set(Ce,qe),Ce}(qe);if(Ge.has(qe))return Ge.get(qe);const Ce=On(qe);return Ce!==qe&&(Ge.set(qe,Ce),_e.set(Ce,qe)),Ce}const ot=qe=>_e.get(qe),ft=["get","getKey","getAll","getAllKeys","count"],ct=["put","add","delete","clear"],Jt=new Map;function fn(qe,Ce){if(!(qe instanceof IDBDatabase)||Ce in qe||"string"!=typeof Ce)return;if(Jt.get(Ce))return Jt.get(Ce);const at=Ce.replace(/FromIndex$/,""),Lt=Ce!==at,Wt=ct.includes(at);if(!(at in(Lt?IDBIndex:IDBObjectStore).prototype)||!Wt&&!ft.includes(at))return;const Rt=function(){var ln=(0,M.A)(function*(Xn,...ur){const br=this.transaction(Xn,Wt?"readwrite":"readonly");let Hi=br.store;return Lt&&(Hi=Hi.index(ur.shift())),(yield Promise.all([Hi[at](...ur),Wt&&br.done]))[0]});return function(ur){return ln.apply(this,arguments)}}();return Jt.set(Ce,Rt),Rt}!function kt(qe){Ut=qe(Ut)}(qe=>({...qe,get:(Ce,at,Lt)=>fn(Ce,at)||qe.get(Ce,at,Lt),has:(Ce,at)=>!!fn(Ce,at)||qe.has(Ce,at)}));class pn{constructor(Ce){this.container=Ce}getPlatformInfoString(){return this.container.getProviders().map(at=>{if(function Br(qe){const Ce=qe.getComponent();return"VERSION"===Ce?.type}(at)){const Lt=at.getImmediate();return`${Lt.library}/${Lt.version}`}return null}).filter(at=>at).join(" ")}}const lt="@firebase/app",Qn=new re.Vy("@firebase/app"),qt="[DEFAULT]",vn={[lt]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},hn=new Map,$n=new Map;function Lr(qe,Ce){try{qe.container.addComponent(Ce)}catch(at){Qn.debug(`Component ${Ce.name} failed to register with FirebaseApp ${qe.name}`,at)}}function In(qe){const Ce=qe.name;if($n.has(Ce))return Qn.debug(`There were multiple attempts to register component ${Ce}.`),!1;$n.set(Ce,qe);for(const at of hn.values())Lr(at,qe);return!0}function or(qe,Ce){const at=qe.container.getProvider("heartbeat").getImmediate({optional:!0});return at&&at.triggerHeartbeat(),qe.container.getProvider(Ce)}const on=new ye.FA("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class wi{constructor(Ce,at,Lt){this._isDeleted=!1,this._options=Object.assign({},Ce),this._config=Object.assign({},at),this._name=at.name,this._automaticDataCollectionEnabled=at.automaticDataCollectionEnabled,this._container=Lt,this.container.addComponent(new ue.uA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ce){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ce}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ce){this._isDeleted=Ce}checkDestroyed(){if(this.isDeleted)throw on.create("app-deleted",{appName:this._name})}}const Nr="9.23.0";function yr(qe,Ce={}){let at=qe;"object"!=typeof Ce&&(Ce={name:Ce});const Lt=Object.assign({name:qt,automaticDataCollectionEnabled:!1},Ce),Wt=Lt.name;if("string"!=typeof Wt||!Wt)throw on.create("bad-app-name",{appName:String(Wt)});if(at||(at=(0,ye.T9)()),!at)throw on.create("no-options");const Rt=hn.get(Wt);if(Rt){if((0,ye.bD)(at,Rt.options)&&(0,ye.bD)(Lt,Rt.config))return Rt;throw on.create("duplicate-app",{appName:Wt})}const ln=new ue.h1(Wt);for(const ur of $n.values())ln.addComponent(ur);const Xn=new wi(at,Lt,ln);return hn.set(Wt,Xn),Xn}function $r(qe=qt){const Ce=hn.get(qe);if(!Ce&&qe===qt&&(0,ye.T9)())return yr();if(!Ce)throw on.create("no-app",{appName:qe});return Ce}function Ii(){return Array.from(hn.values())}function wr(qe,Ce,at){var Lt;let Wt=null!==(Lt=vn[qe])&&void 0!==Lt?Lt:qe;at&&(Wt+=`-${at}`);const Rt=Wt.match(/\s|\//),ln=Ce.match(/\s|\//);if(Rt||ln){const Xn=[`Unable to register library "${Wt}" with version "${Ce}":`];return Rt&&Xn.push(`library name "${Wt}" contains illegal characters (whitespace or "/")`),Rt&&ln&&Xn.push("and"),ln&&Xn.push(`version name "${Ce}" contains illegal characters (whitespace or "/")`),void Qn.warn(Xn.join(" "))}In(new ue.uA(`${Wt}-version`,()=>({library:Wt,version:Ce}),"VERSION"))}const xn="firebase-heartbeat-database",Ir=1,de="firebase-heartbeat-store";let G=null;function X(){return G||(G=function Ue(qe,Ce,{blocked:at,upgrade:Lt,blocking:Wt,terminated:Rt}={}){const ln=indexedDB.open(qe,Ce),Xn=Ae(ln);return Lt&&ln.addEventListener("upgradeneeded",ur=>{Lt(Ae(ln.result),ur.oldVersion,ur.newVersion,Ae(ln.transaction),ur)}),at&&ln.addEventListener("blocked",ur=>at(ur.oldVersion,ur.newVersion,ur)),Xn.then(ur=>{Rt&&ur.addEventListener("close",()=>Rt()),Wt&&ur.addEventListener("versionchange",br=>Wt(br.oldVersion,br.newVersion,br))}).catch(()=>{}),Xn}(xn,Ir,{upgrade:(qe,Ce)=>{0===Ce&&qe.createObjectStore(de)}}).catch(qe=>{throw on.create("idb-open",{originalErrorMessage:qe.message})})),G}function W(){return(W=(0,M.A)(function*(qe){try{return yield(yield X()).transaction(de).objectStore(de).get(St(qe))}catch(Ce){if(Ce instanceof ye.g)Qn.warn(Ce.message);else{const at=on.create("idb-get",{originalErrorMessage:Ce?.message});Qn.warn(at.message)}}})).apply(this,arguments)}function we(qe,Ce){return tt.apply(this,arguments)}function tt(){return(tt=(0,M.A)(function*(qe,Ce){try{const Lt=(yield X()).transaction(de,"readwrite");yield Lt.objectStore(de).put(Ce,St(qe)),yield Lt.done}catch(at){if(at instanceof ye.g)Qn.warn(at.message);else{const Lt=on.create("idb-set",{originalErrorMessage:at?.message});Qn.warn(Lt.message)}}})).apply(this,arguments)}function St(qe){return`${qe.name}!${qe.options.appId}`}class zt{constructor(Ce){this.container=Ce,this._heartbeatsCache=null;const at=this.container.getProvider("app").getImmediate();this._storage=new Hr(at),this._heartbeatsCachePromise=this._storage.read().then(Lt=>(this._heartbeatsCache=Lt,Lt))}triggerHeartbeat(){var Ce=this;return(0,M.A)(function*(){const Lt=Ce.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Wt=un();if(null===Ce._heartbeatsCache&&(Ce._heartbeatsCache=yield Ce._heartbeatsCachePromise),Ce._heartbeatsCache.lastSentHeartbeatDate!==Wt&&!Ce._heartbeatsCache.heartbeats.some(Rt=>Rt.date===Wt))return Ce._heartbeatsCache.heartbeats.push({date:Wt,agent:Lt}),Ce._heartbeatsCache.heartbeats=Ce._heartbeatsCache.heartbeats.filter(Rt=>{const ln=new Date(Rt.date).valueOf();return Date.now()-ln<=2592e6}),Ce._storage.overwrite(Ce._heartbeatsCache)})()}getHeartbeatsHeader(){var Ce=this;return(0,M.A)(function*(){if(null===Ce._heartbeatsCache&&(yield Ce._heartbeatsCachePromise),null===Ce._heartbeatsCache||0===Ce._heartbeatsCache.heartbeats.length)return"";const at=un(),{heartbeatsToSend:Lt,unsentEntries:Wt}=function ar(qe,Ce=1024){const at=[];let Lt=qe.slice();for(const Wt of qe){const Rt=at.find(ln=>ln.agent===Wt.agent);if(Rt){if(Rt.dates.push(Wt.date),zr(at)>Ce){Rt.dates.pop();break}}else if(at.push({agent:Wt.agent,dates:[Wt.date]}),zr(at)>Ce){at.pop();break}Lt=Lt.slice(1)}return{heartbeatsToSend:at,unsentEntries:Lt}}(Ce._heartbeatsCache.heartbeats),Rt=(0,ye.Uj)(JSON.stringify({version:2,heartbeats:Lt}));return Ce._heartbeatsCache.lastSentHeartbeatDate=at,Wt.length>0?(Ce._heartbeatsCache.heartbeats=Wt,yield Ce._storage.overwrite(Ce._heartbeatsCache)):(Ce._heartbeatsCache.heartbeats=[],Ce._storage.overwrite(Ce._heartbeatsCache)),Rt})()}}function un(){return(new Date).toISOString().substring(0,10)}class Hr{constructor(Ce){this.app=Ce,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,M.A)(function*(){return!!(0,ye.zW)()&&(0,ye.eX)().then(()=>!0).catch(()=>!1)})()}read(){var Ce=this;return(0,M.A)(function*(){return(yield Ce._canUseIndexedDBPromise)&&(yield function q(qe){return W.apply(this,arguments)}(Ce.app))||{heartbeats:[]}})()}overwrite(Ce){var at=this;return(0,M.A)(function*(){var Lt;if(yield at._canUseIndexedDBPromise){const Rt=yield at.read();return we(at.app,{lastSentHeartbeatDate:null!==(Lt=Ce.lastSentHeartbeatDate)&&void 0!==Lt?Lt:Rt.lastSentHeartbeatDate,heartbeats:Ce.heartbeats})}})()}add(Ce){var at=this;return(0,M.A)(function*(){var Lt;if(yield at._canUseIndexedDBPromise){const Rt=yield at.read();return we(at.app,{lastSentHeartbeatDate:null!==(Lt=Ce.lastSentHeartbeatDate)&&void 0!==Lt?Lt:Rt.lastSentHeartbeatDate,heartbeats:[...Rt.heartbeats,...Ce.heartbeats]})}})()}}function zr(qe){return(0,ye.Uj)(JSON.stringify({version:2,heartbeats:qe})).length}!function gi(qe){In(new ue.uA("platform-logger",Ce=>new pn(Ce),"PRIVATE")),In(new ue.uA("heartbeat",Ce=>new zt(Ce),"PRIVATE")),wr(lt,"0.9.13",qe),wr(lt,"0.9.13","esm2017"),wr("fire-js","")}("")},8779:(jt,We,H)=>{H.d(We,{h1:()=>xe,uA:()=>re});var M=H(467),ue=H(1401);class re{constructor(ie,ae,Te){this.name=ie,this.instanceFactory=ae,this.type=Te,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(ie){return this.instantiationMode=ie,this}setMultipleInstances(ie){return this.multipleInstances=ie,this}setServiceProps(ie){return this.serviceProps=ie,this}setInstanceCreatedCallback(ie){return this.onInstanceCreated=ie,this}}const ye="[DEFAULT]";class he{constructor(ie,ae){this.name=ie,this.container=ae,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(ie){const ae=this.normalizeInstanceIdentifier(ie);if(!this.instancesDeferred.has(ae)){const Te=new ue.cY;if(this.instancesDeferred.set(ae,Te),this.isInitialized(ae)||this.shouldAutoInitialize())try{const Ge=this.getOrInitializeService({instanceIdentifier:ae});Ge&&Te.resolve(Ge)}catch{}}return this.instancesDeferred.get(ae).promise}getImmediate(ie){var ae;const Te=this.normalizeInstanceIdentifier(ie?.identifier),Ge=null!==(ae=ie?.optional)&&void 0!==ae&&ae;if(!this.isInitialized(Te)&&!this.shouldAutoInitialize()){if(Ge)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Te})}catch(_e){if(Ge)return null;throw _e}}getComponent(){return this.component}setComponent(ie){if(ie.name!==this.name)throw Error(`Mismatching Component ${ie.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=ie,this.shouldAutoInitialize()){if(function ee($e){return"EAGER"===$e.instantiationMode}(ie))try{this.getOrInitializeService({instanceIdentifier:ye})}catch{}for(const[ae,Te]of this.instancesDeferred.entries()){const Ge=this.normalizeInstanceIdentifier(ae);try{const _e=this.getOrInitializeService({instanceIdentifier:Ge});Te.resolve(_e)}catch{}}}}clearInstance(ie=ye){this.instancesDeferred.delete(ie),this.instancesOptions.delete(ie),this.instances.delete(ie)}delete(){var ie=this;return(0,M.A)(function*(){const ae=Array.from(ie.instances.values());yield Promise.all([...ae.filter(Te=>"INTERNAL"in Te).map(Te=>Te.INTERNAL.delete()),...ae.filter(Te=>"_delete"in Te).map(Te=>Te._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(ie=ye){return this.instances.has(ie)}getOptions(ie=ye){return this.instancesOptions.get(ie)||{}}initialize(ie={}){const{options:ae={}}=ie,Te=this.normalizeInstanceIdentifier(ie.instanceIdentifier);if(this.isInitialized(Te))throw Error(`${this.name}(${Te}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ge=this.getOrInitializeService({instanceIdentifier:Te,options:ae});for(const[_e,ht]of this.instancesDeferred.entries())Te===this.normalizeInstanceIdentifier(_e)&&ht.resolve(Ge);return Ge}onInit(ie,ae){var Te;const Ge=this.normalizeInstanceIdentifier(ae),_e=null!==(Te=this.onInitCallbacks.get(Ge))&&void 0!==Te?Te:new Set;_e.add(ie),this.onInitCallbacks.set(Ge,_e);const ht=this.instances.get(Ge);return ht&&ie(ht,Ge),()=>{_e.delete(ie)}}invokeOnInitCallbacks(ie,ae){const Te=this.onInitCallbacks.get(ae);if(Te)for(const Ge of Te)try{Ge(ie,ae)}catch{}}getOrInitializeService({instanceIdentifier:ie,options:ae={}}){let Te=this.instances.get(ie);if(!Te&&this.component&&(Te=this.component.instanceFactory(this.container,{instanceIdentifier:($e=ie,$e===ye?void 0:$e),options:ae}),this.instances.set(ie,Te),this.instancesOptions.set(ie,ae),this.invokeOnInitCallbacks(Te,ie),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ie,Te)}catch{}var $e;return Te||null}normalizeInstanceIdentifier(ie=ye){return this.component?this.component.multipleInstances?ie:ye:ie}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class xe{constructor(ie){this.name=ie,this.providers=new Map}addComponent(ie){const ae=this.getProvider(ie.name);if(ae.isComponentSet())throw new Error(`Component ${ie.name} has already been registered with ${this.name}`);ae.setComponent(ie)}addOrOverwriteComponent(ie){this.getProvider(ie.name).isComponentSet()&&this.providers.delete(ie.name),this.addComponent(ie)}getProvider(ie){if(this.providers.has(ie))return this.providers.get(ie);const ae=new he(ie,this);return this.providers.set(ie,ae),ae}getProviders(){return Array.from(this.providers.values())}}},5398:(jt,We,H)=>{H.d(We,{$b:()=>ue,Vy:()=>ee});const M=[];var ue=function(ie){return ie[ie.DEBUG=0]="DEBUG",ie[ie.VERBOSE=1]="VERBOSE",ie[ie.INFO=2]="INFO",ie[ie.WARN=3]="WARN",ie[ie.ERROR=4]="ERROR",ie[ie.SILENT=5]="SILENT",ie}(ue||{});const re={debug:ue.DEBUG,verbose:ue.VERBOSE,info:ue.INFO,warn:ue.WARN,error:ue.ERROR,silent:ue.SILENT},ye=ue.INFO,he={[ue.DEBUG]:"log",[ue.VERBOSE]:"log",[ue.INFO]:"info",[ue.WARN]:"warn",[ue.ERROR]:"error"},Z=(ie,ae,...Te)=>{if(ae<ie.logLevel)return;const Ge=(new Date).toISOString(),_e=he[ae];if(!_e)throw new Error(`Attempted to log a message with an invalid logType (value: ${ae})`);console[_e](`[${Ge}]  ${ie.name}:`,...Te)};class ee{constructor(ae){this.name=ae,this._logLevel=ye,this._logHandler=Z,this._userLogHandler=null,M.push(this)}get logLevel(){return this._logLevel}set logLevel(ae){if(!(ae in ue))throw new TypeError(`Invalid value "${ae}" assigned to \`logLevel\``);this._logLevel=ae}setLogLevel(ae){this._logLevel="string"==typeof ae?re[ae]:ae}get logHandler(){return this._logHandler}set logHandler(ae){if("function"!=typeof ae)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ae}get userLogHandler(){return this._userLogHandler}set userLogHandler(ae){this._userLogHandler=ae}debug(...ae){this._userLogHandler&&this._userLogHandler(this,ue.DEBUG,...ae),this._logHandler(this,ue.DEBUG,...ae)}log(...ae){this._userLogHandler&&this._userLogHandler(this,ue.VERBOSE,...ae),this._logHandler(this,ue.VERBOSE,...ae)}info(...ae){this._userLogHandler&&this._userLogHandler(this,ue.INFO,...ae),this._logHandler(this,ue.INFO,...ae)}warn(...ae){this._userLogHandler&&this._userLogHandler(this,ue.WARN,...ae),this._logHandler(this,ue.WARN,...ae)}error(...ae){this._userLogHandler&&this._userLogHandler(this,ue.ERROR,...ae),this._logHandler(this,ue.ERROR,...ae)}}},7037:(jt,We,H)=>{H.d(We,{Dk:()=>M.Dk,KO:()=>M.KO,Sx:()=>M.Sx,Wp:()=>M.Wp});var M=H(2979);(0,M.KO)("firebase","9.23.0","app")},345:(jt,We,H)=>{H.d(We,{B7:()=>ct,Bb:()=>dn,hE:()=>kr,sG:()=>nt,up:()=>yr});var M=H(7705),ue=H(177);class re extends ue.VF{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class ye extends re{static makeCurrent(){(0,ue.ZD)(new ye)}onAndCancel(X,q,W){return X.addEventListener(q,W),()=>{X.removeEventListener(q,W)}}dispatchEvent(X,q){X.dispatchEvent(q)}remove(X){X.parentNode&&X.parentNode.removeChild(X)}createElement(X,q){return(q=q||this.getDefaultDocument()).createElement(X)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(X){return X.nodeType===Node.ELEMENT_NODE}isShadowRoot(X){return X instanceof DocumentFragment}getGlobalEventTarget(X,q){return"window"===q?window:"document"===q?X:"body"===q?X.body:null}getBaseHref(X){const q=function Z(){return he=he||document.querySelector("base"),he?he.getAttribute("href"):null}();return null==q?null:function xe(G){ee=ee||document.createElement("a"),ee.setAttribute("href",G);const X=ee.pathname;return"/"===X.charAt(0)?X:`/${X}`}(q)}resetBaseElement(){he=null}getUserAgent(){return window.navigator.userAgent}getCookie(X){return(0,ue._b)(document.cookie,X)}}let ee,he=null,ie=(()=>{class G{build(){return new XMLHttpRequest}static{this.\u0275fac=function(W){return new(W||G)}}static{this.\u0275prov=M.jDH({token:G,factory:G.\u0275fac})}}return G})();const ae=new M.nKC("EventManagerPlugins");let Te=(()=>{class G{constructor(q,W){this._zone=W,this._eventNameToPlugin=new Map,q.forEach(we=>{we.manager=this}),this._plugins=q.slice().reverse()}addEventListener(q,W,we){return this._findPluginFor(W).addEventListener(q,W,we)}getZone(){return this._zone}_findPluginFor(q){let W=this._eventNameToPlugin.get(q);if(W)return W;if(W=this._plugins.find(tt=>tt.supports(q)),!W)throw new M.wOt(5101,!1);return this._eventNameToPlugin.set(q,W),W}static{this.\u0275fac=function(W){return new(W||G)(M.KVO(ae),M.KVO(M.SKi))}}static{this.\u0275prov=M.jDH({token:G,factory:G.\u0275fac})}}return G})();class Ge{constructor(X){this._doc=X}}const _e="ng-app-id";let ht=(()=>{class G{constructor(q,W,we,tt={}){this.doc=q,this.appId=W,this.nonce=we,this.platformId=tt,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,ue.Vy)(tt),this.resetHostNodes()}addStyles(q){for(const W of q)1===this.changeUsageCount(W,1)&&this.onStyleAdded(W)}removeStyles(q){for(const W of q)this.changeUsageCount(W,-1)<=0&&this.onStyleRemoved(W)}ngOnDestroy(){const q=this.styleNodesInDOM;q&&(q.forEach(W=>W.remove()),q.clear());for(const W of this.getAllStyles())this.onStyleRemoved(W);this.resetHostNodes()}addHost(q){this.hostNodes.add(q);for(const W of this.getAllStyles())this.addStyleToHost(q,W)}removeHost(q){this.hostNodes.delete(q)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(q){for(const W of this.hostNodes)this.addStyleToHost(W,q)}onStyleRemoved(q){const W=this.styleRef;W.get(q)?.elements?.forEach(we=>we.remove()),W.delete(q)}collectServerRenderedStyles(){const q=this.doc.head?.querySelectorAll(`style[${_e}="${this.appId}"]`);if(q?.length){const W=new Map;return q.forEach(we=>{null!=we.textContent&&W.set(we.textContent,we)}),W}return null}changeUsageCount(q,W){const we=this.styleRef;if(we.has(q)){const tt=we.get(q);return tt.usage+=W,tt.usage}return we.set(q,{usage:W,elements:[]}),W}getStyleElement(q,W){const we=this.styleNodesInDOM,tt=we?.get(W);if(tt?.parentNode===q)return we.delete(W),tt.removeAttribute(_e),tt;{const St=this.doc.createElement("style");return this.nonce&&St.setAttribute("nonce",this.nonce),St.textContent=W,this.platformIsServer&&St.setAttribute(_e,this.appId),St}}addStyleToHost(q,W){const we=this.getStyleElement(q,W);q.appendChild(we);const tt=this.styleRef,St=tt.get(W)?.elements;St?St.push(we):tt.set(W,{elements:[we],usage:1})}resetHostNodes(){const q=this.hostNodes;q.clear(),q.add(this.doc.head)}static{this.\u0275fac=function(W){return new(W||G)(M.KVO(ue.qQ),M.KVO(M.sZ2),M.KVO(M.BIS,8),M.KVO(M.Agw))}}static{this.\u0275prov=M.jDH({token:G,factory:G.\u0275fac})}}return G})();const Ve={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Ut=/%COMP%/g,ot=new M.nKC("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function ft(G,X){return X.map(q=>q.replace(Ut,G))}let ct=(()=>{class G{constructor(q,W,we,tt,St,Vt,en,zt=null){this.eventManager=q,this.sharedStylesHost=W,this.appId=we,this.removeStylesOnCompDestroy=tt,this.doc=St,this.platformId=Vt,this.ngZone=en,this.nonce=zt,this.rendererByCompId=new Map,this.platformIsServer=(0,ue.Vy)(Vt),this.defaultRenderer=new Jt(q,St,en,this.platformIsServer)}createRenderer(q,W){if(!q||!W)return this.defaultRenderer;this.platformIsServer&&W.encapsulation===M.gXe.ShadowDom&&(W={...W,encapsulation:M.gXe.Emulated});const we=this.getOrCreateRenderer(q,W);return we instanceof Qn?we.applyToHost(q):we instanceof Pn&&we.applyStyles(),we}getOrCreateRenderer(q,W){const we=this.rendererByCompId;let tt=we.get(W.id);if(!tt){const St=this.doc,Vt=this.ngZone,en=this.eventManager,zt=this.sharedStylesHost,un=this.removeStylesOnCompDestroy,ar=this.platformIsServer;switch(W.encapsulation){case M.gXe.Emulated:tt=new Qn(en,zt,W,this.appId,un,St,Vt,ar);break;case M.gXe.ShadowDom:return new lt(en,zt,q,W,St,Vt,this.nonce,ar);default:tt=new Pn(en,zt,W,un,St,Vt,ar)}we.set(W.id,tt)}return tt}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(W){return new(W||G)(M.KVO(Te),M.KVO(ht),M.KVO(M.sZ2),M.KVO(ot),M.KVO(ue.qQ),M.KVO(M.Agw),M.KVO(M.SKi),M.KVO(M.BIS))}}static{this.\u0275prov=M.jDH({token:G,factory:G.\u0275fac})}}return G})();class Jt{constructor(X,q,W,we){this.eventManager=X,this.doc=q,this.ngZone=W,this.platformIsServer=we,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(X,q){return q?this.doc.createElementNS(Ve[q]||q,X):this.doc.createElement(X)}createComment(X){return this.doc.createComment(X)}createText(X){return this.doc.createTextNode(X)}appendChild(X,q){(Br(X)?X.content:X).appendChild(q)}insertBefore(X,q,W){X&&(Br(X)?X.content:X).insertBefore(q,W)}removeChild(X,q){X&&X.removeChild(q)}selectRootElement(X,q){let W="string"==typeof X?this.doc.querySelector(X):X;if(!W)throw new M.wOt(-5104,!1);return q||(W.textContent=""),W}parentNode(X){return X.parentNode}nextSibling(X){return X.nextSibling}setAttribute(X,q,W,we){if(we){q=we+":"+q;const tt=Ve[we];tt?X.setAttributeNS(tt,q,W):X.setAttribute(q,W)}else X.setAttribute(q,W)}removeAttribute(X,q,W){if(W){const we=Ve[W];we?X.removeAttributeNS(we,q):X.removeAttribute(`${W}:${q}`)}else X.removeAttribute(q)}addClass(X,q){X.classList.add(q)}removeClass(X,q){X.classList.remove(q)}setStyle(X,q,W,we){we&(M.czy.DashCase|M.czy.Important)?X.style.setProperty(q,W,we&M.czy.Important?"important":""):X.style[q]=W}removeStyle(X,q,W){W&M.czy.DashCase?X.style.removeProperty(q):X.style[q]=""}setProperty(X,q,W){X[q]=W}setValue(X,q){X.nodeValue=q}listen(X,q,W){if("string"==typeof X&&!(X=(0,ue.QT)().getGlobalEventTarget(this.doc,X)))throw new Error(`Unsupported event target ${X} for event ${q}`);return this.eventManager.addEventListener(X,q,this.decoratePreventDefault(W))}decoratePreventDefault(X){return q=>{if("__ngUnwrap__"===q)return X;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>X(q)):X(q))&&q.preventDefault()}}}function Br(G){return"TEMPLATE"===G.tagName&&void 0!==G.content}class lt extends Jt{constructor(X,q,W,we,tt,St,Vt,en){super(X,tt,St,en),this.sharedStylesHost=q,this.hostEl=W,this.shadowRoot=W.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const zt=ft(we.id,we.styles);for(const un of zt){const ar=document.createElement("style");Vt&&ar.setAttribute("nonce",Vt),ar.textContent=un,this.shadowRoot.appendChild(ar)}}nodeOrShadowRoot(X){return X===this.hostEl?this.shadowRoot:X}appendChild(X,q){return super.appendChild(this.nodeOrShadowRoot(X),q)}insertBefore(X,q,W){return super.insertBefore(this.nodeOrShadowRoot(X),q,W)}removeChild(X,q){return super.removeChild(this.nodeOrShadowRoot(X),q)}parentNode(X){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(X)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Pn extends Jt{constructor(X,q,W,we,tt,St,Vt,en){super(X,tt,St,Vt),this.sharedStylesHost=q,this.removeStylesOnCompDestroy=we,this.styles=en?ft(en,W.styles):W.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Qn extends Pn{constructor(X,q,W,we,tt,St,Vt,en){const zt=we+"-"+W.id;super(X,q,W,tt,St,Vt,en,zt),this.contentAttr=function Ue(G){return"_ngcontent-%COMP%".replace(Ut,G)}(zt),this.hostAttr=function He(G){return"_nghost-%COMP%".replace(Ut,G)}(zt)}applyToHost(X){this.applyStyles(),this.setAttribute(X,this.hostAttr,"")}createElement(X,q){const W=super.createElement(X,q);return super.setAttribute(W,this.contentAttr,""),W}}let Cr=(()=>{class G extends Ge{constructor(q){super(q)}supports(q){return!0}addEventListener(q,W,we){return q.addEventListener(W,we,!1),()=>this.removeEventListener(q,W,we)}removeEventListener(q,W,we){return q.removeEventListener(W,we)}static{this.\u0275fac=function(W){return new(W||G)(M.KVO(ue.qQ))}}static{this.\u0275prov=M.jDH({token:G,factory:G.\u0275fac})}}return G})();const Jr=["alt","control","meta","shift"],jn={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Pr={alt:G=>G.altKey,control:G=>G.ctrlKey,meta:G=>G.metaKey,shift:G=>G.shiftKey};let Oe=(()=>{class G extends Ge{constructor(q){super(q)}supports(q){return null!=G.parseEventName(q)}addEventListener(q,W,we){const tt=G.parseEventName(W),St=G.eventCallback(tt.fullKey,we,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,ue.QT)().onAndCancel(q,tt.domEventName,St))}static parseEventName(q){const W=q.toLowerCase().split("."),we=W.shift();if(0===W.length||"keydown"!==we&&"keyup"!==we)return null;const tt=G._normalizeKey(W.pop());let St="",Vt=W.indexOf("code");if(Vt>-1&&(W.splice(Vt,1),St="code."),Jr.forEach(zt=>{const un=W.indexOf(zt);un>-1&&(W.splice(un,1),St+=zt+".")}),St+=tt,0!=W.length||0===tt.length)return null;const en={};return en.domEventName=we,en.fullKey=St,en}static matchEventFullKeyCode(q,W){let we=jn[q.key]||q.key,tt="";return W.indexOf("code.")>-1&&(we=q.code,tt="code."),!(null==we||!we)&&(we=we.toLowerCase()," "===we?we="space":"."===we&&(we="dot"),Jr.forEach(St=>{St!==we&&(0,Pr[St])(q)&&(tt+=St+".")}),tt+=we,tt===W)}static eventCallback(q,W,we){return tt=>{G.matchEventFullKeyCode(tt,q)&&we.runGuarded(()=>W(tt))}}static _normalizeKey(q){return"esc"===q?"escape":q}static{this.\u0275fac=function(W){return new(W||G)(M.KVO(ue.qQ))}}static{this.\u0275prov=M.jDH({token:G,factory:G.\u0275fac})}}return G})();const nt=(0,M.oH4)(M.fpN,"browser",[{provide:M.Agw,useValue:ue.AJ},{provide:M.PLl,useValue:function je(){ye.makeCurrent()},multi:!0},{provide:ue.qQ,useFactory:function Kt(){return(0,M.TL$)(document),document},deps:[]}]),Nn=new M.nKC(""),Sn=[{provide:M.e01,useClass:class $e{addToWindow(X){M.JZv.getAngularTestability=(W,we=!0)=>{const tt=X.findTestabilityInTree(W,we);if(null==tt)throw new M.wOt(5103,!1);return tt},M.JZv.getAllAngularTestabilities=()=>X.getAllTestabilities(),M.JZv.getAllAngularRootElements=()=>X.getAllRootElements(),M.JZv.frameworkStabilizers||(M.JZv.frameworkStabilizers=[]),M.JZv.frameworkStabilizers.push(W=>{const we=M.JZv.getAllAngularTestabilities();let tt=we.length,St=!1;const Vt=function(en){St=St||en,tt--,0==tt&&W(St)};we.forEach(en=>{en.whenStable(Vt)})})}findTestabilityInTree(X,q,W){return null==q?null:X.getTestability(q)??(W?(0,ue.QT)().isShadowRoot(q)?this.findTestabilityInTree(X,q.host,!0):this.findTestabilityInTree(X,q.parentElement,!0):null)}},deps:[]},{provide:M.WHO,useClass:M.NYb,deps:[M.SKi,M.giA,M.e01]},{provide:M.NYb,useClass:M.NYb,deps:[M.SKi,M.giA,M.e01]}],Jn=[{provide:M.H8p,useValue:"root"},{provide:M.zcH,useFactory:function Dt(){return new M.zcH},deps:[]},{provide:ae,useClass:Cr,multi:!0,deps:[ue.qQ,M.SKi,M.Agw]},{provide:ae,useClass:Oe,multi:!0,deps:[ue.qQ]},ct,ht,Te,{provide:M._9s,useExisting:ct},{provide:ue.N0,useClass:ie,deps:[]},[]];let dn=(()=>{class G{constructor(q){}static withServerTransition(q){return{ngModule:G,providers:[{provide:M.sZ2,useValue:q.appId}]}}static{this.\u0275fac=function(W){return new(W||G)(M.KVO(Nn,12))}}static{this.\u0275mod=M.$C({type:G})}static{this.\u0275inj=M.G2t({providers:[...Jn,...Sn],imports:[ue.MD,M.Hbi]})}}return G})(),kr=(()=>{class G{constructor(q){this._doc=q}getTitle(){return this._doc.title}setTitle(q){this._doc.title=q||""}static{this.\u0275fac=function(W){return new(W||G)(M.KVO(ue.qQ))}}static{this.\u0275prov=M.jDH({token:G,factory:function(W){let we=null;return we=W?new W:function er(){return new kr((0,M.KVO)(ue.qQ))}(),we},providedIn:"root"})}}return G})();typeof window<"u"&&window;let yr=(()=>{class G{static{this.\u0275fac=function(W){return new(W||G)}}static{this.\u0275prov=M.jDH({token:G,factory:function(W){let we=null;return we=W?new(W||G):M.KVO(Ii),we},providedIn:"root"})}}return G})(),Ii=(()=>{class G extends yr{constructor(q){super(),this._doc=q}sanitize(q,W){if(null==W)return null;switch(q){case M.WPN.NONE:return W;case M.WPN.HTML:return(0,M.ZF7)(W,"HTML")?(0,M.rcV)(W):(0,M.h9k)(this._doc,String(W)).toString();case M.WPN.STYLE:return(0,M.ZF7)(W,"Style")?(0,M.rcV)(W):W;case M.WPN.SCRIPT:if((0,M.ZF7)(W,"Script"))return(0,M.rcV)(W);throw new M.wOt(5200,!1);case M.WPN.URL:return(0,M.ZF7)(W,"URL")?(0,M.rcV)(W):(0,M.$MX)(String(W));case M.WPN.RESOURCE_URL:if((0,M.ZF7)(W,"ResourceURL"))return(0,M.rcV)(W);throw new M.wOt(5201,!1);default:throw new M.wOt(5202,!1)}}bypassSecurityTrustHtml(q){return(0,M.Kcf)(q)}bypassSecurityTrustStyle(q){return(0,M.cWb)(q)}bypassSecurityTrustScript(q){return(0,M.UyX)(q)}bypassSecurityTrustUrl(q){return(0,M.osQ)(q)}bypassSecurityTrustResourceUrl(q){return(0,M.e5t)(q)}static{this.\u0275fac=function(W){return new(W||G)(M.KVO(ue.qQ))}}static{this.\u0275prov=M.jDH({token:G,factory:function(W){let we=null;return we=W?new W:function $r(G){return new Ii(G.get(ue.qQ))}(M.KVO(M.zZn)),we},providedIn:"root"})}}return G})()},5574:(jt,We,H)=>{H.d(We,{Ix:()=>gr,Wk:()=>fa,iI:()=>co,n3:()=>Is});var M=H(7705),ue=H(1985),re=H(8071),he=H(8455),Z=H(7673),ee=H(4412),xe=H(4572);const ie=(0,H(1853).L)(_=>function(){_(this),this.name="EmptyError",this.message="no elements in sequence"});var ae=H(8793),Te=H(8750);function Ge(_){return new ue.c(S=>{(0,Te.Tg)(_()).subscribe(S)})}var _e=H(1203),ht=H(8810),Ve=H(983),Ut=H(8359),kt=H(9974),bn=H(4360);function On(){return(0,kt.N)((_,S)=>{let y=null;_._refCount++;const A=(0,bn._)(S,void 0,void 0,void 0,()=>{if(!_||_._refCount<=0||0<--_._refCount)return void(y=null);const P=_._connection,K=y;y=null,P&&(!K||P===K)&&P.unsubscribe(),S.unsubscribe()});_.subscribe(A),A.closed||(y=_.connect())})}class Ae extends ue.c{constructor(S,y){super(),this.source=S,this.subjectFactory=y,this._subject=null,this._refCount=0,this._connection=null,(0,kt.S)(S)&&(this.lift=S.lift)}_subscribe(S){return this.getSubject().subscribe(S)}getSubject(){const S=this._subject;return(!S||S.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:S}=this;this._subject=this._connection=null,S?.unsubscribe()}connect(){let S=this._connection;if(!S){S=this._connection=new Ut.yU;const y=this.getSubject();S.add(this.source.subscribe((0,bn._)(y,void 0,()=>{this._teardown(),y.complete()},A=>{this._teardown(),y.error(A)},()=>this._teardown()))),S.closed&&(this._connection=null,S=Ut.yU.EMPTY)}return S}refCount(){return On()(this)}}var ot=H(1413),Ue=H(177),He=H(6354),ft=H(5558),ct=H(6697),Jt=H(9172),fn=H(5964),pn=H(1397);function Br(_){return(0,kt.N)((S,y)=>{let A=!1;S.subscribe((0,bn._)(y,P=>{A=!0,y.next(P)},()=>{A||y.next(_),y.complete()}))})}function lt(_=Pn){return(0,kt.N)((S,y)=>{let A=!1;S.subscribe((0,bn._)(y,P=>{A=!0,y.next(P)},()=>A?y.complete():y.error(_())))})}function Pn(){return new ie}var Qn=H(3669);function Cr(_,S){const y=arguments.length>=2;return A=>A.pipe(_?(0,fn.p)((P,K)=>_(P,K,A)):Qn.D,(0,ct.s)(1),y?Br(S):lt(()=>new ie))}var Jr=H(274),jn=H(8141),Pr=H(9437);function ke(_){return _<=0?()=>Ve.w:(0,kt.N)((S,y)=>{let A=[];S.subscribe((0,bn._)(y,P=>{A.push(P),_<A.length&&A.shift()},()=>{for(const P of A)y.next(P);y.complete()},void 0,()=>{A=null}))})}var je=H(980),Dt=H(6977),Kt=H(6365),Un=H(345);const nt="primary",Nn=Symbol("RouteTitle");class Sn{constructor(S){this.params=S||{}}has(S){return Object.prototype.hasOwnProperty.call(this.params,S)}get(S){if(this.has(S)){const y=this.params[S];return Array.isArray(y)?y[0]:y}return null}getAll(S){if(this.has(S)){const y=this.params[S];return Array.isArray(y)?y:[y]}return[]}get keys(){return Object.keys(this.params)}}function Jn(_){return new Sn(_)}function dn(_,S,y){const A=y.path.split("/");if(A.length>_.length||"full"===y.pathMatch&&(S.hasChildren()||A.length<_.length))return null;const P={};for(let K=0;K<A.length;K++){const oe=A[K],Me=_[K];if(oe.startsWith(":"))P[oe.substring(1)]=Me;else if(oe!==Me.path)return null}return{consumed:_.slice(0,A.length),posParams:P}}function Rn(_,S){const y=_?Object.keys(_):void 0,A=S?Object.keys(S):void 0;if(!y||!A||y.length!=A.length)return!1;let P;for(let K=0;K<y.length;K++)if(P=y[K],!qr(_[P],S[P]))return!1;return!0}function qr(_,S){if(Array.isArray(_)&&Array.isArray(S)){if(_.length!==S.length)return!1;const y=[..._].sort(),A=[...S].sort();return y.every((P,K)=>A[K]===P)}return _===S}function er(_){return _.length>0?_[_.length-1]:null}function kr(_){return function ye(_){return!!_&&(_ instanceof ue.c||(0,re.T)(_.lift)&&(0,re.T)(_.subscribe))}(_)?_:(0,M.jNT)(_)?(0,he.H)(Promise.resolve(_)):(0,Z.of)(_)}const pi={exact:function hn(_,S,y){if(!on(_.segments,S.segments)||!In(_.segments,S.segments,y)||_.numberOfChildren!==S.numberOfChildren)return!1;for(const A in S.children)if(!_.children[A]||!hn(_.children[A],S.children[A],y))return!1;return!0},subset:Lr},jr={exact:function vn(_,S){return Rn(_,S)},subset:function $n(_,S){return Object.keys(S).length<=Object.keys(_).length&&Object.keys(S).every(y=>qr(_[y],S[y]))},ignored:()=>!0};function qt(_,S,y){return pi[y.paths](_.root,S.root,y.matrixParams)&&jr[y.queryParams](_.queryParams,S.queryParams)&&!("exact"===y.fragment&&_.fragment!==S.fragment)}function Lr(_,S,y){return Qr(_,S,S.segments,y)}function Qr(_,S,y,A){if(_.segments.length>y.length){const P=_.segments.slice(0,y.length);return!(!on(P,y)||S.hasChildren()||!In(P,y,A))}if(_.segments.length===y.length){if(!on(_.segments,y)||!In(_.segments,y,A))return!1;for(const P in S.children)if(!_.children[P]||!Lr(_.children[P],S.children[P],A))return!1;return!0}{const P=y.slice(0,_.segments.length),K=y.slice(_.segments.length);return!!(on(_.segments,P)&&In(_.segments,P,A)&&_.children[nt])&&Qr(_.children[nt],S,K,A)}}function In(_,S,y){return S.every((A,P)=>jr[y](_[P].parameters,A.parameters))}class or{constructor(S=new yn([],{}),y={},A=null){this.root=S,this.queryParams=y,this.fragment=A}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Jn(this.queryParams)),this._queryParamMap}toString(){return $r.serialize(this)}}class yn{constructor(S,y){this.segments=S,this.children=y,this.parent=null,Object.values(y).forEach(A=>A.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ii(this)}}class Ot{constructor(S,y){this.path=S,this.parameters=y}get parameterMap(){return this._parameterMap||(this._parameterMap=Jn(this.parameters)),this._parameterMap}toString(){return de(this)}}function on(_,S){return _.length===S.length&&_.every((y,A)=>y.path===S[A].path)}let Nr=(()=>{class _{static{this.\u0275fac=function(A){return new(A||_)}}static{this.\u0275prov=M.jDH({token:_,factory:function(){return new yr},providedIn:"root"})}}return _})();class yr{parse(S){const y=new un(S);return new or(y.parseRootSegment(),y.parseQueryParams(),y.parseFragment())}serialize(S){const y=`/${Di(S.root,!0)}`,A=function X(_){const S=Object.keys(_).map(y=>{const A=_[y];return Array.isArray(A)?A.map(P=>`${wr(y)}=${wr(P)}`).join("&"):`${wr(y)}=${wr(A)}`}).filter(y=>!!y);return S.length?`?${S.join("&")}`:""}(S.queryParams);return`${y}${A}${"string"==typeof S.fragment?`#${function $i(_){return encodeURI(_)}(S.fragment)}`:""}`}}const $r=new yr;function Ii(_){return _.segments.map(S=>de(S)).join("/")}function Di(_,S){if(!_.hasChildren())return Ii(_);if(S){const y=_.children[nt]?Di(_.children[nt],!1):"",A=[];return Object.entries(_.children).forEach(([P,K])=>{P!==nt&&A.push(`${P}:${Di(K,!1)}`)}),A.length>0?`${y}(${A.join("//")})`:y}{const y=function wi(_,S){let y=[];return Object.entries(_.children).forEach(([A,P])=>{A===nt&&(y=y.concat(S(P,A)))}),Object.entries(_.children).forEach(([A,P])=>{A!==nt&&(y=y.concat(S(P,A)))}),y}(_,(A,P)=>P===nt?[Di(_.children[nt],!1)]:[`${P}:${Di(A,!1)}`]);return 1===Object.keys(_.children).length&&null!=_.children[nt]?`${Ii(_)}/${y[0]}`:`${Ii(_)}/(${y.join("//")})`}}function Ti(_){return encodeURIComponent(_).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function wr(_){return Ti(_).replace(/%3B/gi,";")}function Hn(_){return Ti(_).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function xn(_){return decodeURIComponent(_)}function Ir(_){return xn(_.replace(/\+/g,"%20"))}function de(_){return`${Hn(_.path)}${function G(_){return Object.keys(_).map(S=>`;${Hn(S)}=${Hn(_[S])}`).join("")}(_.parameters)}`}const q=/^[^\/()?;#]+/;function W(_){const S=_.match(q);return S?S[0]:""}const we=/^[^\/()?;=#]+/,St=/^[^=?&#]+/,en=/^[^&#]+/;class un{constructor(S){this.url=S,this.remaining=S}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new yn([],{}):new yn([],this.parseChildren())}parseQueryParams(){const S={};if(this.consumeOptional("?"))do{this.parseQueryParam(S)}while(this.consumeOptional("&"));return S}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const S=[];for(this.peekStartsWith("(")||S.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),S.push(this.parseSegment());let y={};this.peekStartsWith("/(")&&(this.capture("/"),y=this.parseParens(!0));let A={};return this.peekStartsWith("(")&&(A=this.parseParens(!1)),(S.length>0||Object.keys(y).length>0)&&(A[nt]=new yn(S,y)),A}parseSegment(){const S=W(this.remaining);if(""===S&&this.peekStartsWith(";"))throw new M.wOt(4009,!1);return this.capture(S),new Ot(xn(S),this.parseMatrixParams())}parseMatrixParams(){const S={};for(;this.consumeOptional(";");)this.parseParam(S);return S}parseParam(S){const y=function tt(_){const S=_.match(we);return S?S[0]:""}(this.remaining);if(!y)return;this.capture(y);let A="";if(this.consumeOptional("=")){const P=W(this.remaining);P&&(A=P,this.capture(A))}S[xn(y)]=xn(A)}parseQueryParam(S){const y=function Vt(_){const S=_.match(St);return S?S[0]:""}(this.remaining);if(!y)return;this.capture(y);let A="";if(this.consumeOptional("=")){const oe=function zt(_){const S=_.match(en);return S?S[0]:""}(this.remaining);oe&&(A=oe,this.capture(A))}const P=Ir(y),K=Ir(A);if(S.hasOwnProperty(P)){let oe=S[P];Array.isArray(oe)||(oe=[oe],S[P]=oe),oe.push(K)}else S[P]=K}parseParens(S){const y={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const A=W(this.remaining),P=this.remaining[A.length];if("/"!==P&&")"!==P&&";"!==P)throw new M.wOt(4010,!1);let K;A.indexOf(":")>-1?(K=A.slice(0,A.indexOf(":")),this.capture(K),this.capture(":")):S&&(K=nt);const oe=this.parseChildren();y[K]=1===Object.keys(oe).length?oe[nt]:new yn([],oe),this.consumeOptional("//")}return y}peekStartsWith(S){return this.remaining.startsWith(S)}consumeOptional(S){return!!this.peekStartsWith(S)&&(this.remaining=this.remaining.substring(S.length),!0)}capture(S){if(!this.consumeOptional(S))throw new M.wOt(4011,!1)}}function ar(_){return _.segments.length>0?new yn([],{[nt]:_}):_}function Hr(_){const S={};for(const A of Object.keys(_.children)){const K=Hr(_.children[A]);if(A===nt&&0===K.segments.length&&K.hasChildren())for(const[oe,Me]of Object.entries(K.children))S[oe]=Me;else(K.segments.length>0||K.hasChildren())&&(S[A]=K)}return function zr(_){if(1===_.numberOfChildren&&_.children[nt]){const S=_.children[nt];return new yn(_.segments.concat(S.segments),S.children)}return _}(new yn(_.segments,S))}function gi(_){return _ instanceof or}function Ce(_){let S;const P=ar(function y(K){const oe={};for(const Pe of K.children){const xt=y(Pe);oe[Pe.outlet]=xt}const Me=new yn(K.url,oe);return K===_&&(S=Me),Me}(_.root));return S??P}function at(_,S,y,A){let P=_;for(;P.parent;)P=P.parent;if(0===S.length)return Rt(P,P,P,y,A);const K=function ur(_){if("string"==typeof _[0]&&1===_.length&&"/"===_[0])return new Xn(!0,0,_);let S=0,y=!1;const A=_.reduce((P,K,oe)=>{if("object"==typeof K&&null!=K){if(K.outlets){const Me={};return Object.entries(K.outlets).forEach(([Pe,xt])=>{Me[Pe]="string"==typeof xt?xt.split("/"):xt}),[...P,{outlets:Me}]}if(K.segmentPath)return[...P,K.segmentPath]}return"string"!=typeof K?[...P,K]:0===oe?(K.split("/").forEach((Me,Pe)=>{0==Pe&&"."===Me||(0==Pe&&""===Me?y=!0:".."===Me?S++:""!=Me&&P.push(Me))}),P):[...P,K]},[]);return new Xn(y,S,A)}(S);if(K.toRoot())return Rt(P,P,new yn([],{}),y,A);const oe=function Hi(_,S,y){if(_.isAbsolute)return new br(S,!0,0);if(!y)return new br(S,!1,NaN);if(null===y.parent)return new br(y,!0,0);const A=Lt(_.commands[0])?0:1;return function Qi(_,S,y){let A=_,P=S,K=y;for(;K>P;){if(K-=P,A=A.parent,!A)throw new M.wOt(4005,!1);P=A.segments.length}return new br(A,!1,P-K)}(y,y.segments.length-1+A,_.numberOfDoubleDots)}(K,P,_),Me=oe.processChildren?Pi(oe.segmentGroup,oe.index,K.commands):zi(oe.segmentGroup,oe.index,K.commands);return Rt(P,oe.segmentGroup,Me,y,A)}function Lt(_){return"object"==typeof _&&null!=_&&!_.outlets&&!_.segmentPath}function Wt(_){return"object"==typeof _&&null!=_&&_.outlets}function Rt(_,S,y,A,P){let oe,K={};A&&Object.entries(A).forEach(([Pe,xt])=>{K[Pe]=Array.isArray(xt)?xt.map(An=>`${An}`):`${xt}`}),oe=_===S?y:ln(_,S,y);const Me=ar(Hr(oe));return new or(Me,K,P)}function ln(_,S,y){const A={};return Object.entries(_.children).forEach(([P,K])=>{A[P]=K===S?y:ln(K,S,y)}),new yn(_.segments,A)}class Xn{constructor(S,y,A){if(this.isAbsolute=S,this.numberOfDoubleDots=y,this.commands=A,S&&A.length>0&&Lt(A[0]))throw new M.wOt(4003,!1);const P=A.find(Wt);if(P&&P!==er(A))throw new M.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class br{constructor(S,y,A){this.segmentGroup=S,this.processChildren=y,this.index=A}}function zi(_,S,y){if(_||(_=new yn([],{})),0===_.segments.length&&_.hasChildren())return Pi(_,S,y);const A=function eo(_,S,y){let A=0,P=S;const K={match:!1,pathIndex:0,commandIndex:0};for(;P<_.segments.length;){if(A>=y.length)return K;const oe=_.segments[P],Me=y[A];if(Wt(Me))break;const Pe=`${Me}`,xt=A<y.length-1?y[A+1]:null;if(P>0&&void 0===Pe)break;if(Pe&&xt&&"object"==typeof xt&&void 0===xt.outlets){if(!Es(Pe,xt,oe))return K;A+=2}else{if(!Es(Pe,{},oe))return K;A++}P++}return{match:!0,pathIndex:P,commandIndex:A}}(_,S,y),P=y.slice(A.commandIndex);if(A.match&&A.pathIndex<_.segments.length){const K=new yn(_.segments.slice(0,A.pathIndex),{});return K.children[nt]=new yn(_.segments.slice(A.pathIndex),_.children),Pi(K,0,P)}return A.match&&0===P.length?new yn(_.segments,{}):A.match&&!_.hasChildren()?ls(_,S,y):A.match?Pi(_,0,P):ls(_,S,y)}function Pi(_,S,y){if(0===y.length)return new yn(_.segments,{});{const A=function cs(_){return Wt(_[0])?_[0].outlets:{[nt]:_}}(y),P={};if(Object.keys(A).some(K=>K!==nt)&&_.children[nt]&&1===_.numberOfChildren&&0===_.children[nt].segments.length){const K=Pi(_.children[nt],S,y);return new yn(_.segments,K.children)}return Object.entries(A).forEach(([K,oe])=>{"string"==typeof oe&&(oe=[oe]),null!==oe&&(P[K]=zi(_.children[K],S,oe))}),Object.entries(_.children).forEach(([K,oe])=>{void 0===A[K]&&(P[K]=oe)}),new yn(_.segments,P)}}function ls(_,S,y){const A=_.segments.slice(0,S);let P=0;for(;P<y.length;){const K=y[P];if(Wt(K)){const Pe=_s(K.outlets);return new yn(A,Pe)}if(0===P&&Lt(y[0])){A.push(new Ot(_.segments[S].path,ei(y[0]))),P++;continue}const oe=Wt(K)?K.outlets[nt]:`${K}`,Me=P<y.length-1?y[P+1]:null;oe&&Me&&Lt(Me)?(A.push(new Ot(oe,ei(Me))),P+=2):(A.push(new Ot(oe,{})),P++)}return new yn(A,{})}function _s(_){const S={};return Object.entries(_).forEach(([y,A])=>{"string"==typeof A&&(A=[A]),null!==A&&(S[y]=ls(new yn([],{}),0,A))}),S}function ei(_){const S={};return Object.entries(_).forEach(([y,A])=>S[y]=`${A}`),S}function Es(_,S,y){return _==y.path&&Rn(S,y.parameters)}const vr="imperative";class Gi{constructor(S,y){this.id=S,this.url=y}}class Co extends Gi{constructor(S,y,A="imperative",P=null){super(S,y),this.type=0,this.navigationTrigger=A,this.restoredState=P}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ge extends Gi{constructor(S,y,A){super(S,y),this.urlAfterRedirects=A,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class pe extends Gi{constructor(S,y,A,P){super(S,y),this.reason=A,this.code=P,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ne extends Gi{constructor(S,y,A,P){super(S,y),this.reason=A,this.code=P,this.type=16}}class Je extends Gi{constructor(S,y,A,P){super(S,y),this.error=A,this.target=P,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class pt extends Gi{constructor(S,y,A,P){super(S,y),this.urlAfterRedirects=A,this.state=P,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class tn extends Gi{constructor(S,y,A,P){super(S,y),this.urlAfterRedirects=A,this.state=P,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class zn extends Gi{constructor(S,y,A,P,K){super(S,y),this.urlAfterRedirects=A,this.state=P,this.shouldActivate=K,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class kn extends Gi{constructor(S,y,A,P){super(S,y),this.urlAfterRedirects=A,this.state=P,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Vn extends Gi{constructor(S,y,A,P){super(S,y),this.urlAfterRedirects=A,this.state=P,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Xi{constructor(S){this.route=S,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class li{constructor(S){this.route=S,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Ci{constructor(S){this.snapshot=S,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ti{constructor(S){this.snapshot=S,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class bo{constructor(S){this.snapshot=S,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Go{constructor(S){this.snapshot=S,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class go{constructor(S,y,A){this.routerEvent=S,this.position=y,this.anchor=A,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class ks{}class So{constructor(S){this.url=S}}class Wo{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Ls,this.attachRef=null}}let Ls=(()=>{class _{constructor(){this.contexts=new Map}onChildOutletCreated(y,A){const P=this.getOrCreateContext(y);P.outlet=A,this.contexts.set(y,P)}onChildOutletDestroyed(y){const A=this.getContext(y);A&&(A.outlet=null,A.attachRef=null)}onOutletDeactivated(){const y=this.contexts;return this.contexts=new Map,y}onOutletReAttached(y){this.contexts=y}getOrCreateContext(y){let A=this.getContext(y);return A||(A=new Wo,this.contexts.set(y,A)),A}getContext(y){return this.contexts.get(y)||null}static{this.\u0275fac=function(A){return new(A||_)}}static{this.\u0275prov=M.jDH({token:_,factory:_.\u0275fac,providedIn:"root"})}}return _})();class En{constructor(S){this._root=S}get root(){return this._root.value}parent(S){const y=this.pathFromRoot(S);return y.length>1?y[y.length-2]:null}children(S){const y=Yn(S,this._root);return y?y.children.map(A=>A.value):[]}firstChild(S){const y=Yn(S,this._root);return y&&y.children.length>0?y.children[0].value:null}siblings(S){const y=Fr(S,this._root);return y.length<2?[]:y[y.length-2].children.map(P=>P.value).filter(P=>P!==S)}pathFromRoot(S){return Fr(S,this._root).map(y=>y.value)}}function Yn(_,S){if(_===S.value)return S;for(const y of S.children){const A=Yn(_,y);if(A)return A}return null}function Fr(_,S){if(_===S.value)return[S];for(const y of S.children){const A=Fr(_,y);if(A.length)return A.unshift(S),A}return[]}class ni{constructor(S,y){this.value=S,this.children=y}toString(){return`TreeNode(${this.value})`}}function Gr(_){const S={};return _&&_.children.forEach(y=>S[y.value.outlet]=y),S}class ua extends En{constructor(S,y){super(S),this.snapshot=y,rn(this,S)}toString(){return this.snapshot.toString()}}function Ao(_,S){const y=function ca(_,S){const oe=new Tt([],{},{},"",{},nt,S,null,{});return new nn("",new ni(oe,[]))}(0,S),A=new ee.t([new Ot("",{})]),P=new ee.t({}),K=new ee.t({}),oe=new ee.t({}),Me=new ee.t(""),Pe=new bi(A,P,oe,Me,K,nt,S,y.root);return Pe.snapshot=y.root,new ua(new ni(Pe,[]),y)}class bi{constructor(S,y,A,P,K,oe,Me,Pe){this.urlSubject=S,this.paramsSubject=y,this.queryParamsSubject=A,this.fragmentSubject=P,this.dataSubject=K,this.outlet=oe,this.component=Me,this._futureSnapshot=Pe,this.title=this.dataSubject?.pipe((0,He.T)(xt=>xt[Nn]))??(0,Z.of)(void 0),this.url=S,this.params=y,this.queryParams=A,this.fragment=P,this.data=K}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,He.T)(S=>Jn(S)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,He.T)(S=>Jn(S)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function ws(_,S="emptyOnly"){const y=_.pathFromRoot;let A=0;if("always"!==S)for(A=y.length-1;A>=1;){const P=y[A],K=y[A-1];if(P.routeConfig&&""===P.routeConfig.path)A--;else{if(K.component)break;A--}}return function cr(_){return _.reduce((S,y)=>({params:{...S.params,...y.params},data:{...S.data,...y.data},resolve:{...y.data,...S.resolve,...y.routeConfig?.data,...y._resolvedData}}),{params:{},data:{},resolve:{}})}(y.slice(A))}class Tt{get title(){return this.data?.[Nn]}constructor(S,y,A,P,K,oe,Me,Pe,xt){this.url=S,this.params=y,this.queryParams=A,this.fragment=P,this.data=K,this.outlet=oe,this.component=Me,this.routeConfig=Pe,this._resolve=xt}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Jn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Jn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(A=>A.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class nn extends En{constructor(S,y){super(y),this.url=S,rn(this,y)}toString(){return ri(this._root)}}function rn(_,S){S.value._routerState=_,S.children.forEach(y=>rn(_,y))}function ri(_){const S=_.children.length>0?` { ${_.children.map(ri).join(", ")} } `:"";return`${_.value}${S}`}function Yi(_){if(_.snapshot){const S=_.snapshot,y=_._futureSnapshot;_.snapshot=y,Rn(S.queryParams,y.queryParams)||_.queryParamsSubject.next(y.queryParams),S.fragment!==y.fragment&&_.fragmentSubject.next(y.fragment),Rn(S.params,y.params)||_.paramsSubject.next(y.params),function Er(_,S){if(_.length!==S.length)return!1;for(let y=0;y<_.length;++y)if(!Rn(_[y],S[y]))return!1;return!0}(S.url,y.url)||_.urlSubject.next(y.url),Rn(S.data,y.data)||_.dataSubject.next(y.data)}else _.snapshot=_._futureSnapshot,_.dataSubject.next(_._futureSnapshot.data)}function Wr(_,S){const y=Rn(_.params,S.params)&&function Ei(_,S){return on(_,S)&&_.every((y,A)=>Rn(y.parameters,S[A].parameters))}(_.url,S.url);return y&&!(!_.parent!=!S.parent)&&(!_.parent||Wr(_.parent,S.parent))}let Is=(()=>{class _{constructor(){this.activated=null,this._activatedRoute=null,this.name=nt,this.activateEvents=new M.bkB,this.deactivateEvents=new M.bkB,this.attachEvents=new M.bkB,this.detachEvents=new M.bkB,this.parentContexts=(0,M.WQX)(Ls),this.location=(0,M.WQX)(M.c1b),this.changeDetector=(0,M.WQX)(M.gRc),this.environmentInjector=(0,M.WQX)(M.uvJ),this.inputBinder=(0,M.WQX)(Wi,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(y){if(y.name){const{firstChange:A,previousValue:P}=y.name;if(A)return;this.isTrackedInParentContexts(P)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(P)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(y){return this.parentContexts.getContext(y)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const y=this.parentContexts.getContext(this.name);y?.route&&(y.attachRef?this.attach(y.attachRef,y.route):this.activateWith(y.route,y.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new M.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new M.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new M.wOt(4012,!1);this.location.detach();const y=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(y.instance),y}attach(y,A){this.activated=y,this._activatedRoute=A,this.location.insert(y.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(y.instance)}deactivate(){if(this.activated){const y=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(y)}}activateWith(y,A){if(this.isActivated)throw new M.wOt(4013,!1);this._activatedRoute=y;const P=this.location,oe=y.snapshot.component,Me=this.parentContexts.getOrCreateContext(this.name).children,Pe=new Kr(y,Me,P.injector);this.activated=P.createComponent(oe,{index:P.length,injector:Pe,environmentInjector:A??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(A){return new(A||_)}}static{this.\u0275dir=M.FsC({type:_,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[M.OA$]})}}return _})();class Kr{constructor(S,y,A){this.route=S,this.childContexts=y,this.parent=A}get(S,y){return S===bi?this.route:S===Ls?this.childContexts:this.parent.get(S,y)}}const Wi=new M.nKC("");let Fs=(()=>{class _{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(y){this.unsubscribeFromRouteData(y),this.subscribeToRouteData(y)}unsubscribeFromRouteData(y){this.outletDataSubscriptions.get(y)?.unsubscribe(),this.outletDataSubscriptions.delete(y)}subscribeToRouteData(y){const{activatedRoute:A}=y,P=(0,xe.z)([A.queryParams,A.params,A.data]).pipe((0,ft.n)(([K,oe,Me],Pe)=>(Me={...K,...oe,...Me},0===Pe?(0,Z.of)(Me):Promise.resolve(Me)))).subscribe(K=>{if(!y.isActivated||!y.activatedComponentRef||y.activatedRoute!==A||null===A.component)return void this.unsubscribeFromRouteData(y);const oe=(0,M.HJs)(A.component);if(oe)for(const{templateName:Me}of oe.inputs)y.activatedComponentRef.setInput(Me,K[Me]);else this.unsubscribeFromRouteData(y)});this.outletDataSubscriptions.set(y,P)}static{this.\u0275fac=function(A){return new(A||_)}}static{this.\u0275prov=M.jDH({token:_,factory:_.\u0275fac})}}return _})();function Us(_,S,y){if(y&&_.shouldReuseRoute(S.value,y.value.snapshot)){const A=y.value;A._futureSnapshot=S.value;const P=function to(_,S,y){return S.children.map(A=>{for(const P of y.children)if(_.shouldReuseRoute(A.value,P.value.snapshot))return Us(_,A,P);return Us(_,A)})}(_,S,y);return new ni(A,P)}{if(_.shouldAttach(S.value)){const K=_.retrieve(S.value);if(null!==K){const oe=K.route;return oe.value._futureSnapshot=S.value,oe.children=S.children.map(Me=>Us(_,Me)),oe}}const A=function ki(_){return new bi(new ee.t(_.url),new ee.t(_.params),new ee.t(_.queryParams),new ee.t(_.fragment),new ee.t(_.data),_.outlet,_.component,_)}(S.value),P=S.children.map(K=>Us(_,K));return new ni(A,P)}}const hr="ngNavigationCancelingError";function Mo(_,S){const{redirectTo:y,navigationBehaviorOptions:A}=gi(S)?{redirectTo:S,navigationBehaviorOptions:void 0}:S,P=qs(!1,0,S);return P.url=y,P.navigationBehaviorOptions=A,P}function qs(_,S,y){const A=new Error("NavigationCancelingError: "+(_||""));return A[hr]=!0,A.cancellationCode=S,y&&(A.url=y),A}function no(_){return _&&_[hr]}let la=(()=>{class _{static{this.\u0275fac=function(A){return new(A||_)}}static{this.\u0275cmp=M.VBU({type:_,selectors:[["ng-component"]],standalone:!0,features:[M.aNF],decls:1,vars:0,template:function(A,P){1&A&&M.nrm(0,"router-outlet")},dependencies:[Is],encapsulation:2})}}return _})();function Vs(_){const S=_.children&&_.children.map(Vs),y=S?{..._,children:S}:{..._};return!y.component&&!y.loadComponent&&(S||y.loadChildren)&&y.outlet&&y.outlet!==nt&&(y.component=la),y}function Si(_){return _.outlet||nt}function Dr(_){if(!_)return null;if(_.routeConfig?._injector)return _.routeConfig._injector;for(let S=_.parent;S;S=S.parent){const y=S.routeConfig;if(y?._loadedInjector)return y._loadedInjector;if(y?._injector)return y._injector}return null}class yi{constructor(S,y,A,P,K){this.routeReuseStrategy=S,this.futureState=y,this.currState=A,this.forwardEvent=P,this.inputBindingEnabled=K}activate(S){const y=this.futureState._root,A=this.currState?this.currState._root:null;this.deactivateChildRoutes(y,A,S),Yi(this.futureState.root),this.activateChildRoutes(y,A,S)}deactivateChildRoutes(S,y,A){const P=Gr(y);S.children.forEach(K=>{const oe=K.value.outlet;this.deactivateRoutes(K,P[oe],A),delete P[oe]}),Object.values(P).forEach(K=>{this.deactivateRouteAndItsChildren(K,A)})}deactivateRoutes(S,y,A){const P=S.value,K=y?y.value:null;if(P===K)if(P.component){const oe=A.getContext(P.outlet);oe&&this.deactivateChildRoutes(S,y,oe.children)}else this.deactivateChildRoutes(S,y,A);else K&&this.deactivateRouteAndItsChildren(y,A)}deactivateRouteAndItsChildren(S,y){S.value.component&&this.routeReuseStrategy.shouldDetach(S.value.snapshot)?this.detachAndStoreRouteSubtree(S,y):this.deactivateRouteAndOutlet(S,y)}detachAndStoreRouteSubtree(S,y){const A=y.getContext(S.value.outlet),P=A&&S.value.component?A.children:y,K=Gr(S);for(const oe of Object.keys(K))this.deactivateRouteAndItsChildren(K[oe],P);if(A&&A.outlet){const oe=A.outlet.detach(),Me=A.children.onOutletDeactivated();this.routeReuseStrategy.store(S.value.snapshot,{componentRef:oe,route:S,contexts:Me})}}deactivateRouteAndOutlet(S,y){const A=y.getContext(S.value.outlet),P=A&&S.value.component?A.children:y,K=Gr(S);for(const oe of Object.keys(K))this.deactivateRouteAndItsChildren(K[oe],P);A&&(A.outlet&&(A.outlet.deactivate(),A.children.onOutletDeactivated()),A.attachRef=null,A.route=null)}activateChildRoutes(S,y,A){const P=Gr(y);S.children.forEach(K=>{this.activateRoutes(K,P[K.value.outlet],A),this.forwardEvent(new Go(K.value.snapshot))}),S.children.length&&this.forwardEvent(new ti(S.value.snapshot))}activateRoutes(S,y,A){const P=S.value,K=y?y.value:null;if(Yi(P),P===K)if(P.component){const oe=A.getOrCreateContext(P.outlet);this.activateChildRoutes(S,y,oe.children)}else this.activateChildRoutes(S,y,A);else if(P.component){const oe=A.getOrCreateContext(P.outlet);if(this.routeReuseStrategy.shouldAttach(P.snapshot)){const Me=this.routeReuseStrategy.retrieve(P.snapshot);this.routeReuseStrategy.store(P.snapshot,null),oe.children.onOutletReAttached(Me.contexts),oe.attachRef=Me.componentRef,oe.route=Me.route.value,oe.outlet&&oe.outlet.attach(Me.componentRef,Me.route.value),Yi(Me.route.value),this.activateChildRoutes(S,null,oe.children)}else{const Me=Dr(P.snapshot);oe.attachRef=null,oe.route=P,oe.injector=Me,oe.outlet&&oe.outlet.activateWith(P,oe.injector),this.activateChildRoutes(S,null,oe.children)}}else this.activateChildRoutes(S,null,A)}}class fs{constructor(S){this.path=S,this.route=this.path[this.path.length-1]}}class Tr{constructor(S,y){this.component=S,this.route=y}}function Ds(_,S,y){const A=_._root;return Xs(A,S?S._root:null,y,[A.value])}function tr(_,S){const y=Symbol(),A=S.get(_,y);return A===y?"function"!=typeof _||(0,M.LfX)(_)?S.get(_):_:A}function Xs(_,S,y,A,P={canDeactivateChecks:[],canActivateChecks:[]}){const K=Gr(S);return _.children.forEach(oe=>{(function Ma(_,S,y,A,P={canDeactivateChecks:[],canActivateChecks:[]}){const K=_.value,oe=S?S.value:null,Me=y?y.getContext(_.value.outlet):null;if(oe&&K.routeConfig===oe.routeConfig){const Pe=function mo(_,S,y){if("function"==typeof y)return y(_,S);switch(y){case"pathParamsChange":return!on(_.url,S.url);case"pathParamsOrQueryParamsChange":return!on(_.url,S.url)||!Rn(_.queryParams,S.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Wr(_,S)||!Rn(_.queryParams,S.queryParams);default:return!Wr(_,S)}}(oe,K,K.routeConfig.runGuardsAndResolvers);Pe?P.canActivateChecks.push(new fs(A)):(K.data=oe.data,K._resolvedData=oe._resolvedData),Xs(_,S,K.component?Me?Me.children:null:y,A,P),Pe&&Me&&Me.outlet&&Me.outlet.isActivated&&P.canDeactivateChecks.push(new Tr(Me.outlet.component,oe))}else oe&&Bs(S,Me,P),P.canActivateChecks.push(new fs(A)),Xs(_,null,K.component?Me?Me.children:null:y,A,P)})(oe,K[oe.value.outlet],y,A.concat([oe.value]),P),delete K[oe.value.outlet]}),Object.entries(K).forEach(([oe,Me])=>Bs(Me,y.getContext(oe),P)),P}function Bs(_,S,y){const A=Gr(_),P=_.value;Object.entries(A).forEach(([K,oe])=>{Bs(oe,P.component?S?S.children.getContext(K):null:S,y)}),y.canDeactivateChecks.push(new Tr(P.component&&S&&S.outlet&&S.outlet.isActivated?S.outlet.component:null,P))}function js(_){return"function"==typeof _}function yo(_){return _ instanceof ie||"EmptyError"===_?.name}const hi=Symbol("INITIAL_VALUE");function No(){return(0,ft.n)(_=>(0,xe.z)(_.map(S=>S.pipe((0,ct.s)(1),(0,Jt.Z)(hi)))).pipe((0,He.T)(S=>{for(const y of S)if(!0!==y){if(y===hi)return hi;if(!1===y||y instanceof or)return y}return!0}),(0,fn.p)(S=>S!==hi),(0,ct.s)(1)))}function Yo(_){return(0,_e.F)((0,jn.M)(S=>{if(gi(S))throw Mo(0,S)}),(0,He.T)(S=>!0===S))}class bs{constructor(S){this.segmentGroup=S||null}}class Xr{constructor(S){this.urlTree=S}}function Ss(_){return(0,ht.$)(new bs(_))}function so(_){return(0,ht.$)(new Xr(_))}class Zo{constructor(S,y){this.urlSerializer=S,this.urlTree=y}noMatchError(S){return new M.wOt(4002,!1)}lineralizeSegments(S,y){let A=[],P=y.root;for(;;){if(A=A.concat(P.segments),0===P.numberOfChildren)return(0,Z.of)(A);if(P.numberOfChildren>1||!P.children[nt])return(0,ht.$)(new M.wOt(4e3,!1));P=P.children[nt]}}applyRedirectCommands(S,y,A){return this.applyRedirectCreateUrlTree(y,this.urlSerializer.parse(y),S,A)}applyRedirectCreateUrlTree(S,y,A,P){const K=this.createSegmentGroup(S,y.root,A,P);return new or(K,this.createQueryParams(y.queryParams,this.urlTree.queryParams),y.fragment)}createQueryParams(S,y){const A={};return Object.entries(S).forEach(([P,K])=>{if("string"==typeof K&&K.startsWith(":")){const Me=K.substring(1);A[P]=y[Me]}else A[P]=K}),A}createSegmentGroup(S,y,A,P){const K=this.createSegments(S,y.segments,A,P);let oe={};return Object.entries(y.children).forEach(([Me,Pe])=>{oe[Me]=this.createSegmentGroup(S,Pe,A,P)}),new yn(K,oe)}createSegments(S,y,A,P){return y.map(K=>K.path.startsWith(":")?this.findPosParam(S,K,P):this.findOrReturn(K,A))}findPosParam(S,y,A){const P=A[y.path.substring(1)];if(!P)throw new M.wOt(4001,!1);return P}findOrReturn(S,y){let A=0;for(const P of y){if(P.path===S.path)return y.splice(A),P;A++}return S}}const _o={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function fi(_,S,y,A,P){const K=ao(_,S,y);return K.matched?(A=function di(_,S){return _.providers&&!_._injector&&(_._injector=(0,M.Ol2)(_.providers,S,`Route: ${_.path}`)),_._injector??S}(S,A),function Sr(_,S,y,A){const P=S.canMatch;if(!P||0===P.length)return(0,Z.of)(!0);const K=P.map(oe=>{const Me=tr(oe,_);return kr(function Na(_){return _&&js(_.canMatch)}(Me)?Me.canMatch(S,y):_.runInContext(()=>Me(S,y)))});return(0,Z.of)(K).pipe(No(),Yo())}(A,S,y).pipe((0,He.T)(oe=>!0===oe?K:{..._o}))):(0,Z.of)(K)}function ao(_,S,y){if(""===S.path)return"full"===S.pathMatch&&(_.hasChildren()||y.length>0)?{..._o}:{matched:!0,consumedSegments:[],remainingSegments:y,parameters:{},positionalParamSegments:{}};const P=(S.matcher||dn)(y,_,S);if(!P)return{..._o};const K={};Object.entries(P.posParams??{}).forEach(([Me,Pe])=>{K[Me]=Pe.path});const oe=P.consumed.length>0?{...K,...P.consumed[P.consumed.length-1].parameters}:K;return{matched:!0,consumedSegments:P.consumed,remainingSegments:y.slice(P.consumed.length),parameters:oe,positionalParamSegments:P.posParams??{}}}function ii(_,S,y,A){return y.length>0&&function As(_,S,y){return y.some(A=>Yr(_,S,A)&&Si(A)!==nt)}(_,y,A)?{segmentGroup:new yn(S,ha(A,new yn(y,_.children))),slicedSegments:[]}:0===y.length&&function Eo(_,S,y){return y.some(A=>Yr(_,S,A))}(_,y,A)?{segmentGroup:new yn(_.segments,xa(_,0,y,A,_.children)),slicedSegments:y}:{segmentGroup:new yn(_.segments,_.children),slicedSegments:y}}function xa(_,S,y,A,P){const K={};for(const oe of A)if(Yr(_,y,oe)&&!P[Si(oe)]){const Me=new yn([],{});K[Si(oe)]=Me}return{...P,...K}}function ha(_,S){const y={};y[nt]=S;for(const A of _)if(""===A.path&&Si(A)!==nt){const P=new yn([],{});y[Si(A)]=P}return y}function Yr(_,S,y){return(!(_.hasChildren()||S.length>0)||"full"!==y.pathMatch)&&""===y.path}class E{constructor(S,y,A,P,K,oe,Me){this.injector=S,this.configLoader=y,this.rootComponentType=A,this.config=P,this.urlTree=K,this.paramsInheritanceStrategy=oe,this.urlSerializer=Me,this.allowRedirects=!0,this.applyRedirects=new Zo(this.urlSerializer,this.urlTree)}noMatchError(S){return new M.wOt(4002,!1)}recognize(){const S=ii(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,S,nt).pipe((0,Pr.W)(y=>{if(y instanceof Xr)return this.allowRedirects=!1,this.urlTree=y.urlTree,this.match(y.urlTree);throw y instanceof bs?this.noMatchError(y):y}),(0,He.T)(y=>{const A=new Tt([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},nt,this.rootComponentType,null,{}),P=new ni(A,y),K=new nn("",P),oe=function qe(_,S,y=null,A=null){return at(Ce(_),S,y,A)}(A,[],this.urlTree.queryParams,this.urlTree.fragment);return oe.queryParams=this.urlTree.queryParams,K.url=this.urlSerializer.serialize(oe),this.inheritParamsAndData(K._root),{state:K,tree:oe}}))}match(S){return this.processSegmentGroup(this.injector,this.config,S.root,nt).pipe((0,Pr.W)(A=>{throw A instanceof bs?this.noMatchError(A):A}))}inheritParamsAndData(S){const y=S.value,A=ws(y,this.paramsInheritanceStrategy);y.params=Object.freeze(A.params),y.data=Object.freeze(A.data),S.children.forEach(P=>this.inheritParamsAndData(P))}processSegmentGroup(S,y,A,P){return 0===A.segments.length&&A.hasChildren()?this.processChildren(S,y,A):this.processSegment(S,y,A,A.segments,P,!0)}processChildren(S,y,A){const P=[];for(const K of Object.keys(A.children))"primary"===K?P.unshift(K):P.push(K);return(0,he.H)(P).pipe((0,Jr.H)(K=>{const oe=A.children[K],Me=function Qs(_,S){const y=_.filter(A=>Si(A)===S);return y.push(..._.filter(A=>Si(A)!==S)),y}(y,K);return this.processSegmentGroup(S,Me,oe,K)}),function Be(_,S){return(0,kt.N)(function Oe(_,S,y,A,P){return(K,oe)=>{let Me=y,Pe=S,xt=0;K.subscribe((0,bn._)(oe,An=>{const Cn=xt++;Pe=Me?_(Pe,An,Cn):(Me=!0,An),A&&oe.next(Pe)},P&&(()=>{Me&&oe.next(Pe),oe.complete()})))}}(_,S,arguments.length>=2,!0))}((K,oe)=>(K.push(...oe),K)),Br(null),function Ke(_,S){const y=arguments.length>=2;return A=>A.pipe(_?(0,fn.p)((P,K)=>_(P,K,A)):Qn.D,ke(1),y?Br(S):lt(()=>new ie))}(),(0,pn.Z)(K=>{if(null===K)return Ss(A);const oe=J(K);return function x(_){_.sort((S,y)=>S.value.outlet===nt?-1:y.value.outlet===nt?1:S.value.outlet.localeCompare(y.value.outlet))}(oe),(0,Z.of)(oe)}))}processSegment(S,y,A,P,K,oe){return(0,he.H)(y).pipe((0,Jr.H)(Me=>this.processSegmentAgainstRoute(Me._injector??S,y,Me,A,P,K,oe).pipe((0,Pr.W)(Pe=>{if(Pe instanceof bs)return(0,Z.of)(null);throw Pe}))),Cr(Me=>!!Me),(0,Pr.W)(Me=>{if(yo(Me))return function B(_,S,y){return 0===S.length&&!_.children[y]}(A,P,K)?(0,Z.of)([]):Ss(A);throw Me}))}processSegmentAgainstRoute(S,y,A,P,K,oe,Me){return function Po(_,S,y,A){return!!(Si(_)===A||A!==nt&&Yr(S,y,_))&&("**"===_.path||ao(S,_,y).matched)}(A,P,K,oe)?void 0===A.redirectTo?this.matchSegmentAgainstRoute(S,P,A,K,oe,Me):Me&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(S,P,y,A,K,oe):Ss(P):Ss(P)}expandSegmentAgainstRouteUsingRedirect(S,y,A,P,K,oe){return"**"===P.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(S,A,P,oe):this.expandRegularSegmentAgainstRouteUsingRedirect(S,y,A,P,K,oe)}expandWildCardWithParamsAgainstRouteUsingRedirect(S,y,A,P){const K=this.applyRedirects.applyRedirectCommands([],A.redirectTo,{});return A.redirectTo.startsWith("/")?so(K):this.applyRedirects.lineralizeSegments(A,K).pipe((0,pn.Z)(oe=>{const Me=new yn(oe,{});return this.processSegment(S,y,Me,oe,P,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(S,y,A,P,K,oe){const{matched:Me,consumedSegments:Pe,remainingSegments:xt,positionalParamSegments:An}=ao(y,P,K);if(!Me)return Ss(y);const Cn=this.applyRedirects.applyRedirectCommands(Pe,P.redirectTo,An);return P.redirectTo.startsWith("/")?so(Cn):this.applyRedirects.lineralizeSegments(P,Cn).pipe((0,pn.Z)(sr=>this.processSegment(S,A,y,sr.concat(xt),oe,!1)))}matchSegmentAgainstRoute(S,y,A,P,K,oe){let Me;if("**"===A.path){const Pe=P.length>0?er(P).parameters:{},xt=new Tt(P,Pe,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,fe(A),Si(A),A.component??A._loadedComponent??null,A,Re(A));Me=(0,Z.of)({snapshot:xt,consumedSegments:[],remainingSegments:[]}),y.children={}}else Me=fi(y,A,P,S).pipe((0,He.T)(({matched:Pe,consumedSegments:xt,remainingSegments:An,parameters:Cn})=>Pe?{snapshot:new Tt(xt,Cn,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,fe(A),Si(A),A.component??A._loadedComponent??null,A,Re(A)),consumedSegments:xt,remainingSegments:An}:null));return Me.pipe((0,ft.n)(Pe=>null===Pe?Ss(y):this.getChildConfig(S=A._injector??S,A,P).pipe((0,ft.n)(({routes:xt})=>{const An=A._loadedInjector??S,{snapshot:Cn,consumedSegments:sr,remainingSegments:gs}=Pe,{segmentGroup:Ms,slicedSegments:ea}=ii(y,sr,gs,xt);if(0===ea.length&&Ms.hasChildren())return this.processChildren(An,xt,Ms).pipe((0,He.T)(ms=>null===ms?null:[new ni(Cn,ms)]));if(0===xt.length&&0===ea.length)return(0,Z.of)([new ni(Cn,[])]);const Ni=Si(A)===K;return this.processSegment(An,xt,Ms,ea,Ni?nt:K,!0).pipe((0,He.T)(ms=>[new ni(Cn,ms)]))}))))}getChildConfig(S,y,A){return y.children?(0,Z.of)({routes:y.children,injector:S}):y.loadChildren?void 0!==y._loadedRoutes?(0,Z.of)({routes:y._loadedRoutes,injector:y._loadedInjector}):function ts(_,S,y,A){const P=S.canLoad;if(void 0===P||0===P.length)return(0,Z.of)(!0);const K=P.map(oe=>{const Me=tr(oe,_);return kr(function Qo(_){return _&&js(_.canLoad)}(Me)?Me.canLoad(S,y):_.runInContext(()=>Me(S,y)))});return(0,Z.of)(K).pipe(No(),Yo())}(S,y,A).pipe((0,pn.Z)(P=>P?this.configLoader.loadChildren(S,y).pipe((0,jn.M)(K=>{y._loadedRoutes=K.routes,y._loadedInjector=K.injector})):function Ys(_){return(0,ht.$)(qs(!1,3))}())):(0,Z.of)({routes:[],injector:S})}}function $(_){const S=_.value.routeConfig;return S&&""===S.path}function J(_){const S=[],y=new Set;for(const A of _){if(!$(A)){S.push(A);continue}const P=S.find(K=>A.value.routeConfig===K.value.routeConfig);void 0!==P?(P.children.push(...A.children),y.add(P)):S.push(A)}for(const A of y){const P=J(A.children);S.push(new ni(A.value,P))}return S.filter(A=>!y.has(A))}function fe(_){return _.data||{}}function Re(_){return _.resolve||{}}function R(_){return"string"==typeof _.title||null===_.title}function F(_){return(0,ft.n)(S=>{const y=_(S);return y?(0,he.H)(y).pipe((0,He.T)(()=>S)):(0,Z.of)(S)})}const ne=new M.nKC("ROUTES");let be=(()=>{class _{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,M.WQX)(M.Ql9)}loadComponent(y){if(this.componentLoaders.get(y))return this.componentLoaders.get(y);if(y._loadedComponent)return(0,Z.of)(y._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(y);const A=kr(y.loadComponent()).pipe((0,He.T)(Kn),(0,jn.M)(K=>{this.onLoadEndListener&&this.onLoadEndListener(y),y._loadedComponent=K}),(0,je.j)(()=>{this.componentLoaders.delete(y)})),P=new Ae(A,()=>new ot.B).pipe(On());return this.componentLoaders.set(y,P),P}loadChildren(y,A){if(this.childrenLoaders.get(A))return this.childrenLoaders.get(A);if(A._loadedRoutes)return(0,Z.of)({routes:A._loadedRoutes,injector:A._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(A);const K=function Ze(_,S,y,A){return kr(_.loadChildren()).pipe((0,He.T)(Kn),(0,pn.Z)(P=>P instanceof M.Co$||Array.isArray(P)?(0,Z.of)(P):(0,he.H)(S.compileModuleAsync(P))),(0,He.T)(P=>{A&&A(_);let K,oe,Me=!1;return Array.isArray(P)?(oe=P,!0):(K=P.create(y).injector,oe=K.get(ne,[],{optional:!0,self:!0}).flat()),{routes:oe.map(Vs),injector:K}}))}(A,this.compiler,y,this.onLoadEndListener).pipe((0,je.j)(()=>{this.childrenLoaders.delete(A)})),oe=new Ae(K,()=>new ot.B).pipe(On());return this.childrenLoaders.set(A,oe),oe}static{this.\u0275fac=function(A){return new(A||_)}}static{this.\u0275prov=M.jDH({token:_,factory:_.\u0275fac,providedIn:"root"})}}return _})();function Kn(_){return function Mt(_){return _&&"object"==typeof _&&"default"in _}(_)?_.default:_}let Fn=(()=>{class _{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new ot.B,this.transitionAbortSubject=new ot.B,this.configLoader=(0,M.WQX)(be),this.environmentInjector=(0,M.WQX)(M.uvJ),this.urlSerializer=(0,M.WQX)(Nr),this.rootContexts=(0,M.WQX)(Ls),this.inputBindingEnabled=null!==(0,M.WQX)(Wi,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,Z.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=P=>this.events.next(new li(P)),this.configLoader.onLoadStartListener=P=>this.events.next(new Xi(P))}complete(){this.transitions?.complete()}handleNavigationRequest(y){const A=++this.navigationId;this.transitions?.next({...this.transitions.value,...y,id:A})}setupNavigations(y,A,P){return this.transitions=new ee.t({id:0,currentUrlTree:A,currentRawUrl:A,currentBrowserUrl:A,extractedUrl:y.urlHandlingStrategy.extract(A),urlAfterRedirects:y.urlHandlingStrategy.extract(A),rawUrl:A,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:vr,restoredState:null,currentSnapshot:P.snapshot,targetSnapshot:null,currentRouterState:P,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,fn.p)(K=>0!==K.id),(0,He.T)(K=>({...K,extractedUrl:y.urlHandlingStrategy.extract(K.rawUrl)})),(0,ft.n)(K=>{this.currentTransition=K;let oe=!1,Me=!1;return(0,Z.of)(K).pipe((0,jn.M)(Pe=>{this.currentNavigation={id:Pe.id,initialUrl:Pe.rawUrl,extractedUrl:Pe.extractedUrl,trigger:Pe.source,extras:Pe.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,ft.n)(Pe=>{const xt=Pe.currentBrowserUrl.toString(),An=!y.navigated||Pe.extractedUrl.toString()!==xt||xt!==Pe.currentUrlTree.toString();if(!An&&"reload"!==(Pe.extras.onSameUrlNavigation??y.onSameUrlNavigation)){const sr="";return this.events.next(new Ne(Pe.id,this.urlSerializer.serialize(Pe.rawUrl),sr,0)),Pe.resolve(null),Ve.w}if(y.urlHandlingStrategy.shouldProcessUrl(Pe.rawUrl))return(0,Z.of)(Pe).pipe((0,ft.n)(sr=>{const gs=this.transitions?.getValue();return this.events.next(new Co(sr.id,this.urlSerializer.serialize(sr.extractedUrl),sr.source,sr.restoredState)),gs!==this.transitions?.getValue()?Ve.w:Promise.resolve(sr)}),function Qe(_,S,y,A,P,K){return(0,pn.Z)(oe=>function m(_,S,y,A,P,K,oe="emptyOnly"){return new E(_,S,y,A,P,oe,K).recognize()}(_,S,y,A,oe.extractedUrl,P,K).pipe((0,He.T)(({state:Me,tree:Pe})=>({...oe,targetSnapshot:Me,urlAfterRedirects:Pe}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,y.config,this.urlSerializer,y.paramsInheritanceStrategy),(0,jn.M)(sr=>{K.targetSnapshot=sr.targetSnapshot,K.urlAfterRedirects=sr.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:sr.urlAfterRedirects};const gs=new pt(sr.id,this.urlSerializer.serialize(sr.extractedUrl),this.urlSerializer.serialize(sr.urlAfterRedirects),sr.targetSnapshot);this.events.next(gs)}));if(An&&y.urlHandlingStrategy.shouldProcessUrl(Pe.currentRawUrl)){const{id:sr,extractedUrl:gs,source:Ms,restoredState:ea,extras:Ni}=Pe,ms=new Co(sr,this.urlSerializer.serialize(gs),Ms,ea);this.events.next(ms);const Ur=Ao(0,this.rootComponentType).snapshot;return this.currentTransition=K={...Pe,targetSnapshot:Ur,urlAfterRedirects:gs,extras:{...Ni,skipLocationChange:!1,replaceUrl:!1}},(0,Z.of)(K)}{const sr="";return this.events.next(new Ne(Pe.id,this.urlSerializer.serialize(Pe.extractedUrl),sr,1)),Pe.resolve(null),Ve.w}}),(0,jn.M)(Pe=>{const xt=new tn(Pe.id,this.urlSerializer.serialize(Pe.extractedUrl),this.urlSerializer.serialize(Pe.urlAfterRedirects),Pe.targetSnapshot);this.events.next(xt)}),(0,He.T)(Pe=>(this.currentTransition=K={...Pe,guards:Ds(Pe.targetSnapshot,Pe.currentSnapshot,this.rootContexts)},K)),function vo(_,S){return(0,pn.Z)(y=>{const{targetSnapshot:A,currentSnapshot:P,guards:{canActivateChecks:K,canDeactivateChecks:oe}}=y;return 0===oe.length&&0===K.length?(0,Z.of)({...y,guardsResult:!0}):function Ro(_,S,y,A){return(0,he.H)(_).pipe((0,pn.Z)(P=>function Cs(_,S,y,A,P){const K=S&&S.routeConfig?S.routeConfig.canDeactivate:null;if(!K||0===K.length)return(0,Z.of)(!0);const oe=K.map(Me=>{const Pe=Dr(S)??P,xt=tr(Me,Pe);return kr(function Ts(_){return _&&js(_.canDeactivate)}(xt)?xt.canDeactivate(_,S,y,A):Pe.runInContext(()=>xt(_,S,y,A))).pipe(Cr())});return(0,Z.of)(oe).pipe(No())}(P.component,P.route,y,S,A)),Cr(P=>!0!==P,!0))}(oe,A,P,_).pipe((0,pn.Z)(Me=>Me&&function da(_){return"boolean"==typeof _}(Me)?function xo(_,S,y,A){return(0,he.H)(S).pipe((0,Jr.H)(P=>(0,ae.x)(function Oo(_,S){return null!==_&&S&&S(new Ci(_)),(0,Z.of)(!0)}(P.route.parent,A),function io(_,S){return null!==_&&S&&S(new bo(_)),(0,Z.of)(!0)}(P.route,A),function Li(_,S,y){const A=S[S.length-1],K=S.slice(0,S.length-1).reverse().map(oe=>function es(_){const S=_.routeConfig?_.routeConfig.canActivateChild:null;return S&&0!==S.length?{node:_,guards:S}:null}(oe)).filter(oe=>null!==oe).map(oe=>Ge(()=>{const Me=oe.guards.map(Pe=>{const xt=Dr(oe.node)??y,An=tr(Pe,xt);return kr(function lr(_){return _&&js(_.canActivateChild)}(An)?An.canActivateChild(A,_):xt.runInContext(()=>An(A,_))).pipe(Cr())});return(0,Z.of)(Me).pipe(No())}));return(0,Z.of)(K).pipe(No())}(_,P.path,y),function Xo(_,S,y){const A=S.routeConfig?S.routeConfig.canActivate:null;if(!A||0===A.length)return(0,Z.of)(!0);const P=A.map(K=>Ge(()=>{const oe=Dr(S)??y,Me=tr(K,oe);return kr(function Ji(_){return _&&js(_.canActivate)}(Me)?Me.canActivate(S,_):oe.runInContext(()=>Me(S,_))).pipe(Cr())}));return(0,Z.of)(P).pipe(No())}(_,P.route,y))),Cr(P=>!0!==P,!0))}(A,K,_,S):(0,Z.of)(Me)),(0,He.T)(Me=>({...y,guardsResult:Me})))})}(this.environmentInjector,Pe=>this.events.next(Pe)),(0,jn.M)(Pe=>{if(K.guardsResult=Pe.guardsResult,gi(Pe.guardsResult))throw Mo(0,Pe.guardsResult);const xt=new zn(Pe.id,this.urlSerializer.serialize(Pe.extractedUrl),this.urlSerializer.serialize(Pe.urlAfterRedirects),Pe.targetSnapshot,!!Pe.guardsResult);this.events.next(xt)}),(0,fn.p)(Pe=>!!Pe.guardsResult||(this.cancelNavigationTransition(Pe,"",3),!1)),F(Pe=>{if(Pe.guards.canActivateChecks.length)return(0,Z.of)(Pe).pipe((0,jn.M)(xt=>{const An=new kn(xt.id,this.urlSerializer.serialize(xt.extractedUrl),this.urlSerializer.serialize(xt.urlAfterRedirects),xt.targetSnapshot);this.events.next(An)}),(0,ft.n)(xt=>{let An=!1;return(0,Z.of)(xt).pipe(function Et(_,S){return(0,pn.Z)(y=>{const{targetSnapshot:A,guards:{canActivateChecks:P}}=y;if(!P.length)return(0,Z.of)(y);let K=0;return(0,he.H)(P).pipe((0,Jr.H)(oe=>function yt(_,S,y,A){const P=_.routeConfig,K=_._resolve;return void 0!==P?.title&&!R(P)&&(K[Nn]=P.title),function Dn(_,S,y,A){const P=function w(_){return[...Object.keys(_),...Object.getOwnPropertySymbols(_)]}(_);if(0===P.length)return(0,Z.of)({});const K={};return(0,he.H)(P).pipe((0,pn.Z)(oe=>function V(_,S,y,A){const P=Dr(S)??A,K=tr(_,P);return kr(K.resolve?K.resolve(S,y):P.runInContext(()=>K(S,y)))}(_[oe],S,y,A).pipe(Cr(),(0,jn.M)(Me=>{K[oe]=Me}))),ke(1),function rt(_){return(0,He.T)(()=>_)}(K),(0,Pr.W)(oe=>yo(oe)?Ve.w:(0,ht.$)(oe)))}(K,_,S,A).pipe((0,He.T)(oe=>(_._resolvedData=oe,_.data=ws(_,y).resolve,P&&R(P)&&(_.data[Nn]=P.title),null)))}(oe.route,A,_,S)),(0,jn.M)(()=>K++),ke(1),(0,pn.Z)(oe=>K===P.length?(0,Z.of)(y):Ve.w))})}(y.paramsInheritanceStrategy,this.environmentInjector),(0,jn.M)({next:()=>An=!0,complete:()=>{An||this.cancelNavigationTransition(xt,"",2)}}))}),(0,jn.M)(xt=>{const An=new Vn(xt.id,this.urlSerializer.serialize(xt.extractedUrl),this.urlSerializer.serialize(xt.urlAfterRedirects),xt.targetSnapshot);this.events.next(An)}))}),F(Pe=>{const xt=An=>{const Cn=[];An.routeConfig?.loadComponent&&!An.routeConfig._loadedComponent&&Cn.push(this.configLoader.loadComponent(An.routeConfig).pipe((0,jn.M)(sr=>{An.component=sr}),(0,He.T)(()=>{})));for(const sr of An.children)Cn.push(...xt(sr));return Cn};return(0,xe.z)(xt(Pe.targetSnapshot.root)).pipe(Br(),(0,ct.s)(1))}),F(()=>this.afterPreactivation()),(0,He.T)(Pe=>{const xt=function an(_,S,y){const A=Us(_,S._root,y?y._root:void 0);return new ua(A,S)}(y.routeReuseStrategy,Pe.targetSnapshot,Pe.currentRouterState);return this.currentTransition=K={...Pe,targetRouterState:xt},K}),(0,jn.M)(()=>{this.events.next(new ks)}),((_,S,y,A)=>(0,He.T)(P=>(new yi(S,P.targetRouterState,P.currentRouterState,y,A).activate(_),P)))(this.rootContexts,y.routeReuseStrategy,Pe=>this.events.next(Pe),this.inputBindingEnabled),(0,ct.s)(1),(0,jn.M)({next:Pe=>{oe=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new ge(Pe.id,this.urlSerializer.serialize(Pe.extractedUrl),this.urlSerializer.serialize(Pe.urlAfterRedirects))),y.titleStrategy?.updateTitle(Pe.targetRouterState.snapshot),Pe.resolve(!0)},complete:()=>{oe=!0}}),(0,Dt.Q)(this.transitionAbortSubject.pipe((0,jn.M)(Pe=>{throw Pe}))),(0,je.j)(()=>{oe||Me||this.cancelNavigationTransition(K,"",1),this.currentNavigation?.id===K.id&&(this.currentNavigation=null)}),(0,Pr.W)(Pe=>{if(Me=!0,no(Pe))this.events.next(new pe(K.id,this.urlSerializer.serialize(K.extractedUrl),Pe.message,Pe.cancellationCode)),function mi(_){return no(_)&&gi(_.url)}(Pe)?this.events.next(new So(Pe.url)):K.resolve(!1);else{this.events.next(new Je(K.id,this.urlSerializer.serialize(K.extractedUrl),Pe,K.targetSnapshot??void 0));try{K.resolve(y.errorHandler(Pe))}catch(xt){K.reject(xt)}}return Ve.w}))}))}cancelNavigationTransition(y,A,P){const K=new pe(y.id,this.urlSerializer.serialize(y.extractedUrl),A,P);this.events.next(K),y.resolve(!1)}static{this.\u0275fac=function(A){return new(A||_)}}static{this.\u0275prov=M.jDH({token:_,factory:_.\u0275fac,providedIn:"root"})}}return _})();function gn(_){return _!==vr}let cn=(()=>{class _{buildTitle(y){let A,P=y.root;for(;void 0!==P;)A=this.getResolvedTitleForRoute(P)??A,P=P.children.find(K=>K.outlet===nt);return A}getResolvedTitleForRoute(y){return y.data[Nn]}static{this.\u0275fac=function(A){return new(A||_)}}static{this.\u0275prov=M.jDH({token:_,factory:function(){return(0,M.WQX)(nr)},providedIn:"root"})}}return _})(),nr=(()=>{class _ extends cn{constructor(y){super(),this.title=y}updateTitle(y){const A=this.buildTitle(y);void 0!==A&&this.title.setTitle(A)}static{this.\u0275fac=function(A){return new(A||_)(M.KVO(Un.hE))}}static{this.\u0275prov=M.jDH({token:_,factory:_.\u0275fac,providedIn:"root"})}}return _})(),Gn=(()=>{class _{static{this.\u0275fac=function(A){return new(A||_)}}static{this.\u0275prov=M.jDH({token:_,factory:function(){return(0,M.WQX)(si)},providedIn:"root"})}}return _})();class vi{shouldDetach(S){return!1}store(S,y){}shouldAttach(S){return!1}retrieve(S){return null}shouldReuseRoute(S,y){return S.routeConfig===y.routeConfig}}let si=(()=>{class _ extends vi{static{this.\u0275fac=function(){let y;return function(P){return(y||(y=M.xGo(_)))(P||_)}}()}static{this.\u0275prov=M.jDH({token:_,factory:_.\u0275fac,providedIn:"root"})}}return _})();const oi=new M.nKC("",{providedIn:"root",factory:()=>({})});let pr=(()=>{class _{static{this.\u0275fac=function(A){return new(A||_)}}static{this.\u0275prov=M.jDH({token:_,factory:function(){return(0,M.WQX)(Ar)},providedIn:"root"})}}return _})(),Ar=(()=>{class _{shouldProcessUrl(y){return!0}extract(y){return y}merge(y,A){return y}static{this.\u0275fac=function(A){return new(A||_)}}static{this.\u0275prov=M.jDH({token:_,factory:_.\u0275fac,providedIn:"root"})}}return _})();var Ct=function(_){return _[_.COMPLETE=0]="COMPLETE",_[_.FAILED=1]="FAILED",_[_.REDIRECTING=2]="REDIRECTING",_}(Ct||{});function Ft(_,S){_.events.pipe((0,fn.p)(y=>y instanceof ge||y instanceof pe||y instanceof Je||y instanceof Ne),(0,He.T)(y=>y instanceof ge||y instanceof Ne?Ct.COMPLETE:y instanceof pe&&(0===y.code||1===y.code)?Ct.REDIRECTING:Ct.FAILED),(0,fn.p)(y=>y!==Ct.REDIRECTING),(0,ct.s)(1)).subscribe(()=>{S()})}function sn(_){throw _}function Ye(_,S,y){return S.parse("/")}const Yt={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Zr={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let gr=(()=>{class _{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,M.WQX)(M.H3F),this.isNgZoneEnabled=!1,this._events=new ot.B,this.options=(0,M.WQX)(oi,{optional:!0})||{},this.pendingTasks=(0,M.WQX)(M.$K3),this.errorHandler=this.options.errorHandler||sn,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Ye,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,M.WQX)(pr),this.routeReuseStrategy=(0,M.WQX)(Gn),this.titleStrategy=(0,M.WQX)(cn),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,M.WQX)(ne,{optional:!0})?.flat()??[],this.navigationTransitions=(0,M.WQX)(Fn),this.urlSerializer=(0,M.WQX)(Nr),this.location=(0,M.WQX)(Ue.aZ),this.componentInputBindingEnabled=!!(0,M.WQX)(Wi,{optional:!0}),this.eventsSubscription=new Ut.yU,this.isNgZoneEnabled=(0,M.WQX)(M.SKi)instanceof M.SKi&&M.SKi.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new or,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Ao(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(y=>{this.lastSuccessfulId=y.id,this.currentPageId=this.browserPageId},y=>{this.console.warn(`Unhandled Navigation Error: ${y}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const y=this.navigationTransitions.events.subscribe(A=>{try{const{currentTransition:P}=this.navigationTransitions;if(null===P)return void(bt(A)&&this._events.next(A));if(A instanceof Co)gn(P.source)&&(this.browserUrlTree=P.extractedUrl);else if(A instanceof Ne)this.rawUrlTree=P.rawUrl;else if(A instanceof pt){if("eager"===this.urlUpdateStrategy){if(!P.extras.skipLocationChange){const K=this.urlHandlingStrategy.merge(P.urlAfterRedirects,P.rawUrl);this.setBrowserUrl(K,P)}this.browserUrlTree=P.urlAfterRedirects}}else if(A instanceof ks)this.currentUrlTree=P.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(P.urlAfterRedirects,P.rawUrl),this.routerState=P.targetRouterState,"deferred"===this.urlUpdateStrategy&&(P.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,P),this.browserUrlTree=P.urlAfterRedirects);else if(A instanceof pe)0!==A.code&&1!==A.code&&(this.navigated=!0),(3===A.code||2===A.code)&&this.restoreHistory(P);else if(A instanceof So){const K=this.urlHandlingStrategy.merge(A.url,P.currentRawUrl),oe={skipLocationChange:P.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||gn(P.source)};this.scheduleNavigation(K,vr,null,oe,{resolve:P.resolve,reject:P.reject,promise:P.promise})}A instanceof Je&&this.restoreHistory(P,!0),A instanceof ge&&(this.navigated=!0),bt(A)&&this._events.next(A)}catch(P){this.navigationTransitions.transitionAbortSubject.next(P)}});this.eventsSubscription.add(y)}resetRootComponentType(y){this.routerState.root.component=y,this.navigationTransitions.rootComponentType=y}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const y=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),vr,y)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(y=>{const A="popstate"===y.type?"popstate":"hashchange";"popstate"===A&&setTimeout(()=>{this.navigateToSyncWithBrowser(y.url,A,y.state)},0)}))}navigateToSyncWithBrowser(y,A,P){const K={replaceUrl:!0},oe=P?.navigationId?P:null;if(P){const Pe={...P};delete Pe.navigationId,delete Pe.\u0275routerPageId,0!==Object.keys(Pe).length&&(K.state=Pe)}const Me=this.parseUrl(y);this.scheduleNavigation(Me,A,oe,K)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(y){this.config=y.map(Vs),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(y,A={}){const{relativeTo:P,queryParams:K,fragment:oe,queryParamsHandling:Me,preserveFragment:Pe}=A,xt=Pe?this.currentUrlTree.fragment:oe;let Cn,An=null;switch(Me){case"merge":An={...this.currentUrlTree.queryParams,...K};break;case"preserve":An=this.currentUrlTree.queryParams;break;default:An=K||null}null!==An&&(An=this.removeEmptyProps(An));try{Cn=Ce(P?P.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof y[0]||!y[0].startsWith("/"))&&(y=[]),Cn=this.currentUrlTree.root}return at(Cn,y,An,xt??null)}navigateByUrl(y,A={skipLocationChange:!1}){const P=gi(y)?y:this.parseUrl(y),K=this.urlHandlingStrategy.merge(P,this.rawUrlTree);return this.scheduleNavigation(K,vr,null,A)}navigate(y,A={skipLocationChange:!1}){return function mt(_){for(let S=0;S<_.length;S++)if(null==_[S])throw new M.wOt(4008,!1)}(y),this.navigateByUrl(this.createUrlTree(y,A),A)}serializeUrl(y){return this.urlSerializer.serialize(y)}parseUrl(y){let A;try{A=this.urlSerializer.parse(y)}catch(P){A=this.malformedUriErrorHandler(P,this.urlSerializer,y)}return A}isActive(y,A){let P;if(P=!0===A?{...Yt}:!1===A?{...Zr}:A,gi(y))return qt(this.currentUrlTree,y,P);const K=this.parseUrl(y);return qt(this.currentUrlTree,K,P)}removeEmptyProps(y){return Object.keys(y).reduce((A,P)=>{const K=y[P];return null!=K&&(A[P]=K),A},{})}scheduleNavigation(y,A,P,K,oe){if(this.disposed)return Promise.resolve(!1);let Me,Pe,xt;oe?(Me=oe.resolve,Pe=oe.reject,xt=oe.promise):xt=new Promise((Cn,sr)=>{Me=Cn,Pe=sr});const An=this.pendingTasks.add();return Ft(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(An))}),this.navigationTransitions.handleNavigationRequest({source:A,restoredState:P,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:y,extras:K,resolve:Me,reject:Pe,promise:xt,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),xt.catch(Cn=>Promise.reject(Cn))}setBrowserUrl(y,A){const P=this.urlSerializer.serialize(y);if(this.location.isCurrentPathEqualTo(P)||A.extras.replaceUrl){const oe={...A.extras.state,...this.generateNgRouterState(A.id,this.browserPageId)};this.location.replaceState(P,"",oe)}else{const K={...A.extras.state,...this.generateNgRouterState(A.id,this.browserPageId+1)};this.location.go(P,"",K)}}restoreHistory(y,A=!1){if("computed"===this.canceledNavigationResolution){const K=this.currentPageId-this.browserPageId;0!==K?this.location.historyGo(K):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===K&&(this.resetState(y),this.browserUrlTree=y.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(A&&this.resetState(y),this.resetUrlToCurrentUrlTree())}resetState(y){this.routerState=y.currentRouterState,this.currentUrlTree=y.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,y.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(y,A){return"computed"===this.canceledNavigationResolution?{navigationId:y,\u0275routerPageId:A}:{navigationId:y}}static{this.\u0275fac=function(A){return new(A||_)}}static{this.\u0275prov=M.jDH({token:_,factory:_.\u0275fac,providedIn:"root"})}}return _})();function bt(_){return!(_ instanceof ks||_ instanceof So)}let fa=(()=>{class _{constructor(y,A,P,K,oe,Me){this.router=y,this.route=A,this.tabIndexAttribute=P,this.renderer=K,this.el=oe,this.locationStrategy=Me,this.href=null,this.commands=null,this.onChanges=new ot.B,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const Pe=oe.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===Pe||"area"===Pe,this.isAnchorElement?this.subscription=y.events.subscribe(xt=>{xt instanceof ge&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(y){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",y)}ngOnChanges(y){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(y){null!=y?(this.commands=Array.isArray(y)?y:[y],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(y,A,P,K,oe){return!!(null===this.urlTree||this.isAnchorElement&&(0!==y||A||P||K||oe||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const y=null===this.href?null:(0,M.n$t)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",y)}applyAttributeValue(y,A){const P=this.renderer,K=this.el.nativeElement;null!==A?P.setAttribute(K,y,A):P.removeAttribute(K,y)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(A){return new(A||_)(M.rXU(gr),M.rXU(bi),M.kS0("tabindex"),M.rXU(M.sFG),M.rXU(M.aKT),M.rXU(Ue.hb))}}static{this.\u0275dir=M.FsC({type:_,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(A,P){1&A&&M.bIt("click",function(oe){return P.onClick(oe.button,oe.ctrlKey,oe.shiftKey,oe.altKey,oe.metaKey)}),2&A&&M.BMQ("target",P.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",M.L39],skipLocationChange:["skipLocationChange","skipLocationChange",M.L39],replaceUrl:["replaceUrl","replaceUrl",M.L39],routerLink:"routerLink"},standalone:!0,features:[M.GFd,M.OA$]})}}return _})();class st{}let wo=(()=>{class _{constructor(y,A,P,K,oe){this.router=y,this.injector=P,this.preloadingStrategy=K,this.loader=oe}setUpPreloading(){this.subscription=this.router.events.pipe((0,fn.p)(y=>y instanceof ge),(0,Jr.H)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(y,A){const P=[];for(const K of A){K.providers&&!K._injector&&(K._injector=(0,M.Ol2)(K.providers,y,`Route: ${K.path}`));const oe=K._injector??y,Me=K._loadedInjector??oe;(K.loadChildren&&!K._loadedRoutes&&void 0===K.canLoad||K.loadComponent&&!K._loadedComponent)&&P.push(this.preloadConfig(oe,K)),(K.children||K._loadedRoutes)&&P.push(this.processRoutes(Me,K.children??K._loadedRoutes))}return(0,he.H)(P).pipe((0,Kt.U)())}preloadConfig(y,A){return this.preloadingStrategy.preload(A,()=>{let P;P=A.loadChildren&&void 0===A.canLoad?this.loader.loadChildren(y,A):(0,Z.of)(null);const K=P.pipe((0,pn.Z)(oe=>null===oe?(0,Z.of)(void 0):(A._loadedRoutes=oe.routes,A._loadedInjector=oe.injector,this.processRoutes(oe.injector??y,oe.routes))));if(A.loadComponent&&!A._loadedComponent){const oe=this.loader.loadComponent(A);return(0,he.H)([K,oe]).pipe((0,Kt.U)())}return K})}static{this.\u0275fac=function(A){return new(A||_)(M.KVO(gr),M.KVO(M.Ql9),M.KVO(M.uvJ),M.KVO(st),M.KVO(be))}}static{this.\u0275prov=M.jDH({token:_,factory:_.\u0275fac,providedIn:"root"})}}return _})();const Oa=new M.nKC("");let Rl=(()=>{class _{constructor(y,A,P,K,oe={}){this.urlSerializer=y,this.transitions=A,this.viewportScroller=P,this.zone=K,this.options=oe,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},oe.scrollPositionRestoration=oe.scrollPositionRestoration||"disabled",oe.anchorScrolling=oe.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(y=>{y instanceof Co?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=y.navigationTrigger,this.restoredId=y.restoredState?y.restoredState.navigationId:0):y instanceof ge?(this.lastId=y.id,this.scheduleScrollEvent(y,this.urlSerializer.parse(y.urlAfterRedirects).fragment)):y instanceof Ne&&0===y.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(y,this.urlSerializer.parse(y.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(y=>{y instanceof go&&(y.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(y.position):y.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(y.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(y,A){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new go(y,"popstate"===this.lastSource?this.store[this.restoredId]:null,A))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(A){M.QTQ()}}static{this.\u0275prov=M.jDH({token:_,factory:_.\u0275fac})}}return _})();function uo(_,S){return{\u0275kind:_,\u0275providers:S}}function Qt(){const _=(0,M.WQX)(M.zZn);return S=>{const y=_.get(M.o8S);if(S!==y.components[0])return;const A=_.get(gr),P=_.get(pa);1===_.get(Ui)&&A.initialNavigation(),_.get(ir,null,M.$GK.Optional)?.setUpPreloading(),_.get(Oa,null,M.$GK.Optional)?.init(),A.resetRootComponentType(y.componentTypes[0]),P.closed||(P.next(),P.complete(),P.unsubscribe())}}const pa=new M.nKC("",{factory:()=>new ot.B}),Ui=new M.nKC("",{providedIn:"root",factory:()=>1}),ir=new M.nKC("");function uu(_){return uo(0,[{provide:ir,useExisting:wo},{provide:st,useExisting:_}])}const cu=new M.nKC("ROUTER_FORROOT_GUARD"),_i=[Ue.aZ,{provide:Nr,useClass:yr},gr,Ls,{provide:bi,useFactory:function Pa(_){return _.routerState.root},deps:[gr]},be,[]];function ic(){return new M.NEm("Router",gr)}let co=(()=>{class _{constructor(y){}static forRoot(y,A){return{ngModule:_,providers:[_i,[],{provide:ne,multi:!0,useValue:y},{provide:cu,useFactory:sc,deps:[[gr,new M.Xx1,new M.kdw]]},{provide:oi,useValue:A||{}},A?.useHash?{provide:Ue.hb,useClass:Ue.fw}:{provide:Ue.hb,useClass:Ue.Sm},{provide:Oa,useFactory:()=>{const _=(0,M.WQX)(Ue.Xr),S=(0,M.WQX)(M.SKi),y=(0,M.WQX)(oi),A=(0,M.WQX)(Fn),P=(0,M.WQX)(Nr);return y.scrollOffset&&_.setOffset(y.scrollOffset),new Rl(P,A,_,S,y)}},A?.preloadingStrategy?uu(A.preloadingStrategy).\u0275providers:[],{provide:M.NEm,multi:!0,useFactory:ic},A?.initialNavigation?Au(A):[],A?.bindToComponentInputs?uo(8,[Fs,{provide:Wi,useExisting:Fs}]).\u0275providers:[],[{provide:lu,useFactory:Qt},{provide:M.iLQ,multi:!0,useExisting:lu}]]}}static forChild(y){return{ngModule:_,providers:[{provide:ne,multi:!0,useValue:y}]}}static{this.\u0275fac=function(A){return new(A||_)(M.KVO(cu,8))}}static{this.\u0275mod=M.$C({type:_})}static{this.\u0275inj=M.G2t({})}}return _})();function sc(_){return"guarded"}function Au(_){return["disabled"===_.initialNavigation?uo(3,[{provide:M.hnV,multi:!0,useFactory:()=>{const S=(0,M.WQX)(gr);return()=>{S.setUpLocationChangeListener()}}},{provide:Ui,useValue:2}]).\u0275providers:[],"enabledBlocking"===_.initialNavigation?uo(2,[{provide:Ui,useValue:0},{provide:M.hnV,multi:!0,deps:[M.zZn],useFactory:S=>{const y=S.get(Ue.hj,Promise.resolve());return()=>y.then(()=>new Promise(A=>{const P=S.get(gr),K=S.get(pa);Ft(P,()=>{A(!0)}),S.get(Fn).afterPreactivation=()=>(A(!0),K.closed?(0,Z.of)(void 0):K),P.initialNavigation()}))}}]).\u0275providers:[]]}const lu=new M.nKC("")},467:(jt,We,H)=>{function M(re,ye,he,Z,ee,xe,$e){try{var ie=re[xe]($e),ae=ie.value}catch(Te){return void he(Te)}ie.done?ye(ae):Promise.resolve(ae).then(Z,ee)}function ue(re){return function(){var ye=this,he=arguments;return new Promise(function(Z,ee){var xe=re.apply(ye,he);function $e(ae){M(xe,Z,ee,$e,ie,"next",ae)}function ie(ae){M(xe,Z,ee,$e,ie,"throw",ae)}$e(void 0)})}}H.d(We,{A:()=>ue})},1635:(jt,We,H)=>{function ye(Oe,Be){var ke={};for(var Ke in Oe)Object.prototype.hasOwnProperty.call(Oe,Ke)&&Be.indexOf(Ke)<0&&(ke[Ke]=Oe[Ke]);if(null!=Oe&&"function"==typeof Object.getOwnPropertySymbols){var rt=0;for(Ke=Object.getOwnPropertySymbols(Oe);rt<Ke.length;rt++)Be.indexOf(Ke[rt])<0&&Object.prototype.propertyIsEnumerable.call(Oe,Ke[rt])&&(ke[Ke[rt]]=Oe[Ke[rt]])}return ke}function Te(Oe,Be,ke,Ke){return new(ke||(ke=Promise))(function(je,Dt){function Kt(Nn){try{nt(Ke.next(Nn))}catch(Sn){Dt(Sn)}}function Un(Nn){try{nt(Ke.throw(Nn))}catch(Sn){Dt(Sn)}}function nt(Nn){Nn.done?je(Nn.value):function rt(je){return je instanceof ke?je:new ke(function(Dt){Dt(je)})}(Nn.value).then(Kt,Un)}nt((Ke=Ke.apply(Oe,Be||[])).next())})}function Ae(Oe){return this instanceof Ae?(this.v=Oe,this):new Ae(Oe)}function ot(Oe,Be,ke){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var rt,Ke=ke.apply(Oe,Be||[]),je=[];return rt=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),Kt("next"),Kt("throw"),Kt("return",function Dt(dn){return function(Er){return Promise.resolve(Er).then(dn,Sn)}}),rt[Symbol.asyncIterator]=function(){return this},rt;function Kt(dn,Er){Ke[dn]&&(rt[dn]=function(Rn){return new Promise(function(qr,er){je.push([dn,Rn,qr,er])>1||Un(dn,Rn)})},Er&&(rt[dn]=Er(rt[dn])))}function Un(dn,Er){try{!function nt(dn){dn.value instanceof Ae?Promise.resolve(dn.value.v).then(Nn,Sn):Jn(je[0][2],dn)}(Ke[dn](Er))}catch(Rn){Jn(je[0][3],Rn)}}function Nn(dn){Un("next",dn)}function Sn(dn){Un("throw",dn)}function Jn(dn,Er){dn(Er),je.shift(),je.length&&Un(je[0][0],je[0][1])}}function He(Oe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ke,Be=Oe[Symbol.asyncIterator];return Be?Be.call(Oe):(Oe=function Ve(Oe){var Be="function"==typeof Symbol&&Symbol.iterator,ke=Be&&Oe[Be],Ke=0;if(ke)return ke.call(Oe);if(Oe&&"number"==typeof Oe.length)return{next:function(){return Oe&&Ke>=Oe.length&&(Oe=void 0),{value:Oe&&Oe[Ke++],done:!Oe}}};throw new TypeError(Be?"Object is not iterable.":"Symbol.iterator is not defined.")}(Oe),ke={},Ke("next"),Ke("throw"),Ke("return"),ke[Symbol.asyncIterator]=function(){return this},ke);function Ke(je){ke[je]=Oe[je]&&function(Dt){return new Promise(function(Kt,Un){!function rt(je,Dt,Kt,Un){Promise.resolve(Un).then(function(nt){je({value:nt,done:Kt})},Dt)}(Kt,Un,(Dt=Oe[je](Dt)).done,Dt.value)})}}}H.d(We,{AQ:()=>ot,N3:()=>Ae,Tt:()=>ye,sH:()=>Te,xN:()=>He}),"function"==typeof SuppressedError&&SuppressedError}},jt=>{jt(jt.s=2661)}]);