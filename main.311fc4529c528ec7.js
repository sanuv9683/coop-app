"use strict";(self.webpackChunkcoop_app=self.webpackChunkcoop_app||[]).push([[792],{3664:(Lt,$e,B)=>{B.d($e,{kR:()=>Pn});var b=B(1161),fe=(B(7705),B(8934),B(2214),B(467)),J=B(7852),te=B(1362),Re=B(1076),Fe=B(8041);const re=new Map,ae={activated:!1,tokenObservers:[]},Ae={initialized:!1,enabled:!1};function qe(we){return re.get(we)||Object.assign({},ae)}function vt(){return Ae}const We="https://content-firebaseappcheck.googleapis.com/v1",Tn="exchangeDebugToken",Cn={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class ct{constructor(ve,Ve,rt,Et,un){if(this.operation=ve,this.retryPolicy=Ve,this.getWaitDuration=rt,this.lowerBound=Et,this.upperBound=un,this.pending=null,this.nextErrorWaitInterval=Et,Et>un)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(ve){var Ve=this;return(0,fe.A)(function*(){Ve.stop();try{Ve.pending=new Re.cY,yield function Ne(we){return new Promise(ve=>{setTimeout(ve,we)})}(Ve.getNextRun(ve)),Ve.pending.resolve(),yield Ve.pending.promise,Ve.pending=new Re.cY,yield Ve.operation(),Ve.pending.resolve(),yield Ve.pending.promise,Ve.process(!0).catch(()=>{})}catch(rt){Ve.retryPolicy(rt)?Ve.process(!1).catch(()=>{}):Ve.stop()}})()}getNextRun(ve){if(ve)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const Ve=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),Ve}}}const _t=new Re.FA("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Kt(we){if(!qe(we).activated)throw _t.create("use-before-activation",{appName:we.name})}function Qn(we,ve){return lt.apply(this,arguments)}function lt(){return(lt=(0,fe.A)(function*({url:we,body:ve},Ve){const rt={"Content-Type":"application/json"},Et=Ve.getImmediate({optional:!0});if(Et){const yi=yield Et.getHeartbeatsHeader();yi&&(rt["X-Firebase-Client"]=yi)}const un={method:"POST",body:JSON.stringify(ve),headers:rt};let Un,$n;try{Un=yield fetch(we,un)}catch(yi){throw _t.create("fetch-network-error",{originalErrorMessage:yi?.message})}if(200!==Un.status)throw _t.create("fetch-status-error",{httpStatus:Un.status});try{$n=yield Un.json()}catch(yi){throw _t.create("fetch-parse-error",{originalErrorMessage:yi?.message})}const zn=$n.ttl.match(/^([\d.]+)(s)$/);if(!zn||!zn[2]||isNaN(Number(zn[1])))throw _t.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${$n.ttl}`});const ws=1e3*Number(zn[1]),mi=Date.now();return{token:$n.token,expireTimeMillis:mi+ws,issuedAtTimeMillis:mi}})).apply(this,arguments)}function Qr(we,ve){const{projectId:Ve,appId:rt,apiKey:Et}=we.options;return{url:`${We}/projects/${Ve}/apps/${rt}:${Tn}?key=${Et}`,body:{debug_token:ve}}}const Xr="firebase-app-check-database",Tr=1,fi="firebase-app-check-store";let He=null;function Mn(){return(Mn=(0,fe.A)(function*(we,ve){const rt=(yield function Ue(){return He||(He=new Promise((we,ve)=>{try{const Ve=indexedDB.open(Xr,Tr);Ve.onsuccess=rt=>{we(rt.target.result)},Ve.onerror=rt=>{var Et;ve(_t.create("storage-open",{originalErrorMessage:null===(Et=rt.target.error)||void 0===Et?void 0:Et.message}))},Ve.onupgradeneeded=rt=>{0===rt.oldVersion&&rt.target.result.createObjectStore(fi,{keyPath:"compositeKey"})}}catch(Ve){ve(_t.create("storage-open",{originalErrorMessage:Ve?.message}))}}),He)}()).transaction(fi,"readwrite"),un=rt.objectStore(fi).put({compositeKey:we,value:ve});return new Promise((Un,$n)=>{un.onsuccess=zn=>{Un()},rt.onerror=zn=>{var ws;$n(_t.create("storage-set",{originalErrorMessage:null===(ws=zn.target.error)||void 0===ws?void 0:ws.message}))}})})).apply(this,arguments)}const cr=new Fe.Vy("@firebase/app-check");function Xn(we,ve){return(0,Re.zW)()?function it(we,ve){return function mt(we,ve){return Mn.apply(this,arguments)}(function wn(we){return`${we.options.appId}-${we.name}`}(we),ve)}(we,ve).catch(Ve=>{cr.warn(`Failed to write token to IndexedDB. Error: ${Ve}`)}):Promise.resolve()}function Ti(){return vt().enabled}function ii(){return Hr.apply(this,arguments)}function Hr(){return(Hr=(0,fe.A)(function*(){const we=vt();if(we.enabled&&we.token)return we.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const gn={error:"UNKNOWN_ERROR"};function dn(we){return Re.K3.encodeString(JSON.stringify(we),!1)}function Vn(we){return _r.apply(this,arguments)}function _r(){return(_r=(0,fe.A)(function*(we,ve=!1){const Ve=we.app;Kt(Ve);const rt=qe(Ve);let un,Et=rt.token;if(Et&&!Yr(Et)&&(rt.token=void 0,Et=void 0),!Et){const zn=yield rt.cachedTokenPromise;zn&&(Yr(zn)?Et=zn:yield Xn(Ve,void 0))}if(!ve&&Et&&Yr(Et))return{token:Et.token};let $n,Un=!1;if(Ti()){rt.exchangeTokenPromise||(rt.exchangeTokenPromise=Qn(Qr(Ve,yield ii()),we.heartbeatServiceProvider).finally(()=>{rt.exchangeTokenPromise=void 0}),Un=!0);const zn=yield rt.exchangeTokenPromise;return yield Xn(Ve,zn),rt.token=zn,{token:zn.token}}try{rt.exchangeTokenPromise||(rt.exchangeTokenPromise=rt.provider.getToken().finally(()=>{rt.exchangeTokenPromise=void 0}),Un=!0),Et=yield qe(Ve).exchangeTokenPromise}catch(zn){"appCheck/throttled"===zn.code?cr.warn(zn.message):cr.error(zn),un=zn}return Et?un?$n=Yr(Et)?{token:Et.token,internalError:un}:Jr(un):($n={token:Et.token},rt.token=Et,yield Xn(Ve,Et)):$n=Jr(un),Un&&function an(we,ve){const Ve=qe(we).tokenObservers;for(const rt of Ve)try{"EXTERNAL"===rt.type&&null!=ve.error?rt.error(ve.error):rt.next(ve)}catch{}}(Ve,$n),$n})).apply(this,arguments)}function Er(we){return Ut.apply(this,arguments)}function Ut(){return(Ut=(0,fe.A)(function*(we){const ve=we.app;Kt(ve);const{provider:Ve}=qe(ve);if(Ti()){const rt=yield ii(),{token:Et}=yield Qn(Qr(ve,rt),we.heartbeatServiceProvider);return{token:Et}}{const{token:rt}=yield Ve.getToken();return{token:rt}}})).apply(this,arguments)}function si(we,ve){const Ve=qe(we),rt=Ve.tokenObservers.filter(Et=>Et.next!==ve);0===rt.length&&Ve.tokenRefresher&&Ve.tokenRefresher.isRunning()&&Ve.tokenRefresher.stop(),Ve.tokenObservers=rt}function kt(we){const{app:ve}=we,Ve=qe(ve);let rt=Ve.tokenRefresher;rt||(rt=function Cr(we){const{app:ve}=we;return new ct((0,fe.A)(function*(){let rt;if(rt=qe(ve).token?yield Vn(we,!0):yield Vn(we),rt.error)throw rt.error;if(rt.internalError)throw rt.internalError}),()=>!0,()=>{const Ve=qe(ve);if(Ve.token){let rt=Ve.token.issuedAtTimeMillis+.5*(Ve.token.expireTimeMillis-Ve.token.issuedAtTimeMillis)+3e5;return rt=Math.min(rt,Ve.token.expireTimeMillis-3e5),Math.max(0,rt-Date.now())}return 0},Cn.RETRIAL_MIN_WAIT,Cn.RETRIAL_MAX_WAIT)}(we),Ve.tokenRefresher=rt),!rt.isRunning()&&Ve.isTokenAutoRefreshEnabled&&rt.start()}function Yr(we){return we.expireTimeMillis-Date.now()>0}function Jr(we){return{token:dn(gn),error:we}}class oi{constructor(ve,Ve){this.app=ve,this.heartbeatServiceProvider=Ve}_delete(){const{tokenObservers:ve}=qe(this.app);for(const Ve of ve)si(this.app,Ve.next);return Promise.resolve()}}const Qe="app-check-internal";!function At(){(0,J.om)(new te.uA("app-check",we=>function Fn(we,ve){return new oi(we,ve)}(we.getProvider("app").getImmediate(),we.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((we,ve,Ve)=>{we.getProvider(Qe).initialize()})),(0,J.om)(new te.uA(Qe,we=>function br(we){return{getToken:ve=>Vn(we,ve),getLimitedUseToken:()=>Er(we),addTokenListener:ve=>function rr(we,ve,Ve,rt){const{app:Et}=we,un=qe(Et);if(un.tokenObservers=[...un.tokenObservers,{next:Ve,error:rt,type:ve}],un.token&&Yr(un.token)){const $n=un.token;Promise.resolve().then(()=>{Ve({token:$n.token}),kt(we)}).catch(()=>{})}un.cachedTokenPromise.then(()=>kt(we))}(we,"INTERNAL",ve),removeTokenListener:ve=>si(we.app,ve)}}(we.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,J.KO)("@firebase/app-check","0.8.0")}();class Pn{constructor(){return(0,b.CA)("app-check")}}typeof window<"u"&&window},8934:(Lt,$e,B)=>{B.d($e,{MW:()=>qe,Wp:()=>Vt,XU:()=>ie,gL:()=>fe});var b=B(2214),oe=B(7705),pe=B(1161);class ie{constructor(ct){return ct}}class fe{constructor(){return(0,b.Dk)()}}const Re=new oe.nKC("angularfire2._apps"),Fe={provide:ie,useFactory:function te(Me){return Me&&1===Me.length?Me[0]:new ie((0,b.Sx)())},deps:[[new oe.Xx1,Re]]},re={provide:fe,deps:[[new oe.Xx1,Re]]};function ae(Me){return(ct,Ne)=>{const et=ct.runOutsideAngular(()=>Me(Ne));return new ie(et)}}let Ae=(()=>{class Me{constructor(Ne){(0,b.KO)("angularfire",pe.xv.full,"core"),(0,b.KO)("angularfire",pe.xv.full,"app"),(0,b.KO)("angular",oe.xvI.full,Ne.toString())}}return Me.\u0275fac=function(Ne){return new(Ne||Me)(oe.KVO(oe.Agw))},Me.\u0275mod=oe.$C({type:Me}),Me.\u0275inj=oe.G2t({providers:[Fe,re]}),Me})();function qe(Me,...ct){return{ngModule:Ae,providers:[{provide:Re,useFactory:ae(Me),multi:!0,deps:[oe.SKi,oe.zZn,pe.u0,...ct]}]}}const Vt=(0,pe.S3)(b.Wp,!0)},4952:(Lt,$e,B)=>{B.d($e,{Nj:()=>Ku,DF:()=>qu,wh:()=>ol,eJ:()=>Gh,xI:()=>qh,fN:()=>$a,_q:()=>zd,x9:()=>Xl,CI:()=>Xd});var b=B(1161),oe=B(7705),pe=B(8934),ie=B(2214),fe=B(3664),J=B(467),te=B(1076),Re=B(7852),Fe=B(1635),re=B(8041),ae=B(1362);const Cn=function Ot(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Me=new te.FA("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ne=new re.Vy("@firebase/auth");function _t(I,...h){Ne.logLevel<=re.$b.ERROR&&Ne.error(`Auth (${Re.MF}): ${I}`,...h)}function pt(I,...h){throw Qn(I,...h)}function Kt(I,...h){return Qn(I,...h)}function Qn(I,...h){if("string"!=typeof I){const p=h[0],C=[...h.slice(1)];return C[0]&&(C[0].appName=I.name),I._errorFactory.create(p,...C)}return Me.create(I,...h)}function lt(I,h,...p){if(!I)throw Qn(h,...p)}function pn(I){const h="INTERNAL ASSERTION FAILED: "+I;throw _t(h),new Error(h)}function On(I,h){I||pn(h)}function Qr(){var I;return typeof self<"u"&&(null===(I=self.location)||void 0===I?void 0:I.href)||""}function Tr(){var I;return typeof self<"u"&&(null===(I=self.location)||void 0===I?void 0:I.protocol)||null}class He{constructor(h,p){this.shortDelay=h,this.longDelay=p,On(p>h,"Short delay should be less than long delay!"),this.isMobile=(0,te.jZ)()||(0,te.lV)()}get(){return function fi(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function Xr(){return"http:"===Tr()||"https:"===Tr()}()||(0,te.sr)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Ue(I,h){On(I.emulator,"Emulator should always be set here");const{url:p}=I.emulator;return h?`${p}${h.startsWith("/")?h.slice(1):h}`:p}class Ye{static initialize(h,p,C){this.fetchImpl=h,p&&(this.headersImpl=p),C&&(this.responseImpl=C)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void pn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void pn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void pn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const it={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Ke=new He(3e4,6e4);function Tt(I,h){return I.tenantId&&!h.tenantId?Object.assign(Object.assign({},h),{tenantId:I.tenantId}):h}function mt(I,h,p,C){return Mn.apply(this,arguments)}function Mn(){return(Mn=(0,J.A)(function*(I,h,p,C,$={}){return Rt(I,$,(0,J.A)(function*(){let Z={},Te={};C&&("GET"===h?Te=C:Z={body:JSON.stringify(C)});const Xe=(0,te.Am)(Object.assign({key:I.config.apiKey},Te)).slice(1),wt=yield I._getAdditionalHeaders();return wt["Content-Type"]="application/json",I.languageCode&&(wt["X-Firebase-Locale"]=I.languageCode),Ye.fetch()(Jt(I,I.config.apiHost,p,Xe),Object.assign({method:h,headers:wt,referrerPolicy:"no-referrer"},Z))}))})).apply(this,arguments)}function Rt(I,h,p){return mn.apply(this,arguments)}function mn(){return(mn=(0,J.A)(function*(I,h,p){I._canInitEmulator=!1;const C=Object.assign(Object.assign({},it),h);try{const $=new pr(I),Z=yield Promise.race([p(),$.promise]);$.clearNetworkTimeout();const Te=yield Z.json();if("needConfirmation"in Te)throw Xn(I,"account-exists-with-different-credential",Te);if(Z.ok&&!("errorMessage"in Te))return Te;{const Xe=Z.ok?Te.errorMessage:Te.error.message,[wt,zt]=Xe.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===wt)throw Xn(I,"credential-already-in-use",Te);if("EMAIL_EXISTS"===wt)throw Xn(I,"email-already-in-use",Te);if("USER_DISABLED"===wt)throw Xn(I,"user-disabled",Te);const An=C[wt]||wt.toLowerCase().replace(/[_\s]+/g,"-");if(zt)throw function tn(I,h,p){const C=Object.assign(Object.assign({},Cn()),{[h]:p});return new te.FA("auth","Firebase",C).create(h,{appName:I.name})}(I,An,zt);pt(I,An)}}catch($){if($ instanceof te.g)throw $;pt(I,"network-request-failed",{message:String($)})}})).apply(this,arguments)}function wn(I,h,p,C){return cr.apply(this,arguments)}function cr(){return(cr=(0,J.A)(function*(I,h,p,C,$={}){const Z=yield mt(I,h,p,C,$);return"mfaPendingCredential"in Z&&pt(I,"multi-factor-auth-required",{_serverResponse:Z}),Z})).apply(this,arguments)}function Jt(I,h,p,C){const $=`${h}${p}?${C}`;return I.config.emulator?Ue(I.config,$):`${I.config.apiScheme}://${$}`}class pr{constructor(h){this.auth=h,this.timer=null,this.promise=new Promise((p,C)=>{this.timer=setTimeout(()=>C(Kt(this.auth,"network-request-failed")),Ke.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Xn(I,h,p){const C={appName:I.name};p.email&&(C.email=p.email),p.phoneNumber&&(C.phoneNumber=p.phoneNumber);const $=Kt(I,h,C);return $.customData._tokenResponse=p,$}function nr(){return(nr=(0,J.A)(function*(I,h){return mt(I,"POST","/v1/accounts:delete",h)})).apply(this,arguments)}function qt(){return(qt=(0,J.A)(function*(I,h){return mt(I,"POST","/v1/accounts:lookup",h)})).apply(this,arguments)}function gn(I){if(I)try{const h=new Date(Number(I));if(!isNaN(h.getTime()))return h.toUTCString()}catch{}}function _r(){return(_r=(0,J.A)(function*(I,h=!1){const p=(0,te.Ku)(I),C=yield p.getIdToken(h),$=Ut(C);lt($&&$.exp&&$.auth_time&&$.iat,p.auth,"internal-error");const Z="object"==typeof $.firebase?$.firebase:void 0,Te=Z?.sign_in_provider;return{claims:$,token:C,authTime:gn(Er($.auth_time)),issuedAtTime:gn(Er($.iat)),expirationTime:gn(Er($.exp)),signInProvider:Te||null,signInSecondFactor:Z?.sign_in_second_factor||null}})).apply(this,arguments)}function Er(I){return 1e3*Number(I)}function Ut(I){const[h,p,C]=I.split(".");if(void 0===h||void 0===p||void 0===C)return _t("JWT malformed, contained fewer than 3 sections"),null;try{const $=(0,te.u)(p);return $?JSON.parse($):(_t("Failed to decode base64 JWT payload"),null)}catch($){return _t("Caught error parsing JWT payload as JSON",$?.toString()),null}}function si(I,h){return kt.apply(this,arguments)}function kt(){return(kt=(0,J.A)(function*(I,h,p=!1){if(p)return h;try{return yield h}catch(C){throw C instanceof te.g&&function Cr({code:I}){return"auth/user-disabled"===I||"auth/user-token-expired"===I}(C)&&I.auth.currentUser===I&&(yield I.auth.signOut()),C}})).apply(this,arguments)}class an{constructor(h){this.user=h,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(h){var p;if(h){const C=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),C}{this.errorBackoff=3e4;const $=(null!==(p=this.user.stsTokenManager.expirationTime)&&void 0!==p?p:0)-Date.now()-3e5;return Math.max(0,$)}}schedule(h=!1){var p=this;if(!this.isRunning)return;const C=this.getInterval(h);this.timerId=setTimeout((0,J.A)(function*(){yield p.iteration()}),C)}iteration(){var h=this;return(0,J.A)(function*(){try{yield h.user.getIdToken(!0)}catch(p){return void("auth/network-request-failed"===p?.code&&h.schedule(!0))}h.schedule()})()}}class Yr{constructor(h,p){this.createdAt=h,this.lastLoginAt=p,this._initializeTime()}_initializeTime(){this.lastSignInTime=gn(this.lastLoginAt),this.creationTime=gn(this.createdAt)}_copy(h){this.createdAt=h.createdAt,this.lastLoginAt=h.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Jr(I){return oi.apply(this,arguments)}function oi(){return oi=(0,J.A)(function*(I){var h;const p=I.auth,C=yield I.getIdToken(),$=yield si(I,function Hr(I,h){return qt.apply(this,arguments)}(p,{idToken:C}));lt($?.users.length,p,"internal-error");const Z=$.users[0];I._notifyReloadListener(Z);const Te=null!==(h=Z.providerUserInfo)&&void 0!==h&&h.length?function ai(I){return I.map(h=>{var{providerId:p}=h,C=(0,Fe.Tt)(h,["providerId"]);return{providerId:p,uid:C.rawId||"",displayName:C.displayName||null,email:C.email||null,phoneNumber:C.phoneNumber||null,photoURL:C.photoUrl||null}})}(Z.providerUserInfo):[],Xe=function Zr(I,h){return[...I.filter(C=>!h.some($=>$.providerId===C.providerId)),...h]}(I.providerData,Te),An=!!I.isAnonymous&&!(I.email&&Z.passwordHash||Xe?.length),Dn={uid:Z.localId,displayName:Z.displayName||null,photoURL:Z.photoUrl||null,email:Z.email||null,emailVerified:Z.emailVerified||!1,phoneNumber:Z.phoneNumber||null,tenantId:Z.tenantId||null,providerData:Xe,metadata:new Yr(Z.createdAt,Z.lastLoginAt),isAnonymous:An};Object.assign(I,Dn)}),oi.apply(this,arguments)}function br(){return(br=(0,J.A)(function*(I){const h=(0,te.Ku)(I);yield Jr(h),yield h.auth._persistUserIfCurrent(h),h.auth._notifyListenersIfCurrent(h)})).apply(this,arguments)}function Ir(){return(Ir=(0,J.A)(function*(I,h){const p=yield Rt(I,{},(0,J.A)(function*(){const C=(0,te.Am)({grant_type:"refresh_token",refresh_token:h}).slice(1),{tokenApiHost:$,apiKey:Z}=I.config,Te=Jt(I,$,"/v1/token",`key=${Z}`),Xe=yield I._getAdditionalHeaders();return Xe["Content-Type"]="application/x-www-form-urlencoded",Ye.fetch()(Te,{method:"POST",headers:Xe,body:C})}));return{accessToken:p.access_token,expiresIn:p.expires_in,refreshToken:p.refresh_token}})).apply(this,arguments)}class Bn{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(h){lt(h.idToken,"internal-error"),lt(typeof h.idToken<"u","internal-error"),lt(typeof h.refreshToken<"u","internal-error");const p="expiresIn"in h&&typeof h.expiresIn<"u"?Number(h.expiresIn):function rr(I){const h=Ut(I);return lt(h,"internal-error"),lt(typeof h.exp<"u","internal-error"),lt(typeof h.iat<"u","internal-error"),Number(h.exp)-Number(h.iat)}(h.idToken);this.updateTokensAndExpiration(h.idToken,h.refreshToken,p)}getToken(h){var p=this;return(0,J.A)(function*(C,$=!1){return lt(!p.accessToken||p.refreshToken,C,"user-token-expired"),$||!p.accessToken||p.isExpired?p.refreshToken?(yield p.refresh(C,p.refreshToken),p.accessToken):null:p.accessToken}).apply(this,arguments)}clearRefreshToken(){this.refreshToken=null}refresh(h,p){var C=this;return(0,J.A)(function*(){const{accessToken:$,refreshToken:Z,expiresIn:Te}=yield function ui(I,h){return Ir.apply(this,arguments)}(h,p);C.updateTokensAndExpiration($,Z,Number(Te))})()}updateTokensAndExpiration(h,p,C){this.refreshToken=p||null,this.accessToken=h||null,this.expirationTime=Date.now()+1e3*C}static fromJSON(h,p){const{refreshToken:C,accessToken:$,expirationTime:Z}=p,Te=new Bn;return C&&(lt("string"==typeof C,"internal-error",{appName:h}),Te.refreshToken=C),$&&(lt("string"==typeof $,"internal-error",{appName:h}),Te.accessToken=$),Z&&(lt("number"==typeof Z,"internal-error",{appName:h}),Te.expirationTime=Z),Te}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(h){this.accessToken=h.accessToken,this.refreshToken=h.refreshToken,this.expirationTime=h.expirationTime}_clone(){return Object.assign(new Bn,this.toJSON())}_performRefresh(){return pn("not implemented")}}function Nn(I,h){lt("string"==typeof I||typeof I>"u","internal-error",{appName:h})}class Sr{constructor(h){var{uid:p,auth:C,stsTokenManager:$}=h,Z=(0,Fe.Tt)(h,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new an(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=p,this.auth=C,this.stsTokenManager=$,this.accessToken=$.accessToken,this.displayName=Z.displayName||null,this.email=Z.email||null,this.emailVerified=Z.emailVerified||!1,this.phoneNumber=Z.phoneNumber||null,this.photoURL=Z.photoURL||null,this.isAnonymous=Z.isAnonymous||!1,this.tenantId=Z.tenantId||null,this.providerData=Z.providerData?[...Z.providerData]:[],this.metadata=new Yr(Z.createdAt||void 0,Z.lastLoginAt||void 0)}getIdToken(h){var p=this;return(0,J.A)(function*(){const C=yield si(p,p.stsTokenManager.getToken(p.auth,h));return lt(C,p.auth,"internal-error"),p.accessToken!==C&&(p.accessToken=C,yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)),C})()}getIdTokenResult(h){return function Vn(I){return _r.apply(this,arguments)}(this,h)}reload(){return function Fn(I){return br.apply(this,arguments)}(this)}_assign(h){this!==h&&(lt(this.uid===h.uid,this.auth,"internal-error"),this.displayName=h.displayName,this.photoURL=h.photoURL,this.email=h.email,this.emailVerified=h.emailVerified,this.phoneNumber=h.phoneNumber,this.isAnonymous=h.isAnonymous,this.tenantId=h.tenantId,this.providerData=h.providerData.map(p=>Object.assign({},p)),this.metadata._copy(h.metadata),this.stsTokenManager._assign(h.stsTokenManager))}_clone(h){const p=new Sr(Object.assign(Object.assign({},this),{auth:h,stsTokenManager:this.stsTokenManager._clone()}));return p.metadata._copy(this.metadata),p}_onReload(h){lt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=h,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(h){this.reloadListener?this.reloadListener(h):this.reloadUserInfo=h}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(h){var p=this;return(0,J.A)(function*(C,$=!1){let Z=!1;C.idToken&&C.idToken!==p.stsTokenManager.accessToken&&(p.stsTokenManager.updateFromServerResponse(C),Z=!0),$&&(yield Jr(p)),yield p.auth._persistUserIfCurrent(p),Z&&p.auth._notifyListenersIfCurrent(p)}).apply(this,arguments)}delete(){var h=this;return(0,J.A)(function*(){const p=yield h.getIdToken();return yield si(h,function gr(I,h){return nr.apply(this,arguments)}(h.auth,{idToken:p})),h.stsTokenManager.clearRefreshToken(),h.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(h=>Object.assign({},h)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(h,p){var C,$,Z,Te,Xe,wt,zt,An;const Dn=null!==(C=p.displayName)&&void 0!==C?C:void 0,Di=null!==($=p.email)&&void 0!==$?$:void 0,Aa=null!==(Z=p.phoneNumber)&&void 0!==Z?Z:void 0,vu=null!==(Te=p.photoURL)&&void 0!==Te?Te:void 0,Ju=null!==(Xe=p.tenantId)&&void 0!==Xe?Xe:void 0,Jl=null!==(wt=p._redirectEventId)&&void 0!==wt?wt:void 0,Zu=null!==(zt=p.createdAt)&&void 0!==zt?zt:void 0,hl=null!==(An=p.lastLoginAt)&&void 0!==An?An:void 0,{uid:Mc,emailVerified:ou,isAnonymous:Rc,providerData:Jd,stsTokenManager:os}=p;lt(Mc&&os,h,"internal-error");const Zd=Bn.fromJSON(this.name,os);lt("string"==typeof Mc,h,"internal-error"),Nn(Dn,h.name),Nn(Di,h.name),lt("boolean"==typeof ou,h,"internal-error"),lt("boolean"==typeof Rc,h,"internal-error"),Nn(Aa,h.name),Nn(vu,h.name),Nn(Ju,h.name),Nn(Jl,h.name),Nn(Zu,h.name),Nn(hl,h.name);const Zl=new Sr({uid:Mc,auth:h,email:Di,emailVerified:ou,displayName:Dn,isAnonymous:Rc,photoURL:vu,phoneNumber:Aa,tenantId:Ju,stsTokenManager:Zd,createdAt:Zu,lastLoginAt:hl});return Jd&&Array.isArray(Jd)&&(Zl.providerData=Jd.map(fl=>Object.assign({},fl))),Jl&&(Zl._redirectEventId=Jl),Zl}static _fromIdTokenResponse(h,p){return(0,J.A)(function*(C,$,Z=!1){const Te=new Bn;Te.updateFromServerResponse($);const Xe=new Sr({uid:$.localId,auth:C,stsTokenManager:Te,isAnonymous:Z});return yield Jr(Xe),Xe}).apply(this,arguments)}}const me=new Map;function W(I){On(I instanceof Function,"Expected a class definition");let h=me.get(I);return h?(On(h instanceof I,"Instance stored in cache mismatched with class"),h):(h=new I,me.set(I,h),h)}const q=(()=>{class I{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,J.A)(function*(){return!0})()}_set(p,C){var $=this;return(0,J.A)(function*(){$.storage[p]=C})()}_get(p){var C=this;return(0,J.A)(function*(){const $=C.storage[p];return void 0===$?null:$})()}_remove(p){var C=this;return(0,J.A)(function*(){delete C.storage[p]})()}_addListener(p,C){}_removeListener(p,C){}}return I.type="NONE",I})();function G(I,h,p){return`firebase:${I}:${h}:${p}`}class De{constructor(h,p,C){this.persistence=h,this.auth=p,this.userKey=C;const{config:$,name:Z}=this.auth;this.fullUserKey=G(this.userKey,$.apiKey,Z),this.fullPersistenceKey=G("persistence",$.apiKey,Z),this.boundEventHandler=p._onStorageEvent.bind(p),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(h){return this.persistence._set(this.fullUserKey,h.toJSON())}getCurrentUser(){var h=this;return(0,J.A)(function*(){const p=yield h.persistence._get(h.fullUserKey);return p?Sr._fromJSON(h.auth,p):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(h){var p=this;return(0,J.A)(function*(){if(p.persistence===h)return;const C=yield p.getCurrentUser();return yield p.removeCurrentUser(),p.persistence=h,C?p.setCurrentUser(C):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(h,p){return(0,J.A)(function*(C,$,Z="authUser"){if(!$.length)return new De(W(q),C,Z);const Te=(yield Promise.all($.map(function(){var Dn=(0,J.A)(function*(Di){if(yield Di._isAvailable())return Di});return function(Di){return Dn.apply(this,arguments)}}()))).filter(Dn=>Dn);let Xe=Te[0]||W(q);const wt=G(Z,C.config.apiKey,C.name);let zt=null;for(const Dn of $)try{const Di=yield Dn._get(wt);if(Di){const Aa=Sr._fromJSON(C,Di);Dn!==Xe&&(zt=Aa),Xe=Dn;break}}catch{}const An=Te.filter(Dn=>Dn._shouldAllowMigration);return Xe._shouldAllowMigration&&An.length?(Xe=An[0],zt&&(yield Xe._set(wt,zt.toJSON())),yield Promise.all($.map(function(){var Dn=(0,J.A)(function*(Di){if(Di!==Xe)try{yield Di._remove(wt)}catch{}});return function(Di){return Dn.apply(this,arguments)}}())),new De(Xe,C,Z)):new De(Xe,C,Z)}).apply(this,arguments)}}function tt(I){const h=I.toLowerCase();if(h.includes("opera/")||h.includes("opr/")||h.includes("opios/"))return"Opera";if($t(h))return"IEMobile";if(h.includes("msie")||h.includes("trident/"))return"IE";if(h.includes("edge/"))return"Edge";if(St(h))return"Firefox";if(h.includes("silk/"))return"Silk";if(ir(h))return"Blackberry";if(Ce(h))return"Webos";if(Bt(h))return"Safari";if((h.includes("chrome/")||en(h))&&!h.includes("edge/"))return"Chrome";if(on(h))return"Android";{const C=I.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===C?.length)return C[1]}return"Other"}function St(I=(0,te.ZQ)()){return/firefox\//i.test(I)}function Bt(I=(0,te.ZQ)()){const h=I.toLowerCase();return h.includes("safari/")&&!h.includes("chrome/")&&!h.includes("crios/")&&!h.includes("android")}function en(I=(0,te.ZQ)()){return/crios\//i.test(I)}function $t(I=(0,te.ZQ)()){return/iemobile/i.test(I)}function on(I=(0,te.ZQ)()){return/android/i.test(I)}function ir(I=(0,te.ZQ)()){return/blackberry/i.test(I)}function Ce(I=(0,te.ZQ)()){return/webos/i.test(I)}function he(I=(0,te.ZQ)()){return/iphone|ipad|ipod/i.test(I)||/macintosh/i.test(I)&&/mobile/i.test(I)}function Se(I=(0,te.ZQ)()){return he(I)||on(I)||Ce(I)||ir(I)||/windows phone/i.test(I)||$t(I)}function At(I,h=[]){let p;switch(I){case"Browser":p=tt((0,te.ZQ)());break;case"Worker":p=`${tt((0,te.ZQ)())}-${I}`;break;default:p=I}const C=h.length?h.join(","):"FirebaseCore-web";return`${p}/JsCore/${Re.MF}/${C}`}function Pn(I,h){return _n.apply(this,arguments)}function _n(){return(_n=(0,J.A)(function*(I,h){return mt(I,"GET","/v2/recaptchaConfig",Tt(I,h))})).apply(this,arguments)}function zr(I){return void 0!==I&&void 0!==I.enterprise}class pi{constructor(h){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===h.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=h.recaptchaKey.split("/")[3],this.emailPasswordEnabled=h.recaptchaEnforcementState.some(p=>"EMAIL_PASSWORD_PROVIDER"===p.provider&&"OFF"!==p.enforcementState)}}function Yn(I){return new Promise((h,p)=>{const C=document.createElement("script");C.setAttribute("src",I),C.onload=h,C.onerror=$=>{const Z=Kt("internal-error");Z.customData=$,p(Z)},C.type="text/javascript",C.charset="UTF-8",function xn(){var I,h;return null!==(h=null===(I=document.getElementsByTagName("head"))||void 0===I?void 0:I[0])&&void 0!==h?h:document}().appendChild(C)})}function Wr(I){return`__${I}${Math.floor(1e6*Math.random())}`}class Ar{constructor(h){this.type="recaptcha-enterprise",this.auth=we(h)}verify(){var h=this;return(0,J.A)(function*(p="verify",C=!1){function Z(){return Z=(0,J.A)(function*(Xe){if(!C){if(null==Xe.tenantId&&null!=Xe._agentRecaptchaConfig)return Xe._agentRecaptchaConfig.siteKey;if(null!=Xe.tenantId&&void 0!==Xe._tenantRecaptchaConfigs[Xe.tenantId])return Xe._tenantRecaptchaConfigs[Xe.tenantId].siteKey}return new Promise(function(){var wt=(0,J.A)(function*(zt,An){Pn(Xe,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Dn=>{if(void 0!==Dn.recaptchaKey){const Di=new pi(Dn);return null==Xe.tenantId?Xe._agentRecaptchaConfig=Di:Xe._tenantRecaptchaConfigs[Xe.tenantId]=Di,zt(Di.siteKey)}An(new Error("recaptcha Enterprise site key undefined"))}).catch(Dn=>{An(Dn)})});return function(zt,An){return wt.apply(this,arguments)}}())}),Z.apply(this,arguments)}function Te(Xe,wt,zt){const An=window.grecaptcha;zr(An)?An.enterprise.ready(()=>{An.enterprise.execute(Xe,{action:p}).then(Dn=>{wt(Dn)}).catch(()=>{wt("NO_RECAPTCHA")})}):zt(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((Xe,wt)=>{(function $(Xe){return Z.apply(this,arguments)})(h.auth).then(zt=>{if(!C&&zr(window.grecaptcha))Te(zt,Xe,wt);else{if(typeof window>"u")return void wt(new Error("RecaptchaVerifier is only supported in browser"));Yn("https://www.google.com/recaptcha/enterprise.js?render="+zt).then(()=>{Te(zt,Xe,wt)}).catch(An=>{wt(An)})}}).catch(zt=>{wt(zt)})})}).apply(this,arguments)}}function ei(I,h,p){return Ki.apply(this,arguments)}function Ki(){return(Ki=(0,J.A)(function*(I,h,p,C=!1){const $=new Ar(I);let Z;try{Z=yield $.verify(p)}catch{Z=yield $.verify(p,!0)}const Te=Object.assign({},h);return Object.assign(Te,C?{captchaResp:Z}:{captchaResponse:Z}),Object.assign(Te,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(Te,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),Te})).apply(this,arguments)}class Mr{constructor(h){this.auth=h,this.queue=[]}pushCallback(h,p){const C=Z=>new Promise((Te,Xe)=>{try{Te(h(Z))}catch(wt){Xe(wt)}});C.onAbort=p,this.queue.push(C);const $=this.queue.length-1;return()=>{this.queue[$]=()=>Promise.resolve()}}runMiddleware(h){var p=this;return(0,J.A)(function*(){if(p.auth.currentUser===h)return;const C=[];try{for(const $ of p.queue)yield $(h),$.onAbort&&C.push($.onAbort)}catch($){C.reverse();for(const Z of C)try{Z()}catch{}throw p.auth._errorFactory.create("login-blocked",{originalMessage:$?.message})}})()}}class Hs{constructor(h,p,C,$){this.app=h,this.heartbeatServiceProvider=p,this.appCheckServiceProvider=C,this.config=$,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ve(this),this.idTokenSubscription=new ve(this),this.beforeStateQueue=new Mr(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Me,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=h.name,this.clientVersion=$.sdkClientVersion}_initializeWithPersistence(h,p){var C=this;return p&&(this._popupRedirectResolver=W(p)),this._initializationPromise=this.queue((0,J.A)(function*(){var $,Z;if(!C._deleted&&(C.persistenceManager=yield De.create(C,h),!C._deleted)){if(null!==($=C._popupRedirectResolver)&&void 0!==$&&$._shouldInitProactively)try{yield C._popupRedirectResolver._initialize(C)}catch{}yield C.initializeCurrentUser(p),C.lastNotifiedUid=(null===(Z=C.currentUser)||void 0===Z?void 0:Z.uid)||null,!C._deleted&&(C._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var h=this;return(0,J.A)(function*(){if(h._deleted)return;const p=yield h.assertedPersistence.getCurrentUser();if(h.currentUser||p){if(h.currentUser&&p&&h.currentUser.uid===p.uid)return h._currentUser._assign(p),void(yield h.currentUser.getIdToken());yield h._updateCurrentUser(p,!0)}})()}initializeCurrentUser(h){var p=this;return(0,J.A)(function*(){var C;const $=yield p.assertedPersistence.getCurrentUser();let Z=$,Te=!1;if(h&&p.config.authDomain){yield p.getOrInitRedirectPersistenceManager();const Xe=null===(C=p.redirectUser)||void 0===C?void 0:C._redirectEventId,wt=Z?._redirectEventId,zt=yield p.tryRedirectSignIn(h);(!Xe||Xe===wt)&&zt?.user&&(Z=zt.user,Te=!0)}if(!Z)return p.directlySetCurrentUser(null);if(!Z._redirectEventId){if(Te)try{yield p.beforeStateQueue.runMiddleware(Z)}catch(Xe){Z=$,p._popupRedirectResolver._overrideRedirectResult(p,()=>Promise.reject(Xe))}return Z?p.reloadAndSetCurrentUserOrClear(Z):p.directlySetCurrentUser(null)}return lt(p._popupRedirectResolver,p,"argument-error"),yield p.getOrInitRedirectPersistenceManager(),p.redirectUser&&p.redirectUser._redirectEventId===Z._redirectEventId?p.directlySetCurrentUser(Z):p.reloadAndSetCurrentUserOrClear(Z)})()}tryRedirectSignIn(h){var p=this;return(0,J.A)(function*(){let C=null;try{C=yield p._popupRedirectResolver._completeRedirectFn(p,h,!0)}catch{yield p._setRedirectUser(null)}return C})()}reloadAndSetCurrentUserOrClear(h){var p=this;return(0,J.A)(function*(){try{yield Jr(h)}catch(C){if("auth/network-request-failed"!==C?.code)return p.directlySetCurrentUser(null)}return p.directlySetCurrentUser(h)})()}useDeviceLanguage(){this.languageCode=function ke(){if(typeof navigator>"u")return null;const I=navigator;return I.languages&&I.languages[0]||I.language||null}()}_delete(){var h=this;return(0,J.A)(function*(){h._deleted=!0})()}updateCurrentUser(h){var p=this;return(0,J.A)(function*(){const C=h?(0,te.Ku)(h):null;return C&&lt(C.auth.config.apiKey===p.config.apiKey,p,"invalid-user-token"),p._updateCurrentUser(C&&C._clone(p))})()}_updateCurrentUser(h){var p=this;return(0,J.A)(function*(C,$=!1){if(!p._deleted)return C&&lt(p.tenantId===C.tenantId,p,"tenant-id-mismatch"),$||(yield p.beforeStateQueue.runMiddleware(C)),p.queue((0,J.A)(function*(){yield p.directlySetCurrentUser(C),p.notifyAuthListeners()}))}).apply(this,arguments)}signOut(){var h=this;return(0,J.A)(function*(){return yield h.beforeStateQueue.runMiddleware(null),(h.redirectPersistenceManager||h._popupRedirectResolver)&&(yield h._setRedirectUser(null)),h._updateCurrentUser(null,!0)})()}setPersistence(h){var p=this;return this.queue((0,J.A)(function*(){yield p.assertedPersistence.setPersistence(W(h))}))}initializeRecaptchaConfig(){var h=this;return(0,J.A)(function*(){const p=yield Pn(h,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),C=new pi(p);null==h.tenantId?h._agentRecaptchaConfig=C:h._tenantRecaptchaConfigs[h.tenantId]=C,C.emailPasswordEnabled&&new Ar(h).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(h){this._errorFactory=new te.FA("auth","Firebase",h())}onAuthStateChanged(h,p,C){return this.registerStateListener(this.authStateSubscription,h,p,C)}beforeAuthStateChanged(h,p){return this.beforeStateQueue.pushCallback(h,p)}onIdTokenChanged(h,p,C){return this.registerStateListener(this.idTokenSubscription,h,p,C)}toJSON(){var h;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(h=this._currentUser)||void 0===h?void 0:h.toJSON()}}_setRedirectUser(h,p){var C=this;return(0,J.A)(function*(){const $=yield C.getOrInitRedirectPersistenceManager(p);return null===h?$.removeCurrentUser():$.setCurrentUser(h)})()}getOrInitRedirectPersistenceManager(h){var p=this;return(0,J.A)(function*(){if(!p.redirectPersistenceManager){const C=h&&W(h)||p._popupRedirectResolver;lt(C,p,"argument-error"),p.redirectPersistenceManager=yield De.create(p,[W(C._redirectPersistence)],"redirectUser"),p.redirectUser=yield p.redirectPersistenceManager.getCurrentUser()}return p.redirectPersistenceManager})()}_redirectUserForId(h){var p=this;return(0,J.A)(function*(){var C,$;return p._isInitialized&&(yield p.queue((0,J.A)(function*(){}))),(null===(C=p._currentUser)||void 0===C?void 0:C._redirectEventId)===h?p._currentUser:(null===($=p.redirectUser)||void 0===$?void 0:$._redirectEventId)===h?p.redirectUser:null})()}_persistUserIfCurrent(h){var p=this;return(0,J.A)(function*(){if(h===p.currentUser)return p.queue((0,J.A)(function*(){return p.directlySetCurrentUser(h)}))})()}_notifyListenersIfCurrent(h){h===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var h,p;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const C=null!==(p=null===(h=this.currentUser)||void 0===h?void 0:h.uid)&&void 0!==p?p:null;this.lastNotifiedUid!==C&&(this.lastNotifiedUid=C,this.authStateSubscription.next(this.currentUser))}registerStateListener(h,p,C,$){if(this._deleted)return()=>{};const Z="function"==typeof p?p:p.next.bind(p),Te=this._isInitialized?Promise.resolve():this._initializationPromise;return lt(Te,this,"internal-error"),Te.then(()=>Z(this.currentUser)),"function"==typeof p?h.addObserver(p,C,$):h.addObserver(p)}directlySetCurrentUser(h){var p=this;return(0,J.A)(function*(){p.currentUser&&p.currentUser!==h&&p._currentUser._stopProactiveRefresh(),h&&p.isProactiveRefreshEnabled&&h._startProactiveRefresh(),p.currentUser=h,h?yield p.assertedPersistence.setCurrentUser(h):yield p.assertedPersistence.removeCurrentUser()})()}queue(h){return this.operations=this.operations.then(h,h),this.operations}get assertedPersistence(){return lt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(h){!h||this.frameworks.includes(h)||(this.frameworks.push(h),this.frameworks.sort(),this.clientVersion=At(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var h=this;return(0,J.A)(function*(){var p;const C={"X-Client-Version":h.clientVersion};h.app.options.appId&&(C["X-Firebase-gmpid"]=h.app.options.appId);const $=yield null===(p=h.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===p?void 0:p.getHeartbeatsHeader();$&&(C["X-Firebase-Client"]=$);const Z=yield h._getAppCheckToken();return Z&&(C["X-Firebase-AppCheck"]=Z),C})()}_getAppCheckToken(){var h=this;return(0,J.A)(function*(){var p;const C=yield null===(p=h.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===p?void 0:p.getToken();return C?.error&&function et(I,...h){Ne.logLevel<=re.$b.WARN&&Ne.warn(`Auth (${Re.MF}): ${I}`,...h)}(`Error while retrieving App Check token: ${C.error}`),C?.token})()}}function we(I){return(0,te.Ku)(I)}class ve{constructor(h){this.auth=h,this.observer=null,this.addObserver=(0,te.tD)(p=>this.observer=p)}get next(){return lt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function un(I){const h=I.indexOf(":");return h<0?"":I.substr(0,h+1)}function $n(I){if(!I)return null;const h=Number(I);return isNaN(h)?null:h}class ws{constructor(h,p){this.providerId=h,this.signInMethod=p}toJSON(){return pn("not implemented")}_getIdTokenResponse(h){return pn("not implemented")}_linkToIdToken(h,p){return pn("not implemented")}_getReauthenticationResolver(h){return pn("not implemented")}}function ci(I,h){return Js.apply(this,arguments)}function Js(){return(Js=(0,J.A)(function*(I,h){return mt(I,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function Zs(I,h){return fa.apply(this,arguments)}function fa(){return(fa=(0,J.A)(function*(I,h){return wn(I,"POST","/v1/accounts:signInWithPassword",Tt(I,h))})).apply(this,arguments)}function ps(){return(ps=(0,J.A)(function*(I,h){return wn(I,"POST","/v1/accounts:signInWithEmailLink",Tt(I,h))})).apply(this,arguments)}function lr(){return(lr=(0,J.A)(function*(I,h){return wn(I,"POST","/v1/accounts:signInWithEmailLink",Tt(I,h))})).apply(this,arguments)}class Mt extends ws{constructor(h,p,C,$=null){super("password",C),this._email=h,this._password=p,this._tenantId=$}static _fromEmailAndPassword(h,p){return new Mt(h,p,"password")}static _fromEmailAndCode(h,p,C=null){return new Mt(h,p,"emailLink",C)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(h){const p="string"==typeof h?JSON.parse(h):h;if(p?.email&&p?.password){if("password"===p.signInMethod)return this._fromEmailAndPassword(p.email,p.password);if("emailLink"===p.signInMethod)return this._fromEmailAndCode(p.email,p.password,p.tenantId)}return null}_getIdTokenResponse(h){var p=this;return(0,J.A)(function*(){var C;switch(p.signInMethod){case"password":const $={returnSecureToken:!0,email:p._email,password:p._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(C=h._getRecaptchaConfig())&&void 0!==C&&C.emailPasswordEnabled){const Z=yield ei(h,$,"signInWithPassword");return Zs(h,Z)}return Zs(h,$).catch(function(){var Z=(0,J.A)(function*(Te){if("auth/missing-recaptcha-token"===Te.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const Xe=yield ei(h,$,"signInWithPassword");return Zs(h,Xe)}return Promise.reject(Te)});return function(Te){return Z.apply(this,arguments)}}());case"emailLink":return function Yo(I,h){return ps.apply(this,arguments)}(h,{email:p._email,oobCode:p._password});default:pt(h,"internal-error")}})()}_linkToIdToken(h,p){var C=this;return(0,J.A)(function*(){switch(C.signInMethod){case"password":return ci(h,{idToken:p,returnSecureToken:!0,email:C._email,password:C._password});case"emailLink":return function gs(I,h){return lr.apply(this,arguments)}(h,{idToken:p,email:C._email,oobCode:C._password});default:pt(h,"internal-error")}})()}_getReauthenticationResolver(h){return this._getIdTokenResponse(h)}}function cn(I,h){return rn.apply(this,arguments)}function rn(){return(rn=(0,J.A)(function*(I,h){return wn(I,"POST","/v1/accounts:signInWithIdp",Tt(I,h))})).apply(this,arguments)}class _i{constructor(h){var p,C,$,Z,Te,Xe;const wt=(0,te.I9)((0,te.hp)(h)),zt=null!==(p=wt.apiKey)&&void 0!==p?p:null,An=null!==(C=wt.oobCode)&&void 0!==C?C:null,Dn=function yo(I){switch(I){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==($=wt.mode)&&void 0!==$?$:null);lt(zt&&An&&Dn,"argument-error"),this.apiKey=zt,this.operation=Dn,this.code=An,this.continueUrl=null!==(Z=wt.continueUrl)&&void 0!==Z?Z:null,this.languageCode=null!==(Te=wt.languageCode)&&void 0!==Te?Te:null,this.tenantId=null!==(Xe=wt.tenantId)&&void 0!==Xe?Xe:null}static parseLink(h){const p=function to(I){const h=(0,te.I9)((0,te.hp)(I)).link,p=h?(0,te.I9)((0,te.hp)(h)).deep_link_id:null,C=(0,te.I9)((0,te.hp)(I)).deep_link_id;return(C?(0,te.I9)((0,te.hp)(C)).link:null)||C||p||h||I}(h);try{return new _i(p)}catch{return null}}}let Ka=(()=>{class I{constructor(){this.providerId=I.PROVIDER_ID}static credential(p,C){return Mt._fromEmailAndPassword(p,C)}static credentialWithLink(p,C){const $=_i.parseLink(C);return lt($,"argument-error"),Mt._fromEmailAndCode(p,$.code,$.tenantId)}}return I.PROVIDER_ID="password",I.EMAIL_PASSWORD_SIGN_IN_METHOD="password",I.EMAIL_LINK_SIGN_IN_METHOD="emailLink",I})();class Ci{constructor(h){this.providerId=h,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(h){this.defaultLanguageCode=h}setCustomParameters(h){return this.customParameters=h,this}getCustomParameters(){return this.customParameters}}class no extends Ci{constructor(){super(...arguments),this.scopes=[]}addScope(h){return this.scopes.includes(h)||this.scopes.push(h),this}getScopes(){return[...this.scopes]}}function io(I,h){return ni.apply(this,arguments)}function ni(){return(ni=(0,J.A)(function*(I,h){return wn(I,"POST","/v1/accounts:signUp",Tt(I,h))})).apply(this,arguments)}class xi{constructor(h){this.user=h.user,this.providerId=h.providerId,this._tokenResponse=h._tokenResponse,this.operationType=h.operationType}static _fromIdTokenResponse(h,p,C){return(0,J.A)(function*($,Z,Te,Xe=!1){const wt=yield Sr._fromIdTokenResponse($,Te,Xe),zt=Ei(Te);return new xi({user:wt,providerId:zt,_tokenResponse:Te,operationType:Z})}).apply(this,arguments)}static _forOperation(h,p,C){return(0,J.A)(function*(){yield h._updateTokensIfNecessary(C,!0);const $=Ei(C);return new xi({user:h,providerId:$,_tokenResponse:C,operationType:p})})()}}function Ei(I){return I.providerId?I.providerId:"phoneNumber"in I?"phone":null}class Rr extends te.g{constructor(h,p,C,$){var Z;super(p.code,p.message),this.operationType=C,this.user=$,Object.setPrototypeOf(this,Rr.prototype),this.customData={appName:h.name,tenantId:null!==(Z=h.tenantId)&&void 0!==Z?Z:void 0,_serverResponse:p.customData._serverResponse,operationType:C}}static _fromErrorAndOperation(h,p,C,$){return new Rr(h,p,C,$)}}function Oi(I,h,p,C){return("reauthenticate"===h?p._getReauthenticationResolver(I):p._getIdTokenResponse(I)).catch(Z=>{throw"auth/multi-factor-auth-required"===Z.code?Rr._fromErrorAndOperation(I,Z,h,C):Z})}function so(){return(so=(0,J.A)(function*(I,h,p=!1){const C=yield si(I,h._linkToIdToken(I.auth,yield I.getIdToken()),p);return xi._forOperation(I,"link",C)})).apply(this,arguments)}function Zo(){return(Zo=(0,J.A)(function*(I,h,p=!1){const{auth:C}=I,$="reauthenticate";try{const Z=yield si(I,Oi(C,$,h,I),p);lt(Z.idToken,C,"internal-error");const Te=Ut(Z.idToken);lt(Te,C,"internal-error");const{sub:Xe}=Te;return lt(I.uid===Xe,C,"user-mismatch"),xi._forOperation(I,$,Z)}catch(Z){throw"auth/user-not-found"===Z?.code&&pt(C,"user-mismatch"),Z}})).apply(this,arguments)}function ea(I,h){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,J.A)(function*(I,h,p=!1){const C="signIn",$=yield Oi(I,C,h),Z=yield xi._fromIdTokenResponse(I,C,$);return p||(yield I._updateCurrentUser(Z.user)),Z})).apply(this,arguments)}function ka(){return(ka=(0,J.A)(function*(I,h){return ea(we(I),h)})).apply(this,arguments)}function Fo(I,h,p){return So.apply(this,arguments)}function So(){return So=(0,J.A)(function*(I,h,p){var C;const $=we(I),Z={returnSecureToken:!0,email:h,password:p,clientType:"CLIENT_TYPE_WEB"};let Te;if(null!==(C=$._getRecaptchaConfig())&&void 0!==C&&C.emailPasswordEnabled){const zt=yield ei($,Z,"signUpPassword");Te=io($,zt)}else Te=io($,Z).catch(function(){var zt=(0,J.A)(function*(An){if("auth/missing-recaptcha-token"===An.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const Dn=yield ei($,Z,"signUpPassword");return io($,Dn)}return Promise.reject(An)});return function(An){return zt.apply(this,arguments)}}());const Xe=yield Te.catch(zt=>Promise.reject(zt)),wt=yield xi._fromIdTokenResponse($,"signIn",Xe);return yield $._updateCurrentUser(wt.user),wt}),So.apply(this,arguments)}function di(I,h,p){return function Zi(I,h){return ka.apply(this,arguments)}((0,te.Ku)(I),Ka.credential(h,p))}function hn(I,h,p,C){return(0,te.Ku)(I).onIdTokenChanged(h,p,C)}function xr(I){return(0,te.Ku)(I).signOut()}const gt="__sak";class xe{constructor(h,p){this.storageRetriever=h,this.type=p}_isAvailable(){try{return this.storage?(this.storage.setItem(gt,"1"),this.storage.removeItem(gt),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(h,p){return this.storage.setItem(h,JSON.stringify(p)),Promise.resolve()}_get(h){const p=this.storage.getItem(h);return Promise.resolve(p?JSON.parse(p):null)}_remove(h){return this.storage.removeItem(h),Promise.resolve()}get storage(){return this.storageRetriever()}}const Qa=(()=>{class I extends xe{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(p,C)=>this.onStorageEvent(p,C),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function ot(){const I=(0,te.ZQ)();return Bt(I)||he(I)}()&&function Qe(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Se(),this._shouldAllowMigration=!0}forAllChangedKeys(p){for(const C of Object.keys(this.listeners)){const $=this.storage.getItem(C),Z=this.localCache[C];$!==Z&&p(C,Z,$)}}onStorageEvent(p,C=!1){if(!p.key)return void this.forAllChangedKeys((Xe,wt,zt)=>{this.notifyListeners(Xe,zt)});const $=p.key;if(C?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Xe=this.storage.getItem($);if(p.newValue!==Xe)null!==p.newValue?this.storage.setItem($,p.newValue):this.storage.removeItem($);else if(this.localCache[$]===p.newValue&&!C)return}const Z=()=>{const Xe=this.storage.getItem($);!C&&this.localCache[$]===Xe||this.notifyListeners($,Xe)},Te=this.storage.getItem($);!function ce(){return(0,te.lT)()&&10===document.documentMode}()||Te===p.newValue||p.newValue===p.oldValue?Z():setTimeout(Z,10)}notifyListeners(p,C){this.localCache[p]=C;const $=this.listeners[p];if($)for(const Z of Array.from($))Z(C&&JSON.parse(C))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((p,C,$)=>{this.onStorageEvent(new StorageEvent("storage",{key:p,oldValue:C,newValue:$}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(p,C){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[p]||(this.listeners[p]=new Set,this.localCache[p]=this.storage.getItem(p)),this.listeners[p].add(C)}_removeListener(p,C){this.listeners[p]&&(this.listeners[p].delete(C),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(p,C){var $=()=>super._set,Z=this;return(0,J.A)(function*(){yield $().call(Z,p,C),Z.localCache[p]=JSON.stringify(C)})()}_get(p){var C=()=>super._get,$=this;return(0,J.A)(function*(){const Z=yield C().call($,p);return $.localCache[p]=JSON.stringify(Z),Z})()}_remove(p){var C=()=>super._remove,$=this;return(0,J.A)(function*(){yield C().call($,p),delete $.localCache[p]})()}}return I.type="LOCAL",I})(),rs=(()=>{class I extends xe{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(p,C){}_removeListener(p,C){}}return I.type="SESSION",I})();let wa=(()=>{class I{constructor(p){this.eventTarget=p,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(p){const C=this.receivers.find(Z=>Z.isListeningto(p));if(C)return C;const $=new I(p);return this.receivers.push($),$}isListeningto(p){return this.eventTarget===p}handleEvent(p){var C=this;return(0,J.A)(function*(){const $=p,{eventId:Z,eventType:Te,data:Xe}=$.data,wt=C.handlersMap[Te];if(!wt?.size)return;$.ports[0].postMessage({status:"ack",eventId:Z,eventType:Te});const zt=Array.from(wt).map(function(){var Dn=(0,J.A)(function*(Di){return Di($.origin,Xe)});return function(Di){return Dn.apply(this,arguments)}}()),An=yield function is(I){return Promise.all(I.map(function(){var h=(0,J.A)(function*(p){try{return{fulfilled:!0,value:yield p}}catch(C){return{fulfilled:!1,reason:C}}});return function(p){return h.apply(this,arguments)}}()))}(zt);$.ports[0].postMessage({status:"done",eventId:Z,eventType:Te,response:An})})()}_subscribe(p,C){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[p]||(this.handlersMap[p]=new Set),this.handlersMap[p].add(C)}_unsubscribe(p,C){this.handlersMap[p]&&C&&this.handlersMap[p].delete(C),(!C||0===this.handlersMap[p].size)&&delete this.handlersMap[p],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return I.receivers=[],I})();function La(I="",h=10){let p="";for(let C=0;C<h;C++)p+=Math.floor(10*Math.random());return I+p}class Rn{constructor(h){this.target=h,this.handlers=new Set}removeMessageHandler(h){h.messageChannel&&(h.messageChannel.port1.removeEventListener("message",h.onMessage),h.messageChannel.port1.close()),this.handlers.delete(h)}_send(h,p){var C=this;return(0,J.A)(function*($,Z,Te=50){const Xe=typeof MessageChannel<"u"?new MessageChannel:null;if(!Xe)throw new Error("connection_unavailable");let wt,zt;return new Promise((An,Dn)=>{const Di=La("",20);Xe.port1.start();const Aa=setTimeout(()=>{Dn(new Error("unsupported_event"))},Te);zt={messageChannel:Xe,onMessage(vu){const Ju=vu;if(Ju.data.eventId===Di)switch(Ju.data.status){case"ack":clearTimeout(Aa),wt=setTimeout(()=>{Dn(new Error("timeout"))},3e3);break;case"done":clearTimeout(wt),An(Ju.data.response);break;default:clearTimeout(Aa),clearTimeout(wt),Dn(new Error("invalid_response"))}}},C.handlers.add(zt),Xe.port1.addEventListener("message",zt.onMessage),C.target.postMessage({eventType:$,eventId:Di,data:Z},[Xe.port2])}).finally(()=>{zt&&C.removeMessageHandler(zt)})}).apply(this,arguments)}}function Mi(){return window}function Qt(){return typeof Mi().WorkerGlobalScope<"u"&&"function"==typeof Mi().importScripts}function ss(){return(ss=(0,J.A)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Ua="firebaseLocalStorageDb",Nu="firebaseLocalStorage",Fi="fbase_key";class Nt{constructor(h){this.request=h}toPromise(){return new Promise((h,p)=>{this.request.addEventListener("success",()=>{h(this.request.result)}),this.request.addEventListener("error",()=>{p(this.request.error)})})}}function dt(I,h){return I.transaction([Nu],h?"readwrite":"readonly").objectStore(Nu)}function Ro(){const I=indexedDB.open(Ua,1);return new Promise((h,p)=>{I.addEventListener("error",()=>{p(I.error)}),I.addEventListener("upgradeneeded",()=>{const C=I.result;try{C.createObjectStore(Nu,{keyPath:Fi})}catch($){p($)}}),I.addEventListener("success",(0,J.A)(function*(){const C=I.result;C.objectStoreNames.contains(Nu)?h(C):(C.close(),yield function Kn(){const I=indexedDB.deleteDatabase(Ua);return new Nt(I).toPromise()}(),h(yield Ro()))}))})}function Pu(I,h,p){return Ri.apply(this,arguments)}function Ri(){return(Ri=(0,J.A)(function*(I,h,p){const C=dt(I,!0).put({[Fi]:h,value:p});return new Nt(C).toPromise()})).apply(this,arguments)}function co(){return(co=(0,J.A)(function*(I,h){const p=dt(I,!1).get(h),C=yield new Nt(p).toPromise();return void 0===C?null:C.value})).apply(this,arguments)}function qs(I,h){const p=dt(I,!0).delete(h);return new Nt(p).toPromise()}const Ou=(()=>{class I{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var p=this;return(0,J.A)(function*(){return p.db||(p.db=yield Ro()),p.db})()}_withRetries(p){var C=this;return(0,J.A)(function*(){let $=0;for(;;)try{const Z=yield C._openDb();return yield p(Z)}catch(Z){if($++>3)throw Z;C.db&&(C.db.close(),C.db=void 0)}})()}initializeServiceWorkerMessaging(){var p=this;return(0,J.A)(function*(){return Qt()?p.initializeReceiver():p.initializeSender()})()}initializeReceiver(){var p=this;return(0,J.A)(function*(){p.receiver=wa._getInstance(function Xt(){return Qt()?self:null}()),p.receiver._subscribe("keyChanged",function(){var C=(0,J.A)(function*($,Z){return{keyProcessed:(yield p._poll()).includes(Z.key)}});return function($,Z){return C.apply(this,arguments)}}()),p.receiver._subscribe("ping",function(){var C=(0,J.A)(function*($,Z){return["keyChanged"]});return function($,Z){return C.apply(this,arguments)}}())})()}initializeSender(){var p=this;return(0,J.A)(function*(){var C,$;if(p.activeServiceWorker=yield function Fa(){return ss.apply(this,arguments)}(),!p.activeServiceWorker)return;p.sender=new Rn(p.activeServiceWorker);const Z=yield p.sender._send("ping",{},800);Z&&null!==(C=Z[0])&&void 0!==C&&C.fulfilled&&null!==($=Z[0])&&void 0!==$&&$.value.includes("keyChanged")&&(p.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(p){var C=this;return(0,J.A)(function*(){if(C.sender&&C.activeServiceWorker&&function wi(){var I;return(null===(I=navigator?.serviceWorker)||void 0===I?void 0:I.controller)||null}()===C.activeServiceWorker)try{yield C.sender._send("keyChanged",{key:p},C.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,J.A)(function*(){try{if(!indexedDB)return!1;const p=yield Ro();return yield Pu(p,gt,"1"),yield qs(p,gt),!0}catch{}return!1})()}_withPendingWrite(p){var C=this;return(0,J.A)(function*(){C.pendingWrites++;try{yield p()}finally{C.pendingWrites--}})()}_set(p,C){var $=this;return(0,J.A)(function*(){return $._withPendingWrite((0,J.A)(function*(){return yield $._withRetries(Z=>Pu(Z,p,C)),$.localCache[p]=C,$.notifyServiceWorker(p)}))})()}_get(p){var C=this;return(0,J.A)(function*(){const $=yield C._withRetries(Z=>function pc(I,h){return co.apply(this,arguments)}(Z,p));return C.localCache[p]=$,$})()}_remove(p){var C=this;return(0,J.A)(function*(){return C._withPendingWrite((0,J.A)(function*(){return yield C._withRetries($=>qs($,p)),delete C.localCache[p],C.notifyServiceWorker(p)}))})()}_poll(){var p=this;return(0,J.A)(function*(){const C=yield p._withRetries(Te=>{const Xe=dt(Te,!1).getAll();return new Nt(Xe).toPromise()});if(!C)return[];if(0!==p.pendingWrites)return[];const $=[],Z=new Set;for(const{fbase_key:Te,value:Xe}of C)Z.add(Te),JSON.stringify(p.localCache[Te])!==JSON.stringify(Xe)&&(p.notifyListeners(Te,Xe),$.push(Te));for(const Te of Object.keys(p.localCache))p.localCache[Te]&&!Z.has(Te)&&(p.notifyListeners(Te,null),$.push(Te));return $})()}notifyListeners(p,C){this.localCache[p]=C;const $=this.listeners[p];if($)for(const Z of Array.from($))Z(C)}startPolling(){var p=this;this.stopPolling(),this.pollTimer=setInterval((0,J.A)(function*(){return p._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(p,C){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[p]||(this.listeners[p]=new Set,this._get(p)),this.listeners[p].add(C)}_removeListener(p,C){this.listeners[p]&&(this.listeners[p].delete(C),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return I.type="LOCAL",I})();Wr("rcb"),new He(3e4,6e4);class ku extends ws{constructor(h){super("custom","custom"),this.params=h}_getIdTokenResponse(h){return cn(h,this._buildIdpRequest())}_linkToIdToken(h,p){return cn(h,this._buildIdpRequest(p))}_getReauthenticationResolver(h){return cn(h,this._buildIdpRequest())}_buildIdpRequest(h){const p={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return h&&(p.idToken=h),p}}function Lu(I){return ea(I.auth,new ku(I),I.bypassAuthState)}function bs(I){const{auth:h,user:p}=I;return lt(p,h,"internal-error"),function pa(I,h){return Zo.apply(this,arguments)}(p,new ku(I),I.bypassAuthState)}function el(I){return Fu.apply(this,arguments)}function Fu(){return(Fu=(0,J.A)(function*(I){const{auth:h,user:p}=I;return lt(p,h,"internal-error"),function Io(I,h){return so.apply(this,arguments)}(p,new ku(I),I.bypassAuthState)})).apply(this,arguments)}class yc{constructor(h,p,C,$,Z=!1){this.auth=h,this.resolver=C,this.user=$,this.bypassAuthState=Z,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(p)?p:[p]}execute(){var h=this;return new Promise(function(){var p=(0,J.A)(function*(C,$){h.pendingPromise={resolve:C,reject:$};try{h.eventManager=yield h.resolver._initialize(h.auth),yield h.onExecution(),h.eventManager.registerConsumer(h)}catch(Z){h.reject(Z)}});return function(C,$){return p.apply(this,arguments)}}())}onAuthEvent(h){var p=this;return(0,J.A)(function*(){const{urlResponse:C,sessionId:$,postBody:Z,tenantId:Te,error:Xe,type:wt}=h;if(Xe)return void p.reject(Xe);const zt={auth:p.auth,requestUri:C,sessionId:$,tenantId:Te||void 0,postBody:Z||void 0,user:p.user,bypassAuthState:p.bypassAuthState};try{p.resolve(yield p.getIdpTask(wt)(zt))}catch(An){p.reject(An)}})()}onError(h){this.reject(h)}getIdpTask(h){switch(h){case"signInViaPopup":case"signInViaRedirect":return Lu;case"linkViaPopup":case"linkViaRedirect":return el;case"reauthViaPopup":case"reauthViaRedirect":return bs;default:pt(this.auth,"internal-error")}}resolve(h){On(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(h),this.unregisterAndCleanUp()}reject(h){On(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(h),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}new He(2e3,1e4);const Ud="pendingRedirect",Vi=new Map;class Bh extends yc{constructor(h,p,C=!1){super(h,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],p,void 0,C),this.eventId=null}execute(){var h=()=>super.execute,p=this;return(0,J.A)(function*(){let C=Vi.get(p.auth._key());if(!C){try{const Z=(yield function Ja(I,h){return _c.apply(this,arguments)}(p.resolver,p.auth))?yield h().call(p):null;C=()=>Promise.resolve(Z)}catch($){C=()=>Promise.reject($)}Vi.set(p.auth._key(),C)}return p.bypassAuthState||Vi.set(p.auth._key(),()=>Promise.resolve(null)),C()})()}onAuthEvent(h){var p=()=>super.onAuthEvent,C=this;return(0,J.A)(function*(){if("signInViaRedirect"===h.type)return p().call(C,h);if("unknown"!==h.type){if(h.eventId){const $=yield C.auth._redirectUserForId(h.eventId);if($)return C.user=$,p().call(C,h);C.resolve(null)}}else C.resolve(null)})()}onExecution(){return(0,J.A)(function*(){})()}cleanUp(){}}function _c(){return(_c=(0,J.A)(function*(I,h){const p=function Bo(I){return G(Ud,I.config.apiKey,I.name)}(h),C=function nl(I){return W(I._redirectPersistence)}(I);if(!(yield C._isAvailable()))return!1;const $="true"===(yield C._get(p));return yield C._remove(p),$})).apply(this,arguments)}function qr(I,h){Vi.set(I._key(),h)}function Za(I,h){return fo.apply(this,arguments)}function fo(){return(fo=(0,J.A)(function*(I,h,p=!1){const C=we(I),$=function Vo(I,h){return h?W(h):(lt(I._popupRedirectResolver,I,"argument-error"),I._popupRedirectResolver)}(C,h),Te=yield new Bh(C,$,p).execute();return Te&&!p&&(delete Te.user._redirectEventId,yield C._persistUserIfCurrent(Te.user),yield C._setRedirectUser(null,h)),Te})).apply(this,arguments)}class po{constructor(h){this.auth=h,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(h){this.consumers.add(h),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,h)&&(this.sendToConsumer(this.queuedRedirectEvent,h),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(h){this.consumers.delete(h)}onEvent(h){if(this.hasEventBeenHandled(h))return!1;let p=!1;return this.consumers.forEach(C=>{this.isEventForConsumer(h,C)&&(p=!0,this.sendToConsumer(h,C),this.saveEventToCache(h))}),this.hasHandledPotentialRedirect||!function Ec(I){switch(I.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Va(I);default:return!1}}(h)||(this.hasHandledPotentialRedirect=!0,p||(this.queuedRedirectEvent=h,p=!0)),p}sendToConsumer(h,p){var C;if(h.error&&!Va(h)){const $=(null===(C=h.error.code)||void 0===C?void 0:C.split("auth/")[1])||"internal-error";p.onError(Kt(this.auth,$))}else p.onAuthEvent(h)}isEventForConsumer(h,p){const C=null===p.eventId||!!h.eventId&&h.eventId===p.eventId;return p.filter.includes(h.type)&&C}hasEventBeenHandled(h){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(pu(h))}saveEventToCache(h){this.cachedEventUids.add(pu(h)),this.lastProcessedEventTime=Date.now()}}function pu(I){return[I.type,I.eventId,I.sessionId,I.tenantId].filter(h=>h).join("-")}function Va({type:I,error:h}){return"unknown"===I&&"auth/no-auth-event"===h?.code}function Hu(){return(Hu=(0,J.A)(function*(I,h={}){return mt(I,"GET","/v1/projects",h)})).apply(this,arguments)}const da=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ca=/^https?/;function tu(){return tu=(0,J.A)(function*(I){if(I.config.emulator)return;const{authorizedDomains:h}=yield function No(I){return Hu.apply(this,arguments)}(I);for(const p of h)try{if(zi(p))return}catch{}pt(I,"unauthorized-domain")}),tu.apply(this,arguments)}function zi(I){const h=Qr(),{protocol:p,hostname:C}=new URL(h);if(I.startsWith("chrome-extension://")){const Te=new URL(I);return""===Te.hostname&&""===C?"chrome-extension:"===p&&I.replace("chrome-extension://","")===h.replace("chrome-extension://",""):"chrome-extension:"===p&&Te.hostname===C}if(!Ca.test(p))return!1;if(da.test(I))return C===I;const $=I.replace(/\./g,"\\.");return new RegExp("^(.+\\."+$+"|"+$+")$","i").test(C)}const $l=new He(3e4,6e4);function Po(){const I=Mi().___jsl;if(I?.H)for(const h of Object.keys(I.H))if(I.H[h].r=I.H[h].r||[],I.H[h].L=I.H[h].L||[],I.H[h].r=[...I.H[h].L],I.CP)for(let p=0;p<I.CP.length;p++)I.CP[p]=null}let wc=null;const rl=new He(5e3,15e3),nu="__/auth/iframe",ru="emulator/auth/iframe",D={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},N=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function U(I){const h=I.config;lt(h.authDomain,I,"auth-domain-config-required");const p=h.emulator?Ue(h,ru):`https://${I.config.authDomain}/${nu}`,C={apiKey:h.apiKey,appName:I.name,v:Re.MF},$=N.get(I.config.apiHost);$&&(C.eid=$);const Z=I._getFrameworks();return Z.length&&(C.fw=Z.join(",")),`${p}?${(0,te.Am)(C).slice(1)}`}function Ee(){return Ee=(0,J.A)(function*(I){const h=yield function Hl(I){return wc=wc||function gu(I){return new Promise((h,p)=>{var C,$,Z;function Te(){Po(),gapi.load("gapi.iframes",{callback:()=>{h(gapi.iframes.getContext())},ontimeout:()=>{Po(),p(Kt(I,"network-request-failed"))},timeout:$l.get()})}if(null!==($=null===(C=Mi().gapi)||void 0===C?void 0:C.iframes)&&void 0!==$&&$.Iframe)h(gapi.iframes.getContext());else{if(null===(Z=Mi().gapi)||void 0===Z||!Z.load){const Xe=Wr("iframefcb");return Mi()[Xe]=()=>{gapi.load?Te():p(Kt(I,"network-request-failed"))},Yn(`https://apis.google.com/js/api.js?onload=${Xe}`).catch(wt=>p(wt))}Te()}}).catch(h=>{throw wc=null,h})}(I),wc}(I),p=Mi().gapi;return lt(p,I,"internal-error"),h.open({where:document.body,url:U(I),messageHandlersFilter:p.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:D,dontclear:!0},C=>new Promise(function(){var $=(0,J.A)(function*(Z,Te){yield C.restyle({setHideOnLeave:!1});const Xe=Kt(I,"network-request-failed"),wt=Mi().setTimeout(()=>{Te(Xe)},rl.get());function zt(){Mi().clearTimeout(wt),Z(C)}C.ping(zt).then(zt,()=>{Te(Xe)})});return function(Z,Te){return $.apply(this,arguments)}}()))}),Ee.apply(this,arguments)}const Pe={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class jt{constructor(h){this.window=h,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const fs="__/auth/handler",zu="emulator/auth/handler",Bi=encodeURIComponent("fac");function iu(I,h,p,C,$,Z){return vs.apply(this,arguments)}function vs(){return(vs=(0,J.A)(function*(I,h,p,C,$,Z){lt(I.config.authDomain,I,"auth-domain-config-required"),lt(I.config.apiKey,I,"invalid-api-key");const Te={apiKey:I.config.apiKey,appName:I.name,authType:p,redirectUrl:C,v:Re.MF,eventId:$};if(h instanceof Ci){h.setDefaultLanguage(I.languageCode),Te.providerId=h.providerId||"",(0,te.Im)(h.getCustomParameters())||(Te.customParameters=JSON.stringify(h.getCustomParameters()));for(const[An,Dn]of Object.entries(Z||{}))Te[An]=Dn}if(h instanceof no){const An=h.getScopes().filter(Dn=>""!==Dn);An.length>0&&(Te.scopes=An.join(","))}I.tenantId&&(Te.tid=I.tenantId);const Xe=Te;for(const An of Object.keys(Xe))void 0===Xe[An]&&delete Xe[An];const wt=yield I._getAppCheckToken(),zt=wt?`#${Bi}=${encodeURIComponent(wt)}`:"";return`${function ba({config:I}){return I.emulator?Ue(I,zu):`https://${I.authDomain}/${fs}`}(I)}?${(0,te.Am)(Xe).slice(1)}${zt}`})).apply(this,arguments)}const Vs="webStorageSupport",jh=class Ic{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=rs,this._completeRedirectFn=Za,this._overrideRedirectResult=qr}_openPopup(h,p,C,$){var Z=this;return(0,J.A)(function*(){var Te;On(null===(Te=Z.eventManagers[h._key()])||void 0===Te?void 0:Te.manager,"_initialize() not called before _openPopup()");const Xe=yield iu(h,p,C,Qr(),$);return function Sn(I,h,p,C=500,$=600){const Z=Math.max((window.screen.availHeight-$)/2,0).toString(),Te=Math.max((window.screen.availWidth-C)/2,0).toString();let Xe="";const wt=Object.assign(Object.assign({},Pe),{width:C.toString(),height:$.toString(),top:Z,left:Te}),zt=(0,te.ZQ)().toLowerCase();p&&(Xe=en(zt)?"_blank":p),St(zt)&&(h=h||"http://localhost",wt.scrollbars="yes");const An=Object.entries(wt).reduce((Di,[Aa,vu])=>`${Di}${Aa}=${vu},`,"");if(function le(I=(0,te.ZQ)()){var h;return he(I)&&!(null===(h=window.navigator)||void 0===h||!h.standalone)}(zt)&&"_self"!==Xe)return function hs(I,h){const p=document.createElement("a");p.href=I,p.target=h;const C=document.createEvent("MouseEvent");C.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),p.dispatchEvent(C)}(h||"",Xe),new jt(null);const Dn=window.open(h||"",Xe,An);lt(Dn,I,"popup-blocked");try{Dn.focus()}catch{}return new jt(Dn)}(h,Xe,La())})()}_openRedirect(h,p,C,$){var Z=this;return(0,J.A)(function*(){return yield Z._originValidation(h),function hu(I){Mi().location.href=I}(yield iu(h,p,C,Qr(),$)),new Promise(()=>{})})()}_initialize(h){const p=h._key();if(this.eventManagers[p]){const{manager:$,promise:Z}=this.eventManagers[p];return $?Promise.resolve($):(On(Z,"If manager is not set, promise should be"),Z)}const C=this.initAndGetManager(h);return this.eventManagers[p]={promise:C},C.catch(()=>{delete this.eventManagers[p]}),C}initAndGetManager(h){var p=this;return(0,J.A)(function*(){const C=yield function ne(I){return Ee.apply(this,arguments)}(h),$=new po(h);return C.register("authEvent",Z=>(lt(Z?.authEvent,h,"invalid-auth-event"),{status:$.onEvent(Z.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),p.eventManagers[h._key()]={manager:$},p.iframes[h._key()]=C,$})()}_isIframeWebStorageSupported(h,p){this.iframes[h._key()].send(Vs,{type:Vs},$=>{var Z;const Te=null===(Z=$?.[0])||void 0===Z?void 0:Z[Vs];void 0!==Te&&p(!!Te),pt(h,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(h){const p=h._key();return this.originValidationPromises[p]||(this.originValidationPromises[p]=function eu(I){return tu.apply(this,arguments)}(h)),this.originValidationPromises[p]}get _shouldInitProactively(){return Se()||Bt()||he()}};var Ba="@firebase/auth";class jd{constructor(h){this.auth=h,this.internalListeners=new Map}getUid(){var h;return this.assertAuthConfigured(),(null===(h=this.auth.currentUser)||void 0===h?void 0:h.uid)||null}getToken(h){var p=this;return(0,J.A)(function*(){return p.assertAuthConfigured(),yield p.auth._initializationPromise,p.auth.currentUser?{accessToken:yield p.auth.currentUser.getIdToken(h)}:null})()}addAuthTokenListener(h){if(this.assertAuthConfigured(),this.internalListeners.has(h))return;const p=this.auth.onIdTokenChanged(C=>{h(C?.stsTokenManager.accessToken||null)});this.internalListeners.set(h,p),this.updateProactiveRefresh()}removeAuthTokenListener(h){this.assertAuthConfigured();const p=this.internalListeners.get(h);p&&(this.internalListeners.delete(h),p(),this.updateProactiveRefresh())}assertAuthConfigured(){lt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const su=(0,te.XA)("authIdTokenMaxAge")||300;let $d=null;const Cc=I=>function(){var h=(0,J.A)(function*(p){const C=p&&(yield p.getIdTokenResult()),$=C&&((new Date).getTime()-Date.parse(C.issuedAtTime))/1e3;if($&&$>su)return;const Z=C?.token;$d!==Z&&($d=Z,yield fetch(I,{method:Z?"POST":"DELETE",headers:Z?{Authorization:`Bearer ${Z}`}:{}}))});return function(p){return h.apply(this,arguments)}}();function zh(I=(0,Re.Sx)()){const h=(0,Re.j6)(I,"auth");if(h.isInitialized())return h.getImmediate();const p=function Ve(I,h){const p=(0,Re.j6)(I,"auth");if(p.isInitialized()){const $=p.getImmediate(),Z=p.getOptions();if((0,te.bD)(Z,h??{}))return $;pt($,"already-initialized")}return p.initialize({options:h})}(I,{popupRedirectResolver:jh,persistence:[Ou,Qa,rs]}),C=(0,te.XA)("authTokenSyncURL");if(C){const Z=Cc(C);(function Zt(I,h,p){(0,te.Ku)(I).beforeAuthStateChanged(h,p)})(p,Z,()=>Z(p.currentUser)),hn(p,Te=>Z(Te))}const $=(0,te.Tj)("auth");return $&&function Et(I,h,p){const C=we(I);lt(C._canInitEmulator,C,"emulator-config-failed"),lt(/^https?:\/\//.test(h),C,"invalid-emulator-scheme");const $=!!p?.disableWarnings,Z=un(h),{host:Te,port:Xe}=function Un(I){const h=un(I),p=/(\/\/)?([^?#/]+)/.exec(I.substr(h.length));if(!p)return{host:"",port:null};const C=p[2].split("@").pop()||"",$=/^(\[[^\]]+\])(:|$)/.exec(C);if($){const Z=$[1];return{host:Z,port:$n(C.substr(Z.length+1))}}{const[Z,Te]=C.split(":");return{host:Z,port:$n(Te)}}}(h);C.config.emulator={url:`${Z}//${Te}${null===Xe?"":`:${Xe}`}/`},C.settings.appVerificationDisabledForTesting=!0,C.emulatorConfig=Object.freeze({host:Te,port:Xe,protocol:Z.replace(":",""),options:Object.freeze({disableWarnings:$})}),$||function zn(){function I(){const h=document.createElement("p"),p=h.style;h.innerText="Running in emulator mode. Do not use with production credentials.",p.position="fixed",p.width="100%",p.backgroundColor="#ffffff",p.border=".1em solid #000000",p.color="#b50000",p.bottom="0px",p.left="0px",p.margin="0px",p.zIndex="10000",p.textAlign="center",h.classList.add("firebase-emulator-warning"),document.body.appendChild(h)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",I):I())}()}(p,`http://${$}`),p}!function $h(I){(0,Re.om)(new ae.uA("auth",(h,{options:p})=>{const C=h.getProvider("app").getImmediate(),$=h.getProvider("heartbeat"),Z=h.getProvider("app-check-internal"),{apiKey:Te,authDomain:Xe}=C.options;lt(Te&&!Te.includes(":"),"invalid-api-key",{appName:C.name});const wt={apiKey:Te,authDomain:Xe,clientPlatform:I,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:At(I)},zt=new Hs(C,$,Z,wt);return function rt(I,h){const p=h?.persistence||[],C=(Array.isArray(p)?p:[p]).map(W);h?.errorMap&&I._updateErrorMap(h.errorMap),I._initializeWithPersistence(C,h?.popupRedirectResolver)}(zt,p),zt},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((h,p,C)=>{h.getProvider("auth-internal").initialize()})),(0,Re.om)(new ae.uA("auth-internal",h=>{const p=we(h.getProvider("auth").getImmediate());return new jd(p)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,Re.KO)(Ba,"0.23.2",function il(I){switch(I){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(I)),(0,Re.KO)(Ba,"0.23.2","esm2017")}("Browser");var bc=B(1985),Wu=B(8455),Hd=B(7673),ja=B(5558);function go(I){return new bc.c(function(h){var p=function kn(I,h,p,C){return(0,te.Ku)(I).onAuthStateChanged(h,p,C)}(I,h.next.bind(h),h.error.bind(h),h.complete.bind(h));return{unsubscribe:p}})}function zl(I){return function Sc(I){return new bc.c(function(h){return{unsubscribe:hn(I,h.next.bind(h),h.error.bind(h),h.complete.bind(h))}})}(I).pipe((0,ja.n)(function(h){return h?(0,Wu.H)(function dn(I,h=!1){return(0,te.Ku)(I).getIdToken(h)}(h)):(0,Hd.of)(null)}))}class Ku{constructor(h){return h}}class qu{constructor(){return(0,b.CA)("auth")}}const Wl=new oe.nKC("angularfire2.auth-instances");function Ac(I){return(h,p)=>{const C=h.runOutsideAngular(()=>I(p));return new Ku(C)}}const zo={provide:qu,deps:[[new oe.Xx1,Wl]]},fp={provide:Ku,useFactory:function Wh(I,h){const p=(0,b.lR)("auth",I,h);return p&&new Ku(p)},deps:[[new oe.Xx1,Wl],pe.XU]};let Wo=(()=>{class I{constructor(){(0,ie.KO)("angularfire",b.xv.full,"auth")}}return I.\u0275fac=function(p){return new(p||I)},I.\u0275mod=oe.$C({type:I}),I.\u0275inj=oe.G2t({providers:[fp,zo]}),I})();function zd(I,...h){return{ngModule:Wo,providers:[{provide:Wl,useFactory:Ac(I),multi:!0,deps:[oe.SKi,oe.zZn,b.u0,pe.gL,[new oe.Xx1,fe.kR],...h]}]}}const ol=(0,b.S3)(go,!0),$a=(0,b.S3)(zl,!0),Gh=(0,b.S3)(Fo,!0),qh=(0,b.S3)(zh,!0),Xl=(0,b.S3)(di,!0),Xd=(0,b.S3)(xr,!0)},9816:(Lt,$e,B)=>{B.d($e,{_7:()=>xd,gS:()=>K_,rJ:()=>js,kd:()=>X_,H9:()=>cv,GG:()=>tm,aU:()=>nE,hV:()=>Jc,P:()=>nm,mZ:()=>lv,_M:()=>lE});var _e,b=B(1161),oe=B(7705),pe=B(4952),ie=B(8934),fe=B(2214),J=B(3664),te=B(467),Re=B(7852),Fe=B(1362),re=B(8041),ae=B(1076),Ae=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},qe={},vt=vt||{},We=Ae||self;function Vt(i){var e=typeof i;return"array"==(e="object"!=e?e:i?Array.isArray(i)?"array":e:"null")||"object"==e&&"number"==typeof i.length}function Ot(i){var e=typeof i;return"object"==e&&null!=i||"function"==e}var Cn="closure_uid_"+(1e9*Math.random()>>>0),Me=0;function ct(i,e,n){return i.call.apply(i.bind,arguments)}function Ne(i,e,n){if(!i)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var u=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(u,o),i.apply(e,u)}}return function(){return i.apply(e,arguments)}}function et(i,e,n){return(et=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ct:Ne).apply(null,arguments)}function _t(i,e){var n=Array.prototype.slice.call(arguments,1);return function(){var o=n.slice();return o.push.apply(o,arguments),i.apply(this,o)}}function pt(i,e){function n(){}n.prototype=e.prototype,i.$=e.prototype,i.prototype=new n,i.prototype.constructor=i,i.ac=function(o,u,l){for(var f=Array(arguments.length-2),T=2;T<arguments.length;T++)f[T-2]=arguments[T];return e.prototype[u].apply(o,f)}}function Kt(){this.s=this.s,this.o=this.o}Kt.prototype.s=!1,Kt.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function Tn(i){Object.prototype.hasOwnProperty.call(i,Cn)&&i[Cn]||(i[Cn]=++Me)}(this)},Kt.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const vn=Array.prototype.indexOf?function(i,e){return Array.prototype.indexOf.call(i,e,void 0)}:function(i,e){if("string"==typeof i)return"string"!=typeof e||1!=e.length?-1:i.indexOf(e,0);for(let n=0;n<i.length;n++)if(n in i&&i[n]===e)return n;return-1};function Qn(i){const e=i.length;if(0<e){const n=Array(e);for(let o=0;o<e;o++)n[o]=i[o];return n}return[]}function lt(i,e){for(let n=1;n<arguments.length;n++){const o=arguments[n];if(Vt(o)){const u=i.length||0,l=o.length||0;i.length=u+l;for(let f=0;f<l;f++)i[u+f]=o[f]}else i.push(o)}}function pn(i,e){this.type=i,this.g=this.target=e,this.defaultPrevented=!1}pn.prototype.h=function(){this.defaultPrevented=!0};var On=function(){if(!We.addEventListener||!Object.defineProperty)return!1;var i=!1,e=Object.defineProperty({},"passive",{get:function(){i=!0}});try{We.addEventListener("test",()=>{},e),We.removeEventListener("test",()=>{},e)}catch{}return i}();function Qr(i){return/^[\s\xa0]*$/.test(i)}function Xr(){var i=We.navigator;return i&&(i=i.userAgent)?i:""}function Tr(i){return-1!=Xr().indexOf(i)}function fi(i){return fi[" "](i),i}fi[" "]=function(){};var Mn,i,He=Tr("Opera"),Ue=Tr("Trident")||Tr("MSIE"),Ye=Tr("Edge"),it=Ye||Ue,Ke=Tr("Gecko")&&!(-1!=Xr().toLowerCase().indexOf("webkit")&&!Tr("Edge"))&&!(Tr("Trident")||Tr("MSIE"))&&!Tr("Edge"),Tt=-1!=Xr().toLowerCase().indexOf("webkit")&&!Tr("Edge");function mt(){var i=We.document;return i?i.documentMode:void 0}e:{var Rt="",mn=(i=Xr(),Ke?/rv:([^\);]+)(\)|;)/.exec(i):Ye?/Edge\/([\d\.]+)/.exec(i):Ue?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):Tt?/WebKit\/(\S+)/.exec(i):He?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(mn&&(Rt=mn?mn[1]:""),Ue){var wn=mt();if(null!=wn&&wn>parseFloat(Rt)){Mn=String(wn);break e}}Mn=Rt}var pr=We.document&&Ue&&(mt()||parseInt(Mn,10))||void 0;function Xn(i,e){if(pn.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var n=this.type=i.type,o=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=e,e=i.relatedTarget){if(Ke){e:{try{fi(e.nodeName);var u=!0;break e}catch{}u=!1}u||(e=null)}}else"mouseover"==n?e=i.fromElement:"mouseout"==n&&(e=i.toElement);this.relatedTarget=e,o?(this.clientX=void 0!==o.clientX?o.clientX:o.pageX,this.clientY=void 0!==o.clientY?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:gr[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&Xn.$.h.call(this)}}pt(Xn,pn);var gr={2:"touch",3:"pen",4:"mouse"};Xn.prototype.h=function(){Xn.$.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var nr="closure_listenable_"+(1e6*Math.random()|0),Ti=0;function ii(i,e,n,o,u){this.listener=i,this.proxy=null,this.src=e,this.type=n,this.capture=!!o,this.la=u,this.key=++Ti,this.fa=this.ia=!1}function Hr(i){i.fa=!0,i.listener=null,i.proxy=null,i.src=null,i.la=null}function qt(i,e,n){for(const o in i)e.call(n,i[o],o,i)}function dn(i){const e={};for(const n in i)e[n]=i[n];return e}const Vn="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function _r(i,e){let n,o;for(let u=1;u<arguments.length;u++){for(n in o=arguments[u],o)i[n]=o[n];for(let l=0;l<Vn.length;l++)n=Vn[l],Object.prototype.hasOwnProperty.call(o,n)&&(i[n]=o[n])}}function Er(i){this.src=i,this.g={},this.h=0}function Ut(i,e){var n=e.type;if(n in i.g){var l,o=i.g[n],u=vn(o,e);(l=0<=u)&&Array.prototype.splice.call(o,u,1),l&&(Hr(e),0==i.g[n].length&&(delete i.g[n],i.h--))}}function rr(i,e,n,o){for(var u=0;u<i.length;++u){var l=i[u];if(!l.fa&&l.listener==e&&l.capture==!!n&&l.la==o)return u}return-1}Er.prototype.add=function(i,e,n,o,u){var l=i.toString();(i=this.g[l])||(i=this.g[l]=[],this.h++);var f=rr(i,e,o,u);return-1<f?(e=i[f],n||(e.ia=!1)):((e=new ii(e,this.src,l,!!o,u)).ia=n,i.push(e)),e};var si="closure_lm_"+(1e6*Math.random()|0),kt={};function Cr(i,e,n,o,u){if(o&&o.once)return Jr(i,e,n,o,u);if(Array.isArray(e)){for(var l=0;l<e.length;l++)Cr(i,e[l],n,o,u);return null}return n=Ir(n),i&&i[nr]?i.O(e,n,Ot(o)?!!o.capture:!!o,u):an(i,e,n,!1,o,u)}function an(i,e,n,o,u,l){if(!e)throw Error("Invalid event type");var f=Ot(u)?!!u.capture:!!u,T=ai(i);if(T||(i[si]=T=new Er(i)),(n=T.add(e,n,o,f,l)).proxy)return n;if(o=function Yr(){const e=Zr;return function i(n){return e.call(i.src,i.listener,n)}}(),n.proxy=o,o.src=i,o.listener=n,i.addEventListener)On||(u=f),void 0===u&&(u=!1),i.addEventListener(e.toString(),o,u);else if(i.attachEvent)i.attachEvent(br(e.toString()),o);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(o)}return n}function Jr(i,e,n,o,u){if(Array.isArray(e)){for(var l=0;l<e.length;l++)Jr(i,e[l],n,o,u);return null}return n=Ir(n),i&&i[nr]?i.P(e,n,Ot(o)?!!o.capture:!!o,u):an(i,e,n,!0,o,u)}function oi(i,e,n,o,u){if(Array.isArray(e))for(var l=0;l<e.length;l++)oi(i,e[l],n,o,u);else o=Ot(o)?!!o.capture:!!o,n=Ir(n),i&&i[nr]?(i=i.i,(e=String(e).toString())in i.g&&-1<(n=rr(l=i.g[e],n,o,u))&&(Hr(l[n]),Array.prototype.splice.call(l,n,1),0==l.length&&(delete i.g[e],i.h--))):i&&(i=ai(i))&&(e=i.g[e.toString()],i=-1,e&&(i=rr(e,n,o,u)),(n=-1<i?e[i]:null)&&Fn(n))}function Fn(i){if("number"!=typeof i&&i&&!i.fa){var e=i.src;if(e&&e[nr])Ut(e.i,i);else{var n=i.type,o=i.proxy;e.removeEventListener?e.removeEventListener(n,o,i.capture):e.detachEvent?e.detachEvent(br(n),o):e.addListener&&e.removeListener&&e.removeListener(o),(n=ai(e))?(Ut(n,i),0==n.h&&(n.src=null,e[si]=null)):Hr(i)}}}function br(i){return i in kt?kt[i]:kt[i]="on"+i}function Zr(i,e){if(i.fa)i=!0;else{e=new Xn(e,this);var n=i.listener,o=i.la||i.src;i.ia&&Fn(i),i=n.call(o,e)}return i}function ai(i){return(i=i[si])instanceof Er?i:null}var ui="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ir(i){return"function"==typeof i?i:(i[ui]||(i[ui]=function(e){return i.handleEvent(e)}),i[ui])}function Bn(){Kt.call(this),this.i=new Er(this),this.S=this,this.J=null}function Nn(i,e){var n,o=i.J;if(o)for(n=[];o;o=o.J)n.push(o);if(i=i.S,o=e.type||e,"string"==typeof e)e=new pn(e,i);else if(e instanceof pn)e.target=e.target||i;else{var u=e;_r(e=new pn(o,i),u)}if(u=!0,n)for(var l=n.length-1;0<=l;l--){var f=e.g=n[l];u=Sr(f,o,!0,e)&&u}if(u=Sr(f=e.g=i,o,!0,e)&&u,u=Sr(f,o,!1,e)&&u,n)for(l=0;l<n.length;l++)u=Sr(f=e.g=n[l],o,!1,e)&&u}function Sr(i,e,n,o){if(!(e=i.i.g[String(e)]))return!0;e=e.concat();for(var u=!0,l=0;l<e.length;++l){var f=e[l];if(f&&!f.fa&&f.capture==n){var T=f.listener,O=f.la||f.src;f.ia&&Ut(i.i,f),u=!1!==T.call(O,o)&&u}}return u&&!o.defaultPrevented}pt(Bn,Kt),Bn.prototype[nr]=!0,Bn.prototype.removeEventListener=function(i,e,n,o){oi(this,i,e,n,o)},Bn.prototype.N=function(){if(Bn.$.N.call(this),this.i){var e,i=this.i;for(e in i.g){for(var n=i.g[e],o=0;o<n.length;o++)Hr(n[o]);delete i.g[e],i.h--}}this.J=null},Bn.prototype.O=function(i,e,n,o){return this.i.add(String(i),e,!1,n,o)},Bn.prototype.P=function(i,e,n,o){return this.i.add(String(i),e,!0,n,o)};var me=We.JSON.stringify;function Q(){var i=$t;let e=null;return i.g&&(e=i.g,i.g=i.g.next,i.g||(i.h=null),e.next=null),e}var G=new class W{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new De,i=>i.reset());class De{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function tt(i){var e=1;i=i.split(":");const n=[];for(;0<e&&i.length;)n.push(i.shift()),e--;return i.length&&n.push(i.join(":")),n}function St(i){We.setTimeout(()=>{throw i},0)}let Bt,en=!1,$t=new class q{constructor(){this.h=this.g=null}add(e,n){const o=G.get();o.set(e,n),this.h?this.h.next=o:this.g=o,this.h=o}},on=()=>{const i=We.Promise.resolve(void 0);Bt=()=>{i.then(ir)}};var ir=()=>{for(var i;i=Q();){try{i.h.call(i.g)}catch(n){St(n)}var e=G;e.j(i),100>e.h&&(e.h++,i.next=e.g,e.g=i)}en=!1};function Ce(i,e){Bn.call(this),this.h=i||1,this.g=e||We,this.j=et(this.qb,this),this.l=Date.now()}function he(i){i.ga=!1,i.T&&(i.g.clearTimeout(i.T),i.T=null)}function ye(i,e,n){if("function"==typeof i)n&&(i=et(i,n));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=et(i.handleEvent,i)}return 2147483647<Number(e)?-1:We.setTimeout(i,e||0)}function le(i){i.g=ye(()=>{i.g=null,i.i&&(i.i=!1,le(i))},i.j);const e=i.h;i.h=null,i.m.apply(null,e)}pt(Ce,Bn),(_e=Ce.prototype).ga=!1,_e.T=null,_e.qb=function(){if(this.ga){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-i):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Nn(this,"tick"),this.ga&&(he(this),this.start()))}},_e.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},_e.N=function(){Ce.$.N.call(this),he(this),delete this.g};class ce extends Kt{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:le(this)}N(){super.N(),this.g&&(We.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Se(i){Kt.call(this),this.h=i,this.g={}}pt(Se,Kt);var Qe=[];function At(i,e,n,o){Array.isArray(n)||(n&&(Qe[0]=n.toString()),n=Qe);for(var u=0;u<n.length;u++){var l=Cr(e,n[u],o||i.handleEvent,!1,i.h||i);if(!l)break;i.g[l.key]=l}}function at(i){qt(i.g,function(e,n){this.g.hasOwnProperty(n)&&Fn(e)},i),i.g={}}function nn(){this.g=!0}function jn(i,e,n,o){i.info(function(){return"XMLHTTP TEXT ("+e+"): "+function pi(i,e){if(!i.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(i=0;i<n.length;i++)if(Array.isArray(n[i])){var o=n[i];if(!(2>o.length)){var u=o[1];if(Array.isArray(u)&&!(1>u.length)){var l=u[0];if("noop"!=l&&"stop"!=l&&"close"!=l)for(var f=1;f<u.length;f++)u[f]=""}}}return me(n)}catch{return e}}(i,n)+(o?" "+o:"")})}Se.prototype.N=function(){Se.$.N.call(this),at(this)},Se.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},nn.prototype.Ea=function(){this.g=!1},nn.prototype.info=function(){};var xn={},Yn=null;function Wr(){return Yn=Yn||new Bn}function Yi(i){pn.call(this,xn.Ta,i)}function Fr(i){const e=Wr();Nn(e,new Yi(e))}function gi(i,e){pn.call(this,xn.STAT_EVENT,i),this.stat=e}function Ar(i){const e=Wr();Nn(e,new gi(e,i))}function ei(i,e){pn.call(this,xn.Ua,i),this.size=e}function Ki(i,e){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return We.setTimeout(function(){i()},e)}xn.Ta="serverreachability",pt(Yi,pn),xn.STAT_EVENT="statevent",pt(gi,pn),xn.Ua="timingevent",pt(ei,pn);var Mr={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Hs={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function we(){}function Ve(){}we.prototype.h=null;var Un,rt={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Et(){pn.call(this,"d")}function un(){pn.call(this,"c")}function $n(){}function zn(i,e,n,o){this.l=i,this.j=e,this.m=n,this.W=o||1,this.U=new Se(this),this.P=mi,this.V=new Ce(i=it?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new ws}function ws(){this.i=null,this.g="",this.h=!1}pt(Et,pn),pt(un,pn),pt($n,we),$n.prototype.g=function(){return new XMLHttpRequest},$n.prototype.i=function(){return{}},Un=new $n;var mi=45e3,yi={},ci={};function Js(i,e,n){i.L=1,i.v=li(gs(e)),i.s=n,i.S=!0,Xo(i,null)}function Xo(i,e){i.G=Date.now(),$i(i),i.A=gs(i.v);var n=i.A,o=i.W;Array.isArray(o)||(o=[String(o)]),to(n.i,"t",o),i.C=0,n=i.l.J,i.h=new ws,i.g=So(i.l,n?e:null,!i.s),0<i.O&&(i.M=new ce(et(i.Pa,i,i.g),i.O)),At(i.U,i.g,"readystatechange",i.nb),e=i.I?dn(i.I):{},i.s?(i.u||(i.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",i.g.ha(i.A,i.u,i.s,e)):(i.u="GET",i.g.ha(i.A,i.u,null,e)),Fr(),function Pn(i,e,n,o,u,l){i.info(function(){if(i.g)if(l)for(var f="",T=l.split("&"),O=0;O<T.length;O++){var V=T[O].split("=");if(1<V.length){var X=V[0];V=V[1];var de=X.split("_");f=2<=de.length&&"type"==de[1]?f+(X+"=")+V+"&":f+(X+"=redacted&")}}else f=null;else f=l;return"XMLHTTP REQ ("+o+") [attempt "+u+"]: "+e+"\n"+n+"\n"+f})}(i.j,i.u,i.A,i.m,i.W,i.s)}function zs(i){return!!i.g&&"GET"==i.u&&2!=i.L&&i.l.Ha}function Zs(i,e,n){let u,o=!0;for(;!i.J&&i.C<n.length;){if(u=fa(i,n),u==ci){4==e&&(i.o=4,Ar(14),o=!1),jn(i.j,i.m,null,"[Incomplete Response]");break}if(u==yi){i.o=4,Ar(15),jn(i.j,i.m,n,"[Invalid Chunk]"),o=!1;break}jn(i.j,i.m,u,null),ur(i,u)}zs(i)&&u!=ci&&u!=yi&&(i.h.g="",i.C=0),4!=e||0!=n.length||i.h.h||(i.o=1,Ar(16),o=!1),i.i=i.i&&o,o?0<n.length&&!i.ba&&(i.ba=!0,(e=i.l).g==i&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Vr(e),e.M=!0,Ar(11))):(jn(i.j,i.m,n,"[Invalid Chunked Response]"),Jn(i),In(i))}function fa(i,e){var n=i.C,o=e.indexOf("\n",n);return-1==o?ci:(n=Number(e.substring(n,o)),isNaN(n)?yi:(o+=1)+n>e.length?ci:(e=e.slice(o,o+n),i.C=o+n,e))}function $i(i){i.Y=Date.now()+i.P,xo(i,i.P)}function xo(i,e){if(null!=i.B)throw Error("WatchDog timer not null");i.B=Ki(et(i.lb,i),e)}function eo(i){i.B&&(We.clearTimeout(i.B),i.B=null)}function In(i){0==i.l.H||i.J||ta(i.l,i)}function Jn(i){eo(i);var e=i.M;e&&"function"==typeof e.sa&&e.sa(),i.M=null,he(i.V),at(i.U),i.g&&(e=i.g,i.g=null,e.abort(),e.sa())}function ur(i,e){try{var n=i.l;if(0!=n.H&&(n.g==i||Hn(n.i,i)))if(!i.K&&Hn(n.i,i)&&3==n.H){try{var o=n.Ja.g.parse(e)}catch{o=null}if(Array.isArray(o)&&3==o.length){var u=o;if(0==u[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<i.G))break e;ti(n),ma(n)}Lo(n),Ar(18)}}else n.Fa=u[1],0<n.Fa-n.V&&37500>u[2]&&n.G&&0==n.A&&!n.v&&(n.v=Ki(et(n.ib,n),6e3));if(1>=_o(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else uo(n,11)}else if((i.K||n.g==i)&&ti(n),!Qr(e))for(u=n.Ja.g.parse(e),e=0;e<u.length;e++){let V=u[e];if(n.V=V[0],V=V[1],2==n.H)if("c"==V[0]){n.K=V[1],n.pa=V[2];const X=V[3];null!=X&&(n.ra=X,n.l.info("VER="+n.ra));const de=V[4];null!=de&&(n.Ga=de,n.l.info("SVER="+n.Ga));const je=V[5];null!=je&&"number"==typeof je&&0<je&&(n.L=o=1.5*je,n.l.info("backChannelRequestTimeoutMs_="+o)),o=n;const nt=i.g;if(nt){const bt=nt.g?nt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(bt){var l=o.i;l.g||-1==bt.indexOf("spdy")&&-1==bt.indexOf("quic")&&-1==bt.indexOf("h2")||(l.j=l.l,l.g=new Set,l.h&&(qa(l,l.h),l.h=null))}if(o.F){const Wt=nt.g?nt.g.getResponseHeader("X-HTTP-Session-Id"):null;Wt&&(o.Da=Wt,rn(o.I,o.F,Wt))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-i.G,n.l.info("Handshake RTT: "+n.S+"ms"));var f=i;if((o=n).wa=Fo(o,o.J?o.pa:null,o.Y),f.K){Eo(o.i,f);var T=f,O=o.L;O&&T.setTimeout(O),T.B&&(eo(T),$i(T)),o.g=f}else us(o);0<n.j.length&&Co(n)}else"stop"!=V[0]&&"close"!=V[0]||uo(n,7);else 3==n.H&&("stop"==V[0]||"close"==V[0]?"stop"==V[0]?uo(n,7):To(n):"noop"!=V[0]&&n.h&&n.h.Aa(V),n.A=0)}Fr()}catch{}}function Oo(i,e){if(i.forEach&&"function"==typeof i.forEach)i.forEach(e,void 0);else if(Vt(i)||"string"==typeof i)Array.prototype.forEach.call(i,e,void 0);else for(var n=function Ni(i){if(i.ta&&"function"==typeof i.ta)return i.ta();if(!i.Z||"function"!=typeof i.Z){if(typeof Map<"u"&&i instanceof Map)return Array.from(i.keys());if(!(typeof Set<"u"&&i instanceof Set)){if(Vt(i)||"string"==typeof i){var e=[];i=i.length;for(var n=0;n<i;n++)e.push(n);return e}e=[],n=0;for(const o in i)e[n++]=o;return e}}}(i),o=function as(i){if(i.Z&&"function"==typeof i.Z)return i.Z();if(typeof Map<"u"&&i instanceof Map||typeof Set<"u"&&i instanceof Set)return Array.from(i.values());if("string"==typeof i)return i.split("");if(Vt(i)){for(var e=[],n=i.length,o=0;o<n;o++)e.push(i[o]);return e}for(o in e=[],n=0,i)e[n++]=i[o];return e}(i),u=o.length,l=0;l<u;l++)e.call(void 0,o[l],n&&n[l],i)}(_e=zn.prototype).setTimeout=function(i){this.P=i},_e.nb=function(i){i=i.target;const e=this.M;e&&3==Zi(i)?e.l():this.Pa(i)},_e.Pa=function(i){try{if(i==this.g)e:{const X=Zi(this.g);var e=this.g.Ia();if(this.g.da(),!(3>X)&&(3!=X||it||this.g&&(this.h.h||this.g.ja()||ka(this.g)))){this.J||4!=X||7==e||Fr(),eo(this);var n=this.g.da();this.ca=n;t:if(zs(this)){var o=ka(this.g);i="";var u=o.length,l=4==Zi(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Jn(this),In(this);var f="";break t}this.h.i=new We.TextDecoder}for(e=0;e<u;e++)this.h.h=!0,i+=this.h.i.decode(o[e],{stream:l&&e==u-1});o.splice(0,u),this.h.g+=i,this.C=0,f=this.h.g}else f=this.g.ja();if(this.i=200==n,function _n(i,e,n,o,u,l,f){i.info(function(){return"XMLHTTP RESP ("+o+") [ attempt "+u+"]: "+e+"\n"+n+"\n"+l+" "+f})}(this.j,this.u,this.A,this.m,this.W,X,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var T,O=this.g;if((T=O.g?O.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Qr(T)){var V=T;break t}}V=null}if(!(n=V)){this.i=!1,this.o=3,Ar(12),Jn(this),In(this);break e}jn(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ur(this,n)}this.S?(Zs(this,X,f),it&&this.i&&3==X&&(At(this.U,this.V,"tick",this.mb),this.V.start())):(jn(this.j,this.m,f,null),ur(this,f)),4==X&&Jn(this),this.i&&!this.J&&(4==X?ta(this.l,this):(this.i=!1,$i(this)))}else(function du(i){const e={};i=(i.g&&2<=Zi(i)&&i.g.getAllResponseHeaders()||"").split("\r\n");for(let o=0;o<i.length;o++){if(Qr(i[o]))continue;var n=tt(i[o]);const u=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const l=e[u]||[];e[u]=l,l.push(n)}!function gn(i,e){for(const n in i)e.call(void 0,i[n],n,i)}(e,function(o){return o.join(", ")})})(this.g),400==n&&0<f.indexOf("Unknown SID")?(this.o=3,Ar(12)):(this.o=0,Ar(13)),Jn(this),In(this)}}}catch{}},_e.mb=function(){if(this.g){var i=Zi(this.g),e=this.g.ja();this.C<e.length&&(eo(this),Zs(this,i,e),this.i&&4!=i&&$i(this))}},_e.cancel=function(){this.J=!0,Jn(this)},_e.lb=function(){this.B=null;const i=Date.now();0<=i-this.Y?(function zr(i,e){i.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Fr(),Ar(17)),Jn(this),this.o=2,In(this)):xo(this,this.Y-i)};var Os=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ps(i){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,i instanceof ps){this.h=i.h,lr(this,i.j),this.s=i.s,this.g=i.g,Mt(this,i.m),this.l=i.l;var e=i.i,n=new Ws;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),cn(this,n),this.o=i.o}else i&&(e=String(i).match(Os))?(this.h=!1,lr(this,e[1]||"",!0),this.s=Pi(e[2]||""),this.g=Pi(e[3]||"",!0),Mt(this,e[4]),this.l=Pi(e[5]||"",!0),cn(this,e[6]||"",!0),this.o=Pi(e[7]||"")):(this.h=!1,this.i=new Ws(null,this.h))}function gs(i){return new ps(i)}function lr(i,e,n){i.j=n?Pi(e,!0):e,i.j&&(i.j=i.j.replace(/:$/,""))}function Mt(i,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);i.m=e}else i.m=null}function cn(i,e,n){e instanceof Ws?(i.i=e,function vo(i,e){e&&!i.j&&(Hi(i),i.i=null,i.g.forEach(function(n,o){var u=o.toLowerCase();o!=u&&(mr(this,o),to(this,u,n))},i)),i.j=e}(i.i,i.h)):(n||(e=vi(e,ln)),i.i=new Ws(e,i.h))}function rn(i,e,n){i.i.set(e,n)}function li(i){return rn(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function Pi(i,e){return i?e?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function vi(i,e,n){return"string"==typeof i?(i=encodeURI(i).replace(e,ms),n&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function ms(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}ps.prototype.toString=function(){var i=[],e=this.j;e&&i.push(vi(e,Ur,!0),":");var n=this.g;return(n||"file"==e)&&(i.push("//"),(e=this.s)&&i.push(vi(e,Ur,!0),"@"),i.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&i.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&i.push("/"),i.push(vi(n,"/"==n.charAt(0)?qi:ks,!0))),(n=this.i.toString())&&i.push("?",n),(n=this.o)&&i.push("#",vi(n,ko)),i.join("")};var Ur=/[#\/\?@]/g,ks=/[#\?:]/g,qi=/[#\?]/g,ln=/[#\?@]/g,ko=/#/g;function Ws(i,e){this.h=this.g=null,this.i=i||null,this.j=!!e}function Hi(i){i.g||(i.g=new Map,i.h=0,i.i&&function Yo(i,e){if(i){i=i.split("&");for(var n=0;n<i.length;n++){var o=i[n].indexOf("="),u=null;if(0<=o){var l=i[n].substring(0,o);u=i[n].substring(o+1)}else l=i[n];e(l,u?decodeURIComponent(u.replace(/\+/g," ")):"")}}}(i.i,function(e,n){i.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function mr(i,e){Hi(i),e=_i(i,e),i.g.has(e)&&(i.i=null,i.h-=i.g.get(e).length,i.g.delete(e))}function yo(i,e){return Hi(i),e=_i(i,e),i.g.has(e)}function to(i,e,n){mr(i,e),0<n.length&&(i.i=null,i.g.set(_i(i,e),Qn(n)),i.h+=n.length)}function _i(i,e){return e=String(e),i.j&&(e=e.toLowerCase()),e}function Ci(i){this.l=i||no,i=We.PerformanceNavigationTiming?0<(i=We.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(We.g&&We.g.Ka&&We.g.Ka()&&We.g.Ka().ec),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(_e=Ws.prototype).add=function(i,e){Hi(this),this.i=null,i=_i(this,i);var n=this.g.get(i);return n||this.g.set(i,n=[]),n.push(e),this.h+=1,this},_e.forEach=function(i,e){Hi(this),this.g.forEach(function(n,o){n.forEach(function(u){i.call(e,u,o,this)},this)},this)},_e.ta=function(){Hi(this);const i=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let o=0;o<e.length;o++){const u=i[o];for(let l=0;l<u.length;l++)n.push(e[o])}return n},_e.Z=function(i){Hi(this);let e=[];if("string"==typeof i)yo(this,i)&&(e=e.concat(this.g.get(_i(this,i))));else{i=Array.from(this.g.values());for(let n=0;n<i.length;n++)e=e.concat(i[n])}return e},_e.set=function(i,e){return Hi(this),this.i=null,yo(this,i=_i(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[e]),this.h+=1,this},_e.get=function(i,e){return i&&0<(i=this.Z(i)).length?String(i[0]):e},_e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const i=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var o=e[n];const l=encodeURIComponent(String(o)),f=this.Z(o);for(o=0;o<f.length;o++){var u=l;""!==f[o]&&(u+="="+encodeURIComponent(String(f[o]))),i.push(u)}}return this.i=i.join("&")};var no=10;function Is(i){return!!i.h||!!i.g&&i.g.size>=i.j}function _o(i){return i.h?1:i.g?i.g.size:0}function Hn(i,e){return i.h?i.h==e:!!i.g&&i.g.has(e)}function qa(i,e){i.g?i.g.add(e):i.h=e}function Eo(i,e){i.h&&i.h==e?i.h=null:i.g&&i.g.has(e)&&i.g.delete(e)}function Ji(i){if(null!=i.h)return i.i.concat(i.h.F);if(null!=i.g&&0!==i.g.size){let e=i.i;for(const n of i.g.values())e=e.concat(n.F);return e}return Qn(i.i)}Ci.prototype.cancel=function(){if(this.i=Ji(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const i of this.g.values())i.cancel();this.g.clear()}};var Gr=class{stringify(i){return We.JSON.stringify(i,void 0)}parse(i){return We.JSON.parse(i,void 0)}};function ro(){this.g=new Gr}function Ds(i,e,n){const o=n||"";try{Oo(i,function(u,l){let f=u;Ot(u)&&(f=me(u)),e.push(o+l+"="+encodeURIComponent(f))})}catch(u){throw e.push(o+"type="+encodeURIComponent("_badmap")),u}}function ni(i,e,n,o,u){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,u(o)}catch{}}function xi(i){this.l=i.fc||null,this.j=i.ob||!1}function Ei(i,e){Bn.call(this),this.F=i,this.u=e,this.m=void 0,this.readyState=dr,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}pt(xi,we),xi.prototype.g=function(){return new Ei(this.l,this.j)},xi.prototype.i=function(i){return function(){return i}}({}),pt(Ei,Bn);var dr=0;function Gs(i){i.j.read().then(i.Xa.bind(i)).catch(i.ka.bind(i))}function Rr(i){i.readyState=4,i.l=null,i.j=null,i.A=null,Oi(i)}function Oi(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(_e=Ei.prototype).open=function(i,e){if(this.readyState!=dr)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=e,this.readyState=1,Oi(this)},_e.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(e.body=i),(this.F||We).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},_e.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Rr(this)),this.readyState=dr},_e.$a=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,Oi(this)),this.g&&(this.readyState=3,Oi(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof We.ReadableStream<"u"&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Gs(this)}else i.text().then(this.Za.bind(this),this.ka.bind(this))},_e.Xa=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var e=i.value?i.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!i.done}))&&(this.response=this.responseText+=e)}i.done?Rr(this):Oi(this),3==this.readyState&&Gs(this)}},_e.Za=function(i){this.g&&(this.response=this.responseText=i,Rr(this))},_e.Ya=function(i){this.g&&(this.response=i,Rr(this))},_e.ka=function(){this.g&&Rr(this)},_e.setRequestHeader=function(i,e){this.v.append(i,e)},_e.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},_e.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],e=this.h.entries();for(var n=e.next();!n.done;)i.push((n=n.value)[0]+": "+n[1]),n=e.next();return i.join("\r\n")},Object.defineProperty(Ei.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var ki=We.JSON.parse;function Nr(i){Bn.call(this),this.headers=new Map,this.u=i||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=wo,this.L=this.M=!1}pt(Nr,Bn);var wo="",Io=/^https?$/i,so=["POST","PUT"];function Jo(i,e){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=e,i.m=5,pa(i),ea(i)}function pa(i){i.F||(i.F=!0,Nn(i,"complete"),Nn(i,"error"))}function Zo(i){if(i.h&&typeof vt<"u"&&(!i.C[1]||4!=Zi(i)||2!=i.da()))if(i.v&&4==Zi(i))ye(i.La,0,i);else if(Nn(i,"readystatechange"),4==Zi(i)){i.h=!1;try{const f=i.da();e:switch(f){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var o;if(o=0===f){var u=String(i.I).match(Os)[1]||null;!u&&We.self&&We.self.location&&(u=We.self.location.protocol.slice(0,-1)),o=!Io.test(u?u.toLowerCase():"")}n=o}if(n)Nn(i,"complete"),Nn(i,"success");else{i.m=6;try{var l=2<Zi(i)?i.g.statusText:""}catch{l=""}i.j=l+" ["+i.da()+"]",pa(i)}}finally{ea(i)}}}function ea(i,e){if(i.g){Wn(i);const n=i.g,o=i.C[0]?()=>{}:null;i.g=null,i.C=null,e||Nn(i,"ready");try{n.onreadystatechange=o}catch{}}}function Wn(i){i.g&&i.L&&(i.g.ontimeout=null),i.A&&(We.clearTimeout(i.A),i.A=null)}function Zi(i){return i.g?i.g.readyState:0}function ka(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.K){case wo:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch{return null}}function Do(i){let e="";return qt(i,function(n,o){e+=o,e+=":",e+=n,e+="\r\n"}),e}function Ls(i,e,n){e:{for(o in n){var o=!1;break e}o=!0}o||(n=Do(n),"string"==typeof i?null!=n&&encodeURIComponent(String(n)):rn(i,e,n))}function es(i,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[i]||e}function ga(i){this.Ga=0,this.j=[],this.l=new nn,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=es("failFast",!1,i),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=es("baseRetryDelayMs",5e3,i),this.hb=es("retryDelaySeedMs",1e4,i),this.eb=es("forwardChannelMaxRetries",2,i),this.xa=es("forwardChannelRequestTimeoutMs",2e4,i),this.va=i&&i.xmlHttpFactory||void 0,this.Ha=i&&i.dc||!1,this.L=void 0,this.J=i&&i.supportsCrossDomainXhr||!1,this.K="",this.i=new Ci(i&&i.concurrentRequestLimit),this.Ja=new ro,this.P=i&&i.fastHandshake||!1,this.O=i&&i.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=i&&i.bc||!1,i&&i.Ea&&this.l.Ea(),i&&i.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&i&&i.detectBufferingProxy||!1,this.qa=void 0,i&&i.longPollingTimeout&&0<i.longPollingTimeout&&(this.qa=i.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function To(i){if(oo(i),3==i.H){var e=i.W++,n=gs(i.I);if(rn(n,"SID",i.K),rn(n,"RID",e),rn(n,"TYPE","terminate"),Li(i,n),(e=new zn(i,i.l,e)).L=2,e.v=li(gs(n)),n=!1,We.navigator&&We.navigator.sendBeacon)try{n=We.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&We.Image&&((new Image).src=e.v,n=!0),n||(e.g=So(e.l,null),e.g.ha(e.v)),e.G=Date.now(),$i(e)}Ss(i)}function ma(i){i.g&&(Vr(i),i.g.cancel(),i.g=null)}function oo(i){ma(i),i.u&&(We.clearTimeout(i.u),i.u=null),ti(i),i.i.cancel(),i.m&&("number"==typeof i.m&&We.clearTimeout(i.m),i.m=null)}function Co(i){if(!Is(i.i)&&!i.m){i.m=!0;var e=i.Na;Bt||on(),en||(Bt(),en=!0),$t.add(e,i),i.C=0}}function ya(i,e){var n;n=e?e.m:i.W++;const o=gs(i.I);rn(o,"SID",i.K),rn(o,"RID",n),rn(o,"AID",i.V),Li(i,o),i.o&&i.s&&Ls(o,i.o,i.s),n=new zn(i,i.l,n,i.C+1),null===i.o&&(n.I=i.s),e&&(i.j=e.F.concat(i.j)),e=Ts(i,n,1e3),n.setTimeout(Math.round(.5*i.xa)+Math.round(.5*i.xa*Math.random())),qa(i.i,n),Js(n,o,e)}function Li(i,e){i.na&&qt(i.na,function(n,o){rn(e,o,n)}),i.h&&Oo({},function(n,o){rn(e,o,n)})}function Ts(i,e,n){n=Math.min(i.j.length,n);var o=i.h?et(i.h.Va,i.h,i):null;e:{var u=i.j;let l=-1;for(;;){const f=["count="+n];-1==l?0<n?(l=u[0].g,f.push("ofs="+l)):l=0:f.push("ofs="+l);let T=!0;for(let O=0;O<n;O++){let V=u[O].g;const X=u[O].map;if(V-=l,0>V)l=Math.max(0,u[O].g-100),T=!1;else try{Ds(X,f,"req"+V+"_")}catch{o&&o(X)}}if(T){o=f.join("&");break e}}}return i=i.j.splice(0,n),e.F=i,o}function us(i){if(!i.g&&!i.u){i.ba=1;var e=i.Ma;Bt||on(),en||(Bt(),en=!0),$t.add(e,i),i.A=0}}function Lo(i){return!(i.g||i.u||3<=i.A||(i.ba++,i.u=Ki(et(i.Ma,i),ao(i,i.A)),i.A++,0))}function Vr(i){null!=i.B&&(We.clearTimeout(i.B),i.B=null)}function ts(i){i.g=new zn(i,i.l,"rpc",i.ba),null===i.o&&(i.g.I=i.s),i.g.O=0;var e=gs(i.wa);rn(e,"RID","rpc"),rn(e,"SID",i.K),rn(e,"AID",i.V),rn(e,"CI",i.G?"0":"1"),!i.G&&i.qa&&rn(e,"TO",i.qa),rn(e,"TYPE","xmlhttp"),Li(i,e),i.o&&i.s&&Ls(e,i.o,i.s),i.L&&i.g.setTimeout(i.L);var n=i.g;i=i.pa,n.L=1,n.v=li(gs(e)),n.s=null,n.S=!0,Xo(n,i)}function ti(i){null!=i.v&&(We.clearTimeout(i.v),i.v=null)}function ta(i,e){var n=null;if(i.g==e){ti(i),Vr(i),i.g=null;var o=2}else{if(!Hn(i.i,e))return;n=e.F,Eo(i.i,e),o=1}if(0!=i.H)if(e.i)if(1==o){n=e.s?e.s.length:0,e=Date.now()-e.G;var u=i.C;Nn(o=Wr(),new ei(o,n)),Co(i)}else us(i);else if(3==(u=e.o)||0==u&&0<e.ca||!(1==o&&function bo(i,e){return!(_o(i.i)>=i.i.j-(i.m?1:0)||(i.m?(i.j=e.F.concat(i.j),0):1==i.H||2==i.H||i.C>=(i.cb?0:i.eb)||(i.m=Ki(et(i.Na,i,e),ao(i,i.C)),i.C++,0)))}(i,e)||2==o&&Lo(i)))switch(n&&0<n.length&&(e=i.i,e.i=e.i.concat(n)),u){case 1:uo(i,5);break;case 4:uo(i,10);break;case 3:uo(i,6);break;default:uo(i,2)}}function ao(i,e){let n=i.ab+Math.floor(Math.random()*i.hb);return i.isActive()||(n*=2),n*e}function uo(i,e){if(i.l.info("Error code "+e),2==e){var n=null;i.h&&(n=null);var o=et(i.pb,i);n||(n=new ps("//www.google.com/images/cleardot.gif"),We.location&&"http"==We.location.protocol||lr(n,"https"),li(n)),function io(i,e){const n=new nn;if(We.Image){const o=new Image;o.onload=_t(ni,n,o,"TestLoadImage: loaded",!0,e),o.onerror=_t(ni,n,o,"TestLoadImage: error",!1,e),o.onabort=_t(ni,n,o,"TestLoadImage: abort",!1,e),o.ontimeout=_t(ni,n,o,"TestLoadImage: timeout",!1,e),We.setTimeout(function(){o.ontimeout&&o.ontimeout()},1e4),o.src=i}else e(!1)}(n.toString(),o)}else Ar(2);i.H=0,i.h&&i.h.za(e),Ss(i),oo(i)}function Ss(i){if(i.H=0,i.ma=[],i.h){const e=Ji(i.i);(0!=e.length||0!=i.j.length)&&(lt(i.ma,e),lt(i.ma,i.j),i.i.i.length=0,Qn(i.j),i.j.length=0),i.h.ya()}}function Fo(i,e,n){var o=n instanceof ps?gs(n):new ps(n);if(""!=o.g)e&&(o.g=e+"."+o.g),Mt(o,o.m);else{var u=We.location;o=u.protocol,e=e?e+"."+u.hostname:u.hostname,u=+u.port;var l=new ps(null);o&&lr(l,o),e&&(l.g=e),u&&Mt(l,u),n&&(l.l=n),o=l}return e=i.Da,(n=i.F)&&e&&rn(o,n,e),rn(o,"VER",i.ra),Li(i,o),o}function So(i,e,n){if(e&&!i.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Nr(n&&i.Ha&&!i.va?new xi({ob:!0}):i.va)).Oa(i.J),e}function di(){}function na(){if(Ue&&!(10<=Number(pr)))throw Error("Environmental error: no available transport.")}function bi(i,e){Bn.call(this),this.g=new ga(e),this.l=i,this.h=e&&e.messageUrlParams||null,i=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(i?i["X-WebChannel-Content-Type"]=e.messageContentType:i={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(i?i["X-WebChannel-Client-Profile"]=e.Ca:i={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=i,(i=e&&e.cc)&&!Qr(i)&&(this.g.o=i),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Qr(e)&&(this.g.F=e,null!==(i=this.h)&&e in i&&e in(i=this.h)&&delete i[e]),this.j=new ns(this)}function va(i){Et.call(this),i.__headers__&&(this.headers=i.__headers__,this.statusCode=i.__status__,delete i.__headers__,delete i.__status__);var e=i.__sm__;if(e){e:{for(const n in e){i=n;break e}i=void 0}(this.i=i)&&(i=this.i,e=null!==e&&i in e?e[i]:void 0),this.data=e}else this.data=i}function ra(){un.call(this),this.status=1}function ns(i){this.g=i}function Si(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function ia(i,e,n){n||(n=0);var o=Array(16);if("string"==typeof e)for(var u=0;16>u;++u)o[u]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(u=0;16>u;++u)o[u]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;var l=i.g[3],f=(e=i.g[0])+(l^(n=i.g[1])&((u=i.g[2])^l))+o[0]+3614090360&4294967295;f=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=n+(f<<7&4294967295|f>>>25))+((f=l+(u^e&(n^u))+o[1]+3905402710&4294967295)<<12&4294967295|f>>>20))+((f=u+(n^l&(e^n))+o[2]+606105819&4294967295)<<17&4294967295|f>>>15))+((f=n+(e^u&(l^e))+o[3]+3250441966&4294967295)<<22&4294967295|f>>>10))+((f=e+(l^n&(u^l))+o[4]+4118548399&4294967295)<<7&4294967295|f>>>25))+((f=l+(u^e&(n^u))+o[5]+1200080426&4294967295)<<12&4294967295|f>>>20))+((f=u+(n^l&(e^n))+o[6]+2821735955&4294967295)<<17&4294967295|f>>>15))+((f=n+(e^u&(l^e))+o[7]+4249261313&4294967295)<<22&4294967295|f>>>10))+((f=e+(l^n&(u^l))+o[8]+1770035416&4294967295)<<7&4294967295|f>>>25))+((f=l+(u^e&(n^u))+o[9]+2336552879&4294967295)<<12&4294967295|f>>>20))+((f=u+(n^l&(e^n))+o[10]+4294925233&4294967295)<<17&4294967295|f>>>15))+((f=n+(e^u&(l^e))+o[11]+2304563134&4294967295)<<22&4294967295|f>>>10))+((f=e+(l^n&(u^l))+o[12]+1804603682&4294967295)<<7&4294967295|f>>>25))+((f=l+(u^e&(n^u))+o[13]+4254626195&4294967295)<<12&4294967295|f>>>20))+((f=u+(n^l&(e^n))+o[14]+2792965006&4294967295)<<17&4294967295|f>>>15))+((f=n+(e^u&(l^e))+o[15]+1236535329&4294967295)<<22&4294967295|f>>>10))+((f=e+(u^l&(n^u))+o[1]+4129170786&4294967295)<<5&4294967295|f>>>27))+((f=l+(n^u&(e^n))+o[6]+3225465664&4294967295)<<9&4294967295|f>>>23))+((f=u+(e^n&(l^e))+o[11]+643717713&4294967295)<<14&4294967295|f>>>18))+((f=n+(l^e&(u^l))+o[0]+3921069994&4294967295)<<20&4294967295|f>>>12))+((f=e+(u^l&(n^u))+o[5]+3593408605&4294967295)<<5&4294967295|f>>>27))+((f=l+(n^u&(e^n))+o[10]+38016083&4294967295)<<9&4294967295|f>>>23))+((f=u+(e^n&(l^e))+o[15]+3634488961&4294967295)<<14&4294967295|f>>>18))+((f=n+(l^e&(u^l))+o[4]+3889429448&4294967295)<<20&4294967295|f>>>12))+((f=e+(u^l&(n^u))+o[9]+568446438&4294967295)<<5&4294967295|f>>>27))+((f=l+(n^u&(e^n))+o[14]+3275163606&4294967295)<<9&4294967295|f>>>23))+((f=u+(e^n&(l^e))+o[3]+4107603335&4294967295)<<14&4294967295|f>>>18))+((f=n+(l^e&(u^l))+o[8]+1163531501&4294967295)<<20&4294967295|f>>>12))+((f=e+(u^l&(n^u))+o[13]+2850285829&4294967295)<<5&4294967295|f>>>27))+((f=l+(n^u&(e^n))+o[2]+4243563512&4294967295)<<9&4294967295|f>>>23))+((f=u+(e^n&(l^e))+o[7]+1735328473&4294967295)<<14&4294967295|f>>>18))+((f=n+(l^e&(u^l))+o[12]+2368359562&4294967295)<<20&4294967295|f>>>12))+((f=e+(n^u^l)+o[5]+4294588738&4294967295)<<4&4294967295|f>>>28))+((f=l+(e^n^u)+o[8]+2272392833&4294967295)<<11&4294967295|f>>>21))+((f=u+(l^e^n)+o[11]+1839030562&4294967295)<<16&4294967295|f>>>16))+((f=n+(u^l^e)+o[14]+4259657740&4294967295)<<23&4294967295|f>>>9))+((f=e+(n^u^l)+o[1]+2763975236&4294967295)<<4&4294967295|f>>>28))+((f=l+(e^n^u)+o[4]+1272893353&4294967295)<<11&4294967295|f>>>21))+((f=u+(l^e^n)+o[7]+4139469664&4294967295)<<16&4294967295|f>>>16))+((f=n+(u^l^e)+o[10]+3200236656&4294967295)<<23&4294967295|f>>>9))+((f=e+(n^u^l)+o[13]+681279174&4294967295)<<4&4294967295|f>>>28))+((f=l+(e^n^u)+o[0]+3936430074&4294967295)<<11&4294967295|f>>>21))+((f=u+(l^e^n)+o[3]+3572445317&4294967295)<<16&4294967295|f>>>16))+((f=n+(u^l^e)+o[6]+76029189&4294967295)<<23&4294967295|f>>>9))+((f=e+(n^u^l)+o[9]+3654602809&4294967295)<<4&4294967295|f>>>28))+((f=l+(e^n^u)+o[12]+3873151461&4294967295)<<11&4294967295|f>>>21))+((f=u+(l^e^n)+o[15]+530742520&4294967295)<<16&4294967295|f>>>16))+((f=n+(u^l^e)+o[2]+3299628645&4294967295)<<23&4294967295|f>>>9))+((f=e+(u^(n|~l))+o[0]+4096336452&4294967295)<<6&4294967295|f>>>26))+((f=l+(n^(e|~u))+o[7]+1126891415&4294967295)<<10&4294967295|f>>>22))+((f=u+(e^(l|~n))+o[14]+2878612391&4294967295)<<15&4294967295|f>>>17))+((f=n+(l^(u|~e))+o[5]+4237533241&4294967295)<<21&4294967295|f>>>11))+((f=e+(u^(n|~l))+o[12]+1700485571&4294967295)<<6&4294967295|f>>>26))+((f=l+(n^(e|~u))+o[3]+2399980690&4294967295)<<10&4294967295|f>>>22))+((f=u+(e^(l|~n))+o[10]+4293915773&4294967295)<<15&4294967295|f>>>17))+((f=n+(l^(u|~e))+o[1]+2240044497&4294967295)<<21&4294967295|f>>>11))+((f=e+(u^(n|~l))+o[8]+1873313359&4294967295)<<6&4294967295|f>>>26))+((f=l+(n^(e|~u))+o[15]+4264355552&4294967295)<<10&4294967295|f>>>22))+((f=u+(e^(l|~n))+o[6]+2734768916&4294967295)<<15&4294967295|f>>>17))+((f=n+(l^(u|~e))+o[13]+1309151649&4294967295)<<21&4294967295|f>>>11))+((l=(e=n+((f=e+(u^(n|~l))+o[4]+4149444226&4294967295)<<6&4294967295|f>>>26))+((f=l+(n^(e|~u))+o[11]+3174756917&4294967295)<<10&4294967295|f>>>22))^((u=l+((f=u+(e^(l|~n))+o[2]+718787259&4294967295)<<15&4294967295|f>>>17))|~e))+o[9]+3951481745&4294967295,i.g[0]=i.g[0]+e&4294967295,i.g[1]=i.g[1]+(u+(f<<21&4294967295|f>>>11))&4294967295,i.g[2]=i.g[2]+u&4294967295,i.g[3]=i.g[3]+l&4294967295}function Zn(i,e){this.h=e;for(var n=[],o=!0,u=i.length-1;0<=u;u--){var l=0|i[u];o&&l==e||(n[u]=l,o=!1)}this.g=n}(_e=Nr.prototype).Oa=function(i){this.M=i},_e.ha=function(i,e,n,o){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+i);e=e?e.toUpperCase():"GET",this.I=i,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Un.g(),this.C=function ve(i){return i.h||(i.h=i.i())}(this.u?this.u:Un),this.g.onreadystatechange=et(this.La,this);try{this.G=!0,this.g.open(e,String(i),!0),this.G=!1}catch(l){return void Jo(this,l)}if(i=n||"",n=new Map(this.headers),o)if(Object.getPrototypeOf(o)===Object.prototype)for(var u in o)n.set(u,o[u]);else{if("function"!=typeof o.keys||"function"!=typeof o.get)throw Error("Unknown input type for opt_headers: "+String(o));for(const l of o.keys())n.set(l,o.get(l))}o=Array.from(n.keys()).find(l=>"content-type"==l.toLowerCase()),u=We.FormData&&i instanceof We.FormData,!(0<=vn(so,e))||o||u||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[l,f]of n)this.g.setRequestHeader(l,f);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Wn(this),0<this.B&&((this.L=function Ks(i){return Ue&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=et(this.ua,this)):this.A=ye(this.ua,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(l){Jo(this,l)}},_e.ua=function(){typeof vt<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Nn(this,"timeout"),this.abort(8))},_e.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,Nn(this,"complete"),Nn(this,"abort"),ea(this))},_e.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),ea(this,!0)),Nr.$.N.call(this)},_e.La=function(){this.s||(this.G||this.v||this.l?Zo(this):this.kb())},_e.kb=function(){Zo(this)},_e.isActive=function(){return!!this.g},_e.da=function(){try{return 2<Zi(this)?this.g.status:-1}catch{return-1}},_e.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},_e.Wa=function(i){if(this.g){var e=this.g.responseText;return i&&0==e.indexOf(i)&&(e=e.substring(i.length)),ki(e)}},_e.Ia=function(){return this.m},_e.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(_e=ga.prototype).ra=8,_e.H=1,_e.Na=function(i){if(this.m)if(this.m=null,1==this.H){if(!i){this.W=Math.floor(1e5*Math.random()),i=this.W++;const u=new zn(this,this.l,i);let l=this.s;if(this.U&&(l?(l=dn(l),_r(l,this.U)):l=this.U),null!==this.o||this.O||(u.I=l,l=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){var o=this.j[n];if(void 0===(o="__data__"in o.map&&"string"==typeof(o=o.map.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=n;break e}if(4096===e||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=Ts(this,u,e),rn(n=gs(this.I),"RID",i),rn(n,"CVER",22),this.F&&rn(n,"X-HTTP-Session-Id",this.F),Li(this,n),l&&(this.O?e="headers="+encodeURIComponent(String(Do(l)))+"&"+e:this.o&&Ls(n,this.o,l)),qa(this.i,u),this.bb&&rn(n,"TYPE","init"),this.P?(rn(n,"$req",e),rn(n,"SID","null"),u.aa=!0,Js(u,n,null)):Js(u,n,e),this.H=2}}else 3==this.H&&(i?ya(this,i):0==this.j.length||Is(this.i)||ya(this))},_e.Ma=function(){if(this.u=null,ts(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var i=2*this.S;this.l.info("BP detection timer enabled: "+i),this.B=Ki(et(this.jb,this),i)}},_e.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Ar(10),ma(this),ts(this))},_e.ib=function(){null!=this.v&&(this.v=null,ma(this),Lo(this),Ar(19))},_e.pb=function(i){i?(this.l.info("Successfully pinged google.com"),Ar(2)):(this.l.info("Failed to ping google.com"),Ar(1))},_e.isActive=function(){return!!this.h&&this.h.isActive(this)},(_e=di.prototype).Ba=function(){},_e.Aa=function(){},_e.za=function(){},_e.ya=function(){},_e.isActive=function(){return!0},_e.Va=function(){},na.prototype.g=function(i,e){return new bi(i,e)},pt(bi,Bn),bi.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var i=this.g,e=this.l,n=this.h||void 0;Ar(0),i.Y=e,i.na=n||{},i.G=i.aa,i.I=Fo(i,null,i.Y),Co(i)},bi.prototype.close=function(){To(this.g)},bi.prototype.u=function(i){var e=this.g;if("string"==typeof i){var n={};n.__data__=i,i=n}else this.v&&((n={}).__data__=me(i),i=n);e.j.push(new class{constructor(i,e){this.g=i,this.map=e}}(e.fb++,i)),3==e.H&&Co(e)},bi.prototype.N=function(){this.g.h=null,delete this.j,To(this.g),delete this.g,bi.$.N.call(this)},pt(va,Et),pt(ra,un),pt(ns,di),ns.prototype.Ba=function(){Nn(this.g,"a")},ns.prototype.Aa=function(i){Nn(this.g,new va(i))},ns.prototype.za=function(i){Nn(this.g,new ra)},ns.prototype.ya=function(){Nn(this.g,"b")},pt(Si,function Ao(){this.blockSize=-1}),Si.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Si.prototype.j=function(i,e){void 0===e&&(e=i.length);for(var n=e-this.blockSize,o=this.m,u=this.h,l=0;l<e;){if(0==u)for(;l<=n;)ia(this,i,l),l+=this.blockSize;if("string"==typeof i){for(;l<e;)if(o[u++]=i.charCodeAt(l++),u==this.blockSize){ia(this,o),u=0;break}}else for(;l<e;)if(o[u++]=i[l++],u==this.blockSize){ia(this,o),u=0;break}}this.h=u,this.i+=e},Si.prototype.l=function(){var i=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);i[0]=128;for(var e=1;e<i.length-8;++e)i[e]=0;var n=8*this.i;for(e=i.length-8;e<i.length;++e)i[e]=255&n,n/=256;for(this.j(i),i=Array(16),e=n=0;4>e;++e)for(var o=0;32>o;o+=8)i[n++]=this.g[e]>>>o&255;return i};var Ru={};function _a(i){return-128<=i&&128>i?function ke(i,e){var n=Ru;return Object.prototype.hasOwnProperty.call(n,i)?n[i]:n[i]=e(i)}(i,function(e){return new Zn([0|e],0>e?-1:0)}):new Zn([0|i],0>i?-1:0)}function Fs(i){if(isNaN(i)||!isFinite(i))return j;if(0>i)return Y(Fs(-i));for(var e=[],n=1,o=0;i>=n;o++)e[o]=i/n|0,n*=Ea;return new Zn(e,0)}var Ea=4294967296,j=_a(0),y=_a(1),E=_a(16777216);function P(i){if(0!=i.h)return!1;for(var e=0;e<i.g.length;e++)if(0!=i.g[e])return!1;return!0}function H(i){return-1==i.h}function Y(i){for(var e=i.g.length,n=[],o=0;o<e;o++)n[o]=~i.g[o];return new Zn(n,~i.h).add(y)}function ge(i,e){return i.add(Y(e))}function m(i,e){for(;(65535&i[e])!=i[e];)i[e+1]+=i[e]>>>16,i[e]&=65535,e++}function x(i,e){this.g=i,this.h=e}function S(i,e){if(P(e))throw Error("division by zero");if(P(i))return new x(j,j);if(H(i))return e=S(Y(i),e),new x(Y(e.g),Y(e.h));if(H(e))return e=S(i,Y(e)),new x(Y(e.g),e.h);if(30<i.g.length){if(H(i)||H(e))throw Error("slowDivide_ only works with positive integers.");for(var n=y,o=e;0>=o.X(i);)n=k(n),o=k(o);var u=ee(n,1),l=ee(o,1);for(o=ee(o,2),n=ee(n,2);!P(o);){var f=l.add(o);0>=f.X(i)&&(u=u.add(n),l=f),o=ee(o,1),n=ee(n,1)}return e=ge(i,u.R(e)),new x(u,e)}for(u=j;0<=i.X(e);){for(n=Math.max(1,Math.floor(i.ea()/e.ea())),o=48>=(o=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,o-48),f=(l=Fs(n)).R(e);H(f)||0<f.X(i);)f=(l=Fs(n-=o)).R(e);P(l)&&(l=y),u=u.add(l),i=ge(i,f)}return new x(u,i)}function k(i){for(var e=i.g.length+1,n=[],o=0;o<e;o++)n[o]=i.D(o)<<1|i.D(o-1)>>>31;return new Zn(n,i.h)}function ee(i,e){var n=e>>5;e%=32;for(var o=i.g.length-n,u=[],l=0;l<o;l++)u[l]=0<e?i.D(l+n)>>>e|i.D(l+n+1)<<32-e:i.D(l+n);return new Zn(u,i.h)}(_e=Zn.prototype).ea=function(){if(H(this))return-Y(this).ea();for(var i=0,e=1,n=0;n<this.g.length;n++){var o=this.D(n);i+=(0<=o?o:Ea+o)*e,e*=Ea}return i},_e.toString=function(i){if(2>(i=i||10)||36<i)throw Error("radix out of range: "+i);if(P(this))return"0";if(H(this))return"-"+Y(this).toString(i);for(var e=Fs(Math.pow(i,6)),n=this,o="";;){var u=S(n,e).g,l=((0<(n=ge(n,u.R(e))).g.length?n.g[0]:n.h)>>>0).toString(i);if(P(n=u))return l+o;for(;6>l.length;)l="0"+l;o=l+o}},_e.D=function(i){return 0>i?0:i<this.g.length?this.g[i]:this.h},_e.X=function(i){return H(i=ge(this,i))?-1:P(i)?0:1},_e.abs=function(){return H(this)?Y(this):this},_e.add=function(i){for(var e=Math.max(this.g.length,i.g.length),n=[],o=0,u=0;u<=e;u++){var l=o+(65535&this.D(u))+(65535&i.D(u)),f=(l>>>16)+(this.D(u)>>>16)+(i.D(u)>>>16);o=f>>>16,n[u]=(f&=65535)<<16|(l&=65535)}return new Zn(n,-2147483648&n[n.length-1]?-1:0)},_e.R=function(i){if(P(this)||P(i))return j;if(H(this))return H(i)?Y(this).R(Y(i)):Y(Y(this).R(i));if(H(i))return Y(this.R(Y(i)));if(0>this.X(E)&&0>i.X(E))return Fs(this.ea()*i.ea());for(var e=this.g.length+i.g.length,n=[],o=0;o<2*e;o++)n[o]=0;for(o=0;o<this.g.length;o++)for(var u=0;u<i.g.length;u++){var l=this.D(o)>>>16,f=65535&this.D(o),T=i.D(u)>>>16,O=65535&i.D(u);n[2*o+2*u]+=f*O,m(n,2*o+2*u),n[2*o+2*u+1]+=l*O,m(n,2*o+2*u+1),n[2*o+2*u+1]+=f*T,m(n,2*o+2*u+1),n[2*o+2*u+2]+=l*T,m(n,2*o+2*u+2)}for(o=0;o<e;o++)n[o]=n[2*o+1]<<16|n[2*o];for(o=e;o<2*e;o++)n[o]=0;return new Zn(n,0)},_e.gb=function(i){return S(this,i).h},_e.and=function(i){for(var e=Math.max(this.g.length,i.g.length),n=[],o=0;o<e;o++)n[o]=this.D(o)&i.D(o);return new Zn(n,this.h&i.h)},_e.or=function(i){for(var e=Math.max(this.g.length,i.g.length),n=[],o=0;o<e;o++)n[o]=this.D(o)|i.D(o);return new Zn(n,this.h|i.h)},_e.xor=function(i){for(var e=Math.max(this.g.length,i.g.length),n=[],o=0;o<e;o++)n[o]=this.D(o)^i.D(o);return new Zn(n,this.h^i.h)},na.prototype.createWebChannel=na.prototype.g,bi.prototype.send=bi.prototype.u,bi.prototype.open=bi.prototype.m,bi.prototype.close=bi.prototype.close,Mr.NO_ERROR=0,Mr.TIMEOUT=8,Mr.HTTP_ERROR=6,Hs.COMPLETE="complete",Ve.EventType=rt,rt.OPEN="a",rt.CLOSE="b",rt.ERROR="c",rt.MESSAGE="d",Bn.prototype.listen=Bn.prototype.O,Nr.prototype.listenOnce=Nr.prototype.P,Nr.prototype.getLastError=Nr.prototype.Sa,Nr.prototype.getLastErrorCode=Nr.prototype.Ia,Nr.prototype.getStatus=Nr.prototype.da,Nr.prototype.getResponseJson=Nr.prototype.Wa,Nr.prototype.getResponseText=Nr.prototype.ja,Nr.prototype.send=Nr.prototype.ha,Nr.prototype.setWithCredentials=Nr.prototype.Oa,Si.prototype.digest=Si.prototype.l,Si.prototype.reset=Si.prototype.reset,Si.prototype.update=Si.prototype.j,Zn.prototype.add=Zn.prototype.add,Zn.prototype.multiply=Zn.prototype.R,Zn.prototype.modulo=Zn.prototype.gb,Zn.prototype.compare=Zn.prototype.X,Zn.prototype.toNumber=Zn.prototype.ea,Zn.prototype.toString=Zn.prototype.toString,Zn.prototype.getBits=Zn.prototype.D,Zn.fromNumber=Fs,Zn.fromString=function sa(i,e){if(0==i.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==i.charAt(0))return Y(sa(i.substring(1),e));if(0<=i.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Fs(Math.pow(e,8)),o=j,u=0;u<i.length;u+=8){var l=Math.min(8,i.length-u),f=parseInt(i.substring(u,u+l),e);8>l?(l=Fs(Math.pow(e,l)),o=o.R(l).add(Fs(f))):o=(o=o.R(n)).add(Fs(f))}return o};var be=qe.createWebChannelTransport=function(){return new na},Le=qe.getStatEventTarget=function(){return Wr()},st=qe.ErrorCode=Mr,Ft=qe.EventType=Hs,fn=qe.Event=xn,hn=qe.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Zt=qe.FetchXmlHttpFactory=xi,kn=qe.WebChannel=Ve,bn=qe.XhrIo=Nr,Pr=qe.Md5=Si,xr=qe.Integer=Zn;const Or="@firebase/firestore";class Ln{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ln.UNAUTHENTICATED=new Ln(null),Ln.GOOGLE_CREDENTIALS=new Ln("google-credentials-uid"),Ln.FIRST_PARTY=new Ln("first-party-uid"),Ln.MOCK_USER=new Ln("mock-user");let er="9.23.0";const Dr=new re.Vy("@firebase/firestore");function Ai(){return Dr.logLevel}function ft(i,...e){if(Dr.logLevel<=re.$b.DEBUG){const n=e.map(Ht);Dr.debug(`Firestore (${er}): ${i}`,...n)}}function sn(i,...e){if(Dr.logLevel<=re.$b.ERROR){const n=e.map(Ht);Dr.error(`Firestore (${er}): ${i}`,...n)}}function cs(i,...e){if(Dr.logLevel<=re.$b.WARN){const n=e.map(Ht);Dr.warn(`Firestore (${er}): ${i}`,...n)}}function Ht(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch{return i}}function Je(i="Unexpected state"){const e=`FIRESTORE (${er}) INTERNAL ASSERTION FAILED: `+i;throw sn(e),new Error(e)}function ht(i,e){i||Je()}function gt(i,e){return i}const xe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ot extends ae.g{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Br{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class Kr{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Mo{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ln.UNAUTHENTICATED))}shutdown(){}}class Qa{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class ls{constructor(e){this.t=e,this.currentUser=Ln.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var o=this;let u=this.i;const l=V=>this.i!==u?(u=this.i,n(V)):Promise.resolve();let f=new Br;this.o=()=>{this.i++,this.currentUser=this.u(),f.resolve(),f=new Br,e.enqueueRetryable(()=>l(this.currentUser))};const T=()=>{const V=f;e.enqueueRetryable((0,te.A)(function*(){yield V.promise,yield l(o.currentUser)}))},O=V=>{ft("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=V,this.auth.addAuthTokenListener(this.o),T()};this.t.onInit(V=>O(V)),setTimeout(()=>{if(!this.auth){const V=this.t.getImmediate({optional:!0});V?O(V):(ft("FirebaseAuthCredentialsProvider","Auth not yet detected"),f.resolve(),f=new Br)}},0),T()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(o=>this.i!==e?(ft("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(ht("string"==typeof o.accessToken),new Kr(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return ht(null===e||"string"==typeof e),new Ln(e)}}class rs{constructor(e,n,o){this.h=e,this.l=n,this.m=o,this.type="FirstParty",this.user=Ln.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class is{constructor(e,n,o){this.h=e,this.l=n,this.m=o}getToken(){return Promise.resolve(new rs(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(Ln.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class wa{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class La{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const o=l=>{null!=l.error&&ft("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const f=l.token!==this.T;return this.T=l.token,ft("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>o(l))};const u=l=>{ft("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.appCheck.addTokenListener(this.o)};this.I.onInit(l=>u(l)),setTimeout(()=>{if(!this.appCheck){const l=this.I.getImmediate({optional:!0});l?u(l):ft("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ht("string"==typeof n.token),this.T=n.token,new wa(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Mi(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let o=0;o<i;o++)n[o]=Math.floor(256*Math.random());return n}class hu{static A(){const n=62*Math.floor(256/62);let o="";for(;o.length<20;){const u=Mi(40);for(let l=0;l<u.length;++l)o.length<20&&u[l]<n&&(o+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(u[l]%62))}return o}}function Qt(i,e){return i<e?-1:i>e?1:0}function Fa(i,e,n){return i.length===e.length&&i.every((o,u)=>n(o,e[u]))}class wi{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ot(xe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ot(xe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ot(xe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ot(xe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return wi.fromMillis(Date.now())}static fromDate(e){return wi.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),o=Math.floor(1e6*(e-1e3*n));return new wi(n,o)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Qt(this.nanoseconds,e.nanoseconds):Qt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Xt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Xt(e)}static min(){return new Xt(new wi(0,0))}static max(){return new Xt(new wi(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Ua{constructor(e,n,o){void 0===n?n=0:n>e.length&&Je(),void 0===o?o=e.length-n:o>e.length-n&&Je(),this.segments=e,this.offset=n,this.len=o}get length(){return this.len}isEqual(e){return 0===Ua.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ua?e.forEach(o=>{n.push(o)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,o=this.limit();n<o;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const o=Math.min(e.length,n.length);for(let u=0;u<o;u++){const l=e.get(u),f=n.get(u);if(l<f)return-1;if(l>f)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class hr extends Ua{construct(e,n,o){return new hr(e,n,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const o of e){if(o.indexOf("//")>=0)throw new ot(xe.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);n.push(...o.split("/").filter(u=>u.length>0))}return new hr(n)}static emptyPath(){return new hr([])}}const Nu=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Fi extends Ua{construct(e,n,o){return new Fi(e,n,o)}static isValidIdentifier(e){return Nu.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Fi.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Fi(["__name__"])}static fromServerFormat(e){const n=[];let o="",u=0;const l=()=>{if(0===o.length)throw new ot(xe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(o),o=""};let f=!1;for(;u<e.length;){const T=e[u];if("\\"===T){if(u+1===e.length)throw new ot(xe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const O=e[u+1];if("\\"!==O&&"."!==O&&"`"!==O)throw new ot(xe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=O,u+=2}else"`"===T?(f=!f,u++):"."!==T||f?(o+=T,u++):(l(),u++)}if(l(),f)throw new ot(xe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Fi(n)}static emptyPath(){return new Fi([])}}class Nt{constructor(e){this.path=e}static fromPath(e){return new Nt(hr.fromString(e))}static fromName(e){return new Nt(hr.fromString(e).popFirst(5))}static empty(){return new Nt(hr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===hr.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return hr.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Nt(new hr(e.slice()))}}function Xa(i){return new Cs(i.readTime,i.key,-1)}class Cs{constructor(e,n,o){this.readTime=e,this.documentKey=n,this.largestBatchId=o}static min(){return new Cs(Xt.min(),Nt.empty(),-1)}static max(){return new Cs(Xt.max(),Nt.empty(),-1)}}function xu(i,e){let n=i.readTime.compareTo(e.readTime);return 0!==n?n:(n=Nt.comparator(i.documentKey,e.documentKey),0!==n?n:Qt(i.largestBatchId,e.largestBatchId))}const Ou="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class gc{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Ii(i){return lo.apply(this,arguments)}function lo(){return lo=(0,te.A)(function*(i){if(i.code!==xe.FAILED_PRECONDITION||i.message!==Ou)throw i;ft("LocalStore","Unexpectedly lost primary lease")}),lo.apply(this,arguments)}class Be{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Je(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Be((o,u)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(o,u)},this.catchCallback=l=>{this.wrapFailure(n,l).next(o,u)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Be?n:Be.resolve(n)}catch(n){return Be.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Be.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Be.reject(n)}static resolve(e){return new Be((n,o)=>{n(e)})}static reject(e){return new Be((n,o)=>{o(e)})}static waitFor(e){return new Be((n,o)=>{let u=0,l=0,f=!1;e.forEach(T=>{++u,T.next(()=>{++l,f&&l===u&&n()},O=>o(O))}),f=!0,l===u&&n()})}static or(e){let n=Be.resolve(!1);for(const o of e)n=n.next(u=>u?Be.resolve(u):o());return n}static forEach(e,n){const o=[];return e.forEach((u,l)=>{o.push(n.call(this,u,l))}),this.waitFor(o)}static mapArray(e,n){return new Be((o,u)=>{const l=e.length,f=new Array(l);let T=0;for(let O=0;O<l;O++){const V=O;n(e[V]).next(X=>{f[V]=X,++T,T===l&&o(f)},X=>u(X))}})}static doWhile(e,n){return new Be((o,u)=>{const l=()=>{!0===e()?n().next(()=>{l()},u):o()};l()})}}function v(i){return"IndexedDbTransactionError"===i.name}let Ct=(()=>{class i{constructor(n,o){this.previousValue=n,o&&(o.sequenceNumberHandler=u=>this.ot(u),this.ut=u=>o.writeSequenceNumber(u))}ot(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.ut&&this.ut(n),n}}return i.ct=-1,i})();function En(i){return null==i}function yr(i){return 0===i&&1/i==-1/0}function Bh(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function Ja(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function _c(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class hi{constructor(e,n){this.comparator=e,this.root=n||ds.EMPTY}insert(e,n){return new hi(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ds.BLACK,null,null))}remove(e){return new hi(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ds.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const o=this.comparator(e,n.key);if(0===o)return n.value;o<0?n=n.left:o>0&&(n=n.right)}return null}indexOf(e){let n=0,o=this.root;for(;!o.isEmpty();){const u=this.comparator(e,o.key);if(0===u)return n+o.left.size;u<0?o=o.left:(n+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,o)=>(e(n,o),!1))}toString(){const e=[];return this.inorderTraversal((n,o)=>(e.push(`${n}:${o}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new fu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new fu(this.root,e,this.comparator,!1)}getReverseIterator(){return new fu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new fu(this.root,e,this.comparator,!0)}}class fu{constructor(e,n,o,u){this.isReverse=u,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?o(e.key,n):1,n&&u&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(0===l){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ds{constructor(e,n,o,u,l){this.key=e,this.value=n,this.color=o??ds.RED,this.left=u??ds.EMPTY,this.right=l??ds.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,o,u,l){return new ds(e??this.key,n??this.value,o??this.color,u??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,o){let u=this;const l=o(e,u.key);return u=l<0?u.copy(null,null,null,u.left.insert(e,n,o),null):0===l?u.copy(null,n,null,null,null):u.copy(null,null,null,null,u.right.insert(e,n,o)),u.fixUp()}removeMin(){if(this.left.isEmpty())return ds.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let o,u=this;if(n(e,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(e,n),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),0===n(e,u.key)){if(u.right.isEmpty())return ds.EMPTY;o=u.right.min(),u=u.copy(o.key,o.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(e,n))}return u.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ds.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ds.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Je();const e=this.left.check();if(e!==this.right.check())throw Je();return e+(this.isRed()?0:1)}}ds.EMPTY=null,ds.RED=!0,ds.BLACK=!1,ds.EMPTY=new class{constructor(){this.size=0}get key(){throw Je()}get value(){throw Je()}get color(){throw Je()}get left(){throw Je()}get right(){throw Je()}copy(i,e,n,o,u){return this}insert(i,e,n){return new ds(i,e)}remove(i,e){return this}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class qr{constructor(e){this.comparator=e,this.data=new hi(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,o)=>(e(n),!1))}forEachInRange(e,n){const o=this.data.getIteratorFrom(e[0]);for(;o.hasNext();){const u=o.getNext();if(this.comparator(u.key,e[1])>=0)return;n(u.key)}}forEachWhile(e,n){let o;for(o=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();o.hasNext();)if(!e(o.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new nl(this.data.getIterator())}getIteratorFrom(e){return new nl(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(o=>{n=n.add(o)}),n}isEqual(e){if(!(e instanceof qr)||this.size!==e.size)return!1;const n=this.data.getIterator(),o=e.data.getIterator();for(;n.hasNext();){const u=n.getNext().key,l=o.getNext().key;if(0!==this.comparator(u,l))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new qr(this.comparator);return n.data=e,n}}class nl{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Us{constructor(e){this.fields=e,e.sort(Fi.comparator)}static empty(){return new Us([])}unionWith(e){let n=new qr(Fi.comparator);for(const o of this.fields)n=n.add(o);for(const o of e)n=n.add(o);return new Us(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Fa(this.fields,e.fields,(n,o)=>n.isEqual(o))}}class ju extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class ys{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new ju("Invalid base64 string: "+u):u}}(e);return new ys(n)}static fromUint8Array(e){const n=function(o){let u="";for(let l=0;l<o.length;++l)u+=String.fromCharCode(o[l]);return u}(e);return new ys(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let o=0;o<e.length;o++)n[o]=e.charCodeAt(o);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Qt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ys.EMPTY_BYTE_STRING=new ys("");const jl=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function jo(i){if(ht(!!i),"string"==typeof i){let e=0;const n=jl.exec(i);if(ht(!!n),n[1]){let u=n[1];u=(u+"000000000").substr(0,9),e=Number(u)}const o=new Date(i);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:jr(i.seconds),nanos:jr(i.nanos)}}function jr(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function ua(i){return"string"==typeof i?ys.fromBase64String(i):ys.fromUint8Array(i)}function ca(i){var e,n;return"server_timestamp"===(null===(n=((null===(e=i?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function $u(i){const e=i.mapValue.fields.__previous_value__;return ca(e)?$u(e):e}function la(i){const e=jo(i.mapValue.fields.__local_write_time__.timestampValue);return new wi(e.seconds,e.nanos)}class Za{constructor(e,n,o,u,l,f,T,O,V){this.databaseId=e,this.appId=n,this.persistenceKey=o,this.host=u,this.ssl=l,this.forceLongPolling=f,this.autoDetectLongPolling=T,this.longPollingOptions=O,this.useFetchStreams=V}}class fo{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new fo("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof fo&&e.projectId===this.projectId&&e.database===this.database}}const $o={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ho(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?ca(i)?4:wc(i)?9007199254740991:10:Je()}function po(i,e){if(i===e)return!0;const n=Ho(i);if(n!==Ho(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return la(i).isEqual(la(e));case 3:return function(o,u){if("string"==typeof o.timestampValue&&"string"==typeof u.timestampValue&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const l=jo(o.timestampValue),f=jo(u.timestampValue);return l.seconds===f.seconds&&l.nanos===f.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return u=e,ua(i.bytesValue).isEqual(ua(u.bytesValue));case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,u){return jr(o.geoPointValue.latitude)===jr(u.geoPointValue.latitude)&&jr(o.geoPointValue.longitude)===jr(u.geoPointValue.longitude)}(i,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return jr(o.integerValue)===jr(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const l=jr(o.doubleValue),f=jr(u.doubleValue);return l===f?yr(l)===yr(f):isNaN(l)&&isNaN(f)}return!1}(i,e);case 9:return Fa(i.arrayValue.values||[],e.arrayValue.values||[],po);case 10:return function(o,u){const l=o.mapValue.fields||{},f=u.mapValue.fields||{};if(Bh(l)!==Bh(f))return!1;for(const T in l)if(l.hasOwnProperty(T)&&(void 0===f[T]||!po(l[T],f[T])))return!1;return!0}(i,e);default:return Je()}var u}function pu(i,e){return void 0!==(i.values||[]).find(n=>po(n,e))}function Va(i,e){if(i===e)return 0;const n=Ho(i),o=Ho(e);if(n!==o)return Qt(n,o);switch(n){case 0:case 9007199254740991:return 0;case 1:return Qt(i.booleanValue,e.booleanValue);case 2:return function(u,l){const f=jr(u.integerValue||u.doubleValue),T=jr(l.integerValue||l.doubleValue);return f<T?-1:f>T?1:f===T?0:isNaN(f)?isNaN(T)?0:-1:1}(i,e);case 3:return Ec(i.timestampValue,e.timestampValue);case 4:return Ec(la(i),la(e));case 5:return Qt(i.stringValue,e.stringValue);case 6:return function(u,l){const f=ua(u),T=ua(l);return f.compareTo(T)}(i.bytesValue,e.bytesValue);case 7:return function(u,l){const f=u.split("/"),T=l.split("/");for(let O=0;O<f.length&&O<T.length;O++){const V=Qt(f[O],T[O]);if(0!==V)return V}return Qt(f.length,T.length)}(i.referenceValue,e.referenceValue);case 8:return function(u,l){const f=Qt(jr(u.latitude),jr(l.latitude));return 0!==f?f:Qt(jr(u.longitude),jr(l.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return function(u,l){const f=u.values||[],T=l.values||[];for(let O=0;O<f.length&&O<T.length;++O){const V=Va(f[O],T[O]);if(V)return V}return Qt(f.length,T.length)}(i.arrayValue,e.arrayValue);case 10:return function(u,l){if(u===$o.mapValue&&l===$o.mapValue)return 0;if(u===$o.mapValue)return 1;if(l===$o.mapValue)return-1;const f=u.fields||{},T=Object.keys(f),O=l.fields||{},V=Object.keys(O);T.sort(),V.sort();for(let X=0;X<T.length&&X<V.length;++X){const de=Qt(T[X],V[X]);if(0!==de)return de;const je=Va(f[T[X]],O[V[X]]);if(0!==je)return je}return Qt(T.length,V.length)}(i.mapValue,e.mapValue);default:throw Je()}}function Ec(i,e){if("string"==typeof i&&"string"==typeof e&&i.length===e.length)return Qt(i,e);const n=jo(i),o=jo(e),u=Qt(n.seconds,o.seconds);return 0!==u?u:Qt(n.nanos,o.nanos)}function No(i){return Hu(i)}function Hu(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(o){const u=jo(o);return`time(${u.seconds},${u.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?ua(i.bytesValue).toBase64():"referenceValue"in i?Nt.fromName(i.referenceValue).toString():"geoPointValue"in i?`geo(${(e=i.geoPointValue).latitude},${e.longitude})`:"arrayValue"in i?function(o){let u="[",l=!0;for(const f of o.values||[])l?l=!1:u+=",",u+=Hu(f);return u+"]"}(i.arrayValue):"mapValue"in i?function(o){const u=Object.keys(o.fields||{}).sort();let l="{",f=!0;for(const T of u)f?f=!1:l+=",",l+=`${T}:${Hu(o.fields[T])}`;return l+"}"}(i.mapValue):Je();var e}function Ca(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function eu(i){return!!i&&"integerValue"in i}function tu(i){return!!i&&"arrayValue"in i}function zi(i){return!!i&&"nullValue"in i}function $l(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Po(i){return!!i&&"mapValue"in i}function gu(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return Ja(i.mapValue.fields,(n,o)=>e.mapValue.fields[n]=gu(o)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=gu(i.arrayValue.values[n]);return e}return Object.assign({},i)}function wc(i){return"__max__"===(((i.mapValue||{}).fields||{}).__type__||{}).stringValue}class D{constructor(e){this.value=e}static empty(){return new D({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let o=0;o<e.length-1;++o)if(n=(n.mapValue.fields||{})[e.get(o)],!Po(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=gu(n)}setAll(e){let n=Fi.emptyPath(),o={},u=[];e.forEach((f,T)=>{if(!n.isImmediateParentOf(T)){const O=this.getFieldsMap(n);this.applyChanges(O,o,u),o={},u=[],n=T.popLast()}f?o[T.lastSegment()]=gu(f):u.push(T.lastSegment())});const l=this.getFieldsMap(n);this.applyChanges(l,o,u)}delete(e){const n=this.field(e.popLast());Po(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return po(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let o=0;o<e.length;++o){let u=n.mapValue.fields[e.get(o)];Po(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},n.mapValue.fields[e.get(o)]=u),n=u}return n.mapValue.fields}applyChanges(e,n,o){Ja(n,(u,l)=>e[u]=l);for(const u of o)delete e[u]}clone(){return new D(gu(this.value))}}function N(i){const e=[];return Ja(i.fields,(n,o)=>{const u=new Fi([n]);if(Po(o)){const l=N(o.mapValue).fields;if(0===l.length)e.push(u);else for(const f of l)e.push(u.child(f))}else e.push(u)}),new Us(e)}class U{constructor(e,n,o,u,l,f,T){this.key=e,this.documentType=n,this.version=o,this.readTime=u,this.createTime=l,this.data=f,this.documentState=T}static newInvalidDocument(e){return new U(e,0,Xt.min(),Xt.min(),Xt.min(),D.empty(),0)}static newFoundDocument(e,n,o,u){return new U(e,1,n,Xt.min(),o,u,0)}static newNoDocument(e,n){return new U(e,2,n,Xt.min(),Xt.min(),D.empty(),0)}static newUnknownDocument(e,n){return new U(e,3,n,Xt.min(),Xt.min(),D.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Xt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=D.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=D.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Xt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof U&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new U(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ne{constructor(e,n){this.position=e,this.inclusive=n}}function Ee(i,e,n){let o=0;for(let u=0;u<i.position.length;u++){const l=e[u],f=i.position[u];if(o=l.field.isKeyField()?Nt.comparator(Nt.fromName(f.referenceValue),n.key):Va(f,n.data.field(l.field)),"desc"===l.dir&&(o*=-1),0!==o)break}return o}function Pe(i,e){if(null===i)return null===e;if(null===e||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!po(i.position[n],e.position[n]))return!1;return!0}class Ze{constructor(e,n="asc"){this.field=e,this.dir=n}}function xt(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}class Pt{}class It extends Pt{constructor(e,n,o){super(),this.field=e,this.op=n,this.value=o}static create(e,n,o){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,o):new Vs(e,n,o):"array-contains"===n?new Tc(e,o):"in"===n?new dp(e,o):"not-in"===n?new Sv(e,o):"array-contains-any"===n?new Bd(e,o):new It(e,n,o)}static createKeyFieldInFilter(e,n,o){return"in"===n?new Ic(e,o):new jh(e,o)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(Va(n,this.value)):null!==n&&Ho(this.value)===Ho(n)&&this.matchesComparison(Va(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Je()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class jt extends Pt{constructor(e,n){super(),this.filters=e,this.op=n,this.lt=null}static create(e,n){return new jt(e,n)}matches(e){return Sn(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(n=>n.isInequality());return null!==e?e.field:null}ft(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function Sn(i){return"and"===i.op}function fs(i){return function zu(i){for(const e of i.filters)if(e instanceof jt)return!1;return!0}(i)&&Sn(i)}function Bi(i){if(i instanceof It)return i.field.canonicalString()+i.op.toString()+No(i.value);if(fs(i))return i.filters.map(e=>Bi(e)).join(",");{const e=i.filters.map(n=>Bi(n)).join(",");return`${i.op}(${e})`}}function iu(i,e){return i instanceof It?(n=i,(o=e)instanceof It&&n.op===o.op&&n.field.isEqual(o.field)&&po(n.value,o.value)):i instanceof jt?function(n,o){return o instanceof jt&&n.op===o.op&&n.filters.length===o.filters.length&&n.filters.reduce((u,l,f)=>u&&iu(l,o.filters[f]),!0)}(i,e):void Je();var n,o}function ba(i){return i instanceof It?`${(e=i).field.canonicalString()} ${e.op} ${No(e.value)}`:i instanceof jt?function(e){return e.op.toString()+" {"+e.getFilters().map(ba).join(" ,")+"}"}(i):"Filter";var e}class Vs extends It{constructor(e,n,o){super(e,n,o),this.key=Nt.fromName(o.referenceValue)}matches(e){const n=Nt.comparator(e.key,this.key);return this.matchesComparison(n)}}class Ic extends It{constructor(e,n){super(e,"in",n),this.keys=Dc(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class jh extends It{constructor(e,n){super(e,"not-in",n),this.keys=Dc(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Dc(i,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(o=>Nt.fromName(o.referenceValue))}class Tc extends It{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return tu(n)&&pu(n.arrayValue,this.value)}}class dp extends It{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&pu(this.value.arrayValue,n)}}class Sv extends It{constructor(e,n){super(e,"not-in",n)}matches(e){if(pu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!pu(this.value.arrayValue,n)}}class Bd extends It{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!tu(n)||!n.arrayValue.values)&&n.arrayValue.values.some(o=>pu(this.value.arrayValue,o))}}class hp{constructor(e,n=null,o=[],u=[],l=null,f=null,T=null){this.path=e,this.collectionGroup=n,this.orderBy=o,this.filters=u,this.limit=l,this.startAt=f,this.endAt=T,this.dt=null}}function Ms(i,e=null,n=[],o=[],u=null,l=null,f=null){return new hp(i,e,n,o,u,l,f)}function Ba(i){const e=gt(i);if(null===e.dt){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(o=>Bi(o)).join(","),n+="|ob:",n+=e.orderBy.map(o=>{return(u=o).field.canonicalString()+u.dir;var u}).join(","),En(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(o=>No(o)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(o=>No(o)).join(",")),e.dt=n}return e.dt}function Sa(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!xt(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!iu(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!Pe(i.startAt,e.startAt)&&Pe(i.endAt,e.endAt)}function jd(i){return Nt.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}class su{constructor(e,n=null,o=[],u=[],l=null,f="F",T=null,O=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=o,this.filters=u,this.limit=l,this.limitType=f,this.startAt=T,this.endAt=O,this.wt=null,this._t=null}}function Cc(i){return new su(i)}function zh(i){return 0===i.filters.length&&null===i.limit&&null==i.startAt&&null==i.endAt&&(0===i.explicitOrderBy.length||1===i.explicitOrderBy.length&&i.explicitOrderBy[0].field.isKeyField())}function bc(i){return i.explicitOrderBy.length>0?i.explicitOrderBy[0].field:null}function Wu(i){for(const e of i.filters){const n=e.getFirstInequalityField();if(null!==n)return n}return null}function Hd(i){return null!==i.collectionGroup}function ja(i){const e=gt(i);if(null===e.wt){e.wt=[];const n=Wu(e),o=bc(e);if(null!==n&&null===o)n.isKeyField()||e.wt.push(new Ze(n)),e.wt.push(new Ze(Fi.keyField(),"asc"));else{let u=!1;for(const l of e.explicitOrderBy)e.wt.push(l),l.field.isKeyField()&&(u=!0);if(!u){const l=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Ze(Fi.keyField(),l))}}}return e.wt}function go(i){const e=gt(i);if(!e._t)if("F"===e.limitType)e._t=Ms(e.path,e.collectionGroup,ja(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const l of ja(e))n.push(new Ze(l.field,"desc"===l.dir?"asc":"desc"));const o=e.endAt?new ne(e.endAt.position,e.endAt.inclusive):null,u=e.startAt?new ne(e.startAt.position,e.startAt.inclusive):null;e._t=Ms(e.path,e.collectionGroup,n,e.filters,e.limit,o,u)}return e._t}function Sc(i,e){e.getFirstInequalityField(),Wu(i);const n=i.filters.concat([e]);return new su(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function zl(i,e,n){return new su(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function Gu(i,e){return Sa(go(i),go(e))&&i.limitType===e.limitType}function Ku(i){return`${Ba(go(i))}|lt:${i.limitType}`}function qu(i){return`Query(target=${function(e){let n=e.path.canonicalString();return null!==e.collectionGroup&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(o=>ba(o)).join(", ")}]`),En(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(o=>{return`${(u=o).field.canonicalString()} (${u.dir})`;var u}).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(o=>No(o)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(o=>No(o)).join(",")),`Target(${n})`}(go(i))}; limitType=${i.limitType})`}function sl(i,e){return e.isFoundDocument()&&function(n,o){const u=o.key.path;return null!==n.collectionGroup?o.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(u):Nt.isDocumentKey(n.path)?n.path.isEqual(u):n.path.isImmediateParentOf(u)}(i,e)&&function(n,o){for(const u of ja(n))if(!u.field.isKeyField()&&null===o.data.field(u.field))return!1;return!0}(i,e)&&function(n,o){for(const u of n.filters)if(!u.matches(o))return!1;return!0}(i,e)&&(o=e,!((n=i).startAt&&!function(u,l,f){const T=Ee(u,l,f);return u.inclusive?T<=0:T<0}(n.startAt,ja(n),o)||n.endAt&&!function(u,l,f){const T=Ee(u,l,f);return u.inclusive?T>=0:T>0}(n.endAt,ja(n),o)));var n,o}function Wh(i){return(e,n)=>{let o=!1;for(const u of ja(i)){const l=Ac(u,e,n);if(0!==l)return l;o=o||u.field.isKeyField()}return 0}}function Ac(i,e,n){const o=i.field.isKeyField()?Nt.comparator(e.key,n.key):function(u,l,f){const T=l.data.field(u),O=f.data.field(u);return null!==T&&null!==O?Va(T,O):Je()}(i.field,e,n);switch(i.dir){case"asc":return o;case"desc":return-1*o;default:return Je()}}class zo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),o=this.inner[n];if(void 0!==o)for(const[u,l]of o)if(this.equalsFn(u,e))return l}has(e){return void 0!==this.get(e)}set(e,n){const o=this.mapKeyFn(e),u=this.inner[o];if(void 0===u)return this.inner[o]=[[e,n]],void this.innerSize++;for(let l=0;l<u.length;l++)if(this.equalsFn(u[l][0],e))return void(u[l]=[e,n]);u.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),o=this.inner[n];if(void 0===o)return!1;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return 1===o.length?delete this.inner[n]:o.splice(u,1),this.innerSize--,!0;return!1}forEach(e){Ja(this.inner,(n,o)=>{for(const[u,l]of o)e(u,l)})}isEmpty(){return _c(this.inner)}size(){return this.innerSize}}const fp=new hi(Nt.comparator);function Wo(){return fp}const zd=new hi(Nt.comparator);function ol(...i){let e=zd;for(const n of i)e=e.insert(n.key,n);return e}function pm(i){let e=zd;return i.forEach((n,o)=>e=e.insert(n,o.overlayedDocument)),e}function $a(){return Gl()}function pp(){return Gl()}function Gl(){return new zo(i=>i.toString(),(i,e)=>i.isEqual(e))}const Wd=new hi(Nt.comparator),gp=new qr(Nt.comparator);function tr(...i){let e=gp;for(const n of i)e=e.add(n);return e}const Gh=new qr(Qt);function Kh(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:yr(e)?"-0":e}}function gm(i){return{integerValue:""+i}}function qh(i,e){return function ar(i){return"number"==typeof i&&Number.isInteger(i)&&!yr(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}(e)?gm(e):Kh(i,e)}class Gd{constructor(){this._=void 0}}function Qh(i,e,n){return i instanceof Qu?function(o,u){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&ca(u)&&(u=$u(u)),u&&(l.fields.__previous_value__=u),{mapValue:l}}(n,e):i instanceof al?ym(i,e):i instanceof ul?vm(i,e):function(o,u){const l=mm(o,u),f=yp(l)+yp(o.gt);return eu(l)&&eu(o.gt)?gm(f):Kh(o.serializer,f)}(i,e)}function Av(i,e,n){return i instanceof al?ym(i,e):i instanceof ul?vm(i,e):n}function mm(i,e){return i instanceof Kl?eu(n=e)||(o=n)&&"doubleValue"in o?e:{integerValue:0}:null;var o,n}class Qu extends Gd{}class al extends Gd{constructor(e){super(),this.elements=e}}function ym(i,e){const n=ql(e);for(const o of i.elements)n.some(u=>po(u,o))||n.push(o);return{arrayValue:{values:n}}}class ul extends Gd{constructor(e){super(),this.elements=e}}function vm(i,e){let n=ql(e);for(const o of i.elements)n=n.filter(u=>!po(u,o));return{arrayValue:{values:n}}}class Kl extends Gd{constructor(e,n){super(),this.serializer=e,this.gt=n}}function yp(i){return jr(i.integerValue||i.doubleValue)}function ql(i){return tu(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class _p{constructor(e,n){this.version=e,this.transformResults=n}}class Wi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Wi}static exists(e){return new Wi(void 0,e)}static updateTime(e){return new Wi(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function mu(i,e){return void 0!==i.updateTime?e.isFoundDocument()&&e.version.isEqual(i.updateTime):void 0===i.exists||i.exists===e.isFoundDocument()}class Ql{}function Xh(i,e){if(!i.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return i.isNoDocument()?new ll(i.key,Wi.none()):new cl(i.key,i.data,Wi.none());{const n=i.data,o=D.empty();let u=new qr(Fi.comparator);for(let l of e.fields)if(!u.has(l)){let f=n.field(l);null===f&&l.length>1&&(l=l.popLast(),f=n.field(l)),null===f?o.delete(l):o.set(l,f),u=u.add(l)}return new yu(i.key,o,new Us(u.toArray()),Wi.none())}}function Kd(i,e,n){i instanceof cl?function(o,u,l){const f=o.value.clone(),T=Xl(o.fieldTransforms,u,l.transformResults);f.setAll(T),u.convertToFoundDocument(l.version,f).setHasCommittedMutations()}(i,e,n):i instanceof yu?function(o,u,l){if(!mu(o.precondition,u))return void u.convertToUnknownDocument(l.version);const f=Xl(o.fieldTransforms,u,l.transformResults),T=u.data;T.setAll(Yh(o)),T.setAll(f),u.convertToFoundDocument(l.version,T).setHasCommittedMutations()}(i,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function Yu(i,e,n,o){return i instanceof cl?function(u,l,f,T){if(!mu(u.precondition,l))return f;const O=u.value.clone(),V=wp(u.fieldTransforms,T,l);return O.setAll(V),l.convertToFoundDocument(l.version,O).setHasLocalMutations(),null}(i,e,n,o):i instanceof yu?function(u,l,f,T){if(!mu(u.precondition,l))return f;const O=wp(u.fieldTransforms,T,l),V=l.data;return V.setAll(Yh(u)),V.setAll(O),l.convertToFoundDocument(l.version,V).setHasLocalMutations(),null===f?null:f.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(X=>X.field))}(i,e,n,o):(f=n,mu(i.precondition,l=e)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):f);var l,f}function qd(i,e){let n=null;for(const o of i.fieldTransforms){const u=e.data.field(o.field),l=mm(o.transform,u||null);null!=l&&(null===n&&(n=D.empty()),n.set(o.field,l))}return n||null}function Ep(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&(o=e.fieldTransforms,!!(void 0===(n=i.fieldTransforms)&&void 0===o||n&&o&&Fa(n,o,(u,l)=>function vp(i,e){return i.field.isEqual(e.field)&&(o=e.transform,(n=i.transform)instanceof al&&o instanceof al||n instanceof ul&&o instanceof ul?Fa(n.elements,o.elements,po):n instanceof Kl&&o instanceof Kl?po(n.gt,o.gt):n instanceof Qu&&o instanceof Qu);var n,o}(u,l))))&&(0===i.type?i.value.isEqual(e.value):1!==i.type||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask));var n,o}class cl extends Ql{constructor(e,n,o,u=[]){super(),this.key=e,this.value=n,this.precondition=o,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class yu extends Ql{constructor(e,n,o,u,l=[]){super(),this.key=e,this.data=n,this.fieldMask=o,this.precondition=u,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function Yh(i){const e=new Map;return i.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const o=i.data.field(n);e.set(n,o)}}),e}function Xl(i,e,n){const o=new Map;ht(i.length===n.length);for(let u=0;u<n.length;u++){const l=i[u],f=l.transform,T=e.data.field(l.field);o.set(l.field,Av(f,T,n[u]))}return o}function wp(i,e,n){const o=new Map;for(const u of i){const l=u.transform,f=n.data.field(u.field);o.set(u.field,Qh(l,f,e))}return o}class ll extends Ql{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Jh extends Ql{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Qd{constructor(e,n,o,u){this.batchId=e,this.localWriteTime=n,this.baseMutations=o,this.mutations=u}applyToRemoteDocument(e,n){const o=n.mutationResults;for(let u=0;u<this.mutations.length;u++){const l=this.mutations[u];l.key.isEqual(e.key)&&Kd(l,e,o[u])}}applyToLocalView(e,n){for(const o of this.baseMutations)o.key.isEqual(e.key)&&(n=Yu(o,e,n,this.localWriteTime));for(const o of this.mutations)o.key.isEqual(e.key)&&(n=Yu(o,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const o=pp();return this.mutations.forEach(u=>{const l=e.get(u.key),f=l.overlayedDocument;let T=this.applyToLocalView(f,l.mutatedFields);T=n.has(u.key)?null:T;const O=Xh(f,T);null!==O&&o.set(u.key,O),f.isValidDocument()||f.convertToNoDocument(Xt.min())}),o}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),tr())}isEqual(e){return this.batchId===e.batchId&&Fa(this.mutations,e.mutations,(n,o)=>Ep(n,o))&&Fa(this.baseMutations,e.baseMutations,(n,o)=>Ep(n,o))}}class Xd{constructor(e,n,o,u){this.batch=e,this.commitVersion=n,this.mutationResults=o,this.docVersions=u}static from(e,n,o){ht(e.mutations.length===o.length);let u=Wd;const l=e.mutations;for(let f=0;f<l.length;f++)u=u.insert(l[f].key,o[f].version);return new Xd(e,n,o,u)}}class Zh{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class ef{constructor(e,n){this.count=e,this.unchangedNames=n}}var _s,wr;function dl(i){if(void 0===i)return sn("GRPC error has no .code"),xe.UNKNOWN;switch(i){case _s.OK:return xe.OK;case _s.CANCELLED:return xe.CANCELLED;case _s.UNKNOWN:return xe.UNKNOWN;case _s.DEADLINE_EXCEEDED:return xe.DEADLINE_EXCEEDED;case _s.RESOURCE_EXHAUSTED:return xe.RESOURCE_EXHAUSTED;case _s.INTERNAL:return xe.INTERNAL;case _s.UNAVAILABLE:return xe.UNAVAILABLE;case _s.UNAUTHENTICATED:return xe.UNAUTHENTICATED;case _s.INVALID_ARGUMENT:return xe.INVALID_ARGUMENT;case _s.NOT_FOUND:return xe.NOT_FOUND;case _s.ALREADY_EXISTS:return xe.ALREADY_EXISTS;case _s.PERMISSION_DENIED:return xe.PERMISSION_DENIED;case _s.FAILED_PRECONDITION:return xe.FAILED_PRECONDITION;case _s.ABORTED:return xe.ABORTED;case _s.OUT_OF_RANGE:return xe.OUT_OF_RANGE;case _s.UNIMPLEMENTED:return xe.UNIMPLEMENTED;case _s.DATA_LOSS:return xe.DATA_LOSS;default:return Je()}}(wr=_s||(_s={}))[wr.OK=0]="OK",wr[wr.CANCELLED=1]="CANCELLED",wr[wr.UNKNOWN=2]="UNKNOWN",wr[wr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",wr[wr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",wr[wr.NOT_FOUND=5]="NOT_FOUND",wr[wr.ALREADY_EXISTS=6]="ALREADY_EXISTS",wr[wr.PERMISSION_DENIED=7]="PERMISSION_DENIED",wr[wr.UNAUTHENTICATED=16]="UNAUTHENTICATED",wr[wr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",wr[wr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",wr[wr.ABORTED=10]="ABORTED",wr[wr.OUT_OF_RANGE=11]="OUT_OF_RANGE",wr[wr.UNIMPLEMENTED=12]="UNIMPLEMENTED",wr[wr.INTERNAL=13]="INTERNAL",wr[wr.UNAVAILABLE=14]="UNAVAILABLE",wr[wr.DATA_LOSS=15]="DATA_LOSS";class Yd{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Yl}static getOrCreateInstance(){return null===Yl&&(Yl=new Yd),Yl}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let Yl=null;const h=new xr([4294967295,4294967295],0);function p(i){const e=function I(){return new TextEncoder}().encode(i),n=new Pr;return n.update(e),new Uint8Array(n.digest())}function C(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),o=e.getUint32(4,!0),u=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new xr([n,o],0),new xr([u,l],0)]}class ${constructor(e,n,o){if(this.bitmap=e,this.padding=n,this.hashCount=o,n<0||n>=8)throw new Z(`Invalid padding: ${n}`);if(o<0)throw new Z(`Invalid hash count: ${o}`);if(e.length>0&&0===this.hashCount)throw new Z(`Invalid hash count: ${o}`);if(0===e.length&&0!==n)throw new Z(`Invalid padding when bitmap length is 0: ${n}`);this.It=8*e.length-n,this.Tt=xr.fromNumber(this.It)}Et(e,n,o){let u=e.add(n.multiply(xr.fromNumber(o)));return 1===u.compare(h)&&(u=new xr([u.getBits(0),u.getBits(1)],0)),u.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const n=p(e),[o,u]=C(n);for(let l=0;l<this.hashCount;l++){const f=this.Et(o,u,l);if(!this.At(f))return!1}return!0}static create(e,n,o){const u=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),f=new $(l,u,n);return o.forEach(T=>f.insert(T)),f}insert(e){if(0===this.It)return;const n=p(e),[o,u]=C(n);for(let l=0;l<this.hashCount;l++){const f=this.Et(o,u,l);this.Rt(f)}}Rt(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class Z extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Te{constructor(e,n,o,u,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=o,this.documentUpdates=u,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,o){const u=new Map;return u.set(e,Xe.createSynthesizedTargetChangeForCurrentChange(e,n,o)),new Te(Xt.min(),u,new hi(Qt),Wo(),tr())}}class Xe{constructor(e,n,o,u,l){this.resumeToken=e,this.current=n,this.addedDocuments=o,this.modifiedDocuments=u,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,o){return new Xe(o,n,tr(),tr(),tr())}}class wt{constructor(e,n,o,u){this.Pt=e,this.removedTargetIds=n,this.key=o,this.bt=u}}class zt{constructor(e,n){this.targetId=e,this.Vt=n}}class An{constructor(e,n,o=ys.EMPTY_BYTE_STRING,u=null){this.state=e,this.targetIds=n,this.resumeToken=o,this.cause=u}}class Dn{constructor(){this.St=0,this.Dt=vu(),this.Ct=ys.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=tr(),n=tr(),o=tr();return this.Dt.forEach((u,l)=>{switch(l){case 0:e=e.add(u);break;case 2:n=n.add(u);break;case 1:o=o.add(u);break;default:Je()}}),new Xe(this.Ct,this.xt,e,n,o)}Ft(){this.Nt=!1,this.Dt=vu()}Bt(e,n){this.Nt=!0,this.Dt=this.Dt.insert(e,n)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class Di{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=Wo(),this.zt=Aa(),this.Wt=new hi(Qt)}Ht(e){for(const n of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(n,e.bt):this.Yt(n,e.key,e.bt);for(const n of e.removedTargetIds)this.Yt(n,e.key,e.bt)}Xt(e){this.forEachTarget(e,n=>{const o=this.Zt(n);switch(e.state){case 0:this.te(n)&&o.$t(e.resumeToken);break;case 1:o.Ut(),o.kt||o.Ft(),o.$t(e.resumeToken);break;case 2:o.Ut(),o.kt||this.removeTarget(n);break;case 3:this.te(n)&&(o.Kt(),o.$t(e.resumeToken));break;case 4:this.te(n)&&(this.ee(n),o.$t(e.resumeToken));break;default:Je()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qt.forEach((o,u)=>{this.te(u)&&n(u)})}ne(e){var n;const o=e.targetId,u=e.Vt.count,l=this.se(o);if(l){const f=l.target;if(jd(f))if(0===u){const T=new Nt(f.path);this.Yt(o,T,U.newNoDocument(T,Xt.min()))}else ht(1===u);else{const T=this.ie(o);if(T!==u){const O=this.re(e,T);0!==O&&(this.ee(o),this.Wt=this.Wt.insert(o,2===O?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(n=Yd.instance)||void 0===n||n.notifyOnExistenceFilterMismatch(function(V,X,de){var je,nt,bt,Wt,Yt,sr;const $r={localCacheCount:X,existenceFilterCount:de.count},fr=de.unchangedNames;return fr&&($r.bloomFilter={applied:0===V,hashCount:null!==(je=fr?.hashCount)&&void 0!==je?je:0,bitmapLength:null!==(Wt=null===(bt=null===(nt=fr?.bits)||void 0===nt?void 0:nt.bitmap)||void 0===bt?void 0:bt.length)&&void 0!==Wt?Wt:0,padding:null!==(sr=null===(Yt=fr?.bits)||void 0===Yt?void 0:Yt.padding)&&void 0!==sr?sr:0}),$r}(O,T,e.Vt))}}}}re(e,n){const{unchangedNames:o,count:u}=e.Vt;if(!o||!o.bits)return 1;const{bits:{bitmap:l="",padding:f=0},hashCount:T=0}=o;let O,V;try{O=ua(l).toUint8Array()}catch(X){if(X instanceof ju)return cs("Decoding the base64 bloom filter in existence filter failed ("+X.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw X}try{V=new $(O,f,T)}catch(X){return cs(X instanceof Z?"BloomFilter error: ":"Applying bloom filter failed: ",X),1}return 0===V.It?1:u!==n-this.oe(e.targetId,V)?2:0}oe(e,n){const o=this.Gt.getRemoteKeysForTarget(e);let u=0;return o.forEach(l=>{const f=this.Gt.ue(),T=`projects/${f.projectId}/databases/${f.database}/documents/${l.path.canonicalString()}`;n.vt(T)||(this.Yt(e,l,null),u++)}),u}ce(e){const n=new Map;this.Qt.forEach((l,f)=>{const T=this.se(f);if(T){if(l.current&&jd(T.target)){const O=new Nt(T.target.path);null!==this.jt.get(O)||this.ae(f,O)||this.Yt(f,O,U.newNoDocument(O,e))}l.Mt&&(n.set(f,l.Ot()),l.Ft())}});let o=tr();this.zt.forEach((l,f)=>{let T=!0;f.forEachWhile(O=>{const V=this.se(O);return!V||"TargetPurposeLimboResolution"===V.purpose||(T=!1,!1)}),T&&(o=o.add(l))}),this.jt.forEach((l,f)=>f.setReadTime(e));const u=new Te(e,n,this.Wt,this.jt,o);return this.jt=Wo(),this.zt=Aa(),this.Wt=new hi(Qt),u}Jt(e,n){if(!this.te(e))return;const o=this.ae(e,n.key)?2:0;this.Zt(e).Bt(n.key,o),this.jt=this.jt.insert(n.key,n),this.zt=this.zt.insert(n.key,this.he(n.key).add(e))}Yt(e,n,o){if(!this.te(e))return;const u=this.Zt(e);this.ae(e,n)?u.Bt(n,1):u.Lt(n),this.zt=this.zt.insert(n,this.he(n).delete(e)),o&&(this.jt=this.jt.insert(n,o))}removeTarget(e){this.Qt.delete(e)}ie(e){const n=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let n=this.Qt.get(e);return n||(n=new Dn,this.Qt.set(e,n)),n}he(e){let n=this.zt.get(e);return n||(n=new qr(Qt),this.zt=this.zt.insert(e,n)),n}te(e){const n=null!==this.se(e);return n||ft("WatchChangeAggregator","Detected inactive target",e),n}se(e){const n=this.Qt.get(e);return n&&n.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new Dn),this.Gt.getRemoteKeysForTarget(e).forEach(n=>{this.Yt(e,n,null)})}ae(e,n){return this.Gt.getRemoteKeysForTarget(e).has(n)}}function Aa(){return new hi(Nt.comparator)}function vu(){return new hi(Nt.comparator)}const Ju={asc:"ASCENDING",desc:"DESCENDING"},Jl={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Zu={and:"AND",or:"OR"};class hl{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Mc(i,e){return i.useProto3Json||En(e)?e:{value:e}}function ou(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Rc(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function Jd(i,e){return ou(i,e.toTimestamp())}function os(i){return ht(!!i),Xt.fromTimestamp(function(e){const n=jo(e);return new wi(n.seconds,n.nanos)}(i))}function Zd(i,e){return(n=i,new hr(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}function Zl(i){const e=hr.fromString(i);return ht(sf(e)),e}function fl(i,e){return Zd(i.databaseId,e.path)}function _u(i,e){const n=Zl(e);if(n.get(1)!==i.databaseId.projectId)throw new ot(xe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new ot(xe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new Nt(nf(n))}function tf(i,e){return Zd(i.databaseId,e)}function pl(i){return new hr(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function nf(i){return ht(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function _m(i,e,n){return{name:fl(i,e),fields:n.value.mapValue.fields}}function Dm(i,e){return{documents:[tf(i,e.path)]}}function Tm(i,e){const n={structuredQuery:{}},o=e.path;null!==e.collectionGroup?(n.parent=tf(i,o),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=tf(i,o.popLast()),n.structuredQuery.from=[{collectionId:o.lastSegment()}]);const u=function(O){if(0!==O.length)return ed(jt.create(O,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const l=function(O){if(0!==O.length)return O.map(V=>{return{field:ec((X=V).field),direction:Cm(X.dir)};var X})}(e.orderBy);l&&(n.structuredQuery.orderBy=l);const f=Mc(i,e.limit);var T,O;return null!==f&&(n.structuredQuery.limit=f),e.startAt&&(n.structuredQuery.startAt={before:(T=e.startAt).inclusive,values:T.position}),e.endAt&&(n.structuredQuery.endAt={before:!(O=e.endAt).inclusive,values:O.position}),n}function th(i){let e=function eh(i){const e=Zl(i);return 4===e.length?hr.emptyPath():nf(e)}(i.parent);const n=i.structuredQuery,o=n.from?n.from.length:0;let u=null;if(o>0){ht(1===o);const X=n.from[0];X.allDescendants?u=X.collectionId:e=e.child(X.collectionId)}let l=[];n.where&&(l=function(X){const de=Dp(X);return de instanceof jt&&fs(de)?de.getFilters():[de]}(n.where));let f=[];n.orderBy&&(f=n.orderBy.map(X=>{return new Ze(tc((de=X).field),function(je){switch(je){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(de.direction));var de}));let T=null;n.limit&&(T=function(X){let de;return de="object"==typeof X?X.value:X,En(de)?null:de}(n.limit));let O=null;var X;n.startAt&&(O=new ne((X=n.startAt).values||[],!!X.before));let V=null;return n.endAt&&(V=function(X){return new ne(X.values||[],!X.before)}(n.endAt)),function $d(i,e,n,o,u,l,f,T){return new su(i,e,n,o,u,l,f,T)}(e,u,f,l,T,"F",O,V)}function Dp(i){return void 0!==i.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=tc(e.unaryFilter.field);return It.create(n,"==",{doubleValue:NaN});case"IS_NULL":const o=tc(e.unaryFilter.field);return It.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=tc(e.unaryFilter.field);return It.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=tc(e.unaryFilter.field);return It.create(l,"!=",{nullValue:"NULL_VALUE"});default:return Je()}}(i):void 0!==i.fieldFilter?It.create(tc((e=i).fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Je()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==i.compositeFilter?function(e){return jt.create(e.compositeFilter.filters.map(n=>Dp(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return Je()}}(e.compositeFilter.op))}(i):Je();var e}function Cm(i){return Ju[i]}function bm(i){return Jl[i]}function Tp(i){return Zu[i]}function ec(i){return{fieldPath:i.canonicalString()}}function tc(i){return Fi.fromServerFormat(i.fieldPath)}function ed(i){return i instanceof It?function(e){if("=="===e.op){if($l(e.value))return{unaryFilter:{field:ec(e.field),op:"IS_NAN"}};if(zi(e.value))return{unaryFilter:{field:ec(e.field),op:"IS_NULL"}}}else if("!="===e.op){if($l(e.value))return{unaryFilter:{field:ec(e.field),op:"IS_NOT_NAN"}};if(zi(e.value))return{unaryFilter:{field:ec(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ec(e.field),op:bm(e.op),value:e.value}}}(i):i instanceof jt?function(e){const n=e.getFilters().map(o=>ed(o));return 1===n.length?n[0]:{compositeFilter:{op:Tp(e.op),filters:n}}}(i):Je()}function Sm(i){const e=[];return i.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function sf(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}class Ha{constructor(e,n,o,u,l=Xt.min(),f=Xt.min(),T=ys.EMPTY_BYTE_STRING,O=null){this.target=e,this.targetId=n,this.purpose=o,this.sequenceNumber=u,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=T,this.expectedCount=O}withSequenceNumber(e){return new Ha(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ha(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ha(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ha(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Cp{constructor(e){this.fe=e}}function uf(i){const e=th({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?zl(e,e.limit,"L"):e}class _l{constructor(){}_e(e,n){this.me(e,n),n.ge()}me(e,n){if("nullValue"in e)this.ye(n,5);else if("booleanValue"in e)this.ye(n,10),n.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(n,15),n.pe(jr(e.integerValue));else if("doubleValue"in e){const o=jr(e.doubleValue);isNaN(o)?this.ye(n,13):(this.ye(n,15),yr(o)?n.pe(0):n.pe(o))}else if("timestampValue"in e){const o=e.timestampValue;this.ye(n,20),"string"==typeof o?n.Ie(o):(n.Ie(`${o.seconds||""}`),n.pe(o.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,n),this.Ee(n);else if("bytesValue"in e)this.ye(n,30),n.Ae(ua(e.bytesValue)),this.Ee(n);else if("referenceValue"in e)this.ve(e.referenceValue,n);else if("geoPointValue"in e){const o=e.geoPointValue;this.ye(n,45),n.pe(o.latitude||0),n.pe(o.longitude||0)}else"mapValue"in e?wc(e)?this.ye(n,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,n),this.Ee(n)):"arrayValue"in e?(this.Pe(e.arrayValue,n),this.Ee(n)):Je()}Te(e,n){this.ye(n,25),this.be(e,n)}be(e,n){n.Ie(e)}Re(e,n){const o=e.fields||{};this.ye(n,55);for(const u of Object.keys(o))this.Te(u,n),this.me(o[u],n)}Pe(e,n){const o=e.values||[];this.ye(n,50);for(const u of o)this.me(u,n)}ve(e,n){this.ye(n,37),Nt.fromName(e).path.forEach(o=>{this.ye(n,60),this.be(o,n)})}ye(e,n){e.pe(n)}Ee(e){e.pe(2)}}_l.Ve=new _l;class Ov{constructor(){this.rn=new hf}addToCollectionParentIndex(e,n){return this.rn.add(n),Be.resolve()}getCollectionParents(e,n){return Be.resolve(this.rn.getEntries(n))}addFieldIndex(e,n){return Be.resolve()}deleteFieldIndex(e,n){return Be.resolve()}getDocumentsMatchingTarget(e,n){return Be.resolve(null)}getIndexType(e,n){return Be.resolve(0)}getFieldIndexes(e,n){return Be.resolve([])}getNextCollectionGroupToUpdate(e){return Be.resolve(null)}getMinOffset(e,n){return Be.resolve(Cs.min())}getMinOffsetFromCollectionGroup(e,n){return Be.resolve(Cs.min())}updateCollectionGroup(e,n,o){return Be.resolve()}updateIndexEntries(e,n){return Be.resolve()}}class hf{constructor(){this.index={}}add(e){const n=e.lastSegment(),o=e.popLast(),u=this.index[n]||new qr(hr.comparator),l=!u.has(o);return this.index[n]=u.add(o),l}has(e){const n=e.lastSegment(),o=e.popLast(),u=this.index[n];return u&&u.has(o)}getEntries(e){return(this.index[e]||new qr(hr.comparator)).toArray()}}new Uint8Array(0);class mo{constructor(e,n,o){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=o}static withCacheSize(e){return new mo(e,mo.DEFAULT_COLLECTION_PERCENTILE,mo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}mo.DEFAULT_COLLECTION_PERCENTILE=10,mo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,mo.DEFAULT=new mo(41943040,mo.DEFAULT_COLLECTION_PERCENTILE,mo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),mo.DISABLED=new mo(-1,0,0);class od{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new od(0)}static Mn(){return new od(-1)}}class jm{constructor(){this.changes=new zo(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,U.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const o=this.changes.get(n);return void 0!==o?Be.resolve(o):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class KE{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class Bv{constructor(e,n,o,u){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=o,this.indexManager=u}getDocument(e,n){let o=null;return this.documentOverlayCache.getOverlay(e,n).next(u=>(o=u,this.remoteDocumentCache.getEntry(e,n))).next(u=>(null!==o&&Yu(o.mutation,u,Us.empty(),wi.now()),u))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(o=>this.getLocalViewOfDocuments(e,o,tr()).next(()=>o))}getLocalViewOfDocuments(e,n,o=tr()){const u=$a();return this.populateOverlays(e,u,n).next(()=>this.computeViews(e,n,u,o).next(l=>{let f=ol();return l.forEach((T,O)=>{f=f.insert(T,O.overlayedDocument)}),f}))}getOverlayedDocuments(e,n){const o=$a();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,tr()))}populateOverlays(e,n,o){const u=[];return o.forEach(l=>{n.has(l)||u.push(l)}),this.documentOverlayCache.getOverlays(e,u).next(l=>{l.forEach((f,T)=>{n.set(f,T)})})}computeViews(e,n,o,u){let l=Wo();const f=Gl(),T=Gl();return n.forEach((O,V)=>{const X=o.get(V.key);u.has(V.key)&&(void 0===X||X.mutation instanceof yu)?l=l.insert(V.key,V):void 0!==X?(f.set(V.key,X.mutation.getFieldMask()),Yu(X.mutation,V,X.mutation.getFieldMask(),wi.now())):f.set(V.key,Us.empty())}),this.recalculateAndSaveOverlays(e,l).next(O=>(O.forEach((V,X)=>f.set(V,X)),n.forEach((V,X)=>{var de;return T.set(V,new KE(X,null!==(de=f.get(V))&&void 0!==de?de:null))}),T))}recalculateAndSaveOverlays(e,n){const o=Gl();let u=new hi((f,T)=>f-T),l=tr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(f=>{for(const T of f)T.keys().forEach(O=>{const V=n.get(O);if(null===V)return;let X=o.get(O)||Us.empty();X=T.applyToLocalView(V,X),o.set(O,X);const de=(u.get(T.batchId)||tr()).add(O);u=u.insert(T.batchId,de)})}).next(()=>{const f=[],T=u.getReverseIterator();for(;T.hasNext();){const O=T.getNext(),V=O.key,X=O.value,de=pp();X.forEach(je=>{if(!l.has(je)){const nt=Xh(n.get(je),o.get(je));null!==nt&&de.set(je,nt),l=l.add(je)}}),f.push(this.documentOverlayCache.saveOverlays(e,V,de))}return Be.waitFor(f)}).next(()=>o)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(o=>this.recalculateAndSaveOverlays(e,o))}getDocumentsMatchingQuery(e,n,o){return Nt.isDocumentKey((u=n).path)&&null===u.collectionGroup&&0===u.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):Hd(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,o):this.getDocumentsMatchingCollectionQuery(e,n,o);var u}getNextDocuments(e,n,o,u){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,o,u).next(l=>{const f=u-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,o.largestBatchId,u-l.size):Be.resolve($a());let T=-1,O=l;return f.next(V=>Be.forEach(V,(X,de)=>(T<de.largestBatchId&&(T=de.largestBatchId),l.get(X)?Be.resolve():this.remoteDocumentCache.getEntry(e,X).next(je=>{O=O.insert(X,je)}))).next(()=>this.populateOverlays(e,V,l)).next(()=>this.computeViews(e,O,V,tr())).next(X=>({batchId:T,changes:pm(X)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Nt(n)).next(o=>{let u=ol();return o.isFoundDocument()&&(u=u.insert(o.key,o)),u})}getDocumentsMatchingCollectionGroupQuery(e,n,o){const u=n.collectionGroup;let l=ol();return this.indexManager.getCollectionParents(e,u).next(f=>Be.forEach(f,T=>{const O=(V=n,X=T.child(u),new su(X,null,V.explicitOrderBy.slice(),V.filters.slice(),V.limit,V.limitType,V.startAt,V.endAt));var V,X;return this.getDocumentsMatchingCollectionQuery(e,O,o).next(V=>{V.forEach((X,de)=>{l=l.insert(X,de)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,n,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,o.largestBatchId).next(l=>(u=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,o,u))).next(l=>{u.forEach((T,O)=>{const V=O.getKey();null===l.get(V)&&(l=l.insert(V,U.newInvalidDocument(V)))});let f=ol();return l.forEach((T,O)=>{const V=u.get(T);void 0!==V&&Yu(V.mutation,O,Us.empty(),wi.now()),sl(n,O)&&(f=f.insert(T,O))}),f})}}class ah{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,n){return Be.resolve(this.cs.get(n))}saveBundleMetadata(e,n){var o;return this.cs.set(n.id,{id:(o=n).id,version:o.version,createTime:os(o.createTime)}),Be.resolve()}getNamedQuery(e,n){return Be.resolve(this.hs.get(n))}saveNamedQuery(e,n){return this.hs.set(n.name,{name:(o=n).name,query:uf(o.bundledQuery),readTime:os(o.readTime)}),Be.resolve();var o}}class uh{constructor(){this.overlays=new hi(Nt.comparator),this.ls=new Map}getOverlay(e,n){return Be.resolve(this.overlays.get(n))}getOverlays(e,n){const o=$a();return Be.forEach(n,u=>this.getOverlay(e,u).next(l=>{null!==l&&o.set(u,l)})).next(()=>o)}saveOverlays(e,n,o){return o.forEach((u,l)=>{this.we(e,n,l)}),Be.resolve()}removeOverlaysForBatchId(e,n,o){const u=this.ls.get(o);return void 0!==u&&(u.forEach(l=>this.overlays=this.overlays.remove(l)),this.ls.delete(o)),Be.resolve()}getOverlaysForCollection(e,n,o){const u=$a(),l=n.length+1,f=new Nt(n.child("")),T=this.overlays.getIteratorFrom(f);for(;T.hasNext();){const O=T.getNext().value,V=O.getKey();if(!n.isPrefixOf(V.path))break;V.path.length===l&&O.largestBatchId>o&&u.set(O.getKey(),O)}return Be.resolve(u)}getOverlaysForCollectionGroup(e,n,o,u){let l=new hi((V,X)=>V-X);const f=this.overlays.getIterator();for(;f.hasNext();){const V=f.getNext().value;if(V.getKey().getCollectionGroup()===n&&V.largestBatchId>o){let X=l.get(V.largestBatchId);null===X&&(X=$a(),l=l.insert(V.largestBatchId,X)),X.set(V.getKey(),V)}}const T=$a(),O=l.getIterator();for(;O.hasNext()&&(O.getNext().value.forEach((V,X)=>T.set(V,X)),!(T.size()>=u)););return Be.resolve(T)}we(e,n,o){const u=this.overlays.get(o.key);if(null!==u){const f=this.ls.get(u.largestBatchId).delete(o.key);this.ls.set(u.largestBatchId,f)}this.overlays=this.overlays.insert(o.key,new Zh(n,o));let l=this.ls.get(n);void 0===l&&(l=tr(),this.ls.set(n,l)),this.ls.set(n,l.add(o.key))}}class gf{constructor(){this.fs=new qr(Bs.ds),this.ws=new qr(Bs._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,n){const o=new Bs(e,n);this.fs=this.fs.add(o),this.ws=this.ws.add(o)}gs(e,n){e.forEach(o=>this.addReference(o,n))}removeReference(e,n){this.ys(new Bs(e,n))}ps(e,n){e.forEach(o=>this.removeReference(o,n))}Is(e){const n=new Nt(new hr([])),o=new Bs(n,e),u=new Bs(n,e+1),l=[];return this.ws.forEachInRange([o,u],f=>{this.ys(f),l.push(f.key)}),l}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const n=new Nt(new hr([])),o=new Bs(n,e),u=new Bs(n,e+1);let l=tr();return this.ws.forEachInRange([o,u],f=>{l=l.add(f.key)}),l}containsKey(e){const n=new Bs(e,0),o=this.fs.firstAfterOrEqual(n);return null!==o&&e.isEqual(o.key)}}class Bs{constructor(e,n){this.key=e,this.As=n}static ds(e,n){return Nt.comparator(e.key,n.key)||Qt(e.As,n.As)}static _s(e,n){return Qt(e.As,n.As)||Nt.comparator(e.key,n.key)}}class Fp{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new qr(Bs.ds)}checkEmpty(e){return Be.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,o,u){const l=this.vs;this.vs++;const f=new Qd(l,n,o,u);this.mutationQueue.push(f);for(const T of u)this.Rs=this.Rs.add(new Bs(T.key,l)),this.indexManager.addToCollectionParentIndex(e,T.key.path.popLast());return Be.resolve(f)}lookupMutationBatch(e,n){return Be.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(e,n){const u=this.bs(n+1),l=u<0?0:u;return Be.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return Be.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return Be.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const o=new Bs(n,0),u=new Bs(n,Number.POSITIVE_INFINITY),l=[];return this.Rs.forEachInRange([o,u],f=>{const T=this.Ps(f.As);l.push(T)}),Be.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let o=new qr(Qt);return n.forEach(u=>{const l=new Bs(u,0),f=new Bs(u,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([l,f],T=>{o=o.add(T.As)})}),Be.resolve(this.Vs(o))}getAllMutationBatchesAffectingQuery(e,n){const o=n.path,u=o.length+1;let l=o;Nt.isDocumentKey(l)||(l=l.child(""));const f=new Bs(new Nt(l),0);let T=new qr(Qt);return this.Rs.forEachWhile(O=>{const V=O.key.path;return!!o.isPrefixOf(V)&&(V.length===u&&(T=T.add(O.As)),!0)},f),Be.resolve(this.Vs(T))}Vs(e){const n=[];return e.forEach(o=>{const u=this.Ps(o);null!==u&&n.push(u)}),n}removeMutationBatch(e,n){ht(0===this.Ss(n.batchId,"removed")),this.mutationQueue.shift();let o=this.Rs;return Be.forEach(n.mutations,u=>{const l=new Bs(u.key,n.batchId);return o=o.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,u.key)}).next(()=>{this.Rs=o})}Cn(e){}containsKey(e,n){const o=new Bs(n,0),u=this.Rs.firstAfterOrEqual(o);return Be.resolve(n.isEqual(u&&u.key))}performConsistencyCheck(e){return Be.resolve()}Ss(e,n){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const n=this.bs(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class Up{constructor(e){this.Ds=e,this.docs=new hi(Nt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const o=n.key,u=this.docs.get(o),l=u?u.size:0,f=this.Ds(n);return this.docs=this.docs.insert(o,{document:n.mutableCopy(),size:f}),this.size+=f-l,this.indexManager.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const o=this.docs.get(n);return Be.resolve(o?o.document.mutableCopy():U.newInvalidDocument(n))}getEntries(e,n){let o=Wo();return n.forEach(u=>{const l=this.docs.get(u);o=o.insert(u,l?l.document.mutableCopy():U.newInvalidDocument(u))}),Be.resolve(o)}getDocumentsMatchingQuery(e,n,o,u){let l=Wo();const f=n.path,T=new Nt(f.child("")),O=this.docs.getIteratorFrom(T);for(;O.hasNext();){const{key:V,value:{document:X}}=O.getNext();if(!f.isPrefixOf(V.path))break;V.path.length>f.length+1||xu(Xa(X),o)<=0||(u.has(X.key)||sl(n,X))&&(l=l.insert(X.key,X.mutableCopy()))}return Be.resolve(l)}getAllFromCollectionGroup(e,n,o,u){Je()}Cs(e,n){return Be.forEach(this.docs,o=>n(o))}newChangeBuffer(e){return new jv(this)}getSize(e){return Be.resolve(this.size)}}class jv extends jm{constructor(e){super(),this.os=e}applyChanges(e){const n=[];return this.changes.forEach((o,u)=>{u.isValidDocument()?n.push(this.os.addEntry(e,u)):this.os.removeEntry(o)}),Be.waitFor(n)}getFromCache(e,n){return this.os.getEntry(e,n)}getAllFromCache(e,n){return this.os.getEntries(e,n)}}class Wm{constructor(e){this.persistence=e,this.xs=new zo(n=>Ba(n),Sa),this.lastRemoteSnapshotVersion=Xt.min(),this.highestTargetId=0,this.Ns=0,this.ks=new gf,this.targetCount=0,this.Ms=od.kn()}forEachTarget(e,n){return this.xs.forEach((o,u)=>n(u)),Be.resolve()}getLastRemoteSnapshotVersion(e){return Be.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Be.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),Be.resolve(this.highestTargetId)}setTargetsMetadata(e,n,o){return o&&(this.lastRemoteSnapshotVersion=o),n>this.Ns&&(this.Ns=n),Be.resolve()}Fn(e){this.xs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ms=new od(n),this.highestTargetId=n),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,n){return this.Fn(n),this.targetCount+=1,Be.resolve()}updateTargetData(e,n){return this.Fn(n),Be.resolve()}removeTargetData(e,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,Be.resolve()}removeTargets(e,n,o){let u=0;const l=[];return this.xs.forEach((f,T)=>{T.sequenceNumber<=n&&null===o.get(T.targetId)&&(this.xs.delete(f),l.push(this.removeMatchingKeysForTargetId(e,T.targetId)),u++)}),Be.waitFor(l).next(()=>u)}getTargetCount(e){return Be.resolve(this.targetCount)}getTargetData(e,n){const o=this.xs.get(n)||null;return Be.resolve(o)}addMatchingKeys(e,n,o){return this.ks.gs(n,o),Be.resolve()}removeMatchingKeys(e,n,o){this.ks.ps(n,o);const u=this.persistence.referenceDelegate,l=[];return u&&n.forEach(f=>{l.push(u.markPotentiallyOrphaned(e,f))}),Be.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this.ks.Is(n),Be.resolve()}getMatchingKeysForTargetId(e,n){const o=this.ks.Es(n);return Be.resolve(o)}containsKey(e,n){return Be.resolve(this.ks.containsKey(n))}}class mf{constructor(e,n){this.$s={},this.overlays={},this.Os=new Ct(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new Wm(this),this.indexManager=new Ov,this.remoteDocumentCache=new Up(o=>this.referenceDelegate.Ls(o)),this.serializer=new Cp(n),this.qs=new ah(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new uh,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let o=this.$s[e.toKey()];return o||(o=new Fp(n,this.referenceDelegate),this.$s[e.toKey()]=o),o}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,n,o){ft("MemoryPersistence","Starting transaction:",e);const u=new yf(this.Os.next());return this.referenceDelegate.Us(),o(u).next(l=>this.referenceDelegate.Ks(u).next(()=>l)).toPromise().then(l=>(u.raiseOnCommittedEvent(),l))}Gs(e,n){return Be.or(Object.values(this.$s).map(o=>()=>o.containsKey(e,n)))}}class yf extends gc{constructor(e){super(),this.currentSequenceNumber=e}}class Vp{constructor(e){this.persistence=e,this.Qs=new gf,this.js=null}static zs(e){return new Vp(e)}get Ws(){if(this.js)return this.js;throw Je()}addReference(e,n,o){return this.Qs.addReference(o,n),this.Ws.delete(o.toString()),Be.resolve()}removeReference(e,n,o){return this.Qs.removeReference(o,n),this.Ws.add(o.toString()),Be.resolve()}markPotentiallyOrphaned(e,n){return this.Ws.add(n.toString()),Be.resolve()}removeTarget(e,n){this.Qs.Is(n.targetId).forEach(u=>this.Ws.add(u.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,n.targetId).next(u=>{u.forEach(l=>this.Ws.add(l.toString()))}).next(()=>o.removeTargetData(e,n))}Us(){this.js=new Set}Ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Be.forEach(this.Ws,o=>{const u=Nt.fromPath(o);return this.Hs(e,u).next(l=>{l||n.removeEntry(u,Xt.min())})}).next(()=>(this.js=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hs(e,n).next(o=>{o?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(e){return 0}Hs(e,n){return Be.or([()=>Be.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gs(e,n)])}}class cd{constructor(e,n,o,u){this.targetId=e,this.fromCache=n,this.Fi=o,this.Bi=u}static Li(e,n){let o=tr(),u=tr();for(const l of n.docChanges)switch(l.type){case 0:o=o.add(l.doc.key);break;case 1:u=u.add(l.doc.key)}return new cd(e,n.fromCache,o,u)}}class Gm{constructor(){this.qi=!1}initialize(e,n){this.Ui=e,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(e,n,o,u){return this.Ki(e,n).next(l=>l||this.Gi(e,n,u,o)).next(l=>l||this.Qi(e,n))}Ki(e,n){if(zh(n))return Be.resolve(null);let o=go(n);return this.indexManager.getIndexType(e,o).next(u=>0===u?null:(null!==n.limit&&1===u&&(n=zl(n,null,"F"),o=go(n)),this.indexManager.getDocumentsMatchingTarget(e,o).next(l=>{const f=tr(...l);return this.Ui.getDocuments(e,f).next(T=>this.indexManager.getMinOffset(e,o).next(O=>{const V=this.ji(n,T);return this.zi(n,V,f,O.readTime)?this.Ki(e,zl(n,null,"F")):this.Wi(e,V,n,O)}))})))}Gi(e,n,o,u){return zh(n)||u.isEqual(Xt.min())?this.Qi(e,n):this.Ui.getDocuments(e,o).next(l=>{const f=this.ji(n,l);return this.zi(n,f,o,u)?this.Qi(e,n):(Ai()<=re.$b.DEBUG&&ft("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),qu(n)),this.Wi(e,f,n,function qs(i,e){const n=i.toTimestamp().seconds,o=i.toTimestamp().nanoseconds+1,u=Xt.fromTimestamp(1e9===o?new wi(n+1,0):new wi(n,o));return new Cs(u,Nt.empty(),e)}(u,-1)))})}ji(e,n){let o=new qr(Wh(e));return n.forEach((u,l)=>{sl(e,l)&&(o=o.add(l))}),o}zi(e,n,o,u){if(null===e.limit)return!1;if(o.size!==n.size)return!0;const l="F"===e.limitType?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(u)>0)}Qi(e,n){return Ai()<=re.$b.DEBUG&&ft("QueryEngine","Using full collection scan to execute query:",qu(n)),this.Ui.getDocumentsMatchingQuery(e,n,Cs.min())}Wi(e,n,o,u){return this.Ui.getDocumentsMatchingQuery(e,o,u).next(l=>(n.forEach(f=>{l=l.insert(f.key,f)}),l))}}class Bp{constructor(e,n,o,u){this.persistence=e,this.Hi=n,this.serializer=u,this.Ji=new hi(Qt),this.Yi=new zo(l=>Ba(l),Sa),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(o)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Bv(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function lu(i,e){return Lc.apply(this,arguments)}function Lc(){return Lc=(0,te.A)(function*(i,e){const n=gt(i);return yield n.persistence.runTransaction("Handle user change","readonly",o=>{let u;return n.mutationQueue.getAllMutationBatches(o).next(l=>(u=l,n.tr(e),n.mutationQueue.getAllMutationBatches(o))).next(l=>{const f=[],T=[];let O=tr();for(const V of u){f.push(V.batchId);for(const X of V.mutations)O=O.add(X.key)}for(const V of l){T.push(V.batchId);for(const X of V.mutations)O=O.add(X.key)}return n.localDocuments.getDocuments(o,O).next(V=>({er:V,removedBatchIds:f,addedBatchIds:T}))})})}),Lc.apply(this,arguments)}function Km(i){const e=gt(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Bs.getLastRemoteSnapshotVersion(n))}function ld(i,e){const n=gt(i);return n.persistence.runTransaction("Get next mutation batch","readonly",o=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(o,e)))}function hd(i,e,n){return Hp.apply(this,arguments)}function Hp(){return Hp=(0,te.A)(function*(i,e,n){const o=gt(i),u=o.Ji.get(e),l=n?"readwrite":"readwrite-primary";try{n||(yield o.persistence.runTransaction("Release target",l,f=>o.persistence.referenceDelegate.removeTarget(f,u)))}catch(f){if(!v(f))throw f;ft("LocalStore",`Failed to update sequence numbers for target ${e}: ${f}`)}o.Ji=o.Ji.remove(e),o.Yi.delete(u.target)}),Hp.apply(this,arguments)}function fd(i,e,n){const o=gt(i);let u=Xt.min(),l=tr();return o.persistence.runTransaction("Execute query","readonly",f=>function(T,O,V){const X=gt(T),de=X.Yi.get(V);return void 0!==de?Be.resolve(X.Ji.get(de)):X.Bs.getTargetData(O,V)}(o,f,go(e)).next(T=>{if(T)return u=T.lastLimboFreeSnapshotVersion,o.Bs.getMatchingKeysForTargetId(f,T.targetId).next(O=>{l=O})}).next(()=>o.Hi.getDocumentsMatchingQuery(f,e,n?u:Xt.min(),n?l:tr())).next(T=>(function Wp(i,e,n){let o=i.Xi.get(e)||Xt.min();n.forEach((u,l)=>{l.readTime.compareTo(o)>0&&(o=l.readTime)}),i.Xi.set(e,o)}(o,function Wl(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}(e),T),{documents:T,ir:l})))}class Fc{constructor(){this.activeTargetIds=function mp(){return Gh}()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class If{constructor(){this.Hr=new Fc,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,o){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,n,o){this.Jr[e]=n}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new Fc,Promise.resolve()}handleUserChange(e,n,o){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class ph{Yr(e){}shutdown(){}}class gh{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){ft("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){ft("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let nc=null;function mh(){return null===nc?nc=268435456+Math.round(2147483648*Math.random()):nc++,"0x"+nc.toString(16)}const qp={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Df{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const Ko="WebChannelConnection";class Qp extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,n,o,u,l){const f=mh(),T=this.To(e,n);ft("RestConnection",`Sending RPC '${e}' ${f}:`,T,o);const O={};return this.Eo(O,u,l),this.Ao(e,T,O,o).then(V=>(ft("RestConnection",`Received RPC '${e}' ${f}: `,V),V),V=>{throw cs("RestConnection",`RPC '${e}' ${f} failed with error: `,V,"url: ",T,"request:",o),V})}vo(e,n,o,u,l,f){return this.Io(e,n,o,u,l)}Eo(e,n,o){e["X-Goog-Api-Client"]="gl-js/ fire/"+er,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((u,l)=>e[l]=u),o&&o.headers.forEach((u,l)=>e[l]=u)}To(e,n){return`${this.mo}/v1/${n}:${qp[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,n,o,u){const l=mh();return new Promise((f,T)=>{const O=new bn;O.setWithCredentials(!0),O.listenOnce(Ft.COMPLETE,()=>{try{switch(O.getLastErrorCode()){case st.NO_ERROR:const X=O.getResponseJson();ft(Ko,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(X)),f(X);break;case st.TIMEOUT:ft(Ko,`RPC '${e}' ${l} timed out`),T(new ot(xe.DEADLINE_EXCEEDED,"Request time out"));break;case st.HTTP_ERROR:const de=O.getStatus();if(ft(Ko,`RPC '${e}' ${l} failed with status:`,de,"response text:",O.getResponseText()),de>0){let je=O.getResponseJson();Array.isArray(je)&&(je=je[0]);const nt=je?.error;if(nt&&nt.status&&nt.message){const bt=function(Wt){const Yt=Wt.toLowerCase().replace(/_/g,"-");return Object.values(xe).indexOf(Yt)>=0?Yt:xe.UNKNOWN}(nt.status);T(new ot(bt,nt.message))}else T(new ot(xe.UNKNOWN,"Server responded with status "+O.getStatus()))}else T(new ot(xe.UNAVAILABLE,"Connection failed."));break;default:Je()}}finally{ft(Ko,`RPC '${e}' ${l} completed.`)}});const V=JSON.stringify(u);ft(Ko,`RPC '${e}' ${l} sending request:`,u),O.send(n,"POST",V,o,15)})}Ro(e,n,o){const u=mh(),l=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=be(),T=Le(),O={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},V=this.longPollingOptions.timeoutSeconds;void 0!==V&&(O.longPollingTimeout=Math.round(1e3*V)),this.useFetchStreams&&(O.xmlHttpFactory=new Zt({})),this.Eo(O.initMessageHeaders,n,o),O.encodeInitMessageHeaders=!0;const X=l.join("");ft(Ko,`Creating RPC '${e}' stream ${u}: ${X}`,O);const de=f.createWebChannel(X,O);let je=!1,nt=!1;const bt=new Df({ro:Yt=>{nt?ft(Ko,`Not sending because RPC '${e}' stream ${u} is closed:`,Yt):(je||(ft(Ko,`Opening RPC '${e}' stream ${u} transport.`),de.open(),je=!0),ft(Ko,`RPC '${e}' stream ${u} sending:`,Yt),de.send(Yt))},oo:()=>de.close()}),Wt=(Yt,sr,$r)=>{Yt.listen(sr,fr=>{try{$r(fr)}catch($s){setTimeout(()=>{throw $s},0)}})};return Wt(de,kn.EventType.OPEN,()=>{nt||ft(Ko,`RPC '${e}' stream ${u} transport opened.`)}),Wt(de,kn.EventType.CLOSE,()=>{nt||(nt=!0,ft(Ko,`RPC '${e}' stream ${u} transport closed`),bt.wo())}),Wt(de,kn.EventType.ERROR,Yt=>{nt||(nt=!0,cs(Ko,`RPC '${e}' stream ${u} transport errored:`,Yt),bt.wo(new ot(xe.UNAVAILABLE,"The operation could not be completed")))}),Wt(de,kn.EventType.MESSAGE,Yt=>{var sr;if(!nt){const $r=Yt.data[0];ht(!!$r);const $s=$r.error||(null===(sr=$r[0])||void 0===sr?void 0:sr.error);if($s){ft(Ko,`RPC '${e}' stream ${u} received error:`,$s);const xs=$s.status;let Xi=function(Ul){const dv=_s[Ul];if(void 0!==dv)return dl(dv)}(xs),ha=$s.message;void 0===Xi&&(Xi=xe.INTERNAL,ha="Unknown error status: "+xs+" with message "+$s.message),nt=!0,bt.wo(new ot(Xi,ha)),de.close()}else ft(Ko,`RPC '${e}' stream ${u} received:`,$r),bt._o($r)}}),Wt(T,fn.STAT_EVENT,Yt=>{Yt.stat===hn.PROXY?ft(Ko,`RPC '${e}' stream ${u} detected buffering proxy`):Yt.stat===hn.NOPROXY&&ft(Ko,`RPC '${e}' stream ${u} detected no buffering proxy`)}),setTimeout(()=>{bt.fo()},0),bt}}function Tf(){return typeof document<"u"?document:null}function md(i){return new hl(i,!0)}class Xp{constructor(e,n,o=1e3,u=1.5,l=6e4){this.ii=e,this.timerId=n,this.Po=o,this.bo=u,this.Vo=l,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),o=Math.max(0,Date.now()-this.Co),u=Math.max(0,n-o);u>0&&ft("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${o} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,u,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class Jm{constructor(e,n,o,u,l,f,T,O){this.ii=e,this.$o=o,this.Oo=u,this.connection=l,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=T,this.listener=O,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new Xp(e,n)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,te.A)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,te.A)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,n){var o=this;return(0,te.A)(function*(){o.Ho(),o.Jo(),o.qo.cancel(),o.Fo++,4!==e?o.qo.reset():n&&n.code===xe.RESOURCE_EXHAUSTED?(sn(n.toString()),sn("Using maximum backoff delay to prevent overloading the backend."),o.qo.xo()):n&&n.code===xe.UNAUTHENTICATED&&3!==o.state&&(o.authCredentialsProvider.invalidateToken(),o.appCheckCredentialsProvider.invalidateToken()),null!==o.stream&&(o.Yo(),o.stream.close(),o.stream=null),o.state=e,yield o.listener.ao(n)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,u])=>{this.Fo===n&&this.Zo(o,u)},o=>{e(()=>{const u=new ot(xe.UNKNOWN,"Fetching auth token failed: "+o.message);return this.tu(u)})})}Zo(e,n){const o=this.Xo(this.Fo);this.stream=this.eu(e,n),this.stream.uo(()=>{o(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(u=>{o(()=>this.tu(u))}),this.stream.onMessage(u=>{o(()=>this.onMessage(u))})}Go(){var e=this;this.state=5,this.qo.No((0,te.A)(function*(){e.state=0,e.start()}))}tu(e){return ft("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.Fo===e?n():(ft("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Yp extends Jm{constructor(e,n,o,u,l,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,o,u,f),this.serializer=l}eu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.qo.reset();const n=function wm(i,e){let n;if("targetChange"in e){const o="NO_CHANGE"===(O=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===O?1:"REMOVE"===O?2:"CURRENT"===O?3:"RESET"===O?4:Je(),u=e.targetChange.targetIds||[],l=function(O,V){return O.useProto3Json?(ht(void 0===V||"string"==typeof V),ys.fromBase64String(V||"")):(ht(void 0===V||V instanceof Uint8Array),ys.fromUint8Array(V||new Uint8Array))}(i,e.targetChange.resumeToken),f=e.targetChange.cause,T=f&&function(O){const V=void 0===O.code?xe.UNKNOWN:dl(O.code);return new ot(V,O.message||"")}(f);n=new An(o,u,l,T||null)}else if("documentChange"in e){const o=e.documentChange,u=_u(i,o.document.name),l=os(o.document.updateTime),f=o.document.createTime?os(o.document.createTime):Xt.min(),T=new D({mapValue:{fields:o.document.fields}}),O=U.newFoundDocument(u,l,f,T);n=new wt(o.targetIds||[],o.removedTargetIds||[],O.key,O)}else if("documentDelete"in e){const o=e.documentDelete,u=_u(i,o.document),l=o.readTime?os(o.readTime):Xt.min(),f=U.newNoDocument(u,l);n=new wt([],o.removedTargetIds||[],f.key,f)}else if("documentRemove"in e){const o=e.documentRemove,u=_u(i,o.document);n=new wt([],o.removedTargetIds||[],u,null)}else{if(!("filter"in e))return Je();{const o=e.filter,{count:u=0,unchangedNames:l}=o,f=new ef(u,l);n=new zt(o.targetId,f)}}var O;return n}(this.serializer,e),o=function(u){if(!("targetChange"in u))return Xt.min();const l=u.targetChange;return l.targetIds&&l.targetIds.length?Xt.min():l.readTime?os(l.readTime):Xt.min()}(e);return this.listener.nu(n,o)}su(e){const n={};n.database=pl(this.serializer),n.addTarget=function(u,l){let f;const T=l.target;if(f=jd(T)?{documents:Dm(u,T)}:{query:Tm(u,T)},f.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){f.resumeToken=Rc(u,l.resumeToken);const O=Mc(u,l.expectedCount);null!==O&&(f.expectedCount=O)}else if(l.snapshotVersion.compareTo(Xt.min())>0){f.readTime=ou(u,l.snapshotVersion.toTimestamp());const O=Mc(u,l.expectedCount);null!==O&&(f.expectedCount=O)}return f}(this.serializer,e);const o=function Mv(i,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Je()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);o&&(n.labels=o),this.Wo(n)}iu(e){const n={};n.database=pl(this.serializer),n.removeTarget=e,this.Wo(n)}}class Zm extends Jm{constructor(e,n,o,u,l,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,o,u,f),this.serializer=l,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,n){return this.connection.Ro("Write",e,n)}onMessage(e){if(ht(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const n=function Im(i,e){return i&&i.length>0?(ht(void 0!==e),i.map(n=>function(o,u){let l=os(o.updateTime?o.updateTime:u);return l.isEqual(Xt.min())&&(l=os(u)),new _p(l,o.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),o=os(e.commitTime);return this.listener.cu(o,n)}return ht(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=pl(this.serializer),this.Wo(e)}uu(e){const n={streamToken:this.lastStreamToken,writes:e.map(o=>function au(i,e){let n;if(e instanceof cl)n={update:_m(i,e.key,e.value)};else if(e instanceof ll)n={delete:fl(i,e.key)};else if(e instanceof yu)n={update:_m(i,e.key,e.data),updateMask:Sm(e.fieldMask)};else{if(!(e instanceof Jh))return Je();n={verify:fl(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(o=>function(u,l){const f=l.transform;if(f instanceof Qu)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof al)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof ul)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof Kl)return{fieldPath:l.field.canonicalString(),increment:f.gt};throw Je()}(0,o))),e.precondition.isNone||(n.currentDocument=void 0!==(u=e.precondition).updateTime?{updateTime:Jd(i,u.updateTime)}:void 0!==u.exists?{exists:u.exists}:Je()),n;var u}(this.serializer,o))};this.Wo(n)}}class Gv extends class{}{constructor(e,n,o,u){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=o,this.serializer=u,this.lu=!1}fu(){if(this.lu)throw new ot(xe.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,n,o){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,l])=>this.connection.Io(e,n,o,u,l)).catch(u=>{throw"FirebaseError"===u.name?(u.code===xe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ot(xe.UNKNOWN,u.toString())})}vo(e,n,o,u){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,f])=>this.connection.vo(e,n,o,l,f,u)).catch(l=>{throw"FirebaseError"===l.name?(l.code===xe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ot(xe.UNKNOWN,l.toString())})}terminate(){this.lu=!0}}class qv{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(sn(n),this.mu=!1):ft("OnlineStateTracker",n)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class Cf{constructor(e,n,o,u,l){var f=this;this.localStore=e,this.datastore=n,this.asyncQueue=o,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=l,this.Pu.Yr(T=>{o.enqueueAndForget((0,te.A)(function*(){var O;Uc(f)&&(ft("RemoteStore","Restarting streams for network reachability change."),yield(O=(0,te.A)(function*(V){const X=gt(V);X.vu.add(4),yield Tl(X),X.bu.set("Unknown"),X.vu.delete(4),yield Dl(X)}),function(V){return O.apply(this,arguments)})(f))}))}),this.bu=new qv(o,u)}}function Dl(i){return Jp.apply(this,arguments)}function Jp(){return Jp=(0,te.A)(function*(i){if(Uc(i))for(const e of i.Ru)yield e(!0)}),Jp.apply(this,arguments)}function Tl(i){return yh.apply(this,arguments)}function yh(){return yh=(0,te.A)(function*(i){for(const e of i.Ru)yield e(!1)}),yh.apply(this,arguments)}function Cl(i,e){const n=gt(i);n.Au.has(e.targetId)||(n.Au.set(e.targetId,e),ny(n)?Sf(n):Bc(n).Ko()&&bf(n,e))}function vh(i,e){const n=gt(i),o=Bc(n);n.Au.delete(e),o.Ko()&&ty(n,e),0===n.Au.size&&(o.Ko()?o.jo():Uc(n)&&n.bu.set("Unknown"))}function bf(i,e){if(i.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Xt.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Bc(i).su(e)}function ty(i,e){i.Vu.qt(e),Bc(i).iu(e)}function Sf(i){i.Vu=new Di({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),le:e=>i.Au.get(e)||null,ue:()=>i.datastore.serializer.databaseId}),Bc(i).start(),i.bu.gu()}function ny(i){return Uc(i)&&!Bc(i).Uo()&&i.Au.size>0}function Uc(i){return 0===gt(i).vu.size}function _h(i){i.Vu=void 0}function Qv(i){return Vc.apply(this,arguments)}function Vc(){return Vc=(0,te.A)(function*(i){i.Au.forEach((e,n)=>{bf(i,e)})}),Vc.apply(this,arguments)}function Eh(i,e){return Zp.apply(this,arguments)}function Zp(){return Zp=(0,te.A)(function*(i,e){_h(i),ny(i)?(i.bu.Iu(e),Sf(i)):i.bu.set("Unknown")}),Zp.apply(this,arguments)}function ry(i,e,n){return eg.apply(this,arguments)}function eg(){return eg=(0,te.A)(function*(i,e,n){if(i.bu.set("Online"),e instanceof An&&2===e.state&&e.cause)try{yield(o=(0,te.A)(function*(u,l){const f=l.cause;for(const T of l.targetIds)u.Au.has(T)&&(yield u.remoteSyncer.rejectListen(T,f),u.Au.delete(T),u.Vu.removeTarget(T))}),function(u,l){return o.apply(this,arguments)})(i,e)}catch(o){ft("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),o),yield Af(i,o)}else if(e instanceof wt?i.Vu.Ht(e):e instanceof zt?i.Vu.ne(e):i.Vu.Xt(e),!n.isEqual(Xt.min()))try{const o=yield Km(i.localStore);n.compareTo(o)>=0&&(yield function(u,l){const f=u.Vu.ce(l);return f.targetChanges.forEach((T,O)=>{if(T.resumeToken.approximateByteSize()>0){const V=u.Au.get(O);V&&u.Au.set(O,V.withResumeToken(T.resumeToken,l))}}),f.targetMismatches.forEach((T,O)=>{const V=u.Au.get(T);if(!V)return;u.Au.set(T,V.withResumeToken(ys.EMPTY_BYTE_STRING,V.snapshotVersion)),ty(u,T);const X=new Ha(V.target,T,O,V.sequenceNumber);bf(u,X)}),u.remoteSyncer.applyRemoteEvent(f)}(i,n))}catch(o){ft("RemoteStore","Failed to raise snapshot:",o),yield Af(i,o)}var o}),eg.apply(this,arguments)}function Af(i,e,n){return tg.apply(this,arguments)}function tg(){return tg=(0,te.A)(function*(i,e,n){if(!v(e))throw e;i.vu.add(1),yield Tl(i),i.bu.set("Offline"),n||(n=()=>Km(i.localStore)),i.asyncQueue.enqueueRetryable((0,te.A)(function*(){ft("RemoteStore","Retrying IndexedDB access"),yield n(),i.vu.delete(1),yield Dl(i)}))}),tg.apply(this,arguments)}function ng(i,e){return e().catch(n=>Af(i,n,e))}function bl(i){return wh.apply(this,arguments)}function wh(){return wh=(0,te.A)(function*(i){const e=gt(i),n=qo(e);let o=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;qE(e);)try{const u=yield ld(e.localStore,o);if(null===u){0===e.Eu.length&&n.jo();break}o=u.batchId,rg(e,u)}catch(u){yield Af(e,u)}ig(e)&&iy(e)}),wh.apply(this,arguments)}function qE(i){return Uc(i)&&i.Eu.length<10}function rg(i,e){i.Eu.push(e);const n=qo(i);n.Ko()&&n.ou&&n.uu(e.mutations)}function ig(i){return Uc(i)&&!qo(i).Uo()&&i.Eu.length>0}function iy(i){qo(i).start()}function Xv(i){return Mf.apply(this,arguments)}function Mf(){return Mf=(0,te.A)(function*(i){qo(i).hu()}),Mf.apply(this,arguments)}function Yv(i){return Rf.apply(this,arguments)}function Rf(){return Rf=(0,te.A)(function*(i){const e=qo(i);for(const n of i.Eu)e.uu(n.mutations)}),Rf.apply(this,arguments)}function Jv(i,e,n){return sg.apply(this,arguments)}function sg(){return sg=(0,te.A)(function*(i,e,n){const o=i.Eu.shift(),u=Xd.from(o,e,n);yield ng(i,()=>i.remoteSyncer.applySuccessfulWrite(u)),yield bl(i)}),sg.apply(this,arguments)}function QE(i,e){return Nf.apply(this,arguments)}function Nf(){return Nf=(0,te.A)(function*(i,e){var n;e&&qo(i).ou&&(yield(n=(0,te.A)(function*(o,u){if(function Xs(i){switch(i){default:return Je();case xe.CANCELLED:case xe.UNKNOWN:case xe.DEADLINE_EXCEEDED:case xe.RESOURCE_EXHAUSTED:case xe.INTERNAL:case xe.UNAVAILABLE:case xe.UNAUTHENTICATED:return!1;case xe.INVALID_ARGUMENT:case xe.NOT_FOUND:case xe.ALREADY_EXISTS:case xe.PERMISSION_DENIED:case xe.FAILED_PRECONDITION:case xe.ABORTED:case xe.OUT_OF_RANGE:case xe.UNIMPLEMENTED:case xe.DATA_LOSS:return!0}}(l=u.code)&&l!==xe.ABORTED){const f=o.Eu.shift();qo(o).Qo(),yield ng(o,()=>o.remoteSyncer.rejectFailedWrite(f.batchId,u)),yield bl(o)}var l}),function(o,u){return n.apply(this,arguments)})(i,e)),ig(i)&&iy(i)}),Nf.apply(this,arguments)}function og(i,e){return Na.apply(this,arguments)}function Na(){return Na=(0,te.A)(function*(i,e){const n=gt(i);n.asyncQueue.verifyOperationInProgress(),ft("RemoteStore","RemoteStore received new credentials");const o=Uc(n);n.vu.add(3),yield Tl(n),o&&n.bu.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.vu.delete(3),yield Dl(n)}),Na.apply(this,arguments)}function sy(){return sy=(0,te.A)(function*(i,e){const n=gt(i);e?(n.vu.delete(2),yield Dl(n)):e||(n.vu.add(2),yield Tl(n),n.bu.set("Unknown"))}),sy.apply(this,arguments)}function Bc(i){return i.Su||(i.Su=function(e,n,o){const u=gt(e);return u.fu(),new Yp(n,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{uo:Qv.bind(null,i),ao:Eh.bind(null,i),nu:ry.bind(null,i)}),i.Ru.push(function(){var e=(0,te.A)(function*(n){n?(i.Su.Qo(),ny(i)?Sf(i):i.bu.set("Unknown")):(yield i.Su.stop(),_h(i))});return function(n){return e.apply(this,arguments)}}())),i.Su}function qo(i){return i.Du||(i.Du=function(e,n,o){const u=gt(e);return u.fu(),new Zm(n,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{uo:Xv.bind(null,i),ao:QE.bind(null,i),au:Yv.bind(null,i),cu:Jv.bind(null,i)}),i.Ru.push(function(){var e=(0,te.A)(function*(n){n?(i.Du.Qo(),yield bl(i)):(yield i.Du.stop(),i.Eu.length>0&&(ft("RemoteStore",`Stopping write stream with ${i.Eu.length} pending writes`),i.Eu=[]))});return function(n){return e.apply(this,arguments)}}())),i.Du}class yd{constructor(e,n,o,u,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=o,this.op=u,this.removalCallback=l,this.deferred=new Br,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}static createAndSchedule(e,n,o,u,l){const f=Date.now()+o,T=new yd(e,n,f,u,l);return T.start(o),T}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ot(xe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function vd(i,e){if(sn("AsyncQueue",`${e}: ${i}`),v(i))return new ot(xe.UNAVAILABLE,`${e}: ${i}`);throw i}class _d{constructor(e){this.comparator=e?(n,o)=>e(n,o)||Nt.comparator(n.key,o.key):(n,o)=>Nt.comparator(n.key,o.key),this.keyedMap=ol(),this.sortedSet=new hi(this.comparator)}static emptySet(e){return new _d(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,o)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof _d)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),o=e.sortedSet.getIterator();for(;n.hasNext();){const u=n.getNext().key,l=o.getNext().key;if(!u.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const o=new _d;return o.comparator=this.comparator,o.keyedMap=e,o.sortedSet=n,o}}class oy{constructor(){this.Cu=new hi(Nt.comparator)}track(e){const n=e.doc.key,o=this.Cu.get(n);o?0!==e.type&&3===o.type?this.Cu=this.Cu.insert(n,e):3===e.type&&1!==o.type?this.Cu=this.Cu.insert(n,{type:o.type,doc:e.doc}):2===e.type&&2===o.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):2===e.type&&0===o.type?this.Cu=this.Cu.insert(n,{type:0,doc:e.doc}):1===e.type&&0===o.type?this.Cu=this.Cu.remove(n):1===e.type&&2===o.type?this.Cu=this.Cu.insert(n,{type:1,doc:o.doc}):0===e.type&&1===o.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):Je():this.Cu=this.Cu.insert(n,e)}xu(){const e=[];return this.Cu.inorderTraversal((n,o)=>{e.push(o)}),e}}class jc{constructor(e,n,o,u,l,f,T,O,V){this.query=e,this.docs=n,this.oldDocs=o,this.docChanges=u,this.mutatedKeys=l,this.fromCache=f,this.syncStateChanged=T,this.excludesMetadataChanges=O,this.hasCachedResults=V}static fromInitialDocuments(e,n,o,u,l){const f=[];return n.forEach(T=>{f.push({type:0,doc:T})}),new jc(e,n,_d.emptySet(n),f,o,u,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Gu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,o=e.docChanges;if(n.length!==o.length)return!1;for(let u=0;u<n.length;u++)if(n[u].type!==o[u].type||!n[u].doc.isEqual(o[u].doc))return!1;return!0}}class Iu{constructor(){this.Nu=void 0,this.listeners=[]}}class ay{constructor(){this.queries=new zo(e=>Ku(e),Gu),this.onlineState="Unknown",this.ku=new Set}}function uy(){return uy=(0,te.A)(function*(i,e){const n=gt(i),o=e.query;let u=!1,l=n.queries.get(o);if(l||(u=!0,l=new Iu),u)try{l.Nu=yield n.onListen(o)}catch(f){const T=vd(f,`Initialization of query '${qu(e.query)}' failed`);return void e.onError(T)}n.queries.set(o,l),l.listeners.push(e),e.Mu(n.onlineState),l.Nu&&e.$u(l.Nu)&&lg(n)}),uy.apply(this,arguments)}function ug(){return ug=(0,te.A)(function*(i,e){const n=gt(i),o=e.query;let u=!1;const l=n.queries.get(o);if(l){const f=l.listeners.indexOf(e);f>=0&&(l.listeners.splice(f,1),u=0===l.listeners.length)}if(u)return n.queries.delete(o),n.onUnlisten(o)}),ug.apply(this,arguments)}function cg(i,e){const n=gt(i);let o=!1;for(const u of e){const f=n.queries.get(u.query);if(f){for(const T of f.listeners)T.$u(u)&&(o=!0);f.Nu=u}}o&&lg(n)}function Zv(i,e,n){const o=gt(i),u=o.queries.get(e);if(u)for(const l of u.listeners)l.onError(n);o.queries.delete(e)}function lg(i){i.ku.forEach(e=>{e.next()})}class Ih{constructor(e,n,o){this.query=e,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=o||{}}$u(e){if(!this.options.includeMetadataChanges){const o=[];for(const u of e.docChanges)3!==u.type&&o.push(u);e=new jc(e.query,e.docs,e.oldDocs,o,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),n=!0):this.qu(e,this.onlineState)&&(this.Uu(e),n=!0),this.Bu=e,n}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let n=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),n=!0),n}qu(e,n){return!e.fromCache||(!this.options.Ku||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=jc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class fg{constructor(e){this.key=e}}class ly{constructor(e){this.key=e}}class dy{constructor(e,n){this.query=e,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=tr(),this.mutatedKeys=tr(),this.tc=Wh(e),this.ec=new _d(this.tc)}get nc(){return this.Yu}sc(e,n){const o=n?n.ic:new oy,u=n?n.ec:this.ec;let l=n?n.mutatedKeys:this.mutatedKeys,f=u,T=!1;const O="F"===this.query.limitType&&u.size===this.query.limit?u.last():null,V="L"===this.query.limitType&&u.size===this.query.limit?u.first():null;if(e.inorderTraversal((X,de)=>{const je=u.get(X),nt=sl(this.query,de)?de:null,bt=!!je&&this.mutatedKeys.has(je.key),Wt=!!nt&&(nt.hasLocalMutations||this.mutatedKeys.has(nt.key)&&nt.hasCommittedMutations);let Yt=!1;je&&nt?je.data.isEqual(nt.data)?bt!==Wt&&(o.track({type:3,doc:nt}),Yt=!0):this.rc(je,nt)||(o.track({type:2,doc:nt}),Yt=!0,(O&&this.tc(nt,O)>0||V&&this.tc(nt,V)<0)&&(T=!0)):!je&&nt?(o.track({type:0,doc:nt}),Yt=!0):je&&!nt&&(o.track({type:1,doc:je}),Yt=!0,(O||V)&&(T=!0)),Yt&&(nt?(f=f.add(nt),l=Wt?l.add(X):l.delete(X)):(f=f.delete(X),l=l.delete(X)))}),null!==this.query.limit)for(;f.size>this.query.limit;){const X="F"===this.query.limitType?f.last():f.first();f=f.delete(X.key),l=l.delete(X.key),o.track({type:1,doc:X})}return{ec:f,ic:o,zi:T,mutatedKeys:l}}rc(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,o){const u=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const l=e.ic.xu();l.sort((V,X)=>function(de,je){const nt=bt=>{switch(bt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Je()}};return nt(de)-nt(je)}(V.type,X.type)||this.tc(V.doc,X.doc)),this.oc(o);const f=n?this.uc():[],T=0===this.Zu.size&&this.current?1:0,O=T!==this.Xu;return this.Xu=T,0!==l.length||O?{snapshot:new jc(this.query,e.ec,u,l,e.mutatedKeys,0===T,O,!1,!!o&&o.resumeToken.approximateByteSize()>0),cc:f}:{cc:f}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new oy,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(n=>this.Yu=this.Yu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Yu=this.Yu.delete(n)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=tr(),this.ec.forEach(o=>{this.ac(o.key)&&(this.Zu=this.Zu.add(o.key))});const n=[];return e.forEach(o=>{this.Zu.has(o)||n.push(new ly(o))}),this.Zu.forEach(o=>{e.has(o)||n.push(new fg(o))}),n}hc(e){this.Yu=e.ir,this.Zu=tr();const n=this.sc(e.documents);return this.applyChanges(n,!0)}lc(){return jc.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class t_{constructor(e,n,o){this.query=e,this.targetId=n,this.view=o}}class hy{constructor(e){this.key=e,this.fc=!1}}class Ed{constructor(e,n,o,u,l,f){this.localStore=e,this.remoteStore=n,this.eventManager=o,this.sharedClientState=u,this.currentUser=l,this.maxConcurrentLimboResolutions=f,this.dc={},this.wc=new zo(T=>Ku(T),Gu),this._c=new Map,this.mc=new Set,this.gc=new hi(Nt.comparator),this.yc=new Map,this.Ic=new gf,this.Tc={},this.Ec=new Map,this.Ac=od.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function rc(i,e){return $c.apply(this,arguments)}function $c(){return $c=(0,te.A)(function*(i,e){const n=function Cg(i){const e=gt(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=Dh.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Ey.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=n_.bind(null,e),e.dc.nu=cg.bind(null,e.eventManager),e.dc.Pc=Zv.bind(null,e.eventManager),e}(i);let o,u;const l=n.wc.get(e);if(l)o=l.targetId,n.sharedClientState.addLocalQueryTarget(o),u=l.view.lc();else{const f=yield function dd(i,e){const n=gt(i);return n.persistence.runTransaction("Allocate target","readwrite",o=>{let u;return n.Bs.getTargetData(o,e).next(l=>l?(u=l,Be.resolve(u)):n.Bs.allocateTargetId(o).next(f=>(u=new Ha(e,f,"TargetPurposeListen",o.currentSequenceNumber),n.Bs.addTargetData(o,u).next(()=>u))))}).then(o=>{const u=n.Ji.get(o.targetId);return(null===u||o.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(o.targetId,o),n.Yi.set(e,o.targetId)),o})}(n.localStore,go(e)),T=n.sharedClientState.addLocalQueryTarget(f.targetId);o=f.targetId,u=yield function pg(i,e,n,o,u){return gg.apply(this,arguments)}(n,e,o,"current"===T,f.resumeToken),n.isPrimaryClient&&Cl(n.remoteStore,f)}return u}),$c.apply(this,arguments)}function gg(){return gg=(0,te.A)(function*(i,e,n,o,u){i.Rc=(de,je,nt)=>{return(bt=(0,te.A)(function*(Wt,Yt,sr,$r){let fr=Yt.view.sc(sr);fr.zi&&(fr=yield fd(Wt.localStore,Yt.query,!1).then(({documents:Xi})=>Yt.view.sc(Xi,fr)));const $s=$r&&$r.targetChanges.get(Yt.targetId),xs=Yt.view.applyChanges(fr,Wt.isPrimaryClient,$s);return wd(Wt,Yt.targetId,xs.cc),xs.snapshot}),function(Wt,Yt,sr,$r){return bt.apply(this,arguments)})(i,de,je,nt);var bt};const l=yield fd(i.localStore,e,!0),f=new dy(e,l.ir),T=f.sc(l.documents),O=Xe.createSynthesizedTargetChangeForCurrentChange(n,o&&"Offline"!==i.onlineState,u),V=f.applyChanges(T,i.isPrimaryClient,O);wd(i,n,V.cc);const X=new t_(e,n,f);return i.wc.set(e,X),i._c.has(n)?i._c.get(n).push(e):i._c.set(n,[e]),V.snapshot}),gg.apply(this,arguments)}function fy(i,e){return xf.apply(this,arguments)}function xf(){return xf=(0,te.A)(function*(i,e){const n=gt(i),o=n.wc.get(e),u=n._c.get(o.targetId);if(u.length>1)return n._c.set(o.targetId,u.filter(l=>!Gu(l,e))),void n.wc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(o.targetId),n.sharedClientState.isActiveQueryTarget(o.targetId)||(yield hd(n.localStore,o.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(o.targetId),vh(n.remoteStore,o.targetId),Al(n,o.targetId)}).catch(Ii))):(Al(n,o.targetId),yield hd(n.localStore,o.targetId,!0))}),xf.apply(this,arguments)}function Sl(){return Sl=(0,te.A)(function*(i,e,n){const o=function Bf(i){const e=gt(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=r_.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=py.bind(null,e),e}(i);try{const u=yield function(l,f){const T=gt(l),O=wi.now(),V=f.reduce((je,nt)=>je.add(nt.key),tr());let X,de;return T.persistence.runTransaction("Locally write mutations","readwrite",je=>{let nt=Wo(),bt=tr();return T.Zi.getEntries(je,V).next(Wt=>{nt=Wt,nt.forEach((Yt,sr)=>{sr.isValidDocument()||(bt=bt.add(Yt))})}).next(()=>T.localDocuments.getOverlayedDocuments(je,nt)).next(Wt=>{X=Wt;const Yt=[];for(const sr of f){const $r=qd(sr,X.get(sr.key).overlayedDocument);null!=$r&&Yt.push(new yu(sr.key,$r,N($r.value.mapValue),Wi.exists(!0)))}return T.mutationQueue.addMutationBatch(je,O,Yt,f)}).next(Wt=>{de=Wt;const Yt=Wt.applyToLocalDocumentSet(X,bt);return T.documentOverlayCache.saveOverlays(je,Wt.batchId,Yt)})}).then(()=>({batchId:de.batchId,changes:pm(X)}))}(o.localStore,e);o.sharedClientState.addPendingMutation(u.batchId),function(l,f,T){let O=l.Tc[l.currentUser.toKey()];O||(O=new hi(Qt)),O=O.insert(f,T),l.Tc[l.currentUser.toKey()]=O}(o,u.batchId,n),yield ic(o,u.changes),yield bl(o.remoteStore)}catch(u){const l=vd(u,"Failed to persist write");n.reject(l)}}),Sl.apply(this,arguments)}function Dh(i,e){return Of.apply(this,arguments)}function Of(){return Of=(0,te.A)(function*(i,e){const n=gt(i);try{const o=yield function Hv(i,e){const n=gt(i),o=e.snapshotVersion;let u=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const f=n.Zi.newChangeBuffer({trackRemovals:!0});u=n.Ji;const T=[];e.targetChanges.forEach((X,de)=>{const je=u.get(de);if(!je)return;T.push(n.Bs.removeMatchingKeys(l,X.removedDocuments,de).next(()=>n.Bs.addMatchingKeys(l,X.addedDocuments,de)));let nt=je.withSequenceNumber(l.currentSequenceNumber);var bt,Wt,Yt;null!==e.targetMismatches.get(de)?nt=nt.withResumeToken(ys.EMPTY_BYTE_STRING,Xt.min()).withLastLimboFreeSnapshotVersion(Xt.min()):X.resumeToken.approximateByteSize()>0&&(nt=nt.withResumeToken(X.resumeToken,o)),u=u.insert(de,nt),Wt=nt,Yt=X,(0===(bt=je).resumeToken.approximateByteSize()||Wt.snapshotVersion.toMicroseconds()-bt.snapshotVersion.toMicroseconds()>=3e8||Yt.addedDocuments.size+Yt.modifiedDocuments.size+Yt.removedDocuments.size>0)&&T.push(n.Bs.updateTargetData(l,nt))});let O=Wo(),V=tr();if(e.documentUpdates.forEach(X=>{e.resolvedLimboDocuments.has(X)&&T.push(n.persistence.referenceDelegate.updateLimboDocument(l,X))}),T.push(function $p(i,e,n){let o=tr(),u=tr();return n.forEach(l=>o=o.add(l)),e.getEntries(i,o).next(l=>{let f=Wo();return n.forEach((T,O)=>{const V=l.get(T);O.isFoundDocument()!==V.isFoundDocument()&&(u=u.add(T)),O.isNoDocument()&&O.version.isEqual(Xt.min())?(e.removeEntry(T,O.readTime),f=f.insert(T,O)):!V.isValidDocument()||O.version.compareTo(V.version)>0||0===O.version.compareTo(V.version)&&V.hasPendingWrites?(e.addEntry(O),f=f.insert(T,O)):ft("LocalStore","Ignoring outdated watch update for ",T,". Current version:",V.version," Watch version:",O.version)}),{nr:f,sr:u}})}(l,f,e.documentUpdates).next(X=>{O=X.nr,V=X.sr})),!o.isEqual(Xt.min())){const X=n.Bs.getLastRemoteSnapshotVersion(l).next(de=>n.Bs.setTargetsMetadata(l,l.currentSequenceNumber,o));T.push(X)}return Be.waitFor(T).next(()=>f.apply(l)).next(()=>n.localDocuments.getLocalViewOfDocuments(l,O,V)).next(()=>O)}).then(l=>(n.Ji=u,l))}(n.localStore,e);e.targetChanges.forEach((u,l)=>{const f=n.yc.get(l);f&&(ht(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1),u.addedDocuments.size>0?f.fc=!0:u.modifiedDocuments.size>0?ht(f.fc):u.removedDocuments.size>0&&(ht(f.fc),f.fc=!1))}),yield ic(n,o,e)}catch(o){yield Ii(o)}}),Of.apply(this,arguments)}function yg(i,e,n){const o=gt(i);if(o.isPrimaryClient&&0===n||!o.isPrimaryClient&&1===n){const u=[];o.wc.forEach((l,f)=>{const T=f.view.Mu(e);T.snapshot&&u.push(T.snapshot)}),function(l,f){const T=gt(l);T.onlineState=f;let O=!1;T.queries.forEach((V,X)=>{for(const de of X.listeners)de.Mu(f)&&(O=!0)}),O&&lg(T)}(o.eventManager,e),u.length&&o.dc.nu(u),o.onlineState=e,o.isPrimaryClient&&o.sharedClientState.setOnlineState(e)}}function n_(i,e,n){return vg.apply(this,arguments)}function vg(){return vg=(0,te.A)(function*(i,e,n){const o=gt(i);o.sharedClientState.updateQueryState(e,"rejected",n);const u=o.yc.get(e),l=u&&u.key;if(l){let f=new hi(Nt.comparator);f=f.insert(l,U.newNoDocument(l,Xt.min()));const T=tr().add(l),O=new Te(Xt.min(),new Map,new hi(Qt),f,T);yield Dh(o,O),o.gc=o.gc.remove(l),o.yc.delete(e),Lf(o)}else yield hd(o.localStore,e,!1).then(()=>Al(o,e,n)).catch(Ii)}),vg.apply(this,arguments)}function r_(i,e){return _g.apply(this,arguments)}function _g(){return _g=(0,te.A)(function*(i,e){const n=gt(i),o=e.batch.batchId;try{const u=yield function jp(i,e){const n=gt(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const u=e.batch.keys(),l=n.Zi.newChangeBuffer({trackRemovals:!0});return function(f,T,O,V){const X=O.batch,de=X.keys();let je=Be.resolve();return de.forEach(nt=>{je=je.next(()=>V.getEntry(T,nt)).next(bt=>{const Wt=O.docVersions.get(nt);ht(null!==Wt),bt.version.compareTo(Wt)<0&&(X.applyToRemoteDocument(bt,O),bt.isValidDocument()&&(bt.setReadTime(O.commitVersion),V.addEntry(bt)))})}),je.next(()=>f.mutationQueue.removeMutationBatch(T,X))}(n,o,e,l).next(()=>l.apply(o)).next(()=>n.mutationQueue.performConsistencyCheck(o)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(o,u,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(o,function(f){let T=tr();for(let O=0;O<f.mutationResults.length;++O)f.mutationResults[O].transformResults.length>0&&(T=T.add(f.batch.mutations[O].key));return T}(e))).next(()=>n.localDocuments.getDocuments(o,u))})}(n.localStore,e);kf(n,o,null),yy(n,o),n.sharedClientState.updateMutationState(o,"acknowledged"),yield ic(n,u)}catch(u){yield Ii(u)}}),_g.apply(this,arguments)}function py(i,e,n){return gy.apply(this,arguments)}function gy(){return gy=(0,te.A)(function*(i,e,n){const o=gt(i);try{const u=yield function(l,f){const T=gt(l);return T.persistence.runTransaction("Reject batch","readwrite-primary",O=>{let V;return T.mutationQueue.lookupMutationBatch(O,f).next(X=>(ht(null!==X),V=X.keys(),T.mutationQueue.removeMutationBatch(O,X))).next(()=>T.mutationQueue.performConsistencyCheck(O)).next(()=>T.documentOverlayCache.removeOverlaysForBatchId(O,V,f)).next(()=>T.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(O,V)).next(()=>T.localDocuments.getDocuments(O,V))})}(o.localStore,e);kf(o,e,n),yy(o,e),o.sharedClientState.updateMutationState(e,"rejected",n),yield ic(o,u)}catch(u){yield Ii(u)}}),gy.apply(this,arguments)}function yy(i,e){(i.Ec.get(e)||[]).forEach(n=>{n.resolve()}),i.Ec.delete(e)}function kf(i,e,n){const o=gt(i);let u=o.Tc[o.currentUser.toKey()];if(u){const l=u.get(e);l&&(n?l.reject(n):l.resolve(),u=u.remove(e)),o.Tc[o.currentUser.toKey()]=u}}function Al(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const o of i._c.get(e))i.wc.delete(o),n&&i.dc.Pc(o,n);i._c.delete(e),i.isPrimaryClient&&i.Ic.Is(e).forEach(o=>{i.Ic.containsKey(o)||s_(i,o)})}function s_(i,e){i.mc.delete(e.path.canonicalString());const n=i.gc.get(e);null!==n&&(vh(i.remoteStore,n),i.gc=i.gc.remove(e),i.yc.delete(n),Lf(i))}function wd(i,e,n){for(const o of n)o instanceof fg?(i.Ic.addReference(o.key,e),vy(i,o)):o instanceof ly?(ft("SyncEngine","Document no longer in limbo: "+o.key),i.Ic.removeReference(o.key,e),i.Ic.containsKey(o.key)||s_(i,o.key)):Je()}function vy(i,e){const n=e.key,o=n.path.canonicalString();i.gc.get(n)||i.mc.has(o)||(ft("SyncEngine","New document in limbo: "+n),i.mc.add(o),Lf(i))}function Lf(i){for(;i.mc.size>0&&i.gc.size<i.maxConcurrentLimboResolutions;){const e=i.mc.values().next().value;i.mc.delete(e);const n=new Nt(hr.fromString(e)),o=i.Ac.next();i.yc.set(o,new hy(n)),i.gc=i.gc.insert(n,o),Cl(i.remoteStore,new Ha(go(Cc(n.path)),o,"TargetPurposeLimboResolution",Ct.ct))}}function ic(i,e,n){return Ff.apply(this,arguments)}function Ff(){return Ff=(0,te.A)(function*(i,e,n){const o=gt(i),u=[],l=[],f=[];var T;o.wc.isEmpty()||(o.wc.forEach((T,O)=>{f.push(o.Rc(O,e,n).then(V=>{if((V||n)&&o.isPrimaryClient&&o.sharedClientState.updateQueryState(O.targetId,V?.fromCache?"not-current":"current"),V){u.push(V);const X=cd.Li(O.targetId,V);l.push(X)}}))}),yield Promise.all(f),o.dc.nu(u),yield(T=(0,te.A)(function*(O,V){const X=gt(O);try{yield X.persistence.runTransaction("notifyLocalViewChanges","readwrite",de=>Be.forEach(V,je=>Be.forEach(je.Fi,nt=>X.persistence.referenceDelegate.addReference(de,je.targetId,nt)).next(()=>Be.forEach(je.Bi,nt=>X.persistence.referenceDelegate.removeReference(de,je.targetId,nt)))))}catch(de){if(!v(de))throw de;ft("LocalStore","Failed to update sequence numbers: "+de)}for(const de of V){const je=de.targetId;if(!de.fromCache){const nt=X.Ji.get(je),Wt=nt.withLastLimboFreeSnapshotVersion(nt.snapshotVersion);X.Ji=X.Ji.insert(je,Wt)}}}),function(O,V){return T.apply(this,arguments)})(o.localStore,l))}),Ff.apply(this,arguments)}function _y(i,e){return Gn.apply(this,arguments)}function Gn(){return Gn=(0,te.A)(function*(i,e){const n=gt(i);if(!n.currentUser.isEqual(e)){ft("SyncEngine","User change. New user:",e.toKey());const o=yield lu(n.localStore,e);n.currentUser=e,(u=n).Ec.forEach(f=>{f.forEach(T=>{T.reject(new ot(xe.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),u.Ec.clear(),n.sharedClientState.handleUserChange(e,o.removedBatchIds,o.addedBatchIds),yield ic(n,o.er)}var u}),Gn.apply(this,arguments)}function Ey(i,e){const n=gt(i),o=n.yc.get(e);if(o&&o.fc)return tr().add(o.key);{let u=tr();const l=n._c.get(e);if(!l)return u;for(const f of l){const T=n.wc.get(f);u=u.unionWith(T.view.nc)}return u}}class Id{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return(0,te.A)(function*(){n.serializer=md(e.databaseInfo.databaseId),n.sharedClientState=n.createSharedClientState(e),n.persistence=n.createPersistence(e),yield n.persistence.start(),n.localStore=n.createLocalStore(e),n.gcScheduler=n.createGarbageCollectionScheduler(e,n.localStore),n.indexBackfillerScheduler=n.createIndexBackfillerScheduler(e,n.localStore)})()}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return function lh(i,e,n,o){return new Bp(i,e,n,o)}(this.persistence,new Gm,e.initialUser,this.serializer)}createPersistence(e){return new mf(Vp.zs,this.serializer)}createSharedClientState(e){return new If}terminate(){var e=this;return(0,te.A)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Rl{initialize(e,n){var o=this;return(0,te.A)(function*(){o.localStore||(o.localStore=e.localStore,o.sharedClientState=e.sharedClientState,o.datastore=o.createDatastore(n),o.remoteStore=o.createRemoteStore(n),o.eventManager=o.createEventManager(n),o.syncEngine=o.createSyncEngine(n,!e.synchronizeTabs),o.sharedClientState.onlineStateHandler=u=>yg(o.syncEngine,u,1),o.remoteStore.remoteSyncer.handleCredentialChange=_y.bind(null,o.syncEngine),yield function Pf(i,e){return sy.apply(this,arguments)}(o.remoteStore,o.syncEngine.isPrimaryClient))})()}createEventManager(e){return new ay}createDatastore(e){const n=md(e.databaseInfo.databaseId),o=new Qp(e.databaseInfo);return new Gv(e.authCredentials,e.appCheckCredentials,o,n)}createRemoteStore(e){return n=this.localStore,o=this.datastore,u=e.asyncQueue,l=T=>yg(this.syncEngine,T,0),f=gh.D()?new gh:new ph,new Cf(n,o,u,l,f);var n,o,u,l,f}createSyncEngine(e,n){return function(o,u,l,f,T,O,V){const X=new Ed(o,u,l,f,T,O);return V&&(X.vc=!0),X}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return(e=(0,te.A)(function*(n){const o=gt(n);ft("RemoteStore","RemoteStore shutting down."),o.vu.add(5),yield Tl(o),o.Pu.shutdown(),o.bu.set("Unknown")}),function(n){return e.apply(this,arguments)})(this.remoteStore);var e}}class jf{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):sn("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class XE{constructor(e,n,o,u){var l=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=o,this.databaseInfo=u,this.user=Ln.UNAUTHENTICATED,this.clientId=hu.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(o,function(){var f=(0,te.A)(function*(T){ft("FirestoreClient","Received user=",T.uid),yield l.authCredentialListener(T),l.user=T});return function(T){return f.apply(this,arguments)}}()),this.appCheckCredentials.start(o,f=>(ft("FirestoreClient","Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}getConfiguration(){var e=this;return(0,te.A)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ot(xe.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new Br;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,te.A)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(o){const u=vd(o,"Failed to shutdown persistence");n.reject(u)}})),n.promise}}function Dd(i,e){return $f.apply(this,arguments)}function $f(){return $f=(0,te.A)(function*(i,e){i.asyncQueue.verifyOperationInProgress(),ft("FirestoreClient","Initializing OfflineComponentProvider");const n=yield i.getConfiguration();yield e.initialize(n);let o=n.initialUser;i.setCredentialChangeListener(function(){var u=(0,te.A)(function*(l){o.isEqual(l)||(yield lu(e.localStore,l),o=l)});return function(l){return u.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}),$f.apply(this,arguments)}function Ag(i,e){return Mg.apply(this,arguments)}function Mg(){return Mg=(0,te.A)(function*(i,e){i.asyncQueue.verifyOperationInProgress();const n=yield function Hf(i){return Rg.apply(this,arguments)}(i);ft("FirestoreClient","Initializing OnlineComponentProvider");const o=yield i.getConfiguration();yield e.initialize(n,o),i.setCredentialChangeListener(u=>og(e.remoteStore,u)),i.setAppCheckTokenChangeListener((u,l)=>og(e.remoteStore,l)),i._onlineComponents=e}),Mg.apply(this,arguments)}function Rg(){return Rg=(0,te.A)(function*(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){ft("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Dd(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function Cy(i){return"FirebaseError"===i.name?i.code===xe.FAILED_PRECONDITION||i.code===xe.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||22===i.code||20===i.code||11===i.code}(n))throw n;cs("Error using user provided cache. Falling back to memory cache: "+n),yield Dd(i,new Id)}}else ft("FirestoreClient","Using default OfflineComponentProvider"),yield Dd(i,new Id);return i._offlineComponents}),Rg.apply(this,arguments)}function zf(i){return bh.apply(this,arguments)}function bh(){return bh=(0,te.A)(function*(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(ft("FirestoreClient","Using user provided OnlineComponentProvider"),yield Ag(i,i._uninitializedComponentsProvider._online)):(ft("FirestoreClient","Using default OnlineComponentProvider"),yield Ag(i,new Rl))),i._onlineComponents}),bh.apply(this,arguments)}function Sh(){return Sh=(0,te.A)(function*(i){const e=yield zf(i),n=e.eventManager;return n.onListen=rc.bind(null,e.syncEngine),n.onUnlisten=fy.bind(null,e.syncEngine),n}),Sh.apply(this,arguments)}function Ah(i,e,n={}){const o=new Br;return i.asyncQueue.enqueueAndForget((0,te.A)(function*(){return function(u,l,f,T,O){const V=new jf({next:de=>{l.enqueueAndForget(()=>function Rs(i,e){return ug.apply(this,arguments)}(u,X)),de.fromCache&&"server"===T.source?O.reject(new ot(xe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):O.resolve(de)},error:de=>O.reject(de)}),X=new Ih(f,V,{includeMetadataChanges:!0,Ku:!0});return function ag(i,e){return uy.apply(this,arguments)}(u,X)}(yield function Qo(i){return Sh.apply(this,arguments)}(i),i.asyncQueue,e,n,o)})),o.promise}function Og(i){const e={};return void 0!==i.timeoutSeconds&&(e.timeoutSeconds=i.timeoutSeconds),e}const kg=new Map;function Mh(i,e,n){if(!n)throw new ot(xe.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function xy(i){if(!Nt.isDocumentKey(i))throw new ot(xe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function Oy(i){if(Nt.isDocumentKey(i))throw new ot(xe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function Td(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const e=(n=i).constructor?n.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var n;return"function"==typeof i?"a function":Je()}function Lr(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new ot(xe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Td(i);throw new ot(xe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}class ky{constructor(e){var n,o;if(void 0===e.host){if(void 0!==e.ssl)throw new ot(xe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new ot(xe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function sc(i,e,n,o){if(!0===e&&!0===o)throw new ot(xe.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=Og(null!==(o=e.experimentalLongPollingOptions)&&void 0!==o?o:{}),function(u){if(void 0!==u.timeoutSeconds){if(isNaN(u.timeoutSeconds))throw new ot(xe.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new ot(xe.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new ot(xe.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Wc{constructor(e,n,o,u){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=o,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ky({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ot(xe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new ot(xe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ky(e),void 0!==e.credentials&&(this._authCredentials=function(n){if(!n)return new Mo;switch(n.type){case"firstParty":return new is(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new ot(xe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=kg.get(e);n&&(ft("ComponentProvider","Removing Datastore"),kg.delete(e),n.terminate())}(this),Promise.resolve()}}class Es{constructor(e,n,o){this.converter=n,this._key=o,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new oc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Es(this.firestore,e,this._key)}}class Ns{constructor(e,n,o){this.converter=n,this._query=o,this.type="query",this.firestore=e}withConverter(e){return new Ns(this.firestore,e,this._query)}}class oc extends Ns{constructor(e,n,o){super(e,n,Cc(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Es(this.firestore,null,new Nt(e))}withConverter(e){return new oc(this.firestore,e,this._path)}}function f_(i,e,...n){if(i=(0,ae.Ku)(i),Mh("collection","path",e),i instanceof Wc){const o=hr.fromString(e,...n);return Oy(o),new oc(i,null,o)}{if(!(i instanceof Es||i instanceof oc))throw new ot(xe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(hr.fromString(e,...n));return Oy(o),new oc(i.firestore,null,o)}}function Fg(i,e,...n){if(i=(0,ae.Ku)(i),1===arguments.length&&(e=hu.A()),Mh("doc","path",e),i instanceof Wc){const o=hr.fromString(e,...n);return xy(o),new Es(i,null,new Nt(o))}{if(!(i instanceof Es||i instanceof oc))throw new ot(xe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(hr.fromString(e,...n));return xy(o),new Es(i.firestore,i instanceof oc?i.converter:null,new Nt(o))}}class Fy{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new Xp(this,"async_queue_retry"),this.Xc=()=>{const n=Tf();n&&ft("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=Tf();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=Tf();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new Br;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,te.A)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(n){if(!v(n))throw n;ft("AsyncQueue","Operation failed with retryable error: "+n)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(o=>{throw this.Wc=o,this.Hc=!1,sn("INTERNAL UNHANDLED ERROR: ",function(l){let f=l.message||"";return l.stack&&(f=l.stack.includes(l.message)?l.stack:l.message+"\n"+l.stack),f}(o)),o}).then(o=>(this.Hc=!1,o))));return this.Gc=n,n}enqueueAfterDelay(e,n,o){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const u=yd.createAndSchedule(this,e,n,o,l=>this.na(l));return this.zc.push(u),u}Zc(){this.Wc&&Je()}verifyOperationInProgress(){}sa(){var e=this;return(0,te.A)(function*(){let n;do{n=e.Gc,yield n}while(n!==e.Gc)})()}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,o)=>n.targetTimeMs-o.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}}class Gi extends Wc{constructor(e,n,o,u){super(e,n,o,u),this.type="firestore",this._queue=new Fy,this._persistenceKey=u?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||Cd(this),this._firestoreClient.terminate()}}function m_(i,e){const n="object"==typeof i?i:(0,Re.Sx)(),o="string"==typeof i?i:e||"(default)",u=(0,Re.j6)(n,"firestore").getImmediate({identifier:o});if(!u._initialized){const l=(0,ae.yU)("firestore");l&&function Rh(i,e,n,o={}){var u;const l=(i=Lr(i,Wc))._getSettings(),f=`${e}:${n}`;if("firestore.googleapis.com"!==l.host&&l.host!==f&&cs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),i._setSettings(Object.assign(Object.assign({},l),{host:f,ssl:!1})),o.mockUserToken){let T,O;if("string"==typeof o.mockUserToken)T=o.mockUserToken,O=Ln.MOCK_USER;else{T=(0,ae.Fy)(o.mockUserToken,null===(u=i._app)||void 0===u?void 0:u.options.projectId);const V=o.mockUserToken.sub||o.mockUserToken.user_id;if(!V)throw new ot(xe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");O=new Ln(V)}i._authCredentials=new Qa(new Kr(T,O))}}(u,...l)}return u}function Ps(i){return i._firestoreClient||Cd(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function Cd(i){var e,n,o;const u=i._freezeSettings(),l=(T=(null===(e=i._app)||void 0===e?void 0:e.options.appId)||"",new Za(i._databaseId,T,i._persistenceKey,(V=u).host,V.ssl,V.experimentalForceLongPolling,V.experimentalAutoDetectLongPolling,Og(V.experimentalLongPollingOptions),V.useFetchStreams));var T,V;i._firestoreClient=new XE(i._authCredentials,i._appCheckCredentials,i._queue,l),null!==(n=u.cache)&&void 0!==n&&n._offlineComponentProvider&&null!==(o=u.cache)&&void 0!==o&&o._onlineComponentProvider&&(i._firestoreClient._uninitializedComponentsProvider={_offlineKind:u.cache.kind,_offline:u.cache._offlineComponentProvider,_online:u.cache._onlineComponentProvider})}class Nl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Nl(ys.fromBase64String(e))}catch(n){throw new ot(xe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Nl(ys.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Pl{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new ot(xe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Fi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class bd{constructor(e){this._methodName=e}}class Ug{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ot(xe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ot(xe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Qt(this._lat,e._lat)||Qt(this._long,e._long)}}const __=/^__.*__$/;class jy{constructor(e,n,o){this.data=e,this.fieldMask=n,this.fieldTransforms=o}toMutation(e,n){return null!==this.fieldMask?new yu(e,this.data,this.fieldMask,n,this.fieldTransforms):new cl(e,this.data,n,this.fieldTransforms)}}class Vg{constructor(e,n,o){this.data=e,this.fieldMask=n,this.fieldTransforms=o}toMutation(e,n){return new yu(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function $y(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Je()}}class Bg{constructor(e,n,o,u,l,f){this.settings=e,this.databaseId=n,this.serializer=o,this.ignoreUndefinedProperties=u,void 0===l&&this.ua(),this.fieldTransforms=l||[],this.fieldMask=f||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new Bg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var n;const o=null===(n=this.path)||void 0===n?void 0:n.child(e),u=this.aa({path:o,la:!1});return u.fa(e),u}da(e){var n;const o=null===(n=this.path)||void 0===n?void 0:n.child(e),u=this.aa({path:o,la:!1});return u.ua(),u}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return uc(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if($y(this.ca)&&__.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class Hy{constructor(e,n,o){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=o||md(e)}ya(e,n,o,u=!1){return new Bg({ca:e,methodName:n,ga:o,path:Fi.emptyPath(),la:!1,ma:u},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Kc(i){const e=i._freezeSettings(),n=md(i._databaseId);return new Hy(i._databaseId,!!e.ignoreUndefinedProperties,n)}function jg(i,e,n,o,u,l={}){const f=i.ya(l.merge||l.mergeFields?2:0,e,n,u);Xc("Data must be an object, but it was:",f,o);const T=xa(o,f);let O,V;if(l.merge)O=new Us(f.fieldMask),V=f.fieldTransforms;else if(l.mergeFields){const X=[];for(const de of l.mergeFields){const je=Cu(e,de,n);if(!f.contains(je))throw new ot(xe.INVALID_ARGUMENT,`Field '${je}' is specified in your field mask but missing from your input data.`);Ol(X,je)||X.push(je)}O=new Us(X),V=f.fieldTransforms.filter(de=>O.covers(de.field))}else O=null,V=f.fieldTransforms;return new jy(new D(T),O,V)}class qc extends bd{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof qc}}function Tu(i,e){if(Kf(i=(0,ae.Ku)(i)))return Xc("Unsupported field value:",e,i),xa(i,e);if(i instanceof bd)return function(n,o){if(!$y(o.ca))throw o._a(`${n._methodName}() can only be used with update() and set()`);if(!o.path)throw o._a(`${n._methodName}() is not currently supported inside arrays`);const u=n._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(i,e),null;if(void 0===i&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(n,o){const u=[];let l=0;for(const f of n){let T=Tu(f,o.wa(l));null==T&&(T={nullValue:"NULL_VALUE"}),u.push(T),l++}return{arrayValue:{values:u}}}(i,e)}return function(n,o){if(null===(n=(0,ae.Ku)(n)))return{nullValue:"NULL_VALUE"};if("number"==typeof n)return qh(o.serializer,n);if("boolean"==typeof n)return{booleanValue:n};if("string"==typeof n)return{stringValue:n};if(n instanceof Date){const u=wi.fromDate(n);return{timestampValue:ou(o.serializer,u)}}if(n instanceof wi){const u=new wi(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:ou(o.serializer,u)}}if(n instanceof Ug)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Nl)return{bytesValue:Rc(o.serializer,n._byteString)};if(n instanceof Es){const u=o.databaseId,l=n.firestore._databaseId;if(!l.isEqual(u))throw o._a(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Zd(n.firestore._databaseId||o.databaseId,n._key.path)}}throw o._a(`Unsupported field value: ${Td(n)}`)}(i,e)}function xa(i,e){const n={};return _c(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ja(i,(o,u)=>{const l=Tu(u,e.ha(o));null!=l&&(n[o]=l)}),{mapValue:{fields:n}}}function Kf(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof wi||i instanceof Ug||i instanceof Nl||i instanceof Es||i instanceof bd)}function Xc(i,e,n){if(!Kf(n)||"object"!=typeof(o=n)||null===o||Object.getPrototypeOf(o)!==Object.prototype&&null!==Object.getPrototypeOf(o)){const o=Td(n);throw e._a("an object"===o?i+" a custom object":i+" "+o)}var o}function Cu(i,e,n){if((e=(0,ae.Ku)(e))instanceof Pl)return e._internalPath;if("string"==typeof e)return ac(i,e);throw uc("Field path arguments must be of type string or ",i,!1,void 0,n)}const Sd=new RegExp("[~\\*/\\[\\]]");function ac(i,e,n){if(e.search(Sd)>=0)throw uc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new Pl(...e.split("."))._internalPath}catch{throw uc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function uc(i,e,n,o,u){const l=o&&!o.isEmpty(),f=void 0!==u;let T=`Function ${e}() called with invalid data`;n&&(T+=" (via `toFirestore()`)"),T+=". ";let O="";return(l||f)&&(O+=" (found",l&&(O+=` in field ${o}`),f&&(O+=` in document ${u}`),O+=")"),new ot(xe.INVALID_ARGUMENT,T+i+O)}function Ol(i,e){return i.some(n=>n.isEqual(e))}class bu{constructor(e,n,o,u,l){this._firestore=e,this._userDataWriter=n,this._key=o,this._document=u,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Es(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Ad(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(cc("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class Ad extends bu{data(){return super.data()}}function cc(i,e){return"string"==typeof e?ac(i,e):e instanceof Pl?e._internalPath:e._delegate._internalPath}class qf{}class Md extends qf{}function Wy(i,e,...n){let o=[];e instanceof qf&&o.push(e),o=o.concat(n),function(u){const l=u.filter(T=>T instanceof kl).length,f=u.filter(T=>T instanceof Rd).length;if(l>1||l>0&&f>0)throw new ot(xe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(o);for(const u of o)i=u._apply(i);return i}class Rd extends Md{constructor(e,n,o){super(),this._field=e,this._op=n,this._value=o,this.type="where"}static _create(e,n,o){return new Rd(e,n,o)}_apply(e){const n=this._parse(e);return Yf(e._query,n),new Ns(e.firestore,e.converter,Sc(e._query,n))}_parse(e){const n=Kc(e.firestore);return function(u,l,f,T,O,V,X){let de;if(O.isKeyField()){if("array-contains"===V||"array-contains-any"===V)throw new ot(xe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${V}' queries on documentId().`);if("in"===V||"not-in"===V){Nd(X,V);const je=[];for(const nt of X)je.push(Xf(T,u,nt));de={arrayValue:{values:je}}}else de=Xf(T,u,X)}else"in"!==V&&"not-in"!==V&&"array-contains-any"!==V||Nd(X,V),de=function Qc(i,e,n,o=!1){return Tu(n,i.ya(o?4:3,e))}(f,"where",X,"in"===V||"not-in"===V);return It.create(O,V,de)}(e._query,0,n,e.firestore._databaseId,this._field,this._op,this._value)}}function Gy(i,e,n){const o=e,u=cc("where",i);return Rd._create(u,o,n)}class kl extends qf{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new kl(e,n)}_parse(e){const n=this._queryConstraints.map(o=>o._parse(e)).filter(o=>o.getFilters().length>0);return 1===n.length?n[0]:jt.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return 0===n.getFilters().length?e:(function(o,u){let l=o;const f=u.getFlattenedFilters();for(const T of f)Yf(l,T),l=Sc(l,T)}(e._query,n),new Ns(e.firestore,e.converter,Sc(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}function Xf(i,e,n){if("string"==typeof(n=(0,ae.Ku)(n))){if(""===n)throw new ot(xe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Hd(e)&&-1!==n.indexOf("/"))throw new ot(xe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const o=e.path.child(hr.fromString(n));if(!Nt.isDocumentKey(o))throw new ot(xe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${o}' is not because it has an odd number of segments (${o.length}).`);return Ca(i,new Nt(o))}if(n instanceof Es)return Ca(i,n._key);throw new ot(xe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Td(n)}.`)}function Nd(i,e){if(!Array.isArray(i)||0===i.length)throw new ot(xe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Yf(i,e){if(e.isInequality()){const o=Wu(i),u=e.field;if(null!==o&&!o.isEqual(u))throw new ot(xe.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${o.toString()}' and '${u.toString()}'`);const l=bc(i);null!==l&&function xh(i,e,n){if(!n.isEqual(e))throw new ot(xe.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}(0,u,l)}const n=function(o,u){for(const l of o)for(const f of l.getFlattenedFilters())if(u.indexOf(f.op)>=0)return f.op;return null}(i.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==n)throw new ot(xe.INVALID_ARGUMENT,n===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class Pd{convertValue(e,n="none"){switch(Ho(e)){case 0:return null;case 1:return e.booleanValue;case 2:return jr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ua(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw Je()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const o={};return Ja(e,(u,l)=>{o[u]=this.convertValue(l,n)}),o}convertGeoPoint(e){return new Ug(jr(e.latitude),jr(e.longitude))}convertArray(e,n){return(e.values||[]).map(o=>this.convertValue(o,n))}convertServerTimestamp(e,n){switch(n){case"previous":const o=$u(e);return null==o?null:this.convertValue(o,n);case"estimate":return this.convertTimestamp(la(e));default:return null}}convertTimestamp(e){const n=jo(e);return new wi(n.seconds,n.nanos)}convertDocumentKey(e,n){const o=hr.fromString(e);ht(sf(o));const u=new fo(o.get(1),o.get(3)),l=new Nt(o.popFirst(5));return u.isEqual(n)||sn(`Document ${l} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}class lc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class dc extends bu{constructor(e,n,o,u,l,f){super(e,n,o,u,f),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Ll(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const o=this._document.data.field(cc("DocumentSnapshot.get",e));if(null!==o)return this._userDataWriter.convertValue(o,n.serverTimestamps)}}}class Ll extends dc{data(e={}){return super.data(e)}}class kh{constructor(e,n,o,u){this._firestore=e,this._userDataWriter=n,this._snapshot=u,this.metadata=new lc(u.hasPendingWrites,u.fromCache),this.query=o}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(o=>{e.call(n,new Ll(this._firestore,this._userDataWriter,o.key,o,new lc(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ot(xe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let l=0;return o._snapshot.docChanges.map(f=>({type:"added",doc:new Ll(o._firestore,o._userDataWriter,f.doc.key,f.doc,new lc(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter),oldIndex:-1,newIndex:l++}))}{let l=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(f=>u||3!==f.type).map(f=>{const T=new Ll(o._firestore,o._userDataWriter,f.doc.key,f.doc,new lc(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);let O=-1,V=-1;return 0!==f.type&&(O=l.indexOf(f.doc.key),l=l.delete(f.doc.key)),1!==f.type&&(l=l.add(f.doc),V=l.indexOf(f.doc.key)),{type:C_(f.type),doc:T,oldIndex:O,newIndex:V}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function C_(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Je()}}class Yc extends Pd{constructor(e){super(),this.firestore=e}convertBytes(e){return new Nl(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Es(this.firestore,null,n)}}function S_(i){i=Lr(i,Ns);const e=Lr(i.firestore,Gi),n=Ps(e),o=new Yc(e);return function zg(i){if("L"===i.limitType&&0===i.explicitOrderBy.length)throw new ot(xe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(i._query),Ah(n,i._query).then(u=>new kh(e,o,i,u))}function N_(i,e,n,...o){i=Lr(i,Es);const u=Lr(i.firestore,Gi),l=Kc(u);let f;return f="string"==typeof(e=(0,ae.Ku)(e))||e instanceof Pl?function Ys(i,e,n,o,u,l){const f=i.ya(1,e,n),T=[Cu(e,o,n)],O=[u];if(l.length%2!=0)throw new ot(xe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let je=0;je<l.length;je+=2)T.push(Cu(e,l[je])),O.push(l[je+1]);const V=[],X=D.empty();for(let je=T.length-1;je>=0;--je)if(!Ol(V,T[je])){const nt=T[je];let bt=O[je];bt=(0,ae.Ku)(bt);const Wt=f.da(nt);if(bt instanceof qc)V.push(nt);else{const Yt=Tu(bt,Wt);null!=Yt&&(V.push(nt),X.set(nt,Yt))}}const de=new Us(V);return new Vg(X,de,f.fieldTransforms)}(l,"updateDoc",i._key,e,n,o):function xl(i,e,n,o){const u=i.ya(1,e,n);Xc("Data must be an object, but it was:",u,o);const l=[],f=D.empty();Ja(o,(O,V)=>{const X=ac(e,O,n);V=(0,ae.Ku)(V);const de=u.da(X);if(V instanceof qc)l.push(X);else{const je=Tu(V,de);null!=je&&(l.push(X),f.set(X,je))}});const T=new Us(l);return new Vg(f,T,u.fieldTransforms)}(l,"updateDoc",i._key,e),Fl(u,[f.toMutation(i._key,Wi.exists(!0))])}function P_(i){return Fl(Lr(i.firestore,Gi),[new ll(i._key,Wi.none())])}function x_(i,e){const n=Lr(i.firestore,Gi),o=Fg(i),u=function Oh(i,e,n){let o;return o=i?n&&(n.merge||n.mergeFields)?i.toFirestore(e,n):i.toFirestore(e):e,o}(i.converter,e);return Fl(n,[jg(Kc(i.firestore),"addDoc",o._key,u,null!==i.converter,{}).toMutation(o._key,Wi.exists(!1))]).then(()=>o)}function Fl(i,e){return function(n,o){const u=new Br;return n.asyncQueue.enqueueAndForget((0,te.A)(function*(){return function mg(i,e,n){return Sl.apply(this,arguments)}(yield function Ng(i){return zf(i).then(e=>e.syncEngine)}(n),o,u)})),u.promise}(Ps(i),e)}!function(i,e=!0){er=Re.MF,(0,Re.om)(new Fe.uA("firestore",(n,{instanceIdentifier:o,options:u})=>{const l=n.getProvider("app").getImmediate(),f=new Gi(new ls(n.getProvider("auth-internal")),new La(n.getProvider("app-check-internal")),function(T,O){if(!Object.prototype.hasOwnProperty.apply(T.options,["projectId"]))throw new ot(xe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new fo(T.options.projectId,O)}(l,o),l);return u=Object.assign({useFetchStreams:e},u),f._setSettings(u),f},"PUBLIC").setMultipleInstances(!0)),(0,Re.KO)(Or,"3.13.0",i),(0,Re.KO)(Or,"3.13.0","esm2017")}();class xd{constructor(e){return e}}const em="firestore",tp=new oe.nKC("angularfire2.firestore-instances");function rv(i){return(e,n)=>{const o=e.runOutsideAngular(()=>i(n));return new xd(o)}}const iv={provide:class tv{constructor(){return(0,b.CA)(em)}},deps:[[new oe.Xx1,tp]]},sv={provide:xd,useFactory:function nv(i,e){const n=(0,b.lR)(em,i,e);return n&&new xd(n)},deps:[[new oe.Xx1,tp],ie.XU]};let np=(()=>{class i{constructor(){(0,fe.KO)("angularfire",b.xv.full,"fst")}}return i.\u0275fac=function(n){return new(n||i)},i.\u0275mod=oe.$C({type:i}),i.\u0275inj=oe.G2t({providers:[sv,iv]}),i})();function Jc(i,...e){return{ngModule:np,providers:[{provide:tp,useFactory:rv(i),multi:!0,deps:[oe.SKi,oe.zZn,b.u0,ie.gL,[new oe.Xx1,pe.DF],[new oe.Xx1,J.kR],...e]}]}}const K_=(0,b.S3)(x_,!0),js=(0,b.S3)(f_,!0),X_=(0,b.S3)(P_,!0),cv=(0,b.S3)(Fg,!0),tm=(0,b.S3)(S_,!0),nE=(0,b.S3)(m_,!0),nm=(0,b.S3)(Wy,!0),lv=(0,b.S3)(N_,!0),lE=(0,b.S3)(Gy,!0)},1161:(Lt,$e,B)=>{B.d($e,{xv:()=>$u,u0:()=>tu,CA:()=>Hu,lR:()=>No,S3:()=>ru});var b=B(7705),oe=B(2214),pe=B(467),ie=B(7852),fe=B(1076),J=B(1362),te=B(8041);const Re=(D,N)=>N.some(U=>D instanceof U);let Fe,re;const qe=new WeakMap,_e=new WeakMap,vt=new WeakMap,We=new WeakMap,Vt=new WeakMap;let Cn={get(D,N,U){if(D instanceof IDBTransaction){if("done"===N)return _e.get(D);if("objectStoreNames"===N)return D.objectStoreNames||vt.get(D);if("store"===N)return U.objectStoreNames[1]?void 0:U.objectStore(U.objectStoreNames[0])}return et(D[N])},set:(D,N,U)=>(D[N]=U,!0),has:(D,N)=>D instanceof IDBTransaction&&("done"===N||"store"===N)||N in D};function Ne(D){return"function"==typeof D?function ct(D){return D!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ae(){return re||(re=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(D)?function(...N){return D.apply(_t(this),N),et(qe.get(this))}:function(...N){return et(D.apply(_t(this),N))}:function(N,...U){const ne=D.call(_t(this),N,...U);return vt.set(ne,N.sort?N.sort():[N]),et(ne)}}(D):(D instanceof IDBTransaction&&function Tn(D){if(_e.has(D))return;const N=new Promise((U,ne)=>{const Ee=()=>{D.removeEventListener("complete",Pe),D.removeEventListener("error",Ze),D.removeEventListener("abort",Ze)},Pe=()=>{U(),Ee()},Ze=()=>{ne(D.error||new DOMException("AbortError","AbortError")),Ee()};D.addEventListener("complete",Pe),D.addEventListener("error",Ze),D.addEventListener("abort",Ze)});_e.set(D,N)}(D),Re(D,function ae(){return Fe||(Fe=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(D,Cn):D)}function et(D){if(D instanceof IDBRequest)return function Ot(D){const N=new Promise((U,ne)=>{const Ee=()=>{D.removeEventListener("success",Pe),D.removeEventListener("error",Ze)},Pe=()=>{U(et(D.result)),Ee()},Ze=()=>{ne(D.error),Ee()};D.addEventListener("success",Pe),D.addEventListener("error",Ze)});return N.then(U=>{U instanceof IDBCursor&&qe.set(U,D)}).catch(()=>{}),Vt.set(N,D),N}(D);if(We.has(D))return We.get(D);const N=Ne(D);return N!==D&&(We.set(D,N),Vt.set(N,D)),N}const _t=D=>Vt.get(D),tn=["get","getKey","getAll","getAllKeys","count"],vn=["put","add","delete","clear"],Qn=new Map;function lt(D,N){if(!(D instanceof IDBDatabase)||N in D||"string"!=typeof N)return;if(Qn.get(N))return Qn.get(N);const U=N.replace(/FromIndex$/,""),ne=N!==U,Ee=vn.includes(U);if(!(U in(ne?IDBIndex:IDBObjectStore).prototype)||!Ee&&!tn.includes(U))return;const Pe=function(){var Ze=(0,pe.A)(function*(xt,...Pt){const It=this.transaction(xt,Ee?"readwrite":"readonly");let jt=It.store;return ne&&(jt=jt.index(Pt.shift())),(yield Promise.all([jt[U](...Pt),Ee&&It.done]))[0]});return function(Pt){return Ze.apply(this,arguments)}}();return Qn.set(N,Pe),Pe}!function Me(D){Cn=D(Cn)}(D=>({...D,get:(N,U,ne)=>lt(N,U)||D.get(N,U,ne),has:(N,U)=>!!lt(N,U)||D.has(N,U)}));const pn="@firebase/installations",On="0.6.4",Qr=1e4,Xr=`w:${On}`,Tr="FIS_v2",fi="https://firebaseinstallations.googleapis.com/v1",ke=36e5,it=new fe.FA("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Ke(D){return D instanceof fe.g&&D.code.includes("request-failed")}function Tt({projectId:D}){return`${fi}/projects/${D}/installations`}function mt(D){return{token:D.token,requestStatus:2,expiresIn:pr(D.expiresIn),creationTime:Date.now()}}function Mn(D,N){return Rt.apply(this,arguments)}function Rt(){return(Rt=(0,pe.A)(function*(D,N){const ne=(yield N.json()).error;return it.create("request-failed",{requestName:D,serverCode:ne.code,serverMessage:ne.message,serverStatus:ne.status})})).apply(this,arguments)}function mn({apiKey:D}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D})}function cr(D){return Jt.apply(this,arguments)}function Jt(){return(Jt=(0,pe.A)(function*(D){const N=yield D();return N.status>=500&&N.status<600?D():N})).apply(this,arguments)}function pr(D){return Number(D.replace("s","000"))}function nr(){return(nr=(0,pe.A)(function*({appConfig:D,heartbeatServiceProvider:N},{fid:U}){const ne=Tt(D),Ee=mn(D),Pe=N.getImmediate({optional:!0});if(Pe){const It=yield Pe.getHeartbeatsHeader();It&&Ee.append("x-firebase-client",It)}const xt={method:"POST",headers:Ee,body:JSON.stringify({fid:U,authVersion:Tr,appId:D.appId,sdkVersion:Xr})},Pt=yield cr(()=>fetch(ne,xt));if(Pt.ok){const It=yield Pt.json();return{fid:It.fid||U,registrationStatus:2,refreshToken:It.refreshToken,authToken:mt(It.authToken)}}throw yield Mn("Create Installation",Pt)})).apply(this,arguments)}function Ti(D){return new Promise(N=>{setTimeout(N,D)})}const Hr=/^[cdef][\w-]{21}$/,qt="";function gn(){try{const D=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(D),D[0]=112+D[0]%16;const U=function dn(D){return function ii(D){return btoa(String.fromCharCode(...D)).replace(/\+/g,"-").replace(/\//g,"_")}(D).substr(0,22)}(D);return Hr.test(U)?U:qt}catch{return qt}}function Vn(D){return`${D.appName}!${D.appId}`}const _r=new Map;function Er(D,N){const U=Vn(D);si(U,N),function kt(D,N){const U=function an(){return!Cr&&"BroadcastChannel"in self&&(Cr=new BroadcastChannel("[Firebase] FID Change"),Cr.onmessage=D=>{si(D.data.key,D.data.fid)}),Cr}();U&&U.postMessage({key:D,fid:N}),function Yr(){0===_r.size&&Cr&&(Cr.close(),Cr=null)}()}(U,N)}function si(D,N){const U=_r.get(D);if(U)for(const ne of U)ne(N)}let Cr=null;const Jr="firebase-installations-database",oi=1,Fn="firebase-installations-store";let br=null;function Zr(){return br||(br=function pt(D,N,{blocked:U,upgrade:ne,blocking:Ee,terminated:Pe}={}){const Ze=indexedDB.open(D,N),xt=et(Ze);return ne&&Ze.addEventListener("upgradeneeded",Pt=>{ne(et(Ze.result),Pt.oldVersion,Pt.newVersion,et(Ze.transaction))}),U&&Ze.addEventListener("blocked",()=>U()),xt.then(Pt=>{Pe&&Pt.addEventListener("close",()=>Pe()),Ee&&Pt.addEventListener("versionchange",()=>Ee())}).catch(()=>{}),xt}(Jr,oi,{upgrade:(D,N)=>{0===N&&D.createObjectStore(Fn)}})),br}function ai(D,N){return ui.apply(this,arguments)}function ui(){return(ui=(0,pe.A)(function*(D,N){const U=Vn(D),Ee=(yield Zr()).transaction(Fn,"readwrite"),Pe=Ee.objectStore(Fn),Ze=yield Pe.get(U);return yield Pe.put(N,U),yield Ee.done,(!Ze||Ze.fid!==N.fid)&&Er(D,N.fid),N})).apply(this,arguments)}function Ir(D){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,pe.A)(function*(D){const N=Vn(D),ne=(yield Zr()).transaction(Fn,"readwrite");yield ne.objectStore(Fn).delete(N),yield ne.done})).apply(this,arguments)}function Nn(D,N){return Sr.apply(this,arguments)}function Sr(){return(Sr=(0,pe.A)(function*(D,N){const U=Vn(D),Ee=(yield Zr()).transaction(Fn,"readwrite"),Pe=Ee.objectStore(Fn),Ze=yield Pe.get(U),xt=N(Ze);return void 0===xt?yield Pe.delete(U):yield Pe.put(xt,U),yield Ee.done,xt&&(!Ze||Ze.fid!==xt.fid)&&Er(D,xt.fid),xt})).apply(this,arguments)}function me(D){return W.apply(this,arguments)}function W(){return W=(0,pe.A)(function*(D){let N;const U=yield Nn(D.appConfig,ne=>{const Ee=function Q(D){return en(D||{fid:gn(),registrationStatus:0})}(ne),Pe=function q(D,N){if(0===N.registrationStatus){if(!navigator.onLine)return{installationEntry:N,registrationPromise:Promise.reject(it.create("app-offline"))};const U={fid:N.fid,registrationStatus:1,registrationTime:Date.now()},ne=function G(D,N){return De.apply(this,arguments)}(D,U);return{installationEntry:U,registrationPromise:ne}}return 1===N.registrationStatus?{installationEntry:N,registrationPromise:tt(D)}:{installationEntry:N}}(D,Ee);return N=Pe.registrationPromise,Pe.installationEntry});return U.fid===qt?{installationEntry:yield N}:{installationEntry:U,registrationPromise:N}}),W.apply(this,arguments)}function De(){return De=(0,pe.A)(function*(D,N){try{const U=yield function gr(D,N){return nr.apply(this,arguments)}(D,N);return ai(D.appConfig,U)}catch(U){throw Ke(U)&&409===U.customData.serverCode?yield Ir(D.appConfig):yield ai(D.appConfig,{fid:N.fid,registrationStatus:0}),U}}),De.apply(this,arguments)}function tt(D){return St.apply(this,arguments)}function St(){return(St=(0,pe.A)(function*(D){let N=yield Bt(D.appConfig);for(;1===N.registrationStatus;)yield Ti(100),N=yield Bt(D.appConfig);if(0===N.registrationStatus){const{installationEntry:U,registrationPromise:ne}=yield me(D);return ne||U}return N})).apply(this,arguments)}function Bt(D){return Nn(D,N=>{if(!N)throw it.create("installation-not-found");return en(N)})}function en(D){return function $t(D){return 1===D.registrationStatus&&D.registrationTime+Qr<Date.now()}(D)?{fid:D.fid,registrationStatus:0}:D}function ir(){return(ir=(0,pe.A)(function*({appConfig:D,heartbeatServiceProvider:N},U){const ne=function Ce(D,{fid:N}){return`${Tt(D)}/${N}/authTokens:generate`}(D,U),Ee=function wn(D,{refreshToken:N}){const U=mn(D);return U.append("Authorization",function Xn(D){return`${Tr} ${D}`}(N)),U}(D,U),Pe=N.getImmediate({optional:!0});if(Pe){const It=yield Pe.getHeartbeatsHeader();It&&Ee.append("x-firebase-client",It)}const xt={method:"POST",headers:Ee,body:JSON.stringify({installation:{sdkVersion:Xr,appId:D.appId}})},Pt=yield cr(()=>fetch(ne,xt));if(Pt.ok)return mt(yield Pt.json());throw yield Mn("Generate Auth Token",Pt)})).apply(this,arguments)}function he(D){return ye.apply(this,arguments)}function ye(){return ye=(0,pe.A)(function*(D,N=!1){let U;const ne=yield Nn(D.appConfig,Pe=>{if(!at(Pe))throw it.create("not-registered");const Ze=Pe.authToken;if(!N&&function nn(D){return 2===D.requestStatus&&!function Pn(D){const N=Date.now();return N<D.creationTime||D.creationTime+D.expiresIn<N+ke}(D)}(Ze))return Pe;if(1===Ze.requestStatus)return U=function le(D,N){return ce.apply(this,arguments)}(D,N),Pe;{if(!navigator.onLine)throw it.create("app-offline");const xt=function _n(D){const N={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},D),{authToken:N})}(Pe);return U=function Qe(D,N){return At.apply(this,arguments)}(D,xt),xt}});return U?yield U:ne.authToken}),ye.apply(this,arguments)}function ce(){return(ce=(0,pe.A)(function*(D,N){let U=yield Se(D.appConfig);for(;1===U.authToken.requestStatus;)yield Ti(100),U=yield Se(D.appConfig);const ne=U.authToken;return 0===ne.requestStatus?he(D,N):ne})).apply(this,arguments)}function Se(D){return Nn(D,N=>{if(!at(N))throw it.create("not-registered");return function jn(D){return 1===D.requestStatus&&D.requestTime+Qr<Date.now()}(N.authToken)?Object.assign(Object.assign({},N),{authToken:{requestStatus:0}}):N})}function At(){return At=(0,pe.A)(function*(D,N){try{const U=yield function on(D,N){return ir.apply(this,arguments)}(D,N),ne=Object.assign(Object.assign({},N),{authToken:U});return yield ai(D.appConfig,ne),U}catch(U){if(!Ke(U)||401!==U.customData.serverCode&&404!==U.customData.serverCode){const ne=Object.assign(Object.assign({},N),{authToken:{requestStatus:0}});yield ai(D.appConfig,ne)}else yield Ir(D.appConfig);throw U}}),At.apply(this,arguments)}function at(D){return void 0!==D&&2===D.registrationStatus}function pi(){return(pi=(0,pe.A)(function*(D){const N=D,{installationEntry:U,registrationPromise:ne}=yield me(N);return ne?ne.catch(console.error):he(N).catch(console.error),U.fid})).apply(this,arguments)}function Yn(){return Yn=(0,pe.A)(function*(D,N=!1){const U=D;return yield function Wr(D){return Yi.apply(this,arguments)}(U),(yield he(U,N)).token}),Yn.apply(this,arguments)}function Yi(){return(Yi=(0,pe.A)(function*(D){const{registrationPromise:N}=yield me(D);N&&(yield N)})).apply(this,arguments)}function ve(D){return it.create("missing-app-config-values",{valueName:D})}const Ve="installations",Et=D=>{const N=D.getProvider("app").getImmediate(),U=function we(D){if(!D||!D.options)throw ve("App Configuration");if(!D.name)throw ve("App Name");const N=["projectId","apiKey","appId"];for(const U of N)if(!D.options[U])throw ve(U);return{appName:D.name,projectId:D.options.projectId,apiKey:D.options.apiKey,appId:D.options.appId}}(N);return{app:N,appConfig:U,heartbeatServiceProvider:(0,ie.j6)(N,"heartbeat"),_delete:()=>Promise.resolve()}},un=D=>{const N=D.getProvider("app").getImmediate(),U=(0,ie.j6)(N,Ve).getImmediate();return{getId:()=>function zr(D){return pi.apply(this,arguments)}(U),getToken:Ee=>function xn(D){return Yn.apply(this,arguments)}(U,Ee)}};(function Un(){(0,ie.om)(new J.uA(Ve,Et,"PUBLIC")),(0,ie.om)(new J.uA("installations-internal",un,"PRIVATE"))})(),(0,ie.KO)(pn,On),(0,ie.KO)(pn,On,"esm2017");const $n="@firebase/remote-config",ci=new fe.FA("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Mt{constructor(N,U,ne,Ee){this.client=N,this.storage=U,this.storageCache=ne,this.logger=Ee}isCachedDataFresh(N,U){if(!U)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const ne=Date.now()-U,Ee=ne<=N;return this.logger.debug(`Config fetch cache check. Cache age millis: ${ne}. Cache max age millis (minimumFetchIntervalMillis setting): ${N}. Is cache hit: ${Ee}.`),Ee}fetch(N){var U=this;return(0,pe.A)(function*(){const[ne,Ee]=yield Promise.all([U.storage.getLastSuccessfulFetchTimestampMillis(),U.storage.getLastSuccessfulFetchResponse()]);if(Ee&&U.isCachedDataFresh(N.cacheMaxAgeMillis,ne))return Ee;N.eTag=Ee&&Ee.eTag;const Pe=yield U.client.fetch(N),Ze=[U.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Pe.status&&Ze.push(U.storage.setLastSuccessfulFetchResponse(Pe)),yield Promise.all(Ze),Pe})()}}function cn(D=navigator){return D.languages&&D.languages[0]||D.language}class rn{constructor(N,U,ne,Ee,Pe,Ze){this.firebaseInstallations=N,this.sdkVersion=U,this.namespace=ne,this.projectId=Ee,this.apiKey=Pe,this.appId=Ze}fetch(N){var U=this;return(0,pe.A)(function*(){const[ne,Ee]=yield Promise.all([U.firebaseInstallations.getId(),U.firebaseInstallations.getToken()]),Ze=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${U.projectId}/namespaces/${U.namespace}:fetch?key=${U.apiKey}`,xt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":N.eTag||"*"},Pt={sdk_version:U.sdkVersion,app_instance_id:ne,app_instance_id_token:Ee,app_id:U.appId,language_code:cn()},It={method:"POST",headers:xt,body:JSON.stringify(Pt)},jt=fetch(Ze,It),Sn=new Promise((vs,ba)=>{N.signal.addEventListener(()=>{const Vs=new Error("The operation was aborted.");Vs.name="AbortError",ba(Vs)})});let hs;try{yield Promise.race([jt,Sn]),hs=yield jt}catch(vs){let ba="fetch-client-network";throw"AbortError"===vs?.name&&(ba="fetch-timeout"),ci.create(ba,{originalErrorMessage:vs?.message})}let fs=hs.status;const zu=hs.headers.get("ETag")||void 0;let Bi,iu;if(200===hs.status){let vs;try{vs=yield hs.json()}catch(ba){throw ci.create("fetch-client-parse",{originalErrorMessage:ba?.message})}Bi=vs.entries,iu=vs.state}if("INSTANCE_STATE_UNSPECIFIED"===iu?fs=500:"NO_CHANGE"===iu?fs=304:("NO_TEMPLATE"===iu||"EMPTY_CONFIG"===iu)&&(Bi={}),304!==fs&&200!==fs)throw ci.create("fetch-status",{httpStatus:fs});return{status:fs,eTag:zu,config:Bi}})()}}class vi{constructor(N,U){this.client=N,this.storage=U}fetch(N){var U=this;return(0,pe.A)(function*(){const ne=(yield U.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return U.attemptFetch(N,ne)})()}attemptFetch(N,U){var ne=this;return(0,pe.A)(function*(Ee,{throttleEndTimeMillis:Pe,backoffCount:Ze}){yield function li(D,N){return new Promise((U,ne)=>{const Ee=Math.max(N-Date.now(),0),Pe=setTimeout(U,Ee);D.addEventListener(()=>{clearTimeout(Pe),ne(ci.create("fetch-throttle",{throttleEndTimeMillis:N}))})})}(Ee.signal,Pe);try{const xt=yield ne.client.fetch(Ee);return yield ne.storage.deleteThrottleMetadata(),xt}catch(xt){if(!function Pi(D){if(!(D instanceof fe.g&&D.customData))return!1;const N=Number(D.customData.httpStatus);return 429===N||500===N||503===N||504===N}(xt))throw xt;const Pt={throttleEndTimeMillis:Date.now()+(0,fe.p9)(Ze),backoffCount:Ze+1};return yield ne.storage.setThrottleMetadata(Pt),ne.attemptFetch(Ee,Pt)}}).apply(this,arguments)}}class ks{constructor(N,U,ne,Ee,Pe){this.app=N,this._client=U,this._storageCache=ne,this._storage=Ee,this._logger=Pe,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function qi(D,N){const U=D.target.error||void 0;return ci.create(N,{originalErrorMessage:U&&U?.message})}const ln="app_namespace_store";class mr{constructor(N,U,ne,Ee=function Hi(){return new Promise((D,N)=>{try{const U=indexedDB.open("firebase_remote_config",1);U.onerror=ne=>{N(qi(ne,"storage-open"))},U.onsuccess=ne=>{D(ne.target.result)},U.onupgradeneeded=ne=>{0===ne.oldVersion&&ne.target.result.createObjectStore(ln,{keyPath:"compositeKey"})}}catch(U){N(ci.create("storage-open",{originalErrorMessage:U?.message}))}})}()){this.appId=N,this.appName=U,this.namespace=ne,this.openDbPromise=Ee}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(N){return this.set("last_fetch_status",N)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(N){return this.set("last_successful_fetch_timestamp_millis",N)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(N){return this.set("last_successful_fetch_response",N)}getActiveConfig(){return this.get("active_config")}setActiveConfig(N){return this.set("active_config",N)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(N){return this.set("active_config_etag",N)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(N){return this.set("throttle_metadata",N)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(N){var U=this;return(0,pe.A)(function*(){const ne=yield U.openDbPromise;return new Promise((Ee,Pe)=>{const xt=ne.transaction([ln],"readonly").objectStore(ln),Pt=U.createCompositeKey(N);try{const It=xt.get(Pt);It.onerror=jt=>{Pe(qi(jt,"storage-get"))},It.onsuccess=jt=>{const Sn=jt.target.result;Ee(Sn?Sn.value:void 0)}}catch(It){Pe(ci.create("storage-get",{originalErrorMessage:It?.message}))}})})()}set(N,U){var ne=this;return(0,pe.A)(function*(){const Ee=yield ne.openDbPromise;return new Promise((Pe,Ze)=>{const Pt=Ee.transaction([ln],"readwrite").objectStore(ln),It=ne.createCompositeKey(N);try{const jt=Pt.put({compositeKey:It,value:U});jt.onerror=Sn=>{Ze(qi(Sn,"storage-set"))},jt.onsuccess=()=>{Pe()}}catch(jt){Ze(ci.create("storage-set",{originalErrorMessage:jt?.message}))}})})()}delete(N){var U=this;return(0,pe.A)(function*(){const ne=yield U.openDbPromise;return new Promise((Ee,Pe)=>{const xt=ne.transaction([ln],"readwrite").objectStore(ln),Pt=U.createCompositeKey(N);try{const It=xt.delete(Pt);It.onerror=jt=>{Pe(qi(jt,"storage-delete"))},It.onsuccess=()=>{Ee()}}catch(It){Pe(ci.create("storage-delete",{originalErrorMessage:It?.message}))}})})()}createCompositeKey(N){return[this.appId,this.appName,this.namespace,N].join()}}class yo{constructor(N){this.storage=N}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var N=this;return(0,pe.A)(function*(){const U=N.storage.getLastFetchStatus(),ne=N.storage.getLastSuccessfulFetchTimestampMillis(),Ee=N.storage.getActiveConfig(),Pe=yield U;Pe&&(N.lastFetchStatus=Pe);const Ze=yield ne;Ze&&(N.lastSuccessfulFetchTimestampMillis=Ze);const xt=yield Ee;xt&&(N.activeConfig=xt)})()}setLastFetchStatus(N){return this.lastFetchStatus=N,this.storage.setLastFetchStatus(N)}setLastSuccessfulFetchTimestampMillis(N){return this.lastSuccessfulFetchTimestampMillis=N,this.storage.setLastSuccessfulFetchTimestampMillis(N)}setActiveConfig(N){return this.activeConfig=N,this.storage.setActiveConfig(N)}}function Ka(){return Ci.apply(this,arguments)}function Ci(){return(Ci=(0,pe.A)(function*(){if(!(0,fe.zW)())return!1;try{return yield(0,fe.eX)()}catch{return!1}})).apply(this,arguments)}!function to(){(0,ie.om)(new J.uA("remote-config",function D(N,{instanceIdentifier:U}){const ne=N.getProvider("app").getImmediate(),Ee=N.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw ci.create("registration-window");if(!(0,fe.zW)())throw ci.create("indexed-db-unavailable");const{projectId:Pe,apiKey:Ze,appId:xt}=ne.options;if(!Pe)throw ci.create("registration-project-id");if(!Ze)throw ci.create("registration-api-key");if(!xt)throw ci.create("registration-app-id");const Pt=new mr(xt,ne.name,U=U||"firebase"),It=new yo(Pt),jt=new te.Vy($n);jt.logLevel=te.$b.ERROR;const Sn=new rn(Ee,ie.MF,U,Pe,Ze,xt),hs=new vi(Sn,Pt),fs=new Mt(hs,Pt,It,jt),zu=new ks(ne,fs,It,Pt,jt);return function Jn(D){const N=(0,fe.Ku)(D);N._initializePromise||(N._initializePromise=N._storageCache.loadFromStorage().then(()=>{N._isInitializationComplete=!0}))}(zu),zu},"PUBLIC").setMultipleInstances(!0)),(0,ie.KO)($n,"0.4.4"),(0,ie.KO)($n,"0.4.4","esm2017")}();const no=(D,N)=>N.some(U=>D instanceof U);let Is,_o;const Eo=new WeakMap,Ji=new WeakMap,Gr=new WeakMap,ro=new WeakMap,Ds=new WeakMap;let xi={get(D,N,U){if(D instanceof IDBTransaction){if("done"===N)return Ji.get(D);if("objectStoreNames"===N)return D.objectStoreNames||Gr.get(D);if("store"===N)return U.objectStoreNames[1]?void 0:U.objectStore(U.objectStoreNames[0])}return Rr(D[N])},set:(D,N,U)=>(D[N]=U,!0),has:(D,N)=>D instanceof IDBTransaction&&("done"===N||"store"===N)||N in D};function Gs(D){return"function"==typeof D?function dr(D){return D!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function qa(){return _o||(_o=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(D)?function(...N){return D.apply(Oi(this),N),Rr(Eo.get(this))}:function(...N){return Rr(D.apply(Oi(this),N))}:function(N,...U){const ne=D.call(Oi(this),N,...U);return Gr.set(ne,N.sort?N.sort():[N]),Rr(ne)}}(D):(D instanceof IDBTransaction&&function ni(D){if(Ji.has(D))return;const N=new Promise((U,ne)=>{const Ee=()=>{D.removeEventListener("complete",Pe),D.removeEventListener("error",Ze),D.removeEventListener("abort",Ze)},Pe=()=>{U(),Ee()},Ze=()=>{ne(D.error||new DOMException("AbortError","AbortError")),Ee()};D.addEventListener("complete",Pe),D.addEventListener("error",Ze),D.addEventListener("abort",Ze)});Ji.set(D,N)}(D),no(D,function Hn(){return Is||(Is=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(D,xi):D)}function Rr(D){if(D instanceof IDBRequest)return function io(D){const N=new Promise((U,ne)=>{const Ee=()=>{D.removeEventListener("success",Pe),D.removeEventListener("error",Ze)},Pe=()=>{U(Rr(D.result)),Ee()},Ze=()=>{ne(D.error),Ee()};D.addEventListener("success",Pe),D.addEventListener("error",Ze)});return N.then(U=>{U instanceof IDBCursor&&Eo.set(U,D)}).catch(()=>{}),Ds.set(N,D),N}(D);if(ro.has(D))return ro.get(D);const N=Gs(D);return N!==D&&(ro.set(D,N),Ds.set(N,D)),N}const Oi=D=>Ds.get(D);function ki(D,N,{blocked:U,upgrade:ne,blocking:Ee,terminated:Pe}={}){const Ze=indexedDB.open(D,N),xt=Rr(Ze);return ne&&Ze.addEventListener("upgradeneeded",Pt=>{ne(Rr(Ze.result),Pt.oldVersion,Pt.newVersion,Rr(Ze.transaction))}),U&&Ze.addEventListener("blocked",()=>U()),xt.then(Pt=>{Pe&&Pt.addEventListener("close",()=>Pe()),Ee&&Pt.addEventListener("versionchange",()=>Ee())}).catch(()=>{}),xt}function Nr(D,{blocked:N}={}){const U=indexedDB.deleteDatabase(D);return N&&U.addEventListener("blocked",()=>N()),Rr(U).then(()=>{})}const wo=["get","getKey","getAll","getAllKeys","count"],Io=["put","add","delete","clear"],so=new Map;function Ks(D,N){if(!(D instanceof IDBDatabase)||N in D||"string"!=typeof N)return;if(so.get(N))return so.get(N);const U=N.replace(/FromIndex$/,""),ne=N!==U,Ee=Io.includes(U);if(!(U in(ne?IDBIndex:IDBObjectStore).prototype)||!Ee&&!wo.includes(U))return;const Pe=function(){var Ze=(0,pe.A)(function*(xt,...Pt){const It=this.transaction(xt,Ee?"readwrite":"readonly");let jt=It.store;return ne&&(jt=jt.index(Pt.shift())),(yield Promise.all([jt[U](...Pt),Ee&&It.done]))[0]});return function(Pt){return Ze.apply(this,arguments)}}();return so.set(N,Pe),Pe}!function Ei(D){xi=D(xi)}(D=>({...D,get:(N,U,ne)=>Ks(N,U)||D.get(N,U,ne),has:(N,U)=>!!Ks(N,U)||D.has(N,U)}));const Jo="/firebase-messaging-sw.js",pa="/firebase-cloud-messaging-push-scope",Zo="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",ea="https://fcmregistrations.googleapis.com/v1",Wn="google.c.a.c_id",Zi="google.c.a.c_l",ka="google.c.a.ts";var Ls=function(D){return D.PUSH_RECEIVED="push-received",D.NOTIFICATION_CLICKED="notification-clicked",D}(Ls||{});function es(D){const N=new Uint8Array(D);return btoa(String.fromCharCode(...N)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function ga(D){const U=(D+"=".repeat((4-D.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),ne=atob(U),Ee=new Uint8Array(ne.length);for(let Pe=0;Pe<ne.length;++Pe)Ee[Pe]=ne.charCodeAt(Pe);return Ee}const To="fcm_token_details_db",ma=5,oo="fcm_token_object_Store";function bo(){return bo=(0,pe.A)(function*(D){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Pe=>Pe.name).includes(To))return null;let N=null;return(yield ki(To,ma,{upgrade:(ne=(0,pe.A)(function*(Ee,Pe,Ze,xt){var Pt;if(Pe<2||!Ee.objectStoreNames.contains(oo))return;const It=xt.objectStore(oo),jt=yield It.index("fcmSenderId").get(D);if(yield It.clear(),jt)if(2===Pe){const Sn=jt;if(!Sn.auth||!Sn.p256dh||!Sn.endpoint)return;N={token:Sn.fcmToken,createTime:null!==(Pt=Sn.createTime)&&void 0!==Pt?Pt:Date.now(),subscriptionOptions:{auth:Sn.auth,p256dh:Sn.p256dh,endpoint:Sn.endpoint,swScope:Sn.swScope,vapidKey:"string"==typeof Sn.vapidKey?Sn.vapidKey:es(Sn.vapidKey)}}}else if(3===Pe){const Sn=jt;N={token:Sn.fcmToken,createTime:Sn.createTime,subscriptionOptions:{auth:es(Sn.auth),p256dh:es(Sn.p256dh),endpoint:Sn.endpoint,swScope:Sn.swScope,vapidKey:es(Sn.vapidKey)}}}else if(4===Pe){const Sn=jt;N={token:Sn.fcmToken,createTime:Sn.createTime,subscriptionOptions:{auth:es(Sn.auth),p256dh:es(Sn.p256dh),endpoint:Sn.endpoint,swScope:Sn.swScope,vapidKey:es(Sn.vapidKey)}}}}),function(Pe,Ze,xt,Pt){return ne.apply(this,arguments)})})).close(),yield Nr(To),yield Nr("fcm_vapid_details_db"),yield Nr("undefined"),function ya(D){if(!D||!D.subscriptionOptions)return!1;const{subscriptionOptions:N}=D;return"number"==typeof D.createTime&&D.createTime>0&&"string"==typeof D.token&&D.token.length>0&&"string"==typeof N.auth&&N.auth.length>0&&"string"==typeof N.p256dh&&N.p256dh.length>0&&"string"==typeof N.endpoint&&N.endpoint.length>0&&"string"==typeof N.swScope&&N.swScope.length>0&&"string"==typeof N.vapidKey&&N.vapidKey.length>0}(N)?N:null;var ne}),bo.apply(this,arguments)}const Li="firebase-messaging-database",Ts=1,us="firebase-messaging-store";let Lo=null;function Vr(){return Lo||(Lo=ki(Li,Ts,{upgrade:(D,N)=>{0===N&&D.createObjectStore(us)}})),Lo}function ts(D){return ti.apply(this,arguments)}function ti(){return ti=(0,pe.A)(function*(D){const N=Fo(D),ne=yield(yield Vr()).transaction(us).objectStore(us).get(N);if(ne)return ne;{const Ee=yield function Co(D){return bo.apply(this,arguments)}(D.appConfig.senderId);if(Ee)return yield ta(D,Ee),Ee}}),ti.apply(this,arguments)}function ta(D,N){return ao.apply(this,arguments)}function ao(){return(ao=(0,pe.A)(function*(D,N){const U=Fo(D),Ee=(yield Vr()).transaction(us,"readwrite");return yield Ee.objectStore(us).put(N,U),yield Ee.done,N})).apply(this,arguments)}function Ss(){return(Ss=(0,pe.A)(function*(D){const N=Fo(D),ne=(yield Vr()).transaction(us,"readwrite");yield ne.objectStore(us).delete(N),yield ne.done})).apply(this,arguments)}function Fo({appConfig:D}){return D.appId}const di=new fe.FA("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function na(D,N){return bi.apply(this,arguments)}function bi(){return(bi=(0,pe.A)(function*(D,N){const U=yield ia(D),ne=Ru(N),Ee={method:"POST",headers:U,body:JSON.stringify(ne)};let Pe;try{Pe=yield(yield fetch(Si(D.appConfig),Ee)).json()}catch(Ze){throw di.create("token-subscribe-failed",{errorInfo:Ze?.toString()})}if(Pe.error)throw di.create("token-subscribe-failed",{errorInfo:Pe.error.message});if(!Pe.token)throw di.create("token-subscribe-no-token");return Pe.token})).apply(this,arguments)}function ra(){return(ra=(0,pe.A)(function*(D,N){const U=yield ia(D),ne=Ru(N.subscriptionOptions),Ee={method:"PATCH",headers:U,body:JSON.stringify(ne)};let Pe;try{Pe=yield(yield fetch(`${Si(D.appConfig)}/${N.token}`,Ee)).json()}catch(Ze){throw di.create("token-update-failed",{errorInfo:Ze?.toString()})}if(Pe.error)throw di.create("token-update-failed",{errorInfo:Pe.error.message});if(!Pe.token)throw di.create("token-update-no-token");return Pe.token})).apply(this,arguments)}function ns(D,N){return Ao.apply(this,arguments)}function Ao(){return(Ao=(0,pe.A)(function*(D,N){const ne={method:"DELETE",headers:yield ia(D)};try{const Pe=yield(yield fetch(`${Si(D.appConfig)}/${N}`,ne)).json();if(Pe.error)throw di.create("token-unsubscribe-failed",{errorInfo:Pe.error.message})}catch(Ee){throw di.create("token-unsubscribe-failed",{errorInfo:Ee?.toString()})}})).apply(this,arguments)}function Si({projectId:D}){return`${ea}/projects/${D}/registrations`}function ia(D){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,pe.A)(function*({appConfig:D,installations:N}){const U=yield N.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D.apiKey,"x-goog-firebase-installations-auth":`FIS ${U}`})})).apply(this,arguments)}function Ru({p256dh:D,auth:N,endpoint:U,vapidKey:ne}){const Ee={web:{endpoint:U,auth:N,p256dh:D}};return ne!==Zo&&(Ee.web.applicationPubKey=ne),Ee}const _a=6048e5;function sa(){return sa=(0,pe.A)(function*(D){const N=yield function Y(D,N){return ge.apply(this,arguments)}(D.swRegistration,D.vapidKey),U={vapidKey:D.vapidKey,swScope:D.swRegistration.scope,endpoint:N.endpoint,auth:es(N.getKey("auth")),p256dh:es(N.getKey("p256dh"))},ne=yield ts(D.firebaseDependencies);if(ne){if(function m(D,N){return N.vapidKey===D.vapidKey&&N.endpoint===D.endpoint&&N.auth===D.auth&&N.p256dh===D.p256dh}(ne.subscriptionOptions,U))return Date.now()>=ne.createTime+_a?function y(D,N){return E.apply(this,arguments)}(D,{token:ne.token,createTime:Date.now(),subscriptionOptions:U}):ne.token;try{yield ns(D.firebaseDependencies,ne.token)}catch(Ee){console.warn(Ee)}return P(D.firebaseDependencies,U)}return P(D.firebaseDependencies,U)}),sa.apply(this,arguments)}function j(){return j=(0,pe.A)(function*(D){const N=yield ts(D.firebaseDependencies);N&&(yield ns(D.firebaseDependencies,N.token),yield function uo(D){return Ss.apply(this,arguments)}(D.firebaseDependencies));const U=yield D.swRegistration.pushManager.getSubscription();return!U||U.unsubscribe()}),j.apply(this,arguments)}function E(){return E=(0,pe.A)(function*(D,N){try{const U=yield function va(D,N){return ra.apply(this,arguments)}(D.firebaseDependencies,N),ne=Object.assign(Object.assign({},N),{token:U,createTime:Date.now()});return yield ta(D.firebaseDependencies,ne),U}catch(U){throw yield function Ea(D){return j.apply(this,arguments)}(D),U}}),E.apply(this,arguments)}function P(D,N){return H.apply(this,arguments)}function H(){return(H=(0,pe.A)(function*(D,N){const ne={token:yield na(D,N),createTime:Date.now(),subscriptionOptions:N};return yield ta(D,ne),ne.token})).apply(this,arguments)}function ge(){return(ge=(0,pe.A)(function*(D,N){return(yield D.pushManager.getSubscription())||D.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:ga(N)})})).apply(this,arguments)}function x(D){const N={from:D.from,collapseKey:D.collapse_key,messageId:D.fcmMessageId};return function S(D,N){if(!N.notification)return;D.notification={};const U=N.notification.title;U&&(D.notification.title=U);const ne=N.notification.body;ne&&(D.notification.body=ne);const Ee=N.notification.image;Ee&&(D.notification.image=Ee);const Pe=N.notification.icon;Pe&&(D.notification.icon=Pe)}(N,D),function k(D,N){N.data&&(D.data=N.data)}(N,D),function ee(D,N){var U,ne,Ee,Pe,Ze;if(!(N.fcmOptions||null!==(U=N.notification)&&void 0!==U&&U.click_action))return;D.fcmOptions={};const xt=null!==(Ee=null===(ne=N.fcmOptions)||void 0===ne?void 0:ne.link)&&void 0!==Ee?Ee:null===(Pe=N.notification)||void 0===Pe?void 0:Pe.click_action;xt&&(D.fcmOptions.link=xt);const Pt=null===(Ze=N.fcmOptions)||void 0===Ze?void 0:Ze.analytics_label;Pt&&(D.fcmOptions.analyticsLabel=Pt)}(N,D),N}function Le(D,N){const U=[];for(let ne=0;ne<D.length;ne++)U.push(D.charAt(ne)),ne<N.length&&U.push(N.charAt(ne));return U.join("")}function Ft(D){return di.create("missing-app-config-values",{valueName:D})}Le("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Le("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class fn{constructor(N,U,ne){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Ee=function st(D){if(!D||!D.options)throw Ft("App Configuration Object");if(!D.name)throw Ft("App Name");const N=["projectId","apiKey","appId","messagingSenderId"],{options:U}=D;for(const ne of N)if(!U[ne])throw Ft(ne);return{appName:D.name,projectId:U.projectId,apiKey:U.apiKey,appId:U.appId,senderId:U.messagingSenderId}}(N);this.firebaseDependencies={app:N,appConfig:Ee,installations:U,analyticsProvider:ne}}_delete(){return Promise.resolve()}}function Zt(){return(Zt=(0,pe.A)(function*(D){try{D.swRegistration=yield navigator.serviceWorker.register(Jo,{scope:pa}),D.swRegistration.update().catch(()=>{})}catch(N){throw di.create("failed-service-worker-registration",{browserErrorMessage:N?.message})}})).apply(this,arguments)}function bn(){return(bn=(0,pe.A)(function*(D,N){if(!N&&!D.swRegistration&&(yield function hn(D){return Zt.apply(this,arguments)}(D)),N||!D.swRegistration){if(!(N instanceof ServiceWorkerRegistration))throw di.create("invalid-sw-registration");D.swRegistration=N}})).apply(this,arguments)}function xr(){return(xr=(0,pe.A)(function*(D,N){N?D.vapidKey=N:D.vapidKey||(D.vapidKey=Zo)})).apply(this,arguments)}function Ln(){return Ln=(0,pe.A)(function*(D,N){if(!navigator)throw di.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw di.create("permission-blocked");return yield function Pr(D,N){return xr.apply(this,arguments)}(D,N?.vapidKey),yield function kn(D,N){return bn.apply(this,arguments)}(D,N?.serviceWorkerRegistration),function Fs(D){return sa.apply(this,arguments)}(D)}),Ln.apply(this,arguments)}function Dr(){return(Dr=(0,pe.A)(function*(D,N,U){const ne=function Ai(D){switch(D){case Ls.NOTIFICATION_CLICKED:return"notification_open";case Ls.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(N);(yield D.firebaseDependencies.analyticsProvider.get()).logEvent(ne,{message_id:U[Wn],message_name:U[Zi],message_time:U[ka],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function ft(){return ft=(0,pe.A)(function*(D,N){const U=N.data;if(!U.isFirebaseMessaging)return;D.onMessageHandler&&U.messageType===Ls.PUSH_RECEIVED&&("function"==typeof D.onMessageHandler?D.onMessageHandler(x(U)):D.onMessageHandler.next(x(U)));const ne=U.data;(function be(D){return"object"==typeof D&&!!D&&Wn in D})(ne)&&"1"===ne["google.c.a.e"]&&(yield function er(D,N,U){return Dr.apply(this,arguments)}(D,U.messageType,ne))}),ft.apply(this,arguments)}const sn="@firebase/messaging",Ht=D=>{const N=new fn(D.getProvider("app").getImmediate(),D.getProvider("installations-internal").getImmediate(),D.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",U=>function As(D,N){return ft.apply(this,arguments)}(N,U)),N},Je=D=>{const N=D.getProvider("messaging").getImmediate();return{getToken:ne=>function Or(D,N){return Ln.apply(this,arguments)}(N,ne)}};function or(){return gt.apply(this,arguments)}function gt(){return(gt=(0,pe.A)(function*(){try{yield(0,fe.eX)()}catch{return!1}return typeof window<"u"&&(0,fe.zW)()&&(0,fe.dM)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function ht(){(0,ie.om)(new J.uA("messaging",Ht,"PUBLIC")),(0,ie.om)(new J.uA("messaging-internal",Je,"PRIVATE")),(0,ie.KO)(sn,"0.12.4"),(0,ie.KO)(sn,"0.12.4","esm2017")}();const is="analytics",wa="firebase_id",La="origin",Rn=6e4,Mi="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",hu="https://www.googletagmanager.com/gtag/js",Qt=new te.Vy("@firebase/analytics"),ss=new fe.FA("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function wi(D){if(!D.startsWith(hu)){const N=ss.create("invalid-gtag-resource",{gtagURL:D});return Qt.warn(N.message),""}return D}function Xt(D){return Promise.all(D.map(N=>N.catch(U=>U)))}function Nt(){return(Nt=(0,pe.A)(function*(D,N,U,ne,Ee,Pe){const Ze=ne[Ee];try{if(Ze)yield N[Ze];else{const Pt=(yield Xt(U)).find(It=>It.measurementId===Ee);Pt&&(yield N[Pt.appId])}}catch(xt){Qt.error(xt)}D("config",Ee,Pe)})).apply(this,arguments)}function Kn(){return(Kn=(0,pe.A)(function*(D,N,U,ne,Ee){try{let Pe=[];if(Ee&&Ee.send_to){let Ze=Ee.send_to;Array.isArray(Ze)||(Ze=[Ze]);const xt=yield Xt(U);for(const Pt of Ze){const It=xt.find(Sn=>Sn.measurementId===Pt),jt=It&&N[It.appId];if(!jt){Pe=[];break}Pe.push(jt)}}0===Pe.length&&(Pe=Object.values(N)),yield Promise.all(Pe),D("event",ne,Ee||{})}catch(Pe){Qt.error(Pe)}})).apply(this,arguments)}const pc=30,Xa=new class qs{constructor(N={},U=1e3){this.throttleMetadata=N,this.intervalMillis=U}getThrottleMetadata(N){return this.throttleMetadata[N]}setThrottleMetadata(N,U){this.throttleMetadata[N]=U}deleteThrottleMetadata(N){delete this.throttleMetadata[N]}};function Cs(D){return new Headers({Accept:"application/json","x-goog-api-key":D})}function Ou(){return(Ou=(0,pe.A)(function*(D){var N;const{appId:U,apiKey:ne}=D,Ee={method:"GET",headers:Cs(ne)},Pe=Mi.replace("{app-id}",U),Ze=yield fetch(Pe,Ee);if(200!==Ze.status&&304!==Ze.status){let xt="";try{const Pt=yield Ze.json();null!==(N=Pt.error)&&void 0!==N&&N.message&&(xt=Pt.error.message)}catch{}throw ss.create("config-fetch-failed",{httpStatus:Ze.status,responseMessage:xt})}return Ze.json()})).apply(this,arguments)}function Ii(){return(Ii=(0,pe.A)(function*(D,N=Xa,U){const{appId:ne,apiKey:Ee,measurementId:Pe}=D.options;if(!ne)throw ss.create("no-app-id");if(!Ee){if(Pe)return{measurementId:Pe,appId:ne};throw ss.create("no-api-key")}const Ze=N.getThrottleMetadata(ne)||{backoffCount:0,throttleEndTimeMillis:Date.now()},xt=new w;return setTimeout((0,pe.A)(function*(){xt.abort()}),void 0!==U?U:Rn),lo({appId:ne,apiKey:Ee,measurementId:Pe},Ze,xt,N)})).apply(this,arguments)}function lo(D,N,U){return Be.apply(this,arguments)}function Be(){return Be=(0,pe.A)(function*(D,{throttleEndTimeMillis:N,backoffCount:U},ne,Ee=Xa){var Pe;const{appId:Ze,measurementId:xt}=D;try{yield function oa(D,N){return new Promise((U,ne)=>{const Ee=Math.max(N-Date.now(),0),Pe=setTimeout(U,Ee);D.addEventListener(()=>{clearTimeout(Pe),ne(ss.create("fetch-throttle",{throttleEndTimeMillis:N}))})})}(ne,N)}catch(Pt){if(xt)return Qt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${xt} provided in the "measurementId" field in the local Firebase config. [${Pt?.message}]`),{appId:Ze,measurementId:xt};throw Pt}try{const Pt=yield function xu(D){return Ou.apply(this,arguments)}(D);return Ee.deleteThrottleMetadata(Ze),Pt}catch(Pt){const It=Pt;if(!function Ui(D){if(!(D instanceof fe.g&&D.customData))return!1;const N=Number(D.customData.httpStatus);return 429===N||500===N||503===N||504===N}(It)){if(Ee.deleteThrottleMetadata(Ze),xt)return Qt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${xt} provided in the "measurementId" field in the local Firebase config. [${It?.message}]`),{appId:Ze,measurementId:xt};throw Pt}const jt=503===Number(null===(Pe=It?.customData)||void 0===Pe?void 0:Pe.httpStatus)?(0,fe.p9)(U,Ee.intervalMillis,pc):(0,fe.p9)(U,Ee.intervalMillis),Sn={throttleEndTimeMillis:Date.now()+jt,backoffCount:U+1};return Ee.setThrottleMetadata(Ze,Sn),Qt.debug(`Calling attemptFetch again in ${jt} millis`),lo(D,Sn,ne,Ee)}}),Be.apply(this,arguments)}class w{constructor(){this.listeners=[]}addEventListener(N){this.listeners.push(N)}abort(){this.listeners.forEach(N=>N())}}let M,Ia;function R(){return(R=(0,pe.A)(function*(D,N,U,ne,Ee){if(Ee&&Ee.global)D("event",U,ne);else{const Pe=yield N;D("event",U,Object.assign(Object.assign({},ne),{send_to:Pe}))}})).apply(this,arguments)}function Qi(){return(Qi=(0,pe.A)(function*(){if(!(0,fe.zW)())return Qt.warn(ss.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,fe.eX)()}catch(D){return Qt.warn(ss.create("indexeddb-unavailable",{errorInfo:D?.toString()}).message),!1}return!0})).apply(this,arguments)}function ri(){return ri=(0,pe.A)(function*(D,N,U,ne,Ee,Pe,Ze){var xt;const Pt=function gc(D){return Ii.apply(this,arguments)}(D);Pt.then(fs=>{U[fs.measurementId]=fs.appId,D.options.measurementId&&fs.measurementId!==D.options.measurementId&&Qt.warn(`The measurement ID in the local Firebase config (${D.options.measurementId}) does not match the measurement ID fetched from the server (${fs.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(fs=>Qt.error(fs)),N.push(Pt);const It=function Uo(){return Qi.apply(this,arguments)}().then(fs=>{if(fs)return ne.getId()}),[jt,Sn]=yield Promise.all([Pt,It]);(function Ri(D){const N=window.document.getElementsByTagName("script");for(const U of Object.values(N))if(U.src&&U.src.includes(hu)&&U.src.includes(D))return U;return null})(Pe)||function hr(D,N){const U=function Ua(D,N){let U;return window.trustedTypes&&(U=window.trustedTypes.createPolicy(D,N)),U}("firebase-js-sdk-policy",{createScriptURL:wi}),ne=document.createElement("script"),Ee=`${hu}?l=${D}&id=${N}`;ne.src=U?U?.createScriptURL(Ee):Ee,ne.async=!0,document.head.appendChild(ne)}(Pe,jt.measurementId),Ia&&(Ee("consent","default",Ia),function ho(D){Ia=D}(void 0)),Ee("js",new Date);const hs=null!==(xt=Ze?.config)&&void 0!==xt?xt:{};return hs[La]="firebase",hs.update=!0,null!=Sn&&(hs[wa]=Sn),Ee("config",jt.measurementId,hs),M&&(Ee("set",M),function Qs(D){M=D}(void 0)),jt.measurementId}),ri.apply(this,arguments)}class Zc{constructor(N){this.app=N}_delete(){return delete Da[this.app.options.appId],Promise.resolve()}}let Da={},mc=[];const Ld={};let Lu,bs,Vo="dataLayer",el=!1;function tl(D,N,U){!function yc(){const D=[];if((0,fe.sr)()&&D.push("This is a browser extension environment."),(0,fe.dM)()||D.push("Cookies are not available."),D.length>0){const N=D.map((ne,Ee)=>`(${Ee+1}) ${ne}`).join(" "),U=ss.create("invalid-analytics-context",{errorInfo:N});Qt.warn(U.message)}}();const ne=D.options.appId;if(!ne)throw ss.create("no-app-id");if(!D.options.apiKey){if(!D.options.measurementId)throw ss.create("no-api-key");Qt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${D.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Da[ne])throw ss.create("already-exists",{id:ne});if(!el){!function Nu(D){let N=[];Array.isArray(window[D])?N=window[D]:window[D]=N}(Vo);const{wrappedGtag:Pe,gtagCore:Ze}=function Pu(D,N,U,ne,Ee){let Pe=function(...Ze){window[ne].push(arguments)};return window[Ee]&&"function"==typeof window[Ee]&&(Pe=window[Ee]),window[Ee]=function Ro(D,N,U,ne){function Pe(){return Pe=(0,pe.A)(function*(Ze,...xt){try{if("event"===Ze){const[Pt,It]=xt;yield function dt(D,N,U,ne,Ee){return Kn.apply(this,arguments)}(D,N,U,Pt,It)}else if("config"===Ze){const[Pt,It]=xt;yield function Fi(D,N,U,ne,Ee,Pe){return Nt.apply(this,arguments)}(D,N,U,ne,Pt,It)}else if("consent"===Ze){const[Pt]=xt;D("consent","update",Pt)}else if("get"===Ze){const[Pt,It,jt]=xt;D("get",Pt,It,jt)}else if("set"===Ze){const[Pt]=xt;D("set",Pt)}else D(Ze,...xt)}catch(Pt){Qt.error(Pt)}}),Pe.apply(this,arguments)}return function Ee(Ze){return Pe.apply(this,arguments)}}(Pe,D,N,U),{gtagCore:Pe,wrappedGtag:window[Ee]}}(Da,mc,Ld,Vo,"gtag");bs=Pe,Lu=Ze,el=!0}return Da[ne]=function aa(D,N,U,ne,Ee,Pe,Ze){return ri.apply(this,arguments)}(D,mc,Ld,N,Lu,Vo,U),new Zc(D)}function Bl(){return Uu.apply(this,arguments)}function Uu(){return(Uu=(0,pe.A)(function*(){if((0,fe.sr)()||!(0,fe.dM)()||!(0,fe.zW)())return!1;try{return yield(0,fe.eX)()}catch{return!1}})).apply(this,arguments)}const fu="@firebase/analytics";!function qr(){(0,ie.om)(new J.uA(is,(N,{options:U})=>tl(N.getProvider("app").getImmediate(),N.getProvider("installations-internal").getImmediate(),U),"PUBLIC")),(0,ie.om)(new J.uA("analytics-internal",function D(N){try{const U=N.getProvider(is).getImmediate();return{logEvent:(ne,Ee,Pe)=>function _c(D,N,U,ne){D=(0,fe.Ku)(D),function v(D,N,U,ne,Ee){return R.apply(this,arguments)}(bs,Da[D.app.options.appId],N,U,ne).catch(Ee=>Qt.error(Ee))}(U,ne,Ee,Pe)}}catch(U){throw ss.create("interop-component-reg-failed",{reason:U})}},"PRIVATE")),(0,ie.KO)(fu,"0.10.0"),(0,ie.KO)(fu,"0.10.0","esm2017")}();var nl=B(6780),Us=B(3604);const Vd=new class ju extends Us.q{}(class Bo extends nl.R{constructor(N,U){super(N,U),this.scheduler=N,this.work=U}schedule(N,U=0){return U>0?super.schedule(N,U):(this.delay=U,this.state=N,this.scheduler.flush(this),this)}execute(N,U){return U>0||this.closed?super.execute(N,U):this._execute(N,U)}requestAsyncId(N,U,ne=0){return null!=ne&&ne>0||null==ne&&this.delay>0?super.requestAsyncId(N,U,ne):(N.flush(this),0)}});var jl=B(3236),jo=B(1985),jr=B(8141),ua=B(6745),ca=B(941);const $u=new b.RxE("7.6.1"),la="__angularfire_symbol__analyticsIsSupportedValue",Za="__angularfire_symbol__analyticsIsSupported",fo="__angularfire_symbol__remoteConfigIsSupportedValue",$o="__angularfire_symbol__remoteConfigIsSupported",Ta="__angularfire_symbol__messagingIsSupportedValue",Ho="__angularfire_symbol__messagingIsSupported";function No(D,N,U){if(N){if(1===N.length)return N[0];const Pe=N.filter(Ze=>Ze.app===U);if(1===Pe.length)return Pe[0]}return U.container.getProvider(D).getImmediate({optional:!0})}globalThis[Za]||(globalThis[Za]=Bl().then(D=>globalThis[la]=D).catch(()=>globalThis[la]=!1)),globalThis[Ho]||(globalThis[Ho]=or().then(D=>globalThis[Ta]=D).catch(()=>globalThis[Ta]=!1)),globalThis[$o]||(globalThis[$o]=Ka().then(D=>globalThis[fo]=D).catch(()=>globalThis[fo]=!1));const Hu=(D,N)=>{const U=N?[N]:(0,oe.Dk)(),ne=[];return U.forEach(Ee=>{Ee.container.getProvider(D).instances.forEach(Ze=>{ne.includes(Ze)||ne.push(Ze)})}),ne};function da(){}class Ca{constructor(N,U=Vd){this.zone=N,this.delegate=U}now(){return this.delegate.now()}schedule(N,U,ne){const Ee=this.zone;return this.delegate.schedule(function(Ze){Ee.runGuarded(()=>{N.apply(this,[Ze])})},U,ne)}}class eu{constructor(N){this.zone=N,this.task=null}call(N,U){const ne=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",da,{},da,da)),U.pipe((0,jr.M)({next:ne,complete:ne,error:ne})).subscribe(N).add(ne)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let tu=(()=>{class D{constructor(U){this.ngZone=U,this.outsideAngular=U.runOutsideAngular(()=>new Ca(Zone.current)),this.insideAngular=U.run(()=>new Ca(Zone.current,jl.E)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return D.\u0275fac=function(U){return new(U||D)(b.KVO(b.SKi))},D.\u0275prov=b.jDH({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();function zi(){const D=globalThis.\u0275AngularFireScheduler;if(!D)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return D}function Po(D){return zi().ngZone.run(()=>D())}function Hl(D){return zi(),function rl(D){return function(U){return(U=U.lift(new eu(D.ngZone))).pipe((0,ua._)(D.outsideAngular),(0,ca.Q)(D.insideAngular))}}(zi())(D)}const nu=(D,N)=>function(){const ne=arguments;return N&&setTimeout(()=>{"scheduled"===N.state&&N.invoke()},10),Po(()=>D.apply(void 0,ne))},ru=(D,N)=>function(){let U;const ne=arguments;for(let Pe=0;Pe<arguments.length;Pe++)"function"==typeof ne[Pe]&&(N&&(U||(U=Po(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",da,{},da,da)))),ne[Pe]=nu(ne[Pe],U));const Ee=function $l(D){return zi().ngZone.runOutsideAngular(()=>D())}(()=>D.apply(this,ne));if(!N){if(Ee instanceof jo.c){const Pe=zi();return Ee.pipe((0,ua._)(Pe.outsideAngular),(0,ca.Q)(Pe.insideAngular))}return Po(()=>Ee)}return Ee instanceof jo.c?Ee.pipe(Hl):Ee instanceof Promise?Po(()=>new Promise((Pe,Ze)=>Ee.then(xt=>Po(()=>Pe(xt)),xt=>Po(()=>Ze(xt))))):"function"==typeof Ee&&U?function(){return setTimeout(()=>{U&&"scheduled"===U.state&&U.invoke()},10),Ee.apply(this,arguments)}:Po(()=>Ee)}},1076:(Lt,$e,B)=>{B.d($e,{Am:()=>Hr,FA:()=>Ye,Fy:()=>et,I9:()=>qt,Im:()=>Xn,K3:()=>J,Ku:()=>Sr,T9:()=>Me,Tj:()=>Tn,Uj:()=>Fe,XA:()=>ct,ZQ:()=>_t,bD:()=>nr,cY:()=>Ne,dM:()=>ke,eX:()=>fi,g:()=>Ue,hp:()=>gn,jZ:()=>pt,lT:()=>pn,lV:()=>Qn,nr:()=>Xr,p9:()=>Ir,sr:()=>vn,tD:()=>Vn,u:()=>re,yU:()=>Cn,zW:()=>Tr});const ie=function(me){const W=[];let Q=0;for(let q=0;q<me.length;q++){let G=me.charCodeAt(q);G<128?W[Q++]=G:G<2048?(W[Q++]=G>>6|192,W[Q++]=63&G|128):55296==(64512&G)&&q+1<me.length&&56320==(64512&me.charCodeAt(q+1))?(G=65536+((1023&G)<<10)+(1023&me.charCodeAt(++q)),W[Q++]=G>>18|240,W[Q++]=G>>12&63|128,W[Q++]=G>>6&63|128,W[Q++]=63&G|128):(W[Q++]=G>>12|224,W[Q++]=G>>6&63|128,W[Q++]=63&G|128)}return W},J={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(me,W){if(!Array.isArray(me))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Q=W?this.byteToCharMapWebSafe_:this.byteToCharMap_,q=[];for(let G=0;G<me.length;G+=3){const De=me[G],tt=G+1<me.length,St=tt?me[G+1]:0,Bt=G+2<me.length,en=Bt?me[G+2]:0;let ir=(15&St)<<2|en>>6,Ce=63&en;Bt||(Ce=64,tt||(ir=64)),q.push(Q[De>>2],Q[(3&De)<<4|St>>4],Q[ir],Q[Ce])}return q.join("")},encodeString(me,W){return this.HAS_NATIVE_SUPPORT&&!W?btoa(me):this.encodeByteArray(ie(me),W)},decodeString(me,W){return this.HAS_NATIVE_SUPPORT&&!W?atob(me):function(me){const W=[];let Q=0,q=0;for(;Q<me.length;){const G=me[Q++];if(G<128)W[q++]=String.fromCharCode(G);else if(G>191&&G<224){const De=me[Q++];W[q++]=String.fromCharCode((31&G)<<6|63&De)}else if(G>239&&G<365){const Bt=((7&G)<<18|(63&me[Q++])<<12|(63&me[Q++])<<6|63&me[Q++])-65536;W[q++]=String.fromCharCode(55296+(Bt>>10)),W[q++]=String.fromCharCode(56320+(1023&Bt))}else{const De=me[Q++],tt=me[Q++];W[q++]=String.fromCharCode((15&G)<<12|(63&De)<<6|63&tt)}}return W.join("")}(this.decodeStringToByteArray(me,W))},decodeStringToByteArray(me,W){this.init_();const Q=W?this.charToByteMapWebSafe_:this.charToByteMap_,q=[];for(let G=0;G<me.length;){const De=Q[me.charAt(G++)],St=G<me.length?Q[me.charAt(G)]:0;++G;const en=G<me.length?Q[me.charAt(G)]:64;++G;const on=G<me.length?Q[me.charAt(G)]:64;if(++G,null==De||null==St||null==en||null==on)throw new te;q.push(De<<2|St>>4),64!==en&&(q.push(St<<4&240|en>>2),64!==on&&q.push(en<<6&192|on))}return q},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let me=0;me<this.ENCODED_VALS.length;me++)this.byteToCharMap_[me]=this.ENCODED_VALS.charAt(me),this.charToByteMap_[this.byteToCharMap_[me]]=me,this.byteToCharMapWebSafe_[me]=this.ENCODED_VALS_WEBSAFE.charAt(me),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[me]]=me,me>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(me)]=me,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(me)]=me)}}};class te extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Fe=function(me){return function(me){const W=ie(me);return J.encodeByteArray(W,!0)}(me).replace(/\./g,"")},re=function(me){try{return J.decodeString(me,!0)}catch(W){console.error("base64Decode failed: ",W)}return null},Ot=()=>{try{return function _e(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const me=process.env.__FIREBASE_DEFAULTS__;return me?JSON.parse(me):void 0})()||(()=>{if(typeof document>"u")return;let me;try{me=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const W=me&&re(me[1]);return W&&JSON.parse(W)})()}catch(me){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${me}`)}},Tn=me=>{var W,Q;return null===(Q=null===(W=Ot())||void 0===W?void 0:W.emulatorHosts)||void 0===Q?void 0:Q[me]},Cn=me=>{const W=Tn(me);if(!W)return;const Q=W.lastIndexOf(":");if(Q<=0||Q+1===W.length)throw new Error(`Invalid host ${W} with no separate hostname and port!`);const q=parseInt(W.substring(Q+1),10);return"["===W[0]?[W.substring(1,Q-1),q]:[W.substring(0,Q),q]},Me=()=>{var me;return null===(me=Ot())||void 0===me?void 0:me.config},ct=me=>{var W;return null===(W=Ot())||void 0===W?void 0:W[`_${me}`]};class Ne{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((W,Q)=>{this.resolve=W,this.reject=Q})}wrapCallback(W){return(Q,q)=>{Q?this.reject(Q):this.resolve(q),"function"==typeof W&&(this.promise.catch(()=>{}),1===W.length?W(Q):W(Q,q))}}}function et(me,W){if(me.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const q=W||"demo-project",G=me.iat||0,De=me.sub||me.user_id;if(!De)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const tt=Object.assign({iss:`https://securetoken.google.com/${q}`,aud:q,iat:G,exp:G+3600,auth_time:G,sub:De,user_id:De,firebase:{sign_in_provider:"custom",identities:{}}},me);return[Fe(JSON.stringify({alg:"none",type:"JWT"})),Fe(JSON.stringify(tt)),""].join(".")}function _t(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function pt(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(_t())}function vn(){const me="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof me&&void 0!==me.id}function Qn(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function pn(){const me=_t();return me.indexOf("MSIE ")>=0||me.indexOf("Trident/")>=0}function Xr(){return!function Kt(){var me;const W=null===(me=Ot())||void 0===me?void 0:me.forceEnvironment;if("node"===W)return!0;if("browser"===W)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Tr(){try{return"object"==typeof indexedDB}catch{return!1}}function fi(){return new Promise((me,W)=>{try{let Q=!0;const q="validate-browser-context-for-indexeddb-analytics-module",G=self.indexedDB.open(q);G.onsuccess=()=>{G.result.close(),Q||self.indexedDB.deleteDatabase(q),me(!0)},G.onupgradeneeded=()=>{Q=!1},G.onerror=()=>{var De;W((null===(De=G.error)||void 0===De?void 0:De.message)||"")}}catch(Q){W(Q)}})}function ke(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Ue extends Error{constructor(W,Q,q){super(Q),this.code=W,this.customData=q,this.name="FirebaseError",Object.setPrototypeOf(this,Ue.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ye.prototype.create)}}class Ye{constructor(W,Q,q){this.service=W,this.serviceName=Q,this.errors=q}create(W,...Q){const q=Q[0]||{},G=`${this.service}/${W}`,De=this.errors[W],tt=De?function it(me,W){return me.replace(Ke,(Q,q)=>{const G=W[q];return null!=G?String(G):`<${q}?>`})}(De,q):"Error";return new Ue(G,`${this.serviceName}: ${tt} (${G}).`,q)}}const Ke=/\{\$([^}]+)}/g;function Xn(me){for(const W in me)if(Object.prototype.hasOwnProperty.call(me,W))return!1;return!0}function nr(me,W){if(me===W)return!0;const Q=Object.keys(me),q=Object.keys(W);for(const G of Q){if(!q.includes(G))return!1;const De=me[G],tt=W[G];if(Ti(De)&&Ti(tt)){if(!nr(De,tt))return!1}else if(De!==tt)return!1}for(const G of q)if(!Q.includes(G))return!1;return!0}function Ti(me){return null!==me&&"object"==typeof me}function Hr(me){const W=[];for(const[Q,q]of Object.entries(me))Array.isArray(q)?q.forEach(G=>{W.push(encodeURIComponent(Q)+"="+encodeURIComponent(G))}):W.push(encodeURIComponent(Q)+"="+encodeURIComponent(q));return W.length?"&"+W.join("&"):""}function qt(me){const W={};return me.replace(/^\?/,"").split("&").forEach(q=>{if(q){const[G,De]=q.split("=");W[decodeURIComponent(G)]=decodeURIComponent(De)}}),W}function gn(me){const W=me.indexOf("?");if(!W)return"";const Q=me.indexOf("#",W);return me.substring(W,Q>0?Q:void 0)}function Vn(me,W){const Q=new _r(me,W);return Q.subscribe.bind(Q)}class _r{constructor(W,Q){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Q,this.task.then(()=>{W(this)}).catch(q=>{this.error(q)})}next(W){this.forEachObserver(Q=>{Q.next(W)})}error(W){this.forEachObserver(Q=>{Q.error(W)}),this.close(W)}complete(){this.forEachObserver(W=>{W.complete()}),this.close()}subscribe(W,Q,q){let G;if(void 0===W&&void 0===Q&&void 0===q)throw new Error("Missing Observer.");G=function Ut(me,W){if("object"!=typeof me||null===me)return!1;for(const Q of W)if(Q in me&&"function"==typeof me[Q])return!0;return!1}(W,["next","error","complete"])?W:{next:W,error:Q,complete:q},void 0===G.next&&(G.next=rr),void 0===G.error&&(G.error=rr),void 0===G.complete&&(G.complete=rr);const De=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?G.error(this.finalError):G.complete()}catch{}}),this.observers.push(G),De}unsubscribeOne(W){void 0===this.observers||void 0===this.observers[W]||(delete this.observers[W],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(W){if(!this.finalized)for(let Q=0;Q<this.observers.length;Q++)this.sendOne(Q,W)}sendOne(W,Q){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[W])try{Q(this.observers[W])}catch(q){typeof console<"u"&&console.error&&console.error(q)}})}close(W){this.finalized||(this.finalized=!0,void 0!==W&&(this.finalError=W),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function rr(){}const br=1e3,Zr=2,ai=144e5,ui=.5;function Ir(me,W=br,Q=Zr){const q=W*Math.pow(Q,me),G=Math.round(ui*q*(Math.random()-.5)*2);return Math.min(ai,q+G)}function Sr(me){return me&&me._delegate?me._delegate:me}},1620:(Lt,$e,B)=>{B.d($e,{W:()=>J});var b=B(4147),oe=B(7705),pe=B(4952),ie=B(1594),fe=B(6354);const J=(te,Re)=>{const Fe=(0,oe.WQX)(pe.Nj),re=(0,oe.WQX)(b.Ix);return(0,pe.wh)(Fe).pipe((0,ie.$)(),(0,fe.T)(ae=>!!ae||re.createUrlTree(["/auth/login"],{queryParams:{returnUrl:Re.url}})))}},4796:(Lt,$e,B)=>{B.d($e,{u:()=>ie});var b=B(4952),oe=B(8455),pe=B(7705);let ie=(()=>{class fe{constructor(te){this.auth=te,this.user$=(0,b.wh)(this.auth)}signUp(te,Re){return(0,oe.H)((0,b.eJ)(this.auth,te,Re))}signIn(te,Re){return(0,oe.H)((0,b.x9)(this.auth,te,Re))}signOut(){return(0,oe.H)((0,b.CI)(this.auth))}getIdToken(){return(0,b.fN)(this.auth)}static{this.\u0275fac=function(Re){return new(Re||fe)(pe.KVO(b.Nj))}}static{this.\u0275prov=pe.jDH({token:fe,factory:fe.\u0275fac,providedIn:"root"})}}return fe})()},1326:(Lt,$e,B)=>{var b=B(345),oe=B(4147),pe=B(1620),ie=B(7705);const fe=[{path:"",redirectTo:"auth/login",pathMatch:"full"},{path:"auth",loadChildren:()=>Promise.all([B.e(417),B.e(155)]).then(B.bind(B,8155)).then(j=>j.AuthModule)},{path:"dashboard",loadChildren:()=>Promise.all([B.e(417),B.e(35)]).then(B.bind(B,1035)).then(j=>j.DashboardModule),canActivate:[pe.W]}];let J=(()=>{class j{static{this.\u0275fac=function(P){return new(P||j)}}static{this.\u0275mod=ie.$C({type:j})}static{this.\u0275inj=ie.G2t({imports:[oe.iI.forRoot(fe),oe.iI]})}}return j})(),te=(()=>{class j{constructor(){this.title="coop-app"}static{this.\u0275fac=function(P){return new(P||j)}}static{this.\u0275cmp=ie.VBU({type:j,selectors:[["app-root"]],decls:1,vars:0,template:function(P,H){1&P&&ie.nrm(0,"router-outlet")},dependencies:[oe.n3]})}}return j})();const Re_firebase={apiKey:"AIzaSyCbw8b_ag8QyunuIJIXl24SCepm439uzVU",authDomain:"coop-pro.firebaseapp.com",projectId:"coop-pro",storageBucket:"coop-pro.firebasestorage.app",messagingSenderId:"770543345465",appId:"1:770543345465:web:33089459f3d6eba9b992e8",measurementId:"G-T4463ZST23"};var Fe=B(8934),re=B(9816),ae=B(4952);class Ae{}class qe{}const _e="*";function Ot(j,y=null){return{type:2,steps:j,options:y}}function Tn(j){return{type:6,styles:j,offset:null}}class tn{constructor(y=0,E=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=y+E}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(y=>y()),this._onDoneFns=[])}onStart(y){this._originalOnStartFns.push(y),this._onStartFns.push(y)}onDone(y){this._originalOnDoneFns.push(y),this._onDoneFns.push(y)}onDestroy(y){this._onDestroyFns.push(y)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(y=>y()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(y=>y()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(y){this._position=this.totalTime?y*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(y){const E="start"==y?this._onStartFns:this._onDoneFns;E.forEach(P=>P()),E.length=0}}class vn{constructor(y){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=y;let E=0,P=0,H=0;const Y=this.players.length;0==Y?queueMicrotask(()=>this._onFinish()):this.players.forEach(ge=>{ge.onDone(()=>{++E==Y&&this._onFinish()}),ge.onDestroy(()=>{++P==Y&&this._onDestroy()}),ge.onStart(()=>{++H==Y&&this._onStart()})}),this.totalTime=this.players.reduce((ge,m)=>Math.max(ge,m.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(y=>y()),this._onDoneFns=[])}init(){this.players.forEach(y=>y.init())}onStart(y){this._onStartFns.push(y)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(y=>y()),this._onStartFns=[])}onDone(y){this._onDoneFns.push(y)}onDestroy(y){this._onDestroyFns.push(y)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(y=>y.play())}pause(){this.players.forEach(y=>y.pause())}restart(){this.players.forEach(y=>y.restart())}finish(){this._onFinish(),this.players.forEach(y=>y.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(y=>y.destroy()),this._onDestroyFns.forEach(y=>y()),this._onDestroyFns=[])}reset(){this.players.forEach(y=>y.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(y){const E=y*this.totalTime;this.players.forEach(P=>{const H=P.totalTime?Math.min(1,E/P.totalTime):1;P.setPosition(H)})}getPosition(){const y=this.players.reduce((E,P)=>null===E||P.totalTime>E.totalTime?P:E,null);return null!=y?y.getPosition():0}beforeDestroy(){this.players.forEach(y=>{y.beforeDestroy&&y.beforeDestroy()})}triggerCallback(y){const E="start"==y?this._onStartFns:this._onDoneFns;E.forEach(P=>P()),E.length=0}}function pn(j){return new ie.wOt(3e3,!1)}function Cr(j){switch(j.length){case 0:return new tn;case 1:return j[0];default:return new vn(j)}}function an(j,y,E=new Map,P=new Map){const H=[],Y=[];let ge=-1,m=null;if(y.forEach(x=>{const S=x.get("offset"),k=S==ge,ee=k&&m||new Map;x.forEach((be,Le)=>{let st=Le,Ft=be;if("offset"!==Le)switch(st=j.normalizePropertyName(st,H),Ft){case"!":Ft=E.get(Le);break;case _e:Ft=P.get(Le);break;default:Ft=j.normalizeStyleValue(Le,st,Ft,H)}ee.set(st,Ft)}),k||Y.push(ee),m=ee,ge=S}),H.length)throw function Ti(j){return new ie.wOt(3502,!1)}();return Y}function Yr(j,y,E,P){switch(y){case"start":j.onStart(()=>P(E&&Jr(E,"start",j)));break;case"done":j.onDone(()=>P(E&&Jr(E,"done",j)));break;case"destroy":j.onDestroy(()=>P(E&&Jr(E,"destroy",j)))}}function Jr(j,y,E){const Y=oi(j.element,j.triggerName,j.fromState,j.toState,y||j.phaseName,E.totalTime??j.totalTime,!!E.disabled),ge=j._data;return null!=ge&&(Y._data=ge),Y}function oi(j,y,E,P,H="",Y=0,ge){return{element:j,triggerName:y,fromState:E,toState:P,phaseName:H,totalTime:Y,disabled:!!ge}}function Fn(j,y,E){let P=j.get(y);return P||j.set(y,P=E),P}function br(j){const y=j.indexOf(":");return[j.substring(1,y),j.slice(y+1)]}const Zr=(()=>typeof document>"u"?null:document.documentElement)();function ai(j){const y=j.parentNode||j.host||null;return y===Zr?null:y}let Ir=null,Bn=!1;function W(j,y){for(;y;){if(y===j)return!0;y=ai(y)}return!1}function Q(j,y,E){if(E)return Array.from(j.querySelectorAll(y));const P=j.querySelector(y);return P?[P]:[]}let G=(()=>{class j{validateStyleProperty(E){return function Nn(j){Ir||(Ir=function me(){return typeof document<"u"?document.body:null}()||{},Bn=!!Ir.style&&"WebkitAppearance"in Ir.style);let y=!0;return Ir.style&&!function ui(j){return"ebkit"==j.substring(1,6)}(j)&&(y=j in Ir.style,!y&&Bn&&(y="Webkit"+j.charAt(0).toUpperCase()+j.slice(1)in Ir.style)),y}(E)}matchesElement(E,P){return!1}containsElement(E,P){return W(E,P)}getParentElement(E){return ai(E)}query(E,P,H){return Q(E,P,H)}computeStyle(E,P,H){return H||""}animate(E,P,H,Y,ge,m=[],x){return new tn(H,Y)}static{this.\u0275fac=function(P){return new(P||j)}}static{this.\u0275prov=ie.jDH({token:j,factory:j.\u0275fac})}}return j})(),De=(()=>{class j{static{this.NOOP=new G}}return j})();const tt=1e3,en="ng-enter",$t="ng-leave",on="ng-trigger",ir=".ng-trigger",Ce="ng-animating",he=".ng-animating";function ye(j){if("number"==typeof j)return j;const y=j.match(/^(-?[\.\d]+)(m?s)/);return!y||y.length<2?0:le(parseFloat(y[1]),y[2])}function le(j,y){return"s"===y?j*tt:j}function ce(j,y,E){return j.hasOwnProperty("duration")?j:function Se(j,y,E){let H,Y=0,ge="";if("string"==typeof j){const m=j.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===m)return y.push(pn()),{duration:0,delay:0,easing:""};H=le(parseFloat(m[1]),m[2]);const x=m[3];null!=x&&(Y=le(parseFloat(x),m[4]));const S=m[5];S&&(ge=S)}else H=j;if(!E){let m=!1,x=y.length;H<0&&(y.push(function On(){return new ie.wOt(3100,!1)}()),m=!0),Y<0&&(y.push(function Qr(){return new ie.wOt(3101,!1)}()),m=!0),m&&y.splice(x,0,pn())}return{duration:H,delay:Y,easing:ge}}(j,y,E)}function Qe(j,y={}){return Object.keys(j).forEach(E=>{y[E]=j[E]}),y}function At(j){const y=new Map;return Object.keys(j).forEach(E=>{y.set(E,j[E])}),y}function Pn(j,y=new Map,E){if(E)for(let[P,H]of E)y.set(P,H);for(let[P,H]of j)y.set(P,H);return y}function _n(j,y,E){y.forEach((P,H)=>{const Y=gi(H);E&&!E.has(H)&&E.set(H,j.style[Y]),j.style[Y]=P})}function jn(j,y){y.forEach((E,P)=>{const H=gi(P);j.style[H]=""})}function zr(j){return Array.isArray(j)?1==j.length?j[0]:Ot(j):j}const xn=new RegExp("{{\\s*(.+?)\\s*}}","g");function Yn(j){let y=[];if("string"==typeof j){let E;for(;E=xn.exec(j);)y.push(E[1]);xn.lastIndex=0}return y}function Wr(j,y,E){const P=j.toString(),H=P.replace(xn,(Y,ge)=>{let m=y[ge];return null==m&&(E.push(function Tr(j){return new ie.wOt(3003,!1)}()),m=""),m.toString()});return H==P?j:H}function Yi(j){const y=[];let E=j.next();for(;!E.done;)y.push(E.value),E=j.next();return y}const Fr=/-+([a-z0-9])/g;function gi(j){return j.replace(Fr,(...y)=>y[1].toUpperCase())}function Mr(j,y,E){switch(y.type){case 7:return j.visitTrigger(y,E);case 0:return j.visitState(y,E);case 1:return j.visitTransition(y,E);case 2:return j.visitSequence(y,E);case 3:return j.visitGroup(y,E);case 4:return j.visitAnimate(y,E);case 5:return j.visitKeyframes(y,E);case 6:return j.visitStyle(y,E);case 8:return j.visitReference(y,E);case 9:return j.visitAnimateChild(y,E);case 10:return j.visitAnimateRef(y,E);case 11:return j.visitQuery(y,E);case 12:return j.visitStagger(y,E);default:throw function fi(j){return new ie.wOt(3004,!1)}()}}function Hs(j,y){return window.getComputedStyle(j)[y]}const Un="*";function $n(j,y){const E=[];return"string"==typeof j?j.split(/\s*,\s*/).forEach(P=>function zn(j,y,E){if(":"==j[0]){const x=function ws(j,y){switch(j){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(E,P)=>parseFloat(P)>parseFloat(E);case":decrement":return(E,P)=>parseFloat(P)<parseFloat(E);default:return y.push(function pr(j){return new ie.wOt(3016,!1)}()),"* => *"}}(j,E);if("function"==typeof x)return void y.push(x);j=x}const P=j.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==P||P.length<4)return E.push(function Jt(j){return new ie.wOt(3015,!1)}()),y;const H=P[1],Y=P[2],ge=P[3];y.push(ci(H,ge));"<"==Y[0]&&!(H==Un&&ge==Un)&&y.push(ci(ge,H))}(P,E,y)):E.push(j),E}const mi=new Set(["true","1"]),yi=new Set(["false","0"]);function ci(j,y){const E=mi.has(j)||yi.has(j),P=mi.has(y)||yi.has(y);return(H,Y)=>{let ge=j==Un||j==H,m=y==Un||y==Y;return!ge&&E&&"boolean"==typeof H&&(ge=H?mi.has(j):yi.has(j)),!m&&P&&"boolean"==typeof Y&&(m=Y?mi.has(y):yi.has(y)),ge&&m}}const Xo=new RegExp("s*:selfs*,?","g");function zs(j,y,E,P){return new fa(j).build(y,E,P)}class fa{constructor(y){this._driver=y}build(y,E,P){const H=new eo(E);return this._resetContextStyleTimingState(H),Mr(this,zr(y),H)}_resetContextStyleTimingState(y){y.currentQuerySelector="",y.collectedStyles=new Map,y.collectedStyles.set("",new Map),y.currentTime=0}visitTrigger(y,E){let P=E.queryCount=0,H=E.depCount=0;const Y=[],ge=[];return"@"==y.name.charAt(0)&&E.errors.push(function He(){return new ie.wOt(3006,!1)}()),y.definitions.forEach(m=>{if(this._resetContextStyleTimingState(E),0==m.type){const x=m,S=x.name;S.toString().split(/\s*,\s*/).forEach(k=>{x.name=k,Y.push(this.visitState(x,E))}),x.name=S}else if(1==m.type){const x=this.visitTransition(m,E);P+=x.queryCount,H+=x.depCount,ge.push(x)}else E.errors.push(function Ue(){return new ie.wOt(3007,!1)}())}),{type:7,name:y.name,states:Y,transitions:ge,queryCount:P,depCount:H,options:null}}visitState(y,E){const P=this.visitStyle(y.styles,E),H=y.options&&y.options.params||null;if(P.containsDynamicStyles){const Y=new Set,ge=H||{};P.styles.forEach(m=>{m instanceof Map&&m.forEach(x=>{Yn(x).forEach(S=>{ge.hasOwnProperty(S)||Y.add(S)})})}),Y.size&&(Yi(Y.values()),E.errors.push(function Ye(j,y){return new ie.wOt(3008,!1)}()))}return{type:0,name:y.name,style:P,options:H?{params:H}:null}}visitTransition(y,E){E.queryCount=0,E.depCount=0;const P=Mr(this,zr(y.animation),E);return{type:1,matchers:$n(y.expr,E.errors),animation:P,queryCount:E.queryCount,depCount:E.depCount,options:ur(y.options)}}visitSequence(y,E){return{type:2,steps:y.steps.map(P=>Mr(this,P,E)),options:ur(y.options)}}visitGroup(y,E){const P=E.currentTime;let H=0;const Y=y.steps.map(ge=>{E.currentTime=P;const m=Mr(this,ge,E);return H=Math.max(H,E.currentTime),m});return E.currentTime=H,{type:3,steps:Y,options:ur(y.options)}}visitAnimate(y,E){const P=function Jn(j,y){if(j.hasOwnProperty("duration"))return j;if("number"==typeof j)return as(ce(j,y).duration,0,"");const E=j;if(E.split(/\s+/).some(Y=>"{"==Y.charAt(0)&&"{"==Y.charAt(1))){const Y=as(0,0,"");return Y.dynamic=!0,Y.strValue=E,Y}const H=ce(E,y);return as(H.duration,H.delay,H.easing)}(y.timings,E.errors);E.currentAnimateTimings=P;let H,Y=y.styles?y.styles:Tn({});if(5==Y.type)H=this.visitKeyframes(Y,E);else{let ge=y.styles,m=!1;if(!ge){m=!0;const S={};P.easing&&(S.easing=P.easing),ge=Tn(S)}E.currentTime+=P.duration+P.delay;const x=this.visitStyle(ge,E);x.isEmptyStep=m,H=x}return E.currentAnimateTimings=null,{type:4,timings:P,style:H,options:null}}visitStyle(y,E){const P=this._makeStyleAst(y,E);return this._validateStyleAst(P,E),P}_makeStyleAst(y,E){const P=[],H=Array.isArray(y.styles)?y.styles:[y.styles];for(let m of H)"string"==typeof m?m===_e?P.push(m):E.errors.push(new ie.wOt(3002,!1)):P.push(At(m));let Y=!1,ge=null;return P.forEach(m=>{if(m instanceof Map&&(m.has("easing")&&(ge=m.get("easing"),m.delete("easing")),!Y))for(let x of m.values())if(x.toString().indexOf("{{")>=0){Y=!0;break}}),{type:6,styles:P,easing:ge,offset:y.offset,containsDynamicStyles:Y,options:null}}_validateStyleAst(y,E){const P=E.currentAnimateTimings;let H=E.currentTime,Y=E.currentTime;P&&Y>0&&(Y-=P.duration+P.delay),y.styles.forEach(ge=>{"string"!=typeof ge&&ge.forEach((m,x)=>{const S=E.collectedStyles.get(E.currentQuerySelector),k=S.get(x);let ee=!0;k&&(Y!=H&&Y>=k.startTime&&H<=k.endTime&&(E.errors.push(function Tt(j,y,E,P,H){return new ie.wOt(3010,!1)}()),ee=!1),Y=k.startTime),ee&&S.set(x,{startTime:Y,endTime:H}),E.options&&function pi(j,y,E){const P=y.params||{},H=Yn(j);H.length&&H.forEach(Y=>{P.hasOwnProperty(Y)||E.push(function Xr(j){return new ie.wOt(3001,!1)}())})}(m,E.options,E.errors)})})}visitKeyframes(y,E){const P={type:5,styles:[],options:null};if(!E.currentAnimateTimings)return E.errors.push(function mt(){return new ie.wOt(3011,!1)}()),P;let Y=0;const ge=[];let m=!1,x=!1,S=0;const k=y.steps.map(hn=>{const Zt=this._makeStyleAst(hn,E);let kn=null!=Zt.offset?Zt.offset:function In(j){if("string"==typeof j)return null;let y=null;if(Array.isArray(j))j.forEach(E=>{if(E instanceof Map&&E.has("offset")){const P=E;y=parseFloat(P.get("offset")),P.delete("offset")}});else if(j instanceof Map&&j.has("offset")){const E=j;y=parseFloat(E.get("offset")),E.delete("offset")}return y}(Zt.styles),bn=0;return null!=kn&&(Y++,bn=Zt.offset=kn),x=x||bn<0||bn>1,m=m||bn<S,S=bn,ge.push(bn),Zt});x&&E.errors.push(function Mn(){return new ie.wOt(3012,!1)}()),m&&E.errors.push(function Rt(){return new ie.wOt(3200,!1)}());const ee=y.steps.length;let be=0;Y>0&&Y<ee?E.errors.push(function mn(){return new ie.wOt(3202,!1)}()):0==Y&&(be=1/(ee-1));const Le=ee-1,st=E.currentTime,Ft=E.currentAnimateTimings,fn=Ft.duration;return k.forEach((hn,Zt)=>{const kn=be>0?Zt==Le?1:be*Zt:ge[Zt],bn=kn*fn;E.currentTime=st+Ft.delay+bn,Ft.duration=bn,this._validateStyleAst(hn,E),hn.offset=kn,P.styles.push(hn)}),P}visitReference(y,E){return{type:8,animation:Mr(this,zr(y.animation),E),options:ur(y.options)}}visitAnimateChild(y,E){return E.depCount++,{type:9,options:ur(y.options)}}visitAnimateRef(y,E){return{type:10,animation:this.visitReference(y.animation,E),options:ur(y.options)}}visitQuery(y,E){const P=E.currentQuerySelector,H=y.options||{};E.queryCount++,E.currentQuery=y;const[Y,ge]=function $i(j){const y=!!j.split(/\s*,\s*/).find(E=>":self"==E);return y&&(j=j.replace(Xo,"")),j=j.replace(/@\*/g,ir).replace(/@\w+/g,E=>ir+"-"+E.slice(1)).replace(/:animating/g,he),[j,y]}(y.selector);E.currentQuerySelector=P.length?P+" "+Y:Y,Fn(E.collectedStyles,E.currentQuerySelector,new Map);const m=Mr(this,zr(y.animation),E);return E.currentQuery=null,E.currentQuerySelector=P,{type:11,selector:Y,limit:H.limit||0,optional:!!H.optional,includeSelf:ge,animation:m,originalSelector:y.selector,options:ur(y.options)}}visitStagger(y,E){E.currentQuery||E.errors.push(function wn(){return new ie.wOt(3013,!1)}());const P="full"===y.timings?{duration:0,delay:0,easing:"full"}:ce(y.timings,E.errors,!0);return{type:12,animation:Mr(this,zr(y.animation),E),timings:P,options:null}}}class eo{constructor(y){this.errors=y,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function ur(j){return j?(j=Qe(j)).params&&(j.params=function xo(j){return j?Qe(j):null}(j.params)):j={},j}function as(j,y,E){return{duration:j,delay:y,easing:E}}function Ni(j,y,E,P,H,Y,ge=null,m=!1){return{type:1,element:j,keyframes:y,preStyleProps:E,postStyleProps:P,duration:H,delay:Y,totalTime:H+Y,easing:ge,subTimeline:m}}class Oo{constructor(){this._map=new Map}get(y){return this._map.get(y)||[]}append(y,E){let P=this._map.get(y);P||this._map.set(y,P=[]),P.push(...E)}has(y){return this._map.has(y)}clear(){this._map.clear()}}const ps=new RegExp(":enter","g"),lr=new RegExp(":leave","g");function Mt(j,y,E,P,H,Y=new Map,ge=new Map,m,x,S=[]){return(new cn).buildKeyframes(j,y,E,P,H,Y,ge,m,x,S)}class cn{buildKeyframes(y,E,P,H,Y,ge,m,x,S,k=[]){S=S||new Oo;const ee=new li(y,E,S,H,Y,k,[]);ee.options=x;const be=x.delay?ye(x.delay):0;ee.currentTimeline.delayNextStep(be),ee.currentTimeline.setStyles([ge],null,ee.errors,x),Mr(this,P,ee);const Le=ee.timelines.filter(st=>st.containsAnimation());if(Le.length&&m.size){let st;for(let Ft=Le.length-1;Ft>=0;Ft--){const fn=Le[Ft];if(fn.element===E){st=fn;break}}st&&!st.allowOnlyTimelineStyles()&&st.setStyles([m],null,ee.errors,x)}return Le.length?Le.map(st=>st.buildKeyframes()):[Ni(E,[],[],[],0,be,"",!1)]}visitTrigger(y,E){}visitState(y,E){}visitTransition(y,E){}visitAnimateChild(y,E){const P=E.subInstructions.get(E.element);if(P){const H=E.createSubContext(y.options),Y=E.currentTimeline.currentTime,ge=this._visitSubInstructions(P,H,H.options);Y!=ge&&E.transformIntoNewTimeline(ge)}E.previousNode=y}visitAnimateRef(y,E){const P=E.createSubContext(y.options);P.transformIntoNewTimeline(),this._applyAnimationRefDelays([y.options,y.animation.options],E,P),this.visitReference(y.animation,P),E.transformIntoNewTimeline(P.currentTimeline.currentTime),E.previousNode=y}_applyAnimationRefDelays(y,E,P){for(const H of y){const Y=H?.delay;if(Y){const ge="number"==typeof Y?Y:ye(Wr(Y,H?.params??{},E.errors));P.delayNextStep(ge)}}}_visitSubInstructions(y,E,P){let Y=E.currentTimeline.currentTime;const ge=null!=P.duration?ye(P.duration):null,m=null!=P.delay?ye(P.delay):null;return 0!==ge&&y.forEach(x=>{const S=E.appendInstructionToTimeline(x,ge,m);Y=Math.max(Y,S.duration+S.delay)}),Y}visitReference(y,E){E.updateOptions(y.options,!0),Mr(this,y.animation,E),E.previousNode=y}visitSequence(y,E){const P=E.subContextCount;let H=E;const Y=y.options;if(Y&&(Y.params||Y.delay)&&(H=E.createSubContext(Y),H.transformIntoNewTimeline(),null!=Y.delay)){6==H.previousNode.type&&(H.currentTimeline.snapshotCurrentStyles(),H.previousNode=rn);const ge=ye(Y.delay);H.delayNextStep(ge)}y.steps.length&&(y.steps.forEach(ge=>Mr(this,ge,H)),H.currentTimeline.applyStylesToKeyframe(),H.subContextCount>P&&H.transformIntoNewTimeline()),E.previousNode=y}visitGroup(y,E){const P=[];let H=E.currentTimeline.currentTime;const Y=y.options&&y.options.delay?ye(y.options.delay):0;y.steps.forEach(ge=>{const m=E.createSubContext(y.options);Y&&m.delayNextStep(Y),Mr(this,ge,m),H=Math.max(H,m.currentTimeline.currentTime),P.push(m.currentTimeline)}),P.forEach(ge=>E.currentTimeline.mergeTimelineCollectedStyles(ge)),E.transformIntoNewTimeline(H),E.previousNode=y}_visitTiming(y,E){if(y.dynamic){const P=y.strValue;return ce(E.params?Wr(P,E.params,E.errors):P,E.errors)}return{duration:y.duration,delay:y.delay,easing:y.easing}}visitAnimate(y,E){const P=E.currentAnimateTimings=this._visitTiming(y.timings,E),H=E.currentTimeline;P.delay&&(E.incrementTime(P.delay),H.snapshotCurrentStyles());const Y=y.style;5==Y.type?this.visitKeyframes(Y,E):(E.incrementTime(P.duration),this.visitStyle(Y,E),H.applyStylesToKeyframe()),E.currentAnimateTimings=null,E.previousNode=y}visitStyle(y,E){const P=E.currentTimeline,H=E.currentAnimateTimings;!H&&P.hasCurrentStyleProperties()&&P.forwardFrame();const Y=H&&H.easing||y.easing;y.isEmptyStep?P.applyEmptyStep(Y):P.setStyles(y.styles,Y,E.errors,E.options),E.previousNode=y}visitKeyframes(y,E){const P=E.currentAnimateTimings,H=E.currentTimeline.duration,Y=P.duration,m=E.createSubContext().currentTimeline;m.easing=P.easing,y.styles.forEach(x=>{m.forwardTime((x.offset||0)*Y),m.setStyles(x.styles,x.easing,E.errors,E.options),m.applyStylesToKeyframe()}),E.currentTimeline.mergeTimelineCollectedStyles(m),E.transformIntoNewTimeline(H+Y),E.previousNode=y}visitQuery(y,E){const P=E.currentTimeline.currentTime,H=y.options||{},Y=H.delay?ye(H.delay):0;Y&&(6===E.previousNode.type||0==P&&E.currentTimeline.hasCurrentStyleProperties())&&(E.currentTimeline.snapshotCurrentStyles(),E.previousNode=rn);let ge=P;const m=E.invokeQuery(y.selector,y.originalSelector,y.limit,y.includeSelf,!!H.optional,E.errors);E.currentQueryTotal=m.length;let x=null;m.forEach((S,k)=>{E.currentQueryIndex=k;const ee=E.createSubContext(y.options,S);Y&&ee.delayNextStep(Y),S===E.element&&(x=ee.currentTimeline),Mr(this,y.animation,ee),ee.currentTimeline.applyStylesToKeyframe(),ge=Math.max(ge,ee.currentTimeline.currentTime)}),E.currentQueryIndex=0,E.currentQueryTotal=0,E.transformIntoNewTimeline(ge),x&&(E.currentTimeline.mergeTimelineCollectedStyles(x),E.currentTimeline.snapshotCurrentStyles()),E.previousNode=y}visitStagger(y,E){const P=E.parentContext,H=E.currentTimeline,Y=y.timings,ge=Math.abs(Y.duration),m=ge*(E.currentQueryTotal-1);let x=ge*E.currentQueryIndex;switch(Y.duration<0?"reverse":Y.easing){case"reverse":x=m-x;break;case"full":x=P.currentStaggerTime}const k=E.currentTimeline;x&&k.delayNextStep(x);const ee=k.currentTime;Mr(this,y.animation,E),E.previousNode=y,P.currentStaggerTime=H.currentTime-ee+(H.startTime-P.currentTimeline.startTime)}}const rn={};class li{constructor(y,E,P,H,Y,ge,m,x){this._driver=y,this.element=E,this.subInstructions=P,this._enterClassName=H,this._leaveClassName=Y,this.errors=ge,this.timelines=m,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=rn,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=x||new Pi(this._driver,E,0),m.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(y,E){if(!y)return;const P=y;let H=this.options;null!=P.duration&&(H.duration=ye(P.duration)),null!=P.delay&&(H.delay=ye(P.delay));const Y=P.params;if(Y){let ge=H.params;ge||(ge=this.options.params={}),Object.keys(Y).forEach(m=>{(!E||!ge.hasOwnProperty(m))&&(ge[m]=Wr(Y[m],ge,this.errors))})}}_copyOptions(){const y={};if(this.options){const E=this.options.params;if(E){const P=y.params={};Object.keys(E).forEach(H=>{P[H]=E[H]})}}return y}createSubContext(y=null,E,P){const H=E||this.element,Y=new li(this._driver,H,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(H,P||0));return Y.previousNode=this.previousNode,Y.currentAnimateTimings=this.currentAnimateTimings,Y.options=this._copyOptions(),Y.updateOptions(y),Y.currentQueryIndex=this.currentQueryIndex,Y.currentQueryTotal=this.currentQueryTotal,Y.parentContext=this,this.subContextCount++,Y}transformIntoNewTimeline(y){return this.previousNode=rn,this.currentTimeline=this.currentTimeline.fork(this.element,y),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(y,E,P){const H={duration:E??y.duration,delay:this.currentTimeline.currentTime+(P??0)+y.delay,easing:""},Y=new vi(this._driver,y.element,y.keyframes,y.preStyleProps,y.postStyleProps,H,y.stretchStartingKeyframe);return this.timelines.push(Y),H}incrementTime(y){this.currentTimeline.forwardTime(this.currentTimeline.duration+y)}delayNextStep(y){y>0&&this.currentTimeline.delayNextStep(y)}invokeQuery(y,E,P,H,Y,ge){let m=[];if(H&&m.push(this.element),y.length>0){y=(y=y.replace(ps,"."+this._enterClassName)).replace(lr,"."+this._leaveClassName);let S=this._driver.query(this.element,y,1!=P);0!==P&&(S=P<0?S.slice(S.length+P,S.length):S.slice(0,P)),m.push(...S)}return!Y&&0==m.length&&ge.push(function cr(j){return new ie.wOt(3014,!1)}()),m}}class Pi{constructor(y,E,P,H){this._driver=y,this.element=E,this.startTime=P,this._elementTimelineStylesLookup=H,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(E),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(E,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(y){const E=1===this._keyframes.size&&this._pendingStyles.size;this.duration||E?(this.forwardTime(this.currentTime+y),E&&this.snapshotCurrentStyles()):this.startTime+=y}fork(y,E){return this.applyStylesToKeyframe(),new Pi(this._driver,y,E||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(y){this.applyStylesToKeyframe(),this.duration=y,this._loadKeyframe()}_updateStyle(y,E){this._localTimelineStyles.set(y,E),this._globalTimelineStyles.set(y,E),this._styleSummary.set(y,{time:this.currentTime,value:E})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(y){y&&this._previousKeyframe.set("easing",y);for(let[E,P]of this._globalTimelineStyles)this._backFill.set(E,P||_e),this._currentKeyframe.set(E,_e);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(y,E,P,H){E&&this._previousKeyframe.set("easing",E);const Y=H&&H.params||{},ge=function Ur(j,y){const E=new Map;let P;return j.forEach(H=>{if("*"===H){P=P||y.keys();for(let Y of P)E.set(Y,_e)}else Pn(H,E)}),E}(y,this._globalTimelineStyles);for(let[m,x]of ge){const S=Wr(x,Y,P);this._pendingStyles.set(m,S),this._localTimelineStyles.has(m)||this._backFill.set(m,this._globalTimelineStyles.get(m)??_e),this._updateStyle(m,S)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((y,E)=>{this._currentKeyframe.set(E,y)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((y,E)=>{this._currentKeyframe.has(E)||this._currentKeyframe.set(E,y)}))}snapshotCurrentStyles(){for(let[y,E]of this._localTimelineStyles)this._pendingStyles.set(y,E),this._updateStyle(y,E)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const y=[];for(let E in this._currentKeyframe)y.push(E);return y}mergeTimelineCollectedStyles(y){y._styleSummary.forEach((E,P)=>{const H=this._styleSummary.get(P);(!H||E.time>H.time)&&this._updateStyle(P,E.value)})}buildKeyframes(){this.applyStylesToKeyframe();const y=new Set,E=new Set,P=1===this._keyframes.size&&0===this.duration;let H=[];this._keyframes.forEach((m,x)=>{const S=Pn(m,new Map,this._backFill);S.forEach((k,ee)=>{"!"===k?y.add(ee):k===_e&&E.add(ee)}),P||S.set("offset",x/this.duration),H.push(S)});const Y=y.size?Yi(y.values()):[],ge=E.size?Yi(E.values()):[];if(P){const m=H[0],x=new Map(m);m.set("offset",0),x.set("offset",1),H=[m,x]}return Ni(this.element,H,Y,ge,this.duration,this.startTime,this.easing,!1)}}class vi extends Pi{constructor(y,E,P,H,Y,ge,m=!1){super(y,E,ge.delay),this.keyframes=P,this.preStyleProps=H,this.postStyleProps=Y,this._stretchStartingKeyframe=m,this.timings={duration:ge.duration,delay:ge.delay,easing:ge.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let y=this.keyframes,{delay:E,duration:P,easing:H}=this.timings;if(this._stretchStartingKeyframe&&E){const Y=[],ge=P+E,m=E/ge,x=Pn(y[0]);x.set("offset",0),Y.push(x);const S=Pn(y[0]);S.set("offset",ms(m)),Y.push(S);const k=y.length-1;for(let ee=1;ee<=k;ee++){let be=Pn(y[ee]);const Le=be.get("offset");be.set("offset",ms((E+Le*P)/ge)),Y.push(be)}P=ge,E=0,H="",y=Y}return Ni(this.element,y,this.preStyleProps,this.postStyleProps,P,E,H,!0)}}function ms(j,y=3){const E=Math.pow(10,y-1);return Math.round(j*E)/E}class qi{}const ko=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Ws extends qi{normalizePropertyName(y,E){return gi(y)}normalizeStyleValue(y,E,P,H){let Y="";const ge=P.toString().trim();if(ko.has(E)&&0!==P&&"0"!==P)if("number"==typeof P)Y="px";else{const m=P.match(/^[+-]?[\d\.]+([a-z]*)$/);m&&0==m[1].length&&H.push(function ke(j,y){return new ie.wOt(3005,!1)}())}return ge+Y}}function Hi(j,y,E,P,H,Y,ge,m,x,S,k,ee,be){return{type:0,element:j,triggerName:y,isRemovalTransition:H,fromState:E,fromStyles:Y,toState:P,toStyles:ge,timelines:m,queriedElements:x,preStyleProps:S,postStyleProps:k,totalTime:ee,errors:be}}const mr={};class yo{constructor(y,E,P){this._triggerName=y,this.ast=E,this._stateStyles=P}match(y,E,P,H){return function _i(j,y,E,P,H){return j.some(Y=>Y(y,E,P,H))}(this.ast.matchers,y,E,P,H)}buildStyles(y,E,P){let H=this._stateStyles.get("*");return void 0!==y&&(H=this._stateStyles.get(y?.toString())||H),H?H.buildStyles(E,P):new Map}build(y,E,P,H,Y,ge,m,x,S,k){const ee=[],be=this.ast.options&&this.ast.options.params||mr,st=this.buildStyles(P,m&&m.params||mr,ee),Ft=x&&x.params||mr,fn=this.buildStyles(H,Ft,ee),hn=new Set,Zt=new Map,kn=new Map,bn="void"===H,Pr={params:vo(Ft,be),delay:this.ast.options?.delay},xr=k?[]:Mt(y,E,this.ast.animation,Y,ge,st,fn,Pr,S,ee);let Or=0;if(xr.forEach(er=>{Or=Math.max(er.duration+er.delay,Or)}),ee.length)return Hi(E,this._triggerName,P,H,bn,st,fn,[],[],Zt,kn,Or,ee);xr.forEach(er=>{const Dr=er.element,Ai=Fn(Zt,Dr,new Set);er.preStyleProps.forEach(ft=>Ai.add(ft));const As=Fn(kn,Dr,new Set);er.postStyleProps.forEach(ft=>As.add(ft)),Dr!==E&&hn.add(Dr)});const Ln=Yi(hn.values());return Hi(E,this._triggerName,P,H,bn,st,fn,xr,Ln,Zt,kn,Or)}}function vo(j,y){const E=Qe(y);for(const P in j)j.hasOwnProperty(P)&&null!=j[P]&&(E[P]=j[P]);return E}class Ka{constructor(y,E,P){this.styles=y,this.defaultParams=E,this.normalizer=P}buildStyles(y,E){const P=new Map,H=Qe(this.defaultParams);return Object.keys(y).forEach(Y=>{const ge=y[Y];null!==ge&&(H[Y]=ge)}),this.styles.styles.forEach(Y=>{"string"!=typeof Y&&Y.forEach((ge,m)=>{ge&&(ge=Wr(ge,H,E));const x=this.normalizer.normalizePropertyName(m,E);ge=this.normalizer.normalizeStyleValue(m,x,ge,E),P.set(m,ge)})}),P}}class no{constructor(y,E,P){this.name=y,this.ast=E,this._normalizer=P,this.transitionFactories=[],this.states=new Map,E.states.forEach(H=>{this.states.set(H.name,new Ka(H.style,H.options&&H.options.params||{},P))}),_o(this.states,"true","1"),_o(this.states,"false","0"),E.transitions.forEach(H=>{this.transitionFactories.push(new yo(y,H,this.states))}),this.fallbackTransition=function Is(j,y,E){return new yo(j,{type:1,animation:{type:2,steps:[],options:null},matchers:[(ge,m)=>!0],options:null,queryCount:0,depCount:0},y)}(y,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(y,E,P,H){return this.transitionFactories.find(ge=>ge.match(y,E,P,H))||null}matchStyles(y,E,P){return this.fallbackTransition.buildStyles(y,E,P)}}function _o(j,y,E){j.has(y)?j.has(E)||j.set(E,j.get(y)):j.has(E)&&j.set(y,j.get(E))}const Hn=new Oo;class qa{constructor(y,E,P){this.bodyNode=y,this._driver=E,this._normalizer=P,this._animations=new Map,this._playersById=new Map,this.players=[]}register(y,E){const P=[],Y=zs(this._driver,E,P,[]);if(P.length)throw function ii(j){return new ie.wOt(3503,!1)}();this._animations.set(y,Y)}_buildPlayer(y,E,P){const H=y.element,Y=an(this._normalizer,y.keyframes,E,P);return this._driver.animate(H,Y,y.duration,y.delay,y.easing,[],!0)}create(y,E,P={}){const H=[],Y=this._animations.get(y);let ge;const m=new Map;if(Y?(ge=Mt(this._driver,E,Y,en,$t,new Map,new Map,P,Hn,H),ge.forEach(k=>{const ee=Fn(m,k.element,new Map);k.postStyleProps.forEach(be=>ee.set(be,null))})):(H.push(function Hr(){return new ie.wOt(3300,!1)}()),ge=[]),H.length)throw function qt(j){return new ie.wOt(3504,!1)}();m.forEach((k,ee)=>{k.forEach((be,Le)=>{k.set(Le,this._driver.computeStyle(ee,Le,_e))})});const S=Cr(ge.map(k=>{const ee=m.get(k.element);return this._buildPlayer(k,new Map,ee)}));return this._playersById.set(y,S),S.onDestroy(()=>this.destroy(y)),this.players.push(S),S}destroy(y){const E=this._getPlayer(y);E.destroy(),this._playersById.delete(y);const P=this.players.indexOf(E);P>=0&&this.players.splice(P,1)}_getPlayer(y){const E=this._playersById.get(y);if(!E)throw function gn(j){return new ie.wOt(3301,!1)}();return E}listen(y,E,P,H){const Y=oi(E,"","","");return Yr(this._getPlayer(y),P,Y,H),()=>{}}command(y,E,P,H){if("register"==P)return void this.register(y,H[0]);if("create"==P)return void this.create(y,E,H[0]||{});const Y=this._getPlayer(y);switch(P){case"play":Y.play();break;case"pause":Y.pause();break;case"reset":Y.reset();break;case"restart":Y.restart();break;case"finish":Y.finish();break;case"init":Y.init();break;case"setPosition":Y.setPosition(parseFloat(H[0]));break;case"destroy":this.destroy(y)}}}const Eo="ng-animate-queued",Gr="ng-animate-disabled",ni=[],xi={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Ei={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},dr="__ng_removed";class Gs{get params(){return this.options.params}constructor(y,E=""){this.namespaceId=E;const P=y&&y.hasOwnProperty("value");if(this.value=function so(j){return j??null}(P?y.value:y),P){const Y=Qe(y);delete Y.value,this.options=Y}else this.options={};this.options.params||(this.options.params={})}absorbOptions(y){const E=y.params;if(E){const P=this.options.params;Object.keys(E).forEach(H=>{null==P[H]&&(P[H]=E[H])})}}}const Rr="void",Oi=new Gs(Rr);class ki{constructor(y,E,P){this.id=y,this.hostElement=E,this._engine=P,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+y,Wn(E,this._hostClassName)}listen(y,E,P,H){if(!this._triggers.has(E))throw function dn(j,y){return new ie.wOt(3302,!1)}();if(null==P||0==P.length)throw function Vn(j){return new ie.wOt(3303,!1)}();if(!function Jo(j){return"start"==j||"done"==j}(P))throw function _r(j,y){return new ie.wOt(3400,!1)}();const Y=Fn(this._elementListeners,y,[]),ge={name:E,phase:P,callback:H};Y.push(ge);const m=Fn(this._engine.statesByElement,y,new Map);return m.has(E)||(Wn(y,on),Wn(y,on+"-"+E),m.set(E,Oi)),()=>{this._engine.afterFlush(()=>{const x=Y.indexOf(ge);x>=0&&Y.splice(x,1),this._triggers.has(E)||m.delete(E)})}}register(y,E){return!this._triggers.has(y)&&(this._triggers.set(y,E),!0)}_getTrigger(y){const E=this._triggers.get(y);if(!E)throw function Er(j){return new ie.wOt(3401,!1)}();return E}trigger(y,E,P,H=!0){const Y=this._getTrigger(E),ge=new wo(this.id,E,y);let m=this._engine.statesByElement.get(y);m||(Wn(y,on),Wn(y,on+"-"+E),this._engine.statesByElement.set(y,m=new Map));let x=m.get(E);const S=new Gs(P,this.id);if(!(P&&P.hasOwnProperty("value"))&&x&&S.absorbOptions(x.options),m.set(E,S),x||(x=Oi),S.value!==Rr&&x.value===S.value){if(!function Ls(j,y){const E=Object.keys(j),P=Object.keys(y);if(E.length!=P.length)return!1;for(let H=0;H<E.length;H++){const Y=E[H];if(!y.hasOwnProperty(Y)||j[Y]!==y[Y])return!1}return!0}(x.params,S.params)){const Ft=[],fn=Y.matchStyles(x.value,x.params,Ft),hn=Y.matchStyles(S.value,S.params,Ft);Ft.length?this._engine.reportError(Ft):this._engine.afterFlush(()=>{jn(y,fn),_n(y,hn)})}return}const be=Fn(this._engine.playersByElement,y,[]);be.forEach(Ft=>{Ft.namespaceId==this.id&&Ft.triggerName==E&&Ft.queued&&Ft.destroy()});let Le=Y.matchTransition(x.value,S.value,y,S.params),st=!1;if(!Le){if(!H)return;Le=Y.fallbackTransition,st=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:y,triggerName:E,transition:Le,fromState:x,toState:S,player:ge,isFallbackTransition:st}),st||(Wn(y,Eo),ge.onStart(()=>{Zi(y,Eo)})),ge.onDone(()=>{let Ft=this.players.indexOf(ge);Ft>=0&&this.players.splice(Ft,1);const fn=this._engine.playersByElement.get(y);if(fn){let hn=fn.indexOf(ge);hn>=0&&fn.splice(hn,1)}}),this.players.push(ge),be.push(ge),ge}deregister(y){this._triggers.delete(y),this._engine.statesByElement.forEach(E=>E.delete(y)),this._elementListeners.forEach((E,P)=>{this._elementListeners.set(P,E.filter(H=>H.name!=y))})}clearElementCache(y){this._engine.statesByElement.delete(y),this._elementListeners.delete(y);const E=this._engine.playersByElement.get(y);E&&(E.forEach(P=>P.destroy()),this._engine.playersByElement.delete(y))}_signalRemovalForInnerTriggers(y,E){const P=this._engine.driver.query(y,ir,!0);P.forEach(H=>{if(H[dr])return;const Y=this._engine.fetchNamespacesByElement(H);Y.size?Y.forEach(ge=>ge.triggerLeaveAnimation(H,E,!1,!0)):this.clearElementCache(H)}),this._engine.afterFlushAnimationsDone(()=>P.forEach(H=>this.clearElementCache(H)))}triggerLeaveAnimation(y,E,P,H){const Y=this._engine.statesByElement.get(y),ge=new Map;if(Y){const m=[];if(Y.forEach((x,S)=>{if(ge.set(S,x.value),this._triggers.has(S)){const k=this.trigger(y,S,Rr,H);k&&m.push(k)}}),m.length)return this._engine.markElementAsRemoved(this.id,y,!0,E,ge),P&&Cr(m).onDone(()=>this._engine.processLeaveNode(y)),!0}return!1}prepareLeaveAnimationListeners(y){const E=this._elementListeners.get(y),P=this._engine.statesByElement.get(y);if(E&&P){const H=new Set;E.forEach(Y=>{const ge=Y.name;if(H.has(ge))return;H.add(ge);const x=this._triggers.get(ge).fallbackTransition,S=P.get(ge)||Oi,k=new Gs(Rr),ee=new wo(this.id,ge,y);this._engine.totalQueuedPlayers++,this._queue.push({element:y,triggerName:ge,transition:x,fromState:S,toState:k,player:ee,isFallbackTransition:!0})})}}removeNode(y,E){const P=this._engine;if(y.childElementCount&&this._signalRemovalForInnerTriggers(y,E),this.triggerLeaveAnimation(y,E,!0))return;let H=!1;if(P.totalAnimations){const Y=P.players.length?P.playersByQueriedElement.get(y):[];if(Y&&Y.length)H=!0;else{let ge=y;for(;ge=ge.parentNode;)if(P.statesByElement.get(ge)){H=!0;break}}}if(this.prepareLeaveAnimationListeners(y),H)P.markElementAsRemoved(this.id,y,!1,E);else{const Y=y[dr];(!Y||Y===xi)&&(P.afterFlush(()=>this.clearElementCache(y)),P.destroyInnerAnimations(y),P._onRemovalComplete(y,E))}}insertNode(y,E){Wn(y,this._hostClassName)}drainQueuedTransitions(y){const E=[];return this._queue.forEach(P=>{const H=P.player;if(H.destroyed)return;const Y=P.element,ge=this._elementListeners.get(Y);ge&&ge.forEach(m=>{if(m.name==P.triggerName){const x=oi(Y,P.triggerName,P.fromState.value,P.toState.value);x._data=y,Yr(P.player,m.phase,x,m.callback)}}),H.markedForDestroy?this._engine.afterFlush(()=>{H.destroy()}):E.push(P)}),this._queue=[],E.sort((P,H)=>{const Y=P.transition.ast.depCount,ge=H.transition.ast.depCount;return 0==Y||0==ge?Y-ge:this._engine.driver.containsElement(P.element,H.element)?1:-1})}destroy(y){this.players.forEach(E=>E.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,y)}}class Nr{_onRemovalComplete(y,E){this.onRemovalComplete(y,E)}constructor(y,E,P){this.bodyNode=y,this.driver=E,this._normalizer=P,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(H,Y)=>{}}get queuedPlayers(){const y=[];return this._namespaceList.forEach(E=>{E.players.forEach(P=>{P.queued&&y.push(P)})}),y}createNamespace(y,E){const P=new ki(y,E,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,E)?this._balanceNamespaceList(P,E):(this.newHostElements.set(E,P),this.collectEnterElement(E)),this._namespaceLookup[y]=P}_balanceNamespaceList(y,E){const P=this._namespaceList,H=this.namespacesByHostElement;if(P.length-1>=0){let ge=!1,m=this.driver.getParentElement(E);for(;m;){const x=H.get(m);if(x){const S=P.indexOf(x);P.splice(S+1,0,y),ge=!0;break}m=this.driver.getParentElement(m)}ge||P.unshift(y)}else P.push(y);return H.set(E,y),y}register(y,E){let P=this._namespaceLookup[y];return P||(P=this.createNamespace(y,E)),P}registerTrigger(y,E,P){let H=this._namespaceLookup[y];H&&H.register(E,P)&&this.totalAnimations++}destroy(y,E){y&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const P=this._fetchNamespace(y);this.namespacesByHostElement.delete(P.hostElement);const H=this._namespaceList.indexOf(P);H>=0&&this._namespaceList.splice(H,1),P.destroy(E),delete this._namespaceLookup[y]}))}_fetchNamespace(y){return this._namespaceLookup[y]}fetchNamespacesByElement(y){const E=new Set,P=this.statesByElement.get(y);if(P)for(let H of P.values())if(H.namespaceId){const Y=this._fetchNamespace(H.namespaceId);Y&&E.add(Y)}return E}trigger(y,E,P,H){if(Ks(E)){const Y=this._fetchNamespace(y);if(Y)return Y.trigger(E,P,H),!0}return!1}insertNode(y,E,P,H){if(!Ks(E))return;const Y=E[dr];if(Y&&Y.setForRemoval){Y.setForRemoval=!1,Y.setForMove=!0;const ge=this.collectedLeaveElements.indexOf(E);ge>=0&&this.collectedLeaveElements.splice(ge,1)}if(y){const ge=this._fetchNamespace(y);ge&&ge.insertNode(E,P)}H&&this.collectEnterElement(E)}collectEnterElement(y){this.collectedEnterElements.push(y)}markElementAsDisabled(y,E){E?this.disabledNodes.has(y)||(this.disabledNodes.add(y),Wn(y,Gr)):this.disabledNodes.has(y)&&(this.disabledNodes.delete(y),Zi(y,Gr))}removeNode(y,E,P){if(Ks(E)){const H=y?this._fetchNamespace(y):null;H?H.removeNode(E,P):this.markElementAsRemoved(y,E,!1,P);const Y=this.namespacesByHostElement.get(E);Y&&Y.id!==y&&Y.removeNode(E,P)}else this._onRemovalComplete(E,P)}markElementAsRemoved(y,E,P,H,Y){this.collectedLeaveElements.push(E),E[dr]={namespaceId:y,setForRemoval:H,hasAnimation:P,removedBeforeQueried:!1,previousTriggersValues:Y}}listen(y,E,P,H,Y){return Ks(E)?this._fetchNamespace(y).listen(E,P,H,Y):()=>{}}_buildInstruction(y,E,P,H,Y){return y.transition.build(this.driver,y.element,y.fromState.value,y.toState.value,P,H,y.fromState.options,y.toState.options,E,Y)}destroyInnerAnimations(y){let E=this.driver.query(y,ir,!0);E.forEach(P=>this.destroyActiveAnimationsForElement(P)),0!=this.playersByQueriedElement.size&&(E=this.driver.query(y,he,!0),E.forEach(P=>this.finishActiveQueriedAnimationOnElement(P)))}destroyActiveAnimationsForElement(y){const E=this.playersByElement.get(y);E&&E.forEach(P=>{P.queued?P.markedForDestroy=!0:P.destroy()})}finishActiveQueriedAnimationOnElement(y){const E=this.playersByQueriedElement.get(y);E&&E.forEach(P=>P.finish())}whenRenderingDone(){return new Promise(y=>{if(this.players.length)return Cr(this.players).onDone(()=>y());y()})}processLeaveNode(y){const E=y[dr];if(E&&E.setForRemoval){if(y[dr]=xi,E.namespaceId){this.destroyInnerAnimations(y);const P=this._fetchNamespace(E.namespaceId);P&&P.clearElementCache(y)}this._onRemovalComplete(y,E.setForRemoval)}y.classList?.contains(Gr)&&this.markElementAsDisabled(y,!1),this.driver.query(y,".ng-animate-disabled",!0).forEach(P=>{this.markElementAsDisabled(P,!1)})}flush(y=-1){let E=[];if(this.newHostElements.size&&(this.newHostElements.forEach((P,H)=>this._balanceNamespaceList(P,H)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let P=0;P<this.collectedEnterElements.length;P++)Wn(this.collectedEnterElements[P],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const P=[];try{E=this._flushAnimations(P,y)}finally{for(let H=0;H<P.length;H++)P[H]()}}else for(let P=0;P<this.collectedLeaveElements.length;P++)this.processLeaveNode(this.collectedLeaveElements[P]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(P=>P()),this._flushFns=[],this._whenQuietFns.length){const P=this._whenQuietFns;this._whenQuietFns=[],E.length?Cr(E).onDone(()=>{P.forEach(H=>H())}):P.forEach(H=>H())}}reportError(y){throw function Ut(j){return new ie.wOt(3402,!1)}()}_flushAnimations(y,E){const P=new Oo,H=[],Y=new Map,ge=[],m=new Map,x=new Map,S=new Map,k=new Set;this.disabledNodes.forEach(Ht=>{k.add(Ht);const Je=this.driver.query(Ht,".ng-animate-queued",!0);for(let ht=0;ht<Je.length;ht++)k.add(Je[ht])});const ee=this.bodyNode,be=Array.from(this.statesByElement.keys()),Le=ea(be,this.collectedEnterElements),st=new Map;let Ft=0;Le.forEach((Ht,Je)=>{const ht=en+Ft++;st.set(Je,ht),Ht.forEach(or=>Wn(or,ht))});const fn=[],hn=new Set,Zt=new Set;for(let Ht=0;Ht<this.collectedLeaveElements.length;Ht++){const Je=this.collectedLeaveElements[Ht],ht=Je[dr];ht&&ht.setForRemoval&&(fn.push(Je),hn.add(Je),ht.hasAnimation?this.driver.query(Je,".ng-star-inserted",!0).forEach(or=>hn.add(or)):Zt.add(Je))}const kn=new Map,bn=ea(be,Array.from(hn));bn.forEach((Ht,Je)=>{const ht=$t+Ft++;kn.set(Je,ht),Ht.forEach(or=>Wn(or,ht))}),y.push(()=>{Le.forEach((Ht,Je)=>{const ht=st.get(Je);Ht.forEach(or=>Zi(or,ht))}),bn.forEach((Ht,Je)=>{const ht=kn.get(Je);Ht.forEach(or=>Zi(or,ht))}),fn.forEach(Ht=>{this.processLeaveNode(Ht)})});const Pr=[],xr=[];for(let Ht=this._namespaceList.length-1;Ht>=0;Ht--)this._namespaceList[Ht].drainQueuedTransitions(E).forEach(ht=>{const or=ht.player,gt=ht.element;if(Pr.push(or),this.collectedEnterElements.length){const ls=gt[dr];if(ls&&ls.setForMove){if(ls.previousTriggersValues&&ls.previousTriggersValues.has(ht.triggerName)){const rs=ls.previousTriggersValues.get(ht.triggerName),is=this.statesByElement.get(ht.element);if(is&&is.has(ht.triggerName)){const wa=is.get(ht.triggerName);wa.value=rs,is.set(ht.triggerName,wa)}}return void or.destroy()}}const xe=!ee||!this.driver.containsElement(ee,gt),ot=kn.get(gt),Br=st.get(gt),Kr=this._buildInstruction(ht,P,Br,ot,xe);if(Kr.errors&&Kr.errors.length)return void xr.push(Kr);if(xe)return or.onStart(()=>jn(gt,Kr.fromStyles)),or.onDestroy(()=>_n(gt,Kr.toStyles)),void H.push(or);if(ht.isFallbackTransition)return or.onStart(()=>jn(gt,Kr.fromStyles)),or.onDestroy(()=>_n(gt,Kr.toStyles)),void H.push(or);const Mo=[];Kr.timelines.forEach(ls=>{ls.stretchStartingKeyframe=!0,this.disabledNodes.has(ls.element)||Mo.push(ls)}),Kr.timelines=Mo,P.append(gt,Kr.timelines),ge.push({instruction:Kr,player:or,element:gt}),Kr.queriedElements.forEach(ls=>Fn(m,ls,[]).push(or)),Kr.preStyleProps.forEach((ls,rs)=>{if(ls.size){let is=x.get(rs);is||x.set(rs,is=new Set),ls.forEach((wa,La)=>is.add(La))}}),Kr.postStyleProps.forEach((ls,rs)=>{let is=S.get(rs);is||S.set(rs,is=new Set),ls.forEach((wa,La)=>is.add(La))})});if(xr.length){const Ht=[];xr.forEach(Je=>{Ht.push(function si(j,y){return new ie.wOt(3505,!1)}())}),Pr.forEach(Je=>Je.destroy()),this.reportError(Ht)}const Or=new Map,Ln=new Map;ge.forEach(Ht=>{const Je=Ht.element;P.has(Je)&&(Ln.set(Je,Je),this._beforeAnimationBuild(Ht.player.namespaceId,Ht.instruction,Or))}),H.forEach(Ht=>{const Je=Ht.element;this._getPreviousPlayers(Je,!1,Ht.namespaceId,Ht.triggerName,null).forEach(or=>{Fn(Or,Je,[]).push(or),or.destroy()})});const er=fn.filter(Ht=>es(Ht,x,S)),Dr=new Map;Zo(Dr,this.driver,Zt,S,_e).forEach(Ht=>{es(Ht,x,S)&&er.push(Ht)});const As=new Map;Le.forEach((Ht,Je)=>{Zo(As,this.driver,new Set(Ht),x,"!")}),er.forEach(Ht=>{const Je=Dr.get(Ht),ht=As.get(Ht);Dr.set(Ht,new Map([...Je?.entries()??[],...ht?.entries()??[]]))});const ft=[],sn=[],cs={};ge.forEach(Ht=>{const{element:Je,player:ht,instruction:or}=Ht;if(P.has(Je)){if(k.has(Je))return ht.onDestroy(()=>_n(Je,or.toStyles)),ht.disabled=!0,ht.overrideTotalTime(or.totalTime),void H.push(ht);let gt=cs;if(Ln.size>1){let ot=Je;const Br=[];for(;ot=ot.parentNode;){const Kr=Ln.get(ot);if(Kr){gt=Kr;break}Br.push(ot)}Br.forEach(Kr=>Ln.set(Kr,gt))}const xe=this._buildAnimation(ht.namespaceId,or,Or,Y,As,Dr);if(ht.setRealPlayer(xe),gt===cs)ft.push(ht);else{const ot=this.playersByElement.get(gt);ot&&ot.length&&(ht.parentPlayer=Cr(ot)),H.push(ht)}}else jn(Je,or.fromStyles),ht.onDestroy(()=>_n(Je,or.toStyles)),sn.push(ht),k.has(Je)&&H.push(ht)}),sn.forEach(Ht=>{const Je=Y.get(Ht.element);if(Je&&Je.length){const ht=Cr(Je);Ht.setRealPlayer(ht)}}),H.forEach(Ht=>{Ht.parentPlayer?Ht.syncPlayerEvents(Ht.parentPlayer):Ht.destroy()});for(let Ht=0;Ht<fn.length;Ht++){const Je=fn[Ht],ht=Je[dr];if(Zi(Je,$t),ht&&ht.hasAnimation)continue;let or=[];if(m.size){let xe=m.get(Je);xe&&xe.length&&or.push(...xe);let ot=this.driver.query(Je,he,!0);for(let Br=0;Br<ot.length;Br++){let Kr=m.get(ot[Br]);Kr&&Kr.length&&or.push(...Kr)}}const gt=or.filter(xe=>!xe.destroyed);gt.length?ka(this,Je,gt):this.processLeaveNode(Je)}return fn.length=0,ft.forEach(Ht=>{this.players.push(Ht),Ht.onDone(()=>{Ht.destroy();const Je=this.players.indexOf(Ht);this.players.splice(Je,1)}),Ht.play()}),ft}afterFlush(y){this._flushFns.push(y)}afterFlushAnimationsDone(y){this._whenQuietFns.push(y)}_getPreviousPlayers(y,E,P,H,Y){let ge=[];if(E){const m=this.playersByQueriedElement.get(y);m&&(ge=m)}else{const m=this.playersByElement.get(y);if(m){const x=!Y||Y==Rr;m.forEach(S=>{S.queued||!x&&S.triggerName!=H||ge.push(S)})}}return(P||H)&&(ge=ge.filter(m=>!(P&&P!=m.namespaceId||H&&H!=m.triggerName))),ge}_beforeAnimationBuild(y,E,P){const Y=E.element,ge=E.isRemovalTransition?void 0:y,m=E.isRemovalTransition?void 0:E.triggerName;for(const x of E.timelines){const S=x.element,k=S!==Y,ee=Fn(P,S,[]);this._getPreviousPlayers(S,k,ge,m,E.toState).forEach(Le=>{const st=Le.getRealPlayer();st.beforeDestroy&&st.beforeDestroy(),Le.destroy(),ee.push(Le)})}jn(Y,E.fromStyles)}_buildAnimation(y,E,P,H,Y,ge){const m=E.triggerName,x=E.element,S=[],k=new Set,ee=new Set,be=E.timelines.map(st=>{const Ft=st.element;k.add(Ft);const fn=Ft[dr];if(fn&&fn.removedBeforeQueried)return new tn(st.duration,st.delay);const hn=Ft!==x,Zt=function du(j){const y=[];return Do(j,y),y}((P.get(Ft)||ni).map(Or=>Or.getRealPlayer())).filter(Or=>!!Or.element&&Or.element===Ft),kn=Y.get(Ft),bn=ge.get(Ft),Pr=an(this._normalizer,st.keyframes,kn,bn),xr=this._buildPlayer(st,Pr,Zt);if(st.subTimeline&&H&&ee.add(Ft),hn){const Or=new wo(y,m,Ft);Or.setRealPlayer(xr),S.push(Or)}return xr});S.forEach(st=>{Fn(this.playersByQueriedElement,st.element,[]).push(st),st.onDone(()=>function Io(j,y,E){let P=j.get(y);if(P){if(P.length){const H=P.indexOf(E);P.splice(H,1)}0==P.length&&j.delete(y)}return P}(this.playersByQueriedElement,st.element,st))}),k.forEach(st=>Wn(st,Ce));const Le=Cr(be);return Le.onDestroy(()=>{k.forEach(st=>Zi(st,Ce)),_n(x,E.toStyles)}),ee.forEach(st=>{Fn(H,st,[]).push(Le)}),Le}_buildPlayer(y,E,P){return E.length>0?this.driver.animate(y.element,E,y.duration,y.delay,y.easing,P):new tn(y.duration,y.delay)}}class wo{constructor(y,E,P){this.namespaceId=y,this.triggerName=E,this.element=P,this._player=new tn,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(y){this._containsRealPlayer||(this._player=y,this._queuedCallbacks.forEach((E,P)=>{E.forEach(H=>Yr(y,P,void 0,H))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(y.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(y){this.totalTime=y}syncPlayerEvents(y){const E=this._player;E.triggerCallback&&y.onStart(()=>E.triggerCallback("start")),y.onDone(()=>this.finish()),y.onDestroy(()=>this.destroy())}_queueEvent(y,E){Fn(this._queuedCallbacks,y,[]).push(E)}onDone(y){this.queued&&this._queueEvent("done",y),this._player.onDone(y)}onStart(y){this.queued&&this._queueEvent("start",y),this._player.onStart(y)}onDestroy(y){this.queued&&this._queueEvent("destroy",y),this._player.onDestroy(y)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(y){this.queued||this._player.setPosition(y)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(y){const E=this._player;E.triggerCallback&&E.triggerCallback(y)}}function Ks(j){return j&&1===j.nodeType}function pa(j,y){const E=j.style.display;return j.style.display=y??"none",E}function Zo(j,y,E,P,H){const Y=[];E.forEach(x=>Y.push(pa(x)));const ge=[];P.forEach((x,S)=>{const k=new Map;x.forEach(ee=>{const be=y.computeStyle(S,ee,H);k.set(ee,be),(!be||0==be.length)&&(S[dr]=Ei,ge.push(S))}),j.set(S,k)});let m=0;return E.forEach(x=>pa(x,Y[m++])),ge}function ea(j,y){const E=new Map;if(j.forEach(m=>E.set(m,[])),0==y.length)return E;const H=new Set(y),Y=new Map;function ge(m){if(!m)return 1;let x=Y.get(m);if(x)return x;const S=m.parentNode;return x=E.has(S)?S:H.has(S)?1:ge(S),Y.set(m,x),x}return y.forEach(m=>{const x=ge(m);1!==x&&E.get(x).push(m)}),E}function Wn(j,y){j.classList?.add(y)}function Zi(j,y){j.classList?.remove(y)}function ka(j,y,E){Cr(E).onDone(()=>j.processLeaveNode(y))}function Do(j,y){for(let E=0;E<j.length;E++){const P=j[E];P instanceof vn?Do(P.players,y):y.push(P)}}function es(j,y,E){const P=E.get(j);if(!P)return!1;let H=y.get(j);return H?P.forEach(Y=>H.add(Y)):y.set(j,P),E.delete(j),!0}class ga{constructor(y,E,P){this.bodyNode=y,this._driver=E,this._normalizer=P,this._triggerCache={},this.onRemovalComplete=(H,Y)=>{},this._transitionEngine=new Nr(y,E,P),this._timelineEngine=new qa(y,E,P),this._transitionEngine.onRemovalComplete=(H,Y)=>this.onRemovalComplete(H,Y)}registerTrigger(y,E,P,H,Y){const ge=y+"-"+H;let m=this._triggerCache[ge];if(!m){const x=[],k=zs(this._driver,Y,x,[]);if(x.length)throw function nr(j,y){return new ie.wOt(3404,!1)}();m=function Ci(j,y,E){return new no(j,y,E)}(H,k,this._normalizer),this._triggerCache[ge]=m}this._transitionEngine.registerTrigger(E,H,m)}register(y,E){this._transitionEngine.register(y,E)}destroy(y,E){this._transitionEngine.destroy(y,E)}onInsert(y,E,P,H){this._transitionEngine.insertNode(y,E,P,H)}onRemove(y,E,P){this._transitionEngine.removeNode(y,E,P)}disableAnimations(y,E){this._transitionEngine.markElementAsDisabled(y,E)}process(y,E,P,H){if("@"==P.charAt(0)){const[Y,ge]=br(P);this._timelineEngine.command(Y,E,ge,H)}else this._transitionEngine.trigger(y,E,P,H)}listen(y,E,P,H,Y){if("@"==P.charAt(0)){const[ge,m]=br(P);return this._timelineEngine.listen(ge,E,m,Y)}return this._transitionEngine.listen(y,E,P,H,Y)}flush(y=-1){this._transitionEngine.flush(y)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(y){this._transitionEngine.afterFlushAnimationsDone(y)}}let ma=(()=>{class j{static{this.initialStylesByElement=new WeakMap}constructor(E,P,H){this._element=E,this._startStyles=P,this._endStyles=H,this._state=0;let Y=j.initialStylesByElement.get(E);Y||j.initialStylesByElement.set(E,Y=new Map),this._initialStyles=Y}start(){this._state<1&&(this._startStyles&&_n(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(_n(this._element,this._initialStyles),this._endStyles&&(_n(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(j.initialStylesByElement.delete(this._element),this._startStyles&&(jn(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(jn(this._element,this._endStyles),this._endStyles=null),_n(this._element,this._initialStyles),this._state=3)}}return j})();function oo(j){let y=null;return j.forEach((E,P)=>{(function Co(j){return"display"===j||"position"===j})(P)&&(y=y||new Map,y.set(P,E))}),y}class bo{constructor(y,E,P,H){this.element=y,this.keyframes=E,this.options=P,this._specialStyles=H,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=P.duration,this._delay=P.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(y=>y()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const y=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,y,this.options),this._finalKeyframe=y.length?y[y.length-1]:new Map;const E=()=>this._onFinish();this.domPlayer.addEventListener("finish",E),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",E)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(y){const E=[];return y.forEach(P=>{E.push(Object.fromEntries(P))}),E}_triggerWebAnimation(y,E,P){return y.animate(this._convertKeyframesToObject(E),P)}onStart(y){this._originalOnStartFns.push(y),this._onStartFns.push(y)}onDone(y){this._originalOnDoneFns.push(y),this._onDoneFns.push(y)}onDestroy(y){this._onDestroyFns.push(y)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(y=>y()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(y=>y()),this._onDestroyFns=[])}setPosition(y){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=y*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const y=new Map;this.hasStarted()&&this._finalKeyframe.forEach((P,H)=>{"offset"!==H&&y.set(H,this._finished?P:Hs(this.element,H))}),this.currentSnapshot=y}triggerCallback(y){const E="start"===y?this._onStartFns:this._onDoneFns;E.forEach(P=>P()),E.length=0}}class ya{validateStyleProperty(y){return!0}validateAnimatableStyleProperty(y){return!0}matchesElement(y,E){return!1}containsElement(y,E){return W(y,E)}getParentElement(y){return ai(y)}query(y,E,P){return Q(y,E,P)}computeStyle(y,E,P){return window.getComputedStyle(y)[E]}animate(y,E,P,H,Y,ge=[]){const x={duration:P,delay:H,fill:0==H?"both":"forwards"};Y&&(x.easing=Y);const S=new Map,k=ge.filter(Le=>Le instanceof bo);(function ei(j,y){return 0===j||0===y})(P,H)&&k.forEach(Le=>{Le.currentSnapshot.forEach((st,Ft)=>S.set(Ft,st))});let ee=function at(j){return j.length?j[0]instanceof Map?j:j.map(y=>At(y)):[]}(E).map(Le=>Pn(Le));ee=function Ki(j,y,E){if(E.size&&y.length){let P=y[0],H=[];if(E.forEach((Y,ge)=>{P.has(ge)||H.push(ge),P.set(ge,Y)}),H.length)for(let Y=1;Y<y.length;Y++){let ge=y[Y];H.forEach(m=>ge.set(m,Hs(j,m)))}}return y}(y,ee,S);const be=function To(j,y){let E=null,P=null;return Array.isArray(y)&&y.length?(E=oo(y[0]),y.length>1&&(P=oo(y[y.length-1]))):y instanceof Map&&(E=oo(y)),E||P?new ma(j,E,P):null}(y,ee);return new bo(y,ee,x,be)}}var Li=B(177);let Ts=(()=>{class j extends Ae{constructor(E,P){super(),this._nextAnimationId=0,this._renderer=E.createRenderer(P.body,{id:"0",encapsulation:ie.gXe.None,styles:[],data:{animation:[]}})}build(E){const P=this._nextAnimationId.toString();this._nextAnimationId++;const H=Array.isArray(E)?Ot(E):E;return Vr(this._renderer,null,P,"register",[H]),new us(P,this._renderer)}static{this.\u0275fac=function(P){return new(P||j)(ie.KVO(ie._9s),ie.KVO(Li.qQ))}}static{this.\u0275prov=ie.jDH({token:j,factory:j.\u0275fac})}}return j})();class us extends qe{constructor(y,E){super(),this._id=y,this._renderer=E}create(y,E){return new Lo(this._id,y,E||{},this._renderer)}}class Lo{constructor(y,E,P,H){this.id=y,this.element=E,this._renderer=H,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",P)}_listen(y,E){return this._renderer.listen(this.element,`@@${this.id}:${y}`,E)}_command(y,...E){return Vr(this._renderer,this.element,this.id,y,E)}onDone(y){this._listen("done",y)}onStart(y){this._listen("start",y)}onDestroy(y){this._listen("destroy",y)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(y){this._command("setPosition",y)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function Vr(j,y,E,P,H){return j.setProperty(y,`@@${E}:${P}`,H)}const ti="@.disabled";let ta=(()=>{class j{constructor(E,P,H){this.delegate=E,this.engine=P,this._zone=H,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,P.onRemovalComplete=(Y,ge)=>{const m=ge?.parentNode(Y);m&&ge.removeChild(m,Y)}}createRenderer(E,P){const Y=this.delegate.createRenderer(E,P);if(!(E&&P&&P.data&&P.data.animation)){let k=this._rendererCache.get(Y);return k||(k=new ao("",Y,this.engine,()=>this._rendererCache.delete(Y)),this._rendererCache.set(Y,k)),k}const ge=P.id,m=P.id+"-"+this._currentId;this._currentId++,this.engine.register(m,E);const x=k=>{Array.isArray(k)?k.forEach(x):this.engine.registerTrigger(ge,m,E,k.name,k)};return P.data.animation.forEach(x),new uo(this,m,Y,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(E,P,H){E>=0&&E<this._microtaskId?this._zone.run(()=>P(H)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(Y=>{const[ge,m]=Y;ge(m)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([P,H]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static{this.\u0275fac=function(P){return new(P||j)(ie.KVO(ie._9s),ie.KVO(ga),ie.KVO(ie.SKi))}}static{this.\u0275prov=ie.jDH({token:j,factory:j.\u0275fac})}}return j})();class ao{constructor(y,E,P,H){this.namespaceId=y,this.delegate=E,this.engine=P,this._onDestroy=H}get data(){return this.delegate.data}destroyNode(y){this.delegate.destroyNode?.(y)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(y,E){return this.delegate.createElement(y,E)}createComment(y){return this.delegate.createComment(y)}createText(y){return this.delegate.createText(y)}appendChild(y,E){this.delegate.appendChild(y,E),this.engine.onInsert(this.namespaceId,E,y,!1)}insertBefore(y,E,P,H=!0){this.delegate.insertBefore(y,E,P),this.engine.onInsert(this.namespaceId,E,y,H)}removeChild(y,E,P){this.engine.onRemove(this.namespaceId,E,this.delegate)}selectRootElement(y,E){return this.delegate.selectRootElement(y,E)}parentNode(y){return this.delegate.parentNode(y)}nextSibling(y){return this.delegate.nextSibling(y)}setAttribute(y,E,P,H){this.delegate.setAttribute(y,E,P,H)}removeAttribute(y,E,P){this.delegate.removeAttribute(y,E,P)}addClass(y,E){this.delegate.addClass(y,E)}removeClass(y,E){this.delegate.removeClass(y,E)}setStyle(y,E,P,H){this.delegate.setStyle(y,E,P,H)}removeStyle(y,E,P){this.delegate.removeStyle(y,E,P)}setProperty(y,E,P){"@"==E.charAt(0)&&E==ti?this.disableAnimations(y,!!P):this.delegate.setProperty(y,E,P)}setValue(y,E){this.delegate.setValue(y,E)}listen(y,E,P){return this.delegate.listen(y,E,P)}disableAnimations(y,E){this.engine.disableAnimations(y,E)}}class uo extends ao{constructor(y,E,P,H,Y){super(E,P,H,Y),this.factory=y,this.namespaceId=E}setProperty(y,E,P){"@"==E.charAt(0)?"."==E.charAt(1)&&E==ti?this.disableAnimations(y,P=void 0===P||!!P):this.engine.process(this.namespaceId,y,E.slice(1),P):this.delegate.setProperty(y,E,P)}listen(y,E,P){if("@"==E.charAt(0)){const H=function Ss(j){switch(j){case"body":return document.body;case"document":return document;case"window":return window;default:return j}}(y);let Y=E.slice(1),ge="";return"@"!=Y.charAt(0)&&([Y,ge]=function Fo(j){const y=j.indexOf(".");return[j.substring(0,y),j.slice(y+1)]}(Y)),this.engine.listen(this.namespaceId,H,Y,ge,m=>{this.factory.scheduleListenerCallback(m._data||-1,P,m)})}return this.delegate.listen(y,E,P)}}const bi=[{provide:Ae,useClass:Ts},{provide:qi,useFactory:function di(){return new Ws}},{provide:ga,useClass:(()=>{class j extends ga{constructor(E,P,H,Y){super(E.body,P,H)}ngOnDestroy(){this.flush()}static{this.\u0275fac=function(P){return new(P||j)(ie.KVO(Li.qQ),ie.KVO(De),ie.KVO(qi),ie.KVO(ie.o8S))}}static{this.\u0275prov=ie.jDH({token:j,factory:j.\u0275fac})}}return j})()},{provide:ie._9s,useFactory:function na(j,y,E){return new ta(j,y,E)},deps:[b.B7,ga,ie.SKi]}],va=[{provide:De,useFactory:()=>new ya},{provide:ie.bc$,useValue:"BrowserAnimations"},...bi],ra=[{provide:De,useClass:G},{provide:ie.bc$,useValue:"NoopAnimations"},...bi];let ns=(()=>{class j{static withConfig(E){return{ngModule:j,providers:E.disableAnimations?ra:va}}static{this.\u0275fac=function(P){return new(P||j)}}static{this.\u0275mod=ie.$C({type:j})}static{this.\u0275inj=ie.G2t({providers:va,imports:[b.Bb]})}}return j})();var Zn=B(1626),Ru=B(6697),_a=B(5558),Fs=B(4796);let sa=(()=>{class j{constructor(E){this.auth=E}intercept(E,P){return this.auth.getIdToken().pipe((0,Ru.s)(1),(0,_a.n)(H=>{if(!H)return P.handle(E);const Y=E.clone({setHeaders:{Authorization:`Bearer ${H}`}});return P.handle(Y)}))}static{this.\u0275fac=function(P){return new(P||j)(ie.KVO(Fs.u))}}static{this.\u0275prov=ie.jDH({token:j,factory:j.\u0275fac})}}return j})(),Ea=(()=>{class j{static{this.\u0275fac=function(P){return new(P||j)}}static{this.\u0275mod=ie.$C({type:j,bootstrap:[te]})}static{this.\u0275inj=ie.G2t({providers:[{provide:Zn.a7,useClass:sa,multi:!0}],imports:[b.Bb,J,Zn.q1,(0,Fe.MW)(()=>(0,Fe.Wp)(Re_firebase)),(0,ae._q)(()=>(0,ae.xI)()),(0,re.hV)(()=>(0,re.aU)()),ns]})}}return j})();b.sG().bootstrapModule(Ea).catch(j=>console.error(j))},4412:(Lt,$e,B)=>{B.d($e,{t:()=>oe});var b=B(1413);class oe extends b.B{constructor(ie){super(),this._value=ie}get value(){return this.getValue()}_subscribe(ie){const fe=super._subscribe(ie);return!fe.closed&&ie.next(this._value),fe}getValue(){const{hasError:ie,thrownError:fe,_value:J}=this;if(ie)throw fe;return this._throwIfClosed(),J}next(ie){super.next(this._value=ie)}}},1985:(Lt,$e,B)=>{B.d($e,{c:()=>Re});var b=B(7707),oe=B(8359),pe=B(3494),ie=B(1203),fe=B(1026),J=B(8071),te=B(9786);let Re=(()=>{class Ae{constructor(_e){_e&&(this._subscribe=_e)}lift(_e){const vt=new Ae;return vt.source=this,vt.operator=_e,vt}subscribe(_e,vt,We){const Vt=function ae(Ae){return Ae&&Ae instanceof b.vU||function re(Ae){return Ae&&(0,J.T)(Ae.next)&&(0,J.T)(Ae.error)&&(0,J.T)(Ae.complete)}(Ae)&&(0,oe.Uv)(Ae)}(_e)?_e:new b.Ms(_e,vt,We);return(0,te.Y)(()=>{const{operator:Ot,source:Tn}=this;Vt.add(Ot?Ot.call(Vt,Tn):Tn?this._subscribe(Vt):this._trySubscribe(Vt))}),Vt}_trySubscribe(_e){try{return this._subscribe(_e)}catch(vt){_e.error(vt)}}forEach(_e,vt){return new(vt=Fe(vt))((We,Vt)=>{const Ot=new b.Ms({next:Tn=>{try{_e(Tn)}catch(Cn){Vt(Cn),Ot.unsubscribe()}},error:Vt,complete:We});this.subscribe(Ot)})}_subscribe(_e){var vt;return null===(vt=this.source)||void 0===vt?void 0:vt.subscribe(_e)}[pe.s](){return this}pipe(..._e){return(0,ie.m)(_e)(this)}toPromise(_e){return new(_e=Fe(_e))((vt,We)=>{let Vt;this.subscribe(Ot=>Vt=Ot,Ot=>We(Ot),()=>vt(Vt))})}}return Ae.create=qe=>new Ae(qe),Ae})();function Fe(Ae){var qe;return null!==(qe=Ae??fe.$.Promise)&&void 0!==qe?qe:Promise}},1413:(Lt,$e,B)=>{B.d($e,{B:()=>te});var b=B(1985),oe=B(8359);const ie=(0,B(1853).L)(Fe=>function(){Fe(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var fe=B(7908),J=B(9786);let te=(()=>{class Fe extends b.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ae){const Ae=new Re(this,this);return Ae.operator=ae,Ae}_throwIfClosed(){if(this.closed)throw new ie}next(ae){(0,J.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Ae of this.currentObservers)Ae.next(ae)}})}error(ae){(0,J.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ae;const{observers:Ae}=this;for(;Ae.length;)Ae.shift().error(ae)}})}complete(){(0,J.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ae}=this;for(;ae.length;)ae.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var ae;return(null===(ae=this.observers)||void 0===ae?void 0:ae.length)>0}_trySubscribe(ae){return this._throwIfClosed(),super._trySubscribe(ae)}_subscribe(ae){return this._throwIfClosed(),this._checkFinalizedStatuses(ae),this._innerSubscribe(ae)}_innerSubscribe(ae){const{hasError:Ae,isStopped:qe,observers:_e}=this;return Ae||qe?oe.Kn:(this.currentObservers=null,_e.push(ae),new oe.yU(()=>{this.currentObservers=null,(0,fe.o)(_e,ae)}))}_checkFinalizedStatuses(ae){const{hasError:Ae,thrownError:qe,isStopped:_e}=this;Ae?ae.error(qe):_e&&ae.complete()}asObservable(){const ae=new b.c;return ae.source=this,ae}}return Fe.create=(re,ae)=>new Re(re,ae),Fe})();class Re extends te{constructor(re,ae){super(),this.destination=re,this.source=ae}next(re){var ae,Ae;null===(Ae=null===(ae=this.destination)||void 0===ae?void 0:ae.next)||void 0===Ae||Ae.call(ae,re)}error(re){var ae,Ae;null===(Ae=null===(ae=this.destination)||void 0===ae?void 0:ae.error)||void 0===Ae||Ae.call(ae,re)}complete(){var re,ae;null===(ae=null===(re=this.destination)||void 0===re?void 0:re.complete)||void 0===ae||ae.call(re)}_subscribe(re){var ae,Ae;return null!==(Ae=null===(ae=this.source)||void 0===ae?void 0:ae.subscribe(re))&&void 0!==Ae?Ae:oe.Kn}}},7707:(Lt,$e,B)=>{B.d($e,{Ms:()=>We,vU:()=>Ae});var b=B(8071),oe=B(8359),pe=B(1026),ie=B(5334),fe=B(5343);const J=Fe("C",void 0,void 0);function Fe(Me,ct,Ne){return{kind:Me,value:ct,error:Ne}}var re=B(9270),ae=B(9786);class Ae extends oe.yU{constructor(ct){super(),this.isStopped=!1,ct?(this.destination=ct,(0,oe.Uv)(ct)&&ct.add(this)):this.destination=Cn}static create(ct,Ne,et){return new We(ct,Ne,et)}next(ct){this.isStopped?Tn(function Re(Me){return Fe("N",Me,void 0)}(ct),this):this._next(ct)}error(ct){this.isStopped?Tn(function te(Me){return Fe("E",void 0,Me)}(ct),this):(this.isStopped=!0,this._error(ct))}complete(){this.isStopped?Tn(J,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ct){this.destination.next(ct)}_error(ct){try{this.destination.error(ct)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const qe=Function.prototype.bind;function _e(Me,ct){return qe.call(Me,ct)}class vt{constructor(ct){this.partialObserver=ct}next(ct){const{partialObserver:Ne}=this;if(Ne.next)try{Ne.next(ct)}catch(et){Vt(et)}}error(ct){const{partialObserver:Ne}=this;if(Ne.error)try{Ne.error(ct)}catch(et){Vt(et)}else Vt(ct)}complete(){const{partialObserver:ct}=this;if(ct.complete)try{ct.complete()}catch(Ne){Vt(Ne)}}}class We extends Ae{constructor(ct,Ne,et){let _t;if(super(),(0,b.T)(ct)||!ct)_t={next:ct??void 0,error:Ne??void 0,complete:et??void 0};else{let pt;this&&pe.$.useDeprecatedNextContext?(pt=Object.create(ct),pt.unsubscribe=()=>this.unsubscribe(),_t={next:ct.next&&_e(ct.next,pt),error:ct.error&&_e(ct.error,pt),complete:ct.complete&&_e(ct.complete,pt)}):_t=ct}this.destination=new vt(_t)}}function Vt(Me){pe.$.useDeprecatedSynchronousErrorHandling?(0,ae.l)(Me):(0,ie.m)(Me)}function Tn(Me,ct){const{onStoppedNotification:Ne}=pe.$;Ne&&re.f.setTimeout(()=>Ne(Me,ct))}const Cn={closed:!0,next:fe.l,error:function Ot(Me){throw Me},complete:fe.l}},8359:(Lt,$e,B)=>{B.d($e,{Kn:()=>J,yU:()=>fe,Uv:()=>te});var b=B(8071);const pe=(0,B(1853).L)(Fe=>function(ae){Fe(this),this.message=ae?`${ae.length} errors occurred during unsubscription:\n${ae.map((Ae,qe)=>`${qe+1}) ${Ae.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ae});var ie=B(7908);class fe{constructor(re){this.initialTeardown=re,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let re;if(!this.closed){this.closed=!0;const{_parentage:ae}=this;if(ae)if(this._parentage=null,Array.isArray(ae))for(const _e of ae)_e.remove(this);else ae.remove(this);const{initialTeardown:Ae}=this;if((0,b.T)(Ae))try{Ae()}catch(_e){re=_e instanceof pe?_e.errors:[_e]}const{_finalizers:qe}=this;if(qe){this._finalizers=null;for(const _e of qe)try{Re(_e)}catch(vt){re=re??[],vt instanceof pe?re=[...re,...vt.errors]:re.push(vt)}}if(re)throw new pe(re)}}add(re){var ae;if(re&&re!==this)if(this.closed)Re(re);else{if(re instanceof fe){if(re.closed||re._hasParent(this))return;re._addParent(this)}(this._finalizers=null!==(ae=this._finalizers)&&void 0!==ae?ae:[]).push(re)}}_hasParent(re){const{_parentage:ae}=this;return ae===re||Array.isArray(ae)&&ae.includes(re)}_addParent(re){const{_parentage:ae}=this;this._parentage=Array.isArray(ae)?(ae.push(re),ae):ae?[ae,re]:re}_removeParent(re){const{_parentage:ae}=this;ae===re?this._parentage=null:Array.isArray(ae)&&(0,ie.o)(ae,re)}remove(re){const{_finalizers:ae}=this;ae&&(0,ie.o)(ae,re),re instanceof fe&&re._removeParent(this)}}fe.EMPTY=(()=>{const Fe=new fe;return Fe.closed=!0,Fe})();const J=fe.EMPTY;function te(Fe){return Fe instanceof fe||Fe&&"closed"in Fe&&(0,b.T)(Fe.remove)&&(0,b.T)(Fe.add)&&(0,b.T)(Fe.unsubscribe)}function Re(Fe){(0,b.T)(Fe)?Fe():Fe.unsubscribe()}},1026:(Lt,$e,B)=>{B.d($e,{$:()=>b});const b={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},4572:(Lt,$e,B)=>{B.d($e,{z:()=>re});var b=B(1985),oe=B(3073),pe=B(8455),ie=B(3669),fe=B(6450),J=B(9326),te=B(8496),Re=B(4360),Fe=B(5225);function re(...qe){const _e=(0,J.lI)(qe),vt=(0,J.ms)(qe),{args:We,keys:Vt}=(0,oe.D)(qe);if(0===We.length)return(0,pe.H)([],_e);const Ot=new b.c(function ae(qe,_e,vt=ie.D){return We=>{Ae(_e,()=>{const{length:Vt}=qe,Ot=new Array(Vt);let Tn=Vt,Cn=Vt;for(let Me=0;Me<Vt;Me++)Ae(_e,()=>{const ct=(0,pe.H)(qe[Me],_e);let Ne=!1;ct.subscribe((0,Re._)(We,et=>{Ot[Me]=et,Ne||(Ne=!0,Cn--),Cn||We.next(vt(Ot.slice()))},()=>{--Tn||We.complete()}))},We)},We)}}(We,_e,Vt?Tn=>(0,te.e)(Vt,Tn):ie.D));return vt?Ot.pipe((0,fe.I)(vt)):Ot}function Ae(qe,_e,vt){qe?(0,Fe.N)(vt,qe,_e):_e()}},8793:(Lt,$e,B)=>{B.d($e,{x:()=>fe});var b=B(6365),pe=B(9326),ie=B(8455);function fe(...J){return function oe(){return(0,b.U)(1)}()((0,ie.H)(J,(0,pe.lI)(J)))}},983:(Lt,$e,B)=>{B.d($e,{w:()=>oe});const oe=new(B(1985).c)(fe=>fe.complete())},8455:(Lt,$e,B)=>{B.d($e,{H:()=>ct});var b=B(8750),oe=B(941),pe=B(6745),J=B(1985),Re=B(4761),Fe=B(8071),re=B(5225);function Ae(Ne,et){if(!Ne)throw new Error("Iterable cannot be null");return new J.c(_t=>{(0,re.N)(_t,et,()=>{const pt=Ne[Symbol.asyncIterator]();(0,re.N)(_t,et,()=>{pt.next().then(Kt=>{Kt.done?_t.complete():_t.next(Kt.value)})},0,!0)})})}var qe=B(5055),_e=B(9858),vt=B(7441),We=B(5397),Vt=B(7953),Ot=B(591),Tn=B(5196);function ct(Ne,et){return et?function Me(Ne,et){if(null!=Ne){if((0,qe.l)(Ne))return function ie(Ne,et){return(0,b.Tg)(Ne).pipe((0,pe._)(et),(0,oe.Q)(et))}(Ne,et);if((0,vt.X)(Ne))return function te(Ne,et){return new J.c(_t=>{let pt=0;return et.schedule(function(){pt===Ne.length?_t.complete():(_t.next(Ne[pt++]),_t.closed||this.schedule())})})}(Ne,et);if((0,_e.y)(Ne))return function fe(Ne,et){return(0,b.Tg)(Ne).pipe((0,pe._)(et),(0,oe.Q)(et))}(Ne,et);if((0,Vt.T)(Ne))return Ae(Ne,et);if((0,We.x)(Ne))return function ae(Ne,et){return new J.c(_t=>{let pt;return(0,re.N)(_t,et,()=>{pt=Ne[Re.l](),(0,re.N)(_t,et,()=>{let Kt,tn;try{({value:Kt,done:tn}=pt.next())}catch(vn){return void _t.error(vn)}tn?_t.complete():_t.next(Kt)},0,!0)}),()=>(0,Fe.T)(pt?.return)&&pt.return()})}(Ne,et);if((0,Tn.U)(Ne))return function Cn(Ne,et){return Ae((0,Tn.C)(Ne),et)}(Ne,et)}throw(0,Ot.L)(Ne)}(Ne,et):(0,b.Tg)(Ne)}},8750:(Lt,$e,B)=>{B.d($e,{Tg:()=>qe});var b=B(1635),oe=B(7441),pe=B(9858),ie=B(1985),fe=B(5055),J=B(7953),te=B(591),Re=B(5397),Fe=B(5196),re=B(8071),ae=B(5334),Ae=B(3494);function qe(Me){if(Me instanceof ie.c)return Me;if(null!=Me){if((0,fe.l)(Me))return function _e(Me){return new ie.c(ct=>{const Ne=Me[Ae.s]();if((0,re.T)(Ne.subscribe))return Ne.subscribe(ct);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Me);if((0,oe.X)(Me))return function vt(Me){return new ie.c(ct=>{for(let Ne=0;Ne<Me.length&&!ct.closed;Ne++)ct.next(Me[Ne]);ct.complete()})}(Me);if((0,pe.y)(Me))return function We(Me){return new ie.c(ct=>{Me.then(Ne=>{ct.closed||(ct.next(Ne),ct.complete())},Ne=>ct.error(Ne)).then(null,ae.m)})}(Me);if((0,J.T)(Me))return Ot(Me);if((0,Re.x)(Me))return function Vt(Me){return new ie.c(ct=>{for(const Ne of Me)if(ct.next(Ne),ct.closed)return;ct.complete()})}(Me);if((0,Fe.U)(Me))return function Tn(Me){return Ot((0,Fe.C)(Me))}(Me)}throw(0,te.L)(Me)}function Ot(Me){return new ie.c(ct=>{(function Cn(Me,ct){var Ne,et,_t,pt;return(0,b.sH)(this,void 0,void 0,function*(){try{for(Ne=(0,b.xN)(Me);!(et=yield Ne.next()).done;)if(ct.next(et.value),ct.closed)return}catch(Kt){_t={error:Kt}}finally{try{et&&!et.done&&(pt=Ne.return)&&(yield pt.call(Ne))}finally{if(_t)throw _t.error}}ct.complete()})})(Me,ct).catch(Ne=>ct.error(Ne))})}},7786:(Lt,$e,B)=>{B.d($e,{h:()=>J});var b=B(6365),oe=B(8750),pe=B(983),ie=B(9326),fe=B(8455);function J(...te){const Re=(0,ie.lI)(te),Fe=(0,ie.R0)(te,1/0),re=te;return re.length?1===re.length?(0,oe.Tg)(re[0]):(0,b.U)(Fe)((0,fe.H)(re,Re)):pe.w}},7673:(Lt,$e,B)=>{B.d($e,{of:()=>pe});var b=B(9326),oe=B(8455);function pe(...ie){const fe=(0,b.lI)(ie);return(0,oe.H)(ie,fe)}},8810:(Lt,$e,B)=>{B.d($e,{$:()=>pe});var b=B(1985),oe=B(8071);function pe(ie,fe){const J=(0,oe.T)(ie)?ie:()=>ie,te=Re=>Re.error(J());return new b.c(fe?Re=>fe.schedule(te,0,Re):te)}},4360:(Lt,$e,B)=>{B.d($e,{_:()=>oe});var b=B(7707);function oe(ie,fe,J,te,Re){return new pe(ie,fe,J,te,Re)}class pe extends b.vU{constructor(fe,J,te,Re,Fe,re){super(fe),this.onFinalize=Fe,this.shouldUnsubscribe=re,this._next=J?function(ae){try{J(ae)}catch(Ae){fe.error(Ae)}}:super._next,this._error=Re?function(ae){try{Re(ae)}catch(Ae){fe.error(Ae)}finally{this.unsubscribe()}}:super._error,this._complete=te?function(){try{te()}catch(ae){fe.error(ae)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var fe;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:J}=this;super.unsubscribe(),!J&&(null===(fe=this.onFinalize)||void 0===fe||fe.call(this))}}}},9437:(Lt,$e,B)=>{B.d($e,{W:()=>ie});var b=B(8750),oe=B(4360),pe=B(9974);function ie(fe){return(0,pe.N)((J,te)=>{let re,Re=null,Fe=!1;Re=J.subscribe((0,oe._)(te,void 0,void 0,ae=>{re=(0,b.Tg)(fe(ae,ie(fe)(J))),Re?(Re.unsubscribe(),Re=null,re.subscribe(te)):Fe=!0})),Fe&&(Re.unsubscribe(),Re=null,re.subscribe(te))})}},274:(Lt,$e,B)=>{B.d($e,{H:()=>pe});var b=B(1397),oe=B(8071);function pe(ie,fe){return(0,oe.T)(fe)?(0,b.Z)(ie,fe,1):(0,b.Z)(ie,1)}},9901:(Lt,$e,B)=>{B.d($e,{U:()=>pe});var b=B(9974),oe=B(4360);function pe(ie){return(0,b.N)((fe,J)=>{let te=!1;fe.subscribe((0,oe._)(J,Re=>{te=!0,J.next(Re)},()=>{te||J.next(ie),J.complete()}))})}},3294:(Lt,$e,B)=>{B.d($e,{F:()=>ie});var b=B(3669),oe=B(9974),pe=B(4360);function ie(J,te=b.D){return J=J??fe,(0,oe.N)((Re,Fe)=>{let re,ae=!0;Re.subscribe((0,pe._)(Fe,Ae=>{const qe=te(Ae);(ae||!J(re,qe))&&(ae=!1,re=qe,Fe.next(Ae))}))})}function fe(J,te){return J===te}},5964:(Lt,$e,B)=>{B.d($e,{p:()=>pe});var b=B(9974),oe=B(4360);function pe(ie,fe){return(0,b.N)((J,te)=>{let Re=0;J.subscribe((0,oe._)(te,Fe=>ie.call(fe,Fe,Re++)&&te.next(Fe)))})}},980:(Lt,$e,B)=>{B.d($e,{j:()=>oe});var b=B(9974);function oe(pe){return(0,b.N)((ie,fe)=>{try{ie.subscribe(fe)}finally{fe.add(pe)}})}},1594:(Lt,$e,B)=>{B.d($e,{$:()=>te});var b=B(9350),oe=B(5964),pe=B(6697),ie=B(9901),fe=B(3774),J=B(3669);function te(Re,Fe){const re=arguments.length>=2;return ae=>ae.pipe(Re?(0,oe.p)((Ae,qe)=>Re(Ae,qe,ae)):J.D,(0,pe.s)(1),re?(0,ie.U)(Fe):(0,fe.v)(()=>new b.G))}},6354:(Lt,$e,B)=>{B.d($e,{T:()=>pe});var b=B(9974),oe=B(4360);function pe(ie,fe){return(0,b.N)((J,te)=>{let Re=0;J.subscribe((0,oe._)(te,Fe=>{te.next(ie.call(fe,Fe,Re++))}))})}},6365:(Lt,$e,B)=>{B.d($e,{U:()=>pe});var b=B(1397),oe=B(3669);function pe(ie=1/0){return(0,b.Z)(oe.D,ie)}},1397:(Lt,$e,B)=>{B.d($e,{Z:()=>Re});var b=B(6354),oe=B(8750),pe=B(9974),ie=B(5225),fe=B(4360),te=B(8071);function Re(Fe,re,ae=1/0){return(0,te.T)(re)?Re((Ae,qe)=>(0,b.T)((_e,vt)=>re(Ae,_e,qe,vt))((0,oe.Tg)(Fe(Ae,qe))),ae):("number"==typeof re&&(ae=re),(0,pe.N)((Ae,qe)=>function J(Fe,re,ae,Ae,qe,_e,vt,We){const Vt=[];let Ot=0,Tn=0,Cn=!1;const Me=()=>{Cn&&!Vt.length&&!Ot&&re.complete()},ct=et=>Ot<Ae?Ne(et):Vt.push(et),Ne=et=>{_e&&re.next(et),Ot++;let _t=!1;(0,oe.Tg)(ae(et,Tn++)).subscribe((0,fe._)(re,pt=>{qe?.(pt),_e?ct(pt):re.next(pt)},()=>{_t=!0},void 0,()=>{if(_t)try{for(Ot--;Vt.length&&Ot<Ae;){const pt=Vt.shift();vt?(0,ie.N)(re,vt,()=>Ne(pt)):Ne(pt)}Me()}catch(pt){re.error(pt)}}))};return Fe.subscribe((0,fe._)(re,ct,()=>{Cn=!0,Me()})),()=>{We?.()}}(Ae,qe,Fe,ae)))}},941:(Lt,$e,B)=>{B.d($e,{Q:()=>ie});var b=B(5225),oe=B(9974),pe=B(4360);function ie(fe,J=0){return(0,oe.N)((te,Re)=>{te.subscribe((0,pe._)(Re,Fe=>(0,b.N)(Re,fe,()=>Re.next(Fe),J),()=>(0,b.N)(Re,fe,()=>Re.complete(),J),Fe=>(0,b.N)(Re,fe,()=>Re.error(Fe),J)))})}},7647:(Lt,$e,B)=>{B.d($e,{u:()=>fe});var b=B(8750),oe=B(1413),pe=B(7707),ie=B(9974);function fe(te={}){const{connector:Re=(()=>new oe.B),resetOnError:Fe=!0,resetOnComplete:re=!0,resetOnRefCountZero:ae=!0}=te;return Ae=>{let qe,_e,vt,We=0,Vt=!1,Ot=!1;const Tn=()=>{_e?.unsubscribe(),_e=void 0},Cn=()=>{Tn(),qe=vt=void 0,Vt=Ot=!1},Me=()=>{const ct=qe;Cn(),ct?.unsubscribe()};return(0,ie.N)((ct,Ne)=>{We++,!Ot&&!Vt&&Tn();const et=vt=vt??Re();Ne.add(()=>{We--,0===We&&!Ot&&!Vt&&(_e=J(Me,ae))}),et.subscribe(Ne),!qe&&We>0&&(qe=new pe.Ms({next:_t=>et.next(_t),error:_t=>{Ot=!0,Tn(),_e=J(Cn,Fe,_t),et.error(_t)},complete:()=>{Vt=!0,Tn(),_e=J(Cn,re),et.complete()}}),(0,b.Tg)(ct).subscribe(qe))})(Ae)}}function J(te,Re,...Fe){if(!0===Re)return void te();if(!1===Re)return;const re=new pe.Ms({next:()=>{re.unsubscribe(),te()}});return(0,b.Tg)(Re(...Fe)).subscribe(re)}},9172:(Lt,$e,B)=>{B.d($e,{Z:()=>ie});var b=B(8793),oe=B(9326),pe=B(9974);function ie(...fe){const J=(0,oe.lI)(fe);return(0,pe.N)((te,Re)=>{(J?(0,b.x)(fe,te,J):(0,b.x)(fe,te)).subscribe(Re)})}},6745:(Lt,$e,B)=>{B.d($e,{_:()=>oe});var b=B(9974);function oe(pe,ie=0){return(0,b.N)((fe,J)=>{J.add(pe.schedule(()=>fe.subscribe(J),ie))})}},5558:(Lt,$e,B)=>{B.d($e,{n:()=>ie});var b=B(8750),oe=B(9974),pe=B(4360);function ie(fe,J){return(0,oe.N)((te,Re)=>{let Fe=null,re=0,ae=!1;const Ae=()=>ae&&!Fe&&Re.complete();te.subscribe((0,pe._)(Re,qe=>{Fe?.unsubscribe();let _e=0;const vt=re++;(0,b.Tg)(fe(qe,vt)).subscribe(Fe=(0,pe._)(Re,We=>Re.next(J?J(qe,We,vt,_e++):We),()=>{Fe=null,Ae()}))},()=>{ae=!0,Ae()}))})}},6697:(Lt,$e,B)=>{B.d($e,{s:()=>ie});var b=B(983),oe=B(9974),pe=B(4360);function ie(fe){return fe<=0?()=>b.w:(0,oe.N)((J,te)=>{let Re=0;J.subscribe((0,pe._)(te,Fe=>{++Re<=fe&&(te.next(Fe),fe<=Re&&te.complete())}))})}},6977:(Lt,$e,B)=>{B.d($e,{Q:()=>fe});var b=B(9974),oe=B(4360),pe=B(8750),ie=B(5343);function fe(J){return(0,b.N)((te,Re)=>{(0,pe.Tg)(J).subscribe((0,oe._)(Re,()=>Re.complete(),ie.l)),!Re.closed&&te.subscribe(Re)})}},8141:(Lt,$e,B)=>{B.d($e,{M:()=>fe});var b=B(8071),oe=B(9974),pe=B(4360),ie=B(3669);function fe(J,te,Re){const Fe=(0,b.T)(J)||te||Re?{next:J,error:te,complete:Re}:J;return Fe?(0,oe.N)((re,ae)=>{var Ae;null===(Ae=Fe.subscribe)||void 0===Ae||Ae.call(Fe);let qe=!0;re.subscribe((0,pe._)(ae,_e=>{var vt;null===(vt=Fe.next)||void 0===vt||vt.call(Fe,_e),ae.next(_e)},()=>{var _e;qe=!1,null===(_e=Fe.complete)||void 0===_e||_e.call(Fe),ae.complete()},_e=>{var vt;qe=!1,null===(vt=Fe.error)||void 0===vt||vt.call(Fe,_e),ae.error(_e)},()=>{var _e,vt;qe&&(null===(_e=Fe.unsubscribe)||void 0===_e||_e.call(Fe)),null===(vt=Fe.finalize)||void 0===vt||vt.call(Fe)}))}):ie.D}},3774:(Lt,$e,B)=>{B.d($e,{v:()=>ie});var b=B(9350),oe=B(9974),pe=B(4360);function ie(J=fe){return(0,oe.N)((te,Re)=>{let Fe=!1;te.subscribe((0,pe._)(Re,re=>{Fe=!0,Re.next(re)},()=>Fe?Re.complete():Re.error(J())))})}function fe(){return new b.G}},6780:(Lt,$e,B)=>{B.d($e,{R:()=>fe});var b=B(8359);class oe extends b.yU{constructor(te,Re){super()}schedule(te,Re=0){return this}}const pe={setInterval(J,te,...Re){const{delegate:Fe}=pe;return Fe?.setInterval?Fe.setInterval(J,te,...Re):setInterval(J,te,...Re)},clearInterval(J){const{delegate:te}=pe;return(te?.clearInterval||clearInterval)(J)},delegate:void 0};var ie=B(7908);class fe extends oe{constructor(te,Re){super(te,Re),this.scheduler=te,this.work=Re,this.pending=!1}schedule(te,Re=0){var Fe;if(this.closed)return this;this.state=te;const re=this.id,ae=this.scheduler;return null!=re&&(this.id=this.recycleAsyncId(ae,re,Re)),this.pending=!0,this.delay=Re,this.id=null!==(Fe=this.id)&&void 0!==Fe?Fe:this.requestAsyncId(ae,this.id,Re),this}requestAsyncId(te,Re,Fe=0){return pe.setInterval(te.flush.bind(te,this),Fe)}recycleAsyncId(te,Re,Fe=0){if(null!=Fe&&this.delay===Fe&&!1===this.pending)return Re;null!=Re&&pe.clearInterval(Re)}execute(te,Re){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Fe=this._execute(te,Re);if(Fe)return Fe;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(te,Re){let re,Fe=!1;try{this.work(te)}catch(ae){Fe=!0,re=ae||new Error("Scheduled action threw falsy error")}if(Fe)return this.unsubscribe(),re}unsubscribe(){if(!this.closed){const{id:te,scheduler:Re}=this,{actions:Fe}=Re;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ie.o)(Fe,this),null!=te&&(this.id=this.recycleAsyncId(Re,te,null)),this.delay=null,super.unsubscribe()}}}},3604:(Lt,$e,B)=>{B.d($e,{q:()=>pe});const b={now:()=>(b.delegate||Date).now(),delegate:void 0};class oe{constructor(fe,J=oe.now){this.schedulerActionCtor=fe,this.now=J}schedule(fe,J=0,te){return new this.schedulerActionCtor(this,fe).schedule(te,J)}}oe.now=b.now;class pe extends oe{constructor(fe,J=oe.now){super(fe,J),this.actions=[],this._active=!1}flush(fe){const{actions:J}=this;if(this._active)return void J.push(fe);let te;this._active=!0;do{if(te=fe.execute(fe.state,fe.delay))break}while(fe=J.shift());if(this._active=!1,te){for(;fe=J.shift();)fe.unsubscribe();throw te}}}},3236:(Lt,$e,B)=>{B.d($e,{E:()=>pe,b:()=>ie});var b=B(6780);const pe=new(B(3604).q)(b.R),ie=pe},9270:(Lt,$e,B)=>{B.d($e,{f:()=>b});const b={setTimeout(oe,pe,...ie){const{delegate:fe}=b;return fe?.setTimeout?fe.setTimeout(oe,pe,...ie):setTimeout(oe,pe,...ie)},clearTimeout(oe){const{delegate:pe}=b;return(pe?.clearTimeout||clearTimeout)(oe)},delegate:void 0}},4761:(Lt,$e,B)=>{B.d($e,{l:()=>oe});const oe=function b(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3494:(Lt,$e,B)=>{B.d($e,{s:()=>b});const b="function"==typeof Symbol&&Symbol.observable||"@@observable"},9350:(Lt,$e,B)=>{B.d($e,{G:()=>oe});const oe=(0,B(1853).L)(pe=>function(){pe(this),this.name="EmptyError",this.message="no elements in sequence"})},9326:(Lt,$e,B)=>{B.d($e,{R0:()=>J,lI:()=>fe,ms:()=>ie});var b=B(8071),oe=B(9470);function pe(te){return te[te.length-1]}function ie(te){return(0,b.T)(pe(te))?te.pop():void 0}function fe(te){return(0,oe.m)(pe(te))?te.pop():void 0}function J(te,Re){return"number"==typeof pe(te)?te.pop():Re}},3073:(Lt,$e,B)=>{B.d($e,{D:()=>fe});const{isArray:b}=Array,{getPrototypeOf:oe,prototype:pe,keys:ie}=Object;function fe(te){if(1===te.length){const Re=te[0];if(b(Re))return{args:Re,keys:null};if(function J(te){return te&&"object"==typeof te&&oe(te)===pe}(Re)){const Fe=ie(Re);return{args:Fe.map(re=>Re[re]),keys:Fe}}}return{args:te,keys:null}}},7908:(Lt,$e,B)=>{function b(oe,pe){if(oe){const ie=oe.indexOf(pe);0<=ie&&oe.splice(ie,1)}}B.d($e,{o:()=>b})},1853:(Lt,$e,B)=>{function b(oe){const ie=oe(fe=>{Error.call(fe),fe.stack=(new Error).stack});return ie.prototype=Object.create(Error.prototype),ie.prototype.constructor=ie,ie}B.d($e,{L:()=>b})},8496:(Lt,$e,B)=>{function b(oe,pe){return oe.reduce((ie,fe,J)=>(ie[fe]=pe[J],ie),{})}B.d($e,{e:()=>b})},9786:(Lt,$e,B)=>{B.d($e,{Y:()=>pe,l:()=>ie});var b=B(1026);let oe=null;function pe(fe){if(b.$.useDeprecatedSynchronousErrorHandling){const J=!oe;if(J&&(oe={errorThrown:!1,error:null}),fe(),J){const{errorThrown:te,error:Re}=oe;if(oe=null,te)throw Re}}else fe()}function ie(fe){b.$.useDeprecatedSynchronousErrorHandling&&oe&&(oe.errorThrown=!0,oe.error=fe)}},5225:(Lt,$e,B)=>{function b(oe,pe,ie,fe=0,J=!1){const te=pe.schedule(function(){ie(),J?oe.add(this.schedule(null,fe)):this.unsubscribe()},fe);if(oe.add(te),!J)return te}B.d($e,{N:()=>b})},3669:(Lt,$e,B)=>{function b(oe){return oe}B.d($e,{D:()=>b})},7441:(Lt,$e,B)=>{B.d($e,{X:()=>b});const b=oe=>oe&&"number"==typeof oe.length&&"function"!=typeof oe},7953:(Lt,$e,B)=>{B.d($e,{T:()=>oe});var b=B(8071);function oe(pe){return Symbol.asyncIterator&&(0,b.T)(pe?.[Symbol.asyncIterator])}},8071:(Lt,$e,B)=>{function b(oe){return"function"==typeof oe}B.d($e,{T:()=>b})},5055:(Lt,$e,B)=>{B.d($e,{l:()=>pe});var b=B(3494),oe=B(8071);function pe(ie){return(0,oe.T)(ie[b.s])}},5397:(Lt,$e,B)=>{B.d($e,{x:()=>pe});var b=B(4761),oe=B(8071);function pe(ie){return(0,oe.T)(ie?.[b.l])}},9858:(Lt,$e,B)=>{B.d($e,{y:()=>oe});var b=B(8071);function oe(pe){return(0,b.T)(pe?.then)}},5196:(Lt,$e,B)=>{B.d($e,{C:()=>pe,U:()=>ie});var b=B(1635),oe=B(8071);function pe(fe){return(0,b.AQ)(this,arguments,function*(){const te=fe.getReader();try{for(;;){const{value:Re,done:Fe}=yield(0,b.N3)(te.read());if(Fe)return yield(0,b.N3)(void 0);yield yield(0,b.N3)(Re)}}finally{te.releaseLock()}})}function ie(fe){return(0,oe.T)(fe?.getReader)}},9470:(Lt,$e,B)=>{B.d($e,{m:()=>oe});var b=B(8071);function oe(pe){return pe&&(0,b.T)(pe.schedule)}},9974:(Lt,$e,B)=>{B.d($e,{N:()=>pe,S:()=>oe});var b=B(8071);function oe(ie){return(0,b.T)(ie?.lift)}function pe(ie){return fe=>{if(oe(fe))return fe.lift(function(J){try{return ie(J,this)}catch(te){this.error(te)}});throw new TypeError("Unable to lift unknown Observable type")}}},6450:(Lt,$e,B)=>{B.d($e,{I:()=>ie});var b=B(6354);const{isArray:oe}=Array;function ie(fe){return(0,b.T)(J=>function pe(fe,J){return oe(J)?fe(...J):fe(J)}(fe,J))}},5343:(Lt,$e,B)=>{function b(){}B.d($e,{l:()=>b})},1203:(Lt,$e,B)=>{B.d($e,{F:()=>oe,m:()=>pe});var b=B(3669);function oe(...ie){return pe(ie)}function pe(ie){return 0===ie.length?b.D:1===ie.length?ie[0]:function(J){return ie.reduce((te,Re)=>Re(te),J)}}},5334:(Lt,$e,B)=>{B.d($e,{m:()=>pe});var b=B(1026),oe=B(9270);function pe(ie){oe.f.setTimeout(()=>{const{onUnhandledError:fe}=b.$;if(!fe)throw ie;fe(ie)})}},591:(Lt,$e,B)=>{function b(oe){return new TypeError(`You provided ${null!==oe&&"object"==typeof oe?"an invalid object":`'${oe}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}B.d($e,{L:()=>b})},177:(Lt,$e,B)=>{B.d($e,{AJ:()=>Ur,MD:()=>ms,N0:()=>Ci,PV:()=>$i,QT:()=>pe,QX:()=>lr,Sm:()=>vt,Sq:()=>gi,T3:()=>zn,UE:()=>ko,VF:()=>fe,Vy:()=>Ws,Xr:()=>to,YU:()=>Yn,ZD:()=>ie,_b:()=>zr,aZ:()=>Vt,bT:()=>Ki,fw:()=>We,hb:()=>qe,hj:()=>Re,qQ:()=>J});var b=B(7705);let oe=null;function pe(){return oe}function ie(m){oe||(oe=m)}class fe{}const J=new b.nKC("DocumentToken");let te=(()=>{class m{historyGo(S){throw new Error("Not implemented")}static{this.\u0275fac=function(k){return new(k||m)}}static{this.\u0275prov=b.jDH({token:m,factory:function(){return(0,b.WQX)(Fe)},providedIn:"platform"})}}return m})();const Re=new b.nKC("Location Initialized");let Fe=(()=>{class m extends te{constructor(){super(),this._doc=(0,b.WQX)(J),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return pe().getBaseHref(this._doc)}onPopState(S){const k=pe().getGlobalEventTarget(this._doc,"window");return k.addEventListener("popstate",S,!1),()=>k.removeEventListener("popstate",S)}onHashChange(S){const k=pe().getGlobalEventTarget(this._doc,"window");return k.addEventListener("hashchange",S,!1),()=>k.removeEventListener("hashchange",S)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(S){this._location.pathname=S}pushState(S,k,ee){this._history.pushState(S,k,ee)}replaceState(S,k,ee){this._history.replaceState(S,k,ee)}forward(){this._history.forward()}back(){this._history.back()}historyGo(S=0){this._history.go(S)}getState(){return this._history.state}static{this.\u0275fac=function(k){return new(k||m)}}static{this.\u0275prov=b.jDH({token:m,factory:function(){return new m},providedIn:"platform"})}}return m})();function re(m,x){if(0==m.length)return x;if(0==x.length)return m;let S=0;return m.endsWith("/")&&S++,x.startsWith("/")&&S++,2==S?m+x.substring(1):1==S?m+x:m+"/"+x}function ae(m){const x=m.match(/#|\?|$/),S=x&&x.index||m.length;return m.slice(0,S-("/"===m[S-1]?1:0))+m.slice(S)}function Ae(m){return m&&"?"!==m[0]?"?"+m:m}let qe=(()=>{class m{historyGo(S){throw new Error("Not implemented")}static{this.\u0275fac=function(k){return new(k||m)}}static{this.\u0275prov=b.jDH({token:m,factory:function(){return(0,b.WQX)(vt)},providedIn:"root"})}}return m})();const _e=new b.nKC("appBaseHref");let vt=(()=>{class m extends qe{constructor(S,k){super(),this._platformLocation=S,this._removeListenerFns=[],this._baseHref=k??this._platformLocation.getBaseHrefFromDOM()??(0,b.WQX)(J).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(S){this._removeListenerFns.push(this._platformLocation.onPopState(S),this._platformLocation.onHashChange(S))}getBaseHref(){return this._baseHref}prepareExternalUrl(S){return re(this._baseHref,S)}path(S=!1){const k=this._platformLocation.pathname+Ae(this._platformLocation.search),ee=this._platformLocation.hash;return ee&&S?`${k}${ee}`:k}pushState(S,k,ee,be){const Le=this.prepareExternalUrl(ee+Ae(be));this._platformLocation.pushState(S,k,Le)}replaceState(S,k,ee,be){const Le=this.prepareExternalUrl(ee+Ae(be));this._platformLocation.replaceState(S,k,Le)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(S=0){this._platformLocation.historyGo?.(S)}static{this.\u0275fac=function(k){return new(k||m)(b.KVO(te),b.KVO(_e,8))}}static{this.\u0275prov=b.jDH({token:m,factory:m.\u0275fac,providedIn:"root"})}}return m})(),We=(()=>{class m extends qe{constructor(S,k){super(),this._platformLocation=S,this._baseHref="",this._removeListenerFns=[],null!=k&&(this._baseHref=k)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(S){this._removeListenerFns.push(this._platformLocation.onPopState(S),this._platformLocation.onHashChange(S))}getBaseHref(){return this._baseHref}path(S=!1){let k=this._platformLocation.hash;return null==k&&(k="#"),k.length>0?k.substring(1):k}prepareExternalUrl(S){const k=re(this._baseHref,S);return k.length>0?"#"+k:k}pushState(S,k,ee,be){let Le=this.prepareExternalUrl(ee+Ae(be));0==Le.length&&(Le=this._platformLocation.pathname),this._platformLocation.pushState(S,k,Le)}replaceState(S,k,ee,be){let Le=this.prepareExternalUrl(ee+Ae(be));0==Le.length&&(Le=this._platformLocation.pathname),this._platformLocation.replaceState(S,k,Le)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(S=0){this._platformLocation.historyGo?.(S)}static{this.\u0275fac=function(k){return new(k||m)(b.KVO(te),b.KVO(_e,8))}}static{this.\u0275prov=b.jDH({token:m,factory:m.\u0275fac})}}return m})(),Vt=(()=>{class m{constructor(S){this._subject=new b.bkB,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=S;const k=this._locationStrategy.getBaseHref();this._basePath=function Me(m){if(new RegExp("^(https?:)?//").test(m)){const[,S]=m.split(/\/\/[^\/]+/);return S}return m}(ae(Cn(k))),this._locationStrategy.onPopState(ee=>{this._subject.emit({url:this.path(!0),pop:!0,state:ee.state,type:ee.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(S=!1){return this.normalize(this._locationStrategy.path(S))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(S,k=""){return this.path()==this.normalize(S+Ae(k))}normalize(S){return m.stripTrailingSlash(function Tn(m,x){if(!m||!x.startsWith(m))return x;const S=x.substring(m.length);return""===S||["/",";","?","#"].includes(S[0])?S:x}(this._basePath,Cn(S)))}prepareExternalUrl(S){return S&&"/"!==S[0]&&(S="/"+S),this._locationStrategy.prepareExternalUrl(S)}go(S,k="",ee=null){this._locationStrategy.pushState(ee,"",S,k),this._notifyUrlChangeListeners(this.prepareExternalUrl(S+Ae(k)),ee)}replaceState(S,k="",ee=null){this._locationStrategy.replaceState(ee,"",S,k),this._notifyUrlChangeListeners(this.prepareExternalUrl(S+Ae(k)),ee)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(S=0){this._locationStrategy.historyGo?.(S)}onUrlChange(S){return this._urlChangeListeners.push(S),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(k=>{this._notifyUrlChangeListeners(k.url,k.state)})),()=>{const k=this._urlChangeListeners.indexOf(S);this._urlChangeListeners.splice(k,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(S="",k){this._urlChangeListeners.forEach(ee=>ee(S,k))}subscribe(S,k,ee){return this._subject.subscribe({next:S,error:k,complete:ee})}static{this.normalizeQueryParams=Ae}static{this.joinWithSlash=re}static{this.stripTrailingSlash=ae}static{this.\u0275fac=function(k){return new(k||m)(b.KVO(qe))}}static{this.\u0275prov=b.jDH({token:m,factory:function(){return function Ot(){return new Vt((0,b.KVO)(qe))}()},providedIn:"root"})}}return m})();function Cn(m){return m.replace(/\/index.html$/,"")}var Ne=function(m){return m[m.Decimal=0]="Decimal",m[m.Percent=1]="Percent",m[m.Currency=2]="Currency",m[m.Scientific=3]="Scientific",m}(Ne||{}),tn=function(m){return m[m.Decimal=0]="Decimal",m[m.Group=1]="Group",m[m.List=2]="List",m[m.PercentSign=3]="PercentSign",m[m.PlusSign=4]="PlusSign",m[m.MinusSign=5]="MinusSign",m[m.Exponential=6]="Exponential",m[m.SuperscriptingExponent=7]="SuperscriptingExponent",m[m.PerMille=8]="PerMille",m[m.Infinity=9]="Infinity",m[m.NaN=10]="NaN",m[m.TimeSeparator=11]="TimeSeparator",m[m.CurrencyDecimal=12]="CurrencyDecimal",m[m.CurrencyGroup=13]="CurrencyGroup",m}(tn||{});function Ue(m,x){const S=(0,b.H5H)(m),k=S[b.KH2.NumberSymbols][x];if(typeof k>"u"){if(x===tn.CurrencyDecimal)return S[b.KH2.NumberSymbols][tn.Decimal];if(x===tn.CurrencyGroup)return S[b.KH2.NumberSymbols][tn.Group]}return k}const G=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function at(m){const x=parseInt(m);if(isNaN(x))throw new Error("Invalid integer literal when parsing "+m);return x}function zr(m,x){x=encodeURIComponent(x);for(const S of m.split(";")){const k=S.indexOf("="),[ee,be]=-1==k?[S,""]:[S.slice(0,k),S.slice(k+1)];if(ee.trim()===x)return decodeURIComponent(be)}return null}const pi=/\s+/,xn=[];let Yn=(()=>{class m{constructor(S,k,ee,be){this._iterableDiffers=S,this._keyValueDiffers=k,this._ngEl=ee,this._renderer=be,this.initialClasses=xn,this.stateMap=new Map}set klass(S){this.initialClasses=null!=S?S.trim().split(pi):xn}set ngClass(S){this.rawClass="string"==typeof S?S.trim().split(pi):S}ngDoCheck(){for(const k of this.initialClasses)this._updateState(k,!0);const S=this.rawClass;if(Array.isArray(S)||S instanceof Set)for(const k of S)this._updateState(k,!0);else if(null!=S)for(const k of Object.keys(S))this._updateState(k,!!S[k]);this._applyStateDiff()}_updateState(S,k){const ee=this.stateMap.get(S);void 0!==ee?(ee.enabled!==k&&(ee.changed=!0,ee.enabled=k),ee.touched=!0):this.stateMap.set(S,{enabled:k,changed:!0,touched:!0})}_applyStateDiff(){for(const S of this.stateMap){const k=S[0],ee=S[1];ee.changed?(this._toggleClass(k,ee.enabled),ee.changed=!1):ee.touched||(ee.enabled&&this._toggleClass(k,!1),this.stateMap.delete(k)),ee.touched=!1}}_toggleClass(S,k){(S=S.trim()).length>0&&S.split(pi).forEach(ee=>{k?this._renderer.addClass(this._ngEl.nativeElement,ee):this._renderer.removeClass(this._ngEl.nativeElement,ee)})}static{this.\u0275fac=function(k){return new(k||m)(b.rXU(b._q3),b.rXU(b.MKu),b.rXU(b.aKT),b.rXU(b.sFG))}}static{this.\u0275dir=b.FsC({type:m,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}}return m})();class Fr{constructor(x,S,k,ee){this.$implicit=x,this.ngForOf=S,this.index=k,this.count=ee}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let gi=(()=>{class m{set ngForOf(S){this._ngForOf=S,this._ngForOfDirty=!0}set ngForTrackBy(S){this._trackByFn=S}get ngForTrackBy(){return this._trackByFn}constructor(S,k,ee){this._viewContainer=S,this._template=k,this._differs=ee,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(S){S&&(this._template=S)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const S=this._ngForOf;!this._differ&&S&&(this._differ=this._differs.find(S).create(this.ngForTrackBy))}if(this._differ){const S=this._differ.diff(this._ngForOf);S&&this._applyChanges(S)}}_applyChanges(S){const k=this._viewContainer;S.forEachOperation((ee,be,Le)=>{if(null==ee.previousIndex)k.createEmbeddedView(this._template,new Fr(ee.item,this._ngForOf,-1,-1),null===Le?void 0:Le);else if(null==Le)k.remove(null===be?void 0:be);else if(null!==be){const st=k.get(be);k.move(st,Le),Ar(st,ee)}});for(let ee=0,be=k.length;ee<be;ee++){const st=k.get(ee).context;st.index=ee,st.count=be,st.ngForOf=this._ngForOf}S.forEachIdentityChange(ee=>{Ar(k.get(ee.currentIndex),ee)})}static ngTemplateContextGuard(S,k){return!0}static{this.\u0275fac=function(k){return new(k||m)(b.rXU(b.c1b),b.rXU(b.C4Q),b.rXU(b._q3))}}static{this.\u0275dir=b.FsC({type:m,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return m})();function Ar(m,x){m.context.$implicit=x.item}let Ki=(()=>{class m{constructor(S,k){this._viewContainer=S,this._context=new Mr,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=k}set ngIf(S){this._context.$implicit=this._context.ngIf=S,this._updateView()}set ngIfThen(S){Hs("ngIfThen",S),this._thenTemplateRef=S,this._thenViewRef=null,this._updateView()}set ngIfElse(S){Hs("ngIfElse",S),this._elseTemplateRef=S,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(S,k){return!0}static{this.\u0275fac=function(k){return new(k||m)(b.rXU(b.c1b),b.rXU(b.C4Q))}}static{this.\u0275dir=b.FsC({type:m,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return m})();class Mr{constructor(){this.$implicit=null,this.ngIf=null}}function Hs(m,x){if(x&&!x.createEmbeddedView)throw new Error(`${m} must be a TemplateRef, but received '${(0,b.Tbb)(x)}'.`)}let zn=(()=>{class m{constructor(S){this._viewContainerRef=S,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(S){if(S.ngTemplateOutlet||S.ngTemplateOutletInjector){const k=this._viewContainerRef;if(this._viewRef&&k.remove(k.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:ee,ngTemplateOutletContext:be,ngTemplateOutletInjector:Le}=this;this._viewRef=k.createEmbeddedView(ee,be,Le?{injector:Le}:void 0)}else this._viewRef=null}else this._viewRef&&S.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}static{this.\u0275fac=function(k){return new(k||m)(b.rXU(b.c1b))}}static{this.\u0275dir=b.FsC({type:m,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[b.OA$]})}}return m})();function mi(m,x){return new b.wOt(2100,!1)}const fa=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g;let $i=(()=>{class m{transform(S){if(null==S)return null;if("string"!=typeof S)throw mi();return S.replace(fa,k=>k[0].toUpperCase()+k.slice(1).toLowerCase())}static{this.\u0275fac=function(k){return new(k||m)}}static{this.\u0275pipe=b.EJ8({name:"titlecase",type:m,pure:!0,standalone:!0})}}return m})(),lr=(()=>{class m{constructor(S){this._locale=S}transform(S,k,ee){if(!function rn(m){return!(null==m||""===m||m!=m)}(S))return null;ee=ee||this._locale;try{return function le(m,x,S){return function Ce(m,x,S,k,ee,be,Le=!1){let st="",Ft=!1;if(isFinite(m)){let fn=function Qe(m){let k,ee,be,Le,st,x=Math.abs(m)+"",S=0;for((ee=x.indexOf("."))>-1&&(x=x.replace(".","")),(be=x.search(/e/i))>0?(ee<0&&(ee=be),ee+=+x.slice(be+1),x=x.substring(0,be)):ee<0&&(ee=x.length),be=0;"0"===x.charAt(be);be++);if(be===(st=x.length))k=[0],ee=1;else{for(st--;"0"===x.charAt(st);)st--;for(ee-=be,k=[],Le=0;be<=st;be++,Le++)k[Le]=Number(x.charAt(be))}return ee>22&&(k=k.splice(0,21),S=ee-1,ee=1),{digits:k,exponent:S,integerLen:ee}}(m);Le&&(fn=function Se(m){if(0===m.digits[0])return m;const x=m.digits.length-m.integerLen;return m.exponent?m.exponent+=2:(0===x?m.digits.push(0,0):1===x&&m.digits.push(0),m.integerLen+=2),m}(fn));let hn=x.minInt,Zt=x.minFrac,kn=x.maxFrac;if(be){const er=be.match(G);if(null===er)throw new Error(`${be} is not a valid digit info`);const Dr=er[1],Ai=er[3],As=er[5];null!=Dr&&(hn=at(Dr)),null!=Ai&&(Zt=at(Ai)),null!=As?kn=at(As):null!=Ai&&Zt>kn&&(kn=Zt)}!function At(m,x,S){if(x>S)throw new Error(`The minimum number of digits after fraction (${x}) is higher than the maximum (${S}).`);let k=m.digits,ee=k.length-m.integerLen;const be=Math.min(Math.max(x,ee),S);let Le=be+m.integerLen,st=k[Le];if(Le>0){k.splice(Math.max(m.integerLen,Le));for(let Zt=Le;Zt<k.length;Zt++)k[Zt]=0}else{ee=Math.max(0,ee),m.integerLen=1,k.length=Math.max(1,Le=be+1),k[0]=0;for(let Zt=1;Zt<Le;Zt++)k[Zt]=0}if(st>=5)if(Le-1<0){for(let Zt=0;Zt>Le;Zt--)k.unshift(0),m.integerLen++;k.unshift(1),m.integerLen++}else k[Le-1]++;for(;ee<Math.max(0,be);ee++)k.push(0);let Ft=0!==be;const fn=x+m.integerLen,hn=k.reduceRight(function(Zt,kn,bn,Pr){return Pr[bn]=(kn+=Zt)<10?kn:kn-10,Ft&&(0===Pr[bn]&&bn>=fn?Pr.pop():Ft=!1),kn>=10?1:0},0);hn&&(k.unshift(hn),m.integerLen++)}(fn,Zt,kn);let bn=fn.digits,Pr=fn.integerLen;const xr=fn.exponent;let Or=[];for(Ft=bn.every(er=>!er);Pr<hn;Pr++)bn.unshift(0);for(;Pr<0;Pr++)bn.unshift(0);Pr>0?Or=bn.splice(Pr,bn.length):(Or=bn,bn=[0]);const Ln=[];for(bn.length>=x.lgSize&&Ln.unshift(bn.splice(-x.lgSize,bn.length).join(""));bn.length>x.gSize;)Ln.unshift(bn.splice(-x.gSize,bn.length).join(""));bn.length&&Ln.unshift(bn.join("")),st=Ln.join(Ue(S,k)),Or.length&&(st+=Ue(S,ee)+Or.join("")),xr&&(st+=Ue(S,tn.Exponential)+"+"+xr)}else st=Ue(S,tn.Infinity);return st=m<0&&!Ft?x.negPre+st+x.negSuf:x.posPre+st+x.posSuf,st}(m,function ce(m,x="-"){const S={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},k=m.split(";"),ee=k[0],be=k[1],Le=-1!==ee.indexOf(".")?ee.split("."):[ee.substring(0,ee.lastIndexOf("0")+1),ee.substring(ee.lastIndexOf("0")+1)],st=Le[0],Ft=Le[1]||"";S.posPre=st.substring(0,st.indexOf("#"));for(let hn=0;hn<Ft.length;hn++){const Zt=Ft.charAt(hn);"0"===Zt?S.minFrac=S.maxFrac=hn+1:"#"===Zt?S.maxFrac=hn+1:S.posSuf+=Zt}const fn=st.split(",");if(S.gSize=fn[1]?fn[1].length:0,S.lgSize=fn[2]||fn[1]?(fn[2]||fn[1]).length:0,be){const hn=ee.length-S.posPre.length-S.posSuf.length,Zt=be.indexOf("#");S.negPre=be.substring(0,Zt).replace(/'/g,""),S.negSuf=be.slice(Zt+hn).replace(/'/g,"")}else S.negPre=x+S.posPre,S.negSuf=S.posSuf;return S}(function Ye(m,x){return(0,b.H5H)(m)[b.KH2.NumberFormats][x]}(x,Ne.Decimal),Ue(x,tn.MinusSign)),x,tn.Group,tn.Decimal,S)}(function li(m){if("string"==typeof m&&!isNaN(Number(m)-parseFloat(m)))return Number(m);if("number"!=typeof m)throw new Error(`${m} is not a number`);return m}(S),ee,k)}catch(be){throw mi()}}static{this.\u0275fac=function(k){return new(k||m)(b.rXU(b.xe9,16))}}static{this.\u0275pipe=b.EJ8({name:"number",type:m,pure:!0,standalone:!0})}}return m})();let ms=(()=>{class m{static{this.\u0275fac=function(k){return new(k||m)}}static{this.\u0275mod=b.$C({type:m})}static{this.\u0275inj=b.G2t({})}}return m})();const Ur="browser",ks="server";function ko(m){return m===Ur}function Ws(m){return m===ks}let to=(()=>{class m{static{this.\u0275prov=(0,b.jDH)({token:m,providedIn:"root",factory:()=>new _i((0,b.KVO)(J),window)})}}return m})();class _i{constructor(x,S){this.document=x,this.window=S,this.offset=()=>[0,0]}setOffset(x){this.offset=Array.isArray(x)?()=>x:x}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(x){this.supportsScrolling()&&this.window.scrollTo(x[0],x[1])}scrollToAnchor(x){if(!this.supportsScrolling())return;const S=function vo(m,x){const S=m.getElementById(x)||m.getElementsByName(x)[0];if(S)return S;if("function"==typeof m.createTreeWalker&&m.body&&"function"==typeof m.body.attachShadow){const k=m.createTreeWalker(m.body,NodeFilter.SHOW_ELEMENT);let ee=k.currentNode;for(;ee;){const be=ee.shadowRoot;if(be){const Le=be.getElementById(x)||be.querySelector(`[name="${x}"]`);if(Le)return Le}ee=k.nextNode()}}return null}(this.document,x);S&&(this.scrollToElement(S),S.focus())}setHistoryScrollRestoration(x){this.supportsScrolling()&&(this.window.history.scrollRestoration=x)}scrollToElement(x){const S=x.getBoundingClientRect(),k=S.left+this.window.pageXOffset,ee=S.top+this.window.pageYOffset,be=this.offset();this.window.scrollTo(k-be[0],ee-be[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class Ci{}},1626:(Lt,$e,B)=>{B.d($e,{Qq:()=>Tr,a7:()=>Rt,q1:()=>G});var b=B(7705),oe=B(7673),pe=B(8455),ie=B(1985),fe=B(274),J=B(5964),te=B(6354),Re=B(980),Fe=B(5558),re=B(177);class ae{}class Ae{}class qe{constructor(he){this.normalizedNames=new Map,this.lazyUpdate=null,he?"string"==typeof he?this.lazyInit=()=>{this.headers=new Map,he.split("\n").forEach(ye=>{const le=ye.indexOf(":");if(le>0){const ce=ye.slice(0,le),Se=ce.toLowerCase(),Qe=ye.slice(le+1).trim();this.maybeSetNormalizedName(ce,Se),this.headers.has(Se)?this.headers.get(Se).push(Qe):this.headers.set(Se,[Qe])}})}:typeof Headers<"u"&&he instanceof Headers?(this.headers=new Map,he.forEach((ye,le)=>{this.setHeaderEntries(le,ye)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(he).forEach(([ye,le])=>{this.setHeaderEntries(ye,le)})}:this.headers=new Map}has(he){return this.init(),this.headers.has(he.toLowerCase())}get(he){this.init();const ye=this.headers.get(he.toLowerCase());return ye&&ye.length>0?ye[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(he){return this.init(),this.headers.get(he.toLowerCase())||null}append(he,ye){return this.clone({name:he,value:ye,op:"a"})}set(he,ye){return this.clone({name:he,value:ye,op:"s"})}delete(he,ye){return this.clone({name:he,value:ye,op:"d"})}maybeSetNormalizedName(he,ye){this.normalizedNames.has(ye)||this.normalizedNames.set(ye,he)}init(){this.lazyInit&&(this.lazyInit instanceof qe?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(he=>this.applyUpdate(he)),this.lazyUpdate=null))}copyFrom(he){he.init(),Array.from(he.headers.keys()).forEach(ye=>{this.headers.set(ye,he.headers.get(ye)),this.normalizedNames.set(ye,he.normalizedNames.get(ye))})}clone(he){const ye=new qe;return ye.lazyInit=this.lazyInit&&this.lazyInit instanceof qe?this.lazyInit:this,ye.lazyUpdate=(this.lazyUpdate||[]).concat([he]),ye}applyUpdate(he){const ye=he.name.toLowerCase();switch(he.op){case"a":case"s":let le=he.value;if("string"==typeof le&&(le=[le]),0===le.length)return;this.maybeSetNormalizedName(he.name,ye);const ce=("a"===he.op?this.headers.get(ye):void 0)||[];ce.push(...le),this.headers.set(ye,ce);break;case"d":const Se=he.value;if(Se){let Qe=this.headers.get(ye);if(!Qe)return;Qe=Qe.filter(At=>-1===Se.indexOf(At)),0===Qe.length?(this.headers.delete(ye),this.normalizedNames.delete(ye)):this.headers.set(ye,Qe)}else this.headers.delete(ye),this.normalizedNames.delete(ye)}}setHeaderEntries(he,ye){const le=(Array.isArray(ye)?ye:[ye]).map(Se=>Se.toString()),ce=he.toLowerCase();this.headers.set(ce,le),this.maybeSetNormalizedName(he,ce)}forEach(he){this.init(),Array.from(this.normalizedNames.keys()).forEach(ye=>he(this.normalizedNames.get(ye),this.headers.get(ye)))}}class vt{encodeKey(he){return Tn(he)}encodeValue(he){return Tn(he)}decodeKey(he){return decodeURIComponent(he)}decodeValue(he){return decodeURIComponent(he)}}const Vt=/%(\d[a-f0-9])/gi,Ot={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Tn(Ce){return encodeURIComponent(Ce).replace(Vt,(he,ye)=>Ot[ye]??he)}function Cn(Ce){return`${Ce}`}class Me{constructor(he={}){if(this.updates=null,this.cloneFrom=null,this.encoder=he.encoder||new vt,he.fromString){if(he.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function We(Ce,he){const ye=new Map;return Ce.length>0&&Ce.replace(/^\?/,"").split("&").forEach(ce=>{const Se=ce.indexOf("="),[Qe,At]=-1==Se?[he.decodeKey(ce),""]:[he.decodeKey(ce.slice(0,Se)),he.decodeValue(ce.slice(Se+1))],at=ye.get(Qe)||[];at.push(At),ye.set(Qe,at)}),ye}(he.fromString,this.encoder)}else he.fromObject?(this.map=new Map,Object.keys(he.fromObject).forEach(ye=>{const le=he.fromObject[ye],ce=Array.isArray(le)?le.map(Cn):[Cn(le)];this.map.set(ye,ce)})):this.map=null}has(he){return this.init(),this.map.has(he)}get(he){this.init();const ye=this.map.get(he);return ye?ye[0]:null}getAll(he){return this.init(),this.map.get(he)||null}keys(){return this.init(),Array.from(this.map.keys())}append(he,ye){return this.clone({param:he,value:ye,op:"a"})}appendAll(he){const ye=[];return Object.keys(he).forEach(le=>{const ce=he[le];Array.isArray(ce)?ce.forEach(Se=>{ye.push({param:le,value:Se,op:"a"})}):ye.push({param:le,value:ce,op:"a"})}),this.clone(ye)}set(he,ye){return this.clone({param:he,value:ye,op:"s"})}delete(he,ye){return this.clone({param:he,value:ye,op:"d"})}toString(){return this.init(),this.keys().map(he=>{const ye=this.encoder.encodeKey(he);return this.map.get(he).map(le=>ye+"="+this.encoder.encodeValue(le)).join("&")}).filter(he=>""!==he).join("&")}clone(he){const ye=new Me({encoder:this.encoder});return ye.cloneFrom=this.cloneFrom||this,ye.updates=(this.updates||[]).concat(he),ye}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(he=>this.map.set(he,this.cloneFrom.map.get(he))),this.updates.forEach(he=>{switch(he.op){case"a":case"s":const ye=("a"===he.op?this.map.get(he.param):void 0)||[];ye.push(Cn(he.value)),this.map.set(he.param,ye);break;case"d":if(void 0===he.value){this.map.delete(he.param);break}{let le=this.map.get(he.param)||[];const ce=le.indexOf(Cn(he.value));-1!==ce&&le.splice(ce,1),le.length>0?this.map.set(he.param,le):this.map.delete(he.param)}}}),this.cloneFrom=this.updates=null)}}class Ne{constructor(){this.map=new Map}set(he,ye){return this.map.set(he,ye),this}get(he){return this.map.has(he)||this.map.set(he,he.defaultValue()),this.map.get(he)}delete(he){return this.map.delete(he),this}has(he){return this.map.has(he)}keys(){return this.map.keys()}}function _t(Ce){return typeof ArrayBuffer<"u"&&Ce instanceof ArrayBuffer}function pt(Ce){return typeof Blob<"u"&&Ce instanceof Blob}function Kt(Ce){return typeof FormData<"u"&&Ce instanceof FormData}class vn{constructor(he,ye,le,ce){let Se;if(this.url=ye,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=he.toUpperCase(),function et(Ce){switch(Ce){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||ce?(this.body=void 0!==le?le:null,Se=ce):Se=le,Se&&(this.reportProgress=!!Se.reportProgress,this.withCredentials=!!Se.withCredentials,Se.responseType&&(this.responseType=Se.responseType),Se.headers&&(this.headers=Se.headers),Se.context&&(this.context=Se.context),Se.params&&(this.params=Se.params)),this.headers||(this.headers=new qe),this.context||(this.context=new Ne),this.params){const Qe=this.params.toString();if(0===Qe.length)this.urlWithParams=ye;else{const At=ye.indexOf("?");this.urlWithParams=ye+(-1===At?"?":At<ye.length-1?"&":"")+Qe}}else this.params=new Me,this.urlWithParams=ye}serializeBody(){return null===this.body?null:_t(this.body)||pt(this.body)||Kt(this.body)||function tn(Ce){return typeof URLSearchParams<"u"&&Ce instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Me?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Kt(this.body)?null:pt(this.body)?this.body.type||null:_t(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Me?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(he={}){const ye=he.method||this.method,le=he.url||this.url,ce=he.responseType||this.responseType,Se=void 0!==he.body?he.body:this.body,Qe=void 0!==he.withCredentials?he.withCredentials:this.withCredentials,At=void 0!==he.reportProgress?he.reportProgress:this.reportProgress;let at=he.headers||this.headers,nn=he.params||this.params;const Pn=he.context??this.context;return void 0!==he.setHeaders&&(at=Object.keys(he.setHeaders).reduce((_n,jn)=>_n.set(jn,he.setHeaders[jn]),at)),he.setParams&&(nn=Object.keys(he.setParams).reduce((_n,jn)=>_n.set(jn,he.setParams[jn]),nn)),new vn(ye,le,Se,{params:nn,headers:at,context:Pn,reportProgress:At,responseType:ce,withCredentials:Qe})}}var Qn=function(Ce){return Ce[Ce.Sent=0]="Sent",Ce[Ce.UploadProgress=1]="UploadProgress",Ce[Ce.ResponseHeader=2]="ResponseHeader",Ce[Ce.DownloadProgress=3]="DownloadProgress",Ce[Ce.Response=4]="Response",Ce[Ce.User=5]="User",Ce}(Qn||{});class lt{constructor(he,ye=200,le="OK"){this.headers=he.headers||new qe,this.status=void 0!==he.status?he.status:ye,this.statusText=he.statusText||le,this.url=he.url||null,this.ok=this.status>=200&&this.status<300}}class pn extends lt{constructor(he={}){super(he),this.type=Qn.ResponseHeader}clone(he={}){return new pn({headers:he.headers||this.headers,status:void 0!==he.status?he.status:this.status,statusText:he.statusText||this.statusText,url:he.url||this.url||void 0})}}class On extends lt{constructor(he={}){super(he),this.type=Qn.Response,this.body=void 0!==he.body?he.body:null}clone(he={}){return new On({body:void 0!==he.body?he.body:this.body,headers:he.headers||this.headers,status:void 0!==he.status?he.status:this.status,statusText:he.statusText||this.statusText,url:he.url||this.url||void 0})}}class Qr extends lt{constructor(he){super(he,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${he.url||"(unknown url)"}`:`Http failure response for ${he.url||"(unknown url)"}: ${he.status} ${he.statusText}`,this.error=he.error||null}}function Xr(Ce,he){return{body:he,headers:Ce.headers,context:Ce.context,observe:Ce.observe,params:Ce.params,reportProgress:Ce.reportProgress,responseType:Ce.responseType,withCredentials:Ce.withCredentials}}let Tr=(()=>{class Ce{constructor(ye){this.handler=ye}request(ye,le,ce={}){let Se;if(ye instanceof vn)Se=ye;else{let at,nn;at=ce.headers instanceof qe?ce.headers:new qe(ce.headers),ce.params&&(nn=ce.params instanceof Me?ce.params:new Me({fromObject:ce.params})),Se=new vn(ye,le,void 0!==ce.body?ce.body:null,{headers:at,context:ce.context,params:nn,reportProgress:ce.reportProgress,responseType:ce.responseType||"json",withCredentials:ce.withCredentials})}const Qe=(0,oe.of)(Se).pipe((0,fe.H)(at=>this.handler.handle(at)));if(ye instanceof vn||"events"===ce.observe)return Qe;const At=Qe.pipe((0,J.p)(at=>at instanceof On));switch(ce.observe||"body"){case"body":switch(Se.responseType){case"arraybuffer":return At.pipe((0,te.T)(at=>{if(null!==at.body&&!(at.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return at.body}));case"blob":return At.pipe((0,te.T)(at=>{if(null!==at.body&&!(at.body instanceof Blob))throw new Error("Response is not a Blob.");return at.body}));case"text":return At.pipe((0,te.T)(at=>{if(null!==at.body&&"string"!=typeof at.body)throw new Error("Response is not a string.");return at.body}));default:return At.pipe((0,te.T)(at=>at.body))}case"response":return At;default:throw new Error(`Unreachable: unhandled observe type ${ce.observe}}`)}}delete(ye,le={}){return this.request("DELETE",ye,le)}get(ye,le={}){return this.request("GET",ye,le)}head(ye,le={}){return this.request("HEAD",ye,le)}jsonp(ye,le){return this.request("JSONP",ye,{params:(new Me).append(le,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(ye,le={}){return this.request("OPTIONS",ye,le)}patch(ye,le,ce={}){return this.request("PATCH",ye,Xr(ce,le))}post(ye,le,ce={}){return this.request("POST",ye,Xr(ce,le))}put(ye,le,ce={}){return this.request("PUT",ye,Xr(ce,le))}static{this.\u0275fac=function(le){return new(le||Ce)(b.KVO(ae))}}static{this.\u0275prov=b.jDH({token:Ce,factory:Ce.\u0275fac})}}return Ce})();function Tt(Ce,he){return he(Ce)}function mt(Ce,he){return(ye,le)=>he.intercept(ye,{handle:ce=>Ce(ce,le)})}const Rt=new b.nKC(""),mn=new b.nKC(""),wn=new b.nKC("");function cr(){let Ce=null;return(he,ye)=>{null===Ce&&(Ce=((0,b.WQX)(Rt,{optional:!0})??[]).reduceRight(mt,Tt));const le=(0,b.WQX)(b.$K3),ce=le.add();return Ce(he,ye).pipe((0,Re.j)(()=>le.remove(ce)))}}let Jt=(()=>{class Ce extends ae{constructor(ye,le){super(),this.backend=ye,this.injector=le,this.chain=null,this.pendingTasks=(0,b.WQX)(b.$K3)}handle(ye){if(null===this.chain){const ce=Array.from(new Set([...this.injector.get(mn),...this.injector.get(wn,[])]));this.chain=ce.reduceRight((Se,Qe)=>function Mn(Ce,he,ye){return(le,ce)=>ye.runInContext(()=>he(le,Se=>Ce(Se,ce)))}(Se,Qe,this.injector),Tt)}const le=this.pendingTasks.add();return this.chain(ye,ce=>this.backend.handle(ce)).pipe((0,Re.j)(()=>this.pendingTasks.remove(le)))}static{this.\u0275fac=function(le){return new(le||Ce)(b.KVO(Ae),b.KVO(b.uvJ))}}static{this.\u0275prov=b.jDH({token:Ce,factory:Ce.\u0275fac})}}return Ce})();const _r=/^\)\]\}',?\n/;let Ut=(()=>{class Ce{constructor(ye){this.xhrFactory=ye}handle(ye){if("JSONP"===ye.method)throw new b.wOt(-2800,!1);const le=this.xhrFactory;return(le.\u0275loadImpl?(0,pe.H)(le.\u0275loadImpl()):(0,oe.of)(null)).pipe((0,Fe.n)(()=>new ie.c(Se=>{const Qe=le.build();if(Qe.open(ye.method,ye.urlWithParams),ye.withCredentials&&(Qe.withCredentials=!0),ye.headers.forEach((xn,Yn)=>Qe.setRequestHeader(xn,Yn.join(","))),ye.headers.has("Accept")||Qe.setRequestHeader("Accept","application/json, text/plain, */*"),!ye.headers.has("Content-Type")){const xn=ye.detectContentTypeHeader();null!==xn&&Qe.setRequestHeader("Content-Type",xn)}if(ye.responseType){const xn=ye.responseType.toLowerCase();Qe.responseType="json"!==xn?xn:"text"}const At=ye.serializeBody();let at=null;const nn=()=>{if(null!==at)return at;const xn=Qe.statusText||"OK",Yn=new qe(Qe.getAllResponseHeaders()),Wr=function Er(Ce){return"responseURL"in Ce&&Ce.responseURL?Ce.responseURL:/^X-Request-URL:/m.test(Ce.getAllResponseHeaders())?Ce.getResponseHeader("X-Request-URL"):null}(Qe)||ye.url;return at=new pn({headers:Yn,status:Qe.status,statusText:xn,url:Wr}),at},Pn=()=>{let{headers:xn,status:Yn,statusText:Wr,url:Yi}=nn(),Fr=null;204!==Yn&&(Fr=typeof Qe.response>"u"?Qe.responseText:Qe.response),0===Yn&&(Yn=Fr?200:0);let gi=Yn>=200&&Yn<300;if("json"===ye.responseType&&"string"==typeof Fr){const Ar=Fr;Fr=Fr.replace(_r,"");try{Fr=""!==Fr?JSON.parse(Fr):null}catch(ei){Fr=Ar,gi&&(gi=!1,Fr={error:ei,text:Fr})}}gi?(Se.next(new On({body:Fr,headers:xn,status:Yn,statusText:Wr,url:Yi||void 0})),Se.complete()):Se.error(new Qr({error:Fr,headers:xn,status:Yn,statusText:Wr,url:Yi||void 0}))},_n=xn=>{const{url:Yn}=nn(),Wr=new Qr({error:xn,status:Qe.status||0,statusText:Qe.statusText||"Unknown Error",url:Yn||void 0});Se.error(Wr)};let jn=!1;const zr=xn=>{jn||(Se.next(nn()),jn=!0);let Yn={type:Qn.DownloadProgress,loaded:xn.loaded};xn.lengthComputable&&(Yn.total=xn.total),"text"===ye.responseType&&Qe.responseText&&(Yn.partialText=Qe.responseText),Se.next(Yn)},pi=xn=>{let Yn={type:Qn.UploadProgress,loaded:xn.loaded};xn.lengthComputable&&(Yn.total=xn.total),Se.next(Yn)};return Qe.addEventListener("load",Pn),Qe.addEventListener("error",_n),Qe.addEventListener("timeout",_n),Qe.addEventListener("abort",_n),ye.reportProgress&&(Qe.addEventListener("progress",zr),null!==At&&Qe.upload&&Qe.upload.addEventListener("progress",pi)),Qe.send(At),Se.next({type:Qn.Sent}),()=>{Qe.removeEventListener("error",_n),Qe.removeEventListener("abort",_n),Qe.removeEventListener("load",Pn),Qe.removeEventListener("timeout",_n),ye.reportProgress&&(Qe.removeEventListener("progress",zr),null!==At&&Qe.upload&&Qe.upload.removeEventListener("progress",pi)),Qe.readyState!==Qe.DONE&&Qe.abort()}})))}static{this.\u0275fac=function(le){return new(le||Ce)(b.KVO(re.N0))}}static{this.\u0275prov=b.jDH({token:Ce,factory:Ce.\u0275fac})}}return Ce})();const rr=new b.nKC("XSRF_ENABLED"),kt=new b.nKC("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),an=new b.nKC("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class Yr{}let Jr=(()=>{class Ce{constructor(ye,le,ce){this.doc=ye,this.platform=le,this.cookieName=ce,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const ye=this.doc.cookie||"";return ye!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,re._b)(ye,this.cookieName),this.lastCookieString=ye),this.lastToken}static{this.\u0275fac=function(le){return new(le||Ce)(b.KVO(re.qQ),b.KVO(b.Agw),b.KVO(kt))}}static{this.\u0275prov=b.jDH({token:Ce,factory:Ce.\u0275fac})}}return Ce})();function oi(Ce,he){const ye=Ce.url.toLowerCase();if(!(0,b.WQX)(rr)||"GET"===Ce.method||"HEAD"===Ce.method||ye.startsWith("http://")||ye.startsWith("https://"))return he(Ce);const le=(0,b.WQX)(Yr).getToken(),ce=(0,b.WQX)(an);return null!=le&&!Ce.headers.has(ce)&&(Ce=Ce.clone({headers:Ce.headers.set(ce,le)})),he(Ce)}var br=function(Ce){return Ce[Ce.Interceptors=0]="Interceptors",Ce[Ce.LegacyInterceptors=1]="LegacyInterceptors",Ce[Ce.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",Ce[Ce.NoXsrfProtection=3]="NoXsrfProtection",Ce[Ce.JsonpSupport=4]="JsonpSupport",Ce[Ce.RequestsMadeViaParent=5]="RequestsMadeViaParent",Ce[Ce.Fetch=6]="Fetch",Ce}(br||{});function Zr(Ce,he){return{\u0275kind:Ce,\u0275providers:he}}function ai(...Ce){const he=[Tr,Ut,Jt,{provide:ae,useExisting:Jt},{provide:Ae,useExisting:Ut},{provide:mn,useValue:oi,multi:!0},{provide:rr,useValue:!0},{provide:Yr,useClass:Jr}];for(const ye of Ce)he.push(...ye.\u0275providers);return(0,b.EmA)(he)}const Ir=new b.nKC("LEGACY_INTERCEPTOR_FN");let G=(()=>{class Ce{static{this.\u0275fac=function(le){return new(le||Ce)}}static{this.\u0275mod=b.$C({type:Ce})}static{this.\u0275inj=b.G2t({providers:[ai(Zr(br.LegacyInterceptors,[{provide:Ir,useFactory:cr},{provide:mn,useExisting:Ir,multi:!0}]))]})}}return Ce})()},7705:(Lt,$e,B)=>{B.d($e,{$C:()=>Zs,$GK:()=>qt,$K3:()=>xI,$MX:()=>El,AVh:()=>tm,Agw:()=>Gp,BIS:()=>Kp,BMQ:()=>Kf,C4Q:()=>dm,C5r:()=>pI,Co$:()=>Aw,DNE:()=>A_,EFF:()=>lv,EJ8:()=>eo,EmA:()=>Up,FS9:()=>ep,FsC:()=>xo,G2t:()=>wn,GBs:()=>uI,GFd:()=>Kc,H3F:()=>PI,H5H:()=>dE,H8p:()=>ch,HJs:()=>Wb,Hbi:()=>Pb,JRh:()=>i,JZv:()=>Ut,Jv_:()=>Sw,KH2:()=>sp,KVO:()=>Bt,Kcf:()=>Mp,L39:()=>Hb,LfX:()=>Jt,Lme:()=>n,MKu:()=>zE,NAR:()=>z_,NEm:()=>cb,NYb:()=>sb,Njj:()=>Pu,O8t:()=>be,OA$:()=>Zt,Ocv:()=>OC,Ol2:()=>Rw,PLl:()=>Wp,QTQ:()=>Iy,Ql9:()=>FC,QuC:()=>as,R7$:()=>Ey,RV6:()=>V_,Rfq:()=>vt,RxE:()=>ng,SKi:()=>Rs,SdG:()=>W_,SpI:()=>e,TL$:()=>_l,Tbb:()=>Ae,UyX:()=>Om,VBU:()=>ci,Vns:()=>Uh,Vt3:()=>Vy,WHO:()=>FI,WPN:()=>wu,WQX:()=>$t,XpG:()=>H_,Xx1:()=>ja,Y8G:()=>Qy,Z63:()=>uh,ZF7:()=>xc,_9s:()=>ry,_q3:()=>HE,aKT:()=>Eh,aNF:()=>Nw,bIt:()=>Su,bMT:()=>qw,bVm:()=>Jg,bc$:()=>zv,bkB:()=>Iu,c1b:()=>_v,cWb:()=>Rp,czy:()=>qd,e01:()=>UI,e5t:()=>Ov,eBV:()=>Ro,eq3:()=>Uw,eu8:()=>Yy,fpN:()=>Nb,gRc:()=>yb,gXe:()=>Qe,giA:()=>VI,h9k:()=>Bm,hnV:()=>NI,i5U:()=>Qw,iLQ:()=>FE,j41:()=>Qg,jDH:()=>Rt,jNT:()=>Zg,k0s:()=>Zf,kS0:()=>rl,kdw:()=>Sc,lNU:()=>Cn,l_i:()=>Vw,lsd:()=>lI,mGM:()=>aI,mq5:()=>Z0,n$t:()=>Lp,nI1:()=>Kw,nKC:()=>kt,nrm:()=>Xg,o8S:()=>cp,oH4:()=>HI,osQ:()=>df,plB:()=>SE,qex:()=>Yg,rOR:()=>mv,rXU:()=>Hc,rcV:()=>uu,sFG:()=>eg,sMw:()=>Bw,sZ2:()=>zp,sdS:()=>O_,uvJ:()=>lu,w6W:()=>TT,wOt:()=>Me,wni:()=>cI,xGo:()=>Po,xe9:()=>wv,xvI:()=>bl,zZn:()=>Na,zcH:()=>qo,ziG:()=>jw,zjR:()=>Zy});var b=B(1413),oe=B(8359),pe=B(1985),ie=B(7786),fe=B(4412),J=B(7673),te=B(7647),Re=B(5558),Fe=B(3294);function re(t){for(let r in t)if(t[r]===re)return r;throw Error("Could not find renamed property on target object.")}function ae(t,r){for(const s in r)r.hasOwnProperty(s)&&!t.hasOwnProperty(s)&&(t[s]=r[s])}function Ae(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Ae).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const r=t.toString();if(null==r)return""+r;const s=r.indexOf("\n");return-1===s?r:r.substring(0,s)}function qe(t,r){return null==t||""===t?null===r?"":r:null==r||""===r?t:t+" "+r}const _e=re({__forward_ref__:re});function vt(t){return t.__forward_ref__=vt,t.toString=function(){return Ae(this())},t}function We(t){return Vt(t)?t():t}function Vt(t){return"function"==typeof t&&t.hasOwnProperty(_e)&&t.__forward_ref__===vt}function Ot(t){return t&&!!t.\u0275providers}const Cn="https://g.co/ng/security#xss";class Me extends Error{constructor(r,s){super(function ct(t,r){return`NG0${Math.abs(t)}${r?": "+r:""}`}(r,s)),this.code=r}}function Ne(t){return"string"==typeof t?t:null==t?"":String(t)}function tn(t,r){throw new Me(-201,!1)}function it(t,r){null==t&&function Ke(t,r,s,a){throw new Error(`ASSERTION ERROR: ${t}`+(null==a?"":` [Expected=> ${s} ${a} ${r} <=Actual]`))}(r,t,null,"!=")}function Rt(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function wn(t){return{providers:t.providers||[],imports:t.imports||[]}}function cr(t){return pr(t,nr)||pr(t,ii)}function Jt(t){return null!==cr(t)}function pr(t,r){return t.hasOwnProperty(r)?t[r]:null}function gr(t){return t&&(t.hasOwnProperty(Ti)||t.hasOwnProperty(Hr))?t[Ti]:null}const nr=re({\u0275prov:re}),Ti=re({\u0275inj:re}),ii=re({ngInjectableDef:re}),Hr=re({ngInjectorDef:re});var qt=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(qt||{});let gn;function Vn(t){const r=gn;return gn=t,r}function _r(t,r,s){const a=cr(t);return a&&"root"==a.providedIn?void 0===a.value?a.value=a.factory():a.value:s&qt.Optional?null:void 0!==r?r:void tn(Ae(t))}const Ut=globalThis;class kt{constructor(r,s){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=Rt({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Bn={},Nn="__NG_DI_FLAG__",Sr="ngTempTokenPath",W=/\n/gm,q="__source";let G;function tt(t){const r=G;return G=t,r}function St(t,r=qt.Default){if(void 0===G)throw new Me(-203,!1);return null===G?_r(t,void 0,r):G.get(t,r&qt.Optional?null:void 0,r)}function Bt(t,r=qt.Default){return(function dn(){return gn}()||St)(We(t),r)}function $t(t,r=qt.Default){return Bt(t,on(r))}function on(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function ir(t){const r=[];for(let s=0;s<t.length;s++){const a=We(t[s]);if(Array.isArray(a)){if(0===a.length)throw new Me(900,!1);let c,d=qt.Default;for(let g=0;g<a.length;g++){const _=a[g],A=he(_);"number"==typeof A?-1===A?c=_.token:d|=A:c=_}r.push(Bt(c,d))}else r.push(Bt(a))}return r}function Ce(t,r){return t[Nn]=r,t.prototype[Nn]=r,t}function he(t){return t[Nn]}function ce(t){return{toString:t}.toString()}var Se=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Se||{}),Qe=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Qe||{});const At={},at=[],nn=re({\u0275cmp:re}),Pn=re({\u0275dir:re}),_n=re({\u0275pipe:re}),jn=re({\u0275mod:re}),zr=re({\u0275fac:re}),pi=re({__NG_ELEMENT_ID__:re}),xn=re({__NG_ENV_ID__:re});function Yn(t,r,s){let a=t.length;for(;;){const c=t.indexOf(r,s);if(-1===c)return c;if(0===c||t.charCodeAt(c-1)<=32){const d=r.length;if(c+d===a||t.charCodeAt(c+d)<=32)return c}s=c+1}}function Wr(t,r,s){let a=0;for(;a<s.length;){const c=s[a];if("number"==typeof c){if(0!==c)break;a++;const d=s[a++],g=s[a++],_=s[a++];t.setAttribute(r,g,_,d)}else{const d=c,g=s[++a];Fr(d)?t.setProperty(r,d,g):t.setAttribute(r,d,g),a++}}return a}function Yi(t){return 3===t||4===t||6===t}function Fr(t){return 64===t.charCodeAt(0)}function gi(t,r){if(null!==r&&0!==r.length)if(null===t||0===t.length)t=r.slice();else{let s=-1;for(let a=0;a<r.length;a++){const c=r[a];"number"==typeof c?s=c:0===s||Ar(t,s,c,null,-1===s||2===s?r[++a]:null)}}return t}function Ar(t,r,s,a,c){let d=0,g=t.length;if(-1===r)g=-1;else for(;d<t.length;){const _=t[d++];if("number"==typeof _){if(_===r){g=-1;break}if(_>r){g=d-1;break}}}for(;d<t.length;){const _=t[d];if("number"==typeof _)break;if(_===s){if(null===a)return void(null!==c&&(t[d+1]=c));if(a===t[d+1])return void(t[d+2]=c)}d++,null!==a&&d++,null!==c&&d++}-1!==g&&(t.splice(g,0,r),d=g+1),t.splice(d++,0,s),null!==a&&t.splice(d++,0,a),null!==c&&t.splice(d++,0,c)}const ei="ng-template";function Ki(t,r,s){let a=0,c=!0;for(;a<t.length;){let d=t[a++];if("string"==typeof d&&c){const g=t[a++];if(s&&"class"===d&&-1!==Yn(g.toLowerCase(),r,0))return!0}else{if(1===d){for(;a<t.length&&"string"==typeof(d=t[a++]);)if(d.toLowerCase()===r)return!0;return!1}"number"==typeof d&&(c=!1)}}return!1}function Mr(t){return 4===t.type&&t.value!==ei}function Hs(t,r,s){return r===(4!==t.type||s?t.value:ei)}function we(t,r,s){let a=4;const c=t.attrs||[],d=function un(t){for(let r=0;r<t.length;r++)if(Yi(t[r]))return r;return t.length}(c);let g=!1;for(let _=0;_<r.length;_++){const A=r[_];if("number"!=typeof A){if(!g)if(4&a){if(a=2|1&a,""!==A&&!Hs(t,A,s)||""===A&&1===r.length){if(ve(a))return!1;g=!0}}else{const F=8&a?A:r[++_];if(8&a&&null!==t.attrs){if(!Ki(t.attrs,F,s)){if(ve(a))return!1;g=!0}continue}const se=Ve(8&a?"class":A,c,Mr(t),s);if(-1===se){if(ve(a))return!1;g=!0;continue}if(""!==F){let Ie;Ie=se>d?"":c[se+1].toLowerCase();const Oe=8&a?Ie:null;if(Oe&&-1!==Yn(Oe,F,0)||2&a&&F!==Ie){if(ve(a))return!1;g=!0}}}}else{if(!g&&!ve(a)&&!ve(A))return!1;if(g&&ve(A))continue;g=!1,a=A|1&a}}return ve(a)||g}function ve(t){return 0==(1&t)}function Ve(t,r,s,a){if(null===r)return-1;let c=0;if(a||!s){let d=!1;for(;c<r.length;){const g=r[c];if(g===t)return c;if(3===g||6===g)d=!0;else{if(1===g||2===g){let _=r[++c];for(;"string"==typeof _;)_=r[++c];continue}if(4===g)break;if(0===g){c+=4;continue}}c+=d?1:2}return-1}return function Un(t,r){let s=t.indexOf(4);if(s>-1)for(s++;s<t.length;){const a=t[s];if("number"==typeof a)return-1;if(a===r)return s;s++}return-1}(r,t)}function rt(t,r,s=!1){for(let a=0;a<r.length;a++)if(we(t,r[a],s))return!0;return!1}function $n(t,r){e:for(let s=0;s<r.length;s++){const a=r[s];if(t.length===a.length){for(let c=0;c<t.length;c++)if(t[c]!==a[c])continue e;return!0}}return!1}function zn(t,r){return t?":not("+r.trim()+")":r}function ws(t){let r=t[0],s=1,a=2,c="",d=!1;for(;s<t.length;){let g=t[s];if("string"==typeof g)if(2&a){const _=t[++s];c+="["+g+(_.length>0?'="'+_+'"':"")+"]"}else 8&a?c+="."+g:4&a&&(c+=" "+g);else""!==c&&!ve(g)&&(r+=zn(d,c),c=""),a=g,d=d||!ve(a);s++}return""!==c&&(r+=zn(d,c)),r}function ci(t){return ce(()=>{const r=Oo(t),s={...r,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Se.OnPush,directiveDefs:null,pipeDefs:null,dependencies:r.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Qe.Emulated,styles:t.styles||at,_:null,schemas:t.schemas||null,tView:null,id:""};Os(s);const a=t.dependencies;return s.directiveDefs=Yo(a,!1),s.pipeDefs=Yo(a,!0),s.id=function gs(t){let r=0;const s=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const c of s)r=Math.imul(31,r)+c.charCodeAt(0)<<0;return r+=2147483648,"c"+r}(s),s})}function Xo(t){return In(t)||Jn(t)}function zs(t){return null!==t}function Zs(t){return ce(()=>({type:t.type,bootstrap:t.bootstrap||at,declarations:t.declarations||at,imports:t.imports||at,exports:t.exports||at,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function $i(t,r){if(null==t)return At;const s={};for(const a in t)if(t.hasOwnProperty(a)){let c=t[a],d=c;Array.isArray(c)&&(d=c[1],c=c[0]),s[c]=a,r&&(r[c]=d)}return s}function xo(t){return ce(()=>{const r=Oo(t);return Os(r),r})}function eo(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function In(t){return t[nn]||null}function Jn(t){return t[Pn]||null}function ur(t){return t[_n]||null}function as(t){const r=In(t)||Jn(t)||ur(t);return null!==r&&r.standalone}function Ni(t,r){const s=t[jn]||null;if(!s&&!0===r)throw new Error(`Type ${Ae(t)} does not have '\u0275mod' property.`);return s}function Oo(t){const r={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:r,inputTransforms:null,inputConfig:t.inputs||At,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||at,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:$i(t.inputs,r),outputs:$i(t.outputs)}}function Os(t){t.features?.forEach(r=>r(t))}function Yo(t,r){if(!t)return null;const s=r?ur:Xo;return()=>("function"==typeof t?t():t).map(a=>s(a)).filter(zs)}const lr=0,Mt=1,cn=2,rn=3,li=4,Pi=5,vi=6,ms=7,Ur=8,ks=9,qi=10,ln=11,ko=12,Ws=13,Hi=14,mr=15,yo=16,to=17,_i=18,vo=19,Ka=20,Ci=21,no=22,Is=23,_o=24,Hn=25,Eo=1,Ji=2,Gr=7,Ds=9,ni=11;function Ei(t){return Array.isArray(t)&&"object"==typeof t[Eo]}function dr(t){return Array.isArray(t)&&!0===t[Eo]}function Gs(t){return 0!=(4&t.flags)}function Rr(t){return t.componentOffset>-1}function Oi(t){return 1==(1&t.flags)}function ki(t){return!!t.template}function Nr(t){return 0!=(512&t[cn])}function Li(t,r){return t.hasOwnProperty(zr)?t[zr]:null}let Vr=null,ts=!1;function ti(t){const r=Vr;return Vr=t,r}const ta={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function uo(t){if(!Ao(t)||t.dirty){if(!t.producerMustRecompute(t)&&!bi(t))return void(t.dirty=!1);t.producerRecomputeValue(t),t.dirty=!1}}function So(t){t.dirty=!0,function Ss(t){if(void 0===t.liveConsumerNode)return;const r=ts;ts=!0;try{for(const s of t.liveConsumerNode)s.dirty||So(s)}finally{ts=r}}(t),t.consumerMarkedDirty?.(t)}function di(t){return t&&(t.nextProducerIndex=0),ti(t)}function na(t,r){if(ti(r),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(Ao(t))for(let s=t.nextProducerIndex;s<t.producerNode.length;s++)ns(t.producerNode[s],t.producerIndexOfThis[s]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function bi(t){Si(t);for(let r=0;r<t.producerNode.length;r++){const s=t.producerNode[r],a=t.producerLastReadVersion[r];if(a!==s.version||(uo(s),a!==s.version))return!0}return!1}function va(t){if(Si(t),Ao(t))for(let r=0;r<t.producerNode.length;r++)ns(t.producerNode[r],t.producerIndexOfThis[r]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function ns(t,r){if(function ia(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),Si(t),1===t.liveConsumerNode.length)for(let a=0;a<t.producerNode.length;a++)ns(t.producerNode[a],t.producerIndexOfThis[a]);const s=t.liveConsumerNode.length-1;if(t.liveConsumerNode[r]=t.liveConsumerNode[s],t.liveConsumerIndexOfThis[r]=t.liveConsumerIndexOfThis[s],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,r<t.liveConsumerNode.length){const a=t.liveConsumerIndexOfThis[r],c=t.liveConsumerNode[r];Si(c),c.producerIndexOfThis[a]=r}}function Ao(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Si(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let j=null;function be(t){const r=ti(null);try{return t()}finally{ti(r)}}const st=()=>{},Ft=(()=>({...ta,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule(t.ref)},hasRun:!1,cleanupFn:st}))();class hn{constructor(r,s,a){this.previousValue=r,this.currentValue=s,this.firstChange=a}isFirstChange(){return this.firstChange}}function Zt(){return kn}function kn(t){return t.type.prototype.ngOnChanges&&(t.setInput=Pr),bn}function bn(){const t=Or(this),r=t?.current;if(r){const s=t.previous;if(s===At)t.previous=r;else for(let a in r)s[a]=r[a];t.current=null,this.ngOnChanges(r)}}function Pr(t,r,s,a){const c=this.declaredInputs[s],d=Or(t)||function Ln(t,r){return t[xr]=r}(t,{previous:At,current:null}),g=d.current||(d.current={}),_=d.previous,A=_[c];g[c]=new hn(A&&A.currentValue,r,_===At),t[a]=r}Zt.ngInherit=!0;const xr="__ngSimpleChanges__";function Or(t){return t[xr]||null}const Ai=function(t,r,s){};function sn(t){for(;Array.isArray(t);)t=t[lr];return t}function Ht(t,r){return sn(r[t])}function Je(t,r){return sn(r[t.index])}function or(t,r){return t.data[r]}function gt(t,r){return t[r]}function xe(t,r){const s=r[t];return Ei(s)?s:s[lr]}function Mo(t,r){return null==r?null:t[r]}function Qa(t){t[to]=0}function ls(t){1024&t[cn]||(t[cn]|=1024,is(t,1))}function rs(t){1024&t[cn]&&(t[cn]&=-1025,is(t,-1))}function is(t,r){let s=t[rn];if(null===s)return;s[Pi]+=r;let a=s;for(s=s[rn];null!==s&&(1===r&&1===a[Pi]||-1===r&&0===a[Pi]);)s[Pi]+=r,a=s,s=s[rn]}const Rn={lFrame:ar(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function wi(){return Rn.bindingsEnabled}function Xt(){return null!==Rn.skipHydrationRootTNode}function dt(){return Rn.lFrame.lView}function Kn(){return Rn.lFrame.tView}function Ro(t){return Rn.lFrame.contextLView=t,t[Ur]}function Pu(t){return Rn.lFrame.contextLView=null,t}function Ri(){let t=pc();for(;null!==t&&64===t.type;)t=t.parent;return t}function pc(){return Rn.lFrame.currentTNode}function qs(t,r){const s=Rn.lFrame;s.currentTNode=t,s.isParent=r}function Xa(){return Rn.lFrame.isParent}function Cs(){Rn.lFrame.isParent=!1}function Ii(){const t=Rn.lFrame;let r=t.bindingRootIndex;return-1===r&&(r=t.bindingRootIndex=t.tView.bindingStartIndex),r}function oa(){return Rn.lFrame.bindingIndex++}function Ui(t){const r=Rn.lFrame,s=r.bindingIndex;return r.bindingIndex=r.bindingIndex+t,s}function v(t,r){const s=Rn.lFrame;s.bindingIndex=s.bindingRootIndex=t,L(r)}function L(t){Rn.lFrame.currentDirectiveIndex=t}function ue(){return Rn.lFrame.currentQueryIndex}function Ge(t){Rn.lFrame.currentQueryIndex=t}function ze(t){const r=t[Mt];return 2===r.type?r.declTNode:1===r.type?t[vi]:null}function Ct(t,r,s){if(s&qt.SkipSelf){let c=r,d=t;for(;!(c=c.parent,null!==c||s&qt.Host||(c=ze(d),null===c||(d=d[Hi],10&c.type))););if(null===c)return!1;r=c,t=d}const a=Rn.lFrame=yr();return a.currentTNode=r,a.lView=t,!0}function En(t){const r=yr(),s=t[Mt];Rn.lFrame=r,r.currentTNode=s.firstChild,r.lView=t,r.tView=s,r.contextLView=t,r.bindingIndex=s.bindingStartIndex,r.inI18n=!1}function yr(){const t=Rn.lFrame,r=null===t?null:t.child;return null===r?ar(t):r}function ar(t){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=r),r}function kr(){const t=Rn.lFrame;return Rn.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const Ia=kr;function ho(){const t=kr();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Qi(){return Rn.lFrame.selectedIndex}function aa(t){Rn.lFrame.selectedIndex=t}function ri(){const t=Rn.lFrame;return or(t.tView,t.selectedIndex)}let ku=!0;function Lu(){return ku}function bs(t){ku=t}function Fu(t,r){for(let s=r.directiveStart,a=r.directiveEnd;s<a;s++){const d=t.data[s].type.prototype,{ngAfterContentInit:g,ngAfterContentChecked:_,ngAfterViewInit:A,ngAfterViewChecked:F,ngOnDestroy:z}=d;g&&(t.contentHooks??=[]).push(-s,g),_&&((t.contentHooks??=[]).push(s,_),(t.contentCheckHooks??=[]).push(s,_)),A&&(t.viewHooks??=[]).push(-s,A),F&&((t.viewHooks??=[]).push(s,F),(t.viewCheckHooks??=[]).push(s,F)),null!=z&&(t.destroyHooks??=[]).push(s,z)}}function yc(t,r,s){vc(t,r,3,s)}function tl(t,r,s,a){(3&t[cn])===s&&vc(t,r,s,a)}function Fd(t,r){let s=t[cn];(3&s)===r&&(s&=8191,s+=1,t[cn]=s)}function vc(t,r,s,a){const d=a??-1,g=r.length-1;let _=0;for(let A=void 0!==a?65535&t[to]:0;A<g;A++)if("number"==typeof r[A+1]){if(_=r[A],null!=a&&_>=a)break}else r[A]<0&&(t[to]+=65536),(_<d||-1==d)&&(Uu(t,s,r,A),t[to]=(4294901760&t[to])+A+2),A++}function Bl(t,r){Ai(4,t,r);const s=ti(null);try{r.call(t)}finally{ti(s),Ai(5,t,r)}}function Uu(t,r,s,a){const c=s[a]<0,d=s[a+1],_=t[c?-s[a]:s[a]];c?t[cn]>>13<t[to]>>16&&(3&t[cn])===r&&(t[cn]+=8192,Bl(_,d)):Bl(_,d)}const Vu=-1;class Ya{constructor(r,s,a){this.factory=r,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=a}}function ds(t){return t!==Vu}function qr(t){return 32767&t}function Bo(t,r){let s=function nl(t){return t>>16}(t),a=r;for(;s>0;)a=a[Hi],s--;return a}let Us=!0;function ju(t){const r=Us;return Us=t,r}const ys=255,jl=5;let jo=0;const jr={};function ca(t,r){const s=la(t,r);if(-1!==s)return s;const a=r[Mt];a.firstCreatePass&&(t.injectorIndex=r.length,$u(a.data,t),$u(r,null),$u(a.blueprint,null));const c=Za(t,r),d=t.injectorIndex;if(ds(c)){const g=qr(c),_=Bo(c,r),A=_[Mt].data;for(let F=0;F<8;F++)r[d+F]=_[g+F]|A[g+F]}return r[d+8]=c,d}function $u(t,r){t.push(0,0,0,0,0,0,0,0,r)}function la(t,r){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===r[t.injectorIndex+8]?-1:t.injectorIndex}function Za(t,r){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let s=0,a=null,c=r;for(;null!==c;){if(a=Hl(c),null===a)return Vu;if(s++,c=c[Hi],-1!==a.injectorIndex)return a.injectorIndex|s<<16}return Vu}function fo(t,r,s){!function ua(t,r,s){let a;"string"==typeof s?a=s.charCodeAt(0)||0:s.hasOwnProperty(pi)&&(a=s[pi]),null==a&&(a=s[pi]=jo++);const c=a&ys;r.data[t+(c>>jl)]|=1<<c}(t,r,s)}function Ta(t,r,s){if(s&qt.Optional||void 0!==t)return t;tn()}function Ho(t,r,s,a){if(s&qt.Optional&&void 0===a&&(a=null),!(s&(qt.Self|qt.Host))){const c=t[ks],d=Vn(void 0);try{return c?c.get(r,a,s&qt.Optional):_r(r,a,s&qt.Optional)}finally{Vn(d)}}return Ta(a,0,s)}function po(t,r,s,a=qt.Default,c){if(null!==t){if(2048&r[cn]&&!(a&qt.Self)){const g=function wc(t,r,s,a,c){let d=t,g=r;for(;null!==d&&null!==g&&2048&g[cn]&&!(512&g[cn]);){const _=pu(d,g,s,a|qt.Self,jr);if(_!==jr)return _;let A=d.parent;if(!A){const F=g[Ka];if(F){const z=F.get(s,jr,a);if(z!==jr)return z}A=Hl(g),g=g[Hi]}d=A}return c}(t,r,s,a,jr);if(g!==jr)return g}const d=pu(t,r,s,a,jr);if(d!==jr)return d}return Ho(r,s,a,c)}function pu(t,r,s,a,c){const d=function Hu(t){if("string"==typeof t)return t.charCodeAt(0)||0;const r=t.hasOwnProperty(pi)?t[pi]:void 0;return"number"==typeof r?r>=0?r&ys:$l:r}(s);if("function"==typeof d){if(!Ct(r,t,a))return a&qt.Host?Ta(c,0,a):Ho(r,s,a,c);try{let g;if(g=d(a),null!=g||a&qt.Optional)return g;tn()}finally{Ia()}}else if("number"==typeof d){let g=null,_=la(t,r),A=Vu,F=a&qt.Host?r[mr][vi]:null;for((-1===_||a&qt.SkipSelf)&&(A=-1===_?Za(t,r):r[_+8],A!==Vu&&Ca(a,!1)?(g=r[Mt],_=qr(A),r=Bo(A,r)):_=-1);-1!==_;){const z=r[Mt];if(da(d,_,z.data)){const se=Va(_,r,s,g,a,F);if(se!==jr)return se}A=r[_+8],A!==Vu&&Ca(a,r[Mt].data[_+8]===F)&&da(d,_,r)?(g=z,_=qr(A),r=Bo(A,r)):_=-1}}return c}function Va(t,r,s,a,c,d){const g=r[Mt],_=g.data[t+8],z=Ec(_,g,s,null==a?Rr(_)&&Us:a!=g&&0!=(3&_.type),c&qt.Host&&d===_);return null!==z?No(r,g,z,_):jr}function Ec(t,r,s,a,c){const d=t.providerIndexes,g=r.data,_=1048575&d,A=t.directiveStart,z=d>>20,Ie=c?_+z:t.directiveEnd;for(let Oe=a?_:_+z;Oe<Ie;Oe++){const ut=g[Oe];if(Oe<A&&s===ut||Oe>=A&&ut.type===s)return Oe}if(c){const Oe=g[A];if(Oe&&ki(Oe)&&Oe.type===s)return A}return null}function No(t,r,s,a){let c=t[s];const d=r.data;if(function Bu(t){return t instanceof Ya}(c)){const g=c;g.resolving&&function _t(t,r){const s=r?`. Dependency path: ${r.join(" > ")} > ${t}`:"";throw new Me(-200,`Circular dependency in DI detected for ${t}${s}`)}(function et(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Ne(t)}(d[s]));const _=ju(g.canSeeViewProviders);g.resolving=!0;const F=g.injectImpl?Vn(g.injectImpl):null;Ct(t,a,qt.Default);try{c=t[s]=g.factory(void 0,d,t,a),r.firstCreatePass&&s>=a.directiveStart&&function el(t,r,s){const{ngOnChanges:a,ngOnInit:c,ngDoCheck:d}=r.type.prototype;if(a){const g=kn(r);(s.preOrderHooks??=[]).push(t,g),(s.preOrderCheckHooks??=[]).push(t,g)}c&&(s.preOrderHooks??=[]).push(0-t,c),d&&((s.preOrderHooks??=[]).push(t,d),(s.preOrderCheckHooks??=[]).push(t,d))}(s,d[s],r)}finally{null!==F&&Vn(F),ju(_),g.resolving=!1,Ia()}}return c}function da(t,r,s){return!!(s[r+(t>>jl)]&1<<t)}function Ca(t,r){return!(t&qt.Self||t&qt.Host&&r)}class zi{constructor(r,s){this._tNode=r,this._lView=s}get(r,s,a){return po(this._tNode,this._lView,r,on(a),s)}}function $l(){return new zi(Ri(),dt())}function Po(t){return ce(()=>{const r=t.prototype.constructor,s=r[zr]||gu(r),a=Object.prototype;let c=Object.getPrototypeOf(t.prototype).constructor;for(;c&&c!==a;){const d=c[zr]||gu(c);if(d&&d!==s)return d;c=Object.getPrototypeOf(c)}return d=>new d})}function gu(t){return Vt(t)?()=>{const r=gu(We(t));return r&&r()}:Li(t)}function Hl(t){const r=t[Mt],s=r.type;return 2===s?r.declTNode:1===s?t[vi]:null}function rl(t){return function $o(t,r){if("class"===r)return t.classes;if("style"===r)return t.styles;const s=t.attrs;if(s){const a=s.length;let c=0;for(;c<a;){const d=s[c];if(Yi(d))break;if(0===d)c+=2;else if("number"==typeof d)for(c++;c<a&&"string"==typeof s[c];)c++;else{if(d===r)return s[c+1];c+=2}}}return null}(Ri(),t)}const ru="__parameters__";function ne(t,r,s){return ce(()=>{const a=function U(t){return function(...s){if(t){const a=t(...s);for(const c in a)this[c]=a[c]}}}(r);function c(...d){if(this instanceof c)return a.apply(this,d),this;const g=new c(...d);return _.annotation=g,_;function _(A,F,z){const se=A.hasOwnProperty(ru)?A[ru]:Object.defineProperty(A,ru,{value:[]})[ru];for(;se.length<=z;)se.push(null);return(se[z]=se[z]||[]).push(g),A}}return s&&(c.prototype=Object.create(s.prototype)),c.prototype.ngMetadataName=t,c.annotationCls=c,c})}function Ic(t,r){t.forEach(s=>Array.isArray(s)?Ic(s,r):r(s))}function jh(t,r,s){r>=t.length?t.push(s):t.splice(r,0,s)}function Dc(t,r){return r>=t.length-1?t.pop():t.splice(r,1)[0]}function Tc(t,r){const s=[];for(let a=0;a<t;a++)s.push(r);return s}function Ms(t,r,s){let a=Sa(t,r);return a>=0?t[1|a]=s:(a=~a,function Bd(t,r,s,a){let c=t.length;if(c==r)t.push(s,a);else if(1===c)t.push(a,t[0]),t[0]=s;else{for(c--,t.push(t[c-1],t[c]);c>r;)t[c]=t[c-2],c--;t[r]=s,t[r+1]=a}}(t,a,r,s)),a}function Ba(t,r){const s=Sa(t,r);if(s>=0)return t[1|s]}function Sa(t,r){return function il(t,r,s){let a=0,c=t.length>>s;for(;c!==a;){const d=a+(c-a>>1),g=t[d<<s];if(r===g)return d<<s;g>r?c=d:a=d+1}return~(c<<s)}(t,r,1)}const ja=Ce(ne("Optional"),8),Sc=Ce(ne("SkipSelf"),4);function Kd(t){return 128==(128&t.flags)}var qd=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(qd||{});const Ep=/^>|^->|<!--|-->|--!>|<!-$/g,cl=/(<|>)/g,yu="\u200b$1\u200b";const Xl=new Map;let wp=0;const wr="__ngContext__";function Xs(t,r){Ei(r)?(t[wr]=r[vo],function Jh(t){Xl.set(t[vo],t)}(r)):t[wr]=r}let wt;function zt(t,r){return wt(t,r)}function Dn(t){const r=t[rn];return dr(r)?r[rn]:r}function vu(t){return Jl(t[ko])}function Ju(t){return Jl(t[li])}function Jl(t){for(;null!==t&&!dr(t);)t=t[li];return t}function Zu(t,r,s,a,c){if(null!=a){let d,g=!1;dr(a)?d=a:Ei(a)&&(g=!0,a=a[lr]);const _=sn(a);0===t&&null!==s?null==c?rf(r,s,_):au(r,s,_,c||null,!0):1===t&&null!==s?au(r,s,_,c||null,!0):2===t?function Ha(t,r,s){const a=th(t,r);a&&function Dm(t,r,s,a){t.removeChild(r,s,a)}(t,a,r,s)}(r,_,g):3===t&&r.destroyNode(_),null!=d&&function gl(t,r,s,a,c){const d=s[Gr];d!==sn(s)&&Zu(r,t,a,d,c);for(let _=ni;_<s.length;_++){const A=s[_];td(A[Mt],A,t,r,a,d)}}(r,t,d,s,c)}}function ou(t,r){return t.createComment(function Yh(t){return t.replace(Ep,r=>r.replace(cl,yu))}(r))}function Rc(t,r,s){return t.createElement(r,s)}function tf(t,r){const s=t[Ds],a=s.indexOf(r);rs(r),s.splice(a,1)}function eh(t,r){if(t.length<=ni)return;const s=ni+r,a=t[s];if(a){const c=a[yo];null!==c&&c!==t&&tf(c,a),r>0&&(t[s-1][li]=a[li]);const d=Dc(t,ni+r);!function Jd(t,r){td(t,r,r[ln],2,null,null),r[lr]=null,r[vi]=null}(a[Mt],a);const g=d[_i];null!==g&&g.detachView(d[Mt]),a[rn]=null,a[li]=null,a[cn]&=-129}return a}function pl(t,r){if(!(256&r[cn])){const s=r[ln];r[Is]&&va(r[Is]),r[_o]&&va(r[_o]),s.destroyNode&&td(t,r,s,3,null,null),function Zl(t){let r=t[ko];if(!r)return nf(t[Mt],t);for(;r;){let s=null;if(Ei(r))s=r[ko];else{const a=r[ni];a&&(s=a)}if(!s){for(;r&&!r[li]&&r!==t;)Ei(r)&&nf(r[Mt],r),r=r[rn];null===r&&(r=t),Ei(r)&&nf(r[Mt],r),s=r&&r[li]}r=s}}(r)}}function nf(t,r){if(!(256&r[cn])){r[cn]&=-129,r[cn]|=256,function Em(t,r){let s;if(null!=t&&null!=(s=t.destroyHooks))for(let a=0;a<s.length;a+=2){const c=r[s[a]];if(!(c instanceof Ya)){const d=s[a+1];if(Array.isArray(d))for(let g=0;g<d.length;g+=2){const _=c[d[g]],A=d[g+1];Ai(4,_,A);try{A.call(_)}finally{Ai(5,_,A)}}else{Ai(4,c,d);try{d.call(c)}finally{Ai(5,c,d)}}}}}(t,r),function _m(t,r){const s=t.cleanup,a=r[ms];if(null!==s)for(let d=0;d<s.length-1;d+=2)if("string"==typeof s[d]){const g=s[d+3];g>=0?a[g]():a[-g].unsubscribe(),d+=2}else s[d].call(a[s[d+1]]);null!==a&&(r[ms]=null);const c=r[Ci];if(null!==c){r[Ci]=null;for(let d=0;d<c.length;d++)(0,c[d])()}}(t,r),1===r[Mt].type&&r[ln].destroy();const s=r[yo];if(null!==s&&dr(r[rn])){s!==r[rn]&&tf(s,r);const a=r[_i];null!==a&&a.detachView(t)}!function Xd(t){Xl.delete(t[vo])}(r)}}function Ip(t,r,s){return function wm(t,r,s){let a=r;for(;null!==a&&40&a.type;)a=(r=a).parent;if(null===a)return s[lr];{const{componentOffset:c}=a;if(c>-1){const{encapsulation:d}=t.data[a.directiveStart+c];if(d===Qe.None||d===Qe.Emulated)return null}return Je(a,s)}}(t,r.parent,s)}function au(t,r,s,a,c){t.insertBefore(r,s,a,c)}function rf(t,r,s){t.appendChild(r,s)}function Im(t,r,s,a,c){null!==a?au(t,r,s,a,c):rf(t,r,s)}function th(t,r){return t.parentNode(r)}function Dp(t,r,s){return bm(t,r,s)}let Tp,nd,vl,rh,bm=function Cm(t,r,s){return 40&t.type?Je(t,s):null};function tc(t,r,s,a){const c=Ip(t,a,r),d=r[ln],_=Dp(a.parent||r[vi],a,r);if(null!=c)if(Array.isArray(s))for(let A=0;A<s.length;A++)Im(d,c,s[A],_,!1);else Im(d,c,s,_,!1);void 0!==Tp&&Tp(d,a,r,s,c)}function ed(t,r){if(null!==r){const s=r.type;if(3&s)return Je(r,t);if(4&s)return sf(-1,t[r.index]);if(8&s){const a=r.child;if(null!==a)return ed(t,a);{const c=t[r.index];return dr(c)?sf(-1,c):sn(c)}}if(32&s)return zt(r,t)()||sn(t[r.index]);{const a=Sm(t,r);return null!==a?Array.isArray(a)?a[0]:ed(Dn(t[mr]),a):ed(t,r.next)}}return null}function Sm(t,r){return null!==r?t[mr][vi].projection[r.projection]:null}function sf(t,r){const s=ni+t+1;if(s<r.length){const a=r[s],c=a[Mt].firstChild;if(null!==c)return ed(a,c)}return r[Gr]}function bp(t,r,s,a,c,d,g){for(;null!=s;){const _=a[s.index],A=s.type;if(g&&0===r&&(_&&Xs(sn(_),a),s.flags|=2),32!=(32&s.flags))if(8&A)bp(t,r,s.child,a,c,d,!1),Zu(r,t,c,_,d);else if(32&A){const F=zt(s,a);let z;for(;z=F();)Zu(r,t,c,z,d);Zu(r,t,c,_,d)}else 16&A?Nc(t,r,a,s,c,d):Zu(r,t,c,_,d);s=g?s.projectionNext:s.next}}function td(t,r,s,a,c,d){bp(s,a,t.firstChild,r,c,d,!1)}function Nc(t,r,s,a,c,d){const g=s[mr],A=g[vi].projection[a.projection];if(Array.isArray(A))for(let F=0;F<A.length;F++)Zu(r,t,c,A[F],d);else{let F=A;const z=g[rn];Kd(a)&&(F.flags|=128),bp(t,r,F,z,c,d,!0)}}function Sp(t,r,s){""===s?t.removeAttribute(r,"class"):t.setAttribute(r,"class",s)}function uf(t,r,s){const{mergedAttrs:a,classes:c,styles:d}=s;null!==a&&Wr(t,r,a),null!==c&&Sp(t,r,c),null!==d&&function nh(t,r,s){t.setAttribute(r,"style",s)}(t,r,d)}function yl(t){return function cf(){if(void 0===nd&&(nd=null,Ut.trustedTypes))try{nd=Ut.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return nd}()?.createHTML(t)||t}function _l(t){vl=t}function id(t){return function Ap(){if(void 0===rh&&(rh=null,Ut.trustedTypes))try{rh=Ut.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return rh}()?.createScriptURL(t)||t}class Ma{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Cn})`}}class Pc extends Ma{getTypeName(){return"HTML"}}class Nm extends Ma{getTypeName(){return"Style"}}class Pv extends Ma{getTypeName(){return"Script"}}class Pm extends Ma{getTypeName(){return"URL"}}class xv extends Ma{getTypeName(){return"ResourceURL"}}function uu(t){return t instanceof Ma?t.changingThisBreaksApplicationSecurity:t}function xc(t,r){const s=function xm(t){return t instanceof Ma&&t.getTypeName()||null}(t);if(null!=s&&s!==r){if("ResourceURL"===s&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${s} (see ${Cn})`)}return s===r}function Mp(t){return new Pc(t)}function Rp(t){return new Nm(t)}function Om(t){return new Pv(t)}function df(t){return new Pm(t)}function Ov(t){return new xv(t)}class ff{constructor(r){this.inertDocumentHelper=r}getInertBodyElement(r){r="<body><remove></remove>"+r;try{const s=(new window.DOMParser).parseFromString(yl(r),"text/html").body;return null===s?this.inertDocumentHelper.getInertBodyElement(r):(s.removeChild(s.firstChild),s)}catch{return null}}}class kv{constructor(r){this.defaultDoc=r,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(r){const s=this.inertDocument.createElement("template");return s.innerHTML=yl(r),s}}const ih=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function El(t){return(t=String(t)).match(ih)?t:"unsafe:"+t}function Ra(t){const r={};for(const s of t.split(","))r[s]=!0;return r}function sd(...t){const r={};for(const s of t)for(const a in s)s.hasOwnProperty(a)&&(r[a]=!0);return r}const Np=Ra("area,br,col,hr,img,wbr"),mo=Ra("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Pp=Ra("rp,rt"),Eu=sd(Np,sd(mo,Ra("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),sd(Pp,Ra("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),sd(Pp,mo)),Oc=Ra("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Lm=sd(Oc,Ra("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ra("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),ad=Ra("script,style,template");class Fm{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(r){let s=r.firstChild,a=!0;for(;s;)if(s.nodeType===Node.ELEMENT_NODE?a=this.startElement(s):s.nodeType===Node.TEXT_NODE?this.chars(s.nodeValue):this.sanitizedSomething=!0,a&&s.firstChild)s=s.firstChild;else for(;s;){s.nodeType===Node.ELEMENT_NODE&&this.endElement(s);let c=this.checkClobberedElement(s,s.nextSibling);if(c){s=c;break}s=this.checkClobberedElement(s,s.parentNode)}return this.buf.join("")}startElement(r){const s=r.nodeName.toLowerCase();if(!Eu.hasOwnProperty(s))return this.sanitizedSomething=!0,!ad.hasOwnProperty(s);this.buf.push("<"),this.buf.push(s);const a=r.attributes;for(let c=0;c<a.length;c++){const d=a.item(c),g=d.name,_=g.toLowerCase();if(!Lm.hasOwnProperty(_)){this.sanitizedSomething=!0;continue}let A=d.value;Oc[_]&&(A=El(A)),this.buf.push(" ",g,'="',Vm(A),'"')}return this.buf.push(">"),!0}endElement(r){const s=r.nodeName.toLowerCase();Eu.hasOwnProperty(s)&&!Np.hasOwnProperty(s)&&(this.buf.push("</"),this.buf.push(s),this.buf.push(">"))}chars(r){this.buf.push(Vm(r))}checkClobberedElement(r,s){if(s&&(r.compareDocumentPosition(s)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${r.outerHTML}`);return s}}const kc=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Um=/([^\#-~ |!])/g;function Vm(t){return t.replace(/&/g,"&amp;").replace(kc,function(r){return"&#"+(1024*(r.charCodeAt(0)-55296)+(r.charCodeAt(1)-56320)+65536)+";"}).replace(Um,function(r){return"&#"+r.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let sh;function Bm(t,r){let s=null;try{sh=sh||function hf(t){const r=new kv(t);return function km(){try{return!!(new window.DOMParser).parseFromString(yl(""),"text/html")}catch{return!1}}()?new ff(r):r}(t);let a=r?String(r):"";s=sh.getInertBodyElement(a);let c=5,d=a;do{if(0===c)throw new Error("Failed to sanitize html because the input is unstable");c--,a=d,d=s.innerHTML,s=sh.getInertBodyElement(a)}while(a!==d);return yl((new Fm).sanitizeChildren(pf(s)||s))}finally{if(s){const a=pf(s)||s;for(;a.firstChild;)a.removeChild(a.firstChild)}}}function pf(t){return"content"in t&&function Uv(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var wu=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(wu||{});function kp(t){const r=ah();return r?r.sanitize(wu.URL,t)||"":xc(t,"URL")?uu(t):El(Ne(t))}function $m(t){const r=ah();if(r)return id(r.sanitize(wu.RESOURCE_URL,t)||"");if(xc(t,"ResourceURL"))return id(uu(t));throw new Me(904,!1)}function Lp(t,r,s){return function zm(t,r){return"src"===r&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===r&&("base"===t||"link"===t)?$m:kp}(r,s)(t)}function ah(){const t=dt();return t&&t[qi].sanitizer}const uh=new kt("ENVIRONMENT_INITIALIZER"),gf=new kt("INJECTOR",-1),Bs=new kt("INJECTOR_DEF_TYPES");class Fp{get(r,s=Bn){if(s===Bn){const a=new Error(`NullInjectorError: No provider for ${Ae(r)}!`);throw a.name="NullInjectorError",a}return s}}function Up(t){return{\u0275providers:t}}function jv(...t){return{\u0275providers:Wm(0,t),\u0275fromNgModule:!0}}function Wm(t,...r){const s=[],a=new Set;let c;const d=g=>{s.push(g)};return Ic(r,g=>{const _=g;yf(_,d,[],a)&&(c||=[],c.push(_))}),void 0!==c&&mf(c,d),s}function mf(t,r){for(let s=0;s<t.length;s++){const{ngModule:a,providers:c}=t[s];ud(c,d=>{r(d,a)})}}function yf(t,r,s,a){if(!(t=We(t)))return!1;let c=null,d=gr(t);const g=!d&&In(t);if(d||g){if(g&&!g.standalone)return!1;c=t}else{const A=t.ngModule;if(d=gr(A),!d)return!1;c=A}const _=a.has(c);if(g){if(_)return!1;if(a.add(c),g.dependencies){const A="function"==typeof g.dependencies?g.dependencies():g.dependencies;for(const F of A)yf(F,r,s,a)}}else{if(!d)return!1;{if(null!=d.imports&&!_){let F;a.add(c);try{Ic(d.imports,z=>{yf(z,r,s,a)&&(F||=[],F.push(z))})}finally{}void 0!==F&&mf(F,r)}if(!_){const F=Li(c)||(()=>new c);r({provide:c,useFactory:F,deps:at},c),r({provide:Bs,useValue:c,multi:!0},c),r({provide:uh,useValue:()=>Bt(c),multi:!0},c)}const A=d.providers;if(null!=A&&!_){const F=t;ud(A,z=>{r(z,F)})}}}return c!==t&&void 0!==t.providers}function ud(t,r){for(let s of t)Ot(s)&&(s=s.\u0275providers),Array.isArray(s)?ud(s,r):r(s)}const $v=re({provide:String,useValue:re});function vf(t){return null!==t&&"object"==typeof t&&$v in t}function cu(t){return"function"==typeof t}const ch=new kt("Set Injector scope."),cd={},Gm={};let Bp;function lh(){return void 0===Bp&&(Bp=new Fp),Bp}class lu{}class Lc extends lu{get destroyed(){return this._destroyed}constructor(r,s,a,c){super(),this.parent=s,this.source=a,this.scopes=c,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,fd(r,g=>this.processProvider(g)),this.records.set(gf,ld(void 0,this)),c.has("environment")&&this.records.set(lu,ld(void 0,this));const d=this.records.get(ch);null!=d&&"string"==typeof d.value&&this.scopes.add(d.value),this.injectorDefTypes=new Set(this.get(Bs.multi,at,qt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const s of this._ngOnDestroyHooks)s.ngOnDestroy();const r=this._onDestroyHooks;this._onDestroyHooks=[];for(const s of r)s()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(r){return this.assertNotDestroyed(),this._onDestroyHooks.push(r),()=>this.removeOnDestroy(r)}runInContext(r){this.assertNotDestroyed();const s=tt(this),a=Vn(void 0);try{return r()}finally{tt(s),Vn(a)}}get(r,s=Bn,a=qt.Default){if(this.assertNotDestroyed(),r.hasOwnProperty(xn))return r[xn](this);a=on(a);const d=tt(this),g=Vn(void 0);try{if(!(a&qt.SkipSelf)){let A=this.records.get(r);if(void 0===A){const F=function Hp(t){return"function"==typeof t||"object"==typeof t&&t instanceof kt}(r)&&cr(r);A=F&&this.injectableDefInScope(F)?ld(jp(r),cd):null,this.records.set(r,A)}if(null!=A)return this.hydrate(r,A)}return(a&qt.Self?lh():this.parent).get(r,s=a&qt.Optional&&s===Bn?null:s)}catch(_){if("NullInjectorError"===_.name){if((_[Sr]=_[Sr]||[]).unshift(Ae(r)),d)throw _;return function ye(t,r,s,a){const c=t[Sr];throw r[q]&&c.unshift(r[q]),t.message=function le(t,r,s,a=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let c=Ae(r);if(Array.isArray(r))c=r.map(Ae).join(" -> ");else if("object"==typeof r){let d=[];for(let g in r)if(r.hasOwnProperty(g)){let _=r[g];d.push(g+":"+("string"==typeof _?JSON.stringify(_):Ae(_)))}c=`{${d.join(", ")}}`}return`${s}${a?"("+a+")":""}[${c}]: ${t.replace(W,"\n  ")}`}("\n"+t.message,c,s,a),t.ngTokenPath=c,t[Sr]=null,t}(_,r,"R3InjectorError",this.source)}throw _}finally{Vn(g),tt(d)}}resolveInjectorInitializers(){const r=tt(this),s=Vn(void 0);try{const c=this.get(uh.multi,at,qt.Self);for(const d of c)d()}finally{tt(r),Vn(s)}}toString(){const r=[],s=this.records;for(const a of s.keys())r.push(Ae(a));return`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Me(205,!1)}processProvider(r){let s=cu(r=We(r))?r:We(r&&r.provide);const a=function Hv(t){return vf(t)?ld(void 0,t.useValue):ld($p(t),cd)}(r);if(cu(r)||!0!==r.multi)this.records.get(s);else{let c=this.records.get(s);c||(c=ld(void 0,cd,!0),c.factory=()=>ir(c.multi),this.records.set(s,c)),s=r,c.multi.push(r)}this.records.set(s,a)}hydrate(r,s){return s.value===cd&&(s.value=Gm,s.value=s.factory()),"object"==typeof s.value&&s.value&&function hd(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(s.value)&&this._ngOnDestroyHooks.add(s.value),s.value}injectableDefInScope(r){if(!r.providedIn)return!1;const s=We(r.providedIn);return"string"==typeof s?"any"===s||this.scopes.has(s):this.injectorDefTypes.has(s)}removeOnDestroy(r){const s=this._onDestroyHooks.indexOf(r);-1!==s&&this._onDestroyHooks.splice(s,1)}}function jp(t){const r=cr(t),s=null!==r?r.factory:Li(t);if(null!==s)return s;if(t instanceof kt)throw new Me(204,!1);if(t instanceof Function)return function Km(t){const r=t.length;if(r>0)throw Tc(r,"?"),new Me(204,!1);const s=function Xn(t){return t&&(t[nr]||t[ii])||null}(t);return null!==s?()=>s.factory(t):()=>new t}(t);throw new Me(204,!1)}function $p(t,r,s){let a;if(cu(t)){const c=We(t);return Li(c)||jp(c)}if(vf(t))a=()=>We(t.useValue);else if(function Ef(t){return!(!t||!t.useFactory)}(t))a=()=>t.useFactory(...ir(t.deps||[]));else if(function _f(t){return!(!t||!t.useExisting)}(t))a=()=>Bt(We(t.useExisting));else{const c=We(t&&(t.useClass||t.provide));if(!function dd(t){return!!t.deps}(t))return Li(c)||jp(c);a=()=>new c(...ir(t.deps))}return a}function ld(t,r,s=!1){return{factory:t,value:r,multi:s?[]:void 0}}function fd(t,r){for(const s of t)Array.isArray(s)?fd(s,r):s&&Ot(s)?fd(s.\u0275providers,r):r(s)}const zp=new kt("AppId",{providedIn:"root",factory:()=>qm}),qm="ng",Wp=new kt("Platform Initializer"),Gp=new kt("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),zv=new kt("AnimationModuleType"),Kp=new kt("CSP nonce",{providedIn:"root",factory:()=>function rd(){if(void 0!==vl)return vl;if(typeof document<"u")return document;throw new Me(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let md=(t,r,s)=>null;function Yp(t,r,s=!1){return md(t,r,s)}class vh{}class bf{}class Uc{resolveComponentFactory(r){throw function ty(t){const r=Error(`No component factory found for ${Ae(t)}.`);return r.ngComponent=t,r}(r)}}let _h=(()=>{class t{static{this.NULL=new Uc}}return t})();function Qv(){return Vc(Ri(),dt())}function Vc(t,r){return new Eh(Je(t,r))}let Eh=(()=>{class t{constructor(s){this.nativeElement=s}static{this.__NG_ELEMENT_ID__=Qv}}return t})();function Zp(t){return t instanceof Eh?t.nativeElement:t}class ry{}let eg=(()=>{class t{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>function Af(){const t=dt(),s=xe(Ri().index,t);return(Ei(s)?s:t)[ln]}()}}return t})(),tg=(()=>{class t{static{this.\u0275prov=Rt({token:t,providedIn:"root",factory:()=>null})}}return t})();class ng{constructor(r){this.full=r,this.major=r.split(".")[0],this.minor=r.split(".")[1],this.patch=r.split(".").slice(2).join(".")}}const bl=new ng("16.2.12"),wh={};function Nf(t,r=null,s=null,a){const c=og(t,r,s,a);return c.resolveInjectorInitializers(),c}function og(t,r=null,s=null,a,c=new Set){const d=[s||at,jv(t)];return a=a||("object"==typeof t?void 0:Ae(t)),new Lc(d,r||lh(),a||null,c)}let Na=(()=>{class t{static{this.THROW_IF_NOT_FOUND=Bn}static{this.NULL=new Fp}static create(s,a){if(Array.isArray(s))return Nf({name:""},a,s,"");{const c=s.name??"";return Nf({name:c},s.parent,s.providers,c)}}static{this.\u0275prov=Rt({token:t,providedIn:"any",factory:()=>Bt(gf)})}static{this.__NG_ELEMENT_ID__=-1}}return t})();function Bc(t){return t.ngOriginalError}class qo{constructor(){this._console=console}handleError(r){const s=this._findOriginalError(r);this._console.error("ERROR",r),s&&this._console.error("ORIGINAL ERROR",s)}_findOriginalError(r){let s=r&&Bc(r);for(;s&&Bc(s);)s=Bc(s);return s||null}}function jc(t){return r=>{setTimeout(t,void 0,r)}}const Iu=class oy extends b.B{constructor(r=!1){super(),this.__isAsync=r}emit(r){super.next(r)}subscribe(r,s,a){let c=r,d=s||(()=>null),g=a;if(r&&"object"==typeof r){const A=r;c=A.next?.bind(A),d=A.error?.bind(A),g=A.complete?.bind(A)}this.__isAsync&&(d=jc(d),c&&(c=jc(c)),g&&(g=jc(g)));const _=super.subscribe({next:c,error:d,complete:g});return r instanceof oe.yU&&r.add(_),_}};function ay(...t){}class Rs{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:a=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Iu(!1),this.onMicrotaskEmpty=new Iu(!1),this.onStable=new Iu(!1),this.onError=new Iu(!1),typeof Zone>"u")throw new Me(908,!1);Zone.assertZonePatched();const c=this;c._nesting=0,c._outer=c._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(c._inner=c._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(c._inner=c._inner.fork(Zone.longStackTraceZoneSpec)),c.shouldCoalesceEventChangeDetection=!a&&s,c.shouldCoalesceRunChangeDetection=a,c.lastRequestAnimationFrameId=-1,c.nativeRequestAnimationFrame=function ag(){const t="function"==typeof Ut.requestAnimationFrame;let r=Ut[t?"requestAnimationFrame":"setTimeout"],s=Ut[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&r&&s){const a=r[Zone.__symbol__("OriginalDelegate")];a&&(r=a);const c=s[Zone.__symbol__("OriginalDelegate")];c&&(s=c)}return{nativeRequestAnimationFrame:r,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function lg(t){const r=()=>{!function Zv(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Ut,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Ih(t),t.isCheckStableRunning=!0,cg(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Ih(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,a,c,d,g,_)=>{if(function ly(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(_))return s.invokeTask(c,d,g,_);try{return cy(t),s.invokeTask(c,d,g,_)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===d.type||t.shouldCoalesceRunChangeDetection)&&r(),dg(t)}},onInvoke:(s,a,c,d,g,_,A)=>{try{return cy(t),s.invoke(c,d,g,_,A)}finally{t.shouldCoalesceRunChangeDetection&&r(),dg(t)}},onHasTask:(s,a,c,d)=>{s.hasTask(c,d),a===c&&("microTask"==d.change?(t._hasPendingMicrotasks=d.microTask,Ih(t),cg(t)):"macroTask"==d.change&&(t.hasPendingMacrotasks=d.macroTask))},onHandleError:(s,a,c,d)=>(s.handleError(c,d),t.runOutsideAngular(()=>t.onError.emit(d)),!1)})}(c)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Rs.isInAngularZone())throw new Me(909,!1)}static assertNotInAngularZone(){if(Rs.isInAngularZone())throw new Me(909,!1)}run(r,s,a){return this._inner.run(r,s,a)}runTask(r,s,a,c){const d=this._inner,g=d.scheduleEventTask("NgZoneEvent: "+c,r,ug,ay,ay);try{return d.runTask(g,s,a)}finally{d.cancelTask(g)}}runGuarded(r,s,a){return this._inner.runGuarded(r,s,a)}runOutsideAngular(r){return this._outer.run(r)}}const ug={};function cg(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Ih(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function cy(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function dg(t){t._nesting--,cg(t)}class e_{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Iu,this.onMicrotaskEmpty=new Iu,this.onStable=new Iu,this.onError=new Iu}run(r,s,a){return r.apply(s,a)}runGuarded(r,s,a){return r.apply(s,a)}runOutsideAngular(r){return r()}runTask(r,s,a,c){return r.apply(s,a)}}const hg=new kt("",{providedIn:"root",factory:fg});function fg(){const t=$t(Rs);let r=!0;const s=new pe.c(c=>{r=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{c.next(r),c.complete()})}),a=new pe.c(c=>{let d;t.runOutsideAngular(()=>{d=t.onStable.subscribe(()=>{Rs.assertNotInAngularZone(),queueMicrotask(()=>{!r&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(r=!0,c.next(!0))})})});const g=t.onUnstable.subscribe(()=>{Rs.assertInAngularZone(),r&&(r=!1,t.runOutsideAngular(()=>{c.next(!1)}))});return()=>{d.unsubscribe(),g.unsubscribe()}});return(0,ie.h)(s,a.pipe((0,te.u)()))}function rc(t){return t instanceof Function?t():t}let mg=(()=>{class t{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static{this.\u0275prov=Rt({token:t,providedIn:"root",factory:()=>new t})}}return t})();function Sl(t){for(;t;){t[cn]|=64;const r=Dn(t);if(Nr(t)&&!r)return t;t=r}return null}const yg=new kt("",{providedIn:"root",factory:()=>!1});let wd=null;function vy(t,r){return t[r]??_y()}function Lf(t,r){const s=_y();s.producerNode?.length&&(t[r]=wd,s.lView=t,wd=Ff())}const ic={...ta,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Sl(t.lView)},lView:null};function Ff(){return Object.create(ic)}function _y(){return wd??=Ff(),wd}const Gn={};function Ey(t){wy(Kn(),dt(),Qi()+t,!1)}function wy(t,r,s,a){if(!a)if(3==(3&r[cn])){const d=t.preOrderCheckHooks;null!==d&&yc(r,d,s)}else{const d=t.preOrderHooks;null!==d&&tl(r,d,0,s)}aa(s)}function Hc(t,r=qt.Default){const s=dt();return null===s?Bt(t,r):po(Ri(),s,We(t),r)}function Iy(){throw new Error("invalid")}function Uf(t,r,s,a,c,d,g,_,A,F,z){const se=r.blueprint.slice();return se[lr]=c,se[cn]=140|a,(null!==F||t&&2048&t[cn])&&(se[cn]|=2048),Qa(se),se[rn]=se[Hi]=t,se[Ur]=s,se[qi]=g||t&&t[qi],se[ln]=_||t&&t[ln],se[ks]=A||t&&t[ks]||null,se[vi]=d,se[vo]=function ll(){return wp++}(),se[no]=z,se[Ka]=F,se[mr]=2==r.type?t[mr]:se,se}function zc(t,r,s,a,c){let d=t.data[r];if(null===d)d=function wg(t,r,s,a,c){const d=pc(),g=Xa(),A=t.data[r]=function bg(t,r,s,a,c,d){let g=r?r.injectorIndex:-1,_=0;return Xt()&&(_|=128),{type:s,index:a,insertBeforeIndex:null,injectorIndex:g,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:_,providerIndexes:0,value:c,attrs:d,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,g?d:d&&d.parent,s,r,a,c);return null===t.firstChild&&(t.firstChild=A),null!==d&&(g?null==d.child&&null!==A.parent&&(d.child=A):null===d.next&&(d.next=A,A.prev=d)),A}(t,r,s,a,c),function w(){return Rn.lFrame.inI18n}()&&(d.flags|=32);else if(64&d.type){d.type=s,d.value=a,d.attrs=c;const g=function co(){const t=Rn.lFrame,r=t.currentTNode;return t.isParent?r:r.parent}();d.injectorIndex=null===g?-1:g.injectorIndex}return qs(d,!0),d}function Ml(t,r,s,a){if(0===s)return-1;const c=r.length;for(let d=0;d<s;d++)r.push(a),t.blueprint.push(a),t.data.push(null);return c}function Ig(t,r,s,a,c){const d=vy(r,Is),g=Qi(),_=2&a;try{aa(-1),_&&r.length>Hn&&wy(t,r,Hn,!1),Ai(_?2:0,c);const F=_?d:null,z=di(F);try{null!==F&&(F.dirty=!1),s(a,c)}finally{na(F,z)}}finally{_&&null===r[Is]&&Lf(r,Is),aa(g),Ai(_?3:1,c)}}function Th(t,r,s){if(Gs(r)){const a=ti(null);try{const d=r.directiveEnd;for(let g=r.directiveStart;g<d;g++){const _=t.data[g];_.contentQueries&&_.contentQueries(1,s[g],g)}}finally{ti(a)}}}function Vf(t,r,s){wi()&&(function Cy(t,r,s,a){const c=s.directiveStart,d=s.directiveEnd;Rr(s)&&function Ay(t,r,s){const a=Je(r,t),c=Dy(s);let g=16;s.signals?g=4096:s.onPush&&(g=64);const _=Ah(t,Uf(t,c,null,g,a,r,null,t[qi].rendererFactory.createRenderer(a,s),null,null,null));t[r.index]=_}(r,s,t.data[c+s.componentOffset]),t.firstCreatePass||ca(s,r),Xs(a,r);const g=s.initialInputs;for(let _=c;_<d;_++){const A=t.data[_],F=No(r,t,_,s);Xs(F,r),null!==g&&d_(0,_-c,F,A,0,g),ki(A)&&(xe(s.index,r)[Ur]=No(r,t,_,s))}}(t,r,s,Je(s,r)),64==(64&s.flags)&&Hf(t,r,s))}function Dg(t,r,s=Je){const a=r.localNames;if(null!==a){let c=r.index+1;for(let d=0;d<a.length;d+=2){const g=a[d+1],_=-1===g?s(r,t):t[g];t[c++]=_}}}function Dy(t){const r=t.tView;return null===r||r.incompleteFirstPass?t.tView=Ch(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):r}function Ch(t,r,s,a,c,d,g,_,A,F,z){const se=Hn+a,Ie=se+c,Oe=function o_(t,r){const s=[];for(let a=0;a<r;a++)s.push(a<t?null:Gn);return s}(se,Ie),ut="function"==typeof F?F():F;return Oe[Mt]={type:t,blueprint:Oe,template:s,queries:null,viewQuery:_,declTNode:r,data:Oe.slice().fill(null,se),bindingStartIndex:se,expandoStartIndex:Ie,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof d?d():d,pipeRegistry:"function"==typeof g?g():g,firstChild:null,schemas:A,consts:ut,incompleteFirstPass:!1,ssrId:z}}let Bf=t=>null;function Sg(t,r,s,a){for(let c in t)if(t.hasOwnProperty(c)){s=null===s?{}:s;const d=t[c];null===a?Rl(s,r,c,d):a.hasOwnProperty(c)&&Rl(s,r,a[c],d)}return s}function Rl(t,r,s,a){t.hasOwnProperty(s)?t[s].push(r,a):t[s]=[r,a]}function Pa(t,r,s,a,c,d,g,_){const A=Je(r,s);let z,F=r.inputs;!_&&null!=F&&(z=F[a])?(Mh(t,s,z,a,c),Rr(r)&&function c_(t,r){const s=xe(r,t);16&s[cn]||(s[cn]|=64)}(s,r.index)):3&r.type&&(a=function jf(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(a),c=null!=g?g(c,r.value||"",a):c,d.setProperty(A,a,c))}function Dd(t,r,s,a){if(wi()){const c=null===a?null:{"":-1},d=function zf(t,r){const s=t.directiveRegistry;let a=null,c=null;if(s)for(let d=0;d<s.length;d++){const g=s[d];if(rt(r,g.selectors,!1))if(a||(a=[]),ki(g))if(null!==g.findHostDirectiveDefs){const _=[];c=c||new Map,g.findHostDirectiveDefs(g,_,c),a.unshift(..._,g),bh(t,r,_.length)}else a.unshift(g),bh(t,r,0);else c=c||new Map,g.findHostDirectiveDefs?.(g,a,c),a.push(g)}return null===a?null:[a,c]}(t,s);let g,_;null===d?g=_=null:[g,_]=d,null!==g&&$f(t,r,s,g,c,_),c&&function by(t,r,s){if(r){const a=t.localNames=[];for(let c=0;c<r.length;c+=2){const d=s[r[c+1]];if(null==d)throw new Me(-301,!1);a.push(r[c],d)}}}(s,a,c)}s.mergedAttrs=gi(s.mergedAttrs,s.attrs)}function $f(t,r,s,a,c,d){for(let F=0;F<a.length;F++)fo(ca(s,r),t,a[F].type);!function Sy(t,r,s){t.flags|=1,t.directiveStart=r,t.directiveEnd=r+s,t.providerIndexes=r}(s,t.data.length,a.length);for(let F=0;F<a.length;F++){const z=a[F];z.providersResolver&&z.providersResolver(z)}let g=!1,_=!1,A=Ml(t,r,a.length,null);for(let F=0;F<a.length;F++){const z=a[F];s.mergedAttrs=gi(s.mergedAttrs,z.hostAttrs),Ng(t,s,r,A,z),Wf(A,z,c),null!==z.contentQueries&&(s.flags|=4),(null!==z.hostBindings||null!==z.hostAttrs||0!==z.hostVars)&&(s.flags|=64);const se=z.type.prototype;!g&&(se.ngOnChanges||se.ngOnInit||se.ngDoCheck)&&((t.preOrderHooks??=[]).push(s.index),g=!0),!_&&(se.ngOnChanges||se.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(s.index),_=!0),A++}!function Ty(t,r,s){const c=r.directiveEnd,d=t.data,g=r.attrs,_=[];let A=null,F=null;for(let z=r.directiveStart;z<c;z++){const se=d[z],Ie=s?s.get(se):null,ut=Ie?Ie.outputs:null;A=Sg(se.inputs,z,A,Ie?Ie.inputs:null),F=Sg(se.outputs,z,F,ut);const Dt=null===A||null===g||Mr(r)?null:h_(A,z,g);_.push(Dt)}null!==A&&(A.hasOwnProperty("class")&&(r.flags|=8),A.hasOwnProperty("style")&&(r.flags|=16)),r.initialInputs=_,r.inputs=A,r.outputs=F}(t,s,d)}function Hf(t,r,s){const a=s.directiveStart,c=s.directiveEnd,d=s.index,g=function R(){return Rn.lFrame.currentDirectiveIndex}();try{aa(d);for(let _=a;_<c;_++){const A=t.data[_],F=r[_];L(_),(null!==A.hostBindings||0!==A.hostVars||null!==A.hostAttrs)&&Rg(A,F)}}finally{aa(-1),L(g)}}function Rg(t,r){null!==t.hostBindings&&t.hostBindings(1,r)}function bh(t,r,s){r.componentOffset=s,(t.components??=[]).push(r.index)}function Wf(t,r,s){if(s){if(r.exportAs)for(let a=0;a<r.exportAs.length;a++)s[r.exportAs[a]]=t;ki(r)&&(s[""]=t)}}function Ng(t,r,s,a,c){t.data[a]=c;const d=c.factory||(c.factory=Li(c.type)),g=new Ya(d,ki(c),Hc);t.blueprint[a]=g,s[a]=g,function Ag(t,r,s,a,c){const d=c.hostBindings;if(d){let g=t.hostBindingOpCodes;null===g&&(g=t.hostBindingOpCodes=[]);const _=~r.index;(function Mg(t){let r=t.length;for(;r>0;){const s=t[--r];if("number"==typeof s&&s<0)return s}return 0})(g)!=_&&g.push(_),g.push(s,a,d)}}(t,r,a,Ml(t,s,c.hostVars,Gn),c)}function Qo(t,r,s,a,c,d){const g=Je(t,r);!function Sh(t,r,s,a,c,d,g){if(null==d)t.removeAttribute(r,c,s);else{const _=null==g?Ne(d):g(d,a||"",c);t.setAttribute(r,c,_,s)}}(r[ln],g,d,t.value,s,a,c)}function d_(t,r,s,a,c,d){const g=d[r];if(null!==g)for(let _=0;_<g.length;)My(a,s,g[_++],g[_++],g[_++])}function My(t,r,s,a,c){const d=ti(null);try{const g=t.inputTransforms;null!==g&&g.hasOwnProperty(a)&&(c=g[a].call(r,c)),null!==t.setInput?t.setInput(r,c,s,a):r[a]=c}finally{ti(d)}}function h_(t,r,s){let a=null,c=0;for(;c<s.length;){const d=s[c];if(0!==d)if(5!==d){if("number"==typeof d)break;if(t.hasOwnProperty(d)){null===a&&(a=[]);const g=t[d];for(let _=0;_<g.length;_+=2)if(g[_]===r){a.push(d,g[_+1],s[c+1]);break}}c+=2}else c+=2;else c+=4}return a}function Pg(t,r,s,a){return[t,!0,!1,r,null,0,a,s,null,null,null]}function Ry(t,r){const s=t.contentQueries;if(null!==s)for(let a=0;a<s.length;a+=2){const d=s[a+1];if(-1!==d){const g=t.data[d];Ge(s[a]),g.contentQueries(2,r[d],d)}}}function Ah(t,r){return t[ko]?t[Ws][li]=r:t[ko]=r,t[Ws]=r,r}function xg(t,r,s){Ge(0);const a=ti(null);try{r(t,s)}finally{ti(a)}}function Ny(t){return t[ms]||(t[ms]=[])}function Py(t){return t.cleanup||(t.cleanup=[])}function kg(t,r){const s=t[ks],a=s?s.get(qo,null):null;a&&a.handleError(r)}function Mh(t,r,s,a,c){for(let d=0;d<s.length;){const g=s[d++],_=s[d++];My(t.data[g],r[g],a,_,c)}}function sc(t,r,s){const a=Ht(r,t);!function Mc(t,r,s){t.setValue(r,s)}(t[ln],a,s)}function xy(t,r){const s=xe(r,t),a=s[Mt];!function Oy(t,r){for(let s=r.length;s<t.blueprint.length;s++)r.push(t.blueprint[s])}(a,s);const c=s[lr];null!==c&&null===s[no]&&(s[no]=Yp(c,s[ks])),Td(a,s,s[Ur])}function Td(t,r,s){En(r);try{const a=t.viewQuery;null!==a&&xg(1,a,s);const c=t.template;null!==c&&Ig(t,r,c,1,s),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Ry(t,r),t.staticViewQueries&&xg(2,t.viewQuery,s);const d=t.components;null!==d&&function Lr(t,r){for(let s=0;s<r.length;s++)xy(t,r[s])}(r,d)}catch(a){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),a}finally{r[cn]&=-5,ho()}}let Lg=(()=>{class t{constructor(){this.all=new Set,this.queue=new Map}create(s,a,c){const d=typeof Zone>"u"?null:Zone.current,g=function Le(t,r,s){const a=Object.create(Ft);s&&(a.consumerAllowSignalWrites=!0),a.fn=t,a.schedule=r;const c=g=>{a.cleanupFn=g};return a.ref={notify:()=>So(a),run:()=>{if(a.dirty=!1,a.hasRun&&!bi(a))return;a.hasRun=!0;const g=di(a);try{a.cleanupFn(),a.cleanupFn=st,a.fn(c)}finally{na(a,g)}},cleanup:()=>a.cleanupFn()},a.ref}(s,F=>{this.all.has(F)&&this.queue.set(F,d)},c);let _;this.all.add(g),g.notify();const A=()=>{g.cleanup(),_?.(),this.all.delete(g),this.queue.delete(g)};return _=a?.onDestroy(A),{destroy:A}}flush(){if(0!==this.queue.size)for(const[s,a]of this.queue)this.queue.delete(s),a?a.run(()=>s.run()):s.run()}get isQueueEmpty(){return 0===this.queue.size}static{this.\u0275prov=Rt({token:t,providedIn:"root",factory:()=>new t})}}return t})();function Wc(t,r,s){let a=s?t.styles:null,c=s?t.classes:null,d=0;if(null!==r)for(let g=0;g<r.length;g++){const _=r[g];"number"==typeof _?d=_:1==d?c=qe(c,_):2==d&&(a=qe(a,_+": "+r[++g]+";"))}s?t.styles=a:t.stylesWithoutHost=a,s?t.classes=c:t.classesWithoutHost=c}function Rh(t,r,s,a,c=!1){for(;null!==s;){const d=r[s.index];null!==d&&a.push(sn(d)),dr(d)&&Es(d,a);const g=s.type;if(8&g)Rh(t,r,s.child,a);else if(32&g){const _=zt(s,r);let A;for(;A=_();)a.push(A)}else if(16&g){const _=Sm(r,s);if(Array.isArray(_))a.push(..._);else{const A=Dn(r[mr]);Rh(A[Mt],A,_,a,!0)}}s=c?s.projectionNext:s.next}return a}function Es(t,r){for(let s=ni;s<t.length;s++){const a=t[s],c=a[Mt].firstChild;null!==c&&Rh(a[Mt],a,c,r)}t[Gr]!==t[lr]&&r.push(t[Gr])}function Ns(t,r,s,a=!0){const c=r[qi],d=c.rendererFactory,g=c.afterRenderEventManager;d.begin?.(),g?.begin();try{p_(t,r,t.template,s)}catch(A){throw a&&kg(r,A),A}finally{d.end?.(),c.effectManager?.flush(),g?.end()}}function p_(t,r,s,a){const c=r[cn];if(256!=(256&c)){r[qi].effectManager?.flush(),En(r);try{Qa(r),function Be(t){return Rn.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==s&&Ig(t,r,s,2,a);const g=3==(3&c);if(g){const F=t.preOrderCheckHooks;null!==F&&yc(r,F,null)}else{const F=t.preOrderHooks;null!==F&&tl(r,F,0,null),Fd(r,0)}if(function JE(t){for(let r=vu(t);null!==r;r=Ju(r)){if(!r[Ji])continue;const s=r[Ds];for(let a=0;a<s.length;a++){ls(s[a])}}}(r),Fg(r,2),null!==t.contentQueries&&Ry(t,r),g){const F=t.contentCheckHooks;null!==F&&yc(r,F)}else{const F=t.contentHooks;null!==F&&tl(r,F,1),Fd(r,1)}!function Eg(t,r){const s=t.hostBindingOpCodes;if(null===s)return;const a=vy(r,_o);try{for(let c=0;c<s.length;c++){const d=s[c];if(d<0)aa(~d);else{const g=d,_=s[++c],A=s[++c];v(_,g),a.dirty=!1;const F=di(a);try{A(2,r[g])}finally{na(a,F)}}}}finally{null===r[_o]&&Lf(r,_o),aa(-1)}}(t,r);const _=t.components;null!==_&&Gf(r,_,0);const A=t.viewQuery;if(null!==A&&xg(2,A,a),g){const F=t.viewCheckHooks;null!==F&&yc(r,F)}else{const F=t.viewHooks;null!==F&&tl(r,F,2),Fd(r,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),r[cn]&=-73,rs(r)}finally{ho()}}}function Fg(t,r){for(let s=vu(t);null!==s;s=Ju(s))for(let a=ni;a<s.length;a++)Fy(s[a],r)}function Ly(t,r,s){Fy(xe(r,t),s)}function Fy(t,r){if(!function Br(t){return 128==(128&t[cn])}(t))return;const s=t[Mt],a=t[cn];if(80&a&&0===r||1024&a||2===r)p_(s,t,s.template,t[Ur]);else if(t[Pi]>0){Fg(t,1);const c=s.components;null!==c&&Gf(t,c,1)}}function Gf(t,r,s){for(let a=0;a<r.length;a++)Ly(t,r[a],s)}class Nh{get rootNodes(){const r=this._lView,s=r[Mt];return Rh(s,r,s.firstChild,[])}constructor(r,s){this._lView=r,this._cdRefInjectingView=s,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Ur]}set context(r){this._lView[Ur]=r}get destroyed(){return 256==(256&this._lView[cn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[rn];if(dr(r)){const s=r[8],a=s?s.indexOf(this):-1;a>-1&&(eh(r,a),Dc(s,a))}this._attachedToViewContainer=!1}pl(this._lView[Mt],this._lView)}onDestroy(r){!function wa(t,r){if(256==(256&t[cn]))throw new Me(911,!1);null===t[Ci]&&(t[Ci]=[]),t[Ci].push(r)}(this._lView,r)}markForCheck(){Sl(this._cdRefInjectingView||this._lView)}detach(){this._lView[cn]&=-129}reattach(){this._lView[cn]|=128}detectChanges(){Ns(this._lView[Mt],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Me(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Zd(t,r){td(t,r,r[ln],2,null,null)}(this._lView[Mt],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new Me(902,!1);this._appRef=r}}class ZE extends Nh{constructor(r){super(r),this._view=r}detectChanges(){const r=this._view;Ns(r[Mt],r,r[Ur],!1)}checkNoChanges(){}get context(){return null}}class Gi extends _h{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const s=In(r);return new Cd(s,this.ngModule)}}function g_(t){const r=[];for(let s in t)t.hasOwnProperty(s)&&r.push({propName:t[s],templateName:s});return r}class Ps{constructor(r,s){this.injector=r,this.parentInjector=s}get(r,s,a){a=on(a);const c=this.injector.get(r,wh,a);return c!==wh||s===wh?c:this.parentInjector.get(r,s,a)}}class Cd extends bf{get inputs(){const r=this.componentDef,s=r.inputTransforms,a=g_(r.inputs);if(null!==s)for(const c of a)s.hasOwnProperty(c.propName)&&(c.transform=s[c.propName]);return a}get outputs(){return g_(this.componentDef.outputs)}constructor(r,s){super(),this.componentDef=r,this.ngModule=s,this.componentType=r.type,this.selector=function mi(t){return t.map(ws).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!s}create(r,s,a,c){let d=(c=c||this.ngModule)instanceof lu?c:c?.injector;d&&null!==this.componentDef.getStandaloneInjector&&(d=this.componentDef.getStandaloneInjector(d)||d);const g=d?new Ps(r,d):r,_=g.get(ry,null);if(null===_)throw new Me(407,!1);const se={rendererFactory:_,sanitizer:g.get(tg,null),effectManager:g.get(Lg,null),afterRenderEventManager:g.get(mg,null)},Ie=_.createRenderer(null,this.componentDef),Oe=this.componentDef.selectors[0][0]||"div",ut=a?function Tg(t,r,s,a){const d=a.get(yg,!1)||s===Qe.ShadowDom,g=t.selectRootElement(r,d);return function Cg(t){Bf(t)}(g),g}(Ie,a,this.componentDef.encapsulation,g):Rc(Ie,Oe,function m_(t){const r=t.toLowerCase();return"svg"===r?"svg":"math"===r?"math":null}(Oe)),yn=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let yt=null;null!==ut&&(yt=Yp(ut,g,!0));const qn=Ch(0,null,null,1,0,null,null,null,null,null,null),vr=Uf(null,qn,null,yn,null,null,se,Ie,g,null,yt);let ji,Ga;En(vr);try{const Vl=this.componentDef;let lp,GE=null;Vl.findHostDirectiveDefs?(lp=[],GE=new Map,Vl.findHostDirectiveDefs(Vl,lp,GE),lp.push(Vl)):lp=[Vl];const Gb=function t0(t,r){const s=t[Mt],a=Hn;return t[a]=r,zc(s,a,2,"#host",null)}(vr,ut),Kb=function Uy(t,r,s,a,c,d,g){const _=c[Mt];!function n0(t,r,s,a){for(const c of t)r.mergedAttrs=gi(r.mergedAttrs,c.hostAttrs);null!==r.mergedAttrs&&(Wc(r,r.mergedAttrs,!0),null!==s&&uf(a,s,r))}(a,t,r,g);let A=null;null!==r&&(A=Yp(r,c[ks]));const F=d.rendererFactory.createRenderer(r,s);let z=16;s.signals?z=4096:s.onPush&&(z=64);const se=Uf(c,Dy(s),null,z,c[t.index],t,d,F,null,null,A);return _.firstCreatePass&&bh(_,t,a.length-1),Ah(c,se),c[t.index]=se}(Gb,ut,Vl,lp,vr,se,Ie);Ga=or(qn,Hn),ut&&function s0(t,r,s,a){if(a)Wr(t,s,["ng-version",bl.full]);else{const{attrs:c,classes:d}=function yi(t){const r=[],s=[];let a=1,c=2;for(;a<t.length;){let d=t[a];if("string"==typeof d)2===c?""!==d&&r.push(d,t[++a]):8===c&&s.push(d);else{if(!ve(c))break;c=d}a++}return{attrs:r,classes:s}}(r.selectors[0]);c&&Wr(t,s,c),d&&d.length>0&&Sp(t,s,d.join(" "))}}(Ie,Vl,ut,a),void 0!==s&&function o0(t,r,s){const a=t.projection=[];for(let c=0;c<r.length;c++){const d=s[c];a.push(null!=d?Array.from(d):null)}}(Ga,this.ngContentSelectors,s),ji=function r0(t,r,s,a,c,d){const g=Ri(),_=c[Mt],A=Je(g,c);$f(_,c,g,s,null,a);for(let z=0;z<s.length;z++)Xs(No(c,_,g.directiveStart+z,g),c);Hf(_,c,g),A&&Xs(A,c);const F=No(c,_,g.directiveStart+g.componentOffset,g);if(t[Ur]=c[Ur]=F,null!==d)for(const z of d)z(F,r);return Th(_,g,t),F}(Kb,Vl,lp,GE,vr,[a0]),Td(qn,vr,null)}finally{ho()}return new e0(this.componentType,ji,Vc(Ga,vr),vr,Ga)}}class e0 extends vh{constructor(r,s,a,c,d){super(),this.location=a,this._rootLView=c,this._tNode=d,this.previousInputValues=null,this.instance=s,this.hostView=this.changeDetectorRef=new ZE(c),this.componentType=r}setInput(r,s){const a=this._tNode.inputs;let c;if(null!==a&&(c=a[r])){if(this.previousInputValues??=new Map,this.previousInputValues.has(r)&&Object.is(this.previousInputValues.get(r),s))return;const d=this._rootLView;Mh(d[Mt],d,c,r,s),this.previousInputValues.set(r,s),Sl(xe(this._tNode.index,d))}}get injector(){return new zi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}function a0(){const t=Ri();Fu(dt()[Mt],t)}function Vy(t){let r=function y_(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),s=!0;const a=[t];for(;r;){let c;if(ki(t))c=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new Me(903,!1);c=r.\u0275dir}if(c){if(s){a.push(c);const g=t;g.inputs=Gc(t.inputs),g.inputTransforms=Gc(t.inputTransforms),g.declaredInputs=Gc(t.declaredInputs),g.outputs=Gc(t.outputs);const _=c.hostBindings;_&&Pl(t,_);const A=c.viewQuery,F=c.contentQueries;if(A&&v_(t,A),F&&Nl(t,F),ae(t.inputs,c.inputs),ae(t.declaredInputs,c.declaredInputs),ae(t.outputs,c.outputs),null!==c.inputTransforms&&(null===g.inputTransforms&&(g.inputTransforms={}),ae(g.inputTransforms,c.inputTransforms)),ki(c)&&c.data.animation){const z=t.data;z.animation=(z.animation||[]).concat(c.data.animation)}}const d=c.features;if(d)for(let g=0;g<d.length;g++){const _=d[g];_&&_.ngInherit&&_(t),_===Vy&&(s=!1)}}r=Object.getPrototypeOf(r)}!function By(t){let r=0,s=null;for(let a=t.length-1;a>=0;a--){const c=t[a];c.hostVars=r+=c.hostVars,c.hostAttrs=gi(c.hostAttrs,s=gi(s,c.hostAttrs))}}(a)}function Gc(t){return t===At?{}:t===at?[]:t}function v_(t,r){const s=t.viewQuery;t.viewQuery=s?(a,c)=>{r(a,c),s(a,c)}:r}function Nl(t,r){const s=t.contentQueries;t.contentQueries=s?(a,c,d)=>{r(a,c,d),s(a,c,d)}:r}function Pl(t,r){const s=t.hostBindings;t.hostBindings=s?(a,c)=>{r(a,c),s(a,c)}:r}function Kc(t){const r=t.inputConfig,s={};for(const a in r)if(r.hasOwnProperty(a)){const c=r[a];Array.isArray(c)&&c[2]&&(s[a]=c[2])}t.inputTransforms=s}function qc(t){return!!Hg(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function Hg(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Du(t,r,s){return t[r]=s}function Ys(t,r,s){return!Object.is(t[r],s)&&(t[r]=s,!0)}function Qc(t,r,s,a){const c=Ys(t,r,s);return Ys(t,r+1,a)||c}function Kf(t,r,s,a){const c=dt();return Ys(c,oa(),r)&&(Kn(),Qo(ri(),c,t,r,s,a)),Kf}function Cu(t,r,s,a){return Ys(t,oa(),s)?r+Ne(s)+a:Gn}function Sd(t,r,s,a,c,d){const _=Qc(t,function lo(){return Rn.lFrame.bindingIndex}(),s,c);return Ui(2),_?r+Ne(s)+a+Ne(c)+d:Gn}function A_(t,r,s,a,c,d,g,_){const A=dt(),F=Kn(),z=t+Hn,se=F.firstCreatePass?function S_(t,r,s,a,c,d,g,_,A){const F=r.consts,z=zc(r,t,4,g||null,Mo(F,_));Dd(r,s,z,Mo(F,A)),Fu(r,z);const se=z.tView=Ch(2,z,a,c,d,r.directiveRegistry,r.pipeRegistry,null,r.schemas,F,null);return null!==r.queries&&(r.queries.template(r,z),se.queries=r.queries.embeddedTView(z)),z}(z,F,A,r,s,a,c,d,g):F.data[z];qs(se,!1);const Ie=M_(F,A,se,t);Lu()&&tc(F,A,Ie,se),Xs(Ie,A),Ah(A,A[z]=Pg(Ie,A,Ie,se)),Oi(se)&&Vf(F,A,se),null!=g&&Dg(A,se,_)}let M_=function R_(t,r,s,a){return bs(!0),r[ln].createComment("")};function O_(t){return gt(function xu(){return Rn.lFrame.contextLView}(),Hn+t)}function Qy(t,r,s){const a=dt();return Ys(a,oa(),r)&&Pa(Kn(),ri(),a,t,r,a[ln],s,!1),Qy}function Fl(t,r,s,a,c){const g=c?"class":"style";Mh(t,s,r.inputs[g],g,a)}function Qg(t,r,s,a){const c=dt(),d=Kn(),g=Hn+t,_=c[ln],A=d.firstCreatePass?function qg(t,r,s,a,c,d){const g=r.consts,A=zc(r,t,2,a,Mo(g,c));return Dd(r,s,A,Mo(g,d)),null!==A.attrs&&Wc(A,A.attrs,!1),null!==A.mergedAttrs&&Wc(A,A.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,A),A}(g,d,c,r,s,a):d.data[g],F=Xy(d,c,A,_,r,t);c[g]=F;const z=Oi(A);return qs(A,!0),uf(_,F,A),32!=(32&A.flags)&&Lu()&&tc(d,c,F,A),0===function Qt(){return Rn.lFrame.elementDepthCount}()&&Xs(F,c),function Fa(){Rn.lFrame.elementDepthCount++}(),z&&(Vf(d,c,A),Th(d,A,c)),null!==a&&Dg(c,A),Qg}function Zf(){let t=Ri();Xa()?Cs():(t=t.parent,qs(t,!1));const r=t;(function Ua(t){return Rn.skipHydrationRootTNode===t})(r)&&function Nt(){Rn.skipHydrationRootTNode=null}(),function ss(){Rn.lFrame.elementDepthCount--}();const s=Kn();return s.firstCreatePass&&(Fu(s,t),Gs(t)&&s.queries.elementEnd(t)),null!=r.classesWithoutHost&&function Ja(t){return 0!=(8&t.flags)}(r)&&Fl(s,r,dt(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function _c(t){return 0!=(16&t.flags)}(r)&&Fl(s,r,dt(),r.stylesWithoutHost,!1),Zf}function Xg(t,r,s,a){return Qg(t,r,s,a),Zf(),Xg}let Xy=(t,r,s,a,c,d)=>(bs(!0),Rc(a,c,function Vo(){return Rn.lFrame.currentNamespace}()));function Yg(t,r,s){const a=dt(),c=Kn(),d=t+Hn,g=c.firstCreatePass?function _0(t,r,s,a,c){const d=r.consts,g=Mo(d,a),_=zc(r,t,8,"ng-container",g);return null!==g&&Wc(_,g,!0),Dd(r,s,_,Mo(d,c)),null!==r.queries&&r.queries.elementStart(r,_),_}(d,c,a,r,s):c.data[d];qs(g,!0);const _=Jy(c,a,g,t);return a[d]=_,Lu()&&tc(c,a,_,g),Xs(_,a),Oi(g)&&(Vf(c,a,g),Th(c,g,a)),null!=s&&Dg(a,g),Yg}function Jg(){let t=Ri();const r=Kn();return Xa()?Cs():(t=t.parent,qs(t,!1)),r.firstCreatePass&&(Fu(r,t),Gs(t)&&r.queries.elementEnd(t)),Jg}function Yy(t,r,s){return Yg(t,r,s),Jg(),Yy}let Jy=(t,r,s,a)=>(bs(!0),ou(r[ln],""));function V_(){return dt()}function Zg(t){return!!t&&"function"==typeof t.then}function Zy(t){return!!t&&"function"==typeof t.subscribe}function Su(t,r,s,a){const c=dt(),d=Kn(),g=Ri();return function B_(t,r,s,a,c,d,g){const _=Oi(a),F=t.firstCreatePass&&Py(t),z=r[Ur],se=Ny(r);let Ie=!0;if(3&a.type||g){const Dt=Je(a,r),Gt=g?g(Dt):Dt,yn=se.length,yt=g?vr=>g(sn(vr[a.index])):a.index;let qn=null;if(!g&&_&&(qn=function E0(t,r,s,a){const c=t.cleanup;if(null!=c)for(let d=0;d<c.length-1;d+=2){const g=c[d];if(g===s&&c[d+1]===a){const _=r[ms],A=c[d+2];return _.length>A?_[A]:null}"string"==typeof g&&(d+=2)}return null}(t,r,c,a.index)),null!==qn)(qn.__ngLastListenerFn__||qn).__ngNextListenerFn__=d,qn.__ngLastListenerFn__=d,Ie=!1;else{d=$_(a,r,z,d,!1);const vr=s.listen(Gt,c,d);se.push(d,vr),F&&F.push(c,yt,yn,yn+1)}}else d=$_(a,r,z,d,!1);const Oe=a.outputs;let ut;if(Ie&&null!==Oe&&(ut=Oe[c])){const Dt=ut.length;if(Dt)for(let Gt=0;Gt<Dt;Gt+=2){const ji=r[ut[Gt]][ut[Gt+1]].subscribe(d),Ga=se.length;se.push(d,ji),F&&F.push(c,a.index,Ga,-(Ga+1))}}}(d,c,c[ln],g,t,r,a),Su}function j_(t,r,s,a){try{return Ai(6,r,s),!1!==s(a)}catch(c){return kg(t,c),!1}finally{Ai(7,r,s)}}function $_(t,r,s,a,c){return function d(g){if(g===Function)return a;Sl(t.componentOffset>-1?xe(t.index,r):r);let A=j_(r,s,a,g),F=d.__ngNextListenerFn__;for(;F;)A=j_(r,s,F,g)&&A,F=F.__ngNextListenerFn__;return c&&!1===A&&g.preventDefault(),A}}function H_(t=1){return function Qs(t){return(Rn.lFrame.contextLView=function Uo(t,r){for(;t>0;)r=r[Hi],t--;return r}(t,Rn.lFrame.contextLView))[Ur]}(t)}function w0(t,r){let s=null;const a=function Et(t){const r=t.attrs;if(null!=r){const s=r.indexOf(5);if(!(1&s))return r[s+1]}return null}(t);for(let c=0;c<r.length;c++){const d=r[c];if("*"!==d){if(null===a?rt(t,d,!0):$n(a,d))return c}else s=c}return s}function z_(t){const r=dt()[mr][vi];if(!r.projection){const a=r.projection=Tc(t?t.length:1,null),c=a.slice();let d=r.child;for(;null!==d;){const g=t?w0(d,t):0;null!==g&&(c[g]?c[g].projectionNext=d:a[g]=d,c[g]=d),d=d.next}}}function W_(t,r=0,s){const a=dt(),c=Kn(),d=zc(c,Hn+t,16,null,s||null);null===d.projection&&(d.projection=r),Cs(),(!a[no]||Xt())&&32!=(32&d.flags)&&function af(t,r,s){Nc(r[ln],0,r,s,Ip(t,s,r),Dp(s.parent||r[vi],s,r))}(c,a,d)}function ep(t,r,s){return xd(t,"",r,"",s),ep}function xd(t,r,s,a,c){const d=dt(),g=Cu(d,r,s,a);return g!==Gn&&Pa(Kn(),ri(),d,t,g,d[ln],c,!1),xd}function np(t,r){return t<<17|r<<2}function Jc(t){return t>>17&32767}function ov(t){return 2|t}function Od(t){return(131068&t)>>2}function av(t,r){return-131069&t|r<<2}function uv(t){return 1|t}function q_(t,r,s,a,c){const d=t[s+1],g=null===r;let _=a?Jc(d):Od(d),A=!1;for(;0!==_&&(!1===A||g);){const z=t[_+1];b0(t[_],r)&&(A=!0,t[_+1]=a?uv(z):ov(z)),_=a?Jc(z):Od(z)}A&&(t[s+1]=a?ov(d):uv(d))}function b0(t,r){return null===t||null==r||(Array.isArray(t)?t[1]:t)===r||!(!Array.isArray(t)||"string"!=typeof r)&&Sa(t,r)>=0}function tm(t,r){return function Au(t,r,s,a){const c=dt(),d=Kn(),g=Ui(2);d.firstUpdatePass&&function iE(t,r,s,a){const c=t.data;if(null===c[s+1]){const d=c[Qi()],g=function rE(t,r){return r>=t.expandoStartIndex}(t,s);(function uE(t,r){return 0!=(t.flags&(r?8:16))})(d,a)&&null===r&&!g&&(r=!1),r=function x0(t,r,s,a){const c=function K(t){const r=Rn.lFrame.currentDirectiveIndex;return-1===r?null:t[r]}(t);let d=a?r.residualClasses:r.residualStyles;if(null===c)0===(a?r.classBindings:r.styleBindings)&&(s=rp(s=nm(null,t,r,s,a),r.attrs,a),d=null);else{const g=r.directiveStylingLast;if(-1===g||t[g]!==c)if(s=nm(c,t,r,s,a),null===d){let A=function O0(t,r,s){const a=s?r.classBindings:r.styleBindings;if(0!==Od(a))return t[Jc(a)]}(t,r,a);void 0!==A&&Array.isArray(A)&&(A=nm(null,t,r,A[1],a),A=rp(A,r.attrs,a),function k0(t,r,s,a){t[Jc(s?r.classBindings:r.styleBindings)]=a}(t,r,a,A))}else d=function L0(t,r,s){let a;const c=r.directiveEnd;for(let d=1+r.directiveStylingLast;d<c;d++)a=rp(a,t[d].hostAttrs,s);return rp(a,r.attrs,s)}(t,r,a)}return void 0!==d&&(a?r.residualClasses=d:r.residualStyles=d),s}(c,d,r,a),function K_(t,r,s,a,c,d){let g=d?r.classBindings:r.styleBindings,_=Jc(g),A=Od(g);t[a]=s;let z,F=!1;if(Array.isArray(s)?(z=s[1],(null===z||Sa(s,z)>0)&&(F=!0)):z=s,c)if(0!==A){const Ie=Jc(t[_+1]);t[a+1]=np(Ie,_),0!==Ie&&(t[Ie+1]=av(t[Ie+1],a)),t[_+1]=function D0(t,r){return 131071&t|r<<17}(t[_+1],a)}else t[a+1]=np(_,0),0!==_&&(t[_+1]=av(t[_+1],a)),_=a;else t[a+1]=np(A,0),0===_?_=a:t[A+1]=av(t[A+1],a),A=a;F&&(t[a+1]=ov(t[a+1])),q_(t,z,a,!0),q_(t,z,a,!1),function C0(t,r,s,a,c){const d=c?t.residualClasses:t.residualStyles;null!=d&&"string"==typeof r&&Sa(d,r)>=0&&(s[a+1]=uv(s[a+1]))}(r,z,t,a,d),g=np(_,A),d?r.classBindings=g:r.styleBindings=g}(c,d,r,s,g,a)}}(d,t,g,a),r!==Gn&&Ys(c,g,r)&&function oE(t,r,s,a,c,d,g,_){if(!(3&r.type))return;const A=t.data,F=A[_+1],z=function T0(t){return 1==(1&t)}(F)?aE(A,r,s,c,Od(F),g):void 0;rm(z)||(rm(d)||function I0(t){return 2==(2&t)}(F)&&(d=aE(A,null,s,c,_,g)),function ml(t,r,s,a,c){if(r)c?t.addClass(s,a):t.removeClass(s,a);else{let d=-1===a.indexOf("-")?void 0:qd.DashCase;null==c?t.removeStyle(s,a,d):("string"==typeof c&&c.endsWith("!important")&&(c=c.slice(0,-10),d|=qd.Important),t.setStyle(s,a,c,d))}}(a,g,Ht(Qi(),s),c,d))}(d,d.data[Qi()],c,c[ln],t,c[g+1]=function B0(t,r){return null==t||""===t||("string"==typeof r?t+=r:"object"==typeof t&&(t=Ae(uu(t)))),t}(r,s),a,g)}(t,r,null,!0),tm}function nm(t,r,s,a,c){let d=null;const g=s.directiveEnd;let _=s.directiveStylingLast;for(-1===_?_=s.directiveStart:_++;_<g&&(d=r[_],a=rp(a,d.hostAttrs,c),d!==t);)_++;return null!==t&&(s.directiveStylingLast=_),a}function rp(t,r,s){const a=s?1:2;let c=-1;if(null!==r)for(let d=0;d<r.length;d++){const g=r[d];"number"==typeof g?c=g:c===a&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Ms(t,g,!!s||r[++d]))}return void 0===t?null:t}function aE(t,r,s,a,c,d){const g=null===r;let _;for(;c>0;){const A=t[c],F=Array.isArray(A),z=F?A[1]:A,se=null===z;let Ie=s[c+1];Ie===Gn&&(Ie=se?at:void 0);let Oe=se?Ba(Ie,a):z===a?Ie:void 0;if(F&&!rm(Oe)&&(Oe=Ba(A,a)),rm(Oe)&&(_=Oe,g))return _;const ut=t[c+1];c=g?Jc(ut):Od(ut)}if(null!==r){let A=d?r.residualClasses:r.residualStyles;null!=A&&(_=Ba(A,a))}return _}function rm(t){return void 0!==t}function lv(t,r=""){const s=dt(),a=Kn(),c=t+Hn,d=a.firstCreatePass?zc(a,c,1,r,null):a.data[c],g=cE(a,s,d,r,t);s[c]=g,Lu()&&tc(a,s,g,d),qs(d,!1)}let cE=(t,r,s,a,c)=>(bs(!0),function hl(t,r){return t.createText(r)}(r[ln],a));function i(t){return e("",t,""),i}function e(t,r,s){const a=dt(),c=Cu(a,t,r,s);return c!==Gn&&sc(a,Qi(),c),e}function n(t,r,s,a,c){const d=dt(),g=Sd(d,t,r,s,a,c);return g!==Gn&&sc(d,Qi(),g),n}const Fh=void 0;var TD=["en",[["a","p"],["AM","PM"],Fh],[["AM","PM"],Fh,Fh],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Fh,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Fh,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Fh,"{1} 'at' {0}",Fh],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function DD(t){const s=Math.floor(Math.abs(t)),a=t.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===a?1:5}];let ip={};function dE(t){const r=function CD(t){return t.toLowerCase().replace(/_/g,"-")}(t);let s=ew(r);if(s)return s;const a=r.split("-")[0];if(s=ew(a),s)return s;if("en"===a)return TD;throw new Me(701,!1)}function Z0(t){return dE(t)[sp.PluralCase]}function ew(t){return t in ip||(ip[t]=Ut.ng&&Ut.ng.common&&Ut.ng.common.locales&&Ut.ng.common.locales[t]),ip[t]}var sp=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(sp||{});const op="en-US";let tw=op;function pE(t,r,s,a,c){if(t=We(t),Array.isArray(t))for(let d=0;d<t.length;d++)pE(t[d],r,s,a,c);else{const d=Kn(),g=dt(),_=Ri();let A=cu(t)?t:We(t.provide);const F=$p(t),z=1048575&_.providerIndexes,se=_.directiveStart,Ie=_.providerIndexes>>20;if(cu(t)||!t.multi){const Oe=new Ya(F,c,Hc),ut=mE(A,r,c?z:z+Ie,se);-1===ut?(fo(ca(_,g),d,A),gE(d,t,r.length),r.push(A),_.directiveStart++,_.directiveEnd++,c&&(_.providerIndexes+=1048576),s.push(Oe),g.push(Oe)):(s[ut]=Oe,g[ut]=Oe)}else{const Oe=mE(A,r,z+Ie,se),ut=mE(A,r,z,z+Ie),Gt=ut>=0&&s[ut];if(c&&!Gt||!c&&!(Oe>=0&&s[Oe])){fo(ca(_,g),d,A);const yn=function DT(t,r,s,a,c){const d=new Ya(t,s,Hc);return d.multi=[],d.index=r,d.componentProviders=0,bw(d,c,a&&!s),d}(c?IT:wT,s.length,c,a,F);!c&&Gt&&(s[ut].providerFactory=yn),gE(d,t,r.length,0),r.push(A),_.directiveStart++,_.directiveEnd++,c&&(_.providerIndexes+=1048576),s.push(yn),g.push(yn)}else gE(d,t,Oe>-1?Oe:ut,bw(s[c?ut:Oe],F,!c&&a));!c&&a&&Gt&&s[ut].componentProviders++}}}function gE(t,r,s,a){const c=cu(r),d=function wf(t){return!!t.useClass}(r);if(c||d){const A=(d?We(r.useClass):r).prototype.ngOnDestroy;if(A){const F=t.destroyHooks||(t.destroyHooks=[]);if(!c&&r.multi){const z=F.indexOf(s);-1===z?F.push(s,[a,A]):F[z+1].push(a,A)}else F.push(s,A)}}}function bw(t,r,s){return s&&t.componentProviders++,t.multi.push(r)-1}function mE(t,r,s,a){for(let c=s;c<a;c++)if(r[c]===t)return c;return-1}function wT(t,r,s,a){return yE(this.multi,[])}function IT(t,r,s,a){const c=this.multi;let d;if(this.providerFactory){const g=this.providerFactory.componentProviders,_=No(s,s[Mt],this.providerFactory.index,a);d=_.slice(0,g),yE(c,d);for(let A=g;A<_.length;A++)d.push(_[A])}else d=[],yE(c,d);return d}function yE(t,r){for(let s=0;s<t.length;s++)r.push((0,t[s])());return r}function Sw(t,r=[]){return s=>{s.providersResolver=(a,c)=>function ET(t,r,s){const a=Kn();if(a.firstCreatePass){const c=ki(t);pE(s,a.data,a.blueprint,c,!0),pE(r,a.data,a.blueprint,c,!1)}}(a,c?c(t):t,r)}}class Uh{}class Aw{}function TT(t,r){return new vE(t,r??null,[])}class vE extends Uh{constructor(r,s,a){super(),this._parent=s,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Gi(this);const c=Ni(r);this._bootstrapComponents=rc(c.bootstrap),this._r3Injector=og(r,s,[{provide:Uh,useValue:this},{provide:_h,useValue:this.componentFactoryResolver},...a],Ae(r),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(r)}get injector(){return this._r3Injector}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class _E extends Aw{constructor(r){super(),this.moduleType=r}create(r){return new vE(this.moduleType,r,[])}}class Mw extends Uh{constructor(r){super(),this.componentFactoryResolver=new Gi(this),this.instance=null;const s=new Lc([...r.providers,{provide:Uh,useValue:this},{provide:_h,useValue:this.componentFactoryResolver}],r.parent||lh(),r.debugName,new Set(["environment"]));this.injector=s,r.runEnvironmentInitializers&&s.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(r){this.injector.onDestroy(r)}}function Rw(t,r,s=null){return new Mw({providers:t,parent:r,debugName:s,runEnvironmentInitializers:!0}).injector}let bT=(()=>{class t{constructor(s){this._injector=s,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(s){if(!s.standalone)return null;if(!this.cachedInjectors.has(s)){const a=Wm(0,s.type),c=a.length>0?Rw([a],this._injector,`Standalone[${s.type.name}]`):null;this.cachedInjectors.set(s,c)}return this.cachedInjectors.get(s)}ngOnDestroy(){try{for(const s of this.cachedInjectors.values())null!==s&&s.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=Rt({token:t,providedIn:"environment",factory:()=>new t(Bt(lu))})}}return t})();function Nw(t){t.getStandaloneInjector=r=>r.get(bT).getOrCreateStandaloneInjector(t)}function Uw(t,r,s,a){return $w(dt(),Ii(),t,r,s,a)}function Vw(t,r,s,a,c){return Hw(dt(),Ii(),t,r,s,a,c)}function Bw(t,r,s,a,c,d){return function zw(t,r,s,a,c,d,g,_){const A=r+s;return function Tu(t,r,s,a,c){const d=Qc(t,r,s,a);return Ys(t,r+2,c)||d}(t,A,c,d,g)?Du(t,A+3,_?a.call(_,c,d,g):a(c,d,g)):cm(t,A+3)}(dt(),Ii(),t,r,s,a,c,d)}function jw(t,r,s,a,c,d,g){return function Ww(t,r,s,a,c,d,g,_,A){const F=r+s;return function xa(t,r,s,a,c,d){const g=Qc(t,r,s,a);return Qc(t,r+2,c,d)||g}(t,F,c,d,g,_)?Du(t,F+4,A?a.call(A,c,d,g,_):a(c,d,g,_)):cm(t,F+4)}(dt(),Ii(),t,r,s,a,c,d,g)}function cm(t,r){const s=t[r];return s===Gn?void 0:s}function $w(t,r,s,a,c,d){const g=r+s;return Ys(t,g,c)?Du(t,g+1,d?a.call(d,c):a(c)):cm(t,g+1)}function Hw(t,r,s,a,c,d,g){const _=r+s;return Qc(t,_,c,d)?Du(t,_+2,g?a.call(g,c,d):a(c,d)):cm(t,_+2)}function Kw(t,r){const s=Kn();let a;const c=t+Hn;s.firstCreatePass?(a=function jT(t,r){if(r)for(let s=r.length-1;s>=0;s--){const a=r[s];if(t===a.name)return a}}(r,s.pipeRegistry),s.data[c]=a,a.onDestroy&&(s.destroyHooks??=[]).push(c,a.onDestroy)):a=s.data[c];const d=a.factory||(a.factory=Li(a.type)),_=Vn(Hc);try{const A=ju(!1),F=d();return ju(A),function x_(t,r,s,a){s>=t.data.length&&(t.data[s]=null,t.blueprint[s]=null),r[s]=a}(s,dt(),c,F),F}finally{Vn(_)}}function qw(t,r,s){const a=t+Hn,c=dt(),d=gt(c,a);return lm(c,a)?$w(c,Ii(),r,d.transform,s,d):d.transform(s)}function Qw(t,r,s,a){const c=t+Hn,d=dt(),g=gt(d,c);return lm(d,c)?Hw(d,Ii(),r,g.transform,s,a,g):g.transform(s,a)}function lm(t,r){return t[Mt].data[r].pure}function WT(){return this._results[Symbol.iterator]()}class mv{get changes(){return this._changes||(this._changes=new Iu)}constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const s=mv.prototype;s[Symbol.iterator]||(s[Symbol.iterator]=WT)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,s){return this._results.reduce(r,s)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,s){const a=this;a.dirty=!1;const c=function Vs(t){return t.flat(Number.POSITIVE_INFINITY)}(r);(this._changesDetected=!function ba(t,r,s){if(t.length!==r.length)return!1;for(let a=0;a<t.length;a++){let c=t[a],d=r[a];if(s&&(c=s(c),d=s(d)),d!==c)return!1}return!0}(a._results,c,s))&&(a._results=c,a.length=c.length,a.last=c[this.length-1],a.first=c[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function KT(t,r,s,a=!0){const c=r[Mt];if(function fl(t,r,s,a){const c=ni+a,d=s.length;a>0&&(s[c-1][li]=r),a<d-ni?(r[li]=s[c],jh(s,ni+a,r)):(s.push(r),r[li]=null),r[rn]=s;const g=r[yo];null!==g&&s!==g&&function _u(t,r){const s=t[Ds];r[mr]!==r[rn][rn][mr]&&(t[Ji]=!0),null===s?t[Ds]=[r]:s.push(r)}(g,r);const _=r[_i];null!==_&&_.insertView(t),r[cn]|=128}(c,r,t,s),a){const d=sf(s,t),g=r[ln],_=th(g,t[Gr]);null!==_&&function os(t,r,s,a,c,d){a[lr]=c,a[vi]=r,td(t,a,s,1,c,d)}(c,t[vi],g,r,_,d)}}let dm=(()=>{class t{static{this.__NG_ELEMENT_ID__=XT}}return t})();const qT=dm,QT=class extends qT{constructor(r,s,a){super(),this._declarationLView=r,this._declarationTContainer=s,this.elementRef=a}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(r,s){return this.createEmbeddedViewImpl(r,s)}createEmbeddedViewImpl(r,s,a){const c=function GT(t,r,s,a){const c=r.tView,_=Uf(t,c,s,4096&t[cn]?4096:16,null,r,null,null,null,a?.injector??null,a?.hydrationInfo??null);_[yo]=t[r.index];const F=t[_i];return null!==F&&(_[_i]=F.createEmbeddedView(c)),Td(c,_,s),_}(this._declarationLView,this._declarationTContainer,r,{injector:s,hydrationInfo:a});return new Nh(c)}};function XT(){return yv(Ri(),dt())}function yv(t,r){return 4&t.type?new QT(r,t,Vc(t,r)):null}let _v=(()=>{class t{static{this.__NG_ELEMENT_ID__=nC}}return t})();function nC(){return nI(Ri(),dt())}const rC=_v,eI=class extends rC{constructor(r,s,a){super(),this._lContainer=r,this._hostTNode=s,this._hostLView=a}get element(){return Vc(this._hostTNode,this._hostLView)}get injector(){return new zi(this._hostTNode,this._hostLView)}get parentInjector(){const r=Za(this._hostTNode,this._hostLView);if(ds(r)){const s=Bo(r,this._hostLView),a=qr(r);return new zi(s[Mt].data[a+8],s)}return new zi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const s=tI(this._lContainer);return null!==s&&s[r]||null}get length(){return this._lContainer.length-ni}createEmbeddedView(r,s,a){let c,d;"number"==typeof a?c=a:null!=a&&(c=a.index,d=a.injector);const _=r.createEmbeddedViewImpl(s||{},d,null);return this.insertImpl(_,c,false),_}createComponent(r,s,a,c,d){const g=r&&!function vs(t){return"function"==typeof t}(r);let _;if(g)_=s;else{const Dt=s||{};_=Dt.index,a=Dt.injector,c=Dt.projectableNodes,d=Dt.environmentInjector||Dt.ngModuleRef}const A=g?r:new Cd(In(r)),F=a||this.parentInjector;if(!d&&null==A.ngModule){const Gt=(g?F:this.parentInjector).get(lu,null);Gt&&(d=Gt)}In(A.componentType??{});const Oe=A.create(F,c,null,d);return this.insertImpl(Oe.hostView,_,false),Oe}insert(r,s){return this.insertImpl(r,s,!1)}insertImpl(r,s,a){const c=r._lView;if(function Kr(t){return dr(t[rn])}(c)){const A=this.indexOf(r);if(-1!==A)this.detach(A);else{const F=c[rn],z=new eI(F,F[vi],F[rn]);z.detach(z.indexOf(r))}}const g=this._adjustIndex(s),_=this._lContainer;return KT(_,c,g,!a),r.attachToViewContainerRef(),jh(wE(_),g,r),r}move(r,s){return this.insert(r,s)}indexOf(r){const s=tI(this._lContainer);return null!==s?s.indexOf(r):-1}remove(r){const s=this._adjustIndex(r,-1),a=eh(this._lContainer,s);a&&(Dc(wE(this._lContainer),s),pl(a[Mt],a))}detach(r){const s=this._adjustIndex(r,-1),a=eh(this._lContainer,s);return a&&null!=Dc(wE(this._lContainer),s)?new Nh(a):null}_adjustIndex(r,s=0){return r??this.length+s}};function tI(t){return t[8]}function wE(t){return t[8]||(t[8]=[])}function nI(t,r){let s;const a=r[t.index];return dr(a)?s=a:(s=Pg(a,r,null,t),r[t.index]=s,Ah(r,s)),rI(s,r,t,a),new eI(s,t,r)}let rI=function iI(t,r,s,a){if(t[Gr])return;let c;c=8&s.type?sn(a):function iC(t,r){const s=t[ln],a=s.createComment(""),c=Je(r,t);return au(s,th(s,c),a,function Mv(t,r){return t.nextSibling(r)}(s,c),!1),a}(r,s),t[Gr]=c};class IE{constructor(r){this.queryList=r,this.matches=null}clone(){return new IE(this.queryList)}setDirty(){this.queryList.setDirty()}}class DE{constructor(r=[]){this.queries=r}createEmbeddedView(r){const s=r.queries;if(null!==s){const a=null!==r.contentQueries?r.contentQueries[0]:s.length,c=[];for(let d=0;d<a;d++){const g=s.getByIndex(d);c.push(this.queries[g.indexInDeclarationView].clone())}return new DE(c)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let s=0;s<this.queries.length;s++)null!==fI(r,s).matches&&this.queries[s].setDirty()}}class sI{constructor(r,s,a=null){this.predicate=r,this.flags=s,this.read=a}}class TE{constructor(r=[]){this.queries=r}elementStart(r,s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementStart(r,s)}elementEnd(r){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(r)}embeddedTView(r){let s=null;for(let a=0;a<this.length;a++){const c=null!==s?s.length:0,d=this.getByIndex(a).embeddedTView(r,c);d&&(d.indexInDeclarationView=a,null!==s?s.push(d):s=[d])}return null!==s?new TE(s):null}template(r,s){for(let a=0;a<this.queries.length;a++)this.queries[a].template(r,s)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class CE{constructor(r,s=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(r,s){this.isApplyingToNode(s)&&this.matchTNode(r,s)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,s){this.elementStart(r,s)}embeddedTView(r,s){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,s),new CE(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const s=this._declarationNodeIndex;let a=r.parent;for(;null!==a&&8&a.type&&a.index!==s;)a=a.parent;return s===(null!==a?a.index:-1)}return this._appliesToNextNode}matchTNode(r,s){const a=this.metadata.predicate;if(Array.isArray(a))for(let c=0;c<a.length;c++){const d=a[c];this.matchTNodeWithReadOption(r,s,aC(s,d)),this.matchTNodeWithReadOption(r,s,Ec(s,r,d,!1,!1))}else a===dm?4&s.type&&this.matchTNodeWithReadOption(r,s,-1):this.matchTNodeWithReadOption(r,s,Ec(s,r,a,!1,!1))}matchTNodeWithReadOption(r,s,a){if(null!==a){const c=this.metadata.read;if(null!==c)if(c===Eh||c===_v||c===dm&&4&s.type)this.addMatch(s.index,-2);else{const d=Ec(s,r,c,!1,!1);null!==d&&this.addMatch(s.index,d)}else this.addMatch(s.index,a)}}addMatch(r,s){null===this.matches?this.matches=[r,s]:this.matches.push(r,s)}}function aC(t,r){const s=t.localNames;if(null!==s)for(let a=0;a<s.length;a+=2)if(s[a]===r)return s[a+1];return null}function cC(t,r,s,a){return-1===s?function uC(t,r){return 11&t.type?Vc(t,r):4&t.type?yv(t,r):null}(r,t):-2===s?function lC(t,r,s){return s===Eh?Vc(r,t):s===dm?yv(r,t):s===_v?nI(r,t):void 0}(t,r,a):No(t,t[Mt],s,r)}function oI(t,r,s,a){const c=r[_i].queries[a];if(null===c.matches){const d=t.data,g=s.matches,_=[];for(let A=0;A<g.length;A+=2){const F=g[A];_.push(F<0?null:cC(r,d[F],g[A+1],s.metadata.read))}c.matches=_}return c.matches}function bE(t,r,s,a){const c=t.queries.getByIndex(s),d=c.matches;if(null!==d){const g=oI(t,r,c,s);for(let _=0;_<d.length;_+=2){const A=d[_];if(A>0)a.push(g[_/2]);else{const F=d[_+1],z=r[-A];for(let se=ni;se<z.length;se++){const Ie=z[se];Ie[yo]===Ie[rn]&&bE(Ie[Mt],Ie,F,a)}if(null!==z[Ds]){const se=z[Ds];for(let Ie=0;Ie<se.length;Ie++){const Oe=se[Ie];bE(Oe[Mt],Oe,F,a)}}}}}return a}function aI(t){const r=dt(),s=Kn(),a=ue();Ge(a+1);const c=fI(s,a);if(t.dirty&&function ot(t){return 4==(4&t[cn])}(r)===(2==(2&c.metadata.flags))){if(null===c.matches)t.reset([]);else{const d=c.crossesNgTemplate?bE(s,r,a,[]):oI(s,r,c,a);t.reset(d,Zp),t.notifyOnChanges()}return!0}return!1}function uI(t,r,s){const a=Kn();a.firstCreatePass&&(hI(a,new sI(t,r,s),-1),2==(2&r)&&(a.staticViewQueries=!0)),dI(a,dt(),r)}function cI(t,r,s,a){const c=Kn();if(c.firstCreatePass){const d=Ri();hI(c,new sI(r,s,a),d.index),function hC(t,r){const s=t.contentQueries||(t.contentQueries=[]);r!==(s.length?s[s.length-1]:-1)&&s.push(t.queries.length-1,r)}(c,t),2==(2&s)&&(c.staticContentQueries=!0)}dI(c,dt(),s)}function lI(){return function dC(t,r){return t[_i].queries[r].queryList}(dt(),ue())}function dI(t,r,s){const a=new mv(4==(4&s));(function u_(t,r,s,a){const c=Ny(r);c.push(s),t.firstCreatePass&&Py(t).push(a,c.length-1)})(t,r,a,a.destroy),null===r[_i]&&(r[_i]=new DE),r[_i].queries.push(new IE(a))}function hI(t,r,s){null===t.queries&&(t.queries=new TE),t.queries.track(new CE(r,s))}function fI(t,r){return t.queries.getByIndex(r)}function pI(t,r){return yv(t,r)}function SE(t){return!!Ni(t)}const NI=new kt("Application Initializer");let PE=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((s,a)=>{this.resolve=s,this.reject=a}),this.appInits=$t(NI,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const s=[];for(const c of this.appInits){const d=c();if(Zg(d))s.push(d);else if(Zy(d)){const g=new Promise((_,A)=>{d.subscribe({complete:_,error:A})});s.push(g)}}const a=()=>{this.done=!0,this.resolve()};Promise.all(s).then(()=>{a()}).catch(c=>{this.reject(c)}),0===s.length&&a(),this.initialized=!0}static{this.\u0275fac=function(a){return new(a||t)}}static{this.\u0275prov=Rt({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),PI=(()=>{class t{log(s){console.log(s)}warn(s){console.warn(s)}static{this.\u0275fac=function(a){return new(a||t)}}static{this.\u0275prov=Rt({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();const wv=new kt("LocaleId",{providedIn:"root",factory:()=>$t(wv,qt.Optional|qt.SkipSelf)||function xC(){return typeof $localize<"u"&&$localize.locale||op}()}),OC=new kt("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let xI=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new fe.t(!1)}add(){this.hasPendingTasks.next(!0);const s=this.taskId++;return this.pendingTasks.add(s),s}remove(s){this.pendingTasks.delete(s),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static{this.\u0275fac=function(a){return new(a||t)}}static{this.\u0275prov=Rt({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();class LC{constructor(r,s){this.ngModuleFactory=r,this.componentFactories=s}}let FC=(()=>{class t{compileModuleSync(s){return new _E(s)}compileModuleAsync(s){return Promise.resolve(this.compileModuleSync(s))}compileModuleAndAllComponentsSync(s){const a=this.compileModuleSync(s),d=rc(Ni(s).declarations).reduce((g,_)=>{const A=In(_);return A&&g.push(new Cd(A)),g},[]);return new LC(a,d)}compileModuleAndAllComponentsAsync(s){return Promise.resolve(this.compileModuleAndAllComponentsSync(s))}clearCache(){}clearCacheFor(s){}getModuleId(s){}static{this.\u0275fac=function(a){return new(a||t)}}static{this.\u0275prov=Rt({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();const FI=new kt(""),UI=new kt("");let kE,sb=(()=>{class t{constructor(s,a,c){this._ngZone=s,this.registry=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,kE||(function ob(t){kE=t}(c),c.addToWindow(a)),this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Rs.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb(this._didWork)}this._didWork=!1});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(a=>!a.updateCb||!a.updateCb(s)||(clearTimeout(a.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,a,c){let d=-1;a&&a>0&&(d=setTimeout(()=>{this._callbacks=this._callbacks.filter(g=>g.timeoutId!==d),s(this._didWork,this.getPendingTasks())},a)),this._callbacks.push({doneCb:s,timeoutId:d,updateCb:c})}whenStable(s,a,c){if(c&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,a,c),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(s){this.registry.registerApplication(s,this)}unregisterApplication(s){this.registry.unregisterApplication(s)}findProviders(s,a,c){return[]}static{this.\u0275fac=function(a){return new(a||t)(Bt(Rs),Bt(VI),Bt(UI))}}static{this.\u0275prov=Rt({token:t,factory:t.\u0275fac})}}return t})(),VI=(()=>{class t{constructor(){this._applications=new Map}registerApplication(s,a){this._applications.set(s,a)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,a=!0){return kE?.findTestabilityInTree(this,s,a)??null}static{this.\u0275fac=function(a){return new(a||t)}}static{this.\u0275prov=Rt({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})(),kd=null;const BI=new kt("AllowMultipleToken"),LE=new kt("PlatformDestroyListeners"),FE=new kt("appBootstrapListener");class cb{constructor(r,s){this.name=r,this.token=s}}function HI(t,r,s=[]){const a=`Platform: ${r}`,c=new kt(a);return(d=[])=>{let g=UE();if(!g||g.injector.get(BI,!1)){const _=[...s,...d,{provide:c,useValue:!0}];t?t(_):function lb(t){if(kd&&!kd.get(BI,!1))throw new Me(400,!1);(function jI(){!function E(t){j=t}(()=>{throw new Me(600,!1)})})(),kd=t;const r=t.get(WI);(function $I(t){t.get(Wp,null)?.forEach(s=>s())})(t)}(function zI(t=[],r){return Na.create({name:r,providers:[{provide:ch,useValue:"platform"},{provide:LE,useValue:new Set([()=>kd=null])},...t]})}(_,a))}return function hb(t){const r=UE();if(!r)throw new Me(401,!1);return r}()}}function UE(){return kd?.get(WI)??null}let WI=(()=>{class t{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,a){const c=function fb(t="zone.js",r){return"noop"===t?new e_:"zone.js"===t?new Rs(r):t}(a?.ngZone,function GI(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:a?.ngZoneEventCoalescing,runCoalescing:a?.ngZoneRunCoalescing}));return c.run(()=>{const d=function CT(t,r,s){return new vE(t,r,s)}(s.moduleType,this.injector,function YI(t){return[{provide:Rs,useFactory:t},{provide:uh,multi:!0,useFactory:()=>{const r=$t(gb,{optional:!0});return()=>r.initialize()}},{provide:XI,useFactory:pb},{provide:hg,useFactory:fg}]}(()=>c)),g=d.injector.get(qo,null);return c.runOutsideAngular(()=>{const _=c.onError.subscribe({next:A=>{g.handleError(A)}});d.onDestroy(()=>{Dv(this._modules,d),_.unsubscribe()})}),function KI(t,r,s){try{const a=s();return Zg(a)?a.catch(c=>{throw r.runOutsideAngular(()=>t.handleError(c)),c}):a}catch(a){throw r.runOutsideAngular(()=>t.handleError(a)),a}}(g,c,()=>{const _=d.injector.get(PE);return _.runInitializers(),_.donePromise.then(()=>(function nw(t){it(t,"Expected localeId to be defined"),"string"==typeof t&&(tw=t.toLowerCase().replace(/_/g,"-"))}(d.injector.get(wv,op)||op),this._moduleDoBootstrap(d),d))})})}bootstrapModule(s,a=[]){const c=qI({},a);return function ab(t,r,s){const a=new _E(s);return Promise.resolve(a)}(0,0,s).then(d=>this.bootstrapModuleFactory(d,c))}_moduleDoBootstrap(s){const a=s.injector.get(cp);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(c=>a.bootstrap(c));else{if(!s.instance.ngDoBootstrap)throw new Me(-403,!1);s.instance.ngDoBootstrap(a)}this._modules.push(s)}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Me(404,!1);this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a());const s=this._injector.get(LE,null);s&&(s.forEach(a=>a()),s.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static{this.\u0275fac=function(a){return new(a||t)(Bt(Na))}}static{this.\u0275prov=Rt({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();function qI(t,r){return Array.isArray(r)?r.reduce(qI,t):{...t,...r}}let cp=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=$t(XI),this.zoneIsStable=$t(hg),this.componentTypes=[],this.components=[],this.isStable=$t(xI).hasPendingTasks.pipe((0,Re.n)(s=>s?(0,J.of)(!1):this.zoneIsStable),(0,Fe.F)(),(0,te.u)()),this._injector=$t(lu)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(s,a){const c=s instanceof bf;if(!this._injector.get(PE).done)throw!c&&as(s),new Me(405,!1);let g;g=c?s:this._injector.get(_h).resolveComponentFactory(s),this.componentTypes.push(g.componentType);const _=function ub(t){return t.isBoundToModule}(g)?void 0:this._injector.get(Uh),F=g.create(Na.NULL,[],a||g.selector,_),z=F.location.nativeElement,se=F.injector.get(FI,null);return se?.registerApplication(z),F.onDestroy(()=>{this.detachView(F.hostView),Dv(this.components,F),se?.unregisterApplication(z)}),this._loadComponent(F),F}tick(){if(this._runningTick)throw new Me(101,!1);try{this._runningTick=!0;for(let s of this._views)s.detectChanges()}catch(s){this.internalErrorHandler(s)}finally{this._runningTick=!1}}attachView(s){const a=s;this._views.push(a),a.attachToAppRef(this)}detachView(s){const a=s;Dv(this._views,a),a.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s);const a=this._injector.get(FE,[]);a.push(...this._bootstrapListeners),a.forEach(c=>c(s))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(s=>s()),this._views.slice().forEach(s=>s.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(s){return this._destroyListeners.push(s),()=>Dv(this._destroyListeners,s)}destroy(){if(this._destroyed)throw new Me(406,!1);const s=this._injector;s.destroy&&!s.destroyed&&s.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(a){return new(a||t)}}static{this.\u0275prov=Rt({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Dv(t,r){const s=t.indexOf(r);s>-1&&t.splice(s,1)}const XI=new kt("",{providedIn:"root",factory:()=>$t(qo).handleError.bind(void 0)});function pb(){const t=$t(Rs),r=$t(qo);return s=>t.runOutsideAngular(()=>r.handleError(s))}let gb=(()=>{class t{constructor(){this.zone=$t(Rs),this.applicationRef=$t(cp)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(a){return new(a||t)}}static{this.\u0275prov=Rt({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();let yb=(()=>{class t{static{this.__NG_ELEMENT_ID__=vb}}return t})();function vb(t){return function _b(t,r,s){if(Rr(t)&&!s){const a=xe(t.index,r);return new Nh(a,a)}return 47&t.type?new Nh(r[mr],r):null}(Ri(),dt(),16==(16&t))}class nD{constructor(){}supports(r){return qc(r)}create(r){return new Tb(r)}}const Db=(t,r)=>r;class Tb{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||Db}forEachItem(r){let s;for(s=this._itHead;null!==s;s=s._next)r(s)}forEachOperation(r){let s=this._itHead,a=this._removalsHead,c=0,d=null;for(;s||a;){const g=!a||s&&s.currentIndex<iD(a,c,d)?s:a,_=iD(g,c,d),A=g.currentIndex;if(g===a)c--,a=a._nextRemoved;else if(s=s._next,null==g.previousIndex)c++;else{d||(d=[]);const F=_-c,z=A-c;if(F!=z){for(let Ie=0;Ie<F;Ie++){const Oe=Ie<d.length?d[Ie]:d[Ie]=0,ut=Oe+Ie;z<=ut&&ut<F&&(d[Ie]=Oe+1)}d[g.previousIndex]=z-F}}_!==A&&r(g,_,A)}}forEachPreviousItem(r){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachMovedItem(r){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}forEachIdentityChange(r){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)r(s)}diff(r){if(null==r&&(r=[]),!qc(r))throw new Me(900,!1);return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let c,d,g,s=this._itHead,a=!1;if(Array.isArray(r)){this.length=r.length;for(let _=0;_<this.length;_++)d=r[_],g=this._trackByFn(_,d),null!==s&&Object.is(s.trackById,g)?(a&&(s=this._verifyReinsertion(s,d,g,_)),Object.is(s.item,d)||this._addIdentityChange(s,d)):(s=this._mismatch(s,d,g,_),a=!0),s=s._next}else c=0,function $g(t,r){if(Array.isArray(t))for(let s=0;s<t.length;s++)r(t[s]);else{const s=t[Symbol.iterator]();let a;for(;!(a=s.next()).done;)r(a.value)}}(r,_=>{g=this._trackByFn(c,_),null!==s&&Object.is(s.trackById,g)?(a&&(s=this._verifyReinsertion(s,_,g,c)),Object.is(s.item,_)||this._addIdentityChange(s,_)):(s=this._mismatch(s,_,g,c),a=!0),s=s._next,c++}),this.length=c;return this._truncate(s),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,s,a,c){let d;return null===r?d=this._itTail:(d=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._reinsertAfter(r,d,c)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(a,c))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._moveAfter(r,d,c)):r=this._addAfter(new Cb(s,a),d,c),r}_verifyReinsertion(r,s,a,c){let d=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null);return null!==d?r=this._reinsertAfter(d,r._prev,c):r.currentIndex!=c&&(r.currentIndex=c,this._addToMoves(r,c)),r}_truncate(r){for(;null!==r;){const s=r._next;this._addToRemovals(this._unlink(r)),r=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,s,a){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const c=r._prevRemoved,d=r._nextRemoved;return null===c?this._removalsHead=d:c._nextRemoved=d,null===d?this._removalsTail=c:d._prevRemoved=c,this._insertAfter(r,s,a),this._addToMoves(r,a),r}_moveAfter(r,s,a){return this._unlink(r),this._insertAfter(r,s,a),this._addToMoves(r,a),r}_addAfter(r,s,a){return this._insertAfter(r,s,a),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,s,a){const c=null===s?this._itHead:s._next;return r._next=c,r._prev=s,null===c?this._itTail=r:c._prev=r,null===s?this._itHead=r:s._next=r,null===this._linkedRecords&&(this._linkedRecords=new rD),this._linkedRecords.put(r),r.currentIndex=a,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const s=r._prev,a=r._next;return null===s?this._itHead=a:s._next=a,null===a?this._itTail=s:a._prev=s,r}_addToMoves(r,s){return r.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new rD),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,s){return r.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class Cb{constructor(r,s){this.item=r,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class bb{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,s){let a;for(a=this._head;null!==a;a=a._nextDup)if((null===s||s<=a.currentIndex)&&Object.is(a.trackById,r))return a;return null}remove(r){const s=r._prevDup,a=r._nextDup;return null===s?this._head=a:s._nextDup=a,null===a?this._tail=s:a._prevDup=s,null===this._head}}class rD{constructor(){this.map=new Map}put(r){const s=r.trackById;let a=this.map.get(s);a||(a=new bb,this.map.set(s,a)),a.add(r)}get(r,s){const c=this.map.get(r);return c?c.get(r,s):null}remove(r){const s=r.trackById;return this.map.get(s).remove(r)&&this.map.delete(s),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function iD(t,r,s){const a=t.previousIndex;if(null===a)return a;let c=0;return s&&a<s.length&&(c=s[a]),a+r+c}class sD{constructor(){}supports(r){return r instanceof Map||Hg(r)}create(){return new Sb}}class Sb{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let s;for(s=this._mapHead;null!==s;s=s._next)r(s)}forEachPreviousItem(r){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)r(s)}forEachChangedItem(r){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}diff(r){if(r){if(!(r instanceof Map||Hg(r)))throw new Me(900,!1)}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(r,(a,c)=>{if(s&&s.key===c)this._maybeAddToChanges(s,a),this._appendAfter=s,s=s._next;else{const d=this._getOrCreateRecordForKey(c,a);s=this._insertBeforeOrAppend(s,d)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let a=s;null!==a;a=a._nextRemoved)a===this._mapHead&&(this._mapHead=null),this._records.delete(a.key),a._nextRemoved=a._next,a.previousValue=a.currentValue,a.currentValue=null,a._prev=null,a._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,s){if(r){const a=r._prev;return s._next=r,s._prev=a,r._prev=s,a&&(a._next=s),r===this._mapHead&&(this._mapHead=s),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(r,s){if(this._records.has(r)){const c=this._records.get(r);this._maybeAddToChanges(c,s);const d=c._prev,g=c._next;return d&&(d._next=g),g&&(g._prev=d),c._next=null,c._prev=null,c}const a=new Ab(r);return this._records.set(r,a),a.currentValue=s,this._addToAdditions(a),a}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,s){Object.is(s,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=s,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,s){r instanceof Map?r.forEach(s):Object.keys(r).forEach(a=>s(r[a],a))}}class Ab{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function oD(){return new HE([new nD])}let HE=(()=>{class t{static{this.\u0275prov=Rt({token:t,providedIn:"root",factory:oD})}constructor(s){this.factories=s}static create(s,a){if(null!=a){const c=a.factories.slice();s=s.concat(c)}return new t(s)}static extend(s){return{provide:t,useFactory:a=>t.create(s,a||oD()),deps:[[t,new Sc,new ja]]}}find(s){const a=this.factories.find(c=>c.supports(s));if(null!=a)return a;throw new Me(901,!1)}}return t})();function aD(){return new zE([new sD])}let zE=(()=>{class t{static{this.\u0275prov=Rt({token:t,providedIn:"root",factory:aD})}constructor(s){this.factories=s}static create(s,a){if(a){const c=a.factories.slice();s=s.concat(c)}return new t(s)}static extend(s){return{provide:t,useFactory:a=>t.create(s,a||aD()),deps:[[t,new Sc,new ja]]}}find(s){const a=this.factories.find(c=>c.supports(s));if(a)return a;throw new Me(901,!1)}}return t})();const Nb=HI(null,"core",[]);let Pb=(()=>{class t{constructor(s){}static{this.\u0275fac=function(a){return new(a||t)(Bt(cp))}}static{this.\u0275mod=Zs({type:t})}static{this.\u0275inj=wn({})}}return t})();function Hb(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function Wb(t){const r=In(t);if(!r)return null;const s=new Cd(r);return{get selector(){return s.selector},get type(){return s.componentType},get inputs(){return s.inputs},get outputs(){return s.outputs},get ngContentSelectors(){return s.ngContentSelectors},get isStandalone(){return r.standalone},get isSignal(){return r.signals}}}},345:(Lt,$e,B)=>{B.d($e,{B7:()=>pt,Bb:()=>Jt,hE:()=>Ti,sG:()=>Rt,up:()=>oi});var b=B(7705),oe=B(177);class pe extends oe.VF{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class ie extends pe{static makeCurrent(){(0,oe.ZD)(new ie)}onAndCancel(Q,q,G){return Q.addEventListener(q,G),()=>{Q.removeEventListener(q,G)}}dispatchEvent(Q,q){Q.dispatchEvent(q)}remove(Q){Q.parentNode&&Q.parentNode.removeChild(Q)}createElement(Q,q){return(q=q||this.getDefaultDocument()).createElement(Q)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(Q){return Q.nodeType===Node.ELEMENT_NODE}isShadowRoot(Q){return Q instanceof DocumentFragment}getGlobalEventTarget(Q,q){return"window"===q?window:"document"===q?Q:"body"===q?Q.body:null}getBaseHref(Q){const q=function J(){return fe=fe||document.querySelector("base"),fe?fe.getAttribute("href"):null}();return null==q?null:function Re(W){te=te||document.createElement("a"),te.setAttribute("href",W);const Q=te.pathname;return"/"===Q.charAt(0)?Q:`/${Q}`}(q)}resetBaseElement(){fe=null}getUserAgent(){return window.navigator.userAgent}getCookie(Q){return(0,oe._b)(document.cookie,Q)}}let te,fe=null,re=(()=>{class W{build(){return new XMLHttpRequest}static{this.\u0275fac=function(G){return new(G||W)}}static{this.\u0275prov=b.jDH({token:W,factory:W.\u0275fac})}}return W})();const ae=new b.nKC("EventManagerPlugins");let Ae=(()=>{class W{constructor(q,G){this._zone=G,this._eventNameToPlugin=new Map,q.forEach(De=>{De.manager=this}),this._plugins=q.slice().reverse()}addEventListener(q,G,De){return this._findPluginFor(G).addEventListener(q,G,De)}getZone(){return this._zone}_findPluginFor(q){let G=this._eventNameToPlugin.get(q);if(G)return G;if(G=this._plugins.find(tt=>tt.supports(q)),!G)throw new b.wOt(5101,!1);return this._eventNameToPlugin.set(q,G),G}static{this.\u0275fac=function(G){return new(G||W)(b.KVO(ae),b.KVO(b.SKi))}}static{this.\u0275prov=b.jDH({token:W,factory:W.\u0275fac})}}return W})();class qe{constructor(Q){this._doc=Q}}const _e="ng-app-id";let vt=(()=>{class W{constructor(q,G,De,tt={}){this.doc=q,this.appId=G,this.nonce=De,this.platformId=tt,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,oe.Vy)(tt),this.resetHostNodes()}addStyles(q){for(const G of q)1===this.changeUsageCount(G,1)&&this.onStyleAdded(G)}removeStyles(q){for(const G of q)this.changeUsageCount(G,-1)<=0&&this.onStyleRemoved(G)}ngOnDestroy(){const q=this.styleNodesInDOM;q&&(q.forEach(G=>G.remove()),q.clear());for(const G of this.getAllStyles())this.onStyleRemoved(G);this.resetHostNodes()}addHost(q){this.hostNodes.add(q);for(const G of this.getAllStyles())this.addStyleToHost(q,G)}removeHost(q){this.hostNodes.delete(q)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(q){for(const G of this.hostNodes)this.addStyleToHost(G,q)}onStyleRemoved(q){const G=this.styleRef;G.get(q)?.elements?.forEach(De=>De.remove()),G.delete(q)}collectServerRenderedStyles(){const q=this.doc.head?.querySelectorAll(`style[${_e}="${this.appId}"]`);if(q?.length){const G=new Map;return q.forEach(De=>{null!=De.textContent&&G.set(De.textContent,De)}),G}return null}changeUsageCount(q,G){const De=this.styleRef;if(De.has(q)){const tt=De.get(q);return tt.usage+=G,tt.usage}return De.set(q,{usage:G,elements:[]}),G}getStyleElement(q,G){const De=this.styleNodesInDOM,tt=De?.get(G);if(tt?.parentNode===q)return De.delete(G),tt.removeAttribute(_e),tt;{const St=this.doc.createElement("style");return this.nonce&&St.setAttribute("nonce",this.nonce),St.textContent=G,this.platformIsServer&&St.setAttribute(_e,this.appId),St}}addStyleToHost(q,G){const De=this.getStyleElement(q,G);q.appendChild(De);const tt=this.styleRef,St=tt.get(G)?.elements;St?St.push(De):tt.set(G,{elements:[De],usage:1})}resetHostNodes(){const q=this.hostNodes;q.clear(),q.add(this.doc.head)}static{this.\u0275fac=function(G){return new(G||W)(b.KVO(oe.qQ),b.KVO(b.sZ2),b.KVO(b.BIS,8),b.KVO(b.Agw))}}static{this.\u0275prov=b.jDH({token:W,factory:W.\u0275fac})}}return W})();const We={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Vt=/%COMP%/g,ct=new b.nKC("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function _t(W,Q){return Q.map(q=>q.replace(Vt,W))}let pt=(()=>{class W{constructor(q,G,De,tt,St,Bt,en,$t=null){this.eventManager=q,this.sharedStylesHost=G,this.appId=De,this.removeStylesOnCompDestroy=tt,this.doc=St,this.platformId=Bt,this.ngZone=en,this.nonce=$t,this.rendererByCompId=new Map,this.platformIsServer=(0,oe.Vy)(Bt),this.defaultRenderer=new Kt(q,St,en,this.platformIsServer)}createRenderer(q,G){if(!q||!G)return this.defaultRenderer;this.platformIsServer&&G.encapsulation===b.gXe.ShadowDom&&(G={...G,encapsulation:b.gXe.Emulated});const De=this.getOrCreateRenderer(q,G);return De instanceof On?De.applyToHost(q):De instanceof pn&&De.applyStyles(),De}getOrCreateRenderer(q,G){const De=this.rendererByCompId;let tt=De.get(G.id);if(!tt){const St=this.doc,Bt=this.ngZone,en=this.eventManager,$t=this.sharedStylesHost,on=this.removeStylesOnCompDestroy,ir=this.platformIsServer;switch(G.encapsulation){case b.gXe.Emulated:tt=new On(en,$t,G,this.appId,on,St,Bt,ir);break;case b.gXe.ShadowDom:return new lt(en,$t,q,G,St,Bt,this.nonce,ir);default:tt=new pn(en,$t,G,on,St,Bt,ir)}De.set(G.id,tt)}return tt}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(G){return new(G||W)(b.KVO(Ae),b.KVO(vt),b.KVO(b.sZ2),b.KVO(ct),b.KVO(oe.qQ),b.KVO(b.Agw),b.KVO(b.SKi),b.KVO(b.BIS))}}static{this.\u0275prov=b.jDH({token:W,factory:W.\u0275fac})}}return W})();class Kt{constructor(Q,q,G,De){this.eventManager=Q,this.doc=q,this.ngZone=G,this.platformIsServer=De,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(Q,q){return q?this.doc.createElementNS(We[q]||q,Q):this.doc.createElement(Q)}createComment(Q){return this.doc.createComment(Q)}createText(Q){return this.doc.createTextNode(Q)}appendChild(Q,q){(Qn(Q)?Q.content:Q).appendChild(q)}insertBefore(Q,q,G){Q&&(Qn(Q)?Q.content:Q).insertBefore(q,G)}removeChild(Q,q){Q&&Q.removeChild(q)}selectRootElement(Q,q){let G="string"==typeof Q?this.doc.querySelector(Q):Q;if(!G)throw new b.wOt(-5104,!1);return q||(G.textContent=""),G}parentNode(Q){return Q.parentNode}nextSibling(Q){return Q.nextSibling}setAttribute(Q,q,G,De){if(De){q=De+":"+q;const tt=We[De];tt?Q.setAttributeNS(tt,q,G):Q.setAttribute(q,G)}else Q.setAttribute(q,G)}removeAttribute(Q,q,G){if(G){const De=We[G];De?Q.removeAttributeNS(De,q):Q.removeAttribute(`${G}:${q}`)}else Q.removeAttribute(q)}addClass(Q,q){Q.classList.add(q)}removeClass(Q,q){Q.classList.remove(q)}setStyle(Q,q,G,De){De&(b.czy.DashCase|b.czy.Important)?Q.style.setProperty(q,G,De&b.czy.Important?"important":""):Q.style[q]=G}removeStyle(Q,q,G){G&b.czy.DashCase?Q.style.removeProperty(q):Q.style[q]=""}setProperty(Q,q,G){Q[q]=G}setValue(Q,q){Q.nodeValue=q}listen(Q,q,G){if("string"==typeof Q&&!(Q=(0,oe.QT)().getGlobalEventTarget(this.doc,Q)))throw new Error(`Unsupported event target ${Q} for event ${q}`);return this.eventManager.addEventListener(Q,q,this.decoratePreventDefault(G))}decoratePreventDefault(Q){return q=>{if("__ngUnwrap__"===q)return Q;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>Q(q)):Q(q))&&q.preventDefault()}}}function Qn(W){return"TEMPLATE"===W.tagName&&void 0!==W.content}class lt extends Kt{constructor(Q,q,G,De,tt,St,Bt,en){super(Q,tt,St,en),this.sharedStylesHost=q,this.hostEl=G,this.shadowRoot=G.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const $t=_t(De.id,De.styles);for(const on of $t){const ir=document.createElement("style");Bt&&ir.setAttribute("nonce",Bt),ir.textContent=on,this.shadowRoot.appendChild(ir)}}nodeOrShadowRoot(Q){return Q===this.hostEl?this.shadowRoot:Q}appendChild(Q,q){return super.appendChild(this.nodeOrShadowRoot(Q),q)}insertBefore(Q,q,G){return super.insertBefore(this.nodeOrShadowRoot(Q),q,G)}removeChild(Q,q){return super.removeChild(this.nodeOrShadowRoot(Q),q)}parentNode(Q){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(Q)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class pn extends Kt{constructor(Q,q,G,De,tt,St,Bt,en){super(Q,tt,St,Bt),this.sharedStylesHost=q,this.removeStylesOnCompDestroy=De,this.styles=en?_t(en,G.styles):G.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class On extends pn{constructor(Q,q,G,De,tt,St,Bt,en){const $t=De+"-"+G.id;super(Q,q,G,tt,St,Bt,en,$t),this.contentAttr=function Ne(W){return"_ngcontent-%COMP%".replace(Vt,W)}($t),this.hostAttr=function et(W){return"_nghost-%COMP%".replace(Vt,W)}($t)}applyToHost(Q){this.applyStyles(),this.setAttribute(Q,this.hostAttr,"")}createElement(Q,q){const G=super.createElement(Q,q);return super.setAttribute(G,this.contentAttr,""),G}}let Qr=(()=>{class W extends qe{constructor(q){super(q)}supports(q){return!0}addEventListener(q,G,De){return q.addEventListener(G,De,!1),()=>this.removeEventListener(q,G,De)}removeEventListener(q,G,De){return q.removeEventListener(G,De)}static{this.\u0275fac=function(G){return new(G||W)(b.KVO(oe.qQ))}}static{this.\u0275prov=b.jDH({token:W,factory:W.\u0275fac})}}return W})();const Xr=["alt","control","meta","shift"],Tr={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},fi={alt:W=>W.altKey,control:W=>W.ctrlKey,meta:W=>W.metaKey,shift:W=>W.shiftKey};let ke=(()=>{class W extends qe{constructor(q){super(q)}supports(q){return null!=W.parseEventName(q)}addEventListener(q,G,De){const tt=W.parseEventName(G),St=W.eventCallback(tt.fullKey,De,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,oe.QT)().onAndCancel(q,tt.domEventName,St))}static parseEventName(q){const G=q.toLowerCase().split("."),De=G.shift();if(0===G.length||"keydown"!==De&&"keyup"!==De)return null;const tt=W._normalizeKey(G.pop());let St="",Bt=G.indexOf("code");if(Bt>-1&&(G.splice(Bt,1),St="code."),Xr.forEach($t=>{const on=G.indexOf($t);on>-1&&(G.splice(on,1),St+=$t+".")}),St+=tt,0!=G.length||0===tt.length)return null;const en={};return en.domEventName=De,en.fullKey=St,en}static matchEventFullKeyCode(q,G){let De=Tr[q.key]||q.key,tt="";return G.indexOf("code.")>-1&&(De=q.code,tt="code."),!(null==De||!De)&&(De=De.toLowerCase()," "===De?De="space":"."===De&&(De="dot"),Xr.forEach(St=>{St!==De&&(0,fi[St])(q)&&(tt+=St+".")}),tt+=De,tt===G)}static eventCallback(q,G,De){return tt=>{W.matchEventFullKeyCode(tt,q)&&De.runGuarded(()=>G(tt))}}static _normalizeKey(q){return"esc"===q?"escape":q}static{this.\u0275fac=function(G){return new(G||W)(b.KVO(oe.qQ))}}static{this.\u0275prov=b.jDH({token:W,factory:W.\u0275fac})}}return W})();const Rt=(0,b.oH4)(b.fpN,"browser",[{provide:b.Agw,useValue:oe.AJ},{provide:b.PLl,useValue:function Ke(){ie.makeCurrent()},multi:!0},{provide:oe.qQ,useFactory:function mt(){return(0,b.TL$)(document),document},deps:[]}]),mn=new b.nKC(""),wn=[{provide:b.e01,useClass:class Fe{addToWindow(Q){b.JZv.getAngularTestability=(G,De=!0)=>{const tt=Q.findTestabilityInTree(G,De);if(null==tt)throw new b.wOt(5103,!1);return tt},b.JZv.getAllAngularTestabilities=()=>Q.getAllTestabilities(),b.JZv.getAllAngularRootElements=()=>Q.getAllRootElements(),b.JZv.frameworkStabilizers||(b.JZv.frameworkStabilizers=[]),b.JZv.frameworkStabilizers.push(G=>{const De=b.JZv.getAllAngularTestabilities();let tt=De.length,St=!1;const Bt=function(en){St=St||en,tt--,0==tt&&G(St)};De.forEach(en=>{en.whenStable(Bt)})})}findTestabilityInTree(Q,q,G){return null==q?null:Q.getTestability(q)??(G?(0,oe.QT)().isShadowRoot(q)?this.findTestabilityInTree(Q,q.host,!0):this.findTestabilityInTree(Q,q.parentElement,!0):null)}},deps:[]},{provide:b.WHO,useClass:b.NYb,deps:[b.SKi,b.giA,b.e01]},{provide:b.NYb,useClass:b.NYb,deps:[b.SKi,b.giA,b.e01]}],cr=[{provide:b.H8p,useValue:"root"},{provide:b.zcH,useFactory:function Tt(){return new b.zcH},deps:[]},{provide:ae,useClass:Qr,multi:!0,deps:[oe.qQ,b.SKi,b.Agw]},{provide:ae,useClass:ke,multi:!0,deps:[oe.qQ]},pt,vt,Ae,{provide:b._9s,useExisting:pt},{provide:oe.N0,useClass:re,deps:[]},[]];let Jt=(()=>{class W{constructor(q){}static withServerTransition(q){return{ngModule:W,providers:[{provide:b.sZ2,useValue:q.appId}]}}static{this.\u0275fac=function(G){return new(G||W)(b.KVO(mn,12))}}static{this.\u0275mod=b.$C({type:W})}static{this.\u0275inj=b.G2t({providers:[...cr,...wn],imports:[oe.MD,b.Hbi]})}}return W})(),Ti=(()=>{class W{constructor(q){this._doc=q}getTitle(){return this._doc.title}setTitle(q){this._doc.title=q||""}static{this.\u0275fac=function(G){return new(G||W)(b.KVO(oe.qQ))}}static{this.\u0275prov=b.jDH({token:W,factory:function(G){let De=null;return De=G?new G:function nr(){return new Ti((0,b.KVO)(oe.qQ))}(),De},providedIn:"root"})}}return W})();typeof window<"u"&&window;let oi=(()=>{class W{static{this.\u0275fac=function(G){return new(G||W)}}static{this.\u0275prov=b.jDH({token:W,factory:function(G){let De=null;return De=G?new(G||W):b.KVO(br),De},providedIn:"root"})}}return W})(),br=(()=>{class W extends oi{constructor(q){super(),this._doc=q}sanitize(q,G){if(null==G)return null;switch(q){case b.WPN.NONE:return G;case b.WPN.HTML:return(0,b.ZF7)(G,"HTML")?(0,b.rcV)(G):(0,b.h9k)(this._doc,String(G)).toString();case b.WPN.STYLE:return(0,b.ZF7)(G,"Style")?(0,b.rcV)(G):G;case b.WPN.SCRIPT:if((0,b.ZF7)(G,"Script"))return(0,b.rcV)(G);throw new b.wOt(5200,!1);case b.WPN.URL:return(0,b.ZF7)(G,"URL")?(0,b.rcV)(G):(0,b.$MX)(String(G));case b.WPN.RESOURCE_URL:if((0,b.ZF7)(G,"ResourceURL"))return(0,b.rcV)(G);throw new b.wOt(5201,!1);default:throw new b.wOt(5202,!1)}}bypassSecurityTrustHtml(q){return(0,b.Kcf)(q)}bypassSecurityTrustStyle(q){return(0,b.cWb)(q)}bypassSecurityTrustScript(q){return(0,b.UyX)(q)}bypassSecurityTrustUrl(q){return(0,b.osQ)(q)}bypassSecurityTrustResourceUrl(q){return(0,b.e5t)(q)}static{this.\u0275fac=function(G){return new(G||W)(b.KVO(oe.qQ))}}static{this.\u0275prov=b.jDH({token:W,factory:function(G){let De=null;return De=G?new G:function Fn(W){return new br(W.get(oe.qQ))}(b.KVO(b.zZn)),De},providedIn:"root"})}}return W})()},4147:(Lt,$e,B)=>{B.d($e,{Ix:()=>sn,Wk:()=>Je,iI:()=>Ri,n3:()=>Pi});var b=B(7705),oe=B(1985),pe=B(8071),fe=B(8455),J=B(7673),te=B(4412),Re=B(4572),Fe=B(9350),re=B(8793),ae=B(8750);function Ae(w){return new oe.c(M=>{(0,ae.Tg)(w()).subscribe(M)})}var qe=B(1203),_e=B(8810),vt=B(983),We=B(8359),Vt=B(9974),Ot=B(4360);function Tn(){return(0,Vt.N)((w,M)=>{let v=null;w._refCount++;const R=(0,Ot._)(M,void 0,void 0,void 0,()=>{if(!w||w._refCount<=0||0<--w._refCount)return void(v=null);const L=w._connection,K=v;v=null,L&&(!K||L===K)&&L.unsubscribe(),M.unsubscribe()});w.subscribe(R),R.closed||(v=w.connect())})}class Cn extends oe.c{constructor(M,v){super(),this.source=M,this.subjectFactory=v,this._subject=null,this._refCount=0,this._connection=null,(0,Vt.S)(M)&&(this.lift=M.lift)}_subscribe(M){return this.getSubject().subscribe(M)}getSubject(){const M=this._subject;return(!M||M.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:M}=this;this._subject=this._connection=null,M?.unsubscribe()}connect(){let M=this._connection;if(!M){M=this._connection=new We.yU;const v=this.getSubject();M.add(this.source.subscribe((0,Ot._)(v,void 0,()=>{this._teardown(),v.complete()},R=>{this._teardown(),v.error(R)},()=>this._teardown()))),M.closed&&(this._connection=null,M=We.yU.EMPTY)}return M}refCount(){return Tn()(this)}}var Me=B(1413),ct=B(177),Ne=B(6354),et=B(5558),_t=B(6697),pt=B(9172),Kt=B(5964),tn=B(1397),vn=B(1594),Qn=B(274),lt=B(8141),pn=B(9437);var Xr=B(9901);function Tr(w){return w<=0?()=>vt.w:(0,Vt.N)((M,v)=>{let R=[];M.subscribe((0,Ot._)(v,L=>{R.push(L),w<R.length&&R.shift()},()=>{for(const L of R)v.next(L);v.complete()},void 0,()=>{R=null}))})}var fi=B(3774),ke=B(3669),Ye=B(980),it=B(6977),Ke=B(6365),Tt=B(345);const mt="primary",Mn=Symbol("RouteTitle");class Rt{constructor(M){this.params=M||{}}has(M){return Object.prototype.hasOwnProperty.call(this.params,M)}get(M){if(this.has(M)){const v=this.params[M];return Array.isArray(v)?v[0]:v}return null}getAll(M){if(this.has(M)){const v=this.params[M];return Array.isArray(v)?v:[v]}return[]}get keys(){return Object.keys(this.params)}}function mn(w){return new Rt(w)}function wn(w,M,v){const R=v.path.split("/");if(R.length>w.length||"full"===v.pathMatch&&(M.hasChildren()||R.length<w.length))return null;const L={};for(let K=0;K<R.length;K++){const ue=R[K],Ge=w[K];if(ue.startsWith(":"))L[ue.substring(1)]=Ge;else if(ue!==Ge.path)return null}return{consumed:w.slice(0,R.length),posParams:L}}function Jt(w,M){const v=w?Object.keys(w):void 0,R=M?Object.keys(M):void 0;if(!v||!R||v.length!=R.length)return!1;let L;for(let K=0;K<v.length;K++)if(L=v[K],!pr(w[L],M[L]))return!1;return!0}function pr(w,M){if(Array.isArray(w)&&Array.isArray(M)){if(w.length!==M.length)return!1;const v=[...w].sort(),R=[...M].sort();return v.every((L,K)=>R[K]===L)}return w===M}function Xn(w){return w.length>0?w[w.length-1]:null}function gr(w){return function ie(w){return!!w&&(w instanceof oe.c||(0,pe.T)(w.lift)&&(0,pe.T)(w.subscribe))}(w)?w:(0,b.jNT)(w)?(0,fe.H)(Promise.resolve(w)):(0,J.of)(w)}const nr={exact:function qt(w,M,v){if(!kt(w.segments,M.segments)||!_r(w.segments,M.segments,v)||w.numberOfChildren!==M.numberOfChildren)return!1;for(const R in M.children)if(!w.children[R]||!qt(w.children[R],M.children[R],v))return!1;return!0},subset:dn},Ti={exact:function Hr(w,M){return Jt(w,M)},subset:function gn(w,M){return Object.keys(M).length<=Object.keys(w).length&&Object.keys(M).every(v=>pr(w[v],M[v]))},ignored:()=>!0};function ii(w,M,v){return nr[v.paths](w.root,M.root,v.matrixParams)&&Ti[v.queryParams](w.queryParams,M.queryParams)&&!("exact"===v.fragment&&w.fragment!==M.fragment)}function dn(w,M,v){return Vn(w,M,M.segments,v)}function Vn(w,M,v,R){if(w.segments.length>v.length){const L=w.segments.slice(0,v.length);return!(!kt(L,v)||M.hasChildren()||!_r(L,v,R))}if(w.segments.length===v.length){if(!kt(w.segments,v)||!_r(w.segments,v,R))return!1;for(const L in M.children)if(!w.children[L]||!dn(w.children[L],M.children[L],R))return!1;return!0}{const L=v.slice(0,w.segments.length),K=v.slice(w.segments.length);return!!(kt(w.segments,L)&&_r(w.segments,L,R)&&w.children[mt])&&Vn(w.children[mt],M,K,R)}}function _r(w,M,v){return M.every((R,L)=>Ti[v](w[L].parameters,R.parameters))}class Er{constructor(M=new Ut([],{}),v={},R=null){this.root=M,this.queryParams=v,this.fragment=R}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=mn(this.queryParams)),this._queryParamMap}toString(){return Jr.serialize(this)}}class Ut{constructor(M,v){this.segments=M,this.children=v,this.parent=null,Object.values(v).forEach(R=>R.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return oi(this)}}class rr{constructor(M,v){this.path=M,this.parameters=v}get parameterMap(){return this._parameterMap||(this._parameterMap=mn(this.parameters)),this._parameterMap}toString(){return Nn(this)}}function kt(w,M){return w.length===M.length&&w.every((v,R)=>v.path===M[R].path)}let an=(()=>{class w{static{this.\u0275fac=function(R){return new(R||w)}}static{this.\u0275prov=b.jDH({token:w,factory:function(){return new Yr},providedIn:"root"})}}return w})();class Yr{parse(M){const v=new en(M);return new Er(v.parseRootSegment(),v.parseQueryParams(),v.parseFragment())}serialize(M){const v=`/${Fn(M.root,!0)}`,R=function me(w){const M=Object.keys(w).map(v=>{const R=w[v];return Array.isArray(R)?R.map(L=>`${Zr(v)}=${Zr(L)}`).join("&"):`${Zr(v)}=${Zr(R)}`}).filter(v=>!!v);return M.length?`?${M.join("&")}`:""}(M.queryParams);return`${v}${R}${"string"==typeof M.fragment?`#${function ai(w){return encodeURI(w)}(M.fragment)}`:""}`}}const Jr=new Yr;function oi(w){return w.segments.map(M=>Nn(M)).join("/")}function Fn(w,M){if(!w.hasChildren())return oi(w);if(M){const v=w.children[mt]?Fn(w.children[mt],!1):"",R=[];return Object.entries(w.children).forEach(([L,K])=>{L!==mt&&R.push(`${L}:${Fn(K,!1)}`)}),R.length>0?`${v}(${R.join("//")})`:v}{const v=function Cr(w,M){let v=[];return Object.entries(w.children).forEach(([R,L])=>{R===mt&&(v=v.concat(M(L,R)))}),Object.entries(w.children).forEach(([R,L])=>{R!==mt&&(v=v.concat(M(L,R)))}),v}(w,(R,L)=>L===mt?[Fn(w.children[mt],!1)]:[`${L}:${Fn(R,!1)}`]);return 1===Object.keys(w.children).length&&null!=w.children[mt]?`${oi(w)}/${v[0]}`:`${oi(w)}/(${v.join("//")})`}}function br(w){return encodeURIComponent(w).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Zr(w){return br(w).replace(/%3B/gi,";")}function ui(w){return br(w).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ir(w){return decodeURIComponent(w)}function Bn(w){return Ir(w.replace(/\+/g,"%20"))}function Nn(w){return`${ui(w.path)}${function Sr(w){return Object.keys(w).map(M=>`;${ui(M)}=${ui(w[M])}`).join("")}(w.parameters)}`}const W=/^[^\/()?;#]+/;function Q(w){const M=w.match(W);return M?M[0]:""}const q=/^[^\/()?;=#]+/,De=/^[^=?&#]+/,St=/^[^&#]+/;class en{constructor(M){this.url=M,this.remaining=M}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ut([],{}):new Ut([],this.parseChildren())}parseQueryParams(){const M={};if(this.consumeOptional("?"))do{this.parseQueryParam(M)}while(this.consumeOptional("&"));return M}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const M=[];for(this.peekStartsWith("(")||M.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),M.push(this.parseSegment());let v={};this.peekStartsWith("/(")&&(this.capture("/"),v=this.parseParens(!0));let R={};return this.peekStartsWith("(")&&(R=this.parseParens(!1)),(M.length>0||Object.keys(v).length>0)&&(R[mt]=new Ut(M,v)),R}parseSegment(){const M=Q(this.remaining);if(""===M&&this.peekStartsWith(";"))throw new b.wOt(4009,!1);return this.capture(M),new rr(Ir(M),this.parseMatrixParams())}parseMatrixParams(){const M={};for(;this.consumeOptional(";");)this.parseParam(M);return M}parseParam(M){const v=function G(w){const M=w.match(q);return M?M[0]:""}(this.remaining);if(!v)return;this.capture(v);let R="";if(this.consumeOptional("=")){const L=Q(this.remaining);L&&(R=L,this.capture(R))}M[Ir(v)]=Ir(R)}parseQueryParam(M){const v=function tt(w){const M=w.match(De);return M?M[0]:""}(this.remaining);if(!v)return;this.capture(v);let R="";if(this.consumeOptional("=")){const ue=function Bt(w){const M=w.match(St);return M?M[0]:""}(this.remaining);ue&&(R=ue,this.capture(R))}const L=Bn(v),K=Bn(R);if(M.hasOwnProperty(L)){let ue=M[L];Array.isArray(ue)||(ue=[ue],M[L]=ue),ue.push(K)}else M[L]=K}parseParens(M){const v={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const R=Q(this.remaining),L=this.remaining[R.length];if("/"!==L&&")"!==L&&";"!==L)throw new b.wOt(4010,!1);let K;R.indexOf(":")>-1?(K=R.slice(0,R.indexOf(":")),this.capture(K),this.capture(":")):M&&(K=mt);const ue=this.parseChildren();v[K]=1===Object.keys(ue).length?ue[mt]:new Ut([],ue),this.consumeOptional("//")}return v}peekStartsWith(M){return this.remaining.startsWith(M)}consumeOptional(M){return!!this.peekStartsWith(M)&&(this.remaining=this.remaining.substring(M.length),!0)}capture(M){if(!this.consumeOptional(M))throw new b.wOt(4011,!1)}}function $t(w){return w.segments.length>0?new Ut([],{[mt]:w}):w}function on(w){const M={};for(const R of Object.keys(w.children)){const K=on(w.children[R]);if(R===mt&&0===K.segments.length&&K.hasChildren())for(const[ue,Ge]of Object.entries(K.children))M[ue]=Ge;else(K.segments.length>0||K.hasChildren())&&(M[R]=K)}return function ir(w){if(1===w.numberOfChildren&&w.children[mt]){const M=w.children[mt];return new Ut(w.segments.concat(M.segments),M.children)}return w}(new Ut(w.segments,M))}function Ce(w){return w instanceof Er}function ye(w){let M;const L=$t(function v(K){const ue={};for(const ze of K.children){const Ct=v(ze);ue[ze.outlet]=Ct}const Ge=new Ut(K.url,ue);return K===w&&(M=Ge),Ge}(w.root));return M??L}function le(w,M,v,R){let L=w;for(;L.parent;)L=L.parent;if(0===M.length)return Qe(L,L,L,v,R);const K=function nn(w){if("string"==typeof w[0]&&1===w.length&&"/"===w[0])return new at(!0,0,w);let M=0,v=!1;const R=w.reduce((L,K,ue)=>{if("object"==typeof K&&null!=K){if(K.outlets){const Ge={};return Object.entries(K.outlets).forEach(([ze,Ct])=>{Ge[ze]="string"==typeof Ct?Ct.split("/"):Ct}),[...L,{outlets:Ge}]}if(K.segmentPath)return[...L,K.segmentPath]}return"string"!=typeof K?[...L,K]:0===ue?(K.split("/").forEach((Ge,ze)=>{0==ze&&"."===Ge||(0==ze&&""===Ge?v=!0:".."===Ge?M++:""!=Ge&&L.push(Ge))}),L):[...L,K]},[]);return new at(v,M,R)}(M);if(K.toRoot())return Qe(L,L,new Ut([],{}),v,R);const ue=function _n(w,M,v){if(w.isAbsolute)return new Pn(M,!0,0);if(!v)return new Pn(M,!1,NaN);if(null===v.parent)return new Pn(v,!0,0);const R=ce(w.commands[0])?0:1;return function jn(w,M,v){let R=w,L=M,K=v;for(;K>L;){if(K-=L,R=R.parent,!R)throw new b.wOt(4005,!1);L=R.segments.length}return new Pn(R,!1,L-K)}(v,v.segments.length-1+R,w.numberOfDoubleDots)}(K,L,w),Ge=ue.processChildren?xn(ue.segmentGroup,ue.index,K.commands):pi(ue.segmentGroup,ue.index,K.commands);return Qe(L,ue.segmentGroup,Ge,v,R)}function ce(w){return"object"==typeof w&&null!=w&&!w.outlets&&!w.segmentPath}function Se(w){return"object"==typeof w&&null!=w&&w.outlets}function Qe(w,M,v,R,L){let ue,K={};R&&Object.entries(R).forEach(([ze,Ct])=>{K[ze]=Array.isArray(Ct)?Ct.map(En=>`${En}`):`${Ct}`}),ue=w===M?v:At(w,M,v);const Ge=$t(on(ue));return new Er(Ge,K,L)}function At(w,M,v){const R={};return Object.entries(w.children).forEach(([L,K])=>{R[L]=K===M?v:At(K,M,v)}),new Ut(w.segments,R)}class at{constructor(M,v,R){if(this.isAbsolute=M,this.numberOfDoubleDots=v,this.commands=R,M&&R.length>0&&ce(R[0]))throw new b.wOt(4003,!1);const L=R.find(Se);if(L&&L!==Xn(R))throw new b.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Pn{constructor(M,v,R){this.segmentGroup=M,this.processChildren=v,this.index=R}}function pi(w,M,v){if(w||(w=new Ut([],{})),0===w.segments.length&&w.hasChildren())return xn(w,M,v);const R=function Yn(w,M,v){let R=0,L=M;const K={match:!1,pathIndex:0,commandIndex:0};for(;L<w.segments.length;){if(R>=v.length)return K;const ue=w.segments[L],Ge=v[R];if(Se(Ge))break;const ze=`${Ge}`,Ct=R<v.length-1?v[R+1]:null;if(L>0&&void 0===ze)break;if(ze&&Ct&&"object"==typeof Ct&&void 0===Ct.outlets){if(!gi(ze,Ct,ue))return K;R+=2}else{if(!gi(ze,{},ue))return K;R++}L++}return{match:!0,pathIndex:L,commandIndex:R}}(w,M,v),L=v.slice(R.commandIndex);if(R.match&&R.pathIndex<w.segments.length){const K=new Ut(w.segments.slice(0,R.pathIndex),{});return K.children[mt]=new Ut(w.segments.slice(R.pathIndex),w.children),xn(K,0,L)}return R.match&&0===L.length?new Ut(w.segments,{}):R.match&&!w.hasChildren()?Wr(w,M,v):R.match?xn(w,0,L):Wr(w,M,v)}function xn(w,M,v){if(0===v.length)return new Ut(w.segments,{});{const R=function zr(w){return Se(w[0])?w[0].outlets:{[mt]:w}}(v),L={};if(Object.keys(R).some(K=>K!==mt)&&w.children[mt]&&1===w.numberOfChildren&&0===w.children[mt].segments.length){const K=xn(w.children[mt],M,v);return new Ut(w.segments,K.children)}return Object.entries(R).forEach(([K,ue])=>{"string"==typeof ue&&(ue=[ue]),null!==ue&&(L[K]=pi(w.children[K],M,ue))}),Object.entries(w.children).forEach(([K,ue])=>{void 0===R[K]&&(L[K]=ue)}),new Ut(w.segments,L)}}function Wr(w,M,v){const R=w.segments.slice(0,M);let L=0;for(;L<v.length;){const K=v[L];if(Se(K)){const ze=Yi(K.outlets);return new Ut(R,ze)}if(0===L&&ce(v[0])){R.push(new rr(w.segments[M].path,Fr(v[0]))),L++;continue}const ue=Se(K)?K.outlets[mt]:`${K}`,Ge=L<v.length-1?v[L+1]:null;ue&&Ge&&ce(Ge)?(R.push(new rr(ue,Fr(Ge))),L+=2):(R.push(new rr(ue,{})),L++)}return new Ut(R,{})}function Yi(w){const M={};return Object.entries(w).forEach(([v,R])=>{"string"==typeof R&&(R=[R]),null!==R&&(M[v]=Wr(new Ut([],{}),0,R))}),M}function Fr(w){const M={};return Object.entries(w).forEach(([v,R])=>M[v]=`${R}`),M}function gi(w,M,v){return w==v.path&&Jt(M,v.parameters)}const Ar="imperative";class ei{constructor(M,v){this.id=M,this.url=v}}class Ki extends ei{constructor(M,v,R="imperative",L=null){super(M,v),this.type=0,this.navigationTrigger=R,this.restoredState=L}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Mr extends ei{constructor(M,v,R){super(M,v),this.urlAfterRedirects=R,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Hs extends ei{constructor(M,v,R,L){super(M,v),this.reason=R,this.code=L,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class we extends ei{constructor(M,v,R,L){super(M,v),this.reason=R,this.code=L,this.type=16}}class ve extends ei{constructor(M,v,R,L){super(M,v),this.error=R,this.target=L,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Ve extends ei{constructor(M,v,R,L){super(M,v),this.urlAfterRedirects=R,this.state=L,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class rt extends ei{constructor(M,v,R,L){super(M,v),this.urlAfterRedirects=R,this.state=L,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Et extends ei{constructor(M,v,R,L,K){super(M,v),this.urlAfterRedirects=R,this.state=L,this.shouldActivate=K,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class un extends ei{constructor(M,v,R,L){super(M,v),this.urlAfterRedirects=R,this.state=L,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Un extends ei{constructor(M,v,R,L){super(M,v),this.urlAfterRedirects=R,this.state=L,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class $n{constructor(M){this.route=M,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class zn{constructor(M){this.route=M,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ws{constructor(M){this.snapshot=M,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class mi{constructor(M){this.snapshot=M,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class yi{constructor(M){this.snapshot=M,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ci{constructor(M){this.snapshot=M,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Js{constructor(M,v,R){this.routerEvent=M,this.position=v,this.anchor=R,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Xo{}class zs{constructor(M){this.url=M}}class fa{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new $i,this.attachRef=null}}let $i=(()=>{class w{constructor(){this.contexts=new Map}onChildOutletCreated(v,R){const L=this.getOrCreateContext(v);L.outlet=R,this.contexts.set(v,L)}onChildOutletDestroyed(v){const R=this.getContext(v);R&&(R.outlet=null,R.attachRef=null)}onOutletDeactivated(){const v=this.contexts;return this.contexts=new Map,v}onOutletReAttached(v){this.contexts=v}getOrCreateContext(v){let R=this.getContext(v);return R||(R=new fa,this.contexts.set(v,R)),R}getContext(v){return this.contexts.get(v)||null}static{this.\u0275fac=function(R){return new(R||w)}}static{this.\u0275prov=b.jDH({token:w,factory:w.\u0275fac,providedIn:"root"})}}return w})();class xo{constructor(M){this._root=M}get root(){return this._root.value}parent(M){const v=this.pathFromRoot(M);return v.length>1?v[v.length-2]:null}children(M){const v=eo(M,this._root);return v?v.children.map(R=>R.value):[]}firstChild(M){const v=eo(M,this._root);return v&&v.children.length>0?v.children[0].value:null}siblings(M){const v=In(M,this._root);return v.length<2?[]:v[v.length-2].children.map(L=>L.value).filter(L=>L!==M)}pathFromRoot(M){return In(M,this._root).map(v=>v.value)}}function eo(w,M){if(w===M.value)return M;for(const v of M.children){const R=eo(w,v);if(R)return R}return null}function In(w,M){if(w===M.value)return[M];for(const v of M.children){const R=In(w,v);if(R.length)return R.unshift(M),R}return[]}class Jn{constructor(M,v){this.value=M,this.children=v}toString(){return`TreeNode(${this.value})`}}function ur(w){const M={};return w&&w.children.forEach(v=>M[v.value.outlet]=v),M}class as extends xo{constructor(M,v){super(M),this.snapshot=v,Mt(this,M)}toString(){return this.snapshot.toString()}}function Ni(w,M){const v=function Oo(w,M){const ue=new gs([],{},{},"",{},mt,M,null,{});return new lr("",new Jn(ue,[]))}(0,M),R=new te.t([new rr("",{})]),L=new te.t({}),K=new te.t({}),ue=new te.t({}),Ge=new te.t(""),ze=new Os(R,L,ue,Ge,K,mt,M,v.root);return ze.snapshot=v.root,new as(new Jn(ze,[]),v)}class Os{constructor(M,v,R,L,K,ue,Ge,ze){this.urlSubject=M,this.paramsSubject=v,this.queryParamsSubject=R,this.fragmentSubject=L,this.dataSubject=K,this.outlet=ue,this.component=Ge,this._futureSnapshot=ze,this.title=this.dataSubject?.pipe((0,Ne.T)(Ct=>Ct[Mn]))??(0,J.of)(void 0),this.url=M,this.params=v,this.queryParams=R,this.fragment=L,this.data=K}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Ne.T)(M=>mn(M)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Ne.T)(M=>mn(M)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Yo(w,M="emptyOnly"){const v=w.pathFromRoot;let R=0;if("always"!==M)for(R=v.length-1;R>=1;){const L=v[R],K=v[R-1];if(L.routeConfig&&""===L.routeConfig.path)R--;else{if(K.component)break;R--}}return function ps(w){return w.reduce((M,v)=>({params:{...M.params,...v.params},data:{...M.data,...v.data},resolve:{...v.data,...M.resolve,...v.routeConfig?.data,...v._resolvedData}}),{params:{},data:{},resolve:{}})}(v.slice(R))}class gs{get title(){return this.data?.[Mn]}constructor(M,v,R,L,K,ue,Ge,ze,Ct){this.url=M,this.params=v,this.queryParams=R,this.fragment=L,this.data=K,this.outlet=ue,this.component=Ge,this.routeConfig=ze,this._resolve=Ct}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=mn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=mn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(R=>R.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class lr extends xo{constructor(M,v){super(v),this.url=M,Mt(this,v)}toString(){return cn(this._root)}}function Mt(w,M){M.value._routerState=w,M.children.forEach(v=>Mt(w,v))}function cn(w){const M=w.children.length>0?` { ${w.children.map(cn).join(", ")} } `:"";return`${w.value}${M}`}function rn(w){if(w.snapshot){const M=w.snapshot,v=w._futureSnapshot;w.snapshot=v,Jt(M.queryParams,v.queryParams)||w.queryParamsSubject.next(v.queryParams),M.fragment!==v.fragment&&w.fragmentSubject.next(v.fragment),Jt(M.params,v.params)||w.paramsSubject.next(v.params),function cr(w,M){if(w.length!==M.length)return!1;for(let v=0;v<w.length;++v)if(!Jt(w[v],M[v]))return!1;return!0}(M.url,v.url)||w.urlSubject.next(v.url),Jt(M.data,v.data)||w.dataSubject.next(v.data)}else w.snapshot=w._futureSnapshot,w.dataSubject.next(w._futureSnapshot.data)}function li(w,M){const v=Jt(w.params,M.params)&&function si(w,M){return kt(w,M)&&w.every((v,R)=>Jt(v.parameters,M[R].parameters))}(w.url,M.url);return v&&!(!w.parent!=!M.parent)&&(!w.parent||li(w.parent,M.parent))}let Pi=(()=>{class w{constructor(){this.activated=null,this._activatedRoute=null,this.name=mt,this.activateEvents=new b.bkB,this.deactivateEvents=new b.bkB,this.attachEvents=new b.bkB,this.detachEvents=new b.bkB,this.parentContexts=(0,b.WQX)($i),this.location=(0,b.WQX)(b.c1b),this.changeDetector=(0,b.WQX)(b.gRc),this.environmentInjector=(0,b.WQX)(b.uvJ),this.inputBinder=(0,b.WQX)(ms,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(v){if(v.name){const{firstChange:R,previousValue:L}=v.name;if(R)return;this.isTrackedInParentContexts(L)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(L)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(v){return this.parentContexts.getContext(v)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const v=this.parentContexts.getContext(this.name);v?.route&&(v.attachRef?this.attach(v.attachRef,v.route):this.activateWith(v.route,v.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new b.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new b.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new b.wOt(4012,!1);this.location.detach();const v=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(v.instance),v}attach(v,R){this.activated=v,this._activatedRoute=R,this.location.insert(v.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(v.instance)}deactivate(){if(this.activated){const v=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(v)}}activateWith(v,R){if(this.isActivated)throw new b.wOt(4013,!1);this._activatedRoute=v;const L=this.location,ue=v.snapshot.component,Ge=this.parentContexts.getOrCreateContext(this.name).children,ze=new vi(v,Ge,L.injector);this.activated=L.createComponent(ue,{index:L.length,injector:ze,environmentInjector:R??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(R){return new(R||w)}}static{this.\u0275dir=b.FsC({type:w,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[b.OA$]})}}return w})();class vi{constructor(M,v,R){this.route=M,this.childContexts=v,this.parent=R}get(M,v){return M===Os?this.route:M===$i?this.childContexts:this.parent.get(M,v)}}const ms=new b.nKC("");let Ur=(()=>{class w{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(v){this.unsubscribeFromRouteData(v),this.subscribeToRouteData(v)}unsubscribeFromRouteData(v){this.outletDataSubscriptions.get(v)?.unsubscribe(),this.outletDataSubscriptions.delete(v)}subscribeToRouteData(v){const{activatedRoute:R}=v,L=(0,Re.z)([R.queryParams,R.params,R.data]).pipe((0,et.n)(([K,ue,Ge],ze)=>(Ge={...K,...ue,...Ge},0===ze?(0,J.of)(Ge):Promise.resolve(Ge)))).subscribe(K=>{if(!v.isActivated||!v.activatedComponentRef||v.activatedRoute!==R||null===R.component)return void this.unsubscribeFromRouteData(v);const ue=(0,b.HJs)(R.component);if(ue)for(const{templateName:Ge}of ue.inputs)v.activatedComponentRef.setInput(Ge,K[Ge]);else this.unsubscribeFromRouteData(v)});this.outletDataSubscriptions.set(v,L)}static{this.\u0275fac=function(R){return new(R||w)}}static{this.\u0275prov=b.jDH({token:w,factory:w.\u0275fac})}}return w})();function qi(w,M,v){if(v&&w.shouldReuseRoute(M.value,v.value.snapshot)){const R=v.value;R._futureSnapshot=M.value;const L=function ln(w,M,v){return M.children.map(R=>{for(const L of v.children)if(w.shouldReuseRoute(R.value,L.value.snapshot))return qi(w,R,L);return qi(w,R)})}(w,M,v);return new Jn(R,L)}{if(w.shouldAttach(M.value)){const K=w.retrieve(M.value);if(null!==K){const ue=K.route;return ue.value._futureSnapshot=M.value,ue.children=M.children.map(Ge=>qi(w,Ge)),ue}}const R=function ko(w){return new Os(new te.t(w.url),new te.t(w.params),new te.t(w.queryParams),new te.t(w.fragment),new te.t(w.data),w.outlet,w.component,w)}(M.value),L=M.children.map(K=>qi(w,K));return new Jn(R,L)}}const Ws="ngNavigationCancelingError";function Hi(w,M){const{redirectTo:v,navigationBehaviorOptions:R}=Ce(M)?{redirectTo:M,navigationBehaviorOptions:void 0}:M,L=mr(!1,0,M);return L.url=v,L.navigationBehaviorOptions=R,L}function mr(w,M,v){const R=new Error("NavigationCancelingError: "+(w||""));return R[Ws]=!0,R.cancellationCode=M,v&&(R.url=v),R}function to(w){return w&&w[Ws]}let _i=(()=>{class w{static{this.\u0275fac=function(R){return new(R||w)}}static{this.\u0275cmp=b.VBU({type:w,selectors:[["ng-component"]],standalone:!0,features:[b.aNF],decls:1,vars:0,template:function(R,L){1&R&&b.nrm(0,"router-outlet")},dependencies:[Pi],encapsulation:2})}}return w})();function Ji(w){const M=w.children&&w.children.map(Ji),v=M?{...w,children:M}:{...w};return!v.component&&!v.loadComponent&&(M||v.loadChildren)&&v.outlet&&v.outlet!==mt&&(v.component=_i),v}function Gr(w){return w.outlet||mt}function Ds(w){if(!w)return null;if(w.routeConfig?._injector)return w.routeConfig._injector;for(let M=w.parent;M;M=M.parent){const v=M.routeConfig;if(v?._loadedInjector)return v._loadedInjector;if(v?._injector)return v._injector}return null}class xi{constructor(M,v,R,L,K){this.routeReuseStrategy=M,this.futureState=v,this.currState=R,this.forwardEvent=L,this.inputBindingEnabled=K}activate(M){const v=this.futureState._root,R=this.currState?this.currState._root:null;this.deactivateChildRoutes(v,R,M),rn(this.futureState.root),this.activateChildRoutes(v,R,M)}deactivateChildRoutes(M,v,R){const L=ur(v);M.children.forEach(K=>{const ue=K.value.outlet;this.deactivateRoutes(K,L[ue],R),delete L[ue]}),Object.values(L).forEach(K=>{this.deactivateRouteAndItsChildren(K,R)})}deactivateRoutes(M,v,R){const L=M.value,K=v?v.value:null;if(L===K)if(L.component){const ue=R.getContext(L.outlet);ue&&this.deactivateChildRoutes(M,v,ue.children)}else this.deactivateChildRoutes(M,v,R);else K&&this.deactivateRouteAndItsChildren(v,R)}deactivateRouteAndItsChildren(M,v){M.value.component&&this.routeReuseStrategy.shouldDetach(M.value.snapshot)?this.detachAndStoreRouteSubtree(M,v):this.deactivateRouteAndOutlet(M,v)}detachAndStoreRouteSubtree(M,v){const R=v.getContext(M.value.outlet),L=R&&M.value.component?R.children:v,K=ur(M);for(const ue of Object.keys(K))this.deactivateRouteAndItsChildren(K[ue],L);if(R&&R.outlet){const ue=R.outlet.detach(),Ge=R.children.onOutletDeactivated();this.routeReuseStrategy.store(M.value.snapshot,{componentRef:ue,route:M,contexts:Ge})}}deactivateRouteAndOutlet(M,v){const R=v.getContext(M.value.outlet),L=R&&M.value.component?R.children:v,K=ur(M);for(const ue of Object.keys(K))this.deactivateRouteAndItsChildren(K[ue],L);R&&(R.outlet&&(R.outlet.deactivate(),R.children.onOutletDeactivated()),R.attachRef=null,R.route=null)}activateChildRoutes(M,v,R){const L=ur(v);M.children.forEach(K=>{this.activateRoutes(K,L[K.value.outlet],R),this.forwardEvent(new ci(K.value.snapshot))}),M.children.length&&this.forwardEvent(new mi(M.value.snapshot))}activateRoutes(M,v,R){const L=M.value,K=v?v.value:null;if(rn(L),L===K)if(L.component){const ue=R.getOrCreateContext(L.outlet);this.activateChildRoutes(M,v,ue.children)}else this.activateChildRoutes(M,v,R);else if(L.component){const ue=R.getOrCreateContext(L.outlet);if(this.routeReuseStrategy.shouldAttach(L.snapshot)){const Ge=this.routeReuseStrategy.retrieve(L.snapshot);this.routeReuseStrategy.store(L.snapshot,null),ue.children.onOutletReAttached(Ge.contexts),ue.attachRef=Ge.componentRef,ue.route=Ge.route.value,ue.outlet&&ue.outlet.attach(Ge.componentRef,Ge.route.value),rn(Ge.route.value),this.activateChildRoutes(M,null,ue.children)}else{const Ge=Ds(L.snapshot);ue.attachRef=null,ue.route=L,ue.injector=Ge,ue.outlet&&ue.outlet.activateWith(L,ue.injector),this.activateChildRoutes(M,null,ue.children)}}else this.activateChildRoutes(M,null,R)}}class Ei{constructor(M){this.path=M,this.route=this.path[this.path.length-1]}}class dr{constructor(M,v){this.component=M,this.route=v}}function Gs(w,M,v){const R=w._root;return ki(R,M?M._root:null,v,[R.value])}function Oi(w,M){const v=Symbol(),R=M.get(w,v);return R===v?"function"!=typeof w||(0,b.LfX)(w)?M.get(w):w:R}function ki(w,M,v,R,L={canDeactivateChecks:[],canActivateChecks:[]}){const K=ur(M);return w.children.forEach(ue=>{(function Nr(w,M,v,R,L={canDeactivateChecks:[],canActivateChecks:[]}){const K=w.value,ue=M?M.value:null,Ge=v?v.getContext(w.value.outlet):null;if(ue&&K.routeConfig===ue.routeConfig){const ze=function wo(w,M,v){if("function"==typeof v)return v(w,M);switch(v){case"pathParamsChange":return!kt(w.url,M.url);case"pathParamsOrQueryParamsChange":return!kt(w.url,M.url)||!Jt(w.queryParams,M.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!li(w,M)||!Jt(w.queryParams,M.queryParams);default:return!li(w,M)}}(ue,K,K.routeConfig.runGuardsAndResolvers);ze?L.canActivateChecks.push(new Ei(R)):(K.data=ue.data,K._resolvedData=ue._resolvedData),ki(w,M,K.component?Ge?Ge.children:null:v,R,L),ze&&Ge&&Ge.outlet&&Ge.outlet.isActivated&&L.canDeactivateChecks.push(new dr(Ge.outlet.component,ue))}else ue&&Io(M,Ge,L),L.canActivateChecks.push(new Ei(R)),ki(w,null,K.component?Ge?Ge.children:null:v,R,L)})(ue,K[ue.value.outlet],v,R.concat([ue.value]),L),delete K[ue.value.outlet]}),Object.entries(K).forEach(([ue,Ge])=>Io(Ge,v.getContext(ue),L)),L}function Io(w,M,v){const R=ur(w),L=w.value;Object.entries(R).forEach(([K,ue])=>{Io(ue,L.component?M?M.children.getContext(K):null:M,v)}),v.canDeactivateChecks.push(new dr(L.component&&M&&M.outlet&&M.outlet.isActivated?M.outlet.component:null,L))}function so(w){return"function"==typeof w}function du(w){return w instanceof Fe.G||"EmptyError"===w?.name}const Do=Symbol("INITIAL_VALUE");function Ls(){return(0,et.n)(w=>(0,Re.z)(w.map(M=>M.pipe((0,_t.s)(1),(0,pt.Z)(Do)))).pipe((0,Ne.T)(M=>{for(const v of M)if(!0!==v){if(v===Do)return Do;if(!1===v||v instanceof Er)return v}return!0}),(0,Kt.p)(M=>M!==Do),(0,_t.s)(1)))}function Ts(w){return(0,qe.F)((0,lt.M)(M=>{if(Ce(M))throw Hi(0,M)}),(0,Ne.T)(M=>!0===M))}class Lo{constructor(M){this.segmentGroup=M||null}}class Vr{constructor(M){this.urlTree=M}}function ts(w){return(0,_e.$)(new Lo(w))}function ti(w){return(0,_e.$)(new Vr(w))}class uo{constructor(M,v){this.urlSerializer=M,this.urlTree=v}noMatchError(M){return new b.wOt(4002,!1)}lineralizeSegments(M,v){let R=[],L=v.root;for(;;){if(R=R.concat(L.segments),0===L.numberOfChildren)return(0,J.of)(R);if(L.numberOfChildren>1||!L.children[mt])return(0,_e.$)(new b.wOt(4e3,!1));L=L.children[mt]}}applyRedirectCommands(M,v,R){return this.applyRedirectCreateUrlTree(v,this.urlSerializer.parse(v),M,R)}applyRedirectCreateUrlTree(M,v,R,L){const K=this.createSegmentGroup(M,v.root,R,L);return new Er(K,this.createQueryParams(v.queryParams,this.urlTree.queryParams),v.fragment)}createQueryParams(M,v){const R={};return Object.entries(M).forEach(([L,K])=>{if("string"==typeof K&&K.startsWith(":")){const Ge=K.substring(1);R[L]=v[Ge]}else R[L]=K}),R}createSegmentGroup(M,v,R,L){const K=this.createSegments(M,v.segments,R,L);let ue={};return Object.entries(v.children).forEach(([Ge,ze])=>{ue[Ge]=this.createSegmentGroup(M,ze,R,L)}),new Ut(K,ue)}createSegments(M,v,R,L){return v.map(K=>K.path.startsWith(":")?this.findPosParam(M,K,L):this.findOrReturn(K,R))}findPosParam(M,v,R){const L=R[v.path.substring(1)];if(!L)throw new b.wOt(4001,!1);return L}findOrReturn(M,v){let R=0;for(const L of v){if(L.path===M.path)return v.splice(R),L;R++}return M}}const Ss={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Fo(w,M,v,R,L){const K=So(w,M,v);return K.matched?(R=function vo(w,M){return w.providers&&!w._injector&&(w._injector=(0,b.Ol2)(w.providers,M,`Route: ${w.path}`)),w._injector??M}(M,R),function us(w,M,v,R){const L=M.canMatch;if(!L||0===L.length)return(0,J.of)(!0);const K=L.map(ue=>{const Ge=Oi(ue,w);return gr(function Wn(w){return w&&so(w.canMatch)}(Ge)?Ge.canMatch(M,v):w.runInContext(()=>Ge(M,v)))});return(0,J.of)(K).pipe(Ls(),Ts())}(R,M,v).pipe((0,Ne.T)(ue=>!0===ue?K:{...Ss}))):(0,J.of)(K)}function So(w,M,v){if(""===M.path)return"full"===M.pathMatch&&(w.hasChildren()||v.length>0)?{...Ss}:{matched:!0,consumedSegments:[],remainingSegments:v,parameters:{},positionalParamSegments:{}};const L=(M.matcher||wn)(v,w,M);if(!L)return{...Ss};const K={};Object.entries(L.posParams??{}).forEach(([Ge,ze])=>{K[Ge]=ze.path});const ue=L.consumed.length>0?{...K,...L.consumed[L.consumed.length-1].parameters}:K;return{matched:!0,consumedSegments:L.consumed,remainingSegments:v.slice(L.consumed.length),parameters:ue,positionalParamSegments:L.posParams??{}}}function di(w,M,v,R){return v.length>0&&function va(w,M,v){return v.some(R=>ns(w,M,R)&&Gr(R)!==mt)}(w,v,R)?{segmentGroup:new Ut(M,bi(R,new Ut(v,w.children))),slicedSegments:[]}:0===v.length&&function ra(w,M,v){return v.some(R=>ns(w,M,R))}(w,v,R)?{segmentGroup:new Ut(w.segments,na(w,0,v,R,w.children)),slicedSegments:v}:{segmentGroup:new Ut(w.segments,w.children),slicedSegments:v}}function na(w,M,v,R,L){const K={};for(const ue of R)if(ns(w,v,ue)&&!L[Gr(ue)]){const Ge=new Ut([],{});K[Gr(ue)]=Ge}return{...L,...K}}function bi(w,M){const v={};v[mt]=M;for(const R of w)if(""===R.path&&Gr(R)!==mt){const L=new Ut([],{});v[Gr(R)]=L}return v}function ns(w,M,v){return(!(w.hasChildren()||M.length>0)||"full"!==v.pathMatch)&&""===v.path}class Zn{constructor(M,v,R,L,K,ue,Ge){this.injector=M,this.configLoader=v,this.rootComponentType=R,this.config=L,this.urlTree=K,this.paramsInheritanceStrategy=ue,this.urlSerializer=Ge,this.allowRedirects=!0,this.applyRedirects=new uo(this.urlSerializer,this.urlTree)}noMatchError(M){return new b.wOt(4002,!1)}recognize(){const M=di(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,M,mt).pipe((0,pn.W)(v=>{if(v instanceof Vr)return this.allowRedirects=!1,this.urlTree=v.urlTree,this.match(v.urlTree);throw v instanceof Lo?this.noMatchError(v):v}),(0,Ne.T)(v=>{const R=new gs([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},mt,this.rootComponentType,null,{}),L=new Jn(R,v),K=new lr("",L),ue=function he(w,M,v=null,R=null){return le(ye(w),M,v,R)}(R,[],this.urlTree.queryParams,this.urlTree.fragment);return ue.queryParams=this.urlTree.queryParams,K.url=this.urlSerializer.serialize(ue),this.inheritParamsAndData(K._root),{state:K,tree:ue}}))}match(M){return this.processSegmentGroup(this.injector,this.config,M.root,mt).pipe((0,pn.W)(R=>{throw R instanceof Lo?this.noMatchError(R):R}))}inheritParamsAndData(M){const v=M.value,R=Yo(v,this.paramsInheritanceStrategy);v.params=Object.freeze(R.params),v.data=Object.freeze(R.data),M.children.forEach(L=>this.inheritParamsAndData(L))}processSegmentGroup(M,v,R,L){return 0===R.segments.length&&R.hasChildren()?this.processChildren(M,v,R):this.processSegment(M,v,R,R.segments,L,!0)}processChildren(M,v,R){const L=[];for(const K of Object.keys(R.children))"primary"===K?L.unshift(K):L.push(K);return(0,fe.H)(L).pipe((0,Qn.H)(K=>{const ue=R.children[K],Ge=function ro(w,M){const v=w.filter(R=>Gr(R)===M);return v.push(...w.filter(R=>Gr(R)!==M)),v}(v,K);return this.processSegmentGroup(M,Ge,ue,K)}),function Qr(w,M){return(0,Vt.N)(function On(w,M,v,R,L){return(K,ue)=>{let Ge=v,ze=M,Ct=0;K.subscribe((0,Ot._)(ue,En=>{const yr=Ct++;ze=Ge?w(ze,En,yr):(Ge=!0,En),R&&ue.next(ze)},L&&(()=>{Ge&&ue.next(ze),ue.complete()})))}}(w,M,arguments.length>=2,!0))}((K,ue)=>(K.push(...ue),K)),(0,Xr.U)(null),function He(w,M){const v=arguments.length>=2;return R=>R.pipe(w?(0,Kt.p)((L,K)=>w(L,K,R)):ke.D,Tr(1),v?(0,Xr.U)(M):(0,fi.v)(()=>new Fe.G))}(),(0,tn.Z)(K=>{if(null===K)return ts(R);const ue=Fs(K);return function Ru(w){w.sort((M,v)=>M.value.outlet===mt?-1:v.value.outlet===mt?1:M.value.outlet.localeCompare(v.value.outlet))}(ue),(0,J.of)(ue)}))}processSegment(M,v,R,L,K,ue){return(0,fe.H)(v).pipe((0,Qn.H)(Ge=>this.processSegmentAgainstRoute(Ge._injector??M,v,Ge,R,L,K,ue).pipe((0,pn.W)(ze=>{if(ze instanceof Lo)return(0,J.of)(null);throw ze}))),(0,vn.$)(Ge=>!!Ge),(0,pn.W)(Ge=>{if(du(Ge))return function Si(w,M,v){return 0===M.length&&!w.children[v]}(R,L,K)?(0,J.of)([]):ts(R);throw Ge}))}processSegmentAgainstRoute(M,v,R,L,K,ue,Ge){return function Ao(w,M,v,R){return!!(Gr(w)===R||R!==mt&&ns(M,v,w))&&("**"===w.path||So(M,w,v).matched)}(R,L,K,ue)?void 0===R.redirectTo?this.matchSegmentAgainstRoute(M,L,R,K,ue,Ge):Ge&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(M,L,v,R,K,ue):ts(L):ts(L)}expandSegmentAgainstRouteUsingRedirect(M,v,R,L,K,ue){return"**"===L.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(M,R,L,ue):this.expandRegularSegmentAgainstRouteUsingRedirect(M,v,R,L,K,ue)}expandWildCardWithParamsAgainstRouteUsingRedirect(M,v,R,L){const K=this.applyRedirects.applyRedirectCommands([],R.redirectTo,{});return R.redirectTo.startsWith("/")?ti(K):this.applyRedirects.lineralizeSegments(R,K).pipe((0,tn.Z)(ue=>{const Ge=new Ut(ue,{});return this.processSegment(M,v,Ge,ue,L,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(M,v,R,L,K,ue){const{matched:Ge,consumedSegments:ze,remainingSegments:Ct,positionalParamSegments:En}=So(v,L,K);if(!Ge)return ts(v);const yr=this.applyRedirects.applyRedirectCommands(ze,L.redirectTo,En);return L.redirectTo.startsWith("/")?ti(yr):this.applyRedirects.lineralizeSegments(L,yr).pipe((0,tn.Z)(ar=>this.processSegment(M,R,v,ar.concat(Ct),ue,!1)))}matchSegmentAgainstRoute(M,v,R,L,K,ue){let Ge;if("**"===R.path){const ze=L.length>0?Xn(L).parameters:{},Ct=new gs(L,ze,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Ea(R),Gr(R),R.component??R._loadedComponent??null,R,j(R));Ge=(0,J.of)({snapshot:Ct,consumedSegments:[],remainingSegments:[]}),v.children={}}else Ge=Fo(v,R,L,M).pipe((0,Ne.T)(({matched:ze,consumedSegments:Ct,remainingSegments:En,parameters:yr})=>ze?{snapshot:new gs(Ct,yr,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Ea(R),Gr(R),R.component??R._loadedComponent??null,R,j(R)),consumedSegments:Ct,remainingSegments:En}:null));return Ge.pipe((0,et.n)(ze=>null===ze?ts(v):this.getChildConfig(M=R._injector??M,R,L).pipe((0,et.n)(({routes:Ct})=>{const En=R._loadedInjector??M,{snapshot:yr,consumedSegments:ar,remainingSegments:kr}=ze,{segmentGroup:Ia,slicedSegments:ho}=di(v,ar,kr,Ct);if(0===ho.length&&Ia.hasChildren())return this.processChildren(En,Ct,Ia).pipe((0,Ne.T)(Uo=>null===Uo?null:[new Jn(yr,Uo)]));if(0===Ct.length&&0===ho.length)return(0,J.of)([new Jn(yr,[])]);const Qs=Gr(R)===K;return this.processSegment(En,Ct,Ia,ho,Qs?mt:K,!0).pipe((0,Ne.T)(Uo=>[new Jn(yr,Uo)]))}))))}getChildConfig(M,v,R){return v.children?(0,J.of)({routes:v.children,injector:M}):v.loadChildren?void 0!==v._loadedRoutes?(0,J.of)({routes:v._loadedRoutes,injector:v._loadedInjector}):function Li(w,M,v,R){const L=M.canLoad;if(void 0===L||0===L.length)return(0,J.of)(!0);const K=L.map(ue=>{const Ge=Oi(ue,w);return gr(function Jo(w){return w&&so(w.canLoad)}(Ge)?Ge.canLoad(M,v):w.runInContext(()=>Ge(M,v)))});return(0,J.of)(K).pipe(Ls(),Ts())}(M,v,R).pipe((0,tn.Z)(L=>L?this.configLoader.loadChildren(M,v).pipe((0,lt.M)(K=>{v._loadedRoutes=K.routes,v._loadedInjector=K.injector})):function ao(w){return(0,_e.$)(mr(!1,3))}())):(0,J.of)({routes:[],injector:M})}}function _a(w){const M=w.value.routeConfig;return M&&""===M.path}function Fs(w){const M=[],v=new Set;for(const R of w){if(!_a(R)){M.push(R);continue}const L=M.find(K=>R.value.routeConfig===K.value.routeConfig);void 0!==L?(L.children.push(...R.children),v.add(L)):M.push(R)}for(const R of v){const L=Fs(R.children);M.push(new Jn(R.value,L))}return M.filter(R=>!v.has(R))}function Ea(w){return w.data||{}}function j(w){return w.resolve||{}}function m(w){return"string"==typeof w.title||null===w.title}function x(w){return(0,et.n)(M=>{const v=w(M);return v?(0,fe.H)(v).pipe((0,Ne.T)(()=>M)):(0,J.of)(M)})}const S=new b.nKC("ROUTES");let k=(()=>{class w{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,b.WQX)(b.Ql9)}loadComponent(v){if(this.componentLoaders.get(v))return this.componentLoaders.get(v);if(v._loadedComponent)return(0,J.of)(v._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(v);const R=gr(v.loadComponent()).pipe((0,Ne.T)(Le),(0,lt.M)(K=>{this.onLoadEndListener&&this.onLoadEndListener(v),v._loadedComponent=K}),(0,Ye.j)(()=>{this.componentLoaders.delete(v)})),L=new Cn(R,()=>new Me.B).pipe(Tn());return this.componentLoaders.set(v,L),L}loadChildren(v,R){if(this.childrenLoaders.get(R))return this.childrenLoaders.get(R);if(R._loadedRoutes)return(0,J.of)({routes:R._loadedRoutes,injector:R._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(R);const K=function ee(w,M,v,R){return gr(w.loadChildren()).pipe((0,Ne.T)(Le),(0,tn.Z)(L=>L instanceof b.Co$||Array.isArray(L)?(0,J.of)(L):(0,fe.H)(M.compileModuleAsync(L))),(0,Ne.T)(L=>{R&&R(w);let K,ue,Ge=!1;return Array.isArray(L)?(ue=L,!0):(K=L.create(v).injector,ue=K.get(S,[],{optional:!0,self:!0}).flat()),{routes:ue.map(Ji),injector:K}}))}(R,this.compiler,v,this.onLoadEndListener).pipe((0,Ye.j)(()=>{this.childrenLoaders.delete(R)})),ue=new Cn(K,()=>new Me.B).pipe(Tn());return this.childrenLoaders.set(R,ue),ue}static{this.\u0275fac=function(R){return new(R||w)}}static{this.\u0275prov=b.jDH({token:w,factory:w.\u0275fac,providedIn:"root"})}}return w})();function Le(w){return function be(w){return w&&"object"==typeof w&&"default"in w}(w)?w.default:w}let st=(()=>{class w{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Me.B,this.transitionAbortSubject=new Me.B,this.configLoader=(0,b.WQX)(k),this.environmentInjector=(0,b.WQX)(b.uvJ),this.urlSerializer=(0,b.WQX)(an),this.rootContexts=(0,b.WQX)($i),this.inputBindingEnabled=null!==(0,b.WQX)(ms,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,J.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=L=>this.events.next(new zn(L)),this.configLoader.onLoadStartListener=L=>this.events.next(new $n(L))}complete(){this.transitions?.complete()}handleNavigationRequest(v){const R=++this.navigationId;this.transitions?.next({...this.transitions.value,...v,id:R})}setupNavigations(v,R,L){return this.transitions=new te.t({id:0,currentUrlTree:R,currentRawUrl:R,currentBrowserUrl:R,extractedUrl:v.urlHandlingStrategy.extract(R),urlAfterRedirects:v.urlHandlingStrategy.extract(R),rawUrl:R,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Ar,restoredState:null,currentSnapshot:L.snapshot,targetSnapshot:null,currentRouterState:L,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,Kt.p)(K=>0!==K.id),(0,Ne.T)(K=>({...K,extractedUrl:v.urlHandlingStrategy.extract(K.rawUrl)})),(0,et.n)(K=>{this.currentTransition=K;let ue=!1,Ge=!1;return(0,J.of)(K).pipe((0,lt.M)(ze=>{this.currentNavigation={id:ze.id,initialUrl:ze.rawUrl,extractedUrl:ze.extractedUrl,trigger:ze.source,extras:ze.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,et.n)(ze=>{const Ct=ze.currentBrowserUrl.toString(),En=!v.navigated||ze.extractedUrl.toString()!==Ct||Ct!==ze.currentUrlTree.toString();if(!En&&"reload"!==(ze.extras.onSameUrlNavigation??v.onSameUrlNavigation)){const ar="";return this.events.next(new we(ze.id,this.urlSerializer.serialize(ze.rawUrl),ar,0)),ze.resolve(null),vt.w}if(v.urlHandlingStrategy.shouldProcessUrl(ze.rawUrl))return(0,J.of)(ze).pipe((0,et.n)(ar=>{const kr=this.transitions?.getValue();return this.events.next(new Ki(ar.id,this.urlSerializer.serialize(ar.extractedUrl),ar.source,ar.restoredState)),kr!==this.transitions?.getValue()?vt.w:Promise.resolve(ar)}),function y(w,M,v,R,L,K){return(0,tn.Z)(ue=>function ia(w,M,v,R,L,K,ue="emptyOnly"){return new Zn(w,M,v,R,L,ue,K).recognize()}(w,M,v,R,ue.extractedUrl,L,K).pipe((0,Ne.T)(({state:Ge,tree:ze})=>({...ue,targetSnapshot:Ge,urlAfterRedirects:ze}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,v.config,this.urlSerializer,v.paramsInheritanceStrategy),(0,lt.M)(ar=>{K.targetSnapshot=ar.targetSnapshot,K.urlAfterRedirects=ar.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:ar.urlAfterRedirects};const kr=new Ve(ar.id,this.urlSerializer.serialize(ar.extractedUrl),this.urlSerializer.serialize(ar.urlAfterRedirects),ar.targetSnapshot);this.events.next(kr)}));if(En&&v.urlHandlingStrategy.shouldProcessUrl(ze.currentRawUrl)){const{id:ar,extractedUrl:kr,source:Ia,restoredState:ho,extras:Qs}=ze,Uo=new Ki(ar,this.urlSerializer.serialize(kr),Ia,ho);this.events.next(Uo);const Qi=Ni(0,this.rootComponentType).snapshot;return this.currentTransition=K={...ze,targetSnapshot:Qi,urlAfterRedirects:kr,extras:{...Qs,skipLocationChange:!1,replaceUrl:!1}},(0,J.of)(K)}{const ar="";return this.events.next(new we(ze.id,this.urlSerializer.serialize(ze.extractedUrl),ar,1)),ze.resolve(null),vt.w}}),(0,lt.M)(ze=>{const Ct=new rt(ze.id,this.urlSerializer.serialize(ze.extractedUrl),this.urlSerializer.serialize(ze.urlAfterRedirects),ze.targetSnapshot);this.events.next(Ct)}),(0,Ne.T)(ze=>(this.currentTransition=K={...ze,guards:Gs(ze.targetSnapshot,ze.currentSnapshot,this.rootContexts)},K)),function es(w,M){return(0,tn.Z)(v=>{const{targetSnapshot:R,currentSnapshot:L,guards:{canActivateChecks:K,canDeactivateChecks:ue}}=v;return 0===ue.length&&0===K.length?(0,J.of)({...v,guardsResult:!0}):function ga(w,M,v,R){return(0,fe.H)(w).pipe((0,tn.Z)(L=>function ya(w,M,v,R,L){const K=M&&M.routeConfig?M.routeConfig.canDeactivate:null;if(!K||0===K.length)return(0,J.of)(!0);const ue=K.map(Ge=>{const ze=Ds(M)??L,Ct=Oi(Ge,ze);return gr(function ea(w){return w&&so(w.canDeactivate)}(Ct)?Ct.canDeactivate(w,M,v,R):ze.runInContext(()=>Ct(w,M,v,R))).pipe((0,vn.$)())});return(0,J.of)(ue).pipe(Ls())}(L.component,L.route,v,M,R)),(0,vn.$)(L=>!0!==L,!0))}(ue,R,L,w).pipe((0,tn.Z)(Ge=>Ge&&function Ks(w){return"boolean"==typeof w}(Ge)?function To(w,M,v,R){return(0,fe.H)(M).pipe((0,Qn.H)(L=>(0,re.x)(function oo(w,M){return null!==w&&M&&M(new ws(w)),(0,J.of)(!0)}(L.route.parent,R),function ma(w,M){return null!==w&&M&&M(new yi(w)),(0,J.of)(!0)}(L.route,R),function bo(w,M,v){const R=M[M.length-1],K=M.slice(0,M.length-1).reverse().map(ue=>function Rr(w){const M=w.routeConfig?w.routeConfig.canActivateChild:null;return M&&0!==M.length?{node:w,guards:M}:null}(ue)).filter(ue=>null!==ue).map(ue=>Ae(()=>{const Ge=ue.guards.map(ze=>{const Ct=Ds(ue.node)??v,En=Oi(ze,Ct);return gr(function Zo(w){return w&&so(w.canActivateChild)}(En)?En.canActivateChild(R,w):Ct.runInContext(()=>En(R,w))).pipe((0,vn.$)())});return(0,J.of)(Ge).pipe(Ls())}));return(0,J.of)(K).pipe(Ls())}(w,L.path,v),function Co(w,M,v){const R=M.routeConfig?M.routeConfig.canActivate:null;if(!R||0===R.length)return(0,J.of)(!0);const L=R.map(K=>Ae(()=>{const ue=Ds(M)??v,Ge=Oi(K,ue);return gr(function pa(w){return w&&so(w.canActivate)}(Ge)?Ge.canActivate(M,w):ue.runInContext(()=>Ge(M,w))).pipe((0,vn.$)())}));return(0,J.of)(L).pipe(Ls())}(w,L.route,v))),(0,vn.$)(L=>!0!==L,!0))}(R,K,w,M):(0,J.of)(Ge)),(0,Ne.T)(Ge=>({...v,guardsResult:Ge})))})}(this.environmentInjector,ze=>this.events.next(ze)),(0,lt.M)(ze=>{if(K.guardsResult=ze.guardsResult,Ce(ze.guardsResult))throw Hi(0,ze.guardsResult);const Ct=new Et(ze.id,this.urlSerializer.serialize(ze.extractedUrl),this.urlSerializer.serialize(ze.urlAfterRedirects),ze.targetSnapshot,!!ze.guardsResult);this.events.next(Ct)}),(0,Kt.p)(ze=>!!ze.guardsResult||(this.cancelNavigationTransition(ze,"",3),!1)),x(ze=>{if(ze.guards.canActivateChecks.length)return(0,J.of)(ze).pipe((0,lt.M)(Ct=>{const En=new un(Ct.id,this.urlSerializer.serialize(Ct.extractedUrl),this.urlSerializer.serialize(Ct.urlAfterRedirects),Ct.targetSnapshot);this.events.next(En)}),(0,et.n)(Ct=>{let En=!1;return(0,J.of)(Ct).pipe(function E(w,M){return(0,tn.Z)(v=>{const{targetSnapshot:R,guards:{canActivateChecks:L}}=v;if(!L.length)return(0,J.of)(v);let K=0;return(0,fe.H)(L).pipe((0,Qn.H)(ue=>function P(w,M,v,R){const L=w.routeConfig,K=w._resolve;return void 0!==L?.title&&!m(L)&&(K[Mn]=L.title),function H(w,M,v,R){const L=function Y(w){return[...Object.keys(w),...Object.getOwnPropertySymbols(w)]}(w);if(0===L.length)return(0,J.of)({});const K={};return(0,fe.H)(L).pipe((0,tn.Z)(ue=>function ge(w,M,v,R){const L=Ds(M)??R,K=Oi(w,L);return gr(K.resolve?K.resolve(M,v):L.runInContext(()=>K(M,v)))}(w[ue],M,v,R).pipe((0,vn.$)(),(0,lt.M)(Ge=>{K[ue]=Ge}))),Tr(1),function Ue(w){return(0,Ne.T)(()=>w)}(K),(0,pn.W)(ue=>du(ue)?vt.w:(0,_e.$)(ue)))}(K,w,M,R).pipe((0,Ne.T)(ue=>(w._resolvedData=ue,w.data=Yo(w,v).resolve,L&&m(L)&&(w.data[Mn]=L.title),null)))}(ue.route,R,w,M)),(0,lt.M)(()=>K++),Tr(1),(0,tn.Z)(ue=>K===L.length?(0,J.of)(v):vt.w))})}(v.paramsInheritanceStrategy,this.environmentInjector),(0,lt.M)({next:()=>En=!0,complete:()=>{En||this.cancelNavigationTransition(Ct,"",2)}}))}),(0,lt.M)(Ct=>{const En=new Un(Ct.id,this.urlSerializer.serialize(Ct.extractedUrl),this.urlSerializer.serialize(Ct.urlAfterRedirects),Ct.targetSnapshot);this.events.next(En)}))}),x(ze=>{const Ct=En=>{const yr=[];En.routeConfig?.loadComponent&&!En.routeConfig._loadedComponent&&yr.push(this.configLoader.loadComponent(En.routeConfig).pipe((0,lt.M)(ar=>{En.component=ar}),(0,Ne.T)(()=>{})));for(const ar of En.children)yr.push(...Ct(ar));return yr};return(0,Re.z)(Ct(ze.targetSnapshot.root)).pipe((0,Xr.U)(),(0,_t.s)(1))}),x(()=>this.afterPreactivation()),(0,Ne.T)(ze=>{const Ct=function ks(w,M,v){const R=qi(w,M._root,v?v._root:void 0);return new as(R,M)}(v.routeReuseStrategy,ze.targetSnapshot,ze.currentRouterState);return this.currentTransition=K={...ze,targetRouterState:Ct},K}),(0,lt.M)(()=>{this.events.next(new Xo)}),((w,M,v,R)=>(0,Ne.T)(L=>(new xi(M,L.targetRouterState,L.currentRouterState,v,R).activate(w),L)))(this.rootContexts,v.routeReuseStrategy,ze=>this.events.next(ze),this.inputBindingEnabled),(0,_t.s)(1),(0,lt.M)({next:ze=>{ue=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Mr(ze.id,this.urlSerializer.serialize(ze.extractedUrl),this.urlSerializer.serialize(ze.urlAfterRedirects))),v.titleStrategy?.updateTitle(ze.targetRouterState.snapshot),ze.resolve(!0)},complete:()=>{ue=!0}}),(0,it.Q)(this.transitionAbortSubject.pipe((0,lt.M)(ze=>{throw ze}))),(0,Ye.j)(()=>{ue||Ge||this.cancelNavigationTransition(K,"",1),this.currentNavigation?.id===K.id&&(this.currentNavigation=null)}),(0,pn.W)(ze=>{if(Ge=!0,to(ze))this.events.next(new Hs(K.id,this.urlSerializer.serialize(K.extractedUrl),ze.message,ze.cancellationCode)),function yo(w){return to(w)&&Ce(w.url)}(ze)?this.events.next(new zs(ze.url)):K.resolve(!1);else{this.events.next(new ve(K.id,this.urlSerializer.serialize(K.extractedUrl),ze,K.targetSnapshot??void 0));try{K.resolve(v.errorHandler(ze))}catch(Ct){K.reject(Ct)}}return vt.w}))}))}cancelNavigationTransition(v,R,L){const K=new Hs(v.id,this.urlSerializer.serialize(v.extractedUrl),R,L);this.events.next(K),v.resolve(!1)}static{this.\u0275fac=function(R){return new(R||w)}}static{this.\u0275prov=b.jDH({token:w,factory:w.\u0275fac,providedIn:"root"})}}return w})();function Ft(w){return w!==Ar}let fn=(()=>{class w{buildTitle(v){let R,L=v.root;for(;void 0!==L;)R=this.getResolvedTitleForRoute(L)??R,L=L.children.find(K=>K.outlet===mt);return R}getResolvedTitleForRoute(v){return v.data[Mn]}static{this.\u0275fac=function(R){return new(R||w)}}static{this.\u0275prov=b.jDH({token:w,factory:function(){return(0,b.WQX)(hn)},providedIn:"root"})}}return w})(),hn=(()=>{class w extends fn{constructor(v){super(),this.title=v}updateTitle(v){const R=this.buildTitle(v);void 0!==R&&this.title.setTitle(R)}static{this.\u0275fac=function(R){return new(R||w)(b.KVO(Tt.hE))}}static{this.\u0275prov=b.jDH({token:w,factory:w.\u0275fac,providedIn:"root"})}}return w})(),Zt=(()=>{class w{static{this.\u0275fac=function(R){return new(R||w)}}static{this.\u0275prov=b.jDH({token:w,factory:function(){return(0,b.WQX)(bn)},providedIn:"root"})}}return w})();class kn{shouldDetach(M){return!1}store(M,v){}shouldAttach(M){return!1}retrieve(M){return null}shouldReuseRoute(M,v){return M.routeConfig===v.routeConfig}}let bn=(()=>{class w extends kn{static{this.\u0275fac=function(){let v;return function(L){return(v||(v=b.xGo(w)))(L||w)}}()}static{this.\u0275prov=b.jDH({token:w,factory:w.\u0275fac,providedIn:"root"})}}return w})();const Pr=new b.nKC("",{providedIn:"root",factory:()=>({})});let xr=(()=>{class w{static{this.\u0275fac=function(R){return new(R||w)}}static{this.\u0275prov=b.jDH({token:w,factory:function(){return(0,b.WQX)(Or)},providedIn:"root"})}}return w})(),Or=(()=>{class w{shouldProcessUrl(v){return!0}extract(v){return v}merge(v,R){return v}static{this.\u0275fac=function(R){return new(R||w)}}static{this.\u0275prov=b.jDH({token:w,factory:w.\u0275fac,providedIn:"root"})}}return w})();var Ln=function(w){return w[w.COMPLETE=0]="COMPLETE",w[w.FAILED=1]="FAILED",w[w.REDIRECTING=2]="REDIRECTING",w}(Ln||{});function er(w,M){w.events.pipe((0,Kt.p)(v=>v instanceof Mr||v instanceof Hs||v instanceof ve||v instanceof we),(0,Ne.T)(v=>v instanceof Mr||v instanceof we?Ln.COMPLETE:v instanceof Hs&&(0===v.code||1===v.code)?Ln.REDIRECTING:Ln.FAILED),(0,Kt.p)(v=>v!==Ln.REDIRECTING),(0,_t.s)(1)).subscribe(()=>{M()})}function Dr(w){throw w}function Ai(w,M,v){return M.parse("/")}const As={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},ft={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let sn=(()=>{class w{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,b.WQX)(b.H3F),this.isNgZoneEnabled=!1,this._events=new Me.B,this.options=(0,b.WQX)(Pr,{optional:!0})||{},this.pendingTasks=(0,b.WQX)(b.$K3),this.errorHandler=this.options.errorHandler||Dr,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Ai,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,b.WQX)(xr),this.routeReuseStrategy=(0,b.WQX)(Zt),this.titleStrategy=(0,b.WQX)(fn),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,b.WQX)(S,{optional:!0})?.flat()??[],this.navigationTransitions=(0,b.WQX)(st),this.urlSerializer=(0,b.WQX)(an),this.location=(0,b.WQX)(ct.aZ),this.componentInputBindingEnabled=!!(0,b.WQX)(ms,{optional:!0}),this.eventsSubscription=new We.yU,this.isNgZoneEnabled=(0,b.WQX)(b.SKi)instanceof b.SKi&&b.SKi.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Er,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Ni(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(v=>{this.lastSuccessfulId=v.id,this.currentPageId=this.browserPageId},v=>{this.console.warn(`Unhandled Navigation Error: ${v}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const v=this.navigationTransitions.events.subscribe(R=>{try{const{currentTransition:L}=this.navigationTransitions;if(null===L)return void(Ht(R)&&this._events.next(R));if(R instanceof Ki)Ft(L.source)&&(this.browserUrlTree=L.extractedUrl);else if(R instanceof we)this.rawUrlTree=L.rawUrl;else if(R instanceof Ve){if("eager"===this.urlUpdateStrategy){if(!L.extras.skipLocationChange){const K=this.urlHandlingStrategy.merge(L.urlAfterRedirects,L.rawUrl);this.setBrowserUrl(K,L)}this.browserUrlTree=L.urlAfterRedirects}}else if(R instanceof Xo)this.currentUrlTree=L.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(L.urlAfterRedirects,L.rawUrl),this.routerState=L.targetRouterState,"deferred"===this.urlUpdateStrategy&&(L.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,L),this.browserUrlTree=L.urlAfterRedirects);else if(R instanceof Hs)0!==R.code&&1!==R.code&&(this.navigated=!0),(3===R.code||2===R.code)&&this.restoreHistory(L);else if(R instanceof zs){const K=this.urlHandlingStrategy.merge(R.url,L.currentRawUrl),ue={skipLocationChange:L.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Ft(L.source)};this.scheduleNavigation(K,Ar,null,ue,{resolve:L.resolve,reject:L.reject,promise:L.promise})}R instanceof ve&&this.restoreHistory(L,!0),R instanceof Mr&&(this.navigated=!0),Ht(R)&&this._events.next(R)}catch(L){this.navigationTransitions.transitionAbortSubject.next(L)}});this.eventsSubscription.add(v)}resetRootComponentType(v){this.routerState.root.component=v,this.navigationTransitions.rootComponentType=v}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const v=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Ar,v)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(v=>{const R="popstate"===v.type?"popstate":"hashchange";"popstate"===R&&setTimeout(()=>{this.navigateToSyncWithBrowser(v.url,R,v.state)},0)}))}navigateToSyncWithBrowser(v,R,L){const K={replaceUrl:!0},ue=L?.navigationId?L:null;if(L){const ze={...L};delete ze.navigationId,delete ze.\u0275routerPageId,0!==Object.keys(ze).length&&(K.state=ze)}const Ge=this.parseUrl(v);this.scheduleNavigation(Ge,R,ue,K)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(v){this.config=v.map(Ji),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(v,R={}){const{relativeTo:L,queryParams:K,fragment:ue,queryParamsHandling:Ge,preserveFragment:ze}=R,Ct=ze?this.currentUrlTree.fragment:ue;let yr,En=null;switch(Ge){case"merge":En={...this.currentUrlTree.queryParams,...K};break;case"preserve":En=this.currentUrlTree.queryParams;break;default:En=K||null}null!==En&&(En=this.removeEmptyProps(En));try{yr=ye(L?L.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof v[0]||!v[0].startsWith("/"))&&(v=[]),yr=this.currentUrlTree.root}return le(yr,v,En,Ct??null)}navigateByUrl(v,R={skipLocationChange:!1}){const L=Ce(v)?v:this.parseUrl(v),K=this.urlHandlingStrategy.merge(L,this.rawUrlTree);return this.scheduleNavigation(K,Ar,null,R)}navigate(v,R={skipLocationChange:!1}){return function cs(w){for(let M=0;M<w.length;M++)if(null==w[M])throw new b.wOt(4008,!1)}(v),this.navigateByUrl(this.createUrlTree(v,R),R)}serializeUrl(v){return this.urlSerializer.serialize(v)}parseUrl(v){let R;try{R=this.urlSerializer.parse(v)}catch(L){R=this.malformedUriErrorHandler(L,this.urlSerializer,v)}return R}isActive(v,R){let L;if(L=!0===R?{...As}:!1===R?{...ft}:R,Ce(v))return ii(this.currentUrlTree,v,L);const K=this.parseUrl(v);return ii(this.currentUrlTree,K,L)}removeEmptyProps(v){return Object.keys(v).reduce((R,L)=>{const K=v[L];return null!=K&&(R[L]=K),R},{})}scheduleNavigation(v,R,L,K,ue){if(this.disposed)return Promise.resolve(!1);let Ge,ze,Ct;ue?(Ge=ue.resolve,ze=ue.reject,Ct=ue.promise):Ct=new Promise((yr,ar)=>{Ge=yr,ze=ar});const En=this.pendingTasks.add();return er(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(En))}),this.navigationTransitions.handleNavigationRequest({source:R,restoredState:L,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:v,extras:K,resolve:Ge,reject:ze,promise:Ct,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Ct.catch(yr=>Promise.reject(yr))}setBrowserUrl(v,R){const L=this.urlSerializer.serialize(v);if(this.location.isCurrentPathEqualTo(L)||R.extras.replaceUrl){const ue={...R.extras.state,...this.generateNgRouterState(R.id,this.browserPageId)};this.location.replaceState(L,"",ue)}else{const K={...R.extras.state,...this.generateNgRouterState(R.id,this.browserPageId+1)};this.location.go(L,"",K)}}restoreHistory(v,R=!1){if("computed"===this.canceledNavigationResolution){const K=this.currentPageId-this.browserPageId;0!==K?this.location.historyGo(K):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===K&&(this.resetState(v),this.browserUrlTree=v.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(R&&this.resetState(v),this.resetUrlToCurrentUrlTree())}resetState(v){this.routerState=v.currentRouterState,this.currentUrlTree=v.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,v.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(v,R){return"computed"===this.canceledNavigationResolution?{navigationId:v,\u0275routerPageId:R}:{navigationId:v}}static{this.\u0275fac=function(R){return new(R||w)}}static{this.\u0275prov=b.jDH({token:w,factory:w.\u0275fac,providedIn:"root"})}}return w})();function Ht(w){return!(w instanceof Xo||w instanceof zs)}let Je=(()=>{class w{constructor(v,R,L,K,ue,Ge){this.router=v,this.route=R,this.tabIndexAttribute=L,this.renderer=K,this.el=ue,this.locationStrategy=Ge,this.href=null,this.commands=null,this.onChanges=new Me.B,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const ze=ue.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===ze||"area"===ze,this.isAnchorElement?this.subscription=v.events.subscribe(Ct=>{Ct instanceof Mr&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(v){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",v)}ngOnChanges(v){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(v){null!=v?(this.commands=Array.isArray(v)?v:[v],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(v,R,L,K,ue){return!!(null===this.urlTree||this.isAnchorElement&&(0!==v||R||L||K||ue||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const v=null===this.href?null:(0,b.n$t)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",v)}applyAttributeValue(v,R){const L=this.renderer,K=this.el.nativeElement;null!==R?L.setAttribute(K,v,R):L.removeAttribute(K,v)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(R){return new(R||w)(b.rXU(sn),b.rXU(Os),b.kS0("tabindex"),b.rXU(b.sFG),b.rXU(b.aKT),b.rXU(ct.hb))}}static{this.\u0275dir=b.FsC({type:w,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(R,L){1&R&&b.bIt("click",function(ue){return L.onClick(ue.button,ue.ctrlKey,ue.shiftKey,ue.altKey,ue.metaKey)}),2&R&&b.BMQ("target",L.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",b.L39],skipLocationChange:["skipLocationChange","skipLocationChange",b.L39],replaceUrl:["replaceUrl","replaceUrl",b.L39],routerLink:"routerLink"},standalone:!0,features:[b.GFd,b.OA$]})}}return w})();class gt{}let Br=(()=>{class w{constructor(v,R,L,K,ue){this.router=v,this.injector=L,this.preloadingStrategy=K,this.loader=ue}setUpPreloading(){this.subscription=this.router.events.pipe((0,Kt.p)(v=>v instanceof Mr),(0,Qn.H)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(v,R){const L=[];for(const K of R){K.providers&&!K._injector&&(K._injector=(0,b.Ol2)(K.providers,v,`Route: ${K.path}`));const ue=K._injector??v,Ge=K._loadedInjector??ue;(K.loadChildren&&!K._loadedRoutes&&void 0===K.canLoad||K.loadComponent&&!K._loadedComponent)&&L.push(this.preloadConfig(ue,K)),(K.children||K._loadedRoutes)&&L.push(this.processRoutes(Ge,K.children??K._loadedRoutes))}return(0,fe.H)(L).pipe((0,Ke.U)())}preloadConfig(v,R){return this.preloadingStrategy.preload(R,()=>{let L;L=R.loadChildren&&void 0===R.canLoad?this.loader.loadChildren(v,R):(0,J.of)(null);const K=L.pipe((0,tn.Z)(ue=>null===ue?(0,J.of)(void 0):(R._loadedRoutes=ue.routes,R._loadedInjector=ue.injector,this.processRoutes(ue.injector??v,ue.routes))));if(R.loadComponent&&!R._loadedComponent){const ue=this.loader.loadComponent(R);return(0,fe.H)([K,ue]).pipe((0,Ke.U)())}return K})}static{this.\u0275fac=function(R){return new(R||w)(b.KVO(sn),b.KVO(b.Ql9),b.KVO(b.uvJ),b.KVO(gt),b.KVO(k))}}static{this.\u0275prov=b.jDH({token:w,factory:w.\u0275fac,providedIn:"root"})}}return w})();const Kr=new b.nKC("");let Mo=(()=>{class w{constructor(v,R,L,K,ue={}){this.urlSerializer=v,this.transitions=R,this.viewportScroller=L,this.zone=K,this.options=ue,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},ue.scrollPositionRestoration=ue.scrollPositionRestoration||"disabled",ue.anchorScrolling=ue.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(v=>{v instanceof Ki?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=v.navigationTrigger,this.restoredId=v.restoredState?v.restoredState.navigationId:0):v instanceof Mr?(this.lastId=v.id,this.scheduleScrollEvent(v,this.urlSerializer.parse(v.urlAfterRedirects).fragment)):v instanceof we&&0===v.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(v,this.urlSerializer.parse(v.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(v=>{v instanceof Js&&(v.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(v.position):v.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(v.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(v,R){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Js(v,"popstate"===this.lastSource?this.store[this.restoredId]:null,R))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(R){b.QTQ()}}static{this.\u0275prov=b.jDH({token:w,factory:w.\u0275fac})}}return w})();function rs(w,M){return{\u0275kind:w,\u0275providers:M}}function Mi(){const w=(0,b.WQX)(b.zZn);return M=>{const v=w.get(b.o8S);if(M!==v.components[0])return;const R=w.get(sn),L=w.get(hu);1===w.get(Qt)&&R.initialNavigation(),w.get(Xt,null,b.$GK.Optional)?.setUpPreloading(),w.get(Kr,null,b.$GK.Optional)?.init(),R.resetRootComponentType(v.componentTypes[0]),L.closed||(L.next(),L.complete(),L.unsubscribe())}}const hu=new b.nKC("",{factory:()=>new Me.B}),Qt=new b.nKC("",{providedIn:"root",factory:()=>1}),Xt=new b.nKC("");function Ua(w){return rs(0,[{provide:Xt,useExisting:Br},{provide:gt,useExisting:w}])}const Kn=new b.nKC("ROUTER_FORROOT_GUARD"),Ro=[ct.aZ,{provide:an,useClass:Yr},sn,$i,{provide:Os,useFactory:function ls(w){return w.routerState.root},deps:[sn]},k,[]];function Pu(){return new b.NEm("Router",sn)}let Ri=(()=>{class w{constructor(v){}static forRoot(v,R){return{ngModule:w,providers:[Ro,[],{provide:S,multi:!0,useValue:v},{provide:Kn,useFactory:Xa,deps:[[sn,new b.Xx1,new b.kdw]]},{provide:Pr,useValue:R||{}},R?.useHash?{provide:ct.hb,useClass:ct.fw}:{provide:ct.hb,useClass:ct.Sm},{provide:Kr,useFactory:()=>{const w=(0,b.WQX)(ct.Xr),M=(0,b.WQX)(b.SKi),v=(0,b.WQX)(Pr),R=(0,b.WQX)(st),L=(0,b.WQX)(an);return v.scrollOffset&&w.setOffset(v.scrollOffset),new Mo(L,R,w,M,v)}},R?.preloadingStrategy?Ua(R.preloadingStrategy).\u0275providers:[],{provide:b.NEm,multi:!0,useFactory:Pu},R?.initialNavigation?Cs(R):[],R?.bindToComponentInputs?rs(8,[Ur,{provide:ms,useExisting:Ur}]).\u0275providers:[],[{provide:xu,useFactory:Mi},{provide:b.iLQ,multi:!0,useExisting:xu}]]}}static forChild(v){return{ngModule:w,providers:[{provide:S,multi:!0,useValue:v}]}}static{this.\u0275fac=function(R){return new(R||w)(b.KVO(Kn,8))}}static{this.\u0275mod=b.$C({type:w})}static{this.\u0275inj=b.G2t({})}}return w})();function Xa(w){return"guarded"}function Cs(w){return["disabled"===w.initialNavigation?rs(3,[{provide:b.hnV,multi:!0,useFactory:()=>{const M=(0,b.WQX)(sn);return()=>{M.setUpLocationChangeListener()}}},{provide:Qt,useValue:2}]).\u0275providers:[],"enabledBlocking"===w.initialNavigation?rs(2,[{provide:Qt,useValue:0},{provide:b.hnV,multi:!0,deps:[b.zZn],useFactory:M=>{const v=M.get(ct.hj,Promise.resolve());return()=>v.then(()=>new Promise(R=>{const L=M.get(sn),K=M.get(hu);er(L,()=>{R(!0)}),M.get(st).afterPreactivation=()=>(R(!0),K.closed?(0,J.of)(void 0):K),L.initialNavigation()}))}}]).\u0275providers:[]]}const xu=new b.nKC("")},7852:(Lt,$e,B)=>{B.d($e,{MF:()=>Jr,j6:()=>rr,om:()=>Ut,Sx:()=>Fn,Dk:()=>br,Wp:()=>oi,KO:()=>ui});var b=B(467),oe=B(1362),pe=B(8041),ie=B(1076);const fe=(le,ce)=>ce.some(Se=>le instanceof Se);let J,te;const re=new WeakMap,ae=new WeakMap,Ae=new WeakMap,qe=new WeakMap,_e=new WeakMap;let Vt={get(le,ce,Se){if(le instanceof IDBTransaction){if("done"===ce)return ae.get(le);if("objectStoreNames"===ce)return le.objectStoreNames||Ae.get(le);if("store"===ce)return Se.objectStoreNames[1]?void 0:Se.objectStore(Se.objectStoreNames[0])}return Me(le[ce])},set:(le,ce,Se)=>(le[ce]=Se,!0),has:(le,ce)=>le instanceof IDBTransaction&&("done"===ce||"store"===ce)||ce in le};function Cn(le){return"function"==typeof le?function Tn(le){return le!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Fe(){return te||(te=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(le)?function(...ce){return le.apply(ct(this),ce),Me(re.get(this))}:function(...ce){return Me(le.apply(ct(this),ce))}:function(ce,...Se){const Qe=le.call(ct(this),ce,...Se);return Ae.set(Qe,ce.sort?ce.sort():[ce]),Me(Qe)}}(le):(le instanceof IDBTransaction&&function We(le){if(ae.has(le))return;const ce=new Promise((Se,Qe)=>{const At=()=>{le.removeEventListener("complete",at),le.removeEventListener("error",nn),le.removeEventListener("abort",nn)},at=()=>{Se(),At()},nn=()=>{Qe(le.error||new DOMException("AbortError","AbortError")),At()};le.addEventListener("complete",at),le.addEventListener("error",nn),le.addEventListener("abort",nn)});ae.set(le,ce)}(le),fe(le,function Re(){return J||(J=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(le,Vt):le)}function Me(le){if(le instanceof IDBRequest)return function vt(le){const ce=new Promise((Se,Qe)=>{const At=()=>{le.removeEventListener("success",at),le.removeEventListener("error",nn)},at=()=>{Se(Me(le.result)),At()},nn=()=>{Qe(le.error),At()};le.addEventListener("success",at),le.addEventListener("error",nn)});return ce.then(Se=>{Se instanceof IDBCursor&&re.set(Se,le)}).catch(()=>{}),_e.set(ce,le),ce}(le);if(qe.has(le))return qe.get(le);const ce=Cn(le);return ce!==le&&(qe.set(le,ce),_e.set(ce,le)),ce}const ct=le=>_e.get(le),_t=["get","getKey","getAll","getAllKeys","count"],pt=["put","add","delete","clear"],Kt=new Map;function tn(le,ce){if(!(le instanceof IDBDatabase)||ce in le||"string"!=typeof ce)return;if(Kt.get(ce))return Kt.get(ce);const Se=ce.replace(/FromIndex$/,""),Qe=ce!==Se,At=pt.includes(Se);if(!(Se in(Qe?IDBIndex:IDBObjectStore).prototype)||!At&&!_t.includes(Se))return;const at=function(){var nn=(0,b.A)(function*(Pn,..._n){const jn=this.transaction(Pn,At?"readwrite":"readonly");let zr=jn.store;return Qe&&(zr=zr.index(_n.shift())),(yield Promise.all([zr[Se](..._n),At&&jn.done]))[0]});return function(_n){return nn.apply(this,arguments)}}();return Kt.set(ce,at),at}!function Ot(le){Vt=le(Vt)}(le=>({...le,get:(ce,Se,Qe)=>tn(ce,Se)||le.get(ce,Se,Qe),has:(ce,Se)=>!!tn(ce,Se)||le.has(ce,Se)}));class vn{constructor(ce){this.container=ce}getPlatformInfoString(){return this.container.getProviders().map(Se=>{if(function Qn(le){const ce=le.getComponent();return"VERSION"===ce?.type}(Se)){const Qe=Se.getImmediate();return`${Qe.library}/${Qe.version}`}return null}).filter(Se=>Se).join(" ")}}const lt="@firebase/app",On=new pe.Vy("@firebase/app"),qt="[DEFAULT]",gn={[lt]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},dn=new Map,Vn=new Map;function _r(le,ce){try{le.container.addComponent(ce)}catch(Se){On.debug(`Component ${ce.name} failed to register with FirebaseApp ${le.name}`,Se)}}function Ut(le){const ce=le.name;if(Vn.has(ce))return On.debug(`There were multiple attempts to register component ${ce}.`),!1;Vn.set(ce,le);for(const Se of dn.values())_r(Se,le);return!0}function rr(le,ce){const Se=le.container.getProvider("heartbeat").getImmediate({optional:!0});return Se&&Se.triggerHeartbeat(),le.container.getProvider(ce)}const an=new ie.FA("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Yr{constructor(ce,Se,Qe){this._isDeleted=!1,this._options=Object.assign({},ce),this._config=Object.assign({},Se),this._name=Se.name,this._automaticDataCollectionEnabled=Se.automaticDataCollectionEnabled,this._container=Qe,this.container.addComponent(new oe.uA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ce){this.checkDestroyed(),this._automaticDataCollectionEnabled=ce}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(ce){this._isDeleted=ce}checkDestroyed(){if(this.isDeleted)throw an.create("app-deleted",{appName:this._name})}}const Jr="9.23.0";function oi(le,ce={}){let Se=le;"object"!=typeof ce&&(ce={name:ce});const Qe=Object.assign({name:qt,automaticDataCollectionEnabled:!1},ce),At=Qe.name;if("string"!=typeof At||!At)throw an.create("bad-app-name",{appName:String(At)});if(Se||(Se=(0,ie.T9)()),!Se)throw an.create("no-options");const at=dn.get(At);if(at){if((0,ie.bD)(Se,at.options)&&(0,ie.bD)(Qe,at.config))return at;throw an.create("duplicate-app",{appName:At})}const nn=new oe.h1(At);for(const _n of Vn.values())nn.addComponent(_n);const Pn=new Yr(Se,Qe,nn);return dn.set(At,Pn),Pn}function Fn(le=qt){const ce=dn.get(le);if(!ce&&le===qt&&(0,ie.T9)())return oi();if(!ce)throw an.create("no-app",{appName:le});return ce}function br(){return Array.from(dn.values())}function ui(le,ce,Se){var Qe;let At=null!==(Qe=gn[le])&&void 0!==Qe?Qe:le;Se&&(At+=`-${Se}`);const at=At.match(/\s|\//),nn=ce.match(/\s|\//);if(at||nn){const Pn=[`Unable to register library "${At}" with version "${ce}":`];return at&&Pn.push(`library name "${At}" contains illegal characters (whitespace or "/")`),at&&nn&&Pn.push("and"),nn&&Pn.push(`version name "${ce}" contains illegal characters (whitespace or "/")`),void On.warn(Pn.join(" "))}Ut(new oe.uA(`${At}-version`,()=>({library:At,version:ce}),"VERSION"))}const Nn="firebase-heartbeat-database",Sr=1,me="firebase-heartbeat-store";let W=null;function Q(){return W||(W=function Ne(le,ce,{blocked:Se,upgrade:Qe,blocking:At,terminated:at}={}){const nn=indexedDB.open(le,ce),Pn=Me(nn);return Qe&&nn.addEventListener("upgradeneeded",_n=>{Qe(Me(nn.result),_n.oldVersion,_n.newVersion,Me(nn.transaction),_n)}),Se&&nn.addEventListener("blocked",_n=>Se(_n.oldVersion,_n.newVersion,_n)),Pn.then(_n=>{at&&_n.addEventListener("close",()=>at()),At&&_n.addEventListener("versionchange",jn=>At(jn.oldVersion,jn.newVersion,jn))}).catch(()=>{}),Pn}(Nn,Sr,{upgrade:(le,ce)=>{0===ce&&le.createObjectStore(me)}}).catch(le=>{throw an.create("idb-open",{originalErrorMessage:le.message})})),W}function G(){return(G=(0,b.A)(function*(le){try{return yield(yield Q()).transaction(me).objectStore(me).get(St(le))}catch(ce){if(ce instanceof ie.g)On.warn(ce.message);else{const Se=an.create("idb-get",{originalErrorMessage:ce?.message});On.warn(Se.message)}}})).apply(this,arguments)}function De(le,ce){return tt.apply(this,arguments)}function tt(){return(tt=(0,b.A)(function*(le,ce){try{const Qe=(yield Q()).transaction(me,"readwrite");yield Qe.objectStore(me).put(ce,St(le)),yield Qe.done}catch(Se){if(Se instanceof ie.g)On.warn(Se.message);else{const Qe=an.create("idb-set",{originalErrorMessage:Se?.message});On.warn(Qe.message)}}})).apply(this,arguments)}function St(le){return`${le.name}!${le.options.appId}`}class $t{constructor(ce){this.container=ce,this._heartbeatsCache=null;const Se=this.container.getProvider("app").getImmediate();this._storage=new Ce(Se),this._heartbeatsCachePromise=this._storage.read().then(Qe=>(this._heartbeatsCache=Qe,Qe))}triggerHeartbeat(){var ce=this;return(0,b.A)(function*(){const Qe=ce.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),At=on();if(null===ce._heartbeatsCache&&(ce._heartbeatsCache=yield ce._heartbeatsCachePromise),ce._heartbeatsCache.lastSentHeartbeatDate!==At&&!ce._heartbeatsCache.heartbeats.some(at=>at.date===At))return ce._heartbeatsCache.heartbeats.push({date:At,agent:Qe}),ce._heartbeatsCache.heartbeats=ce._heartbeatsCache.heartbeats.filter(at=>{const nn=new Date(at.date).valueOf();return Date.now()-nn<=2592e6}),ce._storage.overwrite(ce._heartbeatsCache)})()}getHeartbeatsHeader(){var ce=this;return(0,b.A)(function*(){if(null===ce._heartbeatsCache&&(yield ce._heartbeatsCachePromise),null===ce._heartbeatsCache||0===ce._heartbeatsCache.heartbeats.length)return"";const Se=on(),{heartbeatsToSend:Qe,unsentEntries:At}=function ir(le,ce=1024){const Se=[];let Qe=le.slice();for(const At of le){const at=Se.find(nn=>nn.agent===At.agent);if(at){if(at.dates.push(At.date),he(Se)>ce){at.dates.pop();break}}else if(Se.push({agent:At.agent,dates:[At.date]}),he(Se)>ce){Se.pop();break}Qe=Qe.slice(1)}return{heartbeatsToSend:Se,unsentEntries:Qe}}(ce._heartbeatsCache.heartbeats),at=(0,ie.Uj)(JSON.stringify({version:2,heartbeats:Qe}));return ce._heartbeatsCache.lastSentHeartbeatDate=Se,At.length>0?(ce._heartbeatsCache.heartbeats=At,yield ce._storage.overwrite(ce._heartbeatsCache)):(ce._heartbeatsCache.heartbeats=[],ce._storage.overwrite(ce._heartbeatsCache)),at})()}}function on(){return(new Date).toISOString().substring(0,10)}class Ce{constructor(ce){this.app=ce,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,b.A)(function*(){return!!(0,ie.zW)()&&(0,ie.eX)().then(()=>!0).catch(()=>!1)})()}read(){var ce=this;return(0,b.A)(function*(){return(yield ce._canUseIndexedDBPromise)&&(yield function q(le){return G.apply(this,arguments)}(ce.app))||{heartbeats:[]}})()}overwrite(ce){var Se=this;return(0,b.A)(function*(){var Qe;if(yield Se._canUseIndexedDBPromise){const at=yield Se.read();return De(Se.app,{lastSentHeartbeatDate:null!==(Qe=ce.lastSentHeartbeatDate)&&void 0!==Qe?Qe:at.lastSentHeartbeatDate,heartbeats:ce.heartbeats})}})()}add(ce){var Se=this;return(0,b.A)(function*(){var Qe;if(yield Se._canUseIndexedDBPromise){const at=yield Se.read();return De(Se.app,{lastSentHeartbeatDate:null!==(Qe=ce.lastSentHeartbeatDate)&&void 0!==Qe?Qe:at.lastSentHeartbeatDate,heartbeats:[...at.heartbeats,...ce.heartbeats]})}})()}}function he(le){return(0,ie.Uj)(JSON.stringify({version:2,heartbeats:le})).length}!function ye(le){Ut(new oe.uA("platform-logger",ce=>new vn(ce),"PRIVATE")),Ut(new oe.uA("heartbeat",ce=>new $t(ce),"PRIVATE")),ui(lt,"0.9.13",le),ui(lt,"0.9.13","esm2017"),ui("fire-js","")}("")},1362:(Lt,$e,B)=>{B.d($e,{h1:()=>Re,uA:()=>pe});var b=B(467),oe=B(1076);class pe{constructor(re,ae,Ae){this.name=re,this.instanceFactory=ae,this.type=Ae,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(re){return this.instantiationMode=re,this}setMultipleInstances(re){return this.multipleInstances=re,this}setServiceProps(re){return this.serviceProps=re,this}setInstanceCreatedCallback(re){return this.onInstanceCreated=re,this}}const ie="[DEFAULT]";class fe{constructor(re,ae){this.name=re,this.container=ae,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(re){const ae=this.normalizeInstanceIdentifier(re);if(!this.instancesDeferred.has(ae)){const Ae=new oe.cY;if(this.instancesDeferred.set(ae,Ae),this.isInitialized(ae)||this.shouldAutoInitialize())try{const qe=this.getOrInitializeService({instanceIdentifier:ae});qe&&Ae.resolve(qe)}catch{}}return this.instancesDeferred.get(ae).promise}getImmediate(re){var ae;const Ae=this.normalizeInstanceIdentifier(re?.identifier),qe=null!==(ae=re?.optional)&&void 0!==ae&&ae;if(!this.isInitialized(Ae)&&!this.shouldAutoInitialize()){if(qe)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Ae})}catch(_e){if(qe)return null;throw _e}}getComponent(){return this.component}setComponent(re){if(re.name!==this.name)throw Error(`Mismatching Component ${re.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=re,this.shouldAutoInitialize()){if(function te(Fe){return"EAGER"===Fe.instantiationMode}(re))try{this.getOrInitializeService({instanceIdentifier:ie})}catch{}for(const[ae,Ae]of this.instancesDeferred.entries()){const qe=this.normalizeInstanceIdentifier(ae);try{const _e=this.getOrInitializeService({instanceIdentifier:qe});Ae.resolve(_e)}catch{}}}}clearInstance(re=ie){this.instancesDeferred.delete(re),this.instancesOptions.delete(re),this.instances.delete(re)}delete(){var re=this;return(0,b.A)(function*(){const ae=Array.from(re.instances.values());yield Promise.all([...ae.filter(Ae=>"INTERNAL"in Ae).map(Ae=>Ae.INTERNAL.delete()),...ae.filter(Ae=>"_delete"in Ae).map(Ae=>Ae._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(re=ie){return this.instances.has(re)}getOptions(re=ie){return this.instancesOptions.get(re)||{}}initialize(re={}){const{options:ae={}}=re,Ae=this.normalizeInstanceIdentifier(re.instanceIdentifier);if(this.isInitialized(Ae))throw Error(`${this.name}(${Ae}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const qe=this.getOrInitializeService({instanceIdentifier:Ae,options:ae});for(const[_e,vt]of this.instancesDeferred.entries())Ae===this.normalizeInstanceIdentifier(_e)&&vt.resolve(qe);return qe}onInit(re,ae){var Ae;const qe=this.normalizeInstanceIdentifier(ae),_e=null!==(Ae=this.onInitCallbacks.get(qe))&&void 0!==Ae?Ae:new Set;_e.add(re),this.onInitCallbacks.set(qe,_e);const vt=this.instances.get(qe);return vt&&re(vt,qe),()=>{_e.delete(re)}}invokeOnInitCallbacks(re,ae){const Ae=this.onInitCallbacks.get(ae);if(Ae)for(const qe of Ae)try{qe(re,ae)}catch{}}getOrInitializeService({instanceIdentifier:re,options:ae={}}){let Ae=this.instances.get(re);if(!Ae&&this.component&&(Ae=this.component.instanceFactory(this.container,{instanceIdentifier:(Fe=re,Fe===ie?void 0:Fe),options:ae}),this.instances.set(re,Ae),this.instancesOptions.set(re,ae),this.invokeOnInitCallbacks(Ae,re),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,re,Ae)}catch{}var Fe;return Ae||null}normalizeInstanceIdentifier(re=ie){return this.component?this.component.multipleInstances?re:ie:re}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Re{constructor(re){this.name=re,this.providers=new Map}addComponent(re){const ae=this.getProvider(re.name);if(ae.isComponentSet())throw new Error(`Component ${re.name} has already been registered with ${this.name}`);ae.setComponent(re)}addOrOverwriteComponent(re){this.getProvider(re.name).isComponentSet()&&this.providers.delete(re.name),this.addComponent(re)}getProvider(re){if(this.providers.has(re))return this.providers.get(re);const ae=new fe(re,this);return this.providers.set(re,ae),ae}getProviders(){return Array.from(this.providers.values())}}},8041:(Lt,$e,B)=>{B.d($e,{$b:()=>oe,Vy:()=>te});const b=[];var oe=function(re){return re[re.DEBUG=0]="DEBUG",re[re.VERBOSE=1]="VERBOSE",re[re.INFO=2]="INFO",re[re.WARN=3]="WARN",re[re.ERROR=4]="ERROR",re[re.SILENT=5]="SILENT",re}(oe||{});const pe={debug:oe.DEBUG,verbose:oe.VERBOSE,info:oe.INFO,warn:oe.WARN,error:oe.ERROR,silent:oe.SILENT},ie=oe.INFO,fe={[oe.DEBUG]:"log",[oe.VERBOSE]:"log",[oe.INFO]:"info",[oe.WARN]:"warn",[oe.ERROR]:"error"},J=(re,ae,...Ae)=>{if(ae<re.logLevel)return;const qe=(new Date).toISOString(),_e=fe[ae];if(!_e)throw new Error(`Attempted to log a message with an invalid logType (value: ${ae})`);console[_e](`[${qe}]  ${re.name}:`,...Ae)};class te{constructor(ae){this.name=ae,this._logLevel=ie,this._logHandler=J,this._userLogHandler=null,b.push(this)}get logLevel(){return this._logLevel}set logLevel(ae){if(!(ae in oe))throw new TypeError(`Invalid value "${ae}" assigned to \`logLevel\``);this._logLevel=ae}setLogLevel(ae){this._logLevel="string"==typeof ae?pe[ae]:ae}get logHandler(){return this._logHandler}set logHandler(ae){if("function"!=typeof ae)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ae}get userLogHandler(){return this._userLogHandler}set userLogHandler(ae){this._userLogHandler=ae}debug(...ae){this._userLogHandler&&this._userLogHandler(this,oe.DEBUG,...ae),this._logHandler(this,oe.DEBUG,...ae)}log(...ae){this._userLogHandler&&this._userLogHandler(this,oe.VERBOSE,...ae),this._logHandler(this,oe.VERBOSE,...ae)}info(...ae){this._userLogHandler&&this._userLogHandler(this,oe.INFO,...ae),this._logHandler(this,oe.INFO,...ae)}warn(...ae){this._userLogHandler&&this._userLogHandler(this,oe.WARN,...ae),this._logHandler(this,oe.WARN,...ae)}error(...ae){this._userLogHandler&&this._userLogHandler(this,oe.ERROR,...ae),this._logHandler(this,oe.ERROR,...ae)}}},2214:(Lt,$e,B)=>{B.d($e,{Dk:()=>b.Dk,KO:()=>b.KO,Sx:()=>b.Sx,Wp:()=>b.Wp});var b=B(7852);(0,b.KO)("firebase","9.23.0","app")},467:(Lt,$e,B)=>{function b(pe,ie,fe,J,te,Re,Fe){try{var re=pe[Re](Fe),ae=re.value}catch(Ae){return void fe(Ae)}re.done?ie(ae):Promise.resolve(ae).then(J,te)}function oe(pe){return function(){var ie=this,fe=arguments;return new Promise(function(J,te){var Re=pe.apply(ie,fe);function Fe(ae){b(Re,J,te,Fe,re,"next",ae)}function re(ae){b(Re,J,te,Fe,re,"throw",ae)}Fe(void 0)})}}B.d($e,{A:()=>oe})},1635:(Lt,$e,B)=>{function ie(ke,He){var Ue={};for(var Ye in ke)Object.prototype.hasOwnProperty.call(ke,Ye)&&He.indexOf(Ye)<0&&(Ue[Ye]=ke[Ye]);if(null!=ke&&"function"==typeof Object.getOwnPropertySymbols){var it=0;for(Ye=Object.getOwnPropertySymbols(ke);it<Ye.length;it++)He.indexOf(Ye[it])<0&&Object.prototype.propertyIsEnumerable.call(ke,Ye[it])&&(Ue[Ye[it]]=ke[Ye[it]])}return Ue}function Ae(ke,He,Ue,Ye){return new(Ue||(Ue=Promise))(function(Ke,Tt){function mt(mn){try{Rt(Ye.next(mn))}catch(wn){Tt(wn)}}function Mn(mn){try{Rt(Ye.throw(mn))}catch(wn){Tt(wn)}}function Rt(mn){mn.done?Ke(mn.value):function it(Ke){return Ke instanceof Ue?Ke:new Ue(function(Tt){Tt(Ke)})}(mn.value).then(mt,Mn)}Rt((Ye=Ye.apply(ke,He||[])).next())})}function Me(ke){return this instanceof Me?(this.v=ke,this):new Me(ke)}function ct(ke,He,Ue){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var it,Ye=Ue.apply(ke,He||[]),Ke=[];return it=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),mt("next"),mt("throw"),mt("return",function Tt(Jt){return function(pr){return Promise.resolve(pr).then(Jt,wn)}}),it[Symbol.asyncIterator]=function(){return this},it;function mt(Jt,pr){Ye[Jt]&&(it[Jt]=function(Xn){return new Promise(function(gr,nr){Ke.push([Jt,Xn,gr,nr])>1||Mn(Jt,Xn)})},pr&&(it[Jt]=pr(it[Jt])))}function Mn(Jt,pr){try{!function Rt(Jt){Jt.value instanceof Me?Promise.resolve(Jt.value.v).then(mn,wn):cr(Ke[0][2],Jt)}(Ye[Jt](pr))}catch(Xn){cr(Ke[0][3],Xn)}}function mn(Jt){Mn("next",Jt)}function wn(Jt){Mn("throw",Jt)}function cr(Jt,pr){Jt(pr),Ke.shift(),Ke.length&&Mn(Ke[0][0],Ke[0][1])}}function et(ke){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ue,He=ke[Symbol.asyncIterator];return He?He.call(ke):(ke=function We(ke){var He="function"==typeof Symbol&&Symbol.iterator,Ue=He&&ke[He],Ye=0;if(Ue)return Ue.call(ke);if(ke&&"number"==typeof ke.length)return{next:function(){return ke&&Ye>=ke.length&&(ke=void 0),{value:ke&&ke[Ye++],done:!ke}}};throw new TypeError(He?"Object is not iterable.":"Symbol.iterator is not defined.")}(ke),Ue={},Ye("next"),Ye("throw"),Ye("return"),Ue[Symbol.asyncIterator]=function(){return this},Ue);function Ye(Ke){Ue[Ke]=ke[Ke]&&function(Tt){return new Promise(function(mt,Mn){!function it(Ke,Tt,mt,Mn){Promise.resolve(Mn).then(function(Rt){Ke({value:Rt,done:mt})},Tt)}(mt,Mn,(Tt=ke[Ke](Tt)).done,Tt.value)})}}}B.d($e,{AQ:()=>ct,N3:()=>Me,Tt:()=>ie,sH:()=>Ae,xN:()=>et}),"function"==typeof SuppressedError&&SuppressedError}},Lt=>{Lt(Lt.s=1326)}]);