"use strict";(self.webpackChunkcoop_app=self.webpackChunkcoop_app||[]).push([[792],{3664:(Vt,je,B)=>{B.d(je,{kR:()=>qn});var C=B(1161),fe=(B(7705),B(8934),B(2214),B(467)),J=B(7852),ee=B(1362),Ae=B(1076),Ue=B(8041);const ne=new Map,ae={activated:!1,tokenObservers:[]},Re={initialized:!1,enabled:!1};function Ke(Ee){return ne.get(Ee)||Object.assign({},ae)}function pt(){return Re}const $e="https://content-firebaseappcheck.googleapis.com/v1",xn="exchangeDebugToken",Dn={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class at{constructor(ye,Le,rt,yt,tn){if(this.operation=ye,this.retryPolicy=Le,this.getWaitDuration=rt,this.lowerBound=yt,this.upperBound=tn,this.pending=null,this.nextErrorWaitInterval=yt,yt>tn)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(ye){var Le=this;return(0,fe.A)(function*(){Le.stop();try{Le.pending=new Ae.cY,yield function Ne(Ee){return new Promise(ye=>{setTimeout(ye,Ee)})}(Le.getNextRun(ye)),Le.pending.resolve(),yield Le.pending.promise,Le.pending=new Ae.cY,yield Le.operation(),Le.pending.resolve(),yield Le.pending.promise,Le.process(!0).catch(()=>{})}catch(rt){Le.retryPolicy(rt)?Le.process(!1).catch(()=>{}):Le.stop()}})()}getNextRun(ye){if(ye)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const Le=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),Le}}}const mt=new Ae.FA("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Qt(Ee){if(!Ke(Ee).activated)throw mt.create("use-before-activation",{appName:Ee.name})}function cr(Ee,ye){return ut.apply(this,arguments)}function ut(){return(ut=(0,fe.A)(function*({url:Ee,body:ye},Le){const rt={"Content-Type":"application/json"},yt=Le.getImmediate({optional:!0});if(yt){const Ni=yield yt.getHeartbeatsHeader();Ni&&(rt["X-Firebase-Client"]=Ni)}const tn={method:"POST",body:JSON.stringify(ye),headers:rt};let Hn,Vn;try{Hn=yield fetch(Ee,tn)}catch(Ni){throw mt.create("fetch-network-error",{originalErrorMessage:Ni?.message})}if(200!==Hn.status)throw mt.create("fetch-status-error",{httpStatus:Hn.status});try{Vn=yield Hn.json()}catch(Ni){throw mt.create("fetch-parse-error",{originalErrorMessage:Ni?.message})}const Gn=Vn.ttl.match(/^([\d.]+)(s)$/);if(!Gn||!Gn[2]||isNaN(Number(Gn[1])))throw mt.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${Vn.ttl}`});const as=1e3*Number(Gn[1]),jr=Date.now();return{token:Vn.token,expireTimeMillis:jr+as,issuedAtTimeMillis:jr}})).apply(this,arguments)}function ii(Ee,ye){const{projectId:Le,appId:rt,apiKey:yt}=Ee.options;return{url:`${$e}/projects/${Le}/apps/${rt}:${xn}?key=${yt}`,body:{debug_token:ye}}}const si="firebase-app-check-database",It=1,Si="firebase-app-check-store";let He=null;function bn(){return(bn=(0,fe.A)(function*(Ee,ye){const rt=(yield function Ve(){return He||(He=new Promise((Ee,ye)=>{try{const Le=indexedDB.open(si,It);Le.onsuccess=rt=>{Ee(rt.target.result)},Le.onerror=rt=>{var yt;ye(mt.create("storage-open",{originalErrorMessage:null===(yt=rt.target.error)||void 0===yt?void 0:yt.message}))},Le.onupgradeneeded=rt=>{0===rt.oldVersion&&rt.target.result.createObjectStore(Si,{keyPath:"compositeKey"})}}catch(Le){ye(mt.create("storage-open",{originalErrorMessage:Le?.message}))}}),He)}()).transaction(Si,"readwrite"),tn=rt.objectStore(Si).put({compositeKey:Ee,value:ye});return new Promise((Hn,Vn)=>{tn.onsuccess=Gn=>{Hn()},rt.onerror=Gn=>{var as;Vn(mt.create("storage-set",{originalErrorMessage:null===(as=Gn.target.error)||void 0===as?void 0:as.message}))}})})).apply(this,arguments)}const _r=new Ue.Vy("@firebase/app-check");function Xn(Ee,ye){return(0,Ae.zW)()?function it(Ee,ye){return function ht(Ee,ye){return bn.apply(this,arguments)}(function An(Ee){return`${Ee.options.appId}-${Ee.name}`}(Ee),ye)}(Ee,ye).catch(Le=>{_r.warn(`Failed to write token to IndexedDB. Error: ${Le}`)}):Promise.resolve()}function Vi(){return pt().enabled}function Di(){return Zr.apply(this,arguments)}function Zr(){return(Zr=(0,fe.A)(function*(){const Ee=pt();if(Ee.enabled&&Ee.token)return Ee.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const vn={error:"UNKNOWN_ERROR"};function pn(Ee){return Ae.K3.encodeString(JSON.stringify(Ee),!1)}function On(Ee){return pr.apply(this,arguments)}function pr(){return(pr=(0,fe.A)(function*(Ee,ye=!1){const Le=Ee.app;Qt(Le);const rt=Ke(Le);let tn,yt=rt.token;if(yt&&!fi(yt)&&(rt.token=void 0,yt=void 0),!yt){const Gn=yield rt.cachedTokenPromise;Gn&&(fi(Gn)?yt=Gn:yield Xn(Le,void 0))}if(!ye&&yt&&fi(yt))return{token:yt.token};let Vn,Hn=!1;if(Vi()){rt.exchangeTokenPromise||(rt.exchangeTokenPromise=cr(ii(Le,yield Di()),Ee.heartbeatServiceProvider).finally(()=>{rt.exchangeTokenPromise=void 0}),Hn=!0);const Gn=yield rt.exchangeTokenPromise;return yield Xn(Le,Gn),rt.token=Gn,{token:Gn.token}}try{rt.exchangeTokenPromise||(rt.exchangeTokenPromise=rt.provider.getToken().finally(()=>{rt.exchangeTokenPromise=void 0}),Hn=!0),yt=yield Ke(Le).exchangeTokenPromise}catch(Gn){"appCheck/throttled"===Gn.code?_r.warn(Gn.message):_r.error(Gn),tn=Gn}return yt?tn?Vn=fi(yt)?{token:yt.token,internalError:tn}:pi(tn):(Vn={token:yt.token},rt.token=yt,yield Xn(Le,yt)):Vn=pi(tn),Hn&&function hn(Ee,ye){const Le=Ke(Ee).tokenObservers;for(const rt of Le)try{"EXTERNAL"===rt.type&&null!=ye.error?rt.error(ye.error):rt.next(ye)}catch{}}(Le,Vn),Vn})).apply(this,arguments)}function lr(Ee){return $t.apply(this,arguments)}function $t(){return($t=(0,fe.A)(function*(Ee){const ye=Ee.app;Qt(ye);const{provider:Le}=Ke(ye);if(Vi()){const rt=yield Di(),{token:yt}=yield cr(ii(ye,rt),Ee.heartbeatServiceProvider);return{token:yt}}{const{token:rt}=yield Le.getToken();return{token:rt}}})).apply(this,arguments)}function oi(Ee,ye){const Le=Ke(Ee),rt=Le.tokenObservers.filter(yt=>yt.next!==ye);0===rt.length&&Le.tokenRefresher&&Le.tokenRefresher.isRunning()&&Le.tokenRefresher.stop(),Le.tokenObservers=rt}function Ut(Ee){const{app:ye}=Ee,Le=Ke(ye);let rt=Le.tokenRefresher;rt||(rt=function Mi(Ee){const{app:ye}=Ee;return new at((0,fe.A)(function*(){let rt;if(rt=Ke(ye).token?yield On(Ee,!0):yield On(Ee),rt.error)throw rt.error;if(rt.internalError)throw rt.internalError}),()=>!0,()=>{const Le=Ke(ye);if(Le.token){let rt=Le.token.issuedAtTimeMillis+.5*(Le.token.expireTimeMillis-Le.token.issuedAtTimeMillis)+3e5;return rt=Math.min(rt,Le.token.expireTimeMillis-3e5),Math.max(0,rt-Date.now())}return 0},Dn.RETRIAL_MIN_WAIT,Dn.RETRIAL_MAX_WAIT)}(Ee),Le.tokenRefresher=rt),!rt.isRunning()&&Le.isTokenAutoRefreshEnabled&&rt.start()}function fi(Ee){return Ee.expireTimeMillis-Date.now()>0}function pi(Ee){return{token:pn(vn),error:Ee}}class Ri{constructor(ye,Le){this.app=ye,this.heartbeatServiceProvider=Le}_delete(){const{tokenObservers:ye}=Ke(this.app);for(const Le of ye)oi(this.app,Le.next);return Promise.resolve()}}const Ye="app-check-internal";!function Et(){(0,J._registerComponent)(new ee.uA("app-check",Ee=>function Ar(Ee,ye){return new Ri(Ee,ye)}(Ee.getProvider("app").getImmediate(),Ee.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((Ee,ye,Le)=>{Ee.getProvider(Ye).initialize()})),(0,J._registerComponent)(new ee.uA(Ye,Ee=>function Vr(Ee){return{getToken:ye=>On(Ee,ye),getLimitedUseToken:()=>lr(Ee),addTokenListener:ye=>function Yn(Ee,ye,Le,rt){const{app:yt}=Ee,tn=Ke(yt);if(tn.tokenObservers=[...tn.tokenObservers,{next:Le,error:rt,type:ye}],tn.token&&fi(tn.token)){const Vn=tn.token;Promise.resolve().then(()=>{Le({token:Vn.token}),Ut(Ee)}).catch(()=>{})}tn.cachedTokenPromise.then(()=>Ut(Ee))}(Ee,"INTERNAL",ye),removeTokenListener:ye=>oi(Ee.app,ye)}}(Ee.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,J.registerVersion)("@firebase/app-check","0.8.0")}();class qn{constructor(){return(0,C.CA)("app-check")}}typeof window<"u"&&window},8934:(Vt,je,B)=>{B.d(je,{MW:()=>Ke,Wp:()=>jt,XU:()=>_e,gL:()=>fe});var C=B(2214),se=B(7705),he=B(1161);class _e{constructor(at){return at}}class fe{constructor(){return(0,C.Dk)()}}const Ae=new se.nKC("angularfire2._apps"),Ue={provide:_e,useFactory:function ee(Se){return Se&&1===Se.length?Se[0]:new _e((0,C.Sx)())},deps:[[new se.Xx1,Ae]]},ne={provide:fe,deps:[[new se.Xx1,Ae]]};function ae(Se){return(at,Ne)=>{const et=at.runOutsideAngular(()=>Se(Ne));return new _e(et)}}let Re=(()=>{class Se{constructor(Ne){(0,C.KO)("angularfire",he.xv.full,"core"),(0,C.KO)("angularfire",he.xv.full,"app"),(0,C.KO)("angular",se.xvI.full,Ne.toString())}}return Se.\u0275fac=function(Ne){return new(Ne||Se)(se.KVO(se.Agw))},Se.\u0275mod=se.$C({type:Se}),Se.\u0275inj=se.G2t({providers:[Ue,ne]}),Se})();function Ke(Se,...at){return{ngModule:Re,providers:[{provide:Ae,useFactory:ae(Se),multi:!0,deps:[se.SKi,se.zZn,he.u0,...at]}]}}const jt=(0,he.S3)(C.Wp,!0)},4952:(Vt,je,B)=>{B.d(je,{Nj:()=>Qu,DF:()=>Xu,wh:()=>ol,eJ:()=>Wh,xI:()=>qh,fN:()=>Xa,_q:()=>zd,x9:()=>Xl,CI:()=>Xd});var C=B(1161),se=B(7705),he=B(8934),_e=B(2214),fe=B(3664),J=B(467),ee=B(1076),Ae=B(7852),Ue=B(1635),ne=B(8041),ae=B(1362);const Dn=function Lt(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Se=new ee.FA("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ne=new ne.Vy("@firebase/auth");function mt(w,...h){Ne.logLevel<=ne.$b.ERROR&&Ne.error(`Auth (${Ae.SDK_VERSION}): ${w}`,...h)}function dt(w,...h){throw cr(w,...h)}function Qt(w,...h){return cr(w,...h)}function cr(w,...h){if("string"!=typeof w){const p=h[0],b=[...h.slice(1)];return b[0]&&(b[0].appName=w.name),w._errorFactory.create(p,...b)}return Se.create(w,...h)}function ut(w,h,...p){if(!w)throw cr(h,...p)}function yn(w){const h="INTERNAL ASSERTION FAILED: "+w;throw mt(h),new Error(h)}function $n(w,h){w||yn(h)}function ii(){var w;return typeof self<"u"&&(null===(w=self.location)||void 0===w?void 0:w.href)||""}function It(){var w;return typeof self<"u"&&(null===(w=self.location)||void 0===w?void 0:w.protocol)||null}class He{constructor(h,p){this.shortDelay=h,this.longDelay=p,$n(p>h,"Short delay should be less than long delay!"),this.isMobile=(0,ee.jZ)()||(0,ee.lV)()}get(){return function Si(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function si(){return"http:"===It()||"https:"===It()}()||(0,ee.sr)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Ve(w,h){$n(w.emulator,"Emulator should always be set here");const{url:p}=w.emulator;return h?`${p}${h.startsWith("/")?h.slice(1):h}`:p}class Je{static initialize(h,p,b){this.fetchImpl=h,p&&(this.headersImpl=p),b&&(this.responseImpl=b)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void yn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void yn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void yn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const it={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},ze=new He(3e4,6e4);function Dt(w,h){return w.tenantId&&!h.tenantId?Object.assign(Object.assign({},h),{tenantId:w.tenantId}):h}function ht(w,h,p,b){return bn.apply(this,arguments)}function bn(){return(bn=(0,J.A)(function*(w,h,p,b,$={}){return Ot(w,$,(0,J.A)(function*(){let Z={},Ce={};b&&("GET"===h?Ce=b:Z={body:JSON.stringify(b)});const qe=(0,ee.Am)(Object.assign({key:w.config.apiKey},Ce)).slice(1),_t=yield w._getAdditionalHeaders();return _t["Content-Type"]="application/json",w.languageCode&&(_t["X-Firebase-Locale"]=w.languageCode),Je.fetch()(Zt(w,w.config.apiHost,p,qe),Object.assign({method:h,headers:_t,referrerPolicy:"no-referrer"},Z))}))})).apply(this,arguments)}function Ot(w,h,p){return on.apply(this,arguments)}function on(){return(on=(0,J.A)(function*(w,h,p){w._canInitEmulator=!1;const b=Object.assign(Object.assign({},it),h);try{const $=new fr(w),Z=yield Promise.race([p(),$.promise]);$.clearNetworkTimeout();const Ce=yield Z.json();if("needConfirmation"in Ce)throw Xn(w,"account-exists-with-different-credential",Ce);if(Z.ok&&!("errorMessage"in Ce))return Ce;{const qe=Z.ok?Ce.errorMessage:Ce.error.message,[_t,Wt]=qe.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===_t)throw Xn(w,"credential-already-in-use",Ce);if("EMAIL_EXISTS"===_t)throw Xn(w,"email-already-in-use",Ce);if("USER_DISABLED"===_t)throw Xn(w,"user-disabled",Ce);const Pn=b[_t]||_t.toLowerCase().replace(/[_\s]+/g,"-");if(Wt)throw function un(w,h,p){const b=Object.assign(Object.assign({},Dn()),{[h]:p});return new ee.FA("auth","Firebase",b).create(h,{appName:w.name})}(w,Pn,Wt);dt(w,Pn)}}catch($){if($ instanceof ee.g)throw $;dt(w,"network-request-failed",{message:String($)})}})).apply(this,arguments)}function An(w,h,p,b){return _r.apply(this,arguments)}function _r(){return(_r=(0,J.A)(function*(w,h,p,b,$={}){const Z=yield ht(w,h,p,b,$);return"mfaPendingCredential"in Z&&dt(w,"multi-factor-auth-required",{_serverResponse:Z}),Z})).apply(this,arguments)}function Zt(w,h,p,b){const $=`${h}${p}?${b}`;return w.config.emulator?Ve(w.config,$):`${w.config.apiScheme}://${$}`}class fr{constructor(h){this.auth=h,this.timer=null,this.promise=new Promise((p,b)=>{this.timer=setTimeout(()=>b(Qt(this.auth,"network-request-failed")),ze.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Xn(w,h,p){const b={appName:w.name};p.email&&(b.email=p.email),p.phoneNumber&&(b.phoneNumber=p.phoneNumber);const $=Qt(w,h,b);return $.customData._tokenResponse=p,$}function sr(){return(sr=(0,J.A)(function*(w,h){return ht(w,"POST","/v1/accounts:delete",h)})).apply(this,arguments)}function Xt(){return(Xt=(0,J.A)(function*(w,h){return ht(w,"POST","/v1/accounts:lookup",h)})).apply(this,arguments)}function vn(w){if(w)try{const h=new Date(Number(w));if(!isNaN(h.getTime()))return h.toUTCString()}catch{}}function pr(){return(pr=(0,J.A)(function*(w,h=!1){const p=(0,ee.Ku)(w),b=yield p.getIdToken(h),$=$t(b);ut($&&$.exp&&$.auth_time&&$.iat,p.auth,"internal-error");const Z="object"==typeof $.firebase?$.firebase:void 0,Ce=Z?.sign_in_provider;return{claims:$,token:b,authTime:vn(lr($.auth_time)),issuedAtTime:vn(lr($.iat)),expirationTime:vn(lr($.exp)),signInProvider:Ce||null,signInSecondFactor:Z?.sign_in_second_factor||null}})).apply(this,arguments)}function lr(w){return 1e3*Number(w)}function $t(w){const[h,p,b]=w.split(".");if(void 0===h||void 0===p||void 0===b)return mt("JWT malformed, contained fewer than 3 sections"),null;try{const $=(0,ee.u)(p);return $?JSON.parse($):(mt("Failed to decode base64 JWT payload"),null)}catch($){return mt("Caught error parsing JWT payload as JSON",$?.toString()),null}}function oi(w,h){return Ut.apply(this,arguments)}function Ut(){return(Ut=(0,J.A)(function*(w,h,p=!1){if(p)return h;try{return yield h}catch(b){throw b instanceof ee.g&&function Mi({code:w}){return"auth/user-disabled"===w||"auth/user-token-expired"===w}(b)&&w.auth.currentUser===w&&(yield w.auth.signOut()),b}})).apply(this,arguments)}class hn{constructor(h){this.user=h,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(h){var p;if(h){const b=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),b}{this.errorBackoff=3e4;const $=(null!==(p=this.user.stsTokenManager.expirationTime)&&void 0!==p?p:0)-Date.now()-3e5;return Math.max(0,$)}}schedule(h=!1){var p=this;if(!this.isRunning)return;const b=this.getInterval(h);this.timerId=setTimeout((0,J.A)(function*(){yield p.iteration()}),b)}iteration(){var h=this;return(0,J.A)(function*(){try{yield h.user.getIdToken(!0)}catch(p){return void("auth/network-request-failed"===p?.code&&h.schedule(!0))}h.schedule()})()}}class fi{constructor(h,p){this.createdAt=h,this.lastLoginAt=p,this._initializeTime()}_initializeTime(){this.lastSignInTime=vn(this.lastLoginAt),this.creationTime=vn(this.createdAt)}_copy(h){this.createdAt=h.createdAt,this.lastLoginAt=h.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function pi(w){return Ri.apply(this,arguments)}function Ri(){return Ri=(0,J.A)(function*(w){var h;const p=w.auth,b=yield w.getIdToken(),$=yield oi(w,function Zr(w,h){return Xt.apply(this,arguments)}(p,{idToken:b}));ut($?.users.length,p,"internal-error");const Z=$.users[0];w._notifyReloadListener(Z);const Ce=null!==(h=Z.providerUserInfo)&&void 0!==h&&h.length?function Bi(w){return w.map(h=>{var{providerId:p}=h,b=(0,Ue.Tt)(h,["providerId"]);return{providerId:p,uid:b.rawId||"",displayName:b.displayName||null,email:b.email||null,phoneNumber:b.phoneNumber||null,photoURL:b.photoUrl||null}})}(Z.providerUserInfo):[],qe=function Kr(w,h){return[...w.filter(b=>!h.some($=>$.providerId===b.providerId)),...h]}(w.providerData,Ce),Pn=!!w.isAnonymous&&!(w.email&&Z.passwordHash||qe?.length),Cn={uid:Z.localId,displayName:Z.displayName||null,photoURL:Z.photoUrl||null,email:Z.email||null,emailVerified:Z.emailVerified||!1,phoneNumber:Z.phoneNumber||null,tenantId:Z.tenantId||null,providerData:qe,metadata:new fi(Z.createdAt,Z.lastLoginAt),isAnonymous:Pn};Object.assign(w,Cn)}),Ri.apply(this,arguments)}function Vr(){return(Vr=(0,J.A)(function*(w){const h=(0,ee.Ku)(w);yield pi(h),yield h.auth._persistUserIfCurrent(h),h.auth._notifyListenersIfCurrent(h)})).apply(this,arguments)}function ai(){return(ai=(0,J.A)(function*(w,h){const p=yield Ot(w,{},(0,J.A)(function*(){const b=(0,ee.Am)({grant_type:"refresh_token",refresh_token:h}).slice(1),{tokenApiHost:$,apiKey:Z}=w.config,Ce=Zt(w,$,"/v1/token",`key=${Z}`),qe=yield w._getAdditionalHeaders();return qe["Content-Type"]="application/x-www-form-urlencoded",Je.fetch()(Ce,{method:"POST",headers:qe,body:b})}));return{accessToken:p.access_token,expiresIn:p.expires_in,refreshToken:p.refresh_token}})).apply(this,arguments)}class zn{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(h){ut(h.idToken,"internal-error"),ut(typeof h.idToken<"u","internal-error"),ut(typeof h.refreshToken<"u","internal-error");const p="expiresIn"in h&&typeof h.expiresIn<"u"?Number(h.expiresIn):function Yn(w){const h=$t(w);return ut(h,"internal-error"),ut(typeof h.exp<"u","internal-error"),ut(typeof h.iat<"u","internal-error"),Number(h.exp)-Number(h.iat)}(h.idToken);this.updateTokensAndExpiration(h.idToken,h.refreshToken,p)}getToken(h){var p=this;return(0,J.A)(function*(b,$=!1){return ut(!p.accessToken||p.refreshToken,b,"user-token-expired"),$||!p.accessToken||p.isExpired?p.refreshToken?(yield p.refresh(b,p.refreshToken),p.accessToken):null:p.accessToken}).apply(this,arguments)}clearRefreshToken(){this.refreshToken=null}refresh(h,p){var b=this;return(0,J.A)(function*(){const{accessToken:$,refreshToken:Z,expiresIn:Ce}=yield function gi(w,h){return ai.apply(this,arguments)}(h,p);b.updateTokensAndExpiration($,Z,Number(Ce))})()}updateTokensAndExpiration(h,p,b){this.refreshToken=p||null,this.accessToken=h||null,this.expirationTime=Date.now()+1e3*b}static fromJSON(h,p){const{refreshToken:b,accessToken:$,expirationTime:Z}=p,Ce=new zn;return b&&(ut("string"==typeof b,"internal-error",{appName:h}),Ce.refreshToken=b),$&&(ut("string"==typeof $,"internal-error",{appName:h}),Ce.accessToken=$),Z&&(ut("number"==typeof Z,"internal-error",{appName:h}),Ce.expirationTime=Z),Ce}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(h){this.accessToken=h.accessToken,this.refreshToken=h.refreshToken,this.expirationTime=h.expirationTime}_clone(){return Object.assign(new zn,this.toJSON())}_performRefresh(){return yn("not implemented")}}function Ln(w,h){ut("string"==typeof w||typeof w>"u","internal-error",{appName:h})}class Sr{constructor(h){var{uid:p,auth:b,stsTokenManager:$}=h,Z=(0,Ue.Tt)(h,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new hn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=p,this.auth=b,this.stsTokenManager=$,this.accessToken=$.accessToken,this.displayName=Z.displayName||null,this.email=Z.email||null,this.emailVerified=Z.emailVerified||!1,this.phoneNumber=Z.phoneNumber||null,this.photoURL=Z.photoURL||null,this.isAnonymous=Z.isAnonymous||!1,this.tenantId=Z.tenantId||null,this.providerData=Z.providerData?[...Z.providerData]:[],this.metadata=new fi(Z.createdAt||void 0,Z.lastLoginAt||void 0)}getIdToken(h){var p=this;return(0,J.A)(function*(){const b=yield oi(p,p.stsTokenManager.getToken(p.auth,h));return ut(b,p.auth,"internal-error"),p.accessToken!==b&&(p.accessToken=b,yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)),b})()}getIdTokenResult(h){return function On(w){return pr.apply(this,arguments)}(this,h)}reload(){return function Ar(w){return Vr.apply(this,arguments)}(this)}_assign(h){this!==h&&(ut(this.uid===h.uid,this.auth,"internal-error"),this.displayName=h.displayName,this.photoURL=h.photoURL,this.email=h.email,this.emailVerified=h.emailVerified,this.phoneNumber=h.phoneNumber,this.isAnonymous=h.isAnonymous,this.tenantId=h.tenantId,this.providerData=h.providerData.map(p=>Object.assign({},p)),this.metadata._copy(h.metadata),this.stsTokenManager._assign(h.stsTokenManager))}_clone(h){const p=new Sr(Object.assign(Object.assign({},this),{auth:h,stsTokenManager:this.stsTokenManager._clone()}));return p.metadata._copy(this.metadata),p}_onReload(h){ut(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=h,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(h){this.reloadListener?this.reloadListener(h):this.reloadUserInfo=h}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(h){var p=this;return(0,J.A)(function*(b,$=!1){let Z=!1;b.idToken&&b.idToken!==p.stsTokenManager.accessToken&&(p.stsTokenManager.updateFromServerResponse(b),Z=!0),$&&(yield pi(p)),yield p.auth._persistUserIfCurrent(p),Z&&p.auth._notifyListenersIfCurrent(p)}).apply(this,arguments)}delete(){var h=this;return(0,J.A)(function*(){const p=yield h.getIdToken();return yield oi(h,function Ir(w,h){return sr.apply(this,arguments)}(h.auth,{idToken:p})),h.stsTokenManager.clearRefreshToken(),h.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(h=>Object.assign({},h)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(h,p){var b,$,Z,Ce,qe,_t,Wt,Pn;const Cn=null!==(b=p.displayName)&&void 0!==b?b:void 0,Ai=null!==($=p.email)&&void 0!==$?$:void 0,La=null!==(Z=p.phoneNumber)&&void 0!==Z?Z:void 0,Tu=null!==(Ce=p.photoURL)&&void 0!==Ce?Ce:void 0,ec=null!==(qe=p.tenantId)&&void 0!==qe?qe:void 0,Jl=null!==(_t=p._redirectEventId)&&void 0!==_t?_t:void 0,tc=null!==(Wt=p.createdAt)&&void 0!==Wt?Wt:void 0,hl=null!==(Pn=p.lastLoginAt)&&void 0!==Pn?Pn:void 0,{uid:Mc,emailVerified:hu,isAnonymous:Rc,providerData:Jd,stsTokenManager:os}=p;ut(Mc&&os,h,"internal-error");const Zd=zn.fromJSON(this.name,os);ut("string"==typeof Mc,h,"internal-error"),Ln(Cn,h.name),Ln(Ai,h.name),ut("boolean"==typeof hu,h,"internal-error"),ut("boolean"==typeof Rc,h,"internal-error"),Ln(La,h.name),Ln(Tu,h.name),Ln(ec,h.name),Ln(Jl,h.name),Ln(tc,h.name),Ln(hl,h.name);const Zl=new Sr({uid:Mc,auth:h,email:Ai,emailVerified:hu,displayName:Cn,isAnonymous:Rc,photoURL:Tu,phoneNumber:La,tenantId:ec,stsTokenManager:Zd,createdAt:tc,lastLoginAt:hl});return Jd&&Array.isArray(Jd)&&(Zl.providerData=Jd.map(fl=>Object.assign({},fl))),Jl&&(Zl._redirectEventId=Jl),Zl}static _fromIdTokenResponse(h,p){return(0,J.A)(function*(b,$,Z=!1){const Ce=new zn;Ce.updateFromServerResponse($);const qe=new Sr({uid:$.localId,auth:b,stsTokenManager:Ce,isAnonymous:Z});return yield pi(qe),qe}).apply(this,arguments)}}const ge=new Map;function W(w){$n(w instanceof Function,"Expected a class definition");let h=ge.get(w);return h?($n(h instanceof w,"Instance stored in cache mismatched with class"),h):(h=new w,ge.set(w,h),h)}const Q=(()=>{class w{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,J.A)(function*(){return!0})()}_set(p,b){var $=this;return(0,J.A)(function*(){$.storage[p]=b})()}_get(p){var b=this;return(0,J.A)(function*(){const $=b.storage[p];return void 0===$?null:$})()}_remove(p){var b=this;return(0,J.A)(function*(){delete b.storage[p]})()}_addListener(p,b){}_removeListener(p,b){}}return w.type="NONE",w})();function K(w,h,p){return`firebase:${w}:${h}:${p}`}class Te{constructor(h,p,b){this.persistence=h,this.auth=p,this.userKey=b;const{config:$,name:Z}=this.auth;this.fullUserKey=K(this.userKey,$.apiKey,Z),this.fullPersistenceKey=K("persistence",$.apiKey,Z),this.boundEventHandler=p._onStorageEvent.bind(p),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(h){return this.persistence._set(this.fullUserKey,h.toJSON())}getCurrentUser(){var h=this;return(0,J.A)(function*(){const p=yield h.persistence._get(h.fullUserKey);return p?Sr._fromJSON(h.auth,p):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(h){var p=this;return(0,J.A)(function*(){if(p.persistence===h)return;const b=yield p.getCurrentUser();return yield p.removeCurrentUser(),p.persistence=h,b?p.setCurrentUser(b):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(h,p){return(0,J.A)(function*(b,$,Z="authUser"){if(!$.length)return new Te(W(Q),b,Z);const Ce=(yield Promise.all($.map(function(){var Cn=(0,J.A)(function*(Ai){if(yield Ai._isAvailable())return Ai});return function(Ai){return Cn.apply(this,arguments)}}()))).filter(Cn=>Cn);let qe=Ce[0]||W(Q);const _t=K(Z,b.config.apiKey,b.name);let Wt=null;for(const Cn of $)try{const Ai=yield Cn._get(_t);if(Ai){const La=Sr._fromJSON(b,Ai);Cn!==qe&&(Wt=La),qe=Cn;break}}catch{}const Pn=Ce.filter(Cn=>Cn._shouldAllowMigration);return qe._shouldAllowMigration&&Pn.length?(qe=Pn[0],Wt&&(yield qe._set(_t,Wt.toJSON())),yield Promise.all($.map(function(){var Cn=(0,J.A)(function*(Ai){if(Ai!==qe)try{yield Ai._remove(_t)}catch{}});return function(Ai){return Cn.apply(this,arguments)}}())),new Te(qe,b,Z)):new Te(qe,b,Z)}).apply(this,arguments)}}function tt(w){const h=w.toLowerCase();if(h.includes("opera/")||h.includes("opr/")||h.includes("opios/"))return"Opera";if(Yt(h))return"IEMobile";if(h.includes("msie")||h.includes("trident/"))return"IE";if(h.includes("edge/"))return"Edge";if(Mt(h))return"Firefox";if(h.includes("silk/"))return"Silk";if(gr(h))return"Blackberry";if(be(h))return"Webos";if(Ht(h))return"Safari";if((h.includes("chrome/")||rn(h))&&!h.includes("edge/"))return"Chrome";if(gn(h))return"Android";{const b=w.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===b?.length)return b[1]}return"Other"}function Mt(w=(0,ee.ZQ)()){return/firefox\//i.test(w)}function Ht(w=(0,ee.ZQ)()){const h=w.toLowerCase();return h.includes("safari/")&&!h.includes("chrome/")&&!h.includes("crios/")&&!h.includes("android")}function rn(w=(0,ee.ZQ)()){return/crios\//i.test(w)}function Yt(w=(0,ee.ZQ)()){return/iemobile/i.test(w)}function gn(w=(0,ee.ZQ)()){return/android/i.test(w)}function gr(w=(0,ee.ZQ)()){return/blackberry/i.test(w)}function be(w=(0,ee.ZQ)()){return/webos/i.test(w)}function pe(w=(0,ee.ZQ)()){return/iphone|ipad|ipod/i.test(w)||/macintosh/i.test(w)&&/mobile/i.test(w)}function Me(w=(0,ee.ZQ)()){return pe(w)||gn(w)||be(w)||gr(w)||/windows phone/i.test(w)||Yt(w)}function Et(w,h=[]){let p;switch(w){case"Browser":p=tt((0,ee.ZQ)());break;case"Worker":p=`${tt((0,ee.ZQ)())}-${w}`;break;default:p=w}const b=h.length?h.join(","):"FirebaseCore-web";return`${p}/JsCore/${Ae.SDK_VERSION}/${b}`}function qn(w,h){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,J.A)(function*(w,h){return ht(w,"GET","/v2/recaptchaConfig",Dt(w,h))})).apply(this,arguments)}function mi(w){return void 0!==w&&void 0!==w.enterprise}class Ti{constructor(h){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===h.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=h.recaptchaKey.split("/")[3],this.emailPasswordEnabled=h.recaptchaEnforcementState.some(p=>"EMAIL_PASSWORD_PROVIDER"===p.provider&&"OFF"!==p.enforcementState)}}function tr(w){return new Promise((h,p)=>{const b=document.createElement("script");b.setAttribute("src",w),b.onload=h,b.onerror=$=>{const Z=Qt("internal-error");Z.customData=$,p(Z)},b.type="text/javascript",b.charset="UTF-8",function Un(){var w,h;return null!==(h=null===(w=document.getElementsByTagName("head"))||void 0===w?void 0:w[0])&&void 0!==h?h:document}().appendChild(b)})}function kr(w){return`__${w}${Math.floor(1e6*Math.random())}`}class Mr{constructor(h){this.type="recaptcha-enterprise",this.auth=Ee(h)}verify(){var h=this;return(0,J.A)(function*(p="verify",b=!1){function Z(){return Z=(0,J.A)(function*(qe){if(!b){if(null==qe.tenantId&&null!=qe._agentRecaptchaConfig)return qe._agentRecaptchaConfig.siteKey;if(null!=qe.tenantId&&void 0!==qe._tenantRecaptchaConfigs[qe.tenantId])return qe._tenantRecaptchaConfigs[qe.tenantId].siteKey}return new Promise(function(){var _t=(0,J.A)(function*(Wt,Pn){qn(qe,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Cn=>{if(void 0!==Cn.recaptchaKey){const Ai=new Ti(Cn);return null==qe.tenantId?qe._agentRecaptchaConfig=Ai:qe._tenantRecaptchaConfigs[qe.tenantId]=Ai,Wt(Ai.siteKey)}Pn(new Error("recaptcha Enterprise site key undefined"))}).catch(Cn=>{Pn(Cn)})});return function(Wt,Pn){return _t.apply(this,arguments)}}())}),Z.apply(this,arguments)}function Ce(qe,_t,Wt){const Pn=window.grecaptcha;mi(Pn)?Pn.enterprise.ready(()=>{Pn.enterprise.execute(qe,{action:p}).then(Cn=>{_t(Cn)}).catch(()=>{_t("NO_RECAPTCHA")})}):Wt(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((qe,_t)=>{(function $(qe){return Z.apply(this,arguments)})(h.auth).then(Wt=>{if(!b&&mi(window.grecaptcha))Ce(Wt,qe,_t);else{if(typeof window>"u")return void _t(new Error("RecaptchaVerifier is only supported in browser"));tr("https://www.google.com/recaptcha/enterprise.js?render="+Wt).then(()=>{Ce(Wt,qe,_t)}).catch(Pn=>{_t(Pn)})}}).catch(Wt=>{_t(Wt)})})}).apply(this,arguments)}}function qr(w,h,p){return qi.apply(this,arguments)}function qi(){return(qi=(0,J.A)(function*(w,h,p,b=!1){const $=new Mr(w);let Z;try{Z=yield $.verify(p)}catch{Z=yield $.verify(p,!0)}const Ce=Object.assign({},h);return Object.assign(Ce,b?{captchaResp:Z}:{captchaResponse:Z}),Object.assign(Ce,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(Ce,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),Ce})).apply(this,arguments)}class _s{constructor(h){this.auth=h,this.queue=[]}pushCallback(h,p){const b=Z=>new Promise((Ce,qe)=>{try{Ce(h(Z))}catch(_t){qe(_t)}});b.onAbort=p,this.queue.push(b);const $=this.queue.length-1;return()=>{this.queue[$]=()=>Promise.resolve()}}runMiddleware(h){var p=this;return(0,J.A)(function*(){if(p.auth.currentUser===h)return;const b=[];try{for(const $ of p.queue)yield $(h),$.onAbort&&b.push($.onAbort)}catch($){b.reverse();for(const Z of b)try{Z()}catch{}throw p.auth._errorFactory.create("login-blocked",{originalMessage:$?.message})}})()}}class uo{constructor(h,p,b,$){this.app=h,this.heartbeatServiceProvider=p,this.appCheckServiceProvider=b,this.config=$,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ye(this),this.idTokenSubscription=new ye(this),this.beforeStateQueue=new _s(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Se,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=h.name,this.clientVersion=$.sdkClientVersion}_initializeWithPersistence(h,p){var b=this;return p&&(this._popupRedirectResolver=W(p)),this._initializationPromise=this.queue((0,J.A)(function*(){var $,Z;if(!b._deleted&&(b.persistenceManager=yield Te.create(b,h),!b._deleted)){if(null!==($=b._popupRedirectResolver)&&void 0!==$&&$._shouldInitProactively)try{yield b._popupRedirectResolver._initialize(b)}catch{}yield b.initializeCurrentUser(p),b.lastNotifiedUid=(null===(Z=b.currentUser)||void 0===Z?void 0:Z.uid)||null,!b._deleted&&(b._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var h=this;return(0,J.A)(function*(){if(h._deleted)return;const p=yield h.assertedPersistence.getCurrentUser();if(h.currentUser||p){if(h.currentUser&&p&&h.currentUser.uid===p.uid)return h._currentUser._assign(p),void(yield h.currentUser.getIdToken());yield h._updateCurrentUser(p,!0)}})()}initializeCurrentUser(h){var p=this;return(0,J.A)(function*(){var b;const $=yield p.assertedPersistence.getCurrentUser();let Z=$,Ce=!1;if(h&&p.config.authDomain){yield p.getOrInitRedirectPersistenceManager();const qe=null===(b=p.redirectUser)||void 0===b?void 0:b._redirectEventId,_t=Z?._redirectEventId,Wt=yield p.tryRedirectSignIn(h);(!qe||qe===_t)&&Wt?.user&&(Z=Wt.user,Ce=!0)}if(!Z)return p.directlySetCurrentUser(null);if(!Z._redirectEventId){if(Ce)try{yield p.beforeStateQueue.runMiddleware(Z)}catch(qe){Z=$,p._popupRedirectResolver._overrideRedirectResult(p,()=>Promise.reject(qe))}return Z?p.reloadAndSetCurrentUserOrClear(Z):p.directlySetCurrentUser(null)}return ut(p._popupRedirectResolver,p,"argument-error"),yield p.getOrInitRedirectPersistenceManager(),p.redirectUser&&p.redirectUser._redirectEventId===Z._redirectEventId?p.directlySetCurrentUser(Z):p.reloadAndSetCurrentUserOrClear(Z)})()}tryRedirectSignIn(h){var p=this;return(0,J.A)(function*(){let b=null;try{b=yield p._popupRedirectResolver._completeRedirectFn(p,h,!0)}catch{yield p._setRedirectUser(null)}return b})()}reloadAndSetCurrentUserOrClear(h){var p=this;return(0,J.A)(function*(){try{yield pi(h)}catch(b){if("auth/network-request-failed"!==b?.code)return p.directlySetCurrentUser(null)}return p.directlySetCurrentUser(h)})()}useDeviceLanguage(){this.languageCode=function Fe(){if(typeof navigator>"u")return null;const w=navigator;return w.languages&&w.languages[0]||w.language||null}()}_delete(){var h=this;return(0,J.A)(function*(){h._deleted=!0})()}updateCurrentUser(h){var p=this;return(0,J.A)(function*(){const b=h?(0,ee.Ku)(h):null;return b&&ut(b.auth.config.apiKey===p.config.apiKey,p,"invalid-user-token"),p._updateCurrentUser(b&&b._clone(p))})()}_updateCurrentUser(h){var p=this;return(0,J.A)(function*(b,$=!1){if(!p._deleted)return b&&ut(p.tenantId===b.tenantId,p,"tenant-id-mismatch"),$||(yield p.beforeStateQueue.runMiddleware(b)),p.queue((0,J.A)(function*(){yield p.directlySetCurrentUser(b),p.notifyAuthListeners()}))}).apply(this,arguments)}signOut(){var h=this;return(0,J.A)(function*(){return yield h.beforeStateQueue.runMiddleware(null),(h.redirectPersistenceManager||h._popupRedirectResolver)&&(yield h._setRedirectUser(null)),h._updateCurrentUser(null,!0)})()}setPersistence(h){var p=this;return this.queue((0,J.A)(function*(){yield p.assertedPersistence.setPersistence(W(h))}))}initializeRecaptchaConfig(){var h=this;return(0,J.A)(function*(){const p=yield qn(h,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),b=new Ti(p);null==h.tenantId?h._agentRecaptchaConfig=b:h._tenantRecaptchaConfigs[h.tenantId]=b,b.emailPasswordEnabled&&new Mr(h).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(h){this._errorFactory=new ee.FA("auth","Firebase",h())}onAuthStateChanged(h,p,b){return this.registerStateListener(this.authStateSubscription,h,p,b)}beforeAuthStateChanged(h,p){return this.beforeStateQueue.pushCallback(h,p)}onIdTokenChanged(h,p,b){return this.registerStateListener(this.idTokenSubscription,h,p,b)}toJSON(){var h;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(h=this._currentUser)||void 0===h?void 0:h.toJSON()}}_setRedirectUser(h,p){var b=this;return(0,J.A)(function*(){const $=yield b.getOrInitRedirectPersistenceManager(p);return null===h?$.removeCurrentUser():$.setCurrentUser(h)})()}getOrInitRedirectPersistenceManager(h){var p=this;return(0,J.A)(function*(){if(!p.redirectPersistenceManager){const b=h&&W(h)||p._popupRedirectResolver;ut(b,p,"argument-error"),p.redirectPersistenceManager=yield Te.create(p,[W(b._redirectPersistence)],"redirectUser"),p.redirectUser=yield p.redirectPersistenceManager.getCurrentUser()}return p.redirectPersistenceManager})()}_redirectUserForId(h){var p=this;return(0,J.A)(function*(){var b,$;return p._isInitialized&&(yield p.queue((0,J.A)(function*(){}))),(null===(b=p._currentUser)||void 0===b?void 0:b._redirectEventId)===h?p._currentUser:(null===($=p.redirectUser)||void 0===$?void 0:$._redirectEventId)===h?p.redirectUser:null})()}_persistUserIfCurrent(h){var p=this;return(0,J.A)(function*(){if(h===p.currentUser)return p.queue((0,J.A)(function*(){return p.directlySetCurrentUser(h)}))})()}_notifyListenersIfCurrent(h){h===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var h,p;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const b=null!==(p=null===(h=this.currentUser)||void 0===h?void 0:h.uid)&&void 0!==p?p:null;this.lastNotifiedUid!==b&&(this.lastNotifiedUid=b,this.authStateSubscription.next(this.currentUser))}registerStateListener(h,p,b,$){if(this._deleted)return()=>{};const Z="function"==typeof p?p:p.next.bind(p),Ce=this._isInitialized?Promise.resolve():this._initializationPromise;return ut(Ce,this,"internal-error"),Ce.then(()=>Z(this.currentUser)),"function"==typeof p?h.addObserver(p,b,$):h.addObserver(p)}directlySetCurrentUser(h){var p=this;return(0,J.A)(function*(){p.currentUser&&p.currentUser!==h&&p._currentUser._stopProactiveRefresh(),h&&p.isProactiveRefreshEnabled&&h._startProactiveRefresh(),p.currentUser=h,h?yield p.assertedPersistence.setCurrentUser(h):yield p.assertedPersistence.removeCurrentUser()})()}queue(h){return this.operations=this.operations.then(h,h),this.operations}get assertedPersistence(){return ut(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(h){!h||this.frameworks.includes(h)||(this.frameworks.push(h),this.frameworks.sort(),this.clientVersion=Et(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var h=this;return(0,J.A)(function*(){var p;const b={"X-Client-Version":h.clientVersion};h.app.options.appId&&(b["X-Firebase-gmpid"]=h.app.options.appId);const $=yield null===(p=h.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===p?void 0:p.getHeartbeatsHeader();$&&(b["X-Firebase-Client"]=$);const Z=yield h._getAppCheckToken();return Z&&(b["X-Firebase-AppCheck"]=Z),b})()}_getAppCheckToken(){var h=this;return(0,J.A)(function*(){var p;const b=yield null===(p=h.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===p?void 0:p.getToken();return b?.error&&function et(w,...h){Ne.logLevel<=ne.$b.WARN&&Ne.warn(`Auth (${Ae.SDK_VERSION}): ${w}`,...h)}(`Error while retrieving App Check token: ${b.error}`),b?.token})()}}function Ee(w){return(0,ee.Ku)(w)}class ye{constructor(h){this.auth=h,this.observer=null,this.addObserver=(0,ee.tD)(p=>this.observer=p)}get next(){return ut(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function tn(w){const h=w.indexOf(":");return h<0?"":w.substr(0,h+1)}function Vn(w){if(!w)return null;const h=Number(w);return isNaN(h)?null:h}class as{constructor(h,p){this.providerId=h,this.signInMethod=p}toJSON(){return yn("not implemented")}_getIdTokenResponse(h){return yn("not implemented")}_linkToIdToken(h,p){return yn("not implemented")}_getReauthenticationResolver(h){return yn("not implemented")}}function ei(w,h){return Fo.apply(this,arguments)}function Fo(){return(Fo=(0,J.A)(function*(w,h){return ht(w,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function Lo(w,h){return ga.apply(this,arguments)}function ga(){return(ga=(0,J.A)(function*(w,h){return An(w,"POST","/v1/accounts:signInWithPassword",Dt(w,h))})).apply(this,arguments)}function Rs(){return(Rs=(0,J.A)(function*(w,h){return An(w,"POST","/v1/accounts:signInWithEmailLink",Dt(w,h))})).apply(this,arguments)}function mr(){return(mr=(0,J.A)(function*(w,h){return An(w,"POST","/v1/accounts:signInWithEmailLink",Dt(w,h))})).apply(this,arguments)}class vt extends as{constructor(h,p,b,$=null){super("password",b),this._email=h,this._password=p,this._tenantId=$}static _fromEmailAndPassword(h,p){return new vt(h,p,"password")}static _fromEmailAndCode(h,p,b=null){return new vt(h,p,"emailLink",b)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(h){const p="string"==typeof h?JSON.parse(h):h;if(p?.email&&p?.password){if("password"===p.signInMethod)return this._fromEmailAndPassword(p.email,p.password);if("emailLink"===p.signInMethod)return this._fromEmailAndCode(p.email,p.password,p.tenantId)}return null}_getIdTokenResponse(h){var p=this;return(0,J.A)(function*(){var b;switch(p.signInMethod){case"password":const $={returnSecureToken:!0,email:p._email,password:p._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(b=h._getRecaptchaConfig())&&void 0!==b&&b.emailPasswordEnabled){const Z=yield qr(h,$,"signInWithPassword");return Lo(h,Z)}return Lo(h,$).catch(function(){var Z=(0,J.A)(function*(Ce){if("auth/missing-recaptcha-token"===Ce.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const qe=yield qr(h,$,"signInWithPassword");return Lo(h,qe)}return Promise.reject(Ce)});return function(Ce){return Z.apply(this,arguments)}}());case"emailLink":return function Uo(w,h){return Rs.apply(this,arguments)}(h,{email:p._email,oobCode:p._password});default:dt(h,"internal-error")}})()}_linkToIdToken(h,p){var b=this;return(0,J.A)(function*(){switch(b.signInMethod){case"password":return ei(h,{idToken:p,returnSecureToken:!0,email:b._email,password:b._password});case"emailLink":return function ws(w,h){return mr.apply(this,arguments)}(h,{idToken:p,email:b._email,oobCode:b._password});default:dt(h,"internal-error")}})()}_getReauthenticationResolver(h){return this._getIdTokenResponse(h)}}function an(w,h){return cn.apply(this,arguments)}function cn(){return(cn=(0,J.A)(function*(w,h){return An(w,"POST","/v1/accounts:signInWithIdp",Dt(w,h))})).apply(this,arguments)}class ui{constructor(h){var p,b,$,Z,Ce,qe;const _t=(0,ee.I9)((0,ee.hp)(h)),Wt=null!==(p=_t.apiKey)&&void 0!==p?p:null,Pn=null!==(b=_t.oobCode)&&void 0!==b?b:null,Cn=function Vo(w){switch(w){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==($=_t.mode)&&void 0!==$?$:null);ut(Wt&&Pn&&Cn,"argument-error"),this.apiKey=Wt,this.operation=Cn,this.code=Pn,this.continueUrl=null!==(Z=_t.continueUrl)&&void 0!==Z?Z:null,this.languageCode=null!==(Ce=_t.languageCode)&&void 0!==Ce?Ce:null,this.tenantId=null!==(qe=_t.tenantId)&&void 0!==qe?qe:null}static parseLink(h){const p=function lo(w){const h=(0,ee.I9)((0,ee.hp)(w)).link,p=h?(0,ee.I9)((0,ee.hp)(h)).deep_link_id:null,b=(0,ee.I9)((0,ee.hp)(w)).deep_link_id;return(b?(0,ee.I9)((0,ee.hp)(b)).link:null)||b||p||h||w}(h);try{return new ui(p)}catch{return null}}}let tu=(()=>{class w{constructor(){this.providerId=w.PROVIDER_ID}static credential(p,b){return vt._fromEmailAndPassword(p,b)}static credentialWithLink(p,b){const $=ui.parseLink(b);return ut($,"argument-error"),vt._fromEmailAndCode(p,$.code,$.tenantId)}}return w.PROVIDER_ID="password",w.EMAIL_PASSWORD_SIGN_IN_METHOD="password",w.EMAIL_LINK_SIGN_IN_METHOD="emailLink",w})();class Oi{constructor(h){this.providerId=h,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(h){this.defaultLanguageCode=h}setCustomParameters(h){return this.customParameters=h,this}getCustomParameters(){return this.customParameters}}class Io extends Oi{constructor(){super(...arguments),this.scopes=[]}addScope(h){return this.scopes.includes(h)||this.scopes.push(h),this}getScopes(){return[...this.scopes]}}function bo(w,h){return ci.apply(this,arguments)}function ci(){return(ci=(0,J.A)(function*(w,h){return An(w,"POST","/v1/accounts:signUp",Dt(w,h))})).apply(this,arguments)}class Xi{constructor(h){this.user=h.user,this.providerId=h.providerId,this._tokenResponse=h._tokenResponse,this.operationType=h.operationType}static _fromIdTokenResponse(h,p,b){return(0,J.A)(function*($,Z,Ce,qe=!1){const _t=yield Sr._fromIdTokenResponse($,Ce,qe),Wt=li(Ce);return new Xi({user:_t,providerId:Wt,_tokenResponse:Ce,operationType:Z})}).apply(this,arguments)}static _forOperation(h,p,b){return(0,J.A)(function*(){yield h._updateTokensIfNecessary(b,!0);const $=li(b);return new Xi({user:h,providerId:$,_tokenResponse:b,operationType:p})})()}}function li(w){return w.providerId?w.providerId:"phoneNumber"in w?"phone":null}class Yr extends ee.g{constructor(h,p,b,$){var Z;super(p.code,p.message),this.operationType=b,this.user=$,Object.setPrototypeOf(this,Yr.prototype),this.customData={appName:h.name,tenantId:null!==(Z=h.tenantId)&&void 0!==Z?Z:void 0,_serverResponse:p.customData._serverResponse,operationType:b}}static _fromErrorAndOperation(h,p,b,$){return new Yr(h,p,b,$)}}function ki(w,h,p,b){return("reauthenticate"===h?p._getReauthenticationResolver(w):p._getIdTokenResponse(w)).catch(Z=>{throw"auth/multi-factor-auth-required"===Z.code?Yr._fromErrorAndOperation(w,Z,h,b):Z})}function Xs(){return(Xs=(0,J.A)(function*(w,h,p=!1){const b=yield oi(w,h._linkToIdToken(w.auth,yield w.getIdToken()),p);return Xi._forOperation(w,"link",b)})).apply(this,arguments)}function _a(){return(_a=(0,J.A)(function*(w,h,p=!1){const{auth:b}=w,$="reauthenticate";try{const Z=yield oi(w,ki(b,$,h,w),p);ut(Z.idToken,b,"internal-error");const Ce=$t(Z.idToken);ut(Ce,b,"internal-error");const{sub:qe}=Ce;return ut(w.uid===qe,b,"user-mismatch"),Xi._forOperation(w,$,Z)}catch(Z){throw"auth/user-not-found"===Z?.code&&dt(b,"user-mismatch"),Z}})).apply(this,arguments)}function qo(w,h){return Pr.apply(this,arguments)}function Pr(){return(Pr=(0,J.A)(function*(w,h,p=!1){const b="signIn",$=yield ki(w,b,h),Z=yield Xi._fromIdTokenResponse(w,b,$);return p||(yield w._updateCurrentUser(Z.user)),Z})).apply(this,arguments)}function Ga(){return(Ga=(0,J.A)(function*(w,h){return qo(Ee(w),h)})).apply(this,arguments)}function ea(w,h,p){return fo.apply(this,arguments)}function fo(){return fo=(0,J.A)(function*(w,h,p){var b;const $=Ee(w),Z={returnSecureToken:!0,email:h,password:p,clientType:"CLIENT_TYPE_WEB"};let Ce;if(null!==(b=$._getRecaptchaConfig())&&void 0!==b&&b.emailPasswordEnabled){const Wt=yield qr($,Z,"signUpPassword");Ce=bo($,Wt)}else Ce=bo($,Z).catch(function(){var Wt=(0,J.A)(function*(Pn){if("auth/missing-recaptcha-token"===Pn.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const Cn=yield qr($,Z,"signUpPassword");return bo($,Cn)}return Promise.reject(Pn)});return function(Pn){return Wt.apply(this,arguments)}}());const qe=yield Ce.catch(Wt=>Promise.reject(Wt)),_t=yield Xi._fromIdTokenResponse($,"signIn",qe);return yield $._updateCurrentUser(_t.user),_t}),fo.apply(this,arguments)}function yi(w,h,p){return function ho(w,h){return Ga.apply(this,arguments)}((0,ee.Ku)(w),tu.credential(h,p))}function Zn(w,h,p,b){return(0,ee.Ku)(w).onIdTokenChanged(h,p,b)}function Fi(w){return(0,ee.Ku)(w).signOut()}const M="__sak";class x{constructor(h,p){this.storageRetriever=h,this.type=p}_isAvailable(){try{return this.storage?(this.storage.setItem(M,"1"),this.storage.removeItem(M),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(h,p){return this.storage.setItem(h,JSON.stringify(p)),Promise.resolve()}_get(h){const p=this.storage.getItem(h);return Promise.resolve(p?JSON.parse(p):null)}_remove(h){return this.storage.removeItem(h),Promise.resolve()}get storage(){return this.storageRetriever()}}const Xe=(()=>{class w extends x{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(p,b)=>this.onStorageEvent(p,b),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function H(){const w=(0,ee.ZQ)();return Ht(w)||pe(w)}()&&function Ye(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Me(),this._shouldAllowMigration=!0}forAllChangedKeys(p){for(const b of Object.keys(this.listeners)){const $=this.storage.getItem(b),Z=this.localCache[b];$!==Z&&p(b,Z,$)}}onStorageEvent(p,b=!1){if(!p.key)return void this.forAllChangedKeys((qe,_t,Wt)=>{this.notifyListeners(qe,Wt)});const $=p.key;if(b?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const qe=this.storage.getItem($);if(p.newValue!==qe)null!==p.newValue?this.storage.setItem($,p.newValue):this.storage.removeItem($);else if(this.localCache[$]===p.newValue&&!b)return}const Z=()=>{const qe=this.storage.getItem($);!b&&this.localCache[$]===qe||this.notifyListeners($,qe)},Ce=this.storage.getItem($);!function ue(){return(0,ee.lT)()&&10===document.documentMode}()||Ce===p.newValue||p.newValue===p.oldValue?Z():setTimeout(Z,10)}notifyListeners(p,b){this.localCache[p]=b;const $=this.listeners[p];if($)for(const Z of Array.from($))Z(b&&JSON.parse(b))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((p,b,$)=>{this.onStorageEvent(new StorageEvent("storage",{key:p,oldValue:b,newValue:$}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(p,b){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[p]||(this.listeners[p]=new Set,this.localCache[p]=this.storage.getItem(p)),this.listeners[p].add(b)}_removeListener(p,b){this.listeners[p]&&(this.listeners[p].delete(b),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(p,b){var $=()=>super._set,Z=this;return(0,J.A)(function*(){yield $().call(Z,p,b),Z.localCache[p]=JSON.stringify(b)})()}_get(p){var b=()=>super._get,$=this;return(0,J.A)(function*(){const Z=yield b().call($,p);return $.localCache[p]=JSON.stringify(Z),Z})()}_remove(p){var b=()=>super._remove,$=this;return(0,J.A)(function*(){yield b().call($,p),delete $.localCache[p]})()}}return w.type="LOCAL",w})(),Tt=(()=>{class w extends x{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(p,b){}_removeListener(p,b){}}return w.type="SESSION",w})();let En=(()=>{class w{constructor(p){this.eventTarget=p,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(p){const b=this.receivers.find(Z=>Z.isListeningto(p));if(b)return b;const $=new w(p);return this.receivers.push($),$}isListeningto(p){return this.eventTarget===p}handleEvent(p){var b=this;return(0,J.A)(function*(){const $=p,{eventId:Z,eventType:Ce,data:qe}=$.data,_t=b.handlersMap[Ce];if(!_t?.size)return;$.ports[0].postMessage({status:"ack",eventId:Z,eventType:Ce});const Wt=Array.from(_t).map(function(){var Cn=(0,J.A)(function*(Ai){return Ai($.origin,qe)});return function(Ai){return Cn.apply(this,arguments)}}()),Pn=yield function Tn(w){return Promise.all(w.map(function(){var h=(0,J.A)(function*(p){try{return{fulfilled:!0,value:yield p}}catch(b){return{fulfilled:!1,reason:b}}});return function(p){return h.apply(this,arguments)}}()))}(Wt);$.ports[0].postMessage({status:"done",eventId:Z,eventType:Ce,response:Pn})})()}_subscribe(p,b){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[p]||(this.handlersMap[p]=new Set),this.handlersMap[p].add(b)}_unsubscribe(p,b){this.handlersMap[p]&&b&&this.handlersMap[p].delete(b),(!b||0===this.handlersMap[p].size)&&delete this.handlersMap[p],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return w.receivers=[],w})();function dn(w="",h=10){let p="";for(let b=0;b<h;b++)p+=Math.floor(10*Math.random());return w+p}class Ct{constructor(h){this.target=h,this.handlers=new Set}removeMessageHandler(h){h.messageChannel&&(h.messageChannel.port1.removeEventListener("message",h.onMessage),h.messageChannel.port1.close()),this.handlers.delete(h)}_send(h,p){var b=this;return(0,J.A)(function*($,Z,Ce=50){const qe=typeof MessageChannel<"u"?new MessageChannel:null;if(!qe)throw new Error("connection_unavailable");let _t,Wt;return new Promise((Pn,Cn)=>{const Ai=dn("",20);qe.port1.start();const La=setTimeout(()=>{Cn(new Error("unsupported_event"))},Ce);Wt={messageChannel:qe,onMessage(Tu){const ec=Tu;if(ec.data.eventId===Ai)switch(ec.data.status){case"ack":clearTimeout(La),_t=setTimeout(()=>{Cn(new Error("timeout"))},3e3);break;case"done":clearTimeout(_t),Pn(ec.data.response);break;default:clearTimeout(La),clearTimeout(_t),Cn(new Error("invalid_response"))}}},b.handlers.add(Wt),qe.port1.addEventListener("message",Wt.onMessage),b.target.postMessage({eventType:$,eventId:Ai,data:Z},[qe.port2])}).finally(()=>{Wt&&b.removeMessageHandler(Wt)})}).apply(this,arguments)}}function Mn(){return window}function Nt(){return typeof Mn().WorkerGlobalScope<"u"&&"function"==typeof Mn().importScripts}function rr(){return(rr=(0,J.A)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Ui="firebaseLocalStorageDb",eo="firebaseLocalStorage",Cr="fbase_key";class Rt{constructor(h){this.request=h}toPromise(){return new Promise((h,p)=>{this.request.addEventListener("success",()=>{h(this.request.result)}),this.request.addEventListener("error",()=>{p(this.request.error)})})}}function ct(w,h){return w.transaction([eo],h?"readwrite":"readonly").objectStore(eo)}function to(){const w=indexedDB.open(Ui,1);return new Promise((h,p)=>{w.addEventListener("error",()=>{p(w.error)}),w.addEventListener("upgradeneeded",()=>{const b=w.result;try{b.createObjectStore(eo,{keyPath:Cr})}catch($){p($)}}),w.addEventListener("success",(0,J.A)(function*(){const b=w.result;b.objectStoreNames.contains(eo)?h(b):(b.close(),yield function Rn(){const w=indexedDB.deleteDatabase(Ui);return new Rt(w).toPromise()}(),h(yield to()))}))})}function Wa(w,h,p){return xt.apply(this,arguments)}function xt(){return(xt=(0,J.A)(function*(w,h,p){const b=ct(w,!0).put({[Cr]:h,value:p});return new Rt(b).toPromise()})).apply(this,arguments)}function nn(){return(nn=(0,J.A)(function*(w,h){const p=ct(w,!1).get(h),b=yield new Rt(p).toPromise();return void 0===b?null:b.value})).apply(this,arguments)}function Fn(w,h){const p=ct(w,!0).delete(h);return new Rt(p).toPromise()}const mo=(()=>{class w{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var p=this;return(0,J.A)(function*(){return p.db||(p.db=yield to()),p.db})()}_withRetries(p){var b=this;return(0,J.A)(function*(){let $=0;for(;;)try{const Z=yield b._openDb();return yield p(Z)}catch(Z){if($++>3)throw Z;b.db&&(b.db.close(),b.db=void 0)}})()}initializeServiceWorkerMessaging(){var p=this;return(0,J.A)(function*(){return Nt()?p.initializeReceiver():p.initializeSender()})()}initializeReceiver(){var p=this;return(0,J.A)(function*(){p.receiver=En._getInstance(function Bt(){return Nt()?self:null}()),p.receiver._subscribe("keyChanged",function(){var b=(0,J.A)(function*($,Z){return{keyProcessed:(yield p._poll()).includes(Z.key)}});return function($,Z){return b.apply(this,arguments)}}()),p.receiver._subscribe("ping",function(){var b=(0,J.A)(function*($,Z){return["keyChanged"]});return function($,Z){return b.apply(this,arguments)}}())})()}initializeSender(){var p=this;return(0,J.A)(function*(){var b,$;if(p.activeServiceWorker=yield function Li(){return rr.apply(this,arguments)}(),!p.activeServiceWorker)return;p.sender=new Ct(p.activeServiceWorker);const Z=yield p.sender._send("ping",{},800);Z&&null!==(b=Z[0])&&void 0!==b&&b.fulfilled&&null!==($=Z[0])&&void 0!==$&&$.value.includes("keyChanged")&&(p.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(p){var b=this;return(0,J.A)(function*(){if(b.sender&&b.activeServiceWorker&&function Or(){var w;return(null===(w=navigator?.serviceWorker)||void 0===w?void 0:w.controller)||null}()===b.activeServiceWorker)try{yield b.sender._send("keyChanged",{key:p},b.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,J.A)(function*(){try{if(!indexedDB)return!1;const p=yield to();return yield Wa(p,M,"1"),yield Fn(p,M),!0}catch{}return!1})()}_withPendingWrite(p){var b=this;return(0,J.A)(function*(){b.pendingWrites++;try{yield p()}finally{b.pendingWrites--}})()}_set(p,b){var $=this;return(0,J.A)(function*(){return $._withPendingWrite((0,J.A)(function*(){return yield $._withRetries(Z=>Wa(Z,p,b)),$.localCache[p]=b,$.notifyServiceWorker(p)}))})()}_get(p){var b=this;return(0,J.A)(function*(){const $=yield b._withRetries(Z=>function fn(w,h){return nn.apply(this,arguments)}(Z,p));return b.localCache[p]=$,$})()}_remove(p){var b=this;return(0,J.A)(function*(){return b._withPendingWrite((0,J.A)(function*(){return yield b._withRetries($=>Fn($,p)),delete b.localCache[p],b.notifyServiceWorker(p)}))})()}_poll(){var p=this;return(0,J.A)(function*(){const b=yield p._withRetries(Ce=>{const qe=ct(Ce,!1).getAll();return new Rt(qe).toPromise()});if(!b)return[];if(0!==p.pendingWrites)return[];const $=[],Z=new Set;for(const{fbase_key:Ce,value:qe}of b)Z.add(Ce),JSON.stringify(p.localCache[Ce])!==JSON.stringify(qe)&&(p.notifyListeners(Ce,qe),$.push(Ce));for(const Ce of Object.keys(p.localCache))p.localCache[Ce]&&!Z.has(Ce)&&(p.notifyListeners(Ce,null),$.push(Ce));return $})()}notifyListeners(p,b){this.localCache[p]=b;const $=this.listeners[p];if($)for(const Z of Array.from($))Z(b)}startPolling(){var p=this;this.stopPolling(),this.pollTimer=setInterval((0,J.A)(function*(){return p._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(p,b){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[p]||(this.listeners[p]=new Set,this._get(p)),this.listeners[p].add(b)}_removeListener(p,b){this.listeners[p]&&(this.listeners[p].delete(b),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return w.type="LOCAL",w})();kr("rcb"),new He(3e4,6e4);class Lu extends as{constructor(h){super("custom","custom"),this.params=h}_getIdTokenResponse(h){return an(h,this._buildIdpRequest())}_linkToIdToken(h,p){return an(h,this._buildIdpRequest(p))}_getReauthenticationResolver(h){return an(h,this._buildIdpRequest())}_buildIdpRequest(h){const p={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return h&&(p.idToken=h),p}}function Uu(w){return qo(w.auth,new Lu(w),w.bypassAuthState)}function Ls(w){const{auth:h,user:p}=w;return ut(p,h,"internal-error"),function za(w,h){return _a.apply(this,arguments)}(p,new Lu(w),w.bypassAuthState)}function el(w){return Vu.apply(this,arguments)}function Vu(){return(Vu=(0,J.A)(function*(w){const{auth:h,user:p}=w;return ut(p,h,"internal-error"),function Ko(w,h){return Xs.apply(this,arguments)}(p,new Lu(w),w.bypassAuthState)})).apply(this,arguments)}class yc{constructor(h,p,b,$,Z=!1){this.auth=h,this.resolver=b,this.user=$,this.bypassAuthState=Z,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(p)?p:[p]}execute(){var h=this;return new Promise(function(){var p=(0,J.A)(function*(b,$){h.pendingPromise={resolve:b,reject:$};try{h.eventManager=yield h.resolver._initialize(h.auth),yield h.onExecution(),h.eventManager.registerConsumer(h)}catch(Z){h.reject(Z)}});return function(b,$){return p.apply(this,arguments)}}())}onAuthEvent(h){var p=this;return(0,J.A)(function*(){const{urlResponse:b,sessionId:$,postBody:Z,tenantId:Ce,error:qe,type:_t}=h;if(qe)return void p.reject(qe);const Wt={auth:p.auth,requestUri:b,sessionId:$,tenantId:Ce||void 0,postBody:Z||void 0,user:p.user,bypassAuthState:p.bypassAuthState};try{p.resolve(yield p.getIdpTask(_t)(Wt))}catch(Pn){p.reject(Pn)}})()}onError(h){this.reject(h)}getIdpTask(h){switch(h){case"signInViaPopup":case"signInViaRedirect":return Uu;case"linkViaPopup":case"linkViaRedirect":return el;case"reauthViaPopup":case"reauthViaRedirect":return Ls;default:dt(this.auth,"internal-error")}}resolve(h){$n(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(h),this.unregisterAndCleanUp()}reject(h){$n(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(h),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}new He(2e3,1e4);const Ud="pendingRedirect",zi=new Map;class Bh extends yc{constructor(h,p,b=!1){super(h,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],p,void 0,b),this.eventId=null}execute(){var h=()=>super.execute,p=this;return(0,J.A)(function*(){let b=zi.get(p.auth._key());if(!b){try{const Z=(yield function iu(w,h){return _c.apply(this,arguments)}(p.resolver,p.auth))?yield h().call(p):null;b=()=>Promise.resolve(Z)}catch($){b=()=>Promise.reject($)}zi.set(p.auth._key(),b)}return p.bypassAuthState||zi.set(p.auth._key(),()=>Promise.resolve(null)),b()})()}onAuthEvent(h){var p=()=>super.onAuthEvent,b=this;return(0,J.A)(function*(){if("signInViaRedirect"===h.type)return p().call(b,h);if("unknown"!==h.type){if(h.eventId){const $=yield b.auth._redirectUserForId(h.eventId);if($)return b.user=$,p().call(b,h);b.resolve(null)}}else b.resolve(null)})()}onExecution(){return(0,J.A)(function*(){})()}cleanUp(){}}function _c(){return(_c=(0,J.A)(function*(w,h){const p=function sa(w){return K(Ud,w.config.apiKey,w.name)}(h),b=function nl(w){return W(w._redirectPersistence)}(w);if(!(yield b._isAvailable()))return!1;const $="true"===(yield b._get(p));return yield b._remove(p),$})).apply(this,arguments)}function Jr(w,h){zi.set(w._key(),h)}function su(w,h){return Po.apply(this,arguments)}function Po(){return(Po=(0,J.A)(function*(w,h,p=!1){const b=Ee(w),$=function ia(w,h){return h?W(h):(ut(w._popupRedirectResolver,w,"argument-error"),w._popupRedirectResolver)}(b,h),Ce=yield new Bh(b,$,p).execute();return Ce&&!p&&(delete Ce.user._redirectEventId,yield b._persistUserIfCurrent(Ce.user),yield b._setRedirectUser(null,h)),Ce})).apply(this,arguments)}class xo{constructor(h){this.auth=h,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(h){this.consumers.add(h),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,h)&&(this.sendToConsumer(this.queuedRedirectEvent,h),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(h){this.consumers.delete(h)}onEvent(h){if(this.hasEventBeenHandled(h))return!1;let p=!1;return this.consumers.forEach(b=>{this.isEventForConsumer(h,b)&&(p=!0,this.sendToConsumer(h,b),this.saveEventToCache(h))}),this.hasHandledPotentialRedirect||!function Ec(w){switch(w.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ka(w);default:return!1}}(h)||(this.hasHandledPotentialRedirect=!0,p||(this.queuedRedirectEvent=h,p=!0)),p}sendToConsumer(h,p){var b;if(h.error&&!Ka(h)){const $=(null===(b=h.error.code)||void 0===b?void 0:b.split("auth/")[1])||"internal-error";p.onError(Qt(this.auth,$))}else p.onAuthEvent(h)}isEventForConsumer(h,p){const b=null===p.eventId||!!h.eventId&&h.eventId===p.eventId;return p.filter.includes(h.type)&&b}hasEventBeenHandled(h){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Eu(h))}saveEventToCache(h){this.cachedEventUids.add(Eu(h)),this.lastProcessedEventTime=Date.now()}}function Eu(w){return[w.type,w.eventId,w.sessionId,w.tenantId].filter(h=>h).join("-")}function Ka({type:w,error:h}){return"unknown"===w&&"auth/no-auth-event"===h?.code}function Gu(){return(Gu=(0,J.A)(function*(w,h={}){return ht(w,"GET","/v1/projects",h)})).apply(this,arguments)}const Aa=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Oa=/^https?/;function au(){return au=(0,J.A)(function*(w){if(w.config.emulator)return;const{authorizedDomains:h}=yield function $o(w){return Gu.apply(this,arguments)}(w);for(const p of h)try{if(Zi(p))return}catch{}dt(w,"unauthorized-domain")}),au.apply(this,arguments)}function Zi(w){const h=ii(),{protocol:p,hostname:b}=new URL(h);if(w.startsWith("chrome-extension://")){const Ce=new URL(w);return""===Ce.hostname&&""===b?"chrome-extension:"===p&&w.replace("chrome-extension://","")===h.replace("chrome-extension://",""):"chrome-extension:"===p&&Ce.hostname===b}if(!Oa.test(p))return!1;if(Aa.test(w))return b===w;const $=w.replace(/\./g,"\\.");return new RegExp("^(.+\\."+$+"|"+$+")$","i").test(b)}const $l=new He(3e4,6e4);function Ho(){const w=Mn().___jsl;if(w?.H)for(const h of Object.keys(w.H))if(w.H[h].r=w.H[h].r||[],w.H[h].L=w.H[h].L||[],w.H[h].r=[...w.H[h].L],w.CP)for(let p=0;p<w.CP.length;p++)w.CP[p]=null}let wc=null;const rl=new He(5e3,15e3),uu="__/auth/iframe",cu="emulator/auth/iframe",I={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},N=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function U(w){const h=w.config;ut(h.authDomain,w,"auth-domain-config-required");const p=h.emulator?Ve(h,cu):`https://${w.config.authDomain}/${uu}`,b={apiKey:h.apiKey,appName:w.name,v:Ae.SDK_VERSION},$=N.get(w.config.apiHost);$&&(b.eid=$);const Z=w._getFrameworks();return Z.length&&(b.fw=Z.join(",")),`${p}?${(0,ee.Am)(b).slice(1)}`}function we(){return we=(0,J.A)(function*(w){const h=yield function Hl(w){return wc=wc||function wu(w){return new Promise((h,p)=>{var b,$,Z;function Ce(){Ho(),gapi.load("gapi.iframes",{callback:()=>{h(gapi.iframes.getContext())},ontimeout:()=>{Ho(),p(Qt(w,"network-request-failed"))},timeout:$l.get()})}if(null!==($=null===(b=Mn().gapi)||void 0===b?void 0:b.iframes)&&void 0!==$&&$.Iframe)h(gapi.iframes.getContext());else{if(null===(Z=Mn().gapi)||void 0===Z||!Z.load){const qe=kr("iframefcb");return Mn()[qe]=()=>{gapi.load?Ce():p(Qt(w,"network-request-failed"))},tr(`https://apis.google.com/js/api.js?onload=${qe}`).catch(_t=>p(_t))}Ce()}}).catch(h=>{throw wc=null,h})}(w),wc}(w),p=Mn().gapi;return ut(p,w,"internal-error"),h.open({where:document.body,url:U(w),messageHandlersFilter:p.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:I,dontclear:!0},b=>new Promise(function(){var $=(0,J.A)(function*(Z,Ce){yield b.restyle({setHideOnLeave:!1});const qe=Qt(w,"network-request-failed"),_t=Mn().setTimeout(()=>{Ce(qe)},rl.get());function Wt(){Mn().clearTimeout(_t),Z(b)}b.ping(Wt).then(Wt,()=>{Ce(qe)})});return function(Z,Ce){return $.apply(this,arguments)}}()))}),we.apply(this,arguments)}const xe={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class zt{constructor(h){this.window=h,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const ys="__/auth/handler",Wu="emulator/auth/handler",Gi=encodeURIComponent("fac");function lu(w,h,p,b,$,Z){return As.apply(this,arguments)}function As(){return(As=(0,J.A)(function*(w,h,p,b,$,Z){ut(w.config.authDomain,w,"auth-domain-config-required"),ut(w.config.apiKey,w,"invalid-api-key");const Ce={apiKey:w.config.apiKey,appName:w.name,authType:p,redirectUrl:b,v:Ae.SDK_VERSION,eventId:$};if(h instanceof Oi){h.setDefaultLanguage(w.languageCode),Ce.providerId=h.providerId||"",(0,ee.Im)(h.getCustomParameters())||(Ce.customParameters=JSON.stringify(h.getCustomParameters()));for(const[Pn,Cn]of Object.entries(Z||{}))Ce[Pn]=Cn}if(h instanceof Io){const Pn=h.getScopes().filter(Cn=>""!==Cn);Pn.length>0&&(Ce.scopes=Pn.join(","))}w.tenantId&&(Ce.tid=w.tenantId);const qe=Ce;for(const Pn of Object.keys(qe))void 0===qe[Pn]&&delete qe[Pn];const _t=yield w._getAppCheckToken(),Wt=_t?`#${Gi}=${encodeURIComponent(_t)}`:"";return`${function ka({config:w}){return w.emulator?Ve(w,Wu):`https://${w.authDomain}/${ys}`}(w)}?${(0,ee.Am)(qe).slice(1)}${Wt}`})).apply(this,arguments)}const io="webStorageSupport",jh=class Ic{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Tt,this._completeRedirectFn=su,this._overrideRedirectResult=Jr}_openPopup(h,p,b,$){var Z=this;return(0,J.A)(function*(){var Ce;$n(null===(Ce=Z.eventManagers[h._key()])||void 0===Ce?void 0:Ce.manager,"_initialize() not called before _openPopup()");const qe=yield lu(h,p,b,ii(),$);return function Nn(w,h,p,b=500,$=600){const Z=Math.max((window.screen.availHeight-$)/2,0).toString(),Ce=Math.max((window.screen.availWidth-b)/2,0).toString();let qe="";const _t=Object.assign(Object.assign({},xe),{width:b.toString(),height:$.toString(),top:Z,left:Ce}),Wt=(0,ee.ZQ)().toLowerCase();p&&(qe=rn(Wt)?"_blank":p),Mt(Wt)&&(h=h||"http://localhost",_t.scrollbars="yes");const Pn=Object.entries(_t).reduce((Ai,[La,Tu])=>`${Ai}${La}=${Tu},`,"");if(function ce(w=(0,ee.ZQ)()){var h;return pe(w)&&!(null===(h=window.navigator)||void 0===h||!h.standalone)}(Wt)&&"_self"!==qe)return function ms(w,h){const p=document.createElement("a");p.href=w,p.target=h;const b=document.createEvent("MouseEvent");b.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),p.dispatchEvent(b)}(h||"",qe),new zt(null);const Cn=window.open(h||"",qe,Pn);ut(Cn,w,"popup-blocked");try{Cn.focus()}catch{}return new zt(Cn)}(h,qe,dn())})()}_openRedirect(h,p,b,$){var Z=this;return(0,J.A)(function*(){return yield Z._originValidation(h),function Ei(w){Mn().location.href=w}(yield lu(h,p,b,ii(),$)),new Promise(()=>{})})()}_initialize(h){const p=h._key();if(this.eventManagers[p]){const{manager:$,promise:Z}=this.eventManagers[p];return $?Promise.resolve($):($n(Z,"If manager is not set, promise should be"),Z)}const b=this.initAndGetManager(h);return this.eventManagers[p]={promise:b},b.catch(()=>{delete this.eventManagers[p]}),b}initAndGetManager(h){var p=this;return(0,J.A)(function*(){const b=yield function te(w){return we.apply(this,arguments)}(h),$=new xo(h);return b.register("authEvent",Z=>(ut(Z?.authEvent,h,"invalid-auth-event"),{status:$.onEvent(Z.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),p.eventManagers[h._key()]={manager:$},p.iframes[h._key()]=b,$})()}_isIframeWebStorageSupported(h,p){this.iframes[h._key()].send(io,{type:io},$=>{var Z;const Ce=null===(Z=$?.[0])||void 0===Z?void 0:Z[io];void 0!==Ce&&p(!!Ce),dt(h,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(h){const p=h._key();return this.originValidationPromises[p]||(this.originValidationPromises[p]=function ou(w){return au.apply(this,arguments)}(h)),this.originValidationPromises[p]}get _shouldInitProactively(){return Me()||Ht()||pe()}};var qa="@firebase/auth";class jd{constructor(h){this.auth=h,this.internalListeners=new Map}getUid(){var h;return this.assertAuthConfigured(),(null===(h=this.auth.currentUser)||void 0===h?void 0:h.uid)||null}getToken(h){var p=this;return(0,J.A)(function*(){return p.assertAuthConfigured(),yield p.auth._initializationPromise,p.auth.currentUser?{accessToken:yield p.auth.currentUser.getIdToken(h)}:null})()}addAuthTokenListener(h){if(this.assertAuthConfigured(),this.internalListeners.has(h))return;const p=this.auth.onIdTokenChanged(b=>{h(b?.stsTokenManager.accessToken||null)});this.internalListeners.set(h,p),this.updateProactiveRefresh()}removeAuthTokenListener(h){this.assertAuthConfigured();const p=this.internalListeners.get(h);p&&(this.internalListeners.delete(h),p(),this.updateProactiveRefresh())}assertAuthConfigured(){ut(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const du=(0,ee.XA)("authIdTokenMaxAge")||300;let $d=null;const Cc=w=>function(){var h=(0,J.A)(function*(p){const b=p&&(yield p.getIdTokenResult()),$=b&&((new Date).getTime()-Date.parse(b.issuedAtTime))/1e3;if($&&$>du)return;const Z=b?.token;$d!==Z&&($d=Z,yield fetch(w,{method:Z?"POST":"DELETE",headers:Z?{Authorization:`Bearer ${Z}`}:{}}))});return function(p){return h.apply(this,arguments)}}();function zh(w=(0,Ae.getApp)()){const h=(0,Ae._getProvider)(w,"auth");if(h.isInitialized())return h.getImmediate();const p=function Le(w,h){const p=(0,Ae._getProvider)(w,"auth");if(p.isInitialized()){const $=p.getImmediate(),Z=p.getOptions();if((0,ee.bD)(Z,h??{}))return $;dt($,"already-initialized")}return p.initialize({options:h})}(w,{popupRedirectResolver:jh,persistence:[mo,Xe,Tt]}),b=(0,ee.XA)("authTokenSyncURL");if(b){const Z=Cc(b);(function kn(w,h,p){(0,ee.Ku)(w).beforeAuthStateChanged(h,p)})(p,Z,()=>Z(p.currentUser)),Zn(p,Ce=>Z(Ce))}const $=(0,ee.Tj)("auth");return $&&function yt(w,h,p){const b=Ee(w);ut(b._canInitEmulator,b,"emulator-config-failed"),ut(/^https?:\/\//.test(h),b,"invalid-emulator-scheme");const $=!!p?.disableWarnings,Z=tn(h),{host:Ce,port:qe}=function Hn(w){const h=tn(w),p=/(\/\/)?([^?#/]+)/.exec(w.substr(h.length));if(!p)return{host:"",port:null};const b=p[2].split("@").pop()||"",$=/^(\[[^\]]+\])(:|$)/.exec(b);if($){const Z=$[1];return{host:Z,port:Vn(b.substr(Z.length+1))}}{const[Z,Ce]=b.split(":");return{host:Z,port:Vn(Ce)}}}(h);b.config.emulator={url:`${Z}//${Ce}${null===qe?"":`:${qe}`}/`},b.settings.appVerificationDisabledForTesting=!0,b.emulatorConfig=Object.freeze({host:Ce,port:qe,protocol:Z.replace(":",""),options:Object.freeze({disableWarnings:$})}),$||function Gn(){function w(){const h=document.createElement("p"),p=h.style;h.innerText="Running in emulator mode. Do not use with production credentials.",p.position="fixed",p.width="100%",p.backgroundColor="#ffffff",p.border=".1em solid #000000",p.color="#b50000",p.bottom="0px",p.left="0px",p.margin="0px",p.zIndex="10000",p.textAlign="center",h.classList.add("firebase-emulator-warning"),document.body.appendChild(h)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",w):w())}()}(p,`http://${$}`),p}!function $h(w){(0,Ae._registerComponent)(new ae.uA("auth",(h,{options:p})=>{const b=h.getProvider("app").getImmediate(),$=h.getProvider("heartbeat"),Z=h.getProvider("app-check-internal"),{apiKey:Ce,authDomain:qe}=b.options;ut(Ce&&!Ce.includes(":"),"invalid-api-key",{appName:b.name});const _t={apiKey:Ce,authDomain:qe,clientPlatform:w,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Et(w)},Wt=new uo(b,$,Z,_t);return function rt(w,h){const p=h?.persistence||[],b=(Array.isArray(p)?p:[p]).map(W);h?.errorMap&&w._updateErrorMap(h.errorMap),w._initializeWithPersistence(b,h?.popupRedirectResolver)}(Wt,p),Wt},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((h,p,b)=>{h.getProvider("auth-internal").initialize()})),(0,Ae._registerComponent)(new ae.uA("auth-internal",h=>{const p=Ee(h.getProvider("auth").getImmediate());return new jd(p)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,Ae.registerVersion)(qa,"0.23.2",function il(w){switch(w){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(w)),(0,Ae.registerVersion)(qa,"0.23.2","esm2017")}("Browser");var bc=B(1985),Ku=B(8455),Hd=B(7673),Qa=B(5558);function Oo(w){return new bc.c(function(h){var p=function Fr(w,h,p,b){return(0,ee.Ku)(w).onAuthStateChanged(h,p,b)}(w,h.next.bind(h),h.error.bind(h),h.complete.bind(h));return{unsubscribe:p}})}function zl(w){return function Ac(w){return new bc.c(function(h){return{unsubscribe:Zn(w,h.next.bind(h),h.error.bind(h),h.complete.bind(h))}})}(w).pipe((0,Qa.n)(function(h){return h?(0,Ku.H)(function pn(w,h=!1){return(0,ee.Ku)(w).getIdToken(h)}(h)):(0,Hd.of)(null)}))}class Qu{constructor(h){return h}}class Xu{constructor(){return(0,C.CA)("auth")}}const Gl=new se.nKC("angularfire2.auth-instances");function Sc(w){return(h,p)=>{const b=h.runOutsideAngular(()=>w(p));return new Qu(b)}}const ca={provide:Xu,deps:[[new se.Xx1,Gl]]},fp={provide:Qu,useFactory:function Gh(w,h){const p=(0,C.lR)("auth",w,h);return p&&new Qu(p)},deps:[[new se.Xx1,Gl],he.XU]};let la=(()=>{class w{constructor(){(0,_e.KO)("angularfire",C.xv.full,"auth")}}return w.\u0275fac=function(p){return new(p||w)},w.\u0275mod=se.$C({type:w}),w.\u0275inj=se.G2t({providers:[fp,ca]}),w})();function zd(w,...h){return{ngModule:la,providers:[{provide:Gl,useFactory:Sc(w),multi:!0,deps:[se.SKi,se.zZn,C.u0,he.gL,[new se.Xx1,fe.kR],...h]}]}}const ol=(0,C.S3)(Oo,!0),Xa=(0,C.S3)(zl,!0),Wh=(0,C.S3)(ea,!0),qh=(0,C.S3)(zh,!0),Xl=(0,C.S3)(yi,!0),Xd=(0,C.S3)(Fi,!0)},9816:(Vt,je,B)=>{B.d(je,{_7:()=>xd,gS:()=>K_,rJ:()=>oo,kd:()=>X_,H9:()=>cv,GG:()=>tm,aU:()=>nE,hV:()=>Jc,P:()=>nm,mZ:()=>lv,_M:()=>lE});var Ie,C=B(1161),se=B(7705),he=B(4952),_e=B(8934),fe=B(2214),J=B(3664),ee=B(467),Ae=B(7852),Ue=B(1362),ne=B(8041),ae=B(1076),Re=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ke={},pt=pt||{},$e=Re||self;function jt(i){var e=typeof i;return"array"==(e="object"!=e?e:i?Array.isArray(i)?"array":e:"null")||"object"==e&&"number"==typeof i.length}function Lt(i){var e=typeof i;return"object"==e&&null!=i||"function"==e}var Dn="closure_uid_"+(1e9*Math.random()>>>0),Se=0;function at(i,e,n){return i.call.apply(i.bind,arguments)}function Ne(i,e,n){if(!i)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var u=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(u,o),i.apply(e,u)}}return function(){return i.apply(e,arguments)}}function et(i,e,n){return(et=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?at:Ne).apply(null,arguments)}function mt(i,e){var n=Array.prototype.slice.call(arguments,1);return function(){var o=n.slice();return o.push.apply(o,arguments),i.apply(this,o)}}function dt(i,e){function n(){}n.prototype=e.prototype,i.$=e.prototype,i.prototype=new n,i.prototype.constructor=i,i.ac=function(o,u,l){for(var f=Array(arguments.length-2),T=2;T<arguments.length;T++)f[T-2]=arguments[T];return e.prototype[u].apply(o,f)}}function Qt(){this.s=this.s,this.o=this.o}Qt.prototype.s=!1,Qt.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function xn(i){Object.prototype.hasOwnProperty.call(i,Dn)&&i[Dn]||(i[Dn]=++Se)}(this)},Qt.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const wn=Array.prototype.indexOf?function(i,e){return Array.prototype.indexOf.call(i,e,void 0)}:function(i,e){if("string"==typeof i)return"string"!=typeof e||1!=e.length?-1:i.indexOf(e,0);for(let n=0;n<i.length;n++)if(n in i&&i[n]===e)return n;return-1};function cr(i){const e=i.length;if(0<e){const n=Array(e);for(let o=0;o<e;o++)n[o]=i[o];return n}return[]}function ut(i,e){for(let n=1;n<arguments.length;n++){const o=arguments[n];if(jt(o)){const u=i.length||0,l=o.length||0;i.length=u+l;for(let f=0;f<l;f++)i[u+f]=o[f]}else i.push(o)}}function yn(i,e){this.type=i,this.g=this.target=e,this.defaultPrevented=!1}yn.prototype.h=function(){this.defaultPrevented=!0};var $n=function(){if(!$e.addEventListener||!Object.defineProperty)return!1;var i=!1,e=Object.defineProperty({},"passive",{get:function(){i=!0}});try{$e.addEventListener("test",()=>{},e),$e.removeEventListener("test",()=>{},e)}catch{}return i}();function ii(i){return/^[\s\xa0]*$/.test(i)}function si(){var i=$e.navigator;return i&&(i=i.userAgent)?i:""}function It(i){return-1!=si().indexOf(i)}function Si(i){return Si[" "](i),i}Si[" "]=function(){};var bn,i,He=It("Opera"),Ve=It("Trident")||It("MSIE"),Je=It("Edge"),it=Je||Ve,ze=It("Gecko")&&!(-1!=si().toLowerCase().indexOf("webkit")&&!It("Edge"))&&!(It("Trident")||It("MSIE"))&&!It("Edge"),Dt=-1!=si().toLowerCase().indexOf("webkit")&&!It("Edge");function ht(){var i=$e.document;return i?i.documentMode:void 0}e:{var Ot="",on=(i=si(),ze?/rv:([^\);]+)(\)|;)/.exec(i):Je?/Edge\/([\d\.]+)/.exec(i):Ve?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):Dt?/WebKit\/(\S+)/.exec(i):He?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(on&&(Ot=on?on[1]:""),Ve){var An=ht();if(null!=An&&An>parseFloat(Ot)){bn=String(An);break e}}bn=Ot}var fr=$e.document&&Ve&&(ht()||parseInt(bn,10))||void 0;function Xn(i,e){if(yn.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var n=this.type=i.type,o=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=e,e=i.relatedTarget){if(ze){e:{try{Si(e.nodeName);var u=!0;break e}catch{}u=!1}u||(e=null)}}else"mouseover"==n?e=i.fromElement:"mouseout"==n&&(e=i.toElement);this.relatedTarget=e,o?(this.clientX=void 0!==o.clientX?o.clientX:o.pageX,this.clientY=void 0!==o.clientY?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:Ir[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&Xn.$.h.call(this)}}dt(Xn,yn);var Ir={2:"touch",3:"pen",4:"mouse"};Xn.prototype.h=function(){Xn.$.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var sr="closure_listenable_"+(1e6*Math.random()|0),Vi=0;function Di(i,e,n,o,u){this.listener=i,this.proxy=null,this.src=e,this.type=n,this.capture=!!o,this.la=u,this.key=++Vi,this.fa=this.ia=!1}function Zr(i){i.fa=!0,i.listener=null,i.proxy=null,i.src=null,i.la=null}function Xt(i,e,n){for(const o in i)e.call(n,i[o],o,i)}function pn(i){const e={};for(const n in i)e[n]=i[n];return e}const On="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function pr(i,e){let n,o;for(let u=1;u<arguments.length;u++){for(n in o=arguments[u],o)i[n]=o[n];for(let l=0;l<On.length;l++)n=On[l],Object.prototype.hasOwnProperty.call(o,n)&&(i[n]=o[n])}}function lr(i){this.src=i,this.g={},this.h=0}function $t(i,e){var n=e.type;if(n in i.g){var l,o=i.g[n],u=wn(o,e);(l=0<=u)&&Array.prototype.splice.call(o,u,1),l&&(Zr(e),0==i.g[n].length&&(delete i.g[n],i.h--))}}function Yn(i,e,n,o){for(var u=0;u<i.length;++u){var l=i[u];if(!l.fa&&l.listener==e&&l.capture==!!n&&l.la==o)return u}return-1}lr.prototype.add=function(i,e,n,o,u){var l=i.toString();(i=this.g[l])||(i=this.g[l]=[],this.h++);var f=Yn(i,e,o,u);return-1<f?(e=i[f],n||(e.ia=!1)):((e=new Di(e,this.src,l,!!o,u)).ia=n,i.push(e)),e};var oi="closure_lm_"+(1e6*Math.random()|0),Ut={};function Mi(i,e,n,o,u){if(o&&o.once)return pi(i,e,n,o,u);if(Array.isArray(e)){for(var l=0;l<e.length;l++)Mi(i,e[l],n,o,u);return null}return n=ai(n),i&&i[sr]?i.O(e,n,Lt(o)?!!o.capture:!!o,u):hn(i,e,n,!1,o,u)}function hn(i,e,n,o,u,l){if(!e)throw Error("Invalid event type");var f=Lt(u)?!!u.capture:!!u,T=Bi(i);if(T||(i[oi]=T=new lr(i)),(n=T.add(e,n,o,f,l)).proxy)return n;if(o=function fi(){const e=Kr;return function i(n){return e.call(i.src,i.listener,n)}}(),n.proxy=o,o.src=i,o.listener=n,i.addEventListener)$n||(u=f),void 0===u&&(u=!1),i.addEventListener(e.toString(),o,u);else if(i.attachEvent)i.attachEvent(Vr(e.toString()),o);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(o)}return n}function pi(i,e,n,o,u){if(Array.isArray(e)){for(var l=0;l<e.length;l++)pi(i,e[l],n,o,u);return null}return n=ai(n),i&&i[sr]?i.P(e,n,Lt(o)?!!o.capture:!!o,u):hn(i,e,n,!0,o,u)}function Ri(i,e,n,o,u){if(Array.isArray(e))for(var l=0;l<e.length;l++)Ri(i,e[l],n,o,u);else o=Lt(o)?!!o.capture:!!o,n=ai(n),i&&i[sr]?(i=i.i,(e=String(e).toString())in i.g&&-1<(n=Yn(l=i.g[e],n,o,u))&&(Zr(l[n]),Array.prototype.splice.call(l,n,1),0==l.length&&(delete i.g[e],i.h--))):i&&(i=Bi(i))&&(e=i.g[e.toString()],i=-1,e&&(i=Yn(e,n,o,u)),(n=-1<i?e[i]:null)&&Ar(n))}function Ar(i){if("number"!=typeof i&&i&&!i.fa){var e=i.src;if(e&&e[sr])$t(e.i,i);else{var n=i.type,o=i.proxy;e.removeEventListener?e.removeEventListener(n,o,i.capture):e.detachEvent?e.detachEvent(Vr(n),o):e.addListener&&e.removeListener&&e.removeListener(o),(n=Bi(e))?($t(n,i),0==n.h&&(n.src=null,e[oi]=null)):Zr(i)}}}function Vr(i){return i in Ut?Ut[i]:Ut[i]="on"+i}function Kr(i,e){if(i.fa)i=!0;else{e=new Xn(e,this);var n=i.listener,o=i.la||i.src;i.ia&&Ar(i),i=n.call(o,e)}return i}function Bi(i){return(i=i[oi])instanceof lr?i:null}var gi="__closure_events_fn_"+(1e9*Math.random()>>>0);function ai(i){return"function"==typeof i?i:(i[gi]||(i[gi]=function(e){return i.handleEvent(e)}),i[gi])}function zn(){Qt.call(this),this.i=new lr(this),this.S=this,this.J=null}function Ln(i,e){var n,o=i.J;if(o)for(n=[];o;o=o.J)n.push(o);if(i=i.S,o=e.type||e,"string"==typeof e)e=new yn(e,i);else if(e instanceof yn)e.target=e.target||i;else{var u=e;pr(e=new yn(o,i),u)}if(u=!0,n)for(var l=n.length-1;0<=l;l--){var f=e.g=n[l];u=Sr(f,o,!0,e)&&u}if(u=Sr(f=e.g=i,o,!0,e)&&u,u=Sr(f,o,!1,e)&&u,n)for(l=0;l<n.length;l++)u=Sr(f=e.g=n[l],o,!1,e)&&u}function Sr(i,e,n,o){if(!(e=i.i.g[String(e)]))return!0;e=e.concat();for(var u=!0,l=0;l<e.length;++l){var f=e[l];if(f&&!f.fa&&f.capture==n){var T=f.listener,k=f.la||f.src;f.ia&&$t(i.i,f),u=!1!==T.call(k,o)&&u}}return u&&!o.defaultPrevented}dt(zn,Qt),zn.prototype[sr]=!0,zn.prototype.removeEventListener=function(i,e,n,o){Ri(this,i,e,n,o)},zn.prototype.N=function(){if(zn.$.N.call(this),this.i){var e,i=this.i;for(e in i.g){for(var n=i.g[e],o=0;o<n.length;o++)Zr(n[o]);delete i.g[e],i.h--}}this.J=null},zn.prototype.O=function(i,e,n,o){return this.i.add(String(i),e,!1,n,o)},zn.prototype.P=function(i,e,n,o){return this.i.add(String(i),e,!0,n,o)};var ge=$e.JSON.stringify;function Y(){var i=Yt;let e=null;return i.g&&(e=i.g,i.g=i.g.next,i.g||(i.h=null),e.next=null),e}var K=new class W{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new Te,i=>i.reset());class Te{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function tt(i){var e=1;i=i.split(":");const n=[];for(;0<e&&i.length;)n.push(i.shift()),e--;return i.length&&n.push(i.join(":")),n}function Mt(i){$e.setTimeout(()=>{throw i},0)}let Ht,rn=!1,Yt=new class Q{constructor(){this.h=this.g=null}add(e,n){const o=K.get();o.set(e,n),this.h?this.h.next=o:this.g=o,this.h=o}},gn=()=>{const i=$e.Promise.resolve(void 0);Ht=()=>{i.then(gr)}};var gr=()=>{for(var i;i=Y();){try{i.h.call(i.g)}catch(n){Mt(n)}var e=K;e.j(i),100>e.h&&(e.h++,i.next=e.g,e.g=i)}rn=!1};function be(i,e){zn.call(this),this.h=i||1,this.g=e||$e,this.j=et(this.qb,this),this.l=Date.now()}function pe(i){i.ga=!1,i.T&&(i.g.clearTimeout(i.T),i.T=null)}function ve(i,e,n){if("function"==typeof i)n&&(i=et(i,n));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=et(i.handleEvent,i)}return 2147483647<Number(e)?-1:$e.setTimeout(i,e||0)}function ce(i){i.g=ve(()=>{i.g=null,i.i&&(i.i=!1,ce(i))},i.j);const e=i.h;i.h=null,i.m.apply(null,e)}dt(be,zn),(Ie=be.prototype).ga=!1,Ie.T=null,Ie.qb=function(){if(this.ga){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-i):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Ln(this,"tick"),this.ga&&(pe(this),this.start()))}},Ie.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Ie.N=function(){be.$.N.call(this),pe(this),delete this.g};class ue extends Qt{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:ce(this)}N(){super.N(),this.g&&($e.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Me(i){Qt.call(this),this.h=i,this.g={}}dt(Me,Qt);var Ye=[];function Et(i,e,n,o){Array.isArray(n)||(n&&(Ye[0]=n.toString()),n=Ye);for(var u=0;u<n.length;u++){var l=Mi(e,n[u],o||i.handleEvent,!1,i.h||i);if(!l)break;i.g[l.key]=l}}function st(i){Xt(i.g,function(e,n){this.g.hasOwnProperty(n)&&Ar(e)},i),i.g={}}function en(){this.g=!0}function Sn(i,e,n,o){i.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Ti(i,e){if(!i.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(i=0;i<n.length;i++)if(Array.isArray(n[i])){var o=n[i];if(!(2>o.length)){var u=o[1];if(Array.isArray(u)&&!(1>u.length)){var l=u[0];if("noop"!=l&&"stop"!=l&&"close"!=l)for(var f=1;f<u.length;f++)u[f]=""}}}return ge(n)}catch{return e}}(i,n)+(o?" "+o:"")})}Me.prototype.N=function(){Me.$.N.call(this),st(this)},Me.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},en.prototype.Ea=function(){this.g=!1},en.prototype.info=function(){};var Un={},tr=null;function kr(){return tr=tr||new zn}function vs(i){yn.call(this,Un.Ta,i)}function Br(i){const e=kr();Ln(e,new vs(e))}function Ki(i,e){yn.call(this,Un.STAT_EVENT,i),this.stat=e}function Mr(i){const e=kr();Ln(e,new Ki(e,i))}function qr(i,e){yn.call(this,Un.Ua,i),this.size=e}function qi(i,e){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return $e.setTimeout(function(){i()},e)}Un.Ta="serverreachability",dt(vs,yn),Un.STAT_EVENT="statevent",dt(Ki,yn),Un.Ua="timingevent",dt(qr,yn);var _s={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},uo={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Ee(){}function Le(){}Ee.prototype.h=null;var Hn,rt={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function yt(){yn.call(this,"d")}function tn(){yn.call(this,"c")}function Vn(){}function Gn(i,e,n,o){this.l=i,this.j=e,this.m=n,this.W=o||1,this.U=new Me(this),this.P=jr,this.V=new be(i=it?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new as}function as(){this.i=null,this.g="",this.h=!1}dt(yt,yn),dt(tn,yn),dt(Vn,Ee),Vn.prototype.g=function(){return new XMLHttpRequest},Vn.prototype.i=function(){return{}},Hn=new Vn;var jr=45e3,Ni={},ei={};function Fo(i,e,n){i.L=1,i.v=ji(ws(e)),i.s=n,i.S=!0,co(i,null)}function co(i,e){i.G=Date.now(),Qr(i),i.A=ws(i.v);var n=i.A,o=i.W;Array.isArray(o)||(o=[String(o)]),lo(n.i,"t",o),i.C=0,n=i.l.J,i.h=new as,i.g=fo(i.l,n?e:null,!i.s),0<i.O&&(i.M=new ue(et(i.Pa,i,i.g),i.O)),Et(i.U,i.g,"readystatechange",i.nb),e=i.I?pn(i.I):{},i.s?(i.u||(i.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",i.g.ha(i.A,i.u,i.s,e)):(i.u="GET",i.g.ha(i.A,i.u,null,e)),Br(),function qn(i,e,n,o,u,l){i.info(function(){if(i.g)if(l)for(var f="",T=l.split("&"),k=0;k<T.length;k++){var V=T[k].split("=");if(1<V.length){var X=V[0];V=V[1];var de=X.split("_");f=2<=de.length&&"type"==de[1]?f+(X+"=")+V+"&":f+(X+"=redacted&")}}else f=null;else f=l;return"XMLHTTP REQ ("+o+") [attempt "+u+"]: "+e+"\n"+n+"\n"+f})}(i.j,i.u,i.A,i.m,i.W,i.s)}function Eo(i){return!!i.g&&"GET"==i.u&&2!=i.L&&i.l.Ha}function Lo(i,e,n){let u,o=!0;for(;!i.J&&i.C<n.length;){if(u=ga(i,n),u==ei){4==e&&(i.o=4,Mr(14),o=!1),Sn(i.j,i.m,null,"[Incomplete Response]");break}if(u==Ni){i.o=4,Mr(15),Sn(i.j,i.m,n,"[Invalid Chunk]"),o=!1;break}Sn(i.j,i.m,u,null),Rr(i,u)}Eo(i)&&u!=ei&&u!=Ni&&(i.h.g="",i.C=0),4!=e||0!=n.length||i.h.h||(i.o=1,Mr(16),o=!1),i.i=i.i&&o,o?0<n.length&&!i.ba&&(i.ba=!0,(e=i.l).g==i&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Hr(e),e.M=!0,Mr(11))):(Sn(i.j,i.m,n,"[Invalid Chunked Response]"),Jn(i),mn(i))}function ga(i,e){var n=i.C,o=e.indexOf("\n",n);return-1==o?ei:(n=Number(e.substring(n,o)),isNaN(n)?Ni:(o+=1)+n>e.length?ei:(e=e.slice(o,o+n),i.C=o+n,e))}function Qr(i){i.Y=Date.now()+i.P,ss(i,i.P)}function ss(i,e){if(null!=i.B)throw Error("WatchDog timer not null");i.B=qi(et(i.lb,i),e)}function us(i){i.B&&($e.clearTimeout(i.B),i.B=null)}function mn(i){0==i.l.H||i.J||Bo(i.l,i)}function Jn(i){us(i);var e=i.M;e&&"function"==typeof e.sa&&e.sa(),i.M=null,pe(i.V),st(i.U),i.g&&(e=i.g,i.g=null,e.abort(),e.sa())}function Rr(i,e){try{var n=i.l;if(0!=n.H&&(n.g==i||Wn(n.i,i)))if(!i.K&&Wn(n.i,i)&&3==n.H){try{var o=n.Ja.g.parse(e)}catch{o=null}if(Array.isArray(o)&&3==o.length){var u=o;if(0==u[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<i.G))break e;or(n),Ma(n)}Zo(n),Mr(18)}}else n.Fa=u[1],0<n.Fa-n.V&&37500>u[2]&&n.G&&0==n.A&&!n.v&&(n.v=qi(et(n.ib,n),6e3));if(1>=Wo(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Js(n,11)}else if((i.K||n.g==i)&&or(n),!ii(e))for(u=n.Ja.g.parse(e),e=0;e<u.length;e++){let V=u[e];if(n.V=V[0],V=V[1],2==n.H)if("c"==V[0]){n.K=V[1],n.pa=V[2];const X=V[3];null!=X&&(n.ra=X,n.l.info("VER="+n.ra));const de=V[4];null!=de&&(n.Ga=de,n.l.info("SVER="+n.Ga));const Be=V[5];null!=Be&&"number"==typeof Be&&0<Be&&(n.L=o=1.5*Be,n.l.info("backChannelRequestTimeoutMs_="+o)),o=n;const nt=i.g;if(nt){const St=nt.g?nt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(St){var l=o.i;l.g||-1==St.indexOf("spdy")&&-1==St.indexOf("quic")&&-1==St.indexOf("h2")||(l.j=l.l,l.g=new Set,l.h&&(Do(l,l.h),l.h=null))}if(o.F){const Kt=nt.g?nt.g.getResponseHeader("X-HTTP-Session-Id"):null;Kt&&(o.Da=Kt,cn(o.I,o.F,Kt))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-i.G,n.l.info("Handshake RTT: "+n.S+"ms"));var f=i;if((o=n).wa=ea(o,o.J?o.pa:null,o.Y),f.K){To(o.i,f);var T=f,k=o.L;k&&T.setTimeout(k),T.B&&(us(T),Qr(T)),o.g=f}else fs(o);0<n.j.length&&So(n)}else"stop"!=V[0]&&"close"!=V[0]||Js(n,7);else 3==n.H&&("stop"==V[0]||"close"==V[0]?"stop"==V[0]?Js(n,7):Ao(n):"noop"!=V[0]&&n.h&&n.h.Aa(V),n.A=0)}Br()}catch{}}function zo(i,e){if(i.forEach&&"function"==typeof i.forEach)i.forEach(e,void 0);else if(jt(i)||"string"==typeof i)Array.prototype.forEach.call(i,e,void 0);else for(var n=function Ci(i){if(i.ta&&"function"==typeof i.ta)return i.ta();if(!i.Z||"function"!=typeof i.Z){if(typeof Map<"u"&&i instanceof Map)return Array.from(i.keys());if(!(typeof Set<"u"&&i instanceof Set)){if(jt(i)||"string"==typeof i){var e=[];i=i.length;for(var n=0;n<i;n++)e.push(n);return e}e=[],n=0;for(const o in i)e[n++]=o;return e}}}(i),o=function Es(i){if(i.Z&&"function"==typeof i.Z)return i.Z();if(typeof Map<"u"&&i instanceof Map||typeof Set<"u"&&i instanceof Set)return Array.from(i.values());if("string"==typeof i)return i.split("");if(jt(i)){for(var e=[],n=i.length,o=0;o<n;o++)e.push(i[o]);return e}for(o in e=[],n=0,i)e[n++]=i[o];return e}(i),u=o.length,l=0;l<u;l++)e.call(void 0,o[l],n&&n[l],i)}(Ie=Gn.prototype).setTimeout=function(i){this.P=i},Ie.nb=function(i){i=i.target;const e=this.M;e&&3==ho(i)?e.l():this.Pa(i)},Ie.Pa=function(i){try{if(i==this.g)e:{const X=ho(this.g);var e=this.g.Ia();if(this.g.da(),!(3>X)&&(3!=X||it||this.g&&(this.h.h||this.g.ja()||Ga(this.g)))){this.J||4!=X||7==e||Br(),us(this);var n=this.g.da();this.ca=n;t:if(Eo(this)){var o=Ga(this.g);i="";var u=o.length,l=4==ho(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Jn(this),mn(this);var f="";break t}this.h.i=new $e.TextDecoder}for(e=0;e<u;e++)this.h.h=!0,i+=this.h.i.decode(o[e],{stream:l&&e==u-1});o.splice(0,u),this.h.g+=i,this.C=0,f=this.h.g}else f=this.g.ja();if(this.i=200==n,function Bn(i,e,n,o,u,l,f){i.info(function(){return"XMLHTTP RESP ("+o+") [ attempt "+u+"]: "+e+"\n"+n+"\n"+l+" "+f})}(this.j,this.u,this.A,this.m,this.W,X,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var T,k=this.g;if((T=k.g?k.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ii(T)){var V=T;break t}}V=null}if(!(n=V)){this.i=!1,this.o=3,Mr(12),Jn(this),mn(this);break e}Sn(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Rr(this,n)}this.S?(Lo(this,X,f),it&&this.i&&3==X&&(Et(this.U,this.V,"tick",this.mb),this.V.start())):(Sn(this.j,this.m,f,null),Rr(this,f)),4==X&&Jn(this),this.i&&!this.J&&(4==X?Bo(this.l,this):(this.i=!1,Qr(this)))}else(function yu(i){const e={};i=(i.g&&2<=ho(i)&&i.g.getAllResponseHeaders()||"").split("\r\n");for(let o=0;o<i.length;o++){if(ii(i[o]))continue;var n=tt(i[o]);const u=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const l=e[u]||[];e[u]=l,l.push(n)}!function vn(i,e){for(const n in i)e.call(void 0,i[n],n,i)}(e,function(o){return o.join(", ")})})(this.g),400==n&&0<f.indexOf("Unknown SID")?(this.o=3,Mr(12)):(this.o=0,Mr(13)),Jn(this),mn(this)}}}catch{}},Ie.mb=function(){if(this.g){var i=ho(this.g),e=this.g.ja();this.C<e.length&&(us(this),Lo(this,i,e),this.i&&4!=i&&Qr(this))}},Ie.cancel=function(){this.J=!0,Jn(this)},Ie.lb=function(){this.B=null;const i=Date.now();0<=i-this.Y?(function mi(i,e){i.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Br(),Mr(17)),Jn(this),this.o=2,mn(this)):ss(this,this.Y-i)};var qs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Rs(i){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,i instanceof Rs){this.h=i.h,mr(this,i.j),this.s=i.s,this.g=i.g,vt(this,i.m),this.l=i.l;var e=i.i,n=new Ns;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),an(this,n),this.o=i.o}else i&&(e=String(i).match(qs))?(this.h=!1,mr(this,e[1]||"",!0),this.s=cs(e[2]||""),this.g=cs(e[3]||"",!0),vt(this,e[4]),this.l=cs(e[5]||"",!0),an(this,e[6]||"",!0),this.o=cs(e[7]||"")):(this.h=!1,this.i=new Ns(null,this.h))}function ws(i){return new Rs(i)}function mr(i,e,n){i.j=n?cs(e,!0):e,i.j&&(i.j=i.j.replace(/:$/,""))}function vt(i,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);i.m=e}else i.m=null}function an(i,e,n){e instanceof Ns?(i.i=e,function wo(i,e){e&&!i.j&&(xi(i),i.i=null,i.g.forEach(function(n,o){var u=o.toLowerCase();o!=u&&(Dr(this,o),lo(this,u,n))},i)),i.j=e}(i.i,i.h)):(n||(e=Pi(e,ln)),i.i=new Ns(e,i.h))}function cn(i,e,n){i.i.set(e,n)}function ji(i){return cn(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function cs(i,e){return i?e?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function Pi(i,e,n){return"string"==typeof i?(i=encodeURI(i).replace(e,Us),n&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function Us(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}Rs.prototype.toString=function(){var i=[],e=this.j;e&&i.push(Pi(e,Xr,!0),":");var n=this.g;return(n||"file"==e)&&(i.push("//"),(e=this.s)&&i.push(Pi(e,Xr,!0),"@"),i.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&i.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&i.push("/"),i.push(Pi(n,"/"==n.charAt(0)?ds:ls,!0))),(n=this.i.toString())&&i.push("?",n),(n=this.o)&&i.push("#",Pi(n,Go)),i.join("")};var Xr=/[#\/\?@]/g,ls=/[#\?:]/g,ds=/[#\?]/g,ln=/[#\?@]/g,Go=/#/g;function Ns(i,e){this.h=this.g=null,this.i=i||null,this.j=!!e}function xi(i){i.g||(i.g=new Map,i.h=0,i.i&&function Uo(i,e){if(i){i=i.split("&");for(var n=0;n<i.length;n++){var o=i[n].indexOf("="),u=null;if(0<=o){var l=i[n].substring(0,o);u=i[n].substring(o+1)}else l=i[n];e(l,u?decodeURIComponent(u.replace(/\+/g," ")):"")}}}(i.i,function(e,n){i.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function Dr(i,e){xi(i),e=ui(i,e),i.g.has(e)&&(i.i=null,i.h-=i.g.get(e).length,i.g.delete(e))}function Vo(i,e){return xi(i),e=ui(i,e),i.g.has(e)}function lo(i,e,n){Dr(i,e),0<n.length&&(i.i=null,i.g.set(ui(i,e),cr(n)),i.h+=n.length)}function ui(i,e){return e=String(e),i.j&&(e=e.toLowerCase()),e}function Oi(i){this.l=i||Io,i=$e.PerformanceNavigationTiming?0<(i=$e.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!($e.g&&$e.g.Ka&&$e.g.Ka()&&$e.g.Ka().ec),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Ie=Ns.prototype).add=function(i,e){xi(this),this.i=null,i=ui(this,i);var n=this.g.get(i);return n||this.g.set(i,n=[]),n.push(e),this.h+=1,this},Ie.forEach=function(i,e){xi(this),this.g.forEach(function(n,o){n.forEach(function(u){i.call(e,u,o,this)},this)},this)},Ie.ta=function(){xi(this);const i=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let o=0;o<e.length;o++){const u=i[o];for(let l=0;l<u.length;l++)n.push(e[o])}return n},Ie.Z=function(i){xi(this);let e=[];if("string"==typeof i)Vo(this,i)&&(e=e.concat(this.g.get(ui(this,i))));else{i=Array.from(this.g.values());for(let n=0;n<i.length;n++)e=e.concat(i[n])}return e},Ie.set=function(i,e){return xi(this),this.i=null,Vo(this,i=ui(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[e]),this.h+=1,this},Ie.get=function(i,e){return i&&0<(i=this.Z(i)).length?String(i[0]):e},Ie.toString=function(){if(this.i)return this.i;if(!this.g)return"";const i=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var o=e[n];const l=encodeURIComponent(String(o)),f=this.Z(o);for(o=0;o<f.length;o++){var u=l;""!==f[o]&&(u+="="+encodeURIComponent(String(f[o]))),i.push(u)}}return this.i=i.join("&")};var Io=10;function Ps(i){return!!i.h||!!i.g&&i.g.size>=i.j}function Wo(i){return i.h?1:i.g?i.g.size:0}function Wn(i,e){return i.h?i.h==e:!!i.g&&i.g.has(e)}function Do(i,e){i.g?i.g.add(e):i.h=e}function To(i,e){i.h&&i.h==e?i.h=null:i.g&&i.g.has(e)&&i.g.delete(e)}function Qi(i){if(null!=i.h)return i.i.concat(i.h.F);if(null!=i.g&&0!==i.g.size){let e=i.i;for(const n of i.g.values())e=e.concat(n.F);return e}return cr(i.i)}Oi.prototype.cancel=function(){if(this.i=Qi(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const i of this.g.values())i.cancel();this.g.clear()}};var $r=class{stringify(i){return $e.JSON.stringify(i,void 0)}parse(i){return $e.JSON.parse(i,void 0)}};function Co(){this.g=new $r}function xs(i,e,n){const o=n||"";try{zo(i,function(u,l){let f=u;Lt(u)&&(f=ge(u)),e.push(o+l+"="+encodeURIComponent(f))})}catch(u){throw e.push(o+"type="+encodeURIComponent("_badmap")),u}}function ci(i,e,n,o,u){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,u(o)}catch{}}function Xi(i){this.l=i.fc||null,this.j=i.ob||!1}function li(i,e){zn.call(this),this.F=i,this.u=e,this.m=void 0,this.readyState=bi,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}dt(Xi,Ee),Xi.prototype.g=function(){return new li(this.l,this.j)},Xi.prototype.i=function(i){return function(){return i}}({}),dt(li,zn);var bi=0;function Qs(i){i.j.read().then(i.Xa.bind(i)).catch(i.ka.bind(i))}function Yr(i){i.readyState=4,i.l=null,i.j=null,i.A=null,ki(i)}function ki(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(Ie=li.prototype).open=function(i,e){if(this.readyState!=bi)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=e,this.readyState=1,ki(this)},Ie.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(e.body=i),(this.F||$e).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},Ie.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Yr(this)),this.readyState=bi},Ie.$a=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,ki(this)),this.g&&(this.readyState=3,ki(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof $e.ReadableStream<"u"&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Qs(this)}else i.text().then(this.Za.bind(this),this.ka.bind(this))},Ie.Xa=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var e=i.value?i.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!i.done}))&&(this.response=this.responseText+=e)}i.done?Yr(this):ki(this),3==this.readyState&&Qs(this)}},Ie.Za=function(i){this.g&&(this.response=this.responseText=i,Yr(this))},Ie.Ya=function(i){this.g&&(this.response=i,Yr(this))},Ie.ka=function(){this.g&&Yr(this)},Ie.setRequestHeader=function(i,e){this.v.append(i,e)},Ie.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},Ie.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],e=this.h.entries();for(var n=e.next();!n.done;)i.push((n=n.value)[0]+": "+n[1]),n=e.next();return i.join("\r\n")},Object.defineProperty(li.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var $i=$e.JSON.parse;function Nr(i){zn.call(this),this.headers=new Map,this.u=i||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=ma,this.L=this.M=!1}dt(Nr,zn);var ma="",Ko=/^https?$/i,Xs=["POST","PUT"];function va(i,e){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=e,i.m=5,za(i),qo(i)}function za(i){i.F||(i.F=!0,Ln(i,"complete"),Ln(i,"error"))}function _a(i){if(i.h&&typeof pt<"u"&&(!i.C[1]||4!=ho(i)||2!=i.da()))if(i.v&&4==ho(i))ve(i.La,0,i);else if(Ln(i,"readystatechange"),4==ho(i)){i.h=!1;try{const f=i.da();e:switch(f){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var o;if(o=0===f){var u=String(i.I).match(qs)[1]||null;!u&&$e.self&&$e.self.location&&(u=$e.self.location.protocol.slice(0,-1)),o=!Ko.test(u?u.toLowerCase():"")}n=o}if(n)Ln(i,"complete"),Ln(i,"success");else{i.m=6;try{var l=2<ho(i)?i.g.statusText:""}catch{l=""}i.j=l+" ["+i.da()+"]",za(i)}}finally{qo(i)}}}function qo(i,e){if(i.g){Pr(i);const n=i.g,o=i.C[0]?()=>{}:null;i.g=null,i.C=null,e||Ln(i,"ready");try{n.onreadystatechange=o}catch{}}}function Pr(i){i.g&&i.L&&(i.g.ontimeout=null),i.A&&($e.clearTimeout(i.A),i.A=null)}function ho(i){return i.g?i.g.readyState:0}function Ga(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.K){case ma:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch{return null}}function Qo(i){let e="";return Xt(i,function(n,o){e+=o,e+=":",e+=n,e+="\r\n"}),e}function Ys(i,e,n){e:{for(o in n){var o=!1;break e}o=!0}o||(n=Qo(n),"string"==typeof i?null!=n&&encodeURIComponent(String(n)):cn(i,e,n))}function hs(i,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[i]||e}function vu(i){this.Ga=0,this.j=[],this.l=new en,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=hs("failFast",!1,i),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=hs("baseRetryDelayMs",5e3,i),this.hb=hs("retryDelaySeedMs",1e4,i),this.eb=hs("forwardChannelMaxRetries",2,i),this.xa=hs("forwardChannelRequestTimeoutMs",2e4,i),this.va=i&&i.xmlHttpFactory||void 0,this.Ha=i&&i.dc||!1,this.L=void 0,this.J=i&&i.supportsCrossDomainXhr||!1,this.K="",this.i=new Oi(i&&i.concurrentRequestLimit),this.Ja=new Co,this.P=i&&i.fastHandshake||!1,this.O=i&&i.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=i&&i.bc||!1,i&&i.Ea&&this.l.Ea(),i&&i.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&i&&i.detectBufferingProxy||!1,this.qa=void 0,i&&i.longPollingTimeout&&0<i.longPollingTimeout&&(this.qa=i.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function Ao(i){if(Xo(i),3==i.H){var e=i.W++,n=ws(i.I);if(cn(n,"SID",i.K),cn(n,"RID",e),cn(n,"TYPE","terminate"),Yi(i,n),(e=new Gn(i,i.l,e)).L=2,e.v=ji(ws(n)),n=!1,$e.navigator&&$e.navigator.sendBeacon)try{n=$e.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&$e.Image&&((new Image).src=e.v,n=!0),n||(e.g=fo(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Qr(e)}Bs(i)}function Ma(i){i.g&&(Hr(i),i.g.cancel(),i.g=null)}function Xo(i){Ma(i),i.u&&($e.clearTimeout(i.u),i.u=null),or(i),i.i.cancel(),i.m&&("number"==typeof i.m&&$e.clearTimeout(i.m),i.m=null)}function So(i){if(!Ps(i.i)&&!i.m){i.m=!0;var e=i.Na;Ht||gn(),rn||(Ht(),rn=!0),Yt.add(e,i),i.C=0}}function Jo(i,e){var n;n=e?e.m:i.W++;const o=ws(i.I);cn(o,"SID",i.K),cn(o,"RID",n),cn(o,"AID",i.V),Yi(i,o),i.o&&i.s&&Ys(o,i.o,i.s),n=new Gn(i,i.l,n,i.C+1),null===i.o&&(n.I=i.s),e&&(i.j=e.F.concat(i.j)),e=Os(i,n,1e3),n.setTimeout(Math.round(.5*i.xa)+Math.round(.5*i.xa*Math.random())),Do(i.i,n),Fo(n,o,e)}function Yi(i,e){i.na&&Xt(i.na,function(n,o){cn(e,o,n)}),i.h&&zo({},function(n,o){cn(e,o,n)})}function Os(i,e,n){n=Math.min(i.j.length,n);var o=i.h?et(i.h.Va,i.h,i):null;e:{var u=i.j;let l=-1;for(;;){const f=["count="+n];-1==l?0<n?(l=u[0].g,f.push("ofs="+l)):l=0:f.push("ofs="+l);let T=!0;for(let k=0;k<n;k++){let V=u[k].g;const X=u[k].map;if(V-=l,0>V)l=Math.max(0,u[k].g-100),T=!1;else try{xs(X,f,"req"+V+"_")}catch{o&&o(X)}}if(T){o=f.join("&");break e}}}return i=i.j.splice(0,n),e.F=i,o}function fs(i){if(!i.g&&!i.u){i.ba=1;var e=i.Ma;Ht||gn(),rn||(Ht(),rn=!0),Yt.add(e,i),i.A=0}}function Zo(i){return!(i.g||i.u||3<=i.A||(i.ba++,i.u=qi(et(i.Ma,i),Vs(i,i.A)),i.A++,0))}function Hr(i){null!=i.B&&($e.clearTimeout(i.B),i.B=null)}function ks(i){i.g=new Gn(i,i.l,"rpc",i.ba),null===i.o&&(i.g.I=i.s),i.g.O=0;var e=ws(i.wa);cn(e,"RID","rpc"),cn(e,"SID",i.K),cn(e,"AID",i.V),cn(e,"CI",i.G?"0":"1"),!i.G&&i.qa&&cn(e,"TO",i.qa),cn(e,"TYPE","xmlhttp"),Yi(i,e),i.o&&i.s&&Ys(e,i.o,i.s),i.L&&i.g.setTimeout(i.L);var n=i.g;i=i.pa,n.L=1,n.v=ji(ws(e)),n.s=null,n.S=!0,co(n,i)}function or(i){null!=i.v&&($e.clearTimeout(i.v),i.v=null)}function Bo(i,e){var n=null;if(i.g==e){or(i),Hr(i),i.g=null;var o=2}else{if(!Wn(i.i,e))return;n=e.F,To(i.i,e),o=1}if(0!=i.H)if(e.i)if(1==o){n=e.s?e.s.length:0,e=Date.now()-e.G;var u=i.C;Ln(o=kr(),new qr(o,n)),So(i)}else fs(i);else if(3==(u=e.o)||0==u&&0<e.ca||!(1==o&&function Yo(i,e){return!(Wo(i.i)>=i.i.j-(i.m?1:0)||(i.m?(i.j=e.F.concat(i.j),0):1==i.H||2==i.H||i.C>=(i.cb?0:i.eb)||(i.m=qi(et(i.Na,i,e),Vs(i,i.C)),i.C++,0)))}(i,e)||2==o&&Zo(i)))switch(n&&0<n.length&&(e=i.i,e.i=e.i.concat(n)),u){case 1:Js(i,5);break;case 4:Js(i,10);break;case 3:Js(i,6);break;default:Js(i,2)}}function Vs(i,e){let n=i.ab+Math.floor(Math.random()*i.hb);return i.isActive()||(n*=2),n*e}function Js(i,e){if(i.l.info("Error code "+e),2==e){var n=null;i.h&&(n=null);var o=et(i.pb,i);n||(n=new Rs("//www.google.com/images/cleardot.gif"),$e.location&&"http"==$e.location.protocol||mr(n,"https"),ji(n)),function bo(i,e){const n=new en;if($e.Image){const o=new Image;o.onload=mt(ci,n,o,"TestLoadImage: loaded",!0,e),o.onerror=mt(ci,n,o,"TestLoadImage: error",!1,e),o.onabort=mt(ci,n,o,"TestLoadImage: abort",!1,e),o.ontimeout=mt(ci,n,o,"TestLoadImage: timeout",!1,e),$e.setTimeout(function(){o.ontimeout&&o.ontimeout()},1e4),o.src=i}else e(!1)}(n.toString(),o)}else Mr(2);i.H=0,i.h&&i.h.za(e),Bs(i),Xo(i)}function Bs(i){if(i.H=0,i.ma=[],i.h){const e=Qi(i.i);(0!=e.length||0!=i.j.length)&&(ut(i.ma,e),ut(i.ma,i.j),i.i.i.length=0,cr(i.j),i.j.length=0),i.h.ya()}}function ea(i,e,n){var o=n instanceof Rs?ws(n):new Rs(n);if(""!=o.g)e&&(o.g=e+"."+o.g),vt(o,o.m);else{var u=$e.location;o=u.protocol,e=e?e+"."+u.hostname:u.hostname,u=+u.port;var l=new Rs(null);o&&mr(l,o),e&&(l.g=e),u&&vt(l,u),n&&(l.l=n),o=l}return e=i.Da,(n=i.F)&&e&&cn(o,n,e),cn(o,"VER",i.ra),Yi(i,o),o}function fo(i,e,n){if(e&&!i.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Nr(n&&i.Ha&&!i.va?new Xi({ob:!0}):i.va)).Oa(i.J),e}function yi(){}function Ea(){if(Ve&&!(10<=Number(fr)))throw Error("Environmental error: no available transport.")}function vi(i,e){zn.call(this),this.g=new vu(e),this.l=i,this.h=e&&e.messageUrlParams||null,i=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(i?i["X-WebChannel-Content-Type"]=e.messageContentType:i={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(i?i["X-WebChannel-Client-Profile"]=e.Ca:i={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=i,(i=e&&e.cc)&&!ii(i)&&(this.g.o=i),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!ii(e)&&(this.g.F=e,null!==(i=this.h)&&e in i&&e in(i=this.h)&&delete i[e]),this.j=new ns(this)}function nu(i){yt.call(this),i.__headers__&&(this.headers=i.__headers__,this.statusCode=i.__status__,delete i.__headers__,delete i.__status__);var e=i.__sm__;if(e){e:{for(const n in e){i=n;break e}i=void 0}(this.i=i)&&(i=this.i,e=null!==e&&i in e?e[i]:void 0),this.data=e}else this.data=i}function wa(){tn.call(this),this.status=1}function ns(i){this.g=i}function dr(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function js(i,e,n){n||(n=0);var o=Array(16);if("string"==typeof e)for(var u=0;16>u;++u)o[u]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(u=0;16>u;++u)o[u]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;var l=i.g[3],f=(e=i.g[0])+(l^(n=i.g[1])&((u=i.g[2])^l))+o[0]+3614090360&4294967295;f=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=n+(f<<7&4294967295|f>>>25))+((f=l+(u^e&(n^u))+o[1]+3905402710&4294967295)<<12&4294967295|f>>>20))+((f=u+(n^l&(e^n))+o[2]+606105819&4294967295)<<17&4294967295|f>>>15))+((f=n+(e^u&(l^e))+o[3]+3250441966&4294967295)<<22&4294967295|f>>>10))+((f=e+(l^n&(u^l))+o[4]+4118548399&4294967295)<<7&4294967295|f>>>25))+((f=l+(u^e&(n^u))+o[5]+1200080426&4294967295)<<12&4294967295|f>>>20))+((f=u+(n^l&(e^n))+o[6]+2821735955&4294967295)<<17&4294967295|f>>>15))+((f=n+(e^u&(l^e))+o[7]+4249261313&4294967295)<<22&4294967295|f>>>10))+((f=e+(l^n&(u^l))+o[8]+1770035416&4294967295)<<7&4294967295|f>>>25))+((f=l+(u^e&(n^u))+o[9]+2336552879&4294967295)<<12&4294967295|f>>>20))+((f=u+(n^l&(e^n))+o[10]+4294925233&4294967295)<<17&4294967295|f>>>15))+((f=n+(e^u&(l^e))+o[11]+2304563134&4294967295)<<22&4294967295|f>>>10))+((f=e+(l^n&(u^l))+o[12]+1804603682&4294967295)<<7&4294967295|f>>>25))+((f=l+(u^e&(n^u))+o[13]+4254626195&4294967295)<<12&4294967295|f>>>20))+((f=u+(n^l&(e^n))+o[14]+2792965006&4294967295)<<17&4294967295|f>>>15))+((f=n+(e^u&(l^e))+o[15]+1236535329&4294967295)<<22&4294967295|f>>>10))+((f=e+(u^l&(n^u))+o[1]+4129170786&4294967295)<<5&4294967295|f>>>27))+((f=l+(n^u&(e^n))+o[6]+3225465664&4294967295)<<9&4294967295|f>>>23))+((f=u+(e^n&(l^e))+o[11]+643717713&4294967295)<<14&4294967295|f>>>18))+((f=n+(l^e&(u^l))+o[0]+3921069994&4294967295)<<20&4294967295|f>>>12))+((f=e+(u^l&(n^u))+o[5]+3593408605&4294967295)<<5&4294967295|f>>>27))+((f=l+(n^u&(e^n))+o[10]+38016083&4294967295)<<9&4294967295|f>>>23))+((f=u+(e^n&(l^e))+o[15]+3634488961&4294967295)<<14&4294967295|f>>>18))+((f=n+(l^e&(u^l))+o[4]+3889429448&4294967295)<<20&4294967295|f>>>12))+((f=e+(u^l&(n^u))+o[9]+568446438&4294967295)<<5&4294967295|f>>>27))+((f=l+(n^u&(e^n))+o[14]+3275163606&4294967295)<<9&4294967295|f>>>23))+((f=u+(e^n&(l^e))+o[3]+4107603335&4294967295)<<14&4294967295|f>>>18))+((f=n+(l^e&(u^l))+o[8]+1163531501&4294967295)<<20&4294967295|f>>>12))+((f=e+(u^l&(n^u))+o[13]+2850285829&4294967295)<<5&4294967295|f>>>27))+((f=l+(n^u&(e^n))+o[2]+4243563512&4294967295)<<9&4294967295|f>>>23))+((f=u+(e^n&(l^e))+o[7]+1735328473&4294967295)<<14&4294967295|f>>>18))+((f=n+(l^e&(u^l))+o[12]+2368359562&4294967295)<<20&4294967295|f>>>12))+((f=e+(n^u^l)+o[5]+4294588738&4294967295)<<4&4294967295|f>>>28))+((f=l+(e^n^u)+o[8]+2272392833&4294967295)<<11&4294967295|f>>>21))+((f=u+(l^e^n)+o[11]+1839030562&4294967295)<<16&4294967295|f>>>16))+((f=n+(u^l^e)+o[14]+4259657740&4294967295)<<23&4294967295|f>>>9))+((f=e+(n^u^l)+o[1]+2763975236&4294967295)<<4&4294967295|f>>>28))+((f=l+(e^n^u)+o[4]+1272893353&4294967295)<<11&4294967295|f>>>21))+((f=u+(l^e^n)+o[7]+4139469664&4294967295)<<16&4294967295|f>>>16))+((f=n+(u^l^e)+o[10]+3200236656&4294967295)<<23&4294967295|f>>>9))+((f=e+(n^u^l)+o[13]+681279174&4294967295)<<4&4294967295|f>>>28))+((f=l+(e^n^u)+o[0]+3936430074&4294967295)<<11&4294967295|f>>>21))+((f=u+(l^e^n)+o[3]+3572445317&4294967295)<<16&4294967295|f>>>16))+((f=n+(u^l^e)+o[6]+76029189&4294967295)<<23&4294967295|f>>>9))+((f=e+(n^u^l)+o[9]+3654602809&4294967295)<<4&4294967295|f>>>28))+((f=l+(e^n^u)+o[12]+3873151461&4294967295)<<11&4294967295|f>>>21))+((f=u+(l^e^n)+o[15]+530742520&4294967295)<<16&4294967295|f>>>16))+((f=n+(u^l^e)+o[2]+3299628645&4294967295)<<23&4294967295|f>>>9))+((f=e+(u^(n|~l))+o[0]+4096336452&4294967295)<<6&4294967295|f>>>26))+((f=l+(n^(e|~u))+o[7]+1126891415&4294967295)<<10&4294967295|f>>>22))+((f=u+(e^(l|~n))+o[14]+2878612391&4294967295)<<15&4294967295|f>>>17))+((f=n+(l^(u|~e))+o[5]+4237533241&4294967295)<<21&4294967295|f>>>11))+((f=e+(u^(n|~l))+o[12]+1700485571&4294967295)<<6&4294967295|f>>>26))+((f=l+(n^(e|~u))+o[3]+2399980690&4294967295)<<10&4294967295|f>>>22))+((f=u+(e^(l|~n))+o[10]+4293915773&4294967295)<<15&4294967295|f>>>17))+((f=n+(l^(u|~e))+o[1]+2240044497&4294967295)<<21&4294967295|f>>>11))+((f=e+(u^(n|~l))+o[8]+1873313359&4294967295)<<6&4294967295|f>>>26))+((f=l+(n^(e|~u))+o[15]+4264355552&4294967295)<<10&4294967295|f>>>22))+((f=u+(e^(l|~n))+o[6]+2734768916&4294967295)<<15&4294967295|f>>>17))+((f=n+(l^(u|~e))+o[13]+1309151649&4294967295)<<21&4294967295|f>>>11))+((l=(e=n+((f=e+(u^(n|~l))+o[4]+4149444226&4294967295)<<6&4294967295|f>>>26))+((f=l+(n^(e|~u))+o[11]+3174756917&4294967295)<<10&4294967295|f>>>22))^((u=l+((f=u+(e^(l|~n))+o[2]+718787259&4294967295)<<15&4294967295|f>>>17))|~e))+o[9]+3951481745&4294967295,i.g[0]=i.g[0]+e&4294967295,i.g[1]=i.g[1]+(u+(f<<21&4294967295|f>>>11))&4294967295,i.g[2]=i.g[2]+u&4294967295,i.g[3]=i.g[3]+l&4294967295}function nr(i,e){this.h=e;for(var n=[],o=!0,u=i.length-1;0<=u;u--){var l=0|i[u];o&&l==e||(n[u]=l,o=!1)}this.g=n}(Ie=Nr.prototype).Oa=function(i){this.M=i},Ie.ha=function(i,e,n,o){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+i);e=e?e.toUpperCase():"GET",this.I=i,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Hn.g(),this.C=function ye(i){return i.h||(i.h=i.i())}(this.u?this.u:Hn),this.g.onreadystatechange=et(this.La,this);try{this.G=!0,this.g.open(e,String(i),!0),this.G=!1}catch(l){return void va(this,l)}if(i=n||"",n=new Map(this.headers),o)if(Object.getPrototypeOf(o)===Object.prototype)for(var u in o)n.set(u,o[u]);else{if("function"!=typeof o.keys||"function"!=typeof o.get)throw Error("Unknown input type for opt_headers: "+String(o));for(const l of o.keys())n.set(l,o.get(l))}o=Array.from(n.keys()).find(l=>"content-type"==l.toLowerCase()),u=$e.FormData&&i instanceof $e.FormData,!(0<=wn(Xs,e))||o||u||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[l,f]of n)this.g.setRequestHeader(l,f);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Pr(this),0<this.B&&((this.L=function ya(i){return Ve&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=et(this.ua,this)):this.A=ve(this.ua,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(l){va(this,l)}},Ie.ua=function(){typeof pt<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ln(this,"timeout"),this.abort(8))},Ie.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,Ln(this,"complete"),Ln(this,"abort"),qo(this))},Ie.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),qo(this,!0)),Nr.$.N.call(this)},Ie.La=function(){this.s||(this.G||this.v||this.l?_a(this):this.kb())},Ie.kb=function(){_a(this)},Ie.isActive=function(){return!!this.g},Ie.da=function(){try{return 2<ho(this)?this.g.status:-1}catch{return-1}},Ie.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},Ie.Wa=function(i){if(this.g){var e=this.g.responseText;return i&&0==e.indexOf(i)&&(e=e.substring(i.length)),$i(e)}},Ie.Ia=function(){return this.m},Ie.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Ie=vu.prototype).ra=8,Ie.H=1,Ie.Na=function(i){if(this.m)if(this.m=null,1==this.H){if(!i){this.W=Math.floor(1e5*Math.random()),i=this.W++;const u=new Gn(this,this.l,i);let l=this.s;if(this.U&&(l?(l=pn(l),pr(l,this.U)):l=this.U),null!==this.o||this.O||(u.I=l,l=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){var o=this.j[n];if(void 0===(o="__data__"in o.map&&"string"==typeof(o=o.map.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=n;break e}if(4096===e||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=Os(this,u,e),cn(n=ws(this.I),"RID",i),cn(n,"CVER",22),this.F&&cn(n,"X-HTTP-Session-Id",this.F),Yi(this,n),l&&(this.O?e="headers="+encodeURIComponent(String(Qo(l)))+"&"+e:this.o&&Ys(n,this.o,l)),Do(this.i,u),this.bb&&cn(n,"TYPE","init"),this.P?(cn(n,"$req",e),cn(n,"SID","null"),u.aa=!0,Fo(u,n,null)):Fo(u,n,e),this.H=2}}else 3==this.H&&(i?Jo(this,i):0==this.j.length||Ps(this.i)||Jo(this))},Ie.Ma=function(){if(this.u=null,ks(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var i=2*this.S;this.l.info("BP detection timer enabled: "+i),this.B=qi(et(this.jb,this),i)}},Ie.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Mr(10),Ma(this),ks(this))},Ie.ib=function(){null!=this.v&&(this.v=null,Ma(this),Zo(this),Mr(19))},Ie.pb=function(i){i?(this.l.info("Successfully pinged google.com"),Mr(2)):(this.l.info("Failed to ping google.com"),Mr(1))},Ie.isActive=function(){return!!this.h&&this.h.isActive(this)},(Ie=yi.prototype).Ba=function(){},Ie.Aa=function(){},Ie.za=function(){},Ie.ya=function(){},Ie.isActive=function(){return!0},Ie.Va=function(){},Ea.prototype.g=function(i,e){return new vi(i,e)},dt(vi,zn),vi.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var i=this.g,e=this.l,n=this.h||void 0;Mr(0),i.Y=e,i.na=n||{},i.G=i.aa,i.I=ea(i,null,i.Y),So(i)},vi.prototype.close=function(){Ao(this.g)},vi.prototype.u=function(i){var e=this.g;if("string"==typeof i){var n={};n.__data__=i,i=n}else this.v&&((n={}).__data__=ge(i),i=n);e.j.push(new class{constructor(i,e){this.g=i,this.map=e}}(e.fb++,i)),3==e.H&&So(e)},vi.prototype.N=function(){this.g.h=null,delete this.j,Ao(this.g),delete this.g,vi.$.N.call(this)},dt(nu,yt),dt(wa,tn),dt(ns,yi),ns.prototype.Ba=function(){Ln(this.g,"a")},ns.prototype.Aa=function(i){Ln(this.g,new nu(i))},ns.prototype.za=function(i){Ln(this.g,new wa)},ns.prototype.ya=function(){Ln(this.g,"b")},dt(dr,function po(){this.blockSize=-1}),dr.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},dr.prototype.j=function(i,e){void 0===e&&(e=i.length);for(var n=e-this.blockSize,o=this.m,u=this.h,l=0;l<e;){if(0==u)for(;l<=n;)js(this,i,l),l+=this.blockSize;if("string"==typeof i){for(;l<e;)if(o[u++]=i.charCodeAt(l++),u==this.blockSize){js(this,o),u=0;break}}else for(;l<e;)if(o[u++]=i[l++],u==this.blockSize){js(this,o),u=0;break}}this.h=u,this.i+=e},dr.prototype.l=function(){var i=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);i[0]=128;for(var e=1;e<i.length-8;++e)i[e]=0;var n=8*this.i;for(e=i.length-8;e<i.length;++e)i[e]=255&n,n/=256;for(this.j(i),i=Array(16),e=n=0;4>e;++e)for(var o=0;32>o;o+=8)i[n++]=this.g[e]>>>o&255;return i};var Fu={};function Ia(i){return-128<=i&&128>i?function Fe(i,e){var n=Fu;return Object.prototype.hasOwnProperty.call(n,i)?n[i]:n[i]=e(i)}(i,function(e){return new nr([0|e],0>e?-1:0)}):new nr([0|i],0>i?-1:0)}function Zs(i){if(isNaN(i)||!isFinite(i))return Fs;if(0>i)return _i(Zs(-i));for(var e=[],n=1,o=0;i>=n;o++)e[o]=i/n|0,n*=jo;return new nr(e,0)}var jo=4294967296,Fs=Ia(0),Ra=Ia(1),Mo=Ia(16777216);function $s(i){if(0!=i.h)return!1;for(var e=0;e<i.g.length;e++)if(0!=i.g[e])return!1;return!0}function Is(i){return-1==i.h}function _i(i){for(var e=i.g.length,n=[],o=0;o<e;o++)n[o]=~i.g[o];return new nr(n,~i.h).add(Ra)}function go(i,e){return i.add(_i(e))}function D(i,e){for(;(65535&i[e])!=i[e];)i[e+1]+=i[e]>>>16,i[e]&=65535,e++}function z(i,e){this.g=i,this.h=e}function P(i,e){if($s(e))throw Error("division by zero");if($s(i))return new z(Fs,Fs);if(Is(i))return e=P(_i(i),e),new z(_i(e.g),_i(e.h));if(Is(e))return e=P(i,_i(e)),new z(_i(e.g),e.h);if(30<i.g.length){if(Is(i)||Is(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Ra,o=e;0>=o.X(i);)n=j(n),o=j(o);var u=ie(n,1),l=ie(o,1);for(o=ie(o,2),n=ie(n,2);!$s(o);){var f=l.add(o);0>=f.X(i)&&(u=u.add(n),l=f),o=ie(o,1),n=ie(n,1)}return e=go(i,u.R(e)),new z(u,e)}for(u=Fs;0<=i.X(e);){for(n=Math.max(1,Math.floor(i.ea()/e.ea())),o=48>=(o=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,o-48),f=(l=Zs(n)).R(e);Is(f)||0<f.X(i);)f=(l=Zs(n-=o)).R(e);$s(l)&&(l=Ra),u=u.add(l),i=go(i,f)}return new z(u,i)}function j(i){for(var e=i.g.length+1,n=[],o=0;o<e;o++)n[o]=i.D(o)<<1|i.D(o-1)>>>31;return new nr(n,i.h)}function ie(i,e){var n=e>>5;e%=32;for(var o=i.g.length-n,u=[],l=0;l<o;l++)u[l]=0<e?i.D(l+n)>>>e|i.D(l+n+1)<<32-e:i.D(l+n);return new nr(u,i.h)}(Ie=nr.prototype).ea=function(){if(Is(this))return-_i(this).ea();for(var i=0,e=1,n=0;n<this.g.length;n++){var o=this.D(n);i+=(0<=o?o:jo+o)*e,e*=jo}return i},Ie.toString=function(i){if(2>(i=i||10)||36<i)throw Error("radix out of range: "+i);if($s(this))return"0";if(Is(this))return"-"+_i(this).toString(i);for(var e=Zs(Math.pow(i,6)),n=this,o="";;){var u=P(n,e).g,l=((0<(n=go(n,u.R(e))).g.length?n.g[0]:n.h)>>>0).toString(i);if($s(n=u))return l+o;for(;6>l.length;)l="0"+l;o=l+o}},Ie.D=function(i){return 0>i?0:i<this.g.length?this.g[i]:this.h},Ie.X=function(i){return Is(i=go(this,i))?-1:$s(i)?0:1},Ie.abs=function(){return Is(this)?_i(this):this},Ie.add=function(i){for(var e=Math.max(this.g.length,i.g.length),n=[],o=0,u=0;u<=e;u++){var l=o+(65535&this.D(u))+(65535&i.D(u)),f=(l>>>16)+(this.D(u)>>>16)+(i.D(u)>>>16);o=f>>>16,n[u]=(f&=65535)<<16|(l&=65535)}return new nr(n,-2147483648&n[n.length-1]?-1:0)},Ie.R=function(i){if($s(this)||$s(i))return Fs;if(Is(this))return Is(i)?_i(this).R(_i(i)):_i(_i(this).R(i));if(Is(i))return _i(this.R(_i(i)));if(0>this.X(Mo)&&0>i.X(Mo))return Zs(this.ea()*i.ea());for(var e=this.g.length+i.g.length,n=[],o=0;o<2*e;o++)n[o]=0;for(o=0;o<this.g.length;o++)for(var u=0;u<i.g.length;u++){var l=this.D(o)>>>16,f=65535&this.D(o),T=i.D(u)>>>16,k=65535&i.D(u);n[2*o+2*u]+=f*k,D(n,2*o+2*u),n[2*o+2*u+1]+=l*k,D(n,2*o+2*u+1),n[2*o+2*u+1]+=f*T,D(n,2*o+2*u+1),n[2*o+2*u+2]+=l*T,D(n,2*o+2*u+2)}for(o=0;o<e;o++)n[o]=n[2*o+1]<<16|n[2*o];for(o=e;o<2*e;o++)n[o]=0;return new nr(n,0)},Ie.gb=function(i){return P(this,i).h},Ie.and=function(i){for(var e=Math.max(this.g.length,i.g.length),n=[],o=0;o<e;o++)n[o]=this.D(o)&i.D(o);return new nr(n,this.h&i.h)},Ie.or=function(i){for(var e=Math.max(this.g.length,i.g.length),n=[],o=0;o<e;o++)n[o]=this.D(o)|i.D(o);return new nr(n,this.h|i.h)},Ie.xor=function(i){for(var e=Math.max(this.g.length,i.g.length),n=[],o=0;o<e;o++)n[o]=this.D(o)^i.D(o);return new nr(n,this.h^i.h)},Ea.prototype.createWebChannel=Ea.prototype.g,vi.prototype.send=vi.prototype.u,vi.prototype.open=vi.prototype.m,vi.prototype.close=vi.prototype.close,_s.NO_ERROR=0,_s.TIMEOUT=8,_s.HTTP_ERROR=6,uo.COMPLETE="complete",Le.EventType=rt,rt.OPEN="a",rt.CLOSE="b",rt.ERROR="c",rt.MESSAGE="d",zn.prototype.listen=zn.prototype.O,Nr.prototype.listenOnce=Nr.prototype.P,Nr.prototype.getLastError=Nr.prototype.Sa,Nr.prototype.getLastErrorCode=Nr.prototype.Ia,Nr.prototype.getStatus=Nr.prototype.da,Nr.prototype.getResponseJson=Nr.prototype.Wa,Nr.prototype.getResponseText=Nr.prototype.ja,Nr.prototype.send=Nr.prototype.ha,Nr.prototype.setWithCredentials=Nr.prototype.Oa,dr.prototype.digest=dr.prototype.l,dr.prototype.reset=dr.prototype.reset,dr.prototype.update=dr.prototype.j,nr.prototype.add=nr.prototype.add,nr.prototype.multiply=nr.prototype.R,nr.prototype.modulo=nr.prototype.gb,nr.prototype.compare=nr.prototype.X,nr.prototype.toNumber=nr.prototype.ea,nr.prototype.toString=nr.prototype.toString,nr.prototype.getBits=nr.prototype.D,nr.fromNumber=Zs,nr.fromString=function ta(i,e){if(0==i.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==i.charAt(0))return _i(ta(i.substring(1),e));if(0<=i.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Zs(Math.pow(e,8)),o=Fs,u=0;u<i.length;u+=8){var l=Math.min(8,i.length-u),f=parseInt(i.substring(u,u+l),e);8>l?(l=Zs(Math.pow(e,l)),o=o.R(l).add(Zs(f))):o=(o=o.R(n)).add(Zs(f))}return o};var Qe=Ke.createWebChannelTransport=function(){return new Ea},ot=Ke.getStatEventTarget=function(){return kr()},Gt=Ke.ErrorCode=_s,yr=Ke.EventType=uo,xr=Ke.Event=Un,Zn=Ke.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},kn=Ke.FetchXmlHttpFactory=Xi,Fr=Ke.WebChannel=Le,Tr=Ke.XhrIo=Nr,di=Ke.Md5=dr,Fi=Ke.Integer=nr;const Ds="@firebase/firestore";class ar{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ar.UNAUTHENTICATED=new ar(null),ar.GOOGLE_CREDENTIALS=new ar("google-credentials-uid"),ar.FIRST_PARTY=new ar("first-party-uid"),ar.MOCK_USER=new ar("mock-user");let zr="9.23.0";const Hi=new ne.Vy("@firebase/firestore");function Ji(){return Hi.logLevel}function ft(i,...e){if(Hi.logLevel<=ne.$b.DEBUG){const n=e.map(na);Hi.debug(`Firestore (${zr}): ${i}`,...n)}}function sn(i,...e){if(Hi.logLevel<=ne.$b.ERROR){const n=e.map(na);Hi.error(`Firestore (${zr}): ${i}`,...n)}}function Ts(i,...e){if(Hi.logLevel<=ne.$b.WARN){const n=e.map(na);Hi.warn(`Firestore (${zr}): ${i}`,...n)}}function na(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch{return i}}function O(i="Unexpected state"){const e=`FIRESTORE (${zr}) INTERNAL ASSERTION FAILED: `+i;throw sn(e),new Error(e)}function g(i,e){i||O()}function M(i,e){return i}const x={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class H extends ae.g{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class le{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class me{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ke{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(ar.UNAUTHENTICATED))}shutdown(){}}class Xe{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Pt{constructor(e){this.t=e,this.currentUser=ar.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var o=this;let u=this.i;const l=V=>this.i!==u?(u=this.i,n(V)):Promise.resolve();let f=new le;this.o=()=>{this.i++,this.currentUser=this.u(),f.resolve(),f=new le,e.enqueueRetryable(()=>l(this.currentUser))};const T=()=>{const V=f;e.enqueueRetryable((0,ee.A)(function*(){yield V.promise,yield l(o.currentUser)}))},k=V=>{ft("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=V,this.auth.addAuthTokenListener(this.o),T()};this.t.onInit(V=>k(V)),setTimeout(()=>{if(!this.auth){const V=this.t.getImmediate({optional:!0});V?k(V):(ft("FirebaseAuthCredentialsProvider","Auth not yet detected"),f.resolve(),f=new le)}},0),T()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(o=>this.i!==e?(ft("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(g("string"==typeof o.accessToken),new me(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return g(null===e||"string"==typeof e),new ar(e)}}class Tt{constructor(e,n,o){this.h=e,this.l=n,this.m=o,this.type="FirstParty",this.user=ar.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class Tn{constructor(e,n,o){this.h=e,this.l=n,this.m=o}getToken(){return Promise.resolve(new Tt(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(ar.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class En{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class dn{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const o=l=>{null!=l.error&&ft("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const f=l.token!==this.T;return this.T=l.token,ft("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>o(l))};const u=l=>{ft("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.appCheck.addTokenListener(this.o)};this.I.onInit(l=>u(l)),setTimeout(()=>{if(!this.appCheck){const l=this.I.getImmediate({optional:!0});l?u(l):ft("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(g("string"==typeof n.token),this.T=n.token,new En(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Mn(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let o=0;o<i;o++)n[o]=Math.floor(256*Math.random());return n}class Ei{static A(){const n=62*Math.floor(256/62);let o="";for(;o.length<20;){const u=Mn(40);for(let l=0;l<u.length;++l)o.length<20&&u[l]<n&&(o+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(u[l]%62))}return o}}function Nt(i,e){return i<e?-1:i>e?1:0}function Li(i,e,n){return i.length===e.length&&i.every((o,u)=>n(o,e[u]))}class Or{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new H(x.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new H(x.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new H(x.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new H(x.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Or.fromMillis(Date.now())}static fromDate(e){return Or.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),o=Math.floor(1e6*(e-1e3*n));return new Or(n,o)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Nt(this.nanoseconds,e.nanoseconds):Nt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Bt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Bt(e)}static min(){return new Bt(new Or(0,0))}static max(){return new Bt(new Or(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Ui{constructor(e,n,o){void 0===n?n=0:n>e.length&&O(),void 0===o?o=e.length-n:o>e.length-n&&O(),this.segments=e,this.offset=n,this.len=o}get length(){return this.len}isEqual(e){return 0===Ui.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ui?e.forEach(o=>{n.push(o)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,o=this.limit();n<o;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const o=Math.min(e.length,n.length);for(let u=0;u<o;u++){const l=e.get(u),f=n.get(u);if(l<f)return-1;if(l>f)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class jn extends Ui{construct(e,n,o){return new jn(e,n,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const o of e){if(o.indexOf("//")>=0)throw new H(x.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);n.push(...o.split("/").filter(u=>u.length>0))}return new jn(n)}static emptyPath(){return new jn([])}}const eo=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Cr extends Ui{construct(e,n,o){return new Cr(e,n,o)}static isValidIdentifier(e){return eo.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Cr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Cr(["__name__"])}static fromServerFormat(e){const n=[];let o="",u=0;const l=()=>{if(0===o.length)throw new H(x.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(o),o=""};let f=!1;for(;u<e.length;){const T=e[u];if("\\"===T){if(u+1===e.length)throw new H(x.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const k=e[u+1];if("\\"!==k&&"."!==k&&"`"!==k)throw new H(x.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=k,u+=2}else"`"===T?(f=!f,u++):"."!==T||f?(o+=T,u++):(l(),u++)}if(l(),f)throw new H(x.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Cr(n)}static emptyPath(){return new Cr([])}}class Rt{constructor(e){this.path=e}static fromPath(e){return new Rt(jn.fromString(e))}static fromName(e){return new Rt(jn.fromString(e).popFirst(5))}static empty(){return new Rt(jn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===jn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return jn.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Rt(new jn(e.slice()))}}function wi(i){return new ti(i.readTime,i.key,-1)}class ti{constructor(e,n,o){this.readTime=e,this.documentKey=n,this.largestBatchId=o}static min(){return new ti(Bt.min(),Rt.empty(),-1)}static max(){return new ti(Bt.max(),Rt.empty(),-1)}}function ps(i,e){let n=i.readTime.compareTo(e.readTime);return 0!==n?n:(n=Rt.comparator(i.documentKey,e.documentKey),0!==n?n:Nt(i.largestBatchId,e.largestBatchId))}const mo="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ni{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function ri(i){return no.apply(this,arguments)}function no(){return no=(0,ee.A)(function*(i){if(i.code!==x.FAILED_PRECONDITION||i.message!==mo)throw i;ft("LocalStore","Unexpectedly lost primary lease")}),no.apply(this,arguments)}class Pe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&O(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Pe((o,u)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(o,u)},this.catchCallback=l=>{this.wrapFailure(n,l).next(o,u)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Pe?n:Pe.resolve(n)}catch(n){return Pe.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Pe.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Pe.reject(n)}static resolve(e){return new Pe((n,o)=>{n(e)})}static reject(e){return new Pe((n,o)=>{o(e)})}static waitFor(e){return new Pe((n,o)=>{let u=0,l=0,f=!1;e.forEach(T=>{++u,T.next(()=>{++l,f&&l===u&&n()},k=>o(k))}),f=!0,l===u&&n()})}static or(e){let n=Pe.resolve(!1);for(const o of e)n=n.next(u=>u?Pe.resolve(u):o());return n}static forEach(e,n){const o=[];return e.forEach((u,l)=>{o.push(n.call(this,u,l))}),this.waitFor(o)}static mapArray(e,n){return new Pe((o,u)=>{const l=e.length,f=new Array(l);let T=0;for(let k=0;k<l;k++){const V=k;n(e[V]).next(X=>{f[V]=X,++T,T===l&&o(f)},X=>u(X))}})}static doWhile(e,n){return new Pe((o,u)=>{const l=()=>{!0===e()?n().next(()=>{l()},u):o()};l()})}}function y(i){return"IndexedDbTransactionError"===i.name}let At=(()=>{class i{constructor(n,o){this.previousValue=n,o&&(o.sequenceNumberHandler=u=>this.ot(u),this.ut=u=>o.writeSequenceNumber(u))}ot(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.ut&&this.ut(n),n}}return i.ct=-1,i})();function In(i){return null==i}function Er(i){return 0===i&&1/i==-1/0}function Bh(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function iu(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function _c(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class Ii{constructor(e,n){this.comparator=e,this.root=n||gs.EMPTY}insert(e,n){return new Ii(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,gs.BLACK,null,null))}remove(e){return new Ii(this.comparator,this.root.remove(e,this.comparator).copy(null,null,gs.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const o=this.comparator(e,n.key);if(0===o)return n.value;o<0?n=n.left:o>0&&(n=n.right)}return null}indexOf(e){let n=0,o=this.root;for(;!o.isEmpty();){const u=this.comparator(e,o.key);if(0===u)return n+o.left.size;u<0?o=o.left:(n+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,o)=>(e(n,o),!1))}toString(){const e=[];return this.inorderTraversal((n,o)=>(e.push(`${n}:${o}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new _u(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new _u(this.root,e,this.comparator,!1)}getReverseIterator(){return new _u(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new _u(this.root,e,this.comparator,!0)}}class _u{constructor(e,n,o,u){this.isReverse=u,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?o(e.key,n):1,n&&u&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(0===l){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class gs{constructor(e,n,o,u,l){this.key=e,this.value=n,this.color=o??gs.RED,this.left=u??gs.EMPTY,this.right=l??gs.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,o,u,l){return new gs(e??this.key,n??this.value,o??this.color,u??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,o){let u=this;const l=o(e,u.key);return u=l<0?u.copy(null,null,null,u.left.insert(e,n,o),null):0===l?u.copy(null,n,null,null,null):u.copy(null,null,null,null,u.right.insert(e,n,o)),u.fixUp()}removeMin(){if(this.left.isEmpty())return gs.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let o,u=this;if(n(e,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(e,n),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),0===n(e,u.key)){if(u.right.isEmpty())return gs.EMPTY;o=u.right.min(),u=u.copy(o.key,o.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(e,n))}return u.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,gs.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,gs.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw O();const e=this.left.check();if(e!==this.right.check())throw O();return e+(this.isRed()?0:1)}}gs.EMPTY=null,gs.RED=!0,gs.BLACK=!1,gs.EMPTY=new class{constructor(){this.size=0}get key(){throw O()}get value(){throw O()}get color(){throw O()}get left(){throw O()}get right(){throw O()}copy(i,e,n,o,u){return this}insert(i,e,n){return new gs(i,e)}remove(i,e){return this}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Jr{constructor(e){this.comparator=e,this.data=new Ii(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,o)=>(e(n),!1))}forEachInRange(e,n){const o=this.data.getIteratorFrom(e[0]);for(;o.hasNext();){const u=o.getNext();if(this.comparator(u.key,e[1])>=0)return;n(u.key)}}forEachWhile(e,n){let o;for(o=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();o.hasNext();)if(!e(o.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new nl(this.data.getIterator())}getIteratorFrom(e){return new nl(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(o=>{n=n.add(o)}),n}isEqual(e){if(!(e instanceof Jr)||this.size!==e.size)return!1;const n=this.data.getIterator(),o=e.data.getIterator();for(;n.hasNext();){const u=n.getNext().key,l=o.getNext().key;if(0!==this.comparator(u,l))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Jr(this.comparator);return n.data=e,n}}class nl{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ro{constructor(e){this.fields=e,e.sort(Cr.comparator)}static empty(){return new ro([])}unionWith(e){let n=new Jr(Cr.comparator);for(const o of this.fields)n=n.add(o);for(const o of e)n=n.add(o);return new ro(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Li(this.fields,e.fields,(n,o)=>n.isEqual(o))}}class Hu extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class bs{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new Hu("Invalid base64 string: "+u):u}}(e);return new bs(n)}static fromUint8Array(e){const n=function(o){let u="";for(let l=0;l<o.length;++l)u+=String.fromCharCode(o[l]);return u}(e);return new bs(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let o=0;o<e.length;o++)n[o]=e.charCodeAt(o);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Nt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}bs.EMPTY_BYTE_STRING=new bs("");const jl=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function oa(i){if(g(!!i),"string"==typeof i){let e=0;const n=jl.exec(i);if(g(!!n),n[1]){let u=n[1];u=(u+"000000000").substr(0,9),e=Number(u)}const o=new Date(i);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:Gr(i.seconds),nanos:Gr(i.nanos)}}function Gr(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function Ta(i){return"string"==typeof i?bs.fromBase64String(i):bs.fromUint8Array(i)}function Ca(i){var e,n;return"server_timestamp"===(null===(n=((null===(e=i?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function zu(i){const e=i.mapValue.fields.__previous_value__;return Ca(e)?zu(e):e}function ba(i){const e=oa(i.mapValue.fields.__local_write_time__.timestampValue);return new Or(e.seconds,e.nanos)}class su{constructor(e,n,o,u,l,f,T,k,V){this.databaseId=e,this.appId=n,this.persistenceKey=o,this.host=u,this.ssl=l,this.forceLongPolling=f,this.autoDetectLongPolling=T,this.longPollingOptions=k,this.useFetchStreams=V}}class Po{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Po("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Po&&e.projectId===this.projectId&&e.database===this.database}}const aa={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ua(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Ca(i)?4:wc(i)?9007199254740991:10:O()}function xo(i,e){if(i===e)return!0;const n=ua(i);if(n!==ua(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return ba(i).isEqual(ba(e));case 3:return function(o,u){if("string"==typeof o.timestampValue&&"string"==typeof u.timestampValue&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const l=oa(o.timestampValue),f=oa(u.timestampValue);return l.seconds===f.seconds&&l.nanos===f.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return u=e,Ta(i.bytesValue).isEqual(Ta(u.bytesValue));case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,u){return Gr(o.geoPointValue.latitude)===Gr(u.geoPointValue.latitude)&&Gr(o.geoPointValue.longitude)===Gr(u.geoPointValue.longitude)}(i,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return Gr(o.integerValue)===Gr(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const l=Gr(o.doubleValue),f=Gr(u.doubleValue);return l===f?Er(l)===Er(f):isNaN(l)&&isNaN(f)}return!1}(i,e);case 9:return Li(i.arrayValue.values||[],e.arrayValue.values||[],xo);case 10:return function(o,u){const l=o.mapValue.fields||{},f=u.mapValue.fields||{};if(Bh(l)!==Bh(f))return!1;for(const T in l)if(l.hasOwnProperty(T)&&(void 0===f[T]||!xo(l[T],f[T])))return!1;return!0}(i,e);default:return O()}var u}function Eu(i,e){return void 0!==(i.values||[]).find(n=>xo(n,e))}function Ka(i,e){if(i===e)return 0;const n=ua(i),o=ua(e);if(n!==o)return Nt(n,o);switch(n){case 0:case 9007199254740991:return 0;case 1:return Nt(i.booleanValue,e.booleanValue);case 2:return function(u,l){const f=Gr(u.integerValue||u.doubleValue),T=Gr(l.integerValue||l.doubleValue);return f<T?-1:f>T?1:f===T?0:isNaN(f)?isNaN(T)?0:-1:1}(i,e);case 3:return Ec(i.timestampValue,e.timestampValue);case 4:return Ec(ba(i),ba(e));case 5:return Nt(i.stringValue,e.stringValue);case 6:return function(u,l){const f=Ta(u),T=Ta(l);return f.compareTo(T)}(i.bytesValue,e.bytesValue);case 7:return function(u,l){const f=u.split("/"),T=l.split("/");for(let k=0;k<f.length&&k<T.length;k++){const V=Nt(f[k],T[k]);if(0!==V)return V}return Nt(f.length,T.length)}(i.referenceValue,e.referenceValue);case 8:return function(u,l){const f=Nt(Gr(u.latitude),Gr(l.latitude));return 0!==f?f:Nt(Gr(u.longitude),Gr(l.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return function(u,l){const f=u.values||[],T=l.values||[];for(let k=0;k<f.length&&k<T.length;++k){const V=Ka(f[k],T[k]);if(V)return V}return Nt(f.length,T.length)}(i.arrayValue,e.arrayValue);case 10:return function(u,l){if(u===aa.mapValue&&l===aa.mapValue)return 0;if(u===aa.mapValue)return 1;if(l===aa.mapValue)return-1;const f=u.fields||{},T=Object.keys(f),k=l.fields||{},V=Object.keys(k);T.sort(),V.sort();for(let X=0;X<T.length&&X<V.length;++X){const de=Nt(T[X],V[X]);if(0!==de)return de;const Be=Ka(f[T[X]],k[V[X]]);if(0!==Be)return Be}return Nt(T.length,V.length)}(i.mapValue,e.mapValue);default:throw O()}}function Ec(i,e){if("string"==typeof i&&"string"==typeof e&&i.length===e.length)return Nt(i,e);const n=oa(i),o=oa(e),u=Nt(n.seconds,o.seconds);return 0!==u?u:Nt(n.nanos,o.nanos)}function $o(i){return Gu(i)}function Gu(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(o){const u=oa(o);return`time(${u.seconds},${u.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?Ta(i.bytesValue).toBase64():"referenceValue"in i?Rt.fromName(i.referenceValue).toString():"geoPointValue"in i?`geo(${(e=i.geoPointValue).latitude},${e.longitude})`:"arrayValue"in i?function(o){let u="[",l=!0;for(const f of o.values||[])l?l=!1:u+=",",u+=Gu(f);return u+"]"}(i.arrayValue):"mapValue"in i?function(o){const u=Object.keys(o.fields||{}).sort();let l="{",f=!0;for(const T of u)f?f=!1:l+=",",l+=`${T}:${Gu(o.fields[T])}`;return l+"}"}(i.mapValue):O();var e}function Oa(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function ou(i){return!!i&&"integerValue"in i}function au(i){return!!i&&"arrayValue"in i}function Zi(i){return!!i&&"nullValue"in i}function $l(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Ho(i){return!!i&&"mapValue"in i}function wu(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return iu(i.mapValue.fields,(n,o)=>e.mapValue.fields[n]=wu(o)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=wu(i.arrayValue.values[n]);return e}return Object.assign({},i)}function wc(i){return"__max__"===(((i.mapValue||{}).fields||{}).__type__||{}).stringValue}class I{constructor(e){this.value=e}static empty(){return new I({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let o=0;o<e.length-1;++o)if(n=(n.mapValue.fields||{})[e.get(o)],!Ho(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=wu(n)}setAll(e){let n=Cr.emptyPath(),o={},u=[];e.forEach((f,T)=>{if(!n.isImmediateParentOf(T)){const k=this.getFieldsMap(n);this.applyChanges(k,o,u),o={},u=[],n=T.popLast()}f?o[T.lastSegment()]=wu(f):u.push(T.lastSegment())});const l=this.getFieldsMap(n);this.applyChanges(l,o,u)}delete(e){const n=this.field(e.popLast());Ho(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return xo(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let o=0;o<e.length;++o){let u=n.mapValue.fields[e.get(o)];Ho(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},n.mapValue.fields[e.get(o)]=u),n=u}return n.mapValue.fields}applyChanges(e,n,o){iu(n,(u,l)=>e[u]=l);for(const u of o)delete e[u]}clone(){return new I(wu(this.value))}}function N(i){const e=[];return iu(i.fields,(n,o)=>{const u=new Cr([n]);if(Ho(o)){const l=N(o.mapValue).fields;if(0===l.length)e.push(u);else for(const f of l)e.push(u.child(f))}else e.push(u)}),new ro(e)}class U{constructor(e,n,o,u,l,f,T){this.key=e,this.documentType=n,this.version=o,this.readTime=u,this.createTime=l,this.data=f,this.documentState=T}static newInvalidDocument(e){return new U(e,0,Bt.min(),Bt.min(),Bt.min(),I.empty(),0)}static newFoundDocument(e,n,o,u){return new U(e,1,n,Bt.min(),o,u,0)}static newNoDocument(e,n){return new U(e,2,n,Bt.min(),Bt.min(),I.empty(),0)}static newUnknownDocument(e,n){return new U(e,3,n,Bt.min(),Bt.min(),I.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Bt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=I.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=I.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Bt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof U&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new U(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class te{constructor(e,n){this.position=e,this.inclusive=n}}function we(i,e,n){let o=0;for(let u=0;u<i.position.length;u++){const l=e[u],f=i.position[u];if(o=l.field.isKeyField()?Rt.comparator(Rt.fromName(f.referenceValue),n.key):Ka(f,n.data.field(l.field)),"desc"===l.dir&&(o*=-1),0!==o)break}return o}function xe(i,e){if(null===i)return null===e;if(null===e||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!xo(i.position[n],e.position[n]))return!1;return!0}class Ze{constructor(e,n="asc"){this.field=e,this.dir=n}}function Ft(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}class kt{}class wt extends kt{constructor(e,n,o){super(),this.field=e,this.op=n,this.value=o}static create(e,n,o){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,o):new io(e,n,o):"array-contains"===n?new Tc(e,o):"in"===n?new dp(e,o):"not-in"===n?new Av(e,o):"array-contains-any"===n?new Bd(e,o):new wt(e,n,o)}static createKeyFieldInFilter(e,n,o){return"in"===n?new Ic(e,o):new jh(e,o)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(Ka(n,this.value)):null!==n&&ua(this.value)===ua(n)&&this.matchesComparison(Ka(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return O()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class zt extends kt{constructor(e,n){super(),this.filters=e,this.op=n,this.lt=null}static create(e,n){return new zt(e,n)}matches(e){return Nn(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(n=>n.isInequality());return null!==e?e.field:null}ft(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function Nn(i){return"and"===i.op}function ys(i){return function Wu(i){for(const e of i.filters)if(e instanceof zt)return!1;return!0}(i)&&Nn(i)}function Gi(i){if(i instanceof wt)return i.field.canonicalString()+i.op.toString()+$o(i.value);if(ys(i))return i.filters.map(e=>Gi(e)).join(",");{const e=i.filters.map(n=>Gi(n)).join(",");return`${i.op}(${e})`}}function lu(i,e){return i instanceof wt?(n=i,(o=e)instanceof wt&&n.op===o.op&&n.field.isEqual(o.field)&&xo(n.value,o.value)):i instanceof zt?function(n,o){return o instanceof zt&&n.op===o.op&&n.filters.length===o.filters.length&&n.filters.reduce((u,l,f)=>u&&lu(l,o.filters[f]),!0)}(i,e):void O();var n,o}function ka(i){return i instanceof wt?`${(e=i).field.canonicalString()} ${e.op} ${$o(e.value)}`:i instanceof zt?function(e){return e.op.toString()+" {"+e.getFilters().map(ka).join(" ,")+"}"}(i):"Filter";var e}class io extends wt{constructor(e,n,o){super(e,n,o),this.key=Rt.fromName(o.referenceValue)}matches(e){const n=Rt.comparator(e.key,this.key);return this.matchesComparison(n)}}class Ic extends wt{constructor(e,n){super(e,"in",n),this.keys=Dc(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class jh extends wt{constructor(e,n){super(e,"not-in",n),this.keys=Dc(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Dc(i,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(o=>Rt.fromName(o.referenceValue))}class Tc extends wt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return au(n)&&Eu(n.arrayValue,this.value)}}class dp extends wt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&Eu(this.value.arrayValue,n)}}class Av extends wt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Eu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!Eu(this.value.arrayValue,n)}}class Bd extends wt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!au(n)||!n.arrayValue.values)&&n.arrayValue.values.some(o=>Eu(this.value.arrayValue,o))}}class hp{constructor(e,n=null,o=[],u=[],l=null,f=null,T=null){this.path=e,this.collectionGroup=n,this.orderBy=o,this.filters=u,this.limit=l,this.startAt=f,this.endAt=T,this.dt=null}}function Hs(i,e=null,n=[],o=[],u=null,l=null,f=null){return new hp(i,e,n,o,u,l,f)}function qa(i){const e=M(i);if(null===e.dt){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(o=>Gi(o)).join(","),n+="|ob:",n+=e.orderBy.map(o=>{return(u=o).field.canonicalString()+u.dir;var u}).join(","),In(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(o=>$o(o)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(o=>$o(o)).join(",")),e.dt=n}return e.dt}function Fa(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!Ft(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!lu(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!xe(i.startAt,e.startAt)&&xe(i.endAt,e.endAt)}function jd(i){return Rt.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}class du{constructor(e,n=null,o=[],u=[],l=null,f="F",T=null,k=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=o,this.filters=u,this.limit=l,this.limitType=f,this.startAt=T,this.endAt=k,this.wt=null,this._t=null}}function Cc(i){return new du(i)}function zh(i){return 0===i.filters.length&&null===i.limit&&null==i.startAt&&null==i.endAt&&(0===i.explicitOrderBy.length||1===i.explicitOrderBy.length&&i.explicitOrderBy[0].field.isKeyField())}function bc(i){return i.explicitOrderBy.length>0?i.explicitOrderBy[0].field:null}function Ku(i){for(const e of i.filters){const n=e.getFirstInequalityField();if(null!==n)return n}return null}function Hd(i){return null!==i.collectionGroup}function Qa(i){const e=M(i);if(null===e.wt){e.wt=[];const n=Ku(e),o=bc(e);if(null!==n&&null===o)n.isKeyField()||e.wt.push(new Ze(n)),e.wt.push(new Ze(Cr.keyField(),"asc"));else{let u=!1;for(const l of e.explicitOrderBy)e.wt.push(l),l.field.isKeyField()&&(u=!0);if(!u){const l=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Ze(Cr.keyField(),l))}}}return e.wt}function Oo(i){const e=M(i);if(!e._t)if("F"===e.limitType)e._t=Hs(e.path,e.collectionGroup,Qa(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const l of Qa(e))n.push(new Ze(l.field,"desc"===l.dir?"asc":"desc"));const o=e.endAt?new te(e.endAt.position,e.endAt.inclusive):null,u=e.startAt?new te(e.startAt.position,e.startAt.inclusive):null;e._t=Hs(e.path,e.collectionGroup,n,e.filters,e.limit,o,u)}return e._t}function Ac(i,e){e.getFirstInequalityField(),Ku(i);const n=i.filters.concat([e]);return new du(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function zl(i,e,n){return new du(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function qu(i,e){return Fa(Oo(i),Oo(e))&&i.limitType===e.limitType}function Qu(i){return`${qa(Oo(i))}|lt:${i.limitType}`}function Xu(i){return`Query(target=${function(e){let n=e.path.canonicalString();return null!==e.collectionGroup&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(o=>ka(o)).join(", ")}]`),In(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(o=>{return`${(u=o).field.canonicalString()} (${u.dir})`;var u}).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(o=>$o(o)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(o=>$o(o)).join(",")),`Target(${n})`}(Oo(i))}; limitType=${i.limitType})`}function sl(i,e){return e.isFoundDocument()&&function(n,o){const u=o.key.path;return null!==n.collectionGroup?o.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(u):Rt.isDocumentKey(n.path)?n.path.isEqual(u):n.path.isImmediateParentOf(u)}(i,e)&&function(n,o){for(const u of Qa(n))if(!u.field.isKeyField()&&null===o.data.field(u.field))return!1;return!0}(i,e)&&function(n,o){for(const u of n.filters)if(!u.matches(o))return!1;return!0}(i,e)&&(o=e,!((n=i).startAt&&!function(u,l,f){const T=we(u,l,f);return u.inclusive?T<=0:T<0}(n.startAt,Qa(n),o)||n.endAt&&!function(u,l,f){const T=we(u,l,f);return u.inclusive?T>=0:T>0}(n.endAt,Qa(n),o)));var n,o}function Gh(i){return(e,n)=>{let o=!1;for(const u of Qa(i)){const l=Sc(u,e,n);if(0!==l)return l;o=o||u.field.isKeyField()}return 0}}function Sc(i,e,n){const o=i.field.isKeyField()?Rt.comparator(e.key,n.key):function(u,l,f){const T=l.data.field(u),k=f.data.field(u);return null!==T&&null!==k?Ka(T,k):O()}(i.field,e,n);switch(i.dir){case"asc":return o;case"desc":return-1*o;default:return O()}}class ca{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),o=this.inner[n];if(void 0!==o)for(const[u,l]of o)if(this.equalsFn(u,e))return l}has(e){return void 0!==this.get(e)}set(e,n){const o=this.mapKeyFn(e),u=this.inner[o];if(void 0===u)return this.inner[o]=[[e,n]],void this.innerSize++;for(let l=0;l<u.length;l++)if(this.equalsFn(u[l][0],e))return void(u[l]=[e,n]);u.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),o=this.inner[n];if(void 0===o)return!1;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return 1===o.length?delete this.inner[n]:o.splice(u,1),this.innerSize--,!0;return!1}forEach(e){iu(this.inner,(n,o)=>{for(const[u,l]of o)e(u,l)})}isEmpty(){return _c(this.inner)}size(){return this.innerSize}}const fp=new Ii(Rt.comparator);function la(){return fp}const zd=new Ii(Rt.comparator);function ol(...i){let e=zd;for(const n of i)e=e.insert(n.key,n);return e}function pm(i){let e=zd;return i.forEach((n,o)=>e=e.insert(n,o.overlayedDocument)),e}function Xa(){return Wl()}function pp(){return Wl()}function Wl(){return new ca(i=>i.toString(),(i,e)=>i.isEqual(e))}const Gd=new Ii(Rt.comparator),gp=new Jr(Rt.comparator);function er(...i){let e=gp;for(const n of i)e=e.add(n);return e}const Wh=new Jr(Nt);function Kh(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Er(e)?"-0":e}}function gm(i){return{integerValue:""+i}}function qh(i,e){return function ur(i){return"number"==typeof i&&Number.isInteger(i)&&!Er(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}(e)?gm(e):Kh(i,e)}class Wd{constructor(){this._=void 0}}function Qh(i,e,n){return i instanceof Yu?function(o,u){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Ca(u)&&(u=zu(u)),u&&(l.fields.__previous_value__=u),{mapValue:l}}(n,e):i instanceof al?ym(i,e):i instanceof ul?vm(i,e):function(o,u){const l=mm(o,u),f=yp(l)+yp(o.gt);return ou(l)&&ou(o.gt)?gm(f):Kh(o.serializer,f)}(i,e)}function Sv(i,e,n){return i instanceof al?ym(i,e):i instanceof ul?vm(i,e):n}function mm(i,e){return i instanceof Kl?ou(n=e)||(o=n)&&"doubleValue"in o?e:{integerValue:0}:null;var o,n}class Yu extends Wd{}class al extends Wd{constructor(e){super(),this.elements=e}}function ym(i,e){const n=ql(e);for(const o of i.elements)n.some(u=>xo(u,o))||n.push(o);return{arrayValue:{values:n}}}class ul extends Wd{constructor(e){super(),this.elements=e}}function vm(i,e){let n=ql(e);for(const o of i.elements)n=n.filter(u=>!xo(u,o));return{arrayValue:{values:n}}}class Kl extends Wd{constructor(e,n){super(),this.serializer=e,this.gt=n}}function yp(i){return Gr(i.integerValue||i.doubleValue)}function ql(i){return au(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class _p{constructor(e,n){this.version=e,this.transformResults=n}}class es{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new es}static exists(e){return new es(void 0,e)}static updateTime(e){return new es(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Iu(i,e){return void 0!==i.updateTime?e.isFoundDocument()&&e.version.isEqual(i.updateTime):void 0===i.exists||i.exists===e.isFoundDocument()}class Ql{}function Xh(i,e){if(!i.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return i.isNoDocument()?new ll(i.key,es.none()):new cl(i.key,i.data,es.none());{const n=i.data,o=I.empty();let u=new Jr(Cr.comparator);for(let l of e.fields)if(!u.has(l)){let f=n.field(l);null===f&&l.length>1&&(l=l.popLast(),f=n.field(l)),null===f?o.delete(l):o.set(l,f),u=u.add(l)}return new Du(i.key,o,new ro(u.toArray()),es.none())}}function Kd(i,e,n){i instanceof cl?function(o,u,l){const f=o.value.clone(),T=Xl(o.fieldTransforms,u,l.transformResults);f.setAll(T),u.convertToFoundDocument(l.version,f).setHasCommittedMutations()}(i,e,n):i instanceof Du?function(o,u,l){if(!Iu(o.precondition,u))return void u.convertToUnknownDocument(l.version);const f=Xl(o.fieldTransforms,u,l.transformResults),T=u.data;T.setAll(Yh(o)),T.setAll(f),u.convertToFoundDocument(l.version,T).setHasCommittedMutations()}(i,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function Zu(i,e,n,o){return i instanceof cl?function(u,l,f,T){if(!Iu(u.precondition,l))return f;const k=u.value.clone(),V=wp(u.fieldTransforms,T,l);return k.setAll(V),l.convertToFoundDocument(l.version,k).setHasLocalMutations(),null}(i,e,n,o):i instanceof Du?function(u,l,f,T){if(!Iu(u.precondition,l))return f;const k=wp(u.fieldTransforms,T,l),V=l.data;return V.setAll(Yh(u)),V.setAll(k),l.convertToFoundDocument(l.version,V).setHasLocalMutations(),null===f?null:f.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(X=>X.field))}(i,e,n,o):(f=n,Iu(i.precondition,l=e)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):f);var l,f}function qd(i,e){let n=null;for(const o of i.fieldTransforms){const u=e.data.field(o.field),l=mm(o.transform,u||null);null!=l&&(null===n&&(n=I.empty()),n.set(o.field,l))}return n||null}function Ep(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&(o=e.fieldTransforms,!!(void 0===(n=i.fieldTransforms)&&void 0===o||n&&o&&Li(n,o,(u,l)=>function vp(i,e){return i.field.isEqual(e.field)&&(o=e.transform,(n=i.transform)instanceof al&&o instanceof al||n instanceof ul&&o instanceof ul?Li(n.elements,o.elements,xo):n instanceof Kl&&o instanceof Kl?xo(n.gt,o.gt):n instanceof Yu&&o instanceof Yu);var n,o}(u,l))))&&(0===i.type?i.value.isEqual(e.value):1!==i.type||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask));var n,o}class cl extends Ql{constructor(e,n,o,u=[]){super(),this.key=e,this.value=n,this.precondition=o,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class Du extends Ql{constructor(e,n,o,u,l=[]){super(),this.key=e,this.data=n,this.fieldMask=o,this.precondition=u,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function Yh(i){const e=new Map;return i.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const o=i.data.field(n);e.set(n,o)}}),e}function Xl(i,e,n){const o=new Map;g(i.length===n.length);for(let u=0;u<n.length;u++){const l=i[u],f=l.transform,T=e.data.field(l.field);o.set(l.field,Sv(f,T,n[u]))}return o}function wp(i,e,n){const o=new Map;for(const u of i){const l=u.transform,f=n.data.field(u.field);o.set(u.field,Qh(l,f,e))}return o}class ll extends Ql{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Jh extends Ql{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Qd{constructor(e,n,o,u){this.batchId=e,this.localWriteTime=n,this.baseMutations=o,this.mutations=u}applyToRemoteDocument(e,n){const o=n.mutationResults;for(let u=0;u<this.mutations.length;u++){const l=this.mutations[u];l.key.isEqual(e.key)&&Kd(l,e,o[u])}}applyToLocalView(e,n){for(const o of this.baseMutations)o.key.isEqual(e.key)&&(n=Zu(o,e,n,this.localWriteTime));for(const o of this.mutations)o.key.isEqual(e.key)&&(n=Zu(o,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const o=pp();return this.mutations.forEach(u=>{const l=e.get(u.key),f=l.overlayedDocument;let T=this.applyToLocalView(f,l.mutatedFields);T=n.has(u.key)?null:T;const k=Xh(f,T);null!==k&&o.set(u.key,k),f.isValidDocument()||f.convertToNoDocument(Bt.min())}),o}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),er())}isEqual(e){return this.batchId===e.batchId&&Li(this.mutations,e.mutations,(n,o)=>Ep(n,o))&&Li(this.baseMutations,e.baseMutations,(n,o)=>Ep(n,o))}}class Xd{constructor(e,n,o,u){this.batch=e,this.commitVersion=n,this.mutationResults=o,this.docVersions=u}static from(e,n,o){g(e.mutations.length===o.length);let u=Gd;const l=e.mutations;for(let f=0;f<l.length;f++)u=u.insert(l[f].key,o[f].version);return new Xd(e,n,o,u)}}class Zh{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class ef{constructor(e,n){this.count=e,this.unchangedNames=n}}var Ss,br;function dl(i){if(void 0===i)return sn("GRPC error has no .code"),x.UNKNOWN;switch(i){case Ss.OK:return x.OK;case Ss.CANCELLED:return x.CANCELLED;case Ss.UNKNOWN:return x.UNKNOWN;case Ss.DEADLINE_EXCEEDED:return x.DEADLINE_EXCEEDED;case Ss.RESOURCE_EXHAUSTED:return x.RESOURCE_EXHAUSTED;case Ss.INTERNAL:return x.INTERNAL;case Ss.UNAVAILABLE:return x.UNAVAILABLE;case Ss.UNAUTHENTICATED:return x.UNAUTHENTICATED;case Ss.INVALID_ARGUMENT:return x.INVALID_ARGUMENT;case Ss.NOT_FOUND:return x.NOT_FOUND;case Ss.ALREADY_EXISTS:return x.ALREADY_EXISTS;case Ss.PERMISSION_DENIED:return x.PERMISSION_DENIED;case Ss.FAILED_PRECONDITION:return x.FAILED_PRECONDITION;case Ss.ABORTED:return x.ABORTED;case Ss.OUT_OF_RANGE:return x.OUT_OF_RANGE;case Ss.UNIMPLEMENTED:return x.UNIMPLEMENTED;case Ss.DATA_LOSS:return x.DATA_LOSS;default:return O()}}(br=Ss||(Ss={}))[br.OK=0]="OK",br[br.CANCELLED=1]="CANCELLED",br[br.UNKNOWN=2]="UNKNOWN",br[br.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",br[br.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",br[br.NOT_FOUND=5]="NOT_FOUND",br[br.ALREADY_EXISTS=6]="ALREADY_EXISTS",br[br.PERMISSION_DENIED=7]="PERMISSION_DENIED",br[br.UNAUTHENTICATED=16]="UNAUTHENTICATED",br[br.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",br[br.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",br[br.ABORTED=10]="ABORTED",br[br.OUT_OF_RANGE=11]="OUT_OF_RANGE",br[br.UNIMPLEMENTED=12]="UNIMPLEMENTED",br[br.INTERNAL=13]="INTERNAL",br[br.UNAVAILABLE=14]="UNAVAILABLE",br[br.DATA_LOSS=15]="DATA_LOSS";class Yd{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Yl}static getOrCreateInstance(){return null===Yl&&(Yl=new Yd),Yl}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let Yl=null;const h=new Fi([4294967295,4294967295],0);function p(i){const e=function w(){return new TextEncoder}().encode(i),n=new di;return n.update(e),new Uint8Array(n.digest())}function b(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),o=e.getUint32(4,!0),u=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Fi([n,o],0),new Fi([u,l],0)]}class ${constructor(e,n,o){if(this.bitmap=e,this.padding=n,this.hashCount=o,n<0||n>=8)throw new Z(`Invalid padding: ${n}`);if(o<0)throw new Z(`Invalid hash count: ${o}`);if(e.length>0&&0===this.hashCount)throw new Z(`Invalid hash count: ${o}`);if(0===e.length&&0!==n)throw new Z(`Invalid padding when bitmap length is 0: ${n}`);this.It=8*e.length-n,this.Tt=Fi.fromNumber(this.It)}Et(e,n,o){let u=e.add(n.multiply(Fi.fromNumber(o)));return 1===u.compare(h)&&(u=new Fi([u.getBits(0),u.getBits(1)],0)),u.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const n=p(e),[o,u]=b(n);for(let l=0;l<this.hashCount;l++){const f=this.Et(o,u,l);if(!this.At(f))return!1}return!0}static create(e,n,o){const u=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),f=new $(l,u,n);return o.forEach(T=>f.insert(T)),f}insert(e){if(0===this.It)return;const n=p(e),[o,u]=b(n);for(let l=0;l<this.hashCount;l++){const f=this.Et(o,u,l);this.Rt(f)}}Rt(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class Z extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Ce{constructor(e,n,o,u,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=o,this.documentUpdates=u,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,o){const u=new Map;return u.set(e,qe.createSynthesizedTargetChangeForCurrentChange(e,n,o)),new Ce(Bt.min(),u,new Ii(Nt),la(),er())}}class qe{constructor(e,n,o,u,l){this.resumeToken=e,this.current=n,this.addedDocuments=o,this.modifiedDocuments=u,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,o){return new qe(o,n,er(),er(),er())}}class _t{constructor(e,n,o,u){this.Pt=e,this.removedTargetIds=n,this.key=o,this.bt=u}}class Wt{constructor(e,n){this.targetId=e,this.Vt=n}}class Pn{constructor(e,n,o=bs.EMPTY_BYTE_STRING,u=null){this.state=e,this.targetIds=n,this.resumeToken=o,this.cause=u}}class Cn{constructor(){this.St=0,this.Dt=Tu(),this.Ct=bs.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=er(),n=er(),o=er();return this.Dt.forEach((u,l)=>{switch(l){case 0:e=e.add(u);break;case 2:n=n.add(u);break;case 1:o=o.add(u);break;default:O()}}),new qe(this.Ct,this.xt,e,n,o)}Ft(){this.Nt=!1,this.Dt=Tu()}Bt(e,n){this.Nt=!0,this.Dt=this.Dt.insert(e,n)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class Ai{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=la(),this.zt=La(),this.Wt=new Ii(Nt)}Ht(e){for(const n of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(n,e.bt):this.Yt(n,e.key,e.bt);for(const n of e.removedTargetIds)this.Yt(n,e.key,e.bt)}Xt(e){this.forEachTarget(e,n=>{const o=this.Zt(n);switch(e.state){case 0:this.te(n)&&o.$t(e.resumeToken);break;case 1:o.Ut(),o.kt||o.Ft(),o.$t(e.resumeToken);break;case 2:o.Ut(),o.kt||this.removeTarget(n);break;case 3:this.te(n)&&(o.Kt(),o.$t(e.resumeToken));break;case 4:this.te(n)&&(this.ee(n),o.$t(e.resumeToken));break;default:O()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qt.forEach((o,u)=>{this.te(u)&&n(u)})}ne(e){var n;const o=e.targetId,u=e.Vt.count,l=this.se(o);if(l){const f=l.target;if(jd(f))if(0===u){const T=new Rt(f.path);this.Yt(o,T,U.newNoDocument(T,Bt.min()))}else g(1===u);else{const T=this.ie(o);if(T!==u){const k=this.re(e,T);0!==k&&(this.ee(o),this.Wt=this.Wt.insert(o,2===k?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(n=Yd.instance)||void 0===n||n.notifyOnExistenceFilterMismatch(function(V,X,de){var Be,nt,St,Kt,Jt,ir;const Wr={localCacheCount:X,existenceFilterCount:de.count},vr=de.unchangedNames;return vr&&(Wr.bloomFilter={applied:0===V,hashCount:null!==(Be=vr?.hashCount)&&void 0!==Be?Be:0,bitmapLength:null!==(Kt=null===(St=null===(nt=vr?.bits)||void 0===nt?void 0:nt.bitmap)||void 0===St?void 0:St.length)&&void 0!==Kt?Kt:0,padding:null!==(ir=null===(Jt=vr?.bits)||void 0===Jt?void 0:Jt.padding)&&void 0!==ir?ir:0}),Wr}(k,T,e.Vt))}}}}re(e,n){const{unchangedNames:o,count:u}=e.Vt;if(!o||!o.bits)return 1;const{bits:{bitmap:l="",padding:f=0},hashCount:T=0}=o;let k,V;try{k=Ta(l).toUint8Array()}catch(X){if(X instanceof Hu)return Ts("Decoding the base64 bloom filter in existence filter failed ("+X.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw X}try{V=new $(k,f,T)}catch(X){return Ts(X instanceof Z?"BloomFilter error: ":"Applying bloom filter failed: ",X),1}return 0===V.It?1:u!==n-this.oe(e.targetId,V)?2:0}oe(e,n){const o=this.Gt.getRemoteKeysForTarget(e);let u=0;return o.forEach(l=>{const f=this.Gt.ue(),T=`projects/${f.projectId}/databases/${f.database}/documents/${l.path.canonicalString()}`;n.vt(T)||(this.Yt(e,l,null),u++)}),u}ce(e){const n=new Map;this.Qt.forEach((l,f)=>{const T=this.se(f);if(T){if(l.current&&jd(T.target)){const k=new Rt(T.target.path);null!==this.jt.get(k)||this.ae(f,k)||this.Yt(f,k,U.newNoDocument(k,e))}l.Mt&&(n.set(f,l.Ot()),l.Ft())}});let o=er();this.zt.forEach((l,f)=>{let T=!0;f.forEachWhile(k=>{const V=this.se(k);return!V||"TargetPurposeLimboResolution"===V.purpose||(T=!1,!1)}),T&&(o=o.add(l))}),this.jt.forEach((l,f)=>f.setReadTime(e));const u=new Ce(e,n,this.Wt,this.jt,o);return this.jt=la(),this.zt=La(),this.Wt=new Ii(Nt),u}Jt(e,n){if(!this.te(e))return;const o=this.ae(e,n.key)?2:0;this.Zt(e).Bt(n.key,o),this.jt=this.jt.insert(n.key,n),this.zt=this.zt.insert(n.key,this.he(n.key).add(e))}Yt(e,n,o){if(!this.te(e))return;const u=this.Zt(e);this.ae(e,n)?u.Bt(n,1):u.Lt(n),this.zt=this.zt.insert(n,this.he(n).delete(e)),o&&(this.jt=this.jt.insert(n,o))}removeTarget(e){this.Qt.delete(e)}ie(e){const n=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let n=this.Qt.get(e);return n||(n=new Cn,this.Qt.set(e,n)),n}he(e){let n=this.zt.get(e);return n||(n=new Jr(Nt),this.zt=this.zt.insert(e,n)),n}te(e){const n=null!==this.se(e);return n||ft("WatchChangeAggregator","Detected inactive target",e),n}se(e){const n=this.Qt.get(e);return n&&n.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new Cn),this.Gt.getRemoteKeysForTarget(e).forEach(n=>{this.Yt(e,n,null)})}ae(e,n){return this.Gt.getRemoteKeysForTarget(e).has(n)}}function La(){return new Ii(Rt.comparator)}function Tu(){return new Ii(Rt.comparator)}const ec={asc:"ASCENDING",desc:"DESCENDING"},Jl={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},tc={and:"AND",or:"OR"};class hl{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Mc(i,e){return i.useProto3Json||In(e)?e:{value:e}}function hu(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Rc(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function Jd(i,e){return hu(i,e.toTimestamp())}function os(i){return g(!!i),Bt.fromTimestamp(function(e){const n=oa(e);return new Or(n.seconds,n.nanos)}(i))}function Zd(i,e){return(n=i,new jn(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}function Zl(i){const e=jn.fromString(i);return g(sf(e)),e}function fl(i,e){return Zd(i.databaseId,e.path)}function Cu(i,e){const n=Zl(e);if(n.get(1)!==i.databaseId.projectId)throw new H(x.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new H(x.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new Rt(nf(n))}function tf(i,e){return Zd(i.databaseId,e)}function pl(i){return new jn(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function nf(i){return g(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function _m(i,e,n){return{name:fl(i,e),fields:n.value.mapValue.fields}}function Dm(i,e){return{documents:[tf(i,e.path)]}}function Tm(i,e){const n={structuredQuery:{}},o=e.path;null!==e.collectionGroup?(n.parent=tf(i,o),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=tf(i,o.popLast()),n.structuredQuery.from=[{collectionId:o.lastSegment()}]);const u=function(k){if(0!==k.length)return ed(zt.create(k,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const l=function(k){if(0!==k.length)return k.map(V=>{return{field:nc((X=V).field),direction:Cm(X.dir)};var X})}(e.orderBy);l&&(n.structuredQuery.orderBy=l);const f=Mc(i,e.limit);var T,k;return null!==f&&(n.structuredQuery.limit=f),e.startAt&&(n.structuredQuery.startAt={before:(T=e.startAt).inclusive,values:T.position}),e.endAt&&(n.structuredQuery.endAt={before:!(k=e.endAt).inclusive,values:k.position}),n}function th(i){let e=function eh(i){const e=Zl(i);return 4===e.length?jn.emptyPath():nf(e)}(i.parent);const n=i.structuredQuery,o=n.from?n.from.length:0;let u=null;if(o>0){g(1===o);const X=n.from[0];X.allDescendants?u=X.collectionId:e=e.child(X.collectionId)}let l=[];n.where&&(l=function(X){const de=Dp(X);return de instanceof zt&&ys(de)?de.getFilters():[de]}(n.where));let f=[];n.orderBy&&(f=n.orderBy.map(X=>{return new Ze(rc((de=X).field),function(Be){switch(Be){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(de.direction));var de}));let T=null;n.limit&&(T=function(X){let de;return de="object"==typeof X?X.value:X,In(de)?null:de}(n.limit));let k=null;var X;n.startAt&&(k=new te((X=n.startAt).values||[],!!X.before));let V=null;return n.endAt&&(V=function(X){return new te(X.values||[],!X.before)}(n.endAt)),function $d(i,e,n,o,u,l,f,T){return new du(i,e,n,o,u,l,f,T)}(e,u,f,l,T,"F",k,V)}function Dp(i){return void 0!==i.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=rc(e.unaryFilter.field);return wt.create(n,"==",{doubleValue:NaN});case"IS_NULL":const o=rc(e.unaryFilter.field);return wt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=rc(e.unaryFilter.field);return wt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=rc(e.unaryFilter.field);return wt.create(l,"!=",{nullValue:"NULL_VALUE"});default:return O()}}(i):void 0!==i.fieldFilter?wt.create(rc((e=i).fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return O()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==i.compositeFilter?function(e){return zt.create(e.compositeFilter.filters.map(n=>Dp(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return O()}}(e.compositeFilter.op))}(i):O();var e}function Cm(i){return ec[i]}function bm(i){return Jl[i]}function Tp(i){return tc[i]}function nc(i){return{fieldPath:i.canonicalString()}}function rc(i){return Cr.fromServerFormat(i.fieldPath)}function ed(i){return i instanceof wt?function(e){if("=="===e.op){if($l(e.value))return{unaryFilter:{field:nc(e.field),op:"IS_NAN"}};if(Zi(e.value))return{unaryFilter:{field:nc(e.field),op:"IS_NULL"}}}else if("!="===e.op){if($l(e.value))return{unaryFilter:{field:nc(e.field),op:"IS_NOT_NAN"}};if(Zi(e.value))return{unaryFilter:{field:nc(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:nc(e.field),op:bm(e.op),value:e.value}}}(i):i instanceof zt?function(e){const n=e.getFilters().map(o=>ed(o));return 1===n.length?n[0]:{compositeFilter:{op:Tp(e.op),filters:n}}}(i):O()}function Am(i){const e=[];return i.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function sf(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}class Ya{constructor(e,n,o,u,l=Bt.min(),f=Bt.min(),T=bs.EMPTY_BYTE_STRING,k=null){this.target=e,this.targetId=n,this.purpose=o,this.sequenceNumber=u,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=T,this.expectedCount=k}withSequenceNumber(e){return new Ya(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ya(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ya(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ya(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Cp{constructor(e){this.fe=e}}function uf(i){const e=th({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?zl(e,e.limit,"L"):e}class _l{constructor(){}_e(e,n){this.me(e,n),n.ge()}me(e,n){if("nullValue"in e)this.ye(n,5);else if("booleanValue"in e)this.ye(n,10),n.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(n,15),n.pe(Gr(e.integerValue));else if("doubleValue"in e){const o=Gr(e.doubleValue);isNaN(o)?this.ye(n,13):(this.ye(n,15),Er(o)?n.pe(0):n.pe(o))}else if("timestampValue"in e){const o=e.timestampValue;this.ye(n,20),"string"==typeof o?n.Ie(o):(n.Ie(`${o.seconds||""}`),n.pe(o.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,n),this.Ee(n);else if("bytesValue"in e)this.ye(n,30),n.Ae(Ta(e.bytesValue)),this.Ee(n);else if("referenceValue"in e)this.ve(e.referenceValue,n);else if("geoPointValue"in e){const o=e.geoPointValue;this.ye(n,45),n.pe(o.latitude||0),n.pe(o.longitude||0)}else"mapValue"in e?wc(e)?this.ye(n,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,n),this.Ee(n)):"arrayValue"in e?(this.Pe(e.arrayValue,n),this.Ee(n)):O()}Te(e,n){this.ye(n,25),this.be(e,n)}be(e,n){n.Ie(e)}Re(e,n){const o=e.fields||{};this.ye(n,55);for(const u of Object.keys(o))this.Te(u,n),this.me(o[u],n)}Pe(e,n){const o=e.values||[];this.ye(n,50);for(const u of o)this.me(u,n)}ve(e,n){this.ye(n,37),Rt.fromName(e).path.forEach(o=>{this.ye(n,60),this.be(o,n)})}ye(e,n){e.pe(n)}Ee(e){e.pe(2)}}_l.Ve=new _l;class Ov{constructor(){this.rn=new hf}addToCollectionParentIndex(e,n){return this.rn.add(n),Pe.resolve()}getCollectionParents(e,n){return Pe.resolve(this.rn.getEntries(n))}addFieldIndex(e,n){return Pe.resolve()}deleteFieldIndex(e,n){return Pe.resolve()}getDocumentsMatchingTarget(e,n){return Pe.resolve(null)}getIndexType(e,n){return Pe.resolve(0)}getFieldIndexes(e,n){return Pe.resolve([])}getNextCollectionGroupToUpdate(e){return Pe.resolve(null)}getMinOffset(e,n){return Pe.resolve(ti.min())}getMinOffsetFromCollectionGroup(e,n){return Pe.resolve(ti.min())}updateCollectionGroup(e,n,o){return Pe.resolve()}updateIndexEntries(e,n){return Pe.resolve()}}class hf{constructor(){this.index={}}add(e){const n=e.lastSegment(),o=e.popLast(),u=this.index[n]||new Jr(jn.comparator),l=!u.has(o);return this.index[n]=u.add(o),l}has(e){const n=e.lastSegment(),o=e.popLast(),u=this.index[n];return u&&u.has(o)}getEntries(e){return(this.index[e]||new Jr(jn.comparator)).toArray()}}new Uint8Array(0);class ko{constructor(e,n,o){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=o}static withCacheSize(e){return new ko(e,ko.DEFAULT_COLLECTION_PERCENTILE,ko.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}ko.DEFAULT_COLLECTION_PERCENTILE=10,ko.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ko.DEFAULT=new ko(41943040,ko.DEFAULT_COLLECTION_PERCENTILE,ko.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ko.DISABLED=new ko(-1,0,0);class od{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new od(0)}static Mn(){return new od(-1)}}class jm{constructor(){this.changes=new ca(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,U.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const o=this.changes.get(n);return void 0!==o?Pe.resolve(o):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class KE{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class Bv{constructor(e,n,o,u){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=o,this.indexManager=u}getDocument(e,n){let o=null;return this.documentOverlayCache.getOverlay(e,n).next(u=>(o=u,this.remoteDocumentCache.getEntry(e,n))).next(u=>(null!==o&&Zu(o.mutation,u,ro.empty(),Or.now()),u))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(o=>this.getLocalViewOfDocuments(e,o,er()).next(()=>o))}getLocalViewOfDocuments(e,n,o=er()){const u=Xa();return this.populateOverlays(e,u,n).next(()=>this.computeViews(e,n,u,o).next(l=>{let f=ol();return l.forEach((T,k)=>{f=f.insert(T,k.overlayedDocument)}),f}))}getOverlayedDocuments(e,n){const o=Xa();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,er()))}populateOverlays(e,n,o){const u=[];return o.forEach(l=>{n.has(l)||u.push(l)}),this.documentOverlayCache.getOverlays(e,u).next(l=>{l.forEach((f,T)=>{n.set(f,T)})})}computeViews(e,n,o,u){let l=la();const f=Wl(),T=Wl();return n.forEach((k,V)=>{const X=o.get(V.key);u.has(V.key)&&(void 0===X||X.mutation instanceof Du)?l=l.insert(V.key,V):void 0!==X?(f.set(V.key,X.mutation.getFieldMask()),Zu(X.mutation,V,X.mutation.getFieldMask(),Or.now())):f.set(V.key,ro.empty())}),this.recalculateAndSaveOverlays(e,l).next(k=>(k.forEach((V,X)=>f.set(V,X)),n.forEach((V,X)=>{var de;return T.set(V,new KE(X,null!==(de=f.get(V))&&void 0!==de?de:null))}),T))}recalculateAndSaveOverlays(e,n){const o=Wl();let u=new Ii((f,T)=>f-T),l=er();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(f=>{for(const T of f)T.keys().forEach(k=>{const V=n.get(k);if(null===V)return;let X=o.get(k)||ro.empty();X=T.applyToLocalView(V,X),o.set(k,X);const de=(u.get(T.batchId)||er()).add(k);u=u.insert(T.batchId,de)})}).next(()=>{const f=[],T=u.getReverseIterator();for(;T.hasNext();){const k=T.getNext(),V=k.key,X=k.value,de=pp();X.forEach(Be=>{if(!l.has(Be)){const nt=Xh(n.get(Be),o.get(Be));null!==nt&&de.set(Be,nt),l=l.add(Be)}}),f.push(this.documentOverlayCache.saveOverlays(e,V,de))}return Pe.waitFor(f)}).next(()=>o)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(o=>this.recalculateAndSaveOverlays(e,o))}getDocumentsMatchingQuery(e,n,o){return Rt.isDocumentKey((u=n).path)&&null===u.collectionGroup&&0===u.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):Hd(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,o):this.getDocumentsMatchingCollectionQuery(e,n,o);var u}getNextDocuments(e,n,o,u){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,o,u).next(l=>{const f=u-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,o.largestBatchId,u-l.size):Pe.resolve(Xa());let T=-1,k=l;return f.next(V=>Pe.forEach(V,(X,de)=>(T<de.largestBatchId&&(T=de.largestBatchId),l.get(X)?Pe.resolve():this.remoteDocumentCache.getEntry(e,X).next(Be=>{k=k.insert(X,Be)}))).next(()=>this.populateOverlays(e,V,l)).next(()=>this.computeViews(e,k,V,er())).next(X=>({batchId:T,changes:pm(X)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Rt(n)).next(o=>{let u=ol();return o.isFoundDocument()&&(u=u.insert(o.key,o)),u})}getDocumentsMatchingCollectionGroupQuery(e,n,o){const u=n.collectionGroup;let l=ol();return this.indexManager.getCollectionParents(e,u).next(f=>Pe.forEach(f,T=>{const k=(V=n,X=T.child(u),new du(X,null,V.explicitOrderBy.slice(),V.filters.slice(),V.limit,V.limitType,V.startAt,V.endAt));var V,X;return this.getDocumentsMatchingCollectionQuery(e,k,o).next(V=>{V.forEach((X,de)=>{l=l.insert(X,de)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,n,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,o.largestBatchId).next(l=>(u=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,o,u))).next(l=>{u.forEach((T,k)=>{const V=k.getKey();null===l.get(V)&&(l=l.insert(V,U.newInvalidDocument(V)))});let f=ol();return l.forEach((T,k)=>{const V=u.get(T);void 0!==V&&Zu(V.mutation,k,ro.empty(),Or.now()),sl(n,k)&&(f=f.insert(T,k))}),f})}}class ah{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,n){return Pe.resolve(this.cs.get(n))}saveBundleMetadata(e,n){var o;return this.cs.set(n.id,{id:(o=n).id,version:o.version,createTime:os(o.createTime)}),Pe.resolve()}getNamedQuery(e,n){return Pe.resolve(this.hs.get(n))}saveNamedQuery(e,n){return this.hs.set(n.name,{name:(o=n).name,query:uf(o.bundledQuery),readTime:os(o.readTime)}),Pe.resolve();var o}}class uh{constructor(){this.overlays=new Ii(Rt.comparator),this.ls=new Map}getOverlay(e,n){return Pe.resolve(this.overlays.get(n))}getOverlays(e,n){const o=Xa();return Pe.forEach(n,u=>this.getOverlay(e,u).next(l=>{null!==l&&o.set(u,l)})).next(()=>o)}saveOverlays(e,n,o){return o.forEach((u,l)=>{this.we(e,n,l)}),Pe.resolve()}removeOverlaysForBatchId(e,n,o){const u=this.ls.get(o);return void 0!==u&&(u.forEach(l=>this.overlays=this.overlays.remove(l)),this.ls.delete(o)),Pe.resolve()}getOverlaysForCollection(e,n,o){const u=Xa(),l=n.length+1,f=new Rt(n.child("")),T=this.overlays.getIteratorFrom(f);for(;T.hasNext();){const k=T.getNext().value,V=k.getKey();if(!n.isPrefixOf(V.path))break;V.path.length===l&&k.largestBatchId>o&&u.set(k.getKey(),k)}return Pe.resolve(u)}getOverlaysForCollectionGroup(e,n,o,u){let l=new Ii((V,X)=>V-X);const f=this.overlays.getIterator();for(;f.hasNext();){const V=f.getNext().value;if(V.getKey().getCollectionGroup()===n&&V.largestBatchId>o){let X=l.get(V.largestBatchId);null===X&&(X=Xa(),l=l.insert(V.largestBatchId,X)),X.set(V.getKey(),V)}}const T=Xa(),k=l.getIterator();for(;k.hasNext()&&(k.getNext().value.forEach((V,X)=>T.set(V,X)),!(T.size()>=u)););return Pe.resolve(T)}we(e,n,o){const u=this.overlays.get(o.key);if(null!==u){const f=this.ls.get(u.largestBatchId).delete(o.key);this.ls.set(u.largestBatchId,f)}this.overlays=this.overlays.insert(o.key,new Zh(n,o));let l=this.ls.get(n);void 0===l&&(l=er(),this.ls.set(n,l)),this.ls.set(n,l.add(o.key))}}class gf{constructor(){this.fs=new Jr(so.ds),this.ws=new Jr(so._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,n){const o=new so(e,n);this.fs=this.fs.add(o),this.ws=this.ws.add(o)}gs(e,n){e.forEach(o=>this.addReference(o,n))}removeReference(e,n){this.ys(new so(e,n))}ps(e,n){e.forEach(o=>this.removeReference(o,n))}Is(e){const n=new Rt(new jn([])),o=new so(n,e),u=new so(n,e+1),l=[];return this.ws.forEachInRange([o,u],f=>{this.ys(f),l.push(f.key)}),l}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const n=new Rt(new jn([])),o=new so(n,e),u=new so(n,e+1);let l=er();return this.ws.forEachInRange([o,u],f=>{l=l.add(f.key)}),l}containsKey(e){const n=new so(e,0),o=this.fs.firstAfterOrEqual(n);return null!==o&&e.isEqual(o.key)}}class so{constructor(e,n){this.key=e,this.As=n}static ds(e,n){return Rt.comparator(e.key,n.key)||Nt(e.As,n.As)}static _s(e,n){return Nt(e.As,n.As)||Rt.comparator(e.key,n.key)}}class Lp{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new Jr(so.ds)}checkEmpty(e){return Pe.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,o,u){const l=this.vs;this.vs++;const f=new Qd(l,n,o,u);this.mutationQueue.push(f);for(const T of u)this.Rs=this.Rs.add(new so(T.key,l)),this.indexManager.addToCollectionParentIndex(e,T.key.path.popLast());return Pe.resolve(f)}lookupMutationBatch(e,n){return Pe.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(e,n){const u=this.bs(n+1),l=u<0?0:u;return Pe.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return Pe.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return Pe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const o=new so(n,0),u=new so(n,Number.POSITIVE_INFINITY),l=[];return this.Rs.forEachInRange([o,u],f=>{const T=this.Ps(f.As);l.push(T)}),Pe.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let o=new Jr(Nt);return n.forEach(u=>{const l=new so(u,0),f=new so(u,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([l,f],T=>{o=o.add(T.As)})}),Pe.resolve(this.Vs(o))}getAllMutationBatchesAffectingQuery(e,n){const o=n.path,u=o.length+1;let l=o;Rt.isDocumentKey(l)||(l=l.child(""));const f=new so(new Rt(l),0);let T=new Jr(Nt);return this.Rs.forEachWhile(k=>{const V=k.key.path;return!!o.isPrefixOf(V)&&(V.length===u&&(T=T.add(k.As)),!0)},f),Pe.resolve(this.Vs(T))}Vs(e){const n=[];return e.forEach(o=>{const u=this.Ps(o);null!==u&&n.push(u)}),n}removeMutationBatch(e,n){g(0===this.Ss(n.batchId,"removed")),this.mutationQueue.shift();let o=this.Rs;return Pe.forEach(n.mutations,u=>{const l=new so(u.key,n.batchId);return o=o.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,u.key)}).next(()=>{this.Rs=o})}Cn(e){}containsKey(e,n){const o=new so(n,0),u=this.Rs.firstAfterOrEqual(o);return Pe.resolve(n.isEqual(u&&u.key))}performConsistencyCheck(e){return Pe.resolve()}Ss(e,n){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const n=this.bs(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class Up{constructor(e){this.Ds=e,this.docs=new Ii(Rt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const o=n.key,u=this.docs.get(o),l=u?u.size:0,f=this.Ds(n);return this.docs=this.docs.insert(o,{document:n.mutableCopy(),size:f}),this.size+=f-l,this.indexManager.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const o=this.docs.get(n);return Pe.resolve(o?o.document.mutableCopy():U.newInvalidDocument(n))}getEntries(e,n){let o=la();return n.forEach(u=>{const l=this.docs.get(u);o=o.insert(u,l?l.document.mutableCopy():U.newInvalidDocument(u))}),Pe.resolve(o)}getDocumentsMatchingQuery(e,n,o,u){let l=la();const f=n.path,T=new Rt(f.child("")),k=this.docs.getIteratorFrom(T);for(;k.hasNext();){const{key:V,value:{document:X}}=k.getNext();if(!f.isPrefixOf(V.path))break;V.path.length>f.length+1||ps(wi(X),o)<=0||(u.has(X.key)||sl(n,X))&&(l=l.insert(X.key,X.mutableCopy()))}return Pe.resolve(l)}getAllFromCollectionGroup(e,n,o,u){O()}Cs(e,n){return Pe.forEach(this.docs,o=>n(o))}newChangeBuffer(e){return new jv(this)}getSize(e){return Pe.resolve(this.size)}}class jv extends jm{constructor(e){super(),this.os=e}applyChanges(e){const n=[];return this.changes.forEach((o,u)=>{u.isValidDocument()?n.push(this.os.addEntry(e,u)):this.os.removeEntry(o)}),Pe.waitFor(n)}getFromCache(e,n){return this.os.getEntry(e,n)}getAllFromCache(e,n){return this.os.getEntries(e,n)}}class Gm{constructor(e){this.persistence=e,this.xs=new ca(n=>qa(n),Fa),this.lastRemoteSnapshotVersion=Bt.min(),this.highestTargetId=0,this.Ns=0,this.ks=new gf,this.targetCount=0,this.Ms=od.kn()}forEachTarget(e,n){return this.xs.forEach((o,u)=>n(u)),Pe.resolve()}getLastRemoteSnapshotVersion(e){return Pe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Pe.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),Pe.resolve(this.highestTargetId)}setTargetsMetadata(e,n,o){return o&&(this.lastRemoteSnapshotVersion=o),n>this.Ns&&(this.Ns=n),Pe.resolve()}Fn(e){this.xs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ms=new od(n),this.highestTargetId=n),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,n){return this.Fn(n),this.targetCount+=1,Pe.resolve()}updateTargetData(e,n){return this.Fn(n),Pe.resolve()}removeTargetData(e,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,Pe.resolve()}removeTargets(e,n,o){let u=0;const l=[];return this.xs.forEach((f,T)=>{T.sequenceNumber<=n&&null===o.get(T.targetId)&&(this.xs.delete(f),l.push(this.removeMatchingKeysForTargetId(e,T.targetId)),u++)}),Pe.waitFor(l).next(()=>u)}getTargetCount(e){return Pe.resolve(this.targetCount)}getTargetData(e,n){const o=this.xs.get(n)||null;return Pe.resolve(o)}addMatchingKeys(e,n,o){return this.ks.gs(n,o),Pe.resolve()}removeMatchingKeys(e,n,o){this.ks.ps(n,o);const u=this.persistence.referenceDelegate,l=[];return u&&n.forEach(f=>{l.push(u.markPotentiallyOrphaned(e,f))}),Pe.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this.ks.Is(n),Pe.resolve()}getMatchingKeysForTargetId(e,n){const o=this.ks.Es(n);return Pe.resolve(o)}containsKey(e,n){return Pe.resolve(this.ks.containsKey(n))}}class mf{constructor(e,n){this.$s={},this.overlays={},this.Os=new At(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new Gm(this),this.indexManager=new Ov,this.remoteDocumentCache=new Up(o=>this.referenceDelegate.Ls(o)),this.serializer=new Cp(n),this.qs=new ah(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new uh,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let o=this.$s[e.toKey()];return o||(o=new Lp(n,this.referenceDelegate),this.$s[e.toKey()]=o),o}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,n,o){ft("MemoryPersistence","Starting transaction:",e);const u=new yf(this.Os.next());return this.referenceDelegate.Us(),o(u).next(l=>this.referenceDelegate.Ks(u).next(()=>l)).toPromise().then(l=>(u.raiseOnCommittedEvent(),l))}Gs(e,n){return Pe.or(Object.values(this.$s).map(o=>()=>o.containsKey(e,n)))}}class yf extends ni{constructor(e){super(),this.currentSequenceNumber=e}}class Vp{constructor(e){this.persistence=e,this.Qs=new gf,this.js=null}static zs(e){return new Vp(e)}get Ws(){if(this.js)return this.js;throw O()}addReference(e,n,o){return this.Qs.addReference(o,n),this.Ws.delete(o.toString()),Pe.resolve()}removeReference(e,n,o){return this.Qs.removeReference(o,n),this.Ws.add(o.toString()),Pe.resolve()}markPotentiallyOrphaned(e,n){return this.Ws.add(n.toString()),Pe.resolve()}removeTarget(e,n){this.Qs.Is(n.targetId).forEach(u=>this.Ws.add(u.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,n.targetId).next(u=>{u.forEach(l=>this.Ws.add(l.toString()))}).next(()=>o.removeTargetData(e,n))}Us(){this.js=new Set}Ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Pe.forEach(this.Ws,o=>{const u=Rt.fromPath(o);return this.Hs(e,u).next(l=>{l||n.removeEntry(u,Bt.min())})}).next(()=>(this.js=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hs(e,n).next(o=>{o?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(e){return 0}Hs(e,n){return Pe.or([()=>Pe.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gs(e,n)])}}class cd{constructor(e,n,o,u){this.targetId=e,this.fromCache=n,this.Fi=o,this.Bi=u}static Li(e,n){let o=er(),u=er();for(const l of n.docChanges)switch(l.type){case 0:o=o.add(l.doc.key);break;case 1:u=u.add(l.doc.key)}return new cd(e,n.fromCache,o,u)}}class Wm{constructor(){this.qi=!1}initialize(e,n){this.Ui=e,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(e,n,o,u){return this.Ki(e,n).next(l=>l||this.Gi(e,n,u,o)).next(l=>l||this.Qi(e,n))}Ki(e,n){if(zh(n))return Pe.resolve(null);let o=Oo(n);return this.indexManager.getIndexType(e,o).next(u=>0===u?null:(null!==n.limit&&1===u&&(n=zl(n,null,"F"),o=Oo(n)),this.indexManager.getDocumentsMatchingTarget(e,o).next(l=>{const f=er(...l);return this.Ui.getDocuments(e,f).next(T=>this.indexManager.getMinOffset(e,o).next(k=>{const V=this.ji(n,T);return this.zi(n,V,f,k.readTime)?this.Ki(e,zl(n,null,"F")):this.Wi(e,V,n,k)}))})))}Gi(e,n,o,u){return zh(n)||u.isEqual(Bt.min())?this.Qi(e,n):this.Ui.getDocuments(e,o).next(l=>{const f=this.ji(n,l);return this.zi(n,f,o,u)?this.Qi(e,n):(Ji()<=ne.$b.DEBUG&&ft("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),Xu(n)),this.Wi(e,f,n,function Fn(i,e){const n=i.toTimestamp().seconds,o=i.toTimestamp().nanoseconds+1,u=Bt.fromTimestamp(1e9===o?new Or(n+1,0):new Or(n,o));return new ti(u,Rt.empty(),e)}(u,-1)))})}ji(e,n){let o=new Jr(Gh(e));return n.forEach((u,l)=>{sl(e,l)&&(o=o.add(l))}),o}zi(e,n,o,u){if(null===e.limit)return!1;if(o.size!==n.size)return!0;const l="F"===e.limitType?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(u)>0)}Qi(e,n){return Ji()<=ne.$b.DEBUG&&ft("QueryEngine","Using full collection scan to execute query:",Xu(n)),this.Ui.getDocumentsMatchingQuery(e,n,ti.min())}Wi(e,n,o,u){return this.Ui.getDocumentsMatchingQuery(e,o,u).next(l=>(n.forEach(f=>{l=l.insert(f.key,f)}),l))}}class Bp{constructor(e,n,o,u){this.persistence=e,this.Hi=n,this.serializer=u,this.Ji=new Ii(Nt),this.Yi=new ca(l=>qa(l),Fa),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(o)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Bv(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function mu(i,e){return Fc.apply(this,arguments)}function Fc(){return Fc=(0,ee.A)(function*(i,e){const n=M(i);return yield n.persistence.runTransaction("Handle user change","readonly",o=>{let u;return n.mutationQueue.getAllMutationBatches(o).next(l=>(u=l,n.tr(e),n.mutationQueue.getAllMutationBatches(o))).next(l=>{const f=[],T=[];let k=er();for(const V of u){f.push(V.batchId);for(const X of V.mutations)k=k.add(X.key)}for(const V of l){T.push(V.batchId);for(const X of V.mutations)k=k.add(X.key)}return n.localDocuments.getDocuments(o,k).next(V=>({er:V,removedBatchIds:f,addedBatchIds:T}))})})}),Fc.apply(this,arguments)}function Km(i){const e=M(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Bs.getLastRemoteSnapshotVersion(n))}function ld(i,e){const n=M(i);return n.persistence.runTransaction("Get next mutation batch","readonly",o=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(o,e)))}function hd(i,e,n){return Hp.apply(this,arguments)}function Hp(){return Hp=(0,ee.A)(function*(i,e,n){const o=M(i),u=o.Ji.get(e),l=n?"readwrite":"readwrite-primary";try{n||(yield o.persistence.runTransaction("Release target",l,f=>o.persistence.referenceDelegate.removeTarget(f,u)))}catch(f){if(!y(f))throw f;ft("LocalStore",`Failed to update sequence numbers for target ${e}: ${f}`)}o.Ji=o.Ji.remove(e),o.Yi.delete(u.target)}),Hp.apply(this,arguments)}function fd(i,e,n){const o=M(i);let u=Bt.min(),l=er();return o.persistence.runTransaction("Execute query","readonly",f=>function(T,k,V){const X=M(T),de=X.Yi.get(V);return void 0!==de?Pe.resolve(X.Ji.get(de)):X.Bs.getTargetData(k,V)}(o,f,Oo(e)).next(T=>{if(T)return u=T.lastLimboFreeSnapshotVersion,o.Bs.getMatchingKeysForTargetId(f,T.targetId).next(k=>{l=k})}).next(()=>o.Hi.getDocumentsMatchingQuery(f,e,n?u:Bt.min(),n?l:er())).next(T=>(function Gp(i,e,n){let o=i.Xi.get(e)||Bt.min();n.forEach((u,l)=>{l.readTime.compareTo(o)>0&&(o=l.readTime)}),i.Xi.set(e,o)}(o,function Gl(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}(e),T),{documents:T,ir:l})))}class Lc{constructor(){this.activeTargetIds=function mp(){return Wh}()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class If{constructor(){this.Hr=new Lc,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,o){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,n,o){this.Jr[e]=n}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new Lc,Promise.resolve()}handleUserChange(e,n,o){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class ph{Yr(e){}shutdown(){}}class gh{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){ft("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){ft("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let ic=null;function mh(){return null===ic?ic=268435456+Math.round(2147483648*Math.random()):ic++,"0x"+ic.toString(16)}const qp={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Df{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const ha="WebChannelConnection";class Qp extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,n,o,u,l){const f=mh(),T=this.To(e,n);ft("RestConnection",`Sending RPC '${e}' ${f}:`,T,o);const k={};return this.Eo(k,u,l),this.Ao(e,T,k,o).then(V=>(ft("RestConnection",`Received RPC '${e}' ${f}: `,V),V),V=>{throw Ts("RestConnection",`RPC '${e}' ${f} failed with error: `,V,"url: ",T,"request:",o),V})}vo(e,n,o,u,l,f){return this.Io(e,n,o,u,l)}Eo(e,n,o){e["X-Goog-Api-Client"]="gl-js/ fire/"+zr,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((u,l)=>e[l]=u),o&&o.headers.forEach((u,l)=>e[l]=u)}To(e,n){return`${this.mo}/v1/${n}:${qp[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,n,o,u){const l=mh();return new Promise((f,T)=>{const k=new Tr;k.setWithCredentials(!0),k.listenOnce(yr.COMPLETE,()=>{try{switch(k.getLastErrorCode()){case Gt.NO_ERROR:const X=k.getResponseJson();ft(ha,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(X)),f(X);break;case Gt.TIMEOUT:ft(ha,`RPC '${e}' ${l} timed out`),T(new H(x.DEADLINE_EXCEEDED,"Request time out"));break;case Gt.HTTP_ERROR:const de=k.getStatus();if(ft(ha,`RPC '${e}' ${l} failed with status:`,de,"response text:",k.getResponseText()),de>0){let Be=k.getResponseJson();Array.isArray(Be)&&(Be=Be[0]);const nt=Be?.error;if(nt&&nt.status&&nt.message){const St=function(Kt){const Jt=Kt.toLowerCase().replace(/_/g,"-");return Object.values(x).indexOf(Jt)>=0?Jt:x.UNKNOWN}(nt.status);T(new H(St,nt.message))}else T(new H(x.UNKNOWN,"Server responded with status "+k.getStatus()))}else T(new H(x.UNAVAILABLE,"Connection failed."));break;default:O()}}finally{ft(ha,`RPC '${e}' ${l} completed.`)}});const V=JSON.stringify(u);ft(ha,`RPC '${e}' ${l} sending request:`,u),k.send(n,"POST",V,o,15)})}Ro(e,n,o){const u=mh(),l=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=Qe(),T=ot(),k={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},V=this.longPollingOptions.timeoutSeconds;void 0!==V&&(k.longPollingTimeout=Math.round(1e3*V)),this.useFetchStreams&&(k.xmlHttpFactory=new kn({})),this.Eo(k.initMessageHeaders,n,o),k.encodeInitMessageHeaders=!0;const X=l.join("");ft(ha,`Creating RPC '${e}' stream ${u}: ${X}`,k);const de=f.createWebChannel(X,k);let Be=!1,nt=!1;const St=new Df({ro:Jt=>{nt?ft(ha,`Not sending because RPC '${e}' stream ${u} is closed:`,Jt):(Be||(ft(ha,`Opening RPC '${e}' stream ${u} transport.`),de.open(),Be=!0),ft(ha,`RPC '${e}' stream ${u} sending:`,Jt),de.send(Jt))},oo:()=>de.close()}),Kt=(Jt,ir,Wr)=>{Jt.listen(ir,vr=>{try{Wr(vr)}catch(ao){setTimeout(()=>{throw ao},0)}})};return Kt(de,Fr.EventType.OPEN,()=>{nt||ft(ha,`RPC '${e}' stream ${u} transport opened.`)}),Kt(de,Fr.EventType.CLOSE,()=>{nt||(nt=!0,ft(ha,`RPC '${e}' stream ${u} transport closed`),St.wo())}),Kt(de,Fr.EventType.ERROR,Jt=>{nt||(nt=!0,Ts(ha,`RPC '${e}' stream ${u} transport errored:`,Jt),St.wo(new H(x.UNAVAILABLE,"The operation could not be completed")))}),Kt(de,Fr.EventType.MESSAGE,Jt=>{var ir;if(!nt){const Wr=Jt.data[0];g(!!Wr);const ao=Wr.error||(null===(ir=Wr[0])||void 0===ir?void 0:ir.error);if(ao){ft(ha,`RPC '${e}' stream ${u} received error:`,ao);const Ks=ao.status;let is=function(Ul){const dv=Ss[Ul];if(void 0!==dv)return dl(dv)}(Ks),Sa=ao.message;void 0===is&&(is=x.INTERNAL,Sa="Unknown error status: "+Ks+" with message "+ao.message),nt=!0,St.wo(new H(is,Sa)),de.close()}else ft(ha,`RPC '${e}' stream ${u} received:`,Wr),St._o(Wr)}}),Kt(T,xr.STAT_EVENT,Jt=>{Jt.stat===Zn.PROXY?ft(ha,`RPC '${e}' stream ${u} detected buffering proxy`):Jt.stat===Zn.NOPROXY&&ft(ha,`RPC '${e}' stream ${u} detected no buffering proxy`)}),setTimeout(()=>{St.fo()},0),St}}function Tf(){return typeof document<"u"?document:null}function md(i){return new hl(i,!0)}class Xp{constructor(e,n,o=1e3,u=1.5,l=6e4){this.ii=e,this.timerId=n,this.Po=o,this.bo=u,this.Vo=l,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),o=Math.max(0,Date.now()-this.Co),u=Math.max(0,n-o);u>0&&ft("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${o} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,u,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class Jm{constructor(e,n,o,u,l,f,T,k){this.ii=e,this.$o=o,this.Oo=u,this.connection=l,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=T,this.listener=k,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new Xp(e,n)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,ee.A)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,ee.A)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,n){var o=this;return(0,ee.A)(function*(){o.Ho(),o.Jo(),o.qo.cancel(),o.Fo++,4!==e?o.qo.reset():n&&n.code===x.RESOURCE_EXHAUSTED?(sn(n.toString()),sn("Using maximum backoff delay to prevent overloading the backend."),o.qo.xo()):n&&n.code===x.UNAUTHENTICATED&&3!==o.state&&(o.authCredentialsProvider.invalidateToken(),o.appCheckCredentialsProvider.invalidateToken()),null!==o.stream&&(o.Yo(),o.stream.close(),o.stream=null),o.state=e,yield o.listener.ao(n)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,u])=>{this.Fo===n&&this.Zo(o,u)},o=>{e(()=>{const u=new H(x.UNKNOWN,"Fetching auth token failed: "+o.message);return this.tu(u)})})}Zo(e,n){const o=this.Xo(this.Fo);this.stream=this.eu(e,n),this.stream.uo(()=>{o(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(u=>{o(()=>this.tu(u))}),this.stream.onMessage(u=>{o(()=>this.onMessage(u))})}Go(){var e=this;this.state=5,this.qo.No((0,ee.A)(function*(){e.state=0,e.start()}))}tu(e){return ft("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.Fo===e?n():(ft("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Yp extends Jm{constructor(e,n,o,u,l,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,o,u,f),this.serializer=l}eu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.qo.reset();const n=function wm(i,e){let n;if("targetChange"in e){const o="NO_CHANGE"===(k=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===k?1:"REMOVE"===k?2:"CURRENT"===k?3:"RESET"===k?4:O(),u=e.targetChange.targetIds||[],l=function(k,V){return k.useProto3Json?(g(void 0===V||"string"==typeof V),bs.fromBase64String(V||"")):(g(void 0===V||V instanceof Uint8Array),bs.fromUint8Array(V||new Uint8Array))}(i,e.targetChange.resumeToken),f=e.targetChange.cause,T=f&&function(k){const V=void 0===k.code?x.UNKNOWN:dl(k.code);return new H(V,k.message||"")}(f);n=new Pn(o,u,l,T||null)}else if("documentChange"in e){const o=e.documentChange,u=Cu(i,o.document.name),l=os(o.document.updateTime),f=o.document.createTime?os(o.document.createTime):Bt.min(),T=new I({mapValue:{fields:o.document.fields}}),k=U.newFoundDocument(u,l,f,T);n=new _t(o.targetIds||[],o.removedTargetIds||[],k.key,k)}else if("documentDelete"in e){const o=e.documentDelete,u=Cu(i,o.document),l=o.readTime?os(o.readTime):Bt.min(),f=U.newNoDocument(u,l);n=new _t([],o.removedTargetIds||[],f.key,f)}else if("documentRemove"in e){const o=e.documentRemove,u=Cu(i,o.document);n=new _t([],o.removedTargetIds||[],u,null)}else{if(!("filter"in e))return O();{const o=e.filter,{count:u=0,unchangedNames:l}=o,f=new ef(u,l);n=new Wt(o.targetId,f)}}var k;return n}(this.serializer,e),o=function(u){if(!("targetChange"in u))return Bt.min();const l=u.targetChange;return l.targetIds&&l.targetIds.length?Bt.min():l.readTime?os(l.readTime):Bt.min()}(e);return this.listener.nu(n,o)}su(e){const n={};n.database=pl(this.serializer),n.addTarget=function(u,l){let f;const T=l.target;if(f=jd(T)?{documents:Dm(u,T)}:{query:Tm(u,T)},f.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){f.resumeToken=Rc(u,l.resumeToken);const k=Mc(u,l.expectedCount);null!==k&&(f.expectedCount=k)}else if(l.snapshotVersion.compareTo(Bt.min())>0){f.readTime=hu(u,l.snapshotVersion.toTimestamp());const k=Mc(u,l.expectedCount);null!==k&&(f.expectedCount=k)}return f}(this.serializer,e);const o=function Mv(i,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return O()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);o&&(n.labels=o),this.Wo(n)}iu(e){const n={};n.database=pl(this.serializer),n.removeTarget=e,this.Wo(n)}}class Zm extends Jm{constructor(e,n,o,u,l,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,o,u,f),this.serializer=l,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,n){return this.connection.Ro("Write",e,n)}onMessage(e){if(g(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const n=function Im(i,e){return i&&i.length>0?(g(void 0!==e),i.map(n=>function(o,u){let l=os(o.updateTime?o.updateTime:u);return l.isEqual(Bt.min())&&(l=os(u)),new _p(l,o.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),o=os(e.commitTime);return this.listener.cu(o,n)}return g(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=pl(this.serializer),this.Wo(e)}uu(e){const n={streamToken:this.lastStreamToken,writes:e.map(o=>function fu(i,e){let n;if(e instanceof cl)n={update:_m(i,e.key,e.value)};else if(e instanceof ll)n={delete:fl(i,e.key)};else if(e instanceof Du)n={update:_m(i,e.key,e.data),updateMask:Am(e.fieldMask)};else{if(!(e instanceof Jh))return O();n={verify:fl(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(o=>function(u,l){const f=l.transform;if(f instanceof Yu)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof al)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof ul)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof Kl)return{fieldPath:l.field.canonicalString(),increment:f.gt};throw O()}(0,o))),e.precondition.isNone||(n.currentDocument=void 0!==(u=e.precondition).updateTime?{updateTime:Jd(i,u.updateTime)}:void 0!==u.exists?{exists:u.exists}:O()),n;var u}(this.serializer,o))};this.Wo(n)}}class Wv extends class{}{constructor(e,n,o,u){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=o,this.serializer=u,this.lu=!1}fu(){if(this.lu)throw new H(x.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,n,o){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,l])=>this.connection.Io(e,n,o,u,l)).catch(u=>{throw"FirebaseError"===u.name?(u.code===x.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new H(x.UNKNOWN,u.toString())})}vo(e,n,o,u){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,f])=>this.connection.vo(e,n,o,l,f,u)).catch(l=>{throw"FirebaseError"===l.name?(l.code===x.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new H(x.UNKNOWN,l.toString())})}terminate(){this.lu=!0}}class qv{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(sn(n),this.mu=!1):ft("OnlineStateTracker",n)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class Cf{constructor(e,n,o,u,l){var f=this;this.localStore=e,this.datastore=n,this.asyncQueue=o,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=l,this.Pu.Yr(T=>{o.enqueueAndForget((0,ee.A)(function*(){var k;Uc(f)&&(ft("RemoteStore","Restarting streams for network reachability change."),yield(k=(0,ee.A)(function*(V){const X=M(V);X.vu.add(4),yield Tl(X),X.bu.set("Unknown"),X.vu.delete(4),yield Dl(X)}),function(V){return k.apply(this,arguments)})(f))}))}),this.bu=new qv(o,u)}}function Dl(i){return Jp.apply(this,arguments)}function Jp(){return Jp=(0,ee.A)(function*(i){if(Uc(i))for(const e of i.Ru)yield e(!0)}),Jp.apply(this,arguments)}function Tl(i){return yh.apply(this,arguments)}function yh(){return yh=(0,ee.A)(function*(i){for(const e of i.Ru)yield e(!1)}),yh.apply(this,arguments)}function Cl(i,e){const n=M(i);n.Au.has(e.targetId)||(n.Au.set(e.targetId,e),ny(n)?Af(n):Bc(n).Ko()&&bf(n,e))}function vh(i,e){const n=M(i),o=Bc(n);n.Au.delete(e),o.Ko()&&ty(n,e),0===n.Au.size&&(o.Ko()?o.jo():Uc(n)&&n.bu.set("Unknown"))}function bf(i,e){if(i.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Bt.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Bc(i).su(e)}function ty(i,e){i.Vu.qt(e),Bc(i).iu(e)}function Af(i){i.Vu=new Ai({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),le:e=>i.Au.get(e)||null,ue:()=>i.datastore.serializer.databaseId}),Bc(i).start(),i.bu.gu()}function ny(i){return Uc(i)&&!Bc(i).Uo()&&i.Au.size>0}function Uc(i){return 0===M(i).vu.size}function _h(i){i.Vu=void 0}function Qv(i){return Vc.apply(this,arguments)}function Vc(){return Vc=(0,ee.A)(function*(i){i.Au.forEach((e,n)=>{bf(i,e)})}),Vc.apply(this,arguments)}function Eh(i,e){return Zp.apply(this,arguments)}function Zp(){return Zp=(0,ee.A)(function*(i,e){_h(i),ny(i)?(i.bu.Iu(e),Af(i)):i.bu.set("Unknown")}),Zp.apply(this,arguments)}function ry(i,e,n){return eg.apply(this,arguments)}function eg(){return eg=(0,ee.A)(function*(i,e,n){if(i.bu.set("Online"),e instanceof Pn&&2===e.state&&e.cause)try{yield(o=(0,ee.A)(function*(u,l){const f=l.cause;for(const T of l.targetIds)u.Au.has(T)&&(yield u.remoteSyncer.rejectListen(T,f),u.Au.delete(T),u.Vu.removeTarget(T))}),function(u,l){return o.apply(this,arguments)})(i,e)}catch(o){ft("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),o),yield Sf(i,o)}else if(e instanceof _t?i.Vu.Ht(e):e instanceof Wt?i.Vu.ne(e):i.Vu.Xt(e),!n.isEqual(Bt.min()))try{const o=yield Km(i.localStore);n.compareTo(o)>=0&&(yield function(u,l){const f=u.Vu.ce(l);return f.targetChanges.forEach((T,k)=>{if(T.resumeToken.approximateByteSize()>0){const V=u.Au.get(k);V&&u.Au.set(k,V.withResumeToken(T.resumeToken,l))}}),f.targetMismatches.forEach((T,k)=>{const V=u.Au.get(T);if(!V)return;u.Au.set(T,V.withResumeToken(bs.EMPTY_BYTE_STRING,V.snapshotVersion)),ty(u,T);const X=new Ya(V.target,T,k,V.sequenceNumber);bf(u,X)}),u.remoteSyncer.applyRemoteEvent(f)}(i,n))}catch(o){ft("RemoteStore","Failed to raise snapshot:",o),yield Sf(i,o)}var o}),eg.apply(this,arguments)}function Sf(i,e,n){return tg.apply(this,arguments)}function tg(){return tg=(0,ee.A)(function*(i,e,n){if(!y(e))throw e;i.vu.add(1),yield Tl(i),i.bu.set("Offline"),n||(n=()=>Km(i.localStore)),i.asyncQueue.enqueueRetryable((0,ee.A)(function*(){ft("RemoteStore","Retrying IndexedDB access"),yield n(),i.vu.delete(1),yield Dl(i)}))}),tg.apply(this,arguments)}function ng(i,e){return e().catch(n=>Sf(i,n,e))}function bl(i){return wh.apply(this,arguments)}function wh(){return wh=(0,ee.A)(function*(i){const e=M(i),n=fa(e);let o=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;qE(e);)try{const u=yield ld(e.localStore,o);if(null===u){0===e.Eu.length&&n.jo();break}o=u.batchId,rg(e,u)}catch(u){yield Sf(e,u)}ig(e)&&iy(e)}),wh.apply(this,arguments)}function qE(i){return Uc(i)&&i.Eu.length<10}function rg(i,e){i.Eu.push(e);const n=fa(i);n.Ko()&&n.ou&&n.uu(e.mutations)}function ig(i){return Uc(i)&&!fa(i).Uo()&&i.Eu.length>0}function iy(i){fa(i).start()}function Xv(i){return Mf.apply(this,arguments)}function Mf(){return Mf=(0,ee.A)(function*(i){fa(i).hu()}),Mf.apply(this,arguments)}function Yv(i){return Rf.apply(this,arguments)}function Rf(){return Rf=(0,ee.A)(function*(i){const e=fa(i);for(const n of i.Eu)e.uu(n.mutations)}),Rf.apply(this,arguments)}function Jv(i,e,n){return sg.apply(this,arguments)}function sg(){return sg=(0,ee.A)(function*(i,e,n){const o=i.Eu.shift(),u=Xd.from(o,e,n);yield ng(i,()=>i.remoteSyncer.applySuccessfulWrite(u)),yield bl(i)}),sg.apply(this,arguments)}function QE(i,e){return Nf.apply(this,arguments)}function Nf(){return Nf=(0,ee.A)(function*(i,e){var n;e&&fa(i).ou&&(yield(n=(0,ee.A)(function*(o,u){if(function vo(i){switch(i){default:return O();case x.CANCELLED:case x.UNKNOWN:case x.DEADLINE_EXCEEDED:case x.RESOURCE_EXHAUSTED:case x.INTERNAL:case x.UNAVAILABLE:case x.UNAUTHENTICATED:return!1;case x.INVALID_ARGUMENT:case x.NOT_FOUND:case x.ALREADY_EXISTS:case x.PERMISSION_DENIED:case x.FAILED_PRECONDITION:case x.ABORTED:case x.OUT_OF_RANGE:case x.UNIMPLEMENTED:case x.DATA_LOSS:return!0}}(l=u.code)&&l!==x.ABORTED){const f=o.Eu.shift();fa(o).Qo(),yield ng(o,()=>o.remoteSyncer.rejectFailedWrite(f.batchId,u)),yield bl(o)}var l}),function(o,u){return n.apply(this,arguments)})(i,e)),ig(i)&&iy(i)}),Nf.apply(this,arguments)}function og(i,e){return Ba.apply(this,arguments)}function Ba(){return Ba=(0,ee.A)(function*(i,e){const n=M(i);n.asyncQueue.verifyOperationInProgress(),ft("RemoteStore","RemoteStore received new credentials");const o=Uc(n);n.vu.add(3),yield Tl(n),o&&n.bu.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.vu.delete(3),yield Dl(n)}),Ba.apply(this,arguments)}function sy(){return sy=(0,ee.A)(function*(i,e){const n=M(i);e?(n.vu.delete(2),yield Dl(n)):e||(n.vu.add(2),yield Tl(n),n.bu.set("Unknown"))}),sy.apply(this,arguments)}function Bc(i){return i.Su||(i.Su=function(e,n,o){const u=M(e);return u.fu(),new Yp(n,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{uo:Qv.bind(null,i),ao:Eh.bind(null,i),nu:ry.bind(null,i)}),i.Ru.push(function(){var e=(0,ee.A)(function*(n){n?(i.Su.Qo(),ny(i)?Af(i):i.bu.set("Unknown")):(yield i.Su.stop(),_h(i))});return function(n){return e.apply(this,arguments)}}())),i.Su}function fa(i){return i.Du||(i.Du=function(e,n,o){const u=M(e);return u.fu(),new Zm(n,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{uo:Xv.bind(null,i),ao:QE.bind(null,i),au:Yv.bind(null,i),cu:Jv.bind(null,i)}),i.Ru.push(function(){var e=(0,ee.A)(function*(n){n?(i.Du.Qo(),yield bl(i)):(yield i.Du.stop(),i.Eu.length>0&&(ft("RemoteStore",`Stopping write stream with ${i.Eu.length} pending writes`),i.Eu=[]))});return function(n){return e.apply(this,arguments)}}())),i.Du}class yd{constructor(e,n,o,u,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=o,this.op=u,this.removalCallback=l,this.deferred=new le,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}static createAndSchedule(e,n,o,u,l){const f=Date.now()+o,T=new yd(e,n,f,u,l);return T.start(o),T}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new H(x.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function vd(i,e){if(sn("AsyncQueue",`${e}: ${i}`),y(i))return new H(x.UNAVAILABLE,`${e}: ${i}`);throw i}class _d{constructor(e){this.comparator=e?(n,o)=>e(n,o)||Rt.comparator(n.key,o.key):(n,o)=>Rt.comparator(n.key,o.key),this.keyedMap=ol(),this.sortedSet=new Ii(this.comparator)}static emptySet(e){return new _d(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,o)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof _d)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),o=e.sortedSet.getIterator();for(;n.hasNext();){const u=n.getNext().key,l=o.getNext().key;if(!u.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const o=new _d;return o.comparator=this.comparator,o.keyedMap=e,o.sortedSet=n,o}}class oy{constructor(){this.Cu=new Ii(Rt.comparator)}track(e){const n=e.doc.key,o=this.Cu.get(n);o?0!==e.type&&3===o.type?this.Cu=this.Cu.insert(n,e):3===e.type&&1!==o.type?this.Cu=this.Cu.insert(n,{type:o.type,doc:e.doc}):2===e.type&&2===o.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):2===e.type&&0===o.type?this.Cu=this.Cu.insert(n,{type:0,doc:e.doc}):1===e.type&&0===o.type?this.Cu=this.Cu.remove(n):1===e.type&&2===o.type?this.Cu=this.Cu.insert(n,{type:1,doc:o.doc}):0===e.type&&1===o.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):O():this.Cu=this.Cu.insert(n,e)}xu(){const e=[];return this.Cu.inorderTraversal((n,o)=>{e.push(o)}),e}}class jc{constructor(e,n,o,u,l,f,T,k,V){this.query=e,this.docs=n,this.oldDocs=o,this.docChanges=u,this.mutatedKeys=l,this.fromCache=f,this.syncStateChanged=T,this.excludesMetadataChanges=k,this.hasCachedResults=V}static fromInitialDocuments(e,n,o,u,l){const f=[];return n.forEach(T=>{f.push({type:0,doc:T})}),new jc(e,n,_d.emptySet(n),f,o,u,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&qu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,o=e.docChanges;if(n.length!==o.length)return!1;for(let u=0;u<n.length;u++)if(n[u].type!==o[u].type||!n[u].doc.isEqual(o[u].doc))return!1;return!0}}class Su{constructor(){this.Nu=void 0,this.listeners=[]}}class ay{constructor(){this.queries=new ca(e=>Qu(e),qu),this.onlineState="Unknown",this.ku=new Set}}function uy(){return uy=(0,ee.A)(function*(i,e){const n=M(i),o=e.query;let u=!1,l=n.queries.get(o);if(l||(u=!0,l=new Su),u)try{l.Nu=yield n.onListen(o)}catch(f){const T=vd(f,`Initialization of query '${Xu(e.query)}' failed`);return void e.onError(T)}n.queries.set(o,l),l.listeners.push(e),e.Mu(n.onlineState),l.Nu&&e.$u(l.Nu)&&lg(n)}),uy.apply(this,arguments)}function ug(){return ug=(0,ee.A)(function*(i,e){const n=M(i),o=e.query;let u=!1;const l=n.queries.get(o);if(l){const f=l.listeners.indexOf(e);f>=0&&(l.listeners.splice(f,1),u=0===l.listeners.length)}if(u)return n.queries.delete(o),n.onUnlisten(o)}),ug.apply(this,arguments)}function cg(i,e){const n=M(i);let o=!1;for(const u of e){const f=n.queries.get(u.query);if(f){for(const T of f.listeners)T.$u(u)&&(o=!0);f.Nu=u}}o&&lg(n)}function Zv(i,e,n){const o=M(i),u=o.queries.get(e);if(u)for(const l of u.listeners)l.onError(n);o.queries.delete(e)}function lg(i){i.ku.forEach(e=>{e.next()})}class Ih{constructor(e,n,o){this.query=e,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=o||{}}$u(e){if(!this.options.includeMetadataChanges){const o=[];for(const u of e.docChanges)3!==u.type&&o.push(u);e=new jc(e.query,e.docs,e.oldDocs,o,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),n=!0):this.qu(e,this.onlineState)&&(this.Uu(e),n=!0),this.Bu=e,n}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let n=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),n=!0),n}qu(e,n){return!e.fromCache||(!this.options.Ku||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=jc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class fg{constructor(e){this.key=e}}class ly{constructor(e){this.key=e}}class dy{constructor(e,n){this.query=e,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=er(),this.mutatedKeys=er(),this.tc=Gh(e),this.ec=new _d(this.tc)}get nc(){return this.Yu}sc(e,n){const o=n?n.ic:new oy,u=n?n.ec:this.ec;let l=n?n.mutatedKeys:this.mutatedKeys,f=u,T=!1;const k="F"===this.query.limitType&&u.size===this.query.limit?u.last():null,V="L"===this.query.limitType&&u.size===this.query.limit?u.first():null;if(e.inorderTraversal((X,de)=>{const Be=u.get(X),nt=sl(this.query,de)?de:null,St=!!Be&&this.mutatedKeys.has(Be.key),Kt=!!nt&&(nt.hasLocalMutations||this.mutatedKeys.has(nt.key)&&nt.hasCommittedMutations);let Jt=!1;Be&&nt?Be.data.isEqual(nt.data)?St!==Kt&&(o.track({type:3,doc:nt}),Jt=!0):this.rc(Be,nt)||(o.track({type:2,doc:nt}),Jt=!0,(k&&this.tc(nt,k)>0||V&&this.tc(nt,V)<0)&&(T=!0)):!Be&&nt?(o.track({type:0,doc:nt}),Jt=!0):Be&&!nt&&(o.track({type:1,doc:Be}),Jt=!0,(k||V)&&(T=!0)),Jt&&(nt?(f=f.add(nt),l=Kt?l.add(X):l.delete(X)):(f=f.delete(X),l=l.delete(X)))}),null!==this.query.limit)for(;f.size>this.query.limit;){const X="F"===this.query.limitType?f.last():f.first();f=f.delete(X.key),l=l.delete(X.key),o.track({type:1,doc:X})}return{ec:f,ic:o,zi:T,mutatedKeys:l}}rc(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,o){const u=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const l=e.ic.xu();l.sort((V,X)=>function(de,Be){const nt=St=>{switch(St){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return O()}};return nt(de)-nt(Be)}(V.type,X.type)||this.tc(V.doc,X.doc)),this.oc(o);const f=n?this.uc():[],T=0===this.Zu.size&&this.current?1:0,k=T!==this.Xu;return this.Xu=T,0!==l.length||k?{snapshot:new jc(this.query,e.ec,u,l,e.mutatedKeys,0===T,k,!1,!!o&&o.resumeToken.approximateByteSize()>0),cc:f}:{cc:f}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new oy,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(n=>this.Yu=this.Yu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Yu=this.Yu.delete(n)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=er(),this.ec.forEach(o=>{this.ac(o.key)&&(this.Zu=this.Zu.add(o.key))});const n=[];return e.forEach(o=>{this.Zu.has(o)||n.push(new ly(o))}),this.Zu.forEach(o=>{e.has(o)||n.push(new fg(o))}),n}hc(e){this.Yu=e.ir,this.Zu=er();const n=this.sc(e.documents);return this.applyChanges(n,!0)}lc(){return jc.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class t_{constructor(e,n,o){this.query=e,this.targetId=n,this.view=o}}class hy{constructor(e){this.key=e,this.fc=!1}}class Ed{constructor(e,n,o,u,l,f){this.localStore=e,this.remoteStore=n,this.eventManager=o,this.sharedClientState=u,this.currentUser=l,this.maxConcurrentLimboResolutions=f,this.dc={},this.wc=new ca(T=>Qu(T),qu),this._c=new Map,this.mc=new Set,this.gc=new Ii(Rt.comparator),this.yc=new Map,this.Ic=new gf,this.Tc={},this.Ec=new Map,this.Ac=od.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function sc(i,e){return $c.apply(this,arguments)}function $c(){return $c=(0,ee.A)(function*(i,e){const n=function Cg(i){const e=M(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=Dh.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Ey.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=n_.bind(null,e),e.dc.nu=cg.bind(null,e.eventManager),e.dc.Pc=Zv.bind(null,e.eventManager),e}(i);let o,u;const l=n.wc.get(e);if(l)o=l.targetId,n.sharedClientState.addLocalQueryTarget(o),u=l.view.lc();else{const f=yield function dd(i,e){const n=M(i);return n.persistence.runTransaction("Allocate target","readwrite",o=>{let u;return n.Bs.getTargetData(o,e).next(l=>l?(u=l,Pe.resolve(u)):n.Bs.allocateTargetId(o).next(f=>(u=new Ya(e,f,"TargetPurposeListen",o.currentSequenceNumber),n.Bs.addTargetData(o,u).next(()=>u))))}).then(o=>{const u=n.Ji.get(o.targetId);return(null===u||o.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(o.targetId,o),n.Yi.set(e,o.targetId)),o})}(n.localStore,Oo(e)),T=n.sharedClientState.addLocalQueryTarget(f.targetId);o=f.targetId,u=yield function pg(i,e,n,o,u){return gg.apply(this,arguments)}(n,e,o,"current"===T,f.resumeToken),n.isPrimaryClient&&Cl(n.remoteStore,f)}return u}),$c.apply(this,arguments)}function gg(){return gg=(0,ee.A)(function*(i,e,n,o,u){i.Rc=(de,Be,nt)=>{return(St=(0,ee.A)(function*(Kt,Jt,ir,Wr){let vr=Jt.view.sc(ir);vr.zi&&(vr=yield fd(Kt.localStore,Jt.query,!1).then(({documents:is})=>Jt.view.sc(is,vr)));const ao=Wr&&Wr.targetChanges.get(Jt.targetId),Ks=Jt.view.applyChanges(vr,Kt.isPrimaryClient,ao);return wd(Kt,Jt.targetId,Ks.cc),Ks.snapshot}),function(Kt,Jt,ir,Wr){return St.apply(this,arguments)})(i,de,Be,nt);var St};const l=yield fd(i.localStore,e,!0),f=new dy(e,l.ir),T=f.sc(l.documents),k=qe.createSynthesizedTargetChangeForCurrentChange(n,o&&"Offline"!==i.onlineState,u),V=f.applyChanges(T,i.isPrimaryClient,k);wd(i,n,V.cc);const X=new t_(e,n,f);return i.wc.set(e,X),i._c.has(n)?i._c.get(n).push(e):i._c.set(n,[e]),V.snapshot}),gg.apply(this,arguments)}function fy(i,e){return xf.apply(this,arguments)}function xf(){return xf=(0,ee.A)(function*(i,e){const n=M(i),o=n.wc.get(e),u=n._c.get(o.targetId);if(u.length>1)return n._c.set(o.targetId,u.filter(l=>!qu(l,e))),void n.wc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(o.targetId),n.sharedClientState.isActiveQueryTarget(o.targetId)||(yield hd(n.localStore,o.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(o.targetId),vh(n.remoteStore,o.targetId),Sl(n,o.targetId)}).catch(ri))):(Sl(n,o.targetId),yield hd(n.localStore,o.targetId,!0))}),xf.apply(this,arguments)}function Al(){return Al=(0,ee.A)(function*(i,e,n){const o=function Bf(i){const e=M(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=r_.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=py.bind(null,e),e}(i);try{const u=yield function(l,f){const T=M(l),k=Or.now(),V=f.reduce((Be,nt)=>Be.add(nt.key),er());let X,de;return T.persistence.runTransaction("Locally write mutations","readwrite",Be=>{let nt=la(),St=er();return T.Zi.getEntries(Be,V).next(Kt=>{nt=Kt,nt.forEach((Jt,ir)=>{ir.isValidDocument()||(St=St.add(Jt))})}).next(()=>T.localDocuments.getOverlayedDocuments(Be,nt)).next(Kt=>{X=Kt;const Jt=[];for(const ir of f){const Wr=qd(ir,X.get(ir.key).overlayedDocument);null!=Wr&&Jt.push(new Du(ir.key,Wr,N(Wr.value.mapValue),es.exists(!0)))}return T.mutationQueue.addMutationBatch(Be,k,Jt,f)}).next(Kt=>{de=Kt;const Jt=Kt.applyToLocalDocumentSet(X,St);return T.documentOverlayCache.saveOverlays(Be,Kt.batchId,Jt)})}).then(()=>({batchId:de.batchId,changes:pm(X)}))}(o.localStore,e);o.sharedClientState.addPendingMutation(u.batchId),function(l,f,T){let k=l.Tc[l.currentUser.toKey()];k||(k=new Ii(Nt)),k=k.insert(f,T),l.Tc[l.currentUser.toKey()]=k}(o,u.batchId,n),yield oc(o,u.changes),yield bl(o.remoteStore)}catch(u){const l=vd(u,"Failed to persist write");n.reject(l)}}),Al.apply(this,arguments)}function Dh(i,e){return Of.apply(this,arguments)}function Of(){return Of=(0,ee.A)(function*(i,e){const n=M(i);try{const o=yield function Hv(i,e){const n=M(i),o=e.snapshotVersion;let u=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const f=n.Zi.newChangeBuffer({trackRemovals:!0});u=n.Ji;const T=[];e.targetChanges.forEach((X,de)=>{const Be=u.get(de);if(!Be)return;T.push(n.Bs.removeMatchingKeys(l,X.removedDocuments,de).next(()=>n.Bs.addMatchingKeys(l,X.addedDocuments,de)));let nt=Be.withSequenceNumber(l.currentSequenceNumber);var St,Kt,Jt;null!==e.targetMismatches.get(de)?nt=nt.withResumeToken(bs.EMPTY_BYTE_STRING,Bt.min()).withLastLimboFreeSnapshotVersion(Bt.min()):X.resumeToken.approximateByteSize()>0&&(nt=nt.withResumeToken(X.resumeToken,o)),u=u.insert(de,nt),Kt=nt,Jt=X,(0===(St=Be).resumeToken.approximateByteSize()||Kt.snapshotVersion.toMicroseconds()-St.snapshotVersion.toMicroseconds()>=3e8||Jt.addedDocuments.size+Jt.modifiedDocuments.size+Jt.removedDocuments.size>0)&&T.push(n.Bs.updateTargetData(l,nt))});let k=la(),V=er();if(e.documentUpdates.forEach(X=>{e.resolvedLimboDocuments.has(X)&&T.push(n.persistence.referenceDelegate.updateLimboDocument(l,X))}),T.push(function $p(i,e,n){let o=er(),u=er();return n.forEach(l=>o=o.add(l)),e.getEntries(i,o).next(l=>{let f=la();return n.forEach((T,k)=>{const V=l.get(T);k.isFoundDocument()!==V.isFoundDocument()&&(u=u.add(T)),k.isNoDocument()&&k.version.isEqual(Bt.min())?(e.removeEntry(T,k.readTime),f=f.insert(T,k)):!V.isValidDocument()||k.version.compareTo(V.version)>0||0===k.version.compareTo(V.version)&&V.hasPendingWrites?(e.addEntry(k),f=f.insert(T,k)):ft("LocalStore","Ignoring outdated watch update for ",T,". Current version:",V.version," Watch version:",k.version)}),{nr:f,sr:u}})}(l,f,e.documentUpdates).next(X=>{k=X.nr,V=X.sr})),!o.isEqual(Bt.min())){const X=n.Bs.getLastRemoteSnapshotVersion(l).next(de=>n.Bs.setTargetsMetadata(l,l.currentSequenceNumber,o));T.push(X)}return Pe.waitFor(T).next(()=>f.apply(l)).next(()=>n.localDocuments.getLocalViewOfDocuments(l,k,V)).next(()=>k)}).then(l=>(n.Ji=u,l))}(n.localStore,e);e.targetChanges.forEach((u,l)=>{const f=n.yc.get(l);f&&(g(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1),u.addedDocuments.size>0?f.fc=!0:u.modifiedDocuments.size>0?g(f.fc):u.removedDocuments.size>0&&(g(f.fc),f.fc=!1))}),yield oc(n,o,e)}catch(o){yield ri(o)}}),Of.apply(this,arguments)}function yg(i,e,n){const o=M(i);if(o.isPrimaryClient&&0===n||!o.isPrimaryClient&&1===n){const u=[];o.wc.forEach((l,f)=>{const T=f.view.Mu(e);T.snapshot&&u.push(T.snapshot)}),function(l,f){const T=M(l);T.onlineState=f;let k=!1;T.queries.forEach((V,X)=>{for(const de of X.listeners)de.Mu(f)&&(k=!0)}),k&&lg(T)}(o.eventManager,e),u.length&&o.dc.nu(u),o.onlineState=e,o.isPrimaryClient&&o.sharedClientState.setOnlineState(e)}}function n_(i,e,n){return vg.apply(this,arguments)}function vg(){return vg=(0,ee.A)(function*(i,e,n){const o=M(i);o.sharedClientState.updateQueryState(e,"rejected",n);const u=o.yc.get(e),l=u&&u.key;if(l){let f=new Ii(Rt.comparator);f=f.insert(l,U.newNoDocument(l,Bt.min()));const T=er().add(l),k=new Ce(Bt.min(),new Map,new Ii(Nt),f,T);yield Dh(o,k),o.gc=o.gc.remove(l),o.yc.delete(e),Ff(o)}else yield hd(o.localStore,e,!1).then(()=>Sl(o,e,n)).catch(ri)}),vg.apply(this,arguments)}function r_(i,e){return _g.apply(this,arguments)}function _g(){return _g=(0,ee.A)(function*(i,e){const n=M(i),o=e.batch.batchId;try{const u=yield function jp(i,e){const n=M(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const u=e.batch.keys(),l=n.Zi.newChangeBuffer({trackRemovals:!0});return function(f,T,k,V){const X=k.batch,de=X.keys();let Be=Pe.resolve();return de.forEach(nt=>{Be=Be.next(()=>V.getEntry(T,nt)).next(St=>{const Kt=k.docVersions.get(nt);g(null!==Kt),St.version.compareTo(Kt)<0&&(X.applyToRemoteDocument(St,k),St.isValidDocument()&&(St.setReadTime(k.commitVersion),V.addEntry(St)))})}),Be.next(()=>f.mutationQueue.removeMutationBatch(T,X))}(n,o,e,l).next(()=>l.apply(o)).next(()=>n.mutationQueue.performConsistencyCheck(o)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(o,u,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(o,function(f){let T=er();for(let k=0;k<f.mutationResults.length;++k)f.mutationResults[k].transformResults.length>0&&(T=T.add(f.batch.mutations[k].key));return T}(e))).next(()=>n.localDocuments.getDocuments(o,u))})}(n.localStore,e);kf(n,o,null),yy(n,o),n.sharedClientState.updateMutationState(o,"acknowledged"),yield oc(n,u)}catch(u){yield ri(u)}}),_g.apply(this,arguments)}function py(i,e,n){return gy.apply(this,arguments)}function gy(){return gy=(0,ee.A)(function*(i,e,n){const o=M(i);try{const u=yield function(l,f){const T=M(l);return T.persistence.runTransaction("Reject batch","readwrite-primary",k=>{let V;return T.mutationQueue.lookupMutationBatch(k,f).next(X=>(g(null!==X),V=X.keys(),T.mutationQueue.removeMutationBatch(k,X))).next(()=>T.mutationQueue.performConsistencyCheck(k)).next(()=>T.documentOverlayCache.removeOverlaysForBatchId(k,V,f)).next(()=>T.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(k,V)).next(()=>T.localDocuments.getDocuments(k,V))})}(o.localStore,e);kf(o,e,n),yy(o,e),o.sharedClientState.updateMutationState(e,"rejected",n),yield oc(o,u)}catch(u){yield ri(u)}}),gy.apply(this,arguments)}function yy(i,e){(i.Ec.get(e)||[]).forEach(n=>{n.resolve()}),i.Ec.delete(e)}function kf(i,e,n){const o=M(i);let u=o.Tc[o.currentUser.toKey()];if(u){const l=u.get(e);l&&(n?l.reject(n):l.resolve(),u=u.remove(e)),o.Tc[o.currentUser.toKey()]=u}}function Sl(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const o of i._c.get(e))i.wc.delete(o),n&&i.dc.Pc(o,n);i._c.delete(e),i.isPrimaryClient&&i.Ic.Is(e).forEach(o=>{i.Ic.containsKey(o)||s_(i,o)})}function s_(i,e){i.mc.delete(e.path.canonicalString());const n=i.gc.get(e);null!==n&&(vh(i.remoteStore,n),i.gc=i.gc.remove(e),i.yc.delete(n),Ff(i))}function wd(i,e,n){for(const o of n)o instanceof fg?(i.Ic.addReference(o.key,e),vy(i,o)):o instanceof ly?(ft("SyncEngine","Document no longer in limbo: "+o.key),i.Ic.removeReference(o.key,e),i.Ic.containsKey(o.key)||s_(i,o.key)):O()}function vy(i,e){const n=e.key,o=n.path.canonicalString();i.gc.get(n)||i.mc.has(o)||(ft("SyncEngine","New document in limbo: "+n),i.mc.add(o),Ff(i))}function Ff(i){for(;i.mc.size>0&&i.gc.size<i.maxConcurrentLimboResolutions;){const e=i.mc.values().next().value;i.mc.delete(e);const n=new Rt(jn.fromString(e)),o=i.Ac.next();i.yc.set(o,new hy(n)),i.gc=i.gc.insert(n,o),Cl(i.remoteStore,new Ya(Oo(Cc(n.path)),o,"TargetPurposeLimboResolution",At.ct))}}function oc(i,e,n){return Lf.apply(this,arguments)}function Lf(){return Lf=(0,ee.A)(function*(i,e,n){const o=M(i),u=[],l=[],f=[];var T;o.wc.isEmpty()||(o.wc.forEach((T,k)=>{f.push(o.Rc(k,e,n).then(V=>{if((V||n)&&o.isPrimaryClient&&o.sharedClientState.updateQueryState(k.targetId,V?.fromCache?"not-current":"current"),V){u.push(V);const X=cd.Li(k.targetId,V);l.push(X)}}))}),yield Promise.all(f),o.dc.nu(u),yield(T=(0,ee.A)(function*(k,V){const X=M(k);try{yield X.persistence.runTransaction("notifyLocalViewChanges","readwrite",de=>Pe.forEach(V,Be=>Pe.forEach(Be.Fi,nt=>X.persistence.referenceDelegate.addReference(de,Be.targetId,nt)).next(()=>Pe.forEach(Be.Bi,nt=>X.persistence.referenceDelegate.removeReference(de,Be.targetId,nt)))))}catch(de){if(!y(de))throw de;ft("LocalStore","Failed to update sequence numbers: "+de)}for(const de of V){const Be=de.targetId;if(!de.fromCache){const nt=X.Ji.get(Be),Kt=nt.withLastLimboFreeSnapshotVersion(nt.snapshotVersion);X.Ji=X.Ji.insert(Be,Kt)}}}),function(k,V){return T.apply(this,arguments)})(o.localStore,l))}),Lf.apply(this,arguments)}function _y(i,e){return Kn.apply(this,arguments)}function Kn(){return Kn=(0,ee.A)(function*(i,e){const n=M(i);if(!n.currentUser.isEqual(e)){ft("SyncEngine","User change. New user:",e.toKey());const o=yield mu(n.localStore,e);n.currentUser=e,(u=n).Ec.forEach(f=>{f.forEach(T=>{T.reject(new H(x.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),u.Ec.clear(),n.sharedClientState.handleUserChange(e,o.removedBatchIds,o.addedBatchIds),yield oc(n,o.er)}var u}),Kn.apply(this,arguments)}function Ey(i,e){const n=M(i),o=n.yc.get(e);if(o&&o.fc)return er().add(o.key);{let u=er();const l=n._c.get(e);if(!l)return u;for(const f of l){const T=n.wc.get(f);u=u.unionWith(T.view.nc)}return u}}class Id{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return(0,ee.A)(function*(){n.serializer=md(e.databaseInfo.databaseId),n.sharedClientState=n.createSharedClientState(e),n.persistence=n.createPersistence(e),yield n.persistence.start(),n.localStore=n.createLocalStore(e),n.gcScheduler=n.createGarbageCollectionScheduler(e,n.localStore),n.indexBackfillerScheduler=n.createIndexBackfillerScheduler(e,n.localStore)})()}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return function lh(i,e,n,o){return new Bp(i,e,n,o)}(this.persistence,new Wm,e.initialUser,this.serializer)}createPersistence(e){return new mf(Vp.zs,this.serializer)}createSharedClientState(e){return new If}terminate(){var e=this;return(0,ee.A)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Rl{initialize(e,n){var o=this;return(0,ee.A)(function*(){o.localStore||(o.localStore=e.localStore,o.sharedClientState=e.sharedClientState,o.datastore=o.createDatastore(n),o.remoteStore=o.createRemoteStore(n),o.eventManager=o.createEventManager(n),o.syncEngine=o.createSyncEngine(n,!e.synchronizeTabs),o.sharedClientState.onlineStateHandler=u=>yg(o.syncEngine,u,1),o.remoteStore.remoteSyncer.handleCredentialChange=_y.bind(null,o.syncEngine),yield function Pf(i,e){return sy.apply(this,arguments)}(o.remoteStore,o.syncEngine.isPrimaryClient))})()}createEventManager(e){return new ay}createDatastore(e){const n=md(e.databaseInfo.databaseId),o=new Qp(e.databaseInfo);return new Wv(e.authCredentials,e.appCheckCredentials,o,n)}createRemoteStore(e){return n=this.localStore,o=this.datastore,u=e.asyncQueue,l=T=>yg(this.syncEngine,T,0),f=gh.D()?new gh:new ph,new Cf(n,o,u,l,f);var n,o,u,l,f}createSyncEngine(e,n){return function(o,u,l,f,T,k,V){const X=new Ed(o,u,l,f,T,k);return V&&(X.vc=!0),X}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return(e=(0,ee.A)(function*(n){const o=M(n);ft("RemoteStore","RemoteStore shutting down."),o.vu.add(5),yield Tl(o),o.Pu.shutdown(),o.bu.set("Unknown")}),function(n){return e.apply(this,arguments)})(this.remoteStore);var e}}class jf{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):sn("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class XE{constructor(e,n,o,u){var l=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=o,this.databaseInfo=u,this.user=ar.UNAUTHENTICATED,this.clientId=Ei.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(o,function(){var f=(0,ee.A)(function*(T){ft("FirestoreClient","Received user=",T.uid),yield l.authCredentialListener(T),l.user=T});return function(T){return f.apply(this,arguments)}}()),this.appCheckCredentials.start(o,f=>(ft("FirestoreClient","Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}getConfiguration(){var e=this;return(0,ee.A)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new H(x.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new le;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,ee.A)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(o){const u=vd(o,"Failed to shutdown persistence");n.reject(u)}})),n.promise}}function Dd(i,e){return $f.apply(this,arguments)}function $f(){return $f=(0,ee.A)(function*(i,e){i.asyncQueue.verifyOperationInProgress(),ft("FirestoreClient","Initializing OfflineComponentProvider");const n=yield i.getConfiguration();yield e.initialize(n);let o=n.initialUser;i.setCredentialChangeListener(function(){var u=(0,ee.A)(function*(l){o.isEqual(l)||(yield mu(e.localStore,l),o=l)});return function(l){return u.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}),$f.apply(this,arguments)}function Sg(i,e){return Mg.apply(this,arguments)}function Mg(){return Mg=(0,ee.A)(function*(i,e){i.asyncQueue.verifyOperationInProgress();const n=yield function Hf(i){return Rg.apply(this,arguments)}(i);ft("FirestoreClient","Initializing OnlineComponentProvider");const o=yield i.getConfiguration();yield e.initialize(n,o),i.setCredentialChangeListener(u=>og(e.remoteStore,u)),i.setAppCheckTokenChangeListener((u,l)=>og(e.remoteStore,l)),i._onlineComponents=e}),Mg.apply(this,arguments)}function Rg(){return Rg=(0,ee.A)(function*(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){ft("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Dd(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function Cy(i){return"FirebaseError"===i.name?i.code===x.FAILED_PRECONDITION||i.code===x.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||22===i.code||20===i.code||11===i.code}(n))throw n;Ts("Error using user provided cache. Falling back to memory cache: "+n),yield Dd(i,new Id)}}else ft("FirestoreClient","Using default OfflineComponentProvider"),yield Dd(i,new Id);return i._offlineComponents}),Rg.apply(this,arguments)}function zf(i){return bh.apply(this,arguments)}function bh(){return bh=(0,ee.A)(function*(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(ft("FirestoreClient","Using user provided OnlineComponentProvider"),yield Sg(i,i._uninitializedComponentsProvider._online)):(ft("FirestoreClient","Using default OnlineComponentProvider"),yield Sg(i,new Rl))),i._onlineComponents}),bh.apply(this,arguments)}function Ah(){return Ah=(0,ee.A)(function*(i){const e=yield zf(i),n=e.eventManager;return n.onListen=sc.bind(null,e.syncEngine),n.onUnlisten=fy.bind(null,e.syncEngine),n}),Ah.apply(this,arguments)}function Sh(i,e,n={}){const o=new le;return i.asyncQueue.enqueueAndForget((0,ee.A)(function*(){return function(u,l,f,T,k){const V=new jf({next:de=>{l.enqueueAndForget(()=>function zs(i,e){return ug.apply(this,arguments)}(u,X)),de.fromCache&&"server"===T.source?k.reject(new H(x.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):k.resolve(de)},error:de=>k.reject(de)}),X=new Ih(f,V,{includeMetadataChanges:!0,Ku:!0});return function ag(i,e){return uy.apply(this,arguments)}(u,X)}(yield function pa(i){return Ah.apply(this,arguments)}(i),i.asyncQueue,e,n,o)})),o.promise}function Og(i){const e={};return void 0!==i.timeoutSeconds&&(e.timeoutSeconds=i.timeoutSeconds),e}const kg=new Map;function Mh(i,e,n){if(!n)throw new H(x.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function xy(i){if(!Rt.isDocumentKey(i))throw new H(x.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function Oy(i){if(Rt.isDocumentKey(i))throw new H(x.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function Td(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const e=(n=i).constructor?n.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var n;return"function"==typeof i?"a function":O()}function Ur(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new H(x.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Td(i);throw new H(x.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}class ky{constructor(e){var n,o;if(void 0===e.host){if(void 0!==e.ssl)throw new H(x.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new H(x.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function ac(i,e,n,o){if(!0===e&&!0===o)throw new H(x.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=Og(null!==(o=e.experimentalLongPollingOptions)&&void 0!==o?o:{}),function(u){if(void 0!==u.timeoutSeconds){if(isNaN(u.timeoutSeconds))throw new H(x.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new H(x.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new H(x.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Gc{constructor(e,n,o,u){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=o,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ky({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new H(x.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new H(x.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ky(e),void 0!==e.credentials&&(this._authCredentials=function(n){if(!n)return new ke;switch(n.type){case"firstParty":return new Tn(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new H(x.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=kg.get(e);n&&(ft("ComponentProvider","Removing Datastore"),kg.delete(e),n.terminate())}(this),Promise.resolve()}}class Ms{constructor(e,n,o){this.converter=n,this._key=o,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new uc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ms(this.firestore,e,this._key)}}class Gs{constructor(e,n,o){this.converter=n,this._query=o,this.type="query",this.firestore=e}withConverter(e){return new Gs(this.firestore,e,this._query)}}class uc extends Gs{constructor(e,n,o){super(e,n,Cc(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ms(this.firestore,null,new Rt(e))}withConverter(e){return new uc(this.firestore,e,this._path)}}function f_(i,e,...n){if(i=(0,ae.Ku)(i),Mh("collection","path",e),i instanceof Gc){const o=jn.fromString(e,...n);return Oy(o),new uc(i,null,o)}{if(!(i instanceof Ms||i instanceof uc))throw new H(x.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(jn.fromString(e,...n));return Oy(o),new uc(i.firestore,null,o)}}function Lg(i,e,...n){if(i=(0,ae.Ku)(i),1===arguments.length&&(e=Ei.A()),Mh("doc","path",e),i instanceof Gc){const o=jn.fromString(e,...n);return xy(o),new Ms(i,null,new Rt(o))}{if(!(i instanceof Ms||i instanceof uc))throw new H(x.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(jn.fromString(e,...n));return xy(o),new Ms(i.firestore,i instanceof uc?i.converter:null,new Rt(o))}}class Ly{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new Xp(this,"async_queue_retry"),this.Xc=()=>{const n=Tf();n&&ft("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=Tf();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=Tf();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new le;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,ee.A)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(n){if(!y(n))throw n;ft("AsyncQueue","Operation failed with retryable error: "+n)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(o=>{throw this.Wc=o,this.Hc=!1,sn("INTERNAL UNHANDLED ERROR: ",function(l){let f=l.message||"";return l.stack&&(f=l.stack.includes(l.message)?l.stack:l.message+"\n"+l.stack),f}(o)),o}).then(o=>(this.Hc=!1,o))));return this.Gc=n,n}enqueueAfterDelay(e,n,o){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const u=yd.createAndSchedule(this,e,n,o,l=>this.na(l));return this.zc.push(u),u}Zc(){this.Wc&&O()}verifyOperationInProgress(){}sa(){var e=this;return(0,ee.A)(function*(){let n;do{n=e.Gc,yield n}while(n!==e.Gc)})()}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,o)=>n.targetTimeMs-o.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}}class ts extends Gc{constructor(e,n,o,u){super(e,n,o,u),this.type="firestore",this._queue=new Ly,this._persistenceKey=u?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||Cd(this),this._firestoreClient.terminate()}}function m_(i,e){const n="object"==typeof i?i:(0,Ae.getApp)(),o="string"==typeof i?i:e||"(default)",u=(0,Ae._getProvider)(n,"firestore").getImmediate({identifier:o});if(!u._initialized){const l=(0,ae.yU)("firestore");l&&function Rh(i,e,n,o={}){var u;const l=(i=Ur(i,Gc))._getSettings(),f=`${e}:${n}`;if("firestore.googleapis.com"!==l.host&&l.host!==f&&Ts("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),i._setSettings(Object.assign(Object.assign({},l),{host:f,ssl:!1})),o.mockUserToken){let T,k;if("string"==typeof o.mockUserToken)T=o.mockUserToken,k=ar.MOCK_USER;else{T=(0,ae.Fy)(o.mockUserToken,null===(u=i._app)||void 0===u?void 0:u.options.projectId);const V=o.mockUserToken.sub||o.mockUserToken.user_id;if(!V)throw new H(x.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");k=new ar(V)}i._authCredentials=new Xe(new me(T,k))}}(u,...l)}return u}function Ws(i){return i._firestoreClient||Cd(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function Cd(i){var e,n,o;const u=i._freezeSettings(),l=(T=(null===(e=i._app)||void 0===e?void 0:e.options.appId)||"",new su(i._databaseId,T,i._persistenceKey,(V=u).host,V.ssl,V.experimentalForceLongPolling,V.experimentalAutoDetectLongPolling,Og(V.experimentalLongPollingOptions),V.useFetchStreams));var T,V;i._firestoreClient=new XE(i._authCredentials,i._appCheckCredentials,i._queue,l),null!==(n=u.cache)&&void 0!==n&&n._offlineComponentProvider&&null!==(o=u.cache)&&void 0!==o&&o._onlineComponentProvider&&(i._firestoreClient._uninitializedComponentsProvider={_offlineKind:u.cache.kind,_offline:u.cache._offlineComponentProvider,_online:u.cache._onlineComponentProvider})}class Nl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Nl(bs.fromBase64String(e))}catch(n){throw new H(x.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Nl(bs.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Pl{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new H(x.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Cr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class bd{constructor(e){this._methodName=e}}class Ug{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new H(x.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new H(x.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Nt(this._lat,e._lat)||Nt(this._long,e._long)}}const __=/^__.*__$/;class jy{constructor(e,n,o){this.data=e,this.fieldMask=n,this.fieldTransforms=o}toMutation(e,n){return null!==this.fieldMask?new Du(e,this.data,this.fieldMask,n,this.fieldTransforms):new cl(e,this.data,n,this.fieldTransforms)}}class Vg{constructor(e,n,o){this.data=e,this.fieldMask=n,this.fieldTransforms=o}toMutation(e,n){return new Du(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function $y(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw O()}}class Bg{constructor(e,n,o,u,l,f){this.settings=e,this.databaseId=n,this.serializer=o,this.ignoreUndefinedProperties=u,void 0===l&&this.ua(),this.fieldTransforms=l||[],this.fieldMask=f||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new Bg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var n;const o=null===(n=this.path)||void 0===n?void 0:n.child(e),u=this.aa({path:o,la:!1});return u.fa(e),u}da(e){var n;const o=null===(n=this.path)||void 0===n?void 0:n.child(e),u=this.aa({path:o,la:!1});return u.ua(),u}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return lc(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if($y(this.ca)&&__.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class Hy{constructor(e,n,o){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=o||md(e)}ya(e,n,o,u=!1){return new Bg({ca:e,methodName:n,ga:o,path:Cr.emptyPath(),la:!1,ma:u},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Kc(i){const e=i._freezeSettings(),n=md(i._databaseId);return new Hy(i._databaseId,!!e.ignoreUndefinedProperties,n)}function jg(i,e,n,o,u,l={}){const f=i.ya(l.merge||l.mergeFields?2:0,e,n,u);Xc("Data must be an object, but it was:",f,o);const T=$a(o,f);let k,V;if(l.merge)k=new ro(f.fieldMask),V=f.fieldTransforms;else if(l.mergeFields){const X=[];for(const de of l.mergeFields){const Be=Nu(e,de,n);if(!f.contains(Be))throw new H(x.INVALID_ARGUMENT,`Field '${Be}' is specified in your field mask but missing from your input data.`);Ol(X,Be)||X.push(Be)}k=new ro(X),V=f.fieldTransforms.filter(de=>k.covers(de.field))}else k=null,V=f.fieldTransforms;return new jy(new I(T),k,V)}class qc extends bd{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof qc}}function Ru(i,e){if(Kf(i=(0,ae.Ku)(i)))return Xc("Unsupported field value:",e,i),$a(i,e);if(i instanceof bd)return function(n,o){if(!$y(o.ca))throw o._a(`${n._methodName}() can only be used with update() and set()`);if(!o.path)throw o._a(`${n._methodName}() is not currently supported inside arrays`);const u=n._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(i,e),null;if(void 0===i&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(n,o){const u=[];let l=0;for(const f of n){let T=Ru(f,o.wa(l));null==T&&(T={nullValue:"NULL_VALUE"}),u.push(T),l++}return{arrayValue:{values:u}}}(i,e)}return function(n,o){if(null===(n=(0,ae.Ku)(n)))return{nullValue:"NULL_VALUE"};if("number"==typeof n)return qh(o.serializer,n);if("boolean"==typeof n)return{booleanValue:n};if("string"==typeof n)return{stringValue:n};if(n instanceof Date){const u=Or.fromDate(n);return{timestampValue:hu(o.serializer,u)}}if(n instanceof Or){const u=new Or(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:hu(o.serializer,u)}}if(n instanceof Ug)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Nl)return{bytesValue:Rc(o.serializer,n._byteString)};if(n instanceof Ms){const u=o.databaseId,l=n.firestore._databaseId;if(!l.isEqual(u))throw o._a(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Zd(n.firestore._databaseId||o.databaseId,n._key.path)}}throw o._a(`Unsupported field value: ${Td(n)}`)}(i,e)}function $a(i,e){const n={};return _c(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):iu(i,(o,u)=>{const l=Ru(u,e.ha(o));null!=l&&(n[o]=l)}),{mapValue:{fields:n}}}function Kf(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof Or||i instanceof Ug||i instanceof Nl||i instanceof Ms||i instanceof bd)}function Xc(i,e,n){if(!Kf(n)||"object"!=typeof(o=n)||null===o||Object.getPrototypeOf(o)!==Object.prototype&&null!==Object.getPrototypeOf(o)){const o=Td(n);throw e._a("an object"===o?i+" a custom object":i+" "+o)}var o}function Nu(i,e,n){if((e=(0,ae.Ku)(e))instanceof Pl)return e._internalPath;if("string"==typeof e)return cc(i,e);throw lc("Field path arguments must be of type string or ",i,!1,void 0,n)}const Ad=new RegExp("[~\\*/\\[\\]]");function cc(i,e,n){if(e.search(Ad)>=0)throw lc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new Pl(...e.split("."))._internalPath}catch{throw lc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function lc(i,e,n,o,u){const l=o&&!o.isEmpty(),f=void 0!==u;let T=`Function ${e}() called with invalid data`;n&&(T+=" (via `toFirestore()`)"),T+=". ";let k="";return(l||f)&&(k+=" (found",l&&(k+=` in field ${o}`),f&&(k+=` in document ${u}`),k+=")"),new H(x.INVALID_ARGUMENT,T+i+k)}function Ol(i,e){return i.some(n=>n.isEqual(e))}class Pu{constructor(e,n,o,u,l){this._firestore=e,this._userDataWriter=n,this._key=o,this._document=u,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Ms(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Sd(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(dc("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class Sd extends Pu{data(){return super.data()}}function dc(i,e){return"string"==typeof e?cc(i,e):e instanceof Pl?e._internalPath:e._delegate._internalPath}class qf{}class Md extends qf{}function Gy(i,e,...n){let o=[];e instanceof qf&&o.push(e),o=o.concat(n),function(u){const l=u.filter(T=>T instanceof kl).length,f=u.filter(T=>T instanceof Rd).length;if(l>1||l>0&&f>0)throw new H(x.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(o);for(const u of o)i=u._apply(i);return i}class Rd extends Md{constructor(e,n,o){super(),this._field=e,this._op=n,this._value=o,this.type="where"}static _create(e,n,o){return new Rd(e,n,o)}_apply(e){const n=this._parse(e);return Yf(e._query,n),new Gs(e.firestore,e.converter,Ac(e._query,n))}_parse(e){const n=Kc(e.firestore);return function(u,l,f,T,k,V,X){let de;if(k.isKeyField()){if("array-contains"===V||"array-contains-any"===V)throw new H(x.INVALID_ARGUMENT,`Invalid Query. You can't perform '${V}' queries on documentId().`);if("in"===V||"not-in"===V){Nd(X,V);const Be=[];for(const nt of X)Be.push(Xf(T,u,nt));de={arrayValue:{values:Be}}}else de=Xf(T,u,X)}else"in"!==V&&"not-in"!==V&&"array-contains-any"!==V||Nd(X,V),de=function Qc(i,e,n,o=!1){return Ru(n,i.ya(o?4:3,e))}(f,"where",X,"in"===V||"not-in"===V);return wt.create(k,V,de)}(e._query,0,n,e.firestore._databaseId,this._field,this._op,this._value)}}function Wy(i,e,n){const o=e,u=dc("where",i);return Rd._create(u,o,n)}class kl extends qf{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new kl(e,n)}_parse(e){const n=this._queryConstraints.map(o=>o._parse(e)).filter(o=>o.getFilters().length>0);return 1===n.length?n[0]:zt.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return 0===n.getFilters().length?e:(function(o,u){let l=o;const f=u.getFlattenedFilters();for(const T of f)Yf(l,T),l=Ac(l,T)}(e._query,n),new Gs(e.firestore,e.converter,Ac(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}function Xf(i,e,n){if("string"==typeof(n=(0,ae.Ku)(n))){if(""===n)throw new H(x.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Hd(e)&&-1!==n.indexOf("/"))throw new H(x.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const o=e.path.child(jn.fromString(n));if(!Rt.isDocumentKey(o))throw new H(x.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${o}' is not because it has an odd number of segments (${o.length}).`);return Oa(i,new Rt(o))}if(n instanceof Ms)return Oa(i,n._key);throw new H(x.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Td(n)}.`)}function Nd(i,e){if(!Array.isArray(i)||0===i.length)throw new H(x.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Yf(i,e){if(e.isInequality()){const o=Ku(i),u=e.field;if(null!==o&&!o.isEqual(u))throw new H(x.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${o.toString()}' and '${u.toString()}'`);const l=bc(i);null!==l&&function xh(i,e,n){if(!n.isEqual(e))throw new H(x.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}(0,u,l)}const n=function(o,u){for(const l of o)for(const f of l.getFlattenedFilters())if(u.indexOf(f.op)>=0)return f.op;return null}(i.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==n)throw new H(x.INVALID_ARGUMENT,n===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class Pd{convertValue(e,n="none"){switch(ua(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Gr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ta(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw O()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const o={};return iu(e,(u,l)=>{o[u]=this.convertValue(l,n)}),o}convertGeoPoint(e){return new Ug(Gr(e.latitude),Gr(e.longitude))}convertArray(e,n){return(e.values||[]).map(o=>this.convertValue(o,n))}convertServerTimestamp(e,n){switch(n){case"previous":const o=zu(e);return null==o?null:this.convertValue(o,n);case"estimate":return this.convertTimestamp(ba(e));default:return null}}convertTimestamp(e){const n=oa(e);return new Or(n.seconds,n.nanos)}convertDocumentKey(e,n){const o=jn.fromString(e);g(sf(o));const u=new Po(o.get(1),o.get(3)),l=new Rt(o.popFirst(5));return u.isEqual(n)||sn(`Document ${l} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}class hc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class fc extends Pu{constructor(e,n,o,u,l,f){super(e,n,o,u,f),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Fl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const o=this._document.data.field(dc("DocumentSnapshot.get",e));if(null!==o)return this._userDataWriter.convertValue(o,n.serverTimestamps)}}}class Fl extends fc{data(e={}){return super.data(e)}}class kh{constructor(e,n,o,u){this._firestore=e,this._userDataWriter=n,this._snapshot=u,this.metadata=new hc(u.hasPendingWrites,u.fromCache),this.query=o}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(o=>{e.call(n,new Fl(this._firestore,this._userDataWriter,o.key,o,new hc(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new H(x.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let l=0;return o._snapshot.docChanges.map(f=>({type:"added",doc:new Fl(o._firestore,o._userDataWriter,f.doc.key,f.doc,new hc(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter),oldIndex:-1,newIndex:l++}))}{let l=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(f=>u||3!==f.type).map(f=>{const T=new Fl(o._firestore,o._userDataWriter,f.doc.key,f.doc,new hc(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);let k=-1,V=-1;return 0!==f.type&&(k=l.indexOf(f.doc.key),l=l.delete(f.doc.key)),1!==f.type&&(l=l.add(f.doc),V=l.indexOf(f.doc.key)),{type:C_(f.type),doc:T,oldIndex:k,newIndex:V}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function C_(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return O()}}class Yc extends Pd{constructor(e){super(),this.firestore=e}convertBytes(e){return new Nl(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ms(this.firestore,null,n)}}function A_(i){i=Ur(i,Gs);const e=Ur(i.firestore,ts),n=Ws(e),o=new Yc(e);return function zg(i){if("L"===i.limitType&&0===i.explicitOrderBy.length)throw new H(x.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(i._query),Sh(n,i._query).then(u=>new kh(e,o,i,u))}function N_(i,e,n,...o){i=Ur(i,Ms);const u=Ur(i.firestore,ts),l=Kc(u);let f;return f="string"==typeof(e=(0,ae.Ku)(e))||e instanceof Pl?function _o(i,e,n,o,u,l){const f=i.ya(1,e,n),T=[Nu(e,o,n)],k=[u];if(l.length%2!=0)throw new H(x.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Be=0;Be<l.length;Be+=2)T.push(Nu(e,l[Be])),k.push(l[Be+1]);const V=[],X=I.empty();for(let Be=T.length-1;Be>=0;--Be)if(!Ol(V,T[Be])){const nt=T[Be];let St=k[Be];St=(0,ae.Ku)(St);const Kt=f.da(nt);if(St instanceof qc)V.push(nt);else{const Jt=Ru(St,Kt);null!=Jt&&(V.push(nt),X.set(nt,Jt))}}const de=new ro(V);return new Vg(X,de,f.fieldTransforms)}(l,"updateDoc",i._key,e,n,o):function xl(i,e,n,o){const u=i.ya(1,e,n);Xc("Data must be an object, but it was:",u,o);const l=[],f=I.empty();iu(o,(k,V)=>{const X=cc(e,k,n);V=(0,ae.Ku)(V);const de=u.da(X);if(V instanceof qc)l.push(X);else{const Be=Ru(V,de);null!=Be&&(l.push(X),f.set(X,Be))}});const T=new ro(l);return new Vg(f,T,u.fieldTransforms)}(l,"updateDoc",i._key,e),Ll(u,[f.toMutation(i._key,es.exists(!0))])}function P_(i){return Ll(Ur(i.firestore,ts),[new ll(i._key,es.none())])}function x_(i,e){const n=Ur(i.firestore,ts),o=Lg(i),u=function Oh(i,e,n){let o;return o=i?n&&(n.merge||n.mergeFields)?i.toFirestore(e,n):i.toFirestore(e):e,o}(i.converter,e);return Ll(n,[jg(Kc(i.firestore),"addDoc",o._key,u,null!==i.converter,{}).toMutation(o._key,es.exists(!1))]).then(()=>o)}function Ll(i,e){return function(n,o){const u=new le;return n.asyncQueue.enqueueAndForget((0,ee.A)(function*(){return function mg(i,e,n){return Al.apply(this,arguments)}(yield function Ng(i){return zf(i).then(e=>e.syncEngine)}(n),o,u)})),u.promise}(Ws(i),e)}!function(i,e=!0){zr=Ae.SDK_VERSION,(0,Ae._registerComponent)(new Ue.uA("firestore",(n,{instanceIdentifier:o,options:u})=>{const l=n.getProvider("app").getImmediate(),f=new ts(new Pt(n.getProvider("auth-internal")),new dn(n.getProvider("app-check-internal")),function(T,k){if(!Object.prototype.hasOwnProperty.apply(T.options,["projectId"]))throw new H(x.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Po(T.options.projectId,k)}(l,o),l);return u=Object.assign({useFetchStreams:e},u),f._setSettings(u),f},"PUBLIC").setMultipleInstances(!0)),(0,Ae.registerVersion)(Ds,"3.13.0",i),(0,Ae.registerVersion)(Ds,"3.13.0","esm2017")}();class xd{constructor(e){return e}}const em="firestore",tp=new se.nKC("angularfire2.firestore-instances");function rv(i){return(e,n)=>{const o=e.runOutsideAngular(()=>i(n));return new xd(o)}}const iv={provide:class tv{constructor(){return(0,C.CA)(em)}},deps:[[new se.Xx1,tp]]},sv={provide:xd,useFactory:function nv(i,e){const n=(0,C.lR)(em,i,e);return n&&new xd(n)},deps:[[new se.Xx1,tp],_e.XU]};let np=(()=>{class i{constructor(){(0,fe.KO)("angularfire",C.xv.full,"fst")}}return i.\u0275fac=function(n){return new(n||i)},i.\u0275mod=se.$C({type:i}),i.\u0275inj=se.G2t({providers:[sv,iv]}),i})();function Jc(i,...e){return{ngModule:np,providers:[{provide:tp,useFactory:rv(i),multi:!0,deps:[se.SKi,se.zZn,C.u0,_e.gL,[new se.Xx1,he.DF],[new se.Xx1,J.kR],...e]}]}}const K_=(0,C.S3)(x_,!0),oo=(0,C.S3)(f_,!0),X_=(0,C.S3)(P_,!0),cv=(0,C.S3)(Lg,!0),tm=(0,C.S3)(A_,!0),nE=(0,C.S3)(m_,!0),nm=(0,C.S3)(Gy,!0),lv=(0,C.S3)(N_,!0),lE=(0,C.S3)(Wy,!0)},1161:(Vt,je,B)=>{B.d(je,{xv:()=>zu,u0:()=>au,CA:()=>Gu,lR:()=>$o,S3:()=>cu});var C=B(7705),se=B(2214),he=B(467),_e=B(7852),fe=B(1076),J=B(1362),ee=B(8041);const Ae=(I,N)=>N.some(U=>I instanceof U);let Ue,ne;const Ke=new WeakMap,Ie=new WeakMap,pt=new WeakMap,$e=new WeakMap,jt=new WeakMap;let Dn={get(I,N,U){if(I instanceof IDBTransaction){if("done"===N)return Ie.get(I);if("objectStoreNames"===N)return I.objectStoreNames||pt.get(I);if("store"===N)return U.objectStoreNames[1]?void 0:U.objectStore(U.objectStoreNames[0])}return et(I[N])},set:(I,N,U)=>(I[N]=U,!0),has:(I,N)=>I instanceof IDBTransaction&&("done"===N||"store"===N)||N in I};function Ne(I){return"function"==typeof I?function at(I){return I!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Re(){return ne||(ne=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(I)?function(...N){return I.apply(mt(this),N),et(Ke.get(this))}:function(...N){return et(I.apply(mt(this),N))}:function(N,...U){const te=I.call(mt(this),N,...U);return pt.set(te,N.sort?N.sort():[N]),et(te)}}(I):(I instanceof IDBTransaction&&function xn(I){if(Ie.has(I))return;const N=new Promise((U,te)=>{const we=()=>{I.removeEventListener("complete",xe),I.removeEventListener("error",Ze),I.removeEventListener("abort",Ze)},xe=()=>{U(),we()},Ze=()=>{te(I.error||new DOMException("AbortError","AbortError")),we()};I.addEventListener("complete",xe),I.addEventListener("error",Ze),I.addEventListener("abort",Ze)});Ie.set(I,N)}(I),Ae(I,function ae(){return Ue||(Ue=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(I,Dn):I)}function et(I){if(I instanceof IDBRequest)return function Lt(I){const N=new Promise((U,te)=>{const we=()=>{I.removeEventListener("success",xe),I.removeEventListener("error",Ze)},xe=()=>{U(et(I.result)),we()},Ze=()=>{te(I.error),we()};I.addEventListener("success",xe),I.addEventListener("error",Ze)});return N.then(U=>{U instanceof IDBCursor&&Ke.set(U,I)}).catch(()=>{}),jt.set(N,I),N}(I);if($e.has(I))return $e.get(I);const N=Ne(I);return N!==I&&($e.set(I,N),jt.set(N,I)),N}const mt=I=>jt.get(I),un=["get","getKey","getAll","getAllKeys","count"],wn=["put","add","delete","clear"],cr=new Map;function ut(I,N){if(!(I instanceof IDBDatabase)||N in I||"string"!=typeof N)return;if(cr.get(N))return cr.get(N);const U=N.replace(/FromIndex$/,""),te=N!==U,we=wn.includes(U);if(!(U in(te?IDBIndex:IDBObjectStore).prototype)||!we&&!un.includes(U))return;const xe=function(){var Ze=(0,he.A)(function*(Ft,...kt){const wt=this.transaction(Ft,we?"readwrite":"readonly");let zt=wt.store;return te&&(zt=zt.index(kt.shift())),(yield Promise.all([zt[U](...kt),we&&wt.done]))[0]});return function(kt){return Ze.apply(this,arguments)}}();return cr.set(N,xe),xe}!function Se(I){Dn=I(Dn)}(I=>({...I,get:(N,U,te)=>ut(N,U)||I.get(N,U,te),has:(N,U)=>!!ut(N,U)||I.has(N,U)}));const yn="@firebase/installations",$n="0.6.4",ii=1e4,si=`w:${$n}`,It="FIS_v2",Si="https://firebaseinstallations.googleapis.com/v1",Fe=36e5,it=new fe.FA("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function ze(I){return I instanceof fe.g&&I.code.includes("request-failed")}function Dt({projectId:I}){return`${Si}/projects/${I}/installations`}function ht(I){return{token:I.token,requestStatus:2,expiresIn:fr(I.expiresIn),creationTime:Date.now()}}function bn(I,N){return Ot.apply(this,arguments)}function Ot(){return(Ot=(0,he.A)(function*(I,N){const te=(yield N.json()).error;return it.create("request-failed",{requestName:I,serverCode:te.code,serverMessage:te.message,serverStatus:te.status})})).apply(this,arguments)}function on({apiKey:I}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":I})}function _r(I){return Zt.apply(this,arguments)}function Zt(){return(Zt=(0,he.A)(function*(I){const N=yield I();return N.status>=500&&N.status<600?I():N})).apply(this,arguments)}function fr(I){return Number(I.replace("s","000"))}function sr(){return(sr=(0,he.A)(function*({appConfig:I,heartbeatServiceProvider:N},{fid:U}){const te=Dt(I),we=on(I),xe=N.getImmediate({optional:!0});if(xe){const wt=yield xe.getHeartbeatsHeader();wt&&we.append("x-firebase-client",wt)}const Ft={method:"POST",headers:we,body:JSON.stringify({fid:U,authVersion:It,appId:I.appId,sdkVersion:si})},kt=yield _r(()=>fetch(te,Ft));if(kt.ok){const wt=yield kt.json();return{fid:wt.fid||U,registrationStatus:2,refreshToken:wt.refreshToken,authToken:ht(wt.authToken)}}throw yield bn("Create Installation",kt)})).apply(this,arguments)}function Vi(I){return new Promise(N=>{setTimeout(N,I)})}const Zr=/^[cdef][\w-]{21}$/,Xt="";function vn(){try{const I=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(I),I[0]=112+I[0]%16;const U=function pn(I){return function Di(I){return btoa(String.fromCharCode(...I)).replace(/\+/g,"-").replace(/\//g,"_")}(I).substr(0,22)}(I);return Zr.test(U)?U:Xt}catch{return Xt}}function On(I){return`${I.appName}!${I.appId}`}const pr=new Map;function lr(I,N){const U=On(I);oi(U,N),function Ut(I,N){const U=function hn(){return!Mi&&"BroadcastChannel"in self&&(Mi=new BroadcastChannel("[Firebase] FID Change"),Mi.onmessage=I=>{oi(I.data.key,I.data.fid)}),Mi}();U&&U.postMessage({key:I,fid:N}),function fi(){0===pr.size&&Mi&&(Mi.close(),Mi=null)}()}(U,N)}function oi(I,N){const U=pr.get(I);if(U)for(const te of U)te(N)}let Mi=null;const pi="firebase-installations-database",Ri=1,Ar="firebase-installations-store";let Vr=null;function Kr(){return Vr||(Vr=function dt(I,N,{blocked:U,upgrade:te,blocking:we,terminated:xe}={}){const Ze=indexedDB.open(I,N),Ft=et(Ze);return te&&Ze.addEventListener("upgradeneeded",kt=>{te(et(Ze.result),kt.oldVersion,kt.newVersion,et(Ze.transaction))}),U&&Ze.addEventListener("blocked",()=>U()),Ft.then(kt=>{xe&&kt.addEventListener("close",()=>xe()),we&&kt.addEventListener("versionchange",()=>we())}).catch(()=>{}),Ft}(pi,Ri,{upgrade:(I,N)=>{0===N&&I.createObjectStore(Ar)}})),Vr}function Bi(I,N){return gi.apply(this,arguments)}function gi(){return(gi=(0,he.A)(function*(I,N){const U=On(I),we=(yield Kr()).transaction(Ar,"readwrite"),xe=we.objectStore(Ar),Ze=yield xe.get(U);return yield xe.put(N,U),yield we.done,(!Ze||Ze.fid!==N.fid)&&lr(I,N.fid),N})).apply(this,arguments)}function ai(I){return zn.apply(this,arguments)}function zn(){return(zn=(0,he.A)(function*(I){const N=On(I),te=(yield Kr()).transaction(Ar,"readwrite");yield te.objectStore(Ar).delete(N),yield te.done})).apply(this,arguments)}function Ln(I,N){return Sr.apply(this,arguments)}function Sr(){return(Sr=(0,he.A)(function*(I,N){const U=On(I),we=(yield Kr()).transaction(Ar,"readwrite"),xe=we.objectStore(Ar),Ze=yield xe.get(U),Ft=N(Ze);return void 0===Ft?yield xe.delete(U):yield xe.put(Ft,U),yield we.done,Ft&&(!Ze||Ze.fid!==Ft.fid)&&lr(I,Ft.fid),Ft})).apply(this,arguments)}function ge(I){return W.apply(this,arguments)}function W(){return W=(0,he.A)(function*(I){let N;const U=yield Ln(I.appConfig,te=>{const we=function Y(I){return rn(I||{fid:vn(),registrationStatus:0})}(te),xe=function Q(I,N){if(0===N.registrationStatus){if(!navigator.onLine)return{installationEntry:N,registrationPromise:Promise.reject(it.create("app-offline"))};const U={fid:N.fid,registrationStatus:1,registrationTime:Date.now()},te=function K(I,N){return Te.apply(this,arguments)}(I,U);return{installationEntry:U,registrationPromise:te}}return 1===N.registrationStatus?{installationEntry:N,registrationPromise:tt(I)}:{installationEntry:N}}(I,we);return N=xe.registrationPromise,xe.installationEntry});return U.fid===Xt?{installationEntry:yield N}:{installationEntry:U,registrationPromise:N}}),W.apply(this,arguments)}function Te(){return Te=(0,he.A)(function*(I,N){try{const U=yield function Ir(I,N){return sr.apply(this,arguments)}(I,N);return Bi(I.appConfig,U)}catch(U){throw ze(U)&&409===U.customData.serverCode?yield ai(I.appConfig):yield Bi(I.appConfig,{fid:N.fid,registrationStatus:0}),U}}),Te.apply(this,arguments)}function tt(I){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,he.A)(function*(I){let N=yield Ht(I.appConfig);for(;1===N.registrationStatus;)yield Vi(100),N=yield Ht(I.appConfig);if(0===N.registrationStatus){const{installationEntry:U,registrationPromise:te}=yield ge(I);return te||U}return N})).apply(this,arguments)}function Ht(I){return Ln(I,N=>{if(!N)throw it.create("installation-not-found");return rn(N)})}function rn(I){return function Yt(I){return 1===I.registrationStatus&&I.registrationTime+ii<Date.now()}(I)?{fid:I.fid,registrationStatus:0}:I}function gr(){return(gr=(0,he.A)(function*({appConfig:I,heartbeatServiceProvider:N},U){const te=function be(I,{fid:N}){return`${Dt(I)}/${N}/authTokens:generate`}(I,U),we=function An(I,{refreshToken:N}){const U=on(I);return U.append("Authorization",function Xn(I){return`${It} ${I}`}(N)),U}(I,U),xe=N.getImmediate({optional:!0});if(xe){const wt=yield xe.getHeartbeatsHeader();wt&&we.append("x-firebase-client",wt)}const Ft={method:"POST",headers:we,body:JSON.stringify({installation:{sdkVersion:si,appId:I.appId}})},kt=yield _r(()=>fetch(te,Ft));if(kt.ok)return ht(yield kt.json());throw yield bn("Generate Auth Token",kt)})).apply(this,arguments)}function pe(I){return ve.apply(this,arguments)}function ve(){return ve=(0,he.A)(function*(I,N=!1){let U;const te=yield Ln(I.appConfig,xe=>{if(!st(xe))throw it.create("not-registered");const Ze=xe.authToken;if(!N&&function en(I){return 2===I.requestStatus&&!function qn(I){const N=Date.now();return N<I.creationTime||I.creationTime+I.expiresIn<N+Fe}(I)}(Ze))return xe;if(1===Ze.requestStatus)return U=function ce(I,N){return ue.apply(this,arguments)}(I,N),xe;{if(!navigator.onLine)throw it.create("app-offline");const Ft=function Bn(I){const N={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},I),{authToken:N})}(xe);return U=function Ye(I,N){return Et.apply(this,arguments)}(I,Ft),Ft}});return U?yield U:te.authToken}),ve.apply(this,arguments)}function ue(){return(ue=(0,he.A)(function*(I,N){let U=yield Me(I.appConfig);for(;1===U.authToken.requestStatus;)yield Vi(100),U=yield Me(I.appConfig);const te=U.authToken;return 0===te.requestStatus?pe(I,N):te})).apply(this,arguments)}function Me(I){return Ln(I,N=>{if(!st(N))throw it.create("not-registered");return function Sn(I){return 1===I.requestStatus&&I.requestTime+ii<Date.now()}(N.authToken)?Object.assign(Object.assign({},N),{authToken:{requestStatus:0}}):N})}function Et(){return Et=(0,he.A)(function*(I,N){try{const U=yield function gn(I,N){return gr.apply(this,arguments)}(I,N),te=Object.assign(Object.assign({},N),{authToken:U});return yield Bi(I.appConfig,te),U}catch(U){if(!ze(U)||401!==U.customData.serverCode&&404!==U.customData.serverCode){const te=Object.assign(Object.assign({},N),{authToken:{requestStatus:0}});yield Bi(I.appConfig,te)}else yield ai(I.appConfig);throw U}}),Et.apply(this,arguments)}function st(I){return void 0!==I&&2===I.registrationStatus}function Ti(){return(Ti=(0,he.A)(function*(I){const N=I,{installationEntry:U,registrationPromise:te}=yield ge(N);return te?te.catch(console.error):pe(N).catch(console.error),U.fid})).apply(this,arguments)}function tr(){return tr=(0,he.A)(function*(I,N=!1){const U=I;return yield function kr(I){return vs.apply(this,arguments)}(U),(yield pe(U,N)).token}),tr.apply(this,arguments)}function vs(){return(vs=(0,he.A)(function*(I){const{registrationPromise:N}=yield ge(I);N&&(yield N)})).apply(this,arguments)}function ye(I){return it.create("missing-app-config-values",{valueName:I})}const Le="installations",yt=I=>{const N=I.getProvider("app").getImmediate(),U=function Ee(I){if(!I||!I.options)throw ye("App Configuration");if(!I.name)throw ye("App Name");const N=["projectId","apiKey","appId"];for(const U of N)if(!I.options[U])throw ye(U);return{appName:I.name,projectId:I.options.projectId,apiKey:I.options.apiKey,appId:I.options.appId}}(N);return{app:N,appConfig:U,heartbeatServiceProvider:(0,_e._getProvider)(N,"heartbeat"),_delete:()=>Promise.resolve()}},tn=I=>{const N=I.getProvider("app").getImmediate(),U=(0,_e._getProvider)(N,Le).getImmediate();return{getId:()=>function mi(I){return Ti.apply(this,arguments)}(U),getToken:we=>function Un(I){return tr.apply(this,arguments)}(U,we)}};(function Hn(){(0,_e._registerComponent)(new J.uA(Le,yt,"PUBLIC")),(0,_e._registerComponent)(new J.uA("installations-internal",tn,"PRIVATE"))})(),(0,_e.registerVersion)(yn,$n),(0,_e.registerVersion)(yn,$n,"esm2017");const Vn="@firebase/remote-config",ei=new fe.FA("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class vt{constructor(N,U,te,we){this.client=N,this.storage=U,this.storageCache=te,this.logger=we}isCachedDataFresh(N,U){if(!U)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const te=Date.now()-U,we=te<=N;return this.logger.debug(`Config fetch cache check. Cache age millis: ${te}. Cache max age millis (minimumFetchIntervalMillis setting): ${N}. Is cache hit: ${we}.`),we}fetch(N){var U=this;return(0,he.A)(function*(){const[te,we]=yield Promise.all([U.storage.getLastSuccessfulFetchTimestampMillis(),U.storage.getLastSuccessfulFetchResponse()]);if(we&&U.isCachedDataFresh(N.cacheMaxAgeMillis,te))return we;N.eTag=we&&we.eTag;const xe=yield U.client.fetch(N),Ze=[U.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===xe.status&&Ze.push(U.storage.setLastSuccessfulFetchResponse(xe)),yield Promise.all(Ze),xe})()}}function an(I=navigator){return I.languages&&I.languages[0]||I.language}class cn{constructor(N,U,te,we,xe,Ze){this.firebaseInstallations=N,this.sdkVersion=U,this.namespace=te,this.projectId=we,this.apiKey=xe,this.appId=Ze}fetch(N){var U=this;return(0,he.A)(function*(){const[te,we]=yield Promise.all([U.firebaseInstallations.getId(),U.firebaseInstallations.getToken()]),Ze=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${U.projectId}/namespaces/${U.namespace}:fetch?key=${U.apiKey}`,Ft={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":N.eTag||"*"},kt={sdk_version:U.sdkVersion,app_instance_id:te,app_instance_id_token:we,app_id:U.appId,language_code:an()},wt={method:"POST",headers:Ft,body:JSON.stringify(kt)},zt=fetch(Ze,wt),Nn=new Promise((As,ka)=>{N.signal.addEventListener(()=>{const io=new Error("The operation was aborted.");io.name="AbortError",ka(io)})});let ms;try{yield Promise.race([zt,Nn]),ms=yield zt}catch(As){let ka="fetch-client-network";throw"AbortError"===As?.name&&(ka="fetch-timeout"),ei.create(ka,{originalErrorMessage:As?.message})}let ys=ms.status;const Wu=ms.headers.get("ETag")||void 0;let Gi,lu;if(200===ms.status){let As;try{As=yield ms.json()}catch(ka){throw ei.create("fetch-client-parse",{originalErrorMessage:ka?.message})}Gi=As.entries,lu=As.state}if("INSTANCE_STATE_UNSPECIFIED"===lu?ys=500:"NO_CHANGE"===lu?ys=304:("NO_TEMPLATE"===lu||"EMPTY_CONFIG"===lu)&&(Gi={}),304!==ys&&200!==ys)throw ei.create("fetch-status",{httpStatus:ys});return{status:ys,eTag:Wu,config:Gi}})()}}class Pi{constructor(N,U){this.client=N,this.storage=U}fetch(N){var U=this;return(0,he.A)(function*(){const te=(yield U.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return U.attemptFetch(N,te)})()}attemptFetch(N,U){var te=this;return(0,he.A)(function*(we,{throttleEndTimeMillis:xe,backoffCount:Ze}){yield function ji(I,N){return new Promise((U,te)=>{const we=Math.max(N-Date.now(),0),xe=setTimeout(U,we);I.addEventListener(()=>{clearTimeout(xe),te(ei.create("fetch-throttle",{throttleEndTimeMillis:N}))})})}(we.signal,xe);try{const Ft=yield te.client.fetch(we);return yield te.storage.deleteThrottleMetadata(),Ft}catch(Ft){if(!function cs(I){if(!(I instanceof fe.g&&I.customData))return!1;const N=Number(I.customData.httpStatus);return 429===N||500===N||503===N||504===N}(Ft))throw Ft;const kt={throttleEndTimeMillis:Date.now()+(0,fe.p9)(Ze),backoffCount:Ze+1};return yield te.storage.setThrottleMetadata(kt),te.attemptFetch(we,kt)}}).apply(this,arguments)}}class ls{constructor(N,U,te,we,xe){this.app=N,this._client=U,this._storageCache=te,this._storage=we,this._logger=xe,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function ds(I,N){const U=I.target.error||void 0;return ei.create(N,{originalErrorMessage:U&&U?.message})}const ln="app_namespace_store";class Dr{constructor(N,U,te,we=function xi(){return new Promise((I,N)=>{try{const U=indexedDB.open("firebase_remote_config",1);U.onerror=te=>{N(ds(te,"storage-open"))},U.onsuccess=te=>{I(te.target.result)},U.onupgradeneeded=te=>{0===te.oldVersion&&te.target.result.createObjectStore(ln,{keyPath:"compositeKey"})}}catch(U){N(ei.create("storage-open",{originalErrorMessage:U?.message}))}})}()){this.appId=N,this.appName=U,this.namespace=te,this.openDbPromise=we}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(N){return this.set("last_fetch_status",N)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(N){return this.set("last_successful_fetch_timestamp_millis",N)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(N){return this.set("last_successful_fetch_response",N)}getActiveConfig(){return this.get("active_config")}setActiveConfig(N){return this.set("active_config",N)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(N){return this.set("active_config_etag",N)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(N){return this.set("throttle_metadata",N)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(N){var U=this;return(0,he.A)(function*(){const te=yield U.openDbPromise;return new Promise((we,xe)=>{const Ft=te.transaction([ln],"readonly").objectStore(ln),kt=U.createCompositeKey(N);try{const wt=Ft.get(kt);wt.onerror=zt=>{xe(ds(zt,"storage-get"))},wt.onsuccess=zt=>{const Nn=zt.target.result;we(Nn?Nn.value:void 0)}}catch(wt){xe(ei.create("storage-get",{originalErrorMessage:wt?.message}))}})})()}set(N,U){var te=this;return(0,he.A)(function*(){const we=yield te.openDbPromise;return new Promise((xe,Ze)=>{const kt=we.transaction([ln],"readwrite").objectStore(ln),wt=te.createCompositeKey(N);try{const zt=kt.put({compositeKey:wt,value:U});zt.onerror=Nn=>{Ze(ds(Nn,"storage-set"))},zt.onsuccess=()=>{xe()}}catch(zt){Ze(ei.create("storage-set",{originalErrorMessage:zt?.message}))}})})()}delete(N){var U=this;return(0,he.A)(function*(){const te=yield U.openDbPromise;return new Promise((we,xe)=>{const Ft=te.transaction([ln],"readwrite").objectStore(ln),kt=U.createCompositeKey(N);try{const wt=Ft.delete(kt);wt.onerror=zt=>{xe(ds(zt,"storage-delete"))},wt.onsuccess=()=>{we()}}catch(wt){xe(ei.create("storage-delete",{originalErrorMessage:wt?.message}))}})})()}createCompositeKey(N){return[this.appId,this.appName,this.namespace,N].join()}}class Vo{constructor(N){this.storage=N}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var N=this;return(0,he.A)(function*(){const U=N.storage.getLastFetchStatus(),te=N.storage.getLastSuccessfulFetchTimestampMillis(),we=N.storage.getActiveConfig(),xe=yield U;xe&&(N.lastFetchStatus=xe);const Ze=yield te;Ze&&(N.lastSuccessfulFetchTimestampMillis=Ze);const Ft=yield we;Ft&&(N.activeConfig=Ft)})()}setLastFetchStatus(N){return this.lastFetchStatus=N,this.storage.setLastFetchStatus(N)}setLastSuccessfulFetchTimestampMillis(N){return this.lastSuccessfulFetchTimestampMillis=N,this.storage.setLastSuccessfulFetchTimestampMillis(N)}setActiveConfig(N){return this.activeConfig=N,this.storage.setActiveConfig(N)}}function tu(){return Oi.apply(this,arguments)}function Oi(){return(Oi=(0,he.A)(function*(){if(!(0,fe.zW)())return!1;try{return yield(0,fe.eX)()}catch{return!1}})).apply(this,arguments)}!function lo(){(0,_e._registerComponent)(new J.uA("remote-config",function I(N,{instanceIdentifier:U}){const te=N.getProvider("app").getImmediate(),we=N.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw ei.create("registration-window");if(!(0,fe.zW)())throw ei.create("indexed-db-unavailable");const{projectId:xe,apiKey:Ze,appId:Ft}=te.options;if(!xe)throw ei.create("registration-project-id");if(!Ze)throw ei.create("registration-api-key");if(!Ft)throw ei.create("registration-app-id");const kt=new Dr(Ft,te.name,U=U||"firebase"),wt=new Vo(kt),zt=new ee.Vy(Vn);zt.logLevel=ee.$b.ERROR;const Nn=new cn(we,_e.SDK_VERSION,U,xe,Ze,Ft),ms=new Pi(Nn,kt),ys=new vt(ms,kt,wt,zt),Wu=new ls(te,ys,wt,kt,zt);return function Jn(I){const N=(0,fe.Ku)(I);N._initializePromise||(N._initializePromise=N._storageCache.loadFromStorage().then(()=>{N._isInitializationComplete=!0}))}(Wu),Wu},"PUBLIC").setMultipleInstances(!0)),(0,_e.registerVersion)(Vn,"0.4.4"),(0,_e.registerVersion)(Vn,"0.4.4","esm2017")}();const Io=(I,N)=>N.some(U=>I instanceof U);let Ps,Wo;const To=new WeakMap,Qi=new WeakMap,$r=new WeakMap,Co=new WeakMap,xs=new WeakMap;let Xi={get(I,N,U){if(I instanceof IDBTransaction){if("done"===N)return Qi.get(I);if("objectStoreNames"===N)return I.objectStoreNames||$r.get(I);if("store"===N)return U.objectStoreNames[1]?void 0:U.objectStore(U.objectStoreNames[0])}return Yr(I[N])},set:(I,N,U)=>(I[N]=U,!0),has:(I,N)=>I instanceof IDBTransaction&&("done"===N||"store"===N)||N in I};function Qs(I){return"function"==typeof I?function bi(I){return I!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Do(){return Wo||(Wo=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(I)?function(...N){return I.apply(ki(this),N),Yr(To.get(this))}:function(...N){return Yr(I.apply(ki(this),N))}:function(N,...U){const te=I.call(ki(this),N,...U);return $r.set(te,N.sort?N.sort():[N]),Yr(te)}}(I):(I instanceof IDBTransaction&&function ci(I){if(Qi.has(I))return;const N=new Promise((U,te)=>{const we=()=>{I.removeEventListener("complete",xe),I.removeEventListener("error",Ze),I.removeEventListener("abort",Ze)},xe=()=>{U(),we()},Ze=()=>{te(I.error||new DOMException("AbortError","AbortError")),we()};I.addEventListener("complete",xe),I.addEventListener("error",Ze),I.addEventListener("abort",Ze)});Qi.set(I,N)}(I),Io(I,function Wn(){return Ps||(Ps=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(I,Xi):I)}function Yr(I){if(I instanceof IDBRequest)return function bo(I){const N=new Promise((U,te)=>{const we=()=>{I.removeEventListener("success",xe),I.removeEventListener("error",Ze)},xe=()=>{U(Yr(I.result)),we()},Ze=()=>{te(I.error),we()};I.addEventListener("success",xe),I.addEventListener("error",Ze)});return N.then(U=>{U instanceof IDBCursor&&To.set(U,I)}).catch(()=>{}),xs.set(N,I),N}(I);if(Co.has(I))return Co.get(I);const N=Qs(I);return N!==I&&(Co.set(I,N),xs.set(N,I)),N}const ki=I=>xs.get(I);function $i(I,N,{blocked:U,upgrade:te,blocking:we,terminated:xe}={}){const Ze=indexedDB.open(I,N),Ft=Yr(Ze);return te&&Ze.addEventListener("upgradeneeded",kt=>{te(Yr(Ze.result),kt.oldVersion,kt.newVersion,Yr(Ze.transaction))}),U&&Ze.addEventListener("blocked",()=>U()),Ft.then(kt=>{xe&&kt.addEventListener("close",()=>xe()),we&&kt.addEventListener("versionchange",()=>we())}).catch(()=>{}),Ft}function Nr(I,{blocked:N}={}){const U=indexedDB.deleteDatabase(I);return N&&U.addEventListener("blocked",()=>N()),Yr(U).then(()=>{})}const ma=["get","getKey","getAll","getAllKeys","count"],Ko=["put","add","delete","clear"],Xs=new Map;function ya(I,N){if(!(I instanceof IDBDatabase)||N in I||"string"!=typeof N)return;if(Xs.get(N))return Xs.get(N);const U=N.replace(/FromIndex$/,""),te=N!==U,we=Ko.includes(U);if(!(U in(te?IDBIndex:IDBObjectStore).prototype)||!we&&!ma.includes(U))return;const xe=function(){var Ze=(0,he.A)(function*(Ft,...kt){const wt=this.transaction(Ft,we?"readwrite":"readonly");let zt=wt.store;return te&&(zt=zt.index(kt.shift())),(yield Promise.all([zt[U](...kt),we&&wt.done]))[0]});return function(kt){return Ze.apply(this,arguments)}}();return Xs.set(N,xe),xe}!function li(I){Xi=I(Xi)}(I=>({...I,get:(N,U,te)=>ya(N,U)||I.get(N,U,te),has:(N,U)=>!!ya(N,U)||I.has(N,U)}));const va="/firebase-messaging-sw.js",za="/firebase-cloud-messaging-push-scope",_a="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",qo="https://fcmregistrations.googleapis.com/v1",Pr="google.c.a.c_id",ho="google.c.a.c_l",Ga="google.c.a.ts";var Ys=function(I){return I.PUSH_RECEIVED="push-received",I.NOTIFICATION_CLICKED="notification-clicked",I}(Ys||{});function hs(I){const N=new Uint8Array(I);return btoa(String.fromCharCode(...N)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function vu(I){const U=(I+"=".repeat((4-I.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),te=atob(U),we=new Uint8Array(te.length);for(let xe=0;xe<te.length;++xe)we[xe]=te.charCodeAt(xe);return we}const Ao="fcm_token_details_db",Ma=5,Xo="fcm_token_object_Store";function Yo(){return Yo=(0,he.A)(function*(I){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(xe=>xe.name).includes(Ao))return null;let N=null;return(yield $i(Ao,Ma,{upgrade:(te=(0,he.A)(function*(we,xe,Ze,Ft){var kt;if(xe<2||!we.objectStoreNames.contains(Xo))return;const wt=Ft.objectStore(Xo),zt=yield wt.index("fcmSenderId").get(I);if(yield wt.clear(),zt)if(2===xe){const Nn=zt;if(!Nn.auth||!Nn.p256dh||!Nn.endpoint)return;N={token:Nn.fcmToken,createTime:null!==(kt=Nn.createTime)&&void 0!==kt?kt:Date.now(),subscriptionOptions:{auth:Nn.auth,p256dh:Nn.p256dh,endpoint:Nn.endpoint,swScope:Nn.swScope,vapidKey:"string"==typeof Nn.vapidKey?Nn.vapidKey:hs(Nn.vapidKey)}}}else if(3===xe){const Nn=zt;N={token:Nn.fcmToken,createTime:Nn.createTime,subscriptionOptions:{auth:hs(Nn.auth),p256dh:hs(Nn.p256dh),endpoint:Nn.endpoint,swScope:Nn.swScope,vapidKey:hs(Nn.vapidKey)}}}else if(4===xe){const Nn=zt;N={token:Nn.fcmToken,createTime:Nn.createTime,subscriptionOptions:{auth:hs(Nn.auth),p256dh:hs(Nn.p256dh),endpoint:Nn.endpoint,swScope:Nn.swScope,vapidKey:hs(Nn.vapidKey)}}}}),function(xe,Ze,Ft,kt){return te.apply(this,arguments)})})).close(),yield Nr(Ao),yield Nr("fcm_vapid_details_db"),yield Nr("undefined"),function Jo(I){if(!I||!I.subscriptionOptions)return!1;const{subscriptionOptions:N}=I;return"number"==typeof I.createTime&&I.createTime>0&&"string"==typeof I.token&&I.token.length>0&&"string"==typeof N.auth&&N.auth.length>0&&"string"==typeof N.p256dh&&N.p256dh.length>0&&"string"==typeof N.endpoint&&N.endpoint.length>0&&"string"==typeof N.swScope&&N.swScope.length>0&&"string"==typeof N.vapidKey&&N.vapidKey.length>0}(N)?N:null;var te}),Yo.apply(this,arguments)}const Yi="firebase-messaging-database",Os=1,fs="firebase-messaging-store";let Zo=null;function Hr(){return Zo||(Zo=$i(Yi,Os,{upgrade:(I,N)=>{0===N&&I.createObjectStore(fs)}})),Zo}function ks(I){return or.apply(this,arguments)}function or(){return or=(0,he.A)(function*(I){const N=ea(I),te=yield(yield Hr()).transaction(fs).objectStore(fs).get(N);if(te)return te;{const we=yield function So(I){return Yo.apply(this,arguments)}(I.appConfig.senderId);if(we)return yield Bo(I,we),we}}),or.apply(this,arguments)}function Bo(I,N){return Vs.apply(this,arguments)}function Vs(){return(Vs=(0,he.A)(function*(I,N){const U=ea(I),we=(yield Hr()).transaction(fs,"readwrite");return yield we.objectStore(fs).put(N,U),yield we.done,N})).apply(this,arguments)}function Bs(){return(Bs=(0,he.A)(function*(I){const N=ea(I),te=(yield Hr()).transaction(fs,"readwrite");yield te.objectStore(fs).delete(N),yield te.done})).apply(this,arguments)}function ea({appConfig:I}){return I.appId}const yi=new fe.FA("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Ea(I,N){return vi.apply(this,arguments)}function vi(){return(vi=(0,he.A)(function*(I,N){const U=yield js(I),te=Fu(N),we={method:"POST",headers:U,body:JSON.stringify(te)};let xe;try{xe=yield(yield fetch(dr(I.appConfig),we)).json()}catch(Ze){throw yi.create("token-subscribe-failed",{errorInfo:Ze?.toString()})}if(xe.error)throw yi.create("token-subscribe-failed",{errorInfo:xe.error.message});if(!xe.token)throw yi.create("token-subscribe-no-token");return xe.token})).apply(this,arguments)}function wa(){return(wa=(0,he.A)(function*(I,N){const U=yield js(I),te=Fu(N.subscriptionOptions),we={method:"PATCH",headers:U,body:JSON.stringify(te)};let xe;try{xe=yield(yield fetch(`${dr(I.appConfig)}/${N.token}`,we)).json()}catch(Ze){throw yi.create("token-update-failed",{errorInfo:Ze?.toString()})}if(xe.error)throw yi.create("token-update-failed",{errorInfo:xe.error.message});if(!xe.token)throw yi.create("token-update-no-token");return xe.token})).apply(this,arguments)}function ns(I,N){return po.apply(this,arguments)}function po(){return(po=(0,he.A)(function*(I,N){const te={method:"DELETE",headers:yield js(I)};try{const xe=yield(yield fetch(`${dr(I.appConfig)}/${N}`,te)).json();if(xe.error)throw yi.create("token-unsubscribe-failed",{errorInfo:xe.error.message})}catch(we){throw yi.create("token-unsubscribe-failed",{errorInfo:we?.toString()})}})).apply(this,arguments)}function dr({projectId:I}){return`${qo}/projects/${I}/registrations`}function js(I){return nr.apply(this,arguments)}function nr(){return(nr=(0,he.A)(function*({appConfig:I,installations:N}){const U=yield N.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":I.apiKey,"x-goog-firebase-installations-auth":`FIS ${U}`})})).apply(this,arguments)}function Fu({p256dh:I,auth:N,endpoint:U,vapidKey:te}){const we={web:{endpoint:U,auth:N,p256dh:I}};return te!==_a&&(we.web.applicationPubKey=te),we}const Ia=6048e5;function ta(){return ta=(0,he.A)(function*(I){const N=yield function _i(I,N){return go.apply(this,arguments)}(I.swRegistration,I.vapidKey),U={vapidKey:I.vapidKey,swScope:I.swRegistration.scope,endpoint:N.endpoint,auth:hs(N.getKey("auth")),p256dh:hs(N.getKey("p256dh"))},te=yield ks(I.firebaseDependencies);if(te){if(function D(I,N){return N.vapidKey===I.vapidKey&&N.endpoint===I.endpoint&&N.auth===I.auth&&N.p256dh===I.p256dh}(te.subscriptionOptions,U))return Date.now()>=te.createTime+Ia?function Ra(I,N){return Mo.apply(this,arguments)}(I,{token:te.token,createTime:Date.now(),subscriptionOptions:U}):te.token;try{yield ns(I.firebaseDependencies,te.token)}catch(we){console.warn(we)}return $s(I.firebaseDependencies,U)}return $s(I.firebaseDependencies,U)}),ta.apply(this,arguments)}function Fs(){return Fs=(0,he.A)(function*(I){const N=yield ks(I.firebaseDependencies);N&&(yield ns(I.firebaseDependencies,N.token),yield function Js(I){return Bs.apply(this,arguments)}(I.firebaseDependencies));const U=yield I.swRegistration.pushManager.getSubscription();return!U||U.unsubscribe()}),Fs.apply(this,arguments)}function Mo(){return Mo=(0,he.A)(function*(I,N){try{const U=yield function nu(I,N){return wa.apply(this,arguments)}(I.firebaseDependencies,N),te=Object.assign(Object.assign({},N),{token:U,createTime:Date.now()});return yield Bo(I.firebaseDependencies,te),U}catch(U){throw yield function jo(I){return Fs.apply(this,arguments)}(I),U}}),Mo.apply(this,arguments)}function $s(I,N){return Is.apply(this,arguments)}function Is(){return(Is=(0,he.A)(function*(I,N){const te={token:yield Ea(I,N),createTime:Date.now(),subscriptionOptions:N};return yield Bo(I,te),te.token})).apply(this,arguments)}function go(){return(go=(0,he.A)(function*(I,N){return(yield I.pushManager.getSubscription())||I.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:vu(N)})})).apply(this,arguments)}function z(I){const N={from:I.from,collapseKey:I.collapse_key,messageId:I.fcmMessageId};return function P(I,N){if(!N.notification)return;I.notification={};const U=N.notification.title;U&&(I.notification.title=U);const te=N.notification.body;te&&(I.notification.body=te);const we=N.notification.image;we&&(I.notification.image=we);const xe=N.notification.icon;xe&&(I.notification.icon=xe)}(N,I),function j(I,N){N.data&&(I.data=N.data)}(N,I),function ie(I,N){var U,te,we,xe,Ze;if(!(N.fcmOptions||null!==(U=N.notification)&&void 0!==U&&U.click_action))return;I.fcmOptions={};const Ft=null!==(we=null===(te=N.fcmOptions)||void 0===te?void 0:te.link)&&void 0!==we?we:null===(xe=N.notification)||void 0===xe?void 0:xe.click_action;Ft&&(I.fcmOptions.link=Ft);const kt=null===(Ze=N.fcmOptions)||void 0===Ze?void 0:Ze.analytics_label;kt&&(I.fcmOptions.analyticsLabel=kt)}(N,I),N}function ot(I,N){const U=[];for(let te=0;te<I.length;te++)U.push(I.charAt(te)),te<N.length&&U.push(N.charAt(te));return U.join("")}function yr(I){return yi.create("missing-app-config-values",{valueName:I})}ot("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),ot("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class xr{constructor(N,U,te){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const we=function Gt(I){if(!I||!I.options)throw yr("App Configuration Object");if(!I.name)throw yr("App Name");const N=["projectId","apiKey","appId","messagingSenderId"],{options:U}=I;for(const te of N)if(!U[te])throw yr(te);return{appName:I.name,projectId:U.projectId,apiKey:U.apiKey,appId:U.appId,senderId:U.messagingSenderId}}(N);this.firebaseDependencies={app:N,appConfig:we,installations:U,analyticsProvider:te}}_delete(){return Promise.resolve()}}function kn(){return(kn=(0,he.A)(function*(I){try{I.swRegistration=yield navigator.serviceWorker.register(va,{scope:za}),I.swRegistration.update().catch(()=>{})}catch(N){throw yi.create("failed-service-worker-registration",{browserErrorMessage:N?.message})}})).apply(this,arguments)}function Tr(){return(Tr=(0,he.A)(function*(I,N){if(!N&&!I.swRegistration&&(yield function Zn(I){return kn.apply(this,arguments)}(I)),N||!I.swRegistration){if(!(N instanceof ServiceWorkerRegistration))throw yi.create("invalid-sw-registration");I.swRegistration=N}})).apply(this,arguments)}function Fi(){return(Fi=(0,he.A)(function*(I,N){N?I.vapidKey=N:I.vapidKey||(I.vapidKey=_a)})).apply(this,arguments)}function ar(){return ar=(0,he.A)(function*(I,N){if(!navigator)throw yi.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw yi.create("permission-blocked");return yield function di(I,N){return Fi.apply(this,arguments)}(I,N?.vapidKey),yield function Fr(I,N){return Tr.apply(this,arguments)}(I,N?.serviceWorkerRegistration),function Zs(I){return ta.apply(this,arguments)}(I)}),ar.apply(this,arguments)}function Hi(){return(Hi=(0,he.A)(function*(I,N,U){const te=function Ji(I){switch(I){case Ys.NOTIFICATION_CLICKED:return"notification_open";case Ys.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(N);(yield I.firebaseDependencies.analyticsProvider.get()).logEvent(te,{message_id:U[Pr],message_name:U[ho],message_time:U[Ga],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function ft(){return ft=(0,he.A)(function*(I,N){const U=N.data;if(!U.isFirebaseMessaging)return;I.onMessageHandler&&U.messageType===Ys.PUSH_RECEIVED&&("function"==typeof I.onMessageHandler?I.onMessageHandler(z(U)):I.onMessageHandler.next(z(U)));const te=U.data;(function Qe(I){return"object"==typeof I&&!!I&&Pr in I})(te)&&"1"===te["google.c.a.e"]&&(yield function zr(I,N,U){return Hi.apply(this,arguments)}(I,U.messageType,te))}),ft.apply(this,arguments)}const sn="@firebase/messaging",na=I=>{const N=new xr(I.getProvider("app").getImmediate(),I.getProvider("installations-internal").getImmediate(),I.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",U=>function Ro(I,N){return ft.apply(this,arguments)}(N,U)),N},O=I=>{const N=I.getProvider("messaging").getImmediate();return{getToken:te=>function Ds(I,N){return ar.apply(this,arguments)}(N,te)}};function v(){return M.apply(this,arguments)}function M(){return(M=(0,he.A)(function*(){try{yield(0,fe.eX)()}catch{return!1}return typeof window<"u"&&(0,fe.zW)()&&(0,fe.dM)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function g(){(0,_e._registerComponent)(new J.uA("messaging",na,"PUBLIC")),(0,_e._registerComponent)(new J.uA("messaging-internal",O,"PRIVATE")),(0,_e.registerVersion)(sn,"0.12.4"),(0,_e.registerVersion)(sn,"0.12.4","esm2017")}();const Tn="analytics",En="firebase_id",dn="origin",Ct=6e4,Mn="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Ei="https://www.googletagmanager.com/gtag/js",Nt=new ee.Vy("@firebase/analytics"),rr=new fe.FA("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Or(I){if(!I.startsWith(Ei)){const N=rr.create("invalid-gtag-resource",{gtagURL:I});return Nt.warn(N.message),""}return I}function Bt(I){return Promise.all(I.map(N=>N.catch(U=>U)))}function Rt(){return(Rt=(0,he.A)(function*(I,N,U,te,we,xe){const Ze=te[we];try{if(Ze)yield N[Ze];else{const kt=(yield Bt(U)).find(wt=>wt.measurementId===we);kt&&(yield N[kt.appId])}}catch(Ft){Nt.error(Ft)}I("config",we,xe)})).apply(this,arguments)}function Rn(){return(Rn=(0,he.A)(function*(I,N,U,te,we){try{let xe=[];if(we&&we.send_to){let Ze=we.send_to;Array.isArray(Ze)||(Ze=[Ze]);const Ft=yield Bt(U);for(const kt of Ze){const wt=Ft.find(Nn=>Nn.measurementId===kt),zt=wt&&N[wt.appId];if(!zt){xe=[];break}xe.push(zt)}}0===xe.length&&(xe=Object.values(N)),yield Promise.all(xe),I("event",te,we||{})}catch(xe){Nt.error(xe)}})).apply(this,arguments)}const fn=30,wi=new class Fn{constructor(N={},U=1e3){this.throttleMetadata=N,this.intervalMillis=U}getThrottleMetadata(N){return this.throttleMetadata[N]}setThrottleMetadata(N,U){this.throttleMetadata[N]=U}deleteThrottleMetadata(N){delete this.throttleMetadata[N]}};function ti(I){return new Headers({Accept:"application/json","x-goog-api-key":I})}function mo(){return(mo=(0,he.A)(function*(I){var N;const{appId:U,apiKey:te}=I,we={method:"GET",headers:ti(te)},xe=Mn.replace("{app-id}",U),Ze=yield fetch(xe,we);if(200!==Ze.status&&304!==Ze.status){let Ft="";try{const kt=yield Ze.json();null!==(N=kt.error)&&void 0!==N&&N.message&&(Ft=kt.error.message)}catch{}throw rr.create("config-fetch-failed",{httpStatus:Ze.status,responseMessage:Ft})}return Ze.json()})).apply(this,arguments)}function ri(){return(ri=(0,he.A)(function*(I,N=wi,U){const{appId:te,apiKey:we,measurementId:xe}=I.options;if(!te)throw rr.create("no-app-id");if(!we){if(xe)return{measurementId:xe,appId:te};throw rr.create("no-api-key")}const Ze=N.getThrottleMetadata(te)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Ft=new E;return setTimeout((0,he.A)(function*(){Ft.abort()}),void 0!==U?U:Ct),no({appId:te,apiKey:we,measurementId:xe},Ze,Ft,N)})).apply(this,arguments)}function no(I,N,U){return Pe.apply(this,arguments)}function Pe(){return Pe=(0,he.A)(function*(I,{throttleEndTimeMillis:N,backoffCount:U},te,we=wi){var xe;const{appId:Ze,measurementId:Ft}=I;try{yield function Cs(I,N){return new Promise((U,te)=>{const we=Math.max(N-Date.now(),0),xe=setTimeout(U,we);I.addEventListener(()=>{clearTimeout(xe),te(rr.create("fetch-throttle",{throttleEndTimeMillis:N}))})})}(te,N)}catch(kt){if(Ft)return Nt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ft} provided in the "measurementId" field in the local Firebase config. [${kt?.message}]`),{appId:Ze,measurementId:Ft};throw kt}try{const kt=yield function ps(I){return mo.apply(this,arguments)}(I);return we.deleteThrottleMetadata(Ze),kt}catch(kt){const wt=kt;if(!function hr(I){if(!(I instanceof fe.g&&I.customData))return!1;const N=Number(I.customData.httpStatus);return 429===N||500===N||503===N||504===N}(wt)){if(we.deleteThrottleMetadata(Ze),Ft)return Nt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ft} provided in the "measurementId" field in the local Firebase config. [${wt?.message}]`),{appId:Ze,measurementId:Ft};throw kt}const zt=503===Number(null===(xe=wt?.customData)||void 0===xe?void 0:xe.httpStatus)?(0,fe.p9)(U,we.intervalMillis,fn):(0,fe.p9)(U,we.intervalMillis),Nn={throttleEndTimeMillis:Date.now()+zt,backoffCount:U+1};return we.setThrottleMetadata(Ze,Nn),Nt.debug(`Calling attemptFetch again in ${zt} millis`),no(I,Nn,te,we)}}),Pe.apply(this,arguments)}class E{constructor(){this.listeners=[]}addEventListener(N){this.listeners.push(N)}abort(){this.listeners.forEach(N=>N())}}let S,Na;function R(){return(R=(0,he.A)(function*(I,N,U,te,we){if(we&&we.global)I("event",U,te);else{const xe=yield N;I("event",U,Object.assign(Object.assign({},te),{send_to:xe}))}})).apply(this,arguments)}function rs(){return(rs=(0,he.A)(function*(){if(!(0,fe.zW)())return Nt.warn(rr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,fe.eX)()}catch(I){return Nt.warn(rr.create("indexeddb-unavailable",{errorInfo:I?.toString()}).message),!1}return!0})).apply(this,arguments)}function hi(){return hi=(0,he.A)(function*(I,N,U,te,we,xe,Ze){var Ft;const kt=function ni(I){return ri.apply(this,arguments)}(I);kt.then(ys=>{U[ys.measurementId]=ys.appId,I.options.measurementId&&ys.measurementId!==I.options.measurementId&&Nt.warn(`The measurement ID in the local Firebase config (${I.options.measurementId}) does not match the measurement ID fetched from the server (${ys.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(ys=>Nt.error(ys)),N.push(kt);const wt=function ra(){return rs.apply(this,arguments)}().then(ys=>{if(ys)return te.getId()}),[zt,Nn]=yield Promise.all([kt,wt]);(function xt(I){const N=window.document.getElementsByTagName("script");for(const U of Object.values(N))if(U.src&&U.src.includes(Ei)&&U.src.includes(I))return U;return null})(xe)||function jn(I,N){const U=function Ui(I,N){let U;return window.trustedTypes&&(U=window.trustedTypes.createPolicy(I,N)),U}("firebase-js-sdk-policy",{createScriptURL:Or}),te=document.createElement("script"),we=`${Ei}?l=${I}&id=${N}`;te.src=U?U?.createScriptURL(we):we,te.async=!0,document.head.appendChild(te)}(xe,zt.measurementId),Na&&(we("consent","default",Na),function No(I){Na=I}(void 0)),we("js",new Date);const ms=null!==(Ft=Ze?.config)&&void 0!==Ft?Ft:{};return ms[dn]="firebase",ms.update=!0,null!=Nn&&(ms[En]=Nn),we("config",zt.measurementId,ms),S&&(we("set",S),function yo(I){S=I}(void 0)),zt.measurementId}),hi.apply(this,arguments)}class Zc{constructor(N){this.app=N}_delete(){return delete Pa[this.app.options.appId],Promise.resolve()}}let Pa={},mc=[];const Fd={};let Uu,Ls,ia="dataLayer",el=!1;function tl(I,N,U){!function yc(){const I=[];if((0,fe.sr)()&&I.push("This is a browser extension environment."),(0,fe.dM)()||I.push("Cookies are not available."),I.length>0){const N=I.map((te,we)=>`(${we+1}) ${te}`).join(" "),U=rr.create("invalid-analytics-context",{errorInfo:N});Nt.warn(U.message)}}();const te=I.options.appId;if(!te)throw rr.create("no-app-id");if(!I.options.apiKey){if(!I.options.measurementId)throw rr.create("no-api-key");Nt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${I.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Pa[te])throw rr.create("already-exists",{id:te});if(!el){!function eo(I){let N=[];Array.isArray(window[I])?N=window[I]:window[I]=N}(ia);const{wrappedGtag:xe,gtagCore:Ze}=function Wa(I,N,U,te,we){let xe=function(...Ze){window[te].push(arguments)};return window[we]&&"function"==typeof window[we]&&(xe=window[we]),window[we]=function to(I,N,U,te){function xe(){return xe=(0,he.A)(function*(Ze,...Ft){try{if("event"===Ze){const[kt,wt]=Ft;yield function ct(I,N,U,te,we){return Rn.apply(this,arguments)}(I,N,U,kt,wt)}else if("config"===Ze){const[kt,wt]=Ft;yield function Cr(I,N,U,te,we,xe){return Rt.apply(this,arguments)}(I,N,U,te,kt,wt)}else if("consent"===Ze){const[kt]=Ft;I("consent","update",kt)}else if("get"===Ze){const[kt,wt,zt]=Ft;I("get",kt,wt,zt)}else if("set"===Ze){const[kt]=Ft;I("set",kt)}else I(Ze,...Ft)}catch(kt){Nt.error(kt)}}),xe.apply(this,arguments)}return function we(Ze){return xe.apply(this,arguments)}}(xe,I,N,U),{gtagCore:xe,wrappedGtag:window[we]}}(Pa,mc,Fd,ia,"gtag");Ls=xe,Uu=Ze,el=!0}return Pa[te]=function Da(I,N,U,te,we,xe,Ze){return hi.apply(this,arguments)}(I,mc,Fd,N,Uu,ia,U),new Zc(I)}function Bl(){return Bu.apply(this,arguments)}function Bu(){return(Bu=(0,he.A)(function*(){if((0,fe.sr)()||!(0,fe.dM)()||!(0,fe.zW)())return!1;try{return yield(0,fe.eX)()}catch{return!1}})).apply(this,arguments)}const _u="@firebase/analytics";!function Jr(){(0,_e._registerComponent)(new J.uA(Tn,(N,{options:U})=>tl(N.getProvider("app").getImmediate(),N.getProvider("installations-internal").getImmediate(),U),"PUBLIC")),(0,_e._registerComponent)(new J.uA("analytics-internal",function I(N){try{const U=N.getProvider(Tn).getImmediate();return{logEvent:(te,we,xe)=>function _c(I,N,U,te){I=(0,fe.Ku)(I),function y(I,N,U,te,we){return R.apply(this,arguments)}(Ls,Pa[I.app.options.appId],N,U,te).catch(we=>Nt.error(we))}(U,te,we,xe)}}catch(U){throw rr.create("interop-component-reg-failed",{reason:U})}},"PRIVATE")),(0,_e.registerVersion)(_u,"0.10.0"),(0,_e.registerVersion)(_u,"0.10.0","esm2017")}();var nl=B(6780),ro=B(3604);const Vd=new class Hu extends ro.q{}(class sa extends nl.R{constructor(N,U){super(N,U),this.scheduler=N,this.work=U}schedule(N,U=0){return U>0?super.schedule(N,U):(this.delay=U,this.state=N,this.scheduler.flush(this),this)}execute(N,U){return U>0||this.closed?super.execute(N,U):this._execute(N,U)}requestAsyncId(N,U,te=0){return null!=te&&te>0||null==te&&this.delay>0?super.requestAsyncId(N,U,te):(N.flush(this),0)}});var jl=B(3236),oa=B(1985),Gr=B(8141),Ta=B(6745),Ca=B(941);const zu=new C.RxE("7.6.1"),ba="__angularfire_symbol__analyticsIsSupportedValue",su="__angularfire_symbol__analyticsIsSupported",Po="__angularfire_symbol__remoteConfigIsSupportedValue",aa="__angularfire_symbol__remoteConfigIsSupported",xa="__angularfire_symbol__messagingIsSupportedValue",ua="__angularfire_symbol__messagingIsSupported";function $o(I,N,U){if(N){if(1===N.length)return N[0];const xe=N.filter(Ze=>Ze.app===U);if(1===xe.length)return xe[0]}return U.container.getProvider(I).getImmediate({optional:!0})}globalThis[su]||(globalThis[su]=Bl().then(I=>globalThis[ba]=I).catch(()=>globalThis[ba]=!1)),globalThis[ua]||(globalThis[ua]=v().then(I=>globalThis[xa]=I).catch(()=>globalThis[xa]=!1)),globalThis[aa]||(globalThis[aa]=tu().then(I=>globalThis[Po]=I).catch(()=>globalThis[Po]=!1));const Gu=(I,N)=>{const U=N?[N]:(0,se.Dk)(),te=[];return U.forEach(we=>{we.container.getProvider(I).instances.forEach(Ze=>{te.includes(Ze)||te.push(Ze)})}),te};function Aa(){}class Oa{constructor(N,U=Vd){this.zone=N,this.delegate=U}now(){return this.delegate.now()}schedule(N,U,te){const we=this.zone;return this.delegate.schedule(function(Ze){we.runGuarded(()=>{N.apply(this,[Ze])})},U,te)}}class ou{constructor(N){this.zone=N,this.task=null}call(N,U){const te=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Aa,{},Aa,Aa)),U.pipe((0,Gr.M)({next:te,complete:te,error:te})).subscribe(N).add(te)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let au=(()=>{class I{constructor(U){this.ngZone=U,this.outsideAngular=U.runOutsideAngular(()=>new Oa(Zone.current)),this.insideAngular=U.run(()=>new Oa(Zone.current,jl.E)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return I.\u0275fac=function(U){return new(U||I)(C.KVO(C.SKi))},I.\u0275prov=C.jDH({token:I,factory:I.\u0275fac,providedIn:"root"}),I})();function Zi(){const I=globalThis.\u0275AngularFireScheduler;if(!I)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return I}function Ho(I){return Zi().ngZone.run(()=>I())}function Hl(I){return Zi(),function rl(I){return function(U){return(U=U.lift(new ou(I.ngZone))).pipe((0,Ta._)(I.outsideAngular),(0,Ca.Q)(I.insideAngular))}}(Zi())(I)}const uu=(I,N)=>function(){const te=arguments;return N&&setTimeout(()=>{"scheduled"===N.state&&N.invoke()},10),Ho(()=>I.apply(void 0,te))},cu=(I,N)=>function(){let U;const te=arguments;for(let xe=0;xe<arguments.length;xe++)"function"==typeof te[xe]&&(N&&(U||(U=Ho(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Aa,{},Aa,Aa)))),te[xe]=uu(te[xe],U));const we=function $l(I){return Zi().ngZone.runOutsideAngular(()=>I())}(()=>I.apply(this,te));if(!N){if(we instanceof oa.c){const xe=Zi();return we.pipe((0,Ta._)(xe.outsideAngular),(0,Ca.Q)(xe.insideAngular))}return Ho(()=>we)}return we instanceof oa.c?we.pipe(Hl):we instanceof Promise?Ho(()=>new Promise((xe,Ze)=>we.then(Ft=>Ho(()=>xe(Ft)),Ft=>Ho(()=>Ze(Ft))))):"function"==typeof we&&U?function(){return setTimeout(()=>{U&&"scheduled"===U.state&&U.invoke()},10),we.apply(this,arguments)}:Ho(()=>we)}},1076:(Vt,je,B)=>{B.d(je,{Am:()=>Zr,Bd:()=>un,FA:()=>Je,Fy:()=>et,I9:()=>Xt,Im:()=>Xn,K3:()=>J,Ku:()=>Sr,T9:()=>Se,Tj:()=>xn,Uj:()=>Ue,XA:()=>at,ZQ:()=>mt,bD:()=>sr,cY:()=>Ne,dM:()=>Fe,eX:()=>Si,g:()=>Ve,gR:()=>Zt,hp:()=>vn,jZ:()=>dt,lT:()=>yn,lV:()=>cr,nr:()=>si,p9:()=>ai,sr:()=>wn,tD:()=>On,u:()=>ne,yU:()=>Dn,zW:()=>It,zw:()=>Re});const _e=function(ge){const W=[];let Y=0;for(let Q=0;Q<ge.length;Q++){let K=ge.charCodeAt(Q);K<128?W[Y++]=K:K<2048?(W[Y++]=K>>6|192,W[Y++]=63&K|128):55296==(64512&K)&&Q+1<ge.length&&56320==(64512&ge.charCodeAt(Q+1))?(K=65536+((1023&K)<<10)+(1023&ge.charCodeAt(++Q)),W[Y++]=K>>18|240,W[Y++]=K>>12&63|128,W[Y++]=K>>6&63|128,W[Y++]=63&K|128):(W[Y++]=K>>12|224,W[Y++]=K>>6&63|128,W[Y++]=63&K|128)}return W},J={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(ge,W){if(!Array.isArray(ge))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Y=W?this.byteToCharMapWebSafe_:this.byteToCharMap_,Q=[];for(let K=0;K<ge.length;K+=3){const Te=ge[K],tt=K+1<ge.length,Mt=tt?ge[K+1]:0,Ht=K+2<ge.length,rn=Ht?ge[K+2]:0;let gr=(15&Mt)<<2|rn>>6,be=63&rn;Ht||(be=64,tt||(gr=64)),Q.push(Y[Te>>2],Y[(3&Te)<<4|Mt>>4],Y[gr],Y[be])}return Q.join("")},encodeString(ge,W){return this.HAS_NATIVE_SUPPORT&&!W?btoa(ge):this.encodeByteArray(_e(ge),W)},decodeString(ge,W){return this.HAS_NATIVE_SUPPORT&&!W?atob(ge):function(ge){const W=[];let Y=0,Q=0;for(;Y<ge.length;){const K=ge[Y++];if(K<128)W[Q++]=String.fromCharCode(K);else if(K>191&&K<224){const Te=ge[Y++];W[Q++]=String.fromCharCode((31&K)<<6|63&Te)}else if(K>239&&K<365){const Ht=((7&K)<<18|(63&ge[Y++])<<12|(63&ge[Y++])<<6|63&ge[Y++])-65536;W[Q++]=String.fromCharCode(55296+(Ht>>10)),W[Q++]=String.fromCharCode(56320+(1023&Ht))}else{const Te=ge[Y++],tt=ge[Y++];W[Q++]=String.fromCharCode((15&K)<<12|(63&Te)<<6|63&tt)}}return W.join("")}(this.decodeStringToByteArray(ge,W))},decodeStringToByteArray(ge,W){this.init_();const Y=W?this.charToByteMapWebSafe_:this.charToByteMap_,Q=[];for(let K=0;K<ge.length;){const Te=Y[ge.charAt(K++)],Mt=K<ge.length?Y[ge.charAt(K)]:0;++K;const rn=K<ge.length?Y[ge.charAt(K)]:64;++K;const gn=K<ge.length?Y[ge.charAt(K)]:64;if(++K,null==Te||null==Mt||null==rn||null==gn)throw new ee;Q.push(Te<<2|Mt>>4),64!==rn&&(Q.push(Mt<<4&240|rn>>2),64!==gn&&Q.push(rn<<6&192|gn))}return Q},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let ge=0;ge<this.ENCODED_VALS.length;ge++)this.byteToCharMap_[ge]=this.ENCODED_VALS.charAt(ge),this.charToByteMap_[this.byteToCharMap_[ge]]=ge,this.byteToCharMapWebSafe_[ge]=this.ENCODED_VALS_WEBSAFE.charAt(ge),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[ge]]=ge,ge>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(ge)]=ge,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(ge)]=ge)}}};class ee extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ue=function(ge){return function(ge){const W=_e(ge);return J.encodeByteArray(W,!0)}(ge).replace(/\./g,"")},ne=function(ge){try{return J.decodeString(ge,!0)}catch(W){console.error("base64Decode failed: ",W)}return null};function Re(ge,W){if(!(W instanceof Object))return W;switch(W.constructor){case Date:return new Date(W.getTime());case Object:void 0===ge&&(ge={});break;case Array:ge=[];break;default:return W}for(const Y in W)!W.hasOwnProperty(Y)||!Ke(Y)||(ge[Y]=Re(ge[Y],W[Y]));return ge}function Ke(ge){return"__proto__"!==ge}const Lt=()=>{try{return function Ie(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const ge=process.env.__FIREBASE_DEFAULTS__;return ge?JSON.parse(ge):void 0})()||(()=>{if(typeof document>"u")return;let ge;try{ge=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const W=ge&&ne(ge[1]);return W&&JSON.parse(W)})()}catch(ge){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${ge}`)}},xn=ge=>{var W,Y;return null===(Y=null===(W=Lt())||void 0===W?void 0:W.emulatorHosts)||void 0===Y?void 0:Y[ge]},Dn=ge=>{const W=xn(ge);if(!W)return;const Y=W.lastIndexOf(":");if(Y<=0||Y+1===W.length)throw new Error(`Invalid host ${W} with no separate hostname and port!`);const Q=parseInt(W.substring(Y+1),10);return"["===W[0]?[W.substring(1,Y-1),Q]:[W.substring(0,Y),Q]},Se=()=>{var ge;return null===(ge=Lt())||void 0===ge?void 0:ge.config},at=ge=>{var W;return null===(W=Lt())||void 0===W?void 0:W[`_${ge}`]};class Ne{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((W,Y)=>{this.resolve=W,this.reject=Y})}wrapCallback(W){return(Y,Q)=>{Y?this.reject(Y):this.resolve(Q),"function"==typeof W&&(this.promise.catch(()=>{}),1===W.length?W(Y):W(Y,Q))}}}function et(ge,W){if(ge.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Q=W||"demo-project",K=ge.iat||0,Te=ge.sub||ge.user_id;if(!Te)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const tt=Object.assign({iss:`https://securetoken.google.com/${Q}`,aud:Q,iat:K,exp:K+3600,auth_time:K,sub:Te,user_id:Te,firebase:{sign_in_provider:"custom",identities:{}}},ge);return[Ue(JSON.stringify({alg:"none",type:"JWT"})),Ue(JSON.stringify(tt)),""].join(".")}function mt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function dt(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(mt())}function un(){return"object"==typeof self&&self.self===self}function wn(){const ge="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof ge&&void 0!==ge.id}function cr(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function yn(){const ge=mt();return ge.indexOf("MSIE ")>=0||ge.indexOf("Trident/")>=0}function si(){return!function Qt(){var ge;const W=null===(ge=Lt())||void 0===ge?void 0:ge.forceEnvironment;if("node"===W)return!0;if("browser"===W)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function It(){try{return"object"==typeof indexedDB}catch{return!1}}function Si(){return new Promise((ge,W)=>{try{let Y=!0;const Q="validate-browser-context-for-indexeddb-analytics-module",K=self.indexedDB.open(Q);K.onsuccess=()=>{K.result.close(),Y||self.indexedDB.deleteDatabase(Q),ge(!0)},K.onupgradeneeded=()=>{Y=!1},K.onerror=()=>{var Te;W((null===(Te=K.error)||void 0===Te?void 0:Te.message)||"")}}catch(Y){W(Y)}})}function Fe(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Ve extends Error{constructor(W,Y,Q){super(Y),this.code=W,this.customData=Q,this.name="FirebaseError",Object.setPrototypeOf(this,Ve.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Je.prototype.create)}}class Je{constructor(W,Y,Q){this.service=W,this.serviceName=Y,this.errors=Q}create(W,...Y){const Q=Y[0]||{},K=`${this.service}/${W}`,Te=this.errors[W],tt=Te?function it(ge,W){return ge.replace(ze,(Y,Q)=>{const K=W[Q];return null!=K?String(K):`<${Q}?>`})}(Te,Q):"Error";return new Ve(K,`${this.serviceName}: ${tt} (${K}).`,Q)}}const ze=/\{\$([^}]+)}/g;function Zt(ge,W){return Object.prototype.hasOwnProperty.call(ge,W)}function Xn(ge){for(const W in ge)if(Object.prototype.hasOwnProperty.call(ge,W))return!1;return!0}function sr(ge,W){if(ge===W)return!0;const Y=Object.keys(ge),Q=Object.keys(W);for(const K of Y){if(!Q.includes(K))return!1;const Te=ge[K],tt=W[K];if(Vi(Te)&&Vi(tt)){if(!sr(Te,tt))return!1}else if(Te!==tt)return!1}for(const K of Q)if(!Y.includes(K))return!1;return!0}function Vi(ge){return null!==ge&&"object"==typeof ge}function Zr(ge){const W=[];for(const[Y,Q]of Object.entries(ge))Array.isArray(Q)?Q.forEach(K=>{W.push(encodeURIComponent(Y)+"="+encodeURIComponent(K))}):W.push(encodeURIComponent(Y)+"="+encodeURIComponent(Q));return W.length?"&"+W.join("&"):""}function Xt(ge){const W={};return ge.replace(/^\?/,"").split("&").forEach(Q=>{if(Q){const[K,Te]=Q.split("=");W[decodeURIComponent(K)]=decodeURIComponent(Te)}}),W}function vn(ge){const W=ge.indexOf("?");if(!W)return"";const Y=ge.indexOf("#",W);return ge.substring(W,Y>0?Y:void 0)}function On(ge,W){const Y=new pr(ge,W);return Y.subscribe.bind(Y)}class pr{constructor(W,Y){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Y,this.task.then(()=>{W(this)}).catch(Q=>{this.error(Q)})}next(W){this.forEachObserver(Y=>{Y.next(W)})}error(W){this.forEachObserver(Y=>{Y.error(W)}),this.close(W)}complete(){this.forEachObserver(W=>{W.complete()}),this.close()}subscribe(W,Y,Q){let K;if(void 0===W&&void 0===Y&&void 0===Q)throw new Error("Missing Observer.");K=function $t(ge,W){if("object"!=typeof ge||null===ge)return!1;for(const Y of W)if(Y in ge&&"function"==typeof ge[Y])return!0;return!1}(W,["next","error","complete"])?W:{next:W,error:Y,complete:Q},void 0===K.next&&(K.next=Yn),void 0===K.error&&(K.error=Yn),void 0===K.complete&&(K.complete=Yn);const Te=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?K.error(this.finalError):K.complete()}catch{}}),this.observers.push(K),Te}unsubscribeOne(W){void 0===this.observers||void 0===this.observers[W]||(delete this.observers[W],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(W){if(!this.finalized)for(let Y=0;Y<this.observers.length;Y++)this.sendOne(Y,W)}sendOne(W,Y){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[W])try{Y(this.observers[W])}catch(Q){typeof console<"u"&&console.error&&console.error(Q)}})}close(W){this.finalized||(this.finalized=!0,void 0!==W&&(this.finalError=W),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Yn(){}const Vr=1e3,Kr=2,Bi=144e5,gi=.5;function ai(ge,W=Vr,Y=Kr){const Q=W*Math.pow(Y,ge),K=Math.round(gi*Q*(Math.random()-.5)*2);return Math.min(Bi,Q+K)}function Sr(ge){return ge&&ge._delegate?ge._delegate:ge}},1620:(Vt,je,B)=>{B.d(je,{W:()=>J});var C=B(4147),se=B(7705),he=B(4952),_e=B(1594),fe=B(6354);const J=(ee,Ae)=>{const Ue=(0,se.WQX)(he.Nj),ne=(0,se.WQX)(C.Ix);return(0,he.wh)(Ue).pipe((0,_e.$)(),(0,fe.T)(ae=>!!ae||ne.createUrlTree(["/auth/login"],{queryParams:{returnUrl:Ae.url}})))}},4796:(Vt,je,B)=>{B.d(je,{u:()=>_e});var C=B(4952),se=B(8455),he=B(7705);let _e=(()=>{class fe{constructor(ee){this.auth=ee,this.user$=(0,C.wh)(this.auth)}signUp(ee,Ae){return(0,se.H)((0,C.eJ)(this.auth,ee,Ae))}signIn(ee,Ae){return(0,se.H)((0,C.x9)(this.auth,ee,Ae))}signOut(){return(0,se.H)((0,C.CI)(this.auth))}getIdToken(){return(0,C.fN)(this.auth)}static{this.\u0275fac=function(Ae){return new(Ae||fe)(he.KVO(C.Nj))}}static{this.\u0275prov=he.jDH({token:fe,factory:fe.\u0275fac,providedIn:"root"})}}return fe})()},8722:(Vt,je,B)=>{var C=B(345),se=B(4147),he=B(1620),_e=B(7673),fe=B(1203),J=B(5558),ee=B(6354),Ae=B(1076),Ue=B(1362),ne=B(7852),ae=B(8041);class Re{constructor(g,v){this._delegate=g,this.firebase=v,(0,ne._addComponent)(g,new Ue.uA("app-compat",()=>this,"PUBLIC")),this.container=g.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(g){this._delegate.automaticDataCollectionEnabled=g}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(g=>{this._delegate.checkDestroyed(),g()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,ne.deleteApp)(this._delegate)))}_getService(g,v=ne._DEFAULT_ENTRY_NAME){var M;this._delegate.checkDestroyed();const x=this._delegate.container.getProvider(g);return!x.isInitialized()&&"EXPLICIT"===(null===(M=x.getComponent())||void 0===M?void 0:M.instantiationMode)&&x.initialize(),x.getImmediate({identifier:v})}_removeServiceInstance(g,v=ne._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(g).clearInstance(v)}_addComponent(g){(0,ne._addComponent)(this._delegate,g)}_addOrOverwriteComponent(g){(0,ne._addOrOverwriteComponent)(this._delegate,g)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Ie=new Ae.FA("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),jt=function $e(){const O=function pt(O){const g={},v={__esModule:!0,initializeApp:function H(Xe,Pt={}){const Tt=ne.initializeApp(Xe,Pt);if((0,Ae.gR)(g,Tt.name))return g[Tt.name];const Tn=new O(Tt,v);return g[Tt.name]=Tn,Tn},app:x,registerVersion:ne.registerVersion,setLogLevel:ne.setLogLevel,onLog:ne.onLog,apps:null,SDK_VERSION:ne.SDK_VERSION,INTERNAL:{registerComponent:function me(Xe){const Pt=Xe.name,Tt=Pt.replace("-compat","");if(ne._registerComponent(Xe)&&"PUBLIC"===Xe.type){const Tn=(En=x())=>{if("function"!=typeof En[Tt])throw Ie.create("invalid-app-argument",{appName:Pt});return En[Tt]()};void 0!==Xe.serviceProps&&(0,Ae.zw)(Tn,Xe.serviceProps),v[Tt]=Tn,O.prototype[Tt]=function(...En){return this._getService.bind(this,Pt).apply(this,Xe.multipleInstances?En:[])}}return"PUBLIC"===Xe.type?v[Tt]:null},removeApp:function M(Xe){delete g[Xe]},useAsService:function ke(Xe,Pt){return"serverAuth"===Pt?null:Pt},modularAPIs:ne}};function x(Xe){if(!(0,Ae.gR)(g,Xe=Xe||ne._DEFAULT_ENTRY_NAME))throw Ie.create("no-app",{appName:Xe});return g[Xe]}return v.default=v,Object.defineProperty(v,"apps",{get:function le(){return Object.keys(g).map(Xe=>g[Xe])}}),x.App=O,v}(Re);return O.INTERNAL=Object.assign(Object.assign({},O.INTERNAL),{createFirebaseNamespace:$e,extendNamespace:function g(v){(0,Ae.zw)(O,v)},createSubscribe:Ae.tD,ErrorFactory:Ae.FA,deepExtend:Ae.zw}),O}(),Lt=new ae.Vy("@firebase/app-compat");if((0,Ae.Bd)()&&void 0!==self.firebase){Lt.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const O=self.firebase.SDK_VERSION;O&&O.indexOf("LITE")>=0&&Lt.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const at=jt;!function Se(O){(0,ne.registerVersion)("@firebase/app-compat","0.2.13",O)}(),at.registerVersion("firebase","9.23.0","app-compat");const ut=(0,fe.F)((0,J.n)(O=>O?O.getIdTokenResult():(0,_e.of)(null)),(0,ee.T)(O=>O?O.claims:[]));var It=B(7705);const He=[{path:"",redirectTo:"auth/login",pathMatch:"full"},{path:"auth",loadChildren:()=>Promise.all([B.e(417),B.e(155)]).then(B.bind(B,8155)).then(O=>O.AuthModule)},{path:"dashboard",loadChildren:()=>Promise.all([B.e(417),B.e(35)]).then(B.bind(B,1035)).then(O=>O.DashboardModule),canActivate:[he.W],data:{authGuardPipe:()=>("admin",(0,fe.F)(ut,(0,ee.T)(g=>g.hasOwnProperty("admin"))))}}];let Ve=(()=>{class O{static{this.\u0275fac=function(M){return new(M||O)}}static{this.\u0275mod=It.$C({type:O})}static{this.\u0275inj=It.G2t({imports:[se.iI.forRoot(He),se.iI]})}}return O})(),Je=(()=>{class O{constructor(){this.title="coop-app"}static{this.\u0275fac=function(M){return new(M||O)}}static{this.\u0275cmp=It.VBU({type:O,selectors:[["app-root"]],decls:1,vars:0,template:function(M,x){1&M&&It.nrm(0,"router-outlet")},dependencies:[se.n3]})}}return O})();const it_firebase={apiKey:"AIzaSyCbw8b_ag8QyunuIJIXl24SCepm439uzVU",authDomain:"coop-pro.firebaseapp.com",projectId:"coop-pro",storageBucket:"coop-pro.firebasestorage.app",messagingSenderId:"770543345465",appId:"1:770543345465:web:33089459f3d6eba9b992e8",measurementId:"G-T4463ZST23"};var ze=B(8934),Dt=B(9816),ht=B(4952);class bn{}class Ot{}const on="*";function fr(O,g=null){return{type:2,steps:O,options:g}}function Xn(O){return{type:6,styles:O,offset:null}}class On{constructor(g=0,v=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=g+v}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(g=>g()),this._onDoneFns=[])}onStart(g){this._originalOnStartFns.push(g),this._onStartFns.push(g)}onDone(g){this._originalOnDoneFns.push(g),this._onDoneFns.push(g)}onDestroy(g){this._onDestroyFns.push(g)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(g=>g()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(g=>g()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(g){this._position=this.totalTime?g*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(g){const v="start"==g?this._onStartFns:this._onDoneFns;v.forEach(M=>M()),v.length=0}}class pr{constructor(g){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=g;let v=0,M=0,x=0;const H=this.players.length;0==H?queueMicrotask(()=>this._onFinish()):this.players.forEach(le=>{le.onDone(()=>{++v==H&&this._onFinish()}),le.onDestroy(()=>{++M==H&&this._onDestroy()}),le.onStart(()=>{++x==H&&this._onStart()})}),this.totalTime=this.players.reduce((le,me)=>Math.max(le,me.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(g=>g()),this._onDoneFns=[])}init(){this.players.forEach(g=>g.init())}onStart(g){this._onStartFns.push(g)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(g=>g()),this._onStartFns=[])}onDone(g){this._onDoneFns.push(g)}onDestroy(g){this._onDestroyFns.push(g)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(g=>g.play())}pause(){this.players.forEach(g=>g.pause())}restart(){this.players.forEach(g=>g.restart())}finish(){this._onFinish(),this.players.forEach(g=>g.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(g=>g.destroy()),this._onDestroyFns.forEach(g=>g()),this._onDestroyFns=[])}reset(){this.players.forEach(g=>g.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(g){const v=g*this.totalTime;this.players.forEach(M=>{const x=M.totalTime?Math.min(1,v/M.totalTime):1;M.setPosition(x)})}getPosition(){const g=this.players.reduce((v,M)=>null===v||M.totalTime>v.totalTime?M:v,null);return null!=g?g.getPosition():0}beforeDestroy(){this.players.forEach(g=>{g.beforeDestroy&&g.beforeDestroy()})}triggerCallback(g){const v="start"==g?this._onStartFns:this._onDoneFns;v.forEach(M=>M()),v.length=0}}function Yn(O){return new It.wOt(3e3,!1)}function Et(O){switch(O.length){case 0:return new On;case 1:return O[0];default:return new pr(O)}}function st(O,g,v=new Map,M=new Map){const x=[],H=[];let le=-1,me=null;if(g.forEach(ke=>{const Xe=ke.get("offset"),Pt=Xe==le,Tt=Pt&&me||new Map;ke.forEach((Tn,En)=>{let dn=En,Ct=Tn;if("offset"!==En)switch(dn=O.normalizePropertyName(dn,x),Ct){case"!":Ct=v.get(En);break;case on:Ct=M.get(En);break;default:Ct=O.normalizeStyleValue(En,dn,Ct,x)}Tt.set(dn,Ct)}),Pt||H.push(Tt),me=Tt,le=Xe}),x.length)throw function Mt(O){return new It.wOt(3502,!1)}();return H}function en(O,g,v,M){switch(g){case"start":O.onStart(()=>M(v&&qn(v,"start",O)));break;case"done":O.onDone(()=>M(v&&qn(v,"done",O)));break;case"destroy":O.onDestroy(()=>M(v&&qn(v,"destroy",O)))}}function qn(O,g,v){const H=Bn(O.element,O.triggerName,O.fromState,O.toState,g||O.phaseName,v.totalTime??O.totalTime,!!v.disabled),le=O._data;return null!=le&&(H._data=le),H}function Bn(O,g,v,M,x="",H=0,le){return{element:O,triggerName:g,fromState:v,toState:M,phaseName:x,totalTime:H,disabled:!!le}}function Sn(O,g,v){let M=O.get(g);return M||O.set(g,M=v),M}function mi(O){const g=O.indexOf(":");return[O.substring(1,g),O.slice(g+1)]}const Ti=(()=>typeof document>"u"?null:document.documentElement)();function Un(O){const g=O.parentNode||O.host||null;return g===Ti?null:g}let kr=null,vs=!1;function qr(O,g){for(;g;){if(g===O)return!0;g=Un(g)}return!1}function qi(O,g,v){if(v)return Array.from(O.querySelectorAll(g));const M=O.querySelector(g);return M?[M]:[]}let uo=(()=>{class O{validateStyleProperty(v){return function Br(O){kr||(kr=function Mr(){return typeof document<"u"?document.body:null}()||{},vs=!!kr.style&&"WebkitAppearance"in kr.style);let g=!0;return kr.style&&!function tr(O){return"ebkit"==O.substring(1,6)}(O)&&(g=O in kr.style,!g&&vs&&(g="Webkit"+O.charAt(0).toUpperCase()+O.slice(1)in kr.style)),g}(v)}matchesElement(v,M){return!1}containsElement(v,M){return qr(v,M)}getParentElement(v){return Un(v)}query(v,M,x){return qi(v,M,x)}computeStyle(v,M,x){return x||""}animate(v,M,x,H,le,me=[],ke){return new On(x,H)}static{this.\u0275fac=function(M){return new(M||O)}}static{this.\u0275prov=It.jDH({token:O,factory:O.\u0275fac})}}return O})(),Ee=(()=>{class O{static{this.NOOP=new uo}}return O})();const ye=1e3,yt="ng-enter",tn="ng-leave",Hn="ng-trigger",Vn=".ng-trigger",Gn="ng-animating",as=".ng-animating";function jr(O){if("number"==typeof O)return O;const g=O.match(/^(-?[\.\d]+)(m?s)/);return!g||g.length<2?0:Ni(parseFloat(g[1]),g[2])}function Ni(O,g){return"s"===g?O*ye:O}function ei(O,g,v){return O.hasOwnProperty("duration")?O:function Fo(O,g,v){let x,H=0,le="";if("string"==typeof O){const me=O.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===me)return g.push(Yn()),{duration:0,delay:0,easing:""};x=Ni(parseFloat(me[1]),me[2]);const ke=me[3];null!=ke&&(H=Ni(parseFloat(ke),me[4]));const Xe=me[5];Xe&&(le=Xe)}else x=O;if(!v){let me=!1,ke=g.length;x<0&&(g.push(function oi(){return new It.wOt(3100,!1)}()),me=!0),H<0&&(g.push(function Ut(){return new It.wOt(3101,!1)}()),me=!0),me&&g.splice(ke,0,Yn())}return{duration:x,delay:H,easing:le}}(O,g,v)}function co(O,g={}){return Object.keys(O).forEach(v=>{g[v]=O[v]}),g}function Eo(O){const g=new Map;return Object.keys(O).forEach(v=>{g.set(v,O[v])}),g}function Qr(O,g=new Map,v){if(v)for(let[M,x]of v)g.set(M,x);for(let[M,x]of O)g.set(M,x);return g}function ss(O,g,v){g.forEach((M,x)=>{const H=Uo(x);v&&!v.has(x)&&v.set(x,O.style[H]),O.style[H]=M})}function us(O,g){g.forEach((v,M)=>{const x=Uo(M);O.style[x]=""})}function mn(O){return Array.isArray(O)?1==O.length?O[0]:fr(O):O}const Rr=new RegExp("{{\\s*(.+?)\\s*}}","g");function Es(O){let g=[];if("string"==typeof O){let v;for(;v=Rr.exec(O);)g.push(v[1]);Rr.lastIndex=0}return g}function Ci(O,g,v){const M=O.toString(),x=M.replace(Rr,(H,le)=>{let me=g[le];return null==me&&(v.push(function hn(O){return new It.wOt(3003,!1)}()),me=""),me.toString()});return x==M?O:x}function zo(O){const g=[];let v=O.next();for(;!v.done;)g.push(v.value),v=O.next();return g}const qs=/-+([a-z0-9])/g;function Uo(O){return O.replace(qs,(...g)=>g[1].toUpperCase())}function vt(O,g,v){switch(g.type){case 7:return O.visitTrigger(g,v);case 0:return O.visitState(g,v);case 1:return O.visitTransition(g,v);case 2:return O.visitSequence(g,v);case 3:return O.visitGroup(g,v);case 4:return O.visitAnimate(g,v);case 5:return O.visitKeyframes(g,v);case 6:return O.visitStyle(g,v);case 8:return O.visitReference(g,v);case 9:return O.visitAnimateChild(g,v);case 10:return O.visitAnimateRef(g,v);case 11:return O.visitQuery(g,v);case 12:return O.visitStagger(g,v);default:throw function fi(O){return new It.wOt(3004,!1)}()}}function an(O,g){return window.getComputedStyle(O)[g]}const ls="*";function ds(O,g){const v=[];return"string"==typeof O?O.split(/\s*,\s*/).forEach(M=>function ln(O,g,v){if(":"==O[0]){const ke=function Go(O,g){switch(O){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(v,M)=>parseFloat(M)>parseFloat(v);case":decrement":return(v,M)=>parseFloat(M)<parseFloat(v);default:return g.push(function Q(O){return new It.wOt(3016,!1)}()),"* => *"}}(O,v);if("function"==typeof ke)return void g.push(ke);O=ke}const M=O.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==M||M.length<4)return v.push(function Y(O){return new It.wOt(3015,!1)}()),g;const x=M[1],H=M[2],le=M[3];g.push(Dr(x,le));"<"==H[0]&&!(x==ls&&le==ls)&&g.push(Dr(le,x))}(M,v,g)):v.push(O),v}const Ns=new Set(["true","1"]),xi=new Set(["false","0"]);function Dr(O,g){const v=Ns.has(O)||xi.has(O),M=Ns.has(g)||xi.has(g);return(x,H)=>{let le=O==ls||O==x,me=g==ls||g==H;return!le&&v&&"boolean"==typeof x&&(le=x?Ns.has(O):xi.has(O)),!me&&M&&"boolean"==typeof H&&(me=H?Ns.has(g):xi.has(g)),le&&me}}const lo=new RegExp("s*:selfs*,?","g");function ui(O,g,v,M){return new tu(O).build(g,v,M)}class tu{constructor(g){this._driver=g}build(g,v,M){const x=new Ps(v);return this._resetContextStyleTimingState(x),vt(this,mn(g),x)}_resetContextStyleTimingState(g){g.currentQuerySelector="",g.collectedStyles=new Map,g.collectedStyles.set("",new Map),g.currentTime=0}visitTrigger(g,v){let M=v.queryCount=0,x=v.depCount=0;const H=[],le=[];return"@"==g.name.charAt(0)&&v.errors.push(function Ri(){return new It.wOt(3006,!1)}()),g.definitions.forEach(me=>{if(this._resetContextStyleTimingState(v),0==me.type){const ke=me,Xe=ke.name;Xe.toString().split(/\s*,\s*/).forEach(Pt=>{ke.name=Pt,H.push(this.visitState(ke,v))}),ke.name=Xe}else if(1==me.type){const ke=this.visitTransition(me,v);M+=ke.queryCount,x+=ke.depCount,le.push(ke)}else v.errors.push(function Ar(){return new It.wOt(3007,!1)}())}),{type:7,name:g.name,states:H,transitions:le,queryCount:M,depCount:x,options:null}}visitState(g,v){const M=this.visitStyle(g.styles,v),x=g.options&&g.options.params||null;if(M.containsDynamicStyles){const H=new Set,le=x||{};M.styles.forEach(me=>{me instanceof Map&&me.forEach(ke=>{Es(ke).forEach(Xe=>{le.hasOwnProperty(Xe)||H.add(Xe)})})}),H.size&&(zo(H.values()),v.errors.push(function Vr(O,g){return new It.wOt(3008,!1)}()))}return{type:0,name:g.name,style:M,options:x?{params:x}:null}}visitTransition(g,v){v.queryCount=0,v.depCount=0;const M=vt(this,mn(g.animation),v);return{type:1,matchers:ds(g.expr,v.errors),animation:M,queryCount:v.queryCount,depCount:v.depCount,options:Do(g.options)}}visitSequence(g,v){return{type:2,steps:g.steps.map(M=>vt(this,M,v)),options:Do(g.options)}}visitGroup(g,v){const M=v.currentTime;let x=0;const H=g.steps.map(le=>{v.currentTime=M;const me=vt(this,le,v);return x=Math.max(x,v.currentTime),me});return v.currentTime=x,{type:3,steps:H,options:Do(g.options)}}visitAnimate(g,v){const M=function Wn(O,g){if(O.hasOwnProperty("duration"))return O;if("number"==typeof O)return To(ei(O,g).duration,0,"");const v=O;if(v.split(/\s+/).some(H=>"{"==H.charAt(0)&&"{"==H.charAt(1))){const H=To(0,0,"");return H.dynamic=!0,H.strValue=v,H}const x=ei(v,g);return To(x.duration,x.delay,x.easing)}(g.timings,v.errors);v.currentAnimateTimings=M;let x,H=g.styles?g.styles:Xn({});if(5==H.type)x=this.visitKeyframes(H,v);else{let le=g.styles,me=!1;if(!le){me=!0;const Xe={};M.easing&&(Xe.easing=M.easing),le=Xn(Xe)}v.currentTime+=M.duration+M.delay;const ke=this.visitStyle(le,v);ke.isEmptyStep=me,x=ke}return v.currentAnimateTimings=null,{type:4,timings:M,style:x,options:null}}visitStyle(g,v){const M=this._makeStyleAst(g,v);return this._validateStyleAst(M,v),M}_makeStyleAst(g,v){const M=[],x=Array.isArray(g.styles)?g.styles:[g.styles];for(let me of x)"string"==typeof me?me===on?M.push(me):v.errors.push(new It.wOt(3002,!1)):M.push(Eo(me));let H=!1,le=null;return M.forEach(me=>{if(me instanceof Map&&(me.has("easing")&&(le=me.get("easing"),me.delete("easing")),!H))for(let ke of me.values())if(ke.toString().indexOf("{{")>=0){H=!0;break}}),{type:6,styles:M,easing:le,offset:g.offset,containsDynamicStyles:H,options:null}}_validateStyleAst(g,v){const M=v.currentAnimateTimings;let x=v.currentTime,H=v.currentTime;M&&H>0&&(H-=M.duration+M.delay),g.styles.forEach(le=>{"string"!=typeof le&&le.forEach((me,ke)=>{const Xe=v.collectedStyles.get(v.currentQuerySelector),Pt=Xe.get(ke);let Tt=!0;Pt&&(H!=x&&H>=Pt.startTime&&x<=Pt.endTime&&(v.errors.push(function gi(O,g,v,M,x){return new It.wOt(3010,!1)}()),Tt=!1),H=Pt.startTime),Tt&&Xe.set(ke,{startTime:H,endTime:x}),v.options&&function Jn(O,g,v){const M=g.params||{},x=Es(O);x.length&&x.forEach(H=>{M.hasOwnProperty(H)||v.push(function Mi(O){return new It.wOt(3001,!1)}())})}(me,v.options,v.errors)})})}visitKeyframes(g,v){const M={type:5,styles:[],options:null};if(!v.currentAnimateTimings)return v.errors.push(function ai(){return new It.wOt(3011,!1)}()),M;let H=0;const le=[];let me=!1,ke=!1,Xe=0;const Pt=g.steps.map(Ei=>{const Nt=this._makeStyleAst(Ei,v);let Li=null!=Nt.offset?Nt.offset:function Wo(O){if("string"==typeof O)return null;let g=null;if(Array.isArray(O))O.forEach(v=>{if(v instanceof Map&&v.has("offset")){const M=v;g=parseFloat(M.get("offset")),M.delete("offset")}});else if(O instanceof Map&&O.has("offset")){const v=O;g=parseFloat(v.get("offset")),v.delete("offset")}return g}(Nt.styles),rr=0;return null!=Li&&(H++,rr=Nt.offset=Li),ke=ke||rr<0||rr>1,me=me||rr<Xe,Xe=rr,le.push(rr),Nt});ke&&v.errors.push(function zn(){return new It.wOt(3012,!1)}()),me&&v.errors.push(function Ln(){return new It.wOt(3200,!1)}());const Tt=g.steps.length;let Tn=0;H>0&&H<Tt?v.errors.push(function Sr(){return new It.wOt(3202,!1)}()):0==H&&(Tn=1/(Tt-1));const En=Tt-1,dn=v.currentTime,Ct=v.currentAnimateTimings,Mn=Ct.duration;return Pt.forEach((Ei,Nt)=>{const Li=Tn>0?Nt==En?1:Tn*Nt:le[Nt],rr=Li*Mn;v.currentTime=dn+Ct.delay+rr,Ct.duration=rr,this._validateStyleAst(Ei,v),Ei.offset=Li,M.styles.push(Ei)}),M}visitReference(g,v){return{type:8,animation:vt(this,mn(g.animation),v),options:Do(g.options)}}visitAnimateChild(g,v){return v.depCount++,{type:9,options:Do(g.options)}}visitAnimateRef(g,v){return{type:10,animation:this.visitReference(g.animation,v),options:Do(g.options)}}visitQuery(g,v){const M=v.currentQuerySelector,x=g.options||{};v.queryCount++,v.currentQuery=g;const[H,le]=function Oi(O){const g=!!O.split(/\s*,\s*/).find(v=>":self"==v);return g&&(O=O.replace(lo,"")),O=O.replace(/@\*/g,Vn).replace(/@\w+/g,v=>Vn+"-"+v.slice(1)).replace(/:animating/g,as),[O,g]}(g.selector);v.currentQuerySelector=M.length?M+" "+H:H,Sn(v.collectedStyles,v.currentQuerySelector,new Map);const me=vt(this,mn(g.animation),v);return v.currentQuery=null,v.currentQuerySelector=M,{type:11,selector:H,limit:x.limit||0,optional:!!x.optional,includeSelf:le,animation:me,originalSelector:g.selector,options:Do(g.options)}}visitStagger(g,v){v.currentQuery||v.errors.push(function ge(){return new It.wOt(3013,!1)}());const M="full"===g.timings?{duration:0,delay:0,easing:"full"}:ei(g.timings,v.errors,!0);return{type:12,animation:vt(this,mn(g.animation),v),timings:M,options:null}}}class Ps{constructor(g){this.errors=g,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Do(O){return O?(O=co(O)).params&&(O.params=function Io(O){return O?co(O):null}(O.params)):O={},O}function To(O,g,v){return{duration:O,delay:g,easing:v}}function Qi(O,g,v,M,x,H,le=null,me=!1){return{type:1,element:O,keyframes:g,preStyleProps:v,postStyleProps:M,duration:x,delay:H,totalTime:x+H,easing:le,subTimeline:me}}class $r{constructor(){this._map=new Map}get(g){return this._map.get(g)||[]}append(g,v){let M=this._map.get(g);M||this._map.set(g,M=[]),M.push(...v)}has(g){return this._map.has(g)}clear(){this._map.clear()}}const bo=new RegExp(":enter","g"),Xi=new RegExp(":leave","g");function li(O,g,v,M,x,H=new Map,le=new Map,me,ke,Xe=[]){return(new bi).buildKeyframes(O,g,v,M,x,H,le,me,ke,Xe)}class bi{buildKeyframes(g,v,M,x,H,le,me,ke,Xe,Pt=[]){Xe=Xe||new $r;const Tt=new Yr(g,v,Xe,x,H,Pt,[]);Tt.options=ke;const Tn=ke.delay?jr(ke.delay):0;Tt.currentTimeline.delayNextStep(Tn),Tt.currentTimeline.setStyles([le],null,Tt.errors,ke),vt(this,M,Tt);const En=Tt.timelines.filter(dn=>dn.containsAnimation());if(En.length&&me.size){let dn;for(let Ct=En.length-1;Ct>=0;Ct--){const Mn=En[Ct];if(Mn.element===v){dn=Mn;break}}dn&&!dn.allowOnlyTimelineStyles()&&dn.setStyles([me],null,Tt.errors,ke)}return En.length?En.map(dn=>dn.buildKeyframes()):[Qi(v,[],[],[],0,Tn,"",!1)]}visitTrigger(g,v){}visitState(g,v){}visitTransition(g,v){}visitAnimateChild(g,v){const M=v.subInstructions.get(v.element);if(M){const x=v.createSubContext(g.options),H=v.currentTimeline.currentTime,le=this._visitSubInstructions(M,x,x.options);H!=le&&v.transformIntoNewTimeline(le)}v.previousNode=g}visitAnimateRef(g,v){const M=v.createSubContext(g.options);M.transformIntoNewTimeline(),this._applyAnimationRefDelays([g.options,g.animation.options],v,M),this.visitReference(g.animation,M),v.transformIntoNewTimeline(M.currentTimeline.currentTime),v.previousNode=g}_applyAnimationRefDelays(g,v,M){for(const x of g){const H=x?.delay;if(H){const le="number"==typeof H?H:jr(Ci(H,x?.params??{},v.errors));M.delayNextStep(le)}}}_visitSubInstructions(g,v,M){let H=v.currentTimeline.currentTime;const le=null!=M.duration?jr(M.duration):null,me=null!=M.delay?jr(M.delay):null;return 0!==le&&g.forEach(ke=>{const Xe=v.appendInstructionToTimeline(ke,le,me);H=Math.max(H,Xe.duration+Xe.delay)}),H}visitReference(g,v){v.updateOptions(g.options,!0),vt(this,g.animation,v),v.previousNode=g}visitSequence(g,v){const M=v.subContextCount;let x=v;const H=g.options;if(H&&(H.params||H.delay)&&(x=v.createSubContext(H),x.transformIntoNewTimeline(),null!=H.delay)){6==x.previousNode.type&&(x.currentTimeline.snapshotCurrentStyles(),x.previousNode=Qs);const le=jr(H.delay);x.delayNextStep(le)}g.steps.length&&(g.steps.forEach(le=>vt(this,le,x)),x.currentTimeline.applyStylesToKeyframe(),x.subContextCount>M&&x.transformIntoNewTimeline()),v.previousNode=g}visitGroup(g,v){const M=[];let x=v.currentTimeline.currentTime;const H=g.options&&g.options.delay?jr(g.options.delay):0;g.steps.forEach(le=>{const me=v.createSubContext(g.options);H&&me.delayNextStep(H),vt(this,le,me),x=Math.max(x,me.currentTimeline.currentTime),M.push(me.currentTimeline)}),M.forEach(le=>v.currentTimeline.mergeTimelineCollectedStyles(le)),v.transformIntoNewTimeline(x),v.previousNode=g}_visitTiming(g,v){if(g.dynamic){const M=g.strValue;return ei(v.params?Ci(M,v.params,v.errors):M,v.errors)}return{duration:g.duration,delay:g.delay,easing:g.easing}}visitAnimate(g,v){const M=v.currentAnimateTimings=this._visitTiming(g.timings,v),x=v.currentTimeline;M.delay&&(v.incrementTime(M.delay),x.snapshotCurrentStyles());const H=g.style;5==H.type?this.visitKeyframes(H,v):(v.incrementTime(M.duration),this.visitStyle(H,v),x.applyStylesToKeyframe()),v.currentAnimateTimings=null,v.previousNode=g}visitStyle(g,v){const M=v.currentTimeline,x=v.currentAnimateTimings;!x&&M.hasCurrentStyleProperties()&&M.forwardFrame();const H=x&&x.easing||g.easing;g.isEmptyStep?M.applyEmptyStep(H):M.setStyles(g.styles,H,v.errors,v.options),v.previousNode=g}visitKeyframes(g,v){const M=v.currentAnimateTimings,x=v.currentTimeline.duration,H=M.duration,me=v.createSubContext().currentTimeline;me.easing=M.easing,g.styles.forEach(ke=>{me.forwardTime((ke.offset||0)*H),me.setStyles(ke.styles,ke.easing,v.errors,v.options),me.applyStylesToKeyframe()}),v.currentTimeline.mergeTimelineCollectedStyles(me),v.transformIntoNewTimeline(x+H),v.previousNode=g}visitQuery(g,v){const M=v.currentTimeline.currentTime,x=g.options||{},H=x.delay?jr(x.delay):0;H&&(6===v.previousNode.type||0==M&&v.currentTimeline.hasCurrentStyleProperties())&&(v.currentTimeline.snapshotCurrentStyles(),v.previousNode=Qs);let le=M;const me=v.invokeQuery(g.selector,g.originalSelector,g.limit,g.includeSelf,!!x.optional,v.errors);v.currentQueryTotal=me.length;let ke=null;me.forEach((Xe,Pt)=>{v.currentQueryIndex=Pt;const Tt=v.createSubContext(g.options,Xe);H&&Tt.delayNextStep(H),Xe===v.element&&(ke=Tt.currentTimeline),vt(this,g.animation,Tt),Tt.currentTimeline.applyStylesToKeyframe(),le=Math.max(le,Tt.currentTimeline.currentTime)}),v.currentQueryIndex=0,v.currentQueryTotal=0,v.transformIntoNewTimeline(le),ke&&(v.currentTimeline.mergeTimelineCollectedStyles(ke),v.currentTimeline.snapshotCurrentStyles()),v.previousNode=g}visitStagger(g,v){const M=v.parentContext,x=v.currentTimeline,H=g.timings,le=Math.abs(H.duration),me=le*(v.currentQueryTotal-1);let ke=le*v.currentQueryIndex;switch(H.duration<0?"reverse":H.easing){case"reverse":ke=me-ke;break;case"full":ke=M.currentStaggerTime}const Pt=v.currentTimeline;ke&&Pt.delayNextStep(ke);const Tt=Pt.currentTime;vt(this,g.animation,v),v.previousNode=g,M.currentStaggerTime=x.currentTime-Tt+(x.startTime-M.currentTimeline.startTime)}}const Qs={};class Yr{constructor(g,v,M,x,H,le,me,ke){this._driver=g,this.element=v,this.subInstructions=M,this._enterClassName=x,this._leaveClassName=H,this.errors=le,this.timelines=me,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Qs,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=ke||new ki(this._driver,v,0),me.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(g,v){if(!g)return;const M=g;let x=this.options;null!=M.duration&&(x.duration=jr(M.duration)),null!=M.delay&&(x.delay=jr(M.delay));const H=M.params;if(H){let le=x.params;le||(le=this.options.params={}),Object.keys(H).forEach(me=>{(!v||!le.hasOwnProperty(me))&&(le[me]=Ci(H[me],le,this.errors))})}}_copyOptions(){const g={};if(this.options){const v=this.options.params;if(v){const M=g.params={};Object.keys(v).forEach(x=>{M[x]=v[x]})}}return g}createSubContext(g=null,v,M){const x=v||this.element,H=new Yr(this._driver,x,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(x,M||0));return H.previousNode=this.previousNode,H.currentAnimateTimings=this.currentAnimateTimings,H.options=this._copyOptions(),H.updateOptions(g),H.currentQueryIndex=this.currentQueryIndex,H.currentQueryTotal=this.currentQueryTotal,H.parentContext=this,this.subContextCount++,H}transformIntoNewTimeline(g){return this.previousNode=Qs,this.currentTimeline=this.currentTimeline.fork(this.element,g),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(g,v,M){const x={duration:v??g.duration,delay:this.currentTimeline.currentTime+(M??0)+g.delay,easing:""},H=new $i(this._driver,g.element,g.keyframes,g.preStyleProps,g.postStyleProps,x,g.stretchStartingKeyframe);return this.timelines.push(H),x}incrementTime(g){this.currentTimeline.forwardTime(this.currentTimeline.duration+g)}delayNextStep(g){g>0&&this.currentTimeline.delayNextStep(g)}invokeQuery(g,v,M,x,H,le){let me=[];if(x&&me.push(this.element),g.length>0){g=(g=g.replace(bo,"."+this._enterClassName)).replace(Xi,"."+this._leaveClassName);let Xe=this._driver.query(this.element,g,1!=M);0!==M&&(Xe=M<0?Xe.slice(Xe.length+M,Xe.length):Xe.slice(0,M)),me.push(...Xe)}return!H&&0==me.length&&le.push(function W(O){return new It.wOt(3014,!1)}()),me}}class ki{constructor(g,v,M,x){this._driver=g,this.element=v,this.startTime=M,this._elementTimelineStylesLookup=x,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(v),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(v,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(g){const v=1===this._keyframes.size&&this._pendingStyles.size;this.duration||v?(this.forwardTime(this.currentTime+g),v&&this.snapshotCurrentStyles()):this.startTime+=g}fork(g,v){return this.applyStylesToKeyframe(),new ki(this._driver,g,v||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(g){this.applyStylesToKeyframe(),this.duration=g,this._loadKeyframe()}_updateStyle(g,v){this._localTimelineStyles.set(g,v),this._globalTimelineStyles.set(g,v),this._styleSummary.set(g,{time:this.currentTime,value:v})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(g){g&&this._previousKeyframe.set("easing",g);for(let[v,M]of this._globalTimelineStyles)this._backFill.set(v,M||on),this._currentKeyframe.set(v,on);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(g,v,M,x){v&&this._previousKeyframe.set("easing",v);const H=x&&x.params||{},le=function ma(O,g){const v=new Map;let M;return O.forEach(x=>{if("*"===x){M=M||g.keys();for(let H of M)v.set(H,on)}else Qr(x,v)}),v}(g,this._globalTimelineStyles);for(let[me,ke]of le){const Xe=Ci(ke,H,M);this._pendingStyles.set(me,Xe),this._localTimelineStyles.has(me)||this._backFill.set(me,this._globalTimelineStyles.get(me)??on),this._updateStyle(me,Xe)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((g,v)=>{this._currentKeyframe.set(v,g)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((g,v)=>{this._currentKeyframe.has(v)||this._currentKeyframe.set(v,g)}))}snapshotCurrentStyles(){for(let[g,v]of this._localTimelineStyles)this._pendingStyles.set(g,v),this._updateStyle(g,v)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const g=[];for(let v in this._currentKeyframe)g.push(v);return g}mergeTimelineCollectedStyles(g){g._styleSummary.forEach((v,M)=>{const x=this._styleSummary.get(M);(!x||v.time>x.time)&&this._updateStyle(M,v.value)})}buildKeyframes(){this.applyStylesToKeyframe();const g=new Set,v=new Set,M=1===this._keyframes.size&&0===this.duration;let x=[];this._keyframes.forEach((me,ke)=>{const Xe=Qr(me,new Map,this._backFill);Xe.forEach((Pt,Tt)=>{"!"===Pt?g.add(Tt):Pt===on&&v.add(Tt)}),M||Xe.set("offset",ke/this.duration),x.push(Xe)});const H=g.size?zo(g.values()):[],le=v.size?zo(v.values()):[];if(M){const me=x[0],ke=new Map(me);me.set("offset",0),ke.set("offset",1),x=[me,ke]}return Qi(this.element,x,H,le,this.duration,this.startTime,this.easing,!1)}}class $i extends ki{constructor(g,v,M,x,H,le,me=!1){super(g,v,le.delay),this.keyframes=M,this.preStyleProps=x,this.postStyleProps=H,this._stretchStartingKeyframe=me,this.timings={duration:le.duration,delay:le.delay,easing:le.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let g=this.keyframes,{delay:v,duration:M,easing:x}=this.timings;if(this._stretchStartingKeyframe&&v){const H=[],le=M+v,me=v/le,ke=Qr(g[0]);ke.set("offset",0),H.push(ke);const Xe=Qr(g[0]);Xe.set("offset",Nr(me)),H.push(Xe);const Pt=g.length-1;for(let Tt=1;Tt<=Pt;Tt++){let Tn=Qr(g[Tt]);const En=Tn.get("offset");Tn.set("offset",Nr((v+En*M)/le)),H.push(Tn)}M=le,v=0,x="",g=H}return Qi(this.element,g,this.preStyleProps,this.postStyleProps,M,v,x,!0)}}function Nr(O,g=3){const v=Math.pow(10,g-1);return Math.round(O*v)/v}class Xs{}const va=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class za extends Xs{normalizePropertyName(g,v){return Uo(g)}normalizeStyleValue(g,v,M,x){let H="";const le=M.toString().trim();if(va.has(v)&&0!==M&&"0"!==M)if("number"==typeof M)H="px";else{const me=M.match(/^[+-]?[\d\.]+([a-z]*)$/);me&&0==me[1].length&&x.push(function pi(O,g){return new It.wOt(3005,!1)}())}return le+H}}function _a(O,g,v,M,x,H,le,me,ke,Xe,Pt,Tt,Tn){return{type:0,element:O,triggerName:g,isRemovalTransition:x,fromState:v,fromStyles:H,toState:M,toStyles:le,timelines:me,queriedElements:ke,preStyleProps:Xe,postStyleProps:Pt,totalTime:Tt,errors:Tn}}const qo={};class Pr{constructor(g,v,M){this._triggerName=g,this.ast=v,this._stateStyles=M}match(g,v,M,x){return function Ga(O,g,v,M,x){return O.some(H=>H(g,v,M,x))}(this.ast.matchers,g,v,M,x)}buildStyles(g,v,M){let x=this._stateStyles.get("*");return void 0!==g&&(x=this._stateStyles.get(g?.toString())||x),x?x.buildStyles(v,M):new Map}build(g,v,M,x,H,le,me,ke,Xe,Pt){const Tt=[],Tn=this.ast.options&&this.ast.options.params||qo,dn=this.buildStyles(M,me&&me.params||qo,Tt),Ct=ke&&ke.params||qo,Mn=this.buildStyles(x,Ct,Tt),Ei=new Set,Nt=new Map,Li=new Map,rr="void"===x,Or={params:yu(Ct,Tn),delay:this.ast.options?.delay},Bt=Pt?[]:li(g,v,this.ast.animation,H,le,dn,Mn,Or,Xe,Tt);let Ui=0;if(Bt.forEach(eo=>{Ui=Math.max(eo.duration+eo.delay,Ui)}),Tt.length)return _a(v,this._triggerName,M,x,rr,dn,Mn,[],[],Nt,Li,Ui,Tt);Bt.forEach(eo=>{const Cr=eo.element,Rt=Sn(Nt,Cr,new Set);eo.preStyleProps.forEach(Rn=>Rt.add(Rn));const ct=Sn(Li,Cr,new Set);eo.postStyleProps.forEach(Rn=>ct.add(Rn)),Cr!==v&&Ei.add(Cr)});const jn=zo(Ei.values());return _a(v,this._triggerName,M,x,rr,dn,Mn,Bt,jn,Nt,Li,Ui)}}function yu(O,g){const v=co(g);for(const M in O)O.hasOwnProperty(M)&&null!=O[M]&&(v[M]=O[M]);return v}class Qo{constructor(g,v,M){this.styles=g,this.defaultParams=v,this.normalizer=M}buildStyles(g,v){const M=new Map,x=co(this.defaultParams);return Object.keys(g).forEach(H=>{const le=g[H];null!==le&&(x[H]=le)}),this.styles.styles.forEach(H=>{"string"!=typeof H&&H.forEach((le,me)=>{le&&(le=Ci(le,x,v));const ke=this.normalizer.normalizePropertyName(me,v);le=this.normalizer.normalizeStyleValue(me,ke,le,v),M.set(me,le)})}),M}}class hs{constructor(g,v,M){this.name=g,this.ast=v,this._normalizer=M,this.transitionFactories=[],this.states=new Map,v.states.forEach(x=>{this.states.set(x.name,new Qo(x.style,x.options&&x.options.params||{},M))}),Ao(this.states,"true","1"),Ao(this.states,"false","0"),v.transitions.forEach(x=>{this.transitionFactories.push(new Pr(g,x,this.states))}),this.fallbackTransition=function vu(O,g,v){return new Pr(O,{type:1,animation:{type:2,steps:[],options:null},matchers:[(le,me)=>!0],options:null,queryCount:0,depCount:0},g)}(g,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(g,v,M,x){return this.transitionFactories.find(le=>le.match(g,v,M,x))||null}matchStyles(g,v,M){return this.fallbackTransition.buildStyles(g,v,M)}}function Ao(O,g,v){O.has(g)?O.has(v)||O.set(v,O.get(g)):O.has(v)&&O.set(g,O.get(v))}const Ma=new $r;class Xo{constructor(g,v,M){this.bodyNode=g,this._driver=v,this._normalizer=M,this._animations=new Map,this._playersById=new Map,this.players=[]}register(g,v){const M=[],H=ui(this._driver,v,M,[]);if(M.length)throw function Ht(O){return new It.wOt(3503,!1)}();this._animations.set(g,H)}_buildPlayer(g,v,M){const x=g.element,H=st(this._normalizer,g.keyframes,v,M);return this._driver.animate(x,H,g.duration,g.delay,g.easing,[],!0)}create(g,v,M={}){const x=[],H=this._animations.get(g);let le;const me=new Map;if(H?(le=li(this._driver,v,H,yt,tn,new Map,new Map,M,Ma,x),le.forEach(Pt=>{const Tt=Sn(me,Pt.element,new Map);Pt.postStyleProps.forEach(Tn=>Tt.set(Tn,null))})):(x.push(function rn(){return new It.wOt(3300,!1)}()),le=[]),x.length)throw function Yt(O){return new It.wOt(3504,!1)}();me.forEach((Pt,Tt)=>{Pt.forEach((Tn,En)=>{Pt.set(En,this._driver.computeStyle(Tt,En,on))})});const Xe=Et(le.map(Pt=>{const Tt=me.get(Pt.element);return this._buildPlayer(Pt,new Map,Tt)}));return this._playersById.set(g,Xe),Xe.onDestroy(()=>this.destroy(g)),this.players.push(Xe),Xe}destroy(g){const v=this._getPlayer(g);v.destroy(),this._playersById.delete(g);const M=this.players.indexOf(v);M>=0&&this.players.splice(M,1)}_getPlayer(g){const v=this._playersById.get(g);if(!v)throw function gn(O){return new It.wOt(3301,!1)}();return v}listen(g,v,M,x){const H=Bn(v,"","","");return en(this._getPlayer(g),M,H,x),()=>{}}command(g,v,M,x){if("register"==M)return void this.register(g,x[0]);if("create"==M)return void this.create(g,v,x[0]||{});const H=this._getPlayer(g);switch(M){case"play":H.play();break;case"pause":H.pause();break;case"reset":H.reset();break;case"restart":H.restart();break;case"finish":H.finish();break;case"init":H.init();break;case"setPosition":H.setPosition(parseFloat(x[0]));break;case"destroy":this.destroy(g)}}}const So="ng-animate-queued",Jo="ng-animate-disabled",Zo=[],Hr={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},ks={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},or="__ng_removed";class Bo{get params(){return this.options.params}constructor(g,v=""){this.namespaceId=v;const M=g&&g.hasOwnProperty("value");if(this.value=function Ea(O){return O??null}(M?g.value:g),M){const H=co(g);delete H.value,this.options=H}else this.options={};this.options.params||(this.options.params={})}absorbOptions(g){const v=g.params;if(v){const M=this.options.params;Object.keys(v).forEach(x=>{null==M[x]&&(M[x]=v[x])})}}}const Vs="void",Js=new Bo(Vs);class Bs{constructor(g,v,M){this.id=g,this.hostElement=v,this._engine=M,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+g,dr(v,this._hostClassName)}listen(g,v,M,x){if(!this._triggers.has(v))throw function gr(O,g){return new It.wOt(3302,!1)}();if(null==M||0==M.length)throw function be(O){return new It.wOt(3303,!1)}();if(!function nu(O){return"start"==O||"done"==O}(M))throw function pe(O,g){return new It.wOt(3400,!1)}();const H=Sn(this._elementListeners,g,[]),le={name:v,phase:M,callback:x};H.push(le);const me=Sn(this._engine.statesByElement,g,new Map);return me.has(v)||(dr(g,Hn),dr(g,Hn+"-"+v),me.set(v,Js)),()=>{this._engine.afterFlush(()=>{const ke=H.indexOf(le);ke>=0&&H.splice(ke,1),this._triggers.has(v)||me.delete(v)})}}register(g,v){return!this._triggers.has(g)&&(this._triggers.set(g,v),!0)}_getTrigger(g){const v=this._triggers.get(g);if(!v)throw function ve(O){return new It.wOt(3401,!1)}();return v}trigger(g,v,M,x=!0){const H=this._getTrigger(v),le=new fo(this.id,v,g);let me=this._engine.statesByElement.get(g);me||(dr(g,Hn),dr(g,Hn+"-"+v),this._engine.statesByElement.set(g,me=new Map));let ke=me.get(v);const Xe=new Bo(M,this.id);if(!(M&&M.hasOwnProperty("value"))&&ke&&Xe.absorbOptions(ke.options),me.set(v,Xe),ke||(ke=Js),Xe.value!==Vs&&ke.value===Xe.value){if(!function Zs(O,g){const v=Object.keys(O),M=Object.keys(g);if(v.length!=M.length)return!1;for(let x=0;x<v.length;x++){const H=v[x];if(!g.hasOwnProperty(H)||O[H]!==g[H])return!1}return!0}(ke.params,Xe.params)){const Ct=[],Mn=H.matchStyles(ke.value,ke.params,Ct),Ei=H.matchStyles(Xe.value,Xe.params,Ct);Ct.length?this._engine.reportError(Ct):this._engine.afterFlush(()=>{us(g,Mn),ss(g,Ei)})}return}const Tn=Sn(this._engine.playersByElement,g,[]);Tn.forEach(Ct=>{Ct.namespaceId==this.id&&Ct.triggerName==v&&Ct.queued&&Ct.destroy()});let En=H.matchTransition(ke.value,Xe.value,g,Xe.params),dn=!1;if(!En){if(!x)return;En=H.fallbackTransition,dn=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:g,triggerName:v,transition:En,fromState:ke,toState:Xe,player:le,isFallbackTransition:dn}),dn||(dr(g,So),le.onStart(()=>{js(g,So)})),le.onDone(()=>{let Ct=this.players.indexOf(le);Ct>=0&&this.players.splice(Ct,1);const Mn=this._engine.playersByElement.get(g);if(Mn){let Ei=Mn.indexOf(le);Ei>=0&&Mn.splice(Ei,1)}}),this.players.push(le),Tn.push(le),le}deregister(g){this._triggers.delete(g),this._engine.statesByElement.forEach(v=>v.delete(g)),this._elementListeners.forEach((v,M)=>{this._elementListeners.set(M,v.filter(x=>x.name!=g))})}clearElementCache(g){this._engine.statesByElement.delete(g),this._elementListeners.delete(g);const v=this._engine.playersByElement.get(g);v&&(v.forEach(M=>M.destroy()),this._engine.playersByElement.delete(g))}_signalRemovalForInnerTriggers(g,v){const M=this._engine.driver.query(g,Vn,!0);M.forEach(x=>{if(x[or])return;const H=this._engine.fetchNamespacesByElement(x);H.size?H.forEach(le=>le.triggerLeaveAnimation(x,v,!1,!0)):this.clearElementCache(x)}),this._engine.afterFlushAnimationsDone(()=>M.forEach(x=>this.clearElementCache(x)))}triggerLeaveAnimation(g,v,M,x){const H=this._engine.statesByElement.get(g),le=new Map;if(H){const me=[];if(H.forEach((ke,Xe)=>{if(le.set(Xe,ke.value),this._triggers.has(Xe)){const Pt=this.trigger(g,Xe,Vs,x);Pt&&me.push(Pt)}}),me.length)return this._engine.markElementAsRemoved(this.id,g,!0,v,le),M&&Et(me).onDone(()=>this._engine.processLeaveNode(g)),!0}return!1}prepareLeaveAnimationListeners(g){const v=this._elementListeners.get(g),M=this._engine.statesByElement.get(g);if(v&&M){const x=new Set;v.forEach(H=>{const le=H.name;if(x.has(le))return;x.add(le);const ke=this._triggers.get(le).fallbackTransition,Xe=M.get(le)||Js,Pt=new Bo(Vs),Tt=new fo(this.id,le,g);this._engine.totalQueuedPlayers++,this._queue.push({element:g,triggerName:le,transition:ke,fromState:Xe,toState:Pt,player:Tt,isFallbackTransition:!0})})}}removeNode(g,v){const M=this._engine;if(g.childElementCount&&this._signalRemovalForInnerTriggers(g,v),this.triggerLeaveAnimation(g,v,!0))return;let x=!1;if(M.totalAnimations){const H=M.players.length?M.playersByQueriedElement.get(g):[];if(H&&H.length)x=!0;else{let le=g;for(;le=le.parentNode;)if(M.statesByElement.get(le)){x=!0;break}}}if(this.prepareLeaveAnimationListeners(g),x)M.markElementAsRemoved(this.id,g,!1,v);else{const H=g[or];(!H||H===Hr)&&(M.afterFlush(()=>this.clearElementCache(g)),M.destroyInnerAnimations(g),M._onRemovalComplete(g,v))}}insertNode(g,v){dr(g,this._hostClassName)}drainQueuedTransitions(g){const v=[];return this._queue.forEach(M=>{const x=M.player;if(x.destroyed)return;const H=M.element,le=this._elementListeners.get(H);le&&le.forEach(me=>{if(me.name==M.triggerName){const ke=Bn(H,M.triggerName,M.fromState.value,M.toState.value);ke._data=g,en(M.player,me.phase,ke,me.callback)}}),x.markedForDestroy?this._engine.afterFlush(()=>{x.destroy()}):v.push(M)}),this._queue=[],v.sort((M,x)=>{const H=M.transition.ast.depCount,le=x.transition.ast.depCount;return 0==H||0==le?H-le:this._engine.driver.containsElement(M.element,x.element)?1:-1})}destroy(g){this.players.forEach(v=>v.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,g)}}class ea{_onRemovalComplete(g,v){this.onRemovalComplete(g,v)}constructor(g,v,M){this.bodyNode=g,this.driver=v,this._normalizer=M,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(x,H)=>{}}get queuedPlayers(){const g=[];return this._namespaceList.forEach(v=>{v.players.forEach(M=>{M.queued&&g.push(M)})}),g}createNamespace(g,v){const M=new Bs(g,v,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,v)?this._balanceNamespaceList(M,v):(this.newHostElements.set(v,M),this.collectEnterElement(v)),this._namespaceLookup[g]=M}_balanceNamespaceList(g,v){const M=this._namespaceList,x=this.namespacesByHostElement;if(M.length-1>=0){let le=!1,me=this.driver.getParentElement(v);for(;me;){const ke=x.get(me);if(ke){const Xe=M.indexOf(ke);M.splice(Xe+1,0,g),le=!0;break}me=this.driver.getParentElement(me)}le||M.unshift(g)}else M.push(g);return x.set(v,g),g}register(g,v){let M=this._namespaceLookup[g];return M||(M=this.createNamespace(g,v)),M}registerTrigger(g,v,M){let x=this._namespaceLookup[g];x&&x.register(v,M)&&this.totalAnimations++}destroy(g,v){g&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const M=this._fetchNamespace(g);this.namespacesByHostElement.delete(M.hostElement);const x=this._namespaceList.indexOf(M);x>=0&&this._namespaceList.splice(x,1),M.destroy(v),delete this._namespaceLookup[g]}))}_fetchNamespace(g){return this._namespaceLookup[g]}fetchNamespacesByElement(g){const v=new Set,M=this.statesByElement.get(g);if(M)for(let x of M.values())if(x.namespaceId){const H=this._fetchNamespace(x.namespaceId);H&&v.add(H)}return v}trigger(g,v,M,x){if(vi(v)){const H=this._fetchNamespace(g);if(H)return H.trigger(v,M,x),!0}return!1}insertNode(g,v,M,x){if(!vi(v))return;const H=v[or];if(H&&H.setForRemoval){H.setForRemoval=!1,H.setForMove=!0;const le=this.collectedLeaveElements.indexOf(v);le>=0&&this.collectedLeaveElements.splice(le,1)}if(g){const le=this._fetchNamespace(g);le&&le.insertNode(v,M)}x&&this.collectEnterElement(v)}collectEnterElement(g){this.collectedEnterElements.push(g)}markElementAsDisabled(g,v){v?this.disabledNodes.has(g)||(this.disabledNodes.add(g),dr(g,Jo)):this.disabledNodes.has(g)&&(this.disabledNodes.delete(g),js(g,Jo))}removeNode(g,v,M){if(vi(v)){const x=g?this._fetchNamespace(g):null;x?x.removeNode(v,M):this.markElementAsRemoved(g,v,!1,M);const H=this.namespacesByHostElement.get(v);H&&H.id!==g&&H.removeNode(v,M)}else this._onRemovalComplete(v,M)}markElementAsRemoved(g,v,M,x,H){this.collectedLeaveElements.push(v),v[or]={namespaceId:g,setForRemoval:x,hasAnimation:M,removedBeforeQueried:!1,previousTriggersValues:H}}listen(g,v,M,x,H){return vi(v)?this._fetchNamespace(g).listen(v,M,x,H):()=>{}}_buildInstruction(g,v,M,x,H){return g.transition.build(this.driver,g.element,g.fromState.value,g.toState.value,M,x,g.fromState.options,g.toState.options,v,H)}destroyInnerAnimations(g){let v=this.driver.query(g,Vn,!0);v.forEach(M=>this.destroyActiveAnimationsForElement(M)),0!=this.playersByQueriedElement.size&&(v=this.driver.query(g,as,!0),v.forEach(M=>this.finishActiveQueriedAnimationOnElement(M)))}destroyActiveAnimationsForElement(g){const v=this.playersByElement.get(g);v&&v.forEach(M=>{M.queued?M.markedForDestroy=!0:M.destroy()})}finishActiveQueriedAnimationOnElement(g){const v=this.playersByQueriedElement.get(g);v&&v.forEach(M=>M.finish())}whenRenderingDone(){return new Promise(g=>{if(this.players.length)return Et(this.players).onDone(()=>g());g()})}processLeaveNode(g){const v=g[or];if(v&&v.setForRemoval){if(g[or]=Hr,v.namespaceId){this.destroyInnerAnimations(g);const M=this._fetchNamespace(v.namespaceId);M&&M.clearElementCache(g)}this._onRemovalComplete(g,v.setForRemoval)}g.classList?.contains(Jo)&&this.markElementAsDisabled(g,!1),this.driver.query(g,".ng-animate-disabled",!0).forEach(M=>{this.markElementAsDisabled(M,!1)})}flush(g=-1){let v=[];if(this.newHostElements.size&&(this.newHostElements.forEach((M,x)=>this._balanceNamespaceList(M,x)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let M=0;M<this.collectedEnterElements.length;M++)dr(this.collectedEnterElements[M],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const M=[];try{v=this._flushAnimations(M,g)}finally{for(let x=0;x<M.length;x++)M[x]()}}else for(let M=0;M<this.collectedLeaveElements.length;M++)this.processLeaveNode(this.collectedLeaveElements[M]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(M=>M()),this._flushFns=[],this._whenQuietFns.length){const M=this._whenQuietFns;this._whenQuietFns=[],v.length?Et(v).onDone(()=>{M.forEach(x=>x())}):M.forEach(x=>x())}}reportError(g){throw function ce(O){return new It.wOt(3402,!1)}()}_flushAnimations(g,v){const M=new $r,x=[],H=new Map,le=[],me=new Map,ke=new Map,Xe=new Map,Pt=new Set;this.disabledNodes.forEach(xt=>{Pt.add(xt);const fn=this.driver.query(xt,".ng-animate-queued",!0);for(let nn=0;nn<fn.length;nn++)Pt.add(fn[nn])});const Tt=this.bodyNode,Tn=Array.from(this.statesByElement.keys()),En=po(Tn,this.collectedEnterElements),dn=new Map;let Ct=0;En.forEach((xt,fn)=>{const nn=yt+Ct++;dn.set(fn,nn),xt.forEach(Fn=>dr(Fn,nn))});const Mn=[],Ei=new Set,Nt=new Set;for(let xt=0;xt<this.collectedLeaveElements.length;xt++){const fn=this.collectedLeaveElements[xt],nn=fn[or];nn&&nn.setForRemoval&&(Mn.push(fn),Ei.add(fn),nn.hasAnimation?this.driver.query(fn,".ng-star-inserted",!0).forEach(Fn=>Ei.add(Fn)):Nt.add(fn))}const Li=new Map,rr=po(Tn,Array.from(Ei));rr.forEach((xt,fn)=>{const nn=tn+Ct++;Li.set(fn,nn),xt.forEach(Fn=>dr(Fn,nn))}),g.push(()=>{En.forEach((xt,fn)=>{const nn=dn.get(fn);xt.forEach(Fn=>js(Fn,nn))}),rr.forEach((xt,fn)=>{const nn=Li.get(fn);xt.forEach(Fn=>js(Fn,nn))}),Mn.forEach(xt=>{this.processLeaveNode(xt)})});const Or=[],Bt=[];for(let xt=this._namespaceList.length-1;xt>=0;xt--)this._namespaceList[xt].drainQueuedTransitions(v).forEach(nn=>{const Fn=nn.player,wi=nn.element;if(Or.push(Fn),this.collectedEnterElements.length){const Pe=wi[or];if(Pe&&Pe.setForMove){if(Pe.previousTriggersValues&&Pe.previousTriggersValues.has(nn.triggerName)){const Cs=Pe.previousTriggersValues.get(nn.triggerName),hr=this.statesByElement.get(nn.element);if(hr&&hr.has(nn.triggerName)){const E=hr.get(nn.triggerName);E.value=Cs,hr.set(nn.triggerName,E)}}return void Fn.destroy()}}const ti=!Tt||!this.driver.containsElement(Tt,wi),ps=Li.get(wi),mo=dn.get(wi),ni=this._buildInstruction(nn,M,mo,ps,ti);if(ni.errors&&ni.errors.length)return void Bt.push(ni);if(ti)return Fn.onStart(()=>us(wi,ni.fromStyles)),Fn.onDestroy(()=>ss(wi,ni.toStyles)),void x.push(Fn);if(nn.isFallbackTransition)return Fn.onStart(()=>us(wi,ni.fromStyles)),Fn.onDestroy(()=>ss(wi,ni.toStyles)),void x.push(Fn);const ri=[];ni.timelines.forEach(Pe=>{Pe.stretchStartingKeyframe=!0,this.disabledNodes.has(Pe.element)||ri.push(Pe)}),ni.timelines=ri,M.append(wi,ni.timelines),le.push({instruction:ni,player:Fn,element:wi}),ni.queriedElements.forEach(Pe=>Sn(me,Pe,[]).push(Fn)),ni.preStyleProps.forEach((Pe,Cs)=>{if(Pe.size){let hr=ke.get(Cs);hr||ke.set(Cs,hr=new Set),Pe.forEach((E,S)=>hr.add(S))}}),ni.postStyleProps.forEach((Pe,Cs)=>{let hr=Xe.get(Cs);hr||Xe.set(Cs,hr=new Set),Pe.forEach((E,S)=>hr.add(S))})});if(Bt.length){const xt=[];Bt.forEach(fn=>{xt.push(function Me(O,g){return new It.wOt(3505,!1)}())}),Or.forEach(fn=>fn.destroy()),this.reportError(xt)}const Ui=new Map,jn=new Map;le.forEach(xt=>{const fn=xt.element;M.has(fn)&&(jn.set(fn,fn),this._beforeAnimationBuild(xt.player.namespaceId,xt.instruction,Ui))}),x.forEach(xt=>{const fn=xt.element;this._getPreviousPlayers(fn,!1,xt.namespaceId,xt.triggerName,null).forEach(Fn=>{Sn(Ui,fn,[]).push(Fn),Fn.destroy()})});const eo=Mn.filter(xt=>ta(xt,ke,Xe)),Cr=new Map;ns(Cr,this.driver,Nt,Xe,on).forEach(xt=>{ta(xt,ke,Xe)&&eo.push(xt)});const ct=new Map;En.forEach((xt,fn)=>{ns(ct,this.driver,new Set(xt),ke,"!")}),eo.forEach(xt=>{const fn=Cr.get(xt),nn=ct.get(xt);Cr.set(xt,new Map([...fn?.entries()??[],...nn?.entries()??[]]))});const Rn=[],to=[],Wa={};le.forEach(xt=>{const{element:fn,player:nn,instruction:Fn}=xt;if(M.has(fn)){if(Pt.has(fn))return nn.onDestroy(()=>ss(fn,Fn.toStyles)),nn.disabled=!0,nn.overrideTotalTime(Fn.totalTime),void x.push(nn);let wi=Wa;if(jn.size>1){let ps=fn;const mo=[];for(;ps=ps.parentNode;){const ni=jn.get(ps);if(ni){wi=ni;break}mo.push(ps)}mo.forEach(ni=>jn.set(ni,wi))}const ti=this._buildAnimation(nn.namespaceId,Fn,Ui,H,ct,Cr);if(nn.setRealPlayer(ti),wi===Wa)Rn.push(nn);else{const ps=this.playersByElement.get(wi);ps&&ps.length&&(nn.parentPlayer=Et(ps)),x.push(nn)}}else us(fn,Fn.fromStyles),nn.onDestroy(()=>ss(fn,Fn.toStyles)),to.push(nn),Pt.has(fn)&&x.push(nn)}),to.forEach(xt=>{const fn=H.get(xt.element);if(fn&&fn.length){const nn=Et(fn);xt.setRealPlayer(nn)}}),x.forEach(xt=>{xt.parentPlayer?xt.syncPlayerEvents(xt.parentPlayer):xt.destroy()});for(let xt=0;xt<Mn.length;xt++){const fn=Mn[xt],nn=fn[or];if(js(fn,tn),nn&&nn.hasAnimation)continue;let Fn=[];if(me.size){let ti=me.get(fn);ti&&ti.length&&Fn.push(...ti);let ps=this.driver.query(fn,as,!0);for(let mo=0;mo<ps.length;mo++){let ni=me.get(ps[mo]);ni&&ni.length&&Fn.push(...ni)}}const wi=Fn.filter(ti=>!ti.destroyed);wi.length?nr(this,fn,wi):this.processLeaveNode(fn)}return Mn.length=0,Rn.forEach(xt=>{this.players.push(xt),xt.onDone(()=>{xt.destroy();const fn=this.players.indexOf(xt);this.players.splice(fn,1)}),xt.play()}),Rn}afterFlush(g){this._flushFns.push(g)}afterFlushAnimationsDone(g){this._whenQuietFns.push(g)}_getPreviousPlayers(g,v,M,x,H){let le=[];if(v){const me=this.playersByQueriedElement.get(g);me&&(le=me)}else{const me=this.playersByElement.get(g);if(me){const ke=!H||H==Vs;me.forEach(Xe=>{Xe.queued||!ke&&Xe.triggerName!=x||le.push(Xe)})}}return(M||x)&&(le=le.filter(me=>!(M&&M!=me.namespaceId||x&&x!=me.triggerName))),le}_beforeAnimationBuild(g,v,M){const H=v.element,le=v.isRemovalTransition?void 0:g,me=v.isRemovalTransition?void 0:v.triggerName;for(const ke of v.timelines){const Xe=ke.element,Pt=Xe!==H,Tt=Sn(M,Xe,[]);this._getPreviousPlayers(Xe,Pt,le,me,v.toState).forEach(En=>{const dn=En.getRealPlayer();dn.beforeDestroy&&dn.beforeDestroy(),En.destroy(),Tt.push(En)})}us(H,v.fromStyles)}_buildAnimation(g,v,M,x,H,le){const me=v.triggerName,ke=v.element,Xe=[],Pt=new Set,Tt=new Set,Tn=v.timelines.map(dn=>{const Ct=dn.element;Pt.add(Ct);const Mn=Ct[or];if(Mn&&Mn.removedBeforeQueried)return new On(dn.duration,dn.delay);const Ei=Ct!==ke,Nt=function Fu(O){const g=[];return Ia(O,g),g}((M.get(Ct)||Zo).map(Ui=>Ui.getRealPlayer())).filter(Ui=>!!Ui.element&&Ui.element===Ct),Li=H.get(Ct),rr=le.get(Ct),Or=st(this._normalizer,dn.keyframes,Li,rr),Bt=this._buildPlayer(dn,Or,Nt);if(dn.subTimeline&&x&&Tt.add(Ct),Ei){const Ui=new fo(g,me,Ct);Ui.setRealPlayer(Bt),Xe.push(Ui)}return Bt});Xe.forEach(dn=>{Sn(this.playersByQueriedElement,dn.element,[]).push(dn),dn.onDone(()=>function yi(O,g,v){let M=O.get(g);if(M){if(M.length){const x=M.indexOf(v);M.splice(x,1)}0==M.length&&O.delete(g)}return M}(this.playersByQueriedElement,dn.element,dn))}),Pt.forEach(dn=>dr(dn,Gn));const En=Et(Tn);return En.onDestroy(()=>{Pt.forEach(dn=>js(dn,Gn)),ss(ke,v.toStyles)}),Tt.forEach(dn=>{Sn(x,dn,[]).push(En)}),En}_buildPlayer(g,v,M){return v.length>0?this.driver.animate(g.element,v,g.duration,g.delay,g.easing,M):new On(g.duration,g.delay)}}class fo{constructor(g,v,M){this.namespaceId=g,this.triggerName=v,this.element=M,this._player=new On,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(g){this._containsRealPlayer||(this._player=g,this._queuedCallbacks.forEach((v,M)=>{v.forEach(x=>en(g,M,void 0,x))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(g.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(g){this.totalTime=g}syncPlayerEvents(g){const v=this._player;v.triggerCallback&&g.onStart(()=>v.triggerCallback("start")),g.onDone(()=>this.finish()),g.onDestroy(()=>this.destroy())}_queueEvent(g,v){Sn(this._queuedCallbacks,g,[]).push(v)}onDone(g){this.queued&&this._queueEvent("done",g),this._player.onDone(g)}onStart(g){this.queued&&this._queueEvent("start",g),this._player.onStart(g)}onDestroy(g){this.queued&&this._queueEvent("destroy",g),this._player.onDestroy(g)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(g){this.queued||this._player.setPosition(g)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(g){const v=this._player;v.triggerCallback&&v.triggerCallback(g)}}function vi(O){return O&&1===O.nodeType}function wa(O,g){const v=O.style.display;return O.style.display=g??"none",v}function ns(O,g,v,M,x){const H=[];v.forEach(ke=>H.push(wa(ke)));const le=[];M.forEach((ke,Xe)=>{const Pt=new Map;ke.forEach(Tt=>{const Tn=g.computeStyle(Xe,Tt,x);Pt.set(Tt,Tn),(!Tn||0==Tn.length)&&(Xe[or]=ks,le.push(Xe))}),O.set(Xe,Pt)});let me=0;return v.forEach(ke=>wa(ke,H[me++])),le}function po(O,g){const v=new Map;if(O.forEach(me=>v.set(me,[])),0==g.length)return v;const x=new Set(g),H=new Map;function le(me){if(!me)return 1;let ke=H.get(me);if(ke)return ke;const Xe=me.parentNode;return ke=v.has(Xe)?Xe:x.has(Xe)?1:le(Xe),H.set(me,ke),ke}return g.forEach(me=>{const ke=le(me);1!==ke&&v.get(ke).push(me)}),v}function dr(O,g){O.classList?.add(g)}function js(O,g){O.classList?.remove(g)}function nr(O,g,v){Et(v).onDone(()=>O.processLeaveNode(g))}function Ia(O,g){for(let v=0;v<O.length;v++){const M=O[v];M instanceof pr?Ia(M.players,g):g.push(M)}}function ta(O,g,v){const M=v.get(O);if(!M)return!1;let x=g.get(O);return x?M.forEach(H=>x.add(H)):g.set(O,M),v.delete(O),!0}class jo{constructor(g,v,M){this.bodyNode=g,this._driver=v,this._normalizer=M,this._triggerCache={},this.onRemovalComplete=(x,H)=>{},this._transitionEngine=new ea(g,v,M),this._timelineEngine=new Xo(g,v,M),this._transitionEngine.onRemovalComplete=(x,H)=>this.onRemovalComplete(x,H)}registerTrigger(g,v,M,x,H){const le=g+"-"+x;let me=this._triggerCache[le];if(!me){const ke=[],Pt=ui(this._driver,H,ke,[]);if(ke.length)throw function tt(O,g){return new It.wOt(3404,!1)}();me=function Ys(O,g,v){return new hs(O,g,v)}(x,Pt,this._normalizer),this._triggerCache[le]=me}this._transitionEngine.registerTrigger(v,x,me)}register(g,v){this._transitionEngine.register(g,v)}destroy(g,v){this._transitionEngine.destroy(g,v)}onInsert(g,v,M,x){this._transitionEngine.insertNode(g,v,M,x)}onRemove(g,v,M){this._transitionEngine.removeNode(g,v,M)}disableAnimations(g,v){this._transitionEngine.markElementAsDisabled(g,v)}process(g,v,M,x){if("@"==M.charAt(0)){const[H,le]=mi(M);this._timelineEngine.command(H,v,le,x)}else this._transitionEngine.trigger(g,v,M,x)}listen(g,v,M,x,H){if("@"==M.charAt(0)){const[le,me]=mi(M);return this._timelineEngine.listen(le,v,me,H)}return this._transitionEngine.listen(g,v,M,x,H)}flush(g=-1){this._transitionEngine.flush(g)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(g){this._transitionEngine.afterFlushAnimationsDone(g)}}let Ra=(()=>{class O{static{this.initialStylesByElement=new WeakMap}constructor(v,M,x){this._element=v,this._startStyles=M,this._endStyles=x,this._state=0;let H=O.initialStylesByElement.get(v);H||O.initialStylesByElement.set(v,H=new Map),this._initialStyles=H}start(){this._state<1&&(this._startStyles&&ss(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(ss(this._element,this._initialStyles),this._endStyles&&(ss(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(O.initialStylesByElement.delete(this._element),this._startStyles&&(us(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(us(this._element,this._endStyles),this._endStyles=null),ss(this._element,this._initialStyles),this._state=3)}}return O})();function Mo(O){let g=null;return O.forEach((v,M)=>{(function $s(O){return"display"===O||"position"===O})(M)&&(g=g||new Map,g.set(M,v))}),g}class Is{constructor(g,v,M,x){this.element=g,this.keyframes=v,this.options=M,this._specialStyles=x,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=M.duration,this._delay=M.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(g=>g()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const g=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,g,this.options),this._finalKeyframe=g.length?g[g.length-1]:new Map;const v=()=>this._onFinish();this.domPlayer.addEventListener("finish",v),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",v)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(g){const v=[];return g.forEach(M=>{v.push(Object.fromEntries(M))}),v}_triggerWebAnimation(g,v,M){return g.animate(this._convertKeyframesToObject(v),M)}onStart(g){this._originalOnStartFns.push(g),this._onStartFns.push(g)}onDone(g){this._originalOnDoneFns.push(g),this._onDoneFns.push(g)}onDestroy(g){this._onDestroyFns.push(g)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(g=>g()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(g=>g()),this._onDestroyFns=[])}setPosition(g){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=g*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const g=new Map;this.hasStarted()&&this._finalKeyframe.forEach((M,x)=>{"offset"!==x&&g.set(x,this._finished?M:an(this.element,x))}),this.currentSnapshot=g}triggerCallback(g){const v="start"===g?this._onStartFns:this._onDoneFns;v.forEach(M=>M()),v.length=0}}class _i{validateStyleProperty(g){return!0}validateAnimatableStyleProperty(g){return!0}matchesElement(g,v){return!1}containsElement(g,v){return qr(g,v)}getParentElement(g){return Un(g)}query(g,v,M){return qi(g,v,M)}computeStyle(g,v,M){return window.getComputedStyle(g)[v]}animate(g,v,M,x,H,le=[]){const ke={duration:M,delay:x,fill:0==x?"both":"forwards"};H&&(ke.easing=H);const Xe=new Map,Pt=le.filter(En=>En instanceof Is);(function ws(O,g){return 0===O||0===g})(M,x)&&Pt.forEach(En=>{En.currentSnapshot.forEach((dn,Ct)=>Xe.set(Ct,dn))});let Tt=function Lo(O){return O.length?O[0]instanceof Map?O:O.map(g=>Eo(g)):[]}(v).map(En=>Qr(En));Tt=function mr(O,g,v){if(v.size&&g.length){let M=g[0],x=[];if(v.forEach((H,le)=>{M.has(le)||x.push(le),M.set(le,H)}),x.length)for(let H=1;H<g.length;H++){let le=g[H];x.forEach(me=>le.set(me,an(O,me)))}}return g}(g,Tt,Xe);const Tn=function Fs(O,g){let v=null,M=null;return Array.isArray(g)&&g.length?(v=Mo(g[0]),g.length>1&&(M=Mo(g[g.length-1]))):g instanceof Map&&(v=Mo(g)),v||M?new Ra(O,v,M):null}(g,Tt);return new Is(g,Tt,ke,Tn)}}var go=B(177);let D=(()=>{class O extends bn{constructor(v,M){super(),this._nextAnimationId=0,this._renderer=v.createRenderer(M.body,{id:"0",encapsulation:It.gXe.None,styles:[],data:{animation:[]}})}build(v){const M=this._nextAnimationId.toString();this._nextAnimationId++;const x=Array.isArray(v)?fr(v):v;return j(this._renderer,null,M,"register",[x]),new z(M,this._renderer)}static{this.\u0275fac=function(M){return new(M||O)(It.KVO(It._9s),It.KVO(go.qQ))}}static{this.\u0275prov=It.jDH({token:O,factory:O.\u0275fac})}}return O})();class z extends Ot{constructor(g,v){super(),this._id=g,this._renderer=v}create(g,v){return new P(this._id,g,v||{},this._renderer)}}class P{constructor(g,v,M,x){this.id=g,this.element=v,this._renderer=x,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",M)}_listen(g,v){return this._renderer.listen(this.element,`@@${this.id}:${g}`,v)}_command(g,...v){return j(this._renderer,this.element,this.id,g,v)}onDone(g){this._listen("done",g)}onStart(g){this._listen("start",g)}onDestroy(g){this._listen("destroy",g)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(g){this._command("setPosition",g)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function j(O,g,v,M,x){return O.setProperty(g,`@@${v}:${M}`,x)}const Qe="@.disabled";let ot=(()=>{class O{constructor(v,M,x){this.delegate=v,this.engine=M,this._zone=x,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,M.onRemovalComplete=(H,le)=>{const me=le?.parentNode(H);me&&le.removeChild(me,H)}}createRenderer(v,M){const H=this.delegate.createRenderer(v,M);if(!(v&&M&&M.data&&M.data.animation)){let Pt=this._rendererCache.get(H);return Pt||(Pt=new Gt("",H,this.engine,()=>this._rendererCache.delete(H)),this._rendererCache.set(H,Pt)),Pt}const le=M.id,me=M.id+"-"+this._currentId;this._currentId++,this.engine.register(me,v);const ke=Pt=>{Array.isArray(Pt)?Pt.forEach(ke):this.engine.registerTrigger(le,me,v,Pt.name,Pt)};return M.data.animation.forEach(ke),new yr(this,me,H,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(v,M,x){v>=0&&v<this._microtaskId?this._zone.run(()=>M(x)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(H=>{const[le,me]=H;le(me)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([M,x]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static{this.\u0275fac=function(M){return new(M||O)(It.KVO(It._9s),It.KVO(jo),It.KVO(It.SKi))}}static{this.\u0275prov=It.jDH({token:O,factory:O.\u0275fac})}}return O})();class Gt{constructor(g,v,M,x){this.namespaceId=g,this.delegate=v,this.engine=M,this._onDestroy=x}get data(){return this.delegate.data}destroyNode(g){this.delegate.destroyNode?.(g)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(g,v){return this.delegate.createElement(g,v)}createComment(g){return this.delegate.createComment(g)}createText(g){return this.delegate.createText(g)}appendChild(g,v){this.delegate.appendChild(g,v),this.engine.onInsert(this.namespaceId,v,g,!1)}insertBefore(g,v,M,x=!0){this.delegate.insertBefore(g,v,M),this.engine.onInsert(this.namespaceId,v,g,x)}removeChild(g,v,M){this.engine.onRemove(this.namespaceId,v,this.delegate)}selectRootElement(g,v){return this.delegate.selectRootElement(g,v)}parentNode(g){return this.delegate.parentNode(g)}nextSibling(g){return this.delegate.nextSibling(g)}setAttribute(g,v,M,x){this.delegate.setAttribute(g,v,M,x)}removeAttribute(g,v,M){this.delegate.removeAttribute(g,v,M)}addClass(g,v){this.delegate.addClass(g,v)}removeClass(g,v){this.delegate.removeClass(g,v)}setStyle(g,v,M,x){this.delegate.setStyle(g,v,M,x)}removeStyle(g,v,M){this.delegate.removeStyle(g,v,M)}setProperty(g,v,M){"@"==v.charAt(0)&&v==Qe?this.disableAnimations(g,!!M):this.delegate.setProperty(g,v,M)}setValue(g,v){this.delegate.setValue(g,v)}listen(g,v,M){return this.delegate.listen(g,v,M)}disableAnimations(g,v){this.engine.disableAnimations(g,v)}}class yr extends Gt{constructor(g,v,M,x,H){super(v,M,x,H),this.factory=g,this.namespaceId=v}setProperty(g,v,M){"@"==v.charAt(0)?"."==v.charAt(1)&&v==Qe?this.disableAnimations(g,M=void 0===M||!!M):this.engine.process(this.namespaceId,g,v.slice(1),M):this.delegate.setProperty(g,v,M)}listen(g,v,M){if("@"==v.charAt(0)){const x=function xr(O){switch(O){case"body":return document.body;case"document":return document;case"window":return window;default:return O}}(g);let H=v.slice(1),le="";return"@"!=H.charAt(0)&&([H,le]=function Zn(O){const g=O.indexOf(".");return[O.substring(0,g),O.slice(g+1)]}(H)),this.engine.listen(this.namespaceId,x,H,le,me=>{this.factory.scheduleListenerCallback(me._data||-1,M,me)})}return this.delegate.listen(g,v,M)}}const di=[{provide:bn,useClass:D},{provide:Xs,useFactory:function Fr(){return new za}},{provide:jo,useClass:(()=>{class O extends jo{constructor(v,M,x,H){super(v.body,M,x)}ngOnDestroy(){this.flush()}static{this.\u0275fac=function(M){return new(M||O)(It.KVO(go.qQ),It.KVO(Ee),It.KVO(Xs),It.KVO(It.o8S))}}static{this.\u0275prov=It.jDH({token:O,factory:O.\u0275fac})}}return O})()},{provide:It._9s,useFactory:function Tr(O,g,v){return new ot(O,g,v)},deps:[C.B7,jo,It.SKi]}],Fi=[{provide:Ee,useFactory:()=>new _i},{provide:It.bc$,useValue:"BrowserAnimations"},...di],Ds=[{provide:Ee,useClass:uo},{provide:It.bc$,useValue:"NoopAnimations"},...di];let ar=(()=>{class O{static withConfig(v){return{ngModule:O,providers:v.disableAnimations?Ds:Fi}}static{this.\u0275fac=function(M){return new(M||O)}}static{this.\u0275mod=It.$C({type:O})}static{this.\u0275inj=It.G2t({providers:Fi,imports:[C.Bb]})}}return O})();var Ro=B(1626),ft=B(6697),sn=B(4796);let Ts=(()=>{class O{constructor(v){this.auth=v,console.log("Auth Token Initiated")}intercept(v,M){return this.auth.getIdToken().pipe((0,ft.s)(1),(0,J.n)(x=>{if(!x)return M.handle(v);console.log(x);const H=v.clone({setHeaders:{Authorization:`Bearer ${x}`}});return M.handle(H)}))}static{this.\u0275fac=function(M){return new(M||O)(It.KVO(sn.u))}}static{this.\u0275prov=It.jDH({token:O,factory:O.\u0275fac})}}return O})(),na=(()=>{class O{static{this.\u0275fac=function(M){return new(M||O)}}static{this.\u0275mod=It.$C({type:O,bootstrap:[Je]})}static{this.\u0275inj=It.G2t({providers:[{provide:Ro.a7,useClass:Ts,multi:!0}],imports:[C.Bb,Ve,Ro.q1,(0,ze.MW)(()=>(0,ze.Wp)(it_firebase)),(0,ht._q)(()=>(0,ht.xI)()),(0,Dt.hV)(()=>(0,Dt.aU)()),ar]})}}return O})();C.sG().bootstrapModule(na).catch(O=>console.error(O))},4412:(Vt,je,B)=>{B.d(je,{t:()=>se});var C=B(1413);class se extends C.B{constructor(_e){super(),this._value=_e}get value(){return this.getValue()}_subscribe(_e){const fe=super._subscribe(_e);return!fe.closed&&_e.next(this._value),fe}getValue(){const{hasError:_e,thrownError:fe,_value:J}=this;if(_e)throw fe;return this._throwIfClosed(),J}next(_e){super.next(this._value=_e)}}},1985:(Vt,je,B)=>{B.d(je,{c:()=>Ae});var C=B(7707),se=B(8359),he=B(3494),_e=B(1203),fe=B(1026),J=B(8071),ee=B(9786);let Ae=(()=>{class Re{constructor(Ie){Ie&&(this._subscribe=Ie)}lift(Ie){const pt=new Re;return pt.source=this,pt.operator=Ie,pt}subscribe(Ie,pt,$e){const jt=function ae(Re){return Re&&Re instanceof C.vU||function ne(Re){return Re&&(0,J.T)(Re.next)&&(0,J.T)(Re.error)&&(0,J.T)(Re.complete)}(Re)&&(0,se.Uv)(Re)}(Ie)?Ie:new C.Ms(Ie,pt,$e);return(0,ee.Y)(()=>{const{operator:Lt,source:xn}=this;jt.add(Lt?Lt.call(jt,xn):xn?this._subscribe(jt):this._trySubscribe(jt))}),jt}_trySubscribe(Ie){try{return this._subscribe(Ie)}catch(pt){Ie.error(pt)}}forEach(Ie,pt){return new(pt=Ue(pt))(($e,jt)=>{const Lt=new C.Ms({next:xn=>{try{Ie(xn)}catch(Dn){jt(Dn),Lt.unsubscribe()}},error:jt,complete:$e});this.subscribe(Lt)})}_subscribe(Ie){var pt;return null===(pt=this.source)||void 0===pt?void 0:pt.subscribe(Ie)}[he.s](){return this}pipe(...Ie){return(0,_e.m)(Ie)(this)}toPromise(Ie){return new(Ie=Ue(Ie))((pt,$e)=>{let jt;this.subscribe(Lt=>jt=Lt,Lt=>$e(Lt),()=>pt(jt))})}}return Re.create=Ke=>new Re(Ke),Re})();function Ue(Re){var Ke;return null!==(Ke=Re??fe.$.Promise)&&void 0!==Ke?Ke:Promise}},1413:(Vt,je,B)=>{B.d(je,{B:()=>ee});var C=B(1985),se=B(8359);const _e=(0,B(1853).L)(Ue=>function(){Ue(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var fe=B(7908),J=B(9786);let ee=(()=>{class Ue extends C.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ae){const Re=new Ae(this,this);return Re.operator=ae,Re}_throwIfClosed(){if(this.closed)throw new _e}next(ae){(0,J.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Re of this.currentObservers)Re.next(ae)}})}error(ae){(0,J.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ae;const{observers:Re}=this;for(;Re.length;)Re.shift().error(ae)}})}complete(){(0,J.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ae}=this;for(;ae.length;)ae.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var ae;return(null===(ae=this.observers)||void 0===ae?void 0:ae.length)>0}_trySubscribe(ae){return this._throwIfClosed(),super._trySubscribe(ae)}_subscribe(ae){return this._throwIfClosed(),this._checkFinalizedStatuses(ae),this._innerSubscribe(ae)}_innerSubscribe(ae){const{hasError:Re,isStopped:Ke,observers:Ie}=this;return Re||Ke?se.Kn:(this.currentObservers=null,Ie.push(ae),new se.yU(()=>{this.currentObservers=null,(0,fe.o)(Ie,ae)}))}_checkFinalizedStatuses(ae){const{hasError:Re,thrownError:Ke,isStopped:Ie}=this;Re?ae.error(Ke):Ie&&ae.complete()}asObservable(){const ae=new C.c;return ae.source=this,ae}}return Ue.create=(ne,ae)=>new Ae(ne,ae),Ue})();class Ae extends ee{constructor(ne,ae){super(),this.destination=ne,this.source=ae}next(ne){var ae,Re;null===(Re=null===(ae=this.destination)||void 0===ae?void 0:ae.next)||void 0===Re||Re.call(ae,ne)}error(ne){var ae,Re;null===(Re=null===(ae=this.destination)||void 0===ae?void 0:ae.error)||void 0===Re||Re.call(ae,ne)}complete(){var ne,ae;null===(ae=null===(ne=this.destination)||void 0===ne?void 0:ne.complete)||void 0===ae||ae.call(ne)}_subscribe(ne){var ae,Re;return null!==(Re=null===(ae=this.source)||void 0===ae?void 0:ae.subscribe(ne))&&void 0!==Re?Re:se.Kn}}},7707:(Vt,je,B)=>{B.d(je,{Ms:()=>$e,vU:()=>Re});var C=B(8071),se=B(8359),he=B(1026),_e=B(5334),fe=B(5343);const J=Ue("C",void 0,void 0);function Ue(Se,at,Ne){return{kind:Se,value:at,error:Ne}}var ne=B(9270),ae=B(9786);class Re extends se.yU{constructor(at){super(),this.isStopped=!1,at?(this.destination=at,(0,se.Uv)(at)&&at.add(this)):this.destination=Dn}static create(at,Ne,et){return new $e(at,Ne,et)}next(at){this.isStopped?xn(function Ae(Se){return Ue("N",Se,void 0)}(at),this):this._next(at)}error(at){this.isStopped?xn(function ee(Se){return Ue("E",void 0,Se)}(at),this):(this.isStopped=!0,this._error(at))}complete(){this.isStopped?xn(J,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(at){this.destination.next(at)}_error(at){try{this.destination.error(at)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ke=Function.prototype.bind;function Ie(Se,at){return Ke.call(Se,at)}class pt{constructor(at){this.partialObserver=at}next(at){const{partialObserver:Ne}=this;if(Ne.next)try{Ne.next(at)}catch(et){jt(et)}}error(at){const{partialObserver:Ne}=this;if(Ne.error)try{Ne.error(at)}catch(et){jt(et)}else jt(at)}complete(){const{partialObserver:at}=this;if(at.complete)try{at.complete()}catch(Ne){jt(Ne)}}}class $e extends Re{constructor(at,Ne,et){let mt;if(super(),(0,C.T)(at)||!at)mt={next:at??void 0,error:Ne??void 0,complete:et??void 0};else{let dt;this&&he.$.useDeprecatedNextContext?(dt=Object.create(at),dt.unsubscribe=()=>this.unsubscribe(),mt={next:at.next&&Ie(at.next,dt),error:at.error&&Ie(at.error,dt),complete:at.complete&&Ie(at.complete,dt)}):mt=at}this.destination=new pt(mt)}}function jt(Se){he.$.useDeprecatedSynchronousErrorHandling?(0,ae.l)(Se):(0,_e.m)(Se)}function xn(Se,at){const{onStoppedNotification:Ne}=he.$;Ne&&ne.f.setTimeout(()=>Ne(Se,at))}const Dn={closed:!0,next:fe.l,error:function Lt(Se){throw Se},complete:fe.l}},8359:(Vt,je,B)=>{B.d(je,{Kn:()=>J,yU:()=>fe,Uv:()=>ee});var C=B(8071);const he=(0,B(1853).L)(Ue=>function(ae){Ue(this),this.message=ae?`${ae.length} errors occurred during unsubscription:\n${ae.map((Re,Ke)=>`${Ke+1}) ${Re.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ae});var _e=B(7908);class fe{constructor(ne){this.initialTeardown=ne,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let ne;if(!this.closed){this.closed=!0;const{_parentage:ae}=this;if(ae)if(this._parentage=null,Array.isArray(ae))for(const Ie of ae)Ie.remove(this);else ae.remove(this);const{initialTeardown:Re}=this;if((0,C.T)(Re))try{Re()}catch(Ie){ne=Ie instanceof he?Ie.errors:[Ie]}const{_finalizers:Ke}=this;if(Ke){this._finalizers=null;for(const Ie of Ke)try{Ae(Ie)}catch(pt){ne=ne??[],pt instanceof he?ne=[...ne,...pt.errors]:ne.push(pt)}}if(ne)throw new he(ne)}}add(ne){var ae;if(ne&&ne!==this)if(this.closed)Ae(ne);else{if(ne instanceof fe){if(ne.closed||ne._hasParent(this))return;ne._addParent(this)}(this._finalizers=null!==(ae=this._finalizers)&&void 0!==ae?ae:[]).push(ne)}}_hasParent(ne){const{_parentage:ae}=this;return ae===ne||Array.isArray(ae)&&ae.includes(ne)}_addParent(ne){const{_parentage:ae}=this;this._parentage=Array.isArray(ae)?(ae.push(ne),ae):ae?[ae,ne]:ne}_removeParent(ne){const{_parentage:ae}=this;ae===ne?this._parentage=null:Array.isArray(ae)&&(0,_e.o)(ae,ne)}remove(ne){const{_finalizers:ae}=this;ae&&(0,_e.o)(ae,ne),ne instanceof fe&&ne._removeParent(this)}}fe.EMPTY=(()=>{const Ue=new fe;return Ue.closed=!0,Ue})();const J=fe.EMPTY;function ee(Ue){return Ue instanceof fe||Ue&&"closed"in Ue&&(0,C.T)(Ue.remove)&&(0,C.T)(Ue.add)&&(0,C.T)(Ue.unsubscribe)}function Ae(Ue){(0,C.T)(Ue)?Ue():Ue.unsubscribe()}},1026:(Vt,je,B)=>{B.d(je,{$:()=>C});const C={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},4572:(Vt,je,B)=>{B.d(je,{z:()=>ne});var C=B(1985),se=B(3073),he=B(8455),_e=B(3669),fe=B(6450),J=B(9326),ee=B(8496),Ae=B(4360),Ue=B(5225);function ne(...Ke){const Ie=(0,J.lI)(Ke),pt=(0,J.ms)(Ke),{args:$e,keys:jt}=(0,se.D)(Ke);if(0===$e.length)return(0,he.H)([],Ie);const Lt=new C.c(function ae(Ke,Ie,pt=_e.D){return $e=>{Re(Ie,()=>{const{length:jt}=Ke,Lt=new Array(jt);let xn=jt,Dn=jt;for(let Se=0;Se<jt;Se++)Re(Ie,()=>{const at=(0,he.H)(Ke[Se],Ie);let Ne=!1;at.subscribe((0,Ae._)($e,et=>{Lt[Se]=et,Ne||(Ne=!0,Dn--),Dn||$e.next(pt(Lt.slice()))},()=>{--xn||$e.complete()}))},$e)},$e)}}($e,Ie,jt?xn=>(0,ee.e)(jt,xn):_e.D));return pt?Lt.pipe((0,fe.I)(pt)):Lt}function Re(Ke,Ie,pt){Ke?(0,Ue.N)(pt,Ke,Ie):Ie()}},8793:(Vt,je,B)=>{B.d(je,{x:()=>fe});var C=B(6365),he=B(9326),_e=B(8455);function fe(...J){return function se(){return(0,C.U)(1)}()((0,_e.H)(J,(0,he.lI)(J)))}},983:(Vt,je,B)=>{B.d(je,{w:()=>se});const se=new(B(1985).c)(fe=>fe.complete())},8455:(Vt,je,B)=>{B.d(je,{H:()=>at});var C=B(8750),se=B(941),he=B(6745),J=B(1985),Ae=B(4761),Ue=B(8071),ne=B(5225);function Re(Ne,et){if(!Ne)throw new Error("Iterable cannot be null");return new J.c(mt=>{(0,ne.N)(mt,et,()=>{const dt=Ne[Symbol.asyncIterator]();(0,ne.N)(mt,et,()=>{dt.next().then(Qt=>{Qt.done?mt.complete():mt.next(Qt.value)})},0,!0)})})}var Ke=B(5055),Ie=B(9858),pt=B(7441),$e=B(5397),jt=B(7953),Lt=B(591),xn=B(5196);function at(Ne,et){return et?function Se(Ne,et){if(null!=Ne){if((0,Ke.l)(Ne))return function _e(Ne,et){return(0,C.Tg)(Ne).pipe((0,he._)(et),(0,se.Q)(et))}(Ne,et);if((0,pt.X)(Ne))return function ee(Ne,et){return new J.c(mt=>{let dt=0;return et.schedule(function(){dt===Ne.length?mt.complete():(mt.next(Ne[dt++]),mt.closed||this.schedule())})})}(Ne,et);if((0,Ie.y)(Ne))return function fe(Ne,et){return(0,C.Tg)(Ne).pipe((0,he._)(et),(0,se.Q)(et))}(Ne,et);if((0,jt.T)(Ne))return Re(Ne,et);if((0,$e.x)(Ne))return function ae(Ne,et){return new J.c(mt=>{let dt;return(0,ne.N)(mt,et,()=>{dt=Ne[Ae.l](),(0,ne.N)(mt,et,()=>{let Qt,un;try{({value:Qt,done:un}=dt.next())}catch(wn){return void mt.error(wn)}un?mt.complete():mt.next(Qt)},0,!0)}),()=>(0,Ue.T)(dt?.return)&&dt.return()})}(Ne,et);if((0,xn.U)(Ne))return function Dn(Ne,et){return Re((0,xn.C)(Ne),et)}(Ne,et)}throw(0,Lt.L)(Ne)}(Ne,et):(0,C.Tg)(Ne)}},8750:(Vt,je,B)=>{B.d(je,{Tg:()=>Ke});var C=B(1635),se=B(7441),he=B(9858),_e=B(1985),fe=B(5055),J=B(7953),ee=B(591),Ae=B(5397),Ue=B(5196),ne=B(8071),ae=B(5334),Re=B(3494);function Ke(Se){if(Se instanceof _e.c)return Se;if(null!=Se){if((0,fe.l)(Se))return function Ie(Se){return new _e.c(at=>{const Ne=Se[Re.s]();if((0,ne.T)(Ne.subscribe))return Ne.subscribe(at);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Se);if((0,se.X)(Se))return function pt(Se){return new _e.c(at=>{for(let Ne=0;Ne<Se.length&&!at.closed;Ne++)at.next(Se[Ne]);at.complete()})}(Se);if((0,he.y)(Se))return function $e(Se){return new _e.c(at=>{Se.then(Ne=>{at.closed||(at.next(Ne),at.complete())},Ne=>at.error(Ne)).then(null,ae.m)})}(Se);if((0,J.T)(Se))return Lt(Se);if((0,Ae.x)(Se))return function jt(Se){return new _e.c(at=>{for(const Ne of Se)if(at.next(Ne),at.closed)return;at.complete()})}(Se);if((0,Ue.U)(Se))return function xn(Se){return Lt((0,Ue.C)(Se))}(Se)}throw(0,ee.L)(Se)}function Lt(Se){return new _e.c(at=>{(function Dn(Se,at){var Ne,et,mt,dt;return(0,C.sH)(this,void 0,void 0,function*(){try{for(Ne=(0,C.xN)(Se);!(et=yield Ne.next()).done;)if(at.next(et.value),at.closed)return}catch(Qt){mt={error:Qt}}finally{try{et&&!et.done&&(dt=Ne.return)&&(yield dt.call(Ne))}finally{if(mt)throw mt.error}}at.complete()})})(Se,at).catch(Ne=>at.error(Ne))})}},7786:(Vt,je,B)=>{B.d(je,{h:()=>J});var C=B(6365),se=B(8750),he=B(983),_e=B(9326),fe=B(8455);function J(...ee){const Ae=(0,_e.lI)(ee),Ue=(0,_e.R0)(ee,1/0),ne=ee;return ne.length?1===ne.length?(0,se.Tg)(ne[0]):(0,C.U)(Ue)((0,fe.H)(ne,Ae)):he.w}},7673:(Vt,je,B)=>{B.d(je,{of:()=>he});var C=B(9326),se=B(8455);function he(..._e){const fe=(0,C.lI)(_e);return(0,se.H)(_e,fe)}},8810:(Vt,je,B)=>{B.d(je,{$:()=>he});var C=B(1985),se=B(8071);function he(_e,fe){const J=(0,se.T)(_e)?_e:()=>_e,ee=Ae=>Ae.error(J());return new C.c(fe?Ae=>fe.schedule(ee,0,Ae):ee)}},4360:(Vt,je,B)=>{B.d(je,{_:()=>se});var C=B(7707);function se(_e,fe,J,ee,Ae){return new he(_e,fe,J,ee,Ae)}class he extends C.vU{constructor(fe,J,ee,Ae,Ue,ne){super(fe),this.onFinalize=Ue,this.shouldUnsubscribe=ne,this._next=J?function(ae){try{J(ae)}catch(Re){fe.error(Re)}}:super._next,this._error=Ae?function(ae){try{Ae(ae)}catch(Re){fe.error(Re)}finally{this.unsubscribe()}}:super._error,this._complete=ee?function(){try{ee()}catch(ae){fe.error(ae)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var fe;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:J}=this;super.unsubscribe(),!J&&(null===(fe=this.onFinalize)||void 0===fe||fe.call(this))}}}},9437:(Vt,je,B)=>{B.d(je,{W:()=>_e});var C=B(8750),se=B(4360),he=B(9974);function _e(fe){return(0,he.N)((J,ee)=>{let ne,Ae=null,Ue=!1;Ae=J.subscribe((0,se._)(ee,void 0,void 0,ae=>{ne=(0,C.Tg)(fe(ae,_e(fe)(J))),Ae?(Ae.unsubscribe(),Ae=null,ne.subscribe(ee)):Ue=!0})),Ue&&(Ae.unsubscribe(),Ae=null,ne.subscribe(ee))})}},274:(Vt,je,B)=>{B.d(je,{H:()=>he});var C=B(1397),se=B(8071);function he(_e,fe){return(0,se.T)(fe)?(0,C.Z)(_e,fe,1):(0,C.Z)(_e,1)}},9901:(Vt,je,B)=>{B.d(je,{U:()=>he});var C=B(9974),se=B(4360);function he(_e){return(0,C.N)((fe,J)=>{let ee=!1;fe.subscribe((0,se._)(J,Ae=>{ee=!0,J.next(Ae)},()=>{ee||J.next(_e),J.complete()}))})}},3294:(Vt,je,B)=>{B.d(je,{F:()=>_e});var C=B(3669),se=B(9974),he=B(4360);function _e(J,ee=C.D){return J=J??fe,(0,se.N)((Ae,Ue)=>{let ne,ae=!0;Ae.subscribe((0,he._)(Ue,Re=>{const Ke=ee(Re);(ae||!J(ne,Ke))&&(ae=!1,ne=Ke,Ue.next(Re))}))})}function fe(J,ee){return J===ee}},5964:(Vt,je,B)=>{B.d(je,{p:()=>he});var C=B(9974),se=B(4360);function he(_e,fe){return(0,C.N)((J,ee)=>{let Ae=0;J.subscribe((0,se._)(ee,Ue=>_e.call(fe,Ue,Ae++)&&ee.next(Ue)))})}},980:(Vt,je,B)=>{B.d(je,{j:()=>se});var C=B(9974);function se(he){return(0,C.N)((_e,fe)=>{try{_e.subscribe(fe)}finally{fe.add(he)}})}},1594:(Vt,je,B)=>{B.d(je,{$:()=>ee});var C=B(9350),se=B(5964),he=B(6697),_e=B(9901),fe=B(3774),J=B(3669);function ee(Ae,Ue){const ne=arguments.length>=2;return ae=>ae.pipe(Ae?(0,se.p)((Re,Ke)=>Ae(Re,Ke,ae)):J.D,(0,he.s)(1),ne?(0,_e.U)(Ue):(0,fe.v)(()=>new C.G))}},6354:(Vt,je,B)=>{B.d(je,{T:()=>he});var C=B(9974),se=B(4360);function he(_e,fe){return(0,C.N)((J,ee)=>{let Ae=0;J.subscribe((0,se._)(ee,Ue=>{ee.next(_e.call(fe,Ue,Ae++))}))})}},6365:(Vt,je,B)=>{B.d(je,{U:()=>he});var C=B(1397),se=B(3669);function he(_e=1/0){return(0,C.Z)(se.D,_e)}},1397:(Vt,je,B)=>{B.d(je,{Z:()=>Ae});var C=B(6354),se=B(8750),he=B(9974),_e=B(5225),fe=B(4360),ee=B(8071);function Ae(Ue,ne,ae=1/0){return(0,ee.T)(ne)?Ae((Re,Ke)=>(0,C.T)((Ie,pt)=>ne(Re,Ie,Ke,pt))((0,se.Tg)(Ue(Re,Ke))),ae):("number"==typeof ne&&(ae=ne),(0,he.N)((Re,Ke)=>function J(Ue,ne,ae,Re,Ke,Ie,pt,$e){const jt=[];let Lt=0,xn=0,Dn=!1;const Se=()=>{Dn&&!jt.length&&!Lt&&ne.complete()},at=et=>Lt<Re?Ne(et):jt.push(et),Ne=et=>{Ie&&ne.next(et),Lt++;let mt=!1;(0,se.Tg)(ae(et,xn++)).subscribe((0,fe._)(ne,dt=>{Ke?.(dt),Ie?at(dt):ne.next(dt)},()=>{mt=!0},void 0,()=>{if(mt)try{for(Lt--;jt.length&&Lt<Re;){const dt=jt.shift();pt?(0,_e.N)(ne,pt,()=>Ne(dt)):Ne(dt)}Se()}catch(dt){ne.error(dt)}}))};return Ue.subscribe((0,fe._)(ne,at,()=>{Dn=!0,Se()})),()=>{$e?.()}}(Re,Ke,Ue,ae)))}},941:(Vt,je,B)=>{B.d(je,{Q:()=>_e});var C=B(5225),se=B(9974),he=B(4360);function _e(fe,J=0){return(0,se.N)((ee,Ae)=>{ee.subscribe((0,he._)(Ae,Ue=>(0,C.N)(Ae,fe,()=>Ae.next(Ue),J),()=>(0,C.N)(Ae,fe,()=>Ae.complete(),J),Ue=>(0,C.N)(Ae,fe,()=>Ae.error(Ue),J)))})}},7647:(Vt,je,B)=>{B.d(je,{u:()=>fe});var C=B(8750),se=B(1413),he=B(7707),_e=B(9974);function fe(ee={}){const{connector:Ae=(()=>new se.B),resetOnError:Ue=!0,resetOnComplete:ne=!0,resetOnRefCountZero:ae=!0}=ee;return Re=>{let Ke,Ie,pt,$e=0,jt=!1,Lt=!1;const xn=()=>{Ie?.unsubscribe(),Ie=void 0},Dn=()=>{xn(),Ke=pt=void 0,jt=Lt=!1},Se=()=>{const at=Ke;Dn(),at?.unsubscribe()};return(0,_e.N)((at,Ne)=>{$e++,!Lt&&!jt&&xn();const et=pt=pt??Ae();Ne.add(()=>{$e--,0===$e&&!Lt&&!jt&&(Ie=J(Se,ae))}),et.subscribe(Ne),!Ke&&$e>0&&(Ke=new he.Ms({next:mt=>et.next(mt),error:mt=>{Lt=!0,xn(),Ie=J(Dn,Ue,mt),et.error(mt)},complete:()=>{jt=!0,xn(),Ie=J(Dn,ne),et.complete()}}),(0,C.Tg)(at).subscribe(Ke))})(Re)}}function J(ee,Ae,...Ue){if(!0===Ae)return void ee();if(!1===Ae)return;const ne=new he.Ms({next:()=>{ne.unsubscribe(),ee()}});return(0,C.Tg)(Ae(...Ue)).subscribe(ne)}},9172:(Vt,je,B)=>{B.d(je,{Z:()=>_e});var C=B(8793),se=B(9326),he=B(9974);function _e(...fe){const J=(0,se.lI)(fe);return(0,he.N)((ee,Ae)=>{(J?(0,C.x)(fe,ee,J):(0,C.x)(fe,ee)).subscribe(Ae)})}},6745:(Vt,je,B)=>{B.d(je,{_:()=>se});var C=B(9974);function se(he,_e=0){return(0,C.N)((fe,J)=>{J.add(he.schedule(()=>fe.subscribe(J),_e))})}},5558:(Vt,je,B)=>{B.d(je,{n:()=>_e});var C=B(8750),se=B(9974),he=B(4360);function _e(fe,J){return(0,se.N)((ee,Ae)=>{let Ue=null,ne=0,ae=!1;const Re=()=>ae&&!Ue&&Ae.complete();ee.subscribe((0,he._)(Ae,Ke=>{Ue?.unsubscribe();let Ie=0;const pt=ne++;(0,C.Tg)(fe(Ke,pt)).subscribe(Ue=(0,he._)(Ae,$e=>Ae.next(J?J(Ke,$e,pt,Ie++):$e),()=>{Ue=null,Re()}))},()=>{ae=!0,Re()}))})}},6697:(Vt,je,B)=>{B.d(je,{s:()=>_e});var C=B(983),se=B(9974),he=B(4360);function _e(fe){return fe<=0?()=>C.w:(0,se.N)((J,ee)=>{let Ae=0;J.subscribe((0,he._)(ee,Ue=>{++Ae<=fe&&(ee.next(Ue),fe<=Ae&&ee.complete())}))})}},6977:(Vt,je,B)=>{B.d(je,{Q:()=>fe});var C=B(9974),se=B(4360),he=B(8750),_e=B(5343);function fe(J){return(0,C.N)((ee,Ae)=>{(0,he.Tg)(J).subscribe((0,se._)(Ae,()=>Ae.complete(),_e.l)),!Ae.closed&&ee.subscribe(Ae)})}},8141:(Vt,je,B)=>{B.d(je,{M:()=>fe});var C=B(8071),se=B(9974),he=B(4360),_e=B(3669);function fe(J,ee,Ae){const Ue=(0,C.T)(J)||ee||Ae?{next:J,error:ee,complete:Ae}:J;return Ue?(0,se.N)((ne,ae)=>{var Re;null===(Re=Ue.subscribe)||void 0===Re||Re.call(Ue);let Ke=!0;ne.subscribe((0,he._)(ae,Ie=>{var pt;null===(pt=Ue.next)||void 0===pt||pt.call(Ue,Ie),ae.next(Ie)},()=>{var Ie;Ke=!1,null===(Ie=Ue.complete)||void 0===Ie||Ie.call(Ue),ae.complete()},Ie=>{var pt;Ke=!1,null===(pt=Ue.error)||void 0===pt||pt.call(Ue,Ie),ae.error(Ie)},()=>{var Ie,pt;Ke&&(null===(Ie=Ue.unsubscribe)||void 0===Ie||Ie.call(Ue)),null===(pt=Ue.finalize)||void 0===pt||pt.call(Ue)}))}):_e.D}},3774:(Vt,je,B)=>{B.d(je,{v:()=>_e});var C=B(9350),se=B(9974),he=B(4360);function _e(J=fe){return(0,se.N)((ee,Ae)=>{let Ue=!1;ee.subscribe((0,he._)(Ae,ne=>{Ue=!0,Ae.next(ne)},()=>Ue?Ae.complete():Ae.error(J())))})}function fe(){return new C.G}},6780:(Vt,je,B)=>{B.d(je,{R:()=>fe});var C=B(8359);class se extends C.yU{constructor(ee,Ae){super()}schedule(ee,Ae=0){return this}}const he={setInterval(J,ee,...Ae){const{delegate:Ue}=he;return Ue?.setInterval?Ue.setInterval(J,ee,...Ae):setInterval(J,ee,...Ae)},clearInterval(J){const{delegate:ee}=he;return(ee?.clearInterval||clearInterval)(J)},delegate:void 0};var _e=B(7908);class fe extends se{constructor(ee,Ae){super(ee,Ae),this.scheduler=ee,this.work=Ae,this.pending=!1}schedule(ee,Ae=0){var Ue;if(this.closed)return this;this.state=ee;const ne=this.id,ae=this.scheduler;return null!=ne&&(this.id=this.recycleAsyncId(ae,ne,Ae)),this.pending=!0,this.delay=Ae,this.id=null!==(Ue=this.id)&&void 0!==Ue?Ue:this.requestAsyncId(ae,this.id,Ae),this}requestAsyncId(ee,Ae,Ue=0){return he.setInterval(ee.flush.bind(ee,this),Ue)}recycleAsyncId(ee,Ae,Ue=0){if(null!=Ue&&this.delay===Ue&&!1===this.pending)return Ae;null!=Ae&&he.clearInterval(Ae)}execute(ee,Ae){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Ue=this._execute(ee,Ae);if(Ue)return Ue;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ee,Ae){let ne,Ue=!1;try{this.work(ee)}catch(ae){Ue=!0,ne=ae||new Error("Scheduled action threw falsy error")}if(Ue)return this.unsubscribe(),ne}unsubscribe(){if(!this.closed){const{id:ee,scheduler:Ae}=this,{actions:Ue}=Ae;this.work=this.state=this.scheduler=null,this.pending=!1,(0,_e.o)(Ue,this),null!=ee&&(this.id=this.recycleAsyncId(Ae,ee,null)),this.delay=null,super.unsubscribe()}}}},3604:(Vt,je,B)=>{B.d(je,{q:()=>he});const C={now:()=>(C.delegate||Date).now(),delegate:void 0};class se{constructor(fe,J=se.now){this.schedulerActionCtor=fe,this.now=J}schedule(fe,J=0,ee){return new this.schedulerActionCtor(this,fe).schedule(ee,J)}}se.now=C.now;class he extends se{constructor(fe,J=se.now){super(fe,J),this.actions=[],this._active=!1}flush(fe){const{actions:J}=this;if(this._active)return void J.push(fe);let ee;this._active=!0;do{if(ee=fe.execute(fe.state,fe.delay))break}while(fe=J.shift());if(this._active=!1,ee){for(;fe=J.shift();)fe.unsubscribe();throw ee}}}},3236:(Vt,je,B)=>{B.d(je,{E:()=>he,b:()=>_e});var C=B(6780);const he=new(B(3604).q)(C.R),_e=he},9270:(Vt,je,B)=>{B.d(je,{f:()=>C});const C={setTimeout(se,he,..._e){const{delegate:fe}=C;return fe?.setTimeout?fe.setTimeout(se,he,..._e):setTimeout(se,he,..._e)},clearTimeout(se){const{delegate:he}=C;return(he?.clearTimeout||clearTimeout)(se)},delegate:void 0}},4761:(Vt,je,B)=>{B.d(je,{l:()=>se});const se=function C(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3494:(Vt,je,B)=>{B.d(je,{s:()=>C});const C="function"==typeof Symbol&&Symbol.observable||"@@observable"},9350:(Vt,je,B)=>{B.d(je,{G:()=>se});const se=(0,B(1853).L)(he=>function(){he(this),this.name="EmptyError",this.message="no elements in sequence"})},9326:(Vt,je,B)=>{B.d(je,{R0:()=>J,lI:()=>fe,ms:()=>_e});var C=B(8071),se=B(9470);function he(ee){return ee[ee.length-1]}function _e(ee){return(0,C.T)(he(ee))?ee.pop():void 0}function fe(ee){return(0,se.m)(he(ee))?ee.pop():void 0}function J(ee,Ae){return"number"==typeof he(ee)?ee.pop():Ae}},3073:(Vt,je,B)=>{B.d(je,{D:()=>fe});const{isArray:C}=Array,{getPrototypeOf:se,prototype:he,keys:_e}=Object;function fe(ee){if(1===ee.length){const Ae=ee[0];if(C(Ae))return{args:Ae,keys:null};if(function J(ee){return ee&&"object"==typeof ee&&se(ee)===he}(Ae)){const Ue=_e(Ae);return{args:Ue.map(ne=>Ae[ne]),keys:Ue}}}return{args:ee,keys:null}}},7908:(Vt,je,B)=>{function C(se,he){if(se){const _e=se.indexOf(he);0<=_e&&se.splice(_e,1)}}B.d(je,{o:()=>C})},1853:(Vt,je,B)=>{function C(se){const _e=se(fe=>{Error.call(fe),fe.stack=(new Error).stack});return _e.prototype=Object.create(Error.prototype),_e.prototype.constructor=_e,_e}B.d(je,{L:()=>C})},8496:(Vt,je,B)=>{function C(se,he){return se.reduce((_e,fe,J)=>(_e[fe]=he[J],_e),{})}B.d(je,{e:()=>C})},9786:(Vt,je,B)=>{B.d(je,{Y:()=>he,l:()=>_e});var C=B(1026);let se=null;function he(fe){if(C.$.useDeprecatedSynchronousErrorHandling){const J=!se;if(J&&(se={errorThrown:!1,error:null}),fe(),J){const{errorThrown:ee,error:Ae}=se;if(se=null,ee)throw Ae}}else fe()}function _e(fe){C.$.useDeprecatedSynchronousErrorHandling&&se&&(se.errorThrown=!0,se.error=fe)}},5225:(Vt,je,B)=>{function C(se,he,_e,fe=0,J=!1){const ee=he.schedule(function(){_e(),J?se.add(this.schedule(null,fe)):this.unsubscribe()},fe);if(se.add(ee),!J)return ee}B.d(je,{N:()=>C})},3669:(Vt,je,B)=>{function C(se){return se}B.d(je,{D:()=>C})},7441:(Vt,je,B)=>{B.d(je,{X:()=>C});const C=se=>se&&"number"==typeof se.length&&"function"!=typeof se},7953:(Vt,je,B)=>{B.d(je,{T:()=>se});var C=B(8071);function se(he){return Symbol.asyncIterator&&(0,C.T)(he?.[Symbol.asyncIterator])}},8071:(Vt,je,B)=>{function C(se){return"function"==typeof se}B.d(je,{T:()=>C})},5055:(Vt,je,B)=>{B.d(je,{l:()=>he});var C=B(3494),se=B(8071);function he(_e){return(0,se.T)(_e[C.s])}},5397:(Vt,je,B)=>{B.d(je,{x:()=>he});var C=B(4761),se=B(8071);function he(_e){return(0,se.T)(_e?.[C.l])}},9858:(Vt,je,B)=>{B.d(je,{y:()=>se});var C=B(8071);function se(he){return(0,C.T)(he?.then)}},5196:(Vt,je,B)=>{B.d(je,{C:()=>he,U:()=>_e});var C=B(1635),se=B(8071);function he(fe){return(0,C.AQ)(this,arguments,function*(){const ee=fe.getReader();try{for(;;){const{value:Ae,done:Ue}=yield(0,C.N3)(ee.read());if(Ue)return yield(0,C.N3)(void 0);yield yield(0,C.N3)(Ae)}}finally{ee.releaseLock()}})}function _e(fe){return(0,se.T)(fe?.getReader)}},9470:(Vt,je,B)=>{B.d(je,{m:()=>se});var C=B(8071);function se(he){return he&&(0,C.T)(he.schedule)}},9974:(Vt,je,B)=>{B.d(je,{N:()=>he,S:()=>se});var C=B(8071);function se(_e){return(0,C.T)(_e?.lift)}function he(_e){return fe=>{if(se(fe))return fe.lift(function(J){try{return _e(J,this)}catch(ee){this.error(ee)}});throw new TypeError("Unable to lift unknown Observable type")}}},6450:(Vt,je,B)=>{B.d(je,{I:()=>_e});var C=B(6354);const{isArray:se}=Array;function _e(fe){return(0,C.T)(J=>function he(fe,J){return se(J)?fe(...J):fe(J)}(fe,J))}},5343:(Vt,je,B)=>{function C(){}B.d(je,{l:()=>C})},1203:(Vt,je,B)=>{B.d(je,{F:()=>se,m:()=>he});var C=B(3669);function se(..._e){return he(_e)}function he(_e){return 0===_e.length?C.D:1===_e.length?_e[0]:function(J){return _e.reduce((ee,Ae)=>Ae(ee),J)}}},5334:(Vt,je,B)=>{B.d(je,{m:()=>he});var C=B(1026),se=B(9270);function he(_e){se.f.setTimeout(()=>{const{onUnhandledError:fe}=C.$;if(!fe)throw _e;fe(_e)})}},591:(Vt,je,B)=>{function C(se){return new TypeError(`You provided ${null!==se&&"object"==typeof se?"an invalid object":`'${se}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}B.d(je,{L:()=>C})},177:(Vt,je,B)=>{B.d(je,{AJ:()=>Xr,MD:()=>Us,N0:()=>Oi,PV:()=>Qr,QT:()=>he,QX:()=>mr,Sm:()=>pt,Sq:()=>Ki,T3:()=>Gn,UE:()=>Go,VF:()=>fe,Vy:()=>Ns,Xr:()=>lo,YU:()=>tr,ZD:()=>_e,_b:()=>mi,aZ:()=>jt,bT:()=>qi,fw:()=>$e,hb:()=>Ke,hj:()=>Ae,qQ:()=>J});var C=B(7705);let se=null;function he(){return se}function _e(D){se||(se=D)}class fe{}const J=new C.nKC("DocumentToken");let ee=(()=>{class D{historyGo(P){throw new Error("Not implemented")}static{this.\u0275fac=function(j){return new(j||D)}}static{this.\u0275prov=C.jDH({token:D,factory:function(){return(0,C.WQX)(Ue)},providedIn:"platform"})}}return D})();const Ae=new C.nKC("Location Initialized");let Ue=(()=>{class D extends ee{constructor(){super(),this._doc=(0,C.WQX)(J),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return he().getBaseHref(this._doc)}onPopState(P){const j=he().getGlobalEventTarget(this._doc,"window");return j.addEventListener("popstate",P,!1),()=>j.removeEventListener("popstate",P)}onHashChange(P){const j=he().getGlobalEventTarget(this._doc,"window");return j.addEventListener("hashchange",P,!1),()=>j.removeEventListener("hashchange",P)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(P){this._location.pathname=P}pushState(P,j,ie){this._history.pushState(P,j,ie)}replaceState(P,j,ie){this._history.replaceState(P,j,ie)}forward(){this._history.forward()}back(){this._history.back()}historyGo(P=0){this._history.go(P)}getState(){return this._history.state}static{this.\u0275fac=function(j){return new(j||D)}}static{this.\u0275prov=C.jDH({token:D,factory:function(){return new D},providedIn:"platform"})}}return D})();function ne(D,z){if(0==D.length)return z;if(0==z.length)return D;let P=0;return D.endsWith("/")&&P++,z.startsWith("/")&&P++,2==P?D+z.substring(1):1==P?D+z:D+"/"+z}function ae(D){const z=D.match(/#|\?|$/),P=z&&z.index||D.length;return D.slice(0,P-("/"===D[P-1]?1:0))+D.slice(P)}function Re(D){return D&&"?"!==D[0]?"?"+D:D}let Ke=(()=>{class D{historyGo(P){throw new Error("Not implemented")}static{this.\u0275fac=function(j){return new(j||D)}}static{this.\u0275prov=C.jDH({token:D,factory:function(){return(0,C.WQX)(pt)},providedIn:"root"})}}return D})();const Ie=new C.nKC("appBaseHref");let pt=(()=>{class D extends Ke{constructor(P,j){super(),this._platformLocation=P,this._removeListenerFns=[],this._baseHref=j??this._platformLocation.getBaseHrefFromDOM()??(0,C.WQX)(J).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(P){this._removeListenerFns.push(this._platformLocation.onPopState(P),this._platformLocation.onHashChange(P))}getBaseHref(){return this._baseHref}prepareExternalUrl(P){return ne(this._baseHref,P)}path(P=!1){const j=this._platformLocation.pathname+Re(this._platformLocation.search),ie=this._platformLocation.hash;return ie&&P?`${j}${ie}`:j}pushState(P,j,ie,Qe){const ot=this.prepareExternalUrl(ie+Re(Qe));this._platformLocation.pushState(P,j,ot)}replaceState(P,j,ie,Qe){const ot=this.prepareExternalUrl(ie+Re(Qe));this._platformLocation.replaceState(P,j,ot)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(P=0){this._platformLocation.historyGo?.(P)}static{this.\u0275fac=function(j){return new(j||D)(C.KVO(ee),C.KVO(Ie,8))}}static{this.\u0275prov=C.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}}return D})(),$e=(()=>{class D extends Ke{constructor(P,j){super(),this._platformLocation=P,this._baseHref="",this._removeListenerFns=[],null!=j&&(this._baseHref=j)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(P){this._removeListenerFns.push(this._platformLocation.onPopState(P),this._platformLocation.onHashChange(P))}getBaseHref(){return this._baseHref}path(P=!1){let j=this._platformLocation.hash;return null==j&&(j="#"),j.length>0?j.substring(1):j}prepareExternalUrl(P){const j=ne(this._baseHref,P);return j.length>0?"#"+j:j}pushState(P,j,ie,Qe){let ot=this.prepareExternalUrl(ie+Re(Qe));0==ot.length&&(ot=this._platformLocation.pathname),this._platformLocation.pushState(P,j,ot)}replaceState(P,j,ie,Qe){let ot=this.prepareExternalUrl(ie+Re(Qe));0==ot.length&&(ot=this._platformLocation.pathname),this._platformLocation.replaceState(P,j,ot)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(P=0){this._platformLocation.historyGo?.(P)}static{this.\u0275fac=function(j){return new(j||D)(C.KVO(ee),C.KVO(Ie,8))}}static{this.\u0275prov=C.jDH({token:D,factory:D.\u0275fac})}}return D})(),jt=(()=>{class D{constructor(P){this._subject=new C.bkB,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=P;const j=this._locationStrategy.getBaseHref();this._basePath=function Se(D){if(new RegExp("^(https?:)?//").test(D)){const[,P]=D.split(/\/\/[^\/]+/);return P}return D}(ae(Dn(j))),this._locationStrategy.onPopState(ie=>{this._subject.emit({url:this.path(!0),pop:!0,state:ie.state,type:ie.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(P=!1){return this.normalize(this._locationStrategy.path(P))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(P,j=""){return this.path()==this.normalize(P+Re(j))}normalize(P){return D.stripTrailingSlash(function xn(D,z){if(!D||!z.startsWith(D))return z;const P=z.substring(D.length);return""===P||["/",";","?","#"].includes(P[0])?P:z}(this._basePath,Dn(P)))}prepareExternalUrl(P){return P&&"/"!==P[0]&&(P="/"+P),this._locationStrategy.prepareExternalUrl(P)}go(P,j="",ie=null){this._locationStrategy.pushState(ie,"",P,j),this._notifyUrlChangeListeners(this.prepareExternalUrl(P+Re(j)),ie)}replaceState(P,j="",ie=null){this._locationStrategy.replaceState(ie,"",P,j),this._notifyUrlChangeListeners(this.prepareExternalUrl(P+Re(j)),ie)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(P=0){this._locationStrategy.historyGo?.(P)}onUrlChange(P){return this._urlChangeListeners.push(P),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(j=>{this._notifyUrlChangeListeners(j.url,j.state)})),()=>{const j=this._urlChangeListeners.indexOf(P);this._urlChangeListeners.splice(j,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(P="",j){this._urlChangeListeners.forEach(ie=>ie(P,j))}subscribe(P,j,ie){return this._subject.subscribe({next:P,error:j,complete:ie})}static{this.normalizeQueryParams=Re}static{this.joinWithSlash=ne}static{this.stripTrailingSlash=ae}static{this.\u0275fac=function(j){return new(j||D)(C.KVO(Ke))}}static{this.\u0275prov=C.jDH({token:D,factory:function(){return function Lt(){return new jt((0,C.KVO)(Ke))}()},providedIn:"root"})}}return D})();function Dn(D){return D.replace(/\/index.html$/,"")}var Ne=function(D){return D[D.Decimal=0]="Decimal",D[D.Percent=1]="Percent",D[D.Currency=2]="Currency",D[D.Scientific=3]="Scientific",D}(Ne||{}),un=function(D){return D[D.Decimal=0]="Decimal",D[D.Group=1]="Group",D[D.List=2]="List",D[D.PercentSign=3]="PercentSign",D[D.PlusSign=4]="PlusSign",D[D.MinusSign=5]="MinusSign",D[D.Exponential=6]="Exponential",D[D.SuperscriptingExponent=7]="SuperscriptingExponent",D[D.PerMille=8]="PerMille",D[D.Infinity=9]="Infinity",D[D.NaN=10]="NaN",D[D.TimeSeparator=11]="TimeSeparator",D[D.CurrencyDecimal=12]="CurrencyDecimal",D[D.CurrencyGroup=13]="CurrencyGroup",D}(un||{});function Ve(D,z){const P=(0,C.H5H)(D),j=P[C.KH2.NumberSymbols][z];if(typeof j>"u"){if(z===un.CurrencyDecimal)return P[C.KH2.NumberSymbols][un.Decimal];if(z===un.CurrencyGroup)return P[C.KH2.NumberSymbols][un.Group]}return j}const K=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function st(D){const z=parseInt(D);if(isNaN(z))throw new Error("Invalid integer literal when parsing "+D);return z}function mi(D,z){z=encodeURIComponent(z);for(const P of D.split(";")){const j=P.indexOf("="),[ie,Qe]=-1==j?[P,""]:[P.slice(0,j),P.slice(j+1)];if(ie.trim()===z)return decodeURIComponent(Qe)}return null}const Ti=/\s+/,Un=[];let tr=(()=>{class D{constructor(P,j,ie,Qe){this._iterableDiffers=P,this._keyValueDiffers=j,this._ngEl=ie,this._renderer=Qe,this.initialClasses=Un,this.stateMap=new Map}set klass(P){this.initialClasses=null!=P?P.trim().split(Ti):Un}set ngClass(P){this.rawClass="string"==typeof P?P.trim().split(Ti):P}ngDoCheck(){for(const j of this.initialClasses)this._updateState(j,!0);const P=this.rawClass;if(Array.isArray(P)||P instanceof Set)for(const j of P)this._updateState(j,!0);else if(null!=P)for(const j of Object.keys(P))this._updateState(j,!!P[j]);this._applyStateDiff()}_updateState(P,j){const ie=this.stateMap.get(P);void 0!==ie?(ie.enabled!==j&&(ie.changed=!0,ie.enabled=j),ie.touched=!0):this.stateMap.set(P,{enabled:j,changed:!0,touched:!0})}_applyStateDiff(){for(const P of this.stateMap){const j=P[0],ie=P[1];ie.changed?(this._toggleClass(j,ie.enabled),ie.changed=!1):ie.touched||(ie.enabled&&this._toggleClass(j,!1),this.stateMap.delete(j)),ie.touched=!1}}_toggleClass(P,j){(P=P.trim()).length>0&&P.split(Ti).forEach(ie=>{j?this._renderer.addClass(this._ngEl.nativeElement,ie):this._renderer.removeClass(this._ngEl.nativeElement,ie)})}static{this.\u0275fac=function(j){return new(j||D)(C.rXU(C._q3),C.rXU(C.MKu),C.rXU(C.aKT),C.rXU(C.sFG))}}static{this.\u0275dir=C.FsC({type:D,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}}return D})();class Br{constructor(z,P,j,ie){this.$implicit=z,this.ngForOf=P,this.index=j,this.count=ie}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Ki=(()=>{class D{set ngForOf(P){this._ngForOf=P,this._ngForOfDirty=!0}set ngForTrackBy(P){this._trackByFn=P}get ngForTrackBy(){return this._trackByFn}constructor(P,j,ie){this._viewContainer=P,this._template=j,this._differs=ie,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(P){P&&(this._template=P)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const P=this._ngForOf;!this._differ&&P&&(this._differ=this._differs.find(P).create(this.ngForTrackBy))}if(this._differ){const P=this._differ.diff(this._ngForOf);P&&this._applyChanges(P)}}_applyChanges(P){const j=this._viewContainer;P.forEachOperation((ie,Qe,ot)=>{if(null==ie.previousIndex)j.createEmbeddedView(this._template,new Br(ie.item,this._ngForOf,-1,-1),null===ot?void 0:ot);else if(null==ot)j.remove(null===Qe?void 0:Qe);else if(null!==Qe){const Gt=j.get(Qe);j.move(Gt,ot),Mr(Gt,ie)}});for(let ie=0,Qe=j.length;ie<Qe;ie++){const Gt=j.get(ie).context;Gt.index=ie,Gt.count=Qe,Gt.ngForOf=this._ngForOf}P.forEachIdentityChange(ie=>{Mr(j.get(ie.currentIndex),ie)})}static ngTemplateContextGuard(P,j){return!0}static{this.\u0275fac=function(j){return new(j||D)(C.rXU(C.c1b),C.rXU(C.C4Q),C.rXU(C._q3))}}static{this.\u0275dir=C.FsC({type:D,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return D})();function Mr(D,z){D.context.$implicit=z.item}let qi=(()=>{class D{constructor(P,j){this._viewContainer=P,this._context=new _s,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=j}set ngIf(P){this._context.$implicit=this._context.ngIf=P,this._updateView()}set ngIfThen(P){uo("ngIfThen",P),this._thenTemplateRef=P,this._thenViewRef=null,this._updateView()}set ngIfElse(P){uo("ngIfElse",P),this._elseTemplateRef=P,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(P,j){return!0}static{this.\u0275fac=function(j){return new(j||D)(C.rXU(C.c1b),C.rXU(C.C4Q))}}static{this.\u0275dir=C.FsC({type:D,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return D})();class _s{constructor(){this.$implicit=null,this.ngIf=null}}function uo(D,z){if(z&&!z.createEmbeddedView)throw new Error(`${D} must be a TemplateRef, but received '${(0,C.Tbb)(z)}'.`)}let Gn=(()=>{class D{constructor(P){this._viewContainerRef=P,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(P){if(P.ngTemplateOutlet||P.ngTemplateOutletInjector){const j=this._viewContainerRef;if(this._viewRef&&j.remove(j.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:ie,ngTemplateOutletContext:Qe,ngTemplateOutletInjector:ot}=this;this._viewRef=j.createEmbeddedView(ie,Qe,ot?{injector:ot}:void 0)}else this._viewRef=null}else this._viewRef&&P.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}static{this.\u0275fac=function(j){return new(j||D)(C.rXU(C.c1b))}}static{this.\u0275dir=C.FsC({type:D,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[C.OA$]})}}return D})();function jr(D,z){return new C.wOt(2100,!1)}const ga=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g;let Qr=(()=>{class D{transform(P){if(null==P)return null;if("string"!=typeof P)throw jr();return P.replace(ga,j=>j[0].toUpperCase()+j.slice(1).toLowerCase())}static{this.\u0275fac=function(j){return new(j||D)}}static{this.\u0275pipe=C.EJ8({name:"titlecase",type:D,pure:!0,standalone:!0})}}return D})(),mr=(()=>{class D{constructor(P){this._locale=P}transform(P,j,ie){if(!function cn(D){return!(null==D||""===D||D!=D)}(P))return null;ie=ie||this._locale;try{return function ce(D,z,P){return function be(D,z,P,j,ie,Qe,ot=!1){let Gt="",yr=!1;if(isFinite(D)){let xr=function Ye(D){let j,ie,Qe,ot,Gt,z=Math.abs(D)+"",P=0;for((ie=z.indexOf("."))>-1&&(z=z.replace(".","")),(Qe=z.search(/e/i))>0?(ie<0&&(ie=Qe),ie+=+z.slice(Qe+1),z=z.substring(0,Qe)):ie<0&&(ie=z.length),Qe=0;"0"===z.charAt(Qe);Qe++);if(Qe===(Gt=z.length))j=[0],ie=1;else{for(Gt--;"0"===z.charAt(Gt);)Gt--;for(ie-=Qe,j=[],ot=0;Qe<=Gt;Qe++,ot++)j[ot]=Number(z.charAt(Qe))}return ie>22&&(j=j.splice(0,21),P=ie-1,ie=1),{digits:j,exponent:P,integerLen:ie}}(D);ot&&(xr=function Me(D){if(0===D.digits[0])return D;const z=D.digits.length-D.integerLen;return D.exponent?D.exponent+=2:(0===z?D.digits.push(0,0):1===z&&D.digits.push(0),D.integerLen+=2),D}(xr));let Zn=z.minInt,kn=z.minFrac,Fr=z.maxFrac;if(Qe){const zr=Qe.match(K);if(null===zr)throw new Error(`${Qe} is not a valid digit info`);const Hi=zr[1],Ji=zr[3],Ro=zr[5];null!=Hi&&(Zn=st(Hi)),null!=Ji&&(kn=st(Ji)),null!=Ro?Fr=st(Ro):null!=Ji&&kn>Fr&&(Fr=kn)}!function Et(D,z,P){if(z>P)throw new Error(`The minimum number of digits after fraction (${z}) is higher than the maximum (${P}).`);let j=D.digits,ie=j.length-D.integerLen;const Qe=Math.min(Math.max(z,ie),P);let ot=Qe+D.integerLen,Gt=j[ot];if(ot>0){j.splice(Math.max(D.integerLen,ot));for(let kn=ot;kn<j.length;kn++)j[kn]=0}else{ie=Math.max(0,ie),D.integerLen=1,j.length=Math.max(1,ot=Qe+1),j[0]=0;for(let kn=1;kn<ot;kn++)j[kn]=0}if(Gt>=5)if(ot-1<0){for(let kn=0;kn>ot;kn--)j.unshift(0),D.integerLen++;j.unshift(1),D.integerLen++}else j[ot-1]++;for(;ie<Math.max(0,Qe);ie++)j.push(0);let yr=0!==Qe;const xr=z+D.integerLen,Zn=j.reduceRight(function(kn,Fr,Tr,di){return di[Tr]=(Fr+=kn)<10?Fr:Fr-10,yr&&(0===di[Tr]&&Tr>=xr?di.pop():yr=!1),Fr>=10?1:0},0);Zn&&(j.unshift(Zn),D.integerLen++)}(xr,kn,Fr);let Tr=xr.digits,di=xr.integerLen;const Fi=xr.exponent;let Ds=[];for(yr=Tr.every(zr=>!zr);di<Zn;di++)Tr.unshift(0);for(;di<0;di++)Tr.unshift(0);di>0?Ds=Tr.splice(di,Tr.length):(Ds=Tr,Tr=[0]);const ar=[];for(Tr.length>=z.lgSize&&ar.unshift(Tr.splice(-z.lgSize,Tr.length).join(""));Tr.length>z.gSize;)ar.unshift(Tr.splice(-z.gSize,Tr.length).join(""));Tr.length&&ar.unshift(Tr.join("")),Gt=ar.join(Ve(P,j)),Ds.length&&(Gt+=Ve(P,ie)+Ds.join("")),Fi&&(Gt+=Ve(P,un.Exponential)+"+"+Fi)}else Gt=Ve(P,un.Infinity);return Gt=D<0&&!yr?z.negPre+Gt+z.negSuf:z.posPre+Gt+z.posSuf,Gt}(D,function ue(D,z="-"){const P={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},j=D.split(";"),ie=j[0],Qe=j[1],ot=-1!==ie.indexOf(".")?ie.split("."):[ie.substring(0,ie.lastIndexOf("0")+1),ie.substring(ie.lastIndexOf("0")+1)],Gt=ot[0],yr=ot[1]||"";P.posPre=Gt.substring(0,Gt.indexOf("#"));for(let Zn=0;Zn<yr.length;Zn++){const kn=yr.charAt(Zn);"0"===kn?P.minFrac=P.maxFrac=Zn+1:"#"===kn?P.maxFrac=Zn+1:P.posSuf+=kn}const xr=Gt.split(",");if(P.gSize=xr[1]?xr[1].length:0,P.lgSize=xr[2]||xr[1]?(xr[2]||xr[1]).length:0,Qe){const Zn=ie.length-P.posPre.length-P.posSuf.length,kn=Qe.indexOf("#");P.negPre=Qe.substring(0,kn).replace(/'/g,""),P.negSuf=Qe.slice(kn+Zn).replace(/'/g,"")}else P.negPre=z+P.posPre,P.negSuf=P.posSuf;return P}(function Je(D,z){return(0,C.H5H)(D)[C.KH2.NumberFormats][z]}(z,Ne.Decimal),Ve(z,un.MinusSign)),z,un.Group,un.Decimal,P)}(function ji(D){if("string"==typeof D&&!isNaN(Number(D)-parseFloat(D)))return Number(D);if("number"!=typeof D)throw new Error(`${D} is not a number`);return D}(P),ie,j)}catch(Qe){throw jr()}}static{this.\u0275fac=function(j){return new(j||D)(C.rXU(C.xe9,16))}}static{this.\u0275pipe=C.EJ8({name:"number",type:D,pure:!0,standalone:!0})}}return D})();let Us=(()=>{class D{static{this.\u0275fac=function(j){return new(j||D)}}static{this.\u0275mod=C.$C({type:D})}static{this.\u0275inj=C.G2t({})}}return D})();const Xr="browser",ls="server";function Go(D){return D===Xr}function Ns(D){return D===ls}let lo=(()=>{class D{static{this.\u0275prov=(0,C.jDH)({token:D,providedIn:"root",factory:()=>new ui((0,C.KVO)(J),window)})}}return D})();class ui{constructor(z,P){this.document=z,this.window=P,this.offset=()=>[0,0]}setOffset(z){this.offset=Array.isArray(z)?()=>z:z}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(z){this.supportsScrolling()&&this.window.scrollTo(z[0],z[1])}scrollToAnchor(z){if(!this.supportsScrolling())return;const P=function wo(D,z){const P=D.getElementById(z)||D.getElementsByName(z)[0];if(P)return P;if("function"==typeof D.createTreeWalker&&D.body&&"function"==typeof D.body.attachShadow){const j=D.createTreeWalker(D.body,NodeFilter.SHOW_ELEMENT);let ie=j.currentNode;for(;ie;){const Qe=ie.shadowRoot;if(Qe){const ot=Qe.getElementById(z)||Qe.querySelector(`[name="${z}"]`);if(ot)return ot}ie=j.nextNode()}}return null}(this.document,z);P&&(this.scrollToElement(P),P.focus())}setHistoryScrollRestoration(z){this.supportsScrolling()&&(this.window.history.scrollRestoration=z)}scrollToElement(z){const P=z.getBoundingClientRect(),j=P.left+this.window.pageXOffset,ie=P.top+this.window.pageYOffset,Qe=this.offset();this.window.scrollTo(j-Qe[0],ie-Qe[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class Oi{}},1626:(Vt,je,B)=>{B.d(je,{Qq:()=>It,a7:()=>Ot,q1:()=>K});var C=B(7705),se=B(7673),he=B(8455),_e=B(1985),fe=B(274),J=B(5964),ee=B(6354),Ae=B(980),Ue=B(5558),ne=B(177);class ae{}class Re{}class Ke{constructor(pe){this.normalizedNames=new Map,this.lazyUpdate=null,pe?"string"==typeof pe?this.lazyInit=()=>{this.headers=new Map,pe.split("\n").forEach(ve=>{const ce=ve.indexOf(":");if(ce>0){const ue=ve.slice(0,ce),Me=ue.toLowerCase(),Ye=ve.slice(ce+1).trim();this.maybeSetNormalizedName(ue,Me),this.headers.has(Me)?this.headers.get(Me).push(Ye):this.headers.set(Me,[Ye])}})}:typeof Headers<"u"&&pe instanceof Headers?(this.headers=new Map,pe.forEach((ve,ce)=>{this.setHeaderEntries(ce,ve)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(pe).forEach(([ve,ce])=>{this.setHeaderEntries(ve,ce)})}:this.headers=new Map}has(pe){return this.init(),this.headers.has(pe.toLowerCase())}get(pe){this.init();const ve=this.headers.get(pe.toLowerCase());return ve&&ve.length>0?ve[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(pe){return this.init(),this.headers.get(pe.toLowerCase())||null}append(pe,ve){return this.clone({name:pe,value:ve,op:"a"})}set(pe,ve){return this.clone({name:pe,value:ve,op:"s"})}delete(pe,ve){return this.clone({name:pe,value:ve,op:"d"})}maybeSetNormalizedName(pe,ve){this.normalizedNames.has(ve)||this.normalizedNames.set(ve,pe)}init(){this.lazyInit&&(this.lazyInit instanceof Ke?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(pe=>this.applyUpdate(pe)),this.lazyUpdate=null))}copyFrom(pe){pe.init(),Array.from(pe.headers.keys()).forEach(ve=>{this.headers.set(ve,pe.headers.get(ve)),this.normalizedNames.set(ve,pe.normalizedNames.get(ve))})}clone(pe){const ve=new Ke;return ve.lazyInit=this.lazyInit&&this.lazyInit instanceof Ke?this.lazyInit:this,ve.lazyUpdate=(this.lazyUpdate||[]).concat([pe]),ve}applyUpdate(pe){const ve=pe.name.toLowerCase();switch(pe.op){case"a":case"s":let ce=pe.value;if("string"==typeof ce&&(ce=[ce]),0===ce.length)return;this.maybeSetNormalizedName(pe.name,ve);const ue=("a"===pe.op?this.headers.get(ve):void 0)||[];ue.push(...ce),this.headers.set(ve,ue);break;case"d":const Me=pe.value;if(Me){let Ye=this.headers.get(ve);if(!Ye)return;Ye=Ye.filter(Et=>-1===Me.indexOf(Et)),0===Ye.length?(this.headers.delete(ve),this.normalizedNames.delete(ve)):this.headers.set(ve,Ye)}else this.headers.delete(ve),this.normalizedNames.delete(ve)}}setHeaderEntries(pe,ve){const ce=(Array.isArray(ve)?ve:[ve]).map(Me=>Me.toString()),ue=pe.toLowerCase();this.headers.set(ue,ce),this.maybeSetNormalizedName(pe,ue)}forEach(pe){this.init(),Array.from(this.normalizedNames.keys()).forEach(ve=>pe(this.normalizedNames.get(ve),this.headers.get(ve)))}}class pt{encodeKey(pe){return xn(pe)}encodeValue(pe){return xn(pe)}decodeKey(pe){return decodeURIComponent(pe)}decodeValue(pe){return decodeURIComponent(pe)}}const jt=/%(\d[a-f0-9])/gi,Lt={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function xn(be){return encodeURIComponent(be).replace(jt,(pe,ve)=>Lt[ve]??pe)}function Dn(be){return`${be}`}class Se{constructor(pe={}){if(this.updates=null,this.cloneFrom=null,this.encoder=pe.encoder||new pt,pe.fromString){if(pe.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function $e(be,pe){const ve=new Map;return be.length>0&&be.replace(/^\?/,"").split("&").forEach(ue=>{const Me=ue.indexOf("="),[Ye,Et]=-1==Me?[pe.decodeKey(ue),""]:[pe.decodeKey(ue.slice(0,Me)),pe.decodeValue(ue.slice(Me+1))],st=ve.get(Ye)||[];st.push(Et),ve.set(Ye,st)}),ve}(pe.fromString,this.encoder)}else pe.fromObject?(this.map=new Map,Object.keys(pe.fromObject).forEach(ve=>{const ce=pe.fromObject[ve],ue=Array.isArray(ce)?ce.map(Dn):[Dn(ce)];this.map.set(ve,ue)})):this.map=null}has(pe){return this.init(),this.map.has(pe)}get(pe){this.init();const ve=this.map.get(pe);return ve?ve[0]:null}getAll(pe){return this.init(),this.map.get(pe)||null}keys(){return this.init(),Array.from(this.map.keys())}append(pe,ve){return this.clone({param:pe,value:ve,op:"a"})}appendAll(pe){const ve=[];return Object.keys(pe).forEach(ce=>{const ue=pe[ce];Array.isArray(ue)?ue.forEach(Me=>{ve.push({param:ce,value:Me,op:"a"})}):ve.push({param:ce,value:ue,op:"a"})}),this.clone(ve)}set(pe,ve){return this.clone({param:pe,value:ve,op:"s"})}delete(pe,ve){return this.clone({param:pe,value:ve,op:"d"})}toString(){return this.init(),this.keys().map(pe=>{const ve=this.encoder.encodeKey(pe);return this.map.get(pe).map(ce=>ve+"="+this.encoder.encodeValue(ce)).join("&")}).filter(pe=>""!==pe).join("&")}clone(pe){const ve=new Se({encoder:this.encoder});return ve.cloneFrom=this.cloneFrom||this,ve.updates=(this.updates||[]).concat(pe),ve}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(pe=>this.map.set(pe,this.cloneFrom.map.get(pe))),this.updates.forEach(pe=>{switch(pe.op){case"a":case"s":const ve=("a"===pe.op?this.map.get(pe.param):void 0)||[];ve.push(Dn(pe.value)),this.map.set(pe.param,ve);break;case"d":if(void 0===pe.value){this.map.delete(pe.param);break}{let ce=this.map.get(pe.param)||[];const ue=ce.indexOf(Dn(pe.value));-1!==ue&&ce.splice(ue,1),ce.length>0?this.map.set(pe.param,ce):this.map.delete(pe.param)}}}),this.cloneFrom=this.updates=null)}}class Ne{constructor(){this.map=new Map}set(pe,ve){return this.map.set(pe,ve),this}get(pe){return this.map.has(pe)||this.map.set(pe,pe.defaultValue()),this.map.get(pe)}delete(pe){return this.map.delete(pe),this}has(pe){return this.map.has(pe)}keys(){return this.map.keys()}}function mt(be){return typeof ArrayBuffer<"u"&&be instanceof ArrayBuffer}function dt(be){return typeof Blob<"u"&&be instanceof Blob}function Qt(be){return typeof FormData<"u"&&be instanceof FormData}class wn{constructor(pe,ve,ce,ue){let Me;if(this.url=ve,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=pe.toUpperCase(),function et(be){switch(be){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||ue?(this.body=void 0!==ce?ce:null,Me=ue):Me=ce,Me&&(this.reportProgress=!!Me.reportProgress,this.withCredentials=!!Me.withCredentials,Me.responseType&&(this.responseType=Me.responseType),Me.headers&&(this.headers=Me.headers),Me.context&&(this.context=Me.context),Me.params&&(this.params=Me.params)),this.headers||(this.headers=new Ke),this.context||(this.context=new Ne),this.params){const Ye=this.params.toString();if(0===Ye.length)this.urlWithParams=ve;else{const Et=ve.indexOf("?");this.urlWithParams=ve+(-1===Et?"?":Et<ve.length-1?"&":"")+Ye}}else this.params=new Se,this.urlWithParams=ve}serializeBody(){return null===this.body?null:mt(this.body)||dt(this.body)||Qt(this.body)||function un(be){return typeof URLSearchParams<"u"&&be instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Se?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Qt(this.body)?null:dt(this.body)?this.body.type||null:mt(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Se?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(pe={}){const ve=pe.method||this.method,ce=pe.url||this.url,ue=pe.responseType||this.responseType,Me=void 0!==pe.body?pe.body:this.body,Ye=void 0!==pe.withCredentials?pe.withCredentials:this.withCredentials,Et=void 0!==pe.reportProgress?pe.reportProgress:this.reportProgress;let st=pe.headers||this.headers,en=pe.params||this.params;const qn=pe.context??this.context;return void 0!==pe.setHeaders&&(st=Object.keys(pe.setHeaders).reduce((Bn,Sn)=>Bn.set(Sn,pe.setHeaders[Sn]),st)),pe.setParams&&(en=Object.keys(pe.setParams).reduce((Bn,Sn)=>Bn.set(Sn,pe.setParams[Sn]),en)),new wn(ve,ce,Me,{params:en,headers:st,context:qn,reportProgress:Et,responseType:ue,withCredentials:Ye})}}var cr=function(be){return be[be.Sent=0]="Sent",be[be.UploadProgress=1]="UploadProgress",be[be.ResponseHeader=2]="ResponseHeader",be[be.DownloadProgress=3]="DownloadProgress",be[be.Response=4]="Response",be[be.User=5]="User",be}(cr||{});class ut{constructor(pe,ve=200,ce="OK"){this.headers=pe.headers||new Ke,this.status=void 0!==pe.status?pe.status:ve,this.statusText=pe.statusText||ce,this.url=pe.url||null,this.ok=this.status>=200&&this.status<300}}class yn extends ut{constructor(pe={}){super(pe),this.type=cr.ResponseHeader}clone(pe={}){return new yn({headers:pe.headers||this.headers,status:void 0!==pe.status?pe.status:this.status,statusText:pe.statusText||this.statusText,url:pe.url||this.url||void 0})}}class $n extends ut{constructor(pe={}){super(pe),this.type=cr.Response,this.body=void 0!==pe.body?pe.body:null}clone(pe={}){return new $n({body:void 0!==pe.body?pe.body:this.body,headers:pe.headers||this.headers,status:void 0!==pe.status?pe.status:this.status,statusText:pe.statusText||this.statusText,url:pe.url||this.url||void 0})}}class ii extends ut{constructor(pe){super(pe,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${pe.url||"(unknown url)"}`:`Http failure response for ${pe.url||"(unknown url)"}: ${pe.status} ${pe.statusText}`,this.error=pe.error||null}}function si(be,pe){return{body:pe,headers:be.headers,context:be.context,observe:be.observe,params:be.params,reportProgress:be.reportProgress,responseType:be.responseType,withCredentials:be.withCredentials}}let It=(()=>{class be{constructor(ve){this.handler=ve}request(ve,ce,ue={}){let Me;if(ve instanceof wn)Me=ve;else{let st,en;st=ue.headers instanceof Ke?ue.headers:new Ke(ue.headers),ue.params&&(en=ue.params instanceof Se?ue.params:new Se({fromObject:ue.params})),Me=new wn(ve,ce,void 0!==ue.body?ue.body:null,{headers:st,context:ue.context,params:en,reportProgress:ue.reportProgress,responseType:ue.responseType||"json",withCredentials:ue.withCredentials})}const Ye=(0,se.of)(Me).pipe((0,fe.H)(st=>this.handler.handle(st)));if(ve instanceof wn||"events"===ue.observe)return Ye;const Et=Ye.pipe((0,J.p)(st=>st instanceof $n));switch(ue.observe||"body"){case"body":switch(Me.responseType){case"arraybuffer":return Et.pipe((0,ee.T)(st=>{if(null!==st.body&&!(st.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return st.body}));case"blob":return Et.pipe((0,ee.T)(st=>{if(null!==st.body&&!(st.body instanceof Blob))throw new Error("Response is not a Blob.");return st.body}));case"text":return Et.pipe((0,ee.T)(st=>{if(null!==st.body&&"string"!=typeof st.body)throw new Error("Response is not a string.");return st.body}));default:return Et.pipe((0,ee.T)(st=>st.body))}case"response":return Et;default:throw new Error(`Unreachable: unhandled observe type ${ue.observe}}`)}}delete(ve,ce={}){return this.request("DELETE",ve,ce)}get(ve,ce={}){return this.request("GET",ve,ce)}head(ve,ce={}){return this.request("HEAD",ve,ce)}jsonp(ve,ce){return this.request("JSONP",ve,{params:(new Se).append(ce,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(ve,ce={}){return this.request("OPTIONS",ve,ce)}patch(ve,ce,ue={}){return this.request("PATCH",ve,si(ue,ce))}post(ve,ce,ue={}){return this.request("POST",ve,si(ue,ce))}put(ve,ce,ue={}){return this.request("PUT",ve,si(ue,ce))}static{this.\u0275fac=function(ce){return new(ce||be)(C.KVO(ae))}}static{this.\u0275prov=C.jDH({token:be,factory:be.\u0275fac})}}return be})();function Dt(be,pe){return pe(be)}function ht(be,pe){return(ve,ce)=>pe.intercept(ve,{handle:ue=>be(ue,ce)})}const Ot=new C.nKC(""),on=new C.nKC(""),An=new C.nKC("");function _r(){let be=null;return(pe,ve)=>{null===be&&(be=((0,C.WQX)(Ot,{optional:!0})??[]).reduceRight(ht,Dt));const ce=(0,C.WQX)(C.$K3),ue=ce.add();return be(pe,ve).pipe((0,Ae.j)(()=>ce.remove(ue)))}}let Zt=(()=>{class be extends ae{constructor(ve,ce){super(),this.backend=ve,this.injector=ce,this.chain=null,this.pendingTasks=(0,C.WQX)(C.$K3)}handle(ve){if(null===this.chain){const ue=Array.from(new Set([...this.injector.get(on),...this.injector.get(An,[])]));this.chain=ue.reduceRight((Me,Ye)=>function bn(be,pe,ve){return(ce,ue)=>ve.runInContext(()=>pe(ce,Me=>be(Me,ue)))}(Me,Ye,this.injector),Dt)}const ce=this.pendingTasks.add();return this.chain(ve,ue=>this.backend.handle(ue)).pipe((0,Ae.j)(()=>this.pendingTasks.remove(ce)))}static{this.\u0275fac=function(ce){return new(ce||be)(C.KVO(Re),C.KVO(C.uvJ))}}static{this.\u0275prov=C.jDH({token:be,factory:be.\u0275fac})}}return be})();const pr=/^\)\]\}',?\n/;let $t=(()=>{class be{constructor(ve){this.xhrFactory=ve}handle(ve){if("JSONP"===ve.method)throw new C.wOt(-2800,!1);const ce=this.xhrFactory;return(ce.\u0275loadImpl?(0,he.H)(ce.\u0275loadImpl()):(0,se.of)(null)).pipe((0,Ue.n)(()=>new _e.c(Me=>{const Ye=ce.build();if(Ye.open(ve.method,ve.urlWithParams),ve.withCredentials&&(Ye.withCredentials=!0),ve.headers.forEach((Un,tr)=>Ye.setRequestHeader(Un,tr.join(","))),ve.headers.has("Accept")||Ye.setRequestHeader("Accept","application/json, text/plain, */*"),!ve.headers.has("Content-Type")){const Un=ve.detectContentTypeHeader();null!==Un&&Ye.setRequestHeader("Content-Type",Un)}if(ve.responseType){const Un=ve.responseType.toLowerCase();Ye.responseType="json"!==Un?Un:"text"}const Et=ve.serializeBody();let st=null;const en=()=>{if(null!==st)return st;const Un=Ye.statusText||"OK",tr=new Ke(Ye.getAllResponseHeaders()),kr=function lr(be){return"responseURL"in be&&be.responseURL?be.responseURL:/^X-Request-URL:/m.test(be.getAllResponseHeaders())?be.getResponseHeader("X-Request-URL"):null}(Ye)||ve.url;return st=new yn({headers:tr,status:Ye.status,statusText:Un,url:kr}),st},qn=()=>{let{headers:Un,status:tr,statusText:kr,url:vs}=en(),Br=null;204!==tr&&(Br=typeof Ye.response>"u"?Ye.responseText:Ye.response),0===tr&&(tr=Br?200:0);let Ki=tr>=200&&tr<300;if("json"===ve.responseType&&"string"==typeof Br){const Mr=Br;Br=Br.replace(pr,"");try{Br=""!==Br?JSON.parse(Br):null}catch(qr){Br=Mr,Ki&&(Ki=!1,Br={error:qr,text:Br})}}Ki?(Me.next(new $n({body:Br,headers:Un,status:tr,statusText:kr,url:vs||void 0})),Me.complete()):Me.error(new ii({error:Br,headers:Un,status:tr,statusText:kr,url:vs||void 0}))},Bn=Un=>{const{url:tr}=en(),kr=new ii({error:Un,status:Ye.status||0,statusText:Ye.statusText||"Unknown Error",url:tr||void 0});Me.error(kr)};let Sn=!1;const mi=Un=>{Sn||(Me.next(en()),Sn=!0);let tr={type:cr.DownloadProgress,loaded:Un.loaded};Un.lengthComputable&&(tr.total=Un.total),"text"===ve.responseType&&Ye.responseText&&(tr.partialText=Ye.responseText),Me.next(tr)},Ti=Un=>{let tr={type:cr.UploadProgress,loaded:Un.loaded};Un.lengthComputable&&(tr.total=Un.total),Me.next(tr)};return Ye.addEventListener("load",qn),Ye.addEventListener("error",Bn),Ye.addEventListener("timeout",Bn),Ye.addEventListener("abort",Bn),ve.reportProgress&&(Ye.addEventListener("progress",mi),null!==Et&&Ye.upload&&Ye.upload.addEventListener("progress",Ti)),Ye.send(Et),Me.next({type:cr.Sent}),()=>{Ye.removeEventListener("error",Bn),Ye.removeEventListener("abort",Bn),Ye.removeEventListener("load",qn),Ye.removeEventListener("timeout",Bn),ve.reportProgress&&(Ye.removeEventListener("progress",mi),null!==Et&&Ye.upload&&Ye.upload.removeEventListener("progress",Ti)),Ye.readyState!==Ye.DONE&&Ye.abort()}})))}static{this.\u0275fac=function(ce){return new(ce||be)(C.KVO(ne.N0))}}static{this.\u0275prov=C.jDH({token:be,factory:be.\u0275fac})}}return be})();const Yn=new C.nKC("XSRF_ENABLED"),Ut=new C.nKC("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),hn=new C.nKC("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class fi{}let pi=(()=>{class be{constructor(ve,ce,ue){this.doc=ve,this.platform=ce,this.cookieName=ue,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const ve=this.doc.cookie||"";return ve!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,ne._b)(ve,this.cookieName),this.lastCookieString=ve),this.lastToken}static{this.\u0275fac=function(ce){return new(ce||be)(C.KVO(ne.qQ),C.KVO(C.Agw),C.KVO(Ut))}}static{this.\u0275prov=C.jDH({token:be,factory:be.\u0275fac})}}return be})();function Ri(be,pe){const ve=be.url.toLowerCase();if(!(0,C.WQX)(Yn)||"GET"===be.method||"HEAD"===be.method||ve.startsWith("http://")||ve.startsWith("https://"))return pe(be);const ce=(0,C.WQX)(fi).getToken(),ue=(0,C.WQX)(hn);return null!=ce&&!be.headers.has(ue)&&(be=be.clone({headers:be.headers.set(ue,ce)})),pe(be)}var Vr=function(be){return be[be.Interceptors=0]="Interceptors",be[be.LegacyInterceptors=1]="LegacyInterceptors",be[be.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",be[be.NoXsrfProtection=3]="NoXsrfProtection",be[be.JsonpSupport=4]="JsonpSupport",be[be.RequestsMadeViaParent=5]="RequestsMadeViaParent",be[be.Fetch=6]="Fetch",be}(Vr||{});function Kr(be,pe){return{\u0275kind:be,\u0275providers:pe}}function Bi(...be){const pe=[It,$t,Zt,{provide:ae,useExisting:Zt},{provide:Re,useExisting:$t},{provide:on,useValue:Ri,multi:!0},{provide:Yn,useValue:!0},{provide:fi,useClass:pi}];for(const ve of be)pe.push(...ve.\u0275providers);return(0,C.EmA)(pe)}const ai=new C.nKC("LEGACY_INTERCEPTOR_FN");let K=(()=>{class be{static{this.\u0275fac=function(ce){return new(ce||be)}}static{this.\u0275mod=C.$C({type:be})}static{this.\u0275inj=C.G2t({providers:[Bi(Kr(Vr.LegacyInterceptors,[{provide:ai,useFactory:_r},{provide:on,useExisting:ai,multi:!0}]))]})}}return be})()},7705:(Vt,je,B)=>{B.d(je,{$C:()=>Lo,$GK:()=>Xt,$K3:()=>xI,$MX:()=>El,AVh:()=>tm,Agw:()=>Wp,BIS:()=>Kp,BMQ:()=>Kf,C4Q:()=>dm,C5r:()=>pI,Co$:()=>Sw,DNE:()=>S_,EFF:()=>lv,EJ8:()=>us,EmA:()=>Up,FS9:()=>ep,FsC:()=>ss,G2t:()=>An,GBs:()=>uI,GFd:()=>Kc,H3F:()=>PI,H5H:()=>dE,H8p:()=>ch,HJs:()=>Gb,Hbi:()=>Pb,JRh:()=>i,JZv:()=>$t,Jv_:()=>Aw,KH2:()=>sp,KVO:()=>Ht,Kcf:()=>Mp,L39:()=>Hb,LfX:()=>Zt,Lme:()=>n,MKu:()=>zE,NAR:()=>z_,NEm:()=>cb,NYb:()=>sb,Njj:()=>Wa,O8t:()=>Qe,OA$:()=>kn,Ocv:()=>OC,Ol2:()=>Rw,PLl:()=>Gp,QTQ:()=>Iy,Ql9:()=>LC,QuC:()=>Es,R7$:()=>Ey,RV6:()=>V_,Rfq:()=>pt,RxE:()=>ng,SKi:()=>zs,SdG:()=>G_,SpI:()=>e,TL$:()=>_l,Tbb:()=>Re,UyX:()=>Om,VBU:()=>ei,Vns:()=>Uh,Vt3:()=>Vy,WHO:()=>LI,WPN:()=>Au,WQX:()=>Yt,XpG:()=>H_,Xx1:()=>Qa,Y8G:()=>Qy,Z63:()=>uh,ZF7:()=>xc,_9s:()=>ry,_q3:()=>HE,aKT:()=>Eh,aNF:()=>Nw,bIt:()=>xu,bMT:()=>qw,bVm:()=>Jg,bc$:()=>zv,bkB:()=>Su,c1b:()=>_v,cWb:()=>Rp,czy:()=>qd,e01:()=>UI,e5t:()=>Ov,eBV:()=>to,eq3:()=>Uw,eu8:()=>Yy,fpN:()=>Nb,gRc:()=>yb,gXe:()=>Ye,giA:()=>VI,h9k:()=>Bm,hnV:()=>NI,i5U:()=>Qw,iLQ:()=>LE,j41:()=>Qg,jDH:()=>Ot,jNT:()=>Zg,k0s:()=>Zf,kS0:()=>rl,kdw:()=>Ac,lNU:()=>Dn,l_i:()=>Vw,lsd:()=>lI,mGM:()=>aI,mq5:()=>Z0,n$t:()=>Fp,nI1:()=>Kw,nKC:()=>Ut,nrm:()=>Xg,o8S:()=>cp,oH4:()=>HI,osQ:()=>df,plB:()=>AE,qex:()=>Yg,rOR:()=>mv,rXU:()=>Hc,rcV:()=>pu,sFG:()=>eg,sMw:()=>Bw,sZ2:()=>zp,sdS:()=>O_,uvJ:()=>mu,w6W:()=>TT,wOt:()=>Se,wni:()=>cI,xGo:()=>Ho,xe9:()=>wv,xvI:()=>bl,zZn:()=>Ba,zcH:()=>fa,ziG:()=>jw,zjR:()=>Zy});var C=B(1413),se=B(8359),he=B(1985),_e=B(7786),fe=B(4412),J=B(7673),ee=B(7647),Ae=B(5558),Ue=B(3294);function ne(t){for(let r in t)if(t[r]===ne)return r;throw Error("Could not find renamed property on target object.")}function ae(t,r){for(const s in r)r.hasOwnProperty(s)&&!t.hasOwnProperty(s)&&(t[s]=r[s])}function Re(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Re).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const r=t.toString();if(null==r)return""+r;const s=r.indexOf("\n");return-1===s?r:r.substring(0,s)}function Ke(t,r){return null==t||""===t?null===r?"":r:null==r||""===r?t:t+" "+r}const Ie=ne({__forward_ref__:ne});function pt(t){return t.__forward_ref__=pt,t.toString=function(){return Re(this())},t}function $e(t){return jt(t)?t():t}function jt(t){return"function"==typeof t&&t.hasOwnProperty(Ie)&&t.__forward_ref__===pt}function Lt(t){return t&&!!t.\u0275providers}const Dn="https://g.co/ng/security#xss";class Se extends Error{constructor(r,s){super(function at(t,r){return`NG0${Math.abs(t)}${r?": "+r:""}`}(r,s)),this.code=r}}function Ne(t){return"string"==typeof t?t:null==t?"":String(t)}function un(t,r){throw new Se(-201,!1)}function it(t,r){null==t&&function ze(t,r,s,a){throw new Error(`ASSERTION ERROR: ${t}`+(null==a?"":` [Expected=> ${s} ${a} ${r} <=Actual]`))}(r,t,null,"!=")}function Ot(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function An(t){return{providers:t.providers||[],imports:t.imports||[]}}function _r(t){return fr(t,sr)||fr(t,Di)}function Zt(t){return null!==_r(t)}function fr(t,r){return t.hasOwnProperty(r)?t[r]:null}function Ir(t){return t&&(t.hasOwnProperty(Vi)||t.hasOwnProperty(Zr))?t[Vi]:null}const sr=ne({\u0275prov:ne}),Vi=ne({\u0275inj:ne}),Di=ne({ngInjectableDef:ne}),Zr=ne({ngInjectorDef:ne});var Xt=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(Xt||{});let vn;function On(t){const r=vn;return vn=t,r}function pr(t,r,s){const a=_r(t);return a&&"root"==a.providedIn?void 0===a.value?a.value=a.factory():a.value:s&Xt.Optional?null:void 0!==r?r:void un(Re(t))}const $t=globalThis;class Ut{constructor(r,s){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=Ot({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const zn={},Ln="__NG_DI_FLAG__",Sr="ngTempTokenPath",W=/\n/gm,Q="__source";let K;function tt(t){const r=K;return K=t,r}function Mt(t,r=Xt.Default){if(void 0===K)throw new Se(-203,!1);return null===K?pr(t,void 0,r):K.get(t,r&Xt.Optional?null:void 0,r)}function Ht(t,r=Xt.Default){return(function pn(){return vn}()||Mt)($e(t),r)}function Yt(t,r=Xt.Default){return Ht(t,gn(r))}function gn(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function gr(t){const r=[];for(let s=0;s<t.length;s++){const a=$e(t[s]);if(Array.isArray(a)){if(0===a.length)throw new Se(900,!1);let c,d=Xt.Default;for(let m=0;m<a.length;m++){const _=a[m],A=pe(_);"number"==typeof A?-1===A?c=_.token:d|=A:c=_}r.push(Ht(c,d))}else r.push(Ht(a))}return r}function be(t,r){return t[Ln]=r,t.prototype[Ln]=r,t}function pe(t){return t[Ln]}function ue(t){return{toString:t}.toString()}var Me=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Me||{}),Ye=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Ye||{});const Et={},st=[],en=ne({\u0275cmp:ne}),qn=ne({\u0275dir:ne}),Bn=ne({\u0275pipe:ne}),Sn=ne({\u0275mod:ne}),mi=ne({\u0275fac:ne}),Ti=ne({__NG_ELEMENT_ID__:ne}),Un=ne({__NG_ENV_ID__:ne});function tr(t,r,s){let a=t.length;for(;;){const c=t.indexOf(r,s);if(-1===c)return c;if(0===c||t.charCodeAt(c-1)<=32){const d=r.length;if(c+d===a||t.charCodeAt(c+d)<=32)return c}s=c+1}}function kr(t,r,s){let a=0;for(;a<s.length;){const c=s[a];if("number"==typeof c){if(0!==c)break;a++;const d=s[a++],m=s[a++],_=s[a++];t.setAttribute(r,m,_,d)}else{const d=c,m=s[++a];Br(d)?t.setProperty(r,d,m):t.setAttribute(r,d,m),a++}}return a}function vs(t){return 3===t||4===t||6===t}function Br(t){return 64===t.charCodeAt(0)}function Ki(t,r){if(null!==r&&0!==r.length)if(null===t||0===t.length)t=r.slice();else{let s=-1;for(let a=0;a<r.length;a++){const c=r[a];"number"==typeof c?s=c:0===s||Mr(t,s,c,null,-1===s||2===s?r[++a]:null)}}return t}function Mr(t,r,s,a,c){let d=0,m=t.length;if(-1===r)m=-1;else for(;d<t.length;){const _=t[d++];if("number"==typeof _){if(_===r){m=-1;break}if(_>r){m=d-1;break}}}for(;d<t.length;){const _=t[d];if("number"==typeof _)break;if(_===s){if(null===a)return void(null!==c&&(t[d+1]=c));if(a===t[d+1])return void(t[d+2]=c)}d++,null!==a&&d++,null!==c&&d++}-1!==m&&(t.splice(m,0,r),d=m+1),t.splice(d++,0,s),null!==a&&t.splice(d++,0,a),null!==c&&t.splice(d++,0,c)}const qr="ng-template";function qi(t,r,s){let a=0,c=!0;for(;a<t.length;){let d=t[a++];if("string"==typeof d&&c){const m=t[a++];if(s&&"class"===d&&-1!==tr(m.toLowerCase(),r,0))return!0}else{if(1===d){for(;a<t.length&&"string"==typeof(d=t[a++]);)if(d.toLowerCase()===r)return!0;return!1}"number"==typeof d&&(c=!1)}}return!1}function _s(t){return 4===t.type&&t.value!==qr}function uo(t,r,s){return r===(4!==t.type||s?t.value:qr)}function Ee(t,r,s){let a=4;const c=t.attrs||[],d=function tn(t){for(let r=0;r<t.length;r++)if(vs(t[r]))return r;return t.length}(c);let m=!1;for(let _=0;_<r.length;_++){const A=r[_];if("number"!=typeof A){if(!m)if(4&a){if(a=2|1&a,""!==A&&!uo(t,A,s)||""===A&&1===r.length){if(ye(a))return!1;m=!0}}else{const L=8&a?A:r[++_];if(8&a&&null!==t.attrs){if(!qi(t.attrs,L,s)){if(ye(a))return!1;m=!0}continue}const re=Le(8&a?"class":A,c,_s(t),s);if(-1===re){if(ye(a))return!1;m=!0;continue}if(""!==L){let De;De=re>d?"":c[re+1].toLowerCase();const Oe=8&a?De:null;if(Oe&&-1!==tr(Oe,L,0)||2&a&&L!==De){if(ye(a))return!1;m=!0}}}}else{if(!m&&!ye(a)&&!ye(A))return!1;if(m&&ye(A))continue;m=!1,a=A|1&a}}return ye(a)||m}function ye(t){return 0==(1&t)}function Le(t,r,s,a){if(null===r)return-1;let c=0;if(a||!s){let d=!1;for(;c<r.length;){const m=r[c];if(m===t)return c;if(3===m||6===m)d=!0;else{if(1===m||2===m){let _=r[++c];for(;"string"==typeof _;)_=r[++c];continue}if(4===m)break;if(0===m){c+=4;continue}}c+=d?1:2}return-1}return function Hn(t,r){let s=t.indexOf(4);if(s>-1)for(s++;s<t.length;){const a=t[s];if("number"==typeof a)return-1;if(a===r)return s;s++}return-1}(r,t)}function rt(t,r,s=!1){for(let a=0;a<r.length;a++)if(Ee(t,r[a],s))return!0;return!1}function Vn(t,r){e:for(let s=0;s<r.length;s++){const a=r[s];if(t.length===a.length){for(let c=0;c<t.length;c++)if(t[c]!==a[c])continue e;return!0}}return!1}function Gn(t,r){return t?":not("+r.trim()+")":r}function as(t){let r=t[0],s=1,a=2,c="",d=!1;for(;s<t.length;){let m=t[s];if("string"==typeof m)if(2&a){const _=t[++s];c+="["+m+(_.length>0?'="'+_+'"':"")+"]"}else 8&a?c+="."+m:4&a&&(c+=" "+m);else""!==c&&!ye(m)&&(r+=Gn(d,c),c=""),a=m,d=d||!ye(a);s++}return""!==c&&(r+=Gn(d,c)),r}function ei(t){return ue(()=>{const r=zo(t),s={...r,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Me.OnPush,directiveDefs:null,pipeDefs:null,dependencies:r.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Ye.Emulated,styles:t.styles||st,_:null,schemas:t.schemas||null,tView:null,id:""};qs(s);const a=t.dependencies;return s.directiveDefs=Uo(a,!1),s.pipeDefs=Uo(a,!0),s.id=function ws(t){let r=0;const s=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const c of s)r=Math.imul(31,r)+c.charCodeAt(0)<<0;return r+=2147483648,"c"+r}(s),s})}function co(t){return mn(t)||Jn(t)}function Eo(t){return null!==t}function Lo(t){return ue(()=>({type:t.type,bootstrap:t.bootstrap||st,declarations:t.declarations||st,imports:t.imports||st,exports:t.exports||st,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Qr(t,r){if(null==t)return Et;const s={};for(const a in t)if(t.hasOwnProperty(a)){let c=t[a],d=c;Array.isArray(c)&&(d=c[1],c=c[0]),s[c]=a,r&&(r[c]=d)}return s}function ss(t){return ue(()=>{const r=zo(t);return qs(r),r})}function us(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function mn(t){return t[en]||null}function Jn(t){return t[qn]||null}function Rr(t){return t[Bn]||null}function Es(t){const r=mn(t)||Jn(t)||Rr(t);return null!==r&&r.standalone}function Ci(t,r){const s=t[Sn]||null;if(!s&&!0===r)throw new Error(`Type ${Re(t)} does not have '\u0275mod' property.`);return s}function zo(t){const r={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:r,inputTransforms:null,inputConfig:t.inputs||Et,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||st,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Qr(t.inputs,r),outputs:Qr(t.outputs)}}function qs(t){t.features?.forEach(r=>r(t))}function Uo(t,r){if(!t)return null;const s=r?Rr:co;return()=>("function"==typeof t?t():t).map(a=>s(a)).filter(Eo)}const mr=0,vt=1,an=2,cn=3,ji=4,cs=5,Pi=6,Us=7,Xr=8,ls=9,ds=10,ln=11,Go=12,Ns=13,xi=14,Dr=15,Vo=16,lo=17,ui=18,wo=19,tu=20,Oi=21,Io=22,Ps=23,Wo=24,Wn=25,To=1,Qi=2,$r=7,xs=9,ci=11;function li(t){return Array.isArray(t)&&"object"==typeof t[To]}function bi(t){return Array.isArray(t)&&!0===t[To]}function Qs(t){return 0!=(4&t.flags)}function Yr(t){return t.componentOffset>-1}function ki(t){return 1==(1&t.flags)}function $i(t){return!!t.template}function Nr(t){return 0!=(512&t[an])}function Yi(t,r){return t.hasOwnProperty(mi)?t[mi]:null}let Hr=null,ks=!1;function or(t){const r=Hr;return Hr=t,r}const Bo={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function Js(t){if(!po(t)||t.dirty){if(!t.producerMustRecompute(t)&&!vi(t))return void(t.dirty=!1);t.producerRecomputeValue(t),t.dirty=!1}}function fo(t){t.dirty=!0,function Bs(t){if(void 0===t.liveConsumerNode)return;const r=ks;ks=!0;try{for(const s of t.liveConsumerNode)s.dirty||fo(s)}finally{ks=r}}(t),t.consumerMarkedDirty?.(t)}function yi(t){return t&&(t.nextProducerIndex=0),or(t)}function Ea(t,r){if(or(r),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(po(t))for(let s=t.nextProducerIndex;s<t.producerNode.length;s++)ns(t.producerNode[s],t.producerIndexOfThis[s]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function vi(t){dr(t);for(let r=0;r<t.producerNode.length;r++){const s=t.producerNode[r],a=t.producerLastReadVersion[r];if(a!==s.version||(Js(s),a!==s.version))return!0}return!1}function nu(t){if(dr(t),po(t))for(let r=0;r<t.producerNode.length;r++)ns(t.producerNode[r],t.producerIndexOfThis[r]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function ns(t,r){if(function js(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),dr(t),1===t.liveConsumerNode.length)for(let a=0;a<t.producerNode.length;a++)ns(t.producerNode[a],t.producerIndexOfThis[a]);const s=t.liveConsumerNode.length-1;if(t.liveConsumerNode[r]=t.liveConsumerNode[s],t.liveConsumerIndexOfThis[r]=t.liveConsumerIndexOfThis[s],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,r<t.liveConsumerNode.length){const a=t.liveConsumerIndexOfThis[r],c=t.liveConsumerNode[r];dr(c),c.producerIndexOfThis[a]=r}}function po(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function dr(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let Fs=null;function Qe(t){const r=or(null);try{return t()}finally{or(r)}}const Gt=()=>{},yr=(()=>({...Bo,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule(t.ref)},hasRun:!1,cleanupFn:Gt}))();class Zn{constructor(r,s,a){this.previousValue=r,this.currentValue=s,this.firstChange=a}isFirstChange(){return this.firstChange}}function kn(){return Fr}function Fr(t){return t.type.prototype.ngOnChanges&&(t.setInput=di),Tr}function Tr(){const t=Ds(this),r=t?.current;if(r){const s=t.previous;if(s===Et)t.previous=r;else for(let a in r)s[a]=r[a];t.current=null,this.ngOnChanges(r)}}function di(t,r,s,a){const c=this.declaredInputs[s],d=Ds(t)||function ar(t,r){return t[Fi]=r}(t,{previous:Et,current:null}),m=d.current||(d.current={}),_=d.previous,A=_[c];m[c]=new Zn(A&&A.currentValue,r,_===Et),t[a]=r}kn.ngInherit=!0;const Fi="__ngSimpleChanges__";function Ds(t){return t[Fi]||null}const Ji=function(t,r,s){};function sn(t){for(;Array.isArray(t);)t=t[mr];return t}function na(t,r){return sn(r[t])}function O(t,r){return sn(r[t.index])}function v(t,r){return t.data[r]}function M(t,r){return t[r]}function x(t,r){const s=r[t];return li(s)?s:s[mr]}function ke(t,r){return null==r?null:t[r]}function Xe(t){t[lo]=0}function Pt(t){1024&t[an]||(t[an]|=1024,Tn(t,1))}function Tt(t){1024&t[an]&&(t[an]&=-1025,Tn(t,-1))}function Tn(t,r){let s=t[cn];if(null===s)return;s[cs]+=r;let a=s;for(s=s[cn];null!==s&&(1===r&&1===a[cs]||-1===r&&0===a[cs]);)s[cs]+=r,a=s,s=s[cn]}const Ct={lFrame:ur(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Or(){return Ct.bindingsEnabled}function Bt(){return null!==Ct.skipHydrationRootTNode}function ct(){return Ct.lFrame.lView}function Rn(){return Ct.lFrame.tView}function to(t){return Ct.lFrame.contextLView=t,t[Xr]}function Wa(t){return Ct.lFrame.contextLView=null,t}function xt(){let t=fn();for(;null!==t&&64===t.type;)t=t.parent;return t}function fn(){return Ct.lFrame.currentTNode}function Fn(t,r){const s=Ct.lFrame;s.currentTNode=t,s.isParent=r}function wi(){return Ct.lFrame.isParent}function ti(){Ct.lFrame.isParent=!1}function ri(){const t=Ct.lFrame;let r=t.bindingRootIndex;return-1===r&&(r=t.bindingRootIndex=t.tView.bindingStartIndex),r}function Cs(){return Ct.lFrame.bindingIndex++}function hr(t){const r=Ct.lFrame,s=r.bindingIndex;return r.bindingIndex=r.bindingIndex+t,s}function y(t,r){const s=Ct.lFrame;s.bindingIndex=s.bindingRootIndex=t,F(r)}function F(t){Ct.lFrame.currentDirectiveIndex=t}function oe(){return Ct.lFrame.currentQueryIndex}function We(t){Ct.lFrame.currentQueryIndex=t}function Ge(t){const r=t[vt];return 2===r.type?r.declTNode:1===r.type?t[Pi]:null}function At(t,r,s){if(s&Xt.SkipSelf){let c=r,d=t;for(;!(c=c.parent,null!==c||s&Xt.Host||(c=Ge(d),null===c||(d=d[xi],10&c.type))););if(null===c)return!1;r=c,t=d}const a=Ct.lFrame=Er();return a.currentTNode=r,a.lView=t,!0}function In(t){const r=Er(),s=t[vt];Ct.lFrame=r,r.currentTNode=s.firstChild,r.lView=t,r.tView=s,r.contextLView=t,r.bindingIndex=s.bindingStartIndex,r.inI18n=!1}function Er(){const t=Ct.lFrame,r=null===t?null:t.child;return null===r?ur(t):r}function ur(t){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=r),r}function Lr(){const t=Ct.lFrame;return Ct.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const Na=Lr;function No(){const t=Lr();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function rs(){return Ct.lFrame.selectedIndex}function Da(t){Ct.lFrame.selectedIndex=t}function hi(){const t=Ct.lFrame;return v(t.tView,t.selectedIndex)}let Lu=!0;function Uu(){return Lu}function Ls(t){Lu=t}function Vu(t,r){for(let s=r.directiveStart,a=r.directiveEnd;s<a;s++){const d=t.data[s].type.prototype,{ngAfterContentInit:m,ngAfterContentChecked:_,ngAfterViewInit:A,ngAfterViewChecked:L,ngOnDestroy:G}=d;m&&(t.contentHooks??=[]).push(-s,m),_&&((t.contentHooks??=[]).push(s,_),(t.contentCheckHooks??=[]).push(s,_)),A&&(t.viewHooks??=[]).push(-s,A),L&&((t.viewHooks??=[]).push(s,L),(t.viewCheckHooks??=[]).push(s,L)),null!=G&&(t.destroyHooks??=[]).push(s,G)}}function yc(t,r,s){vc(t,r,3,s)}function tl(t,r,s,a){(3&t[an])===s&&vc(t,r,s,a)}function Ld(t,r){let s=t[an];(3&s)===r&&(s&=8191,s+=1,t[an]=s)}function vc(t,r,s,a){const d=a??-1,m=r.length-1;let _=0;for(let A=void 0!==a?65535&t[lo]:0;A<m;A++)if("number"==typeof r[A+1]){if(_=r[A],null!=a&&_>=a)break}else r[A]<0&&(t[lo]+=65536),(_<d||-1==d)&&(Bu(t,s,r,A),t[lo]=(4294901760&t[lo])+A+2),A++}function Bl(t,r){Ji(4,t,r);const s=or(null);try{r.call(t)}finally{or(s),Ji(5,t,r)}}function Bu(t,r,s,a){const c=s[a]<0,d=s[a+1],_=t[c?-s[a]:s[a]];c?t[an]>>13<t[lo]>>16&&(3&t[an])===r&&(t[an]+=8192,Bl(_,d)):Bl(_,d)}const ju=-1;class ru{constructor(r,s,a){this.factory=r,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=a}}function gs(t){return t!==ju}function Jr(t){return 32767&t}function sa(t,r){let s=function nl(t){return t>>16}(t),a=r;for(;s>0;)a=a[xi],s--;return a}let ro=!0;function Hu(t){const r=ro;return ro=t,r}const bs=255,jl=5;let oa=0;const Gr={};function Ca(t,r){const s=ba(t,r);if(-1!==s)return s;const a=r[vt];a.firstCreatePass&&(t.injectorIndex=r.length,zu(a.data,t),zu(r,null),zu(a.blueprint,null));const c=su(t,r),d=t.injectorIndex;if(gs(c)){const m=Jr(c),_=sa(c,r),A=_[vt].data;for(let L=0;L<8;L++)r[d+L]=_[m+L]|A[m+L]}return r[d+8]=c,d}function zu(t,r){t.push(0,0,0,0,0,0,0,0,r)}function ba(t,r){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===r[t.injectorIndex+8]?-1:t.injectorIndex}function su(t,r){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let s=0,a=null,c=r;for(;null!==c;){if(a=Hl(c),null===a)return ju;if(s++,c=c[xi],-1!==a.injectorIndex)return a.injectorIndex|s<<16}return ju}function Po(t,r,s){!function Ta(t,r,s){let a;"string"==typeof s?a=s.charCodeAt(0)||0:s.hasOwnProperty(Ti)&&(a=s[Ti]),null==a&&(a=s[Ti]=oa++);const c=a&bs;r.data[t+(c>>jl)]|=1<<c}(t,r,s)}function xa(t,r,s){if(s&Xt.Optional||void 0!==t)return t;un()}function ua(t,r,s,a){if(s&Xt.Optional&&void 0===a&&(a=null),!(s&(Xt.Self|Xt.Host))){const c=t[ls],d=On(void 0);try{return c?c.get(r,a,s&Xt.Optional):pr(r,a,s&Xt.Optional)}finally{On(d)}}return xa(a,0,s)}function xo(t,r,s,a=Xt.Default,c){if(null!==t){if(2048&r[an]&&!(a&Xt.Self)){const m=function wc(t,r,s,a,c){let d=t,m=r;for(;null!==d&&null!==m&&2048&m[an]&&!(512&m[an]);){const _=Eu(d,m,s,a|Xt.Self,Gr);if(_!==Gr)return _;let A=d.parent;if(!A){const L=m[tu];if(L){const G=L.get(s,Gr,a);if(G!==Gr)return G}A=Hl(m),m=m[xi]}d=A}return c}(t,r,s,a,Gr);if(m!==Gr)return m}const d=Eu(t,r,s,a,Gr);if(d!==Gr)return d}return ua(r,s,a,c)}function Eu(t,r,s,a,c){const d=function Gu(t){if("string"==typeof t)return t.charCodeAt(0)||0;const r=t.hasOwnProperty(Ti)?t[Ti]:void 0;return"number"==typeof r?r>=0?r&bs:$l:r}(s);if("function"==typeof d){if(!At(r,t,a))return a&Xt.Host?xa(c,0,a):ua(r,s,a,c);try{let m;if(m=d(a),null!=m||a&Xt.Optional)return m;un()}finally{Na()}}else if("number"==typeof d){let m=null,_=ba(t,r),A=ju,L=a&Xt.Host?r[Dr][Pi]:null;for((-1===_||a&Xt.SkipSelf)&&(A=-1===_?su(t,r):r[_+8],A!==ju&&Oa(a,!1)?(m=r[vt],_=Jr(A),r=sa(A,r)):_=-1);-1!==_;){const G=r[vt];if(Aa(d,_,G.data)){const re=Ka(_,r,s,m,a,L);if(re!==Gr)return re}A=r[_+8],A!==ju&&Oa(a,r[vt].data[_+8]===L)&&Aa(d,_,r)?(m=G,_=Jr(A),r=sa(A,r)):_=-1}}return c}function Ka(t,r,s,a,c,d){const m=r[vt],_=m.data[t+8],G=Ec(_,m,s,null==a?Yr(_)&&ro:a!=m&&0!=(3&_.type),c&Xt.Host&&d===_);return null!==G?$o(r,m,G,_):Gr}function Ec(t,r,s,a,c){const d=t.providerIndexes,m=r.data,_=1048575&d,A=t.directiveStart,G=d>>20,De=c?_+G:t.directiveEnd;for(let Oe=a?_:_+G;Oe<De;Oe++){const lt=m[Oe];if(Oe<A&&s===lt||Oe>=A&&lt.type===s)return Oe}if(c){const Oe=m[A];if(Oe&&$i(Oe)&&Oe.type===s)return A}return null}function $o(t,r,s,a){let c=t[s];const d=r.data;if(function $u(t){return t instanceof ru}(c)){const m=c;m.resolving&&function mt(t,r){const s=r?`. Dependency path: ${r.join(" > ")} > ${t}`:"";throw new Se(-200,`Circular dependency in DI detected for ${t}${s}`)}(function et(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Ne(t)}(d[s]));const _=Hu(m.canSeeViewProviders);m.resolving=!0;const L=m.injectImpl?On(m.injectImpl):null;At(t,a,Xt.Default);try{c=t[s]=m.factory(void 0,d,t,a),r.firstCreatePass&&s>=a.directiveStart&&function el(t,r,s){const{ngOnChanges:a,ngOnInit:c,ngDoCheck:d}=r.type.prototype;if(a){const m=Fr(r);(s.preOrderHooks??=[]).push(t,m),(s.preOrderCheckHooks??=[]).push(t,m)}c&&(s.preOrderHooks??=[]).push(0-t,c),d&&((s.preOrderHooks??=[]).push(t,d),(s.preOrderCheckHooks??=[]).push(t,d))}(s,d[s],r)}finally{null!==L&&On(L),Hu(_),m.resolving=!1,Na()}}return c}function Aa(t,r,s){return!!(s[r+(t>>jl)]&1<<t)}function Oa(t,r){return!(t&Xt.Self||t&Xt.Host&&r)}class Zi{constructor(r,s){this._tNode=r,this._lView=s}get(r,s,a){return xo(this._tNode,this._lView,r,gn(a),s)}}function $l(){return new Zi(xt(),ct())}function Ho(t){return ue(()=>{const r=t.prototype.constructor,s=r[mi]||wu(r),a=Object.prototype;let c=Object.getPrototypeOf(t.prototype).constructor;for(;c&&c!==a;){const d=c[mi]||wu(c);if(d&&d!==s)return d;c=Object.getPrototypeOf(c)}return d=>new d})}function wu(t){return jt(t)?()=>{const r=wu($e(t));return r&&r()}:Yi(t)}function Hl(t){const r=t[vt],s=r.type;return 2===s?r.declTNode:1===s?t[Pi]:null}function rl(t){return function aa(t,r){if("class"===r)return t.classes;if("style"===r)return t.styles;const s=t.attrs;if(s){const a=s.length;let c=0;for(;c<a;){const d=s[c];if(vs(d))break;if(0===d)c+=2;else if("number"==typeof d)for(c++;c<a&&"string"==typeof s[c];)c++;else{if(d===r)return s[c+1];c+=2}}}return null}(xt(),t)}const cu="__parameters__";function te(t,r,s){return ue(()=>{const a=function U(t){return function(...s){if(t){const a=t(...s);for(const c in a)this[c]=a[c]}}}(r);function c(...d){if(this instanceof c)return a.apply(this,d),this;const m=new c(...d);return _.annotation=m,_;function _(A,L,G){const re=A.hasOwnProperty(cu)?A[cu]:Object.defineProperty(A,cu,{value:[]})[cu];for(;re.length<=G;)re.push(null);return(re[G]=re[G]||[]).push(m),A}}return s&&(c.prototype=Object.create(s.prototype)),c.prototype.ngMetadataName=t,c.annotationCls=c,c})}function Ic(t,r){t.forEach(s=>Array.isArray(s)?Ic(s,r):r(s))}function jh(t,r,s){r>=t.length?t.push(s):t.splice(r,0,s)}function Dc(t,r){return r>=t.length-1?t.pop():t.splice(r,1)[0]}function Tc(t,r){const s=[];for(let a=0;a<t;a++)s.push(r);return s}function Hs(t,r,s){let a=Fa(t,r);return a>=0?t[1|a]=s:(a=~a,function Bd(t,r,s,a){let c=t.length;if(c==r)t.push(s,a);else if(1===c)t.push(a,t[0]),t[0]=s;else{for(c--,t.push(t[c-1],t[c]);c>r;)t[c]=t[c-2],c--;t[r]=s,t[r+1]=a}}(t,a,r,s)),a}function qa(t,r){const s=Fa(t,r);if(s>=0)return t[1|s]}function Fa(t,r){return function il(t,r,s){let a=0,c=t.length>>s;for(;c!==a;){const d=a+(c-a>>1),m=t[d<<s];if(r===m)return d<<s;m>r?c=d:a=d+1}return~(c<<s)}(t,r,1)}const Qa=be(te("Optional"),8),Ac=be(te("SkipSelf"),4);function Kd(t){return 128==(128&t.flags)}var qd=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(qd||{});const Ep=/^>|^->|<!--|-->|--!>|<!-$/g,cl=/(<|>)/g,Du="\u200b$1\u200b";const Xl=new Map;let wp=0;const br="__ngContext__";function vo(t,r){li(r)?(t[br]=r[wo],function Jh(t){Xl.set(t[wo],t)}(r)):t[br]=r}let _t;function Wt(t,r){return _t(t,r)}function Cn(t){const r=t[cn];return bi(r)?r[cn]:r}function Tu(t){return Jl(t[Go])}function ec(t){return Jl(t[ji])}function Jl(t){for(;null!==t&&!bi(t);)t=t[ji];return t}function tc(t,r,s,a,c){if(null!=a){let d,m=!1;bi(a)?d=a:li(a)&&(m=!0,a=a[mr]);const _=sn(a);0===t&&null!==s?null==c?rf(r,s,_):fu(r,s,_,c||null,!0):1===t&&null!==s?fu(r,s,_,c||null,!0):2===t?function Ya(t,r,s){const a=th(t,r);a&&function Dm(t,r,s,a){t.removeChild(r,s,a)}(t,a,r,s)}(r,_,m):3===t&&r.destroyNode(_),null!=d&&function gl(t,r,s,a,c){const d=s[$r];d!==sn(s)&&tc(r,t,a,d,c);for(let _=ci;_<s.length;_++){const A=s[_];td(A[vt],A,t,r,a,d)}}(r,t,d,s,c)}}function hu(t,r){return t.createComment(function Yh(t){return t.replace(Ep,r=>r.replace(cl,Du))}(r))}function Rc(t,r,s){return t.createElement(r,s)}function tf(t,r){const s=t[xs],a=s.indexOf(r);Tt(r),s.splice(a,1)}function eh(t,r){if(t.length<=ci)return;const s=ci+r,a=t[s];if(a){const c=a[Vo];null!==c&&c!==t&&tf(c,a),r>0&&(t[s-1][ji]=a[ji]);const d=Dc(t,ci+r);!function Jd(t,r){td(t,r,r[ln],2,null,null),r[mr]=null,r[Pi]=null}(a[vt],a);const m=d[ui];null!==m&&m.detachView(d[vt]),a[cn]=null,a[ji]=null,a[an]&=-129}return a}function pl(t,r){if(!(256&r[an])){const s=r[ln];r[Ps]&&nu(r[Ps]),r[Wo]&&nu(r[Wo]),s.destroyNode&&td(t,r,s,3,null,null),function Zl(t){let r=t[Go];if(!r)return nf(t[vt],t);for(;r;){let s=null;if(li(r))s=r[Go];else{const a=r[ci];a&&(s=a)}if(!s){for(;r&&!r[ji]&&r!==t;)li(r)&&nf(r[vt],r),r=r[cn];null===r&&(r=t),li(r)&&nf(r[vt],r),s=r&&r[ji]}r=s}}(r)}}function nf(t,r){if(!(256&r[an])){r[an]&=-129,r[an]|=256,function Em(t,r){let s;if(null!=t&&null!=(s=t.destroyHooks))for(let a=0;a<s.length;a+=2){const c=r[s[a]];if(!(c instanceof ru)){const d=s[a+1];if(Array.isArray(d))for(let m=0;m<d.length;m+=2){const _=c[d[m]],A=d[m+1];Ji(4,_,A);try{A.call(_)}finally{Ji(5,_,A)}}else{Ji(4,c,d);try{d.call(c)}finally{Ji(5,c,d)}}}}}(t,r),function _m(t,r){const s=t.cleanup,a=r[Us];if(null!==s)for(let d=0;d<s.length-1;d+=2)if("string"==typeof s[d]){const m=s[d+3];m>=0?a[m]():a[-m].unsubscribe(),d+=2}else s[d].call(a[s[d+1]]);null!==a&&(r[Us]=null);const c=r[Oi];if(null!==c){r[Oi]=null;for(let d=0;d<c.length;d++)(0,c[d])()}}(t,r),1===r[vt].type&&r[ln].destroy();const s=r[Vo];if(null!==s&&bi(r[cn])){s!==r[cn]&&tf(s,r);const a=r[ui];null!==a&&a.detachView(t)}!function Xd(t){Xl.delete(t[wo])}(r)}}function Ip(t,r,s){return function wm(t,r,s){let a=r;for(;null!==a&&40&a.type;)a=(r=a).parent;if(null===a)return s[mr];{const{componentOffset:c}=a;if(c>-1){const{encapsulation:d}=t.data[a.directiveStart+c];if(d===Ye.None||d===Ye.Emulated)return null}return O(a,s)}}(t,r.parent,s)}function fu(t,r,s,a,c){t.insertBefore(r,s,a,c)}function rf(t,r,s){t.appendChild(r,s)}function Im(t,r,s,a,c){null!==a?fu(t,r,s,a,c):rf(t,r,s)}function th(t,r){return t.parentNode(r)}function Dp(t,r,s){return bm(t,r,s)}let Tp,nd,vl,rh,bm=function Cm(t,r,s){return 40&t.type?O(t,s):null};function rc(t,r,s,a){const c=Ip(t,a,r),d=r[ln],_=Dp(a.parent||r[Pi],a,r);if(null!=c)if(Array.isArray(s))for(let A=0;A<s.length;A++)Im(d,c,s[A],_,!1);else Im(d,c,s,_,!1);void 0!==Tp&&Tp(d,a,r,s,c)}function ed(t,r){if(null!==r){const s=r.type;if(3&s)return O(r,t);if(4&s)return sf(-1,t[r.index]);if(8&s){const a=r.child;if(null!==a)return ed(t,a);{const c=t[r.index];return bi(c)?sf(-1,c):sn(c)}}if(32&s)return Wt(r,t)()||sn(t[r.index]);{const a=Am(t,r);return null!==a?Array.isArray(a)?a[0]:ed(Cn(t[Dr]),a):ed(t,r.next)}}return null}function Am(t,r){return null!==r?t[Dr][Pi].projection[r.projection]:null}function sf(t,r){const s=ci+t+1;if(s<r.length){const a=r[s],c=a[vt].firstChild;if(null!==c)return ed(a,c)}return r[$r]}function bp(t,r,s,a,c,d,m){for(;null!=s;){const _=a[s.index],A=s.type;if(m&&0===r&&(_&&vo(sn(_),a),s.flags|=2),32!=(32&s.flags))if(8&A)bp(t,r,s.child,a,c,d,!1),tc(r,t,c,_,d);else if(32&A){const L=Wt(s,a);let G;for(;G=L();)tc(r,t,c,G,d);tc(r,t,c,_,d)}else 16&A?Nc(t,r,a,s,c,d):tc(r,t,c,_,d);s=m?s.projectionNext:s.next}}function td(t,r,s,a,c,d){bp(s,a,t.firstChild,r,c,d,!1)}function Nc(t,r,s,a,c,d){const m=s[Dr],A=m[Pi].projection[a.projection];if(Array.isArray(A))for(let L=0;L<A.length;L++)tc(r,t,c,A[L],d);else{let L=A;const G=m[cn];Kd(a)&&(L.flags|=128),bp(t,r,L,G,c,d,!0)}}function Ap(t,r,s){""===s?t.removeAttribute(r,"class"):t.setAttribute(r,"class",s)}function uf(t,r,s){const{mergedAttrs:a,classes:c,styles:d}=s;null!==a&&kr(t,r,a),null!==c&&Ap(t,r,c),null!==d&&function nh(t,r,s){t.setAttribute(r,"style",s)}(t,r,d)}function yl(t){return function cf(){if(void 0===nd&&(nd=null,$t.trustedTypes))try{nd=$t.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return nd}()?.createHTML(t)||t}function _l(t){vl=t}function id(t){return function Sp(){if(void 0===rh&&(rh=null,$t.trustedTypes))try{rh=$t.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return rh}()?.createScriptURL(t)||t}class Ua{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Dn})`}}class Pc extends Ua{getTypeName(){return"HTML"}}class Nm extends Ua{getTypeName(){return"Style"}}class Pv extends Ua{getTypeName(){return"Script"}}class Pm extends Ua{getTypeName(){return"URL"}}class xv extends Ua{getTypeName(){return"ResourceURL"}}function pu(t){return t instanceof Ua?t.changingThisBreaksApplicationSecurity:t}function xc(t,r){const s=function xm(t){return t instanceof Ua&&t.getTypeName()||null}(t);if(null!=s&&s!==r){if("ResourceURL"===s&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${s} (see ${Dn})`)}return s===r}function Mp(t){return new Pc(t)}function Rp(t){return new Nm(t)}function Om(t){return new Pv(t)}function df(t){return new Pm(t)}function Ov(t){return new xv(t)}class ff{constructor(r){this.inertDocumentHelper=r}getInertBodyElement(r){r="<body><remove></remove>"+r;try{const s=(new window.DOMParser).parseFromString(yl(r),"text/html").body;return null===s?this.inertDocumentHelper.getInertBodyElement(r):(s.removeChild(s.firstChild),s)}catch{return null}}}class kv{constructor(r){this.defaultDoc=r,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(r){const s=this.inertDocument.createElement("template");return s.innerHTML=yl(r),s}}const ih=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function El(t){return(t=String(t)).match(ih)?t:"unsafe:"+t}function Va(t){const r={};for(const s of t.split(","))r[s]=!0;return r}function sd(...t){const r={};for(const s of t)for(const a in s)s.hasOwnProperty(a)&&(r[a]=!0);return r}const Np=Va("area,br,col,hr,img,wbr"),ko=Va("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Pp=Va("rp,rt"),bu=sd(Np,sd(ko,Va("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),sd(Pp,Va("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),sd(Pp,ko)),Oc=Va("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Fm=sd(Oc,Va("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Va("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),ad=Va("script,style,template");class Lm{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(r){let s=r.firstChild,a=!0;for(;s;)if(s.nodeType===Node.ELEMENT_NODE?a=this.startElement(s):s.nodeType===Node.TEXT_NODE?this.chars(s.nodeValue):this.sanitizedSomething=!0,a&&s.firstChild)s=s.firstChild;else for(;s;){s.nodeType===Node.ELEMENT_NODE&&this.endElement(s);let c=this.checkClobberedElement(s,s.nextSibling);if(c){s=c;break}s=this.checkClobberedElement(s,s.parentNode)}return this.buf.join("")}startElement(r){const s=r.nodeName.toLowerCase();if(!bu.hasOwnProperty(s))return this.sanitizedSomething=!0,!ad.hasOwnProperty(s);this.buf.push("<"),this.buf.push(s);const a=r.attributes;for(let c=0;c<a.length;c++){const d=a.item(c),m=d.name,_=m.toLowerCase();if(!Fm.hasOwnProperty(_)){this.sanitizedSomething=!0;continue}let A=d.value;Oc[_]&&(A=El(A)),this.buf.push(" ",m,'="',Vm(A),'"')}return this.buf.push(">"),!0}endElement(r){const s=r.nodeName.toLowerCase();bu.hasOwnProperty(s)&&!Np.hasOwnProperty(s)&&(this.buf.push("</"),this.buf.push(s),this.buf.push(">"))}chars(r){this.buf.push(Vm(r))}checkClobberedElement(r,s){if(s&&(r.compareDocumentPosition(s)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${r.outerHTML}`);return s}}const kc=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Um=/([^\#-~ |!])/g;function Vm(t){return t.replace(/&/g,"&amp;").replace(kc,function(r){return"&#"+(1024*(r.charCodeAt(0)-55296)+(r.charCodeAt(1)-56320)+65536)+";"}).replace(Um,function(r){return"&#"+r.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let sh;function Bm(t,r){let s=null;try{sh=sh||function hf(t){const r=new kv(t);return function km(){try{return!!(new window.DOMParser).parseFromString(yl(""),"text/html")}catch{return!1}}()?new ff(r):r}(t);let a=r?String(r):"";s=sh.getInertBodyElement(a);let c=5,d=a;do{if(0===c)throw new Error("Failed to sanitize html because the input is unstable");c--,a=d,d=s.innerHTML,s=sh.getInertBodyElement(a)}while(a!==d);return yl((new Lm).sanitizeChildren(pf(s)||s))}finally{if(s){const a=pf(s)||s;for(;a.firstChild;)a.removeChild(a.firstChild)}}}function pf(t){return"content"in t&&function Uv(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var Au=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Au||{});function kp(t){const r=ah();return r?r.sanitize(Au.URL,t)||"":xc(t,"URL")?pu(t):El(Ne(t))}function $m(t){const r=ah();if(r)return id(r.sanitize(Au.RESOURCE_URL,t)||"");if(xc(t,"ResourceURL"))return id(pu(t));throw new Se(904,!1)}function Fp(t,r,s){return function zm(t,r){return"src"===r&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===r&&("base"===t||"link"===t)?$m:kp}(r,s)(t)}function ah(){const t=ct();return t&&t[ds].sanitizer}const uh=new Ut("ENVIRONMENT_INITIALIZER"),gf=new Ut("INJECTOR",-1),so=new Ut("INJECTOR_DEF_TYPES");class Lp{get(r,s=zn){if(s===zn){const a=new Error(`NullInjectorError: No provider for ${Re(r)}!`);throw a.name="NullInjectorError",a}return s}}function Up(t){return{\u0275providers:t}}function jv(...t){return{\u0275providers:Gm(0,t),\u0275fromNgModule:!0}}function Gm(t,...r){const s=[],a=new Set;let c;const d=m=>{s.push(m)};return Ic(r,m=>{const _=m;yf(_,d,[],a)&&(c||=[],c.push(_))}),void 0!==c&&mf(c,d),s}function mf(t,r){for(let s=0;s<t.length;s++){const{ngModule:a,providers:c}=t[s];ud(c,d=>{r(d,a)})}}function yf(t,r,s,a){if(!(t=$e(t)))return!1;let c=null,d=Ir(t);const m=!d&&mn(t);if(d||m){if(m&&!m.standalone)return!1;c=t}else{const A=t.ngModule;if(d=Ir(A),!d)return!1;c=A}const _=a.has(c);if(m){if(_)return!1;if(a.add(c),m.dependencies){const A="function"==typeof m.dependencies?m.dependencies():m.dependencies;for(const L of A)yf(L,r,s,a)}}else{if(!d)return!1;{if(null!=d.imports&&!_){let L;a.add(c);try{Ic(d.imports,G=>{yf(G,r,s,a)&&(L||=[],L.push(G))})}finally{}void 0!==L&&mf(L,r)}if(!_){const L=Yi(c)||(()=>new c);r({provide:c,useFactory:L,deps:st},c),r({provide:so,useValue:c,multi:!0},c),r({provide:uh,useValue:()=>Ht(c),multi:!0},c)}const A=d.providers;if(null!=A&&!_){const L=t;ud(A,G=>{r(G,L)})}}}return c!==t&&void 0!==t.providers}function ud(t,r){for(let s of t)Lt(s)&&(s=s.\u0275providers),Array.isArray(s)?ud(s,r):r(s)}const $v=ne({provide:String,useValue:ne});function vf(t){return null!==t&&"object"==typeof t&&$v in t}function gu(t){return"function"==typeof t}const ch=new Ut("Set Injector scope."),cd={},Wm={};let Bp;function lh(){return void 0===Bp&&(Bp=new Lp),Bp}class mu{}class Fc extends mu{get destroyed(){return this._destroyed}constructor(r,s,a,c){super(),this.parent=s,this.source=a,this.scopes=c,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,fd(r,m=>this.processProvider(m)),this.records.set(gf,ld(void 0,this)),c.has("environment")&&this.records.set(mu,ld(void 0,this));const d=this.records.get(ch);null!=d&&"string"==typeof d.value&&this.scopes.add(d.value),this.injectorDefTypes=new Set(this.get(so.multi,st,Xt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const s of this._ngOnDestroyHooks)s.ngOnDestroy();const r=this._onDestroyHooks;this._onDestroyHooks=[];for(const s of r)s()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(r){return this.assertNotDestroyed(),this._onDestroyHooks.push(r),()=>this.removeOnDestroy(r)}runInContext(r){this.assertNotDestroyed();const s=tt(this),a=On(void 0);try{return r()}finally{tt(s),On(a)}}get(r,s=zn,a=Xt.Default){if(this.assertNotDestroyed(),r.hasOwnProperty(Un))return r[Un](this);a=gn(a);const d=tt(this),m=On(void 0);try{if(!(a&Xt.SkipSelf)){let A=this.records.get(r);if(void 0===A){const L=function Hp(t){return"function"==typeof t||"object"==typeof t&&t instanceof Ut}(r)&&_r(r);A=L&&this.injectableDefInScope(L)?ld(jp(r),cd):null,this.records.set(r,A)}if(null!=A)return this.hydrate(r,A)}return(a&Xt.Self?lh():this.parent).get(r,s=a&Xt.Optional&&s===zn?null:s)}catch(_){if("NullInjectorError"===_.name){if((_[Sr]=_[Sr]||[]).unshift(Re(r)),d)throw _;return function ve(t,r,s,a){const c=t[Sr];throw r[Q]&&c.unshift(r[Q]),t.message=function ce(t,r,s,a=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let c=Re(r);if(Array.isArray(r))c=r.map(Re).join(" -> ");else if("object"==typeof r){let d=[];for(let m in r)if(r.hasOwnProperty(m)){let _=r[m];d.push(m+":"+("string"==typeof _?JSON.stringify(_):Re(_)))}c=`{${d.join(", ")}}`}return`${s}${a?"("+a+")":""}[${c}]: ${t.replace(W,"\n  ")}`}("\n"+t.message,c,s,a),t.ngTokenPath=c,t[Sr]=null,t}(_,r,"R3InjectorError",this.source)}throw _}finally{On(m),tt(d)}}resolveInjectorInitializers(){const r=tt(this),s=On(void 0);try{const c=this.get(uh.multi,st,Xt.Self);for(const d of c)d()}finally{tt(r),On(s)}}toString(){const r=[],s=this.records;for(const a of s.keys())r.push(Re(a));return`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Se(205,!1)}processProvider(r){let s=gu(r=$e(r))?r:$e(r&&r.provide);const a=function Hv(t){return vf(t)?ld(void 0,t.useValue):ld($p(t),cd)}(r);if(gu(r)||!0!==r.multi)this.records.get(s);else{let c=this.records.get(s);c||(c=ld(void 0,cd,!0),c.factory=()=>gr(c.multi),this.records.set(s,c)),s=r,c.multi.push(r)}this.records.set(s,a)}hydrate(r,s){return s.value===cd&&(s.value=Wm,s.value=s.factory()),"object"==typeof s.value&&s.value&&function hd(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(s.value)&&this._ngOnDestroyHooks.add(s.value),s.value}injectableDefInScope(r){if(!r.providedIn)return!1;const s=$e(r.providedIn);return"string"==typeof s?"any"===s||this.scopes.has(s):this.injectorDefTypes.has(s)}removeOnDestroy(r){const s=this._onDestroyHooks.indexOf(r);-1!==s&&this._onDestroyHooks.splice(s,1)}}function jp(t){const r=_r(t),s=null!==r?r.factory:Yi(t);if(null!==s)return s;if(t instanceof Ut)throw new Se(204,!1);if(t instanceof Function)return function Km(t){const r=t.length;if(r>0)throw Tc(r,"?"),new Se(204,!1);const s=function Xn(t){return t&&(t[sr]||t[Di])||null}(t);return null!==s?()=>s.factory(t):()=>new t}(t);throw new Se(204,!1)}function $p(t,r,s){let a;if(gu(t)){const c=$e(t);return Yi(c)||jp(c)}if(vf(t))a=()=>$e(t.useValue);else if(function Ef(t){return!(!t||!t.useFactory)}(t))a=()=>t.useFactory(...gr(t.deps||[]));else if(function _f(t){return!(!t||!t.useExisting)}(t))a=()=>Ht($e(t.useExisting));else{const c=$e(t&&(t.useClass||t.provide));if(!function dd(t){return!!t.deps}(t))return Yi(c)||jp(c);a=()=>new c(...gr(t.deps))}return a}function ld(t,r,s=!1){return{factory:t,value:r,multi:s?[]:void 0}}function fd(t,r){for(const s of t)Array.isArray(s)?fd(s,r):s&&Lt(s)?fd(s.\u0275providers,r):r(s)}const zp=new Ut("AppId",{providedIn:"root",factory:()=>qm}),qm="ng",Gp=new Ut("Platform Initializer"),Wp=new Ut("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),zv=new Ut("AnimationModuleType"),Kp=new Ut("CSP nonce",{providedIn:"root",factory:()=>function rd(){if(void 0!==vl)return vl;if(typeof document<"u")return document;throw new Se(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let md=(t,r,s)=>null;function Yp(t,r,s=!1){return md(t,r,s)}class vh{}class bf{}class Uc{resolveComponentFactory(r){throw function ty(t){const r=Error(`No component factory found for ${Re(t)}.`);return r.ngComponent=t,r}(r)}}let _h=(()=>{class t{static{this.NULL=new Uc}}return t})();function Qv(){return Vc(xt(),ct())}function Vc(t,r){return new Eh(O(t,r))}let Eh=(()=>{class t{constructor(s){this.nativeElement=s}static{this.__NG_ELEMENT_ID__=Qv}}return t})();function Zp(t){return t instanceof Eh?t.nativeElement:t}class ry{}let eg=(()=>{class t{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>function Sf(){const t=ct(),s=x(xt().index,t);return(li(s)?s:t)[ln]}()}}return t})(),tg=(()=>{class t{static{this.\u0275prov=Ot({token:t,providedIn:"root",factory:()=>null})}}return t})();class ng{constructor(r){this.full=r,this.major=r.split(".")[0],this.minor=r.split(".")[1],this.patch=r.split(".").slice(2).join(".")}}const bl=new ng("16.2.12"),wh={};function Nf(t,r=null,s=null,a){const c=og(t,r,s,a);return c.resolveInjectorInitializers(),c}function og(t,r=null,s=null,a,c=new Set){const d=[s||st,jv(t)];return a=a||("object"==typeof t?void 0:Re(t)),new Fc(d,r||lh(),a||null,c)}let Ba=(()=>{class t{static{this.THROW_IF_NOT_FOUND=zn}static{this.NULL=new Lp}static create(s,a){if(Array.isArray(s))return Nf({name:""},a,s,"");{const c=s.name??"";return Nf({name:c},s.parent,s.providers,c)}}static{this.\u0275prov=Ot({token:t,providedIn:"any",factory:()=>Ht(gf)})}static{this.__NG_ELEMENT_ID__=-1}}return t})();function Bc(t){return t.ngOriginalError}class fa{constructor(){this._console=console}handleError(r){const s=this._findOriginalError(r);this._console.error("ERROR",r),s&&this._console.error("ORIGINAL ERROR",s)}_findOriginalError(r){let s=r&&Bc(r);for(;s&&Bc(s);)s=Bc(s);return s||null}}function jc(t){return r=>{setTimeout(t,void 0,r)}}const Su=class oy extends C.B{constructor(r=!1){super(),this.__isAsync=r}emit(r){super.next(r)}subscribe(r,s,a){let c=r,d=s||(()=>null),m=a;if(r&&"object"==typeof r){const A=r;c=A.next?.bind(A),d=A.error?.bind(A),m=A.complete?.bind(A)}this.__isAsync&&(d=jc(d),c&&(c=jc(c)),m&&(m=jc(m)));const _=super.subscribe({next:c,error:d,complete:m});return r instanceof se.yU&&r.add(_),_}};function ay(...t){}class zs{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:a=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Su(!1),this.onMicrotaskEmpty=new Su(!1),this.onStable=new Su(!1),this.onError=new Su(!1),typeof Zone>"u")throw new Se(908,!1);Zone.assertZonePatched();const c=this;c._nesting=0,c._outer=c._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(c._inner=c._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(c._inner=c._inner.fork(Zone.longStackTraceZoneSpec)),c.shouldCoalesceEventChangeDetection=!a&&s,c.shouldCoalesceRunChangeDetection=a,c.lastRequestAnimationFrameId=-1,c.nativeRequestAnimationFrame=function ag(){const t="function"==typeof $t.requestAnimationFrame;let r=$t[t?"requestAnimationFrame":"setTimeout"],s=$t[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&r&&s){const a=r[Zone.__symbol__("OriginalDelegate")];a&&(r=a);const c=s[Zone.__symbol__("OriginalDelegate")];c&&(s=c)}return{nativeRequestAnimationFrame:r,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function lg(t){const r=()=>{!function Zv(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call($t,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Ih(t),t.isCheckStableRunning=!0,cg(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Ih(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,a,c,d,m,_)=>{if(function ly(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(_))return s.invokeTask(c,d,m,_);try{return cy(t),s.invokeTask(c,d,m,_)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===d.type||t.shouldCoalesceRunChangeDetection)&&r(),dg(t)}},onInvoke:(s,a,c,d,m,_,A)=>{try{return cy(t),s.invoke(c,d,m,_,A)}finally{t.shouldCoalesceRunChangeDetection&&r(),dg(t)}},onHasTask:(s,a,c,d)=>{s.hasTask(c,d),a===c&&("microTask"==d.change?(t._hasPendingMicrotasks=d.microTask,Ih(t),cg(t)):"macroTask"==d.change&&(t.hasPendingMacrotasks=d.macroTask))},onHandleError:(s,a,c,d)=>(s.handleError(c,d),t.runOutsideAngular(()=>t.onError.emit(d)),!1)})}(c)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!zs.isInAngularZone())throw new Se(909,!1)}static assertNotInAngularZone(){if(zs.isInAngularZone())throw new Se(909,!1)}run(r,s,a){return this._inner.run(r,s,a)}runTask(r,s,a,c){const d=this._inner,m=d.scheduleEventTask("NgZoneEvent: "+c,r,ug,ay,ay);try{return d.runTask(m,s,a)}finally{d.cancelTask(m)}}runGuarded(r,s,a){return this._inner.runGuarded(r,s,a)}runOutsideAngular(r){return this._outer.run(r)}}const ug={};function cg(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Ih(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function cy(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function dg(t){t._nesting--,cg(t)}class e_{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Su,this.onMicrotaskEmpty=new Su,this.onStable=new Su,this.onError=new Su}run(r,s,a){return r.apply(s,a)}runGuarded(r,s,a){return r.apply(s,a)}runOutsideAngular(r){return r()}runTask(r,s,a,c){return r.apply(s,a)}}const hg=new Ut("",{providedIn:"root",factory:fg});function fg(){const t=Yt(zs);let r=!0;const s=new he.c(c=>{r=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{c.next(r),c.complete()})}),a=new he.c(c=>{let d;t.runOutsideAngular(()=>{d=t.onStable.subscribe(()=>{zs.assertNotInAngularZone(),queueMicrotask(()=>{!r&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(r=!0,c.next(!0))})})});const m=t.onUnstable.subscribe(()=>{zs.assertInAngularZone(),r&&(r=!1,t.runOutsideAngular(()=>{c.next(!1)}))});return()=>{d.unsubscribe(),m.unsubscribe()}});return(0,_e.h)(s,a.pipe((0,ee.u)()))}function sc(t){return t instanceof Function?t():t}let mg=(()=>{class t{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static{this.\u0275prov=Ot({token:t,providedIn:"root",factory:()=>new t})}}return t})();function Al(t){for(;t;){t[an]|=64;const r=Cn(t);if(Nr(t)&&!r)return t;t=r}return null}const yg=new Ut("",{providedIn:"root",factory:()=>!1});let wd=null;function vy(t,r){return t[r]??_y()}function Ff(t,r){const s=_y();s.producerNode?.length&&(t[r]=wd,s.lView=t,wd=Lf())}const oc={...Bo,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Al(t.lView)},lView:null};function Lf(){return Object.create(oc)}function _y(){return wd??=Lf(),wd}const Kn={};function Ey(t){wy(Rn(),ct(),rs()+t,!1)}function wy(t,r,s,a){if(!a)if(3==(3&r[an])){const d=t.preOrderCheckHooks;null!==d&&yc(r,d,s)}else{const d=t.preOrderHooks;null!==d&&tl(r,d,0,s)}Da(s)}function Hc(t,r=Xt.Default){const s=ct();return null===s?Ht(t,r):xo(xt(),s,$e(t),r)}function Iy(){throw new Error("invalid")}function Uf(t,r,s,a,c,d,m,_,A,L,G){const re=r.blueprint.slice();return re[mr]=c,re[an]=140|a,(null!==L||t&&2048&t[an])&&(re[an]|=2048),Xe(re),re[cn]=re[xi]=t,re[Xr]=s,re[ds]=m||t&&t[ds],re[ln]=_||t&&t[ln],re[ls]=A||t&&t[ls]||null,re[Pi]=d,re[wo]=function ll(){return wp++}(),re[Io]=G,re[tu]=L,re[Dr]=2==r.type?t[Dr]:re,re}function zc(t,r,s,a,c){let d=t.data[r];if(null===d)d=function wg(t,r,s,a,c){const d=fn(),m=wi(),A=t.data[r]=function bg(t,r,s,a,c,d){let m=r?r.injectorIndex:-1,_=0;return Bt()&&(_|=128),{type:s,index:a,insertBeforeIndex:null,injectorIndex:m,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:_,providerIndexes:0,value:c,attrs:d,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,m?d:d&&d.parent,s,r,a,c);return null===t.firstChild&&(t.firstChild=A),null!==d&&(m?null==d.child&&null!==A.parent&&(d.child=A):null===d.next&&(d.next=A,A.prev=d)),A}(t,r,s,a,c),function E(){return Ct.lFrame.inI18n}()&&(d.flags|=32);else if(64&d.type){d.type=s,d.value=a,d.attrs=c;const m=function nn(){const t=Ct.lFrame,r=t.currentTNode;return t.isParent?r:r.parent}();d.injectorIndex=null===m?-1:m.injectorIndex}return Fn(d,!0),d}function Ml(t,r,s,a){if(0===s)return-1;const c=r.length;for(let d=0;d<s;d++)r.push(a),t.blueprint.push(a),t.data.push(null);return c}function Ig(t,r,s,a,c){const d=vy(r,Ps),m=rs(),_=2&a;try{Da(-1),_&&r.length>Wn&&wy(t,r,Wn,!1),Ji(_?2:0,c);const L=_?d:null,G=yi(L);try{null!==L&&(L.dirty=!1),s(a,c)}finally{Ea(L,G)}}finally{_&&null===r[Ps]&&Ff(r,Ps),Da(m),Ji(_?3:1,c)}}function Th(t,r,s){if(Qs(r)){const a=or(null);try{const d=r.directiveEnd;for(let m=r.directiveStart;m<d;m++){const _=t.data[m];_.contentQueries&&_.contentQueries(1,s[m],m)}}finally{or(a)}}}function Vf(t,r,s){Or()&&(function Cy(t,r,s,a){const c=s.directiveStart,d=s.directiveEnd;Yr(s)&&function Sy(t,r,s){const a=O(r,t),c=Dy(s);let m=16;s.signals?m=4096:s.onPush&&(m=64);const _=Sh(t,Uf(t,c,null,m,a,r,null,t[ds].rendererFactory.createRenderer(a,s),null,null,null));t[r.index]=_}(r,s,t.data[c+s.componentOffset]),t.firstCreatePass||Ca(s,r),vo(a,r);const m=s.initialInputs;for(let _=c;_<d;_++){const A=t.data[_],L=$o(r,t,_,s);vo(L,r),null!==m&&d_(0,_-c,L,A,0,m),$i(A)&&(x(s.index,r)[Xr]=$o(r,t,_,s))}}(t,r,s,O(s,r)),64==(64&s.flags)&&Hf(t,r,s))}function Dg(t,r,s=O){const a=r.localNames;if(null!==a){let c=r.index+1;for(let d=0;d<a.length;d+=2){const m=a[d+1],_=-1===m?s(r,t):t[m];t[c++]=_}}}function Dy(t){const r=t.tView;return null===r||r.incompleteFirstPass?t.tView=Ch(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):r}function Ch(t,r,s,a,c,d,m,_,A,L,G){const re=Wn+a,De=re+c,Oe=function o_(t,r){const s=[];for(let a=0;a<r;a++)s.push(a<t?null:Kn);return s}(re,De),lt="function"==typeof L?L():L;return Oe[vt]={type:t,blueprint:Oe,template:s,queries:null,viewQuery:_,declTNode:r,data:Oe.slice().fill(null,re),bindingStartIndex:re,expandoStartIndex:De,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof d?d():d,pipeRegistry:"function"==typeof m?m():m,firstChild:null,schemas:A,consts:lt,incompleteFirstPass:!1,ssrId:G}}let Bf=t=>null;function Ag(t,r,s,a){for(let c in t)if(t.hasOwnProperty(c)){s=null===s?{}:s;const d=t[c];null===a?Rl(s,r,c,d):a.hasOwnProperty(c)&&Rl(s,r,a[c],d)}return s}function Rl(t,r,s,a){t.hasOwnProperty(s)?t[s].push(r,a):t[s]=[r,a]}function ja(t,r,s,a,c,d,m,_){const A=O(r,s);let G,L=r.inputs;!_&&null!=L&&(G=L[a])?(Mh(t,s,G,a,c),Yr(r)&&function c_(t,r){const s=x(r,t);16&s[an]||(s[an]|=64)}(s,r.index)):3&r.type&&(a=function jf(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(a),c=null!=m?m(c,r.value||"",a):c,d.setProperty(A,a,c))}function Dd(t,r,s,a){if(Or()){const c=null===a?null:{"":-1},d=function zf(t,r){const s=t.directiveRegistry;let a=null,c=null;if(s)for(let d=0;d<s.length;d++){const m=s[d];if(rt(r,m.selectors,!1))if(a||(a=[]),$i(m))if(null!==m.findHostDirectiveDefs){const _=[];c=c||new Map,m.findHostDirectiveDefs(m,_,c),a.unshift(..._,m),bh(t,r,_.length)}else a.unshift(m),bh(t,r,0);else c=c||new Map,m.findHostDirectiveDefs?.(m,a,c),a.push(m)}return null===a?null:[a,c]}(t,s);let m,_;null===d?m=_=null:[m,_]=d,null!==m&&$f(t,r,s,m,c,_),c&&function by(t,r,s){if(r){const a=t.localNames=[];for(let c=0;c<r.length;c+=2){const d=s[r[c+1]];if(null==d)throw new Se(-301,!1);a.push(r[c],d)}}}(s,a,c)}s.mergedAttrs=Ki(s.mergedAttrs,s.attrs)}function $f(t,r,s,a,c,d){for(let L=0;L<a.length;L++)Po(Ca(s,r),t,a[L].type);!function Ay(t,r,s){t.flags|=1,t.directiveStart=r,t.directiveEnd=r+s,t.providerIndexes=r}(s,t.data.length,a.length);for(let L=0;L<a.length;L++){const G=a[L];G.providersResolver&&G.providersResolver(G)}let m=!1,_=!1,A=Ml(t,r,a.length,null);for(let L=0;L<a.length;L++){const G=a[L];s.mergedAttrs=Ki(s.mergedAttrs,G.hostAttrs),Ng(t,s,r,A,G),Gf(A,G,c),null!==G.contentQueries&&(s.flags|=4),(null!==G.hostBindings||null!==G.hostAttrs||0!==G.hostVars)&&(s.flags|=64);const re=G.type.prototype;!m&&(re.ngOnChanges||re.ngOnInit||re.ngDoCheck)&&((t.preOrderHooks??=[]).push(s.index),m=!0),!_&&(re.ngOnChanges||re.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(s.index),_=!0),A++}!function Ty(t,r,s){const c=r.directiveEnd,d=t.data,m=r.attrs,_=[];let A=null,L=null;for(let G=r.directiveStart;G<c;G++){const re=d[G],De=s?s.get(re):null,lt=De?De.outputs:null;A=Ag(re.inputs,G,A,De?De.inputs:null),L=Ag(re.outputs,G,L,lt);const bt=null===A||null===m||_s(r)?null:h_(A,G,m);_.push(bt)}null!==A&&(A.hasOwnProperty("class")&&(r.flags|=8),A.hasOwnProperty("style")&&(r.flags|=16)),r.initialInputs=_,r.inputs=A,r.outputs=L}(t,s,d)}function Hf(t,r,s){const a=s.directiveStart,c=s.directiveEnd,d=s.index,m=function R(){return Ct.lFrame.currentDirectiveIndex}();try{Da(d);for(let _=a;_<c;_++){const A=t.data[_],L=r[_];F(_),(null!==A.hostBindings||0!==A.hostVars||null!==A.hostAttrs)&&Rg(A,L)}}finally{Da(-1),F(m)}}function Rg(t,r){null!==t.hostBindings&&t.hostBindings(1,r)}function bh(t,r,s){r.componentOffset=s,(t.components??=[]).push(r.index)}function Gf(t,r,s){if(s){if(r.exportAs)for(let a=0;a<r.exportAs.length;a++)s[r.exportAs[a]]=t;$i(r)&&(s[""]=t)}}function Ng(t,r,s,a,c){t.data[a]=c;const d=c.factory||(c.factory=Yi(c.type)),m=new ru(d,$i(c),Hc);t.blueprint[a]=m,s[a]=m,function Sg(t,r,s,a,c){const d=c.hostBindings;if(d){let m=t.hostBindingOpCodes;null===m&&(m=t.hostBindingOpCodes=[]);const _=~r.index;(function Mg(t){let r=t.length;for(;r>0;){const s=t[--r];if("number"==typeof s&&s<0)return s}return 0})(m)!=_&&m.push(_),m.push(s,a,d)}}(t,r,a,Ml(t,s,c.hostVars,Kn),c)}function pa(t,r,s,a,c,d){const m=O(t,r);!function Ah(t,r,s,a,c,d,m){if(null==d)t.removeAttribute(r,c,s);else{const _=null==m?Ne(d):m(d,a||"",c);t.setAttribute(r,c,_,s)}}(r[ln],m,d,t.value,s,a,c)}function d_(t,r,s,a,c,d){const m=d[r];if(null!==m)for(let _=0;_<m.length;)My(a,s,m[_++],m[_++],m[_++])}function My(t,r,s,a,c){const d=or(null);try{const m=t.inputTransforms;null!==m&&m.hasOwnProperty(a)&&(c=m[a].call(r,c)),null!==t.setInput?t.setInput(r,c,s,a):r[a]=c}finally{or(d)}}function h_(t,r,s){let a=null,c=0;for(;c<s.length;){const d=s[c];if(0!==d)if(5!==d){if("number"==typeof d)break;if(t.hasOwnProperty(d)){null===a&&(a=[]);const m=t[d];for(let _=0;_<m.length;_+=2)if(m[_]===r){a.push(d,m[_+1],s[c+1]);break}}c+=2}else c+=2;else c+=4}return a}function Pg(t,r,s,a){return[t,!0,!1,r,null,0,a,s,null,null,null]}function Ry(t,r){const s=t.contentQueries;if(null!==s)for(let a=0;a<s.length;a+=2){const d=s[a+1];if(-1!==d){const m=t.data[d];We(s[a]),m.contentQueries(2,r[d],d)}}}function Sh(t,r){return t[Go]?t[Ns][ji]=r:t[Go]=r,t[Ns]=r,r}function xg(t,r,s){We(0);const a=or(null);try{r(t,s)}finally{or(a)}}function Ny(t){return t[Us]||(t[Us]=[])}function Py(t){return t.cleanup||(t.cleanup=[])}function kg(t,r){const s=t[ls],a=s?s.get(fa,null):null;a&&a.handleError(r)}function Mh(t,r,s,a,c){for(let d=0;d<s.length;){const m=s[d++],_=s[d++];My(t.data[m],r[m],a,_,c)}}function ac(t,r,s){const a=na(r,t);!function Mc(t,r,s){t.setValue(r,s)}(t[ln],a,s)}function xy(t,r){const s=x(r,t),a=s[vt];!function Oy(t,r){for(let s=r.length;s<t.blueprint.length;s++)r.push(t.blueprint[s])}(a,s);const c=s[mr];null!==c&&null===s[Io]&&(s[Io]=Yp(c,s[ls])),Td(a,s,s[Xr])}function Td(t,r,s){In(r);try{const a=t.viewQuery;null!==a&&xg(1,a,s);const c=t.template;null!==c&&Ig(t,r,c,1,s),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Ry(t,r),t.staticViewQueries&&xg(2,t.viewQuery,s);const d=t.components;null!==d&&function Ur(t,r){for(let s=0;s<r.length;s++)xy(t,r[s])}(r,d)}catch(a){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),a}finally{r[an]&=-5,No()}}let Fg=(()=>{class t{constructor(){this.all=new Set,this.queue=new Map}create(s,a,c){const d=typeof Zone>"u"?null:Zone.current,m=function ot(t,r,s){const a=Object.create(yr);s&&(a.consumerAllowSignalWrites=!0),a.fn=t,a.schedule=r;const c=m=>{a.cleanupFn=m};return a.ref={notify:()=>fo(a),run:()=>{if(a.dirty=!1,a.hasRun&&!vi(a))return;a.hasRun=!0;const m=yi(a);try{a.cleanupFn(),a.cleanupFn=Gt,a.fn(c)}finally{Ea(a,m)}},cleanup:()=>a.cleanupFn()},a.ref}(s,L=>{this.all.has(L)&&this.queue.set(L,d)},c);let _;this.all.add(m),m.notify();const A=()=>{m.cleanup(),_?.(),this.all.delete(m),this.queue.delete(m)};return _=a?.onDestroy(A),{destroy:A}}flush(){if(0!==this.queue.size)for(const[s,a]of this.queue)this.queue.delete(s),a?a.run(()=>s.run()):s.run()}get isQueueEmpty(){return 0===this.queue.size}static{this.\u0275prov=Ot({token:t,providedIn:"root",factory:()=>new t})}}return t})();function Gc(t,r,s){let a=s?t.styles:null,c=s?t.classes:null,d=0;if(null!==r)for(let m=0;m<r.length;m++){const _=r[m];"number"==typeof _?d=_:1==d?c=Ke(c,_):2==d&&(a=Ke(a,_+": "+r[++m]+";"))}s?t.styles=a:t.stylesWithoutHost=a,s?t.classes=c:t.classesWithoutHost=c}function Rh(t,r,s,a,c=!1){for(;null!==s;){const d=r[s.index];null!==d&&a.push(sn(d)),bi(d)&&Ms(d,a);const m=s.type;if(8&m)Rh(t,r,s.child,a);else if(32&m){const _=Wt(s,r);let A;for(;A=_();)a.push(A)}else if(16&m){const _=Am(r,s);if(Array.isArray(_))a.push(..._);else{const A=Cn(r[Dr]);Rh(A[vt],A,_,a,!0)}}s=c?s.projectionNext:s.next}return a}function Ms(t,r){for(let s=ci;s<t.length;s++){const a=t[s],c=a[vt].firstChild;null!==c&&Rh(a[vt],a,c,r)}t[$r]!==t[mr]&&r.push(t[$r])}function Gs(t,r,s,a=!0){const c=r[ds],d=c.rendererFactory,m=c.afterRenderEventManager;d.begin?.(),m?.begin();try{p_(t,r,t.template,s)}catch(A){throw a&&kg(r,A),A}finally{d.end?.(),c.effectManager?.flush(),m?.end()}}function p_(t,r,s,a){const c=r[an];if(256!=(256&c)){r[ds].effectManager?.flush(),In(r);try{Xe(r),function Pe(t){return Ct.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==s&&Ig(t,r,s,2,a);const m=3==(3&c);if(m){const L=t.preOrderCheckHooks;null!==L&&yc(r,L,null)}else{const L=t.preOrderHooks;null!==L&&tl(r,L,0,null),Ld(r,0)}if(function JE(t){for(let r=Tu(t);null!==r;r=ec(r)){if(!r[Qi])continue;const s=r[xs];for(let a=0;a<s.length;a++){Pt(s[a])}}}(r),Lg(r,2),null!==t.contentQueries&&Ry(t,r),m){const L=t.contentCheckHooks;null!==L&&yc(r,L)}else{const L=t.contentHooks;null!==L&&tl(r,L,1),Ld(r,1)}!function Eg(t,r){const s=t.hostBindingOpCodes;if(null===s)return;const a=vy(r,Wo);try{for(let c=0;c<s.length;c++){const d=s[c];if(d<0)Da(~d);else{const m=d,_=s[++c],A=s[++c];y(_,m),a.dirty=!1;const L=yi(a);try{A(2,r[m])}finally{Ea(a,L)}}}}finally{null===r[Wo]&&Ff(r,Wo),Da(-1)}}(t,r);const _=t.components;null!==_&&Wf(r,_,0);const A=t.viewQuery;if(null!==A&&xg(2,A,a),m){const L=t.viewCheckHooks;null!==L&&yc(r,L)}else{const L=t.viewHooks;null!==L&&tl(r,L,2),Ld(r,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),r[an]&=-73,Tt(r)}finally{No()}}}function Lg(t,r){for(let s=Tu(t);null!==s;s=ec(s))for(let a=ci;a<s.length;a++)Ly(s[a],r)}function Fy(t,r,s){Ly(x(r,t),s)}function Ly(t,r){if(!function le(t){return 128==(128&t[an])}(t))return;const s=t[vt],a=t[an];if(80&a&&0===r||1024&a||2===r)p_(s,t,s.template,t[Xr]);else if(t[cs]>0){Lg(t,1);const c=s.components;null!==c&&Wf(t,c,1)}}function Wf(t,r,s){for(let a=0;a<r.length;a++)Fy(t,r[a],s)}class Nh{get rootNodes(){const r=this._lView,s=r[vt];return Rh(s,r,s.firstChild,[])}constructor(r,s){this._lView=r,this._cdRefInjectingView=s,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Xr]}set context(r){this._lView[Xr]=r}get destroyed(){return 256==(256&this._lView[an])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[cn];if(bi(r)){const s=r[8],a=s?s.indexOf(this):-1;a>-1&&(eh(r,a),Dc(s,a))}this._attachedToViewContainer=!1}pl(this._lView[vt],this._lView)}onDestroy(r){!function En(t,r){if(256==(256&t[an]))throw new Se(911,!1);null===t[Oi]&&(t[Oi]=[]),t[Oi].push(r)}(this._lView,r)}markForCheck(){Al(this._cdRefInjectingView||this._lView)}detach(){this._lView[an]&=-129}reattach(){this._lView[an]|=128}detectChanges(){Gs(this._lView[vt],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Se(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Zd(t,r){td(t,r,r[ln],2,null,null)}(this._lView[vt],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new Se(902,!1);this._appRef=r}}class ZE extends Nh{constructor(r){super(r),this._view=r}detectChanges(){const r=this._view;Gs(r[vt],r,r[Xr],!1)}checkNoChanges(){}get context(){return null}}class ts extends _h{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const s=mn(r);return new Cd(s,this.ngModule)}}function g_(t){const r=[];for(let s in t)t.hasOwnProperty(s)&&r.push({propName:t[s],templateName:s});return r}class Ws{constructor(r,s){this.injector=r,this.parentInjector=s}get(r,s,a){a=gn(a);const c=this.injector.get(r,wh,a);return c!==wh||s===wh?c:this.parentInjector.get(r,s,a)}}class Cd extends bf{get inputs(){const r=this.componentDef,s=r.inputTransforms,a=g_(r.inputs);if(null!==s)for(const c of a)s.hasOwnProperty(c.propName)&&(c.transform=s[c.propName]);return a}get outputs(){return g_(this.componentDef.outputs)}constructor(r,s){super(),this.componentDef=r,this.ngModule=s,this.componentType=r.type,this.selector=function jr(t){return t.map(as).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!s}create(r,s,a,c){let d=(c=c||this.ngModule)instanceof mu?c:c?.injector;d&&null!==this.componentDef.getStandaloneInjector&&(d=this.componentDef.getStandaloneInjector(d)||d);const m=d?new Ws(r,d):r,_=m.get(ry,null);if(null===_)throw new Se(407,!1);const re={rendererFactory:_,sanitizer:m.get(tg,null),effectManager:m.get(Fg,null),afterRenderEventManager:m.get(mg,null)},De=_.createRenderer(null,this.componentDef),Oe=this.componentDef.selectors[0][0]||"div",lt=a?function Tg(t,r,s,a){const d=a.get(yg,!1)||s===Ye.ShadowDom,m=t.selectRootElement(r,d);return function Cg(t){Bf(t)}(m),m}(De,a,this.componentDef.encapsulation,m):Rc(De,Oe,function m_(t){const r=t.toLowerCase();return"svg"===r?"svg":"math"===r?"math":null}(Oe)),_n=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let gt=null;null!==lt&&(gt=Yp(lt,m,!0));const Qn=Ch(0,null,null,1,0,null,null,null,null,null,null),wr=Uf(null,Qn,null,_n,null,null,re,De,m,null,gt);let Wi,eu;In(wr);try{const Vl=this.componentDef;let lp,WE=null;Vl.findHostDirectiveDefs?(lp=[],WE=new Map,Vl.findHostDirectiveDefs(Vl,lp,WE),lp.push(Vl)):lp=[Vl];const Wb=function t0(t,r){const s=t[vt],a=Wn;return t[a]=r,zc(s,a,2,"#host",null)}(wr,lt),Kb=function Uy(t,r,s,a,c,d,m){const _=c[vt];!function n0(t,r,s,a){for(const c of t)r.mergedAttrs=Ki(r.mergedAttrs,c.hostAttrs);null!==r.mergedAttrs&&(Gc(r,r.mergedAttrs,!0),null!==s&&uf(a,s,r))}(a,t,r,m);let A=null;null!==r&&(A=Yp(r,c[ls]));const L=d.rendererFactory.createRenderer(r,s);let G=16;s.signals?G=4096:s.onPush&&(G=64);const re=Uf(c,Dy(s),null,G,c[t.index],t,d,L,null,null,A);return _.firstCreatePass&&bh(_,t,a.length-1),Sh(c,re),c[t.index]=re}(Wb,lt,Vl,lp,wr,re,De);eu=v(Qn,Wn),lt&&function s0(t,r,s,a){if(a)kr(t,s,["ng-version",bl.full]);else{const{attrs:c,classes:d}=function Ni(t){const r=[],s=[];let a=1,c=2;for(;a<t.length;){let d=t[a];if("string"==typeof d)2===c?""!==d&&r.push(d,t[++a]):8===c&&s.push(d);else{if(!ye(c))break;c=d}a++}return{attrs:r,classes:s}}(r.selectors[0]);c&&kr(t,s,c),d&&d.length>0&&Ap(t,s,d.join(" "))}}(De,Vl,lt,a),void 0!==s&&function o0(t,r,s){const a=t.projection=[];for(let c=0;c<r.length;c++){const d=s[c];a.push(null!=d?Array.from(d):null)}}(eu,this.ngContentSelectors,s),Wi=function r0(t,r,s,a,c,d){const m=xt(),_=c[vt],A=O(m,c);$f(_,c,m,s,null,a);for(let G=0;G<s.length;G++)vo($o(c,_,m.directiveStart+G,m),c);Hf(_,c,m),A&&vo(A,c);const L=$o(c,_,m.directiveStart+m.componentOffset,m);if(t[Xr]=c[Xr]=L,null!==d)for(const G of d)G(L,r);return Th(_,m,t),L}(Kb,Vl,lp,WE,wr,[a0]),Td(Qn,wr,null)}finally{No()}return new e0(this.componentType,Wi,Vc(eu,wr),wr,eu)}}class e0 extends vh{constructor(r,s,a,c,d){super(),this.location=a,this._rootLView=c,this._tNode=d,this.previousInputValues=null,this.instance=s,this.hostView=this.changeDetectorRef=new ZE(c),this.componentType=r}setInput(r,s){const a=this._tNode.inputs;let c;if(null!==a&&(c=a[r])){if(this.previousInputValues??=new Map,this.previousInputValues.has(r)&&Object.is(this.previousInputValues.get(r),s))return;const d=this._rootLView;Mh(d[vt],d,c,r,s),this.previousInputValues.set(r,s),Al(x(this._tNode.index,d))}}get injector(){return new Zi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}function a0(){const t=xt();Vu(ct()[vt],t)}function Vy(t){let r=function y_(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),s=!0;const a=[t];for(;r;){let c;if($i(t))c=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new Se(903,!1);c=r.\u0275dir}if(c){if(s){a.push(c);const m=t;m.inputs=Wc(t.inputs),m.inputTransforms=Wc(t.inputTransforms),m.declaredInputs=Wc(t.declaredInputs),m.outputs=Wc(t.outputs);const _=c.hostBindings;_&&Pl(t,_);const A=c.viewQuery,L=c.contentQueries;if(A&&v_(t,A),L&&Nl(t,L),ae(t.inputs,c.inputs),ae(t.declaredInputs,c.declaredInputs),ae(t.outputs,c.outputs),null!==c.inputTransforms&&(null===m.inputTransforms&&(m.inputTransforms={}),ae(m.inputTransforms,c.inputTransforms)),$i(c)&&c.data.animation){const G=t.data;G.animation=(G.animation||[]).concat(c.data.animation)}}const d=c.features;if(d)for(let m=0;m<d.length;m++){const _=d[m];_&&_.ngInherit&&_(t),_===Vy&&(s=!1)}}r=Object.getPrototypeOf(r)}!function By(t){let r=0,s=null;for(let a=t.length-1;a>=0;a--){const c=t[a];c.hostVars=r+=c.hostVars,c.hostAttrs=Ki(c.hostAttrs,s=Ki(s,c.hostAttrs))}}(a)}function Wc(t){return t===Et?{}:t===st?[]:t}function v_(t,r){const s=t.viewQuery;t.viewQuery=s?(a,c)=>{r(a,c),s(a,c)}:r}function Nl(t,r){const s=t.contentQueries;t.contentQueries=s?(a,c,d)=>{r(a,c,d),s(a,c,d)}:r}function Pl(t,r){const s=t.hostBindings;t.hostBindings=s?(a,c)=>{r(a,c),s(a,c)}:r}function Kc(t){const r=t.inputConfig,s={};for(const a in r)if(r.hasOwnProperty(a)){const c=r[a];Array.isArray(c)&&c[2]&&(s[a]=c[2])}t.inputTransforms=s}function qc(t){return!!Hg(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function Hg(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Mu(t,r,s){return t[r]=s}function _o(t,r,s){return!Object.is(t[r],s)&&(t[r]=s,!0)}function Qc(t,r,s,a){const c=_o(t,r,s);return _o(t,r+1,a)||c}function Kf(t,r,s,a){const c=ct();return _o(c,Cs(),r)&&(Rn(),pa(hi(),c,t,r,s,a)),Kf}function Nu(t,r,s,a){return _o(t,Cs(),s)?r+Ne(s)+a:Kn}function Ad(t,r,s,a,c,d){const _=Qc(t,function no(){return Ct.lFrame.bindingIndex}(),s,c);return hr(2),_?r+Ne(s)+a+Ne(c)+d:Kn}function S_(t,r,s,a,c,d,m,_){const A=ct(),L=Rn(),G=t+Wn,re=L.firstCreatePass?function A_(t,r,s,a,c,d,m,_,A){const L=r.consts,G=zc(r,t,4,m||null,ke(L,_));Dd(r,s,G,ke(L,A)),Vu(r,G);const re=G.tView=Ch(2,G,a,c,d,r.directiveRegistry,r.pipeRegistry,null,r.schemas,L,null);return null!==r.queries&&(r.queries.template(r,G),re.queries=r.queries.embeddedTView(G)),G}(G,L,A,r,s,a,c,d,m):L.data[G];Fn(re,!1);const De=M_(L,A,re,t);Uu()&&rc(L,A,De,re),vo(De,A),Sh(A,A[G]=Pg(De,A,De,re)),ki(re)&&Vf(L,A,re),null!=m&&Dg(A,re,_)}let M_=function R_(t,r,s,a){return Ls(!0),r[ln].createComment("")};function O_(t){return M(function ps(){return Ct.lFrame.contextLView}(),Wn+t)}function Qy(t,r,s){const a=ct();return _o(a,Cs(),r)&&ja(Rn(),hi(),a,t,r,a[ln],s,!1),Qy}function Ll(t,r,s,a,c){const m=c?"class":"style";Mh(t,s,r.inputs[m],m,a)}function Qg(t,r,s,a){const c=ct(),d=Rn(),m=Wn+t,_=c[ln],A=d.firstCreatePass?function qg(t,r,s,a,c,d){const m=r.consts,A=zc(r,t,2,a,ke(m,c));return Dd(r,s,A,ke(m,d)),null!==A.attrs&&Gc(A,A.attrs,!1),null!==A.mergedAttrs&&Gc(A,A.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,A),A}(m,d,c,r,s,a):d.data[m],L=Xy(d,c,A,_,r,t);c[m]=L;const G=ki(A);return Fn(A,!0),uf(_,L,A),32!=(32&A.flags)&&Uu()&&rc(d,c,L,A),0===function Nt(){return Ct.lFrame.elementDepthCount}()&&vo(L,c),function Li(){Ct.lFrame.elementDepthCount++}(),G&&(Vf(d,c,A),Th(d,A,c)),null!==a&&Dg(c,A),Qg}function Zf(){let t=xt();wi()?ti():(t=t.parent,Fn(t,!1));const r=t;(function Ui(t){return Ct.skipHydrationRootTNode===t})(r)&&function Rt(){Ct.skipHydrationRootTNode=null}(),function rr(){Ct.lFrame.elementDepthCount--}();const s=Rn();return s.firstCreatePass&&(Vu(s,t),Qs(t)&&s.queries.elementEnd(t)),null!=r.classesWithoutHost&&function iu(t){return 0!=(8&t.flags)}(r)&&Ll(s,r,ct(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function _c(t){return 0!=(16&t.flags)}(r)&&Ll(s,r,ct(),r.stylesWithoutHost,!1),Zf}function Xg(t,r,s,a){return Qg(t,r,s,a),Zf(),Xg}let Xy=(t,r,s,a,c,d)=>(Ls(!0),Rc(a,c,function ia(){return Ct.lFrame.currentNamespace}()));function Yg(t,r,s){const a=ct(),c=Rn(),d=t+Wn,m=c.firstCreatePass?function _0(t,r,s,a,c){const d=r.consts,m=ke(d,a),_=zc(r,t,8,"ng-container",m);return null!==m&&Gc(_,m,!0),Dd(r,s,_,ke(d,c)),null!==r.queries&&r.queries.elementStart(r,_),_}(d,c,a,r,s):c.data[d];Fn(m,!0);const _=Jy(c,a,m,t);return a[d]=_,Uu()&&rc(c,a,_,m),vo(_,a),ki(m)&&(Vf(c,a,m),Th(c,m,a)),null!=s&&Dg(a,m),Yg}function Jg(){let t=xt();const r=Rn();return wi()?ti():(t=t.parent,Fn(t,!1)),r.firstCreatePass&&(Vu(r,t),Qs(t)&&r.queries.elementEnd(t)),Jg}function Yy(t,r,s){return Yg(t,r,s),Jg(),Yy}let Jy=(t,r,s,a)=>(Ls(!0),hu(r[ln],""));function V_(){return ct()}function Zg(t){return!!t&&"function"==typeof t.then}function Zy(t){return!!t&&"function"==typeof t.subscribe}function xu(t,r,s,a){const c=ct(),d=Rn(),m=xt();return function B_(t,r,s,a,c,d,m){const _=ki(a),L=t.firstCreatePass&&Py(t),G=r[Xr],re=Ny(r);let De=!0;if(3&a.type||m){const bt=O(a,r),qt=m?m(bt):bt,_n=re.length,gt=m?wr=>m(sn(wr[a.index])):a.index;let Qn=null;if(!m&&_&&(Qn=function E0(t,r,s,a){const c=t.cleanup;if(null!=c)for(let d=0;d<c.length-1;d+=2){const m=c[d];if(m===s&&c[d+1]===a){const _=r[Us],A=c[d+2];return _.length>A?_[A]:null}"string"==typeof m&&(d+=2)}return null}(t,r,c,a.index)),null!==Qn)(Qn.__ngLastListenerFn__||Qn).__ngNextListenerFn__=d,Qn.__ngLastListenerFn__=d,De=!1;else{d=$_(a,r,G,d,!1);const wr=s.listen(qt,c,d);re.push(d,wr),L&&L.push(c,gt,_n,_n+1)}}else d=$_(a,r,G,d,!1);const Oe=a.outputs;let lt;if(De&&null!==Oe&&(lt=Oe[c])){const bt=lt.length;if(bt)for(let qt=0;qt<bt;qt+=2){const Wi=r[lt[qt]][lt[qt+1]].subscribe(d),eu=re.length;re.push(d,Wi),L&&L.push(c,a.index,eu,-(eu+1))}}}(d,c,c[ln],m,t,r,a),xu}function j_(t,r,s,a){try{return Ji(6,r,s),!1!==s(a)}catch(c){return kg(t,c),!1}finally{Ji(7,r,s)}}function $_(t,r,s,a,c){return function d(m){if(m===Function)return a;Al(t.componentOffset>-1?x(t.index,r):r);let A=j_(r,s,a,m),L=d.__ngNextListenerFn__;for(;L;)A=j_(r,s,L,m)&&A,L=L.__ngNextListenerFn__;return c&&!1===A&&m.preventDefault(),A}}function H_(t=1){return function yo(t){return(Ct.lFrame.contextLView=function ra(t,r){for(;t>0;)r=r[xi],t--;return r}(t,Ct.lFrame.contextLView))[Xr]}(t)}function w0(t,r){let s=null;const a=function yt(t){const r=t.attrs;if(null!=r){const s=r.indexOf(5);if(!(1&s))return r[s+1]}return null}(t);for(let c=0;c<r.length;c++){const d=r[c];if("*"!==d){if(null===a?rt(t,d,!0):Vn(a,d))return c}else s=c}return s}function z_(t){const r=ct()[Dr][Pi];if(!r.projection){const a=r.projection=Tc(t?t.length:1,null),c=a.slice();let d=r.child;for(;null!==d;){const m=t?w0(d,t):0;null!==m&&(c[m]?c[m].projectionNext=d:a[m]=d,c[m]=d),d=d.next}}}function G_(t,r=0,s){const a=ct(),c=Rn(),d=zc(c,Wn+t,16,null,s||null);null===d.projection&&(d.projection=r),ti(),(!a[Io]||Bt())&&32!=(32&d.flags)&&function af(t,r,s){Nc(r[ln],0,r,s,Ip(t,s,r),Dp(s.parent||r[Pi],s,r))}(c,a,d)}function ep(t,r,s){return xd(t,"",r,"",s),ep}function xd(t,r,s,a,c){const d=ct(),m=Nu(d,r,s,a);return m!==Kn&&ja(Rn(),hi(),d,t,m,d[ln],c,!1),xd}function np(t,r){return t<<17|r<<2}function Jc(t){return t>>17&32767}function ov(t){return 2|t}function Od(t){return(131068&t)>>2}function av(t,r){return-131069&t|r<<2}function uv(t){return 1|t}function q_(t,r,s,a,c){const d=t[s+1],m=null===r;let _=a?Jc(d):Od(d),A=!1;for(;0!==_&&(!1===A||m);){const G=t[_+1];b0(t[_],r)&&(A=!0,t[_+1]=a?uv(G):ov(G)),_=a?Jc(G):Od(G)}A&&(t[s+1]=a?ov(d):uv(d))}function b0(t,r){return null===t||null==r||(Array.isArray(t)?t[1]:t)===r||!(!Array.isArray(t)||"string"!=typeof r)&&Fa(t,r)>=0}function tm(t,r){return function Ou(t,r,s,a){const c=ct(),d=Rn(),m=hr(2);d.firstUpdatePass&&function iE(t,r,s,a){const c=t.data;if(null===c[s+1]){const d=c[rs()],m=function rE(t,r){return r>=t.expandoStartIndex}(t,s);(function uE(t,r){return 0!=(t.flags&(r?8:16))})(d,a)&&null===r&&!m&&(r=!1),r=function x0(t,r,s,a){const c=function q(t){const r=Ct.lFrame.currentDirectiveIndex;return-1===r?null:t[r]}(t);let d=a?r.residualClasses:r.residualStyles;if(null===c)0===(a?r.classBindings:r.styleBindings)&&(s=rp(s=nm(null,t,r,s,a),r.attrs,a),d=null);else{const m=r.directiveStylingLast;if(-1===m||t[m]!==c)if(s=nm(c,t,r,s,a),null===d){let A=function O0(t,r,s){const a=s?r.classBindings:r.styleBindings;if(0!==Od(a))return t[Jc(a)]}(t,r,a);void 0!==A&&Array.isArray(A)&&(A=nm(null,t,r,A[1],a),A=rp(A,r.attrs,a),function k0(t,r,s,a){t[Jc(s?r.classBindings:r.styleBindings)]=a}(t,r,a,A))}else d=function F0(t,r,s){let a;const c=r.directiveEnd;for(let d=1+r.directiveStylingLast;d<c;d++)a=rp(a,t[d].hostAttrs,s);return rp(a,r.attrs,s)}(t,r,a)}return void 0!==d&&(a?r.residualClasses=d:r.residualStyles=d),s}(c,d,r,a),function K_(t,r,s,a,c,d){let m=d?r.classBindings:r.styleBindings,_=Jc(m),A=Od(m);t[a]=s;let G,L=!1;if(Array.isArray(s)?(G=s[1],(null===G||Fa(s,G)>0)&&(L=!0)):G=s,c)if(0!==A){const De=Jc(t[_+1]);t[a+1]=np(De,_),0!==De&&(t[De+1]=av(t[De+1],a)),t[_+1]=function D0(t,r){return 131071&t|r<<17}(t[_+1],a)}else t[a+1]=np(_,0),0!==_&&(t[_+1]=av(t[_+1],a)),_=a;else t[a+1]=np(A,0),0===_?_=a:t[A+1]=av(t[A+1],a),A=a;L&&(t[a+1]=ov(t[a+1])),q_(t,G,a,!0),q_(t,G,a,!1),function C0(t,r,s,a,c){const d=c?t.residualClasses:t.residualStyles;null!=d&&"string"==typeof r&&Fa(d,r)>=0&&(s[a+1]=uv(s[a+1]))}(r,G,t,a,d),m=np(_,A),d?r.classBindings=m:r.styleBindings=m}(c,d,r,s,m,a)}}(d,t,m,a),r!==Kn&&_o(c,m,r)&&function oE(t,r,s,a,c,d,m,_){if(!(3&r.type))return;const A=t.data,L=A[_+1],G=function T0(t){return 1==(1&t)}(L)?aE(A,r,s,c,Od(L),m):void 0;rm(G)||(rm(d)||function I0(t){return 2==(2&t)}(L)&&(d=aE(A,null,s,c,_,m)),function ml(t,r,s,a,c){if(r)c?t.addClass(s,a):t.removeClass(s,a);else{let d=-1===a.indexOf("-")?void 0:qd.DashCase;null==c?t.removeStyle(s,a,d):("string"==typeof c&&c.endsWith("!important")&&(c=c.slice(0,-10),d|=qd.Important),t.setStyle(s,a,c,d))}}(a,m,na(rs(),s),c,d))}(d,d.data[rs()],c,c[ln],t,c[m+1]=function B0(t,r){return null==t||""===t||("string"==typeof r?t+=r:"object"==typeof t&&(t=Re(pu(t)))),t}(r,s),a,m)}(t,r,null,!0),tm}function nm(t,r,s,a,c){let d=null;const m=s.directiveEnd;let _=s.directiveStylingLast;for(-1===_?_=s.directiveStart:_++;_<m&&(d=r[_],a=rp(a,d.hostAttrs,c),d!==t);)_++;return null!==t&&(s.directiveStylingLast=_),a}function rp(t,r,s){const a=s?1:2;let c=-1;if(null!==r)for(let d=0;d<r.length;d++){const m=r[d];"number"==typeof m?c=m:c===a&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Hs(t,m,!!s||r[++d]))}return void 0===t?null:t}function aE(t,r,s,a,c,d){const m=null===r;let _;for(;c>0;){const A=t[c],L=Array.isArray(A),G=L?A[1]:A,re=null===G;let De=s[c+1];De===Kn&&(De=re?st:void 0);let Oe=re?qa(De,a):G===a?De:void 0;if(L&&!rm(Oe)&&(Oe=qa(A,a)),rm(Oe)&&(_=Oe,m))return _;const lt=t[c+1];c=m?Jc(lt):Od(lt)}if(null!==r){let A=d?r.residualClasses:r.residualStyles;null!=A&&(_=qa(A,a))}return _}function rm(t){return void 0!==t}function lv(t,r=""){const s=ct(),a=Rn(),c=t+Wn,d=a.firstCreatePass?zc(a,c,1,r,null):a.data[c],m=cE(a,s,d,r,t);s[c]=m,Uu()&&rc(a,s,m,d),Fn(d,!1)}let cE=(t,r,s,a,c)=>(Ls(!0),function hl(t,r){return t.createText(r)}(r[ln],a));function i(t){return e("",t,""),i}function e(t,r,s){const a=ct(),c=Nu(a,t,r,s);return c!==Kn&&ac(a,rs(),c),e}function n(t,r,s,a,c){const d=ct(),m=Ad(d,t,r,s,a,c);return m!==Kn&&ac(d,rs(),m),n}const Lh=void 0;var TD=["en",[["a","p"],["AM","PM"],Lh],[["AM","PM"],Lh,Lh],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Lh,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Lh,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Lh,"{1} 'at' {0}",Lh],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function DD(t){const s=Math.floor(Math.abs(t)),a=t.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===a?1:5}];let ip={};function dE(t){const r=function CD(t){return t.toLowerCase().replace(/_/g,"-")}(t);let s=ew(r);if(s)return s;const a=r.split("-")[0];if(s=ew(a),s)return s;if("en"===a)return TD;throw new Se(701,!1)}function Z0(t){return dE(t)[sp.PluralCase]}function ew(t){return t in ip||(ip[t]=$t.ng&&$t.ng.common&&$t.ng.common.locales&&$t.ng.common.locales[t]),ip[t]}var sp=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(sp||{});const op="en-US";let tw=op;function pE(t,r,s,a,c){if(t=$e(t),Array.isArray(t))for(let d=0;d<t.length;d++)pE(t[d],r,s,a,c);else{const d=Rn(),m=ct(),_=xt();let A=gu(t)?t:$e(t.provide);const L=$p(t),G=1048575&_.providerIndexes,re=_.directiveStart,De=_.providerIndexes>>20;if(gu(t)||!t.multi){const Oe=new ru(L,c,Hc),lt=mE(A,r,c?G:G+De,re);-1===lt?(Po(Ca(_,m),d,A),gE(d,t,r.length),r.push(A),_.directiveStart++,_.directiveEnd++,c&&(_.providerIndexes+=1048576),s.push(Oe),m.push(Oe)):(s[lt]=Oe,m[lt]=Oe)}else{const Oe=mE(A,r,G+De,re),lt=mE(A,r,G,G+De),qt=lt>=0&&s[lt];if(c&&!qt||!c&&!(Oe>=0&&s[Oe])){Po(Ca(_,m),d,A);const _n=function DT(t,r,s,a,c){const d=new ru(t,s,Hc);return d.multi=[],d.index=r,d.componentProviders=0,bw(d,c,a&&!s),d}(c?IT:wT,s.length,c,a,L);!c&&qt&&(s[lt].providerFactory=_n),gE(d,t,r.length,0),r.push(A),_.directiveStart++,_.directiveEnd++,c&&(_.providerIndexes+=1048576),s.push(_n),m.push(_n)}else gE(d,t,Oe>-1?Oe:lt,bw(s[c?lt:Oe],L,!c&&a));!c&&a&&qt&&s[lt].componentProviders++}}}function gE(t,r,s,a){const c=gu(r),d=function wf(t){return!!t.useClass}(r);if(c||d){const A=(d?$e(r.useClass):r).prototype.ngOnDestroy;if(A){const L=t.destroyHooks||(t.destroyHooks=[]);if(!c&&r.multi){const G=L.indexOf(s);-1===G?L.push(s,[a,A]):L[G+1].push(a,A)}else L.push(s,A)}}}function bw(t,r,s){return s&&t.componentProviders++,t.multi.push(r)-1}function mE(t,r,s,a){for(let c=s;c<a;c++)if(r[c]===t)return c;return-1}function wT(t,r,s,a){return yE(this.multi,[])}function IT(t,r,s,a){const c=this.multi;let d;if(this.providerFactory){const m=this.providerFactory.componentProviders,_=$o(s,s[vt],this.providerFactory.index,a);d=_.slice(0,m),yE(c,d);for(let A=m;A<_.length;A++)d.push(_[A])}else d=[],yE(c,d);return d}function yE(t,r){for(let s=0;s<t.length;s++)r.push((0,t[s])());return r}function Aw(t,r=[]){return s=>{s.providersResolver=(a,c)=>function ET(t,r,s){const a=Rn();if(a.firstCreatePass){const c=$i(t);pE(s,a.data,a.blueprint,c,!0),pE(r,a.data,a.blueprint,c,!1)}}(a,c?c(t):t,r)}}class Uh{}class Sw{}function TT(t,r){return new vE(t,r??null,[])}class vE extends Uh{constructor(r,s,a){super(),this._parent=s,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new ts(this);const c=Ci(r);this._bootstrapComponents=sc(c.bootstrap),this._r3Injector=og(r,s,[{provide:Uh,useValue:this},{provide:_h,useValue:this.componentFactoryResolver},...a],Re(r),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(r)}get injector(){return this._r3Injector}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class _E extends Sw{constructor(r){super(),this.moduleType=r}create(r){return new vE(this.moduleType,r,[])}}class Mw extends Uh{constructor(r){super(),this.componentFactoryResolver=new ts(this),this.instance=null;const s=new Fc([...r.providers,{provide:Uh,useValue:this},{provide:_h,useValue:this.componentFactoryResolver}],r.parent||lh(),r.debugName,new Set(["environment"]));this.injector=s,r.runEnvironmentInitializers&&s.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(r){this.injector.onDestroy(r)}}function Rw(t,r,s=null){return new Mw({providers:t,parent:r,debugName:s,runEnvironmentInitializers:!0}).injector}let bT=(()=>{class t{constructor(s){this._injector=s,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(s){if(!s.standalone)return null;if(!this.cachedInjectors.has(s)){const a=Gm(0,s.type),c=a.length>0?Rw([a],this._injector,`Standalone[${s.type.name}]`):null;this.cachedInjectors.set(s,c)}return this.cachedInjectors.get(s)}ngOnDestroy(){try{for(const s of this.cachedInjectors.values())null!==s&&s.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=Ot({token:t,providedIn:"environment",factory:()=>new t(Ht(mu))})}}return t})();function Nw(t){t.getStandaloneInjector=r=>r.get(bT).getOrCreateStandaloneInjector(t)}function Uw(t,r,s,a){return $w(ct(),ri(),t,r,s,a)}function Vw(t,r,s,a,c){return Hw(ct(),ri(),t,r,s,a,c)}function Bw(t,r,s,a,c,d){return function zw(t,r,s,a,c,d,m,_){const A=r+s;return function Ru(t,r,s,a,c){const d=Qc(t,r,s,a);return _o(t,r+2,c)||d}(t,A,c,d,m)?Mu(t,A+3,_?a.call(_,c,d,m):a(c,d,m)):cm(t,A+3)}(ct(),ri(),t,r,s,a,c,d)}function jw(t,r,s,a,c,d,m){return function Gw(t,r,s,a,c,d,m,_,A){const L=r+s;return function $a(t,r,s,a,c,d){const m=Qc(t,r,s,a);return Qc(t,r+2,c,d)||m}(t,L,c,d,m,_)?Mu(t,L+4,A?a.call(A,c,d,m,_):a(c,d,m,_)):cm(t,L+4)}(ct(),ri(),t,r,s,a,c,d,m)}function cm(t,r){const s=t[r];return s===Kn?void 0:s}function $w(t,r,s,a,c,d){const m=r+s;return _o(t,m,c)?Mu(t,m+1,d?a.call(d,c):a(c)):cm(t,m+1)}function Hw(t,r,s,a,c,d,m){const _=r+s;return Qc(t,_,c,d)?Mu(t,_+2,m?a.call(m,c,d):a(c,d)):cm(t,_+2)}function Kw(t,r){const s=Rn();let a;const c=t+Wn;s.firstCreatePass?(a=function jT(t,r){if(r)for(let s=r.length-1;s>=0;s--){const a=r[s];if(t===a.name)return a}}(r,s.pipeRegistry),s.data[c]=a,a.onDestroy&&(s.destroyHooks??=[]).push(c,a.onDestroy)):a=s.data[c];const d=a.factory||(a.factory=Yi(a.type)),_=On(Hc);try{const A=Hu(!1),L=d();return Hu(A),function x_(t,r,s,a){s>=t.data.length&&(t.data[s]=null,t.blueprint[s]=null),r[s]=a}(s,ct(),c,L),L}finally{On(_)}}function qw(t,r,s){const a=t+Wn,c=ct(),d=M(c,a);return lm(c,a)?$w(c,ri(),r,d.transform,s,d):d.transform(s)}function Qw(t,r,s,a){const c=t+Wn,d=ct(),m=M(d,c);return lm(d,c)?Hw(d,ri(),r,m.transform,s,a,m):m.transform(s,a)}function lm(t,r){return t[vt].data[r].pure}function GT(){return this._results[Symbol.iterator]()}class mv{get changes(){return this._changes||(this._changes=new Su)}constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const s=mv.prototype;s[Symbol.iterator]||(s[Symbol.iterator]=GT)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,s){return this._results.reduce(r,s)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,s){const a=this;a.dirty=!1;const c=function io(t){return t.flat(Number.POSITIVE_INFINITY)}(r);(this._changesDetected=!function ka(t,r,s){if(t.length!==r.length)return!1;for(let a=0;a<t.length;a++){let c=t[a],d=r[a];if(s&&(c=s(c),d=s(d)),d!==c)return!1}return!0}(a._results,c,s))&&(a._results=c,a.length=c.length,a.last=c[this.length-1],a.first=c[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function KT(t,r,s,a=!0){const c=r[vt];if(function fl(t,r,s,a){const c=ci+a,d=s.length;a>0&&(s[c-1][ji]=r),a<d-ci?(r[ji]=s[c],jh(s,ci+a,r)):(s.push(r),r[ji]=null),r[cn]=s;const m=r[Vo];null!==m&&s!==m&&function Cu(t,r){const s=t[xs];r[Dr]!==r[cn][cn][Dr]&&(t[Qi]=!0),null===s?t[xs]=[r]:s.push(r)}(m,r);const _=r[ui];null!==_&&_.insertView(t),r[an]|=128}(c,r,t,s),a){const d=sf(s,t),m=r[ln],_=th(m,t[$r]);null!==_&&function os(t,r,s,a,c,d){a[mr]=c,a[Pi]=r,td(t,a,s,1,c,d)}(c,t[Pi],m,r,_,d)}}let dm=(()=>{class t{static{this.__NG_ELEMENT_ID__=XT}}return t})();const qT=dm,QT=class extends qT{constructor(r,s,a){super(),this._declarationLView=r,this._declarationTContainer=s,this.elementRef=a}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(r,s){return this.createEmbeddedViewImpl(r,s)}createEmbeddedViewImpl(r,s,a){const c=function WT(t,r,s,a){const c=r.tView,_=Uf(t,c,s,4096&t[an]?4096:16,null,r,null,null,null,a?.injector??null,a?.hydrationInfo??null);_[Vo]=t[r.index];const L=t[ui];return null!==L&&(_[ui]=L.createEmbeddedView(c)),Td(c,_,s),_}(this._declarationLView,this._declarationTContainer,r,{injector:s,hydrationInfo:a});return new Nh(c)}};function XT(){return yv(xt(),ct())}function yv(t,r){return 4&t.type?new QT(r,t,Vc(t,r)):null}let _v=(()=>{class t{static{this.__NG_ELEMENT_ID__=nC}}return t})();function nC(){return nI(xt(),ct())}const rC=_v,eI=class extends rC{constructor(r,s,a){super(),this._lContainer=r,this._hostTNode=s,this._hostLView=a}get element(){return Vc(this._hostTNode,this._hostLView)}get injector(){return new Zi(this._hostTNode,this._hostLView)}get parentInjector(){const r=su(this._hostTNode,this._hostLView);if(gs(r)){const s=sa(r,this._hostLView),a=Jr(r);return new Zi(s[vt].data[a+8],s)}return new Zi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const s=tI(this._lContainer);return null!==s&&s[r]||null}get length(){return this._lContainer.length-ci}createEmbeddedView(r,s,a){let c,d;"number"==typeof a?c=a:null!=a&&(c=a.index,d=a.injector);const _=r.createEmbeddedViewImpl(s||{},d,null);return this.insertImpl(_,c,false),_}createComponent(r,s,a,c,d){const m=r&&!function As(t){return"function"==typeof t}(r);let _;if(m)_=s;else{const bt=s||{};_=bt.index,a=bt.injector,c=bt.projectableNodes,d=bt.environmentInjector||bt.ngModuleRef}const A=m?r:new Cd(mn(r)),L=a||this.parentInjector;if(!d&&null==A.ngModule){const qt=(m?L:this.parentInjector).get(mu,null);qt&&(d=qt)}mn(A.componentType??{});const Oe=A.create(L,c,null,d);return this.insertImpl(Oe.hostView,_,false),Oe}insert(r,s){return this.insertImpl(r,s,!1)}insertImpl(r,s,a){const c=r._lView;if(function me(t){return bi(t[cn])}(c)){const A=this.indexOf(r);if(-1!==A)this.detach(A);else{const L=c[cn],G=new eI(L,L[Pi],L[cn]);G.detach(G.indexOf(r))}}const m=this._adjustIndex(s),_=this._lContainer;return KT(_,c,m,!a),r.attachToViewContainerRef(),jh(wE(_),m,r),r}move(r,s){return this.insert(r,s)}indexOf(r){const s=tI(this._lContainer);return null!==s?s.indexOf(r):-1}remove(r){const s=this._adjustIndex(r,-1),a=eh(this._lContainer,s);a&&(Dc(wE(this._lContainer),s),pl(a[vt],a))}detach(r){const s=this._adjustIndex(r,-1),a=eh(this._lContainer,s);return a&&null!=Dc(wE(this._lContainer),s)?new Nh(a):null}_adjustIndex(r,s=0){return r??this.length+s}};function tI(t){return t[8]}function wE(t){return t[8]||(t[8]=[])}function nI(t,r){let s;const a=r[t.index];return bi(a)?s=a:(s=Pg(a,r,null,t),r[t.index]=s,Sh(r,s)),rI(s,r,t,a),new eI(s,t,r)}let rI=function iI(t,r,s,a){if(t[$r])return;let c;c=8&s.type?sn(a):function iC(t,r){const s=t[ln],a=s.createComment(""),c=O(r,t);return fu(s,th(s,c),a,function Mv(t,r){return t.nextSibling(r)}(s,c),!1),a}(r,s),t[$r]=c};class IE{constructor(r){this.queryList=r,this.matches=null}clone(){return new IE(this.queryList)}setDirty(){this.queryList.setDirty()}}class DE{constructor(r=[]){this.queries=r}createEmbeddedView(r){const s=r.queries;if(null!==s){const a=null!==r.contentQueries?r.contentQueries[0]:s.length,c=[];for(let d=0;d<a;d++){const m=s.getByIndex(d);c.push(this.queries[m.indexInDeclarationView].clone())}return new DE(c)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let s=0;s<this.queries.length;s++)null!==fI(r,s).matches&&this.queries[s].setDirty()}}class sI{constructor(r,s,a=null){this.predicate=r,this.flags=s,this.read=a}}class TE{constructor(r=[]){this.queries=r}elementStart(r,s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementStart(r,s)}elementEnd(r){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(r)}embeddedTView(r){let s=null;for(let a=0;a<this.length;a++){const c=null!==s?s.length:0,d=this.getByIndex(a).embeddedTView(r,c);d&&(d.indexInDeclarationView=a,null!==s?s.push(d):s=[d])}return null!==s?new TE(s):null}template(r,s){for(let a=0;a<this.queries.length;a++)this.queries[a].template(r,s)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class CE{constructor(r,s=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(r,s){this.isApplyingToNode(s)&&this.matchTNode(r,s)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,s){this.elementStart(r,s)}embeddedTView(r,s){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,s),new CE(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const s=this._declarationNodeIndex;let a=r.parent;for(;null!==a&&8&a.type&&a.index!==s;)a=a.parent;return s===(null!==a?a.index:-1)}return this._appliesToNextNode}matchTNode(r,s){const a=this.metadata.predicate;if(Array.isArray(a))for(let c=0;c<a.length;c++){const d=a[c];this.matchTNodeWithReadOption(r,s,aC(s,d)),this.matchTNodeWithReadOption(r,s,Ec(s,r,d,!1,!1))}else a===dm?4&s.type&&this.matchTNodeWithReadOption(r,s,-1):this.matchTNodeWithReadOption(r,s,Ec(s,r,a,!1,!1))}matchTNodeWithReadOption(r,s,a){if(null!==a){const c=this.metadata.read;if(null!==c)if(c===Eh||c===_v||c===dm&&4&s.type)this.addMatch(s.index,-2);else{const d=Ec(s,r,c,!1,!1);null!==d&&this.addMatch(s.index,d)}else this.addMatch(s.index,a)}}addMatch(r,s){null===this.matches?this.matches=[r,s]:this.matches.push(r,s)}}function aC(t,r){const s=t.localNames;if(null!==s)for(let a=0;a<s.length;a+=2)if(s[a]===r)return s[a+1];return null}function cC(t,r,s,a){return-1===s?function uC(t,r){return 11&t.type?Vc(t,r):4&t.type?yv(t,r):null}(r,t):-2===s?function lC(t,r,s){return s===Eh?Vc(r,t):s===dm?yv(r,t):s===_v?nI(r,t):void 0}(t,r,a):$o(t,t[vt],s,r)}function oI(t,r,s,a){const c=r[ui].queries[a];if(null===c.matches){const d=t.data,m=s.matches,_=[];for(let A=0;A<m.length;A+=2){const L=m[A];_.push(L<0?null:cC(r,d[L],m[A+1],s.metadata.read))}c.matches=_}return c.matches}function bE(t,r,s,a){const c=t.queries.getByIndex(s),d=c.matches;if(null!==d){const m=oI(t,r,c,s);for(let _=0;_<d.length;_+=2){const A=d[_];if(A>0)a.push(m[_/2]);else{const L=d[_+1],G=r[-A];for(let re=ci;re<G.length;re++){const De=G[re];De[Vo]===De[cn]&&bE(De[vt],De,L,a)}if(null!==G[xs]){const re=G[xs];for(let De=0;De<re.length;De++){const Oe=re[De];bE(Oe[vt],Oe,L,a)}}}}}return a}function aI(t){const r=ct(),s=Rn(),a=oe();We(a+1);const c=fI(s,a);if(t.dirty&&function H(t){return 4==(4&t[an])}(r)===(2==(2&c.metadata.flags))){if(null===c.matches)t.reset([]);else{const d=c.crossesNgTemplate?bE(s,r,a,[]):oI(s,r,c,a);t.reset(d,Zp),t.notifyOnChanges()}return!0}return!1}function uI(t,r,s){const a=Rn();a.firstCreatePass&&(hI(a,new sI(t,r,s),-1),2==(2&r)&&(a.staticViewQueries=!0)),dI(a,ct(),r)}function cI(t,r,s,a){const c=Rn();if(c.firstCreatePass){const d=xt();hI(c,new sI(r,s,a),d.index),function hC(t,r){const s=t.contentQueries||(t.contentQueries=[]);r!==(s.length?s[s.length-1]:-1)&&s.push(t.queries.length-1,r)}(c,t),2==(2&s)&&(c.staticContentQueries=!0)}dI(c,ct(),s)}function lI(){return function dC(t,r){return t[ui].queries[r].queryList}(ct(),oe())}function dI(t,r,s){const a=new mv(4==(4&s));(function u_(t,r,s,a){const c=Ny(r);c.push(s),t.firstCreatePass&&Py(t).push(a,c.length-1)})(t,r,a,a.destroy),null===r[ui]&&(r[ui]=new DE),r[ui].queries.push(new IE(a))}function hI(t,r,s){null===t.queries&&(t.queries=new TE),t.queries.track(new CE(r,s))}function fI(t,r){return t.queries.getByIndex(r)}function pI(t,r){return yv(t,r)}function AE(t){return!!Ci(t)}const NI=new Ut("Application Initializer");let PE=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((s,a)=>{this.resolve=s,this.reject=a}),this.appInits=Yt(NI,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const s=[];for(const c of this.appInits){const d=c();if(Zg(d))s.push(d);else if(Zy(d)){const m=new Promise((_,A)=>{d.subscribe({complete:_,error:A})});s.push(m)}}const a=()=>{this.done=!0,this.resolve()};Promise.all(s).then(()=>{a()}).catch(c=>{this.reject(c)}),0===s.length&&a(),this.initialized=!0}static{this.\u0275fac=function(a){return new(a||t)}}static{this.\u0275prov=Ot({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),PI=(()=>{class t{log(s){console.log(s)}warn(s){console.warn(s)}static{this.\u0275fac=function(a){return new(a||t)}}static{this.\u0275prov=Ot({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();const wv=new Ut("LocaleId",{providedIn:"root",factory:()=>Yt(wv,Xt.Optional|Xt.SkipSelf)||function xC(){return typeof $localize<"u"&&$localize.locale||op}()}),OC=new Ut("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let xI=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new fe.t(!1)}add(){this.hasPendingTasks.next(!0);const s=this.taskId++;return this.pendingTasks.add(s),s}remove(s){this.pendingTasks.delete(s),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static{this.\u0275fac=function(a){return new(a||t)}}static{this.\u0275prov=Ot({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();class FC{constructor(r,s){this.ngModuleFactory=r,this.componentFactories=s}}let LC=(()=>{class t{compileModuleSync(s){return new _E(s)}compileModuleAsync(s){return Promise.resolve(this.compileModuleSync(s))}compileModuleAndAllComponentsSync(s){const a=this.compileModuleSync(s),d=sc(Ci(s).declarations).reduce((m,_)=>{const A=mn(_);return A&&m.push(new Cd(A)),m},[]);return new FC(a,d)}compileModuleAndAllComponentsAsync(s){return Promise.resolve(this.compileModuleAndAllComponentsSync(s))}clearCache(){}clearCacheFor(s){}getModuleId(s){}static{this.\u0275fac=function(a){return new(a||t)}}static{this.\u0275prov=Ot({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();const LI=new Ut(""),UI=new Ut("");let kE,sb=(()=>{class t{constructor(s,a,c){this._ngZone=s,this.registry=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,kE||(function ob(t){kE=t}(c),c.addToWindow(a)),this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{zs.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb(this._didWork)}this._didWork=!1});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(a=>!a.updateCb||!a.updateCb(s)||(clearTimeout(a.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,a,c){let d=-1;a&&a>0&&(d=setTimeout(()=>{this._callbacks=this._callbacks.filter(m=>m.timeoutId!==d),s(this._didWork,this.getPendingTasks())},a)),this._callbacks.push({doneCb:s,timeoutId:d,updateCb:c})}whenStable(s,a,c){if(c&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,a,c),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(s){this.registry.registerApplication(s,this)}unregisterApplication(s){this.registry.unregisterApplication(s)}findProviders(s,a,c){return[]}static{this.\u0275fac=function(a){return new(a||t)(Ht(zs),Ht(VI),Ht(UI))}}static{this.\u0275prov=Ot({token:t,factory:t.\u0275fac})}}return t})(),VI=(()=>{class t{constructor(){this._applications=new Map}registerApplication(s,a){this._applications.set(s,a)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,a=!0){return kE?.findTestabilityInTree(this,s,a)??null}static{this.\u0275fac=function(a){return new(a||t)}}static{this.\u0275prov=Ot({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})(),kd=null;const BI=new Ut("AllowMultipleToken"),FE=new Ut("PlatformDestroyListeners"),LE=new Ut("appBootstrapListener");class cb{constructor(r,s){this.name=r,this.token=s}}function HI(t,r,s=[]){const a=`Platform: ${r}`,c=new Ut(a);return(d=[])=>{let m=UE();if(!m||m.injector.get(BI,!1)){const _=[...s,...d,{provide:c,useValue:!0}];t?t(_):function lb(t){if(kd&&!kd.get(BI,!1))throw new Se(400,!1);(function jI(){!function Mo(t){Fs=t}(()=>{throw new Se(600,!1)})})(),kd=t;const r=t.get(GI);(function $I(t){t.get(Gp,null)?.forEach(s=>s())})(t)}(function zI(t=[],r){return Ba.create({name:r,providers:[{provide:ch,useValue:"platform"},{provide:FE,useValue:new Set([()=>kd=null])},...t]})}(_,a))}return function hb(t){const r=UE();if(!r)throw new Se(401,!1);return r}()}}function UE(){return kd?.get(GI)??null}let GI=(()=>{class t{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,a){const c=function fb(t="zone.js",r){return"noop"===t?new e_:"zone.js"===t?new zs(r):t}(a?.ngZone,function WI(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:a?.ngZoneEventCoalescing,runCoalescing:a?.ngZoneRunCoalescing}));return c.run(()=>{const d=function CT(t,r,s){return new vE(t,r,s)}(s.moduleType,this.injector,function YI(t){return[{provide:zs,useFactory:t},{provide:uh,multi:!0,useFactory:()=>{const r=Yt(gb,{optional:!0});return()=>r.initialize()}},{provide:XI,useFactory:pb},{provide:hg,useFactory:fg}]}(()=>c)),m=d.injector.get(fa,null);return c.runOutsideAngular(()=>{const _=c.onError.subscribe({next:A=>{m.handleError(A)}});d.onDestroy(()=>{Dv(this._modules,d),_.unsubscribe()})}),function KI(t,r,s){try{const a=s();return Zg(a)?a.catch(c=>{throw r.runOutsideAngular(()=>t.handleError(c)),c}):a}catch(a){throw r.runOutsideAngular(()=>t.handleError(a)),a}}(m,c,()=>{const _=d.injector.get(PE);return _.runInitializers(),_.donePromise.then(()=>(function nw(t){it(t,"Expected localeId to be defined"),"string"==typeof t&&(tw=t.toLowerCase().replace(/_/g,"-"))}(d.injector.get(wv,op)||op),this._moduleDoBootstrap(d),d))})})}bootstrapModule(s,a=[]){const c=qI({},a);return function ab(t,r,s){const a=new _E(s);return Promise.resolve(a)}(0,0,s).then(d=>this.bootstrapModuleFactory(d,c))}_moduleDoBootstrap(s){const a=s.injector.get(cp);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(c=>a.bootstrap(c));else{if(!s.instance.ngDoBootstrap)throw new Se(-403,!1);s.instance.ngDoBootstrap(a)}this._modules.push(s)}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Se(404,!1);this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a());const s=this._injector.get(FE,null);s&&(s.forEach(a=>a()),s.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static{this.\u0275fac=function(a){return new(a||t)(Ht(Ba))}}static{this.\u0275prov=Ot({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();function qI(t,r){return Array.isArray(r)?r.reduce(qI,t):{...t,...r}}let cp=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Yt(XI),this.zoneIsStable=Yt(hg),this.componentTypes=[],this.components=[],this.isStable=Yt(xI).hasPendingTasks.pipe((0,Ae.n)(s=>s?(0,J.of)(!1):this.zoneIsStable),(0,Ue.F)(),(0,ee.u)()),this._injector=Yt(mu)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(s,a){const c=s instanceof bf;if(!this._injector.get(PE).done)throw!c&&Es(s),new Se(405,!1);let m;m=c?s:this._injector.get(_h).resolveComponentFactory(s),this.componentTypes.push(m.componentType);const _=function ub(t){return t.isBoundToModule}(m)?void 0:this._injector.get(Uh),L=m.create(Ba.NULL,[],a||m.selector,_),G=L.location.nativeElement,re=L.injector.get(LI,null);return re?.registerApplication(G),L.onDestroy(()=>{this.detachView(L.hostView),Dv(this.components,L),re?.unregisterApplication(G)}),this._loadComponent(L),L}tick(){if(this._runningTick)throw new Se(101,!1);try{this._runningTick=!0;for(let s of this._views)s.detectChanges()}catch(s){this.internalErrorHandler(s)}finally{this._runningTick=!1}}attachView(s){const a=s;this._views.push(a),a.attachToAppRef(this)}detachView(s){const a=s;Dv(this._views,a),a.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s);const a=this._injector.get(LE,[]);a.push(...this._bootstrapListeners),a.forEach(c=>c(s))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(s=>s()),this._views.slice().forEach(s=>s.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(s){return this._destroyListeners.push(s),()=>Dv(this._destroyListeners,s)}destroy(){if(this._destroyed)throw new Se(406,!1);const s=this._injector;s.destroy&&!s.destroyed&&s.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(a){return new(a||t)}}static{this.\u0275prov=Ot({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Dv(t,r){const s=t.indexOf(r);s>-1&&t.splice(s,1)}const XI=new Ut("",{providedIn:"root",factory:()=>Yt(fa).handleError.bind(void 0)});function pb(){const t=Yt(zs),r=Yt(fa);return s=>t.runOutsideAngular(()=>r.handleError(s))}let gb=(()=>{class t{constructor(){this.zone=Yt(zs),this.applicationRef=Yt(cp)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(a){return new(a||t)}}static{this.\u0275prov=Ot({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();let yb=(()=>{class t{static{this.__NG_ELEMENT_ID__=vb}}return t})();function vb(t){return function _b(t,r,s){if(Yr(t)&&!s){const a=x(t.index,r);return new Nh(a,a)}return 47&t.type?new Nh(r[Dr],r):null}(xt(),ct(),16==(16&t))}class nD{constructor(){}supports(r){return qc(r)}create(r){return new Tb(r)}}const Db=(t,r)=>r;class Tb{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||Db}forEachItem(r){let s;for(s=this._itHead;null!==s;s=s._next)r(s)}forEachOperation(r){let s=this._itHead,a=this._removalsHead,c=0,d=null;for(;s||a;){const m=!a||s&&s.currentIndex<iD(a,c,d)?s:a,_=iD(m,c,d),A=m.currentIndex;if(m===a)c--,a=a._nextRemoved;else if(s=s._next,null==m.previousIndex)c++;else{d||(d=[]);const L=_-c,G=A-c;if(L!=G){for(let De=0;De<L;De++){const Oe=De<d.length?d[De]:d[De]=0,lt=Oe+De;G<=lt&&lt<L&&(d[De]=Oe+1)}d[m.previousIndex]=G-L}}_!==A&&r(m,_,A)}}forEachPreviousItem(r){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachMovedItem(r){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}forEachIdentityChange(r){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)r(s)}diff(r){if(null==r&&(r=[]),!qc(r))throw new Se(900,!1);return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let c,d,m,s=this._itHead,a=!1;if(Array.isArray(r)){this.length=r.length;for(let _=0;_<this.length;_++)d=r[_],m=this._trackByFn(_,d),null!==s&&Object.is(s.trackById,m)?(a&&(s=this._verifyReinsertion(s,d,m,_)),Object.is(s.item,d)||this._addIdentityChange(s,d)):(s=this._mismatch(s,d,m,_),a=!0),s=s._next}else c=0,function $g(t,r){if(Array.isArray(t))for(let s=0;s<t.length;s++)r(t[s]);else{const s=t[Symbol.iterator]();let a;for(;!(a=s.next()).done;)r(a.value)}}(r,_=>{m=this._trackByFn(c,_),null!==s&&Object.is(s.trackById,m)?(a&&(s=this._verifyReinsertion(s,_,m,c)),Object.is(s.item,_)||this._addIdentityChange(s,_)):(s=this._mismatch(s,_,m,c),a=!0),s=s._next,c++}),this.length=c;return this._truncate(s),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,s,a,c){let d;return null===r?d=this._itTail:(d=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._reinsertAfter(r,d,c)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(a,c))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._moveAfter(r,d,c)):r=this._addAfter(new Cb(s,a),d,c),r}_verifyReinsertion(r,s,a,c){let d=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null);return null!==d?r=this._reinsertAfter(d,r._prev,c):r.currentIndex!=c&&(r.currentIndex=c,this._addToMoves(r,c)),r}_truncate(r){for(;null!==r;){const s=r._next;this._addToRemovals(this._unlink(r)),r=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,s,a){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const c=r._prevRemoved,d=r._nextRemoved;return null===c?this._removalsHead=d:c._nextRemoved=d,null===d?this._removalsTail=c:d._prevRemoved=c,this._insertAfter(r,s,a),this._addToMoves(r,a),r}_moveAfter(r,s,a){return this._unlink(r),this._insertAfter(r,s,a),this._addToMoves(r,a),r}_addAfter(r,s,a){return this._insertAfter(r,s,a),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,s,a){const c=null===s?this._itHead:s._next;return r._next=c,r._prev=s,null===c?this._itTail=r:c._prev=r,null===s?this._itHead=r:s._next=r,null===this._linkedRecords&&(this._linkedRecords=new rD),this._linkedRecords.put(r),r.currentIndex=a,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const s=r._prev,a=r._next;return null===s?this._itHead=a:s._next=a,null===a?this._itTail=s:a._prev=s,r}_addToMoves(r,s){return r.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new rD),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,s){return r.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class Cb{constructor(r,s){this.item=r,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class bb{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,s){let a;for(a=this._head;null!==a;a=a._nextDup)if((null===s||s<=a.currentIndex)&&Object.is(a.trackById,r))return a;return null}remove(r){const s=r._prevDup,a=r._nextDup;return null===s?this._head=a:s._nextDup=a,null===a?this._tail=s:a._prevDup=s,null===this._head}}class rD{constructor(){this.map=new Map}put(r){const s=r.trackById;let a=this.map.get(s);a||(a=new bb,this.map.set(s,a)),a.add(r)}get(r,s){const c=this.map.get(r);return c?c.get(r,s):null}remove(r){const s=r.trackById;return this.map.get(s).remove(r)&&this.map.delete(s),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function iD(t,r,s){const a=t.previousIndex;if(null===a)return a;let c=0;return s&&a<s.length&&(c=s[a]),a+r+c}class sD{constructor(){}supports(r){return r instanceof Map||Hg(r)}create(){return new Ab}}class Ab{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let s;for(s=this._mapHead;null!==s;s=s._next)r(s)}forEachPreviousItem(r){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)r(s)}forEachChangedItem(r){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}diff(r){if(r){if(!(r instanceof Map||Hg(r)))throw new Se(900,!1)}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(r,(a,c)=>{if(s&&s.key===c)this._maybeAddToChanges(s,a),this._appendAfter=s,s=s._next;else{const d=this._getOrCreateRecordForKey(c,a);s=this._insertBeforeOrAppend(s,d)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let a=s;null!==a;a=a._nextRemoved)a===this._mapHead&&(this._mapHead=null),this._records.delete(a.key),a._nextRemoved=a._next,a.previousValue=a.currentValue,a.currentValue=null,a._prev=null,a._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,s){if(r){const a=r._prev;return s._next=r,s._prev=a,r._prev=s,a&&(a._next=s),r===this._mapHead&&(this._mapHead=s),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(r,s){if(this._records.has(r)){const c=this._records.get(r);this._maybeAddToChanges(c,s);const d=c._prev,m=c._next;return d&&(d._next=m),m&&(m._prev=d),c._next=null,c._prev=null,c}const a=new Sb(r);return this._records.set(r,a),a.currentValue=s,this._addToAdditions(a),a}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,s){Object.is(s,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=s,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,s){r instanceof Map?r.forEach(s):Object.keys(r).forEach(a=>s(r[a],a))}}class Sb{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function oD(){return new HE([new nD])}let HE=(()=>{class t{static{this.\u0275prov=Ot({token:t,providedIn:"root",factory:oD})}constructor(s){this.factories=s}static create(s,a){if(null!=a){const c=a.factories.slice();s=s.concat(c)}return new t(s)}static extend(s){return{provide:t,useFactory:a=>t.create(s,a||oD()),deps:[[t,new Ac,new Qa]]}}find(s){const a=this.factories.find(c=>c.supports(s));if(null!=a)return a;throw new Se(901,!1)}}return t})();function aD(){return new zE([new sD])}let zE=(()=>{class t{static{this.\u0275prov=Ot({token:t,providedIn:"root",factory:aD})}constructor(s){this.factories=s}static create(s,a){if(a){const c=a.factories.slice();s=s.concat(c)}return new t(s)}static extend(s){return{provide:t,useFactory:a=>t.create(s,a||aD()),deps:[[t,new Ac,new Qa]]}}find(s){const a=this.factories.find(c=>c.supports(s));if(a)return a;throw new Se(901,!1)}}return t})();const Nb=HI(null,"core",[]);let Pb=(()=>{class t{constructor(s){}static{this.\u0275fac=function(a){return new(a||t)(Ht(cp))}}static{this.\u0275mod=Lo({type:t})}static{this.\u0275inj=An({})}}return t})();function Hb(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function Gb(t){const r=mn(t);if(!r)return null;const s=new Cd(r);return{get selector(){return s.selector},get type(){return s.componentType},get inputs(){return s.inputs},get outputs(){return s.outputs},get ngContentSelectors(){return s.ngContentSelectors},get isStandalone(){return r.standalone},get isSignal(){return r.signals}}}},345:(Vt,je,B)=>{B.d(je,{B7:()=>dt,Bb:()=>Zt,hE:()=>Vi,sG:()=>Ot,up:()=>Ri});var C=B(7705),se=B(177);class he extends se.VF{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class _e extends he{static makeCurrent(){(0,se.ZD)(new _e)}onAndCancel(Y,Q,K){return Y.addEventListener(Q,K),()=>{Y.removeEventListener(Q,K)}}dispatchEvent(Y,Q){Y.dispatchEvent(Q)}remove(Y){Y.parentNode&&Y.parentNode.removeChild(Y)}createElement(Y,Q){return(Q=Q||this.getDefaultDocument()).createElement(Y)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(Y){return Y.nodeType===Node.ELEMENT_NODE}isShadowRoot(Y){return Y instanceof DocumentFragment}getGlobalEventTarget(Y,Q){return"window"===Q?window:"document"===Q?Y:"body"===Q?Y.body:null}getBaseHref(Y){const Q=function J(){return fe=fe||document.querySelector("base"),fe?fe.getAttribute("href"):null}();return null==Q?null:function Ae(W){ee=ee||document.createElement("a"),ee.setAttribute("href",W);const Y=ee.pathname;return"/"===Y.charAt(0)?Y:`/${Y}`}(Q)}resetBaseElement(){fe=null}getUserAgent(){return window.navigator.userAgent}getCookie(Y){return(0,se._b)(document.cookie,Y)}}let ee,fe=null,ne=(()=>{class W{build(){return new XMLHttpRequest}static{this.\u0275fac=function(K){return new(K||W)}}static{this.\u0275prov=C.jDH({token:W,factory:W.\u0275fac})}}return W})();const ae=new C.nKC("EventManagerPlugins");let Re=(()=>{class W{constructor(Q,K){this._zone=K,this._eventNameToPlugin=new Map,Q.forEach(Te=>{Te.manager=this}),this._plugins=Q.slice().reverse()}addEventListener(Q,K,Te){return this._findPluginFor(K).addEventListener(Q,K,Te)}getZone(){return this._zone}_findPluginFor(Q){let K=this._eventNameToPlugin.get(Q);if(K)return K;if(K=this._plugins.find(tt=>tt.supports(Q)),!K)throw new C.wOt(5101,!1);return this._eventNameToPlugin.set(Q,K),K}static{this.\u0275fac=function(K){return new(K||W)(C.KVO(ae),C.KVO(C.SKi))}}static{this.\u0275prov=C.jDH({token:W,factory:W.\u0275fac})}}return W})();class Ke{constructor(Y){this._doc=Y}}const Ie="ng-app-id";let pt=(()=>{class W{constructor(Q,K,Te,tt={}){this.doc=Q,this.appId=K,this.nonce=Te,this.platformId=tt,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,se.Vy)(tt),this.resetHostNodes()}addStyles(Q){for(const K of Q)1===this.changeUsageCount(K,1)&&this.onStyleAdded(K)}removeStyles(Q){for(const K of Q)this.changeUsageCount(K,-1)<=0&&this.onStyleRemoved(K)}ngOnDestroy(){const Q=this.styleNodesInDOM;Q&&(Q.forEach(K=>K.remove()),Q.clear());for(const K of this.getAllStyles())this.onStyleRemoved(K);this.resetHostNodes()}addHost(Q){this.hostNodes.add(Q);for(const K of this.getAllStyles())this.addStyleToHost(Q,K)}removeHost(Q){this.hostNodes.delete(Q)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(Q){for(const K of this.hostNodes)this.addStyleToHost(K,Q)}onStyleRemoved(Q){const K=this.styleRef;K.get(Q)?.elements?.forEach(Te=>Te.remove()),K.delete(Q)}collectServerRenderedStyles(){const Q=this.doc.head?.querySelectorAll(`style[${Ie}="${this.appId}"]`);if(Q?.length){const K=new Map;return Q.forEach(Te=>{null!=Te.textContent&&K.set(Te.textContent,Te)}),K}return null}changeUsageCount(Q,K){const Te=this.styleRef;if(Te.has(Q)){const tt=Te.get(Q);return tt.usage+=K,tt.usage}return Te.set(Q,{usage:K,elements:[]}),K}getStyleElement(Q,K){const Te=this.styleNodesInDOM,tt=Te?.get(K);if(tt?.parentNode===Q)return Te.delete(K),tt.removeAttribute(Ie),tt;{const Mt=this.doc.createElement("style");return this.nonce&&Mt.setAttribute("nonce",this.nonce),Mt.textContent=K,this.platformIsServer&&Mt.setAttribute(Ie,this.appId),Mt}}addStyleToHost(Q,K){const Te=this.getStyleElement(Q,K);Q.appendChild(Te);const tt=this.styleRef,Mt=tt.get(K)?.elements;Mt?Mt.push(Te):tt.set(K,{elements:[Te],usage:1})}resetHostNodes(){const Q=this.hostNodes;Q.clear(),Q.add(this.doc.head)}static{this.\u0275fac=function(K){return new(K||W)(C.KVO(se.qQ),C.KVO(C.sZ2),C.KVO(C.BIS,8),C.KVO(C.Agw))}}static{this.\u0275prov=C.jDH({token:W,factory:W.\u0275fac})}}return W})();const $e={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},jt=/%COMP%/g,at=new C.nKC("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function mt(W,Y){return Y.map(Q=>Q.replace(jt,W))}let dt=(()=>{class W{constructor(Q,K,Te,tt,Mt,Ht,rn,Yt=null){this.eventManager=Q,this.sharedStylesHost=K,this.appId=Te,this.removeStylesOnCompDestroy=tt,this.doc=Mt,this.platformId=Ht,this.ngZone=rn,this.nonce=Yt,this.rendererByCompId=new Map,this.platformIsServer=(0,se.Vy)(Ht),this.defaultRenderer=new Qt(Q,Mt,rn,this.platformIsServer)}createRenderer(Q,K){if(!Q||!K)return this.defaultRenderer;this.platformIsServer&&K.encapsulation===C.gXe.ShadowDom&&(K={...K,encapsulation:C.gXe.Emulated});const Te=this.getOrCreateRenderer(Q,K);return Te instanceof $n?Te.applyToHost(Q):Te instanceof yn&&Te.applyStyles(),Te}getOrCreateRenderer(Q,K){const Te=this.rendererByCompId;let tt=Te.get(K.id);if(!tt){const Mt=this.doc,Ht=this.ngZone,rn=this.eventManager,Yt=this.sharedStylesHost,gn=this.removeStylesOnCompDestroy,gr=this.platformIsServer;switch(K.encapsulation){case C.gXe.Emulated:tt=new $n(rn,Yt,K,this.appId,gn,Mt,Ht,gr);break;case C.gXe.ShadowDom:return new ut(rn,Yt,Q,K,Mt,Ht,this.nonce,gr);default:tt=new yn(rn,Yt,K,gn,Mt,Ht,gr)}Te.set(K.id,tt)}return tt}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(K){return new(K||W)(C.KVO(Re),C.KVO(pt),C.KVO(C.sZ2),C.KVO(at),C.KVO(se.qQ),C.KVO(C.Agw),C.KVO(C.SKi),C.KVO(C.BIS))}}static{this.\u0275prov=C.jDH({token:W,factory:W.\u0275fac})}}return W})();class Qt{constructor(Y,Q,K,Te){this.eventManager=Y,this.doc=Q,this.ngZone=K,this.platformIsServer=Te,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(Y,Q){return Q?this.doc.createElementNS($e[Q]||Q,Y):this.doc.createElement(Y)}createComment(Y){return this.doc.createComment(Y)}createText(Y){return this.doc.createTextNode(Y)}appendChild(Y,Q){(cr(Y)?Y.content:Y).appendChild(Q)}insertBefore(Y,Q,K){Y&&(cr(Y)?Y.content:Y).insertBefore(Q,K)}removeChild(Y,Q){Y&&Y.removeChild(Q)}selectRootElement(Y,Q){let K="string"==typeof Y?this.doc.querySelector(Y):Y;if(!K)throw new C.wOt(-5104,!1);return Q||(K.textContent=""),K}parentNode(Y){return Y.parentNode}nextSibling(Y){return Y.nextSibling}setAttribute(Y,Q,K,Te){if(Te){Q=Te+":"+Q;const tt=$e[Te];tt?Y.setAttributeNS(tt,Q,K):Y.setAttribute(Q,K)}else Y.setAttribute(Q,K)}removeAttribute(Y,Q,K){if(K){const Te=$e[K];Te?Y.removeAttributeNS(Te,Q):Y.removeAttribute(`${K}:${Q}`)}else Y.removeAttribute(Q)}addClass(Y,Q){Y.classList.add(Q)}removeClass(Y,Q){Y.classList.remove(Q)}setStyle(Y,Q,K,Te){Te&(C.czy.DashCase|C.czy.Important)?Y.style.setProperty(Q,K,Te&C.czy.Important?"important":""):Y.style[Q]=K}removeStyle(Y,Q,K){K&C.czy.DashCase?Y.style.removeProperty(Q):Y.style[Q]=""}setProperty(Y,Q,K){Y[Q]=K}setValue(Y,Q){Y.nodeValue=Q}listen(Y,Q,K){if("string"==typeof Y&&!(Y=(0,se.QT)().getGlobalEventTarget(this.doc,Y)))throw new Error(`Unsupported event target ${Y} for event ${Q}`);return this.eventManager.addEventListener(Y,Q,this.decoratePreventDefault(K))}decoratePreventDefault(Y){return Q=>{if("__ngUnwrap__"===Q)return Y;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>Y(Q)):Y(Q))&&Q.preventDefault()}}}function cr(W){return"TEMPLATE"===W.tagName&&void 0!==W.content}class ut extends Qt{constructor(Y,Q,K,Te,tt,Mt,Ht,rn){super(Y,tt,Mt,rn),this.sharedStylesHost=Q,this.hostEl=K,this.shadowRoot=K.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Yt=mt(Te.id,Te.styles);for(const gn of Yt){const gr=document.createElement("style");Ht&&gr.setAttribute("nonce",Ht),gr.textContent=gn,this.shadowRoot.appendChild(gr)}}nodeOrShadowRoot(Y){return Y===this.hostEl?this.shadowRoot:Y}appendChild(Y,Q){return super.appendChild(this.nodeOrShadowRoot(Y),Q)}insertBefore(Y,Q,K){return super.insertBefore(this.nodeOrShadowRoot(Y),Q,K)}removeChild(Y,Q){return super.removeChild(this.nodeOrShadowRoot(Y),Q)}parentNode(Y){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(Y)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class yn extends Qt{constructor(Y,Q,K,Te,tt,Mt,Ht,rn){super(Y,tt,Mt,Ht),this.sharedStylesHost=Q,this.removeStylesOnCompDestroy=Te,this.styles=rn?mt(rn,K.styles):K.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class $n extends yn{constructor(Y,Q,K,Te,tt,Mt,Ht,rn){const Yt=Te+"-"+K.id;super(Y,Q,K,tt,Mt,Ht,rn,Yt),this.contentAttr=function Ne(W){return"_ngcontent-%COMP%".replace(jt,W)}(Yt),this.hostAttr=function et(W){return"_nghost-%COMP%".replace(jt,W)}(Yt)}applyToHost(Y){this.applyStyles(),this.setAttribute(Y,this.hostAttr,"")}createElement(Y,Q){const K=super.createElement(Y,Q);return super.setAttribute(K,this.contentAttr,""),K}}let ii=(()=>{class W extends Ke{constructor(Q){super(Q)}supports(Q){return!0}addEventListener(Q,K,Te){return Q.addEventListener(K,Te,!1),()=>this.removeEventListener(Q,K,Te)}removeEventListener(Q,K,Te){return Q.removeEventListener(K,Te)}static{this.\u0275fac=function(K){return new(K||W)(C.KVO(se.qQ))}}static{this.\u0275prov=C.jDH({token:W,factory:W.\u0275fac})}}return W})();const si=["alt","control","meta","shift"],It={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Si={alt:W=>W.altKey,control:W=>W.ctrlKey,meta:W=>W.metaKey,shift:W=>W.shiftKey};let Fe=(()=>{class W extends Ke{constructor(Q){super(Q)}supports(Q){return null!=W.parseEventName(Q)}addEventListener(Q,K,Te){const tt=W.parseEventName(K),Mt=W.eventCallback(tt.fullKey,Te,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,se.QT)().onAndCancel(Q,tt.domEventName,Mt))}static parseEventName(Q){const K=Q.toLowerCase().split("."),Te=K.shift();if(0===K.length||"keydown"!==Te&&"keyup"!==Te)return null;const tt=W._normalizeKey(K.pop());let Mt="",Ht=K.indexOf("code");if(Ht>-1&&(K.splice(Ht,1),Mt="code."),si.forEach(Yt=>{const gn=K.indexOf(Yt);gn>-1&&(K.splice(gn,1),Mt+=Yt+".")}),Mt+=tt,0!=K.length||0===tt.length)return null;const rn={};return rn.domEventName=Te,rn.fullKey=Mt,rn}static matchEventFullKeyCode(Q,K){let Te=It[Q.key]||Q.key,tt="";return K.indexOf("code.")>-1&&(Te=Q.code,tt="code."),!(null==Te||!Te)&&(Te=Te.toLowerCase()," "===Te?Te="space":"."===Te&&(Te="dot"),si.forEach(Mt=>{Mt!==Te&&(0,Si[Mt])(Q)&&(tt+=Mt+".")}),tt+=Te,tt===K)}static eventCallback(Q,K,Te){return tt=>{W.matchEventFullKeyCode(tt,Q)&&Te.runGuarded(()=>K(tt))}}static _normalizeKey(Q){return"esc"===Q?"escape":Q}static{this.\u0275fac=function(K){return new(K||W)(C.KVO(se.qQ))}}static{this.\u0275prov=C.jDH({token:W,factory:W.\u0275fac})}}return W})();const Ot=(0,C.oH4)(C.fpN,"browser",[{provide:C.Agw,useValue:se.AJ},{provide:C.PLl,useValue:function ze(){_e.makeCurrent()},multi:!0},{provide:se.qQ,useFactory:function ht(){return(0,C.TL$)(document),document},deps:[]}]),on=new C.nKC(""),An=[{provide:C.e01,useClass:class Ue{addToWindow(Y){C.JZv.getAngularTestability=(K,Te=!0)=>{const tt=Y.findTestabilityInTree(K,Te);if(null==tt)throw new C.wOt(5103,!1);return tt},C.JZv.getAllAngularTestabilities=()=>Y.getAllTestabilities(),C.JZv.getAllAngularRootElements=()=>Y.getAllRootElements(),C.JZv.frameworkStabilizers||(C.JZv.frameworkStabilizers=[]),C.JZv.frameworkStabilizers.push(K=>{const Te=C.JZv.getAllAngularTestabilities();let tt=Te.length,Mt=!1;const Ht=function(rn){Mt=Mt||rn,tt--,0==tt&&K(Mt)};Te.forEach(rn=>{rn.whenStable(Ht)})})}findTestabilityInTree(Y,Q,K){return null==Q?null:Y.getTestability(Q)??(K?(0,se.QT)().isShadowRoot(Q)?this.findTestabilityInTree(Y,Q.host,!0):this.findTestabilityInTree(Y,Q.parentElement,!0):null)}},deps:[]},{provide:C.WHO,useClass:C.NYb,deps:[C.SKi,C.giA,C.e01]},{provide:C.NYb,useClass:C.NYb,deps:[C.SKi,C.giA,C.e01]}],_r=[{provide:C.H8p,useValue:"root"},{provide:C.zcH,useFactory:function Dt(){return new C.zcH},deps:[]},{provide:ae,useClass:ii,multi:!0,deps:[se.qQ,C.SKi,C.Agw]},{provide:ae,useClass:Fe,multi:!0,deps:[se.qQ]},dt,pt,Re,{provide:C._9s,useExisting:dt},{provide:se.N0,useClass:ne,deps:[]},[]];let Zt=(()=>{class W{constructor(Q){}static withServerTransition(Q){return{ngModule:W,providers:[{provide:C.sZ2,useValue:Q.appId}]}}static{this.\u0275fac=function(K){return new(K||W)(C.KVO(on,12))}}static{this.\u0275mod=C.$C({type:W})}static{this.\u0275inj=C.G2t({providers:[..._r,...An],imports:[se.MD,C.Hbi]})}}return W})(),Vi=(()=>{class W{constructor(Q){this._doc=Q}getTitle(){return this._doc.title}setTitle(Q){this._doc.title=Q||""}static{this.\u0275fac=function(K){return new(K||W)(C.KVO(se.qQ))}}static{this.\u0275prov=C.jDH({token:W,factory:function(K){let Te=null;return Te=K?new K:function sr(){return new Vi((0,C.KVO)(se.qQ))}(),Te},providedIn:"root"})}}return W})();typeof window<"u"&&window;let Ri=(()=>{class W{static{this.\u0275fac=function(K){return new(K||W)}}static{this.\u0275prov=C.jDH({token:W,factory:function(K){let Te=null;return Te=K?new(K||W):C.KVO(Vr),Te},providedIn:"root"})}}return W})(),Vr=(()=>{class W extends Ri{constructor(Q){super(),this._doc=Q}sanitize(Q,K){if(null==K)return null;switch(Q){case C.WPN.NONE:return K;case C.WPN.HTML:return(0,C.ZF7)(K,"HTML")?(0,C.rcV)(K):(0,C.h9k)(this._doc,String(K)).toString();case C.WPN.STYLE:return(0,C.ZF7)(K,"Style")?(0,C.rcV)(K):K;case C.WPN.SCRIPT:if((0,C.ZF7)(K,"Script"))return(0,C.rcV)(K);throw new C.wOt(5200,!1);case C.WPN.URL:return(0,C.ZF7)(K,"URL")?(0,C.rcV)(K):(0,C.$MX)(String(K));case C.WPN.RESOURCE_URL:if((0,C.ZF7)(K,"ResourceURL"))return(0,C.rcV)(K);throw new C.wOt(5201,!1);default:throw new C.wOt(5202,!1)}}bypassSecurityTrustHtml(Q){return(0,C.Kcf)(Q)}bypassSecurityTrustStyle(Q){return(0,C.cWb)(Q)}bypassSecurityTrustScript(Q){return(0,C.UyX)(Q)}bypassSecurityTrustUrl(Q){return(0,C.osQ)(Q)}bypassSecurityTrustResourceUrl(Q){return(0,C.e5t)(Q)}static{this.\u0275fac=function(K){return new(K||W)(C.KVO(se.qQ))}}static{this.\u0275prov=C.jDH({token:W,factory:function(K){let Te=null;return Te=K?new K:function Ar(W){return new Vr(W.get(se.qQ))}(C.KVO(C.zZn)),Te},providedIn:"root"})}}return W})()},4147:(Vt,je,B)=>{B.d(je,{Ix:()=>sn,Wk:()=>O,iI:()=>xt,n3:()=>cs});var C=B(7705),se=B(1985),he=B(8071),fe=B(8455),J=B(7673),ee=B(4412),Ae=B(4572),Ue=B(9350),ne=B(8793),ae=B(8750);function Re(E){return new se.c(S=>{(0,ae.Tg)(E()).subscribe(S)})}var Ke=B(1203),Ie=B(8810),pt=B(983),$e=B(8359),jt=B(9974),Lt=B(4360);function xn(){return(0,jt.N)((E,S)=>{let y=null;E._refCount++;const R=(0,Lt._)(S,void 0,void 0,void 0,()=>{if(!E||E._refCount<=0||0<--E._refCount)return void(y=null);const F=E._connection,q=y;y=null,F&&(!q||F===q)&&F.unsubscribe(),S.unsubscribe()});E.subscribe(R),R.closed||(y=E.connect())})}class Dn extends se.c{constructor(S,y){super(),this.source=S,this.subjectFactory=y,this._subject=null,this._refCount=0,this._connection=null,(0,jt.S)(S)&&(this.lift=S.lift)}_subscribe(S){return this.getSubject().subscribe(S)}getSubject(){const S=this._subject;return(!S||S.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:S}=this;this._subject=this._connection=null,S?.unsubscribe()}connect(){let S=this._connection;if(!S){S=this._connection=new $e.yU;const y=this.getSubject();S.add(this.source.subscribe((0,Lt._)(y,void 0,()=>{this._teardown(),y.complete()},R=>{this._teardown(),y.error(R)},()=>this._teardown()))),S.closed&&(this._connection=null,S=$e.yU.EMPTY)}return S}refCount(){return xn()(this)}}var Se=B(1413),at=B(177),Ne=B(6354),et=B(5558),mt=B(6697),dt=B(9172),Qt=B(5964),un=B(1397),wn=B(1594),cr=B(274),ut=B(8141),yn=B(9437);var si=B(9901);function It(E){return E<=0?()=>pt.w:(0,jt.N)((S,y)=>{let R=[];S.subscribe((0,Lt._)(y,F=>{R.push(F),E<R.length&&R.shift()},()=>{for(const F of R)y.next(F);y.complete()},void 0,()=>{R=null}))})}var Si=B(3774),Fe=B(3669),Je=B(980),it=B(6977),ze=B(6365),Dt=B(345);const ht="primary",bn=Symbol("RouteTitle");class Ot{constructor(S){this.params=S||{}}has(S){return Object.prototype.hasOwnProperty.call(this.params,S)}get(S){if(this.has(S)){const y=this.params[S];return Array.isArray(y)?y[0]:y}return null}getAll(S){if(this.has(S)){const y=this.params[S];return Array.isArray(y)?y:[y]}return[]}get keys(){return Object.keys(this.params)}}function on(E){return new Ot(E)}function An(E,S,y){const R=y.path.split("/");if(R.length>E.length||"full"===y.pathMatch&&(S.hasChildren()||R.length<E.length))return null;const F={};for(let q=0;q<R.length;q++){const oe=R[q],We=E[q];if(oe.startsWith(":"))F[oe.substring(1)]=We;else if(oe!==We.path)return null}return{consumed:E.slice(0,R.length),posParams:F}}function Zt(E,S){const y=E?Object.keys(E):void 0,R=S?Object.keys(S):void 0;if(!y||!R||y.length!=R.length)return!1;let F;for(let q=0;q<y.length;q++)if(F=y[q],!fr(E[F],S[F]))return!1;return!0}function fr(E,S){if(Array.isArray(E)&&Array.isArray(S)){if(E.length!==S.length)return!1;const y=[...E].sort(),R=[...S].sort();return y.every((F,q)=>R[q]===F)}return E===S}function Xn(E){return E.length>0?E[E.length-1]:null}function Ir(E){return function _e(E){return!!E&&(E instanceof se.c||(0,he.T)(E.lift)&&(0,he.T)(E.subscribe))}(E)?E:(0,C.jNT)(E)?(0,fe.H)(Promise.resolve(E)):(0,J.of)(E)}const sr={exact:function Xt(E,S,y){if(!Ut(E.segments,S.segments)||!pr(E.segments,S.segments,y)||E.numberOfChildren!==S.numberOfChildren)return!1;for(const R in S.children)if(!E.children[R]||!Xt(E.children[R],S.children[R],y))return!1;return!0},subset:pn},Vi={exact:function Zr(E,S){return Zt(E,S)},subset:function vn(E,S){return Object.keys(S).length<=Object.keys(E).length&&Object.keys(S).every(y=>fr(E[y],S[y]))},ignored:()=>!0};function Di(E,S,y){return sr[y.paths](E.root,S.root,y.matrixParams)&&Vi[y.queryParams](E.queryParams,S.queryParams)&&!("exact"===y.fragment&&E.fragment!==S.fragment)}function pn(E,S,y){return On(E,S,S.segments,y)}function On(E,S,y,R){if(E.segments.length>y.length){const F=E.segments.slice(0,y.length);return!(!Ut(F,y)||S.hasChildren()||!pr(F,y,R))}if(E.segments.length===y.length){if(!Ut(E.segments,y)||!pr(E.segments,y,R))return!1;for(const F in S.children)if(!E.children[F]||!pn(E.children[F],S.children[F],R))return!1;return!0}{const F=y.slice(0,E.segments.length),q=y.slice(E.segments.length);return!!(Ut(E.segments,F)&&pr(E.segments,F,R)&&E.children[ht])&&On(E.children[ht],S,q,R)}}function pr(E,S,y){return S.every((R,F)=>Vi[y](E[F].parameters,R.parameters))}class lr{constructor(S=new $t([],{}),y={},R=null){this.root=S,this.queryParams=y,this.fragment=R}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=on(this.queryParams)),this._queryParamMap}toString(){return pi.serialize(this)}}class $t{constructor(S,y){this.segments=S,this.children=y,this.parent=null,Object.values(y).forEach(R=>R.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ri(this)}}class Yn{constructor(S,y){this.path=S,this.parameters=y}get parameterMap(){return this._parameterMap||(this._parameterMap=on(this.parameters)),this._parameterMap}toString(){return Ln(this)}}function Ut(E,S){return E.length===S.length&&E.every((y,R)=>y.path===S[R].path)}let hn=(()=>{class E{static{this.\u0275fac=function(R){return new(R||E)}}static{this.\u0275prov=C.jDH({token:E,factory:function(){return new fi},providedIn:"root"})}}return E})();class fi{parse(S){const y=new rn(S);return new lr(y.parseRootSegment(),y.parseQueryParams(),y.parseFragment())}serialize(S){const y=`/${Ar(S.root,!0)}`,R=function ge(E){const S=Object.keys(E).map(y=>{const R=E[y];return Array.isArray(R)?R.map(F=>`${Kr(y)}=${Kr(F)}`).join("&"):`${Kr(y)}=${Kr(R)}`}).filter(y=>!!y);return S.length?`?${S.join("&")}`:""}(S.queryParams);return`${y}${R}${"string"==typeof S.fragment?`#${function Bi(E){return encodeURI(E)}(S.fragment)}`:""}`}}const pi=new fi;function Ri(E){return E.segments.map(S=>Ln(S)).join("/")}function Ar(E,S){if(!E.hasChildren())return Ri(E);if(S){const y=E.children[ht]?Ar(E.children[ht],!1):"",R=[];return Object.entries(E.children).forEach(([F,q])=>{F!==ht&&R.push(`${F}:${Ar(q,!1)}`)}),R.length>0?`${y}(${R.join("//")})`:y}{const y=function Mi(E,S){let y=[];return Object.entries(E.children).forEach(([R,F])=>{R===ht&&(y=y.concat(S(F,R)))}),Object.entries(E.children).forEach(([R,F])=>{R!==ht&&(y=y.concat(S(F,R)))}),y}(E,(R,F)=>F===ht?[Ar(E.children[ht],!1)]:[`${F}:${Ar(R,!1)}`]);return 1===Object.keys(E.children).length&&null!=E.children[ht]?`${Ri(E)}/${y[0]}`:`${Ri(E)}/(${y.join("//")})`}}function Vr(E){return encodeURIComponent(E).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Kr(E){return Vr(E).replace(/%3B/gi,";")}function gi(E){return Vr(E).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ai(E){return decodeURIComponent(E)}function zn(E){return ai(E.replace(/\+/g,"%20"))}function Ln(E){return`${gi(E.path)}${function Sr(E){return Object.keys(E).map(S=>`;${gi(S)}=${gi(E[S])}`).join("")}(E.parameters)}`}const W=/^[^\/()?;#]+/;function Y(E){const S=E.match(W);return S?S[0]:""}const Q=/^[^\/()?;=#]+/,Te=/^[^=?&#]+/,Mt=/^[^&#]+/;class rn{constructor(S){this.url=S,this.remaining=S}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new $t([],{}):new $t([],this.parseChildren())}parseQueryParams(){const S={};if(this.consumeOptional("?"))do{this.parseQueryParam(S)}while(this.consumeOptional("&"));return S}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const S=[];for(this.peekStartsWith("(")||S.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),S.push(this.parseSegment());let y={};this.peekStartsWith("/(")&&(this.capture("/"),y=this.parseParens(!0));let R={};return this.peekStartsWith("(")&&(R=this.parseParens(!1)),(S.length>0||Object.keys(y).length>0)&&(R[ht]=new $t(S,y)),R}parseSegment(){const S=Y(this.remaining);if(""===S&&this.peekStartsWith(";"))throw new C.wOt(4009,!1);return this.capture(S),new Yn(ai(S),this.parseMatrixParams())}parseMatrixParams(){const S={};for(;this.consumeOptional(";");)this.parseParam(S);return S}parseParam(S){const y=function K(E){const S=E.match(Q);return S?S[0]:""}(this.remaining);if(!y)return;this.capture(y);let R="";if(this.consumeOptional("=")){const F=Y(this.remaining);F&&(R=F,this.capture(R))}S[ai(y)]=ai(R)}parseQueryParam(S){const y=function tt(E){const S=E.match(Te);return S?S[0]:""}(this.remaining);if(!y)return;this.capture(y);let R="";if(this.consumeOptional("=")){const oe=function Ht(E){const S=E.match(Mt);return S?S[0]:""}(this.remaining);oe&&(R=oe,this.capture(R))}const F=zn(y),q=zn(R);if(S.hasOwnProperty(F)){let oe=S[F];Array.isArray(oe)||(oe=[oe],S[F]=oe),oe.push(q)}else S[F]=q}parseParens(S){const y={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const R=Y(this.remaining),F=this.remaining[R.length];if("/"!==F&&")"!==F&&";"!==F)throw new C.wOt(4010,!1);let q;R.indexOf(":")>-1?(q=R.slice(0,R.indexOf(":")),this.capture(q),this.capture(":")):S&&(q=ht);const oe=this.parseChildren();y[q]=1===Object.keys(oe).length?oe[ht]:new $t([],oe),this.consumeOptional("//")}return y}peekStartsWith(S){return this.remaining.startsWith(S)}consumeOptional(S){return!!this.peekStartsWith(S)&&(this.remaining=this.remaining.substring(S.length),!0)}capture(S){if(!this.consumeOptional(S))throw new C.wOt(4011,!1)}}function Yt(E){return E.segments.length>0?new $t([],{[ht]:E}):E}function gn(E){const S={};for(const R of Object.keys(E.children)){const q=gn(E.children[R]);if(R===ht&&0===q.segments.length&&q.hasChildren())for(const[oe,We]of Object.entries(q.children))S[oe]=We;else(q.segments.length>0||q.hasChildren())&&(S[R]=q)}return function gr(E){if(1===E.numberOfChildren&&E.children[ht]){const S=E.children[ht];return new $t(E.segments.concat(S.segments),S.children)}return E}(new $t(E.segments,S))}function be(E){return E instanceof lr}function ve(E){let S;const F=Yt(function y(q){const oe={};for(const Ge of q.children){const At=y(Ge);oe[Ge.outlet]=At}const We=new $t(q.url,oe);return q===E&&(S=We),We}(E.root));return S??F}function ce(E,S,y,R){let F=E;for(;F.parent;)F=F.parent;if(0===S.length)return Ye(F,F,F,y,R);const q=function en(E){if("string"==typeof E[0]&&1===E.length&&"/"===E[0])return new st(!0,0,E);let S=0,y=!1;const R=E.reduce((F,q,oe)=>{if("object"==typeof q&&null!=q){if(q.outlets){const We={};return Object.entries(q.outlets).forEach(([Ge,At])=>{We[Ge]="string"==typeof At?At.split("/"):At}),[...F,{outlets:We}]}if(q.segmentPath)return[...F,q.segmentPath]}return"string"!=typeof q?[...F,q]:0===oe?(q.split("/").forEach((We,Ge)=>{0==Ge&&"."===We||(0==Ge&&""===We?y=!0:".."===We?S++:""!=We&&F.push(We))}),F):[...F,q]},[]);return new st(y,S,R)}(S);if(q.toRoot())return Ye(F,F,new $t([],{}),y,R);const oe=function Bn(E,S,y){if(E.isAbsolute)return new qn(S,!0,0);if(!y)return new qn(S,!1,NaN);if(null===y.parent)return new qn(y,!0,0);const R=ue(E.commands[0])?0:1;return function Sn(E,S,y){let R=E,F=S,q=y;for(;q>F;){if(q-=F,R=R.parent,!R)throw new C.wOt(4005,!1);F=R.segments.length}return new qn(R,!1,F-q)}(y,y.segments.length-1+R,E.numberOfDoubleDots)}(q,F,E),We=oe.processChildren?Un(oe.segmentGroup,oe.index,q.commands):Ti(oe.segmentGroup,oe.index,q.commands);return Ye(F,oe.segmentGroup,We,y,R)}function ue(E){return"object"==typeof E&&null!=E&&!E.outlets&&!E.segmentPath}function Me(E){return"object"==typeof E&&null!=E&&E.outlets}function Ye(E,S,y,R,F){let oe,q={};R&&Object.entries(R).forEach(([Ge,At])=>{q[Ge]=Array.isArray(At)?At.map(In=>`${In}`):`${At}`}),oe=E===S?y:Et(E,S,y);const We=Yt(gn(oe));return new lr(We,q,F)}function Et(E,S,y){const R={};return Object.entries(E.children).forEach(([F,q])=>{R[F]=q===S?y:Et(q,S,y)}),new $t(E.segments,R)}class st{constructor(S,y,R){if(this.isAbsolute=S,this.numberOfDoubleDots=y,this.commands=R,S&&R.length>0&&ue(R[0]))throw new C.wOt(4003,!1);const F=R.find(Me);if(F&&F!==Xn(R))throw new C.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class qn{constructor(S,y,R){this.segmentGroup=S,this.processChildren=y,this.index=R}}function Ti(E,S,y){if(E||(E=new $t([],{})),0===E.segments.length&&E.hasChildren())return Un(E,S,y);const R=function tr(E,S,y){let R=0,F=S;const q={match:!1,pathIndex:0,commandIndex:0};for(;F<E.segments.length;){if(R>=y.length)return q;const oe=E.segments[F],We=y[R];if(Me(We))break;const Ge=`${We}`,At=R<y.length-1?y[R+1]:null;if(F>0&&void 0===Ge)break;if(Ge&&At&&"object"==typeof At&&void 0===At.outlets){if(!Ki(Ge,At,oe))return q;R+=2}else{if(!Ki(Ge,{},oe))return q;R++}F++}return{match:!0,pathIndex:F,commandIndex:R}}(E,S,y),F=y.slice(R.commandIndex);if(R.match&&R.pathIndex<E.segments.length){const q=new $t(E.segments.slice(0,R.pathIndex),{});return q.children[ht]=new $t(E.segments.slice(R.pathIndex),E.children),Un(q,0,F)}return R.match&&0===F.length?new $t(E.segments,{}):R.match&&!E.hasChildren()?kr(E,S,y):R.match?Un(E,0,F):kr(E,S,y)}function Un(E,S,y){if(0===y.length)return new $t(E.segments,{});{const R=function mi(E){return Me(E[0])?E[0].outlets:{[ht]:E}}(y),F={};if(Object.keys(R).some(q=>q!==ht)&&E.children[ht]&&1===E.numberOfChildren&&0===E.children[ht].segments.length){const q=Un(E.children[ht],S,y);return new $t(E.segments,q.children)}return Object.entries(R).forEach(([q,oe])=>{"string"==typeof oe&&(oe=[oe]),null!==oe&&(F[q]=Ti(E.children[q],S,oe))}),Object.entries(E.children).forEach(([q,oe])=>{void 0===R[q]&&(F[q]=oe)}),new $t(E.segments,F)}}function kr(E,S,y){const R=E.segments.slice(0,S);let F=0;for(;F<y.length;){const q=y[F];if(Me(q)){const Ge=vs(q.outlets);return new $t(R,Ge)}if(0===F&&ue(y[0])){R.push(new Yn(E.segments[S].path,Br(y[0]))),F++;continue}const oe=Me(q)?q.outlets[ht]:`${q}`,We=F<y.length-1?y[F+1]:null;oe&&We&&ue(We)?(R.push(new Yn(oe,Br(We))),F+=2):(R.push(new Yn(oe,{})),F++)}return new $t(R,{})}function vs(E){const S={};return Object.entries(E).forEach(([y,R])=>{"string"==typeof R&&(R=[R]),null!==R&&(S[y]=kr(new $t([],{}),0,R))}),S}function Br(E){const S={};return Object.entries(E).forEach(([y,R])=>S[y]=`${R}`),S}function Ki(E,S,y){return E==y.path&&Zt(S,y.parameters)}const Mr="imperative";class qr{constructor(S,y){this.id=S,this.url=y}}class qi extends qr{constructor(S,y,R="imperative",F=null){super(S,y),this.type=0,this.navigationTrigger=R,this.restoredState=F}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class _s extends qr{constructor(S,y,R){super(S,y),this.urlAfterRedirects=R,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class uo extends qr{constructor(S,y,R,F){super(S,y),this.reason=R,this.code=F,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ee extends qr{constructor(S,y,R,F){super(S,y),this.reason=R,this.code=F,this.type=16}}class ye extends qr{constructor(S,y,R,F){super(S,y),this.error=R,this.target=F,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Le extends qr{constructor(S,y,R,F){super(S,y),this.urlAfterRedirects=R,this.state=F,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class rt extends qr{constructor(S,y,R,F){super(S,y),this.urlAfterRedirects=R,this.state=F,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class yt extends qr{constructor(S,y,R,F,q){super(S,y),this.urlAfterRedirects=R,this.state=F,this.shouldActivate=q,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class tn extends qr{constructor(S,y,R,F){super(S,y),this.urlAfterRedirects=R,this.state=F,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Hn extends qr{constructor(S,y,R,F){super(S,y),this.urlAfterRedirects=R,this.state=F,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Vn{constructor(S){this.route=S,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Gn{constructor(S){this.route=S,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class as{constructor(S){this.snapshot=S,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class jr{constructor(S){this.snapshot=S,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ni{constructor(S){this.snapshot=S,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ei{constructor(S){this.snapshot=S,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Fo{constructor(S,y,R){this.routerEvent=S,this.position=y,this.anchor=R,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class co{}class Eo{constructor(S){this.url=S}}class ga{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Qr,this.attachRef=null}}let Qr=(()=>{class E{constructor(){this.contexts=new Map}onChildOutletCreated(y,R){const F=this.getOrCreateContext(y);F.outlet=R,this.contexts.set(y,F)}onChildOutletDestroyed(y){const R=this.getContext(y);R&&(R.outlet=null,R.attachRef=null)}onOutletDeactivated(){const y=this.contexts;return this.contexts=new Map,y}onOutletReAttached(y){this.contexts=y}getOrCreateContext(y){let R=this.getContext(y);return R||(R=new ga,this.contexts.set(y,R)),R}getContext(y){return this.contexts.get(y)||null}static{this.\u0275fac=function(R){return new(R||E)}}static{this.\u0275prov=C.jDH({token:E,factory:E.\u0275fac,providedIn:"root"})}}return E})();class ss{constructor(S){this._root=S}get root(){return this._root.value}parent(S){const y=this.pathFromRoot(S);return y.length>1?y[y.length-2]:null}children(S){const y=us(S,this._root);return y?y.children.map(R=>R.value):[]}firstChild(S){const y=us(S,this._root);return y&&y.children.length>0?y.children[0].value:null}siblings(S){const y=mn(S,this._root);return y.length<2?[]:y[y.length-2].children.map(F=>F.value).filter(F=>F!==S)}pathFromRoot(S){return mn(S,this._root).map(y=>y.value)}}function us(E,S){if(E===S.value)return S;for(const y of S.children){const R=us(E,y);if(R)return R}return null}function mn(E,S){if(E===S.value)return[S];for(const y of S.children){const R=mn(E,y);if(R.length)return R.unshift(S),R}return[]}class Jn{constructor(S,y){this.value=S,this.children=y}toString(){return`TreeNode(${this.value})`}}function Rr(E){const S={};return E&&E.children.forEach(y=>S[y.value.outlet]=y),S}class Es extends ss{constructor(S,y){super(S),this.snapshot=y,vt(this,S)}toString(){return this.snapshot.toString()}}function Ci(E,S){const y=function zo(E,S){const oe=new ws([],{},{},"",{},ht,S,null,{});return new mr("",new Jn(oe,[]))}(0,S),R=new ee.t([new Yn("",{})]),F=new ee.t({}),q=new ee.t({}),oe=new ee.t({}),We=new ee.t(""),Ge=new qs(R,F,oe,We,q,ht,S,y.root);return Ge.snapshot=y.root,new Es(new Jn(Ge,[]),y)}class qs{constructor(S,y,R,F,q,oe,We,Ge){this.urlSubject=S,this.paramsSubject=y,this.queryParamsSubject=R,this.fragmentSubject=F,this.dataSubject=q,this.outlet=oe,this.component=We,this._futureSnapshot=Ge,this.title=this.dataSubject?.pipe((0,Ne.T)(At=>At[bn]))??(0,J.of)(void 0),this.url=S,this.params=y,this.queryParams=R,this.fragment=F,this.data=q}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Ne.T)(S=>on(S)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Ne.T)(S=>on(S)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Uo(E,S="emptyOnly"){const y=E.pathFromRoot;let R=0;if("always"!==S)for(R=y.length-1;R>=1;){const F=y[R],q=y[R-1];if(F.routeConfig&&""===F.routeConfig.path)R--;else{if(q.component)break;R--}}return function Rs(E){return E.reduce((S,y)=>({params:{...S.params,...y.params},data:{...S.data,...y.data},resolve:{...y.data,...S.resolve,...y.routeConfig?.data,...y._resolvedData}}),{params:{},data:{},resolve:{}})}(y.slice(R))}class ws{get title(){return this.data?.[bn]}constructor(S,y,R,F,q,oe,We,Ge,At){this.url=S,this.params=y,this.queryParams=R,this.fragment=F,this.data=q,this.outlet=oe,this.component=We,this.routeConfig=Ge,this._resolve=At}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=on(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=on(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(R=>R.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class mr extends ss{constructor(S,y){super(y),this.url=S,vt(this,y)}toString(){return an(this._root)}}function vt(E,S){S.value._routerState=E,S.children.forEach(y=>vt(E,y))}function an(E){const S=E.children.length>0?` { ${E.children.map(an).join(", ")} } `:"";return`${E.value}${S}`}function cn(E){if(E.snapshot){const S=E.snapshot,y=E._futureSnapshot;E.snapshot=y,Zt(S.queryParams,y.queryParams)||E.queryParamsSubject.next(y.queryParams),S.fragment!==y.fragment&&E.fragmentSubject.next(y.fragment),Zt(S.params,y.params)||E.paramsSubject.next(y.params),function _r(E,S){if(E.length!==S.length)return!1;for(let y=0;y<E.length;++y)if(!Zt(E[y],S[y]))return!1;return!0}(S.url,y.url)||E.urlSubject.next(y.url),Zt(S.data,y.data)||E.dataSubject.next(y.data)}else E.snapshot=E._futureSnapshot,E.dataSubject.next(E._futureSnapshot.data)}function ji(E,S){const y=Zt(E.params,S.params)&&function oi(E,S){return Ut(E,S)&&E.every((y,R)=>Zt(y.parameters,S[R].parameters))}(E.url,S.url);return y&&!(!E.parent!=!S.parent)&&(!E.parent||ji(E.parent,S.parent))}let cs=(()=>{class E{constructor(){this.activated=null,this._activatedRoute=null,this.name=ht,this.activateEvents=new C.bkB,this.deactivateEvents=new C.bkB,this.attachEvents=new C.bkB,this.detachEvents=new C.bkB,this.parentContexts=(0,C.WQX)(Qr),this.location=(0,C.WQX)(C.c1b),this.changeDetector=(0,C.WQX)(C.gRc),this.environmentInjector=(0,C.WQX)(C.uvJ),this.inputBinder=(0,C.WQX)(Us,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(y){if(y.name){const{firstChange:R,previousValue:F}=y.name;if(R)return;this.isTrackedInParentContexts(F)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(F)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(y){return this.parentContexts.getContext(y)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const y=this.parentContexts.getContext(this.name);y?.route&&(y.attachRef?this.attach(y.attachRef,y.route):this.activateWith(y.route,y.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new C.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new C.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new C.wOt(4012,!1);this.location.detach();const y=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(y.instance),y}attach(y,R){this.activated=y,this._activatedRoute=R,this.location.insert(y.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(y.instance)}deactivate(){if(this.activated){const y=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(y)}}activateWith(y,R){if(this.isActivated)throw new C.wOt(4013,!1);this._activatedRoute=y;const F=this.location,oe=y.snapshot.component,We=this.parentContexts.getOrCreateContext(this.name).children,Ge=new Pi(y,We,F.injector);this.activated=F.createComponent(oe,{index:F.length,injector:Ge,environmentInjector:R??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(R){return new(R||E)}}static{this.\u0275dir=C.FsC({type:E,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[C.OA$]})}}return E})();class Pi{constructor(S,y,R){this.route=S,this.childContexts=y,this.parent=R}get(S,y){return S===qs?this.route:S===Qr?this.childContexts:this.parent.get(S,y)}}const Us=new C.nKC("");let Xr=(()=>{class E{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(y){this.unsubscribeFromRouteData(y),this.subscribeToRouteData(y)}unsubscribeFromRouteData(y){this.outletDataSubscriptions.get(y)?.unsubscribe(),this.outletDataSubscriptions.delete(y)}subscribeToRouteData(y){const{activatedRoute:R}=y,F=(0,Ae.z)([R.queryParams,R.params,R.data]).pipe((0,et.n)(([q,oe,We],Ge)=>(We={...q,...oe,...We},0===Ge?(0,J.of)(We):Promise.resolve(We)))).subscribe(q=>{if(!y.isActivated||!y.activatedComponentRef||y.activatedRoute!==R||null===R.component)return void this.unsubscribeFromRouteData(y);const oe=(0,C.HJs)(R.component);if(oe)for(const{templateName:We}of oe.inputs)y.activatedComponentRef.setInput(We,q[We]);else this.unsubscribeFromRouteData(y)});this.outletDataSubscriptions.set(y,F)}static{this.\u0275fac=function(R){return new(R||E)}}static{this.\u0275prov=C.jDH({token:E,factory:E.\u0275fac})}}return E})();function ds(E,S,y){if(y&&E.shouldReuseRoute(S.value,y.value.snapshot)){const R=y.value;R._futureSnapshot=S.value;const F=function ln(E,S,y){return S.children.map(R=>{for(const F of y.children)if(E.shouldReuseRoute(R.value,F.value.snapshot))return ds(E,R,F);return ds(E,R)})}(E,S,y);return new Jn(R,F)}{if(E.shouldAttach(S.value)){const q=E.retrieve(S.value);if(null!==q){const oe=q.route;return oe.value._futureSnapshot=S.value,oe.children=S.children.map(We=>ds(E,We)),oe}}const R=function Go(E){return new qs(new ee.t(E.url),new ee.t(E.params),new ee.t(E.queryParams),new ee.t(E.fragment),new ee.t(E.data),E.outlet,E.component,E)}(S.value),F=S.children.map(q=>ds(E,q));return new Jn(R,F)}}const Ns="ngNavigationCancelingError";function xi(E,S){const{redirectTo:y,navigationBehaviorOptions:R}=be(S)?{redirectTo:S,navigationBehaviorOptions:void 0}:S,F=Dr(!1,0,S);return F.url=y,F.navigationBehaviorOptions=R,F}function Dr(E,S,y){const R=new Error("NavigationCancelingError: "+(E||""));return R[Ns]=!0,R.cancellationCode=S,y&&(R.url=y),R}function lo(E){return E&&E[Ns]}let ui=(()=>{class E{static{this.\u0275fac=function(R){return new(R||E)}}static{this.\u0275cmp=C.VBU({type:E,selectors:[["ng-component"]],standalone:!0,features:[C.aNF],decls:1,vars:0,template:function(R,F){1&R&&C.nrm(0,"router-outlet")},dependencies:[cs],encapsulation:2})}}return E})();function Qi(E){const S=E.children&&E.children.map(Qi),y=S?{...E,children:S}:{...E};return!y.component&&!y.loadComponent&&(S||y.loadChildren)&&y.outlet&&y.outlet!==ht&&(y.component=ui),y}function $r(E){return E.outlet||ht}function xs(E){if(!E)return null;if(E.routeConfig?._injector)return E.routeConfig._injector;for(let S=E.parent;S;S=S.parent){const y=S.routeConfig;if(y?._loadedInjector)return y._loadedInjector;if(y?._injector)return y._injector}return null}class Xi{constructor(S,y,R,F,q){this.routeReuseStrategy=S,this.futureState=y,this.currState=R,this.forwardEvent=F,this.inputBindingEnabled=q}activate(S){const y=this.futureState._root,R=this.currState?this.currState._root:null;this.deactivateChildRoutes(y,R,S),cn(this.futureState.root),this.activateChildRoutes(y,R,S)}deactivateChildRoutes(S,y,R){const F=Rr(y);S.children.forEach(q=>{const oe=q.value.outlet;this.deactivateRoutes(q,F[oe],R),delete F[oe]}),Object.values(F).forEach(q=>{this.deactivateRouteAndItsChildren(q,R)})}deactivateRoutes(S,y,R){const F=S.value,q=y?y.value:null;if(F===q)if(F.component){const oe=R.getContext(F.outlet);oe&&this.deactivateChildRoutes(S,y,oe.children)}else this.deactivateChildRoutes(S,y,R);else q&&this.deactivateRouteAndItsChildren(y,R)}deactivateRouteAndItsChildren(S,y){S.value.component&&this.routeReuseStrategy.shouldDetach(S.value.snapshot)?this.detachAndStoreRouteSubtree(S,y):this.deactivateRouteAndOutlet(S,y)}detachAndStoreRouteSubtree(S,y){const R=y.getContext(S.value.outlet),F=R&&S.value.component?R.children:y,q=Rr(S);for(const oe of Object.keys(q))this.deactivateRouteAndItsChildren(q[oe],F);if(R&&R.outlet){const oe=R.outlet.detach(),We=R.children.onOutletDeactivated();this.routeReuseStrategy.store(S.value.snapshot,{componentRef:oe,route:S,contexts:We})}}deactivateRouteAndOutlet(S,y){const R=y.getContext(S.value.outlet),F=R&&S.value.component?R.children:y,q=Rr(S);for(const oe of Object.keys(q))this.deactivateRouteAndItsChildren(q[oe],F);R&&(R.outlet&&(R.outlet.deactivate(),R.children.onOutletDeactivated()),R.attachRef=null,R.route=null)}activateChildRoutes(S,y,R){const F=Rr(y);S.children.forEach(q=>{this.activateRoutes(q,F[q.value.outlet],R),this.forwardEvent(new ei(q.value.snapshot))}),S.children.length&&this.forwardEvent(new jr(S.value.snapshot))}activateRoutes(S,y,R){const F=S.value,q=y?y.value:null;if(cn(F),F===q)if(F.component){const oe=R.getOrCreateContext(F.outlet);this.activateChildRoutes(S,y,oe.children)}else this.activateChildRoutes(S,y,R);else if(F.component){const oe=R.getOrCreateContext(F.outlet);if(this.routeReuseStrategy.shouldAttach(F.snapshot)){const We=this.routeReuseStrategy.retrieve(F.snapshot);this.routeReuseStrategy.store(F.snapshot,null),oe.children.onOutletReAttached(We.contexts),oe.attachRef=We.componentRef,oe.route=We.route.value,oe.outlet&&oe.outlet.attach(We.componentRef,We.route.value),cn(We.route.value),this.activateChildRoutes(S,null,oe.children)}else{const We=xs(F.snapshot);oe.attachRef=null,oe.route=F,oe.injector=We,oe.outlet&&oe.outlet.activateWith(F,oe.injector),this.activateChildRoutes(S,null,oe.children)}}else this.activateChildRoutes(S,null,R)}}class li{constructor(S){this.path=S,this.route=this.path[this.path.length-1]}}class bi{constructor(S,y){this.component=S,this.route=y}}function Qs(E,S,y){const R=E._root;return $i(R,S?S._root:null,y,[R.value])}function ki(E,S){const y=Symbol(),R=S.get(E,y);return R===y?"function"!=typeof E||(0,C.LfX)(E)?S.get(E):E:R}function $i(E,S,y,R,F={canDeactivateChecks:[],canActivateChecks:[]}){const q=Rr(S);return E.children.forEach(oe=>{(function Nr(E,S,y,R,F={canDeactivateChecks:[],canActivateChecks:[]}){const q=E.value,oe=S?S.value:null,We=y?y.getContext(E.value.outlet):null;if(oe&&q.routeConfig===oe.routeConfig){const Ge=function ma(E,S,y){if("function"==typeof y)return y(E,S);switch(y){case"pathParamsChange":return!Ut(E.url,S.url);case"pathParamsOrQueryParamsChange":return!Ut(E.url,S.url)||!Zt(E.queryParams,S.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ji(E,S)||!Zt(E.queryParams,S.queryParams);default:return!ji(E,S)}}(oe,q,q.routeConfig.runGuardsAndResolvers);Ge?F.canActivateChecks.push(new li(R)):(q.data=oe.data,q._resolvedData=oe._resolvedData),$i(E,S,q.component?We?We.children:null:y,R,F),Ge&&We&&We.outlet&&We.outlet.isActivated&&F.canDeactivateChecks.push(new bi(We.outlet.component,oe))}else oe&&Ko(S,We,F),F.canActivateChecks.push(new li(R)),$i(E,null,q.component?We?We.children:null:y,R,F)})(oe,q[oe.value.outlet],y,R.concat([oe.value]),F),delete q[oe.value.outlet]}),Object.entries(q).forEach(([oe,We])=>Ko(We,y.getContext(oe),F)),F}function Ko(E,S,y){const R=Rr(E),F=E.value;Object.entries(R).forEach(([q,oe])=>{Ko(oe,F.component?S?S.children.getContext(q):null:S,y)}),y.canDeactivateChecks.push(new bi(F.component&&S&&S.outlet&&S.outlet.isActivated?S.outlet.component:null,F))}function Xs(E){return"function"==typeof E}function yu(E){return E instanceof Ue.G||"EmptyError"===E?.name}const Qo=Symbol("INITIAL_VALUE");function Ys(){return(0,et.n)(E=>(0,Ae.z)(E.map(S=>S.pipe((0,mt.s)(1),(0,dt.Z)(Qo)))).pipe((0,Ne.T)(S=>{for(const y of S)if(!0!==y){if(y===Qo)return Qo;if(!1===y||y instanceof lr)return y}return!0}),(0,Qt.p)(S=>S!==Qo),(0,mt.s)(1)))}function Os(E){return(0,Ke.F)((0,ut.M)(S=>{if(be(S))throw xi(0,S)}),(0,Ne.T)(S=>!0===S))}class Zo{constructor(S){this.segmentGroup=S||null}}class Hr{constructor(S){this.urlTree=S}}function ks(E){return(0,Ie.$)(new Zo(E))}function or(E){return(0,Ie.$)(new Hr(E))}class Js{constructor(S,y){this.urlSerializer=S,this.urlTree=y}noMatchError(S){return new C.wOt(4002,!1)}lineralizeSegments(S,y){let R=[],F=y.root;for(;;){if(R=R.concat(F.segments),0===F.numberOfChildren)return(0,J.of)(R);if(F.numberOfChildren>1||!F.children[ht])return(0,Ie.$)(new C.wOt(4e3,!1));F=F.children[ht]}}applyRedirectCommands(S,y,R){return this.applyRedirectCreateUrlTree(y,this.urlSerializer.parse(y),S,R)}applyRedirectCreateUrlTree(S,y,R,F){const q=this.createSegmentGroup(S,y.root,R,F);return new lr(q,this.createQueryParams(y.queryParams,this.urlTree.queryParams),y.fragment)}createQueryParams(S,y){const R={};return Object.entries(S).forEach(([F,q])=>{if("string"==typeof q&&q.startsWith(":")){const We=q.substring(1);R[F]=y[We]}else R[F]=q}),R}createSegmentGroup(S,y,R,F){const q=this.createSegments(S,y.segments,R,F);let oe={};return Object.entries(y.children).forEach(([We,Ge])=>{oe[We]=this.createSegmentGroup(S,Ge,R,F)}),new $t(q,oe)}createSegments(S,y,R,F){return y.map(q=>q.path.startsWith(":")?this.findPosParam(S,q,F):this.findOrReturn(q,R))}findPosParam(S,y,R){const F=R[y.path.substring(1)];if(!F)throw new C.wOt(4001,!1);return F}findOrReturn(S,y){let R=0;for(const F of y){if(F.path===S.path)return y.splice(R),F;R++}return S}}const Bs={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function ea(E,S,y,R,F){const q=fo(E,S,y);return q.matched?(R=function wo(E,S){return E.providers&&!E._injector&&(E._injector=(0,C.Ol2)(E.providers,S,`Route: ${E.path}`)),E._injector??S}(S,R),function fs(E,S,y,R){const F=S.canMatch;if(!F||0===F.length)return(0,J.of)(!0);const q=F.map(oe=>{const We=ki(oe,E);return Ir(function Pr(E){return E&&Xs(E.canMatch)}(We)?We.canMatch(S,y):E.runInContext(()=>We(S,y)))});return(0,J.of)(q).pipe(Ys(),Os())}(R,S,y).pipe((0,Ne.T)(oe=>!0===oe?q:{...Bs}))):(0,J.of)(q)}function fo(E,S,y){if(""===S.path)return"full"===S.pathMatch&&(E.hasChildren()||y.length>0)?{...Bs}:{matched:!0,consumedSegments:[],remainingSegments:y,parameters:{},positionalParamSegments:{}};const F=(S.matcher||An)(y,E,S);if(!F)return{...Bs};const q={};Object.entries(F.posParams??{}).forEach(([We,Ge])=>{q[We]=Ge.path});const oe=F.consumed.length>0?{...q,...F.consumed[F.consumed.length-1].parameters}:q;return{matched:!0,consumedSegments:F.consumed,remainingSegments:y.slice(F.consumed.length),parameters:oe,positionalParamSegments:F.posParams??{}}}function yi(E,S,y,R){return y.length>0&&function nu(E,S,y){return y.some(R=>ns(E,S,R)&&$r(R)!==ht)}(E,y,R)?{segmentGroup:new $t(S,vi(R,new $t(y,E.children))),slicedSegments:[]}:0===y.length&&function wa(E,S,y){return y.some(R=>ns(E,S,R))}(E,y,R)?{segmentGroup:new $t(E.segments,Ea(E,0,y,R,E.children)),slicedSegments:y}:{segmentGroup:new $t(E.segments,E.children),slicedSegments:y}}function Ea(E,S,y,R,F){const q={};for(const oe of R)if(ns(E,y,oe)&&!F[$r(oe)]){const We=new $t([],{});q[$r(oe)]=We}return{...F,...q}}function vi(E,S){const y={};y[ht]=S;for(const R of E)if(""===R.path&&$r(R)!==ht){const F=new $t([],{});y[$r(R)]=F}return y}function ns(E,S,y){return(!(E.hasChildren()||S.length>0)||"full"!==y.pathMatch)&&""===y.path}class nr{constructor(S,y,R,F,q,oe,We){this.injector=S,this.configLoader=y,this.rootComponentType=R,this.config=F,this.urlTree=q,this.paramsInheritanceStrategy=oe,this.urlSerializer=We,this.allowRedirects=!0,this.applyRedirects=new Js(this.urlSerializer,this.urlTree)}noMatchError(S){return new C.wOt(4002,!1)}recognize(){const S=yi(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,S,ht).pipe((0,yn.W)(y=>{if(y instanceof Hr)return this.allowRedirects=!1,this.urlTree=y.urlTree,this.match(y.urlTree);throw y instanceof Zo?this.noMatchError(y):y}),(0,Ne.T)(y=>{const R=new ws([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},ht,this.rootComponentType,null,{}),F=new Jn(R,y),q=new mr("",F),oe=function pe(E,S,y=null,R=null){return ce(ve(E),S,y,R)}(R,[],this.urlTree.queryParams,this.urlTree.fragment);return oe.queryParams=this.urlTree.queryParams,q.url=this.urlSerializer.serialize(oe),this.inheritParamsAndData(q._root),{state:q,tree:oe}}))}match(S){return this.processSegmentGroup(this.injector,this.config,S.root,ht).pipe((0,yn.W)(R=>{throw R instanceof Zo?this.noMatchError(R):R}))}inheritParamsAndData(S){const y=S.value,R=Uo(y,this.paramsInheritanceStrategy);y.params=Object.freeze(R.params),y.data=Object.freeze(R.data),S.children.forEach(F=>this.inheritParamsAndData(F))}processSegmentGroup(S,y,R,F){return 0===R.segments.length&&R.hasChildren()?this.processChildren(S,y,R):this.processSegment(S,y,R,R.segments,F,!0)}processChildren(S,y,R){const F=[];for(const q of Object.keys(R.children))"primary"===q?F.unshift(q):F.push(q);return(0,fe.H)(F).pipe((0,cr.H)(q=>{const oe=R.children[q],We=function Co(E,S){const y=E.filter(R=>$r(R)===S);return y.push(...E.filter(R=>$r(R)!==S)),y}(y,q);return this.processSegmentGroup(S,We,oe,q)}),function ii(E,S){return(0,jt.N)(function $n(E,S,y,R,F){return(q,oe)=>{let We=y,Ge=S,At=0;q.subscribe((0,Lt._)(oe,In=>{const Er=At++;Ge=We?E(Ge,In,Er):(We=!0,In),R&&oe.next(Ge)},F&&(()=>{We&&oe.next(Ge),oe.complete()})))}}(E,S,arguments.length>=2,!0))}((q,oe)=>(q.push(...oe),q)),(0,si.U)(null),function He(E,S){const y=arguments.length>=2;return R=>R.pipe(E?(0,Qt.p)((F,q)=>E(F,q,R)):Fe.D,It(1),y?(0,si.U)(S):(0,Si.v)(()=>new Ue.G))}(),(0,un.Z)(q=>{if(null===q)return ks(R);const oe=Zs(q);return function Fu(E){E.sort((S,y)=>S.value.outlet===ht?-1:y.value.outlet===ht?1:S.value.outlet.localeCompare(y.value.outlet))}(oe),(0,J.of)(oe)}))}processSegment(S,y,R,F,q,oe){return(0,fe.H)(y).pipe((0,cr.H)(We=>this.processSegmentAgainstRoute(We._injector??S,y,We,R,F,q,oe).pipe((0,yn.W)(Ge=>{if(Ge instanceof Zo)return(0,J.of)(null);throw Ge}))),(0,wn.$)(We=>!!We),(0,yn.W)(We=>{if(yu(We))return function dr(E,S,y){return 0===S.length&&!E.children[y]}(R,F,q)?(0,J.of)([]):ks(R);throw We}))}processSegmentAgainstRoute(S,y,R,F,q,oe,We){return function po(E,S,y,R){return!!($r(E)===R||R!==ht&&ns(S,y,E))&&("**"===E.path||fo(S,E,y).matched)}(R,F,q,oe)?void 0===R.redirectTo?this.matchSegmentAgainstRoute(S,F,R,q,oe,We):We&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(S,F,y,R,q,oe):ks(F):ks(F)}expandSegmentAgainstRouteUsingRedirect(S,y,R,F,q,oe){return"**"===F.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(S,R,F,oe):this.expandRegularSegmentAgainstRouteUsingRedirect(S,y,R,F,q,oe)}expandWildCardWithParamsAgainstRouteUsingRedirect(S,y,R,F){const q=this.applyRedirects.applyRedirectCommands([],R.redirectTo,{});return R.redirectTo.startsWith("/")?or(q):this.applyRedirects.lineralizeSegments(R,q).pipe((0,un.Z)(oe=>{const We=new $t(oe,{});return this.processSegment(S,y,We,oe,F,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(S,y,R,F,q,oe){const{matched:We,consumedSegments:Ge,remainingSegments:At,positionalParamSegments:In}=fo(y,F,q);if(!We)return ks(y);const Er=this.applyRedirects.applyRedirectCommands(Ge,F.redirectTo,In);return F.redirectTo.startsWith("/")?or(Er):this.applyRedirects.lineralizeSegments(F,Er).pipe((0,un.Z)(ur=>this.processSegment(S,R,y,ur.concat(At),oe,!1)))}matchSegmentAgainstRoute(S,y,R,F,q,oe){let We;if("**"===R.path){const Ge=F.length>0?Xn(F).parameters:{},At=new ws(F,Ge,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,jo(R),$r(R),R.component??R._loadedComponent??null,R,Fs(R));We=(0,J.of)({snapshot:At,consumedSegments:[],remainingSegments:[]}),y.children={}}else We=ea(y,R,F,S).pipe((0,Ne.T)(({matched:Ge,consumedSegments:At,remainingSegments:In,parameters:Er})=>Ge?{snapshot:new ws(At,Er,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,jo(R),$r(R),R.component??R._loadedComponent??null,R,Fs(R)),consumedSegments:At,remainingSegments:In}:null));return We.pipe((0,et.n)(Ge=>null===Ge?ks(y):this.getChildConfig(S=R._injector??S,R,F).pipe((0,et.n)(({routes:At})=>{const In=R._loadedInjector??S,{snapshot:Er,consumedSegments:ur,remainingSegments:Lr}=Ge,{segmentGroup:Na,slicedSegments:No}=yi(y,ur,Lr,At);if(0===No.length&&Na.hasChildren())return this.processChildren(In,At,Na).pipe((0,Ne.T)(ra=>null===ra?null:[new Jn(Er,ra)]));if(0===At.length&&0===No.length)return(0,J.of)([new Jn(Er,[])]);const yo=$r(R)===q;return this.processSegment(In,At,Na,No,yo?ht:q,!0).pipe((0,Ne.T)(ra=>[new Jn(Er,ra)]))}))))}getChildConfig(S,y,R){return y.children?(0,J.of)({routes:y.children,injector:S}):y.loadChildren?void 0!==y._loadedRoutes?(0,J.of)({routes:y._loadedRoutes,injector:y._loadedInjector}):function Yi(E,S,y,R){const F=S.canLoad;if(void 0===F||0===F.length)return(0,J.of)(!0);const q=F.map(oe=>{const We=ki(oe,E);return Ir(function va(E){return E&&Xs(E.canLoad)}(We)?We.canLoad(S,y):E.runInContext(()=>We(S,y)))});return(0,J.of)(q).pipe(Ys(),Os())}(S,y,R).pipe((0,un.Z)(F=>F?this.configLoader.loadChildren(S,y).pipe((0,ut.M)(q=>{y._loadedRoutes=q.routes,y._loadedInjector=q.injector})):function Vs(E){return(0,Ie.$)(Dr(!1,3))}())):(0,J.of)({routes:[],injector:S})}}function Ia(E){const S=E.value.routeConfig;return S&&""===S.path}function Zs(E){const S=[],y=new Set;for(const R of E){if(!Ia(R)){S.push(R);continue}const F=S.find(q=>R.value.routeConfig===q.value.routeConfig);void 0!==F?(F.children.push(...R.children),y.add(F)):S.push(R)}for(const R of y){const F=Zs(R.children);S.push(new Jn(R.value,F))}return S.filter(R=>!y.has(R))}function jo(E){return E.data||{}}function Fs(E){return E.resolve||{}}function D(E){return"string"==typeof E.title||null===E.title}function z(E){return(0,et.n)(S=>{const y=E(S);return y?(0,fe.H)(y).pipe((0,Ne.T)(()=>S)):(0,J.of)(S)})}const P=new C.nKC("ROUTES");let j=(()=>{class E{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,C.WQX)(C.Ql9)}loadComponent(y){if(this.componentLoaders.get(y))return this.componentLoaders.get(y);if(y._loadedComponent)return(0,J.of)(y._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(y);const R=Ir(y.loadComponent()).pipe((0,Ne.T)(ot),(0,ut.M)(q=>{this.onLoadEndListener&&this.onLoadEndListener(y),y._loadedComponent=q}),(0,Je.j)(()=>{this.componentLoaders.delete(y)})),F=new Dn(R,()=>new Se.B).pipe(xn());return this.componentLoaders.set(y,F),F}loadChildren(y,R){if(this.childrenLoaders.get(R))return this.childrenLoaders.get(R);if(R._loadedRoutes)return(0,J.of)({routes:R._loadedRoutes,injector:R._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(R);const q=function ie(E,S,y,R){return Ir(E.loadChildren()).pipe((0,Ne.T)(ot),(0,un.Z)(F=>F instanceof C.Co$||Array.isArray(F)?(0,J.of)(F):(0,fe.H)(S.compileModuleAsync(F))),(0,Ne.T)(F=>{R&&R(E);let q,oe,We=!1;return Array.isArray(F)?(oe=F,!0):(q=F.create(y).injector,oe=q.get(P,[],{optional:!0,self:!0}).flat()),{routes:oe.map(Qi),injector:q}}))}(R,this.compiler,y,this.onLoadEndListener).pipe((0,Je.j)(()=>{this.childrenLoaders.delete(R)})),oe=new Dn(q,()=>new Se.B).pipe(xn());return this.childrenLoaders.set(R,oe),oe}static{this.\u0275fac=function(R){return new(R||E)}}static{this.\u0275prov=C.jDH({token:E,factory:E.\u0275fac,providedIn:"root"})}}return E})();function ot(E){return function Qe(E){return E&&"object"==typeof E&&"default"in E}(E)?E.default:E}let Gt=(()=>{class E{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Se.B,this.transitionAbortSubject=new Se.B,this.configLoader=(0,C.WQX)(j),this.environmentInjector=(0,C.WQX)(C.uvJ),this.urlSerializer=(0,C.WQX)(hn),this.rootContexts=(0,C.WQX)(Qr),this.inputBindingEnabled=null!==(0,C.WQX)(Us,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,J.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=F=>this.events.next(new Gn(F)),this.configLoader.onLoadStartListener=F=>this.events.next(new Vn(F))}complete(){this.transitions?.complete()}handleNavigationRequest(y){const R=++this.navigationId;this.transitions?.next({...this.transitions.value,...y,id:R})}setupNavigations(y,R,F){return this.transitions=new ee.t({id:0,currentUrlTree:R,currentRawUrl:R,currentBrowserUrl:R,extractedUrl:y.urlHandlingStrategy.extract(R),urlAfterRedirects:y.urlHandlingStrategy.extract(R),rawUrl:R,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Mr,restoredState:null,currentSnapshot:F.snapshot,targetSnapshot:null,currentRouterState:F,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,Qt.p)(q=>0!==q.id),(0,Ne.T)(q=>({...q,extractedUrl:y.urlHandlingStrategy.extract(q.rawUrl)})),(0,et.n)(q=>{this.currentTransition=q;let oe=!1,We=!1;return(0,J.of)(q).pipe((0,ut.M)(Ge=>{this.currentNavigation={id:Ge.id,initialUrl:Ge.rawUrl,extractedUrl:Ge.extractedUrl,trigger:Ge.source,extras:Ge.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,et.n)(Ge=>{const At=Ge.currentBrowserUrl.toString(),In=!y.navigated||Ge.extractedUrl.toString()!==At||At!==Ge.currentUrlTree.toString();if(!In&&"reload"!==(Ge.extras.onSameUrlNavigation??y.onSameUrlNavigation)){const ur="";return this.events.next(new Ee(Ge.id,this.urlSerializer.serialize(Ge.rawUrl),ur,0)),Ge.resolve(null),pt.w}if(y.urlHandlingStrategy.shouldProcessUrl(Ge.rawUrl))return(0,J.of)(Ge).pipe((0,et.n)(ur=>{const Lr=this.transitions?.getValue();return this.events.next(new qi(ur.id,this.urlSerializer.serialize(ur.extractedUrl),ur.source,ur.restoredState)),Lr!==this.transitions?.getValue()?pt.w:Promise.resolve(ur)}),function Ra(E,S,y,R,F,q){return(0,un.Z)(oe=>function js(E,S,y,R,F,q,oe="emptyOnly"){return new nr(E,S,y,R,F,oe,q).recognize()}(E,S,y,R,oe.extractedUrl,F,q).pipe((0,Ne.T)(({state:We,tree:Ge})=>({...oe,targetSnapshot:We,urlAfterRedirects:Ge}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,y.config,this.urlSerializer,y.paramsInheritanceStrategy),(0,ut.M)(ur=>{q.targetSnapshot=ur.targetSnapshot,q.urlAfterRedirects=ur.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:ur.urlAfterRedirects};const Lr=new Le(ur.id,this.urlSerializer.serialize(ur.extractedUrl),this.urlSerializer.serialize(ur.urlAfterRedirects),ur.targetSnapshot);this.events.next(Lr)}));if(In&&y.urlHandlingStrategy.shouldProcessUrl(Ge.currentRawUrl)){const{id:ur,extractedUrl:Lr,source:Na,restoredState:No,extras:yo}=Ge,ra=new qi(ur,this.urlSerializer.serialize(Lr),Na,No);this.events.next(ra);const rs=Ci(0,this.rootComponentType).snapshot;return this.currentTransition=q={...Ge,targetSnapshot:rs,urlAfterRedirects:Lr,extras:{...yo,skipLocationChange:!1,replaceUrl:!1}},(0,J.of)(q)}{const ur="";return this.events.next(new Ee(Ge.id,this.urlSerializer.serialize(Ge.extractedUrl),ur,1)),Ge.resolve(null),pt.w}}),(0,ut.M)(Ge=>{const At=new rt(Ge.id,this.urlSerializer.serialize(Ge.extractedUrl),this.urlSerializer.serialize(Ge.urlAfterRedirects),Ge.targetSnapshot);this.events.next(At)}),(0,Ne.T)(Ge=>(this.currentTransition=q={...Ge,guards:Qs(Ge.targetSnapshot,Ge.currentSnapshot,this.rootContexts)},q)),function hs(E,S){return(0,un.Z)(y=>{const{targetSnapshot:R,currentSnapshot:F,guards:{canActivateChecks:q,canDeactivateChecks:oe}}=y;return 0===oe.length&&0===q.length?(0,J.of)({...y,guardsResult:!0}):function vu(E,S,y,R){return(0,fe.H)(E).pipe((0,un.Z)(F=>function Jo(E,S,y,R,F){const q=S&&S.routeConfig?S.routeConfig.canDeactivate:null;if(!q||0===q.length)return(0,J.of)(!0);const oe=q.map(We=>{const Ge=xs(S)??F,At=ki(We,Ge);return Ir(function qo(E){return E&&Xs(E.canDeactivate)}(At)?At.canDeactivate(E,S,y,R):Ge.runInContext(()=>At(E,S,y,R))).pipe((0,wn.$)())});return(0,J.of)(oe).pipe(Ys())}(F.component,F.route,y,S,R)),(0,wn.$)(F=>!0!==F,!0))}(oe,R,F,E).pipe((0,un.Z)(We=>We&&function ya(E){return"boolean"==typeof E}(We)?function Ao(E,S,y,R){return(0,fe.H)(S).pipe((0,cr.H)(F=>(0,ne.x)(function Xo(E,S){return null!==E&&S&&S(new as(E)),(0,J.of)(!0)}(F.route.parent,R),function Ma(E,S){return null!==E&&S&&S(new Ni(E)),(0,J.of)(!0)}(F.route,R),function Yo(E,S,y){const R=S[S.length-1],q=S.slice(0,S.length-1).reverse().map(oe=>function Yr(E){const S=E.routeConfig?E.routeConfig.canActivateChild:null;return S&&0!==S.length?{node:E,guards:S}:null}(oe)).filter(oe=>null!==oe).map(oe=>Re(()=>{const We=oe.guards.map(Ge=>{const At=xs(oe.node)??y,In=ki(Ge,At);return Ir(function _a(E){return E&&Xs(E.canActivateChild)}(In)?In.canActivateChild(R,E):At.runInContext(()=>In(R,E))).pipe((0,wn.$)())});return(0,J.of)(We).pipe(Ys())}));return(0,J.of)(q).pipe(Ys())}(E,F.path,y),function So(E,S,y){const R=S.routeConfig?S.routeConfig.canActivate:null;if(!R||0===R.length)return(0,J.of)(!0);const F=R.map(q=>Re(()=>{const oe=xs(S)??y,We=ki(q,oe);return Ir(function za(E){return E&&Xs(E.canActivate)}(We)?We.canActivate(S,E):oe.runInContext(()=>We(S,E))).pipe((0,wn.$)())}));return(0,J.of)(F).pipe(Ys())}(E,F.route,y))),(0,wn.$)(F=>!0!==F,!0))}(R,q,E,S):(0,J.of)(We)),(0,Ne.T)(We=>({...y,guardsResult:We})))})}(this.environmentInjector,Ge=>this.events.next(Ge)),(0,ut.M)(Ge=>{if(q.guardsResult=Ge.guardsResult,be(Ge.guardsResult))throw xi(0,Ge.guardsResult);const At=new yt(Ge.id,this.urlSerializer.serialize(Ge.extractedUrl),this.urlSerializer.serialize(Ge.urlAfterRedirects),Ge.targetSnapshot,!!Ge.guardsResult);this.events.next(At)}),(0,Qt.p)(Ge=>!!Ge.guardsResult||(this.cancelNavigationTransition(Ge,"",3),!1)),z(Ge=>{if(Ge.guards.canActivateChecks.length)return(0,J.of)(Ge).pipe((0,ut.M)(At=>{const In=new tn(At.id,this.urlSerializer.serialize(At.extractedUrl),this.urlSerializer.serialize(At.urlAfterRedirects),At.targetSnapshot);this.events.next(In)}),(0,et.n)(At=>{let In=!1;return(0,J.of)(At).pipe(function Mo(E,S){return(0,un.Z)(y=>{const{targetSnapshot:R,guards:{canActivateChecks:F}}=y;if(!F.length)return(0,J.of)(y);let q=0;return(0,fe.H)(F).pipe((0,cr.H)(oe=>function $s(E,S,y,R){const F=E.routeConfig,q=E._resolve;return void 0!==F?.title&&!D(F)&&(q[bn]=F.title),function Is(E,S,y,R){const F=function _i(E){return[...Object.keys(E),...Object.getOwnPropertySymbols(E)]}(E);if(0===F.length)return(0,J.of)({});const q={};return(0,fe.H)(F).pipe((0,un.Z)(oe=>function go(E,S,y,R){const F=xs(S)??R,q=ki(E,F);return Ir(q.resolve?q.resolve(S,y):F.runInContext(()=>q(S,y)))}(E[oe],S,y,R).pipe((0,wn.$)(),(0,ut.M)(We=>{q[oe]=We}))),It(1),function Ve(E){return(0,Ne.T)(()=>E)}(q),(0,yn.W)(oe=>yu(oe)?pt.w:(0,Ie.$)(oe)))}(q,E,S,R).pipe((0,Ne.T)(oe=>(E._resolvedData=oe,E.data=Uo(E,y).resolve,F&&D(F)&&(E.data[bn]=F.title),null)))}(oe.route,R,E,S)),(0,ut.M)(()=>q++),It(1),(0,un.Z)(oe=>q===F.length?(0,J.of)(y):pt.w))})}(y.paramsInheritanceStrategy,this.environmentInjector),(0,ut.M)({next:()=>In=!0,complete:()=>{In||this.cancelNavigationTransition(At,"",2)}}))}),(0,ut.M)(At=>{const In=new Hn(At.id,this.urlSerializer.serialize(At.extractedUrl),this.urlSerializer.serialize(At.urlAfterRedirects),At.targetSnapshot);this.events.next(In)}))}),z(Ge=>{const At=In=>{const Er=[];In.routeConfig?.loadComponent&&!In.routeConfig._loadedComponent&&Er.push(this.configLoader.loadComponent(In.routeConfig).pipe((0,ut.M)(ur=>{In.component=ur}),(0,Ne.T)(()=>{})));for(const ur of In.children)Er.push(...At(ur));return Er};return(0,Ae.z)(At(Ge.targetSnapshot.root)).pipe((0,si.U)(),(0,mt.s)(1))}),z(()=>this.afterPreactivation()),(0,Ne.T)(Ge=>{const At=function ls(E,S,y){const R=ds(E,S._root,y?y._root:void 0);return new Es(R,S)}(y.routeReuseStrategy,Ge.targetSnapshot,Ge.currentRouterState);return this.currentTransition=q={...Ge,targetRouterState:At},q}),(0,ut.M)(()=>{this.events.next(new co)}),((E,S,y,R)=>(0,Ne.T)(F=>(new Xi(S,F.targetRouterState,F.currentRouterState,y,R).activate(E),F)))(this.rootContexts,y.routeReuseStrategy,Ge=>this.events.next(Ge),this.inputBindingEnabled),(0,mt.s)(1),(0,ut.M)({next:Ge=>{oe=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new _s(Ge.id,this.urlSerializer.serialize(Ge.extractedUrl),this.urlSerializer.serialize(Ge.urlAfterRedirects))),y.titleStrategy?.updateTitle(Ge.targetRouterState.snapshot),Ge.resolve(!0)},complete:()=>{oe=!0}}),(0,it.Q)(this.transitionAbortSubject.pipe((0,ut.M)(Ge=>{throw Ge}))),(0,Je.j)(()=>{oe||We||this.cancelNavigationTransition(q,"",1),this.currentNavigation?.id===q.id&&(this.currentNavigation=null)}),(0,yn.W)(Ge=>{if(We=!0,lo(Ge))this.events.next(new uo(q.id,this.urlSerializer.serialize(q.extractedUrl),Ge.message,Ge.cancellationCode)),function Vo(E){return lo(E)&&be(E.url)}(Ge)?this.events.next(new Eo(Ge.url)):q.resolve(!1);else{this.events.next(new ye(q.id,this.urlSerializer.serialize(q.extractedUrl),Ge,q.targetSnapshot??void 0));try{q.resolve(y.errorHandler(Ge))}catch(At){q.reject(At)}}return pt.w}))}))}cancelNavigationTransition(y,R,F){const q=new uo(y.id,this.urlSerializer.serialize(y.extractedUrl),R,F);this.events.next(q),y.resolve(!1)}static{this.\u0275fac=function(R){return new(R||E)}}static{this.\u0275prov=C.jDH({token:E,factory:E.\u0275fac,providedIn:"root"})}}return E})();function yr(E){return E!==Mr}let xr=(()=>{class E{buildTitle(y){let R,F=y.root;for(;void 0!==F;)R=this.getResolvedTitleForRoute(F)??R,F=F.children.find(q=>q.outlet===ht);return R}getResolvedTitleForRoute(y){return y.data[bn]}static{this.\u0275fac=function(R){return new(R||E)}}static{this.\u0275prov=C.jDH({token:E,factory:function(){return(0,C.WQX)(Zn)},providedIn:"root"})}}return E})(),Zn=(()=>{class E extends xr{constructor(y){super(),this.title=y}updateTitle(y){const R=this.buildTitle(y);void 0!==R&&this.title.setTitle(R)}static{this.\u0275fac=function(R){return new(R||E)(C.KVO(Dt.hE))}}static{this.\u0275prov=C.jDH({token:E,factory:E.\u0275fac,providedIn:"root"})}}return E})(),kn=(()=>{class E{static{this.\u0275fac=function(R){return new(R||E)}}static{this.\u0275prov=C.jDH({token:E,factory:function(){return(0,C.WQX)(Tr)},providedIn:"root"})}}return E})();class Fr{shouldDetach(S){return!1}store(S,y){}shouldAttach(S){return!1}retrieve(S){return null}shouldReuseRoute(S,y){return S.routeConfig===y.routeConfig}}let Tr=(()=>{class E extends Fr{static{this.\u0275fac=function(){let y;return function(F){return(y||(y=C.xGo(E)))(F||E)}}()}static{this.\u0275prov=C.jDH({token:E,factory:E.\u0275fac,providedIn:"root"})}}return E})();const di=new C.nKC("",{providedIn:"root",factory:()=>({})});let Fi=(()=>{class E{static{this.\u0275fac=function(R){return new(R||E)}}static{this.\u0275prov=C.jDH({token:E,factory:function(){return(0,C.WQX)(Ds)},providedIn:"root"})}}return E})(),Ds=(()=>{class E{shouldProcessUrl(y){return!0}extract(y){return y}merge(y,R){return y}static{this.\u0275fac=function(R){return new(R||E)}}static{this.\u0275prov=C.jDH({token:E,factory:E.\u0275fac,providedIn:"root"})}}return E})();var ar=function(E){return E[E.COMPLETE=0]="COMPLETE",E[E.FAILED=1]="FAILED",E[E.REDIRECTING=2]="REDIRECTING",E}(ar||{});function zr(E,S){E.events.pipe((0,Qt.p)(y=>y instanceof _s||y instanceof uo||y instanceof ye||y instanceof Ee),(0,Ne.T)(y=>y instanceof _s||y instanceof Ee?ar.COMPLETE:y instanceof uo&&(0===y.code||1===y.code)?ar.REDIRECTING:ar.FAILED),(0,Qt.p)(y=>y!==ar.REDIRECTING),(0,mt.s)(1)).subscribe(()=>{S()})}function Hi(E){throw E}function Ji(E,S,y){return S.parse("/")}const Ro={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},ft={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let sn=(()=>{class E{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,C.WQX)(C.H3F),this.isNgZoneEnabled=!1,this._events=new Se.B,this.options=(0,C.WQX)(di,{optional:!0})||{},this.pendingTasks=(0,C.WQX)(C.$K3),this.errorHandler=this.options.errorHandler||Hi,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Ji,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,C.WQX)(Fi),this.routeReuseStrategy=(0,C.WQX)(kn),this.titleStrategy=(0,C.WQX)(xr),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,C.WQX)(P,{optional:!0})?.flat()??[],this.navigationTransitions=(0,C.WQX)(Gt),this.urlSerializer=(0,C.WQX)(hn),this.location=(0,C.WQX)(at.aZ),this.componentInputBindingEnabled=!!(0,C.WQX)(Us,{optional:!0}),this.eventsSubscription=new $e.yU,this.isNgZoneEnabled=(0,C.WQX)(C.SKi)instanceof C.SKi&&C.SKi.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new lr,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Ci(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(y=>{this.lastSuccessfulId=y.id,this.currentPageId=this.browserPageId},y=>{this.console.warn(`Unhandled Navigation Error: ${y}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const y=this.navigationTransitions.events.subscribe(R=>{try{const{currentTransition:F}=this.navigationTransitions;if(null===F)return void(na(R)&&this._events.next(R));if(R instanceof qi)yr(F.source)&&(this.browserUrlTree=F.extractedUrl);else if(R instanceof Ee)this.rawUrlTree=F.rawUrl;else if(R instanceof Le){if("eager"===this.urlUpdateStrategy){if(!F.extras.skipLocationChange){const q=this.urlHandlingStrategy.merge(F.urlAfterRedirects,F.rawUrl);this.setBrowserUrl(q,F)}this.browserUrlTree=F.urlAfterRedirects}}else if(R instanceof co)this.currentUrlTree=F.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(F.urlAfterRedirects,F.rawUrl),this.routerState=F.targetRouterState,"deferred"===this.urlUpdateStrategy&&(F.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,F),this.browserUrlTree=F.urlAfterRedirects);else if(R instanceof uo)0!==R.code&&1!==R.code&&(this.navigated=!0),(3===R.code||2===R.code)&&this.restoreHistory(F);else if(R instanceof Eo){const q=this.urlHandlingStrategy.merge(R.url,F.currentRawUrl),oe={skipLocationChange:F.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||yr(F.source)};this.scheduleNavigation(q,Mr,null,oe,{resolve:F.resolve,reject:F.reject,promise:F.promise})}R instanceof ye&&this.restoreHistory(F,!0),R instanceof _s&&(this.navigated=!0),na(R)&&this._events.next(R)}catch(F){this.navigationTransitions.transitionAbortSubject.next(F)}});this.eventsSubscription.add(y)}resetRootComponentType(y){this.routerState.root.component=y,this.navigationTransitions.rootComponentType=y}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const y=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Mr,y)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(y=>{const R="popstate"===y.type?"popstate":"hashchange";"popstate"===R&&setTimeout(()=>{this.navigateToSyncWithBrowser(y.url,R,y.state)},0)}))}navigateToSyncWithBrowser(y,R,F){const q={replaceUrl:!0},oe=F?.navigationId?F:null;if(F){const Ge={...F};delete Ge.navigationId,delete Ge.\u0275routerPageId,0!==Object.keys(Ge).length&&(q.state=Ge)}const We=this.parseUrl(y);this.scheduleNavigation(We,R,oe,q)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(y){this.config=y.map(Qi),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(y,R={}){const{relativeTo:F,queryParams:q,fragment:oe,queryParamsHandling:We,preserveFragment:Ge}=R,At=Ge?this.currentUrlTree.fragment:oe;let Er,In=null;switch(We){case"merge":In={...this.currentUrlTree.queryParams,...q};break;case"preserve":In=this.currentUrlTree.queryParams;break;default:In=q||null}null!==In&&(In=this.removeEmptyProps(In));try{Er=ve(F?F.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof y[0]||!y[0].startsWith("/"))&&(y=[]),Er=this.currentUrlTree.root}return ce(Er,y,In,At??null)}navigateByUrl(y,R={skipLocationChange:!1}){const F=be(y)?y:this.parseUrl(y),q=this.urlHandlingStrategy.merge(F,this.rawUrlTree);return this.scheduleNavigation(q,Mr,null,R)}navigate(y,R={skipLocationChange:!1}){return function Ts(E){for(let S=0;S<E.length;S++)if(null==E[S])throw new C.wOt(4008,!1)}(y),this.navigateByUrl(this.createUrlTree(y,R),R)}serializeUrl(y){return this.urlSerializer.serialize(y)}parseUrl(y){let R;try{R=this.urlSerializer.parse(y)}catch(F){R=this.malformedUriErrorHandler(F,this.urlSerializer,y)}return R}isActive(y,R){let F;if(F=!0===R?{...Ro}:!1===R?{...ft}:R,be(y))return Di(this.currentUrlTree,y,F);const q=this.parseUrl(y);return Di(this.currentUrlTree,q,F)}removeEmptyProps(y){return Object.keys(y).reduce((R,F)=>{const q=y[F];return null!=q&&(R[F]=q),R},{})}scheduleNavigation(y,R,F,q,oe){if(this.disposed)return Promise.resolve(!1);let We,Ge,At;oe?(We=oe.resolve,Ge=oe.reject,At=oe.promise):At=new Promise((Er,ur)=>{We=Er,Ge=ur});const In=this.pendingTasks.add();return zr(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(In))}),this.navigationTransitions.handleNavigationRequest({source:R,restoredState:F,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:y,extras:q,resolve:We,reject:Ge,promise:At,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),At.catch(Er=>Promise.reject(Er))}setBrowserUrl(y,R){const F=this.urlSerializer.serialize(y);if(this.location.isCurrentPathEqualTo(F)||R.extras.replaceUrl){const oe={...R.extras.state,...this.generateNgRouterState(R.id,this.browserPageId)};this.location.replaceState(F,"",oe)}else{const q={...R.extras.state,...this.generateNgRouterState(R.id,this.browserPageId+1)};this.location.go(F,"",q)}}restoreHistory(y,R=!1){if("computed"===this.canceledNavigationResolution){const q=this.currentPageId-this.browserPageId;0!==q?this.location.historyGo(q):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===q&&(this.resetState(y),this.browserUrlTree=y.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(R&&this.resetState(y),this.resetUrlToCurrentUrlTree())}resetState(y){this.routerState=y.currentRouterState,this.currentUrlTree=y.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,y.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(y,R){return"computed"===this.canceledNavigationResolution?{navigationId:y,\u0275routerPageId:R}:{navigationId:y}}static{this.\u0275fac=function(R){return new(R||E)}}static{this.\u0275prov=C.jDH({token:E,factory:E.\u0275fac,providedIn:"root"})}}return E})();function na(E){return!(E instanceof co||E instanceof Eo)}let O=(()=>{class E{constructor(y,R,F,q,oe,We){this.router=y,this.route=R,this.tabIndexAttribute=F,this.renderer=q,this.el=oe,this.locationStrategy=We,this.href=null,this.commands=null,this.onChanges=new Se.B,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const Ge=oe.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===Ge||"area"===Ge,this.isAnchorElement?this.subscription=y.events.subscribe(At=>{At instanceof _s&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(y){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",y)}ngOnChanges(y){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(y){null!=y?(this.commands=Array.isArray(y)?y:[y],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(y,R,F,q,oe){return!!(null===this.urlTree||this.isAnchorElement&&(0!==y||R||F||q||oe||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const y=null===this.href?null:(0,C.n$t)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",y)}applyAttributeValue(y,R){const F=this.renderer,q=this.el.nativeElement;null!==R?F.setAttribute(q,y,R):F.removeAttribute(q,y)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(R){return new(R||E)(C.rXU(sn),C.rXU(qs),C.kS0("tabindex"),C.rXU(C.sFG),C.rXU(C.aKT),C.rXU(at.hb))}}static{this.\u0275dir=C.FsC({type:E,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(R,F){1&R&&C.bIt("click",function(oe){return F.onClick(oe.button,oe.ctrlKey,oe.shiftKey,oe.altKey,oe.metaKey)}),2&R&&C.BMQ("target",F.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",C.L39],skipLocationChange:["skipLocationChange","skipLocationChange",C.L39],replaceUrl:["replaceUrl","replaceUrl",C.L39],routerLink:"routerLink"},standalone:!0,features:[C.GFd,C.OA$]})}}return E})();class M{}let le=(()=>{class E{constructor(y,R,F,q,oe){this.router=y,this.injector=F,this.preloadingStrategy=q,this.loader=oe}setUpPreloading(){this.subscription=this.router.events.pipe((0,Qt.p)(y=>y instanceof _s),(0,cr.H)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(y,R){const F=[];for(const q of R){q.providers&&!q._injector&&(q._injector=(0,C.Ol2)(q.providers,y,`Route: ${q.path}`));const oe=q._injector??y,We=q._loadedInjector??oe;(q.loadChildren&&!q._loadedRoutes&&void 0===q.canLoad||q.loadComponent&&!q._loadedComponent)&&F.push(this.preloadConfig(oe,q)),(q.children||q._loadedRoutes)&&F.push(this.processRoutes(We,q.children??q._loadedRoutes))}return(0,fe.H)(F).pipe((0,ze.U)())}preloadConfig(y,R){return this.preloadingStrategy.preload(R,()=>{let F;F=R.loadChildren&&void 0===R.canLoad?this.loader.loadChildren(y,R):(0,J.of)(null);const q=F.pipe((0,un.Z)(oe=>null===oe?(0,J.of)(void 0):(R._loadedRoutes=oe.routes,R._loadedInjector=oe.injector,this.processRoutes(oe.injector??y,oe.routes))));if(R.loadComponent&&!R._loadedComponent){const oe=this.loader.loadComponent(R);return(0,fe.H)([q,oe]).pipe((0,ze.U)())}return q})}static{this.\u0275fac=function(R){return new(R||E)(C.KVO(sn),C.KVO(C.Ql9),C.KVO(C.uvJ),C.KVO(M),C.KVO(j))}}static{this.\u0275prov=C.jDH({token:E,factory:E.\u0275fac,providedIn:"root"})}}return E})();const me=new C.nKC("");let ke=(()=>{class E{constructor(y,R,F,q,oe={}){this.urlSerializer=y,this.transitions=R,this.viewportScroller=F,this.zone=q,this.options=oe,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},oe.scrollPositionRestoration=oe.scrollPositionRestoration||"disabled",oe.anchorScrolling=oe.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(y=>{y instanceof qi?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=y.navigationTrigger,this.restoredId=y.restoredState?y.restoredState.navigationId:0):y instanceof _s?(this.lastId=y.id,this.scheduleScrollEvent(y,this.urlSerializer.parse(y.urlAfterRedirects).fragment)):y instanceof Ee&&0===y.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(y,this.urlSerializer.parse(y.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(y=>{y instanceof Fo&&(y.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(y.position):y.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(y.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(y,R){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Fo(y,"popstate"===this.lastSource?this.store[this.restoredId]:null,R))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(R){C.QTQ()}}static{this.\u0275prov=C.jDH({token:E,factory:E.\u0275fac})}}return E})();function Tt(E,S){return{\u0275kind:E,\u0275providers:S}}function Mn(){const E=(0,C.WQX)(C.zZn);return S=>{const y=E.get(C.o8S);if(S!==y.components[0])return;const R=E.get(sn),F=E.get(Ei);1===E.get(Nt)&&R.initialNavigation(),E.get(Bt,null,C.$GK.Optional)?.setUpPreloading(),E.get(me,null,C.$GK.Optional)?.init(),R.resetRootComponentType(y.componentTypes[0]),F.closed||(F.next(),F.complete(),F.unsubscribe())}}const Ei=new C.nKC("",{factory:()=>new Se.B}),Nt=new C.nKC("",{providedIn:"root",factory:()=>1}),Bt=new C.nKC("");function Ui(E){return Tt(0,[{provide:Bt,useExisting:le},{provide:M,useExisting:E}])}const Rn=new C.nKC("ROUTER_FORROOT_GUARD"),to=[at.aZ,{provide:hn,useClass:fi},sn,Qr,{provide:qs,useFactory:function Pt(E){return E.routerState.root},deps:[sn]},j,[]];function Wa(){return new C.NEm("Router",sn)}let xt=(()=>{class E{constructor(y){}static forRoot(y,R){return{ngModule:E,providers:[to,[],{provide:P,multi:!0,useValue:y},{provide:Rn,useFactory:wi,deps:[[sn,new C.Xx1,new C.kdw]]},{provide:di,useValue:R||{}},R?.useHash?{provide:at.hb,useClass:at.fw}:{provide:at.hb,useClass:at.Sm},{provide:me,useFactory:()=>{const E=(0,C.WQX)(at.Xr),S=(0,C.WQX)(C.SKi),y=(0,C.WQX)(di),R=(0,C.WQX)(Gt),F=(0,C.WQX)(hn);return y.scrollOffset&&E.setOffset(y.scrollOffset),new ke(F,R,E,S,y)}},R?.preloadingStrategy?Ui(R.preloadingStrategy).\u0275providers:[],{provide:C.NEm,multi:!0,useFactory:Wa},R?.initialNavigation?ti(R):[],R?.bindToComponentInputs?Tt(8,[Xr,{provide:Us,useExisting:Xr}]).\u0275providers:[],[{provide:ps,useFactory:Mn},{provide:C.iLQ,multi:!0,useExisting:ps}]]}}static forChild(y){return{ngModule:E,providers:[{provide:P,multi:!0,useValue:y}]}}static{this.\u0275fac=function(R){return new(R||E)(C.KVO(Rn,8))}}static{this.\u0275mod=C.$C({type:E})}static{this.\u0275inj=C.G2t({})}}return E})();function wi(E){return"guarded"}function ti(E){return["disabled"===E.initialNavigation?Tt(3,[{provide:C.hnV,multi:!0,useFactory:()=>{const S=(0,C.WQX)(sn);return()=>{S.setUpLocationChangeListener()}}},{provide:Nt,useValue:2}]).\u0275providers:[],"enabledBlocking"===E.initialNavigation?Tt(2,[{provide:Nt,useValue:0},{provide:C.hnV,multi:!0,deps:[C.zZn],useFactory:S=>{const y=S.get(at.hj,Promise.resolve());return()=>y.then(()=>new Promise(R=>{const F=S.get(sn),q=S.get(Ei);zr(F,()=>{R(!0)}),S.get(Gt).afterPreactivation=()=>(R(!0),q.closed?(0,J.of)(void 0):q),F.initialNavigation()}))}}]).\u0275providers:[]]}const ps=new C.nKC("")},7852:(Vt,je,B)=>{B.r(je),B.d(je,{FirebaseError:()=>_e.g,SDK_VERSION:()=>pi,_DEFAULT_ENTRY_NAME:()=>Xt,_addComponent:()=>pr,_addOrOverwriteComponent:()=>lr,_apps:()=>pn,_clearComponents:()=>Ut,_components:()=>On,_getProvider:()=>Yn,_registerComponent:()=>$t,_removeServiceInstance:()=>oi,deleteApp:()=>Kr,getApp:()=>Ar,getApps:()=>Vr,initializeApp:()=>Ri,onLog:()=>ai,registerVersion:()=>gi,setLogLevel:()=>zn});var C=B(467),se=B(1362),he=B(8041),_e=B(1076);const fe=(ce,ue)=>ue.some(Me=>ce instanceof Me);let J,ee;const ne=new WeakMap,ae=new WeakMap,Re=new WeakMap,Ke=new WeakMap,Ie=new WeakMap;let jt={get(ce,ue,Me){if(ce instanceof IDBTransaction){if("done"===ue)return ae.get(ce);if("objectStoreNames"===ue)return ce.objectStoreNames||Re.get(ce);if("store"===ue)return Me.objectStoreNames[1]?void 0:Me.objectStore(Me.objectStoreNames[0])}return Se(ce[ue])},set:(ce,ue,Me)=>(ce[ue]=Me,!0),has:(ce,ue)=>ce instanceof IDBTransaction&&("done"===ue||"store"===ue)||ue in ce};function Dn(ce){return"function"==typeof ce?function xn(ce){return ce!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ue(){return ee||(ee=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(ce)?function(...ue){return ce.apply(at(this),ue),Se(ne.get(this))}:function(...ue){return Se(ce.apply(at(this),ue))}:function(ue,...Me){const Ye=ce.call(at(this),ue,...Me);return Re.set(Ye,ue.sort?ue.sort():[ue]),Se(Ye)}}(ce):(ce instanceof IDBTransaction&&function $e(ce){if(ae.has(ce))return;const ue=new Promise((Me,Ye)=>{const Et=()=>{ce.removeEventListener("complete",st),ce.removeEventListener("error",en),ce.removeEventListener("abort",en)},st=()=>{Me(),Et()},en=()=>{Ye(ce.error||new DOMException("AbortError","AbortError")),Et()};ce.addEventListener("complete",st),ce.addEventListener("error",en),ce.addEventListener("abort",en)});ae.set(ce,ue)}(ce),fe(ce,function Ae(){return J||(J=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(ce,jt):ce)}function Se(ce){if(ce instanceof IDBRequest)return function pt(ce){const ue=new Promise((Me,Ye)=>{const Et=()=>{ce.removeEventListener("success",st),ce.removeEventListener("error",en)},st=()=>{Me(Se(ce.result)),Et()},en=()=>{Ye(ce.error),Et()};ce.addEventListener("success",st),ce.addEventListener("error",en)});return ue.then(Me=>{Me instanceof IDBCursor&&ne.set(Me,ce)}).catch(()=>{}),Ie.set(ue,ce),ue}(ce);if(Ke.has(ce))return Ke.get(ce);const ue=Dn(ce);return ue!==ce&&(Ke.set(ce,ue),Ie.set(ue,ce)),ue}const at=ce=>Ie.get(ce),mt=["get","getKey","getAll","getAllKeys","count"],dt=["put","add","delete","clear"],Qt=new Map;function un(ce,ue){if(!(ce instanceof IDBDatabase)||ue in ce||"string"!=typeof ue)return;if(Qt.get(ue))return Qt.get(ue);const Me=ue.replace(/FromIndex$/,""),Ye=ue!==Me,Et=dt.includes(Me);if(!(Me in(Ye?IDBIndex:IDBObjectStore).prototype)||!Et&&!mt.includes(Me))return;const st=function(){var en=(0,C.A)(function*(qn,...Bn){const Sn=this.transaction(qn,Et?"readwrite":"readonly");let mi=Sn.store;return Ye&&(mi=mi.index(Bn.shift())),(yield Promise.all([mi[Me](...Bn),Et&&Sn.done]))[0]});return function(Bn){return en.apply(this,arguments)}}();return Qt.set(ue,st),st}!function Lt(ce){jt=ce(jt)}(ce=>({...ce,get:(ue,Me,Ye)=>un(ue,Me)||ce.get(ue,Me,Ye),has:(ue,Me)=>!!un(ue,Me)||ce.has(ue,Me)}));class wn{constructor(ue){this.container=ue}getPlatformInfoString(){return this.container.getProviders().map(Me=>{if(function cr(ce){const ue=ce.getComponent();return"VERSION"===ue?.type}(Me)){const Ye=Me.getImmediate();return`${Ye.library}/${Ye.version}`}return null}).filter(Me=>Me).join(" ")}}const ut="@firebase/app",$n=new he.Vy("@firebase/app"),Xt="[DEFAULT]",vn={[ut]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},pn=new Map,On=new Map;function pr(ce,ue){try{ce.container.addComponent(ue)}catch(Me){$n.debug(`Component ${ue.name} failed to register with FirebaseApp ${ce.name}`,Me)}}function lr(ce,ue){ce.container.addOrOverwriteComponent(ue)}function $t(ce){const ue=ce.name;if(On.has(ue))return $n.debug(`There were multiple attempts to register component ${ue}.`),!1;On.set(ue,ce);for(const Me of pn.values())pr(Me,ce);return!0}function Yn(ce,ue){const Me=ce.container.getProvider("heartbeat").getImmediate({optional:!0});return Me&&Me.triggerHeartbeat(),ce.container.getProvider(ue)}function oi(ce,ue,Me=Xt){Yn(ce,ue).clearInstance(Me)}function Ut(){On.clear()}const hn=new _e.FA("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class fi{constructor(ue,Me,Ye){this._isDeleted=!1,this._options=Object.assign({},ue),this._config=Object.assign({},Me),this._name=Me.name,this._automaticDataCollectionEnabled=Me.automaticDataCollectionEnabled,this._container=Ye,this.container.addComponent(new se.uA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ue){this.checkDestroyed(),this._automaticDataCollectionEnabled=ue}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(ue){this._isDeleted=ue}checkDestroyed(){if(this.isDeleted)throw hn.create("app-deleted",{appName:this._name})}}const pi="9.23.0";function Ri(ce,ue={}){let Me=ce;"object"!=typeof ue&&(ue={name:ue});const Ye=Object.assign({name:Xt,automaticDataCollectionEnabled:!1},ue),Et=Ye.name;if("string"!=typeof Et||!Et)throw hn.create("bad-app-name",{appName:String(Et)});if(Me||(Me=(0,_e.T9)()),!Me)throw hn.create("no-options");const st=pn.get(Et);if(st){if((0,_e.bD)(Me,st.options)&&(0,_e.bD)(Ye,st.config))return st;throw hn.create("duplicate-app",{appName:Et})}const en=new se.h1(Et);for(const Bn of On.values())en.addComponent(Bn);const qn=new fi(Me,Ye,en);return pn.set(Et,qn),qn}function Ar(ce=Xt){const ue=pn.get(ce);if(!ue&&ce===Xt&&(0,_e.T9)())return Ri();if(!ue)throw hn.create("no-app",{appName:ce});return ue}function Vr(){return Array.from(pn.values())}function Kr(ce){return Bi.apply(this,arguments)}function Bi(){return(Bi=(0,C.A)(function*(ce){const ue=ce.name;pn.has(ue)&&(pn.delete(ue),yield Promise.all(ce.container.getProviders().map(Me=>Me.delete())),ce.isDeleted=!0)})).apply(this,arguments)}function gi(ce,ue,Me){var Ye;let Et=null!==(Ye=vn[ce])&&void 0!==Ye?Ye:ce;Me&&(Et+=`-${Me}`);const st=Et.match(/\s|\//),en=ue.match(/\s|\//);if(st||en){const qn=[`Unable to register library "${Et}" with version "${ue}":`];return st&&qn.push(`library name "${Et}" contains illegal characters (whitespace or "/")`),st&&en&&qn.push("and"),en&&qn.push(`version name "${ue}" contains illegal characters (whitespace or "/")`),void $n.warn(qn.join(" "))}$t(new se.uA(`${Et}-version`,()=>({library:Et,version:ue}),"VERSION"))}function ai(ce,ue){if(null!==ce&&"function"!=typeof ce)throw hn.create("invalid-log-argument");(0,he.Ey)(ce,ue)}function zn(ce){(0,he.He)(ce)}const Ln="firebase-heartbeat-database",Sr=1,ge="firebase-heartbeat-store";let W=null;function Y(){return W||(W=function Ne(ce,ue,{blocked:Me,upgrade:Ye,blocking:Et,terminated:st}={}){const en=indexedDB.open(ce,ue),qn=Se(en);return Ye&&en.addEventListener("upgradeneeded",Bn=>{Ye(Se(en.result),Bn.oldVersion,Bn.newVersion,Se(en.transaction),Bn)}),Me&&en.addEventListener("blocked",Bn=>Me(Bn.oldVersion,Bn.newVersion,Bn)),qn.then(Bn=>{st&&Bn.addEventListener("close",()=>st()),Et&&Bn.addEventListener("versionchange",Sn=>Et(Sn.oldVersion,Sn.newVersion,Sn))}).catch(()=>{}),qn}(Ln,Sr,{upgrade:(ce,ue)=>{0===ue&&ce.createObjectStore(ge)}}).catch(ce=>{throw hn.create("idb-open",{originalErrorMessage:ce.message})})),W}function K(){return(K=(0,C.A)(function*(ce){try{return yield(yield Y()).transaction(ge).objectStore(ge).get(Mt(ce))}catch(ue){if(ue instanceof _e.g)$n.warn(ue.message);else{const Me=hn.create("idb-get",{originalErrorMessage:ue?.message});$n.warn(Me.message)}}})).apply(this,arguments)}function Te(ce,ue){return tt.apply(this,arguments)}function tt(){return(tt=(0,C.A)(function*(ce,ue){try{const Ye=(yield Y()).transaction(ge,"readwrite");yield Ye.objectStore(ge).put(ue,Mt(ce)),yield Ye.done}catch(Me){if(Me instanceof _e.g)$n.warn(Me.message);else{const Ye=hn.create("idb-set",{originalErrorMessage:Me?.message});$n.warn(Ye.message)}}})).apply(this,arguments)}function Mt(ce){return`${ce.name}!${ce.options.appId}`}class Yt{constructor(ue){this.container=ue,this._heartbeatsCache=null;const Me=this.container.getProvider("app").getImmediate();this._storage=new be(Me),this._heartbeatsCachePromise=this._storage.read().then(Ye=>(this._heartbeatsCache=Ye,Ye))}triggerHeartbeat(){var ue=this;return(0,C.A)(function*(){const Ye=ue.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Et=gn();if(null===ue._heartbeatsCache&&(ue._heartbeatsCache=yield ue._heartbeatsCachePromise),ue._heartbeatsCache.lastSentHeartbeatDate!==Et&&!ue._heartbeatsCache.heartbeats.some(st=>st.date===Et))return ue._heartbeatsCache.heartbeats.push({date:Et,agent:Ye}),ue._heartbeatsCache.heartbeats=ue._heartbeatsCache.heartbeats.filter(st=>{const en=new Date(st.date).valueOf();return Date.now()-en<=2592e6}),ue._storage.overwrite(ue._heartbeatsCache)})()}getHeartbeatsHeader(){var ue=this;return(0,C.A)(function*(){if(null===ue._heartbeatsCache&&(yield ue._heartbeatsCachePromise),null===ue._heartbeatsCache||0===ue._heartbeatsCache.heartbeats.length)return"";const Me=gn(),{heartbeatsToSend:Ye,unsentEntries:Et}=function gr(ce,ue=1024){const Me=[];let Ye=ce.slice();for(const Et of ce){const st=Me.find(en=>en.agent===Et.agent);if(st){if(st.dates.push(Et.date),pe(Me)>ue){st.dates.pop();break}}else if(Me.push({agent:Et.agent,dates:[Et.date]}),pe(Me)>ue){Me.pop();break}Ye=Ye.slice(1)}return{heartbeatsToSend:Me,unsentEntries:Ye}}(ue._heartbeatsCache.heartbeats),st=(0,_e.Uj)(JSON.stringify({version:2,heartbeats:Ye}));return ue._heartbeatsCache.lastSentHeartbeatDate=Me,Et.length>0?(ue._heartbeatsCache.heartbeats=Et,yield ue._storage.overwrite(ue._heartbeatsCache)):(ue._heartbeatsCache.heartbeats=[],ue._storage.overwrite(ue._heartbeatsCache)),st})()}}function gn(){return(new Date).toISOString().substring(0,10)}class be{constructor(ue){this.app=ue,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,C.A)(function*(){return!!(0,_e.zW)()&&(0,_e.eX)().then(()=>!0).catch(()=>!1)})()}read(){var ue=this;return(0,C.A)(function*(){return(yield ue._canUseIndexedDBPromise)&&(yield function Q(ce){return K.apply(this,arguments)}(ue.app))||{heartbeats:[]}})()}overwrite(ue){var Me=this;return(0,C.A)(function*(){var Ye;if(yield Me._canUseIndexedDBPromise){const st=yield Me.read();return Te(Me.app,{lastSentHeartbeatDate:null!==(Ye=ue.lastSentHeartbeatDate)&&void 0!==Ye?Ye:st.lastSentHeartbeatDate,heartbeats:ue.heartbeats})}})()}add(ue){var Me=this;return(0,C.A)(function*(){var Ye;if(yield Me._canUseIndexedDBPromise){const st=yield Me.read();return Te(Me.app,{lastSentHeartbeatDate:null!==(Ye=ue.lastSentHeartbeatDate)&&void 0!==Ye?Ye:st.lastSentHeartbeatDate,heartbeats:[...st.heartbeats,...ue.heartbeats]})}})()}}function pe(ce){return(0,_e.Uj)(JSON.stringify({version:2,heartbeats:ce})).length}!function ve(ce){$t(new se.uA("platform-logger",ue=>new wn(ue),"PRIVATE")),$t(new se.uA("heartbeat",ue=>new Yt(ue),"PRIVATE")),gi(ut,"0.9.13",ce),gi(ut,"0.9.13","esm2017"),gi("fire-js","")}("")},1362:(Vt,je,B)=>{B.d(je,{h1:()=>Ae,uA:()=>he});var C=B(467),se=B(1076);class he{constructor(ne,ae,Re){this.name=ne,this.instanceFactory=ae,this.type=Re,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(ne){return this.instantiationMode=ne,this}setMultipleInstances(ne){return this.multipleInstances=ne,this}setServiceProps(ne){return this.serviceProps=ne,this}setInstanceCreatedCallback(ne){return this.onInstanceCreated=ne,this}}const _e="[DEFAULT]";class fe{constructor(ne,ae){this.name=ne,this.container=ae,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(ne){const ae=this.normalizeInstanceIdentifier(ne);if(!this.instancesDeferred.has(ae)){const Re=new se.cY;if(this.instancesDeferred.set(ae,Re),this.isInitialized(ae)||this.shouldAutoInitialize())try{const Ke=this.getOrInitializeService({instanceIdentifier:ae});Ke&&Re.resolve(Ke)}catch{}}return this.instancesDeferred.get(ae).promise}getImmediate(ne){var ae;const Re=this.normalizeInstanceIdentifier(ne?.identifier),Ke=null!==(ae=ne?.optional)&&void 0!==ae&&ae;if(!this.isInitialized(Re)&&!this.shouldAutoInitialize()){if(Ke)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Re})}catch(Ie){if(Ke)return null;throw Ie}}getComponent(){return this.component}setComponent(ne){if(ne.name!==this.name)throw Error(`Mismatching Component ${ne.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=ne,this.shouldAutoInitialize()){if(function ee(Ue){return"EAGER"===Ue.instantiationMode}(ne))try{this.getOrInitializeService({instanceIdentifier:_e})}catch{}for(const[ae,Re]of this.instancesDeferred.entries()){const Ke=this.normalizeInstanceIdentifier(ae);try{const Ie=this.getOrInitializeService({instanceIdentifier:Ke});Re.resolve(Ie)}catch{}}}}clearInstance(ne=_e){this.instancesDeferred.delete(ne),this.instancesOptions.delete(ne),this.instances.delete(ne)}delete(){var ne=this;return(0,C.A)(function*(){const ae=Array.from(ne.instances.values());yield Promise.all([...ae.filter(Re=>"INTERNAL"in Re).map(Re=>Re.INTERNAL.delete()),...ae.filter(Re=>"_delete"in Re).map(Re=>Re._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(ne=_e){return this.instances.has(ne)}getOptions(ne=_e){return this.instancesOptions.get(ne)||{}}initialize(ne={}){const{options:ae={}}=ne,Re=this.normalizeInstanceIdentifier(ne.instanceIdentifier);if(this.isInitialized(Re))throw Error(`${this.name}(${Re}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ke=this.getOrInitializeService({instanceIdentifier:Re,options:ae});for(const[Ie,pt]of this.instancesDeferred.entries())Re===this.normalizeInstanceIdentifier(Ie)&&pt.resolve(Ke);return Ke}onInit(ne,ae){var Re;const Ke=this.normalizeInstanceIdentifier(ae),Ie=null!==(Re=this.onInitCallbacks.get(Ke))&&void 0!==Re?Re:new Set;Ie.add(ne),this.onInitCallbacks.set(Ke,Ie);const pt=this.instances.get(Ke);return pt&&ne(pt,Ke),()=>{Ie.delete(ne)}}invokeOnInitCallbacks(ne,ae){const Re=this.onInitCallbacks.get(ae);if(Re)for(const Ke of Re)try{Ke(ne,ae)}catch{}}getOrInitializeService({instanceIdentifier:ne,options:ae={}}){let Re=this.instances.get(ne);if(!Re&&this.component&&(Re=this.component.instanceFactory(this.container,{instanceIdentifier:(Ue=ne,Ue===_e?void 0:Ue),options:ae}),this.instances.set(ne,Re),this.instancesOptions.set(ne,ae),this.invokeOnInitCallbacks(Re,ne),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ne,Re)}catch{}var Ue;return Re||null}normalizeInstanceIdentifier(ne=_e){return this.component?this.component.multipleInstances?ne:_e:ne}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ae{constructor(ne){this.name=ne,this.providers=new Map}addComponent(ne){const ae=this.getProvider(ne.name);if(ae.isComponentSet())throw new Error(`Component ${ne.name} has already been registered with ${this.name}`);ae.setComponent(ne)}addOrOverwriteComponent(ne){this.getProvider(ne.name).isComponentSet()&&this.providers.delete(ne.name),this.addComponent(ne)}getProvider(ne){if(this.providers.has(ne))return this.providers.get(ne);const ae=new fe(ne,this);return this.providers.set(ne,ae),ae}getProviders(){return Array.from(this.providers.values())}}},8041:(Vt,je,B)=>{B.d(je,{$b:()=>se,Ey:()=>Ue,He:()=>Ae,Vy:()=>ee});const C=[];var se=function(ne){return ne[ne.DEBUG=0]="DEBUG",ne[ne.VERBOSE=1]="VERBOSE",ne[ne.INFO=2]="INFO",ne[ne.WARN=3]="WARN",ne[ne.ERROR=4]="ERROR",ne[ne.SILENT=5]="SILENT",ne}(se||{});const he={debug:se.DEBUG,verbose:se.VERBOSE,info:se.INFO,warn:se.WARN,error:se.ERROR,silent:se.SILENT},_e=se.INFO,fe={[se.DEBUG]:"log",[se.VERBOSE]:"log",[se.INFO]:"info",[se.WARN]:"warn",[se.ERROR]:"error"},J=(ne,ae,...Re)=>{if(ae<ne.logLevel)return;const Ke=(new Date).toISOString(),Ie=fe[ae];if(!Ie)throw new Error(`Attempted to log a message with an invalid logType (value: ${ae})`);console[Ie](`[${Ke}]  ${ne.name}:`,...Re)};class ee{constructor(ae){this.name=ae,this._logLevel=_e,this._logHandler=J,this._userLogHandler=null,C.push(this)}get logLevel(){return this._logLevel}set logLevel(ae){if(!(ae in se))throw new TypeError(`Invalid value "${ae}" assigned to \`logLevel\``);this._logLevel=ae}setLogLevel(ae){this._logLevel="string"==typeof ae?he[ae]:ae}get logHandler(){return this._logHandler}set logHandler(ae){if("function"!=typeof ae)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ae}get userLogHandler(){return this._userLogHandler}set userLogHandler(ae){this._userLogHandler=ae}debug(...ae){this._userLogHandler&&this._userLogHandler(this,se.DEBUG,...ae),this._logHandler(this,se.DEBUG,...ae)}log(...ae){this._userLogHandler&&this._userLogHandler(this,se.VERBOSE,...ae),this._logHandler(this,se.VERBOSE,...ae)}info(...ae){this._userLogHandler&&this._userLogHandler(this,se.INFO,...ae),this._logHandler(this,se.INFO,...ae)}warn(...ae){this._userLogHandler&&this._userLogHandler(this,se.WARN,...ae),this._logHandler(this,se.WARN,...ae)}error(...ae){this._userLogHandler&&this._userLogHandler(this,se.ERROR,...ae),this._logHandler(this,se.ERROR,...ae)}}function Ae(ne){C.forEach(ae=>{ae.setLogLevel(ne)})}function Ue(ne,ae){for(const Re of C){let Ke=null;ae&&ae.level&&(Ke=he[ae.level]),Re.userLogHandler=null===ne?null:(Ie,pt,...$e)=>{const jt=$e.map(Lt=>{if(null==Lt)return null;if("string"==typeof Lt)return Lt;if("number"==typeof Lt||"boolean"==typeof Lt)return Lt.toString();if(Lt instanceof Error)return Lt.message;try{return JSON.stringify(Lt)}catch{return null}}).filter(Lt=>Lt).join(" ");pt>=(Ke??Ie.logLevel)&&ne({level:se[pt].toLowerCase(),message:jt,args:$e,type:Ie.name})}}}},2214:(Vt,je,B)=>{B.d(je,{Dk:()=>C.getApps,KO:()=>C.registerVersion,Sx:()=>C.getApp,Wp:()=>C.initializeApp});var C=B(7852);(0,C.registerVersion)("firebase","9.23.0","app")},467:(Vt,je,B)=>{function C(he,_e,fe,J,ee,Ae,Ue){try{var ne=he[Ae](Ue),ae=ne.value}catch(Re){return void fe(Re)}ne.done?_e(ae):Promise.resolve(ae).then(J,ee)}function se(he){return function(){var _e=this,fe=arguments;return new Promise(function(J,ee){var Ae=he.apply(_e,fe);function Ue(ae){C(Ae,J,ee,Ue,ne,"next",ae)}function ne(ae){C(Ae,J,ee,Ue,ne,"throw",ae)}Ue(void 0)})}}B.d(je,{A:()=>se})},1635:(Vt,je,B)=>{function _e(Fe,He){var Ve={};for(var Je in Fe)Object.prototype.hasOwnProperty.call(Fe,Je)&&He.indexOf(Je)<0&&(Ve[Je]=Fe[Je]);if(null!=Fe&&"function"==typeof Object.getOwnPropertySymbols){var it=0;for(Je=Object.getOwnPropertySymbols(Fe);it<Je.length;it++)He.indexOf(Je[it])<0&&Object.prototype.propertyIsEnumerable.call(Fe,Je[it])&&(Ve[Je[it]]=Fe[Je[it]])}return Ve}function Re(Fe,He,Ve,Je){return new(Ve||(Ve=Promise))(function(ze,Dt){function ht(on){try{Ot(Je.next(on))}catch(An){Dt(An)}}function bn(on){try{Ot(Je.throw(on))}catch(An){Dt(An)}}function Ot(on){on.done?ze(on.value):function it(ze){return ze instanceof Ve?ze:new Ve(function(Dt){Dt(ze)})}(on.value).then(ht,bn)}Ot((Je=Je.apply(Fe,He||[])).next())})}function Se(Fe){return this instanceof Se?(this.v=Fe,this):new Se(Fe)}function at(Fe,He,Ve){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var it,Je=Ve.apply(Fe,He||[]),ze=[];return it=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),ht("next"),ht("throw"),ht("return",function Dt(Zt){return function(fr){return Promise.resolve(fr).then(Zt,An)}}),it[Symbol.asyncIterator]=function(){return this},it;function ht(Zt,fr){Je[Zt]&&(it[Zt]=function(Xn){return new Promise(function(Ir,sr){ze.push([Zt,Xn,Ir,sr])>1||bn(Zt,Xn)})},fr&&(it[Zt]=fr(it[Zt])))}function bn(Zt,fr){try{!function Ot(Zt){Zt.value instanceof Se?Promise.resolve(Zt.value.v).then(on,An):_r(ze[0][2],Zt)}(Je[Zt](fr))}catch(Xn){_r(ze[0][3],Xn)}}function on(Zt){bn("next",Zt)}function An(Zt){bn("throw",Zt)}function _r(Zt,fr){Zt(fr),ze.shift(),ze.length&&bn(ze[0][0],ze[0][1])}}function et(Fe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ve,He=Fe[Symbol.asyncIterator];return He?He.call(Fe):(Fe=function $e(Fe){var He="function"==typeof Symbol&&Symbol.iterator,Ve=He&&Fe[He],Je=0;if(Ve)return Ve.call(Fe);if(Fe&&"number"==typeof Fe.length)return{next:function(){return Fe&&Je>=Fe.length&&(Fe=void 0),{value:Fe&&Fe[Je++],done:!Fe}}};throw new TypeError(He?"Object is not iterable.":"Symbol.iterator is not defined.")}(Fe),Ve={},Je("next"),Je("throw"),Je("return"),Ve[Symbol.asyncIterator]=function(){return this},Ve);function Je(ze){Ve[ze]=Fe[ze]&&function(Dt){return new Promise(function(ht,bn){!function it(ze,Dt,ht,bn){Promise.resolve(bn).then(function(Ot){ze({value:Ot,done:ht})},Dt)}(ht,bn,(Dt=Fe[ze](Dt)).done,Dt.value)})}}}B.d(je,{AQ:()=>at,N3:()=>Se,Tt:()=>_e,sH:()=>Re,xN:()=>et}),"function"==typeof SuppressedError&&SuppressedError}},Vt=>{Vt(Vt.s=8722)}]);