"use strict";(self.webpackChunkcoop_app=self.webpackChunkcoop_app||[]).push([[792],{681:(Lt,Le,j)=>{j.d(Le,{kR:()=>kr});var S=j(3531),le=(j(2598),j(8934),j(7037),j(467)),K=j(2979),Q=j(8779),Oe=j(1401),Ne=j(5398);const te=new Map,J={activated:!1,tokenObservers:[]},ve={initialized:!1,enabled:!1};function Ue(ae){return te.get(ae)||Object.assign({},J)}function lt(){return ve}const at="https://content-firebaseappcheck.googleapis.com/v1",qt="exchangeDebugToken",On={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class Je{constructor(ue,Te,Ve,tt,Rt){if(this.operation=ue,this.retryPolicy=Te,this.getWaitDuration=Ve,this.lowerBound=tt,this.upperBound=Rt,this.pending=null,this.nextErrorWaitInterval=tt,tt>Rt)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(ue){var Te=this;return(0,le.A)(function*(){Te.stop();try{Te.pending=new Oe.cY,yield function Me(ae){return new Promise(ue=>{setTimeout(ue,ae)})}(Te.getNextRun(ue)),Te.pending.resolve(),yield Te.pending.promise,Te.pending=new Oe.cY,yield Te.operation(),Te.pending.resolve(),yield Te.pending.promise,Te.process(!0).catch(()=>{})}catch(Ve){Te.retryPolicy(Ve)?Te.process(!1).catch(()=>{}):Te.stop()}})()}getNextRun(ue){if(ue)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const Te=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),Te}}}const st=new Oe.FA("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function St(ae){if(!Ue(ae).activated)throw st.create("use-before-activation",{appName:ae.name})}function Dt(ae,ue){return ke.apply(this,arguments)}function ke(){return(ke=(0,le.A)(function*({url:ae,body:ue},Te){const Ve={"Content-Type":"application/json"},tt=Te.getImmediate({optional:!0});if(tt){const ci=yield tt.getHeartbeatsHeader();ci&&(Ve["X-Firebase-Client"]=ci)}const Rt={method:"POST",body:JSON.stringify(ue),headers:Ve};let mn,ln;try{mn=yield fetch(ae,Rt)}catch(ci){throw st.create("fetch-network-error",{originalErrorMessage:ci?.message})}if(200!==mn.status)throw st.create("fetch-status-error",{httpStatus:mn.status});try{ln=yield mn.json()}catch(ci){throw st.create("fetch-parse-error",{originalErrorMessage:ci?.message})}const Zt=ln.ttl.match(/^([\d.]+)(s)$/);if(!Zt||!Zt[2]||isNaN(Number(Zt[1])))throw st.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${ln.ttl}`});const pi=1e3*Number(Zt[1]),zr=Date.now();return{token:ln.token,expireTimeMillis:zr+pi,issuedAtTimeMillis:zr}})).apply(this,arguments)}function cr(ae,ue){const{projectId:Te,appId:Ve,apiKey:tt}=ae.options;return{url:`${at}/projects/${Te}/apps/${Ve}:${qt}?key=${tt}`,body:{debug_token:ue}}}const Kr="firebase-app-check-database",hn=1,Rn="firebase-app-check-store";let be=null;function _n(){return(_n=(0,le.A)(function*(ae,ue){const Ve=(yield function we(){return be||(be=new Promise((ae,ue)=>{try{const Te=indexedDB.open(Kr,hn);Te.onsuccess=Ve=>{ae(Ve.target.result)},Te.onerror=Ve=>{var tt;ue(st.create("storage-open",{originalErrorMessage:null===(tt=Ve.target.error)||void 0===tt?void 0:tt.message}))},Te.onupgradeneeded=Ve=>{0===Ve.oldVersion&&Ve.target.result.createObjectStore(Rn,{keyPath:"compositeKey"})}}catch(Te){ue(st.create("storage-open",{originalErrorMessage:Te?.message}))}}),be)}()).transaction(Rn,"readwrite"),Rt=Ve.objectStore(Rn).put({compositeKey:ae,value:ue});return new Promise((mn,ln)=>{Rt.onsuccess=Zt=>{mn()},Ve.onerror=Zt=>{var pi;ln(st.create("storage-set",{originalErrorMessage:null===(pi=Zt.target.error)||void 0===pi?void 0:pi.message}))}})})).apply(this,arguments)}const Et=new Ne.Vy("@firebase/app-check");function Bn(ae,ue){return(0,Oe.zW)()?function ze(ae,ue){return function Ft(ae,ue){return _n.apply(this,arguments)}(function Yt(ae){return`${ae.options.appId}-${ae.name}`}(ae),ue)}(ae,ue).catch(Te=>{Et.warn(`Failed to write token to IndexedDB. Error: ${Te}`)}):Promise.resolve()}function ai(){return lt().enabled}function lr(){return Nr.apply(this,arguments)}function Nr(){return(Nr=(0,le.A)(function*(){const ae=lt();if(ae.enabled&&ae.token)return ae.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Gt={error:"UNKNOWN_ERROR"};function Qt(ae){return Oe.K3.encodeString(JSON.stringify(ae),!1)}function rr(ae){return jn.apply(this,arguments)}function jn(){return(jn=(0,le.A)(function*(ae,ue=!1){const Te=ae.app;St(Te);const Ve=Ue(Te);let Rt,tt=Ve.token;if(tt&&!Ai(tt)&&(Ve.token=void 0,tt=void 0),!tt){const Zt=yield Ve.cachedTokenPromise;Zt&&(Ai(Zt)?tt=Zt:yield Bn(Te,void 0))}if(!ue&&tt&&Ai(tt))return{token:tt.token};let ln,mn=!1;if(ai()){Ve.exchangeTokenPromise||(Ve.exchangeTokenPromise=Dt(cr(Te,yield lr()),ae.heartbeatServiceProvider).finally(()=>{Ve.exchangeTokenPromise=void 0}),mn=!0);const Zt=yield Ve.exchangeTokenPromise;return yield Bn(Te,Zt),Ve.token=Zt,{token:Zt.token}}try{Ve.exchangeTokenPromise||(Ve.exchangeTokenPromise=Ve.provider.getToken().finally(()=>{Ve.exchangeTokenPromise=void 0}),mn=!0),tt=yield Ue(Te).exchangeTokenPromise}catch(Zt){"appCheck/throttled"===Zt.code?Et.warn(Zt.message):Et.error(Zt),Rt=Zt}return tt?Rt?ln=Ai(tt)?{token:tt.token,internalError:Rt}:pn(Rt):(ln={token:tt.token},Ve.token=tt,yield Bn(Te,tt)):ln=pn(Rt),mn&&function rn(ae,ue){const Te=Ue(ae).tokenObservers;for(const Ve of Te)try{"EXTERNAL"===Ve.type&&null!=ue.error?Ve.error(ue.error):Ve.next(ue)}catch{}}(Te,ln),ln})).apply(this,arguments)}function Cr(ae){return br.apply(this,arguments)}function br(){return(br=(0,le.A)(function*(ae){const ue=ae.app;St(ue);const{provider:Te}=Ue(ue);if(ai()){const Ve=yield lr(),{token:tt}=yield Dt(cr(ue,Ve),ae.heartbeatServiceProvider);return{token:tt}}{const{token:Ve}=yield Te.getToken();return{token:Ve}}})).apply(this,arguments)}function Or(ae,ue){const Te=Ue(ae),Ve=Te.tokenObservers.filter(tt=>tt.next!==ue);0===Ve.length&&Te.tokenRefresher&&Te.tokenRefresher.isRunning()&&Te.tokenRefresher.stop(),Te.tokenObservers=Ve}function wn(ae){const{app:ue}=ae,Te=Ue(ue);let Ve=Te.tokenRefresher;Ve||(Ve=function Jn(ae){const{app:ue}=ae;return new Je((0,le.A)(function*(){let Ve;if(Ve=Ue(ue).token?yield rr(ae,!0):yield rr(ae),Ve.error)throw Ve.error;if(Ve.internalError)throw Ve.internalError}),()=>!0,()=>{const Te=Ue(ue);if(Te.token){let Ve=Te.token.issuedAtTimeMillis+.5*(Te.token.expireTimeMillis-Te.token.issuedAtTimeMillis)+3e5;return Ve=Math.min(Ve,Te.token.expireTimeMillis-3e5),Math.max(0,Ve-Date.now())}return 0},On.RETRIAL_MIN_WAIT,On.RETRIAL_MAX_WAIT)}(ae),Te.tokenRefresher=Ve),!Ve.isRunning()&&Te.isTokenAutoRefreshEnabled&&Ve.start()}function Ai(ae){return ae.expireTimeMillis-Date.now()>0}function pn(ae){return{token:Qt(Gt),error:ae}}class Ei{constructor(ue,Te){this.app=ue,this.heartbeatServiceProvider=Te}_delete(){const{tokenObservers:ue}=Ue(this.app);for(const Te of ue)Or(this.app,Te.next);return Promise.resolve()}}const xt="app-check-internal";!function jt(){(0,K.om)(new Q.uA("app-check",ae=>function sn(ae,ue){return new Ei(ae,ue)}(ae.getProvider("app").getImmediate(),ae.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((ae,ue,Te)=>{ae.getProvider(xt).initialize()})),(0,K.om)(new Q.uA(xt,ae=>function Xt(ae){return{getToken:ue=>rr(ae,ue),getLimitedUseToken:()=>Cr(ae),addTokenListener:ue=>function kt(ae,ue,Te,Ve){const{app:tt}=ae,Rt=Ue(tt);if(Rt.tokenObservers=[...Rt.tokenObservers,{next:Te,error:Ve,type:ue}],Rt.token&&Ai(Rt.token)){const ln=Rt.token;Promise.resolve().then(()=>{Te({token:ln.token}),wn(ae)}).catch(()=>{})}Rt.cachedTokenPromise.then(()=>wn(ae))}(ae,"INTERNAL",ue),removeTokenListener:ue=>Or(ae.app,ue)}}(ae.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,K.KO)("@firebase/app-check","0.8.0")}();class kr{constructor(){return(0,S.CA)("app-check")}}typeof window<"u"&&window},8934:(Lt,Le,j)=>{j.d(Le,{MW:()=>Ue,Wp:()=>mt,XU:()=>ge,gL:()=>le});var S=j(7037),ne=j(2598),se=j(3531);class ge{constructor(Je){return Je}}class le{constructor(){return(0,S.Dk)()}}const Oe=new ne.nKC("angularfire2._apps"),Ne={provide:ge,useFactory:function Q(et){return et&&1===et.length?et[0]:new ge((0,S.Sx)())},deps:[[new ne.Xx1,Oe]]},te={provide:le,deps:[[new ne.Xx1,Oe]]};function J(et){return(Je,Me)=>{const it=Je.runOutsideAngular(()=>et(Me));return new ge(it)}}let ve=(()=>{class et{constructor(Me){(0,S.KO)("angularfire",se.xv.full,"core"),(0,S.KO)("angularfire",se.xv.full,"app"),(0,S.KO)("angular",ne.xvI.full,Me.toString())}}return et.\u0275fac=function(Me){return new(Me||et)(ne.KVO(ne.Agw))},et.\u0275mod=ne.$C({type:et}),et.\u0275inj=ne.G2t({providers:[Ne,te]}),et})();function Ue(et,...Je){return{ngModule:ve,providers:[{provide:Oe,useFactory:J(et),multi:!0,deps:[ne.SKi,ne.zZn,se.u0,...Je]}]}}const mt=(0,se.S3)(S.Wp,!0)},9676:(Lt,Le,j)=>{j.d(Le,{Nj:()=>Wu,DF:()=>Sl,xI:()=>gm,_q:()=>mu,x9:()=>Fl,CI:()=>Sa});var S=j(3531),ne=j(2598),se=j(8934),ge=j(7037),le=j(681),K=j(467),Q=j(1401),Oe=j(2979),Ne=j(1635),te=j(5398),J=j(8779);const On=function Bt(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},et=new Q.FA("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Me=new te.Vy("@firebase/auth");function st(I,...h){Me.logLevel<=te.$b.ERROR&&Me.error(`Auth (${Oe.MF}): ${I}`,...h)}function Xe(I,...h){throw Dt(I,...h)}function St(I,...h){return Dt(I,...h)}function Dt(I,...h){if("string"!=typeof I){const p=h[0],T=[...h.slice(1)];return T[0]&&(T[0].appName=I.name),I._errorFactory.create(p,...T)}return et.create(I,...h)}function ke(I,h,...p){if(!I)throw Dt(h,...p)}function Pt(I){const h="INTERNAL ASSERTION FAILED: "+I;throw st(h),new Error(h)}function xn(I,h){I||Pt(h)}function cr(){var I;return typeof self<"u"&&(null===(I=self.location)||void 0===I?void 0:I.href)||""}function hn(){var I;return typeof self<"u"&&(null===(I=self.location)||void 0===I?void 0:I.protocol)||null}class be{constructor(h,p){this.shortDelay=h,this.longDelay=p,xn(p>h,"Short delay should be less than long delay!"),this.isMobile=(0,Q.jZ)()||(0,Q.lV)()}get(){return function Rn(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function Kr(){return"http:"===hn()||"https:"===hn()}()||(0,Q.sr)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function we(I,h){xn(I.emulator,"Emulator should always be set here");const{url:p}=I.emulator;return h?`${p}${h.startsWith("/")?h.slice(1):h}`:p}class xe{static initialize(h,p,T){this.fetchImpl=h,p&&(this.headersImpl=p),T&&(this.responseImpl=T)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Pt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Pt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Pt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ze={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},He=new be(3e4,6e4);function ot(I,h){return I.tenantId&&!h.tenantId?Object.assign(Object.assign({},h),{tenantId:I.tenantId}):h}function Ft(I,h,p,T){return _n.apply(this,arguments)}function _n(){return(_n=(0,K.A)(function*(I,h,p,T,L={}){return Ut(I,L,(0,K.A)(function*(){let W={},oe={};T&&("GET"===h?oe=T:W={body:JSON.stringify(T)});const Ae=(0,Q.Am)(Object.assign({key:I.config.apiKey},oe)).slice(1),ut=yield I._getAdditionalHeaders();return ut["Content-Type"]="application/json",I.languageCode&&(ut["X-Firebase-Locale"]=I.languageCode),xe.fetch()(en(I,I.config.apiHost,p,Ae),Object.assign({method:h,headers:ut,referrerPolicy:"no-referrer"},W))}))})).apply(this,arguments)}function Ut(I,h,p){return In.apply(this,arguments)}function In(){return(In=(0,K.A)(function*(I,h,p){I._canInitEmulator=!1;const T=Object.assign(Object.assign({},ze),h);try{const L=new Yn(I),W=yield Promise.race([p(),L.promise]);L.clearNetworkTimeout();const oe=yield W.json();if("needConfirmation"in oe)throw Bn(I,"account-exists-with-different-credential",oe);if(W.ok&&!("errorMessage"in oe))return oe;{const Ae=W.ok?oe.errorMessage:oe.error.message,[ut,At]=Ae.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===ut)throw Bn(I,"credential-already-in-use",oe);if("EMAIL_EXISTS"===ut)throw Bn(I,"email-already-in-use",oe);if("USER_DISABLED"===ut)throw Bn(I,"user-disabled",oe);const Vt=T[ut]||ut.toLowerCase().replace(/[_\s]+/g,"-");if(At)throw function Ye(I,h,p){const T=Object.assign(Object.assign({},On()),{[h]:p});return new Q.FA("auth","Firebase",T).create(h,{appName:I.name})}(I,Vt,At);Xe(I,Vt)}}catch(L){if(L instanceof Q.g)throw L;Xe(I,"network-request-failed",{message:String(L)})}})).apply(this,arguments)}function Yt(I,h,p,T){return Et.apply(this,arguments)}function Et(){return(Et=(0,K.A)(function*(I,h,p,T,L={}){const W=yield Ft(I,h,p,T,L);return"mfaPendingCredential"in W&&Xe(I,"multi-factor-auth-required",{_serverResponse:W}),W})).apply(this,arguments)}function en(I,h,p,T){const L=`${h}${p}?${T}`;return I.config.emulator?we(I.config,L):`${I.config.apiScheme}://${L}`}class Yn{constructor(h){this.auth=h,this.timer=null,this.promise=new Promise((p,T)=>{this.timer=setTimeout(()=>T(St(this.auth,"network-request-failed")),He.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Bn(I,h,p){const T={appName:I.name};p.email&&(T.email=p.email),p.phoneNumber&&(T.phoneNumber=p.phoneNumber);const L=St(I,h,T);return L.customData._tokenResponse=p,L}function Pn(){return(Pn=(0,K.A)(function*(I,h){return Ft(I,"POST","/v1/accounts:delete",h)})).apply(this,arguments)}function Zn(){return(Zn=(0,K.A)(function*(I,h){return Ft(I,"POST","/v1/accounts:lookup",h)})).apply(this,arguments)}function Gt(I){if(I)try{const h=new Date(Number(I));if(!isNaN(h.getTime()))return h.toUTCString()}catch{}}function jn(){return(jn=(0,K.A)(function*(I,h=!1){const p=(0,Q.Ku)(I),T=yield p.getIdToken(h),L=br(T);ke(L&&L.exp&&L.auth_time&&L.iat,p.auth,"internal-error");const W="object"==typeof L.firebase?L.firebase:void 0,oe=W?.sign_in_provider;return{claims:L,token:T,authTime:Gt(Cr(L.auth_time)),issuedAtTime:Gt(Cr(L.iat)),expirationTime:Gt(Cr(L.exp)),signInProvider:oe||null,signInSecondFactor:W?.sign_in_second_factor||null}})).apply(this,arguments)}function Cr(I){return 1e3*Number(I)}function br(I){const[h,p,T]=I.split(".");if(void 0===h||void 0===p||void 0===T)return st("JWT malformed, contained fewer than 3 sections"),null;try{const L=(0,Q.u)(p);return L?JSON.parse(L):(st("Failed to decode base64 JWT payload"),null)}catch(L){return st("Caught error parsing JWT payload as JSON",L?.toString()),null}}function Or(I,h){return wn.apply(this,arguments)}function wn(){return(wn=(0,K.A)(function*(I,h,p=!1){if(p)return h;try{return yield h}catch(T){throw T instanceof Q.g&&function Jn({code:I}){return"auth/user-disabled"===I||"auth/user-token-expired"===I}(T)&&I.auth.currentUser===I&&(yield I.auth.signOut()),T}})).apply(this,arguments)}class rn{constructor(h){this.user=h,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(h){var p;if(h){const T=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),T}{this.errorBackoff=3e4;const L=(null!==(p=this.user.stsTokenManager.expirationTime)&&void 0!==p?p:0)-Date.now()-3e5;return Math.max(0,L)}}schedule(h=!1){var p=this;if(!this.isRunning)return;const T=this.getInterval(h);this.timerId=setTimeout((0,K.A)(function*(){yield p.iteration()}),T)}iteration(){var h=this;return(0,K.A)(function*(){try{yield h.user.getIdToken(!0)}catch(p){return void("auth/network-request-failed"===p?.code&&h.schedule(!0))}h.schedule()})()}}class Ai{constructor(h,p){this.createdAt=h,this.lastLoginAt=p,this._initializeTime()}_initializeTime(){this.lastSignInTime=Gt(this.lastLoginAt),this.creationTime=Gt(this.createdAt)}_copy(h){this.createdAt=h.createdAt,this.lastLoginAt=h.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function pn(I){return Ei.apply(this,arguments)}function Ei(){return Ei=(0,K.A)(function*(I){var h;const p=I.auth,T=yield I.getIdToken(),L=yield Or(I,function Nr(I,h){return Zn.apply(this,arguments)}(p,{idToken:T}));ke(L?.users.length,p,"internal-error");const W=L.users[0];I._notifyReloadListener(W);const oe=null!==(h=W.providerUserInfo)&&void 0!==h&&h.length?function dr(I){return I.map(h=>{var{providerId:p}=h,T=(0,Ne.Tt)(h,["providerId"]);return{providerId:p,uid:T.rawId||"",displayName:T.displayName||null,email:T.email||null,phoneNumber:T.phoneNumber||null,photoURL:T.photoUrl||null}})}(W.providerUserInfo):[],Ae=function Si(I,h){return[...I.filter(T=>!h.some(L=>L.providerId===T.providerId)),...h]}(I.providerData,oe),Vt=!!I.isAnonymous&&!(I.email&&W.passwordHash||Ae?.length),tn={uid:W.localId,displayName:W.displayName||null,photoURL:W.photoUrl||null,email:W.email||null,emailVerified:W.emailVerified||!1,phoneNumber:W.phoneNumber||null,tenantId:W.tenantId||null,providerData:Ae,metadata:new Ai(W.createdAt,W.lastLoginAt),isAnonymous:Vt};Object.assign(I,tn)}),Ei.apply(this,arguments)}function Xt(){return(Xt=(0,K.A)(function*(I){const h=(0,Q.Ku)(I);yield pn(h),yield h.auth._persistUserIfCurrent(h),h.auth._notifyListenersIfCurrent(h)})).apply(this,arguments)}function Pr(){return(Pr=(0,K.A)(function*(I,h){const p=yield Ut(I,{},(0,K.A)(function*(){const T=(0,Q.Am)({grant_type:"refresh_token",refresh_token:h}).slice(1),{tokenApiHost:L,apiKey:W}=I.config,oe=en(I,L,"/v1/token",`key=${W}`),Ae=yield I._getAdditionalHeaders();return Ae["Content-Type"]="application/x-www-form-urlencoded",xe.fetch()(oe,{method:"POST",headers:Ae,body:T})}));return{accessToken:p.access_token,expiresIn:p.expires_in,refreshToken:p.refresh_token}})).apply(this,arguments)}class kn{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(h){ke(h.idToken,"internal-error"),ke(typeof h.idToken<"u","internal-error"),ke(typeof h.refreshToken<"u","internal-error");const p="expiresIn"in h&&typeof h.expiresIn<"u"?Number(h.expiresIn):function kt(I){const h=br(I);return ke(h,"internal-error"),ke(typeof h.exp<"u","internal-error"),ke(typeof h.iat<"u","internal-error"),Number(h.exp)-Number(h.iat)}(h.idToken);this.updateTokensAndExpiration(h.idToken,h.refreshToken,p)}getToken(h){var p=this;return(0,K.A)(function*(T,L=!1){return ke(!p.accessToken||p.refreshToken,T,"user-token-expired"),L||!p.accessToken||p.isExpired?p.refreshToken?(yield p.refresh(T,p.refreshToken),p.accessToken):null:p.accessToken}).apply(this,arguments)}clearRefreshToken(){this.refreshToken=null}refresh(h,p){var T=this;return(0,K.A)(function*(){const{accessToken:L,refreshToken:W,expiresIn:oe}=yield function qr(I,h){return Pr.apply(this,arguments)}(h,p);T.updateTokensAndExpiration(L,W,Number(oe))})()}updateTokensAndExpiration(h,p,T){this.refreshToken=p||null,this.accessToken=h||null,this.expirationTime=Date.now()+1e3*T}static fromJSON(h,p){const{refreshToken:T,accessToken:L,expirationTime:W}=p,oe=new kn;return T&&(ke("string"==typeof T,"internal-error",{appName:h}),oe.refreshToken=T),L&&(ke("string"==typeof L,"internal-error",{appName:h}),oe.accessToken=L),W&&(ke("number"==typeof W,"internal-error",{appName:h}),oe.expirationTime=W),oe}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(h){this.accessToken=h.accessToken,this.refreshToken=h.refreshToken,this.expirationTime=h.expirationTime}_clone(){return Object.assign(new kn,this.toJSON())}_performRefresh(){return Pt("not implemented")}}function gn(I,h){ke("string"==typeof I||typeof I>"u","internal-error",{appName:h})}class _r{constructor(h){var{uid:p,auth:T,stsTokenManager:L}=h,W=(0,Ne.Tt)(h,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new rn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=p,this.auth=T,this.stsTokenManager=L,this.accessToken=L.accessToken,this.displayName=W.displayName||null,this.email=W.email||null,this.emailVerified=W.emailVerified||!1,this.phoneNumber=W.phoneNumber||null,this.photoURL=W.photoURL||null,this.isAnonymous=W.isAnonymous||!1,this.tenantId=W.tenantId||null,this.providerData=W.providerData?[...W.providerData]:[],this.metadata=new Ai(W.createdAt||void 0,W.lastLoginAt||void 0)}getIdToken(h){var p=this;return(0,K.A)(function*(){const T=yield Or(p,p.stsTokenManager.getToken(p.auth,h));return ke(T,p.auth,"internal-error"),p.accessToken!==T&&(p.accessToken=T,yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)),T})()}getIdTokenResult(h){return function rr(I){return jn.apply(this,arguments)}(this,h)}reload(){return function sn(I){return Xt.apply(this,arguments)}(this)}_assign(h){this!==h&&(ke(this.uid===h.uid,this.auth,"internal-error"),this.displayName=h.displayName,this.photoURL=h.photoURL,this.email=h.email,this.emailVerified=h.emailVerified,this.phoneNumber=h.phoneNumber,this.isAnonymous=h.isAnonymous,this.tenantId=h.tenantId,this.providerData=h.providerData.map(p=>Object.assign({},p)),this.metadata._copy(h.metadata),this.stsTokenManager._assign(h.stsTokenManager))}_clone(h){const p=new _r(Object.assign(Object.assign({},this),{auth:h,stsTokenManager:this.stsTokenManager._clone()}));return p.metadata._copy(this.metadata),p}_onReload(h){ke(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=h,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(h){this.reloadListener?this.reloadListener(h):this.reloadUserInfo=h}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(h){var p=this;return(0,K.A)(function*(T,L=!1){let W=!1;T.idToken&&T.idToken!==p.stsTokenManager.accessToken&&(p.stsTokenManager.updateFromServerResponse(T),W=!0),L&&(yield pn(p)),yield p.auth._persistUserIfCurrent(p),W&&p.auth._notifyListenersIfCurrent(p)}).apply(this,arguments)}delete(){var h=this;return(0,K.A)(function*(){const p=yield h.getIdToken();return yield Or(h,function _t(I,h){return Pn.apply(this,arguments)}(h.auth,{idToken:p})),h.stsTokenManager.clearRefreshToken(),h.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(h=>Object.assign({},h)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(h,p){var T,L,W,oe,Ae,ut,At,Vt;const tn=null!==(T=p.displayName)&&void 0!==T?T:void 0,or=null!==(L=p.email)&&void 0!==L?L:void 0,$s=null!==(W=p.phoneNumber)&&void 0!==W?W:void 0,Ma=null!==(oe=p.photoURL)&&void 0!==oe?oe:void 0,xa=null!==(Ae=p.tenantId)&&void 0!==Ae?Ae:void 0,Bl=null!==(ut=p._redirectEventId)&&void 0!==ut?ut:void 0,jl=null!==(At=p.createdAt)&&void 0!==At?At:void 0,Pd=null!==(Vt=p.lastLoginAt)&&void 0!==Vt?Vt:void 0,{uid:$l,emailVerified:kd,isAnonymous:Ld,providerData:Hc,stsTokenManager:Hl}=p;ke($l&&Hl,h,"internal-error");const Ep=kn.fromJSON(this.name,Hl);ke("string"==typeof $l,h,"internal-error"),gn(tn,h.name),gn(or,h.name),ke("boolean"==typeof kd,h,"internal-error"),ke("boolean"==typeof Ld,h,"internal-error"),gn($s,h.name),gn(Ma,h.name),gn(xa,h.name),gn(Bl,h.name),gn(jl,h.name),gn(Pd,h.name);const qu=new _r({uid:$l,auth:h,email:or,emailVerified:kd,displayName:tn,isAnonymous:Ld,photoURL:Ma,phoneNumber:$s,tenantId:xa,stsTokenManager:Ep,createdAt:jl,lastLoginAt:Pd});return Hc&&Array.isArray(Hc)&&(qu.providerData=Hc.map(Fd=>Object.assign({},Fd))),Bl&&(qu._redirectEventId=Bl),qu}static _fromIdTokenResponse(h,p){return(0,K.A)(function*(T,L,W=!1){const oe=new kn;oe.updateFromServerResponse(L);const Ae=new _r({uid:L.localId,auth:T,stsTokenManager:oe,isAnonymous:W});return yield pn(Ae),Ae}).apply(this,arguments)}}const re=new Map;function B(I){xn(I instanceof Function,"Expected a class definition");let h=re.get(I);return h?(xn(h instanceof I,"Instance stored in cache mismatched with class"),h):(h=new I,re.set(I,h),h)}const $=(()=>{class I{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,K.A)(function*(){return!0})()}_set(p,T){var L=this;return(0,K.A)(function*(){L.storage[p]=T})()}_get(p){var T=this;return(0,K.A)(function*(){const L=T.storage[p];return void 0===L?null:L})()}_remove(p){var T=this;return(0,K.A)(function*(){delete T.storage[p]})()}_addListener(p,T){}_removeListener(p,T){}}return I.type="NONE",I})();function G(I,h,p){return`firebase:${I}:${h}:${p}`}class de{constructor(h,p,T){this.persistence=h,this.auth=p,this.userKey=T;const{config:L,name:W}=this.auth;this.fullUserKey=G(this.userKey,L.apiKey,W),this.fullPersistenceKey=G("persistence",L.apiKey,W),this.boundEventHandler=p._onStorageEvent.bind(p),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(h){return this.persistence._set(this.fullUserKey,h.toJSON())}getCurrentUser(){var h=this;return(0,K.A)(function*(){const p=yield h.persistence._get(h.fullUserKey);return p?_r._fromJSON(h.auth,p):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(h){var p=this;return(0,K.A)(function*(){if(p.persistence===h)return;const T=yield p.getCurrentUser();return yield p.removeCurrentUser(),p.persistence=h,T?p.setCurrentUser(T):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(h,p){return(0,K.A)(function*(T,L,W="authUser"){if(!L.length)return new de(B($),T,W);const oe=(yield Promise.all(L.map(function(){var tn=(0,K.A)(function*(or){if(yield or._isAvailable())return or});return function(or){return tn.apply(this,arguments)}}()))).filter(tn=>tn);let Ae=oe[0]||B($);const ut=G(W,T.config.apiKey,T.name);let At=null;for(const tn of L)try{const or=yield tn._get(ut);if(or){const $s=_r._fromJSON(T,or);tn!==Ae&&(At=$s),Ae=tn;break}}catch{}const Vt=oe.filter(tn=>tn._shouldAllowMigration);return Ae._shouldAllowMigration&&Vt.length?(Ae=Vt[0],At&&(yield Ae._set(ut,At.toJSON())),yield Promise.all(L.map(function(){var tn=(0,K.A)(function*(or){if(or!==Ae)try{yield or._remove(ut)}catch{}});return function(or){return tn.apply(this,arguments)}}())),new de(Ae,T,W)):new de(Ae,T,W)}).apply(this,arguments)}}function $e(I){const h=I.toLowerCase();if(h.includes("opera/")||h.includes("opr/")||h.includes("opios/"))return"Opera";if(En(h))return"IEMobile";if(h.includes("msie")||h.includes("trident/"))return"IE";if(h.includes("edge/"))return"Edge";if(pt(h))return"Firefox";if(h.includes("silk/"))return"Silk";if(ir(h))return"Blackberry";if(Ar(h))return"Webos";if(Kt(h))return"Safari";if((h.includes("chrome/")||Ht(h))&&!h.includes("edge/"))return"Chrome";if(Wt(h))return"Android";{const T=I.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===T?.length)return T[1]}return"Other"}function pt(I=(0,Q.ZQ)()){return/firefox\//i.test(I)}function Kt(I=(0,Q.ZQ)()){const h=I.toLowerCase();return h.includes("safari/")&&!h.includes("chrome/")&&!h.includes("crios/")&&!h.includes("android")}function Ht(I=(0,Q.ZQ)()){return/crios\//i.test(I)}function En(I=(0,Q.ZQ)()){return/iemobile/i.test(I)}function Wt(I=(0,Q.ZQ)()){return/android/i.test(I)}function ir(I=(0,Q.ZQ)()){return/blackberry/i.test(I)}function Ar(I=(0,Q.ZQ)()){return/webos/i.test(I)}function Mi(I=(0,Q.ZQ)()){return/iphone|ipad|ipod/i.test(I)||/macintosh/i.test(I)&&/mobile/i.test(I)}function Ke(I=(0,Q.ZQ)()){return Mi(I)||Wt(I)||Ar(I)||ir(I)||/windows phone/i.test(I)||En(I)}function jt(I,h=[]){let p;switch(I){case"Browser":p=$e((0,Q.ZQ)());break;case"Worker":p=`${$e((0,Q.ZQ)())}-${I}`;break;default:p=I}const T=h.length?h.join(","):"FirebaseCore-web";return`${p}/JsCore/${Oe.MF}/${T}`}function kr(I,h){return Ln.apply(this,arguments)}function Ln(){return(Ln=(0,K.A)(function*(I,h){return Ft(I,"GET","/v2/recaptchaConfig",ot(I,h))})).apply(this,arguments)}function ui(I){return void 0!==I&&void 0!==I.enterprise}class Fr{constructor(h){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===h.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=h.recaptchaKey.split("/")[3],this.emailPasswordEnabled=h.recaptchaEnforcementState.some(p=>"EMAIL_PASSWORD_PROVIDER"===p.provider&&"OFF"!==p.enforcementState)}}function Pi(I){return new Promise((h,p)=>{const T=document.createElement("script");T.setAttribute("src",I),T.onload=h,T.onerror=L=>{const W=St("internal-error");W.customData=L,p(W)},T.type="text/javascript",T.charset="UTF-8",function dn(){var I,h;return null!==(h=null===(I=document.getElementsByTagName("head"))||void 0===I?void 0:I[0])&&void 0!==h?h:document}().appendChild(T)})}function fs(I){return`__${I}${Math.floor(1e6*Math.random())}`}class Sr{constructor(h){this.type="recaptcha-enterprise",this.auth=ae(h)}verify(){var h=this;return(0,K.A)(function*(p="verify",T=!1){function W(){return W=(0,K.A)(function*(Ae){if(!T){if(null==Ae.tenantId&&null!=Ae._agentRecaptchaConfig)return Ae._agentRecaptchaConfig.siteKey;if(null!=Ae.tenantId&&void 0!==Ae._tenantRecaptchaConfigs[Ae.tenantId])return Ae._tenantRecaptchaConfigs[Ae.tenantId].siteKey}return new Promise(function(){var ut=(0,K.A)(function*(At,Vt){kr(Ae,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(tn=>{if(void 0!==tn.recaptchaKey){const or=new Fr(tn);return null==Ae.tenantId?Ae._agentRecaptchaConfig=or:Ae._tenantRecaptchaConfigs[Ae.tenantId]=or,At(or.siteKey)}Vt(new Error("recaptcha Enterprise site key undefined"))}).catch(tn=>{Vt(tn)})});return function(At,Vt){return ut.apply(this,arguments)}}())}),W.apply(this,arguments)}function oe(Ae,ut,At){const Vt=window.grecaptcha;ui(Vt)?Vt.enterprise.ready(()=>{Vt.enterprise.execute(Ae,{action:p}).then(tn=>{ut(tn)}).catch(()=>{ut("NO_RECAPTCHA")})}):At(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((Ae,ut)=>{(function L(Ae){return W.apply(this,arguments)})(h.auth).then(At=>{if(!T&&ui(window.grecaptcha))oe(At,Ae,ut);else{if(typeof window>"u")return void ut(new Error("RecaptchaVerifier is only supported in browser"));Pi("https://www.google.com/recaptcha/enterprise.js?render="+At).then(()=>{oe(At,Ae,ut)}).catch(Vt=>{ut(Vt)})}}).catch(At=>{ut(At)})})}).apply(this,arguments)}}function xs(I,h,p){return ki.apply(this,arguments)}function ki(){return(ki=(0,K.A)(function*(I,h,p,T=!1){const L=new Sr(I);let W;try{W=yield L.verify(p)}catch{W=yield L.verify(p,!0)}const oe=Object.assign({},h);return Object.assign(oe,T?{captchaResp:W}:{captchaResponse:W}),Object.assign(oe,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(oe,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),oe})).apply(this,arguments)}class gs{constructor(h){this.auth=h,this.queue=[]}pushCallback(h,p){const T=W=>new Promise((oe,Ae)=>{try{oe(h(W))}catch(ut){Ae(ut)}});T.onAbort=p,this.queue.push(T);const L=this.queue.length-1;return()=>{this.queue[L]=()=>Promise.resolve()}}runMiddleware(h){var p=this;return(0,K.A)(function*(){if(p.auth.currentUser===h)return;const T=[];try{for(const L of p.queue)yield L(h),L.onAbort&&T.push(L.onAbort)}catch(L){T.reverse();for(const W of T)try{W()}catch{}throw p.auth._errorFactory.create("login-blocked",{originalMessage:L?.message})}})()}}class ca{constructor(h,p,T,L){this.app=h,this.heartbeatServiceProvider=p,this.appCheckServiceProvider=T,this.config=L,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ue(this),this.idTokenSubscription=new ue(this),this.beforeStateQueue=new gs(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=et,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=h.name,this.clientVersion=L.sdkClientVersion}_initializeWithPersistence(h,p){var T=this;return p&&(this._popupRedirectResolver=B(p)),this._initializationPromise=this.queue((0,K.A)(function*(){var L,W;if(!T._deleted&&(T.persistenceManager=yield de.create(T,h),!T._deleted)){if(null!==(L=T._popupRedirectResolver)&&void 0!==L&&L._shouldInitProactively)try{yield T._popupRedirectResolver._initialize(T)}catch{}yield T.initializeCurrentUser(p),T.lastNotifiedUid=(null===(W=T.currentUser)||void 0===W?void 0:W.uid)||null,!T._deleted&&(T._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var h=this;return(0,K.A)(function*(){if(h._deleted)return;const p=yield h.assertedPersistence.getCurrentUser();if(h.currentUser||p){if(h.currentUser&&p&&h.currentUser.uid===p.uid)return h._currentUser._assign(p),void(yield h.currentUser.getIdToken());yield h._updateCurrentUser(p,!0)}})()}initializeCurrentUser(h){var p=this;return(0,K.A)(function*(){var T;const L=yield p.assertedPersistence.getCurrentUser();let W=L,oe=!1;if(h&&p.config.authDomain){yield p.getOrInitRedirectPersistenceManager();const Ae=null===(T=p.redirectUser)||void 0===T?void 0:T._redirectEventId,ut=W?._redirectEventId,At=yield p.tryRedirectSignIn(h);(!Ae||Ae===ut)&&At?.user&&(W=At.user,oe=!0)}if(!W)return p.directlySetCurrentUser(null);if(!W._redirectEventId){if(oe)try{yield p.beforeStateQueue.runMiddleware(W)}catch(Ae){W=L,p._popupRedirectResolver._overrideRedirectResult(p,()=>Promise.reject(Ae))}return W?p.reloadAndSetCurrentUserOrClear(W):p.directlySetCurrentUser(null)}return ke(p._popupRedirectResolver,p,"argument-error"),yield p.getOrInitRedirectPersistenceManager(),p.redirectUser&&p.redirectUser._redirectEventId===W._redirectEventId?p.directlySetCurrentUser(W):p.reloadAndSetCurrentUserOrClear(W)})()}tryRedirectSignIn(h){var p=this;return(0,K.A)(function*(){let T=null;try{T=yield p._popupRedirectResolver._completeRedirectFn(p,h,!0)}catch{yield p._setRedirectUser(null)}return T})()}reloadAndSetCurrentUserOrClear(h){var p=this;return(0,K.A)(function*(){try{yield pn(h)}catch(T){if("auth/network-request-failed"!==T?.code)return p.directlySetCurrentUser(null)}return p.directlySetCurrentUser(h)})()}useDeviceLanguage(){this.languageCode=function Ee(){if(typeof navigator>"u")return null;const I=navigator;return I.languages&&I.languages[0]||I.language||null}()}_delete(){var h=this;return(0,K.A)(function*(){h._deleted=!0})()}updateCurrentUser(h){var p=this;return(0,K.A)(function*(){const T=h?(0,Q.Ku)(h):null;return T&&ke(T.auth.config.apiKey===p.config.apiKey,p,"invalid-user-token"),p._updateCurrentUser(T&&T._clone(p))})()}_updateCurrentUser(h){var p=this;return(0,K.A)(function*(T,L=!1){if(!p._deleted)return T&&ke(p.tenantId===T.tenantId,p,"tenant-id-mismatch"),L||(yield p.beforeStateQueue.runMiddleware(T)),p.queue((0,K.A)(function*(){yield p.directlySetCurrentUser(T),p.notifyAuthListeners()}))}).apply(this,arguments)}signOut(){var h=this;return(0,K.A)(function*(){return yield h.beforeStateQueue.runMiddleware(null),(h.redirectPersistenceManager||h._popupRedirectResolver)&&(yield h._setRedirectUser(null)),h._updateCurrentUser(null,!0)})()}setPersistence(h){var p=this;return this.queue((0,K.A)(function*(){yield p.assertedPersistence.setPersistence(B(h))}))}initializeRecaptchaConfig(){var h=this;return(0,K.A)(function*(){const p=yield kr(h,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),T=new Fr(p);null==h.tenantId?h._agentRecaptchaConfig=T:h._tenantRecaptchaConfigs[h.tenantId]=T,T.emailPasswordEnabled&&new Sr(h).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(h){this._errorFactory=new Q.FA("auth","Firebase",h())}onAuthStateChanged(h,p,T){return this.registerStateListener(this.authStateSubscription,h,p,T)}beforeAuthStateChanged(h,p){return this.beforeStateQueue.pushCallback(h,p)}onIdTokenChanged(h,p,T){return this.registerStateListener(this.idTokenSubscription,h,p,T)}toJSON(){var h;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(h=this._currentUser)||void 0===h?void 0:h.toJSON()}}_setRedirectUser(h,p){var T=this;return(0,K.A)(function*(){const L=yield T.getOrInitRedirectPersistenceManager(p);return null===h?L.removeCurrentUser():L.setCurrentUser(h)})()}getOrInitRedirectPersistenceManager(h){var p=this;return(0,K.A)(function*(){if(!p.redirectPersistenceManager){const T=h&&B(h)||p._popupRedirectResolver;ke(T,p,"argument-error"),p.redirectPersistenceManager=yield de.create(p,[B(T._redirectPersistence)],"redirectUser"),p.redirectUser=yield p.redirectPersistenceManager.getCurrentUser()}return p.redirectPersistenceManager})()}_redirectUserForId(h){var p=this;return(0,K.A)(function*(){var T,L;return p._isInitialized&&(yield p.queue((0,K.A)(function*(){}))),(null===(T=p._currentUser)||void 0===T?void 0:T._redirectEventId)===h?p._currentUser:(null===(L=p.redirectUser)||void 0===L?void 0:L._redirectEventId)===h?p.redirectUser:null})()}_persistUserIfCurrent(h){var p=this;return(0,K.A)(function*(){if(h===p.currentUser)return p.queue((0,K.A)(function*(){return p.directlySetCurrentUser(h)}))})()}_notifyListenersIfCurrent(h){h===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var h,p;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const T=null!==(p=null===(h=this.currentUser)||void 0===h?void 0:h.uid)&&void 0!==p?p:null;this.lastNotifiedUid!==T&&(this.lastNotifiedUid=T,this.authStateSubscription.next(this.currentUser))}registerStateListener(h,p,T,L){if(this._deleted)return()=>{};const W="function"==typeof p?p:p.next.bind(p),oe=this._isInitialized?Promise.resolve():this._initializationPromise;return ke(oe,this,"internal-error"),oe.then(()=>W(this.currentUser)),"function"==typeof p?h.addObserver(p,T,L):h.addObserver(p)}directlySetCurrentUser(h){var p=this;return(0,K.A)(function*(){p.currentUser&&p.currentUser!==h&&p._currentUser._stopProactiveRefresh(),h&&p.isProactiveRefreshEnabled&&h._startProactiveRefresh(),p.currentUser=h,h?yield p.assertedPersistence.setCurrentUser(h):yield p.assertedPersistence.removeCurrentUser()})()}queue(h){return this.operations=this.operations.then(h,h),this.operations}get assertedPersistence(){return ke(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(h){!h||this.frameworks.includes(h)||(this.frameworks.push(h),this.frameworks.sort(),this.clientVersion=jt(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var h=this;return(0,K.A)(function*(){var p;const T={"X-Client-Version":h.clientVersion};h.app.options.appId&&(T["X-Firebase-gmpid"]=h.app.options.appId);const L=yield null===(p=h.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===p?void 0:p.getHeartbeatsHeader();L&&(T["X-Firebase-Client"]=L);const W=yield h._getAppCheckToken();return W&&(T["X-Firebase-AppCheck"]=W),T})()}_getAppCheckToken(){var h=this;return(0,K.A)(function*(){var p;const T=yield null===(p=h.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===p?void 0:p.getToken();return T?.error&&function it(I,...h){Me.logLevel<=te.$b.WARN&&Me.warn(`Auth (${Oe.MF}): ${I}`,...h)}(`Error while retrieving App Check token: ${T.error}`),T?.token})()}}function ae(I){return(0,Q.Ku)(I)}class ue{constructor(h){this.auth=h,this.observer=null,this.addObserver=(0,Q.tD)(p=>this.observer=p)}get next(){return ke(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Rt(I){const h=I.indexOf(":");return h<0?"":I.substr(0,h+1)}function ln(I){if(!I)return null;const h=Number(I);return isNaN(h)?null:h}class pi{constructor(h,p){this.providerId=h,this.signInMethod=p}toJSON(){return Pt("not implemented")}_getIdTokenResponse(h){return Pt("not implemented")}_linkToIdToken(h,p){return Pt("not implemented")}_getReauthenticationResolver(h){return Pt("not implemented")}}function Zr(I,h){return jo.apply(this,arguments)}function jo(){return(jo=(0,K.A)(function*(I,h){return Ft(I,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function Ho(I,h){return Fa.apply(this,arguments)}function Fa(){return(Fa=(0,K.A)(function*(I,h){return Yt(I,"POST","/v1/accounts:signInWithPassword",ot(I,h))})).apply(this,arguments)}function $n(){return($n=(0,K.A)(function*(I,h){return Yt(I,"POST","/v1/accounts:signInWithEmailLink",ot(I,h))})).apply(this,arguments)}function Qr(){return(Qr=(0,K.A)(function*(I,h){return Yt(I,"POST","/v1/accounts:signInWithEmailLink",ot(I,h))})).apply(this,arguments)}class pr extends pi{constructor(h,p,T,L=null){super("password",T),this._email=h,this._password=p,this._tenantId=L}static _fromEmailAndPassword(h,p){return new pr(h,p,"password")}static _fromEmailAndCode(h,p,T=null){return new pr(h,p,"emailLink",T)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(h){const p="string"==typeof h?JSON.parse(h):h;if(p?.email&&p?.password){if("password"===p.signInMethod)return this._fromEmailAndPassword(p.email,p.password);if("emailLink"===p.signInMethod)return this._fromEmailAndCode(p.email,p.password,p.tenantId)}return null}_getIdTokenResponse(h){var p=this;return(0,K.A)(function*(){var T;switch(p.signInMethod){case"password":const L={returnSecureToken:!0,email:p._email,password:p._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(T=h._getRecaptchaConfig())&&void 0!==T&&T.emailPasswordEnabled){const W=yield xs(h,L,"signInWithPassword");return Ho(h,W)}return Ho(h,L).catch(function(){var W=(0,K.A)(function*(oe){if("auth/missing-recaptcha-token"===oe.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const Ae=yield xs(h,L,"signInWithPassword");return Ho(h,Ae)}return Promise.reject(oe)});return function(oe){return W.apply(this,arguments)}}());case"emailLink":return function Cn(I,h){return $n.apply(this,arguments)}(h,{email:p._email,oobCode:p._password});default:Xe(h,"internal-error")}})()}_linkToIdToken(h,p){var T=this;return(0,K.A)(function*(){switch(T.signInMethod){case"password":return Zr(h,{idToken:p,returnSecureToken:!0,email:T._email,password:T._password});case"emailLink":return function fr(I,h){return Qr.apply(this,arguments)}(h,{idToken:p,email:T._email,oobCode:T._password});default:Xe(h,"internal-error")}})()}_getReauthenticationResolver(h){return this._getIdTokenResponse(h)}}function Hi(I,h){return Fn.apply(this,arguments)}function Fn(){return(Fn=(0,K.A)(function*(I,h){return Yt(I,"POST","/v1/accounts:signInWithIdp",ot(I,h))})).apply(this,arguments)}class zt{constructor(h){var p,T,L,W,oe,Ae;const ut=(0,Q.I9)((0,Q.hp)(h)),At=null!==(p=ut.apiKey)&&void 0!==p?p:null,Vt=null!==(T=ut.oobCode)&&void 0!==T?T:null,tn=function Ji(I){switch(I){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(L=ut.mode)&&void 0!==L?L:null);ke(At&&Vt&&tn,"argument-error"),this.apiKey=At,this.operation=tn,this.code=Vt,this.continueUrl=null!==(W=ut.continueUrl)&&void 0!==W?W:null,this.languageCode=null!==(oe=ut.languageCode)&&void 0!==oe?oe:null,this.tenantId=null!==(Ae=ut.tenantId)&&void 0!==Ae?Ae:null}static parseLink(h){const p=function Gs(I){const h=(0,Q.I9)((0,Q.hp)(I)).link,p=h?(0,Q.I9)((0,Q.hp)(h)).deep_link_id:null,T=(0,Q.I9)((0,Q.hp)(I)).deep_link_id;return(T?(0,Q.I9)((0,Q.hp)(T)).link:null)||T||p||h||I}(h);try{return new zt(p)}catch{return null}}}let ru=(()=>{class I{constructor(){this.providerId=I.PROVIDER_ID}static credential(p,T){return pr._fromEmailAndPassword(p,T)}static credentialWithLink(p,T){const L=zt.parseLink(T);return ke(L,"argument-error"),pr._fromEmailAndCode(p,L.code,L.tenantId)}}return I.PROVIDER_ID="password",I.EMAIL_PASSWORD_SIGN_IN_METHOD="password",I.EMAIL_LINK_SIGN_IN_METHOD="emailLink",I})();class li{constructor(h){this.providerId=h,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(h){this.defaultLanguageCode=h}setCustomParameters(h){return this.customParameters=h,this}getCustomParameters(){return this.customParameters}}class xr extends li{constructor(){super(...arguments),this.scopes=[]}addScope(h){return this.scopes.includes(h)||this.scopes.push(h),this}getScopes(){return[...this.scopes]}}class ei{constructor(h){this.user=h.user,this.providerId=h.providerId,this._tokenResponse=h._tokenResponse,this.operationType=h.operationType}static _fromIdTokenResponse(h,p,T){return(0,K.A)(function*(L,W,oe,Ae=!1){const ut=yield _r._fromIdTokenResponse(L,oe,Ae),At=Co(oe);return new ei({user:ut,providerId:At,_tokenResponse:oe,operationType:W})}).apply(this,arguments)}static _forOperation(h,p,T){return(0,K.A)(function*(){yield h._updateTokensIfNecessary(T,!0);const L=Co(T);return new ei({user:h,providerId:L,_tokenResponse:T,operationType:p})})()}}function Co(I){return I.providerId?I.providerId:"phoneNumber"in I?"phone":null}class Hn extends Q.g{constructor(h,p,T,L){var W;super(p.code,p.message),this.operationType=T,this.user=L,Object.setPrototypeOf(this,Hn.prototype),this.customData={appName:h.name,tenantId:null!==(W=h.tenantId)&&void 0!==W?W:void 0,_serverResponse:p.customData._serverResponse,operationType:T}}static _fromErrorAndOperation(h,p,T,L){return new Hn(h,p,T,L)}}function ns(I,h,p,T){return("reauthenticate"===h?p._getReauthenticationResolver(I):p._getIdTokenResponse(I)).catch(W=>{throw"auth/multi-factor-auth-required"===W.code?Hn._fromErrorAndOperation(I,W,h,T):W})}function co(){return(co=(0,K.A)(function*(I,h,p=!1){const T=yield Or(I,h._linkToIdToken(I.auth,yield I.getIdToken()),p);return ei._forOperation(I,"link",T)})).apply(this,arguments)}function rs(){return(rs=(0,K.A)(function*(I,h,p=!1){const{auth:T}=I,L="reauthenticate";try{const W=yield Or(I,ns(T,L,h,I),p);ke(W.idToken,T,"internal-error");const oe=br(W.idToken);ke(oe,T,"internal-error");const{sub:Ae}=oe;return ke(I.uid===Ae,T,"user-mismatch"),ei._forOperation(I,L,W)}catch(W){throw"auth/user-not-found"===W?.code&&Xe(T,"user-mismatch"),W}})).apply(this,arguments)}function Ws(I,h){return sr.apply(this,arguments)}function sr(){return(sr=(0,K.A)(function*(I,h,p=!1){const T="signIn",L=yield ns(I,T,h),W=yield ei._fromIdTokenResponse(I,T,L);return p||(yield I._updateCurrentUser(W.user)),W})).apply(this,arguments)}function ho(){return(ho=(0,K.A)(function*(I,h){return Ws(ae(I),h)})).apply(this,arguments)}function Kn(I,h,p){return function _s(I,h){return ho.apply(this,arguments)}((0,Q.Ku)(I),ru.credential(h,p))}function vi(I){return(0,Q.Ku)(I).signOut()}const gt="__sak";class ye{constructor(h,p){this.storageRetriever=h,this.type=p}_isAvailable(){try{return this.storage?(this.storage.setItem(gt,"1"),this.storage.removeItem(gt),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(h,p){return this.storage.setItem(h,JSON.stringify(p)),Promise.resolve()}_get(h){const p=this.storage.getItem(h);return Promise.resolve(p?JSON.parse(p):null)}_remove(h){return this.storage.removeItem(h),Promise.resolve()}get storage(){return this.storageRetriever()}}const Yo=(()=>{class I extends ye{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(p,T)=>this.onStorageEvent(p,T),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Ge(){const I=(0,Q.ZQ)();return Kt(I)||Mi(I)}()&&function xt(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Ke(),this._shouldAllowMigration=!0}forAllChangedKeys(p){for(const T of Object.keys(this.listeners)){const L=this.storage.getItem(T),W=this.localCache[T];L!==W&&p(T,W,L)}}onStorageEvent(p,T=!1){if(!p.key)return void this.forAllChangedKeys((Ae,ut,At)=>{this.notifyListeners(Ae,At)});const L=p.key;if(T?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Ae=this.storage.getItem(L);if(p.newValue!==Ae)null!==p.newValue?this.storage.setItem(L,p.newValue):this.storage.removeItem(L);else if(this.localCache[L]===p.newValue&&!T)return}const W=()=>{const Ae=this.storage.getItem(L);!T&&this.localCache[L]===Ae||this.notifyListeners(L,Ae)},oe=this.storage.getItem(L);!function he(){return(0,Q.lT)()&&10===document.documentMode}()||oe===p.newValue||p.newValue===p.oldValue?W():setTimeout(W,10)}notifyListeners(p,T){this.localCache[p]=T;const L=this.listeners[p];if(L)for(const W of Array.from(L))W(T&&JSON.parse(T))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((p,T,L)=>{this.onStorageEvent(new StorageEvent("storage",{key:p,oldValue:T,newValue:L}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(p,T){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[p]||(this.listeners[p]=new Set,this.localCache[p]=this.storage.getItem(p)),this.listeners[p].add(T)}_removeListener(p,T){this.listeners[p]&&(this.listeners[p].delete(T),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(p,T){var L=()=>super._set,W=this;return(0,K.A)(function*(){yield L().call(W,p,T),W.localCache[p]=JSON.stringify(T)})()}_get(p){var T=()=>super._get,L=this;return(0,K.A)(function*(){const W=yield T().call(L,p);return L.localCache[p]=JSON.stringify(W),W})()}_remove(p){var T=()=>super._remove,L=this;return(0,K.A)(function*(){yield T().call(L,p),delete L.localCache[p]})()}}return I.type="LOCAL",I})(),os=(()=>{class I extends ye{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(p,T){}_removeListener(p,T){}}return I.type="SESSION",I})();let Rc=(()=>{class I{constructor(p){this.eventTarget=p,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(p){const T=this.receivers.find(W=>W.isListeningto(p));if(T)return T;const L=new I(p);return this.receivers.push(L),L}isListeningto(p){return this.eventTarget===p}handleEvent(p){var T=this;return(0,K.A)(function*(){const L=p,{eventId:W,eventType:oe,data:Ae}=L.data,ut=T.handlersMap[oe];if(!ut?.size)return;L.ports[0].postMessage({status:"ack",eventId:W,eventType:oe});const At=Array.from(ut).map(function(){var tn=(0,K.A)(function*(or){return or(L.origin,Ae)});return function(or){return tn.apply(this,arguments)}}()),Vt=yield function Ba(I){return Promise.all(I.map(function(){var h=(0,K.A)(function*(p){try{return{fulfilled:!0,value:yield p}}catch(T){return{fulfilled:!1,reason:T}}});return function(p){return h.apply(this,arguments)}}()))}(At);L.ports[0].postMessage({status:"done",eventId:W,eventType:oe,response:Vt})})()}_subscribe(p,T){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[p]||(this.handlersMap[p]=new Set),this.handlersMap[p].add(T)}_unsubscribe(p,T){this.handlersMap[p]&&T&&this.handlersMap[p].delete(T),(!T||0===this.handlersMap[p].size)&&delete this.handlersMap[p],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return I.receivers=[],I})();function sc(I="",h=10){let p="";for(let T=0;T<h;T++)p+=Math.floor(10*Math.random());return I+p}class Zo{constructor(h){this.target=h,this.handlers=new Set}removeMessageHandler(h){h.messageChannel&&(h.messageChannel.port1.removeEventListener("message",h.onMessage),h.messageChannel.port1.close()),this.handlers.delete(h)}_send(h,p){var T=this;return(0,K.A)(function*(L,W,oe=50){const Ae=typeof MessageChannel<"u"?new MessageChannel:null;if(!Ae)throw new Error("connection_unavailable");let ut,At;return new Promise((Vt,tn)=>{const or=sc("",20);Ae.port1.start();const $s=setTimeout(()=>{tn(new Error("unsupported_event"))},oe);At={messageChannel:Ae,onMessage(Ma){const xa=Ma;if(xa.data.eventId===or)switch(xa.data.status){case"ack":clearTimeout($s),ut=setTimeout(()=>{tn(new Error("timeout"))},3e3);break;case"done":clearTimeout(ut),Vt(xa.data.response);break;default:clearTimeout($s),clearTimeout(ut),tn(new Error("invalid_response"))}}},T.handlers.add(At),Ae.port1.addEventListener("message",At.onMessage),T.target.postMessage({eventType:L,eventId:or,data:W},[Ae.port2])}).finally(()=>{At&&T.removeMessageHandler(At)})}).apply(this,arguments)}}function Br(){return window}function Ot(){return typeof Br().WorkerGlobalScope<"u"&&"function"==typeof Br().importScripts}function vr(){return(vr=(0,K.A)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const ya="firebaseLocalStorageDb",$a="firebaseLocalStorage",$r="fbase_key";class dt{constructor(h){this.request=h}toPromise(){return new Promise((h,p)=>{this.request.addEventListener("success",()=>{h(this.request.result)}),this.request.addEventListener("error",()=>{p(this.request.error)})})}}function No(I,h){return I.transaction([$a],h?"readwrite":"readonly").objectStore($a)}function Oo(){const I=indexedDB.open(ya,1);return new Promise((h,p)=>{I.addEventListener("error",()=>{p(I.error)}),I.addEventListener("upgradeneeded",()=>{const T=I.result;try{T.createObjectStore($a,{keyPath:$r})}catch(L){p(L)}}),I.addEventListener("success",(0,K.A)(function*(){const T=I.result;T.objectStoreNames.contains($a)?h(T):(T.close(),yield function Ys(){const I=indexedDB.deleteDatabase(ya);return new dt(I).toPromise()}(),h(yield Oo()))}))})}function Lu(I,h,p){return va.apply(this,arguments)}function va(){return(va=(0,K.A)(function*(I,h,p){const T=No(I,!0).put({[$r]:h,value:p});return new dt(T).toPromise()})).apply(this,arguments)}function _a(){return(_a=(0,K.A)(function*(I,h){const p=No(I,!1).get(h),T=yield new dt(p).toPromise();return void 0===T?null:T.value})).apply(this,arguments)}function We(I,h){const p=No(I,!0).delete(h);return new dt(p).toPromise()}const ii=(()=>{class I{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var p=this;return(0,K.A)(function*(){return p.db||(p.db=yield Oo()),p.db})()}_withRetries(p){var T=this;return(0,K.A)(function*(){let L=0;for(;;)try{const W=yield T._openDb();return yield p(W)}catch(W){if(L++>3)throw W;T.db&&(T.db.close(),T.db=void 0)}})()}initializeServiceWorkerMessaging(){var p=this;return(0,K.A)(function*(){return Ot()?p.initializeReceiver():p.initializeSender()})()}initializeReceiver(){var p=this;return(0,K.A)(function*(){p.receiver=Rc._getInstance(function Qe(){return Ot()?self:null}()),p.receiver._subscribe("keyChanged",function(){var T=(0,K.A)(function*(L,W){return{keyProcessed:(yield p._poll()).includes(W.key)}});return function(L,W){return T.apply(this,arguments)}}()),p.receiver._subscribe("ping",function(){var T=(0,K.A)(function*(L,W){return["keyChanged"]});return function(L,W){return T.apply(this,arguments)}}())})()}initializeSender(){var p=this;return(0,K.A)(function*(){var T,L;if(p.activeServiceWorker=yield function Ro(){return vr.apply(this,arguments)}(),!p.activeServiceWorker)return;p.sender=new Zo(p.activeServiceWorker);const W=yield p.sender._send("ping",{},800);W&&null!==(T=W[0])&&void 0!==T&&T.fulfilled&&null!==(L=W[0])&&void 0!==L&&L.value.includes("keyChanged")&&(p.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(p){var T=this;return(0,K.A)(function*(){if(T.sender&&T.activeServiceWorker&&function jr(){var I;return(null===(I=navigator?.serviceWorker)||void 0===I?void 0:I.controller)||null}()===T.activeServiceWorker)try{yield T.sender._send("keyChanged",{key:p},T.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,K.A)(function*(){try{if(!indexedDB)return!1;const p=yield Oo();return yield Lu(p,gt,"1"),yield We(p,gt),!0}catch{}return!1})()}_withPendingWrite(p){var T=this;return(0,K.A)(function*(){T.pendingWrites++;try{yield p()}finally{T.pendingWrites--}})()}_set(p,T){var L=this;return(0,K.A)(function*(){return L._withPendingWrite((0,K.A)(function*(){return yield L._withRetries(W=>Lu(W,p,T)),L.localCache[p]=T,L.notifyServiceWorker(p)}))})()}_get(p){var T=this;return(0,K.A)(function*(){const L=yield T._withRetries(W=>function Il(I,h){return _a.apply(this,arguments)}(W,p));return T.localCache[p]=L,L})()}_remove(p){var T=this;return(0,K.A)(function*(){return T._withPendingWrite((0,K.A)(function*(){return yield T._withRetries(L=>We(L,p)),delete T.localCache[p],T.notifyServiceWorker(p)}))})()}_poll(){var p=this;return(0,K.A)(function*(){const T=yield p._withRetries(oe=>{const Ae=No(oe,!1).getAll();return new dt(Ae).toPromise()});if(!T)return[];if(0!==p.pendingWrites)return[];const L=[],W=new Set;for(const{fbase_key:oe,value:Ae}of T)W.add(oe),JSON.stringify(p.localCache[oe])!==JSON.stringify(Ae)&&(p.notifyListeners(oe,Ae),L.push(oe));for(const oe of Object.keys(p.localCache))p.localCache[oe]&&!W.has(oe)&&(p.notifyListeners(oe,null),L.push(oe));return L})()}notifyListeners(p,T){this.localCache[p]=T;const L=this.listeners[p];if(L)for(const W of Array.from(L))W(T)}startPolling(){var p=this;this.stopPolling(),this.pollTimer=setInterval((0,K.A)(function*(){return p._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(p,T){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[p]||(this.listeners[p]=new Set,this._get(p)),this.listeners[p].add(T)}_removeListener(p,T){this.listeners[p]&&(this.listeners[p].delete(T),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return I.type="LOCAL",I})();fs("rcb"),new be(3e4,6e4);class Bi extends pi{constructor(h){super("custom","custom"),this.params=h}_getIdTokenResponse(h){return Hi(h,this._buildIdpRequest())}_linkToIdToken(h,p){return Hi(h,this._buildIdpRequest(p))}_getReauthenticationResolver(h){return Hi(h,this._buildIdpRequest())}_buildIdpRequest(h){const p={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return h&&(p.idToken=h),p}}function Rr(I){return Ws(I.auth,new Bi(I),I.bypassAuthState)}function Lo(I){const{auth:h,user:p}=I;return ke(p,h,"internal-error"),function Ui(I,h){return rs.apply(this,arguments)}(p,new Bi(I),I.bypassAuthState)}function Oc(I){return wl.apply(this,arguments)}function wl(){return(wl=(0,K.A)(function*(I){const{auth:h,user:p}=I;return ke(p,h,"internal-error"),function mi(I,h){return co.apply(this,arguments)}(p,new Bi(I),I.bypassAuthState)})).apply(this,arguments)}class Ed{constructor(h,p,T,L,W=!1){this.auth=h,this.resolver=T,this.user=L,this.bypassAuthState=W,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(p)?p:[p]}execute(){var h=this;return new Promise(function(){var p=(0,K.A)(function*(T,L){h.pendingPromise={resolve:T,reject:L};try{h.eventManager=yield h.resolver._initialize(h.auth),yield h.onExecution(),h.eventManager.registerConsumer(h)}catch(W){h.reject(W)}});return function(T,L){return p.apply(this,arguments)}}())}onAuthEvent(h){var p=this;return(0,K.A)(function*(){const{urlResponse:T,sessionId:L,postBody:W,tenantId:oe,error:Ae,type:ut}=h;if(Ae)return void p.reject(Ae);const At={auth:p.auth,requestUri:T,sessionId:L,tenantId:oe||void 0,postBody:W||void 0,user:p.user,bypassAuthState:p.bypassAuthState};try{p.resolve(yield p.getIdpTask(ut)(At))}catch(Vt){p.reject(Vt)}})()}onError(h){this.reject(h)}getIdpTask(h){switch(h){case"signInViaPopup":case"signInViaRedirect":return Rr;case"linkViaPopup":case"linkViaRedirect":return Oc;case"reauthViaPopup":case"reauthViaRedirect":return Lo;default:Xe(this.auth,"internal-error")}}resolve(h){xn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(h),this.unregisterAndCleanUp()}reject(h){xn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(h),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}new be(2e3,1e4);const ac="pendingRedirect",si=new Map;class Dl extends Ed{constructor(h,p,T=!1){super(h,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],p,void 0,T),this.eventId=null}execute(){var h=()=>super.execute,p=this;return(0,K.A)(function*(){let T=si.get(p.auth._key());if(!T){try{const W=(yield function za(I,h){return ea.apply(this,arguments)}(p.resolver,p.auth))?yield h().call(p):null;T=()=>Promise.resolve(W)}catch(L){T=()=>Promise.reject(L)}si.set(p.auth._key(),T)}return p.bypassAuthState||si.set(p.auth._key(),()=>Promise.resolve(null)),T()})()}onAuthEvent(h){var p=()=>super.onAuthEvent,T=this;return(0,K.A)(function*(){if("signInViaRedirect"===h.type)return p().call(T,h);if("unknown"!==h.type){if(h.eventId){const L=yield T.auth._redirectUserForId(h.eventId);if(L)return T.user=L,p().call(T,h);T.resolve(null)}}else T.resolve(null)})()}onExecution(){return(0,K.A)(function*(){})()}cleanUp(){}}function ea(){return(ea=(0,K.A)(function*(I,h){const p=function Wa(I){return G(ac,I.config.apiKey,I.name)}(h),T=function Tl(I){return B(I._redirectPersistence)}(I);if(!(yield T._isAvailable()))return!1;const L="true"===(yield T._get(p));return yield T._remove(p),L})).apply(this,arguments)}function Tr(I,h){si.set(I._key(),h)}function Bu(I,h){return vo.apply(this,arguments)}function vo(){return(vo=(0,K.A)(function*(I,h,p=!1){const T=ae(I),L=function Er(I,h){return h?B(h):(ke(I._popupRedirectResolver,I,"argument-error"),I._popupRedirectResolver)}(T,h),oe=yield new Dl(T,L,p).execute();return oe&&!p&&(delete oe.user._redirectEventId,yield T._persistUserIfCurrent(oe.user),yield T._setRedirectUser(null,h)),oe})).apply(this,arguments)}class Ts{constructor(h){this.auth=h,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(h){this.consumers.add(h),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,h)&&(this.sendToConsumer(this.queuedRedirectEvent,h),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(h){this.consumers.delete(h)}onEvent(h){if(this.hasEventBeenHandled(h))return!1;let p=!1;return this.consumers.forEach(T=>{this.isEventForConsumer(h,T)&&(p=!0,this.sendToConsumer(h,T),this.saveEventToCache(h))}),this.hasHandledPotentialRedirect||!function kc(I){switch(I.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return _o(I);default:return!1}}(h)||(this.hasHandledPotentialRedirect=!0,p||(this.queuedRedirectEvent=h,p=!0)),p}sendToConsumer(h,p){var T;if(h.error&&!_o(h)){const L=(null===(T=h.error.code)||void 0===T?void 0:T.split("auth/")[1])||"internal-error";p.onError(St(this.auth,L))}else p.onAuthEvent(h)}isEventForConsumer(h,p){const T=null===p.eventId||!!h.eventId&&h.eventId===p.eventId;return p.filter.includes(h.type)&&T}hasEventBeenHandled(h){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(hu(h))}saveEventToCache(h){this.cachedEventUids.add(hu(h)),this.lastProcessedEventTime=Date.now()}}function hu(I){return[I.type,I.eventId,I.sessionId,I.tenantId].filter(h=>h).join("-")}function _o({type:I,error:h}){return"unknown"===I&&"auth/no-auth-event"===h?.code}function pu(){return(pu=(0,K.A)(function*(I,h={}){return Ft(I,"GET","/v1/projects",h)})).apply(this,arguments)}const Vo=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ta=/^https?/;function Ka(){return Ka=(0,K.A)(function*(I){if(I.config.emulator)return;const{authorizedDomains:h}=yield function fu(I){return pu.apply(this,arguments)}(I);for(const p of h)try{if(Io(p))return}catch{}Xe(I,"unauthorized-domain")}),Ka.apply(this,arguments)}function Io(I){const h=cr(),{protocol:p,hostname:T}=new URL(h);if(I.startsWith("chrome-extension://")){const oe=new URL(I);return""===oe.hostname&&""===T?"chrome-extension:"===p&&I.replace("chrome-extension://","")===h.replace("chrome-extension://",""):"chrome-extension:"===p&&oe.hostname===T}if(!ta.test(p))return!1;if(Vo.test(I))return T===I;const L=I.replace(/\./g,"\\.");return new RegExp("^(.+\\."+L+"|"+L+")$","i").test(T)}const Ta=new be(3e4,6e4);function Eo(){const I=Br().___jsl;if(I?.H)for(const h of Object.keys(I.H))if(I.H[h].r=I.H[h].r||[],I.H[h].L=I.H[h].L||[],I.H[h].r=[...I.H[h].L],I.CP)for(let p=0;p<I.CP.length;p++)I.CP[p]=null}let $u=null;const Cd=new be(5e3,15e3),Yi="__/auth/iframe",bl="emulator/auth/iframe",_={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},A=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function O(I){const h=I.config;ke(h.authDomain,I,"auth-domain-config-required");const p=h.emulator?we(h,bl):`https://${I.config.authDomain}/${Yi}`,T={apiKey:h.apiKey,appName:I.name,v:Oe.MF},L=A.get(I.config.apiHost);L&&(T.eid=L);const W=I._getFrameworks();return W.length&&(T.fw=W.join(",")),`${p}?${(0,Q.Am)(T).slice(1)}`}function ie(){return ie=(0,K.A)(function*(I){const h=yield function Hu(I){return $u=$u||function ju(I){return new Promise((h,p)=>{var T,L,W;function oe(){Eo(),gapi.load("gapi.iframes",{callback:()=>{h(gapi.iframes.getContext())},ontimeout:()=>{Eo(),p(St(I,"network-request-failed"))},timeout:Ta.get()})}if(null!==(L=null===(T=Br().gapi)||void 0===T?void 0:T.iframes)&&void 0!==L&&L.Iframe)h(gapi.iframes.getContext());else{if(null===(W=Br().gapi)||void 0===W||!W.load){const Ae=fs("iframefcb");return Br()[Ae]=()=>{gapi.load?oe():p(St(I,"network-request-failed"))},Pi(`https://apis.google.com/js/api.js?onload=${Ae}`).catch(ut=>p(ut))}oe()}}).catch(h=>{throw $u=null,h})}(I),$u}(I),p=Br().gapi;return ke(p,I,"internal-error"),h.open({where:document.body,url:O(I),messageHandlersFilter:p.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:_,dontclear:!0},T=>new Promise(function(){var L=(0,K.A)(function*(W,oe){yield T.restyle({setHideOnLeave:!1});const Ae=St(I,"network-request-failed"),ut=Br().setTimeout(()=>{oe(Ae)},Cd.get());function At(){Br().clearTimeout(ut),W(T)}T.ping(At).then(At,()=>{oe(Ae)})});return function(W,oe){return L.apply(this,arguments)}}()))}),ie.apply(this,arguments)}const pe={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class It{constructor(h){this.window=h,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Ni="__/auth/handler",cc="emulator/auth/handler",lc=encodeURIComponent("fac");function gu(I,h,p,T,L,W){return js.apply(this,arguments)}function js(){return(js=(0,K.A)(function*(I,h,p,T,L,W){ke(I.config.authDomain,I,"auth-domain-config-required"),ke(I.config.apiKey,I,"invalid-api-key");const oe={apiKey:I.config.apiKey,appName:I.name,authType:p,redirectUrl:T,v:Oe.MF,eventId:L};if(h instanceof li){h.setDefaultLanguage(I.languageCode),oe.providerId=h.providerId||"",(0,Q.Im)(h.getCustomParameters())||(oe.customParameters=JSON.stringify(h.getCustomParameters()));for(const[Vt,tn]of Object.entries(W||{}))oe[Vt]=tn}if(h instanceof xr){const Vt=h.getScopes().filter(tn=>""!==tn);Vt.length>0&&(oe.scopes=Vt.join(","))}I.tenantId&&(oe.tid=I.tenantId);const Ae=oe;for(const Vt of Object.keys(Ae))void 0===Ae[Vt]&&delete Ae[Vt];const ut=yield I._getAppCheckToken(),At=ut?`#${lc}=${encodeURIComponent(ut)}`:"";return`${function Ca({config:I}){return I.emulator?we(I,cc):`https://${I.authDomain}/${Ni}`}(I)}?${(0,Q.Am)(Ae).slice(1)}${At}`})).apply(this,arguments)}const na="webStorageSupport",lp=class cp{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=os,this._completeRedirectFn=Bu,this._overrideRedirectResult=Tr}_openPopup(h,p,T,L){var W=this;return(0,K.A)(function*(){var oe;xn(null===(oe=W.eventManagers[h._key()])||void 0===oe?void 0:oe.manager,"_initialize() not called before _openPopup()");const Ae=yield gu(h,p,T,cr(),L);return function un(I,h,p,T=500,L=600){const W=Math.max((window.screen.availHeight-L)/2,0).toString(),oe=Math.max((window.screen.availWidth-T)/2,0).toString();let Ae="";const ut=Object.assign(Object.assign({},pe),{width:T.toString(),height:L.toString(),top:W,left:oe}),At=(0,Q.ZQ)().toLowerCase();p&&(Ae=Ht(At)?"_blank":p),pt(At)&&(h=h||"http://localhost",ut.scrollbars="yes");const Vt=Object.entries(ut).reduce((or,[$s,Ma])=>`${or}${$s}=${Ma},`,"");if(function Pe(I=(0,Q.ZQ)()){var h;return Mi(I)&&!(null===(h=window.navigator)||void 0===h||!h.standalone)}(At)&&"_self"!==Ae)return function Cs(I,h){const p=document.createElement("a");p.href=I,p.target=h;const T=document.createEvent("MouseEvent");T.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),p.dispatchEvent(T)}(h||"",Ae),new It(null);const tn=window.open(h||"",Ae,Vt);ke(tn,I,"popup-blocked");try{tn.focus()}catch{}return new It(tn)}(h,Ae,sc())})()}_openRedirect(h,p,T,L){var W=this;return(0,K.A)(function*(){return yield W._originValidation(h),function ja(I){Br().location.href=I}(yield gu(h,p,T,cr(),L)),new Promise(()=>{})})()}_initialize(h){const p=h._key();if(this.eventManagers[p]){const{manager:L,promise:W}=this.eventManagers[p];return L?Promise.resolve(L):(xn(W,"If manager is not set, promise should be"),W)}const T=this.initAndGetManager(h);return this.eventManagers[p]={promise:T},T.catch(()=>{delete this.eventManagers[p]}),T}initAndGetManager(h){var p=this;return(0,K.A)(function*(){const T=yield function q(I){return ie.apply(this,arguments)}(h),L=new Ts(h);return T.register("authEvent",W=>(ke(W?.authEvent,h,"invalid-auth-event"),{status:L.onEvent(W.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),p.eventManagers[h._key()]={manager:L},p.iframes[h._key()]=T,L})()}_isIframeWebStorageSupported(h,p){this.iframes[h._key()].send(na,{type:na},L=>{var W;const oe=null===(W=L?.[0])||void 0===W?void 0:W[na];void 0!==oe&&p(!!oe),Xe(h,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(h){const p=h._key();return this.originValidationPromises[p]||(this.originValidationPromises[p]=function uc(I){return Ka.apply(this,arguments)}(h)),this.originValidationPromises[p]}get _shouldInitProactively(){return Ke()||Kt()||Mi()}};var ra="@firebase/auth";class Al{constructor(h){this.auth=h,this.internalListeners=new Map}getUid(){var h;return this.assertAuthConfigured(),(null===(h=this.auth.currentUser)||void 0===h?void 0:h.uid)||null}getToken(h){var p=this;return(0,K.A)(function*(){return p.assertAuthConfigured(),yield p.auth._initializationPromise,p.auth.currentUser?{accessToken:yield p.auth.currentUser.getIdToken(h)}:null})()}addAuthTokenListener(h){if(this.assertAuthConfigured(),this.internalListeners.has(h))return;const p=this.auth.onIdTokenChanged(T=>{h(T?.stsTokenManager.accessToken||null)});this.internalListeners.set(h,p),this.updateProactiveRefresh()}removeAuthTokenListener(h){this.assertAuthConfigured();const p=this.internalListeners.get(h);p&&(this.internalListeners.delete(h),p(),this.updateProactiveRefresh())}assertAuthConfigured(){ke(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const bi=(0,Q.XA)("authIdTokenMaxAge")||300;let Fc=null;const ia=I=>function(){var h=(0,K.A)(function*(p){const T=p&&(yield p.getIdTokenResult()),L=T&&((new Date).getTime()-Date.parse(T.issuedAtTime))/1e3;if(L&&L>bi)return;const W=T?.token;Fc!==W&&(Fc=W,yield fetch(I,{method:W?"POST":"DELETE",headers:W?{Authorization:`Bearer ${W}`}:{}}))});return function(p){return h.apply(this,arguments)}}();function hp(I=(0,Oe.Sx)()){const h=(0,Oe.j6)(I,"auth");if(h.isInitialized())return h.getImmediate();const p=function Te(I,h){const p=(0,Oe.j6)(I,"auth");if(p.isInitialized()){const L=p.getImmediate(),W=p.getOptions();if((0,Q.bD)(W,h??{}))return L;Xe(L,"already-initialized")}return p.initialize({options:h})}(I,{popupRedirectResolver:lp,persistence:[ii,Yo,os]}),T=(0,Q.XA)("authTokenSyncURL");if(T){const W=ia(T);(function an(I,h,p){(0,Q.Ku)(I).beforeAuthStateChanged(h,p)})(p,W,()=>W(p.currentUser)),function bn(I,h,p,T){(0,Q.Ku)(I).onIdTokenChanged(h,p,T)}(p,oe=>W(oe))}const L=(0,Q.Tj)("auth");return L&&function tt(I,h,p){const T=ae(I);ke(T._canInitEmulator,T,"emulator-config-failed"),ke(/^https?:\/\//.test(h),T,"invalid-emulator-scheme");const L=!!p?.disableWarnings,W=Rt(h),{host:oe,port:Ae}=function mn(I){const h=Rt(I),p=/(\/\/)?([^?#/]+)/.exec(I.substr(h.length));if(!p)return{host:"",port:null};const T=p[2].split("@").pop()||"",L=/^(\[[^\]]+\])(:|$)/.exec(T);if(L){const W=L[1];return{host:W,port:ln(T.substr(W.length+1))}}{const[W,oe]=T.split(":");return{host:W,port:ln(oe)}}}(h);T.config.emulator={url:`${W}//${oe}${null===Ae?"":`:${Ae}`}/`},T.settings.appVerificationDisabledForTesting=!0,T.emulatorConfig=Object.freeze({host:oe,port:Ae,protocol:W.replace(":",""),options:Object.freeze({disableWarnings:L})}),L||function Zt(){function I(){const h=document.createElement("p"),p=h.style;h.innerText="Running in emulator mode. Do not use with production credentials.",p.position="fixed",p.width="100%",p.backgroundColor="#ffffff",p.border=".1em solid #000000",p.color="#b50000",p.bottom="0px",p.left="0px",p.margin="0px",p.zIndex="10000",p.textAlign="center",h.classList.add("firebase-emulator-warning"),document.body.appendChild(h)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",I):I())}()}(p,`http://${L}`),p}!function Ch(I){(0,Oe.om)(new J.uA("auth",(h,{options:p})=>{const T=h.getProvider("app").getImmediate(),L=h.getProvider("heartbeat"),W=h.getProvider("app-check-internal"),{apiKey:oe,authDomain:Ae}=T.options;ke(oe&&!oe.includes(":"),"invalid-api-key",{appName:T.name});const ut={apiKey:oe,authDomain:Ae,clientPlatform:I,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:jt(I)},At=new ca(T,L,W,ut);return function Ve(I,h){const p=h?.persistence||[],T=(Array.isArray(p)?p:[p]).map(B);h?.errorMap&&I._updateErrorMap(h.errorMap),I._initializeWithPersistence(T,h?.popupRedirectResolver)}(At,p),At},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((h,p,T)=>{h.getProvider("auth-internal").initialize()})),(0,Oe.om)(new J.uA("auth-internal",h=>{const p=ae(h.getProvider("auth").getImmediate());return new Al(p)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,Oe.KO)(ra,"0.23.2",function bd(I){switch(I){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(I)),(0,Oe.KO)(ra,"0.23.2","esm2017")}("Browser");class Wu{constructor(h){return h}}class Sl{constructor(){return(0,S.CA)("auth")}}const cs=new ne.nKC("angularfire2.auth-instances");function Ml(I){return(h,p)=>{const T=h.runOutsideAngular(()=>I(p));return new Wu(T)}}const Ku={provide:Sl,deps:[[new ne.Xx1,cs]]},Vc={provide:Wu,useFactory:function Ad(I,h){const p=(0,S.lR)("auth",I,h);return p&&new Wu(p)},deps:[[new ne.Xx1,cs],se.XU]};let Sd=(()=>{class I{constructor(){(0,ge.KO)("angularfire",S.xv.full,"auth")}}return I.\u0275fac=function(p){return new(p||I)},I.\u0275mod=ne.$C({type:I}),I.\u0275inj=ne.G2t({providers:[Vc,Ku]}),I})();function mu(I,...h){return{ngModule:Sd,providers:[{provide:cs,useFactory:Ml(I),multi:!0,deps:[ne.SKi,ne.zZn,S.u0,se.gL,[new ne.Xx1,le.kR],...h]}]}}const gm=(0,S.S3)(hp,!0),Fl=(0,S.S3)(Kn,!0),Sa=(0,S.S3)(vi,!0)},4724:(Lt,Le,j)=>{j.d(Le,{_7:()=>vh,gS:()=>tm,rJ:()=>nm,kd:()=>q_,H9:()=>X_,GG:()=>tI,aU:()=>rI,hV:()=>av,P:()=>Ja,mZ:()=>cI,_M:()=>dv});var fe,S=j(3531),ne=j(2598),se=j(9676),ge=j(8934),le=j(7037),K=j(681),Q=j(467),Oe=j(2979),Ne=j(8779),te=j(5398),J=j(1401),ve=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ue={},lt=lt||{},at=ve||self;function mt(i){var e=typeof i;return"array"==(e="object"!=e?e:i?Array.isArray(i)?"array":e:"null")||"object"==e&&"number"==typeof i.length}function Bt(i){var e=typeof i;return"object"==e&&null!=i||"function"==e}var On="closure_uid_"+(1e9*Math.random()>>>0),et=0;function Je(i,e,n){return i.call.apply(i.bind,arguments)}function Me(i,e,n){if(!i)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var u=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(u,o),i.apply(e,u)}}return function(){return i.apply(e,arguments)}}function it(i,e,n){return(it=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Je:Me).apply(null,arguments)}function st(i,e){var n=Array.prototype.slice.call(arguments,1);return function(){var o=n.slice();return o.push.apply(o,arguments),i.apply(this,o)}}function Xe(i,e){function n(){}n.prototype=e.prototype,i.$=e.prototype,i.prototype=new n,i.prototype.constructor=i,i.ac=function(o,u,l){for(var f=Array(arguments.length-2),w=2;w<arguments.length;w++)f[w-2]=arguments[w];return e.prototype[u].apply(o,f)}}function St(){this.s=this.s,this.o=this.o}St.prototype.s=!1,St.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function qt(i){Object.prototype.hasOwnProperty.call(i,On)&&i[On]||(i[On]=++et)}(this)},St.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const ur=Array.prototype.indexOf?function(i,e){return Array.prototype.indexOf.call(i,e,void 0)}:function(i,e){if("string"==typeof i)return"string"!=typeof e||1!=e.length?-1:i.indexOf(e,0);for(let n=0;n<i.length;n++)if(n in i&&i[n]===e)return n;return-1};function Dt(i){const e=i.length;if(0<e){const n=Array(e);for(let o=0;o<e;o++)n[o]=i[o];return n}return[]}function ke(i,e){for(let n=1;n<arguments.length;n++){const o=arguments[n];if(mt(o)){const u=i.length||0,l=o.length||0;i.length=u+l;for(let f=0;f<l;f++)i[u+f]=o[f]}else i.push(o)}}function Pt(i,e){this.type=i,this.g=this.target=e,this.defaultPrevented=!1}Pt.prototype.h=function(){this.defaultPrevented=!0};var xn=function(){if(!at.addEventListener||!Object.defineProperty)return!1;var i=!1,e=Object.defineProperty({},"passive",{get:function(){i=!0}});try{at.addEventListener("test",()=>{},e),at.removeEventListener("test",()=>{},e)}catch{}return i}();function cr(i){return/^[\s\xa0]*$/.test(i)}function Kr(){var i=at.navigator;return i&&(i=i.userAgent)?i:""}function hn(i){return-1!=Kr().indexOf(i)}function Rn(i){return Rn[" "](i),i}Rn[" "]=function(){};var _n,i,be=hn("Opera"),we=hn("Trident")||hn("MSIE"),xe=hn("Edge"),ze=xe||we,He=hn("Gecko")&&!(-1!=Kr().toLowerCase().indexOf("webkit")&&!hn("Edge"))&&!(hn("Trident")||hn("MSIE"))&&!hn("Edge"),ot=-1!=Kr().toLowerCase().indexOf("webkit")&&!hn("Edge");function Ft(){var i=at.document;return i?i.documentMode:void 0}e:{var Ut="",In=(i=Kr(),He?/rv:([^\);]+)(\)|;)/.exec(i):xe?/Edge\/([\d\.]+)/.exec(i):we?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):ot?/WebKit\/(\S+)/.exec(i):be?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(In&&(Ut=In?In[1]:""),we){var Yt=Ft();if(null!=Yt&&Yt>parseFloat(Ut)){_n=String(Yt);break e}}_n=Ut}var Yn=at.document&&we&&(Ft()||parseInt(_n,10))||void 0;function Bn(i,e){if(Pt.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var n=this.type=i.type,o=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=e,e=i.relatedTarget){if(He){e:{try{Rn(e.nodeName);var u=!0;break e}catch{}u=!1}u||(e=null)}}else"mouseover"==n?e=i.fromElement:"mouseout"==n&&(e=i.toElement);this.relatedTarget=e,o?(this.clientX=void 0!==o.clientX?o.clientX:o.pageX,this.clientY=void 0!==o.clientY?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:_t[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&Bn.$.h.call(this)}}Xe(Bn,Pt);var _t={2:"touch",3:"pen",4:"mouse"};Bn.prototype.h=function(){Bn.$.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var Pn="closure_listenable_"+(1e6*Math.random()|0),ai=0;function lr(i,e,n,o,u){this.listener=i,this.proxy=null,this.src=e,this.type=n,this.capture=!!o,this.la=u,this.key=++ai,this.fa=this.ia=!1}function Nr(i){i.fa=!0,i.listener=null,i.proxy=null,i.src=null,i.la=null}function Zn(i,e,n){for(const o in i)e.call(n,i[o],o,i)}function Qt(i){const e={};for(const n in i)e[n]=i[n];return e}const rr="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function jn(i,e){let n,o;for(let u=1;u<arguments.length;u++){for(n in o=arguments[u],o)i[n]=o[n];for(let l=0;l<rr.length;l++)n=rr[l],Object.prototype.hasOwnProperty.call(o,n)&&(i[n]=o[n])}}function Cr(i){this.src=i,this.g={},this.h=0}function br(i,e){var n=e.type;if(n in i.g){var l,o=i.g[n],u=ur(o,e);(l=0<=u)&&Array.prototype.splice.call(o,u,1),l&&(Nr(e),0==i.g[n].length&&(delete i.g[n],i.h--))}}function kt(i,e,n,o){for(var u=0;u<i.length;++u){var l=i[u];if(!l.fa&&l.listener==e&&l.capture==!!n&&l.la==o)return u}return-1}Cr.prototype.add=function(i,e,n,o,u){var l=i.toString();(i=this.g[l])||(i=this.g[l]=[],this.h++);var f=kt(i,e,o,u);return-1<f?(e=i[f],n||(e.ia=!1)):((e=new lr(e,this.src,l,!!o,u)).ia=n,i.push(e)),e};var Or="closure_lm_"+(1e6*Math.random()|0),wn={};function Jn(i,e,n,o,u){if(o&&o.once)return pn(i,e,n,o,u);if(Array.isArray(e)){for(var l=0;l<e.length;l++)Jn(i,e[l],n,o,u);return null}return n=Pr(n),i&&i[Pn]?i.O(e,n,Bt(o)?!!o.capture:!!o,u):rn(i,e,n,!1,o,u)}function rn(i,e,n,o,u,l){if(!e)throw Error("Invalid event type");var f=Bt(u)?!!u.capture:!!u,w=dr(i);if(w||(i[Or]=w=new Cr(i)),(n=w.add(e,n,o,f,l)).proxy)return n;if(o=function Ai(){const e=Si;return function i(n){return e.call(i.src,i.listener,n)}}(),n.proxy=o,o.src=i,o.listener=n,i.addEventListener)xn||(u=f),void 0===u&&(u=!1),i.addEventListener(e.toString(),o,u);else if(i.attachEvent)i.attachEvent(Xt(e.toString()),o);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(o)}return n}function pn(i,e,n,o,u){if(Array.isArray(e)){for(var l=0;l<e.length;l++)pn(i,e[l],n,o,u);return null}return n=Pr(n),i&&i[Pn]?i.P(e,n,Bt(o)?!!o.capture:!!o,u):rn(i,e,n,!0,o,u)}function Ei(i,e,n,o,u){if(Array.isArray(e))for(var l=0;l<e.length;l++)Ei(i,e[l],n,o,u);else o=Bt(o)?!!o.capture:!!o,n=Pr(n),i&&i[Pn]?(i=i.i,(e=String(e).toString())in i.g&&-1<(n=kt(l=i.g[e],n,o,u))&&(Nr(l[n]),Array.prototype.splice.call(l,n,1),0==l.length&&(delete i.g[e],i.h--))):i&&(i=dr(i))&&(e=i.g[e.toString()],i=-1,e&&(i=kt(e,n,o,u)),(n=-1<i?e[i]:null)&&sn(n))}function sn(i){if("number"!=typeof i&&i&&!i.fa){var e=i.src;if(e&&e[Pn])br(e.i,i);else{var n=i.type,o=i.proxy;e.removeEventListener?e.removeEventListener(n,o,i.capture):e.detachEvent?e.detachEvent(Xt(n),o):e.addListener&&e.removeListener&&e.removeListener(o),(n=dr(e))?(br(n,i),0==n.h&&(n.src=null,e[Or]=null)):Nr(i)}}}function Xt(i){return i in wn?wn[i]:wn[i]="on"+i}function Si(i,e){if(i.fa)i=!0;else{e=new Bn(e,this);var n=i.listener,o=i.la||i.src;i.ia&&sn(i),i=n.call(o,e)}return i}function dr(i){return(i=i[Or])instanceof Cr?i:null}var qr="__closure_events_fn_"+(1e9*Math.random()>>>0);function Pr(i){return"function"==typeof i?i:(i[qr]||(i[qr]=function(e){return i.handleEvent(e)}),i[qr])}function kn(){St.call(this),this.i=new Cr(this),this.S=this,this.J=null}function gn(i,e){var n,o=i.J;if(o)for(n=[];o;o=o.J)n.push(o);if(i=i.S,o=e.type||e,"string"==typeof e)e=new Pt(e,i);else if(e instanceof Pt)e.target=e.target||i;else{var u=e;jn(e=new Pt(o,i),u)}if(u=!0,n)for(var l=n.length-1;0<=l;l--){var f=e.g=n[l];u=_r(f,o,!0,e)&&u}if(u=_r(f=e.g=i,o,!0,e)&&u,u=_r(f,o,!1,e)&&u,n)for(l=0;l<n.length;l++)u=_r(f=e.g=n[l],o,!1,e)&&u}function _r(i,e,n,o){if(!(e=i.i.g[String(e)]))return!0;e=e.concat();for(var u=!0,l=0;l<e.length;++l){var f=e[l];if(f&&!f.fa&&f.capture==n){var w=f.listener,x=f.la||f.src;f.ia&&br(i.i,f),u=!1!==w.call(x,o)&&u}}return u&&!o.defaultPrevented}Xe(kn,St),kn.prototype[Pn]=!0,kn.prototype.removeEventListener=function(i,e,n,o){Ei(this,i,e,n,o)},kn.prototype.N=function(){if(kn.$.N.call(this),this.i){var e,i=this.i;for(e in i.g){for(var n=i.g[e],o=0;o<n.length;o++)Nr(n[o]);delete i.g[e],i.h--}}this.J=null},kn.prototype.O=function(i,e,n,o){return this.i.add(String(i),e,!1,n,o)},kn.prototype.P=function(i,e,n,o){return this.i.add(String(i),e,!0,n,o)};var re=at.JSON.stringify;function z(){var i=En;let e=null;return i.g&&(e=i.g,i.g=i.g.next,i.g||(i.h=null),e.next=null),e}var G=new class B{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new de,i=>i.reset());class de{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function $e(i){var e=1;i=i.split(":");const n=[];for(;0<e&&i.length;)n.push(i.shift()),e--;return i.length&&n.push(i.join(":")),n}function pt(i){at.setTimeout(()=>{throw i},0)}let Kt,Ht=!1,En=new class ${constructor(){this.h=this.g=null}add(e,n){const o=G.get();o.set(e,n),this.h?this.h.next=o:this.g=o,this.h=o}},Wt=()=>{const i=at.Promise.resolve(void 0);Kt=()=>{i.then(ir)}};var ir=()=>{for(var i;i=z();){try{i.h.call(i.g)}catch(n){pt(n)}var e=G;e.j(i),100>e.h&&(e.h++,i.next=e.g,e.g=i)}Ht=!1};function Ar(i,e){kn.call(this),this.h=i||1,this.g=e||at,this.j=it(this.qb,this),this.l=Date.now()}function Mi(i){i.ga=!1,i.T&&(i.g.clearTimeout(i.T),i.T=null)}function hr(i,e,n){if("function"==typeof i)n&&(i=it(i,n));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=it(i.handleEvent,i)}return 2147483647<Number(e)?-1:at.setTimeout(i,e||0)}function Pe(i){i.g=hr(()=>{i.g=null,i.i&&(i.i=!1,Pe(i))},i.j);const e=i.h;i.h=null,i.m.apply(null,e)}Xe(Ar,kn),(fe=Ar.prototype).ga=!1,fe.T=null,fe.qb=function(){if(this.ga){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-i):(this.T&&(this.g.clearTimeout(this.T),this.T=null),gn(this,"tick"),this.ga&&(Mi(this),this.start()))}},fe.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},fe.N=function(){Ar.$.N.call(this),Mi(this),delete this.g};class he extends St{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Pe(this)}N(){super.N(),this.g&&(at.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ke(i){St.call(this),this.h=i,this.g={}}Xe(Ke,St);var xt=[];function jt(i,e,n,o){Array.isArray(n)||(n&&(xt[0]=n.toString()),n=xt);for(var u=0;u<n.length;u++){var l=Jn(e,n[u],o||i.handleEvent,!1,i.h||i);if(!l)break;i.g[l.key]=l}}function cn(i){Zn(i.g,function(e,n){this.g.hasOwnProperty(n)&&sn(e)},i),i.g={}}function on(){this.g=!0}function Lr(i,e,n,o){i.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Fr(i,e){if(!i.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(i=0;i<n.length;i++)if(Array.isArray(n[i])){var o=n[i];if(!(2>o.length)){var u=o[1];if(Array.isArray(u)&&!(1>u.length)){var l=u[0];if("noop"!=l&&"stop"!=l&&"close"!=l)for(var f=1;f<u.length;f++)u[f]=""}}}return re(n)}catch{return e}}(i,n)+(o?" "+o:"")})}Ke.prototype.N=function(){Ke.$.N.call(this),cn(this)},Ke.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},on.prototype.Ea=function(){this.g=!1},on.prototype.info=function(){};var dn={},Pi=null;function fs(){return Pi=Pi||new kn}function Hs(i){Pt.call(this,dn.Ta,i)}function ps(i){const e=fs();gn(e,new Hs(e))}function wi(i,e){Pt.call(this,dn.STAT_EVENT,i),this.stat=e}function Sr(i){const e=fs();gn(e,new wi(e,i))}function xs(i,e){Pt.call(this,dn.Ua,i),this.size=e}function ki(i,e){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return at.setTimeout(function(){i()},e)}dn.Ta="serverreachability",Xe(Hs,Pt),dn.STAT_EVENT="statevent",Xe(wi,Pt),dn.Ua="timingevent",Xe(xs,Pt);var gs={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},ca={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function ae(){}function Te(){}ae.prototype.h=null;var mn,Ve={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function tt(){Pt.call(this,"d")}function Rt(){Pt.call(this,"c")}function ln(){}function Zt(i,e,n,o){this.l=i,this.j=e,this.m=n,this.W=o||1,this.U=new Ke(this),this.P=zr,this.V=new Ar(i=ze?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new pi}function pi(){this.i=null,this.g="",this.h=!1}Xe(tt,Pt),Xe(Rt,Pt),Xe(ln,ae),ln.prototype.g=function(){return new XMLHttpRequest},ln.prototype.i=function(){return{}},mn=new ln;var zr=45e3,ci={},Zr={};function jo(i,e,n){i.L=1,i.v=Os(fr(e)),i.s=n,i.S=!0,eu(i,null)}function eu(i,e){i.G=Date.now(),ms(i),i.A=fr(i.v);var n=i.A,o=i.W;Array.isArray(o)||(o=[String(o)]),Gs(n.i,"t",o),i.C=0,n=i.l.J,i.h=new pi,i.g=Fs(i.l,n?e:null,!i.s),0<i.O&&(i.M=new he(it(i.Pa,i,i.g),i.O)),jt(i.U,i.g,"readystatechange",i.nb),e=i.I?Qt(i.I):{},i.s?(i.u||(i.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",i.g.ha(i.A,i.u,i.s,e)):(i.u="GET",i.g.ha(i.A,i.u,null,e)),ps(),function kr(i,e,n,o,u,l){i.info(function(){if(i.g)if(l)for(var f="",w=l.split("&"),x=0;x<w.length;x++){var P=w[x].split("=");if(1<P.length){var H=P[0];P=P[1];var ee=H.split("_");f=2<=ee.length&&"type"==ee[1]?f+(H+"=")+P+"&":f+(H+"=redacted&")}}else f=null;else f=l;return"XMLHTTP REQ ("+o+") [attempt "+u+"]: "+e+"\n"+n+"\n"+f})}(i.j,i.u,i.A,i.m,i.W,i.s)}function $o(i){return!!i.g&&"GET"==i.u&&2!=i.L&&i.l.Ha}function Ho(i,e,n){let u,o=!0;for(;!i.J&&i.C<n.length;){if(u=Fa(i,n),u==Zr){4==e&&(i.o=4,Sr(14),o=!1),Lr(i.j,i.m,null,"[Incomplete Response]");break}if(u==ci){i.o=4,Sr(15),Lr(i.j,i.m,n,"[Invalid Chunk]"),o=!1;break}Lr(i.j,i.m,u,null),Ns(i,u)}$o(i)&&u!=Zr&&u!=ci&&(i.h.g="",i.C=0),4!=e||0!=n.length||i.h.h||(i.o=1,Sr(16),o=!1),i.i=i.i&&o,o?0<n.length&&!i.ba&&(i.ba=!0,(e=i.l).g==i&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Ko(e),e.M=!0,Sr(11))):(Lr(i.j,i.m,n,"[Invalid Chunked Response]"),ys(i),Rs(i))}function Fa(i,e){var n=i.C,o=e.indexOf("\n",n);return-1==o?Zr:(n=Number(e.substring(n,o)),isNaN(n)?ci:(o+=1)+n>e.length?Zr:(e=e.slice(o,o+n),i.C=o+n,e))}function ms(i){i.Y=Date.now()+i.P,la(i,i.P)}function la(i,e){if(null!=i.B)throw Error("WatchDog timer not null");i.B=ki(it(i.lb,i),e)}function da(i){i.B&&(at.clearTimeout(i.B),i.B=null)}function Rs(i){0==i.l.H||i.J||Ls(i.l,i)}function ys(i){da(i);var e=i.M;e&&"function"==typeof e.sa&&e.sa(),i.M=null,Mi(i.V),cn(i.U),i.g&&(e=i.g,i.g=null,e.abort(),e.sa())}function Ns(i,e){try{var n=i.l;if(0!=n.H&&(n.g==i||es(n.i,i)))if(!i.K&&es(n.i,i)&&3==n.H){try{var o=n.Ja.g.parse(e)}catch{o=null}if(Array.isArray(o)&&3==o.length){var u=o;if(0==u[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<i.G))break e;Ks(n),Ou(n)}ga(n),Sr(18)}}else n.Fa=u[1],0<n.Fa-n.V&&37500>u[2]&&n.G&&0==n.A&&!n.v&&(n.v=ki(it(n.ib,n),6e3));if(1>=oo(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else qo(n,11)}else if((i.K||n.g==i)&&Ks(n),!cr(e))for(u=n.Ja.g.parse(e),e=0;e<u.length;e++){let P=u[e];if(n.V=P[0],P=P[1],2==n.H)if("c"==P[0]){n.K=P[1],n.pa=P[2];const H=P[3];null!=H&&(n.ra=H,n.l.info("VER="+n.ra));const ee=P[4];null!=ee&&(n.Ga=ee,n.l.info("SVER="+n.Ga));const Ce=P[5];null!=Ce&&"number"==typeof Ce&&0<Ce&&(n.L=o=1.5*Ce,n.l.info("backChannelRequestTimeoutMs_="+o)),o=n;const Fe=i.g;if(Fe){const ct=Fe.g?Fe.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ct){var l=o.i;l.g||-1==ct.indexOf("spdy")&&-1==ct.indexOf("quic")&&-1==ct.indexOf("h2")||(l.j=l.l,l.g=new Set,l.h&&(ao(l,l.h),l.h=null))}if(o.F){const bt=Fe.g?Fe.g.getResponseHeader("X-HTTP-Session-Id"):null;bt&&(o.Da=bt,Fn(o.I,o.F,bt))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-i.G,n.l.info("Handshake RTT: "+n.S+"ms"));var f=i;if((o=n).wa=ti(o,o.J?o.pa:null,o.Y),f.K){Go(o.i,f);var w=f,x=o.L;x&&w.setTimeout(x),w.B&&(da(w),ms(w)),o.g=f}else Di(o);0<n.j.length&&Ao(n)}else"stop"!=P[0]&&"close"!=P[0]||qo(n,7);else 3==n.H&&("stop"==P[0]||"close"==P[0]?"stop"==P[0]?qo(n,7):bo(n):"noop"!=P[0]&&n.h&&n.h.Aa(P),n.A=0)}ps()}catch{}}function nu(i,e){if(i.forEach&&"function"==typeof i.forEach)i.forEach(e,void 0);else if(mt(i)||"string"==typeof i)Array.prototype.forEach.call(i,e,void 0);else for(var n=function tu(i){if(i.ta&&"function"==typeof i.ta)return i.ta();if(!i.Z||"function"!=typeof i.Z){if(typeof Map<"u"&&i instanceof Map)return Array.from(i.keys());if(!(typeof Set<"u"&&i instanceof Set)){if(mt(i)||"string"==typeof i){var e=[];i=i.length;for(var n=0;n<i;n++)e.push(n);return e}e=[],n=0;for(const o in i)e[n++]=o;return e}}}(i),o=function so(i){if(i.Z&&"function"==typeof i.Z)return i.Z();if(typeof Map<"u"&&i instanceof Map||typeof Set<"u"&&i instanceof Set)return Array.from(i.values());if("string"==typeof i)return i.split("");if(mt(i)){for(var e=[],n=i.length,o=0;o<n;o++)e.push(i[o]);return e}for(o in e=[],n=0,i)e[n++]=i[o];return e}(i),u=o.length,l=0;l<u;l++)e.call(void 0,o[l],n&&n[l],i)}(fe=Zt.prototype).setTimeout=function(i){this.P=i},fe.nb=function(i){i=i.target;const e=this.M;e&&3==_s(i)?e.l():this.Pa(i)},fe.Pa=function(i){try{if(i==this.g)e:{const H=_s(this.g);var e=this.g.Ia();if(this.g.da(),!(3>H)&&(3!=H||ze||this.g&&(this.h.h||this.g.ja()||ho(this.g)))){this.J||4!=H||7==e||ps(),da(this);var n=this.g.da();this.ca=n;t:if($o(this)){var o=ho(this.g);i="";var u=o.length,l=4==_s(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){ys(this),Rs(this);var f="";break t}this.h.i=new at.TextDecoder}for(e=0;e<u;e++)this.h.h=!0,i+=this.h.i.decode(o[e],{stream:l&&e==u-1});o.splice(0,u),this.h.g+=i,this.C=0,f=this.h.g}else f=this.g.ja();if(this.i=200==n,function Ln(i,e,n,o,u,l,f){i.info(function(){return"XMLHTTP RESP ("+o+") [ attempt "+u+"]: "+e+"\n"+n+"\n"+l+" "+f})}(this.j,this.u,this.A,this.m,this.W,H,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var w,x=this.g;if((w=x.g?x.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!cr(w)){var P=w;break t}}P=null}if(!(n=P)){this.i=!1,this.o=3,Sr(12),ys(this),Rs(this);break e}Lr(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ns(this,n)}this.S?(Ho(this,H,f),ze&&this.i&&3==H&&(jt(this.U,this.V,"tick",this.mb),this.V.start())):(Lr(this.j,this.m,f,null),Ns(this,f)),4==H&&ys(this),this.i&&!this.J&&(4==H?Ls(this.l,this):(this.i=!1,ms(this)))}else(function fa(i){const e={};i=(i.g&&2<=_s(i)&&i.g.getAllResponseHeaders()||"").split("\r\n");for(let o=0;o<i.length;o++){if(cr(i[o]))continue;var n=$e(i[o]);const u=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const l=e[u]||[];e[u]=l,l.push(n)}!function Gt(i,e){for(const n in i)e.call(void 0,i[n],n,i)}(e,function(o){return o.join(", ")})})(this.g),400==n&&0<f.indexOf("Unknown SID")?(this.o=3,Sr(12)):(this.o=0,Sr(13)),ys(this),Rs(this)}}}catch{}},fe.mb=function(){if(this.g){var i=_s(this.g),e=this.g.ja();this.C<e.length&&(da(this),Ho(this,i,e),this.i&&4!=i&&ms(this))}},fe.cancel=function(){this.J=!0,ys(this)},fe.lb=function(){this.B=null;const i=Date.now();0<=i-this.Y?(function ui(i,e){i.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(ps(),Sr(17)),ys(this),this.o=2,Rs(this)):la(this,this.Y-i)};var zs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function $n(i){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,i instanceof $n){this.h=i.h,Qr(this,i.j),this.s=i.s,this.g=i.g,pr(this,i.m),this.l=i.l;var e=i.i,n=new Mr;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),Hi(this,n),this.o=i.o}else i&&(e=String(i).match(zs))?(this.h=!1,Qr(this,e[1]||"",!0),this.s=Li(e[2]||""),this.g=Li(e[3]||"",!0),pr(this,e[4]),this.l=Li(e[5]||"",!0),Hi(this,e[6]||"",!0),this.o=Li(e[7]||"")):(this.h=!1,this.i=new Mr(null,this.h))}function fr(i){return new $n(i)}function Qr(i,e,n){i.j=n?Li(e,!0):e,i.j&&(i.j=i.j.replace(/:$/,""))}function pr(i,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);i.m=e}else i.m=null}function Hi(i,e,n){e instanceof Mr?(i.i=e,function vs(i,e){e&&!i.j&&(gi(i),i.i=null,i.g.forEach(function(n,o){var u=o.toLowerCase();o!=u&&(gr(this,o),Gs(this,u,n))},i)),i.j=e}(i.i,i.h)):(n||(e=zo(e,Gr)),i.i=new Mr(e,i.h))}function Fn(i,e,n){i.i.set(e,n)}function Os(i){return Fn(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function Li(i,e){return i?e?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function zo(i,e,n){return"string"==typeof i?(i=encodeURI(i).replace(e,Ir),n&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function Ir(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}$n.prototype.toString=function(){var i=[],e=this.j;e&&i.push(zo(e,vt,!0),":");var n=this.g;return(n||"file"==e)&&(i.push("//"),(e=this.s)&&i.push(zo(e,vt,!0),"@"),i.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&i.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&i.push("/"),i.push(zo(n,"/"==n.charAt(0)?Wn:nn,!0))),(n=this.i.toString())&&i.push("?",n),(n=this.o)&&i.push("#",zo(n,To)),i.join("")};var vt=/[#\/\?@]/g,nn=/[#\?:]/g,Wn=/[#\?]/g,Gr=/[#\?@]/g,To=/#/g;function Mr(i,e){this.h=this.g=null,this.i=i||null,this.j=!!e}function gi(i){i.g||(i.g=new Map,i.h=0,i.i&&function Cn(i,e){if(i){i=i.split("&");for(var n=0;n<i.length;n++){var o=i[n].indexOf("="),u=null;if(0<=o){var l=i[n].substring(0,o);u=i[n].substring(o+1)}else l=i[n];e(l,u?decodeURIComponent(u.replace(/\+/g," ")):"")}}}(i.i,function(e,n){i.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function gr(i,e){gi(i),e=zt(i,e),i.g.has(e)&&(i.i=null,i.h-=i.g.get(e).length,i.g.delete(e))}function Ji(i,e){return gi(i),e=zt(i,e),i.g.has(e)}function Gs(i,e,n){gr(i,e),0<n.length&&(i.i=null,i.g.set(zt(i,e),Dt(n)),i.h+=n.length)}function zt(i,e){return e=String(e),i.j&&(e=e.toLowerCase()),e}function li(i){this.l=i||xr,i=at.PerformanceNavigationTiming?0<(i=at.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(at.g&&at.g.Ka&&at.g.Ka()&&at.g.Ka().ec),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(fe=Mr.prototype).add=function(i,e){gi(this),this.i=null,i=zt(this,i);var n=this.g.get(i);return n||this.g.set(i,n=[]),n.push(e),this.h+=1,this},fe.forEach=function(i,e){gi(this),this.g.forEach(function(n,o){n.forEach(function(u){i.call(e,u,o,this)},this)},this)},fe.ta=function(){gi(this);const i=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let o=0;o<e.length;o++){const u=i[o];for(let l=0;l<u.length;l++)n.push(e[o])}return n},fe.Z=function(i){gi(this);let e=[];if("string"==typeof i)Ji(this,i)&&(e=e.concat(this.g.get(zt(this,i))));else{i=Array.from(this.g.values());for(let n=0;n<i.length;n++)e=e.concat(i[n])}return e},fe.set=function(i,e){return gi(this),this.i=null,Ji(this,i=zt(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[e]),this.h+=1,this},fe.get=function(i,e){return i&&0<(i=this.Z(i)).length?String(i[0]):e},fe.toString=function(){if(this.i)return this.i;if(!this.g)return"";const i=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var o=e[n];const l=encodeURIComponent(String(o)),f=this.Z(o);for(o=0;o<f.length;o++){var u=l;""!==f[o]&&(u+="="+encodeURIComponent(String(f[o]))),i.push(u)}}return this.i=i.join("&")};var xr=10;function Fi(i){return!!i.h||!!i.g&&i.g.size>=i.j}function oo(i){return i.h?1:i.g?i.g.size:0}function es(i,e){return i.h?i.h==e:!!i.g&&i.g.has(e)}function ao(i,e){i.g?i.g.add(e):i.h=e}function Go(i,e){i.h&&i.h==e?i.h=null:i.g&&i.g.has(e)&&i.g.delete(e)}function Jr(i){if(null!=i.h)return i.i.concat(i.h.F);if(null!=i.g&&0!==i.g.size){let e=i.i;for(const n of i.g.values())e=e.concat(n.F);return e}return Dt(i.i)}li.prototype.cancel=function(){if(this.i=Jr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const i of this.g.values())i.cancel();this.g.clear()}};var Ps=class{stringify(i){return at.JSON.stringify(i,void 0)}parse(i){return at.JSON.parse(i,void 0)}};function uo(){this.g=new Ps}function Wo(i,e,n){const o=n||"";try{nu(i,function(u,l){let f=u;Bt(u)&&(f=re(u)),e.push(o+l+"="+encodeURIComponent(f))})}catch(u){throw e.push(o+"type="+encodeURIComponent("_badmap")),u}}function ha(i,e,n,o,u){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,u(o)}catch{}}function ei(i){this.l=i.fc||null,this.j=i.ob||!1}function Co(i,e){kn.call(this),this.F=i,this.u=e,this.m=void 0,this.readyState=ts,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Xe(ei,ae),ei.prototype.g=function(){return new Co(this.l,this.j)},ei.prototype.i=function(i){return function(){return i}}({}),Xe(Co,kn);var ts=0;function ks(i){i.j.read().then(i.Xa.bind(i)).catch(i.ka.bind(i))}function Hn(i){i.readyState=4,i.l=null,i.j=null,i.A=null,ns(i)}function ns(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(fe=Co.prototype).open=function(i,e){if(this.readyState!=ts)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=e,this.readyState=1,ns(this)},fe.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(e.body=i),(this.F||at).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},fe.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Hn(this)),this.readyState=ts},fe.$a=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,ns(this)),this.g&&(this.readyState=3,ns(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof at.ReadableStream<"u"&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;ks(this)}else i.text().then(this.Za.bind(this),this.ka.bind(this))},fe.Xa=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var e=i.value?i.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!i.done}))&&(this.response=this.responseText+=e)}i.done?Hn(this):ns(this),3==this.readyState&&ks(this)}},fe.Za=function(i){this.g&&(this.response=this.responseText=i,Hn(this))},fe.Ya=function(i){this.g&&(this.response=i,Hn(this))},fe.ka=function(){this.g&&Hn(this)},fe.setRequestHeader=function(i,e){this.v.append(i,e)},fe.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},fe.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],e=this.h.entries();for(var n=e.next();!n.done;)i.push((n=n.value)[0]+": "+n[1]),n=e.next();return i.join("\r\n")},Object.defineProperty(Co.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var wr=at.JSON.parse;function Ur(i){kn.call(this),this.headers=new Map,this.u=i||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=di,this.L=this.M=!1}Xe(Ur,kn);var di="",mi=/^https?$/i,co=["POST","PUT"];function lo(i,e){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=e,i.m=5,Ui(i),Ws(i)}function Ui(i){i.F||(i.F=!0,gn(i,"complete"),gn(i,"error"))}function rs(i){if(i.h&&typeof lt<"u"&&(!i.C[1]||4!=_s(i)||2!=i.da()))if(i.v&&4==_s(i))hr(i.La,0,i);else if(gn(i,"readystatechange"),4==_s(i)){i.h=!1;try{const f=i.da();e:switch(f){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var o;if(o=0===f){var u=String(i.I).match(zs)[1]||null;!u&&at.self&&at.self.location&&(u=at.self.location.protocol.slice(0,-1)),o=!mi.test(u?u.toLowerCase():"")}n=o}if(n)gn(i,"complete"),gn(i,"success");else{i.m=6;try{var l=2<_s(i)?i.g.statusText:""}catch{l=""}i.j=l+" ["+i.da()+"]",Ui(i)}}finally{Ws(i)}}}function Ws(i,e){if(i.g){sr(i);const n=i.g,o=i.C[0]?()=>{}:null;i.g=null,i.C=null,e||gn(i,"ready");try{n.onreadystatechange=o}catch{}}}function sr(i){i.g&&i.L&&(i.g.ontimeout=null),i.A&&(at.clearTimeout(i.A),i.A=null)}function _s(i){return i.g?i.g.readyState:0}function ho(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.K){case di:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch{return null}}function iu(i){let e="";return Zn(i,function(n,o){e+=o,e+=":",e+=n,e+="\r\n"}),e}function pa(i,e,n){e:{for(o in n){var o=!1;break e}o=!0}o||(n=iu(n),"string"==typeof i?null!=n&&encodeURIComponent(String(n)):Fn(i,e,n))}function Vi(i,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[i]||e}function rc(i){this.Ga=0,this.j=[],this.l=new on,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Vi("failFast",!1,i),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Vi("baseRetryDelayMs",5e3,i),this.hb=Vi("retryDelaySeedMs",1e4,i),this.eb=Vi("forwardChannelMaxRetries",2,i),this.xa=Vi("forwardChannelRequestTimeoutMs",2e4,i),this.va=i&&i.xmlHttpFactory||void 0,this.Ha=i&&i.dc||!1,this.L=void 0,this.J=i&&i.supportsCrossDomainXhr||!1,this.K="",this.i=new li(i&&i.concurrentRequestLimit),this.Ja=new uo,this.P=i&&i.fastHandshake||!1,this.O=i&&i.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=i&&i.bc||!1,i&&i.Ea&&this.l.Ea(),i&&i.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&i&&i.detectBufferingProxy||!1,this.qa=void 0,i&&i.longPollingTimeout&&0<i.longPollingTimeout&&(this.qa=i.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function bo(i){if(su(i),3==i.H){var e=i.W++,n=fr(i.I);if(Fn(n,"SID",i.K),Fn(n,"RID",e),Fn(n,"TYPE","terminate"),Ri(i,n),(e=new Zt(i,i.l,e)).L=2,e.v=Os(fr(n)),n=!1,at.navigator&&at.navigator.sendBeacon)try{n=at.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&at.Image&&((new Image).src=e.v,n=!0),n||(e.g=Fs(e.l,null),e.g.ha(e.v)),e.G=Date.now(),ms(e)}fo(i)}function Ou(i){i.g&&(Ko(i),i.g.cancel(),i.g=null)}function su(i){Ou(i),i.u&&(at.clearTimeout(i.u),i.u=null),Ks(i),i.i.cancel(),i.m&&("number"==typeof i.m&&at.clearTimeout(i.m),i.m=null)}function Ao(i){if(!Fi(i.i)&&!i.m){i.m=!0;var e=i.Na;Kt||Wt(),Ht||(Kt(),Ht=!0),En.add(e,i),i.C=0}}function Mo(i,e){var n;n=e?e.m:i.W++;const o=fr(i.I);Fn(o,"SID",i.K),Fn(o,"RID",n),Fn(o,"AID",i.V),Ri(i,o),i.o&&i.s&&pa(o,i.o,i.s),n=new Zt(i,i.l,n,i.C+1),null===i.o&&(n.I=i.s),e&&(i.j=e.F.concat(i.j)),e=ou(i,n,1e3),n.setTimeout(Math.round(.5*i.xa)+Math.round(.5*i.xa*Math.random())),ao(i.i,n),jo(n,o,e)}function Ri(i,e){i.na&&Zn(i.na,function(n,o){Fn(e,o,n)}),i.h&&nu({},function(n,o){Fn(e,o,n)})}function ou(i,e,n){n=Math.min(i.j.length,n);var o=i.h?it(i.h.Va,i.h,i):null;e:{var u=i.j;let l=-1;for(;;){const f=["count="+n];-1==l?0<n?(l=u[0].g,f.push("ofs="+l)):l=0:f.push("ofs="+l);let w=!0;for(let x=0;x<n;x++){let P=u[x].g;const H=u[x].map;if(P-=l,0>P)l=Math.max(0,u[x].g-100),w=!1;else try{Wo(H,f,"req"+P+"_")}catch{o&&o(H)}}if(w){o=f.join("&");break e}}}return i=i.j.splice(0,n),e.F=i,o}function Di(i){if(!i.g&&!i.u){i.ba=1;var e=i.Ma;Kt||Wt(),Ht||(Kt(),Ht=!0),En.add(e,i),i.A=0}}function ga(i){return!(i.g||i.u||3<=i.A||(i.ba++,i.u=ki(it(i.Ma,i),zi(i,i.A)),i.A++,0))}function Ko(i){null!=i.B&&(at.clearTimeout(i.B),i.B=null)}function au(i){i.g=new Zt(i,i.l,"rpc",i.ba),null===i.o&&(i.g.I=i.s),i.g.O=0;var e=fr(i.wa);Fn(e,"RID","rpc"),Fn(e,"SID",i.K),Fn(e,"AID",i.V),Fn(e,"CI",i.G?"0":"1"),!i.G&&i.qa&&Fn(e,"TO",i.qa),Fn(e,"TYPE","xmlhttp"),Ri(i,e),i.o&&i.s&&pa(e,i.o,i.s),i.L&&i.g.setTimeout(i.L);var n=i.g;i=i.pa,n.L=1,n.v=Os(fr(e)),n.s=null,n.S=!0,eu(n,i)}function Ks(i){null!=i.v&&(at.clearTimeout(i.v),i.v=null)}function Ls(i,e){var n=null;if(i.g==e){Ks(i),Ko(i),i.g=null;var o=2}else{if(!es(i.i,e))return;n=e.F,Go(i.i,e),o=1}if(0!=i.H)if(e.i)if(1==o){n=e.s?e.s.length:0,e=Date.now()-e.G;var u=i.C;gn(o=fs(),new xs(o,n)),Ao(i)}else Di(i);else if(3==(u=e.o)||0==u&&0<e.ca||!(1==o&&function So(i,e){return!(oo(i.i)>=i.i.j-(i.m?1:0)||(i.m?(i.j=e.F.concat(i.j),0):1==i.H||2==i.H||i.C>=(i.cb?0:i.eb)||(i.m=ki(it(i.Na,i,e),zi(i,i.C)),i.C++,0)))}(i,e)||2==o&&ga(i)))switch(n&&0<n.length&&(e=i.i,e.i=e.i.concat(n)),u){case 1:qo(i,5);break;case 4:qo(i,10);break;case 3:qo(i,6);break;default:qo(i,2)}}function zi(i,e){let n=i.ab+Math.floor(Math.random()*i.hb);return i.isActive()||(n*=2),n*e}function qo(i,e){if(i.l.info("Error code "+e),2==e){var n=null;i.h&&(n=null);var o=it(i.pb,i);n||(n=new $n("//www.google.com/images/cleardot.gif"),at.location&&"http"==at.location.protocol||Qr(n,"https"),Os(n)),function fn(i,e){const n=new on;if(at.Image){const o=new Image;o.onload=st(ha,n,o,"TestLoadImage: loaded",!0,e),o.onerror=st(ha,n,o,"TestLoadImage: error",!1,e),o.onabort=st(ha,n,o,"TestLoadImage: abort",!1,e),o.ontimeout=st(ha,n,o,"TestLoadImage: timeout",!1,e),at.setTimeout(function(){o.ontimeout&&o.ontimeout()},1e4),o.src=i}else e(!1)}(n.toString(),o)}else Sr(2);i.H=0,i.h&&i.h.za(e),fo(i),su(i)}function fo(i){if(i.H=0,i.ma=[],i.h){const e=Jr(i.i);(0!=e.length||0!=i.j.length)&&(ke(i.ma,e),ke(i.ma,i.j),i.i.i.length=0,Dt(i.j),i.j.length=0),i.h.ya()}}function ti(i,e,n){var o=n instanceof $n?fr(n):new $n(n);if(""!=o.g)e&&(o.g=e+"."+o.g),pr(o,o.m);else{var u=at.location;o=u.protocol,e=e?e+"."+u.hostname:u.hostname,u=+u.port;var l=new $n(null);o&&Qr(l,o),e&&(l.g=e),u&&pr(l,u),n&&(l.l=n),o=l}return e=i.Da,(n=i.F)&&e&&Fn(o,n,e),Fn(o,"VER",i.ra),Ri(i,o),o}function Fs(i,e,n){if(e&&!i.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Ur(n&&i.Ha&&!i.va?new ei({ob:!0}):i.va)).Oa(i.J),e}function Kn(){}function qs(){if(we&&!(10<=Number(Yn)))throw Error("Environmental error: no available transport.")}function ni(i,e){kn.call(this),this.g=new rc(e),this.l=i,this.h=e&&e.messageUrlParams||null,i=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(i?i["X-WebChannel-Content-Type"]=e.messageContentType:i={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(i?i["X-WebChannel-Client-Profile"]=e.Ca:i={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=i,(i=e&&e.cc)&&!cr(i)&&(this.g.o=i),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!cr(e)&&(this.g.F=e,null!==(i=this.h)&&e in i&&e in(i=this.h)&&delete i[e]),this.j=new Is(this)}function Pu(i){tt.call(this),i.__headers__&&(this.headers=i.__headers__,this.statusCode=i.__status__,delete i.__headers__,delete i.__status__);var e=i.__sm__;if(e){e:{for(const n in e){i=n;break e}i=void 0}(this.i=i)&&(i=this.i,e=null!==e&&i in e?e[i]:void 0),this.data=e}else this.data=i}function Ua(){Rt.call(this),this.status=1}function Is(i){this.g=i}function yi(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Qs(i,e,n){n||(n=0);var o=Array(16);if("string"==typeof e)for(var u=0;16>u;++u)o[u]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(u=0;16>u;++u)o[u]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;var l=i.g[3],f=(e=i.g[0])+(l^(n=i.g[1])&((u=i.g[2])^l))+o[0]+3614090360&4294967295;f=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=n+(f<<7&4294967295|f>>>25))+((f=l+(u^e&(n^u))+o[1]+3905402710&4294967295)<<12&4294967295|f>>>20))+((f=u+(n^l&(e^n))+o[2]+606105819&4294967295)<<17&4294967295|f>>>15))+((f=n+(e^u&(l^e))+o[3]+3250441966&4294967295)<<22&4294967295|f>>>10))+((f=e+(l^n&(u^l))+o[4]+4118548399&4294967295)<<7&4294967295|f>>>25))+((f=l+(u^e&(n^u))+o[5]+1200080426&4294967295)<<12&4294967295|f>>>20))+((f=u+(n^l&(e^n))+o[6]+2821735955&4294967295)<<17&4294967295|f>>>15))+((f=n+(e^u&(l^e))+o[7]+4249261313&4294967295)<<22&4294967295|f>>>10))+((f=e+(l^n&(u^l))+o[8]+1770035416&4294967295)<<7&4294967295|f>>>25))+((f=l+(u^e&(n^u))+o[9]+2336552879&4294967295)<<12&4294967295|f>>>20))+((f=u+(n^l&(e^n))+o[10]+4294925233&4294967295)<<17&4294967295|f>>>15))+((f=n+(e^u&(l^e))+o[11]+2304563134&4294967295)<<22&4294967295|f>>>10))+((f=e+(l^n&(u^l))+o[12]+1804603682&4294967295)<<7&4294967295|f>>>25))+((f=l+(u^e&(n^u))+o[13]+4254626195&4294967295)<<12&4294967295|f>>>20))+((f=u+(n^l&(e^n))+o[14]+2792965006&4294967295)<<17&4294967295|f>>>15))+((f=n+(e^u&(l^e))+o[15]+1236535329&4294967295)<<22&4294967295|f>>>10))+((f=e+(u^l&(n^u))+o[1]+4129170786&4294967295)<<5&4294967295|f>>>27))+((f=l+(n^u&(e^n))+o[6]+3225465664&4294967295)<<9&4294967295|f>>>23))+((f=u+(e^n&(l^e))+o[11]+643717713&4294967295)<<14&4294967295|f>>>18))+((f=n+(l^e&(u^l))+o[0]+3921069994&4294967295)<<20&4294967295|f>>>12))+((f=e+(u^l&(n^u))+o[5]+3593408605&4294967295)<<5&4294967295|f>>>27))+((f=l+(n^u&(e^n))+o[10]+38016083&4294967295)<<9&4294967295|f>>>23))+((f=u+(e^n&(l^e))+o[15]+3634488961&4294967295)<<14&4294967295|f>>>18))+((f=n+(l^e&(u^l))+o[4]+3889429448&4294967295)<<20&4294967295|f>>>12))+((f=e+(u^l&(n^u))+o[9]+568446438&4294967295)<<5&4294967295|f>>>27))+((f=l+(n^u&(e^n))+o[14]+3275163606&4294967295)<<9&4294967295|f>>>23))+((f=u+(e^n&(l^e))+o[3]+4107603335&4294967295)<<14&4294967295|f>>>18))+((f=n+(l^e&(u^l))+o[8]+1163531501&4294967295)<<20&4294967295|f>>>12))+((f=e+(u^l&(n^u))+o[13]+2850285829&4294967295)<<5&4294967295|f>>>27))+((f=l+(n^u&(e^n))+o[2]+4243563512&4294967295)<<9&4294967295|f>>>23))+((f=u+(e^n&(l^e))+o[7]+1735328473&4294967295)<<14&4294967295|f>>>18))+((f=n+(l^e&(u^l))+o[12]+2368359562&4294967295)<<20&4294967295|f>>>12))+((f=e+(n^u^l)+o[5]+4294588738&4294967295)<<4&4294967295|f>>>28))+((f=l+(e^n^u)+o[8]+2272392833&4294967295)<<11&4294967295|f>>>21))+((f=u+(l^e^n)+o[11]+1839030562&4294967295)<<16&4294967295|f>>>16))+((f=n+(u^l^e)+o[14]+4259657740&4294967295)<<23&4294967295|f>>>9))+((f=e+(n^u^l)+o[1]+2763975236&4294967295)<<4&4294967295|f>>>28))+((f=l+(e^n^u)+o[4]+1272893353&4294967295)<<11&4294967295|f>>>21))+((f=u+(l^e^n)+o[7]+4139469664&4294967295)<<16&4294967295|f>>>16))+((f=n+(u^l^e)+o[10]+3200236656&4294967295)<<23&4294967295|f>>>9))+((f=e+(n^u^l)+o[13]+681279174&4294967295)<<4&4294967295|f>>>28))+((f=l+(e^n^u)+o[0]+3936430074&4294967295)<<11&4294967295|f>>>21))+((f=u+(l^e^n)+o[3]+3572445317&4294967295)<<16&4294967295|f>>>16))+((f=n+(u^l^e)+o[6]+76029189&4294967295)<<23&4294967295|f>>>9))+((f=e+(n^u^l)+o[9]+3654602809&4294967295)<<4&4294967295|f>>>28))+((f=l+(e^n^u)+o[12]+3873151461&4294967295)<<11&4294967295|f>>>21))+((f=u+(l^e^n)+o[15]+530742520&4294967295)<<16&4294967295|f>>>16))+((f=n+(u^l^e)+o[2]+3299628645&4294967295)<<23&4294967295|f>>>9))+((f=e+(u^(n|~l))+o[0]+4096336452&4294967295)<<6&4294967295|f>>>26))+((f=l+(n^(e|~u))+o[7]+1126891415&4294967295)<<10&4294967295|f>>>22))+((f=u+(e^(l|~n))+o[14]+2878612391&4294967295)<<15&4294967295|f>>>17))+((f=n+(l^(u|~e))+o[5]+4237533241&4294967295)<<21&4294967295|f>>>11))+((f=e+(u^(n|~l))+o[12]+1700485571&4294967295)<<6&4294967295|f>>>26))+((f=l+(n^(e|~u))+o[3]+2399980690&4294967295)<<10&4294967295|f>>>22))+((f=u+(e^(l|~n))+o[10]+4293915773&4294967295)<<15&4294967295|f>>>17))+((f=n+(l^(u|~e))+o[1]+2240044497&4294967295)<<21&4294967295|f>>>11))+((f=e+(u^(n|~l))+o[8]+1873313359&4294967295)<<6&4294967295|f>>>26))+((f=l+(n^(e|~u))+o[15]+4264355552&4294967295)<<10&4294967295|f>>>22))+((f=u+(e^(l|~n))+o[6]+2734768916&4294967295)<<15&4294967295|f>>>17))+((f=n+(l^(u|~e))+o[13]+1309151649&4294967295)<<21&4294967295|f>>>11))+((l=(e=n+((f=e+(u^(n|~l))+o[4]+4149444226&4294967295)<<6&4294967295|f>>>26))+((f=l+(n^(e|~u))+o[11]+3174756917&4294967295)<<10&4294967295|f>>>22))^((u=l+((f=u+(e^(l|~n))+o[2]+718787259&4294967295)<<15&4294967295|f>>>17))|~e))+o[9]+3951481745&4294967295,i.g[0]=i.g[0]+e&4294967295,i.g[1]=i.g[1]+(u+(f<<21&4294967295|f>>>11))&4294967295,i.g[2]=i.g[2]+u&4294967295,i.g[3]=i.g[3]+l&4294967295}function Dn(i,e){this.h=e;for(var n=[],o=!0,u=i.length-1;0<=u;u--){var l=0|i[u];o&&l==e||(n[u]=l,o=!1)}this.g=n}(fe=Ur.prototype).Oa=function(i){this.M=i},fe.ha=function(i,e,n,o){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+i);e=e?e.toUpperCase():"GET",this.I=i,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():mn.g(),this.C=function ue(i){return i.h||(i.h=i.i())}(this.u?this.u:mn),this.g.onreadystatechange=it(this.La,this);try{this.G=!0,this.g.open(e,String(i),!0),this.G=!1}catch(l){return void lo(this,l)}if(i=n||"",n=new Map(this.headers),o)if(Object.getPrototypeOf(o)===Object.prototype)for(var u in o)n.set(u,o[u]);else{if("function"!=typeof o.keys||"function"!=typeof o.get)throw Error("Unknown input type for opt_headers: "+String(o));for(const l of o.keys())n.set(l,o.get(l))}o=Array.from(n.keys()).find(l=>"content-type"==l.toLowerCase()),u=at.FormData&&i instanceof at.FormData,!(0<=ur(co,e))||o||u||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[l,f]of n)this.g.setRequestHeader(l,f);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{sr(this),0<this.B&&((this.L=function xi(i){return we&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=it(this.ua,this)):this.A=hr(this.ua,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(l){lo(this,l)}},fe.ua=function(){typeof lt<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,gn(this,"timeout"),this.abort(8))},fe.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,gn(this,"complete"),gn(this,"abort"),Ws(this))},fe.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Ws(this,!0)),Ur.$.N.call(this)},fe.La=function(){this.s||(this.G||this.v||this.l?rs(this):this.kb())},fe.kb=function(){rs(this)},fe.isActive=function(){return!!this.g},fe.da=function(){try{return 2<_s(this)?this.g.status:-1}catch{return-1}},fe.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},fe.Wa=function(i){if(this.g){var e=this.g.responseText;return i&&0==e.indexOf(i)&&(e=e.substring(i.length)),wr(e)}},fe.Ia=function(){return this.m},fe.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(fe=rc.prototype).ra=8,fe.H=1,fe.Na=function(i){if(this.m)if(this.m=null,1==this.H){if(!i){this.W=Math.floor(1e5*Math.random()),i=this.W++;const u=new Zt(this,this.l,i);let l=this.s;if(this.U&&(l?(l=Qt(l),jn(l,this.U)):l=this.U),null!==this.o||this.O||(u.I=l,l=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){var o=this.j[n];if(void 0===(o="__data__"in o.map&&"string"==typeof(o=o.map.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=n;break e}if(4096===e||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=ou(this,u,e),Fn(n=fr(this.I),"RID",i),Fn(n,"CVER",22),this.F&&Fn(n,"X-HTTP-Session-Id",this.F),Ri(this,n),l&&(this.O?e="headers="+encodeURIComponent(String(iu(l)))+"&"+e:this.o&&pa(n,this.o,l)),ao(this.i,u),this.bb&&Fn(n,"TYPE","init"),this.P?(Fn(n,"$req",e),Fn(n,"SID","null"),u.aa=!0,jo(u,n,null)):jo(u,n,e),this.H=2}}else 3==this.H&&(i?Mo(this,i):0==this.j.length||Fi(this.i)||Mo(this))},fe.Ma=function(){if(this.u=null,au(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var i=2*this.S;this.l.info("BP detection timer enabled: "+i),this.B=ki(it(this.jb,this),i)}},fe.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Sr(10),Ou(this),au(this))},fe.ib=function(){null!=this.v&&(this.v=null,Ou(this),ga(this),Sr(19))},fe.pb=function(i){i?(this.l.info("Successfully pinged google.com"),Sr(2)):(this.l.info("Failed to ping google.com"),Sr(1))},fe.isActive=function(){return!!this.h&&this.h.isActive(this)},(fe=Kn.prototype).Ba=function(){},fe.Aa=function(){},fe.za=function(){},fe.ya=function(){},fe.isActive=function(){return!0},fe.Va=function(){},qs.prototype.g=function(i,e){return new ni(i,e)},Xe(ni,kn),ni.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var i=this.g,e=this.l,n=this.h||void 0;Sr(0),i.Y=e,i.na=n||{},i.G=i.aa,i.I=ti(i,null,i.Y),Ao(i)},ni.prototype.close=function(){bo(this.g)},ni.prototype.u=function(i){var e=this.g;if("string"==typeof i){var n={};n.__data__=i,i=n}else this.v&&((n={}).__data__=re(i),i=n);e.j.push(new class{constructor(i,e){this.g=i,this.map=e}}(e.fb++,i)),3==e.H&&Ao(e)},ni.prototype.N=function(){this.g.h=null,delete this.j,bo(this.g),delete this.g,ni.$.N.call(this)},Xe(Pu,tt),Xe(Ua,Rt),Xe(Is,Kn),Is.prototype.Ba=function(){gn(this.g,"a")},Is.prototype.Aa=function(i){gn(this.g,new Pu(i))},Is.prototype.za=function(i){gn(this.g,new Ua)},Is.prototype.ya=function(){gn(this.g,"b")},Xe(yi,function xo(){this.blockSize=-1}),yi.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},yi.prototype.j=function(i,e){void 0===e&&(e=i.length);for(var n=e-this.blockSize,o=this.m,u=this.h,l=0;l<e;){if(0==u)for(;l<=n;)Qs(this,i,l),l+=this.blockSize;if("string"==typeof i){for(;l<e;)if(o[u++]=i.charCodeAt(l++),u==this.blockSize){Qs(this,o),u=0;break}}else for(;l<e;)if(o[u++]=i[l++],u==this.blockSize){Qs(this,o),u=0;break}}this.h=u,this.i+=e},yi.prototype.l=function(){var i=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);i[0]=128;for(var e=1;e<i.length-8;++e)i[e]=0;var n=8*this.i;for(e=i.length-8;e<i.length;++e)i[e]=255&n,n/=256;for(this.j(i),i=Array(16),e=n=0;4>e;++e)for(var o=0;32>o;o+=8)i[n++]=this.g[e]>>>o&255;return i};var ku={};function Qo(i){return-128<=i&&128>i?function Ee(i,e){var n=ku;return Object.prototype.hasOwnProperty.call(n,i)?n[i]:n[i]=e(i)}(i,function(e){return new Dn([0|e],0>e?-1:0)}):new Dn([0|i],0>i?-1:0)}function is(i){if(isNaN(i)||!isFinite(i))return Es;if(0>i)return Vr(is(-i));for(var e=[],n=1,o=0;i>=n;o++)e[o]=i/n|0,n*=ss;return new Dn(e,0)}var ss=4294967296,Es=Qo(0),ic=Qo(1),ma=Qo(16777216);function po(i){if(0!=i.h)return!1;for(var e=0;e<i.g.length;e++)if(0!=i.g[e])return!1;return!0}function Gi(i){return-1==i.h}function Vr(i){for(var e=i.g.length,n=[],o=0;o<e;o++)n[o]=~i.g[o];return new Dn(n,~i.h).add(ic)}function go(i,e){return i.add(Vr(e))}function E(i,e){for(;(65535&i[e])!=i[e];)i[e+1]+=i[e]>>>16,i[e]&=65535,e++}function F(i,e){this.g=i,this.h=e}function M(i,e){if(po(e))throw Error("division by zero");if(po(i))return new F(Es,Es);if(Gi(i))return e=M(Vr(i),e),new F(Vr(e.g),Vr(e.h));if(Gi(e))return e=M(i,Vr(e)),new F(Vr(e.g),e.h);if(30<i.g.length){if(Gi(i)||Gi(e))throw Error("slowDivide_ only works with positive integers.");for(var n=ic,o=e;0>=o.X(i);)n=k(n),o=k(o);var u=Z(n,1),l=Z(o,1);for(o=Z(o,2),n=Z(n,2);!po(o);){var f=l.add(o);0>=f.X(i)&&(u=u.add(n),l=f),o=Z(o,1),n=Z(n,1)}return e=go(i,u.R(e)),new F(u,e)}for(u=Es;0<=i.X(e);){for(n=Math.max(1,Math.floor(i.ea()/e.ea())),o=48>=(o=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,o-48),f=(l=is(n)).R(e);Gi(f)||0<f.X(i);)f=(l=is(n-=o)).R(e);po(l)&&(l=ic),u=u.add(l),i=go(i,f)}return new F(u,i)}function k(i){for(var e=i.g.length+1,n=[],o=0;o<e;o++)n[o]=i.D(o)<<1|i.D(o-1)>>>31;return new Dn(n,i.h)}function Z(i,e){var n=e>>5;e%=32;for(var o=i.g.length-n,u=[],l=0;l<o;l++)u[l]=0<e?i.D(l+n)>>>e|i.D(l+n+1)<<32-e:i.D(l+n);return new Dn(u,i.h)}(fe=Dn.prototype).ea=function(){if(Gi(this))return-Vr(this).ea();for(var i=0,e=1,n=0;n<this.g.length;n++){var o=this.D(n);i+=(0<=o?o:ss+o)*e,e*=ss}return i},fe.toString=function(i){if(2>(i=i||10)||36<i)throw Error("radix out of range: "+i);if(po(this))return"0";if(Gi(this))return"-"+Vr(this).toString(i);for(var e=is(Math.pow(i,6)),n=this,o="";;){var u=M(n,e).g,l=((0<(n=go(n,u.R(e))).g.length?n.g[0]:n.h)>>>0).toString(i);if(po(n=u))return l+o;for(;6>l.length;)l="0"+l;o=l+o}},fe.D=function(i){return 0>i?0:i<this.g.length?this.g[i]:this.h},fe.X=function(i){return Gi(i=go(this,i))?-1:po(i)?0:1},fe.abs=function(){return Gi(this)?Vr(this):this},fe.add=function(i){for(var e=Math.max(this.g.length,i.g.length),n=[],o=0,u=0;u<=e;u++){var l=o+(65535&this.D(u))+(65535&i.D(u)),f=(l>>>16)+(this.D(u)>>>16)+(i.D(u)>>>16);o=f>>>16,n[u]=(f&=65535)<<16|(l&=65535)}return new Dn(n,-2147483648&n[n.length-1]?-1:0)},fe.R=function(i){if(po(this)||po(i))return Es;if(Gi(this))return Gi(i)?Vr(this).R(Vr(i)):Vr(Vr(this).R(i));if(Gi(i))return Vr(this.R(Vr(i)));if(0>this.X(ma)&&0>i.X(ma))return is(this.ea()*i.ea());for(var e=this.g.length+i.g.length,n=[],o=0;o<2*e;o++)n[o]=0;for(o=0;o<this.g.length;o++)for(var u=0;u<i.g.length;u++){var l=this.D(o)>>>16,f=65535&this.D(o),w=i.D(u)>>>16,x=65535&i.D(u);n[2*o+2*u]+=f*x,E(n,2*o+2*u),n[2*o+2*u+1]+=l*x,E(n,2*o+2*u+1),n[2*o+2*u+1]+=f*w,E(n,2*o+2*u+1),n[2*o+2*u+2]+=l*w,E(n,2*o+2*u+2)}for(o=0;o<e;o++)n[o]=n[2*o+1]<<16|n[2*o];for(o=e;o<2*e;o++)n[o]=0;return new Dn(n,0)},fe.gb=function(i){return M(this,i).h},fe.and=function(i){for(var e=Math.max(this.g.length,i.g.length),n=[],o=0;o<e;o++)n[o]=this.D(o)&i.D(o);return new Dn(n,this.h&i.h)},fe.or=function(i){for(var e=Math.max(this.g.length,i.g.length),n=[],o=0;o<e;o++)n[o]=this.D(o)|i.D(o);return new Dn(n,this.h|i.h)},fe.xor=function(i){for(var e=Math.max(this.g.length,i.g.length),n=[],o=0;o<e;o++)n[o]=this.D(o)^i.D(o);return new Dn(n,this.h^i.h)},qs.prototype.createWebChannel=qs.prototype.g,ni.prototype.send=ni.prototype.u,ni.prototype.open=ni.prototype.m,ni.prototype.close=ni.prototype.close,gs.NO_ERROR=0,gs.TIMEOUT=8,gs.HTTP_ERROR=6,ca.COMPLETE="complete",Te.EventType=Ve,Ve.OPEN="a",Ve.CLOSE="b",Ve.ERROR="c",Ve.MESSAGE="d",kn.prototype.listen=kn.prototype.O,Ur.prototype.listenOnce=Ur.prototype.P,Ur.prototype.getLastError=Ur.prototype.Sa,Ur.prototype.getLastErrorCode=Ur.prototype.Ia,Ur.prototype.getStatus=Ur.prototype.da,Ur.prototype.getResponseJson=Ur.prototype.Wa,Ur.prototype.getResponseText=Ur.prototype.ja,Ur.prototype.send=Ur.prototype.ha,Ur.prototype.setWithCredentials=Ur.prototype.Oa,yi.prototype.digest=yi.prototype.l,yi.prototype.reset=yi.prototype.reset,yi.prototype.update=yi.prototype.j,Dn.prototype.add=Dn.prototype.add,Dn.prototype.multiply=Dn.prototype.R,Dn.prototype.modulo=Dn.prototype.gb,Dn.prototype.compare=Dn.prototype.X,Dn.prototype.toNumber=Dn.prototype.ea,Dn.prototype.toString=Dn.prototype.toString,Dn.prototype.getBits=Dn.prototype.D,Dn.fromNumber=is,Dn.fromString=function Us(i,e){if(0==i.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==i.charAt(0))return Vr(Us(i.substring(1),e));if(0<=i.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=is(Math.pow(e,8)),o=Es,u=0;u<i.length;u+=8){var l=Math.min(8,i.length-u),f=parseInt(i.substring(u,u+l),e);8>l?(l=is(Math.pow(e,l)),o=o.R(l).add(is(f))):o=(o=o.R(n)).add(is(f))}return o};var Se=Ue.createWebChannelTransport=function(){return new qs},je=Ue.getStatEventTarget=function(){return fs()},Nt=Ue.ErrorCode=gs,qn=Ue.EventType=ca,er=Ue.Event=dn,bn=Ue.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},an=Ue.FetchXmlHttpFactory=ei,mr=Ue.WebChannel=Te,tr=Ue.XhrIo=Ur,ri=Ue.Md5=yi,vi=Ue.Integer=Dn;const Wi="@firebase/firestore";class Qn{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Qn.UNAUTHENTICATED=new Qn(null),Qn.GOOGLE_CREDENTIALS=new Qn("google-credentials-uid"),Qn.FIRST_PARTY=new Qn("first-party-uid"),Qn.MOCK_USER=new Qn("mock-user");let yr="9.23.0";const Xr=new te.Vy("@firebase/firestore");function Xs(){return Xr.logLevel}function Ze(i,...e){if(Xr.logLevel<=te.$b.DEBUG){const n=e.map(Va);Xr.debug(`Firestore (${yr}): ${i}`,...n)}}function Dr(i,...e){if(Xr.logLevel<=te.$b.ERROR){const n=e.map(Va);Xr.error(`Firestore (${yr}): ${i}`,...n)}}function ws(i,...e){if(Xr.logLevel<=te.$b.WARN){const n=e.map(Va);Xr.warn(`Firestore (${yr}): ${i}`,...n)}}function Va(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch{return i}}function wt(i="Unexpected state"){const e=`FIRESTORE (${yr}) INTERNAL ASSERTION FAILED: `+i;throw Dr(e),new Error(e)}function Tt(i,e){i||wt()}function gt(i,e){return i}const ye={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ge extends J.g{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Nn{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class Ki{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class _l{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Qn.UNAUTHENTICATED))}shutdown(){}}class Yo{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class uu{constructor(e){this.t=e,this.currentUser=Qn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var o=this;let u=this.i;const l=P=>this.i!==u?(u=this.i,n(P)):Promise.resolve();let f=new Nn;this.o=()=>{this.i++,this.currentUser=this.u(),f.resolve(),f=new Nn,e.enqueueRetryable(()=>l(this.currentUser))};const w=()=>{const P=f;e.enqueueRetryable((0,Q.A)(function*(){yield P.promise,yield l(o.currentUser)}))},x=P=>{Ze("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=P,this.auth.addAuthTokenListener(this.o),w()};this.t.onInit(P=>x(P)),setTimeout(()=>{if(!this.auth){const P=this.t.getImmediate({optional:!0});P?x(P):(Ze("FirebaseAuthCredentialsProvider","Auth not yet detected"),f.resolve(),f=new Nn)}},0),w()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(o=>this.i!==e?(Ze("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(Tt("string"==typeof o.accessToken),new Ki(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Tt(null===e||"string"==typeof e),new Qn(e)}}class os{constructor(e,n,o){this.h=e,this.l=n,this.m=o,this.type="FirstParty",this.user=Qn.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class Ba{constructor(e,n,o){this.h=e,this.l=n,this.m=o}getToken(){return Promise.resolve(new os(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(Qn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Rc{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class sc{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const o=l=>{null!=l.error&&Ze("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const f=l.token!==this.T;return this.T=l.token,Ze("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>o(l))};const u=l=>{Ze("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.appCheck.addTokenListener(this.o)};this.I.onInit(l=>u(l)),setTimeout(()=>{if(!this.appCheck){const l=this.I.getImmediate({optional:!0});l?u(l):Ze("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Tt("string"==typeof n.token),this.T=n.token,new Rc(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Br(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let o=0;o<i;o++)n[o]=Math.floor(256*Math.random());return n}class ja{static A(){const n=62*Math.floor(256/62);let o="";for(;o.length<20;){const u=Br(40);for(let l=0;l<u.length;++l)o.length<20&&u[l]<n&&(o+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(u[l]%62))}return o}}function Ot(i,e){return i<e?-1:i>e?1:0}function Ro(i,e,n){return i.length===e.length&&i.every((o,u)=>n(o,e[u]))}class jr{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ge(ye.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ge(ye.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Ge(ye.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ge(ye.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return jr.fromMillis(Date.now())}static fromDate(e){return jr.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),o=Math.floor(1e6*(e-1e3*n));return new jr(n,o)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ot(this.nanoseconds,e.nanoseconds):Ot(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Qe{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Qe(e)}static min(){return new Qe(new jr(0,0))}static max(){return new Qe(new jr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class ya{constructor(e,n,o){void 0===n?n=0:n>e.length&&wt(),void 0===o?o=e.length-n:o>e.length-n&&wt(),this.segments=e,this.offset=n,this.len=o}get length(){return this.len}isEqual(e){return 0===ya.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ya?e.forEach(o=>{n.push(o)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,o=this.limit();n<o;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const o=Math.min(e.length,n.length);for(let u=0;u<o;u++){const l=e.get(u),f=n.get(u);if(l<f)return-1;if(l>f)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class zn extends ya{construct(e,n,o){return new zn(e,n,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const o of e){if(o.indexOf("//")>=0)throw new Ge(ye.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);n.push(...o.split("/").filter(u=>u.length>0))}return new zn(n)}static emptyPath(){return new zn([])}}const $a=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class $r extends ya{construct(e,n,o){return new $r(e,n,o)}static isValidIdentifier(e){return $a.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),$r.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new $r(["__name__"])}static fromServerFormat(e){const n=[];let o="",u=0;const l=()=>{if(0===o.length)throw new Ge(ye.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(o),o=""};let f=!1;for(;u<e.length;){const w=e[u];if("\\"===w){if(u+1===e.length)throw new Ge(ye.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const x=e[u+1];if("\\"!==x&&"."!==x&&"`"!==x)throw new Ge(ye.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=x,u+=2}else"`"===w?(f=!f,u++):"."!==w||f?(o+=w,u++):(l(),u++)}if(l(),f)throw new Ge(ye.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new $r(n)}static emptyPath(){return new $r([])}}class dt{constructor(e){this.path=e}static fromPath(e){return new dt(zn.fromString(e))}static fromName(e){return new dt(zn.fromString(e).popFirst(5))}static empty(){return new dt(zn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===zn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return zn.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new dt(new zn(e.slice()))}}function An(i){return new as(i.readTime,i.key,-1)}class as{constructor(e,n,o){this.readTime=e,this.documentKey=n,this.largestBatchId=o}static min(){return new as(Qe.min(),dt.empty(),-1)}static max(){return new as(Qe.max(),dt.empty(),-1)}}function cu(i,e){let n=i.readTime.compareTo(e.readTime);return 0!==n?n:(n=dt.comparator(i.documentKey,e.documentKey),0!==n?n:Ot(i.largestBatchId,e.largestBatchId))}const ii="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Fu{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function qi(i){return us.apply(this,arguments)}function us(){return us=(0,Q.A)(function*(i){if(i.code!==ye.FAILED_PRECONDITION||i.message!==ii)throw i;Ze("LocalStore","Unexpectedly lost primary lease")}),us.apply(this,arguments)}class De{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&wt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new De((o,u)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(o,u)},this.catchCallback=l=>{this.wrapFailure(n,l).next(o,u)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof De?n:De.resolve(n)}catch(n){return De.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):De.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):De.reject(n)}static resolve(e){return new De((n,o)=>{n(e)})}static reject(e){return new De((n,o)=>{o(e)})}static waitFor(e){return new De((n,o)=>{let u=0,l=0,f=!1;e.forEach(w=>{++u,w.next(()=>{++l,f&&l===u&&n()},x=>o(x))}),f=!0,l===u&&n()})}static or(e){let n=De.resolve(!1);for(const o of e)n=n.next(u=>u?De.resolve(u):o());return n}static forEach(e,n){const o=[];return e.forEach((u,l)=>{o.push(n.call(this,u,l))}),this.waitFor(o)}static mapArray(e,n){return new De((o,u)=>{const l=e.length,f=new Array(l);let w=0;for(let x=0;x<l;x++){const P=x;n(e[P]).next(H=>{f[P]=H,++w,w===l&&o(f)},H=>u(H))}})}static doWhile(e,n){return new De((o,u)=>{const l=()=>{!0===e()?n().next(()=>{l()},u):o()};l()})}}function Wr(i){return"IndexedDbTransactionError"===i.name}let y=(()=>{class i{constructor(n,o){this.previousValue=n,o&&(o.sequenceNumberHandler=u=>this.ot(u),this.ut=u=>o.writeSequenceNumber(u))}ot(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.ut&&this.ut(n),n}}return i.ct=-1,i})();function D(i){return null==i}function m(i){return 0===i&&1/i==-1/0}function Dl(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function za(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function ea(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class nr{constructor(e,n){this.comparator=e,this.root=n||Xi.EMPTY}insert(e,n){return new nr(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Xi.BLACK,null,null))}remove(e){return new nr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Xi.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const o=this.comparator(e,n.key);if(0===o)return n.value;o<0?n=n.left:o>0&&(n=n.right)}return null}indexOf(e){let n=0,o=this.root;for(;!o.isEmpty();){const u=this.comparator(e,o.key);if(0===u)return n+o.left.size;u<0?o=o.left:(n+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,o)=>(e(n,o),!1))}toString(){const e=[];return this.inorderTraversal((n,o)=>(e.push(`${n}:${o}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ga(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ga(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ga(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ga(this.root,e,this.comparator,!0)}}class Ga{constructor(e,n,o,u){this.isReverse=u,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?o(e.key,n):1,n&&u&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(0===l){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Xi{constructor(e,n,o,u,l){this.key=e,this.value=n,this.color=o??Xi.RED,this.left=u??Xi.EMPTY,this.right=l??Xi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,o,u,l){return new Xi(e??this.key,n??this.value,o??this.color,u??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,o){let u=this;const l=o(e,u.key);return u=l<0?u.copy(null,null,null,u.left.insert(e,n,o),null):0===l?u.copy(null,n,null,null,null):u.copy(null,null,null,null,u.right.insert(e,n,o)),u.fixUp()}removeMin(){if(this.left.isEmpty())return Xi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let o,u=this;if(n(e,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(e,n),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),0===n(e,u.key)){if(u.right.isEmpty())return Xi.EMPTY;o=u.right.min(),u=u.copy(o.key,o.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(e,n))}return u.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Xi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Xi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw wt();const e=this.left.check();if(e!==this.right.check())throw wt();return e+(this.isRed()?0:1)}}Xi.EMPTY=null,Xi.RED=!0,Xi.BLACK=!1,Xi.EMPTY=new class{constructor(){this.size=0}get key(){throw wt()}get value(){throw wt()}get color(){throw wt()}get left(){throw wt()}get right(){throw wt()}copy(i,e,n,o,u){return this}insert(i,e,n){return new Xi(i,e)}remove(i,e){return this}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Tr{constructor(e){this.comparator=e,this.data=new nr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,o)=>(e(n),!1))}forEachInRange(e,n){const o=this.data.getIteratorFrom(e[0]);for(;o.hasNext();){const u=o.getNext();if(this.comparator(u.key,e[1])>=0)return;n(u.key)}}forEachWhile(e,n){let o;for(o=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();o.hasNext();)if(!e(o.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Tl(this.data.getIterator())}getIteratorFrom(e){return new Tl(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(o=>{n=n.add(o)}),n}isEqual(e){if(!(e instanceof Tr)||this.size!==e.size)return!1;const n=this.data.getIterator(),o=e.data.getIterator();for(;n.hasNext();){const u=n.getNext().key,l=o.getNext().key;if(0!==this.comparator(u,l))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Tr(this.comparator);return n.data=e,n}}class Tl{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Vs{constructor(e){this.fields=e,e.sort($r.comparator)}static empty(){return new Vs([])}unionWith(e){let n=new Tr($r.comparator);for(const o of this.fields)n=n.add(o);for(const o of e)n=n.add(o);return new Vs(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ro(this.fields,e.fields,(n,o)=>n.isEqual(o))}}class Dd extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ti{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new Dd("Invalid base64 string: "+u):u}}(e);return new Ti(n)}static fromUint8Array(e){const n=function(o){let u="";for(let l=0;l<o.length;++l)u+=String.fromCharCode(o[l]);return u}(e);return new Ti(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let o=0;o<e.length;o++)n[o]=e.charCodeAt(o);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ot(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ti.EMPTY_BYTE_STRING=new Ti("");const Vu=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function yo(i){if(Tt(!!i),"string"==typeof i){let e=0;const n=Vu.exec(i);if(Tt(!!n),n[1]){let u=n[1];u=(u+"000000000").substr(0,9),e=Number(u)}const o=new Date(i);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:Hr(i.seconds),nanos:Hr(i.nanos)}}function Hr(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function Js(i){return"string"==typeof i?Ti.fromBase64String(i):Ti.fromUint8Array(i)}function Fo(i){var e,n;return"server_timestamp"===(null===(n=((null===(e=i?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Cl(i){const e=i.mapValue.fields.__previous_value__;return Fo(e)?Cl(e):e}function Uo(i){const e=yo(i.mapValue.fields.__local_write_time__.timestampValue);return new jr(e.seconds,e.nanos)}class Bu{constructor(e,n,o,u,l,f,w,x,P){this.databaseId=e,this.appId=n,this.persistenceKey=o,this.host=u,this.ssl=l,this.forceLongPolling=f,this.autoDetectLongPolling=w,this.longPollingOptions=x,this.useFetchStreams=P}}class vo{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new vo("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof vo&&e.projectId===this.projectId&&e.database===this.database}}const _i={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Bs(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Fo(i)?4:$u(i)?9007199254740991:10:wt()}function Ts(i,e){if(i===e)return!0;const n=Bs(i);if(n!==Bs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Uo(i).isEqual(Uo(e));case 3:return function(o,u){if("string"==typeof o.timestampValue&&"string"==typeof u.timestampValue&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const l=yo(o.timestampValue),f=yo(u.timestampValue);return l.seconds===f.seconds&&l.nanos===f.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return u=e,Js(i.bytesValue).isEqual(Js(u.bytesValue));case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,u){return Hr(o.geoPointValue.latitude)===Hr(u.geoPointValue.latitude)&&Hr(o.geoPointValue.longitude)===Hr(u.geoPointValue.longitude)}(i,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return Hr(o.integerValue)===Hr(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const l=Hr(o.doubleValue),f=Hr(u.doubleValue);return l===f?m(l)===m(f):isNaN(l)&&isNaN(f)}return!1}(i,e);case 9:return Ro(i.arrayValue.values||[],e.arrayValue.values||[],Ts);case 10:return function(o,u){const l=o.mapValue.fields||{},f=u.mapValue.fields||{};if(Dl(l)!==Dl(f))return!1;for(const w in l)if(l.hasOwnProperty(w)&&(void 0===f[w]||!Ts(l[w],f[w])))return!1;return!0}(i,e);default:return wt()}var u}function hu(i,e){return void 0!==(i.values||[]).find(n=>Ts(n,e))}function _o(i,e){if(i===e)return 0;const n=Bs(i),o=Bs(e);if(n!==o)return Ot(n,o);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ot(i.booleanValue,e.booleanValue);case 2:return function(u,l){const f=Hr(u.integerValue||u.doubleValue),w=Hr(l.integerValue||l.doubleValue);return f<w?-1:f>w?1:f===w?0:isNaN(f)?isNaN(w)?0:-1:1}(i,e);case 3:return kc(i.timestampValue,e.timestampValue);case 4:return kc(Uo(i),Uo(e));case 5:return Ot(i.stringValue,e.stringValue);case 6:return function(u,l){const f=Js(u),w=Js(l);return f.compareTo(w)}(i.bytesValue,e.bytesValue);case 7:return function(u,l){const f=u.split("/"),w=l.split("/");for(let x=0;x<f.length&&x<w.length;x++){const P=Ot(f[x],w[x]);if(0!==P)return P}return Ot(f.length,w.length)}(i.referenceValue,e.referenceValue);case 8:return function(u,l){const f=Ot(Hr(u.latitude),Hr(l.latitude));return 0!==f?f:Ot(Hr(u.longitude),Hr(l.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return function(u,l){const f=u.values||[],w=l.values||[];for(let x=0;x<f.length&&x<w.length;++x){const P=_o(f[x],w[x]);if(P)return P}return Ot(f.length,w.length)}(i.arrayValue,e.arrayValue);case 10:return function(u,l){if(u===_i.mapValue&&l===_i.mapValue)return 0;if(u===_i.mapValue)return 1;if(l===_i.mapValue)return-1;const f=u.fields||{},w=Object.keys(f),x=l.fields||{},P=Object.keys(x);w.sort(),P.sort();for(let H=0;H<w.length&&H<P.length;++H){const ee=Ot(w[H],P[H]);if(0!==ee)return ee;const Ce=_o(f[w[H]],x[P[H]]);if(0!==Ce)return Ce}return Ot(w.length,P.length)}(i.mapValue,e.mapValue);default:throw wt()}}function kc(i,e){if("string"==typeof i&&"string"==typeof e&&i.length===e.length)return Ot(i,e);const n=yo(i),o=yo(e),u=Ot(n.seconds,o.seconds);return 0!==u?u:Ot(n.nanos,o.nanos)}function fu(i){return pu(i)}function pu(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(o){const u=yo(o);return`time(${u.seconds},${u.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?Js(i.bytesValue).toBase64():"referenceValue"in i?dt.fromName(i.referenceValue).toString():"geoPointValue"in i?`geo(${(e=i.geoPointValue).latitude},${e.longitude})`:"arrayValue"in i?function(o){let u="[",l=!0;for(const f of o.values||[])l?l=!1:u+=",",u+=pu(f);return u+"]"}(i.arrayValue):"mapValue"in i?function(o){const u=Object.keys(o.fields||{}).sort();let l="{",f=!0;for(const w of u)f?f=!1:l+=",",l+=`${w}:${pu(o.fields[w])}`;return l+"}"}(i.mapValue):wt();var e}function ta(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function uc(i){return!!i&&"integerValue"in i}function Ka(i){return!!i&&"arrayValue"in i}function Io(i){return!!i&&"nullValue"in i}function Ta(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Eo(i){return!!i&&"mapValue"in i}function ju(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return za(i.mapValue.fields,(n,o)=>e.mapValue.fields[n]=ju(o)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ju(i.arrayValue.values[n]);return e}return Object.assign({},i)}function $u(i){return"__max__"===(((i.mapValue||{}).fields||{}).__type__||{}).stringValue}class _{constructor(e){this.value=e}static empty(){return new _({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let o=0;o<e.length-1;++o)if(n=(n.mapValue.fields||{})[e.get(o)],!Eo(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ju(n)}setAll(e){let n=$r.emptyPath(),o={},u=[];e.forEach((f,w)=>{if(!n.isImmediateParentOf(w)){const x=this.getFieldsMap(n);this.applyChanges(x,o,u),o={},u=[],n=w.popLast()}f?o[w.lastSegment()]=ju(f):u.push(w.lastSegment())});const l=this.getFieldsMap(n);this.applyChanges(l,o,u)}delete(e){const n=this.field(e.popLast());Eo(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ts(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let o=0;o<e.length;++o){let u=n.mapValue.fields[e.get(o)];Eo(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},n.mapValue.fields[e.get(o)]=u),n=u}return n.mapValue.fields}applyChanges(e,n,o){za(n,(u,l)=>e[u]=l);for(const u of o)delete e[u]}clone(){return new _(ju(this.value))}}function A(i){const e=[];return za(i.fields,(n,o)=>{const u=new $r([n]);if(Eo(o)){const l=A(o.mapValue).fields;if(0===l.length)e.push(u);else for(const f of l)e.push(u.child(f))}else e.push(u)}),new Vs(e)}class O{constructor(e,n,o,u,l,f,w){this.key=e,this.documentType=n,this.version=o,this.readTime=u,this.createTime=l,this.data=f,this.documentState=w}static newInvalidDocument(e){return new O(e,0,Qe.min(),Qe.min(),Qe.min(),_.empty(),0)}static newFoundDocument(e,n,o,u){return new O(e,1,n,Qe.min(),o,u,0)}static newNoDocument(e,n){return new O(e,2,n,Qe.min(),Qe.min(),_.empty(),0)}static newUnknownDocument(e,n){return new O(e,3,n,Qe.min(),Qe.min(),_.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Qe.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=_.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=_.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Qe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof O&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new O(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class q{constructor(e,n){this.position=e,this.inclusive=n}}function ie(i,e,n){let o=0;for(let u=0;u<i.position.length;u++){const l=e[u],f=i.position[u];if(o=l.field.isKeyField()?dt.comparator(dt.fromName(f.referenceValue),n.key):_o(f,n.data.field(l.field)),"desc"===l.dir&&(o*=-1),0!==o)break}return o}function pe(i,e){if(null===i)return null===e;if(null===e||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!Ts(i.position[n],e.position[n]))return!1;return!0}class Re{constructor(e,n="asc"){this.field=e,this.dir=n}}function ht(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}class ft{}class rt extends ft{constructor(e,n,o){super(),this.field=e,this.op=n,this.value=o}static create(e,n,o){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,o):new na(e,n,o):"array-contains"===n?new Th(e,o):"in"===n?new Lc(e,o):"not-in"===n?new fm(e,o):"array-contains-any"===n?new eo(e,o):new rt(e,n,o)}static createKeyFieldInFilter(e,n,o){return"in"===n?new cp(e,o):new lp(e,o)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(_o(n,this.value)):null!==n&&Bs(this.value)===Bs(n)&&this.matchesComparison(_o(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return wt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class It extends ft{constructor(e,n){super(),this.filters=e,this.op=n,this.lt=null}static create(e,n){return new It(e,n)}matches(e){return un(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(n=>n.isInequality());return null!==e?e.field:null}ft(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function un(i){return"and"===i.op}function Ni(i){return function cc(i){for(const e of i.filters)if(e instanceof It)return!1;return!0}(i)&&un(i)}function lc(i){if(i instanceof rt)return i.field.canonicalString()+i.op.toString()+fu(i.value);if(Ni(i))return i.filters.map(e=>lc(e)).join(",");{const e=i.filters.map(n=>lc(n)).join(",");return`${i.op}(${e})`}}function gu(i,e){return i instanceof rt?(n=i,(o=e)instanceof rt&&n.op===o.op&&n.field.isEqual(o.field)&&Ts(n.value,o.value)):i instanceof It?function(n,o){return o instanceof It&&n.op===o.op&&n.filters.length===o.filters.length&&n.filters.reduce((u,l,f)=>u&&gu(l,o.filters[f]),!0)}(i,e):void wt();var n,o}function Ca(i){return i instanceof rt?`${(e=i).field.canonicalString()} ${e.op} ${fu(e.value)}`:i instanceof It?function(e){return e.op.toString()+" {"+e.getFilters().map(Ca).join(" ,")+"}"}(i):"Filter";var e}class na extends rt{constructor(e,n,o){super(e,n,o),this.key=dt.fromName(o.referenceValue)}matches(e){const n=dt.comparator(e.key,this.key);return this.matchesComparison(n)}}class cp extends rt{constructor(e,n){super(e,"in",n),this.keys=Ci(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class lp extends rt{constructor(e,n){super(e,"not-in",n),this.keys=Ci(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Ci(i,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(o=>dt.fromName(o.referenceValue))}class Th extends rt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Ka(n)&&hu(n.arrayValue,this.value)}}class Lc extends rt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&hu(this.value.arrayValue,n)}}class fm extends rt{constructor(e,n){super(e,"not-in",n)}matches(e){if(hu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!hu(this.value.arrayValue,n)}}class eo extends rt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Ka(n)||!n.arrayValue.values)&&n.arrayValue.values.some(o=>hu(this.value.arrayValue,o))}}class zu{constructor(e,n=null,o=[],u=[],l=null,f=null,w=null){this.path=e,this.collectionGroup=n,this.orderBy=o,this.filters=u,this.limit=l,this.startAt=f,this.endAt=w,this.dt=null}}function Gu(i,e=null,n=[],o=[],u=null,l=null,f=null){return new zu(i,e,n,o,u,l,f)}function ra(i){const e=gt(i);if(null===e.dt){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(o=>lc(o)).join(","),n+="|ob:",n+=e.orderBy.map(o=>{return(u=o).field.canonicalString()+u.dir;var u}).join(","),D(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(o=>fu(o)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(o=>fu(o)).join(",")),e.dt=n}return e.dt}function ba(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!ht(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!gu(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!pe(i.startAt,e.startAt)&&pe(i.endAt,e.endAt)}function Al(i){return dt.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}class bi{constructor(e,n=null,o=[],u=[],l=null,f="F",w=null,x=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=o,this.filters=u,this.limit=l,this.limitType=f,this.startAt=w,this.endAt=x,this.wt=null,this._t=null}}function ia(i){return new bi(i)}function hp(i){return 0===i.filters.length&&null===i.limit&&null==i.startAt&&null==i.endAt&&(0===i.explicitOrderBy.length||1===i.explicitOrderBy.length&&i.explicitOrderBy[0].field.isKeyField())}function Uc(i){return i.explicitOrderBy.length>0?i.explicitOrderBy[0].field:null}function Wu(i){for(const e of i.filters){const n=e.getFirstInequalityField();if(null!==n)return n}return null}function Sl(i){return null!==i.collectionGroup}function dc(i){const e=gt(i);if(null===e.wt){e.wt=[];const n=Wu(e),o=Uc(e);if(null!==n&&null===o)n.isKeyField()||e.wt.push(new Re(n)),e.wt.push(new Re($r.keyField(),"asc"));else{let u=!1;for(const l of e.explicitOrderBy)e.wt.push(l),l.field.isKeyField()&&(u=!0);if(!u){const l=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Re($r.keyField(),l))}}}return e.wt}function cs(i){const e=gt(i);if(!e._t)if("F"===e.limitType)e._t=Gu(e.path,e.collectionGroup,dc(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const l of dc(e))n.push(new Re(l.field,"desc"===l.dir?"asc":"desc"));const o=e.endAt?new q(e.endAt.position,e.endAt.inclusive):null,u=e.startAt?new q(e.startAt.position,e.startAt.inclusive):null;e._t=Gu(e.path,e.collectionGroup,n,e.filters,e.limit,o,u)}return e._t}function Ad(i,e){e.getFirstInequalityField(),Wu(i);const n=i.filters.concat([e]);return new bi(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function Ml(i,e,n){return new bi(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function Ku(i,e){return ba(cs(i),cs(e))&&i.limitType===e.limitType}function Vc(i){return`${ra(cs(i))}|lt:${i.limitType}`}function Sd(i){return`Query(target=${function(e){let n=e.path.canonicalString();return null!==e.collectionGroup&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(o=>Ca(o)).join(", ")}]`),D(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(o=>{return`${(u=o).field.canonicalString()} (${u.dir})`;var u}).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(o=>fu(o)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(o=>fu(o)).join(",")),`Target(${n})`}(cs(i))}; limitType=${i.limitType})`}function mu(i,e){return e.isFoundDocument()&&function(n,o){const u=o.key.path;return null!==n.collectionGroup?o.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(u):dt.isDocumentKey(n.path)?n.path.isEqual(u):n.path.isImmediateParentOf(u)}(i,e)&&function(n,o){for(const u of dc(n))if(!u.field.isKeyField()&&null===o.data.field(u.field))return!1;return!0}(i,e)&&function(n,o){for(const u of n.filters)if(!u.matches(o))return!1;return!0}(i,e)&&(o=e,!((n=i).startAt&&!function(u,l,f){const w=ie(u,l,f);return u.inclusive?w<=0:w<0}(n.startAt,dc(n),o)||n.endAt&&!function(u,l,f){const w=ie(u,l,f);return u.inclusive?w>=0:w>0}(n.endAt,dc(n),o)));var n,o}function xl(i){return(e,n)=>{let o=!1;for(const u of dc(i)){const l=pm(u,e,n);if(0!==l)return l;o=o||u.field.isKeyField()}return 0}}function pm(i,e,n){const o=i.field.isKeyField()?dt.comparator(e.key,n.key):function(u,l,f){const w=l.data.field(u),x=f.data.field(u);return null!==w&&null!==x?_o(w,x):wt()}(i.field,e,n);switch(i.dir){case"asc":return o;case"desc":return-1*o;default:return wt()}}class qa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),o=this.inner[n];if(void 0!==o)for(const[u,l]of o)if(this.equalsFn(u,e))return l}has(e){return void 0!==this.get(e)}set(e,n){const o=this.mapKeyFn(e),u=this.inner[o];if(void 0===u)return this.inner[o]=[[e,n]],void this.innerSize++;for(let l=0;l<u.length;l++)if(this.equalsFn(u[l][0],e))return void(u[l]=[e,n]);u.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),o=this.inner[n];if(void 0===o)return!1;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return 1===o.length?delete this.inner[n]:o.splice(u,1),this.innerSize--,!0;return!1}forEach(e){za(this.inner,(n,o)=>{for(const[u,l]of o)e(u,l)})}isEmpty(){return ea(this.inner)}size(){return this.innerSize}}const bh=new nr(dt.comparator);function bs(){return bh}const Ah=new nr(dt.comparator);function Rl(...i){let e=Ah;for(const n of i)e=e.insert(n.key,n);return e}function pp(i){let e=Ah;return i.forEach((n,o)=>e=e.insert(n,o.overlayedDocument)),e}function to(){return Nl()}function Bc(){return Nl()}function Nl(){return new qa(i=>i.toString(),(i,e)=>i.isEqual(e))}const gm=new nr(dt.comparator),gp=new Tr(dt.comparator);function Tn(...i){let e=gp;for(const n of i)e=e.add(n);return e}const Av=new Tr(Ot);function mp(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:m(e)?"-0":e}}function yp(i){return{integerValue:""+i}}function Ol(i,e){return function b(i){return"number"==typeof i&&Number.isInteger(i)&&!m(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}(e)?yp(e):mp(i,e)}class Pl{constructor(){this._=void 0}}function mm(i,e,n){return i instanceof hc?function(o,u){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Fo(u)&&(u=Cl(u)),u&&(l.fields.__previous_value__=u),{mapValue:l}}(n,e):i instanceof jc?_p(i,e):i instanceof fc?Md(i,e):function(o,u){const l=ym(o,u),f=vm(l)+vm(o.gt);return uc(l)&&uc(o.gt)?yp(f):mp(o.serializer,f)}(i,e)}function vp(i,e,n){return i instanceof jc?_p(i,e):i instanceof fc?Md(i,e):n}function ym(i,e){return i instanceof kl?uc(n=e)||(o=n)&&"doubleValue"in o?e:{integerValue:0}:null;var o,n}class hc extends Pl{}class jc extends Pl{constructor(e){super(),this.elements=e}}function _p(i,e){const n=xd(e);for(const o of i.elements)n.some(u=>Ts(u,o))||n.push(o);return{arrayValue:{values:n}}}class fc extends Pl{constructor(e){super(),this.elements=e}}function Md(i,e){let n=xd(e);for(const o of i.elements)n=n.filter(u=>!Ts(u,o));return{arrayValue:{values:n}}}class kl extends Pl{constructor(e,n){super(),this.serializer=e,this.gt=n}}function vm(i){return Hr(i.integerValue||i.doubleValue)}function xd(i){return Ka(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class Mv{constructor(e,n){this.version=e,this.transformResults=n}}class Ii{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ii}static exists(e){return new Ii(void 0,e)}static updateTime(e){return new Ii(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Mh(i,e){return void 0!==i.updateTime?e.isFoundDocument()&&e.version.isEqual(i.updateTime):void 0===i.exists||i.exists===e.isFoundDocument()}class Nd{}function Ll(i,e){if(!i.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return i.isNoDocument()?new yu(i.key,Ii.none()):new Aa(i.key,i.data,Ii.none());{const n=i.data,o=_.empty();let u=new Tr($r.comparator);for(let l of e.fields)if(!u.has(l)){let f=n.field(l);null===f&&l.length>1&&(l=l.popLast(),f=n.field(l)),null===f?o.delete(l):o.set(l,f),u=u.add(l)}return new Sa(i.key,o,new Vs(u.toArray()),Ii.none())}}function Fl(i,e,n){i instanceof Aa?function(o,u,l){const f=o.value.clone(),w=Ul(o.fieldTransforms,u,l.transformResults);f.setAll(w),u.convertToFoundDocument(l.version,f).setHasCommittedMutations()}(i,e,n):i instanceof Sa?function(o,u,l){if(!Mh(o.precondition,u))return void u.convertToUnknownDocument(l.version);const f=Ul(o.fieldTransforms,u,l.transformResults),w=u.data;w.setAll(Rh(o)),w.setAll(f),u.convertToFoundDocument(l.version,w).setHasCommittedMutations()}(i,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function $c(i,e,n,o){return i instanceof Aa?function(u,l,f,w){if(!Mh(u.precondition,l))return f;const x=u.value.clone(),P=Vl(u.fieldTransforms,w,l);return x.setAll(P),l.convertToFoundDocument(l.version,x).setHasLocalMutations(),null}(i,e,n,o):i instanceof Sa?function(u,l,f,w){if(!Mh(u.precondition,l))return f;const x=Vl(u.fieldTransforms,w,l),P=l.data;return P.setAll(Rh(u)),P.setAll(x),l.convertToFoundDocument(l.version,P).setHasLocalMutations(),null===f?null:f.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(H=>H.field))}(i,e,n,o):(f=n,Mh(i.precondition,l=e)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):f);var l,f}function Ip(i,e){let n=null;for(const o of i.fieldTransforms){const u=e.data.field(o.field),l=ym(o.transform,u||null);null!=l&&(null===n&&(n=_.empty()),n.set(o.field,l))}return n||null}function xh(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&(o=e.fieldTransforms,!!(void 0===(n=i.fieldTransforms)&&void 0===o||n&&o&&Ro(n,o,(u,l)=>function Sv(i,e){return i.field.isEqual(e.field)&&(o=e.transform,(n=i.transform)instanceof jc&&o instanceof jc||n instanceof fc&&o instanceof fc?Ro(n.elements,o.elements,Ts):n instanceof kl&&o instanceof kl?Ts(n.gt,o.gt):n instanceof hc&&o instanceof hc);var n,o}(u,l))))&&(0===i.type?i.value.isEqual(e.value):1!==i.type||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask));var n,o}class Aa extends Nd{constructor(e,n,o,u=[]){super(),this.key=e,this.value=n,this.precondition=o,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class Sa extends Nd{constructor(e,n,o,u,l=[]){super(),this.key=e,this.data=n,this.fieldMask=o,this.precondition=u,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function Rh(i){const e=new Map;return i.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const o=i.data.field(n);e.set(n,o)}}),e}function Ul(i,e,n){const o=new Map;Tt(i.length===n.length);for(let u=0;u<n.length;u++){const l=i[u],f=l.transform,w=e.data.field(l.field);o.set(l.field,vp(f,w,n[u]))}return o}function Vl(i,e,n){const o=new Map;for(const u of i){const l=u.transform,f=n.data.field(u.field);o.set(u.field,mm(l,f,e))}return o}class yu extends Nd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Nh extends Nd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Oh{constructor(e,n,o,u){this.batchId=e,this.localWriteTime=n,this.baseMutations=o,this.mutations=u}applyToRemoteDocument(e,n){const o=n.mutationResults;for(let u=0;u<this.mutations.length;u++){const l=this.mutations[u];l.key.isEqual(e.key)&&Fl(l,e,o[u])}}applyToLocalView(e,n){for(const o of this.baseMutations)o.key.isEqual(e.key)&&(n=$c(o,e,n,this.localWriteTime));for(const o of this.mutations)o.key.isEqual(e.key)&&(n=$c(o,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const o=Bc();return this.mutations.forEach(u=>{const l=e.get(u.key),f=l.overlayedDocument;let w=this.applyToLocalView(f,l.mutatedFields);w=n.has(u.key)?null:w;const x=Ll(f,w);null!==x&&o.set(u.key,x),f.isValidDocument()||f.convertToNoDocument(Qe.min())}),o}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Tn())}isEqual(e){return this.batchId===e.batchId&&Ro(this.mutations,e.mutations,(n,o)=>xh(n,o))&&Ro(this.baseMutations,e.baseMutations,(n,o)=>xh(n,o))}}class Ph{constructor(e,n,o,u){this.batch=e,this.commitVersion=n,this.mutationResults=o,this.docVersions=u}static from(e,n,o){Tt(e.mutations.length===o.length);let u=gm;const l=e.mutations;for(let f=0;f<l.length;f++)u=u.insert(l[f].key,o[f].version);return new Ph(e,n,o,u)}}class Od{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class I{constructor(e,n){this.count=e,this.unchangedNames=n}}var h,p;function L(i){if(void 0===i)return Dr("GRPC error has no .code"),ye.UNKNOWN;switch(i){case h.OK:return ye.OK;case h.CANCELLED:return ye.CANCELLED;case h.UNKNOWN:return ye.UNKNOWN;case h.DEADLINE_EXCEEDED:return ye.DEADLINE_EXCEEDED;case h.RESOURCE_EXHAUSTED:return ye.RESOURCE_EXHAUSTED;case h.INTERNAL:return ye.INTERNAL;case h.UNAVAILABLE:return ye.UNAVAILABLE;case h.UNAUTHENTICATED:return ye.UNAUTHENTICATED;case h.INVALID_ARGUMENT:return ye.INVALID_ARGUMENT;case h.NOT_FOUND:return ye.NOT_FOUND;case h.ALREADY_EXISTS:return ye.ALREADY_EXISTS;case h.PERMISSION_DENIED:return ye.PERMISSION_DENIED;case h.FAILED_PRECONDITION:return ye.FAILED_PRECONDITION;case h.ABORTED:return ye.ABORTED;case h.OUT_OF_RANGE:return ye.OUT_OF_RANGE;case h.UNIMPLEMENTED:return ye.UNIMPLEMENTED;case h.DATA_LOSS:return ye.DATA_LOSS;default:return wt()}}(p=h||(h={}))[p.OK=0]="OK",p[p.CANCELLED=1]="CANCELLED",p[p.UNKNOWN=2]="UNKNOWN",p[p.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",p[p.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",p[p.NOT_FOUND=5]="NOT_FOUND",p[p.ALREADY_EXISTS=6]="ALREADY_EXISTS",p[p.PERMISSION_DENIED=7]="PERMISSION_DENIED",p[p.UNAUTHENTICATED=16]="UNAUTHENTICATED",p[p.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",p[p.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",p[p.ABORTED=10]="ABORTED",p[p.OUT_OF_RANGE=11]="OUT_OF_RANGE",p[p.UNIMPLEMENTED=12]="UNIMPLEMENTED",p[p.INTERNAL=13]="INTERNAL",p[p.UNAVAILABLE=14]="UNAVAILABLE",p[p.DATA_LOSS=15]="DATA_LOSS";class W{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return oe}static getOrCreateInstance(){return null===oe&&(oe=new W),oe}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let oe=null;const ut=new vi([4294967295,4294967295],0);function At(i){const e=function Ae(){return new TextEncoder}().encode(i),n=new ri;return n.update(e),new Uint8Array(n.digest())}function Vt(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),o=e.getUint32(4,!0),u=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new vi([n,o],0),new vi([u,l],0)]}class tn{constructor(e,n,o){if(this.bitmap=e,this.padding=n,this.hashCount=o,n<0||n>=8)throw new or(`Invalid padding: ${n}`);if(o<0)throw new or(`Invalid hash count: ${o}`);if(e.length>0&&0===this.hashCount)throw new or(`Invalid hash count: ${o}`);if(0===e.length&&0!==n)throw new or(`Invalid padding when bitmap length is 0: ${n}`);this.It=8*e.length-n,this.Tt=vi.fromNumber(this.It)}Et(e,n,o){let u=e.add(n.multiply(vi.fromNumber(o)));return 1===u.compare(ut)&&(u=new vi([u.getBits(0),u.getBits(1)],0)),u.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const n=At(e),[o,u]=Vt(n);for(let l=0;l<this.hashCount;l++){const f=this.Et(o,u,l);if(!this.At(f))return!1}return!0}static create(e,n,o){const u=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),f=new tn(l,u,n);return o.forEach(w=>f.insert(w)),f}insert(e){if(0===this.It)return;const n=At(e),[o,u]=Vt(n);for(let l=0;l<this.hashCount;l++){const f=this.Et(o,u,l);this.Rt(f)}}Rt(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class or extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class $s{constructor(e,n,o,u,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=o,this.documentUpdates=u,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,o){const u=new Map;return u.set(e,Ma.createSynthesizedTargetChangeForCurrentChange(e,n,o)),new $s(Qe.min(),u,new nr(Ot),bs(),Tn())}}class Ma{constructor(e,n,o,u,l){this.resumeToken=e,this.current=n,this.addedDocuments=o,this.modifiedDocuments=u,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,o){return new Ma(o,n,Tn(),Tn(),Tn())}}class xa{constructor(e,n,o,u){this.Pt=e,this.removedTargetIds=n,this.key=o,this.bt=u}}class Bl{constructor(e,n){this.targetId=e,this.Vt=n}}class jl{constructor(e,n,o=Ti.EMPTY_BYTE_STRING,u=null){this.state=e,this.targetIds=n,this.resumeToken=o,this.cause=u}}class Pd{constructor(){this.St=0,this.Dt=Ld(),this.Ct=Ti.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=Tn(),n=Tn(),o=Tn();return this.Dt.forEach((u,l)=>{switch(l){case 0:e=e.add(u);break;case 2:n=n.add(u);break;case 1:o=o.add(u);break;default:wt()}}),new Ma(this.Ct,this.xt,e,n,o)}Ft(){this.Nt=!1,this.Dt=Ld()}Bt(e,n){this.Nt=!0,this.Dt=this.Dt.insert(e,n)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class $l{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=bs(),this.zt=kd(),this.Wt=new nr(Ot)}Ht(e){for(const n of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(n,e.bt):this.Yt(n,e.key,e.bt);for(const n of e.removedTargetIds)this.Yt(n,e.key,e.bt)}Xt(e){this.forEachTarget(e,n=>{const o=this.Zt(n);switch(e.state){case 0:this.te(n)&&o.$t(e.resumeToken);break;case 1:o.Ut(),o.kt||o.Ft(),o.$t(e.resumeToken);break;case 2:o.Ut(),o.kt||this.removeTarget(n);break;case 3:this.te(n)&&(o.Kt(),o.$t(e.resumeToken));break;case 4:this.te(n)&&(this.ee(n),o.$t(e.resumeToken));break;default:wt()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qt.forEach((o,u)=>{this.te(u)&&n(u)})}ne(e){var n;const o=e.targetId,u=e.Vt.count,l=this.se(o);if(l){const f=l.target;if(Al(f))if(0===u){const w=new dt(f.path);this.Yt(o,w,O.newNoDocument(w,Qe.min()))}else Tt(1===u);else{const w=this.ie(o);if(w!==u){const x=this.re(e,w);0!==x&&(this.ee(o),this.Wt=this.Wt.insert(o,2===x?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(n=W.instance)||void 0===n||n.notifyOnExistenceFilterMismatch(function(P,H,ee){var Ce,Fe,ct,bt,Mt,Mn;const ar={localCacheCount:H,existenceFilterCount:ee.count},Vn=ee.unchangedNames;return Vn&&(ar.bloomFilter={applied:0===P,hashCount:null!==(Ce=Vn?.hashCount)&&void 0!==Ce?Ce:0,bitmapLength:null!==(bt=null===(ct=null===(Fe=Vn?.bits)||void 0===Fe?void 0:Fe.bitmap)||void 0===ct?void 0:ct.length)&&void 0!==bt?bt:0,padding:null!==(Mn=null===(Mt=Vn?.bits)||void 0===Mt?void 0:Mt.padding)&&void 0!==Mn?Mn:0}),ar}(x,w,e.Vt))}}}}re(e,n){const{unchangedNames:o,count:u}=e.Vt;if(!o||!o.bits)return 1;const{bits:{bitmap:l="",padding:f=0},hashCount:w=0}=o;let x,P;try{x=Js(l).toUint8Array()}catch(H){if(H instanceof Dd)return ws("Decoding the base64 bloom filter in existence filter failed ("+H.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw H}try{P=new tn(x,f,w)}catch(H){return ws(H instanceof or?"BloomFilter error: ":"Applying bloom filter failed: ",H),1}return 0===P.It?1:u!==n-this.oe(e.targetId,P)?2:0}oe(e,n){const o=this.Gt.getRemoteKeysForTarget(e);let u=0;return o.forEach(l=>{const f=this.Gt.ue(),w=`projects/${f.projectId}/databases/${f.database}/documents/${l.path.canonicalString()}`;n.vt(w)||(this.Yt(e,l,null),u++)}),u}ce(e){const n=new Map;this.Qt.forEach((l,f)=>{const w=this.se(f);if(w){if(l.current&&Al(w.target)){const x=new dt(w.target.path);null!==this.jt.get(x)||this.ae(f,x)||this.Yt(f,x,O.newNoDocument(x,e))}l.Mt&&(n.set(f,l.Ot()),l.Ft())}});let o=Tn();this.zt.forEach((l,f)=>{let w=!0;f.forEachWhile(x=>{const P=this.se(x);return!P||"TargetPurposeLimboResolution"===P.purpose||(w=!1,!1)}),w&&(o=o.add(l))}),this.jt.forEach((l,f)=>f.setReadTime(e));const u=new $s(e,n,this.Wt,this.jt,o);return this.jt=bs(),this.zt=kd(),this.Wt=new nr(Ot),u}Jt(e,n){if(!this.te(e))return;const o=this.ae(e,n.key)?2:0;this.Zt(e).Bt(n.key,o),this.jt=this.jt.insert(n.key,n),this.zt=this.zt.insert(n.key,this.he(n.key).add(e))}Yt(e,n,o){if(!this.te(e))return;const u=this.Zt(e);this.ae(e,n)?u.Bt(n,1):u.Lt(n),this.zt=this.zt.insert(n,this.he(n).delete(e)),o&&(this.jt=this.jt.insert(n,o))}removeTarget(e){this.Qt.delete(e)}ie(e){const n=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let n=this.Qt.get(e);return n||(n=new Pd,this.Qt.set(e,n)),n}he(e){let n=this.zt.get(e);return n||(n=new Tr(Ot),this.zt=this.zt.insert(e,n)),n}te(e){const n=null!==this.se(e);return n||Ze("WatchChangeAggregator","Detected inactive target",e),n}se(e){const n=this.Qt.get(e);return n&&n.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new Pd),this.Gt.getRemoteKeysForTarget(e).forEach(n=>{this.Yt(e,n,null)})}ae(e,n){return this.Gt.getRemoteKeysForTarget(e).has(n)}}function kd(){return new nr(dt.comparator)}function Ld(){return new nr(dt.comparator)}const Hc={asc:"ASCENDING",desc:"DESCENDING"},Hl={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Ep={and:"AND",or:"OR"};class qu{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Fd(i,e){return i.useProto3Json||D(e)?e:{value:e}}function zl(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function wp(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function _m(i,e){return zl(i,e.toTimestamp())}function Oi(i){return Tt(!!i),Qe.fromTimestamp(function(e){const n=yo(e);return new jr(n.seconds,n.nanos)}(i))}function pc(i,e){return(n=i,new zn(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}function Ud(i){const e=zn.fromString(i);return Tt(Cp(e)),e}function Gl(i,e){return pc(i.databaseId,e.path)}function Ra(i,e){const n=Ud(e);if(n.get(1)!==i.databaseId.projectId)throw new Ge(ye.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new Ge(ye.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new dt(Em(n))}function Wl(i,e){return pc(i.databaseId,e)}function Vd(i){return new zn(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function Em(i){return Tt(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function wm(i,e,n){return{name:Gl(i,e),fields:n.value.mapValue.fields}}function Cm(i,e){return{documents:[Wl(i,e.path)]}}function Tp(i,e){const n={structuredQuery:{}},o=e.path;null!==e.collectionGroup?(n.parent=Wl(i,o),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Wl(i,o.popLast()),n.structuredQuery.from=[{collectionId:o.lastSegment()}]);const u=function(x){if(0!==x.length)return Mm(It.create(x,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const l=function(x){if(0!==x.length)return x.map(P=>{return{field:zc((H=P).field),direction:Am(H.dir)};var H})}(e.orderBy);l&&(n.structuredQuery.orderBy=l);const f=Fd(i,e.limit);var w,x;return null!==f&&(n.structuredQuery.limit=f),e.startAt&&(n.structuredQuery.startAt={before:(w=e.startAt).inclusive,values:w.position}),e.endAt&&(n.structuredQuery.endAt={before:!(x=e.endAt).inclusive,values:x.position}),n}function Lh(i){let e=function Im(i){const e=Ud(i);return 4===e.length?zn.emptyPath():Em(e)}(i.parent);const n=i.structuredQuery,o=n.from?n.from.length:0;let u=null;if(o>0){Tt(1===o);const H=n.from[0];H.allDescendants?u=H.collectionId:e=e.child(H.collectionId)}let l=[];n.where&&(l=function(H){const ee=mc(H);return ee instanceof It&&Ni(ee)?ee.getFilters():[ee]}(n.where));let f=[];n.orderBy&&(f=n.orderBy.map(H=>{return new Re(Qu((ee=H).field),function(Ce){switch(Ce){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(ee.direction));var ee}));let w=null;n.limit&&(w=function(H){let ee;return ee="object"==typeof H?H.value:H,D(ee)?null:ee}(n.limit));let x=null;var H;n.startAt&&(x=new q((H=n.startAt).values||[],!!H.before));let P=null;return n.endAt&&(P=function(H){return new q(H.values||[],!H.before)}(n.endAt)),function Fc(i,e,n,o,u,l,f,w){return new bi(i,e,n,o,u,l,f,w)}(e,u,f,l,w,"F",x,P)}function mc(i){return void 0!==i.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=Qu(e.unaryFilter.field);return rt.create(n,"==",{doubleValue:NaN});case"IS_NULL":const o=Qu(e.unaryFilter.field);return rt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Qu(e.unaryFilter.field);return rt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Qu(e.unaryFilter.field);return rt.create(l,"!=",{nullValue:"NULL_VALUE"});default:return wt()}}(i):void 0!==i.fieldFilter?rt.create(Qu((e=i).fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return wt()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==i.compositeFilter?function(e){return It.create(e.compositeFilter.filters.map(n=>mc(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return wt()}}(e.compositeFilter.op))}(i):wt();var e}function Am(i){return Hc[i]}function Sm(i){return Hl[i]}function Rv(i){return Ep[i]}function zc(i){return{fieldPath:i.canonicalString()}}function Qu(i){return $r.fromServerFormat(i.fieldPath)}function Mm(i){return i instanceof rt?function(e){if("=="===e.op){if(Ta(e.value))return{unaryFilter:{field:zc(e.field),op:"IS_NAN"}};if(Io(e.value))return{unaryFilter:{field:zc(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Ta(e.value))return{unaryFilter:{field:zc(e.field),op:"IS_NOT_NAN"}};if(Io(e.value))return{unaryFilter:{field:zc(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:zc(e.field),op:Sm(e.op),value:e.value}}}(i):i instanceof It?function(e){const n=e.getFilters().map(o=>Mm(o));return 1===n.length?n[0]:{compositeFilter:{op:Rv(e.op),filters:n}}}(i):wt()}function xm(i){const e=[];return i.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Cp(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}class vu{constructor(e,n,o,u,l=Qe.min(),f=Qe.min(),w=Ti.EMPTY_BYTE_STRING,x=null){this.target=e,this.targetId=n,this.purpose=o,this.sequenceNumber=u,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=w,this.expectedCount=x}withSequenceNumber(e){return new vu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new vu(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new vu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new vu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Fh{constructor(e){this.fe=e}}function Gc(i){const e=Lh({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?Ml(e,e.limit,"L"):e}class Yu{constructor(){}_e(e,n){this.me(e,n),n.ge()}me(e,n){if("nullValue"in e)this.ye(n,5);else if("booleanValue"in e)this.ye(n,10),n.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(n,15),n.pe(Hr(e.integerValue));else if("doubleValue"in e){const o=Hr(e.doubleValue);isNaN(o)?this.ye(n,13):(this.ye(n,15),m(o)?n.pe(0):n.pe(o))}else if("timestampValue"in e){const o=e.timestampValue;this.ye(n,20),"string"==typeof o?n.Ie(o):(n.Ie(`${o.seconds||""}`),n.pe(o.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,n),this.Ee(n);else if("bytesValue"in e)this.ye(n,30),n.Ae(Js(e.bytesValue)),this.Ee(n);else if("referenceValue"in e)this.ve(e.referenceValue,n);else if("geoPointValue"in e){const o=e.geoPointValue;this.ye(n,45),n.pe(o.latitude||0),n.pe(o.longitude||0)}else"mapValue"in e?$u(e)?this.ye(n,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,n),this.Ee(n)):"arrayValue"in e?(this.Pe(e.arrayValue,n),this.Ee(n)):wt()}Te(e,n){this.ye(n,25),this.be(e,n)}be(e,n){n.Ie(e)}Re(e,n){const o=e.fields||{};this.ye(n,55);for(const u of Object.keys(o))this.Te(u,n),this.me(o[u],n)}Pe(e,n){const o=e.values||[];this.ye(n,50);for(const u of o)this.me(u,n)}ve(e,n){this.ye(n,37),dt.fromName(e).path.forEach(o=>{this.ye(n,60),this.be(o,n)})}ye(e,n){e.pe(n)}Ee(e){e.pe(2)}}Yu.Ve=new Yu;class Ic{constructor(){this.rn=new qc}addToCollectionParentIndex(e,n){return this.rn.add(n),De.resolve()}getCollectionParents(e,n){return De.resolve(this.rn.getEntries(n))}addFieldIndex(e,n){return De.resolve()}deleteFieldIndex(e,n){return De.resolve()}getDocumentsMatchingTarget(e,n){return De.resolve(null)}getIndexType(e,n){return De.resolve(0)}getFieldIndexes(e,n){return De.resolve([])}getNextCollectionGroupToUpdate(e){return De.resolve(null)}getMinOffset(e,n){return De.resolve(as.min())}getMinOffsetFromCollectionGroup(e,n){return De.resolve(as.min())}updateCollectionGroup(e,n,o){return De.resolve()}updateIndexEntries(e,n){return De.resolve()}}class qc{constructor(){this.index={}}add(e){const n=e.lastSegment(),o=e.popLast(),u=this.index[n]||new Tr(zn.comparator),l=!u.has(o);return this.index[n]=u.add(o),l}has(e){const n=e.lastSegment(),o=e.popLast(),u=this.index[n];return u&&u.has(o)}getEntries(e){return(this.index[e]||new Tr(zn.comparator)).toArray()}}new Uint8Array(0);class no{constructor(e,n,o){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=o}static withCacheSize(e){return new no(e,no.DEFAULT_COLLECTION_PERCENTILE,no.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}no.DEFAULT_COLLECTION_PERCENTILE=10,no.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,no.DEFAULT=new no(41943040,no.DEFAULT_COLLECTION_PERCENTILE,no.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),no.DISABLED=new no(-1,0,0);class Ec{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Ec(0)}static Mn(){return new Ec(-1)}}class $m{constructor(){this.changes=new qa(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,O.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const o=this.changes.get(n);return void 0!==o?De.resolve(o):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Wm{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class Lp{constructor(e,n,o,u){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=o,this.indexManager=u}getDocument(e,n){let o=null;return this.documentOverlayCache.getOverlay(e,n).next(u=>(o=u,this.remoteDocumentCache.getEntry(e,n))).next(u=>(null!==o&&$c(o.mutation,u,Vs.empty(),jr.now()),u))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(o=>this.getLocalViewOfDocuments(e,o,Tn()).next(()=>o))}getLocalViewOfDocuments(e,n,o=Tn()){const u=to();return this.populateOverlays(e,u,n).next(()=>this.computeViews(e,n,u,o).next(l=>{let f=Rl();return l.forEach((w,x)=>{f=f.insert(w,x.overlayedDocument)}),f}))}getOverlayedDocuments(e,n){const o=to();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,Tn()))}populateOverlays(e,n,o){const u=[];return o.forEach(l=>{n.has(l)||u.push(l)}),this.documentOverlayCache.getOverlays(e,u).next(l=>{l.forEach((f,w)=>{n.set(f,w)})})}computeViews(e,n,o,u){let l=bs();const f=Nl(),w=Nl();return n.forEach((x,P)=>{const H=o.get(P.key);u.has(P.key)&&(void 0===H||H.mutation instanceof Sa)?l=l.insert(P.key,P):void 0!==H?(f.set(P.key,H.mutation.getFieldMask()),$c(H.mutation,P,H.mutation.getFieldMask(),jr.now())):f.set(P.key,Vs.empty())}),this.recalculateAndSaveOverlays(e,l).next(x=>(x.forEach((P,H)=>f.set(P,H)),n.forEach((P,H)=>{var ee;return w.set(P,new Wm(H,null!==(ee=f.get(P))&&void 0!==ee?ee:null))}),w))}recalculateAndSaveOverlays(e,n){const o=Nl();let u=new nr((f,w)=>f-w),l=Tn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(f=>{for(const w of f)w.keys().forEach(x=>{const P=n.get(x);if(null===P)return;let H=o.get(x)||Vs.empty();H=w.applyToLocalView(P,H),o.set(x,H);const ee=(u.get(w.batchId)||Tn()).add(x);u=u.insert(w.batchId,ee)})}).next(()=>{const f=[],w=u.getReverseIterator();for(;w.hasNext();){const x=w.getNext(),P=x.key,H=x.value,ee=Bc();H.forEach(Ce=>{if(!l.has(Ce)){const Fe=Ll(n.get(Ce),o.get(Ce));null!==Fe&&ee.set(Ce,Fe),l=l.add(Ce)}}),f.push(this.documentOverlayCache.saveOverlays(e,P,ee))}return De.waitFor(f)}).next(()=>o)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(o=>this.recalculateAndSaveOverlays(e,o))}getDocumentsMatchingQuery(e,n,o){return dt.isDocumentKey((u=n).path)&&null===u.collectionGroup&&0===u.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):Sl(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,o):this.getDocumentsMatchingCollectionQuery(e,n,o);var u}getNextDocuments(e,n,o,u){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,o,u).next(l=>{const f=u-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,o.largestBatchId,u-l.size):De.resolve(to());let w=-1,x=l;return f.next(P=>De.forEach(P,(H,ee)=>(w<ee.largestBatchId&&(w=ee.largestBatchId),l.get(H)?De.resolve():this.remoteDocumentCache.getEntry(e,H).next(Ce=>{x=x.insert(H,Ce)}))).next(()=>this.populateOverlays(e,P,l)).next(()=>this.computeViews(e,x,P,Tn())).next(H=>({batchId:w,changes:pp(H)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new dt(n)).next(o=>{let u=Rl();return o.isFoundDocument()&&(u=u.insert(o.key,o)),u})}getDocumentsMatchingCollectionGroupQuery(e,n,o){const u=n.collectionGroup;let l=Rl();return this.indexManager.getCollectionParents(e,u).next(f=>De.forEach(f,w=>{const x=(P=n,H=w.child(u),new bi(H,null,P.explicitOrderBy.slice(),P.filters.slice(),P.limit,P.limitType,P.startAt,P.endAt));var P,H;return this.getDocumentsMatchingCollectionQuery(e,x,o).next(P=>{P.forEach((H,ee)=>{l=l.insert(H,ee)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,n,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,o.largestBatchId).next(l=>(u=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,o,u))).next(l=>{u.forEach((w,x)=>{const P=x.getKey();null===l.get(P)&&(l=l.insert(P,O.newInvalidDocument(P)))});let f=Rl();return l.forEach((w,x)=>{const P=u.get(w);void 0!==P&&$c(P.mutation,x,Vs.empty(),jr.now()),mu(n,x)&&(f=f.insert(w,x))}),f})}}class Bv{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,n){return De.resolve(this.cs.get(n))}saveBundleMetadata(e,n){var o;return this.cs.set(n.id,{id:(o=n).id,version:o.version,createTime:Oi(o.createTime)}),De.resolve()}getNamedQuery(e,n){return De.resolve(this.hs.get(n))}saveNamedQuery(e,n){return this.hs.set(n.name,{name:(o=n).name,query:Gc(o.bundledQuery),readTime:Oi(o.readTime)}),De.resolve();var o}}class jv{constructor(){this.overlays=new nr(dt.comparator),this.ls=new Map}getOverlay(e,n){return De.resolve(this.overlays.get(n))}getOverlays(e,n){const o=to();return De.forEach(n,u=>this.getOverlay(e,u).next(l=>{null!==l&&o.set(u,l)})).next(()=>o)}saveOverlays(e,n,o){return o.forEach((u,l)=>{this.we(e,n,l)}),De.resolve()}removeOverlaysForBatchId(e,n,o){const u=this.ls.get(o);return void 0!==u&&(u.forEach(l=>this.overlays=this.overlays.remove(l)),this.ls.delete(o)),De.resolve()}getOverlaysForCollection(e,n,o){const u=to(),l=n.length+1,f=new dt(n.child("")),w=this.overlays.getIteratorFrom(f);for(;w.hasNext();){const x=w.getNext().value,P=x.getKey();if(!n.isPrefixOf(P.path))break;P.path.length===l&&x.largestBatchId>o&&u.set(x.getKey(),x)}return De.resolve(u)}getOverlaysForCollectionGroup(e,n,o,u){let l=new nr((P,H)=>P-H);const f=this.overlays.getIterator();for(;f.hasNext();){const P=f.getNext().value;if(P.getKey().getCollectionGroup()===n&&P.largestBatchId>o){let H=l.get(P.largestBatchId);null===H&&(H=to(),l=l.insert(P.largestBatchId,H)),H.set(P.getKey(),P)}}const w=to(),x=l.getIterator();for(;x.hasNext()&&(x.getNext().value.forEach((P,H)=>w.set(P,H)),!(w.size()>=u)););return De.resolve(w)}we(e,n,o){const u=this.overlays.get(o.key);if(null!==u){const f=this.ls.get(u.largestBatchId).delete(o.key);this.ls.set(u.largestBatchId,f)}this.overlays=this.overlays.insert(o.key,new Od(n,o));let l=this.ls.get(n);void 0===l&&(l=Tn(),this.ls.set(n,l)),this.ls.set(n,l.add(o.key))}}class Fp{constructor(){this.fs=new Tr(As.ds),this.ws=new Tr(As._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,n){const o=new As(e,n);this.fs=this.fs.add(o),this.ws=this.ws.add(o)}gs(e,n){e.forEach(o=>this.addReference(o,n))}removeReference(e,n){this.ys(new As(e,n))}ps(e,n){e.forEach(o=>this.removeReference(o,n))}Is(e){const n=new dt(new zn([])),o=new As(n,e),u=new As(n,e+1),l=[];return this.ws.forEachInRange([o,u],f=>{this.ys(f),l.push(f.key)}),l}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const n=new dt(new zn([])),o=new As(n,e),u=new As(n,e+1);let l=Tn();return this.ws.forEachInRange([o,u],f=>{l=l.add(f.key)}),l}containsKey(e){const n=new As(e,0),o=this.fs.firstAfterOrEqual(n);return null!==o&&e.isEqual(o.key)}}class As{constructor(e,n){this.key=e,this.As=n}static ds(e,n){return dt.comparator(e.key,n.key)||Ot(e.As,n.As)}static _s(e,n){return Ot(e.As,n.As)||dt.comparator(e.key,n.key)}}class Km{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new Tr(As.ds)}checkEmpty(e){return De.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,o,u){const l=this.vs;this.vs++;const f=new Oh(l,n,o,u);this.mutationQueue.push(f);for(const w of u)this.Rs=this.Rs.add(new As(w.key,l)),this.indexManager.addToCollectionParentIndex(e,w.key.path.popLast());return De.resolve(f)}lookupMutationBatch(e,n){return De.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(e,n){const u=this.bs(n+1),l=u<0?0:u;return De.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return De.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return De.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const o=new As(n,0),u=new As(n,Number.POSITIVE_INFINITY),l=[];return this.Rs.forEachInRange([o,u],f=>{const w=this.Ps(f.As);l.push(w)}),De.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let o=new Tr(Ot);return n.forEach(u=>{const l=new As(u,0),f=new As(u,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([l,f],w=>{o=o.add(w.As)})}),De.resolve(this.Vs(o))}getAllMutationBatchesAffectingQuery(e,n){const o=n.path,u=o.length+1;let l=o;dt.isDocumentKey(l)||(l=l.child(""));const f=new As(new dt(l),0);let w=new Tr(Ot);return this.Rs.forEachWhile(x=>{const P=x.key.path;return!!o.isPrefixOf(P)&&(P.length===u&&(w=w.add(x.As)),!0)},f),De.resolve(this.Vs(w))}Vs(e){const n=[];return e.forEach(o=>{const u=this.Ps(o);null!==u&&n.push(u)}),n}removeMutationBatch(e,n){Tt(0===this.Ss(n.batchId,"removed")),this.mutationQueue.shift();let o=this.Rs;return De.forEach(n.mutations,u=>{const l=new As(u.key,n.batchId);return o=o.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,u.key)}).next(()=>{this.Rs=o})}Cn(e){}containsKey(e,n){const o=new As(n,0),u=this.Rs.firstAfterOrEqual(o);return De.resolve(n.isEqual(u&&u.key))}performConsistencyCheck(e){return De.resolve()}Ss(e,n){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const n=this.bs(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class ZI{constructor(e){this.Ds=e,this.docs=new nr(dt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const o=n.key,u=this.docs.get(o),l=u?u.size:0,f=this.Ds(n);return this.docs=this.docs.insert(o,{document:n.mutableCopy(),size:f}),this.size+=f-l,this.indexManager.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const o=this.docs.get(n);return De.resolve(o?o.document.mutableCopy():O.newInvalidDocument(n))}getEntries(e,n){let o=bs();return n.forEach(u=>{const l=this.docs.get(u);o=o.insert(u,l?l.document.mutableCopy():O.newInvalidDocument(u))}),De.resolve(o)}getDocumentsMatchingQuery(e,n,o,u){let l=bs();const f=n.path,w=new dt(f.child("")),x=this.docs.getIteratorFrom(w);for(;x.hasNext();){const{key:P,value:{document:H}}=x.getNext();if(!f.isPrefixOf(P.path))break;P.path.length>f.length+1||cu(An(H),o)<=0||(u.has(H.key)||mu(n,H))&&(l=l.insert(H.key,H.mutableCopy()))}return De.resolve(l)}getAllFromCollectionGroup(e,n,o,u){wt()}Cs(e,n){return De.forEach(this.docs,o=>n(o))}newChangeBuffer(e){return new JI(this)}getSize(e){return De.resolve(this.size)}}class JI extends $m{constructor(e){super(),this.os=e}applyChanges(e){const n=[];return this.changes.forEach((o,u)=>{u.isValidDocument()?n.push(this.os.addEntry(e,u)):this.os.removeEntry(o)}),De.waitFor(n)}getFromCache(e,n){return this.os.getEntry(e,n)}getAllFromCache(e,n){return this.os.getEntries(e,n)}}class Wd{constructor(e){this.persistence=e,this.xs=new qa(n=>ra(n),ba),this.lastRemoteSnapshotVersion=Qe.min(),this.highestTargetId=0,this.Ns=0,this.ks=new Fp,this.targetCount=0,this.Ms=Ec.kn()}forEachTarget(e,n){return this.xs.forEach((o,u)=>n(u)),De.resolve()}getLastRemoteSnapshotVersion(e){return De.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return De.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),De.resolve(this.highestTargetId)}setTargetsMetadata(e,n,o){return o&&(this.lastRemoteSnapshotVersion=o),n>this.Ns&&(this.Ns=n),De.resolve()}Fn(e){this.xs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ms=new Ec(n),this.highestTargetId=n),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,n){return this.Fn(n),this.targetCount+=1,De.resolve()}updateTargetData(e,n){return this.Fn(n),De.resolve()}removeTargetData(e,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,De.resolve()}removeTargets(e,n,o){let u=0;const l=[];return this.xs.forEach((f,w)=>{w.sequenceNumber<=n&&null===o.get(w.targetId)&&(this.xs.delete(f),l.push(this.removeMatchingKeysForTargetId(e,w.targetId)),u++)}),De.waitFor(l).next(()=>u)}getTargetCount(e){return De.resolve(this.targetCount)}getTargetData(e,n){const o=this.xs.get(n)||null;return De.resolve(o)}addMatchingKeys(e,n,o){return this.ks.gs(n,o),De.resolve()}removeMatchingKeys(e,n,o){this.ks.ps(n,o);const u=this.persistence.referenceDelegate,l=[];return u&&n.forEach(f=>{l.push(u.markPotentiallyOrphaned(e,f))}),De.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this.ks.Is(n),De.resolve()}getMatchingKeysForTargetId(e,n){const o=this.ks.Es(n);return De.resolve(o)}containsKey(e,n){return De.resolve(this.ks.containsKey(n))}}class Yc{constructor(e,n){this.$s={},this.overlays={},this.Os=new y(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new Wd(this),this.indexManager=new Ic,this.remoteDocumentCache=new ZI(o=>this.referenceDelegate.Ls(o)),this.serializer=new Fh(n),this.qs=new Bv(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new jv,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let o=this.$s[e.toKey()];return o||(o=new Km(n,this.referenceDelegate),this.$s[e.toKey()]=o),o}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,n,o){Ze("MemoryPersistence","Starting transaction:",e);const u=new qm(this.Os.next());return this.referenceDelegate.Us(),o(u).next(l=>this.referenceDelegate.Ks(u).next(()=>l)).toPromise().then(l=>(u.raiseOnCommittedEvent(),l))}Gs(e,n){return De.or(Object.values(this.$s).map(o=>()=>o.containsKey(e,n)))}}class qm extends Fu{constructor(e){super(),this.currentSequenceNumber=e}}class Kd{constructor(e){this.persistence=e,this.Qs=new Fp,this.js=null}static zs(e){return new Kd(e)}get Ws(){if(this.js)return this.js;throw wt()}addReference(e,n,o){return this.Qs.addReference(o,n),this.Ws.delete(o.toString()),De.resolve()}removeReference(e,n,o){return this.Qs.removeReference(o,n),this.Ws.add(o.toString()),De.resolve()}markPotentiallyOrphaned(e,n){return this.Ws.add(n.toString()),De.resolve()}removeTarget(e,n){this.Qs.Is(n.targetId).forEach(u=>this.Ws.add(u.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,n.targetId).next(u=>{u.forEach(l=>this.Ws.add(l.toString()))}).next(()=>o.removeTargetData(e,n))}Us(){this.js=new Set}Ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return De.forEach(this.Ws,o=>{const u=dt.fromPath(o);return this.Hs(e,u).next(l=>{l||n.removeEntry(u,Qe.min())})}).next(()=>(this.js=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hs(e,n).next(o=>{o?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(e){return 0}Hs(e,n){return De.or([()=>De.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gs(e,n)])}}class Vp{constructor(e,n,o,u){this.targetId=e,this.fromCache=n,this.Fi=o,this.Bi=u}static Li(e,n){let o=Tn(),u=Tn();for(const l of n.docChanges)switch(l.type){case 0:o=o.add(l.doc.key);break;case 1:u=u.add(l.doc.key)}return new Vp(e,n.fromCache,o,u)}}class Yh{constructor(){this.qi=!1}initialize(e,n){this.Ui=e,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(e,n,o,u){return this.Ki(e,n).next(l=>l||this.Gi(e,n,u,o)).next(l=>l||this.Qi(e,n))}Ki(e,n){if(hp(n))return De.resolve(null);let o=cs(n);return this.indexManager.getIndexType(e,o).next(u=>0===u?null:(null!==n.limit&&1===u&&(n=Ml(n,null,"F"),o=cs(n)),this.indexManager.getDocumentsMatchingTarget(e,o).next(l=>{const f=Tn(...l);return this.Ui.getDocuments(e,f).next(w=>this.indexManager.getMinOffset(e,o).next(x=>{const P=this.ji(n,w);return this.zi(n,P,f,x.readTime)?this.Ki(e,Ml(n,null,"F")):this.Wi(e,P,n,x)}))})))}Gi(e,n,o,u){return hp(n)||u.isEqual(Qe.min())?this.Qi(e,n):this.Ui.getDocuments(e,o).next(l=>{const f=this.ji(n,l);return this.zi(n,f,o,u)?this.Qi(e,n):(Xs()<=te.$b.DEBUG&&Ze("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),Sd(n)),this.Wi(e,f,n,function We(i,e){const n=i.toTimestamp().seconds,o=i.toTimestamp().nanoseconds+1,u=Qe.fromTimestamp(1e9===o?new jr(n+1,0):new jr(n,o));return new as(u,dt.empty(),e)}(u,-1)))})}ji(e,n){let o=new Tr(xl(e));return n.forEach((u,l)=>{mu(e,l)&&(o=o.add(l))}),o}zi(e,n,o,u){if(null===e.limit)return!1;if(o.size!==n.size)return!0;const l="F"===e.limitType?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(u)>0)}Qi(e,n){return Xs()<=te.$b.DEBUG&&Ze("QueryEngine","Using full collection scan to execute query:",Sd(n)),this.Ui.getDocumentsMatchingQuery(e,n,as.min())}Wi(e,n,o,u){return this.Ui.getDocumentsMatchingQuery(e,o,u).next(l=>(n.forEach(f=>{l=l.insert(f.key,f)}),l))}}class Ym{constructor(e,n,o,u){this.persistence=e,this.Hi=n,this.serializer=u,this.Ji=new nr(Ot),this.Yi=new qa(l=>ra(l),ba),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(o)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Lp(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function Dc(i,e){return jp.apply(this,arguments)}function jp(){return jp=(0,Q.A)(function*(i,e){const n=gt(i);return yield n.persistence.runTransaction("Handle user change","readonly",o=>{let u;return n.mutationQueue.getAllMutationBatches(o).next(l=>(u=l,n.tr(e),n.mutationQueue.getAllMutationBatches(o))).next(l=>{const f=[],w=[];let x=Tn();for(const P of u){f.push(P.batchId);for(const H of P.mutations)x=x.add(H.key)}for(const P of l){w.push(P.batchId);for(const H of P.mutations)x=x.add(H.key)}return n.localDocuments.getDocuments(o,x).next(P=>({er:P,removedBatchIds:f,addedBatchIds:w}))})})}),jp.apply(this,arguments)}function Qd(i){const e=gt(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Bs.getLastRemoteSnapshotVersion(n))}function Jh(i,e){const n=gt(i);return n.persistence.runTransaction("Get next mutation batch","readonly",o=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(o,e)))}function Qa(i,e,n){return Xd.apply(this,arguments)}function Xd(){return Xd=(0,Q.A)(function*(i,e,n){const o=gt(i),u=o.Ji.get(e),l=n?"readwrite":"readwrite-primary";try{n||(yield o.persistence.runTransaction("Release target",l,f=>o.persistence.referenceDelegate.removeTarget(f,u)))}catch(f){if(!Wr(f))throw f;Ze("LocalStore",`Failed to update sequence numbers for target ${e}: ${f}`)}o.Ji=o.Ji.remove(e),o.Yi.delete(u.target)}),Xd.apply(this,arguments)}function ef(i,e,n){const o=gt(i);let u=Qe.min(),l=Tn();return o.persistence.runTransaction("Execute query","readonly",f=>function(w,x,P){const H=gt(w),ee=H.Yi.get(P);return void 0!==ee?De.resolve(H.Ji.get(ee)):H.Bs.getTargetData(x,P)}(o,f,cs(e)).next(w=>{if(w)return u=w.lastLimboFreeSnapshotVersion,o.Bs.getMatchingKeysForTargetId(f,w.targetId).next(x=>{l=x})}).next(()=>o.Hi.getDocumentsMatchingQuery(f,e,n?u:Qe.min(),n?l:Tn())).next(w=>(function Zc(i,e,n){let o=i.Xi.get(e)||Qe.min();n.forEach((u,l)=>{l.readTime.compareTo(o)>0&&(o=l.readTime)}),i.Xi.set(e,o)}(o,function fp(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}(e),w),{documents:w,ir:l})))}class qp{constructor(){this.activeTargetIds=function Sh(){return Av}()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Gv{constructor(){this.Hr=new qp,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,o){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,n,o){this.Jr[e]=n}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new qp,Promise.resolve()}handleUserChange(e,n,o){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class rf{Yr(e){}shutdown(){}}class ty{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){Ze("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){Ze("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Zl=null;function Zd(){return null===Zl?Zl=268435456+Math.round(2147483648*Math.random()):Zl++,"0x"+Zl.toString(16)}const Jl={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Qp{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const Ss="WebChannelConnection";class Jd extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,n,o,u,l){const f=Zd(),w=this.To(e,n);Ze("RestConnection",`Sending RPC '${e}' ${f}:`,w,o);const x={};return this.Eo(x,u,l),this.Ao(e,w,x,o).then(P=>(Ze("RestConnection",`Received RPC '${e}' ${f}: `,P),P),P=>{throw ws("RestConnection",`RPC '${e}' ${f} failed with error: `,P,"url: ",w,"request:",o),P})}vo(e,n,o,u,l,f){return this.Io(e,n,o,u,l)}Eo(e,n,o){e["X-Goog-Api-Client"]="gl-js/ fire/"+yr,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((u,l)=>e[l]=u),o&&o.headers.forEach((u,l)=>e[l]=u)}To(e,n){return`${this.mo}/v1/${n}:${Jl[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,n,o,u){const l=Zd();return new Promise((f,w)=>{const x=new tr;x.setWithCredentials(!0),x.listenOnce(qn.COMPLETE,()=>{try{switch(x.getLastErrorCode()){case Nt.NO_ERROR:const H=x.getResponseJson();Ze(Ss,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(H)),f(H);break;case Nt.TIMEOUT:Ze(Ss,`RPC '${e}' ${l} timed out`),w(new Ge(ye.DEADLINE_EXCEEDED,"Request time out"));break;case Nt.HTTP_ERROR:const ee=x.getStatus();if(Ze(Ss,`RPC '${e}' ${l} failed with status:`,ee,"response text:",x.getResponseText()),ee>0){let Ce=x.getResponseJson();Array.isArray(Ce)&&(Ce=Ce[0]);const Fe=Ce?.error;if(Fe&&Fe.status&&Fe.message){const ct=function(bt){const Mt=bt.toLowerCase().replace(/_/g,"-");return Object.values(ye).indexOf(Mt)>=0?Mt:ye.UNKNOWN}(Fe.status);w(new Ge(ct,Fe.message))}else w(new Ge(ye.UNKNOWN,"Server responded with status "+x.getStatus()))}else w(new Ge(ye.UNAVAILABLE,"Connection failed."));break;default:wt()}}finally{Ze(Ss,`RPC '${e}' ${l} completed.`)}});const P=JSON.stringify(u);Ze(Ss,`RPC '${e}' ${l} sending request:`,u),x.send(n,"POST",P,o,15)})}Ro(e,n,o){const u=Zd(),l=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=Se(),w=je(),x={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},P=this.longPollingOptions.timeoutSeconds;void 0!==P&&(x.longPollingTimeout=Math.round(1e3*P)),this.useFetchStreams&&(x.xmlHttpFactory=new an({})),this.Eo(x.initMessageHeaders,n,o),x.encodeInitMessageHeaders=!0;const H=l.join("");Ze(Ss,`Creating RPC '${e}' stream ${u}: ${H}`,x);const ee=f.createWebChannel(H,x);let Ce=!1,Fe=!1;const ct=new Qp({ro:Mt=>{Fe?Ze(Ss,`Not sending because RPC '${e}' stream ${u} is closed:`,Mt):(Ce||(Ze(Ss,`Opening RPC '${e}' stream ${u} transport.`),ee.open(),Ce=!0),Ze(Ss,`RPC '${e}' stream ${u} sending:`,Mt),ee.send(Mt))},oo:()=>ee.close()}),bt=(Mt,Mn,ar)=>{Mt.listen(Mn,Vn=>{try{ar(Vn)}catch(hs){setTimeout(()=>{throw hs},0)}})};return bt(ee,mr.EventType.OPEN,()=>{Fe||Ze(Ss,`RPC '${e}' stream ${u} transport opened.`)}),bt(ee,mr.EventType.CLOSE,()=>{Fe||(Fe=!0,Ze(Ss,`RPC '${e}' stream ${u} transport closed`),ct.wo())}),bt(ee,mr.EventType.ERROR,Mt=>{Fe||(Fe=!0,ws(Ss,`RPC '${e}' stream ${u} transport errored:`,Mt),ct.wo(new Ge(ye.UNAVAILABLE,"The operation could not be completed")))}),bt(ee,mr.EventType.MESSAGE,Mt=>{var Mn;if(!Fe){const ar=Mt.data[0];Tt(!!ar);const hs=ar.error||(null===(Mn=ar[0])||void 0===Mn?void 0:Mn.error);if(hs){Ze(Ss,`RPC '${e}' stream ${u} received error:`,hs);const Zi=hs.status;let fi=function(yl){const hv=h[yl];if(void 0!==hv)return L(hv)}(Zi),Bo=hs.message;void 0===fi&&(fi=ye.INTERNAL,Bo="Unknown error status: "+Zi+" with message "+hs.message),Fe=!0,ct.wo(new Ge(fi,Bo)),ee.close()}else Ze(Ss,`RPC '${e}' stream ${u} received:`,ar),ct._o(ar)}}),bt(w,er.STAT_EVENT,Mt=>{Mt.stat===bn.PROXY?Ze(Ss,`RPC '${e}' stream ${u} detected buffering proxy`):Mt.stat===bn.NOPROXY&&Ze(Ss,`RPC '${e}' stream ${u} detected no buffering proxy`)}),setTimeout(()=>{ct.fo()},0),ct}}function Zu(){return typeof document<"u"?document:null}function Jc(i){return new qu(i,!0)}class th{constructor(e,n,o=1e3,u=1.5,l=6e4){this.ii=e,this.timerId=n,this.Po=o,this.bo=u,this.Vo=l,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),o=Math.max(0,Date.now()-this.Co),u=Math.max(0,n-o);u>0&&Ze("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${o} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,u,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class nh{constructor(e,n,o,u,l,f,w,x){this.ii=e,this.$o=o,this.Oo=u,this.connection=l,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=w,this.listener=x,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new th(e,n)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,Q.A)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,Q.A)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,n){var o=this;return(0,Q.A)(function*(){o.Ho(),o.Jo(),o.qo.cancel(),o.Fo++,4!==e?o.qo.reset():n&&n.code===ye.RESOURCE_EXHAUSTED?(Dr(n.toString()),Dr("Using maximum backoff delay to prevent overloading the backend."),o.qo.xo()):n&&n.code===ye.UNAUTHENTICATED&&3!==o.state&&(o.authCredentialsProvider.invalidateToken(),o.appCheckCredentialsProvider.invalidateToken()),null!==o.stream&&(o.Yo(),o.stream.close(),o.stream=null),o.state=e,yield o.listener.ao(n)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,u])=>{this.Fo===n&&this.Zo(o,u)},o=>{e(()=>{const u=new Ge(ye.UNKNOWN,"Fetching auth token failed: "+o.message);return this.tu(u)})})}Zo(e,n){const o=this.Xo(this.Fo);this.stream=this.eu(e,n),this.stream.uo(()=>{o(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(u=>{o(()=>this.tu(u))}),this.stream.onMessage(u=>{o(()=>this.onMessage(u))})}Go(){var e=this;this.state=5,this.qo.No((0,Q.A)(function*(){e.state=0,e.start()}))}tu(e){return Ze("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.Fo===e?n():(Ze("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class e0 extends nh{constructor(e,n,o,u,l,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,o,u,f),this.serializer=l}eu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.qo.reset();const n=function Tm(i,e){let n;if("targetChange"in e){const o="NO_CHANGE"===(x=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===x?1:"REMOVE"===x?2:"CURRENT"===x?3:"RESET"===x?4:wt(),u=e.targetChange.targetIds||[],l=function(x,P){return x.useProto3Json?(Tt(void 0===P||"string"==typeof P),Ti.fromBase64String(P||"")):(Tt(void 0===P||P instanceof Uint8Array),Ti.fromUint8Array(P||new Uint8Array))}(i,e.targetChange.resumeToken),f=e.targetChange.cause,w=f&&function(x){const P=void 0===x.code?ye.UNKNOWN:L(x.code);return new Ge(P,x.message||"")}(f);n=new jl(o,u,l,w||null)}else if("documentChange"in e){const o=e.documentChange,u=Ra(i,o.document.name),l=Oi(o.document.updateTime),f=o.document.createTime?Oi(o.document.createTime):Qe.min(),w=new _({mapValue:{fields:o.document.fields}}),x=O.newFoundDocument(u,l,f,w);n=new xa(o.targetIds||[],o.removedTargetIds||[],x.key,x)}else if("documentDelete"in e){const o=e.documentDelete,u=Ra(i,o.document),l=o.readTime?Oi(o.readTime):Qe.min(),f=O.newNoDocument(u,l);n=new xa([],o.removedTargetIds||[],f.key,f)}else if("documentRemove"in e){const o=e.documentRemove,u=Ra(i,o.document);n=new xa([],o.removedTargetIds||[],u,null)}else{if(!("filter"in e))return wt();{const o=e.filter,{count:u=0,unchangedNames:l}=o,f=new I(u,l);n=new Bl(o.targetId,f)}}var x;return n}(this.serializer,e),o=function(u){if(!("targetChange"in u))return Qe.min();const l=u.targetChange;return l.targetIds&&l.targetIds.length?Qe.min():l.readTime?Oi(l.readTime):Qe.min()}(e);return this.listener.nu(n,o)}su(e){const n={};n.database=Vd(this.serializer),n.addTarget=function(u,l){let f;const w=l.target;if(f=Al(w)?{documents:Cm(u,w)}:{query:Tp(u,w)},f.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){f.resumeToken=wp(u,l.resumeToken);const x=Fd(u,l.expectedCount);null!==x&&(f.expectedCount=x)}else if(l.snapshotVersion.compareTo(Qe.min())>0){f.readTime=zl(u,l.snapshotVersion.toTimestamp());const x=Fd(u,l.expectedCount);null!==x&&(f.expectedCount=x)}return f}(this.serializer,e);const o=function bm(i,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return wt()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);o&&(n.labels=o),this.Wo(n)}iu(e){const n={};n.database=Vd(this.serializer),n.removeTarget=e,this.Wo(n)}}class Xp extends nh{constructor(e,n,o,u,l,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,o,u,f),this.serializer=l,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,n){return this.connection.Ro("Write",e,n)}onMessage(e){if(Tt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const n=function Dp(i,e){return i&&i.length>0?(Tt(void 0!==e),i.map(n=>function(o,u){let l=Oi(o.updateTime?o.updateTime:u);return l.isEqual(Qe.min())&&(l=Oi(u)),new Mv(l,o.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),o=Oi(e.commitTime);return this.listener.cu(o,n)}return Tt(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Vd(this.serializer),this.Wo(e)}uu(e){const n={streamToken:this.lastStreamToken,writes:e.map(o=>function gc(i,e){let n;if(e instanceof Aa)n={update:wm(i,e.key,e.value)};else if(e instanceof yu)n={delete:Gl(i,e.key)};else if(e instanceof Sa)n={update:wm(i,e.key,e.data),updateMask:xm(e.fieldMask)};else{if(!(e instanceof Nh))return wt();n={verify:Gl(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(o=>function(u,l){const f=l.transform;if(f instanceof hc)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof jc)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof fc)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof kl)return{fieldPath:l.field.canonicalString(),increment:f.gt};throw wt()}(0,o))),e.precondition.isNone||(n.currentDocument=void 0!==(u=e.precondition).updateTime?{updateTime:_m(i,u.updateTime)}:void 0!==u.exists?{exists:u.exists}:wt()),n;var u}(this.serializer,o))};this.Wo(n)}}class rh extends class{}{constructor(e,n,o,u){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=o,this.serializer=u,this.lu=!1}fu(){if(this.lu)throw new Ge(ye.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,n,o){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,l])=>this.connection.Io(e,n,o,u,l)).catch(u=>{throw"FirebaseError"===u.name?(u.code===ye.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Ge(ye.UNKNOWN,u.toString())})}vo(e,n,o,u){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,f])=>this.connection.vo(e,n,o,l,f,u)).catch(l=>{throw"FirebaseError"===l.name?(l.code===ye.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Ge(ye.UNKNOWN,l.toString())})}terminate(){this.lu=!0}}class Kv{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Dr(n),this.mu=!1):Ze("OnlineStateTracker",n)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class qv{constructor(e,n,o,u,l){var f=this;this.localStore=e,this.datastore=n,this.asyncQueue=o,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=l,this.Pu.Yr(w=>{o.enqueueAndForget((0,Q.A)(function*(){var x;Du(f)&&(Ze("RemoteStore","Restarting streams for network reachability change."),yield(x=(0,Q.A)(function*(P){const H=gt(P);H.vu.add(4),yield ed(H),H.bu.set("Unknown"),H.vu.delete(4),yield el(H)}),function(P){return x.apply(this,arguments)})(f))}))}),this.bu=new Kv(o,u)}}function el(i){return af.apply(this,arguments)}function af(){return af=(0,Q.A)(function*(i){if(Du(i))for(const e of i.Ru)yield e(!0)}),af.apply(this,arguments)}function ed(i){return Yp.apply(this,arguments)}function Yp(){return Yp=(0,Q.A)(function*(i){for(const e of i.Ru)yield e(!1)}),Yp.apply(this,arguments)}function Zp(i,e){const n=gt(i);n.Au.has(e.targetId)||(n.Au.set(e.targetId,e),cf(n)?Jp(n):nd(n).Ko()&&td(n,e))}function ih(i,e){const n=gt(i),o=nd(n);n.Au.delete(e),o.Ko()&&uf(n,e),0===n.Au.size&&(o.Ko()?o.jo():Du(n)&&n.bu.set("Unknown"))}function td(i,e){if(i.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Qe.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}nd(i).su(e)}function uf(i,e){i.Vu.qt(e),nd(i).iu(e)}function Jp(i){i.Vu=new $l({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),le:e=>i.Au.get(e)||null,ue:()=>i.datastore.serializer.databaseId}),nd(i).start(),i.bu.gu()}function cf(i){return Du(i)&&!nd(i).Uo()&&i.Au.size>0}function Du(i){return 0===gt(i).vu.size}function sh(i){i.Vu=void 0}function Qv(i){return lf.apply(this,arguments)}function lf(){return lf=(0,Q.A)(function*(i){i.Au.forEach((e,n)=>{td(i,e)})}),lf.apply(this,arguments)}function Xv(i,e){return df.apply(this,arguments)}function df(){return df=(0,Q.A)(function*(i,e){sh(i),cf(i)?(i.bu.Iu(e),Jp(i)):i.bu.set("Unknown")}),df.apply(this,arguments)}function t0(i,e,n){return eg.apply(this,arguments)}function eg(){return eg=(0,Q.A)(function*(i,e,n){if(i.bu.set("Online"),e instanceof jl&&2===e.state&&e.cause)try{yield(o=(0,Q.A)(function*(u,l){const f=l.cause;for(const w of l.targetIds)u.Au.has(w)&&(yield u.remoteSyncer.rejectListen(w,f),u.Au.delete(w),u.Vu.removeTarget(w))}),function(u,l){return o.apply(this,arguments)})(i,e)}catch(o){Ze("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),o),yield tl(i,o)}else if(e instanceof xa?i.Vu.Ht(e):e instanceof Bl?i.Vu.ne(e):i.Vu.Xt(e),!n.isEqual(Qe.min()))try{const o=yield Qd(i.localStore);n.compareTo(o)>=0&&(yield function(u,l){const f=u.Vu.ce(l);return f.targetChanges.forEach((w,x)=>{if(w.resumeToken.approximateByteSize()>0){const P=u.Au.get(x);P&&u.Au.set(x,P.withResumeToken(w.resumeToken,l))}}),f.targetMismatches.forEach((w,x)=>{const P=u.Au.get(w);if(!P)return;u.Au.set(w,P.withResumeToken(Ti.EMPTY_BYTE_STRING,P.snapshotVersion)),uf(u,w);const H=new vu(P.target,w,x,P.sequenceNumber);td(u,H)}),u.remoteSyncer.applyRemoteEvent(f)}(i,n))}catch(o){Ze("RemoteStore","Failed to raise snapshot:",o),yield tl(i,o)}var o}),eg.apply(this,arguments)}function tl(i,e,n){return tg.apply(this,arguments)}function tg(){return tg=(0,Q.A)(function*(i,e,n){if(!Wr(e))throw e;i.vu.add(1),yield ed(i),i.bu.set("Offline"),n||(n=()=>Qd(i.localStore)),i.asyncQueue.enqueueRetryable((0,Q.A)(function*(){Ze("RemoteStore","Retrying IndexedDB access"),yield n(),i.vu.delete(1),yield el(i)}))}),tg.apply(this,arguments)}function nl(i,e){return e().catch(n=>tl(i,n,e))}function Tu(i){return ng.apply(this,arguments)}function ng(){return ng=(0,Q.A)(function*(i){const e=gt(i),n=rl(e);let o=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;ny(e);)try{const u=yield Jh(e.localStore,o);if(null===u){0===e.Eu.length&&n.jo();break}o=u.batchId,Yv(e,u)}catch(u){yield tl(e,u)}ry(e)&&iy(e)}),ng.apply(this,arguments)}function ny(i){return Du(i)&&i.Eu.length<10}function Yv(i,e){i.Eu.push(e);const n=rl(i);n.Ko()&&n.ou&&n.uu(e.mutations)}function ry(i){return Du(i)&&!rl(i).Uo()&&i.Eu.length>0}function iy(i){rl(i).start()}function sy(i){return hf.apply(this,arguments)}function hf(){return hf=(0,Q.A)(function*(i){rl(i).hu()}),hf.apply(this,arguments)}function rg(i){return oy.apply(this,arguments)}function oy(){return oy=(0,Q.A)(function*(i){const e=rl(i);for(const n of i.Eu)e.uu(n.mutations)}),oy.apply(this,arguments)}function ig(i,e,n){return ff.apply(this,arguments)}function ff(){return ff=(0,Q.A)(function*(i,e,n){const o=i.Eu.shift(),u=Ph.from(o,e,n);yield nl(i,()=>i.remoteSyncer.applySuccessfulWrite(u)),yield Tu(i)}),ff.apply(this,arguments)}function Zv(i,e){return sg.apply(this,arguments)}function sg(){return sg=(0,Q.A)(function*(i,e){var n;e&&rl(i).ou&&(yield(n=(0,Q.A)(function*(o,u){if(function T(i){switch(i){default:return wt();case ye.CANCELLED:case ye.UNKNOWN:case ye.DEADLINE_EXCEEDED:case ye.RESOURCE_EXHAUSTED:case ye.INTERNAL:case ye.UNAVAILABLE:case ye.UNAUTHENTICATED:return!1;case ye.INVALID_ARGUMENT:case ye.NOT_FOUND:case ye.ALREADY_EXISTS:case ye.PERMISSION_DENIED:case ye.FAILED_PRECONDITION:case ye.ABORTED:case ye.OUT_OF_RANGE:case ye.UNIMPLEMENTED:case ye.DATA_LOSS:return!0}}(l=u.code)&&l!==ye.ABORTED){const f=o.Eu.shift();rl(o).Qo(),yield nl(o,()=>o.remoteSyncer.rejectFailedWrite(f.batchId,u)),yield Tu(o)}var l}),function(o,u){return n.apply(this,arguments)})(i,e)),ry(i)&&iy(i)}),sg.apply(this,arguments)}function og(i,e){return ag.apply(this,arguments)}function ag(){return ag=(0,Q.A)(function*(i,e){const n=gt(i);n.asyncQueue.verifyOperationInProgress(),Ze("RemoteStore","RemoteStore received new credentials");const o=Du(n);n.vu.add(3),yield ed(n),o&&n.bu.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.vu.delete(3),yield el(n)}),ag.apply(this,arguments)}function ug(){return ug=(0,Q.A)(function*(i,e){const n=gt(i);e?(n.vu.delete(2),yield el(n)):e||(n.vu.add(2),yield ed(n),n.bu.set("Unknown"))}),ug.apply(this,arguments)}function nd(i){return i.Su||(i.Su=function(e,n,o){const u=gt(e);return u.fu(),new e0(n,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{uo:Qv.bind(null,i),ao:Xv.bind(null,i),nu:t0.bind(null,i)}),i.Ru.push(function(){var e=(0,Q.A)(function*(n){n?(i.Su.Qo(),cf(i)?Jp(i):i.bu.set("Unknown")):(yield i.Su.stop(),sh(i))});return function(n){return e.apply(this,arguments)}}())),i.Su}function rl(i){return i.Du||(i.Du=function(e,n,o){const u=gt(e);return u.fu(),new Xp(n,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{uo:sy.bind(null,i),ao:Zv.bind(null,i),au:rg.bind(null,i),cu:ig.bind(null,i)}),i.Ru.push(function(){var e=(0,Q.A)(function*(n){n?(i.Du.Qo(),yield Tu(i)):(yield i.Du.stop(),i.Eu.length>0&&(Ze("RemoteStore",`Stopping write stream with ${i.Eu.length} pending writes`),i.Eu=[]))});return function(n){return e.apply(this,arguments)}}())),i.Du}class gf{constructor(e,n,o,u,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=o,this.op=u,this.removalCallback=l,this.deferred=new Nn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}static createAndSchedule(e,n,o,u,l){const f=Date.now()+o,w=new gf(e,n,f,u,l);return w.start(o),w}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ge(ye.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function il(i,e){if(Dr("AsyncQueue",`${e}: ${i}`),Wr(i))return new Ge(ye.UNAVAILABLE,`${e}: ${i}`);throw i}class ro{constructor(e){this.comparator=e?(n,o)=>e(n,o)||dt.comparator(n.key,o.key):(n,o)=>dt.comparator(n.key,o.key),this.keyedMap=Rl(),this.sortedSet=new nr(this.comparator)}static emptySet(e){return new ro(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,o)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ro)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),o=e.sortedSet.getIterator();for(;n.hasNext();){const u=n.getNext().key,l=o.getNext().key;if(!u.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const o=new ro;return o.comparator=this.comparator,o.keyedMap=e,o.sortedSet=n,o}}class cg{constructor(){this.Cu=new nr(dt.comparator)}track(e){const n=e.doc.key,o=this.Cu.get(n);o?0!==e.type&&3===o.type?this.Cu=this.Cu.insert(n,e):3===e.type&&1!==o.type?this.Cu=this.Cu.insert(n,{type:o.type,doc:e.doc}):2===e.type&&2===o.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):2===e.type&&0===o.type?this.Cu=this.Cu.insert(n,{type:0,doc:e.doc}):1===e.type&&0===o.type?this.Cu=this.Cu.remove(n):1===e.type&&2===o.type?this.Cu=this.Cu.insert(n,{type:1,doc:o.doc}):0===e.type&&1===o.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):wt():this.Cu=this.Cu.insert(n,e)}xu(){const e=[];return this.Cu.inorderTraversal((n,o)=>{e.push(o)}),e}}class oh{constructor(e,n,o,u,l,f,w,x,P){this.query=e,this.docs=n,this.oldDocs=o,this.docChanges=u,this.mutatedKeys=l,this.fromCache=f,this.syncStateChanged=w,this.excludesMetadataChanges=x,this.hasCachedResults=P}static fromInitialDocuments(e,n,o,u,l){const f=[];return n.forEach(w=>{f.push({type:0,doc:w})}),new oh(e,n,ro.emptySet(n),f,o,u,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ku(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,o=e.docChanges;if(n.length!==o.length)return!1;for(let u=0;u<n.length;u++)if(n[u].type!==o[u].type||!n[u].doc.isEqual(o[u].doc))return!1;return!0}}class lg{constructor(){this.Nu=void 0,this.listeners=[]}}class Tc{constructor(){this.queries=new qa(e=>Vc(e),Ku),this.onlineState="Unknown",this.ku=new Set}}function dg(){return dg=(0,Q.A)(function*(i,e){const n=gt(i),o=e.query;let u=!1,l=n.queries.get(o);if(l||(u=!0,l=new lg),u)try{l.Nu=yield n.onListen(o)}catch(f){const w=il(f,`Initialization of query '${Sd(e.query)}' failed`);return void e.onError(w)}n.queries.set(o,l),l.listeners.push(e),e.Mu(n.onlineState),l.Nu&&e.$u(l.Nu)&&mf(n)}),dg.apply(this,arguments)}function fg(){return fg=(0,Q.A)(function*(i,e){const n=gt(i),o=e.query;let u=!1;const l=n.queries.get(o);if(l){const f=l.listeners.indexOf(e);f>=0&&(l.listeners.splice(f,1),u=0===l.listeners.length)}if(u)return n.queries.delete(o),n.onUnlisten(o)}),fg.apply(this,arguments)}function pg(i,e){const n=gt(i);let o=!1;for(const u of e){const f=n.queries.get(u.query);if(f){for(const w of f.listeners)w.$u(u)&&(o=!0);f.Nu=u}}o&&mf(n)}function Cu(i,e,n){const o=gt(i),u=o.queries.get(e);if(u)for(const l of u.listeners)l.onError(n);o.queries.delete(e)}function mf(i){i.ku.forEach(e=>{e.next()})}class gg{constructor(e,n,o){this.query=e,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=o||{}}$u(e){if(!this.options.includeMetadataChanges){const o=[];for(const u of e.docChanges)3!==u.type&&o.push(u);e=new oh(e.query,e.docs,e.oldDocs,o,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),n=!0):this.qu(e,this.onlineState)&&(this.Uu(e),n=!0),this.Bu=e,n}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let n=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),n=!0),n}qu(e,n){return!e.fromCache||(!this.options.Ku||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=oh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class ay{constructor(e){this.key=e}}class uy{constructor(e){this.key=e}}class vf{constructor(e,n){this.query=e,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=Tn(),this.mutatedKeys=Tn(),this.tc=xl(e),this.ec=new ro(this.tc)}get nc(){return this.Yu}sc(e,n){const o=n?n.ic:new cg,u=n?n.ec:this.ec;let l=n?n.mutatedKeys:this.mutatedKeys,f=u,w=!1;const x="F"===this.query.limitType&&u.size===this.query.limit?u.last():null,P="L"===this.query.limitType&&u.size===this.query.limit?u.first():null;if(e.inorderTraversal((H,ee)=>{const Ce=u.get(H),Fe=mu(this.query,ee)?ee:null,ct=!!Ce&&this.mutatedKeys.has(Ce.key),bt=!!Fe&&(Fe.hasLocalMutations||this.mutatedKeys.has(Fe.key)&&Fe.hasCommittedMutations);let Mt=!1;Ce&&Fe?Ce.data.isEqual(Fe.data)?ct!==bt&&(o.track({type:3,doc:Fe}),Mt=!0):this.rc(Ce,Fe)||(o.track({type:2,doc:Fe}),Mt=!0,(x&&this.tc(Fe,x)>0||P&&this.tc(Fe,P)<0)&&(w=!0)):!Ce&&Fe?(o.track({type:0,doc:Fe}),Mt=!0):Ce&&!Fe&&(o.track({type:1,doc:Ce}),Mt=!0,(x||P)&&(w=!0)),Mt&&(Fe?(f=f.add(Fe),l=bt?l.add(H):l.delete(H)):(f=f.delete(H),l=l.delete(H)))}),null!==this.query.limit)for(;f.size>this.query.limit;){const H="F"===this.query.limitType?f.last():f.first();f=f.delete(H.key),l=l.delete(H.key),o.track({type:1,doc:H})}return{ec:f,ic:o,zi:w,mutatedKeys:l}}rc(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,o){const u=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const l=e.ic.xu();l.sort((P,H)=>function(ee,Ce){const Fe=ct=>{switch(ct){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return wt()}};return Fe(ee)-Fe(Ce)}(P.type,H.type)||this.tc(P.doc,H.doc)),this.oc(o);const f=n?this.uc():[],w=0===this.Zu.size&&this.current?1:0,x=w!==this.Xu;return this.Xu=w,0!==l.length||x?{snapshot:new oh(this.query,e.ec,u,l,e.mutatedKeys,0===w,x,!1,!!o&&o.resumeToken.approximateByteSize()>0),cc:f}:{cc:f}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new cg,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(n=>this.Yu=this.Yu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Yu=this.Yu.delete(n)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=Tn(),this.ec.forEach(o=>{this.ac(o.key)&&(this.Zu=this.Zu.add(o.key))});const n=[];return e.forEach(o=>{this.Zu.has(o)||n.push(new uy(o))}),this.Zu.forEach(o=>{e.has(o)||n.push(new ay(o))}),n}hc(e){this.Yu=e.ir,this.Zu=Tn();const n=this.sc(e.documents);return this.applyChanges(n,!0)}lc(){return oh.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class cy{constructor(e,n,o){this.query=e,this.targetId=n,this.view=o}}class ly{constructor(e){this.key=e,this.fc=!1}}class e_{constructor(e,n,o,u,l,f){this.localStore=e,this.remoteStore=n,this.eventManager=o,this.sharedClientState=u,this.currentUser=l,this.maxConcurrentLimboResolutions=f,this.dc={},this.wc=new qa(w=>Vc(w),Ku),this._c=new Map,this.mc=new Set,this.gc=new nr(dt.comparator),this.yc=new Map,this.Ic=new Fp,this.Tc={},this.Ec=new Map,this.Ac=Ec.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function dy(i,e){return _f.apply(this,arguments)}function _f(){return _f=(0,Q.A)(function*(i,e){const n=function ch(i){const e=gt(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=sl.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Cf.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=fy.bind(null,e),e.dc.nu=pg.bind(null,e.eventManager),e.dc.Pc=Cu.bind(null,e.eventManager),e}(i);let o,u;const l=n.wc.get(e);if(l)o=l.targetId,n.sharedClientState.addLocalQueryTarget(o),u=l.view.lc();else{const f=yield function wo(i,e){const n=gt(i);return n.persistence.runTransaction("Allocate target","readwrite",o=>{let u;return n.Bs.getTargetData(o,e).next(l=>l?(u=l,De.resolve(u)):n.Bs.allocateTargetId(o).next(f=>(u=new vu(e,f,"TargetPurposeListen",o.currentSequenceNumber),n.Bs.addTargetData(o,u).next(()=>u))))}).then(o=>{const u=n.Ji.get(o.targetId);return(null===u||o.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(o.targetId,o),n.Yi.set(e,o.targetId)),o})}(n.localStore,cs(e)),w=n.sharedClientState.addLocalQueryTarget(f.targetId);o=f.targetId,u=yield function mg(i,e,n,o,u){return yg.apply(this,arguments)}(n,e,o,"current"===w,f.resumeToken),n.isPrimaryClient&&Zp(n.remoteStore,f)}return u}),_f.apply(this,arguments)}function yg(){return yg=(0,Q.A)(function*(i,e,n,o,u){i.Rc=(ee,Ce,Fe)=>{return(ct=(0,Q.A)(function*(bt,Mt,Mn,ar){let Vn=Mt.view.sc(Mn);Vn.zi&&(Vn=yield ef(bt.localStore,Mt.query,!1).then(({documents:fi})=>Mt.view.sc(fi,Vn)));const hs=ar&&ar.targetChanges.get(Mt.targetId),Zi=Mt.view.applyChanges(Vn,bt.isPrimaryClient,hs);return gy(bt,Mt.targetId,Zi.cc),Zi.snapshot}),function(bt,Mt,Mn,ar){return ct.apply(this,arguments)})(i,ee,Ce,Fe);var ct};const l=yield ef(i.localStore,e,!0),f=new vf(e,l.ir),w=f.sc(l.documents),x=Ma.createSynthesizedTargetChangeForCurrentChange(n,o&&"Offline"!==i.onlineState,u),P=f.applyChanges(w,i.isPrimaryClient,x);gy(i,n,P.cc);const H=new cy(e,n,f);return i.wc.set(e,H),i._c.has(n)?i._c.get(n).push(e):i._c.set(n,[e]),P.snapshot}),yg.apply(this,arguments)}function t_(i,e){return If.apply(this,arguments)}function If(){return If=(0,Q.A)(function*(i,e){const n=gt(i),o=n.wc.get(e),u=n._c.get(o.targetId);if(u.length>1)return n._c.set(o.targetId,u.filter(l=>!Ku(l,e))),void n.wc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(o.targetId),n.sharedClientState.isActiveQueryTarget(o.targetId)||(yield Qa(n.localStore,o.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(o.targetId),ih(n.remoteStore,o.targetId),sd(n,o.targetId)}).catch(qi))):(sd(n,o.targetId),yield Qa(n.localStore,o.targetId,!0))}),If.apply(this,arguments)}function Xa(){return Xa=(0,Q.A)(function*(i,e,n){const o=function lh(i){const e=gt(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=_g.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=wf.bind(null,e),e}(i);try{const u=yield function(l,f){const w=gt(l),x=jr.now(),P=f.reduce((Ce,Fe)=>Ce.add(Fe.key),Tn());let H,ee;return w.persistence.runTransaction("Locally write mutations","readwrite",Ce=>{let Fe=bs(),ct=Tn();return w.Zi.getEntries(Ce,P).next(bt=>{Fe=bt,Fe.forEach((Mt,Mn)=>{Mn.isValidDocument()||(ct=ct.add(Mt))})}).next(()=>w.localDocuments.getOverlayedDocuments(Ce,Fe)).next(bt=>{H=bt;const Mt=[];for(const Mn of f){const ar=Ip(Mn,H.get(Mn.key).overlayedDocument);null!=ar&&Mt.push(new Sa(Mn.key,ar,A(ar.value.mapValue),Ii.exists(!0)))}return w.mutationQueue.addMutationBatch(Ce,x,Mt,f)}).next(bt=>{ee=bt;const Mt=bt.applyToLocalDocumentSet(H,ct);return w.documentOverlayCache.saveOverlays(Ce,bt.batchId,Mt)})}).then(()=>({batchId:ee.batchId,changes:pp(H)}))}(o.localStore,e);o.sharedClientState.addPendingMutation(u.batchId),function(l,f,w){let x=l.Tc[l.currentUser.toKey()];x||(x=new nr(Ot)),x=x.insert(f,w),l.Tc[l.currentUser.toKey()]=x}(o,u.batchId,n),yield Cc(o,u.changes),yield Tu(o.remoteStore)}catch(u){const l=il(u,"Failed to persist write");n.reject(l)}}),Xa.apply(this,arguments)}function sl(i,e){return vg.apply(this,arguments)}function vg(){return vg=(0,Q.A)(function*(i,e){const n=gt(i);try{const o=yield function $v(i,e){const n=gt(i),o=e.snapshotVersion;let u=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const f=n.Zi.newChangeBuffer({trackRemovals:!0});u=n.Ji;const w=[];e.targetChanges.forEach((H,ee)=>{const Ce=u.get(ee);if(!Ce)return;w.push(n.Bs.removeMatchingKeys(l,H.removedDocuments,ee).next(()=>n.Bs.addMatchingKeys(l,H.addedDocuments,ee)));let Fe=Ce.withSequenceNumber(l.currentSequenceNumber);var ct,bt,Mt;null!==e.targetMismatches.get(ee)?Fe=Fe.withResumeToken(Ti.EMPTY_BYTE_STRING,Qe.min()).withLastLimboFreeSnapshotVersion(Qe.min()):H.resumeToken.approximateByteSize()>0&&(Fe=Fe.withResumeToken(H.resumeToken,o)),u=u.insert(ee,Fe),bt=Fe,Mt=H,(0===(ct=Ce).resumeToken.approximateByteSize()||bt.snapshotVersion.toMicroseconds()-ct.snapshotVersion.toMicroseconds()>=3e8||Mt.addedDocuments.size+Mt.modifiedDocuments.size+Mt.removedDocuments.size>0)&&w.push(n.Bs.updateTargetData(l,Fe))});let x=bs(),P=Tn();if(e.documentUpdates.forEach(H=>{e.resolvedLimboDocuments.has(H)&&w.push(n.persistence.referenceDelegate.updateLimboDocument(l,H))}),w.push(function Zh(i,e,n){let o=Tn(),u=Tn();return n.forEach(l=>o=o.add(l)),e.getEntries(i,o).next(l=>{let f=bs();return n.forEach((w,x)=>{const P=l.get(w);x.isFoundDocument()!==P.isFoundDocument()&&(u=u.add(w)),x.isNoDocument()&&x.version.isEqual(Qe.min())?(e.removeEntry(w,x.readTime),f=f.insert(w,x)):!P.isValidDocument()||x.version.compareTo(P.version)>0||0===x.version.compareTo(P.version)&&P.hasPendingWrites?(e.addEntry(x),f=f.insert(w,x)):Ze("LocalStore","Ignoring outdated watch update for ",w,". Current version:",P.version," Watch version:",x.version)}),{nr:f,sr:u}})}(l,f,e.documentUpdates).next(H=>{x=H.nr,P=H.sr})),!o.isEqual(Qe.min())){const H=n.Bs.getLastRemoteSnapshotVersion(l).next(ee=>n.Bs.setTargetsMetadata(l,l.currentSequenceNumber,o));w.push(H)}return De.waitFor(w).next(()=>f.apply(l)).next(()=>n.localDocuments.getLocalViewOfDocuments(l,x,P)).next(()=>x)}).then(l=>(n.Ji=u,l))}(n.localStore,e);e.targetChanges.forEach((u,l)=>{const f=n.yc.get(l);f&&(Tt(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1),u.addedDocuments.size>0?f.fc=!0:u.modifiedDocuments.size>0?Tt(f.fc):u.removedDocuments.size>0&&(Tt(f.fc),f.fc=!1))}),yield Cc(n,o,e)}catch(o){yield qi(o)}}),vg.apply(this,arguments)}function hy(i,e,n){const o=gt(i);if(o.isPrimaryClient&&0===n||!o.isPrimaryClient&&1===n){const u=[];o.wc.forEach((l,f)=>{const w=f.view.Mu(e);w.snapshot&&u.push(w.snapshot)}),function(l,f){const w=gt(l);w.onlineState=f;let x=!1;w.queries.forEach((P,H)=>{for(const ee of H.listeners)ee.Mu(f)&&(x=!0)}),x&&mf(w)}(o.eventManager,e),u.length&&o.dc.nu(u),o.onlineState=e,o.isPrimaryClient&&o.sharedClientState.setOnlineState(e)}}function fy(i,e,n){return Ef.apply(this,arguments)}function Ef(){return Ef=(0,Q.A)(function*(i,e,n){const o=gt(i);o.sharedClientState.updateQueryState(e,"rejected",n);const u=o.yc.get(e),l=u&&u.key;if(l){let f=new nr(dt.comparator);f=f.insert(l,O.newNoDocument(l,Qe.min()));const w=Tn().add(l),x=new $s(Qe.min(),new Map,new nr(Ot),f,w);yield sl(o,x),o.gc=o.gc.remove(l),o.yc.delete(e),my(o)}else yield Qa(o.localStore,e,!1).then(()=>sd(o,e,n)).catch(qi)}),Ef.apply(this,arguments)}function _g(i,e){return ol.apply(this,arguments)}function ol(){return ol=(0,Q.A)(function*(i,e){const n=gt(i),o=e.batch.batchId;try{const u=yield function $p(i,e){const n=gt(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const u=e.batch.keys(),l=n.Zi.newChangeBuffer({trackRemovals:!0});return function(f,w,x,P){const H=x.batch,ee=H.keys();let Ce=De.resolve();return ee.forEach(Fe=>{Ce=Ce.next(()=>P.getEntry(w,Fe)).next(ct=>{const bt=x.docVersions.get(Fe);Tt(null!==bt),ct.version.compareTo(bt)<0&&(H.applyToRemoteDocument(ct,x),ct.isValidDocument()&&(ct.setReadTime(x.commitVersion),P.addEntry(ct)))})}),Ce.next(()=>f.mutationQueue.removeMutationBatch(w,H))}(n,o,e,l).next(()=>l.apply(o)).next(()=>n.mutationQueue.performConsistencyCheck(o)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(o,u,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(o,function(f){let w=Tn();for(let x=0;x<f.mutationResults.length;++x)f.mutationResults[x].transformResults.length>0&&(w=w.add(f.batch.mutations[x].key));return w}(e))).next(()=>n.localDocuments.getDocuments(o,u))})}(n.localStore,e);wg(n,o,null),Eg(n,o),n.sharedClientState.updateMutationState(o,"acknowledged"),yield Cc(n,u)}catch(u){yield qi(u)}}),ol.apply(this,arguments)}function wf(i,e,n){return Df.apply(this,arguments)}function Df(){return Df=(0,Q.A)(function*(i,e,n){const o=gt(i);try{const u=yield function(l,f){const w=gt(l);return w.persistence.runTransaction("Reject batch","readwrite-primary",x=>{let P;return w.mutationQueue.lookupMutationBatch(x,f).next(H=>(Tt(null!==H),P=H.keys(),w.mutationQueue.removeMutationBatch(x,H))).next(()=>w.mutationQueue.performConsistencyCheck(x)).next(()=>w.documentOverlayCache.removeOverlaysForBatchId(x,P,f)).next(()=>w.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(x,P)).next(()=>w.localDocuments.getDocuments(x,P))})}(o.localStore,e);wg(o,e,n),Eg(o,e),o.sharedClientState.updateMutationState(e,"rejected",n),yield Cc(o,u)}catch(u){yield qi(u)}}),Df.apply(this,arguments)}function Eg(i,e){(i.Ec.get(e)||[]).forEach(n=>{n.resolve()}),i.Ec.delete(e)}function wg(i,e,n){const o=gt(i);let u=o.Tc[o.currentUser.toKey()];if(u){const l=u.get(e);l&&(n?l.reject(n):l.resolve(),u=u.remove(e)),o.Tc[o.currentUser.toKey()]=u}}function sd(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const o of i._c.get(e))i.wc.delete(o),n&&i.dc.Pc(o,n);i._c.delete(e),i.isPrimaryClient&&i.Ic.Is(e).forEach(o=>{i.Ic.containsKey(o)||Dg(i,o)})}function Dg(i,e){i.mc.delete(e.path.canonicalString());const n=i.gc.get(e);null!==n&&(ih(i.remoteStore,n),i.gc=i.gc.remove(e),i.yc.delete(n),my(i))}function gy(i,e,n){for(const o of n)o instanceof ay?(i.Ic.addReference(o.key,e),n_(i,o)):o instanceof uy?(Ze("SyncEngine","Document no longer in limbo: "+o.key),i.Ic.removeReference(o.key,e),i.Ic.containsKey(o.key)||Dg(i,o.key)):wt()}function n_(i,e){const n=e.key,o=n.path.canonicalString();i.gc.get(n)||i.mc.has(o)||(Ze("SyncEngine","New document in limbo: "+n),i.mc.add(o),my(i))}function my(i){for(;i.mc.size>0&&i.gc.size<i.maxConcurrentLimboResolutions;){const e=i.mc.values().next().value;i.mc.delete(e);const n=new dt(zn.fromString(e)),o=i.Ac.next();i.yc.set(o,new ly(n)),i.gc=i.gc.insert(n,o),Zp(i.remoteStore,new vu(cs(ia(n.path)),o,"TargetPurposeLimboResolution",y.ct))}}function Cc(i,e,n){return Tf.apply(this,arguments)}function Tf(){return Tf=(0,Q.A)(function*(i,e,n){const o=gt(i),u=[],l=[],f=[];var w;o.wc.isEmpty()||(o.wc.forEach((w,x)=>{f.push(o.Rc(x,e,n).then(P=>{if((P||n)&&o.isPrimaryClient&&o.sharedClientState.updateQueryState(x.targetId,P?.fromCache?"not-current":"current"),P){u.push(P);const H=Vp.Li(x.targetId,P);l.push(H)}}))}),yield Promise.all(f),o.dc.nu(u),yield(w=(0,Q.A)(function*(x,P){const H=gt(x);try{yield H.persistence.runTransaction("notifyLocalViewChanges","readwrite",ee=>De.forEach(P,Ce=>De.forEach(Ce.Fi,Fe=>H.persistence.referenceDelegate.addReference(ee,Ce.targetId,Fe)).next(()=>De.forEach(Ce.Bi,Fe=>H.persistence.referenceDelegate.removeReference(ee,Ce.targetId,Fe)))))}catch(ee){if(!Wr(ee))throw ee;Ze("LocalStore","Failed to update sequence numbers: "+ee)}for(const ee of P){const Ce=ee.targetId;if(!ee.fromCache){const Fe=H.Ji.get(Ce),bt=Fe.withLastLimboFreeSnapshotVersion(Fe.snapshotVersion);H.Ji=H.Ji.insert(Ce,bt)}}}),function(x,P){return w.apply(this,arguments)})(o.localStore,l))}),Tf.apply(this,arguments)}function yy(i,e){return vy.apply(this,arguments)}function vy(){return vy=(0,Q.A)(function*(i,e){const n=gt(i);if(!n.currentUser.isEqual(e)){Ze("SyncEngine","User change. New user:",e.toKey());const o=yield Dc(n.localStore,e);n.currentUser=e,(u=n).Ec.forEach(f=>{f.forEach(w=>{w.reject(new Ge(ye.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),u.Ec.clear(),n.sharedClientState.handleUserChange(e,o.removedBatchIds,o.addedBatchIds),yield Cc(n,o.er)}var u}),vy.apply(this,arguments)}function Cf(i,e){const n=gt(i),o=n.yc.get(e);if(o&&o.fc)return Tn().add(o.key);{let u=Tn();const l=n._c.get(e);if(!l)return u;for(const f of l){const w=n.wc.get(f);u=u.unionWith(w.view.nc)}return u}}class ul{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return(0,Q.A)(function*(){n.serializer=Jc(e.databaseInfo.databaseId),n.sharedClientState=n.createSharedClientState(e),n.persistence=n.createPersistence(e),yield n.persistence.start(),n.localStore=n.createLocalStore(e),n.gcScheduler=n.createGarbageCollectionScheduler(e,n.localStore),n.indexBackfillerScheduler=n.createIndexBackfillerScheduler(e,n.localStore)})()}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return function Bp(i,e,n,o){return new Ym(i,e,n,o)}(this.persistence,new Yh,e.initialUser,this.serializer)}createPersistence(e){return new Yc(Kd.zs,this.serializer)}createSharedClientState(e){return new Gv}terminate(){var e=this;return(0,Q.A)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class ad{initialize(e,n){var o=this;return(0,Q.A)(function*(){o.localStore||(o.localStore=e.localStore,o.sharedClientState=e.sharedClientState,o.datastore=o.createDatastore(n),o.remoteStore=o.createRemoteStore(n),o.eventManager=o.createEventManager(n),o.syncEngine=o.createSyncEngine(n,!e.synchronizeTabs),o.sharedClientState.onlineStateHandler=u=>hy(o.syncEngine,u,1),o.remoteStore.remoteSyncer.handleCredentialChange=yy.bind(null,o.syncEngine),yield function pf(i,e){return ug.apply(this,arguments)}(o.remoteStore,o.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Tc}createDatastore(e){const n=Jc(e.databaseInfo.databaseId),o=new Jd(e.databaseInfo);return new rh(e.authCredentials,e.appCheckCredentials,o,n)}createRemoteStore(e){return n=this.localStore,o=this.datastore,u=e.asyncQueue,l=w=>hy(this.syncEngine,w,0),f=ty.D()?new ty:new rf,new qv(n,o,u,l,f);var n,o,u,l,f}createSyncEngine(e,n){return function(o,u,l,f,w,x,P){const H=new e_(o,u,l,f,w,x);return P&&(H.vc=!0),H}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return(e=(0,Q.A)(function*(n){const o=gt(n);Ze("RemoteStore","RemoteStore shutting down."),o.vu.add(5),yield ed(o),o.Pu.shutdown(),o.bu.set("Unknown")}),function(n){return e.apply(this,arguments)})(this.remoteStore);var e}}class Nf{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):Dr("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class Ty{constructor(e,n,o,u){var l=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=o,this.databaseInfo=u,this.user=Qn.UNAUTHENTICATED,this.clientId=ja.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(o,function(){var f=(0,Q.A)(function*(w){Ze("FirestoreClient","Received user=",w.uid),yield l.authCredentialListener(w),l.user=w});return function(w){return f.apply(this,arguments)}}()),this.appCheckCredentials.start(o,f=>(Ze("FirestoreClient","Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}getConfiguration(){var e=this;return(0,Q.A)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ge(ye.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new Nn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Q.A)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(o){const u=il(o,"Failed to shutdown persistence");n.reject(u)}})),n.promise}}function dh(i,e){return Sg.apply(this,arguments)}function Sg(){return Sg=(0,Q.A)(function*(i,e){i.asyncQueue.verifyOperationInProgress(),Ze("FirestoreClient","Initializing OfflineComponentProvider");const n=yield i.getConfiguration();yield e.initialize(n);let o=n.initialUser;i.setCredentialChangeListener(function(){var u=(0,Q.A)(function*(l){o.isEqual(l)||(yield Dc(e.localStore,l),o=l)});return function(l){return u.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}),Sg.apply(this,arguments)}function Mg(i,e){return Do.apply(this,arguments)}function Do(){return Do=(0,Q.A)(function*(i,e){i.asyncQueue.verifyOperationInProgress();const n=yield function xg(i){return by.apply(this,arguments)}(i);Ze("FirestoreClient","Initializing OnlineComponentProvider");const o=yield i.getConfiguration();yield e.initialize(n,o),i.setCredentialChangeListener(u=>og(e.remoteStore,u)),i.setAppCheckTokenChangeListener((u,l)=>og(e.remoteStore,l)),i._onlineComponents=e}),Do.apply(this,arguments)}function by(){return by=(0,Q.A)(function*(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){Ze("FirestoreClient","Using user provided OfflineComponentProvider");try{yield dh(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function Cy(i){return"FirebaseError"===i.name?i.code===ye.FAILED_PRECONDITION||i.code===ye.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||22===i.code||20===i.code||11===i.code}(n))throw n;ws("Error using user provided cache. Falling back to memory cache: "+n),yield dh(i,new ul)}}else Ze("FirestoreClient","Using default OfflineComponentProvider"),yield dh(i,new ul);return i._offlineComponents}),by.apply(this,arguments)}function ud(i){return Of.apply(this,arguments)}function Of(){return Of=(0,Q.A)(function*(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(Ze("FirestoreClient","Using user provided OnlineComponentProvider"),yield Mg(i,i._uninitializedComponentsProvider._online)):(Ze("FirestoreClient","Using default OnlineComponentProvider"),yield Mg(i,new ad))),i._onlineComponents}),Of.apply(this,arguments)}function hh(){return hh=(0,Q.A)(function*(i){const e=yield ud(i),n=e.eventManager;return n.onListen=dy.bind(null,e.syncEngine),n.onUnlisten=t_.bind(null,e.syncEngine),n}),hh.apply(this,arguments)}function Ya(i,e,n={}){const o=new Nn;return i.asyncQueue.enqueueAndForget((0,Q.A)(function*(){return function(u,l,f,w,x){const P=new Nf({next:ee=>{l.enqueueAndForget(()=>function hg(i,e){return fg.apply(this,arguments)}(u,H)),ee.fromCache&&"server"===w.source?x.reject(new Ge(ye.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):x.resolve(ee)},error:ee=>x.reject(ee)}),H=new gg(f,P,{includeMetadataChanges:!0,Ku:!0});return function rd(i,e){return dg.apply(this,arguments)}(u,H)}(yield function cd(i){return hh.apply(this,arguments)}(i),i.asyncQueue,e,n,o)})),o.promise}function Ng(i){const e={};return void 0!==i.timeoutSeconds&&(e.timeoutSeconds=i.timeoutSeconds),e}const Og=new Map;function ld(i,e,n){if(!n)throw new Ge(ye.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function f_(i){if(!dt.isDocumentKey(i))throw new Ge(ye.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function kg(i){if(dt.isDocumentKey(i))throw new Ge(ye.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function fh(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const e=(n=i).constructor?n.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var n;return"function"==typeof i?"a function":wt()}function Xn(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new Ge(ye.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=fh(i);throw new Ge(ye.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}class Lf{constructor(e){var n,o;if(void 0===e.host){if(void 0!==e.ssl)throw new Ge(ye.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Ge(ye.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function Pg(i,e,n,o){if(!0===e&&!0===o)throw new Ge(ye.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=Ng(null!==(o=e.experimentalLongPollingOptions)&&void 0!==o?o:{}),function(u){if(void 0!==u.timeoutSeconds){if(isNaN(u.timeoutSeconds))throw new Ge(ye.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new Ge(ye.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new Ge(ye.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class oa{constructor(e,n,o,u){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=o,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Lf({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Ge(ye.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Ge(ye.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Lf(e),void 0!==e.credentials&&(this._authCredentials=function(n){if(!n)return new _l;switch(n.type){case"firstParty":return new Ba(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Ge(ye.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=Og.get(e);n&&(Ze("ComponentProvider","Removing Datastore"),Og.delete(e),n.terminate())}(this),Promise.resolve()}}class ji{constructor(e,n,o){this.converter=n,this._key=o,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new bu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ji(this.firestore,e,this._key)}}class ds{constructor(e,n,o){this.converter=n,this._query=o,this.type="query",this.firestore=e}withConverter(e){return new ds(this.firestore,e,this._query)}}class bu extends ds{constructor(e,n,o){super(e,n,ia(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ji(this.firestore,null,new dt(e))}withConverter(e){return new bu(this.firestore,e,this._path)}}function Ny(i,e,...n){if(i=(0,J.Ku)(i),ld("collection","path",e),i instanceof oa){const o=zn.fromString(e,...n);return kg(o),new bu(i,null,o)}{if(!(i instanceof ji||i instanceof bu))throw new Ge(ye.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(zn.fromString(e,...n));return kg(o),new bu(i.firestore,null,o)}}function ph(i,e,...n){if(i=(0,J.Ku)(i),1===arguments.length&&(e=ja.A()),ld("doc","path",e),i instanceof oa){const o=zn.fromString(e,...n);return f_(o),new ji(i,null,new dt(o))}{if(!(i instanceof ji||i instanceof bu))throw new Ge(ye.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(zn.fromString(e,...n));return f_(o),new ji(i.firestore,i instanceof bu?i.converter:null,new dt(o))}}class Uf{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new th(this,"async_queue_retry"),this.Xc=()=>{const n=Zu();n&&Ze("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=Zu();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=Zu();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new Nn;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,Q.A)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(n){if(!Wr(n))throw n;Ze("AsyncQueue","Operation failed with retryable error: "+n)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(o=>{throw this.Wc=o,this.Hc=!1,Dr("INTERNAL UNHANDLED ERROR: ",function(l){let f=l.message||"";return l.stack&&(f=l.stack.includes(l.message)?l.stack:l.message+"\n"+l.stack),f}(o)),o}).then(o=>(this.Hc=!1,o))));return this.Gc=n,n}enqueueAfterDelay(e,n,o){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const u=gf.createAndSchedule(this,e,n,o,l=>this.na(l));return this.zc.push(u),u}Zc(){this.Wc&&wt()}verifyOperationInProgress(){}sa(){var e=this;return(0,Q.A)(function*(){let n;do{n=e.Gc,yield n}while(n!==e.Gc)})()}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,o)=>n.targetTimeMs-o.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}}class oi extends oa{constructor(e,n,o,u){super(e,n,o,u),this.type="firestore",this._queue=new Uf,this._persistenceKey=u?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||Ug(this),this._firestoreClient.terminate()}}function y_(i,e){const n="object"==typeof i?i:(0,Oe.Sx)(),o="string"==typeof i?i:e||"(default)",u=(0,Oe.j6)(n,"firestore").getImmediate({identifier:o});if(!u._initialized){const l=(0,J.yU)("firestore");l&&function p_(i,e,n,o={}){var u;const l=(i=Xn(i,oa))._getSettings(),f=`${e}:${n}`;if("firestore.googleapis.com"!==l.host&&l.host!==f&&ws("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),i._setSettings(Object.assign(Object.assign({},l),{host:f,ssl:!1})),o.mockUserToken){let w,x;if("string"==typeof o.mockUserToken)w=o.mockUserToken,x=Qn.MOCK_USER;else{w=(0,J.Fy)(o.mockUserToken,null===(u=i._app)||void 0===u?void 0:u.options.projectId);const P=o.mockUserToken.sub||o.mockUserToken.user_id;if(!P)throw new Ge(ye.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");x=new Qn(P)}i._authCredentials=new Yo(new Ki(w,x))}}(u,...l)}return u}function $i(i){return i._firestoreClient||Ug(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function Ug(i){var e,n,o;const u=i._freezeSettings(),l=(w=(null===(e=i._app)||void 0===e?void 0:e.options.appId)||"",new Bu(i._databaseId,w,i._persistenceKey,(P=u).host,P.ssl,P.experimentalForceLongPolling,P.experimentalAutoDetectLongPolling,Ng(P.experimentalLongPollingOptions),P.useFetchStreams));var w,P;i._firestoreClient=new Ty(i._authCredentials,i._appCheckCredentials,i._queue,l),null!==(n=u.cache)&&void 0!==n&&n._offlineComponentProvider&&null!==(o=u.cache)&&void 0!==o&&o._onlineComponentProvider&&(i._firestoreClient._uninitializedComponentsProvider={_offlineKind:u.cache.kind,_offline:u.cache._offlineComponentProvider,_online:u.cache._onlineComponentProvider})}class cl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new cl(Ti.fromBase64String(e))}catch(n){throw new Ge(ye.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new cl(Ti.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class ll{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new Ge(ye.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $r(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class bc{constructor(e){this._methodName=e}}class Bg{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ge(ye.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ge(ye.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ot(this._lat,e._lat)||Ot(this._long,e._long)}}const jf=/^__.*__$/;class E_{constructor(e,n,o){this.data=e,this.fieldMask=n,this.fieldTransforms=o}toMutation(e,n){return null!==this.fieldMask?new Sa(e,this.data,this.fieldMask,n,this.fieldTransforms):new Aa(e,this.data,n,this.fieldTransforms)}}class ky{constructor(e,n,o){this.data=e,this.fieldMask=n,this.fieldTransforms=o}toMutation(e,n){return new Sa(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Ly(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw wt()}}class $f{constructor(e,n,o,u,l,f){this.settings=e,this.databaseId=n,this.serializer=o,this.ignoreUndefinedProperties=u,void 0===l&&this.ua(),this.fieldTransforms=l||[],this.fieldMask=f||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new $f(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var n;const o=null===(n=this.path)||void 0===n?void 0:n.child(e),u=this.aa({path:o,la:!1});return u.fa(e),u}da(e){var n;const o=null===(n=this.path)||void 0===n?void 0:n.child(e),u=this.aa({path:o,la:!1});return u.ua(),u}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return fl(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(Ly(this.ca)&&jf.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class w_{constructor(e,n,o){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=o||Jc(e)}ya(e,n,o,u=!1){return new $f({ca:e,methodName:n,ga:o,path:$r.emptyPath(),la:!1,ma:u},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function dl(i){const e=i._freezeSettings(),n=Jc(i._databaseId);return new w_(i._databaseId,!!e.ignoreUndefinedProperties,n)}function Hf(i,e,n,o,u,l={}){const f=i.ya(l.merge||l.mergeFields?2:0,e,n,u);Oa("Data must be an object, but it was:",f,o);const w=zf(o,f);let x,P;if(l.merge)x=new Vs(f.fieldMask),P=f.fieldTransforms;else if(l.mergeFields){const H=[];for(const ee of l.mergeFields){const Ce=Ju(e,ee,n);if(!f.contains(Ce))throw new Ge(ye.INVALID_ARGUMENT,`Field '${Ce}' is specified in your field mask but missing from your input data.`);aa(H,Ce)||H.push(Ce)}x=new Vs(H),P=f.fieldTransforms.filter(ee=>x.covers(ee.field))}else x=null,P=f.fieldTransforms;return new E_(new _(w),x,P)}class dd extends bc{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof dd}}function hl(i,e){if(jy(i=(0,J.Ku)(i)))return Oa("Unsupported field value:",e,i),zf(i,e);if(i instanceof bc)return function(n,o){if(!Ly(o.ca))throw o._a(`${n._methodName}() can only be used with update() and set()`);if(!o.path)throw o._a(`${n._methodName}() is not currently supported inside arrays`);const u=n._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(i,e),null;if(void 0===i&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(n,o){const u=[];let l=0;for(const f of n){let w=hl(f,o.wa(l));null==w&&(w={nullValue:"NULL_VALUE"}),u.push(w),l++}return{arrayValue:{values:u}}}(i,e)}return function(n,o){if(null===(n=(0,J.Ku)(n)))return{nullValue:"NULL_VALUE"};if("number"==typeof n)return Ol(o.serializer,n);if("boolean"==typeof n)return{booleanValue:n};if("string"==typeof n)return{stringValue:n};if(n instanceof Date){const u=jr.fromDate(n);return{timestampValue:zl(o.serializer,u)}}if(n instanceof jr){const u=new jr(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:zl(o.serializer,u)}}if(n instanceof Bg)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof cl)return{bytesValue:wp(o.serializer,n._byteString)};if(n instanceof ji){const u=o.databaseId,l=n.firestore._databaseId;if(!l.isEqual(u))throw o._a(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:pc(n.firestore._databaseId||o.databaseId,n._key.path)}}throw o._a(`Unsupported field value: ${fh(n)}`)}(i,e)}function zf(i,e){const n={};return ea(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):za(i,(o,u)=>{const l=hl(u,e.ha(o));null!=l&&(n[o]=l)}),{mapValue:{fields:n}}}function jy(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof jr||i instanceof Bg||i instanceof cl||i instanceof ji||i instanceof bc)}function Oa(i,e,n){if(!jy(n)||"object"!=typeof(o=n)||null===o||Object.getPrototypeOf(o)!==Object.prototype&&null!==Object.getPrototypeOf(o)){const o=fh(n);throw e._a("an object"===o?i+" a custom object":i+" "+o)}var o}function Ju(i,e,n){if((e=(0,J.Ku)(e))instanceof ll)return e._internalPath;if("string"==typeof e)return Au(i,e);throw fl("Field path arguments must be of type string or ",i,!1,void 0,n)}const io=new RegExp("[~\\*/\\[\\]]");function Au(i,e,n){if(e.search(io)>=0)throw fl(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new ll(...e.split("."))._internalPath}catch{throw fl(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function fl(i,e,n,o,u){const l=o&&!o.isEmpty(),f=void 0!==u;let w=`Function ${e}() called with invalid data`;n&&(w+=" (via `toFirestore()`)"),w+=". ";let x="";return(l||f)&&(x+=" (found",l&&(x+=` in field ${o}`),f&&(x+=` in document ${u}`),x+=")"),new Ge(ye.INVALID_ARGUMENT,w+i+x)}function aa(i,e){return i.some(n=>n.isEqual(e))}class pl{constructor(e,n,o,u,l){this._firestore=e,this._userDataWriter=n,this._key=o,this._document=u,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new ji(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new fd(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(ec("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class fd extends pl{data(){return super.data()}}function ec(i,e){return"string"==typeof e?Au(i,e):e instanceof ll?e._internalPath:e._delegate._internalPath}class Ac{}class Su extends Ac{}function pd(i,e,...n){let o=[];e instanceof Ac&&o.push(e),o=o.concat(n),function(u){const l=u.filter(w=>w instanceof Za).length,f=u.filter(w=>w instanceof Mu).length;if(l>1||l>0&&f>0)throw new Ge(ye.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(o);for(const u of o)i=u._apply(i);return i}class Mu extends Su{constructor(e,n,o){super(),this._field=e,this._op=n,this._value=o,this.type="where"}static _create(e,n,o){return new Mu(e,n,o)}_apply(e){const n=this._parse(e);return Gy(e._query,n),new ds(e.firestore,e.converter,Ad(e._query,n))}_parse(e){const n=dl(e.firestore);return function(u,l,f,w,x,P,H){let ee;if(x.isKeyField()){if("array-contains"===P||"array-contains-any"===P)throw new Ge(ye.INVALID_ARGUMENT,`Invalid Query. You can't perform '${P}' queries on documentId().`);if("in"===P||"not-in"===P){M_(H,P);const Ce=[];for(const Fe of H)Ce.push(zy(w,u,Fe));ee={arrayValue:{values:Ce}}}else ee=zy(w,u,H)}else"in"!==P&&"not-in"!==P&&"array-contains-any"!==P||M_(H,P),ee=function By(i,e,n,o=!1){return hl(n,i.ya(o?4:3,e))}(f,"where",H,"in"===P||"not-in"===P);return rt.create(x,P,ee)}(e._query,0,n,e.firestore._databaseId,this._field,this._op,this._value)}}function gd(i,e,n){const o=e,u=ec("where",i);return Mu._create(u,o,n)}class Za extends Ac{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Za(e,n)}_parse(e){const n=this._queryConstraints.map(o=>o._parse(e)).filter(o=>o.getFilters().length>0);return 1===n.length?n[0]:It.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return 0===n.getFilters().length?e:(function(o,u){let l=o;const f=u.getFlattenedFilters();for(const w of f)Gy(l,w),l=Ad(l,w)}(e._query,n),new ds(e.firestore,e.converter,Ad(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}function zy(i,e,n){if("string"==typeof(n=(0,J.Ku)(n))){if(""===n)throw new Ge(ye.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Sl(e)&&-1!==n.indexOf("/"))throw new Ge(ye.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const o=e.path.child(zn.fromString(n));if(!dt.isDocumentKey(o))throw new Ge(ye.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${o}' is not because it has an odd number of segments (${o.length}).`);return ta(i,new dt(o))}if(n instanceof ji)return ta(i,n._key);throw new Ge(ye.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${fh(n)}.`)}function M_(i,e){if(!Array.isArray(i)||0===i.length)throw new Ge(ye.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Gy(i,e){if(e.isInequality()){const o=Wu(i),u=e.field;if(null!==o&&!o.isEqual(u))throw new Ge(ye.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${o.toString()}' and '${u.toString()}'`);const l=Uc(i);null!==l&&function x_(i,e,n){if(!n.isEqual(e))throw new Ge(ye.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}(0,u,l)}const n=function(o,u){for(const l of o)for(const f of l.getFlattenedFilters())if(u.indexOf(f.op)>=0)return f.op;return null}(i.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==n)throw new Ge(ye.INVALID_ARGUMENT,n===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class Ky{convertValue(e,n="none"){switch(Bs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Hr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Js(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw wt()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const o={};return za(e,(u,l)=>{o[u]=this.convertValue(l,n)}),o}convertGeoPoint(e){return new Bg(Hr(e.latitude),Hr(e.longitude))}convertArray(e,n){return(e.values||[]).map(o=>this.convertValue(o,n))}convertServerTimestamp(e,n){switch(n){case"previous":const o=Cl(e);return null==o?null:this.convertValue(o,n);case"estimate":return this.convertTimestamp(Uo(e));default:return null}}convertTimestamp(e){const n=yo(e);return new jr(n.seconds,n.nanos)}convertDocumentKey(e,n){const o=zn.fromString(e);Tt(Cp(o));const u=new vo(o.get(1),o.get(3)),l=new dt(o.popFirst(5));return u.isEqual(n)||Dr(`Document ${l} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}class Sc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class md extends pl{constructor(e,n,o,u,l,f){super(e,n,o,u,f),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Mc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const o=this._document.data.field(ec("DocumentSnapshot.get",e));if(null!==o)return this._userDataWriter.convertValue(o,n.serverTimestamps)}}}class Mc extends md{data(e={}){return super.data(e)}}class yd{constructor(e,n,o,u){this._firestore=e,this._userDataWriter=n,this._snapshot=u,this.metadata=new Sc(u.hasPendingWrites,u.fromCache),this.query=o}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(o=>{e.call(n,new Mc(this._firestore,this._userDataWriter,o.key,o,new Sc(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ge(ye.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let l=0;return o._snapshot.docChanges.map(f=>({type:"added",doc:new Mc(o._firestore,o._userDataWriter,f.doc.key,f.doc,new Sc(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter),oldIndex:-1,newIndex:l++}))}{let l=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(f=>u||3!==f.type).map(f=>{const w=new Mc(o._firestore,o._userDataWriter,f.doc.key,f.doc,new Sc(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);let x=-1,P=-1;return 0!==f.type&&(x=l.indexOf(f.doc.key),l=l.delete(f.doc.key)),1!==f.type&&(l=l.add(f.doc),P=l.indexOf(f.doc.key)),{type:N_(f.type),doc:w,oldIndex:x,newIndex:P}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function N_(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return wt()}}class xu extends Ky{constructor(e){super(),this.firestore=e}convertBytes(e){return new cl(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ji(this.firestore,null,n)}}function g0(i){i=Xn(i,ds);const e=Xn(i.firestore,oi),n=$i(e),o=new xu(e);return function gl(i){if("L"===i.limitType&&0===i.explicitOrderBy.length)throw new Ge(ye.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(i._query),Ya(n,i._query).then(u=>new yd(e,o,i,u))}function O_(i,e,n,...o){i=Xn(i,ji);const u=Xn(i.firestore,oi),l=dl(u);let f;return f="string"==typeof(e=(0,J.Ku)(e))||e instanceof ll?function hd(i,e,n,o,u,l){const f=i.ya(1,e,n),w=[Ju(e,o,n)],x=[u];if(l.length%2!=0)throw new Ge(ye.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Ce=0;Ce<l.length;Ce+=2)w.push(Ju(e,l[Ce])),x.push(l[Ce+1]);const P=[],H=_.empty();for(let Ce=w.length-1;Ce>=0;--Ce)if(!aa(P,w[Ce])){const Fe=w[Ce];let ct=x[Ce];ct=(0,J.Ku)(ct);const bt=f.da(Fe);if(ct instanceof dd)P.push(Fe);else{const Mt=hl(ct,bt);null!=Mt&&(P.push(Fe),H.set(Fe,Mt))}}const ee=new Vs(P);return new ky(H,ee,f.fieldTransforms)}(l,"updateDoc",i._key,e,n,o):function Vy(i,e,n,o){const u=i.ya(1,e,n);Oa("Data must be an object, but it was:",u,o);const l=[],f=_.empty();za(o,(x,P)=>{const H=Au(e,x,n);P=(0,J.Ku)(P);const ee=u.da(H);if(P instanceof dd)l.push(H);else{const Ce=hl(P,ee);null!=Ce&&(l.push(H),f.set(H,Ce))}});const w=new Vs(l);return new ky(f,w,u.fieldTransforms)}(l,"updateDoc",i._key,e),vd(u,[f.toMutation(i._key,Ii.exists(!0))])}function Xy(i){return vd(Xn(i.firestore,oi),[new yu(i._key,Ii.none())])}function P_(i,e){const n=Xn(i.firestore,oi),o=ph(i),u=function Kf(i,e,n){let o;return o=i?n&&(n.merge||n.mergeFields)?i.toFirestore(e,n):i.toFirestore(e):e,o}(i.converter,e);return vd(n,[Hf(dl(i.firestore),"addDoc",o._key,u,null!==i.converter,{}).toMutation(o._key,Ii.exists(!1))]).then(()=>o)}function vd(i,e){return function(n,o){const u=new Nn;return n.asyncQueue.enqueueAndForget((0,Q.A)(function*(){return function id(i,e,n){return Xa.apply(this,arguments)}(yield function kf(i){return ud(i).then(e=>e.syncEngine)}(n),o,u)})),u.promise}($i(i),e)}!function(i,e=!0){yr=Oe.MF,(0,Oe.om)(new Ne.uA("firestore",(n,{instanceIdentifier:o,options:u})=>{const l=n.getProvider("app").getImmediate(),f=new oi(new uu(n.getProvider("auth-internal")),new sc(n.getProvider("app-check-internal")),function(w,x){if(!Object.prototype.hasOwnProperty.apply(w.options,["projectId"]))throw new Ge(ye.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new vo(w.options.projectId,x)}(l,o),l);return u=Object.assign({useFetchStreams:e},u),f._setSettings(u),f},"PUBLIC").setMultipleInstances(!0)),(0,Oe.KO)(Wi,"3.13.0",i),(0,Oe.KO)(Wi,"3.13.0","esm2017")}();class vh{constructor(e){return e}}const Yg="firestore",ep=new ne.nKC("angularfire2.firestore-instances");function Zg(i){return(e,n)=>{const o=e.runOutsideAngular(()=>i(n));return new vh(o)}}const Jg={provide:class rv{constructor(){return(0,S.CA)(Yg)}},deps:[[new ne.Xx1,ep]]},sv={provide:vh,useFactory:function iv(i,e){const n=(0,S.lR)(Yg,i,e);return n&&new vh(n)},deps:[[new ne.Xx1,ep],ge.XU]};let ov=(()=>{class i{constructor(){(0,le.KO)("angularfire",S.xv.full,"fst")}}return i.\u0275fac=function(n){return new(n||i)},i.\u0275mod=ne.$C({type:i}),i.\u0275inj=ne.G2t({providers:[sv,Jg]}),i})();function av(i,...e){return{ngModule:ov,providers:[{provide:ep,useFactory:Zg(i),multi:!0,deps:[ne.SKi,ne.zZn,S.u0,ge.gL,[new ne.Xx1,se.DF],[new ne.Xx1,K.kR],...e]}]}}const tm=(0,S.S3)(P_,!0),nm=(0,S.S3)(Ny,!0),q_=(0,S.S3)(Xy,!0),X_=(0,S.S3)(ph,!0),tI=(0,S.S3)(g0,!0),rI=(0,S.S3)(y_,!0),Ja=(0,S.S3)(pd,!0),cI=(0,S.S3)(O_,!0),dv=(0,S.S3)(gd,!0)},3531:(Lt,Le,j)=>{j.d(Le,{xv:()=>Cl,u0:()=>Ka,CA:()=>pu,lR:()=>fu,S3:()=>bl});var S=j(2598),ne=j(7037),se=j(467),ge=j(2979),le=j(1401),K=j(8779),Q=j(5398);const Oe=(_,A)=>A.some(O=>_ instanceof O);let Ne,te;const Ue=new WeakMap,fe=new WeakMap,lt=new WeakMap,at=new WeakMap,mt=new WeakMap;let On={get(_,A,O){if(_ instanceof IDBTransaction){if("done"===A)return fe.get(_);if("objectStoreNames"===A)return _.objectStoreNames||lt.get(_);if("store"===A)return O.objectStoreNames[1]?void 0:O.objectStore(O.objectStoreNames[0])}return it(_[A])},set:(_,A,O)=>(_[A]=O,!0),has:(_,A)=>_ instanceof IDBTransaction&&("done"===A||"store"===A)||A in _};function Me(_){return"function"==typeof _?function Je(_){return _!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ve(){return te||(te=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(_)?function(...A){return _.apply(st(this),A),it(Ue.get(this))}:function(...A){return it(_.apply(st(this),A))}:function(A,...O){const q=_.call(st(this),A,...O);return lt.set(q,A.sort?A.sort():[A]),it(q)}}(_):(_ instanceof IDBTransaction&&function qt(_){if(fe.has(_))return;const A=new Promise((O,q)=>{const ie=()=>{_.removeEventListener("complete",pe),_.removeEventListener("error",Re),_.removeEventListener("abort",Re)},pe=()=>{O(),ie()},Re=()=>{q(_.error||new DOMException("AbortError","AbortError")),ie()};_.addEventListener("complete",pe),_.addEventListener("error",Re),_.addEventListener("abort",Re)});fe.set(_,A)}(_),Oe(_,function J(){return Ne||(Ne=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(_,On):_)}function it(_){if(_ instanceof IDBRequest)return function Bt(_){const A=new Promise((O,q)=>{const ie=()=>{_.removeEventListener("success",pe),_.removeEventListener("error",Re)},pe=()=>{O(it(_.result)),ie()},Re=()=>{q(_.error),ie()};_.addEventListener("success",pe),_.addEventListener("error",Re)});return A.then(O=>{O instanceof IDBCursor&&Ue.set(O,_)}).catch(()=>{}),mt.set(A,_),A}(_);if(at.has(_))return at.get(_);const A=Me(_);return A!==_&&(at.set(_,A),mt.set(A,_)),A}const st=_=>mt.get(_),Ye=["get","getKey","getAll","getAllKeys","count"],ur=["put","add","delete","clear"],Dt=new Map;function ke(_,A){if(!(_ instanceof IDBDatabase)||A in _||"string"!=typeof A)return;if(Dt.get(A))return Dt.get(A);const O=A.replace(/FromIndex$/,""),q=A!==O,ie=ur.includes(O);if(!(O in(q?IDBIndex:IDBObjectStore).prototype)||!ie&&!Ye.includes(O))return;const pe=function(){var Re=(0,se.A)(function*(ht,...ft){const rt=this.transaction(ht,ie?"readwrite":"readonly");let It=rt.store;return q&&(It=It.index(ft.shift())),(yield Promise.all([It[O](...ft),ie&&rt.done]))[0]});return function(ft){return Re.apply(this,arguments)}}();return Dt.set(A,pe),pe}!function et(_){On=_(On)}(_=>({..._,get:(A,O,q)=>ke(A,O)||_.get(A,O,q),has:(A,O)=>!!ke(A,O)||_.has(A,O)}));const Pt="@firebase/installations",xn="0.6.4",cr=1e4,Kr=`w:${xn}`,hn="FIS_v2",Rn="https://firebaseinstallations.googleapis.com/v1",Ee=36e5,ze=new le.FA("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function He(_){return _ instanceof le.g&&_.code.includes("request-failed")}function ot({projectId:_}){return`${Rn}/projects/${_}/installations`}function Ft(_){return{token:_.token,requestStatus:2,expiresIn:Yn(_.expiresIn),creationTime:Date.now()}}function _n(_,A){return Ut.apply(this,arguments)}function Ut(){return(Ut=(0,se.A)(function*(_,A){const q=(yield A.json()).error;return ze.create("request-failed",{requestName:_,serverCode:q.code,serverMessage:q.message,serverStatus:q.status})})).apply(this,arguments)}function In({apiKey:_}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":_})}function Et(_){return en.apply(this,arguments)}function en(){return(en=(0,se.A)(function*(_){const A=yield _();return A.status>=500&&A.status<600?_():A})).apply(this,arguments)}function Yn(_){return Number(_.replace("s","000"))}function Pn(){return(Pn=(0,se.A)(function*({appConfig:_,heartbeatServiceProvider:A},{fid:O}){const q=ot(_),ie=In(_),pe=A.getImmediate({optional:!0});if(pe){const rt=yield pe.getHeartbeatsHeader();rt&&ie.append("x-firebase-client",rt)}const ht={method:"POST",headers:ie,body:JSON.stringify({fid:O,authVersion:hn,appId:_.appId,sdkVersion:Kr})},ft=yield Et(()=>fetch(q,ht));if(ft.ok){const rt=yield ft.json();return{fid:rt.fid||O,registrationStatus:2,refreshToken:rt.refreshToken,authToken:Ft(rt.authToken)}}throw yield _n("Create Installation",ft)})).apply(this,arguments)}function ai(_){return new Promise(A=>{setTimeout(A,_)})}const Nr=/^[cdef][\w-]{21}$/,Zn="";function Gt(){try{const _=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(_),_[0]=112+_[0]%16;const O=function Qt(_){return function lr(_){return btoa(String.fromCharCode(..._)).replace(/\+/g,"-").replace(/\//g,"_")}(_).substr(0,22)}(_);return Nr.test(O)?O:Zn}catch{return Zn}}function rr(_){return`${_.appName}!${_.appId}`}const jn=new Map;function Cr(_,A){const O=rr(_);Or(O,A),function wn(_,A){const O=function rn(){return!Jn&&"BroadcastChannel"in self&&(Jn=new BroadcastChannel("[Firebase] FID Change"),Jn.onmessage=_=>{Or(_.data.key,_.data.fid)}),Jn}();O&&O.postMessage({key:_,fid:A}),function Ai(){0===jn.size&&Jn&&(Jn.close(),Jn=null)}()}(O,A)}function Or(_,A){const O=jn.get(_);if(O)for(const q of O)q(A)}let Jn=null;const pn="firebase-installations-database",Ei=1,sn="firebase-installations-store";let Xt=null;function Si(){return Xt||(Xt=function Xe(_,A,{blocked:O,upgrade:q,blocking:ie,terminated:pe}={}){const Re=indexedDB.open(_,A),ht=it(Re);return q&&Re.addEventListener("upgradeneeded",ft=>{q(it(Re.result),ft.oldVersion,ft.newVersion,it(Re.transaction))}),O&&Re.addEventListener("blocked",()=>O()),ht.then(ft=>{pe&&ft.addEventListener("close",()=>pe()),ie&&ft.addEventListener("versionchange",()=>ie())}).catch(()=>{}),ht}(pn,Ei,{upgrade:(_,A)=>{0===A&&_.createObjectStore(sn)}})),Xt}function dr(_,A){return qr.apply(this,arguments)}function qr(){return(qr=(0,se.A)(function*(_,A){const O=rr(_),ie=(yield Si()).transaction(sn,"readwrite"),pe=ie.objectStore(sn),Re=yield pe.get(O);return yield pe.put(A,O),yield ie.done,(!Re||Re.fid!==A.fid)&&Cr(_,A.fid),A})).apply(this,arguments)}function Pr(_){return kn.apply(this,arguments)}function kn(){return(kn=(0,se.A)(function*(_){const A=rr(_),q=(yield Si()).transaction(sn,"readwrite");yield q.objectStore(sn).delete(A),yield q.done})).apply(this,arguments)}function gn(_,A){return _r.apply(this,arguments)}function _r(){return(_r=(0,se.A)(function*(_,A){const O=rr(_),ie=(yield Si()).transaction(sn,"readwrite"),pe=ie.objectStore(sn),Re=yield pe.get(O),ht=A(Re);return void 0===ht?yield pe.delete(O):yield pe.put(ht,O),yield ie.done,ht&&(!Re||Re.fid!==ht.fid)&&Cr(_,ht.fid),ht})).apply(this,arguments)}function re(_){return B.apply(this,arguments)}function B(){return B=(0,se.A)(function*(_){let A;const O=yield gn(_.appConfig,q=>{const ie=function z(_){return Ht(_||{fid:Gt(),registrationStatus:0})}(q),pe=function $(_,A){if(0===A.registrationStatus){if(!navigator.onLine)return{installationEntry:A,registrationPromise:Promise.reject(ze.create("app-offline"))};const O={fid:A.fid,registrationStatus:1,registrationTime:Date.now()},q=function G(_,A){return de.apply(this,arguments)}(_,O);return{installationEntry:O,registrationPromise:q}}return 1===A.registrationStatus?{installationEntry:A,registrationPromise:$e(_)}:{installationEntry:A}}(_,ie);return A=pe.registrationPromise,pe.installationEntry});return O.fid===Zn?{installationEntry:yield A}:{installationEntry:O,registrationPromise:A}}),B.apply(this,arguments)}function de(){return de=(0,se.A)(function*(_,A){try{const O=yield function _t(_,A){return Pn.apply(this,arguments)}(_,A);return dr(_.appConfig,O)}catch(O){throw He(O)&&409===O.customData.serverCode?yield Pr(_.appConfig):yield dr(_.appConfig,{fid:A.fid,registrationStatus:0}),O}}),de.apply(this,arguments)}function $e(_){return pt.apply(this,arguments)}function pt(){return(pt=(0,se.A)(function*(_){let A=yield Kt(_.appConfig);for(;1===A.registrationStatus;)yield ai(100),A=yield Kt(_.appConfig);if(0===A.registrationStatus){const{installationEntry:O,registrationPromise:q}=yield re(_);return q||O}return A})).apply(this,arguments)}function Kt(_){return gn(_,A=>{if(!A)throw ze.create("installation-not-found");return Ht(A)})}function Ht(_){return function En(_){return 1===_.registrationStatus&&_.registrationTime+cr<Date.now()}(_)?{fid:_.fid,registrationStatus:0}:_}function ir(){return(ir=(0,se.A)(function*({appConfig:_,heartbeatServiceProvider:A},O){const q=function Ar(_,{fid:A}){return`${ot(_)}/${A}/authTokens:generate`}(_,O),ie=function Yt(_,{refreshToken:A}){const O=In(_);return O.append("Authorization",function Bn(_){return`${hn} ${_}`}(A)),O}(_,O),pe=A.getImmediate({optional:!0});if(pe){const rt=yield pe.getHeartbeatsHeader();rt&&ie.append("x-firebase-client",rt)}const ht={method:"POST",headers:ie,body:JSON.stringify({installation:{sdkVersion:Kr,appId:_.appId}})},ft=yield Et(()=>fetch(q,ht));if(ft.ok)return Ft(yield ft.json());throw yield _n("Generate Auth Token",ft)})).apply(this,arguments)}function Mi(_){return hr.apply(this,arguments)}function hr(){return hr=(0,se.A)(function*(_,A=!1){let O;const q=yield gn(_.appConfig,pe=>{if(!cn(pe))throw ze.create("not-registered");const Re=pe.authToken;if(!A&&function on(_){return 2===_.requestStatus&&!function kr(_){const A=Date.now();return A<_.creationTime||_.creationTime+_.expiresIn<A+Ee}(_)}(Re))return pe;if(1===Re.requestStatus)return O=function Pe(_,A){return he.apply(this,arguments)}(_,A),pe;{if(!navigator.onLine)throw ze.create("app-offline");const ht=function Ln(_){const A={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},_),{authToken:A})}(pe);return O=function xt(_,A){return jt.apply(this,arguments)}(_,ht),ht}});return O?yield O:q.authToken}),hr.apply(this,arguments)}function he(){return(he=(0,se.A)(function*(_,A){let O=yield Ke(_.appConfig);for(;1===O.authToken.requestStatus;)yield ai(100),O=yield Ke(_.appConfig);const q=O.authToken;return 0===q.requestStatus?Mi(_,A):q})).apply(this,arguments)}function Ke(_){return gn(_,A=>{if(!cn(A))throw ze.create("not-registered");return function Lr(_){return 1===_.requestStatus&&_.requestTime+cr<Date.now()}(A.authToken)?Object.assign(Object.assign({},A),{authToken:{requestStatus:0}}):A})}function jt(){return jt=(0,se.A)(function*(_,A){try{const O=yield function Wt(_,A){return ir.apply(this,arguments)}(_,A),q=Object.assign(Object.assign({},A),{authToken:O});return yield dr(_.appConfig,q),O}catch(O){if(!He(O)||401!==O.customData.serverCode&&404!==O.customData.serverCode){const q=Object.assign(Object.assign({},A),{authToken:{requestStatus:0}});yield dr(_.appConfig,q)}else yield Pr(_.appConfig);throw O}}),jt.apply(this,arguments)}function cn(_){return void 0!==_&&2===_.registrationStatus}function Fr(){return(Fr=(0,se.A)(function*(_){const A=_,{installationEntry:O,registrationPromise:q}=yield re(A);return q?q.catch(console.error):Mi(A).catch(console.error),O.fid})).apply(this,arguments)}function Pi(){return Pi=(0,se.A)(function*(_,A=!1){const O=_;return yield function fs(_){return Hs.apply(this,arguments)}(O),(yield Mi(O,A)).token}),Pi.apply(this,arguments)}function Hs(){return(Hs=(0,se.A)(function*(_){const{registrationPromise:A}=yield re(_);A&&(yield A)})).apply(this,arguments)}function ue(_){return ze.create("missing-app-config-values",{valueName:_})}const Te="installations",tt=_=>{const A=_.getProvider("app").getImmediate(),O=function ae(_){if(!_||!_.options)throw ue("App Configuration");if(!_.name)throw ue("App Name");const A=["projectId","apiKey","appId"];for(const O of A)if(!_.options[O])throw ue(O);return{appName:_.name,projectId:_.options.projectId,apiKey:_.options.apiKey,appId:_.options.appId}}(A);return{app:A,appConfig:O,heartbeatServiceProvider:(0,ge.j6)(A,"heartbeat"),_delete:()=>Promise.resolve()}},Rt=_=>{const A=_.getProvider("app").getImmediate(),O=(0,ge.j6)(A,Te).getImmediate();return{getId:()=>function ui(_){return Fr.apply(this,arguments)}(O),getToken:ie=>function dn(_){return Pi.apply(this,arguments)}(O,ie)}};(function mn(){(0,ge.om)(new K.uA(Te,tt,"PUBLIC")),(0,ge.om)(new K.uA("installations-internal",Rt,"PRIVATE"))})(),(0,ge.KO)(Pt,xn),(0,ge.KO)(Pt,xn,"esm2017");const ln="@firebase/remote-config",Zr=new le.FA("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class pr{constructor(A,O,q,ie){this.client=A,this.storage=O,this.storageCache=q,this.logger=ie}isCachedDataFresh(A,O){if(!O)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const q=Date.now()-O,ie=q<=A;return this.logger.debug(`Config fetch cache check. Cache age millis: ${q}. Cache max age millis (minimumFetchIntervalMillis setting): ${A}. Is cache hit: ${ie}.`),ie}fetch(A){var O=this;return(0,se.A)(function*(){const[q,ie]=yield Promise.all([O.storage.getLastSuccessfulFetchTimestampMillis(),O.storage.getLastSuccessfulFetchResponse()]);if(ie&&O.isCachedDataFresh(A.cacheMaxAgeMillis,q))return ie;A.eTag=ie&&ie.eTag;const pe=yield O.client.fetch(A),Re=[O.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===pe.status&&Re.push(O.storage.setLastSuccessfulFetchResponse(pe)),yield Promise.all(Re),pe})()}}function Hi(_=navigator){return _.languages&&_.languages[0]||_.language}class Fn{constructor(A,O,q,ie,pe,Re){this.firebaseInstallations=A,this.sdkVersion=O,this.namespace=q,this.projectId=ie,this.apiKey=pe,this.appId=Re}fetch(A){var O=this;return(0,se.A)(function*(){const[q,ie]=yield Promise.all([O.firebaseInstallations.getId(),O.firebaseInstallations.getToken()]),Re=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${O.projectId}/namespaces/${O.namespace}:fetch?key=${O.apiKey}`,ht={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":A.eTag||"*"},ft={sdk_version:O.sdkVersion,app_instance_id:q,app_instance_id_token:ie,app_id:O.appId,language_code:Hi()},rt={method:"POST",headers:ht,body:JSON.stringify(ft)},It=fetch(Re,rt),un=new Promise((js,Ca)=>{A.signal.addEventListener(()=>{const na=new Error("The operation was aborted.");na.name="AbortError",Ca(na)})});let Cs;try{yield Promise.race([It,un]),Cs=yield It}catch(js){let Ca="fetch-client-network";throw"AbortError"===js?.name&&(Ca="fetch-timeout"),Zr.create(Ca,{originalErrorMessage:js?.message})}let Ni=Cs.status;const cc=Cs.headers.get("ETag")||void 0;let lc,gu;if(200===Cs.status){let js;try{js=yield Cs.json()}catch(Ca){throw Zr.create("fetch-client-parse",{originalErrorMessage:Ca?.message})}lc=js.entries,gu=js.state}if("INSTANCE_STATE_UNSPECIFIED"===gu?Ni=500:"NO_CHANGE"===gu?Ni=304:("NO_TEMPLATE"===gu||"EMPTY_CONFIG"===gu)&&(lc={}),304!==Ni&&200!==Ni)throw Zr.create("fetch-status",{httpStatus:Ni});return{status:Ni,eTag:cc,config:lc}})()}}class zo{constructor(A,O){this.client=A,this.storage=O}fetch(A){var O=this;return(0,se.A)(function*(){const q=(yield O.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return O.attemptFetch(A,q)})()}attemptFetch(A,O){var q=this;return(0,se.A)(function*(ie,{throttleEndTimeMillis:pe,backoffCount:Re}){yield function Os(_,A){return new Promise((O,q)=>{const ie=Math.max(A-Date.now(),0),pe=setTimeout(O,ie);_.addEventListener(()=>{clearTimeout(pe),q(Zr.create("fetch-throttle",{throttleEndTimeMillis:A}))})})}(ie.signal,pe);try{const ht=yield q.client.fetch(ie);return yield q.storage.deleteThrottleMetadata(),ht}catch(ht){if(!function Li(_){if(!(_ instanceof le.g&&_.customData))return!1;const A=Number(_.customData.httpStatus);return 429===A||500===A||503===A||504===A}(ht))throw ht;const ft={throttleEndTimeMillis:Date.now()+(0,le.p9)(Re),backoffCount:Re+1};return yield q.storage.setThrottleMetadata(ft),q.attemptFetch(ie,ft)}}).apply(this,arguments)}}class nn{constructor(A,O,q,ie,pe){this.app=A,this._client=O,this._storageCache=q,this._storage=ie,this._logger=pe,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Wn(_,A){const O=_.target.error||void 0;return Zr.create(A,{originalErrorMessage:O&&O?.message})}const Gr="app_namespace_store";class gr{constructor(A,O,q,ie=function gi(){return new Promise((_,A)=>{try{const O=indexedDB.open("firebase_remote_config",1);O.onerror=q=>{A(Wn(q,"storage-open"))},O.onsuccess=q=>{_(q.target.result)},O.onupgradeneeded=q=>{0===q.oldVersion&&q.target.result.createObjectStore(Gr,{keyPath:"compositeKey"})}}catch(O){A(Zr.create("storage-open",{originalErrorMessage:O?.message}))}})}()){this.appId=A,this.appName=O,this.namespace=q,this.openDbPromise=ie}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(A){return this.set("last_fetch_status",A)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(A){return this.set("last_successful_fetch_timestamp_millis",A)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(A){return this.set("last_successful_fetch_response",A)}getActiveConfig(){return this.get("active_config")}setActiveConfig(A){return this.set("active_config",A)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(A){return this.set("active_config_etag",A)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(A){return this.set("throttle_metadata",A)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(A){var O=this;return(0,se.A)(function*(){const q=yield O.openDbPromise;return new Promise((ie,pe)=>{const ht=q.transaction([Gr],"readonly").objectStore(Gr),ft=O.createCompositeKey(A);try{const rt=ht.get(ft);rt.onerror=It=>{pe(Wn(It,"storage-get"))},rt.onsuccess=It=>{const un=It.target.result;ie(un?un.value:void 0)}}catch(rt){pe(Zr.create("storage-get",{originalErrorMessage:rt?.message}))}})})()}set(A,O){var q=this;return(0,se.A)(function*(){const ie=yield q.openDbPromise;return new Promise((pe,Re)=>{const ft=ie.transaction([Gr],"readwrite").objectStore(Gr),rt=q.createCompositeKey(A);try{const It=ft.put({compositeKey:rt,value:O});It.onerror=un=>{Re(Wn(un,"storage-set"))},It.onsuccess=()=>{pe()}}catch(It){Re(Zr.create("storage-set",{originalErrorMessage:It?.message}))}})})()}delete(A){var O=this;return(0,se.A)(function*(){const q=yield O.openDbPromise;return new Promise((ie,pe)=>{const ht=q.transaction([Gr],"readwrite").objectStore(Gr),ft=O.createCompositeKey(A);try{const rt=ht.delete(ft);rt.onerror=It=>{pe(Wn(It,"storage-delete"))},rt.onsuccess=()=>{ie()}}catch(rt){pe(Zr.create("storage-delete",{originalErrorMessage:rt?.message}))}})})()}createCompositeKey(A){return[this.appId,this.appName,this.namespace,A].join()}}class Ji{constructor(A){this.storage=A}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var A=this;return(0,se.A)(function*(){const O=A.storage.getLastFetchStatus(),q=A.storage.getLastSuccessfulFetchTimestampMillis(),ie=A.storage.getActiveConfig(),pe=yield O;pe&&(A.lastFetchStatus=pe);const Re=yield q;Re&&(A.lastSuccessfulFetchTimestampMillis=Re);const ht=yield ie;ht&&(A.activeConfig=ht)})()}setLastFetchStatus(A){return this.lastFetchStatus=A,this.storage.setLastFetchStatus(A)}setLastSuccessfulFetchTimestampMillis(A){return this.lastSuccessfulFetchTimestampMillis=A,this.storage.setLastSuccessfulFetchTimestampMillis(A)}setActiveConfig(A){return this.activeConfig=A,this.storage.setActiveConfig(A)}}function ru(){return li.apply(this,arguments)}function li(){return(li=(0,se.A)(function*(){if(!(0,le.zW)())return!1;try{return yield(0,le.eX)()}catch{return!1}})).apply(this,arguments)}!function Gs(){(0,ge.om)(new K.uA("remote-config",function _(A,{instanceIdentifier:O}){const q=A.getProvider("app").getImmediate(),ie=A.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Zr.create("registration-window");if(!(0,le.zW)())throw Zr.create("indexed-db-unavailable");const{projectId:pe,apiKey:Re,appId:ht}=q.options;if(!pe)throw Zr.create("registration-project-id");if(!Re)throw Zr.create("registration-api-key");if(!ht)throw Zr.create("registration-app-id");const ft=new gr(ht,q.name,O=O||"firebase"),rt=new Ji(ft),It=new Q.Vy(ln);It.logLevel=Q.$b.ERROR;const un=new Fn(ie,ge.MF,O,pe,Re,ht),Cs=new zo(un,ft),Ni=new pr(Cs,ft,rt,It),cc=new nn(q,Ni,rt,ft,It);return function ys(_){const A=(0,le.Ku)(_);A._initializePromise||(A._initializePromise=A._storageCache.loadFromStorage().then(()=>{A._isInitializationComplete=!0}))}(cc),cc},"PUBLIC").setMultipleInstances(!0)),(0,ge.KO)(ln,"0.4.4"),(0,ge.KO)(ln,"0.4.4","esm2017")}();const xr=(_,A)=>A.some(O=>_ instanceof O);let Fi,oo;const Go=new WeakMap,Jr=new WeakMap,Ps=new WeakMap,uo=new WeakMap,Wo=new WeakMap;let ei={get(_,A,O){if(_ instanceof IDBTransaction){if("done"===A)return Jr.get(_);if("objectStoreNames"===A)return _.objectStoreNames||Ps.get(_);if("store"===A)return O.objectStoreNames[1]?void 0:O.objectStore(O.objectStoreNames[0])}return Hn(_[A])},set:(_,A,O)=>(_[A]=O,!0),has:(_,A)=>_ instanceof IDBTransaction&&("done"===A||"store"===A)||A in _};function ks(_){return"function"==typeof _?function ts(_){return _!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ao(){return oo||(oo=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(_)?function(...A){return _.apply(ns(this),A),Hn(Go.get(this))}:function(...A){return Hn(_.apply(ns(this),A))}:function(A,...O){const q=_.call(ns(this),A,...O);return Ps.set(q,A.sort?A.sort():[A]),Hn(q)}}(_):(_ instanceof IDBTransaction&&function ha(_){if(Jr.has(_))return;const A=new Promise((O,q)=>{const ie=()=>{_.removeEventListener("complete",pe),_.removeEventListener("error",Re),_.removeEventListener("abort",Re)},pe=()=>{O(),ie()},Re=()=>{q(_.error||new DOMException("AbortError","AbortError")),ie()};_.addEventListener("complete",pe),_.addEventListener("error",Re),_.addEventListener("abort",Re)});Jr.set(_,A)}(_),xr(_,function es(){return Fi||(Fi=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(_,ei):_)}function Hn(_){if(_ instanceof IDBRequest)return function fn(_){const A=new Promise((O,q)=>{const ie=()=>{_.removeEventListener("success",pe),_.removeEventListener("error",Re)},pe=()=>{O(Hn(_.result)),ie()},Re=()=>{q(_.error),ie()};_.addEventListener("success",pe),_.addEventListener("error",Re)});return A.then(O=>{O instanceof IDBCursor&&Go.set(O,_)}).catch(()=>{}),Wo.set(A,_),A}(_);if(uo.has(_))return uo.get(_);const A=ks(_);return A!==_&&(uo.set(_,A),Wo.set(A,_)),A}const ns=_=>Wo.get(_);function wr(_,A,{blocked:O,upgrade:q,blocking:ie,terminated:pe}={}){const Re=indexedDB.open(_,A),ht=Hn(Re);return q&&Re.addEventListener("upgradeneeded",ft=>{q(Hn(Re.result),ft.oldVersion,ft.newVersion,Hn(Re.transaction))}),O&&Re.addEventListener("blocked",()=>O()),ht.then(ft=>{pe&&ft.addEventListener("close",()=>pe()),ie&&ft.addEventListener("versionchange",()=>ie())}).catch(()=>{}),ht}function Ur(_,{blocked:A}={}){const O=indexedDB.deleteDatabase(_);return A&&O.addEventListener("blocked",()=>A()),Hn(O).then(()=>{})}const di=["get","getKey","getAll","getAllKeys","count"],mi=["put","add","delete","clear"],co=new Map;function xi(_,A){if(!(_ instanceof IDBDatabase)||A in _||"string"!=typeof A)return;if(co.get(A))return co.get(A);const O=A.replace(/FromIndex$/,""),q=A!==O,ie=mi.includes(O);if(!(O in(q?IDBIndex:IDBObjectStore).prototype)||!ie&&!di.includes(O))return;const pe=function(){var Re=(0,se.A)(function*(ht,...ft){const rt=this.transaction(ht,ie?"readwrite":"readonly");let It=rt.store;return q&&(It=It.index(ft.shift())),(yield Promise.all([It[O](...ft),ie&&rt.done]))[0]});return function(ft){return Re.apply(this,arguments)}}();return co.set(A,pe),pe}!function Co(_){ei=_(ei)}(_=>({..._,get:(A,O,q)=>xi(A,O)||_.get(A,O,q),has:(A,O)=>!!xi(A,O)||_.has(A,O)}));const lo="/firebase-messaging-sw.js",Ui="/firebase-cloud-messaging-push-scope",rs="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Ws="https://fcmregistrations.googleapis.com/v1",sr="google.c.a.c_id",_s="google.c.a.c_l",ho="google.c.a.ts";var pa=function(_){return _.PUSH_RECEIVED="push-received",_.NOTIFICATION_CLICKED="notification-clicked",_}(pa||{});function Vi(_){const A=new Uint8Array(_);return btoa(String.fromCharCode(...A)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function rc(_){const O=(_+"=".repeat((4-_.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),q=atob(O),ie=new Uint8Array(q.length);for(let pe=0;pe<q.length;++pe)ie[pe]=q.charCodeAt(pe);return ie}const bo="fcm_token_details_db",Ou=5,su="fcm_token_object_Store";function So(){return So=(0,se.A)(function*(_){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(pe=>pe.name).includes(bo))return null;let A=null;return(yield wr(bo,Ou,{upgrade:(q=(0,se.A)(function*(ie,pe,Re,ht){var ft;if(pe<2||!ie.objectStoreNames.contains(su))return;const rt=ht.objectStore(su),It=yield rt.index("fcmSenderId").get(_);if(yield rt.clear(),It)if(2===pe){const un=It;if(!un.auth||!un.p256dh||!un.endpoint)return;A={token:un.fcmToken,createTime:null!==(ft=un.createTime)&&void 0!==ft?ft:Date.now(),subscriptionOptions:{auth:un.auth,p256dh:un.p256dh,endpoint:un.endpoint,swScope:un.swScope,vapidKey:"string"==typeof un.vapidKey?un.vapidKey:Vi(un.vapidKey)}}}else if(3===pe){const un=It;A={token:un.fcmToken,createTime:un.createTime,subscriptionOptions:{auth:Vi(un.auth),p256dh:Vi(un.p256dh),endpoint:un.endpoint,swScope:un.swScope,vapidKey:Vi(un.vapidKey)}}}else if(4===pe){const un=It;A={token:un.fcmToken,createTime:un.createTime,subscriptionOptions:{auth:Vi(un.auth),p256dh:Vi(un.p256dh),endpoint:un.endpoint,swScope:un.swScope,vapidKey:Vi(un.vapidKey)}}}}),function(pe,Re,ht,ft){return q.apply(this,arguments)})})).close(),yield Ur(bo),yield Ur("fcm_vapid_details_db"),yield Ur("undefined"),function Mo(_){if(!_||!_.subscriptionOptions)return!1;const{subscriptionOptions:A}=_;return"number"==typeof _.createTime&&_.createTime>0&&"string"==typeof _.token&&_.token.length>0&&"string"==typeof A.auth&&A.auth.length>0&&"string"==typeof A.p256dh&&A.p256dh.length>0&&"string"==typeof A.endpoint&&A.endpoint.length>0&&"string"==typeof A.swScope&&A.swScope.length>0&&"string"==typeof A.vapidKey&&A.vapidKey.length>0}(A)?A:null;var q}),So.apply(this,arguments)}const Ri="firebase-messaging-database",ou=1,Di="firebase-messaging-store";let ga=null;function Ko(){return ga||(ga=wr(Ri,ou,{upgrade:(_,A)=>{0===A&&_.createObjectStore(Di)}})),ga}function au(_){return Ks.apply(this,arguments)}function Ks(){return Ks=(0,se.A)(function*(_){const A=ti(_),q=yield(yield Ko()).transaction(Di).objectStore(Di).get(A);if(q)return q;{const ie=yield function Ao(_){return So.apply(this,arguments)}(_.appConfig.senderId);if(ie)return yield Ls(_,ie),ie}}),Ks.apply(this,arguments)}function Ls(_,A){return zi.apply(this,arguments)}function zi(){return(zi=(0,se.A)(function*(_,A){const O=ti(_),ie=(yield Ko()).transaction(Di,"readwrite");return yield ie.objectStore(Di).put(A,O),yield ie.done,A})).apply(this,arguments)}function fo(){return(fo=(0,se.A)(function*(_){const A=ti(_),q=(yield Ko()).transaction(Di,"readwrite");yield q.objectStore(Di).delete(A),yield q.done})).apply(this,arguments)}function ti({appConfig:_}){return _.appId}const Kn=new le.FA("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function qs(_,A){return ni.apply(this,arguments)}function ni(){return(ni=(0,se.A)(function*(_,A){const O=yield Qs(_),q=ku(A),ie={method:"POST",headers:O,body:JSON.stringify(q)};let pe;try{pe=yield(yield fetch(yi(_.appConfig),ie)).json()}catch(Re){throw Kn.create("token-subscribe-failed",{errorInfo:Re?.toString()})}if(pe.error)throw Kn.create("token-subscribe-failed",{errorInfo:pe.error.message});if(!pe.token)throw Kn.create("token-subscribe-no-token");return pe.token})).apply(this,arguments)}function Ua(){return(Ua=(0,se.A)(function*(_,A){const O=yield Qs(_),q=ku(A.subscriptionOptions),ie={method:"PATCH",headers:O,body:JSON.stringify(q)};let pe;try{pe=yield(yield fetch(`${yi(_.appConfig)}/${A.token}`,ie)).json()}catch(Re){throw Kn.create("token-update-failed",{errorInfo:Re?.toString()})}if(pe.error)throw Kn.create("token-update-failed",{errorInfo:pe.error.message});if(!pe.token)throw Kn.create("token-update-no-token");return pe.token})).apply(this,arguments)}function Is(_,A){return xo.apply(this,arguments)}function xo(){return(xo=(0,se.A)(function*(_,A){const q={method:"DELETE",headers:yield Qs(_)};try{const pe=yield(yield fetch(`${yi(_.appConfig)}/${A}`,q)).json();if(pe.error)throw Kn.create("token-unsubscribe-failed",{errorInfo:pe.error.message})}catch(ie){throw Kn.create("token-unsubscribe-failed",{errorInfo:ie?.toString()})}})).apply(this,arguments)}function yi({projectId:_}){return`${Ws}/projects/${_}/registrations`}function Qs(_){return Dn.apply(this,arguments)}function Dn(){return(Dn=(0,se.A)(function*({appConfig:_,installations:A}){const O=yield A.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":_.apiKey,"x-goog-firebase-installations-auth":`FIS ${O}`})})).apply(this,arguments)}function ku({p256dh:_,auth:A,endpoint:O,vapidKey:q}){const ie={web:{endpoint:O,auth:A,p256dh:_}};return q!==rs&&(ie.web.applicationPubKey=q),ie}const Qo=6048e5;function Us(){return Us=(0,se.A)(function*(_){const A=yield function Vr(_,A){return go.apply(this,arguments)}(_.swRegistration,_.vapidKey),O={vapidKey:_.vapidKey,swScope:_.swRegistration.scope,endpoint:A.endpoint,auth:Vi(A.getKey("auth")),p256dh:Vi(A.getKey("p256dh"))},q=yield au(_.firebaseDependencies);if(q){if(function E(_,A){return A.vapidKey===_.vapidKey&&A.endpoint===_.endpoint&&A.auth===_.auth&&A.p256dh===_.p256dh}(q.subscriptionOptions,O))return Date.now()>=q.createTime+Qo?function ic(_,A){return ma.apply(this,arguments)}(_,{token:q.token,createTime:Date.now(),subscriptionOptions:O}):q.token;try{yield Is(_.firebaseDependencies,q.token)}catch(ie){console.warn(ie)}return po(_.firebaseDependencies,O)}return po(_.firebaseDependencies,O)}),Us.apply(this,arguments)}function Es(){return Es=(0,se.A)(function*(_){const A=yield au(_.firebaseDependencies);A&&(yield Is(_.firebaseDependencies,A.token),yield function qo(_){return fo.apply(this,arguments)}(_.firebaseDependencies));const O=yield _.swRegistration.pushManager.getSubscription();return!O||O.unsubscribe()}),Es.apply(this,arguments)}function ma(){return ma=(0,se.A)(function*(_,A){try{const O=yield function Pu(_,A){return Ua.apply(this,arguments)}(_.firebaseDependencies,A),q=Object.assign(Object.assign({},A),{token:O,createTime:Date.now()});return yield Ls(_.firebaseDependencies,q),O}catch(O){throw yield function ss(_){return Es.apply(this,arguments)}(_),O}}),ma.apply(this,arguments)}function po(_,A){return Gi.apply(this,arguments)}function Gi(){return(Gi=(0,se.A)(function*(_,A){const q={token:yield qs(_,A),createTime:Date.now(),subscriptionOptions:A};return yield Ls(_,q),q.token})).apply(this,arguments)}function go(){return(go=(0,se.A)(function*(_,A){return(yield _.pushManager.getSubscription())||_.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:rc(A)})})).apply(this,arguments)}function F(_){const A={from:_.from,collapseKey:_.collapse_key,messageId:_.fcmMessageId};return function M(_,A){if(!A.notification)return;_.notification={};const O=A.notification.title;O&&(_.notification.title=O);const q=A.notification.body;q&&(_.notification.body=q);const ie=A.notification.image;ie&&(_.notification.image=ie);const pe=A.notification.icon;pe&&(_.notification.icon=pe)}(A,_),function k(_,A){A.data&&(_.data=A.data)}(A,_),function Z(_,A){var O,q,ie,pe,Re;if(!(A.fcmOptions||null!==(O=A.notification)&&void 0!==O&&O.click_action))return;_.fcmOptions={};const ht=null!==(ie=null===(q=A.fcmOptions)||void 0===q?void 0:q.link)&&void 0!==ie?ie:null===(pe=A.notification)||void 0===pe?void 0:pe.click_action;ht&&(_.fcmOptions.link=ht);const ft=null===(Re=A.fcmOptions)||void 0===Re?void 0:Re.analytics_label;ft&&(_.fcmOptions.analyticsLabel=ft)}(A,_),A}function je(_,A){const O=[];for(let q=0;q<_.length;q++)O.push(_.charAt(q)),q<A.length&&O.push(A.charAt(q));return O.join("")}function qn(_){return Kn.create("missing-app-config-values",{valueName:_})}je("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),je("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class er{constructor(A,O,q){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const ie=function Nt(_){if(!_||!_.options)throw qn("App Configuration Object");if(!_.name)throw qn("App Name");const A=["projectId","apiKey","appId","messagingSenderId"],{options:O}=_;for(const q of A)if(!O[q])throw qn(q);return{appName:_.name,projectId:O.projectId,apiKey:O.apiKey,appId:O.appId,senderId:O.messagingSenderId}}(A);this.firebaseDependencies={app:A,appConfig:ie,installations:O,analyticsProvider:q}}_delete(){return Promise.resolve()}}function an(){return(an=(0,se.A)(function*(_){try{_.swRegistration=yield navigator.serviceWorker.register(lo,{scope:Ui}),_.swRegistration.update().catch(()=>{})}catch(A){throw Kn.create("failed-service-worker-registration",{browserErrorMessage:A?.message})}})).apply(this,arguments)}function tr(){return(tr=(0,se.A)(function*(_,A){if(!A&&!_.swRegistration&&(yield function bn(_){return an.apply(this,arguments)}(_)),A||!_.swRegistration){if(!(A instanceof ServiceWorkerRegistration))throw Kn.create("invalid-sw-registration");_.swRegistration=A}})).apply(this,arguments)}function vi(){return(vi=(0,se.A)(function*(_,A){A?_.vapidKey=A:_.vapidKey||(_.vapidKey=rs)})).apply(this,arguments)}function Qn(){return Qn=(0,se.A)(function*(_,A){if(!navigator)throw Kn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Kn.create("permission-blocked");return yield function ri(_,A){return vi.apply(this,arguments)}(_,A?.vapidKey),yield function mr(_,A){return tr.apply(this,arguments)}(_,A?.serviceWorkerRegistration),function is(_){return Us.apply(this,arguments)}(_)}),Qn.apply(this,arguments)}function Xr(){return(Xr=(0,se.A)(function*(_,A,O){const q=function Xs(_){switch(_){case pa.NOTIFICATION_CLICKED:return"notification_open";case pa.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(A);(yield _.firebaseDependencies.analyticsProvider.get()).logEvent(q,{message_id:O[sr],message_name:O[_s],message_time:O[ho],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Ze(){return Ze=(0,se.A)(function*(_,A){const O=A.data;if(!O.isFirebaseMessaging)return;_.onMessageHandler&&O.messageType===pa.PUSH_RECEIVED&&("function"==typeof _.onMessageHandler?_.onMessageHandler(F(O)):_.onMessageHandler.next(F(O)));const q=O.data;(function Se(_){return"object"==typeof _&&!!_&&sr in _})(q)&&"1"===q["google.c.a.e"]&&(yield function yr(_,A,O){return Xr.apply(this,arguments)}(_,O.messageType,q))}),Ze.apply(this,arguments)}const Dr="@firebase/messaging",Va=_=>{const A=new er(_.getProvider("app").getImmediate(),_.getProvider("installations-internal").getImmediate(),_.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",O=>function Xo(_,A){return Ze.apply(this,arguments)}(A,O)),A},wt=_=>{const A=_.getProvider("messaging").getImmediate();return{getToken:q=>function Wi(_,A){return Qn.apply(this,arguments)}(A,q)}};function xc(){return gt.apply(this,arguments)}function gt(){return(gt=(0,se.A)(function*(){try{yield(0,le.eX)()}catch{return!1}return typeof window<"u"&&(0,le.zW)()&&(0,le.dM)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Tt(){(0,ge.om)(new K.uA("messaging",Va,"PUBLIC")),(0,ge.om)(new K.uA("messaging-internal",wt,"PRIVATE")),(0,ge.KO)(Dr,"0.12.4"),(0,ge.KO)(Dr,"0.12.4","esm2017")}();const Ba="analytics",Rc="firebase_id",sc="origin",Zo=6e4,Br="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",ja="https://www.googletagmanager.com/gtag/js",Ot=new Q.Vy("@firebase/analytics"),vr=new le.FA("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function jr(_){if(!_.startsWith(ja)){const A=vr.create("invalid-gtag-resource",{gtagURL:_});return Ot.warn(A.message),""}return _}function Qe(_){return Promise.all(_.map(A=>A.catch(O=>O)))}function dt(){return(dt=(0,se.A)(function*(_,A,O,q,ie,pe){const Re=q[ie];try{if(Re)yield A[Re];else{const ft=(yield Qe(O)).find(rt=>rt.measurementId===ie);ft&&(yield A[ft.appId])}}catch(ht){Ot.error(ht)}_("config",ie,pe)})).apply(this,arguments)}function Ys(){return(Ys=(0,se.A)(function*(_,A,O,q,ie){try{let pe=[];if(ie&&ie.send_to){let Re=ie.send_to;Array.isArray(Re)||(Re=[Re]);const ht=yield Qe(O);for(const ft of Re){const rt=ht.find(un=>un.measurementId===ft),It=rt&&A[rt.appId];if(!It){pe=[];break}pe.push(It)}}0===pe.length&&(pe=Object.values(A)),yield Promise.all(pe),_("event",q,ie||{})}catch(pe){Ot.error(pe)}})).apply(this,arguments)}const Il=30,An=new class We{constructor(A={},O=1e3){this.throttleMetadata=A,this.intervalMillis=O}getThrottleMetadata(A){return this.throttleMetadata[A]}setThrottleMetadata(A,O){this.throttleMetadata[A]=O}deleteThrottleMetadata(A){delete this.throttleMetadata[A]}};function as(_){return new Headers({Accept:"application/json","x-goog-api-key":_})}function ii(){return(ii=(0,se.A)(function*(_){var A;const{appId:O,apiKey:q}=_,ie={method:"GET",headers:as(q)},pe=Br.replace("{app-id}",O),Re=yield fetch(pe,ie);if(200!==Re.status&&304!==Re.status){let ht="";try{const ft=yield Re.json();null!==(A=ft.error)&&void 0!==A&&A.message&&(ht=ft.error.message)}catch{}throw vr.create("config-fetch-failed",{httpStatus:Re.status,responseMessage:ht})}return Re.json()})).apply(this,arguments)}function qi(){return(qi=(0,se.A)(function*(_,A=An,O){const{appId:q,apiKey:ie,measurementId:pe}=_.options;if(!q)throw vr.create("no-app-id");if(!ie){if(pe)return{measurementId:pe,appId:q};throw vr.create("no-api-key")}const Re=A.getThrottleMetadata(q)||{backoffCount:0,throttleEndTimeMillis:Date.now()},ht=new El;return setTimeout((0,se.A)(function*(){ht.abort()}),void 0!==O?O:Zo),us({appId:q,apiKey:ie,measurementId:pe},Re,ht,A)})).apply(this,arguments)}function us(_,A,O){return De.apply(this,arguments)}function De(){return De=(0,se.A)(function*(_,{throttleEndTimeMillis:A,backoffCount:O},q,ie=An){var pe;const{appId:Re,measurementId:ht}=_;try{yield function Ia(_,A){return new Promise((O,q)=>{const ie=Math.max(A-Date.now(),0),pe=setTimeout(O,ie);_.addEventListener(()=>{clearTimeout(pe),q(vr.create("fetch-throttle",{throttleEndTimeMillis:A}))})})}(q,A)}catch(ft){if(ht)return Ot.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${ht} provided in the "measurementId" field in the local Firebase config. [${ft?.message}]`),{appId:Re,measurementId:ht};throw ft}try{const ft=yield function cu(_){return ii.apply(this,arguments)}(_);return ie.deleteThrottleMetadata(Re),ft}catch(ft){const rt=ft;if(!function Qi(_){if(!(_ instanceof le.g&&_.customData))return!1;const A=Number(_.customData.httpStatus);return 429===A||500===A||503===A||504===A}(rt)){if(ie.deleteThrottleMetadata(Re),ht)return Ot.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${ht} provided in the "measurementId" field in the local Firebase config. [${rt?.message}]`),{appId:Re,measurementId:ht};throw ft}const It=503===Number(null===(pe=rt?.customData)||void 0===pe?void 0:pe.httpStatus)?(0,le.p9)(O,ie.intervalMillis,Il):(0,le.p9)(O,ie.intervalMillis),un={throttleEndTimeMillis:Date.now()+It,backoffCount:O+1};return ie.setThrottleMetadata(Re,un),Ot.debug(`Calling attemptFetch again in ${It} millis`),us(_,un,q,ie)}}),De.apply(this,arguments)}class El{constructor(){this.listeners=[]}addEventListener(A){this.listeners.push(A)}abort(){this.listeners.forEach(A=>A())}}let mo,V;function Ds(){return(Ds=(0,se.A)(function*(_,A,O,q,ie){if(ie&&ie.global)_("event",O,q);else{const pe=yield A;_("event",O,Object.assign(Object.assign({},q),{send_to:pe}))}})).apply(this,arguments)}function yt(){return(yt=(0,se.A)(function*(){if(!(0,le.zW)())return Ot.warn(vr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,le.eX)()}catch(_){return Ot.warn(vr.create("indexeddb-unavailable",{errorInfo:_?.toString()}).message),!1}return!0})).apply(this,arguments)}function Un(){return Un=(0,se.A)(function*(_,A,O,q,ie,pe,Re){var ht;const ft=function Fu(_){return qi.apply(this,arguments)}(_);ft.then(Ni=>{O[Ni.measurementId]=Ni.appId,_.options.measurementId&&Ni.measurementId!==_.options.measurementId&&Ot.warn(`The measurement ID in the local Firebase config (${_.options.measurementId}) does not match the measurement ID fetched from the server (${Ni.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Ni=>Ot.error(Ni)),A.push(ft);const rt=function _e(){return yt.apply(this,arguments)}().then(Ni=>{if(Ni)return q.getId()}),[It,un]=yield Promise.all([ft,rt]);(function va(_){const A=window.document.getElementsByTagName("script");for(const O of Object.values(A))if(O.src&&O.src.includes(ja)&&O.src.includes(_))return O;return null})(pe)||function zn(_,A){const O=function ya(_,A){let O;return window.trustedTypes&&(O=window.trustedTypes.createPolicy(_,A)),O}("firebase-js-sdk-policy",{createScriptURL:jr}),q=document.createElement("script"),ie=`${ja}?l=${_}&id=${A}`;q.src=O?O?.createScriptURL(ie):ie,q.async=!0,document.head.appendChild(q)}(pe,It.measurementId),V&&(ie("consent","default",V),function Y(_){V=_}(void 0)),ie("js",new Date);const Cs=null!==(ht=Re?.config)&&void 0!==ht?ht:{};return Cs[sc]="firebase",Cs.update=!0,null!=un&&(Cs[Rc]=un),ie("config",It.measurementId,Cs),mo&&(ie("set",mo),function Ie(_){mo=_}(void 0)),It.measurementId}),Un.apply(this,arguments)}class Sn{constructor(A){this.app=A}_delete(){return delete hi[this.app.options.appId],Promise.resolve()}}let hi={},ko=[];const Ha={};let Rr,Lo,Er="dataLayer",Oc=!1;function wd(_,A,O){!function Ed(){const _=[];if((0,le.sr)()&&_.push("This is a browser extension environment."),(0,le.dM)()||_.push("Cookies are not available."),_.length>0){const A=_.map((q,ie)=>`(${ie+1}) ${q}`).join(" "),O=vr.create("invalid-analytics-context",{errorInfo:A});Ot.warn(O.message)}}();const q=_.options.appId;if(!q)throw vr.create("no-app-id");if(!_.options.apiKey){if(!_.options.measurementId)throw vr.create("no-api-key");Ot.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${_.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=hi[q])throw vr.create("already-exists",{id:q});if(!Oc){!function $a(_){let A=[];Array.isArray(window[_])?A=window[_]:window[_]=A}(Er);const{wrappedGtag:pe,gtagCore:Re}=function Lu(_,A,O,q,ie){let pe=function(...Re){window[q].push(arguments)};return window[ie]&&"function"==typeof window[ie]&&(pe=window[ie]),window[ie]=function Oo(_,A,O,q){function pe(){return pe=(0,se.A)(function*(Re,...ht){try{if("event"===Re){const[ft,rt]=ht;yield function No(_,A,O,q,ie){return Ys.apply(this,arguments)}(_,A,O,ft,rt)}else if("config"===Re){const[ft,rt]=ht;yield function $r(_,A,O,q,ie,pe){return dt.apply(this,arguments)}(_,A,O,q,ft,rt)}else if("consent"===Re){const[ft]=ht;_("consent","update",ft)}else if("get"===Re){const[ft,rt,It]=ht;_("get",ft,rt,It)}else if("set"===Re){const[ft]=ht;_("set",ft)}else _(Re,...ht)}catch(ft){Ot.error(ft)}}),pe.apply(this,arguments)}return function ie(Re){return pe.apply(this,arguments)}}(pe,_,A,O),{gtagCore:pe,wrappedGtag:window[ie]}}(hi,ko,Ha,Er,"gtag");Lo=pe,Rr=Re,Oc=!0}return hi[q]=function Jt(_,A,O,q,ie,pe,Re){return Un.apply(this,arguments)}(_,ko,Ha,A,Rr,Er,O),new Sn(_)}function Ea(){return Uu.apply(this,arguments)}function Uu(){return(Uu=(0,se.A)(function*(){if((0,le.sr)()||!(0,le.dM)()||!(0,le.zW)())return!1;try{return yield(0,le.eX)()}catch{return!1}})).apply(this,arguments)}const Ga="@firebase/analytics";!function Tr(){(0,ge.om)(new K.uA(Ba,(A,{options:O})=>wd(A.getProvider("app").getImmediate(),A.getProvider("installations-internal").getImmediate(),O),"PUBLIC")),(0,ge.om)(new K.uA("analytics-internal",function _(A){try{const O=A.getProvider(Ba).getImmediate();return{logEvent:(q,ie,pe)=>function ea(_,A,O,q){_=(0,le.Ku)(_),function Wr(_,A,O,q,ie){return Ds.apply(this,arguments)}(Lo,hi[_.app.options.appId],A,O,q).catch(ie=>Ot.error(ie))}(O,q,ie,pe)}}catch(O){throw vr.create("interop-component-reg-failed",{reason:O})}},"PRIVATE")),(0,ge.KO)(Ga,"0.10.0"),(0,ge.KO)(Ga,"0.10.0","esm2017")}();var Tl=j(6780),Vs=j(3604);const Td=new class Dd extends Vs.q{}(class Wa extends Tl.R{constructor(A,O){super(A,O),this.scheduler=A,this.work=O}schedule(A,O=0){return O>0?super.schedule(A,O):(this.delay=O,this.state=A,this.scheduler.flush(this),this)}execute(A,O){return O>0||this.closed?super.execute(A,O):this._execute(A,O)}requestAsyncId(A,O,q=0){return null!=q&&q>0||null==q&&this.delay>0?super.requestAsyncId(A,O,q):(A.flush(this),0)}});var Vu=j(3236),yo=j(1985),Hr=j(8141),Js=j(6745),Fo=j(941);const Cl=new S.RxE("7.6.1"),Uo="__angularfire_symbol__analyticsIsSupportedValue",Bu="__angularfire_symbol__analyticsIsSupported",vo="__angularfire_symbol__remoteConfigIsSupportedValue",_i="__angularfire_symbol__remoteConfigIsSupported",Da="__angularfire_symbol__messagingIsSupportedValue",Bs="__angularfire_symbol__messagingIsSupported";function fu(_,A,O){if(A){if(1===A.length)return A[0];const pe=A.filter(Re=>Re.app===O);if(1===pe.length)return pe[0]}return O.container.getProvider(_).getImmediate({optional:!0})}globalThis[Bu]||(globalThis[Bu]=Ea().then(_=>globalThis[Uo]=_).catch(()=>globalThis[Uo]=!1)),globalThis[Bs]||(globalThis[Bs]=xc().then(_=>globalThis[Da]=_).catch(()=>globalThis[Da]=!1)),globalThis[_i]||(globalThis[_i]=ru().then(_=>globalThis[vo]=_).catch(()=>globalThis[vo]=!1));const pu=(_,A)=>{const O=A?[A]:(0,ne.Dk)(),q=[];return O.forEach(ie=>{ie.container.getProvider(_).instances.forEach(Re=>{q.includes(Re)||q.push(Re)})}),q};function Vo(){}class ta{constructor(A,O=Td){this.zone=A,this.delegate=O}now(){return this.delegate.now()}schedule(A,O,q){const ie=this.zone;return this.delegate.schedule(function(Re){ie.runGuarded(()=>{A.apply(this,[Re])})},O,q)}}class uc{constructor(A){this.zone=A,this.task=null}call(A,O){const q=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Vo,{},Vo,Vo)),O.pipe((0,Hr.M)({next:q,complete:q,error:q})).subscribe(A).add(q)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Ka=(()=>{class _{constructor(O){this.ngZone=O,this.outsideAngular=O.runOutsideAngular(()=>new ta(Zone.current)),this.insideAngular=O.run(()=>new ta(Zone.current,Vu.E)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return _.\u0275fac=function(O){return new(O||_)(S.KVO(S.SKi))},_.\u0275prov=S.jDH({token:_,factory:_.\u0275fac,providedIn:"root"}),_})();function Io(){const _=globalThis.\u0275AngularFireScheduler;if(!_)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return _}function Eo(_){return Io().ngZone.run(()=>_())}function Hu(_){return Io(),function Cd(_){return function(O){return(O=O.lift(new uc(_.ngZone))).pipe((0,Js._)(_.outsideAngular),(0,Fo.Q)(_.insideAngular))}}(Io())(_)}const Yi=(_,A)=>function(){const q=arguments;return A&&setTimeout(()=>{"scheduled"===A.state&&A.invoke()},10),Eo(()=>_.apply(void 0,q))},bl=(_,A)=>function(){let O;const q=arguments;for(let pe=0;pe<arguments.length;pe++)"function"==typeof q[pe]&&(A&&(O||(O=Eo(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Vo,{},Vo,Vo)))),q[pe]=Yi(q[pe],O));const ie=function Ta(_){return Io().ngZone.runOutsideAngular(()=>_())}(()=>_.apply(this,q));if(!A){if(ie instanceof yo.c){const pe=Io();return ie.pipe((0,Js._)(pe.outsideAngular),(0,Fo.Q)(pe.insideAngular))}return Eo(()=>ie)}return ie instanceof yo.c?ie.pipe(Hu):ie instanceof Promise?Eo(()=>new Promise((pe,Re)=>ie.then(ht=>Eo(()=>pe(ht)),ht=>Eo(()=>Re(ht))))):"function"==typeof ie&&O?function(){return setTimeout(()=>{O&&"scheduled"===O.state&&O.invoke()},10),ie.apply(this,arguments)}:Eo(()=>ie)}},1401:(Lt,Le,j)=>{j.d(Le,{Am:()=>Nr,FA:()=>xe,Fy:()=>it,I9:()=>Zn,Im:()=>Bn,K3:()=>K,Ku:()=>_r,T9:()=>et,Tj:()=>qt,Uj:()=>Ne,XA:()=>Je,ZQ:()=>st,bD:()=>Pn,cY:()=>Me,dM:()=>Ee,eX:()=>Rn,g:()=>we,hp:()=>Gt,jZ:()=>Xe,lT:()=>Pt,lV:()=>Dt,nr:()=>Kr,p9:()=>Pr,sr:()=>ur,tD:()=>rr,u:()=>te,yU:()=>On,zW:()=>hn});const ge=function(re){const B=[];let z=0;for(let $=0;$<re.length;$++){let G=re.charCodeAt($);G<128?B[z++]=G:G<2048?(B[z++]=G>>6|192,B[z++]=63&G|128):55296==(64512&G)&&$+1<re.length&&56320==(64512&re.charCodeAt($+1))?(G=65536+((1023&G)<<10)+(1023&re.charCodeAt(++$)),B[z++]=G>>18|240,B[z++]=G>>12&63|128,B[z++]=G>>6&63|128,B[z++]=63&G|128):(B[z++]=G>>12|224,B[z++]=G>>6&63|128,B[z++]=63&G|128)}return B},K={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(re,B){if(!Array.isArray(re))throw Error("encodeByteArray takes an array as a parameter");this.init_();const z=B?this.byteToCharMapWebSafe_:this.byteToCharMap_,$=[];for(let G=0;G<re.length;G+=3){const de=re[G],$e=G+1<re.length,pt=$e?re[G+1]:0,Kt=G+2<re.length,Ht=Kt?re[G+2]:0;let ir=(15&pt)<<2|Ht>>6,Ar=63&Ht;Kt||(Ar=64,$e||(ir=64)),$.push(z[de>>2],z[(3&de)<<4|pt>>4],z[ir],z[Ar])}return $.join("")},encodeString(re,B){return this.HAS_NATIVE_SUPPORT&&!B?btoa(re):this.encodeByteArray(ge(re),B)},decodeString(re,B){return this.HAS_NATIVE_SUPPORT&&!B?atob(re):function(re){const B=[];let z=0,$=0;for(;z<re.length;){const G=re[z++];if(G<128)B[$++]=String.fromCharCode(G);else if(G>191&&G<224){const de=re[z++];B[$++]=String.fromCharCode((31&G)<<6|63&de)}else if(G>239&&G<365){const Kt=((7&G)<<18|(63&re[z++])<<12|(63&re[z++])<<6|63&re[z++])-65536;B[$++]=String.fromCharCode(55296+(Kt>>10)),B[$++]=String.fromCharCode(56320+(1023&Kt))}else{const de=re[z++],$e=re[z++];B[$++]=String.fromCharCode((15&G)<<12|(63&de)<<6|63&$e)}}return B.join("")}(this.decodeStringToByteArray(re,B))},decodeStringToByteArray(re,B){this.init_();const z=B?this.charToByteMapWebSafe_:this.charToByteMap_,$=[];for(let G=0;G<re.length;){const de=z[re.charAt(G++)],pt=G<re.length?z[re.charAt(G)]:0;++G;const Ht=G<re.length?z[re.charAt(G)]:64;++G;const Wt=G<re.length?z[re.charAt(G)]:64;if(++G,null==de||null==pt||null==Ht||null==Wt)throw new Q;$.push(de<<2|pt>>4),64!==Ht&&($.push(pt<<4&240|Ht>>2),64!==Wt&&$.push(Ht<<6&192|Wt))}return $},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let re=0;re<this.ENCODED_VALS.length;re++)this.byteToCharMap_[re]=this.ENCODED_VALS.charAt(re),this.charToByteMap_[this.byteToCharMap_[re]]=re,this.byteToCharMapWebSafe_[re]=this.ENCODED_VALS_WEBSAFE.charAt(re),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[re]]=re,re>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(re)]=re,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(re)]=re)}}};class Q extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ne=function(re){return function(re){const B=ge(re);return K.encodeByteArray(B,!0)}(re).replace(/\./g,"")},te=function(re){try{return K.decodeString(re,!0)}catch(B){console.error("base64Decode failed: ",B)}return null},Bt=()=>{try{return function fe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const re=process.env.__FIREBASE_DEFAULTS__;return re?JSON.parse(re):void 0})()||(()=>{if(typeof document>"u")return;let re;try{re=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const B=re&&te(re[1]);return B&&JSON.parse(B)})()}catch(re){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${re}`)}},qt=re=>{var B,z;return null===(z=null===(B=Bt())||void 0===B?void 0:B.emulatorHosts)||void 0===z?void 0:z[re]},On=re=>{const B=qt(re);if(!B)return;const z=B.lastIndexOf(":");if(z<=0||z+1===B.length)throw new Error(`Invalid host ${B} with no separate hostname and port!`);const $=parseInt(B.substring(z+1),10);return"["===B[0]?[B.substring(1,z-1),$]:[B.substring(0,z),$]},et=()=>{var re;return null===(re=Bt())||void 0===re?void 0:re.config},Je=re=>{var B;return null===(B=Bt())||void 0===B?void 0:B[`_${re}`]};class Me{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((B,z)=>{this.resolve=B,this.reject=z})}wrapCallback(B){return(z,$)=>{z?this.reject(z):this.resolve($),"function"==typeof B&&(this.promise.catch(()=>{}),1===B.length?B(z):B(z,$))}}}function it(re,B){if(re.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const $=B||"demo-project",G=re.iat||0,de=re.sub||re.user_id;if(!de)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const $e=Object.assign({iss:`https://securetoken.google.com/${$}`,aud:$,iat:G,exp:G+3600,auth_time:G,sub:de,user_id:de,firebase:{sign_in_provider:"custom",identities:{}}},re);return[Ne(JSON.stringify({alg:"none",type:"JWT"})),Ne(JSON.stringify($e)),""].join(".")}function st(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Xe(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(st())}function ur(){const re="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof re&&void 0!==re.id}function Dt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Pt(){const re=st();return re.indexOf("MSIE ")>=0||re.indexOf("Trident/")>=0}function Kr(){return!function St(){var re;const B=null===(re=Bt())||void 0===re?void 0:re.forceEnvironment;if("node"===B)return!0;if("browser"===B)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function hn(){try{return"object"==typeof indexedDB}catch{return!1}}function Rn(){return new Promise((re,B)=>{try{let z=!0;const $="validate-browser-context-for-indexeddb-analytics-module",G=self.indexedDB.open($);G.onsuccess=()=>{G.result.close(),z||self.indexedDB.deleteDatabase($),re(!0)},G.onupgradeneeded=()=>{z=!1},G.onerror=()=>{var de;B((null===(de=G.error)||void 0===de?void 0:de.message)||"")}}catch(z){B(z)}})}function Ee(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class we extends Error{constructor(B,z,$){super(z),this.code=B,this.customData=$,this.name="FirebaseError",Object.setPrototypeOf(this,we.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,xe.prototype.create)}}class xe{constructor(B,z,$){this.service=B,this.serviceName=z,this.errors=$}create(B,...z){const $=z[0]||{},G=`${this.service}/${B}`,de=this.errors[B],$e=de?function ze(re,B){return re.replace(He,(z,$)=>{const G=B[$];return null!=G?String(G):`<${$}?>`})}(de,$):"Error";return new we(G,`${this.serviceName}: ${$e} (${G}).`,$)}}const He=/\{\$([^}]+)}/g;function Bn(re){for(const B in re)if(Object.prototype.hasOwnProperty.call(re,B))return!1;return!0}function Pn(re,B){if(re===B)return!0;const z=Object.keys(re),$=Object.keys(B);for(const G of z){if(!$.includes(G))return!1;const de=re[G],$e=B[G];if(ai(de)&&ai($e)){if(!Pn(de,$e))return!1}else if(de!==$e)return!1}for(const G of $)if(!z.includes(G))return!1;return!0}function ai(re){return null!==re&&"object"==typeof re}function Nr(re){const B=[];for(const[z,$]of Object.entries(re))Array.isArray($)?$.forEach(G=>{B.push(encodeURIComponent(z)+"="+encodeURIComponent(G))}):B.push(encodeURIComponent(z)+"="+encodeURIComponent($));return B.length?"&"+B.join("&"):""}function Zn(re){const B={};return re.replace(/^\?/,"").split("&").forEach($=>{if($){const[G,de]=$.split("=");B[decodeURIComponent(G)]=decodeURIComponent(de)}}),B}function Gt(re){const B=re.indexOf("?");if(!B)return"";const z=re.indexOf("#",B);return re.substring(B,z>0?z:void 0)}function rr(re,B){const z=new jn(re,B);return z.subscribe.bind(z)}class jn{constructor(B,z){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=z,this.task.then(()=>{B(this)}).catch($=>{this.error($)})}next(B){this.forEachObserver(z=>{z.next(B)})}error(B){this.forEachObserver(z=>{z.error(B)}),this.close(B)}complete(){this.forEachObserver(B=>{B.complete()}),this.close()}subscribe(B,z,$){let G;if(void 0===B&&void 0===z&&void 0===$)throw new Error("Missing Observer.");G=function br(re,B){if("object"!=typeof re||null===re)return!1;for(const z of B)if(z in re&&"function"==typeof re[z])return!0;return!1}(B,["next","error","complete"])?B:{next:B,error:z,complete:$},void 0===G.next&&(G.next=kt),void 0===G.error&&(G.error=kt),void 0===G.complete&&(G.complete=kt);const de=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?G.error(this.finalError):G.complete()}catch{}}),this.observers.push(G),de}unsubscribeOne(B){void 0===this.observers||void 0===this.observers[B]||(delete this.observers[B],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(B){if(!this.finalized)for(let z=0;z<this.observers.length;z++)this.sendOne(z,B)}sendOne(B,z){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[B])try{z(this.observers[B])}catch($){typeof console<"u"&&console.error&&console.error($)}})}close(B){this.finalized||(this.finalized=!0,void 0!==B&&(this.finalError=B),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function kt(){}const Xt=1e3,Si=2,dr=144e5,qr=.5;function Pr(re,B=Xt,z=Si){const $=B*Math.pow(z,re),G=Math.round(qr*$*(Math.random()-.5)*2);return Math.min(dr,$+G)}function _r(re){return re&&re._delegate?re._delegate:re}},226:(Lt,Le,j)=>{var S=j(345),ne=j(7711),se=j(2598);const ge=[{path:"",redirectTo:"auth/login",pathMatch:"full"},{path:"auth",loadChildren:()=>Promise.all([j.e(341),j.e(384)]).then(j.bind(j,5384)).then(ve=>ve.AuthModule)},{path:"dashboard",loadChildren:()=>Promise.all([j.e(341),j.e(143)]).then(j.bind(j,2143)).then(ve=>ve.DashboardModule)}];let le=(()=>{class ve{static{this.\u0275fac=function(lt){return new(lt||ve)}}static{this.\u0275mod=se.$C({type:ve})}static{this.\u0275inj=se.G2t({imports:[ne.iI.forRoot(ge),ne.iI]})}}return ve})(),K=(()=>{class ve{constructor(){this.title="coop-app"}static{this.\u0275fac=function(lt){return new(lt||ve)}}static{this.\u0275cmp=se.VBU({type:ve,selectors:[["app-root"]],decls:1,vars:0,template:function(lt,at){1&lt&&se.nrm(0,"router-outlet")},dependencies:[ne.n3]})}}return ve})();const Q_firebase={apiKey:"AIzaSyCbw8b_ag8QyunuIJIXl24SCepm439uzVU",authDomain:"coop-pro.firebaseapp.com",projectId:"coop-pro",storageBucket:"coop-pro.firebasestorage.app",messagingSenderId:"770543345465",appId:"1:770543345465:web:33089459f3d6eba9b992e8",measurementId:"G-T4463ZST23"};var Oe=j(8934),Ne=j(4724),te=j(9676);let J=(()=>{class ve{static{this.\u0275fac=function(lt){return new(lt||ve)}}static{this.\u0275mod=se.$C({type:ve,bootstrap:[K]})}static{this.\u0275inj=se.G2t({imports:[(0,te._q)(()=>(0,te.xI)()),S.Bb,le,(0,Oe.MW)(()=>(0,Oe.Wp)(Q_firebase)),(0,Ne.hV)(()=>(0,Ne.aU)())]})}}return ve})();S.sG().bootstrapModule(J).catch(ve=>console.error(ve))},4412:(Lt,Le,j)=>{j.d(Le,{t:()=>ne});var S=j(1413);class ne extends S.B{constructor(ge){super(),this._value=ge}get value(){return this.getValue()}_subscribe(ge){const le=super._subscribe(ge);return!le.closed&&ge.next(this._value),le}getValue(){const{hasError:ge,thrownError:le,_value:K}=this;if(ge)throw le;return this._throwIfClosed(),K}next(ge){super.next(this._value=ge)}}},1985:(Lt,Le,j)=>{j.d(Le,{c:()=>Oe});var S=j(7707),ne=j(8359),se=j(3494),ge=j(1203),le=j(1026),K=j(8071),Q=j(9786);let Oe=(()=>{class ve{constructor(fe){fe&&(this._subscribe=fe)}lift(fe){const lt=new ve;return lt.source=this,lt.operator=fe,lt}subscribe(fe,lt,at){const mt=function J(ve){return ve&&ve instanceof S.vU||function te(ve){return ve&&(0,K.T)(ve.next)&&(0,K.T)(ve.error)&&(0,K.T)(ve.complete)}(ve)&&(0,ne.Uv)(ve)}(fe)?fe:new S.Ms(fe,lt,at);return(0,Q.Y)(()=>{const{operator:Bt,source:qt}=this;mt.add(Bt?Bt.call(mt,qt):qt?this._subscribe(mt):this._trySubscribe(mt))}),mt}_trySubscribe(fe){try{return this._subscribe(fe)}catch(lt){fe.error(lt)}}forEach(fe,lt){return new(lt=Ne(lt))((at,mt)=>{const Bt=new S.Ms({next:qt=>{try{fe(qt)}catch(On){mt(On),Bt.unsubscribe()}},error:mt,complete:at});this.subscribe(Bt)})}_subscribe(fe){var lt;return null===(lt=this.source)||void 0===lt?void 0:lt.subscribe(fe)}[se.s](){return this}pipe(...fe){return(0,ge.m)(fe)(this)}toPromise(fe){return new(fe=Ne(fe))((lt,at)=>{let mt;this.subscribe(Bt=>mt=Bt,Bt=>at(Bt),()=>lt(mt))})}}return ve.create=Ue=>new ve(Ue),ve})();function Ne(ve){var Ue;return null!==(Ue=ve??le.$.Promise)&&void 0!==Ue?Ue:Promise}},1413:(Lt,Le,j)=>{j.d(Le,{B:()=>Q});var S=j(1985),ne=j(8359);const ge=(0,j(1853).L)(Ne=>function(){Ne(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var le=j(7908),K=j(9786);let Q=(()=>{class Ne extends S.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(J){const ve=new Oe(this,this);return ve.operator=J,ve}_throwIfClosed(){if(this.closed)throw new ge}next(J){(0,K.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ve of this.currentObservers)ve.next(J)}})}error(J){(0,K.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=J;const{observers:ve}=this;for(;ve.length;)ve.shift().error(J)}})}complete(){(0,K.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:J}=this;for(;J.length;)J.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var J;return(null===(J=this.observers)||void 0===J?void 0:J.length)>0}_trySubscribe(J){return this._throwIfClosed(),super._trySubscribe(J)}_subscribe(J){return this._throwIfClosed(),this._checkFinalizedStatuses(J),this._innerSubscribe(J)}_innerSubscribe(J){const{hasError:ve,isStopped:Ue,observers:fe}=this;return ve||Ue?ne.Kn:(this.currentObservers=null,fe.push(J),new ne.yU(()=>{this.currentObservers=null,(0,le.o)(fe,J)}))}_checkFinalizedStatuses(J){const{hasError:ve,thrownError:Ue,isStopped:fe}=this;ve?J.error(Ue):fe&&J.complete()}asObservable(){const J=new S.c;return J.source=this,J}}return Ne.create=(te,J)=>new Oe(te,J),Ne})();class Oe extends Q{constructor(te,J){super(),this.destination=te,this.source=J}next(te){var J,ve;null===(ve=null===(J=this.destination)||void 0===J?void 0:J.next)||void 0===ve||ve.call(J,te)}error(te){var J,ve;null===(ve=null===(J=this.destination)||void 0===J?void 0:J.error)||void 0===ve||ve.call(J,te)}complete(){var te,J;null===(J=null===(te=this.destination)||void 0===te?void 0:te.complete)||void 0===J||J.call(te)}_subscribe(te){var J,ve;return null!==(ve=null===(J=this.source)||void 0===J?void 0:J.subscribe(te))&&void 0!==ve?ve:ne.Kn}}},7707:(Lt,Le,j)=>{j.d(Le,{Ms:()=>at,vU:()=>ve});var S=j(8071),ne=j(8359),se=j(1026),ge=j(5334),le=j(5343);const K=Ne("C",void 0,void 0);function Ne(et,Je,Me){return{kind:et,value:Je,error:Me}}var te=j(9270),J=j(9786);class ve extends ne.yU{constructor(Je){super(),this.isStopped=!1,Je?(this.destination=Je,(0,ne.Uv)(Je)&&Je.add(this)):this.destination=On}static create(Je,Me,it){return new at(Je,Me,it)}next(Je){this.isStopped?qt(function Oe(et){return Ne("N",et,void 0)}(Je),this):this._next(Je)}error(Je){this.isStopped?qt(function Q(et){return Ne("E",void 0,et)}(Je),this):(this.isStopped=!0,this._error(Je))}complete(){this.isStopped?qt(K,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Je){this.destination.next(Je)}_error(Je){try{this.destination.error(Je)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ue=Function.prototype.bind;function fe(et,Je){return Ue.call(et,Je)}class lt{constructor(Je){this.partialObserver=Je}next(Je){const{partialObserver:Me}=this;if(Me.next)try{Me.next(Je)}catch(it){mt(it)}}error(Je){const{partialObserver:Me}=this;if(Me.error)try{Me.error(Je)}catch(it){mt(it)}else mt(Je)}complete(){const{partialObserver:Je}=this;if(Je.complete)try{Je.complete()}catch(Me){mt(Me)}}}class at extends ve{constructor(Je,Me,it){let st;if(super(),(0,S.T)(Je)||!Je)st={next:Je??void 0,error:Me??void 0,complete:it??void 0};else{let Xe;this&&se.$.useDeprecatedNextContext?(Xe=Object.create(Je),Xe.unsubscribe=()=>this.unsubscribe(),st={next:Je.next&&fe(Je.next,Xe),error:Je.error&&fe(Je.error,Xe),complete:Je.complete&&fe(Je.complete,Xe)}):st=Je}this.destination=new lt(st)}}function mt(et){se.$.useDeprecatedSynchronousErrorHandling?(0,J.l)(et):(0,ge.m)(et)}function qt(et,Je){const{onStoppedNotification:Me}=se.$;Me&&te.f.setTimeout(()=>Me(et,Je))}const On={closed:!0,next:le.l,error:function Bt(et){throw et},complete:le.l}},8359:(Lt,Le,j)=>{j.d(Le,{Kn:()=>K,yU:()=>le,Uv:()=>Q});var S=j(8071);const se=(0,j(1853).L)(Ne=>function(J){Ne(this),this.message=J?`${J.length} errors occurred during unsubscription:\n${J.map((ve,Ue)=>`${Ue+1}) ${ve.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=J});var ge=j(7908);class le{constructor(te){this.initialTeardown=te,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let te;if(!this.closed){this.closed=!0;const{_parentage:J}=this;if(J)if(this._parentage=null,Array.isArray(J))for(const fe of J)fe.remove(this);else J.remove(this);const{initialTeardown:ve}=this;if((0,S.T)(ve))try{ve()}catch(fe){te=fe instanceof se?fe.errors:[fe]}const{_finalizers:Ue}=this;if(Ue){this._finalizers=null;for(const fe of Ue)try{Oe(fe)}catch(lt){te=te??[],lt instanceof se?te=[...te,...lt.errors]:te.push(lt)}}if(te)throw new se(te)}}add(te){var J;if(te&&te!==this)if(this.closed)Oe(te);else{if(te instanceof le){if(te.closed||te._hasParent(this))return;te._addParent(this)}(this._finalizers=null!==(J=this._finalizers)&&void 0!==J?J:[]).push(te)}}_hasParent(te){const{_parentage:J}=this;return J===te||Array.isArray(J)&&J.includes(te)}_addParent(te){const{_parentage:J}=this;this._parentage=Array.isArray(J)?(J.push(te),J):J?[J,te]:te}_removeParent(te){const{_parentage:J}=this;J===te?this._parentage=null:Array.isArray(J)&&(0,ge.o)(J,te)}remove(te){const{_finalizers:J}=this;J&&(0,ge.o)(J,te),te instanceof le&&te._removeParent(this)}}le.EMPTY=(()=>{const Ne=new le;return Ne.closed=!0,Ne})();const K=le.EMPTY;function Q(Ne){return Ne instanceof le||Ne&&"closed"in Ne&&(0,S.T)(Ne.remove)&&(0,S.T)(Ne.add)&&(0,S.T)(Ne.unsubscribe)}function Oe(Ne){(0,S.T)(Ne)?Ne():Ne.unsubscribe()}},1026:(Lt,Le,j)=>{j.d(Le,{$:()=>S});const S={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},8793:(Lt,Le,j)=>{j.d(Le,{x:()=>le});var S=j(6365),se=j(9326),ge=j(8455);function le(...K){return function ne(){return(0,S.U)(1)}()((0,ge.H)(K,(0,se.lI)(K)))}},983:(Lt,Le,j)=>{j.d(Le,{w:()=>ne});const ne=new(j(1985).c)(le=>le.complete())},8455:(Lt,Le,j)=>{j.d(Le,{H:()=>Je});var S=j(8750),ne=j(941),se=j(6745),K=j(1985),Oe=j(4761),Ne=j(8071),te=j(5225);function ve(Me,it){if(!Me)throw new Error("Iterable cannot be null");return new K.c(st=>{(0,te.N)(st,it,()=>{const Xe=Me[Symbol.asyncIterator]();(0,te.N)(st,it,()=>{Xe.next().then(St=>{St.done?st.complete():st.next(St.value)})},0,!0)})})}var Ue=j(5055),fe=j(9858),lt=j(7441),at=j(5397),mt=j(7953),Bt=j(591),qt=j(5196);function Je(Me,it){return it?function et(Me,it){if(null!=Me){if((0,Ue.l)(Me))return function ge(Me,it){return(0,S.Tg)(Me).pipe((0,se._)(it),(0,ne.Q)(it))}(Me,it);if((0,lt.X)(Me))return function Q(Me,it){return new K.c(st=>{let Xe=0;return it.schedule(function(){Xe===Me.length?st.complete():(st.next(Me[Xe++]),st.closed||this.schedule())})})}(Me,it);if((0,fe.y)(Me))return function le(Me,it){return(0,S.Tg)(Me).pipe((0,se._)(it),(0,ne.Q)(it))}(Me,it);if((0,mt.T)(Me))return ve(Me,it);if((0,at.x)(Me))return function J(Me,it){return new K.c(st=>{let Xe;return(0,te.N)(st,it,()=>{Xe=Me[Oe.l](),(0,te.N)(st,it,()=>{let St,Ye;try{({value:St,done:Ye}=Xe.next())}catch(ur){return void st.error(ur)}Ye?st.complete():st.next(St)},0,!0)}),()=>(0,Ne.T)(Xe?.return)&&Xe.return()})}(Me,it);if((0,qt.U)(Me))return function On(Me,it){return ve((0,qt.C)(Me),it)}(Me,it)}throw(0,Bt.L)(Me)}(Me,it):(0,S.Tg)(Me)}},8750:(Lt,Le,j)=>{j.d(Le,{Tg:()=>Ue});var S=j(1635),ne=j(7441),se=j(9858),ge=j(1985),le=j(5055),K=j(7953),Q=j(591),Oe=j(5397),Ne=j(5196),te=j(8071),J=j(5334),ve=j(3494);function Ue(et){if(et instanceof ge.c)return et;if(null!=et){if((0,le.l)(et))return function fe(et){return new ge.c(Je=>{const Me=et[ve.s]();if((0,te.T)(Me.subscribe))return Me.subscribe(Je);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(et);if((0,ne.X)(et))return function lt(et){return new ge.c(Je=>{for(let Me=0;Me<et.length&&!Je.closed;Me++)Je.next(et[Me]);Je.complete()})}(et);if((0,se.y)(et))return function at(et){return new ge.c(Je=>{et.then(Me=>{Je.closed||(Je.next(Me),Je.complete())},Me=>Je.error(Me)).then(null,J.m)})}(et);if((0,K.T)(et))return Bt(et);if((0,Oe.x)(et))return function mt(et){return new ge.c(Je=>{for(const Me of et)if(Je.next(Me),Je.closed)return;Je.complete()})}(et);if((0,Ne.U)(et))return function qt(et){return Bt((0,Ne.C)(et))}(et)}throw(0,Q.L)(et)}function Bt(et){return new ge.c(Je=>{(function On(et,Je){var Me,it,st,Xe;return(0,S.sH)(this,void 0,void 0,function*(){try{for(Me=(0,S.xN)(et);!(it=yield Me.next()).done;)if(Je.next(it.value),Je.closed)return}catch(St){st={error:St}}finally{try{it&&!it.done&&(Xe=Me.return)&&(yield Xe.call(Me))}finally{if(st)throw st.error}}Je.complete()})})(et,Je).catch(Me=>Je.error(Me))})}},7786:(Lt,Le,j)=>{j.d(Le,{h:()=>K});var S=j(6365),ne=j(8750),se=j(983),ge=j(9326),le=j(8455);function K(...Q){const Oe=(0,ge.lI)(Q),Ne=(0,ge.R0)(Q,1/0),te=Q;return te.length?1===te.length?(0,ne.Tg)(te[0]):(0,S.U)(Ne)((0,le.H)(te,Oe)):se.w}},7673:(Lt,Le,j)=>{j.d(Le,{of:()=>se});var S=j(9326),ne=j(8455);function se(...ge){const le=(0,S.lI)(ge);return(0,ne.H)(ge,le)}},4360:(Lt,Le,j)=>{j.d(Le,{_:()=>ne});var S=j(7707);function ne(ge,le,K,Q,Oe){return new se(ge,le,K,Q,Oe)}class se extends S.vU{constructor(le,K,Q,Oe,Ne,te){super(le),this.onFinalize=Ne,this.shouldUnsubscribe=te,this._next=K?function(J){try{K(J)}catch(ve){le.error(ve)}}:super._next,this._error=Oe?function(J){try{Oe(J)}catch(ve){le.error(ve)}finally{this.unsubscribe()}}:super._error,this._complete=Q?function(){try{Q()}catch(J){le.error(J)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var le;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:K}=this;super.unsubscribe(),!K&&(null===(le=this.onFinalize)||void 0===le||le.call(this))}}}},5964:(Lt,Le,j)=>{j.d(Le,{p:()=>se});var S=j(9974),ne=j(4360);function se(ge,le){return(0,S.N)((K,Q)=>{let Oe=0;K.subscribe((0,ne._)(Q,Ne=>ge.call(le,Ne,Oe++)&&Q.next(Ne)))})}},6354:(Lt,Le,j)=>{j.d(Le,{T:()=>se});var S=j(9974),ne=j(4360);function se(ge,le){return(0,S.N)((K,Q)=>{let Oe=0;K.subscribe((0,ne._)(Q,Ne=>{Q.next(ge.call(le,Ne,Oe++))}))})}},6365:(Lt,Le,j)=>{j.d(Le,{U:()=>se});var S=j(1397),ne=j(3669);function se(ge=1/0){return(0,S.Z)(ne.D,ge)}},1397:(Lt,Le,j)=>{j.d(Le,{Z:()=>Oe});var S=j(6354),ne=j(8750),se=j(9974),ge=j(5225),le=j(4360),Q=j(8071);function Oe(Ne,te,J=1/0){return(0,Q.T)(te)?Oe((ve,Ue)=>(0,S.T)((fe,lt)=>te(ve,fe,Ue,lt))((0,ne.Tg)(Ne(ve,Ue))),J):("number"==typeof te&&(J=te),(0,se.N)((ve,Ue)=>function K(Ne,te,J,ve,Ue,fe,lt,at){const mt=[];let Bt=0,qt=0,On=!1;const et=()=>{On&&!mt.length&&!Bt&&te.complete()},Je=it=>Bt<ve?Me(it):mt.push(it),Me=it=>{fe&&te.next(it),Bt++;let st=!1;(0,ne.Tg)(J(it,qt++)).subscribe((0,le._)(te,Xe=>{Ue?.(Xe),fe?Je(Xe):te.next(Xe)},()=>{st=!0},void 0,()=>{if(st)try{for(Bt--;mt.length&&Bt<ve;){const Xe=mt.shift();lt?(0,ge.N)(te,lt,()=>Me(Xe)):Me(Xe)}et()}catch(Xe){te.error(Xe)}}))};return Ne.subscribe((0,le._)(te,Je,()=>{On=!0,et()})),()=>{at?.()}}(ve,Ue,Ne,J)))}},941:(Lt,Le,j)=>{j.d(Le,{Q:()=>ge});var S=j(5225),ne=j(9974),se=j(4360);function ge(le,K=0){return(0,ne.N)((Q,Oe)=>{Q.subscribe((0,se._)(Oe,Ne=>(0,S.N)(Oe,le,()=>Oe.next(Ne),K),()=>(0,S.N)(Oe,le,()=>Oe.complete(),K),Ne=>(0,S.N)(Oe,le,()=>Oe.error(Ne),K)))})}},9172:(Lt,Le,j)=>{j.d(Le,{Z:()=>ge});var S=j(8793),ne=j(9326),se=j(9974);function ge(...le){const K=(0,ne.lI)(le);return(0,se.N)((Q,Oe)=>{(K?(0,S.x)(le,Q,K):(0,S.x)(le,Q)).subscribe(Oe)})}},6745:(Lt,Le,j)=>{j.d(Le,{_:()=>ne});var S=j(9974);function ne(se,ge=0){return(0,S.N)((le,K)=>{K.add(se.schedule(()=>le.subscribe(K),ge))})}},5558:(Lt,Le,j)=>{j.d(Le,{n:()=>ge});var S=j(8750),ne=j(9974),se=j(4360);function ge(le,K){return(0,ne.N)((Q,Oe)=>{let Ne=null,te=0,J=!1;const ve=()=>J&&!Ne&&Oe.complete();Q.subscribe((0,se._)(Oe,Ue=>{Ne?.unsubscribe();let fe=0;const lt=te++;(0,S.Tg)(le(Ue,lt)).subscribe(Ne=(0,se._)(Oe,at=>Oe.next(K?K(Ue,at,lt,fe++):at),()=>{Ne=null,ve()}))},()=>{J=!0,ve()}))})}},6977:(Lt,Le,j)=>{j.d(Le,{Q:()=>le});var S=j(9974),ne=j(4360),se=j(8750),ge=j(5343);function le(K){return(0,S.N)((Q,Oe)=>{(0,se.Tg)(K).subscribe((0,ne._)(Oe,()=>Oe.complete(),ge.l)),!Oe.closed&&Q.subscribe(Oe)})}},8141:(Lt,Le,j)=>{j.d(Le,{M:()=>le});var S=j(8071),ne=j(9974),se=j(4360),ge=j(3669);function le(K,Q,Oe){const Ne=(0,S.T)(K)||Q||Oe?{next:K,error:Q,complete:Oe}:K;return Ne?(0,ne.N)((te,J)=>{var ve;null===(ve=Ne.subscribe)||void 0===ve||ve.call(Ne);let Ue=!0;te.subscribe((0,se._)(J,fe=>{var lt;null===(lt=Ne.next)||void 0===lt||lt.call(Ne,fe),J.next(fe)},()=>{var fe;Ue=!1,null===(fe=Ne.complete)||void 0===fe||fe.call(Ne),J.complete()},fe=>{var lt;Ue=!1,null===(lt=Ne.error)||void 0===lt||lt.call(Ne,fe),J.error(fe)},()=>{var fe,lt;Ue&&(null===(fe=Ne.unsubscribe)||void 0===fe||fe.call(Ne)),null===(lt=Ne.finalize)||void 0===lt||lt.call(Ne)}))}):ge.D}},6780:(Lt,Le,j)=>{j.d(Le,{R:()=>le});var S=j(8359);class ne extends S.yU{constructor(Q,Oe){super()}schedule(Q,Oe=0){return this}}const se={setInterval(K,Q,...Oe){const{delegate:Ne}=se;return Ne?.setInterval?Ne.setInterval(K,Q,...Oe):setInterval(K,Q,...Oe)},clearInterval(K){const{delegate:Q}=se;return(Q?.clearInterval||clearInterval)(K)},delegate:void 0};var ge=j(7908);class le extends ne{constructor(Q,Oe){super(Q,Oe),this.scheduler=Q,this.work=Oe,this.pending=!1}schedule(Q,Oe=0){var Ne;if(this.closed)return this;this.state=Q;const te=this.id,J=this.scheduler;return null!=te&&(this.id=this.recycleAsyncId(J,te,Oe)),this.pending=!0,this.delay=Oe,this.id=null!==(Ne=this.id)&&void 0!==Ne?Ne:this.requestAsyncId(J,this.id,Oe),this}requestAsyncId(Q,Oe,Ne=0){return se.setInterval(Q.flush.bind(Q,this),Ne)}recycleAsyncId(Q,Oe,Ne=0){if(null!=Ne&&this.delay===Ne&&!1===this.pending)return Oe;null!=Oe&&se.clearInterval(Oe)}execute(Q,Oe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Ne=this._execute(Q,Oe);if(Ne)return Ne;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Q,Oe){let te,Ne=!1;try{this.work(Q)}catch(J){Ne=!0,te=J||new Error("Scheduled action threw falsy error")}if(Ne)return this.unsubscribe(),te}unsubscribe(){if(!this.closed){const{id:Q,scheduler:Oe}=this,{actions:Ne}=Oe;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ge.o)(Ne,this),null!=Q&&(this.id=this.recycleAsyncId(Oe,Q,null)),this.delay=null,super.unsubscribe()}}}},3604:(Lt,Le,j)=>{j.d(Le,{q:()=>se});const S={now:()=>(S.delegate||Date).now(),delegate:void 0};class ne{constructor(le,K=ne.now){this.schedulerActionCtor=le,this.now=K}schedule(le,K=0,Q){return new this.schedulerActionCtor(this,le).schedule(Q,K)}}ne.now=S.now;class se extends ne{constructor(le,K=ne.now){super(le,K),this.actions=[],this._active=!1}flush(le){const{actions:K}=this;if(this._active)return void K.push(le);let Q;this._active=!0;do{if(Q=le.execute(le.state,le.delay))break}while(le=K.shift());if(this._active=!1,Q){for(;le=K.shift();)le.unsubscribe();throw Q}}}},3236:(Lt,Le,j)=>{j.d(Le,{E:()=>se,b:()=>ge});var S=j(6780);const se=new(j(3604).q)(S.R),ge=se},9270:(Lt,Le,j)=>{j.d(Le,{f:()=>S});const S={setTimeout(ne,se,...ge){const{delegate:le}=S;return le?.setTimeout?le.setTimeout(ne,se,...ge):setTimeout(ne,se,...ge)},clearTimeout(ne){const{delegate:se}=S;return(se?.clearTimeout||clearTimeout)(ne)},delegate:void 0}},4761:(Lt,Le,j)=>{j.d(Le,{l:()=>ne});const ne=function S(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3494:(Lt,Le,j)=>{j.d(Le,{s:()=>S});const S="function"==typeof Symbol&&Symbol.observable||"@@observable"},9326:(Lt,Le,j)=>{j.d(Le,{R0:()=>K,lI:()=>le,ms:()=>ge});var S=j(8071),ne=j(9470);function se(Q){return Q[Q.length-1]}function ge(Q){return(0,S.T)(se(Q))?Q.pop():void 0}function le(Q){return(0,ne.m)(se(Q))?Q.pop():void 0}function K(Q,Oe){return"number"==typeof se(Q)?Q.pop():Oe}},3073:(Lt,Le,j)=>{j.d(Le,{D:()=>le});const{isArray:S}=Array,{getPrototypeOf:ne,prototype:se,keys:ge}=Object;function le(Q){if(1===Q.length){const Oe=Q[0];if(S(Oe))return{args:Oe,keys:null};if(function K(Q){return Q&&"object"==typeof Q&&ne(Q)===se}(Oe)){const Ne=ge(Oe);return{args:Ne.map(te=>Oe[te]),keys:Ne}}}return{args:Q,keys:null}}},7908:(Lt,Le,j)=>{function S(ne,se){if(ne){const ge=ne.indexOf(se);0<=ge&&ne.splice(ge,1)}}j.d(Le,{o:()=>S})},1853:(Lt,Le,j)=>{function S(ne){const ge=ne(le=>{Error.call(le),le.stack=(new Error).stack});return ge.prototype=Object.create(Error.prototype),ge.prototype.constructor=ge,ge}j.d(Le,{L:()=>S})},8496:(Lt,Le,j)=>{function S(ne,se){return ne.reduce((ge,le,K)=>(ge[le]=se[K],ge),{})}j.d(Le,{e:()=>S})},9786:(Lt,Le,j)=>{j.d(Le,{Y:()=>se,l:()=>ge});var S=j(1026);let ne=null;function se(le){if(S.$.useDeprecatedSynchronousErrorHandling){const K=!ne;if(K&&(ne={errorThrown:!1,error:null}),le(),K){const{errorThrown:Q,error:Oe}=ne;if(ne=null,Q)throw Oe}}else le()}function ge(le){S.$.useDeprecatedSynchronousErrorHandling&&ne&&(ne.errorThrown=!0,ne.error=le)}},5225:(Lt,Le,j)=>{function S(ne,se,ge,le=0,K=!1){const Q=se.schedule(function(){ge(),K?ne.add(this.schedule(null,le)):this.unsubscribe()},le);if(ne.add(Q),!K)return Q}j.d(Le,{N:()=>S})},3669:(Lt,Le,j)=>{function S(ne){return ne}j.d(Le,{D:()=>S})},7441:(Lt,Le,j)=>{j.d(Le,{X:()=>S});const S=ne=>ne&&"number"==typeof ne.length&&"function"!=typeof ne},7953:(Lt,Le,j)=>{j.d(Le,{T:()=>ne});var S=j(8071);function ne(se){return Symbol.asyncIterator&&(0,S.T)(se?.[Symbol.asyncIterator])}},8071:(Lt,Le,j)=>{function S(ne){return"function"==typeof ne}j.d(Le,{T:()=>S})},5055:(Lt,Le,j)=>{j.d(Le,{l:()=>se});var S=j(3494),ne=j(8071);function se(ge){return(0,ne.T)(ge[S.s])}},5397:(Lt,Le,j)=>{j.d(Le,{x:()=>se});var S=j(4761),ne=j(8071);function se(ge){return(0,ne.T)(ge?.[S.l])}},9858:(Lt,Le,j)=>{j.d(Le,{y:()=>ne});var S=j(8071);function ne(se){return(0,S.T)(se?.then)}},5196:(Lt,Le,j)=>{j.d(Le,{C:()=>se,U:()=>ge});var S=j(1635),ne=j(8071);function se(le){return(0,S.AQ)(this,arguments,function*(){const Q=le.getReader();try{for(;;){const{value:Oe,done:Ne}=yield(0,S.N3)(Q.read());if(Ne)return yield(0,S.N3)(void 0);yield yield(0,S.N3)(Oe)}}finally{Q.releaseLock()}})}function ge(le){return(0,ne.T)(le?.getReader)}},9470:(Lt,Le,j)=>{j.d(Le,{m:()=>ne});var S=j(8071);function ne(se){return se&&(0,S.T)(se.schedule)}},9974:(Lt,Le,j)=>{j.d(Le,{N:()=>se,S:()=>ne});var S=j(8071);function ne(ge){return(0,S.T)(ge?.lift)}function se(ge){return le=>{if(ne(le))return le.lift(function(K){try{return ge(K,this)}catch(Q){this.error(Q)}});throw new TypeError("Unable to lift unknown Observable type")}}},6450:(Lt,Le,j)=>{j.d(Le,{I:()=>ge});var S=j(6354);const{isArray:ne}=Array;function ge(le){return(0,S.T)(K=>function se(le,K){return ne(K)?le(...K):le(K)}(le,K))}},5343:(Lt,Le,j)=>{function S(){}j.d(Le,{l:()=>S})},1203:(Lt,Le,j)=>{j.d(Le,{F:()=>ne,m:()=>se});var S=j(3669);function ne(...ge){return se(ge)}function se(ge){return 0===ge.length?S.D:1===ge.length?ge[0]:function(K){return ge.reduce((Q,Oe)=>Oe(Q),K)}}},5334:(Lt,Le,j)=>{j.d(Le,{m:()=>se});var S=j(1026),ne=j(9270);function se(ge){ne.f.setTimeout(()=>{const{onUnhandledError:le}=S.$;if(!le)throw ge;le(ge)})}},591:(Lt,Le,j)=>{function S(ne){return new TypeError(`You provided ${null!==ne&&"object"==typeof ne?"an invalid object":`'${ne}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}j.d(Le,{L:()=>S})},177:(Lt,Le,j)=>{j.d(Le,{AJ:()=>vt,MD:()=>Ir,N0:()=>li,QT:()=>se,Sm:()=>lt,Sq:()=>wi,T3:()=>Zt,VF:()=>le,Vy:()=>Mr,Xr:()=>Gs,YU:()=>Pi,ZD:()=>ge,_b:()=>ui,aZ:()=>mt,bT:()=>ki,fw:()=>at,hb:()=>Ue,hj:()=>Oe,qQ:()=>K});var S=j(2598);let ne=null;function se(){return ne}function ge(E){ne||(ne=E)}class le{}const K=new S.nKC("DocumentToken");let Q=(()=>{class E{historyGo(M){throw new Error("Not implemented")}static{this.\u0275fac=function(k){return new(k||E)}}static{this.\u0275prov=S.jDH({token:E,factory:function(){return(0,S.WQX)(Ne)},providedIn:"platform"})}}return E})();const Oe=new S.nKC("Location Initialized");let Ne=(()=>{class E extends Q{constructor(){super(),this._doc=(0,S.WQX)(K),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return se().getBaseHref(this._doc)}onPopState(M){const k=se().getGlobalEventTarget(this._doc,"window");return k.addEventListener("popstate",M,!1),()=>k.removeEventListener("popstate",M)}onHashChange(M){const k=se().getGlobalEventTarget(this._doc,"window");return k.addEventListener("hashchange",M,!1),()=>k.removeEventListener("hashchange",M)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(M){this._location.pathname=M}pushState(M,k,Z){this._history.pushState(M,k,Z)}replaceState(M,k,Z){this._history.replaceState(M,k,Z)}forward(){this._history.forward()}back(){this._history.back()}historyGo(M=0){this._history.go(M)}getState(){return this._history.state}static{this.\u0275fac=function(k){return new(k||E)}}static{this.\u0275prov=S.jDH({token:E,factory:function(){return new E},providedIn:"platform"})}}return E})();function te(E,F){if(0==E.length)return F;if(0==F.length)return E;let M=0;return E.endsWith("/")&&M++,F.startsWith("/")&&M++,2==M?E+F.substring(1):1==M?E+F:E+"/"+F}function J(E){const F=E.match(/#|\?|$/),M=F&&F.index||E.length;return E.slice(0,M-("/"===E[M-1]?1:0))+E.slice(M)}function ve(E){return E&&"?"!==E[0]?"?"+E:E}let Ue=(()=>{class E{historyGo(M){throw new Error("Not implemented")}static{this.\u0275fac=function(k){return new(k||E)}}static{this.\u0275prov=S.jDH({token:E,factory:function(){return(0,S.WQX)(lt)},providedIn:"root"})}}return E})();const fe=new S.nKC("appBaseHref");let lt=(()=>{class E extends Ue{constructor(M,k){super(),this._platformLocation=M,this._removeListenerFns=[],this._baseHref=k??this._platformLocation.getBaseHrefFromDOM()??(0,S.WQX)(K).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(M){this._removeListenerFns.push(this._platformLocation.onPopState(M),this._platformLocation.onHashChange(M))}getBaseHref(){return this._baseHref}prepareExternalUrl(M){return te(this._baseHref,M)}path(M=!1){const k=this._platformLocation.pathname+ve(this._platformLocation.search),Z=this._platformLocation.hash;return Z&&M?`${k}${Z}`:k}pushState(M,k,Z,Se){const je=this.prepareExternalUrl(Z+ve(Se));this._platformLocation.pushState(M,k,je)}replaceState(M,k,Z,Se){const je=this.prepareExternalUrl(Z+ve(Se));this._platformLocation.replaceState(M,k,je)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(M=0){this._platformLocation.historyGo?.(M)}static{this.\u0275fac=function(k){return new(k||E)(S.KVO(Q),S.KVO(fe,8))}}static{this.\u0275prov=S.jDH({token:E,factory:E.\u0275fac,providedIn:"root"})}}return E})(),at=(()=>{class E extends Ue{constructor(M,k){super(),this._platformLocation=M,this._baseHref="",this._removeListenerFns=[],null!=k&&(this._baseHref=k)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(M){this._removeListenerFns.push(this._platformLocation.onPopState(M),this._platformLocation.onHashChange(M))}getBaseHref(){return this._baseHref}path(M=!1){let k=this._platformLocation.hash;return null==k&&(k="#"),k.length>0?k.substring(1):k}prepareExternalUrl(M){const k=te(this._baseHref,M);return k.length>0?"#"+k:k}pushState(M,k,Z,Se){let je=this.prepareExternalUrl(Z+ve(Se));0==je.length&&(je=this._platformLocation.pathname),this._platformLocation.pushState(M,k,je)}replaceState(M,k,Z,Se){let je=this.prepareExternalUrl(Z+ve(Se));0==je.length&&(je=this._platformLocation.pathname),this._platformLocation.replaceState(M,k,je)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(M=0){this._platformLocation.historyGo?.(M)}static{this.\u0275fac=function(k){return new(k||E)(S.KVO(Q),S.KVO(fe,8))}}static{this.\u0275prov=S.jDH({token:E,factory:E.\u0275fac})}}return E})(),mt=(()=>{class E{constructor(M){this._subject=new S.bkB,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=M;const k=this._locationStrategy.getBaseHref();this._basePath=function et(E){if(new RegExp("^(https?:)?//").test(E)){const[,M]=E.split(/\/\/[^\/]+/);return M}return E}(J(On(k))),this._locationStrategy.onPopState(Z=>{this._subject.emit({url:this.path(!0),pop:!0,state:Z.state,type:Z.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(M=!1){return this.normalize(this._locationStrategy.path(M))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(M,k=""){return this.path()==this.normalize(M+ve(k))}normalize(M){return E.stripTrailingSlash(function qt(E,F){if(!E||!F.startsWith(E))return F;const M=F.substring(E.length);return""===M||["/",";","?","#"].includes(M[0])?M:F}(this._basePath,On(M)))}prepareExternalUrl(M){return M&&"/"!==M[0]&&(M="/"+M),this._locationStrategy.prepareExternalUrl(M)}go(M,k="",Z=null){this._locationStrategy.pushState(Z,"",M,k),this._notifyUrlChangeListeners(this.prepareExternalUrl(M+ve(k)),Z)}replaceState(M,k="",Z=null){this._locationStrategy.replaceState(Z,"",M,k),this._notifyUrlChangeListeners(this.prepareExternalUrl(M+ve(k)),Z)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(M=0){this._locationStrategy.historyGo?.(M)}onUrlChange(M){return this._urlChangeListeners.push(M),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(k=>{this._notifyUrlChangeListeners(k.url,k.state)})),()=>{const k=this._urlChangeListeners.indexOf(M);this._urlChangeListeners.splice(k,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(M="",k){this._urlChangeListeners.forEach(Z=>Z(M,k))}subscribe(M,k,Z){return this._subject.subscribe({next:M,error:k,complete:Z})}static{this.normalizeQueryParams=ve}static{this.joinWithSlash=te}static{this.stripTrailingSlash=J}static{this.\u0275fac=function(k){return new(k||E)(S.KVO(Ue))}}static{this.\u0275prov=S.jDH({token:E,factory:function(){return function Bt(){return new mt((0,S.KVO)(Ue))}()},providedIn:"root"})}}return E})();function On(E){return E.replace(/\/index.html$/,"")}function ui(E,F){F=encodeURIComponent(F);for(const M of E.split(";")){const k=M.indexOf("="),[Z,Se]=-1==k?[M,""]:[M.slice(0,k),M.slice(k+1)];if(Z.trim()===F)return decodeURIComponent(Se)}return null}const Fr=/\s+/,dn=[];let Pi=(()=>{class E{constructor(M,k,Z,Se){this._iterableDiffers=M,this._keyValueDiffers=k,this._ngEl=Z,this._renderer=Se,this.initialClasses=dn,this.stateMap=new Map}set klass(M){this.initialClasses=null!=M?M.trim().split(Fr):dn}set ngClass(M){this.rawClass="string"==typeof M?M.trim().split(Fr):M}ngDoCheck(){for(const k of this.initialClasses)this._updateState(k,!0);const M=this.rawClass;if(Array.isArray(M)||M instanceof Set)for(const k of M)this._updateState(k,!0);else if(null!=M)for(const k of Object.keys(M))this._updateState(k,!!M[k]);this._applyStateDiff()}_updateState(M,k){const Z=this.stateMap.get(M);void 0!==Z?(Z.enabled!==k&&(Z.changed=!0,Z.enabled=k),Z.touched=!0):this.stateMap.set(M,{enabled:k,changed:!0,touched:!0})}_applyStateDiff(){for(const M of this.stateMap){const k=M[0],Z=M[1];Z.changed?(this._toggleClass(k,Z.enabled),Z.changed=!1):Z.touched||(Z.enabled&&this._toggleClass(k,!1),this.stateMap.delete(k)),Z.touched=!1}}_toggleClass(M,k){(M=M.trim()).length>0&&M.split(Fr).forEach(Z=>{k?this._renderer.addClass(this._ngEl.nativeElement,Z):this._renderer.removeClass(this._ngEl.nativeElement,Z)})}static{this.\u0275fac=function(k){return new(k||E)(S.rXU(S._q3),S.rXU(S.MKu),S.rXU(S.aKT),S.rXU(S.sFG))}}static{this.\u0275dir=S.FsC({type:E,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}}return E})();class ps{constructor(F,M,k,Z){this.$implicit=F,this.ngForOf=M,this.index=k,this.count=Z}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let wi=(()=>{class E{set ngForOf(M){this._ngForOf=M,this._ngForOfDirty=!0}set ngForTrackBy(M){this._trackByFn=M}get ngForTrackBy(){return this._trackByFn}constructor(M,k,Z){this._viewContainer=M,this._template=k,this._differs=Z,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(M){M&&(this._template=M)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const M=this._ngForOf;!this._differ&&M&&(this._differ=this._differs.find(M).create(this.ngForTrackBy))}if(this._differ){const M=this._differ.diff(this._ngForOf);M&&this._applyChanges(M)}}_applyChanges(M){const k=this._viewContainer;M.forEachOperation((Z,Se,je)=>{if(null==Z.previousIndex)k.createEmbeddedView(this._template,new ps(Z.item,this._ngForOf,-1,-1),null===je?void 0:je);else if(null==je)k.remove(null===Se?void 0:Se);else if(null!==Se){const Nt=k.get(Se);k.move(Nt,je),Sr(Nt,Z)}});for(let Z=0,Se=k.length;Z<Se;Z++){const Nt=k.get(Z).context;Nt.index=Z,Nt.count=Se,Nt.ngForOf=this._ngForOf}M.forEachIdentityChange(Z=>{Sr(k.get(Z.currentIndex),Z)})}static ngTemplateContextGuard(M,k){return!0}static{this.\u0275fac=function(k){return new(k||E)(S.rXU(S.c1b),S.rXU(S.C4Q),S.rXU(S._q3))}}static{this.\u0275dir=S.FsC({type:E,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return E})();function Sr(E,F){E.context.$implicit=F.item}let ki=(()=>{class E{constructor(M,k){this._viewContainer=M,this._context=new gs,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=k}set ngIf(M){this._context.$implicit=this._context.ngIf=M,this._updateView()}set ngIfThen(M){ca("ngIfThen",M),this._thenTemplateRef=M,this._thenViewRef=null,this._updateView()}set ngIfElse(M){ca("ngIfElse",M),this._elseTemplateRef=M,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(M,k){return!0}static{this.\u0275fac=function(k){return new(k||E)(S.rXU(S.c1b),S.rXU(S.C4Q))}}static{this.\u0275dir=S.FsC({type:E,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return E})();class gs{constructor(){this.$implicit=null,this.ngIf=null}}function ca(E,F){if(F&&!F.createEmbeddedView)throw new Error(`${E} must be a TemplateRef, but received '${(0,S.Tbb)(F)}'.`)}let Zt=(()=>{class E{constructor(M){this._viewContainerRef=M,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(M){if(M.ngTemplateOutlet||M.ngTemplateOutletInjector){const k=this._viewContainerRef;if(this._viewRef&&k.remove(k.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:Z,ngTemplateOutletContext:Se,ngTemplateOutletInjector:je}=this;this._viewRef=k.createEmbeddedView(Z,Se,je?{injector:je}:void 0)}else this._viewRef=null}else this._viewRef&&M.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}static{this.\u0275fac=function(k){return new(k||E)(S.rXU(S.c1b))}}static{this.\u0275dir=S.FsC({type:E,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[S.OA$]})}}return E})(),Ir=(()=>{class E{static{this.\u0275fac=function(k){return new(k||E)}}static{this.\u0275mod=S.$C({type:E})}static{this.\u0275inj=S.G2t({})}}return E})();const vt="browser",nn="server";function Mr(E){return E===nn}let Gs=(()=>{class E{static{this.\u0275prov=(0,S.jDH)({token:E,providedIn:"root",factory:()=>new zt((0,S.KVO)(K),window)})}}return E})();class zt{constructor(F,M){this.document=F,this.window=M,this.offset=()=>[0,0]}setOffset(F){this.offset=Array.isArray(F)?()=>F:F}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(F){this.supportsScrolling()&&this.window.scrollTo(F[0],F[1])}scrollToAnchor(F){if(!this.supportsScrolling())return;const M=function vs(E,F){const M=E.getElementById(F)||E.getElementsByName(F)[0];if(M)return M;if("function"==typeof E.createTreeWalker&&E.body&&"function"==typeof E.body.attachShadow){const k=E.createTreeWalker(E.body,NodeFilter.SHOW_ELEMENT);let Z=k.currentNode;for(;Z;){const Se=Z.shadowRoot;if(Se){const je=Se.getElementById(F)||Se.querySelector(`[name="${F}"]`);if(je)return je}Z=k.nextNode()}}return null}(this.document,F);M&&(this.scrollToElement(M),M.focus())}setHistoryScrollRestoration(F){this.supportsScrolling()&&(this.window.history.scrollRestoration=F)}scrollToElement(F){const M=F.getBoundingClientRect(),k=M.left+this.window.pageXOffset,Z=M.top+this.window.pageYOffset,Se=this.offset();this.window.scrollTo(k-Se[0],Z-Se[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class li{}},2598:(Lt,Le,j)=>{j.d(Le,{iLQ:()=>UI,sZ2:()=>Gp,hnV:()=>Sw,Hbi:()=>Vb,o8S:()=>ap,BIS:()=>Kp,gRc:()=>Tb,Ql9:()=>zC,Ocv:()=>jC,Z63:()=>Yc,aKT:()=>Tu,uvJ:()=>wo,zcH:()=>Tc,bkB:()=>Cu,$GK:()=>kt,nKC:()=>Xt,zZn:()=>ro,_q3:()=>zI,MKu:()=>GI,xe9:()=>Ev,Co$:()=>SE,Vns:()=>Eh,NEm:()=>mb,SKi:()=>ls,Xx1:()=>mu,Agw:()=>Yl,PLl:()=>tf,sFG:()=>Yv,_9s:()=>ny,czy:()=>yu,kdw:()=>xl,C4Q:()=>lm,NYb:()=>hb,giA:()=>Lw,xvI:()=>hf,RxE:()=>sy,c1b:()=>_v,gXe:()=>ui,L39:()=>Xb,Ol2:()=>xE,w6W:()=>ST,oH4:()=>Bw,Rfq:()=>Je,WQX:()=>he,QuC:()=>Qr,fpN:()=>Ub,HJs:()=>Zb,O8t:()=>mr,H3F:()=>Mw,H8p:()=>$p,$K3:()=>xw,KH2:()=>rp,wOt:()=>Ye,WHO:()=>Pw,e01:()=>kw,H5H:()=>dI,mq5:()=>J0,JZv:()=>pn,LfX:()=>Nr,plB:()=>SI,jNT:()=>tv,zjR:()=>j_,TL$:()=>Kc,Tbb:()=>qt,Vt3:()=>bc,GFd:()=>Uy,OA$:()=>yr,Jv_:()=>AE,aNF:()=>RE,R7$:()=>Ey,BMQ:()=>pl,AVh:()=>cv,wni:()=>ow,VBU:()=>la,FsC:()=>nu,jDH:()=>_t,G2t:()=>ai,$C:()=>Ns,EJ8:()=>zs,rXU:()=>al,nrm:()=>Zy,eu8:()=>Ru,bVm:()=>Jf,qex:()=>Zf,k0s:()=>Qg,j41:()=>qg,RV6:()=>B_,xGo:()=>_,KVO:()=>hr,kS0:()=>ie,QTQ:()=>Mf,bIt:()=>nv,lsd:()=>aw,XpG:()=>rv,SdG:()=>iv,NAR:()=>ep,Y8G:()=>Wg,FS9:()=>Zg,eq3:()=>UE,l_i:()=>VE,sMw:()=>BE,ziG:()=>jE,mGM:()=>iw,sdS:()=>Yy,Njj:()=>cu,eBV:()=>as,n$t:()=>Km,DNE:()=>k_,C5r:()=>dw,EFF:()=>o,JRh:()=>w,SpI:()=>x,Lme:()=>P,E5c:()=>H,GBs:()=>sw});var S=j(1413),ne=j(8359),se=j(1985),ge=j(7786),le=j(4412),K=j(7673),Q=j(8750),Oe=j(7707),Ne=j(9974);function te(t={}){const{connector:r=(()=>new S.B),resetOnError:s=!0,resetOnComplete:a=!0,resetOnRefCountZero:c=!0}=t;return d=>{let g,v,C,N=0,U=!1,X=!1;const ce=()=>{v?.unsubscribe(),v=void 0},me=()=>{ce(),g=C=void 0,U=X=!1},Be=()=>{const nt=g;me(),nt?.unsubscribe()};return(0,Ne.N)((nt,Ct)=>{N++,!X&&!U&&ce();const $t=C=C??r();Ct.add(()=>{N--,0===N&&!X&&!U&&(v=J(Be,c))}),$t.subscribe(Ct),!g&&N>0&&(g=new Oe.Ms({next:qe=>$t.next(qe),error:qe=>{X=!0,ce(),v=J(me,s,qe),$t.error(qe)},complete:()=>{U=!0,ce(),v=J(me,a),$t.complete()}}),(0,Q.Tg)(nt).subscribe(g))})(d)}}function J(t,r,...s){if(!0===r)return void t();if(!1===r)return;const a=new Oe.Ms({next:()=>{a.unsubscribe(),t()}});return(0,Q.Tg)(r(...s)).subscribe(a)}var ve=j(5558),Ue=j(3669),fe=j(4360);function at(t,r){return t===r}function mt(t){for(let r in t)if(t[r]===mt)return r;throw Error("Could not find renamed property on target object.")}function Bt(t,r){for(const s in r)r.hasOwnProperty(s)&&!t.hasOwnProperty(s)&&(t[s]=r[s])}function qt(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(qt).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const r=t.toString();if(null==r)return""+r;const s=r.indexOf("\n");return-1===s?r:r.substring(0,s)}function On(t,r){return null==t||""===t?null===r?"":r:null==r||""===r?t:t+" "+r}const et=mt({__forward_ref__:mt});function Je(t){return t.__forward_ref__=Je,t.toString=function(){return qt(this())},t}function Me(t){return it(t)?t():t}function it(t){return"function"==typeof t&&t.hasOwnProperty(et)&&t.__forward_ref__===Je}function st(t){return t&&!!t.\u0275providers}const St="https://g.co/ng/security#xss";class Ye extends Error{constructor(r,s){super(function ur(t,r){return`NG0${Math.abs(t)}${r?": "+r:""}`}(r,s)),this.code=r}}function Dt(t){return"string"==typeof t?t:null==t?"":String(t)}function Kr(t,r){throw new Ye(-201,!1)}function Yt(t,r){null==t&&function Et(t,r,s,a){throw new Error(`ASSERTION ERROR: ${t}`+(null==a?"":` [Expected=> ${s} ${a} ${r} <=Actual]`))}(r,t,null,"!=")}function _t(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function ai(t){return{providers:t.providers||[],imports:t.imports||[]}}function lr(t){return Zn(t,rr)||Zn(t,Cr)}function Nr(t){return null!==lr(t)}function Zn(t,r){return t.hasOwnProperty(r)?t[r]:null}function Qt(t){return t&&(t.hasOwnProperty(jn)||t.hasOwnProperty(br))?t[jn]:null}const rr=mt({\u0275prov:mt}),jn=mt({\u0275inj:mt}),Cr=mt({ngInjectableDef:mt}),br=mt({ngInjectorDef:mt});var kt=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(kt||{});let Or;function Jn(t){const r=Or;return Or=t,r}function rn(t,r,s){const a=lr(t);return a&&"root"==a.providedIn?void 0===a.value?a.value=a.factory():a.value:s&kt.Optional?null:void 0!==r?r:void Kr(qt(t))}const pn=globalThis;class Xt{constructor(r,s){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=_t({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const G={},de="__NG_DI_FLAG__",$e="ngTempTokenPath",Kt=/\n/gm,En="__source";let Wt;function Ar(t){const r=Wt;return Wt=t,r}function Mi(t,r=kt.Default){if(void 0===Wt)throw new Ye(-203,!1);return null===Wt?rn(t,void 0,r):Wt.get(t,r&kt.Optional?null:void 0,r)}function hr(t,r=kt.Default){return(function wn(){return Or}()||Mi)(Me(t),r)}function he(t,r=kt.Default){return hr(t,Ke(r))}function Ke(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function xt(t){const r=[];for(let s=0;s<t.length;s++){const a=Me(t[s]);if(Array.isArray(a)){if(0===a.length)throw new Ye(900,!1);let c,d=kt.Default;for(let g=0;g<a.length;g++){const v=a[g],C=cn(v);"number"==typeof C?-1===C?c=v.token:d|=C:c=v}r.push(hr(c,d))}else r.push(hr(a))}return r}function jt(t,r){return t[de]=r,t.prototype[de]=r,t}function cn(t){return t[de]}function Ln(t){return{toString:t}.toString()}var Lr=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Lr||{}),ui=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(ui||{});const Fr={},dn=[],Pi=mt({\u0275cmp:mt}),fs=mt({\u0275dir:mt}),Hs=mt({\u0275pipe:mt}),ps=mt({\u0275mod:mt}),wi=mt({\u0275fac:mt}),Sr=mt({__NG_ELEMENT_ID__:mt}),xs=mt({__NG_ENV_ID__:mt});function ki(t,r,s){let a=t.length;for(;;){const c=t.indexOf(r,s);if(-1===c)return c;if(0===c||t.charCodeAt(c-1)<=32){const d=r.length;if(c+d===a||t.charCodeAt(c+d)<=32)return c}s=c+1}}function gs(t,r,s){let a=0;for(;a<s.length;){const c=s[a];if("number"==typeof c){if(0!==c)break;a++;const d=s[a++],g=s[a++],v=s[a++];t.setAttribute(r,g,v,d)}else{const d=c,g=s[++a];ae(d)?t.setProperty(r,d,g):t.setAttribute(r,d,g),a++}}return a}function ca(t){return 3===t||4===t||6===t}function ae(t){return 64===t.charCodeAt(0)}function ue(t,r){if(null!==r&&0!==r.length)if(null===t||0===t.length)t=r.slice();else{let s=-1;for(let a=0;a<r.length;a++){const c=r[a];"number"==typeof c?s=c:0===s||Te(t,s,c,null,-1===s||2===s?r[++a]:null)}}return t}function Te(t,r,s,a,c){let d=0,g=t.length;if(-1===r)g=-1;else for(;d<t.length;){const v=t[d++];if("number"==typeof v){if(v===r){g=-1;break}if(v>r){g=d-1;break}}}for(;d<t.length;){const v=t[d];if("number"==typeof v)break;if(v===s){if(null===a)return void(null!==c&&(t[d+1]=c));if(a===t[d+1])return void(t[d+2]=c)}d++,null!==a&&d++,null!==c&&d++}-1!==g&&(t.splice(g,0,r),d=g+1),t.splice(d++,0,s),null!==a&&t.splice(d++,0,a),null!==c&&t.splice(d++,0,c)}const Ve="ng-template";function tt(t,r,s){let a=0,c=!0;for(;a<t.length;){let d=t[a++];if("string"==typeof d&&c){const g=t[a++];if(s&&"class"===d&&-1!==ki(g.toLowerCase(),r,0))return!0}else{if(1===d){for(;a<t.length&&"string"==typeof(d=t[a++]);)if(d.toLowerCase()===r)return!0;return!1}"number"==typeof d&&(c=!1)}}return!1}function Rt(t){return 4===t.type&&t.value!==Ve}function mn(t,r,s){return r===(4!==t.type||s?t.value:Ve)}function ln(t,r,s){let a=4;const c=t.attrs||[],d=function Zr(t){for(let r=0;r<t.length;r++)if(ca(t[r]))return r;return t.length}(c);let g=!1;for(let v=0;v<r.length;v++){const C=r[v];if("number"!=typeof C){if(!g)if(4&a){if(a=2|1&a,""!==C&&!mn(t,C,s)||""===C&&1===r.length){if(Zt(a))return!1;g=!0}}else{const N=8&a?C:r[++v];if(8&a&&null!==t.attrs){if(!tt(t.attrs,N,s)){if(Zt(a))return!1;g=!0}continue}const X=pi(8&a?"class":C,c,Rt(t),s);if(-1===X){if(Zt(a))return!1;g=!0;continue}if(""!==N){let ce;ce=X>d?"":c[X+1].toLowerCase();const me=8&a?ce:null;if(me&&-1!==ki(me,N,0)||2&a&&N!==ce){if(Zt(a))return!1;g=!0}}}}else{if(!g&&!Zt(a)&&!Zt(C))return!1;if(g&&Zt(C))continue;g=!1,a=C|1&a}}return Zt(a)||g}function Zt(t){return 0==(1&t)}function pi(t,r,s,a){if(null===r)return-1;let c=0;if(a||!s){let d=!1;for(;c<r.length;){const g=r[c];if(g===t)return c;if(3===g||6===g)d=!0;else{if(1===g||2===g){let v=r[++c];for(;"string"==typeof v;)v=r[++c];continue}if(4===g)break;if(0===g){c+=4;continue}}c+=d?1:2}return-1}return function jo(t,r){let s=t.indexOf(4);if(s>-1)for(s++;s<t.length;){const a=t[s];if("number"==typeof a)return-1;if(a===r)return s;s++}return-1}(r,t)}function zr(t,r,s=!1){for(let a=0;a<r.length;a++)if(ln(t,r[a],s))return!0;return!1}function eu(t,r){e:for(let s=0;s<r.length;s++){const a=r[s];if(t.length===a.length){for(let c=0;c<t.length;c++)if(t[c]!==a[c])continue e;return!0}}return!1}function $o(t,r){return t?":not("+r.trim()+")":r}function Ho(t){let r=t[0],s=1,a=2,c="",d=!1;for(;s<t.length;){let g=t[s];if("string"==typeof g)if(2&a){const v=t[++s];c+="["+g+(v.length>0?'="'+v+'"':"")+"]"}else 8&a?c+="."+g:4&a&&(c+=" "+g);else""!==c&&!Zt(g)&&(r+=$o(d,c),c=""),a=g,d=d||!Zt(a);s++}return""!==c&&(r+=$o(d,c)),r}function la(t){return Ln(()=>{const r=Hi(t),s={...r,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Lr.OnPush,directiveDefs:null,pipeDefs:null,dependencies:r.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||ui.Emulated,styles:t.styles||dn,_:null,schemas:t.schemas||null,tView:null,id:""};Fn(s);const a=t.dependencies;return s.directiveDefs=Os(a,!1),s.pipeDefs=Os(a,!0),s.id=function zo(t){let r=0;const s=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const c of s)r=Math.imul(31,r)+c.charCodeAt(0)<<0;return r+=2147483648,"c"+r}(s),s})}function Rs(t){return Cn(t)||$n(t)}function ys(t){return null!==t}function Ns(t){return Ln(()=>({type:t.type,bootstrap:t.bootstrap||dn,declarations:t.declarations||dn,imports:t.imports||dn,exports:t.exports||dn,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function tu(t,r){if(null==t)return Fr;const s={};for(const a in t)if(t.hasOwnProperty(a)){let c=t[a],d=c;Array.isArray(c)&&(d=c[1],c=c[0]),s[c]=a,r&&(r[c]=d)}return s}function nu(t){return Ln(()=>{const r=Hi(t);return Fn(r),r})}function zs(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function Cn(t){return t[Pi]||null}function $n(t){return t[fs]||null}function fr(t){return t[Hs]||null}function Qr(t){const r=Cn(t)||$n(t)||fr(t);return null!==r&&r.standalone}function pr(t,r){const s=t[ps]||null;if(!s&&!0===r)throw new Error(`Type ${qt(t)} does not have '\u0275mod' property.`);return s}function Hi(t){const r={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:r,inputTransforms:null,inputConfig:t.inputs||Fr,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||dn,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:tu(t.inputs,r),outputs:tu(t.outputs)}}function Fn(t){t.features?.forEach(r=>r(t))}function Os(t,r){if(!t)return null;const s=r?fr:Rs;return()=>("function"==typeof t?t():t).map(a=>s(a)).filter(ys)}const Ir=0,vt=1,nn=2,Wn=3,Gr=4,To=5,Mr=6,gi=7,gr=8,Ji=9,Gs=10,zt=11,vs=12,ru=13,li=14,xr=15,Fi=16,oo=17,es=18,ao=19,Go=20,Jr=21,Ps=22,uo=23,Wo=24,fn=25,ei=1,Co=2,ts=7,Hn=9,wr=11;function di(t){return Array.isArray(t)&&"object"==typeof t[ei]}function mi(t){return Array.isArray(t)&&!0===t[ei]}function co(t){return 0!=(4&t.flags)}function xi(t){return t.componentOffset>-1}function lo(t){return 1==(1&t.flags)}function Ui(t){return!!t.template}function rs(t){return 0!=(512&t[nn])}function Ls(t,r){return t.hasOwnProperty(wi)?t[wi]:null}let ti=null,Fs=!1;function Kn(t){const r=ti;return ti=t,r}const qs={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function Pu(t){if(!Us(t)||t.dirty){if(!t.producerMustRecompute(t)&&!Dn(t))return void(t.dirty=!1);t.producerRecomputeValue(t),t.dirty=!1}}function xo(t){t.dirty=!0,function Ua(t){if(void 0===t.liveConsumerNode)return;const r=Fs;Fs=!0;try{for(const s of t.liveConsumerNode)s.dirty||xo(s)}finally{Fs=r}}(t),t.consumerMarkedDirty?.(t)}function yi(t){return t&&(t.nextProducerIndex=0),Kn(t)}function Qs(t,r){if(Kn(r),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(Us(t))for(let s=t.nextProducerIndex;s<t.producerNode.length;s++)is(t.producerNode[s],t.producerIndexOfThis[s]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Dn(t){ss(t);for(let r=0;r<t.producerNode.length;r++){const s=t.producerNode[r],a=t.producerLastReadVersion[r];if(a!==s.version||(Pu(s),a!==s.version))return!0}return!1}function ku(t){if(ss(t),Us(t))for(let r=0;r<t.producerNode.length;r++)is(t.producerNode[r],t.producerIndexOfThis[r]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function is(t,r){if(function Es(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),ss(t),1===t.liveConsumerNode.length)for(let a=0;a<t.producerNode.length;a++)is(t.producerNode[a],t.producerIndexOfThis[a]);const s=t.liveConsumerNode.length-1;if(t.liveConsumerNode[r]=t.liveConsumerNode[s],t.liveConsumerIndexOfThis[r]=t.liveConsumerIndexOfThis[s],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,r<t.liveConsumerNode.length){const a=t.liveConsumerIndexOfThis[r],c=t.liveConsumerNode[r];ss(c),c.producerIndexOfThis[a]=r}}function Us(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function ss(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let E=null;function mr(t){const r=Kn(null);try{return t()}finally{Kn(r)}}const ri=()=>{},vi=(()=>({...qs,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule(t.ref)},hasRun:!1,cleanupFn:ri}))();class Qn{constructor(r,s,a){this.previousValue=r,this.currentValue=s,this.firstChange=a}isFirstChange(){return this.firstChange}}function yr(){return Xr}function Xr(t){return t.type.prototype.ngOnChanges&&(t.setInput=Xo),Xs}function Xs(){const t=Dr(this),r=t?.current;if(r){const s=t.previous;if(s===Fr)t.previous=r;else for(let a in r)s[a]=r[a];t.current=null,this.ngOnChanges(r)}}function Xo(t,r,s,a){const c=this.declaredInputs[s],d=Dr(t)||function ws(t,r){return t[Ze]=r}(t,{previous:Fr,current:null}),g=d.current||(d.current={}),v=d.previous,C=v[c];g[c]=new Qn(C&&C.currentValue,r,v===Fr),t[a]=r}yr.ngInherit=!0;const Ze="__ngSimpleChanges__";function Dr(t){return t[Ze]||null}const Tt=function(t,r,s){};function ye(t){for(;Array.isArray(t);)t=t[Ir];return t}function Nn(t,r){return ye(r[t])}function Ki(t,r){return ye(r[t.index])}function Yo(t,r){return t.data[r]}function os(t,r){const s=r[t];return di(s)?s:s[Ir]}function Zo(t,r){return null==r?null:t[r]}function Br(t){t[oo]=0}function ja(t){1024&t[nn]||(t[nn]|=1024,Ro(t,1))}function Ot(t){1024&t[nn]&&(t[nn]&=-1025,Ro(t,-1))}function Ro(t,r){let s=t[Wn];if(null===s)return;s[To]+=r;let a=s;for(s=s[Wn];null!==s&&(1===r&&1===a[To]||-1===r&&0===a[To]);)s[To]+=r,a=s,s=s[Wn]}const Qe={lFrame:Jt(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function No(){return Qe.bindingsEnabled}function Ys(){return null!==Qe.skipHydrationRootTNode}function We(){return Qe.lFrame.lView}function An(){return Qe.lFrame.tView}function as(t){return Qe.lFrame.contextLView=t,t[gr]}function cu(t){return Qe.lFrame.contextLView=null,t}function ii(){let t=Fu();for(;null!==t&&64===t.type;)t=t.parent;return t}function Fu(){return Qe.lFrame.currentTNode}function us(t,r){const s=Qe.lFrame;s.currentTNode=t,s.isParent=r}function De(){return Qe.lFrame.isParent}function Ia(){Qe.lFrame.isParent=!1}function Wr(){const t=Qe.lFrame;let r=t.bindingRootIndex;return-1===r&&(r=t.bindingRootIndex=t.tView.bindingStartIndex),r}function Ds(){return Qe.lFrame.bindingIndex}function Po(){return Qe.lFrame.bindingIndex++}function Zs(t){const r=Qe.lFrame,s=r.bindingIndex;return r.bindingIndex=r.bindingIndex+t,s}function y(t,r){const s=Qe.lFrame;s.bindingIndex=s.bindingRootIndex=t,m(r)}function m(t){Qe.lFrame.currentDirectiveIndex=t}function R(){return Qe.lFrame.currentQueryIndex}function V(t){Qe.lFrame.currentQueryIndex=t}function Y(t){const r=t[vt];return 2===r.type?r.declTNode:1===r.type?t[Mr]:null}function Ie(t,r,s){if(s&kt.SkipSelf){let c=r,d=t;for(;!(c=c.parent,null!==c||s&kt.Host||(c=Y(d),null===c||(d=d[li],10&c.type))););if(null===c)return!1;r=c,t=d}const a=Qe.lFrame=yt();return a.currentTNode=r,a.lView=t,!0}function _e(t){const r=yt(),s=t[vt];Qe.lFrame=r,r.currentTNode=s.firstChild,r.lView=t,r.tView=s,r.contextLView=t,r.bindingIndex=s.bindingStartIndex,r.inI18n=!1}function yt(){const t=Qe.lFrame,r=null===t?null:t.child;return null===r?Jt(t):r}function Jt(t){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=r),r}function Un(){const t=Qe.lFrame;return Qe.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const Sn=Un;function hi(){const t=Un();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Er(){return Qe.lFrame.selectedIndex}function Bi(t){Qe.lFrame.selectedIndex=t}function Rr(){const t=Qe.lFrame;return Yo(t.tView,t.selectedIndex)}let Dh=!0;function lu(){return Dh}function Ea(t){Dh=t}function Pc(t,r){for(let s=r.directiveStart,a=r.directiveEnd;s<a;s++){const d=t.data[s].type.prototype,{ngAfterContentInit:g,ngAfterContentChecked:v,ngAfterViewInit:C,ngAfterViewChecked:N,ngOnDestroy:U}=d;g&&(t.contentHooks??=[]).push(-s,g),v&&((t.contentHooks??=[]).push(s,v),(t.contentCheckHooks??=[]).push(s,v)),C&&(t.viewHooks??=[]).push(-s,C),N&&((t.viewHooks??=[]).push(s,N),(t.viewCheckHooks??=[]).push(s,N)),null!=U&&(t.destroyHooks??=[]).push(s,U)}}function du(t,r,s){si(t,r,3,s)}function wa(t,r,s,a){(3&t[nn])===s&&si(t,r,s,a)}function ac(t,r){let s=t[nn];(3&s)===r&&(s&=8191,s+=1,t[nn]=s)}function si(t,r,s,a){const d=a??-1,g=r.length-1;let v=0;for(let C=void 0!==a?65535&t[oo]:0;C<g;C++)if("number"==typeof r[C+1]){if(v=r[C],null!=a&&v>=a)break}else r[C]<0&&(t[oo]+=65536),(v<d||-1==d)&&(za(t,s,r,C),t[oo]=(4294901760&t[oo])+C+2),C++}function Dl(t,r){Tt(4,t,r);const s=Kn(null);try{r.call(t)}finally{Kn(s),Tt(5,t,r)}}function za(t,r,s,a){const c=s[a]<0,d=s[a+1],v=t[c?-s[a]:s[a]];c?t[nn]>>13<t[oo]>>16&&(3&t[nn])===r&&(t[nn]+=8192,Dl(v,d)):Dl(v,d)}const ea=-1;class nr{constructor(r,s,a){this.factory=r,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=a}}function Ti(t){return t!==ea}function Vu(t){return 32767&t}function Hr(t,r){let s=function yo(t){return t>>16}(t),a=r;for(;s>0;)a=a[li],s--;return a}let Js=!0;function Fo(t){const r=Js;return Js=t,r}const Uo=255,Bu=5;let vo=0;const _i={};function Bs(t,r){const s=hu(t,r);if(-1!==s)return s;const a=r[vt];a.firstCreatePass&&(t.injectorIndex=r.length,Ts(a.data,t),Ts(r,null),Ts(a.blueprint,null));const c=_o(t,r),d=t.injectorIndex;if(Ti(c)){const g=Vu(c),v=Hr(c,r),C=v[vt].data;for(let N=0;N<8;N++)r[d+N]=v[g+N]|C[g+N]}return r[d+8]=c,d}function Ts(t,r){t.push(0,0,0,0,0,0,0,0,r)}function hu(t,r){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===r[t.injectorIndex+8]?-1:t.injectorIndex}function _o(t,r){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let s=0,a=null,c=r;for(;null!==c;){if(a=q(c),null===a)return ea;if(s++,c=c[li],-1!==a.injectorIndex)return a.injectorIndex|s<<16}return ea}function kc(t,r,s){!function Da(t,r,s){let a;"string"==typeof s?a=s.charCodeAt(0)||0:s.hasOwnProperty(Sr)&&(a=s[Sr]),null==a&&(a=s[Sr]=vo++);const c=a&Uo;r.data[t+(c>>Bu)]|=1<<c}(t,r,s)}function pu(t,r,s){if(s&kt.Optional||void 0!==t)return t;Kr()}function Vo(t,r,s,a){if(s&kt.Optional&&void 0===a&&(a=null),!(s&(kt.Self|kt.Host))){const c=t[Ji],d=Jn(void 0);try{return c?c.get(r,a,s&kt.Optional):rn(r,a,s&kt.Optional)}finally{Jn(d)}}return pu(a,0,s)}function ta(t,r,s,a=kt.Default,c){if(null!==t){if(2048&r[nn]&&!(a&kt.Self)){const g=function O(t,r,s,a,c){let d=t,g=r;for(;null!==d&&null!==g&&2048&g[nn]&&!(512&g[nn]);){const v=uc(d,g,s,a|kt.Self,_i);if(v!==_i)return v;let C=d.parent;if(!C){const N=g[Go];if(N){const U=N.get(s,_i,a);if(U!==_i)return U}C=q(g),g=g[li]}d=C}return c}(t,r,s,a,_i);if(g!==_i)return g}const d=uc(t,r,s,a,_i);if(d!==_i)return d}return Vo(r,s,a,c)}function uc(t,r,s,a,c){const d=function Eo(t){if("string"==typeof t)return t.charCodeAt(0)||0;const r=t.hasOwnProperty(Sr)?t[Sr]:void 0;return"number"==typeof r?r>=0?r&Uo:bl:r}(s);if("function"==typeof d){if(!Ie(r,t,a))return a&kt.Host?pu(c,0,a):Vo(r,s,a,c);try{let g;if(g=d(a),null!=g||a&kt.Optional)return g;Kr()}finally{Sn()}}else if("number"==typeof d){let g=null,v=hu(t,r),C=ea,N=a&kt.Host?r[xr][Mr]:null;for((-1===v||a&kt.SkipSelf)&&(C=-1===v?_o(t,r):r[v+8],C!==ea&&$u(a,!1)?(g=r[vt],v=Vu(C),r=Hr(C,r)):v=-1);-1!==v;){const U=r[vt];if(ju(d,v,U.data)){const X=Ka(v,r,s,g,a,N);if(X!==_i)return X}C=r[v+8],C!==ea&&$u(a,r[vt].data[v+8]===N)&&ju(d,v,r)?(g=U,v=Vu(C),r=Hr(C,r)):v=-1}}return c}function Ka(t,r,s,a,c,d){const g=r[vt],v=g.data[t+8],U=Io(v,g,s,null==a?xi(v)&&Js:a!=g&&0!=(3&v.type),c&kt.Host&&d===v);return null!==U?Ta(r,g,U,v):_i}function Io(t,r,s,a,c){const d=t.providerIndexes,g=r.data,v=1048575&d,C=t.directiveStart,U=d>>20,ce=c?v+U:t.directiveEnd;for(let me=a?v:v+U;me<ce;me++){const Be=g[me];if(me<C&&s===Be||me>=C&&Be.type===s)return me}if(c){const me=g[C];if(me&&Ui(me)&&me.type===s)return C}return null}function Ta(t,r,s,a){let c=t[s];const d=r.data;if(function Ga(t){return t instanceof nr}(c)){const g=c;g.resolving&&function Pt(t,r){const s=r?`. Dependency path: ${r.join(" > ")} > ${t}`:"";throw new Ye(-200,`Circular dependency in DI detected for ${t}${s}`)}(function ke(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Dt(t)}(d[s]));const v=Fo(g.canSeeViewProviders);g.resolving=!0;const N=g.injectImpl?Jn(g.injectImpl):null;Ie(t,a,kt.Default);try{c=t[s]=g.factory(void 0,d,t,a),r.firstCreatePass&&s>=a.directiveStart&&function Uu(t,r,s){const{ngOnChanges:a,ngOnInit:c,ngDoCheck:d}=r.type.prototype;if(a){const g=Xr(r);(s.preOrderHooks??=[]).push(t,g),(s.preOrderCheckHooks??=[]).push(t,g)}c&&(s.preOrderHooks??=[]).push(0-t,c),d&&((s.preOrderHooks??=[]).push(t,d),(s.preOrderCheckHooks??=[]).push(t,d))}(s,d[s],r)}finally{null!==N&&Jn(N),Fo(v),g.resolving=!1,Sn()}}return c}function ju(t,r,s){return!!(s[r+(t>>Bu)]&1<<t)}function $u(t,r){return!(t&kt.Self||t&kt.Host&&r)}class Yi{constructor(r,s){this._tNode=r,this._lView=s}get(r,s,a){return ta(this._tNode,this._lView,r,Ke(a),s)}}function bl(){return new Yi(ii(),We())}function _(t){return Ln(()=>{const r=t.prototype.constructor,s=r[wi]||A(r),a=Object.prototype;let c=Object.getPrototypeOf(t.prototype).constructor;for(;c&&c!==a;){const d=c[wi]||A(c);if(d&&d!==s)return d;c=Object.getPrototypeOf(c)}return d=>new d})}function A(t){return it(t)?()=>{const r=A(Me(t));return r&&r()}:Ls(t)}function q(t){const r=t[vt],s=r.type;return 2===s?r.declTNode:1===s?t[Mr]:null}function ie(t){return function fu(t,r){if("class"===r)return t.classes;if("style"===r)return t.styles;const s=t.attrs;if(s){const a=s.length;let c=0;for(;c<a;){const d=s[c];if(ca(d))break;if(0===d)c+=2;else if("number"==typeof d)for(c++;c<a&&"string"==typeof s[c];)c++;else{if(d===r)return s[c+1];c+=2}}}return null}(ii(),t)}const Re="__parameters__";function It(t,r,s){return Ln(()=>{const a=function rt(t){return function(...s){if(t){const a=t(...s);for(const c in a)this[c]=a[c]}}}(r);function c(...d){if(this instanceof c)return a.apply(this,d),this;const g=new c(...d);return v.annotation=g,v;function v(C,N,U){const X=C.hasOwnProperty(Re)?C[Re]:Object.defineProperty(C,Re,{value:[]})[Re];for(;X.length<=U;)X.push(null);return(X[U]=X[U]||[]).push(g),C}}return s&&(c.prototype=Object.create(s.prototype)),c.prototype.ngMetadataName=t,c.annotationCls=c,c})}function zu(t,r){t.forEach(s=>Array.isArray(s)?zu(s,r):r(s))}function Gu(t,r,s){r>=t.length?t.push(s):t.splice(r,0,s)}function ra(t,r){return r>=t.length-1?t.pop():t.splice(r,1)[0]}function ba(t,r){const s=[];for(let a=0;a<t;a++)s.push(r);return s}function bi(t,r,s){let a=ia(t,r);return a>=0?t[1|a]=s:(a=~a,function Ch(t,r,s,a){let c=t.length;if(c==r)t.push(s,a);else if(1===c)t.push(a,t[0]),t[0]=s;else{for(c--,t.push(t[c-1],t[c]);c>r;)t[c]=t[c-2],c--;t[r]=s,t[r+1]=a}}(t,a,r,s)),a}function Fc(t,r){const s=ia(t,r);if(s>=0)return t[1|s]}function ia(t,r){return function Uc(t,r,s){let a=0,c=t.length>>s;for(;c!==a;){const d=a+(c-a>>1),g=t[d<<s];if(r===g)return d<<s;g>r?c=d:a=d+1}return~(c<<s)}(t,r,1)}const mu=jt(It("Optional"),8),xl=jt(It("SkipSelf"),4);function Ul(t){return 128==(128&t.flags)}var yu=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(yu||{});const Nh=/^>|^->|<!--|-->|--!>|<!-$/g,Oh=/(<|>)/g,Ph="\u200b$1\u200b";const kh=new Map;let I=0;const At="__ngContext__";function Vt(t,r){di(r)?(t[At]=r[ao],function p(t){kh.set(t[ao],t)}(r)):t[At]=r}let Hc;function Hl(t,r){return Hc(t,r)}function qu(t){const r=t[Wn];return mi(r)?r[Wn]:r}function wp(t){return Oi(t[vs])}function _m(t){return Oi(t[Gr])}function Oi(t){for(;null!==t&&!mi(t);)t=t[Gr];return t}function pc(t,r,s,a,c){if(null!=a){let d,g=!1;mi(a)?d=a:di(a)&&(g=!0,a=a[Ir]);const v=ye(a);0===t&&null!==s?null==c?Am(r,s,v):mc(r,s,v,c||null,!0):1===t&&null!==s?mc(r,s,v,c||null,!0):2===t?function _u(t,r,s){const a=Qu(t,r);a&&function Rv(t,r,s,a){t.removeChild(r,s,a)}(t,a,r,s)}(r,v,g):3===t&&r.destroyNode(v),null!=d&&function Nm(t,r,s,a,c){const d=s[ts];d!==ye(s)&&pc(r,t,a,d,c);for(let v=wr;v<s.length;v++){const C=s[v];Gc(C[vt],C,t,r,a,d)}}(r,t,d,s,c)}}function Ra(t,r){return t.createComment(function Od(t){return t.replace(Nh,r=>r.replace(Oh,Ph))}(r))}function Wl(t,r,s){return t.createElement(r,s)}function Tm(t,r){const s=t[Hn],a=s.indexOf(r);Ot(r),s.splice(a,1)}function gc(t,r){if(t.length<=wr)return;const s=wr+r,a=t[s];if(a){const c=a[Fi];null!==c&&c!==t&&Tm(c,a),r>0&&(t[s-1][Gr]=a[Gr]);const d=ra(t,wr+r);!function Im(t,r){Gc(t,r,r[zt],2,null,null),r[Ir]=null,r[Mr]=null}(a[vt],a);const g=d[es];null!==g&&g.detachView(d[vt]),a[Wn]=null,a[Gr]=null,a[nn]&=-129}return a}function Bd(t,r){if(!(256&r[nn])){const s=r[zt];r[uo]&&ku(r[uo]),r[Wo]&&ku(r[Wo]),s.destroyNode&&Gc(t,r,s,3,null,null),function wm(t){let r=t[vs];if(!r)return Dp(t[vt],t);for(;r;){let s=null;if(di(r))s=r[vs];else{const a=r[wr];a&&(s=a)}if(!s){for(;r&&!r[Gr]&&r!==t;)di(r)&&Dp(r[vt],r),r=r[Wn];null===r&&(r=t),di(r)&&Dp(r[vt],r),s=r&&r[Gr]}r=s}}(r)}}function Dp(t,r){if(!(256&r[nn])){r[nn]&=-129,r[nn]|=256,function Tp(t,r){let s;if(null!=t&&null!=(s=t.destroyHooks))for(let a=0;a<s.length;a+=2){const c=r[s[a]];if(!(c instanceof nr)){const d=s[a+1];if(Array.isArray(d))for(let g=0;g<d.length;g+=2){const v=c[d[g]],C=d[g+1];Tt(4,v,C);try{C.call(v)}finally{Tt(5,v,C)}}else{Tt(4,c,d);try{d.call(c)}finally{Tt(5,c,d)}}}}}(t,r),function Cm(t,r){const s=t.cleanup,a=r[gi];if(null!==s)for(let d=0;d<s.length-1;d+=2)if("string"==typeof s[d]){const g=s[d+3];g>=0?a[g]():a[-g].unsubscribe(),d+=2}else s[d].call(a[s[d+1]]);null!==a&&(r[gi]=null);const c=r[Jr];if(null!==c){r[Jr]=null;for(let d=0;d<c.length;d++)(0,c[d])()}}(t,r),1===r[vt].type&&r[zt].destroy();const s=r[Fi];if(null!==s&&mi(r[Wn])){s!==r[Wn]&&Tm(s,r);const a=r[es];null!==a&&a.detachView(t)}!function L(t){kh.delete(t[ao])}(r)}}function Lh(t,r,s){return function bm(t,r,s){let a=r;for(;null!==a&&40&a.type;)a=(r=a).parent;if(null===a)return s[Ir];{const{componentOffset:c}=a;if(c>-1){const{encapsulation:d}=t.data[a.directiveStart+c];if(d===ui.None||d===ui.Emulated)return null}return Ki(a,s)}}(t,r.parent,s)}function mc(t,r,s,a,c){t.insertBefore(r,s,a,c)}function Am(t,r,s){t.appendChild(r,s)}function Sm(t,r,s,a,c){null!==a?mc(t,r,s,a,c):Am(t,r,s)}function Qu(t,r){return t.parentNode(r)}function xm(t,r,s){return vu(t,r,s)}let Fh,Wc,Hd,vu=function Cp(t,r,s){return 40&t.type?Ki(t,s):null};function jd(t,r,s,a){const c=Lh(t,a,r),d=r[zt],v=xm(a.parent||r[Mr],a,r);if(null!=c)if(Array.isArray(s))for(let C=0;C<s.length;C++)Sm(d,c,s[C],v,!1);else Sm(d,c,s,v,!1);void 0!==Fh&&Fh(d,a,r,s,c)}function yc(t,r){if(null!==r){const s=r.type;if(3&s)return Ki(r,t);if(4&s)return Xu(-1,t[r.index]);if(8&s){const a=r.child;if(null!==a)return yc(t,a);{const c=t[r.index];return mi(c)?Xu(-1,c):ye(c)}}if(32&s)return Hl(r,t)()||ye(t[r.index]);{const a=vc(t,r);return null!==a?Array.isArray(a)?a[0]:yc(qu(t[xr]),a):yc(t,r.next)}}return null}function vc(t,r){return null!==r?t[xr][Mr].projection[r.projection]:null}function Xu(t,r){const s=wr+t+1;if(s<r.length){const a=r[s],c=a[vt].firstChild;if(null!==c)return yc(a,c)}return r[ts]}function Uh(t,r,s,a,c,d,g){for(;null!=s;){const v=a[s.index],C=s.type;if(g&&0===r&&(v&&Vt(ye(v),a),s.flags|=2),32!=(32&s.flags))if(8&C)Uh(t,r,s.child,a,c,d,!1),pc(r,t,c,v,d);else if(32&C){const N=Hl(s,a);let U;for(;U=N();)pc(r,t,c,U,d);pc(r,t,c,v,d)}else 16&C?Ap(t,r,a,s,c,d):pc(r,t,c,v,d);s=g?s.projectionNext:s.next}}function Gc(t,r,s,a,c,d){Uh(s,a,t.firstChild,r,c,d,!1)}function Ap(t,r,s,a,c,d){const g=s[xr],C=g[Mr].projection[a.projection];if(Array.isArray(C))for(let N=0;N<C.length;N++)pc(r,t,c,C[N],d);else{let N=C;const U=g[Wn];Ul(a)&&(N.flags|=128),Uh(t,r,N,U,c,d,!0)}}function Sp(t,r,s){""===s?t.removeAttribute(r,"class"):t.setAttribute(r,"class",s)}function $d(t,r,s){const{mergedAttrs:a,classes:c,styles:d}=s;null!==a&&gs(t,r,a),null!==c&&Sp(t,r,c),null!==d&&function Om(t,r,s){t.setAttribute(r,"style",s)}(t,r,d)}function Kc(t){Wc=t}function Vh(t){return function Mp(){if(void 0===Hd&&(Hd=null,pn.trustedTypes))try{Hd=pn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Hd}()?.createScriptURL(t)||t}class Bh{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${St})`}}function Ic(t){return t instanceof Bh?t.changingThisBreaksApplicationSecurity:t}function qc(t,r){const s=function $h(t){return t instanceof Bh&&t.getTypeName()||null}(t);if(null!=s&&s!==r){if("ResourceURL"===s&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${s} (see ${St})`)}return s===r}const Gh=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var wu=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(wu||{});function Wm(t){const r=Wd();return r?r.sanitize(wu.URL,t)||"":qc(t,"URL")?Ic(t):function Ql(t){return(t=String(t)).match(Gh)?t:"unsafe:"+t}(Dt(t))}function Lp(t){const r=Wd();if(r)return Vh(r.sanitize(wu.RESOURCE_URL,t)||"");if(qc(t,"ResourceURL"))return Vh(Ic(t));throw new Ye(904,!1)}function Km(t,r,s){return function As(t,r){return"src"===r&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===r&&("base"===t||"link"===t)?Lp:Wm}(r,s)(t)}function Wd(){const t=We();return t&&t[Gs].sanitizer}const Yc=new Xt("ENVIRONMENT_INITIALIZER"),qm=new Xt("INJECTOR",-1),Kd=new Xt("INJECTOR_DEF_TYPES");class Xl{get(r,s=G){if(s===G){const a=new Error(`NullInjectorError: No provider for ${qt(r)}!`);throw a.name="NullInjectorError",a}return s}}function Xm(...t){return{\u0275providers:Qh(0,t),\u0275fromNgModule:!0}}function Qh(t,...r){const s=[],a=new Set;let c;const d=g=>{s.push(g)};return zu(r,g=>{const v=g;wc(v,d,[],a)&&(c||=[],c.push(v))}),void 0!==c&&Xh(c,d),s}function Xh(t,r){for(let s=0;s<t.length;s++){const{ngModule:a,providers:c}=t[s];qd(c,d=>{r(d,a)})}}function wc(t,r,s,a){if(!(t=Me(t)))return!1;let c=null,d=Qt(t);const g=!d&&Cn(t);if(d||g){if(g&&!g.standalone)return!1;c=t}else{const C=t.ngModule;if(d=Qt(C),!d)return!1;c=C}const v=a.has(c);if(g){if(v)return!1;if(a.add(c),g.dependencies){const C="function"==typeof g.dependencies?g.dependencies():g.dependencies;for(const N of C)wc(N,r,s,a)}}else{if(!d)return!1;{if(null!=d.imports&&!v){let N;a.add(c);try{zu(d.imports,U=>{wc(U,r,s,a)&&(N||=[],N.push(U))})}finally{}void 0!==N&&Xh(N,r)}if(!v){const N=Ls(c)||(()=>new c);r({provide:c,useFactory:N,deps:dn},c),r({provide:Kd,useValue:c,multi:!0},c),r({provide:Yc,useValue:()=>hr(c),multi:!0},c)}const C=d.providers;if(null!=C&&!v){const N=t;qd(C,U=>{r(U,N)})}}}return c!==t&&void 0!==t.providers}function qd(t,r){for(let s of t)st(s)&&(s=s.\u0275providers),Array.isArray(s)?qd(s,r):r(s)}const Vp=mt({provide:String,useValue:mt});function Yh(t){return null!==t&&"object"==typeof t&&Vp in t}function Dc(t){return"function"==typeof t}const $p=new Xt("Set Injector scope."),Qd={},$v={};let Zh;function Jh(){return void 0===Zh&&(Zh=new Xl),Zh}class wo{}class Qa extends wo{get destroyed(){return this._destroyed}constructor(r,s,a,c){super(),this.parent=s,this.source=a,this.scopes=c,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Yd(r,g=>this.processProvider(g)),this.records.set(qm,Zc(void 0,this)),c.has("environment")&&this.records.set(wo,Zc(void 0,this));const d=this.records.get($p);null!=d&&"string"==typeof d.value&&this.scopes.add(d.value),this.injectorDefTypes=new Set(this.get(Kd.multi,dn,kt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const s of this._ngOnDestroyHooks)s.ngOnDestroy();const r=this._onDestroyHooks;this._onDestroyHooks=[];for(const s of r)s()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(r){return this.assertNotDestroyed(),this._onDestroyHooks.push(r),()=>this.removeOnDestroy(r)}runInContext(r){this.assertNotDestroyed();const s=Ar(this),a=Jn(void 0);try{return r()}finally{Ar(s),Jn(a)}}get(r,s=G,a=kt.Default){if(this.assertNotDestroyed(),r.hasOwnProperty(xs))return r[xs](this);a=Ke(a);const d=Ar(this),g=Jn(void 0);try{if(!(a&kt.SkipSelf)){let C=this.records.get(r);if(void 0===C){const N=function zv(t){return"function"==typeof t||"object"==typeof t&&t instanceof Xt}(r)&&lr(r);C=N&&this.injectableDefInScope(N)?Zc(Xd(r),Qd):null,this.records.set(r,C)}if(null!=C)return this.hydrate(r,C)}return(a&kt.Self?Jh():this.parent).get(r,s=a&kt.Optional&&s===G?null:s)}catch(v){if("NullInjectorError"===v.name){if((v[$e]=v[$e]||[]).unshift(qt(r)),d)throw v;return function on(t,r,s,a){const c=t[$e];throw r[En]&&c.unshift(r[En]),t.message=function kr(t,r,s,a=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let c=qt(r);if(Array.isArray(r))c=r.map(qt).join(" -> ");else if("object"==typeof r){let d=[];for(let g in r)if(r.hasOwnProperty(g)){let v=r[g];d.push(g+":"+("string"==typeof v?JSON.stringify(v):qt(v)))}c=`{${d.join(", ")}}`}return`${s}${a?"("+a+")":""}[${c}]: ${t.replace(Kt,"\n  ")}`}("\n"+t.message,c,s,a),t.ngTokenPath=c,t[$e]=null,t}(v,r,"R3InjectorError",this.source)}throw v}finally{Jn(g),Ar(d)}}resolveInjectorInitializers(){const r=Ar(this),s=Jn(void 0);try{const c=this.get(Yc.multi,dn,kt.Self);for(const d of c)d()}finally{Ar(r),Jn(s)}}toString(){const r=[],s=this.records;for(const a of s.keys())r.push(qt(a));return`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ye(205,!1)}processProvider(r){let s=Dc(r=Me(r))?r:Me(r&&r.provide);const a=function Zm(t){return Yh(t)?Zc(void 0,t.useValue):Zc(Hp(t),Qd)}(r);if(Dc(r)||!0!==r.multi)this.records.get(s);else{let c=this.records.get(s);c||(c=Zc(void 0,Qd,!0),c.factory=()=>xt(c.multi),this.records.set(s,c)),s=r,c.multi.push(r)}this.records.set(s,a)}hydrate(r,s){return s.value===Qd&&(s.value=$v,s.value=s.factory()),"object"==typeof s.value&&s.value&&function zp(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(s.value)&&this._ngOnDestroyHooks.add(s.value),s.value}injectableDefInScope(r){if(!r.providedIn)return!1;const s=Me(r.providedIn);return"string"==typeof s?"any"===s||this.scopes.has(s):this.injectorDefTypes.has(s)}removeOnDestroy(r){const s=this._onDestroyHooks.indexOf(r);-1!==s&&this._onDestroyHooks.splice(s,1)}}function Xd(t){const r=lr(t),s=null!==r?r.factory:Ls(t);if(null!==s)return s;if(t instanceof Xt)throw new Ye(204,!1);if(t instanceof Function)return function ef(t){const r=t.length;if(r>0)throw ba(r,"?"),new Ye(204,!1);const s=function Gt(t){return t&&(t[rr]||t[Cr])||null}(t);return null!==s?()=>s.factory(t):()=>new t}(t);throw new Ye(204,!1)}function Hp(t,r,s){let a;if(Dc(t)){const c=Me(t);return Ls(c)||Xd(c)}if(Yh(t))a=()=>Me(t.useValue);else if(function Bp(t){return!(!t||!t.useFactory)}(t))a=()=>t.useFactory(...xt(t.deps||[]));else if(function Ym(t){return!(!t||!t.useExisting)}(t))a=()=>hr(Me(t.useExisting));else{const c=Me(t&&(t.useClass||t.provide));if(!function Hv(t){return!!t.deps}(t))return Ls(c)||Xd(c);a=()=>new c(...xt(t.deps))}return a}function Zc(t,r,s=!1){return{factory:t,value:r,multi:s?[]:void 0}}function Yd(t,r){for(const s of t)Array.isArray(s)?Yd(s,r):s&&st(s)?Yd(s.\u0275providers,r):r(s)}const Gp=new Xt("AppId",{providedIn:"root",factory:()=>Jm}),Jm="ng",tf=new Xt("Platform Initializer"),Yl=new Xt("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Kp=new Xt("CSP nonce",{providedIn:"root",factory:()=>function sa(){if(void 0!==Wc)return Wc;if(typeof document<"u")return document;throw new Ye(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let sf=(t,r,s)=>null;function el(t,r,s=!1){return sf(t,r,s)}class Qv{}class lf{}class eg{resolveComponentFactory(r){throw function Xv(t){const r=Error(`No component factory found for ${qt(t)}.`);return r.ngComponent=t,r}(r)}}let tl=(()=>{class t{static{this.NULL=new eg}}return t})();function tg(){return nl(ii(),We())}function nl(t,r){return new Tu(Ki(t,r))}let Tu=(()=>{class t{constructor(s){this.nativeElement=s}static{this.__NG_ELEMENT_ID__=tg}}return t})();function ng(t){return t instanceof Tu?t.nativeElement:t}class ny{}let Yv=(()=>{class t{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>function ry(){const t=We(),s=os(ii().index,t);return(di(s)?s:t)[zt]}()}}return t})(),iy=(()=>{class t{static{this.\u0275prov=_t({token:t,providedIn:"root",factory:()=>null})}}return t})();class sy{constructor(r){this.full=r,this.major=r.split(".")[0],this.minor=r.split(".")[1],this.patch=r.split(".").slice(2).join(".")}}const hf=new sy("16.2.12"),rg={};function gf(t,r=null,s=null,a){const c=il(t,r,s,a);return c.resolveInjectorInitializers(),c}function il(t,r=null,s=null,a,c=new Set){const d=[s||dn,Xm(t)];return a=a||("object"==typeof t?void 0:qt(t)),new Qa(d,r||Jh(),a||null,c)}let ro=(()=>{class t{static{this.THROW_IF_NOT_FOUND=G}static{this.NULL=new Xl}static create(s,a){if(Array.isArray(s))return gf({name:""},a,s,"");{const c=s.name??"";return gf({name:c},s.parent,s.providers,c)}}static{this.\u0275prov=_t({token:t,providedIn:"any",factory:()=>hr(qm)})}static{this.__NG_ELEMENT_ID__=-1}}return t})();function lg(t){return t.ngOriginalError}class Tc{constructor(){this._console=console}handleError(r){const s=this._findOriginalError(r);this._console.error("ERROR",r),s&&this._console.error("ORIGINAL ERROR",s)}_findOriginalError(r){let s=r&&lg(r);for(;s&&lg(s);)s=lg(s);return s||null}}function pg(t){return r=>{setTimeout(t,void 0,r)}}const Cu=class fg extends S.B{constructor(r=!1){super(),this.__isAsync=r}emit(r){super.next(r)}subscribe(r,s,a){let c=r,d=s||(()=>null),g=a;if(r&&"object"==typeof r){const C=r;c=C.next?.bind(C),d=C.error?.bind(C),g=C.complete?.bind(C)}this.__isAsync&&(d=pg(d),c&&(c=pg(c)),g&&(g=pg(g)));const v=super.subscribe({next:c,error:d,complete:g});return r instanceof ne.yU&&r.add(v),v}};function mf(...t){}class ls{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:a=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Cu(!1),this.onMicrotaskEmpty=new Cu(!1),this.onStable=new Cu(!1),this.onError=new Cu(!1),typeof Zone>"u")throw new Ye(908,!1);Zone.assertZonePatched();const c=this;c._nesting=0,c._outer=c._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(c._inner=c._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(c._inner=c._inner.fork(Zone.longStackTraceZoneSpec)),c.shouldCoalesceEventChangeDetection=!a&&s,c.shouldCoalesceRunChangeDetection=a,c.lastRequestAnimationFrameId=-1,c.nativeRequestAnimationFrame=function gg(){const t="function"==typeof pn.requestAnimationFrame;let r=pn[t?"requestAnimationFrame":"setTimeout"],s=pn[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&r&&s){const a=r[Zone.__symbol__("OriginalDelegate")];a&&(r=a);const c=s[Zone.__symbol__("OriginalDelegate")];c&&(s=c)}return{nativeRequestAnimationFrame:r,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function uy(t){const r=()=>{!function ay(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(pn,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,vf(t),t.isCheckStableRunning=!0,yf(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),vf(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,a,c,d,g,v)=>{if(function mg(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(v))return s.invokeTask(c,d,g,v);try{return cy(t),s.invokeTask(c,d,g,v)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===d.type||t.shouldCoalesceRunChangeDetection)&&r(),ly(t)}},onInvoke:(s,a,c,d,g,v,C)=>{try{return cy(t),s.invoke(c,d,g,v,C)}finally{t.shouldCoalesceRunChangeDetection&&r(),ly(t)}},onHasTask:(s,a,c,d)=>{s.hasTask(c,d),a===c&&("microTask"==d.change?(t._hasPendingMicrotasks=d.microTask,vf(t),yf(t)):"macroTask"==d.change&&(t.hasPendingMacrotasks=d.macroTask))},onHandleError:(s,a,c,d)=>(s.handleError(c,d),t.runOutsideAngular(()=>t.onError.emit(d)),!1)})}(c)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ls.isInAngularZone())throw new Ye(909,!1)}static assertNotInAngularZone(){if(ls.isInAngularZone())throw new Ye(909,!1)}run(r,s,a){return this._inner.run(r,s,a)}runTask(r,s,a,c){const d=this._inner,g=d.scheduleEventTask("NgZoneEvent: "+c,r,Jv,mf,mf);try{return d.runTask(g,s,a)}finally{d.cancelTask(g)}}runGuarded(r,s,a){return this._inner.runGuarded(r,s,a)}runOutsideAngular(r){return this._outer.run(r)}}const Jv={};function yf(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function vf(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function cy(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function ly(t){t._nesting--,yf(t)}class e_{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Cu,this.onMicrotaskEmpty=new Cu,this.onStable=new Cu,this.onError=new Cu}run(r,s,a){return r.apply(s,a)}runGuarded(r,s,a){return r.apply(s,a)}runOutsideAngular(r){return r()}runTask(r,s,a,c){return r.apply(s,a)}}const dy=new Xt("",{providedIn:"root",factory:_f});function _f(){const t=he(ls);let r=!0;const s=new se.c(c=>{r=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{c.next(r),c.complete()})}),a=new se.c(c=>{let d;t.runOutsideAngular(()=>{d=t.onStable.subscribe(()=>{ls.assertNotInAngularZone(),queueMicrotask(()=>{!r&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(r=!0,c.next(!0))})})});const g=t.onUnstable.subscribe(()=>{ls.assertInAngularZone(),r&&(r=!1,t.runOutsideAngular(()=>{c.next(!1)}))});return()=>{d.unsubscribe(),g.unsubscribe()}});return(0,ge.h)(s,a.pipe(te()))}function Xa(t){return t instanceof Function?t():t}let _g=(()=>{class t{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static{this.\u0275prov=_t({token:t,providedIn:"root",factory:()=>new t})}}return t})();function ol(t){for(;t;){t[nn]|=64;const r=qu(t);if(rs(t)&&!r)return t;t=r}return null}const py=new Xt("",{providedIn:"root",factory:()=>!1});let Cf=null;function _y(t,r){return t[r]??Iy()}function bf(t,r){const s=Iy();s.producerNode?.length&&(t[r]=Cf,s.lView=t,Cf=Af())}const r_={...qs,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{ol(t.lView)},lView:null};function Af(){return Object.create(r_)}function Iy(){return Cf??=Af(),Cf}const yn={};function Ey(t){Sf(An(),We(),Er()+t,!1)}function Sf(t,r,s,a){if(!a)if(3==(3&r[nn])){const d=t.preOrderCheckHooks;null!==d&&du(r,d,s)}else{const d=t.preOrderHooks;null!==d&&wa(r,d,0,s)}Bi(s)}function al(t,r=kt.Default){const s=We();return null===s?hr(t,r):ta(ii(),s,Me(t),r)}function Mf(){throw new Error("invalid")}function xf(t,r,s,a,c,d,g,v,C,N,U){const X=r.blueprint.slice();return X[Ir]=c,X[nn]=140|a,(null!==N||t&&2048&t[nn])&&(X[nn]|=2048),Br(X),X[Wn]=X[li]=t,X[gr]=s,X[Gs]=g||t&&t[Gs],X[zt]=v||t&&t[zt],X[Ji]=C||t&&t[Ji]||null,X[Mr]=d,X[ao]=function h(){return I++}(),X[Ps]=U,X[Go]=N,X[xr]=2==r.type?t[xr]:X,X}function od(t,r,s,a,c){let d=t.data[r];if(null===d)d=function ah(t,r,s,a,c){const d=Fu(),g=De(),C=t.data[r]=function o_(t,r,s,a,c,d){let g=r?r.injectorIndex:-1,v=0;return Ys()&&(v|=128),{type:s,index:a,insertBeforeIndex:null,injectorIndex:g,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:v,providerIndexes:0,value:c,attrs:d,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,g?d:d&&d.parent,s,r,a,c);return null===t.firstChild&&(t.firstChild=C),null!==d&&(g?null==d.child&&null!==C.parent&&(d.child=C):null===d.next&&(d.next=C,C.prev=d)),C}(t,r,s,a,c),function oc(){return Qe.lFrame.inI18n}()&&(d.flags|=32);else if(64&d.type){d.type=s,d.value=a,d.attrs=c;const g=function qi(){const t=Qe.lFrame,r=t.currentTNode;return t.isParent?r:r.parent}();d.injectorIndex=null===g?-1:g.injectorIndex}return us(d,!0),d}function uh(t,r,s,a){if(0===s)return-1;const c=r.length;for(let d=0;d<s;d++)r.push(a),t.blueprint.push(a),t.data.push(null);return c}function Rf(t,r,s,a,c){const d=_y(r,uo),g=Er(),v=2&a;try{Bi(-1),v&&r.length>fn&&Sf(t,r,fn,!1),Tt(v?2:0,c);const N=v?d:null,U=yi(N);try{null!==N&&(N.dirty=!1),s(a,c)}finally{Qs(N,U)}}finally{v&&null===r[uo]&&bf(r,uo),Bi(g),Tt(v?3:1,c)}}function ch(t,r,s){if(co(r)){const a=Kn(null);try{const d=r.directiveEnd;for(let g=r.directiveStart;g<d;g++){const v=t.data[g];v.contentQueries&&v.contentQueries(1,s[g],g)}}finally{Kn(a)}}}function lh(t,r,s){No()&&(function Sy(t,r,s,a){const c=s.directiveStart,d=s.directiveEnd;xi(s)&&function l_(t,r,s){const a=Ki(r,t),c=ul(s);let g=16;s.signals?g=4096:s.onPush&&(g=64);const v=ld(t,xf(t,c,null,g,a,r,null,t[Gs].rendererFactory.createRenderer(a,s),null,null,null));t[r.index]=v}(r,s,t.data[c+s.componentOffset]),t.firstCreatePass||Bs(s,r),Vt(a,r);const g=s.initialInputs;for(let v=c;v<d;v++){const C=t.data[v],N=Ta(r,t,v,s);Vt(N,r),null!==g&&d_(0,v-c,N,C,0,g),Ui(C)&&(os(s.index,r)[gr]=Ta(r,t,v,s))}}(t,r,s,Ki(s,r)),64==(64&s.flags)&&kf(t,r,s))}function Tg(t,r,s=Ki){const a=r.localNames;if(null!==a){let c=r.index+1;for(let d=0;d<a.length;d+=2){const g=a[d+1],v=-1===g?s(r,t):t[g];t[c++]=v}}}function ul(t){const r=t.tView;return null===r||r.incompleteFirstPass?t.tView=Cg(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):r}function Cg(t,r,s,a,c,d,g,v,C,N,U){const X=fn+a,ce=X+c,me=function bg(t,r){const s=[];for(let a=0;a<r;a++)s.push(a<t?null:yn);return s}(X,ce),Be="function"==typeof N?N():N;return me[vt]={type:t,blueprint:me,template:s,queries:null,viewQuery:v,declTNode:r,data:me.slice().fill(null,X),bindingStartIndex:X,expandoStartIndex:ce,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof d?d():d,pipeRegistry:"function"==typeof g?g():g,firstChild:null,schemas:C,consts:Be,incompleteFirstPass:!1,ssrId:U}}let Ag=t=>null;function Ty(t,r,s,a){for(let c in t)if(t.hasOwnProperty(c)){s=null===s?{}:s;const d=t[c];null===a?dh(s,r,c,d):a.hasOwnProperty(c)&&dh(s,r,a[c],d)}return s}function dh(t,r,s,a){t.hasOwnProperty(s)?t[s].push(r,a):t[s]=[r,a]}function Do(t,r,s,a,c,d,g,v){const C=Ki(r,s);let U,N=r.inputs;!v&&null!=N&&(U=N[a])?(Lf(t,s,U,a,c),xi(r)&&function Cy(t,r){const s=os(r,t);16&s[nn]||(s[nn]|=64)}(s,r.index)):3&r.type&&(a=function Mg(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(a),c=null!=g?g(c,r.value||"",a):c,d.setProperty(C,a,c))}function ud(t,r,s,a){if(No()){const c=null===a?null:{"":-1},d=function cd(t,r){const s=t.directiveRegistry;let a=null,c=null;if(s)for(let d=0;d<s.length;d++){const g=s[d];if(zr(r,g.selectors,!1))if(a||(a=[]),Ui(g))if(null!==g.findHostDirectiveDefs){const v=[];c=c||new Map,g.findHostDirectiveDefs(g,v,c),a.unshift(...v,g),hh(t,r,v.length)}else a.unshift(g),hh(t,r,0);else c=c||new Map,g.findHostDirectiveDefs?.(g,a,c),a.push(g)}return null===a?null:[a,c]}(t,s);let g,v;null===d?g=v=null:[g,v]=d,null!==g&&Of(t,r,s,g,c,v),c&&function a_(t,r,s){if(r){const a=t.localNames=[];for(let c=0;c<r.length;c+=2){const d=s[r[c+1]];if(null==d)throw new Ye(-301,!1);a.push(r[c],d)}}}(s,a,c)}s.mergedAttrs=ue(s.mergedAttrs,s.attrs)}function Of(t,r,s,a,c,d){for(let N=0;N<a.length;N++)kc(Bs(s,r),t,a[N].type);!function c_(t,r,s){t.flags|=1,t.directiveStart=r,t.directiveEnd=r+s,t.providerIndexes=r}(s,t.data.length,a.length);for(let N=0;N<a.length;N++){const U=a[N];U.providersResolver&&U.providersResolver(U)}let g=!1,v=!1,C=uh(t,r,a.length,null);for(let N=0;N<a.length;N++){const U=a[N];s.mergedAttrs=ue(s.mergedAttrs,U.hostAttrs),xy(t,s,r,C,U),u_(C,U,c),null!==U.contentQueries&&(s.flags|=4),(null!==U.hostBindings||null!==U.hostAttrs||0!==U.hostVars)&&(s.flags|=64);const X=U.type.prototype;!g&&(X.ngOnChanges||X.ngOnInit||X.ngDoCheck)&&((t.preOrderHooks??=[]).push(s.index),g=!0),!v&&(X.ngOnChanges||X.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(s.index),v=!0),C++}!function Sg(t,r,s){const c=r.directiveEnd,d=t.data,g=r.attrs,v=[];let C=null,N=null;for(let U=r.directiveStart;U<c;U++){const X=d[U],ce=s?s.get(X):null,Be=ce?ce.outputs:null;C=Ty(X.inputs,U,C,ce?ce.inputs:null),N=Ty(X.outputs,U,N,Be);const nt=null===C||null===g||Rt(r)?null:h_(C,U,g);v.push(nt)}null!==C&&(C.hasOwnProperty("class")&&(r.flags|=8),C.hasOwnProperty("style")&&(r.flags|=16)),r.initialInputs=v,r.inputs=C,r.outputs=N}(t,s,d)}function kf(t,r,s){const a=s.directiveStart,c=s.directiveEnd,d=s.index,g=function D(){return Qe.lFrame.currentDirectiveIndex}();try{Bi(d);for(let v=a;v<c;v++){const C=t.data[v],N=r[v];m(v),(null!==C.hostBindings||0!==C.hostVars||null!==C.hostAttrs)&&My(C,N)}}finally{Bi(-1),m(g)}}function My(t,r){null!==t.hostBindings&&t.hostBindings(1,r)}function hh(t,r,s){r.componentOffset=s,(t.components??=[]).push(r.index)}function u_(t,r,s){if(s){if(r.exportAs)for(let a=0;a<r.exportAs.length;a++)s[r.exportAs[a]]=t;Ui(r)&&(s[""]=t)}}function xy(t,r,s,a,c){t.data[a]=c;const d=c.factory||(c.factory=Ls(c.type)),g=new nr(d,Ui(c),al);t.blueprint[a]=g,s[a]=g,function Ay(t,r,s,a,c){const d=c.hostBindings;if(d){let g=t.hostBindingOpCodes;null===g&&(g=t.hostBindingOpCodes=[]);const v=~r.index;(function Pf(t){let r=t.length;for(;r>0;){const s=t[--r];if("number"==typeof s&&s<0)return s}return 0})(g)!=v&&g.push(v),g.push(s,a,d)}}(t,r,a,uh(t,s,c.hostVars,yn),c)}function Ya(t,r,s,a,c,d){const g=Ki(t,r);!function Rg(t,r,s,a,c,d,g){if(null==d)t.removeAttribute(r,c,s);else{const v=null==g?Dt(d):g(d,a||"",c);t.setAttribute(r,c,v,s)}}(r[zt],g,d,t.value,s,a,c)}function d_(t,r,s,a,c,d){const g=d[r];if(null!==g)for(let v=0;v<g.length;)Ry(a,s,g[v++],g[v++],g[v++])}function Ry(t,r,s,a,c){const d=Kn(null);try{const g=t.inputTransforms;null!==g&&g.hasOwnProperty(a)&&(c=g[a].call(r,c)),null!==t.setInput?t.setInput(r,c,s,a):r[a]=c}finally{Kn(d)}}function h_(t,r,s){let a=null,c=0;for(;c<s.length;){const d=s[c];if(0!==d)if(5!==d){if("number"==typeof d)break;if(t.hasOwnProperty(d)){null===a&&(a=[]);const g=t[d];for(let v=0;v<g.length;v+=2)if(g[v]===r){a.push(d,g[v+1],s[c+1]);break}}c+=2}else c+=2;else c+=4}return a}function Ng(t,r,s,a){return[t,!0,!1,r,null,0,a,s,null,null,null]}function Og(t,r){const s=t.contentQueries;if(null!==s)for(let a=0;a<s.length;a+=2){const d=s[a+1];if(-1!==d){const g=t.data[d];V(s[a]),g.contentQueries(2,r[d],d)}}}function ld(t,r){return t[vs]?t[ru][Gr]=r:t[vs]=r,t[ru]=r,r}function Pg(t,r,s){V(0);const a=Kn(null);try{r(t,s)}finally{Kn(a)}}function kg(t){return t[gi]||(t[gi]=[])}function fh(t){return t.cleanup||(t.cleanup=[])}function Lg(t,r){const s=t[Ji],a=s?s.get(Tc,null):null;a&&a.handleError(r)}function Lf(t,r,s,a,c){for(let d=0;d<s.length;){const g=s[d++],v=s[d++];Ry(t.data[g],r[g],a,v,c)}}function oa(t,r,s){const a=Nn(r,t);!function Gl(t,r,s){t.setValue(r,s)}(t[zt],a,s)}function p_(t,r){const s=os(r,t),a=s[vt];!function ji(t,r){for(let s=r.length;s<t.blueprint.length;s++)r.push(t.blueprint[s])}(a,s);const c=s[Ir];null!==c&&null===s[Ps]&&(s[Ps]=el(c,s[Ji])),ds(a,s,s[gr])}function ds(t,r,s){_e(r);try{const a=t.viewQuery;null!==a&&Pg(1,a,s);const c=t.template;null!==c&&Rf(t,r,c,1,s),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Og(t,r),t.staticViewQueries&&Pg(2,t.viewQuery,s);const d=t.components;null!==d&&function bu(t,r){for(let s=0;s<r.length;s++)p_(t,r[s])}(r,d)}catch(a){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),a}finally{r[nn]&=-5,hi()}}let Ny=(()=>{class t{constructor(){this.all=new Set,this.queue=new Map}create(s,a,c){const d=typeof Zone>"u"?null:Zone.current,g=function tr(t,r,s){const a=Object.create(vi);s&&(a.consumerAllowSignalWrites=!0),a.fn=t,a.schedule=r;const c=g=>{a.cleanupFn=g};return a.ref={notify:()=>xo(a),run:()=>{if(a.dirty=!1,a.hasRun&&!Dn(a))return;a.hasRun=!0;const g=yi(a);try{a.cleanupFn(),a.cleanupFn=ri,a.fn(c)}finally{Qs(a,g)}},cleanup:()=>a.cleanupFn()},a.ref}(s,N=>{this.all.has(N)&&this.queue.set(N,d)},c);let v;this.all.add(g),g.notify();const C=()=>{g.cleanup(),v?.(),this.all.delete(g),this.queue.delete(g)};return v=a?.onDestroy(C),{destroy:C}}flush(){if(0!==this.queue.size)for(const[s,a]of this.queue)this.queue.delete(s),a?a.run(()=>s.run()):s.run()}get isQueueEmpty(){return 0===this.queue.size}static{this.\u0275prov=_t({token:t,providedIn:"root",factory:()=>new t})}}return t})();function ph(t,r,s){let a=s?t.styles:null,c=s?t.classes:null,d=0;if(null!==r)for(let g=0;g<r.length;g++){const v=r[g];"number"==typeof v?d=v:1==d?c=On(c,v):2==d&&(a=On(a,v+": "+r[++g]+";"))}s?t.styles=a:t.stylesWithoutHost=a,s?t.classes=c:t.classesWithoutHost=c}function Ff(t,r,s,a,c=!1){for(;null!==s;){const d=r[s.index];null!==d&&a.push(ye(d)),mi(d)&&Fg(d,a);const g=s.type;if(8&g)Ff(t,r,s.child,a);else if(32&g){const v=Hl(s,r);let C;for(;C=v();)a.push(C)}else if(16&g){const v=vc(r,s);if(Array.isArray(v))a.push(...v);else{const C=qu(r[xr]);Ff(C[vt],C,v,a,!0)}}s=c?s.projectionNext:s.next}return a}function Fg(t,r){for(let s=wr;s<t.length;s++){const a=t[s],c=a[vt].firstChild;null!==c&&Ff(a[vt],a,c,r)}t[ts]!==t[Ir]&&r.push(t[ts])}function Uf(t,r,s,a=!0){const c=r[Gs],d=c.rendererFactory,g=c.afterRenderEventManager;d.begin?.(),g?.begin();try{m_(t,r,t.template,s)}catch(C){throw a&&Lg(r,C),C}finally{d.end?.(),c.effectManager?.flush(),g?.end()}}function m_(t,r,s,a){const c=r[nn];if(256!=(256&c)){r[Gs].effectManager?.flush(),_e(r);try{Br(r),function Jo(t){return Qe.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==s&&Rf(t,r,s,2,a);const g=3==(3&c);if(g){const N=t.preOrderCheckHooks;null!==N&&du(r,N,null)}else{const N=t.preOrderHooks;null!==N&&wa(r,N,0,null),ac(r,0)}if(function s0(t){for(let r=wp(t);null!==r;r=_m(r)){if(!r[Co])continue;const s=r[Hn];for(let a=0;a<s.length;a++){ja(s[a])}}}(r),oi(r,2),null!==t.contentQueries&&Og(t,r),g){const N=t.contentCheckHooks;null!==N&&du(r,N)}else{const N=t.contentHooks;null!==N&&wa(r,N,1),ac(r,1)}!function wy(t,r){const s=t.hostBindingOpCodes;if(null===s)return;const a=_y(r,Wo);try{for(let c=0;c<s.length;c++){const d=s[c];if(d<0)Bi(~d);else{const g=d,v=s[++c],C=s[++c];y(v,g),a.dirty=!1;const N=yi(a);try{C(2,r[g])}finally{Qs(a,N)}}}}finally{null===r[Wo]&&bf(r,Wo),Bi(-1)}}(t,r);const v=t.components;null!==v&&Ug(r,v,0);const C=t.viewQuery;if(null!==C&&Pg(2,C,a),g){const N=t.viewCheckHooks;null!==N&&du(r,N)}else{const N=t.viewHooks;null!==N&&wa(r,N,2),ac(r,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),r[nn]&=-73,Ot(r)}finally{hi()}}}function oi(t,r){for(let s=wp(t);null!==s;s=_m(s))for(let a=wr;a<s.length;a++)$i(s[a],r)}function y_(t,r,s){$i(os(r,t),s)}function $i(t,r){if(!function Rc(t){return 128==(128&t[nn])}(t))return;const s=t[vt],a=t[nn];if(80&a&&0===r||1024&a||2===r)m_(s,t,s.template,t[gr]);else if(t[To]>0){oi(t,1);const c=s.components;null!==c&&Ug(t,c,1)}}function Ug(t,r,s){for(let a=0;a<r.length;a++)y_(t,r[a],s)}class Vf{get rootNodes(){const r=this._lView,s=r[vt];return Ff(s,r,s.firstChild,[])}constructor(r,s){this._lView=r,this._cdRefInjectingView=s,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[gr]}set context(r){this._lView[gr]=r}get destroyed(){return 256==(256&this._lView[nn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[Wn];if(mi(r)){const s=r[8],a=s?s.indexOf(this):-1;a>-1&&(gc(r,a),ra(s,a))}this._attachedToViewContainer=!1}Bd(this._lView[vt],this._lView)}onDestroy(r){!function vr(t,r){if(256==(256&t[nn]))throw new Ye(911,!1);null===t[Jr]&&(t[Jr]=[]),t[Jr].push(r)}(this._lView,r)}markForCheck(){ol(this._cdRefInjectingView||this._lView)}detach(){this._lView[nn]&=-129}reattach(){this._lView[nn]|=128}detectChanges(){Uf(this._lView[vt],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ye(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Em(t,r){Gc(t,r,r[zt],2,null,null)}(this._lView[vt],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new Ye(902,!1);this._appRef=r}}class o0 extends Vf{constructor(r){super(r),this._view=r}detectChanges(){const r=this._view;Uf(r[vt],r,r[gr],!1)}checkNoChanges(){}get context(){return null}}class Vg extends tl{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const s=Cn(r);return new Bf(s,this.ngModule)}}function v_(t){const r=[];for(let s in t)t.hasOwnProperty(s)&&r.push({propName:t[s],templateName:s});return r}class u0{constructor(r,s){this.injector=r,this.parentInjector=s}get(r,s,a){a=Ke(a);const c=this.injector.get(r,rg,a);return c!==rg||s===rg?c:this.parentInjector.get(r,s,a)}}class Bf extends lf{get inputs(){const r=this.componentDef,s=r.inputTransforms,a=v_(r.inputs);if(null!==s)for(const c of a)s.hasOwnProperty(c.propName)&&(c.transform=s[c.propName]);return a}get outputs(){return v_(this.componentDef.outputs)}constructor(r,s){super(),this.componentDef=r,this.ngModule=s,this.componentType=r.type,this.selector=function Fa(t){return t.map(Ho).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!s}create(r,s,a,c){let d=(c=c||this.ngModule)instanceof wo?c:c?.injector;d&&null!==this.componentDef.getStandaloneInjector&&(d=this.componentDef.getStandaloneInjector(d)||d);const g=d?new u0(r,d):r,v=g.get(ny,null);if(null===v)throw new Ye(407,!1);const X={rendererFactory:v,sanitizer:g.get(iy,null),effectManager:g.get(Ny,null),afterRenderEventManager:g.get(_g,null)},ce=v.createRenderer(null,this.componentDef),me=this.componentDef.selectors[0][0]||"div",Be=a?function Dy(t,r,s,a){const d=a.get(py,!1)||s===ui.ShadowDom,g=t.selectRootElement(r,d);return function ad(t){Ag(t)}(g),g}(ce,a,this.componentDef.encapsulation,g):Wl(ce,me,function a0(t){const r=t.toLowerCase();return"svg"===r?"svg":"math"===r?"math":null}(me)),$t=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let qe=null;null!==Be&&(qe=el(Be,g,!0));const vn=Cg(0,null,null,1,0,null,null,null,null,null,null),Gn=xf(null,vn,null,$t,null,null,X,ce,g,null,qe);let Yr,La;_e(Gn);try{const vl=this.componentDef;let up,KI=null;vl.findHostDirectiveDefs?(up=[],KI=new Map,vl.findHostDirectiveDefs(vl,up,KI),up.push(vl)):up=[vl];const Jb=function l0(t,r){const s=t[vt],a=fn;return t[a]=r,od(s,a,2,"#host",null)}(Gn,Be),eA=function d0(t,r,s,a,c,d,g){const v=c[vt];!function Py(t,r,s,a){for(const c of t)r.mergedAttrs=ue(r.mergedAttrs,c.hostAttrs);null!==r.mergedAttrs&&(ph(r,r.mergedAttrs,!0),null!==s&&$d(a,s,r))}(a,t,r,g);let C=null;null!==r&&(C=el(r,c[Ji]));const N=d.rendererFactory.createRenderer(r,s);let U=16;s.signals?U=4096:s.onPush&&(U=64);const X=xf(c,ul(s),null,U,c[t.index],t,d,N,null,null,C);return v.firstCreatePass&&hh(v,t,a.length-1),ld(c,X),c[t.index]=X}(Jb,Be,vl,up,Gn,X,ce);La=Yo(vn,fn),Be&&function __(t,r,s,a){if(a)gs(t,s,["ng-version",hf.full]);else{const{attrs:c,classes:d}=function ms(t){const r=[],s=[];let a=1,c=2;for(;a<t.length;){let d=t[a];if("string"==typeof d)2===c?""!==d&&r.push(d,t[++a]):8===c&&s.push(d);else{if(!Zt(c))break;c=d}a++}return{attrs:r,classes:s}}(r.selectors[0]);c&&gs(t,s,c),d&&d.length>0&&Sp(t,s,d.join(" "))}}(ce,vl,Be,a),void 0!==s&&function cl(t,r,s){const a=t.projection=[];for(let c=0;c<r.length;c++){const d=s[c];a.push(null!=d?Array.from(d):null)}}(La,this.ngContentSelectors,s),Yr=function gh(t,r,s,a,c,d){const g=ii(),v=c[vt],C=Ki(g,c);Of(v,c,g,s,null,a);for(let U=0;U<s.length;U++)Vt(Ta(c,v,g.directiveStart+U,g),c);kf(v,c,g),C&&Vt(C,c);const N=Ta(c,v,g.directiveStart+g.componentOffset,g);if(t[gr]=c[gr]=N,null!==d)for(const U of d)U(N,r);return ch(v,g,t),N}(eA,vl,up,KI,Gn,[ll]),ds(vn,Gn,null)}finally{hi()}return new c0(this.componentType,Yr,nl(La,Gn),Gn,La)}}class c0 extends Qv{constructor(r,s,a,c,d){super(),this.location=a,this._rootLView=c,this._tNode=d,this.previousInputValues=null,this.instance=s,this.hostView=this.changeDetectorRef=new o0(c),this.componentType=r}setInput(r,s){const a=this._tNode.inputs;let c;if(null!==a&&(c=a[r])){if(this.previousInputValues??=new Map,this.previousInputValues.has(r)&&Object.is(this.previousInputValues.get(r),s))return;const d=this._rootLView;Lf(d[vt],d,c,r,s),this.previousInputValues.set(r,s),ol(os(this._tNode.index,d))}}get injector(){return new Yi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}function ll(){const t=ii();Pc(We()[vt],t)}function bc(t){let r=function I_(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),s=!0;const a=[t];for(;r;){let c;if(Ui(t))c=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new Ye(903,!1);c=r.\u0275dir}if(c){if(s){a.push(c);const g=t;g.inputs=jf(t.inputs),g.inputTransforms=jf(t.inputTransforms),g.declaredInputs=jf(t.declaredInputs),g.outputs=jf(t.outputs);const v=c.hostBindings;v&&Ly(t,v);const C=c.viewQuery,N=c.contentQueries;if(C&&E_(t,C),N&&ky(t,N),Bt(t.inputs,c.inputs),Bt(t.declaredInputs,c.declaredInputs),Bt(t.outputs,c.outputs),null!==c.inputTransforms&&(null===g.inputTransforms&&(g.inputTransforms={}),Bt(g.inputTransforms,c.inputTransforms)),Ui(c)&&c.data.animation){const U=t.data;U.animation=(U.animation||[]).concat(c.data.animation)}}const d=c.features;if(d)for(let g=0;g<d.length;g++){const v=d[g];v&&v.ngInherit&&v(t),v===bc&&(s=!1)}}r=Object.getPrototypeOf(r)}!function Bg(t){let r=0,s=null;for(let a=t.length-1;a>=0;a--){const c=t[a];c.hostVars=r+=c.hostVars,c.hostAttrs=ue(c.hostAttrs,s=ue(s,c.hostAttrs))}}(a)}function jf(t){return t===Fr?{}:t===dn?[]:t}function E_(t,r){const s=t.viewQuery;t.viewQuery=s?(a,c)=>{r(a,c),s(a,c)}:r}function ky(t,r){const s=t.contentQueries;t.contentQueries=s?(a,c,d)=>{r(a,c,d),s(a,c,d)}:r}function Ly(t,r){const s=t.hostBindings;t.hostBindings=s?(a,c)=>{r(a,c),s(a,c)}:r}function Uy(t){const r=t.inputConfig,s={};for(const a in r)if(r.hasOwnProperty(a)){const c=r[a];Array.isArray(c)&&c[2]&&(s[a]=c[2])}t.inputTransforms=s}function hd(t){return!!zf(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function zf(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Oa(t,r,s){return t[r]=s}function io(t,r,s){return!Object.is(t[r],s)&&(t[r]=s,!0)}function Au(t,r,s,a){const c=io(t,r,s);return io(t,r+1,a)||c}function fl(t,r,s,a,c){const d=Au(t,r,s,a);return io(t,r+2,c)||d}function pl(t,r,s,a){const c=We();return io(c,Po(),r)&&(An(),Ya(Rr(),c,t,r,s,a)),pl}function ec(t,r,s,a){return io(t,Po(),s)?r+Dt(s)+a:yn}function k_(t,r,s,a,c,d,g,v){const C=We(),N=An(),U=t+fn,X=N.firstCreatePass?function v0(t,r,s,a,c,d,g,v,C){const N=r.consts,U=od(r,t,4,g||null,Zo(N,v));ud(r,s,U,Zo(N,C)),Pc(r,U);const X=U.tView=Cg(2,U,a,c,d,r.directiveRegistry,r.pipeRegistry,null,r.schemas,N,null);return null!==r.queries&&(r.queries.template(r,U),X.queries=r.queries.embeddedTView(U)),U}(U,N,C,r,s,a,c,d,g):N.data[U];us(X,!1);const ce=vd(N,C,X,t);lu()&&jd(N,C,ce,X),Vt(ce,C),ld(C,C[U]=Ng(ce,C,ce,X)),lo(X)&&lh(N,C,X),null!=g&&Tg(C,X,v)}let vd=function Yf(t,r,s,a){return Ea(!0),r[zt].createComment("")};function Yy(t){return function uu(t,r){return t[r]}(function Qi(){return Qe.lFrame.contextLView}(),fn+t)}function Wg(t,r,s){const a=We();return io(a,Po(),r)&&Do(An(),Rr(),a,t,r,a[zt],s,!1),Wg}function Kg(t,r,s,a,c){const g=c?"class":"style";Lf(t,s,r.inputs[g],g,a)}function qg(t,r,s,a){const c=We(),d=An(),g=fn+t,v=c[zt],C=d.firstCreatePass?function I0(t,r,s,a,c,d){const g=r.consts,C=od(r,t,2,a,Zo(g,c));return ud(r,s,C,Zo(g,d)),null!==C.attrs&&ph(C,C.attrs,!1),null!==C.mergedAttrs&&ph(C,C.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,C),C}(g,d,c,r,s,a):d.data[g],N=Jy(d,c,C,v,r,t);c[g]=N;const U=lo(C);return us(C,!0),$d(v,N,C),32!=(32&C.flags)&&lu()&&jd(d,c,N,C),0===function $a(){return Qe.lFrame.elementDepthCount}()&&Vt(N,c),function $r(){Qe.lFrame.elementDepthCount++}(),U&&(lh(d,c,C),ch(d,C,c)),null!==a&&Tg(c,C),qg}function Qg(){let t=ii();De()?Ia():(t=t.parent,us(t,!1));const r=t;(function Oo(t){return Qe.skipHydrationRootTNode===t})(r)&&function _a(){Qe.skipHydrationRootTNode=null}(),function dt(){Qe.lFrame.elementDepthCount--}();const s=An();return s.firstCreatePass&&(Pc(s,t),co(t)&&s.queries.elementEnd(t)),null!=r.classesWithoutHost&&function Wa(t){return 0!=(8&t.flags)}(r)&&Kg(s,r,We(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function Vs(t){return 0!=(16&t.flags)}(r)&&Kg(s,r,We(),r.stylesWithoutHost,!1),Qg}function Zy(t,r,s,a){return qg(t,r,s,a),Qg(),Zy}let Jy=(t,r,s,a,c,d)=>(Ea(!0),Wl(a,c,function wd(){return Qe.lFrame.currentNamespace}()));function Zf(t,r,s){const a=We(),c=An(),d=t+fn,g=c.firstCreatePass?function E0(t,r,s,a,c){const d=r.consts,g=Zo(d,a),v=od(r,t,8,"ng-container",g);return null!==g&&ph(v,g,!0),ud(r,s,v,Zo(d,c)),null!==r.queries&&r.queries.elementStart(r,v),v}(d,c,a,r,s):c.data[d];us(g,!0);const v=ev(c,a,g,t);return a[d]=v,lu()&&jd(c,a,v,g),Vt(v,a),lo(g)&&(lh(c,a,g),ch(c,g,a)),null!=s&&Tg(a,g),Zf}function Jf(){let t=ii();const r=An();return De()?Ia():(t=t.parent,us(t,!1)),r.firstCreatePass&&(Pc(r,t),co(t)&&r.queries.elementEnd(t)),Jf}function Ru(t,r,s){return Zf(t,r,s),Jf(),Ru}let ev=(t,r,s,a)=>(Ea(!0),Ra(r[zt],""));function B_(){return We()}function tv(t){return!!t&&"function"==typeof t.then}function j_(t){return!!t&&"function"==typeof t.subscribe}function nv(t,r,s,a){const c=We(),d=An(),g=ii();return function Xg(t,r,s,a,c,d,g){const v=lo(a),N=t.firstCreatePass&&fh(t),U=r[gr],X=kg(r);let ce=!0;if(3&a.type||g){const nt=Ki(a,r),Ct=g?g(nt):nt,$t=X.length,qe=g?Gn=>g(ye(Gn[a.index])):a.index;let vn=null;if(!g&&v&&(vn=function T0(t,r,s,a){const c=t.cleanup;if(null!=c)for(let d=0;d<c.length-1;d+=2){const g=c[d];if(g===s&&c[d+1]===a){const v=r[gi],C=c[d+2];return v.length>C?v[C]:null}"string"==typeof g&&(d+=2)}return null}(t,r,c,a.index)),null!==vn)(vn.__ngLastListenerFn__||vn).__ngNextListenerFn__=d,vn.__ngLastListenerFn__=d,ce=!1;else{d=Yg(a,r,U,d,!1);const Gn=s.listen(Ct,c,d);X.push(d,Gn),N&&N.push(c,qe,$t,$t+1)}}else d=Yg(a,r,U,d,!1);const me=a.outputs;let Be;if(ce&&null!==me&&(Be=me[c])){const nt=Be.length;if(nt)for(let Ct=0;Ct<nt;Ct+=2){const Yr=r[Be[Ct]][Be[Ct+1]].subscribe(d),La=X.length;X.push(d,Yr),N&&N.push(c,a.index,La,-(La+1))}}}(d,c,c[zt],g,t,r,a),nv}function vh(t,r,s,a){try{return Tt(6,r,s),!1!==s(a)}catch(c){return Lg(t,c),!1}finally{Tt(7,r,s)}}function Yg(t,r,s,a,c){return function d(g){if(g===Function)return a;ol(t.componentOffset>-1?os(t.index,r):r);let C=vh(r,s,a,g),N=d.__ngNextListenerFn__;for(;N;)C=vh(r,s,N,g)&&C,N=N.__ngNextListenerFn__;return c&&!1===C&&g.preventDefault(),C}}function rv(t=1){return function ko(t){return(Qe.lFrame.contextLView=function Ha(t,r){for(;t>0;)r=r[li],t--;return r}(t,Qe.lFrame.contextLView))[gr]}(t)}function C0(t,r){let s=null;const a=function ci(t){const r=t.attrs;if(null!=r){const s=r.indexOf(5);if(!(1&s))return r[s+1]}return null}(t);for(let c=0;c<r.length;c++){const d=r[c];if("*"!==d){if(null===a?zr(t,d,!0):eu(a,d))return c}else s=c}return s}function ep(t){const r=We()[xr][Mr];if(!r.projection){const a=r.projection=ba(t?t.length:1,null),c=a.slice();let d=r.child;for(;null!==d;){const g=t?C0(d,t):0;null!==g&&(c[g]?c[g].projectionNext=d:a[g]=d,c[g]=d),d=d.next}}}function iv(t,r=0,s){const a=We(),c=An(),d=od(c,fn+t,16,null,s||null);null===d.projection&&(d.projection=r),Ia(),(!a[Ps]||Ys())&&32!=(32&d.flags)&&function bp(t,r,s){Ap(r[zt],0,r,s,Lh(t,s,r),xm(s.parent||r[Mr],s,r))}(c,a,d)}function Zg(t,r,s){return Jg(t,"",r,"",s),Zg}function Jg(t,r,s,a,c){const d=We(),g=ec(d,r,s,a);return g!==yn&&Do(An(),Rr(),d,t,g,d[zt],c,!1),Jg}function em(t,r){return t<<17|r<<2}function ml(t){return t>>17&32767}function tm(t){return 2|t}function _d(t){return(131068&t)>>2}function uv(t,r){return-131069&t|r<<2}function nm(t){return 1|t}function Q_(t,r,s,a,c){const d=t[s+1],g=null===r;let v=a?ml(d):_d(d),C=!1;for(;0!==v&&(!1===C||g);){const U=t[v+1];X_(t[v],r)&&(C=!0,t[v+1]=a?nm(U):tm(U)),v=a?ml(U):_d(U)}C&&(t[s+1]=a?tm(d):nm(d))}function X_(t,r){return null===t||null==r||(Array.isArray(t)?t[1]:t)===r||!(!Array.isArray(t)||"string"!=typeof r)&&ia(t,r)>=0}function cv(t,r){return function Nu(t,r,s,a){const c=We(),d=An(),g=Zs(2);d.firstUpdatePass&&function aI(t,r,s,a){const c=t.data;if(null===c[s+1]){const d=c[Er()],g=function oI(t,r){return r>=t.expandoStartIndex}(t,s);(function n(t,r){return 0!=(t.flags&(r?8:16))})(d,a)&&null===r&&!g&&(r=!1),r=function L0(t,r,s,a){const c=function b(t){const r=Qe.lFrame.currentDirectiveIndex;return-1===r?null:t[r]}(t);let d=a?r.residualClasses:r.residualStyles;if(null===c)0===(a?r.classBindings:r.styleBindings)&&(s=tp(s=lv(null,t,r,s,a),r.attrs,a),d=null);else{const g=r.directiveStylingLast;if(-1===g||t[g]!==c)if(s=lv(c,t,r,s,a),null===d){let C=function F0(t,r,s){const a=s?r.classBindings:r.styleBindings;if(0!==_d(a))return t[ml(a)]}(t,r,a);void 0!==C&&Array.isArray(C)&&(C=lv(null,t,r,C[1],a),C=tp(C,r.attrs,a),function U0(t,r,s,a){t[ml(s?r.classBindings:r.styleBindings)]=a}(t,r,a,C))}else d=function V0(t,r,s){let a;const c=r.directiveEnd;for(let d=1+r.directiveStylingLast;d<c;d++)a=tp(a,t[d].hostAttrs,s);return tp(a,r.attrs,s)}(t,r,a)}return void 0!==d&&(a?r.residualClasses=d:r.residualStyles=d),s}(c,d,r,a),function q_(t,r,s,a,c,d){let g=d?r.classBindings:r.styleBindings,v=ml(g),C=_d(g);t[a]=s;let U,N=!1;if(Array.isArray(s)?(U=s[1],(null===U||ia(s,U)>0)&&(N=!0)):U=s,c)if(0!==C){const ce=ml(t[v+1]);t[a+1]=em(ce,v),0!==ce&&(t[ce+1]=uv(t[ce+1],a)),t[v+1]=function A0(t,r){return 131071&t|r<<17}(t[v+1],a)}else t[a+1]=em(v,0),0!==v&&(t[v+1]=uv(t[v+1],a)),v=a;else t[a+1]=em(C,0),0===v?v=a:t[C+1]=uv(t[C+1],a),C=a;N&&(t[a+1]=tm(t[a+1])),Q_(t,U,a,!0),Q_(t,U,a,!1),function M0(t,r,s,a,c){const d=c?t.residualClasses:t.residualStyles;null!=d&&"string"==typeof r&&ia(d,r)>=0&&(s[a+1]=nm(s[a+1]))}(r,U,t,a,d),g=em(v,C),d?r.classBindings=g:r.styleBindings=g}(c,d,r,s,g,a)}}(d,t,g,a),r!==yn&&io(c,g,r)&&function dv(t,r,s,a,c,d,g,v){if(!(3&r.type))return;const C=t.data,N=C[v+1],U=function S0(t){return 1==(1&t)}(N)?lI(C,r,s,c,_d(N),g):void 0;i(U)||(i(d)||function b0(t){return 2==(2&t)}(N)&&(d=lI(C,null,s,c,v,g)),function Nv(t,r,s,a,c){if(r)c?t.addClass(s,a):t.removeClass(s,a);else{let d=-1===a.indexOf("-")?void 0:yu.DashCase;null==c?t.removeStyle(s,a,d):("string"==typeof c&&c.endsWith("!important")&&(c=c.slice(0,-10),d|=yu.Important),t.setStyle(s,a,c,d))}}(a,g,Nn(Er(),s),c,d))}(d,d.data[Er()],c,c[zt],t,c[g+1]=function e(t,r){return null==t||""===t||("string"==typeof r?t+=r:"object"==typeof t&&(t=qt(Ic(t)))),t}(r,s),a,g)}(t,r,null,!0),cv}function lv(t,r,s,a,c){let d=null;const g=s.directiveEnd;let v=s.directiveStylingLast;for(-1===v?v=s.directiveStart:v++;v<g&&(d=r[v],a=tp(a,d.hostAttrs,c),d!==t);)v++;return null!==t&&(s.directiveStylingLast=v),a}function tp(t,r,s){const a=s?1:2;let c=-1;if(null!==r)for(let d=0;d<r.length;d++){const g=r[d];"number"==typeof g?c=g:c===a&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),bi(t,g,!!s||r[++d]))}return void 0===t?null:t}function lI(t,r,s,a,c,d){const g=null===r;let v;for(;c>0;){const C=t[c],N=Array.isArray(C),U=N?C[1]:C,X=null===U;let ce=s[c+1];ce===yn&&(ce=X?dn:void 0);let me=X?Fc(ce,a):U===a?ce:void 0;if(N&&!i(me)&&(me=Fc(C,a)),i(me)&&(v=me,g))return v;const Be=t[c+1];c=g?ml(Be):_d(Be)}if(null!==r){let C=d?r.residualClasses:r.residualStyles;null!=C&&(v=Fc(C,a))}return v}function i(t){return void 0!==t}function o(t,r=""){const s=We(),a=An(),c=t+fn,d=a.firstCreatePass?od(a,c,1,r,null):a.data[c],g=u(a,s,d,r,t);s[c]=g,lu()&&jd(a,s,g,d),us(d,!1)}let u=(t,r,s,a,c)=>(Ea(!0),function Ud(t,r){return t.createText(r)}(r[zt],a));function w(t){return x("",t,""),w}function x(t,r,s){const a=We(),c=ec(a,t,r,s);return c!==yn&&oa(a,Er(),c),x}function P(t,r,s,a,c){const d=We(),g=function gl(t,r,s,a,c,d){const v=Au(t,Ds(),s,c);return Zs(2),v?r+Dt(s)+a+Dt(c)+d:yn}(d,t,r,s,a,c);return g!==yn&&oa(d,Er(),g),P}function H(t,r,s,a,c,d,g){const v=We(),C=function Ac(t,r,s,a,c,d,g,v){const N=fl(t,Ds(),s,c,g);return Zs(3),N?r+Dt(s)+a+Dt(c)+d+Dt(g)+v:yn}(v,t,r,s,a,c,d,g);return C!==yn&&oa(v,Er(),C),H}const Ih=void 0;var SD=["en",[["a","p"],["AM","PM"],Ih],[["AM","PM"],Ih,Ih],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ih,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ih,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ih,"{1} 'at' {0}",Ih],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function AD(t){const s=Math.floor(Math.abs(t)),a=t.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===a?1:5}];let np={};function dI(t){const r=function MD(t){return t.toLowerCase().replace(/_/g,"-")}(t);let s=eE(r);if(s)return s;const a=r.split("-")[0];if(s=eE(a),s)return s;if("en"===a)return SD;throw new Ye(701,!1)}function J0(t){return dI(t)[rp.PluralCase]}function eE(t){return t in np||(np[t]=pn.ng&&pn.ng.common&&pn.ng.common.locales&&pn.ng.common.locales[t]),np[t]}var rp=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(rp||{});const ip="en-US";let tE=ip;function pI(t,r,s,a,c){if(t=Me(t),Array.isArray(t))for(let d=0;d<t.length;d++)pI(t[d],r,s,a,c);else{const d=An(),g=We(),v=ii();let C=Dc(t)?t:Me(t.provide);const N=Hp(t),U=1048575&v.providerIndexes,X=v.directiveStart,ce=v.providerIndexes>>20;if(Dc(t)||!t.multi){const me=new nr(N,c,al),Be=mI(C,r,c?U:U+ce,X);-1===Be?(kc(Bs(v,g),d,C),gI(d,t,r.length),r.push(C),v.directiveStart++,v.directiveEnd++,c&&(v.providerIndexes+=1048576),s.push(me),g.push(me)):(s[Be]=me,g[Be]=me)}else{const me=mI(C,r,U+ce,X),Be=mI(C,r,U,U+ce),Ct=Be>=0&&s[Be];if(c&&!Ct||!c&&!(me>=0&&s[me])){kc(Bs(v,g),d,C);const $t=function AT(t,r,s,a,c){const d=new nr(t,s,al);return d.multi=[],d.index=r,d.componentProviders=0,bE(d,c,a&&!s),d}(c?bT:CT,s.length,c,a,N);!c&&Ct&&(s[Be].providerFactory=$t),gI(d,t,r.length,0),r.push(C),v.directiveStart++,v.directiveEnd++,c&&(v.providerIndexes+=1048576),s.push($t),g.push($t)}else gI(d,t,me>-1?me:Be,bE(s[c?Be:me],N,!c&&a));!c&&a&&Ct&&s[Be].componentProviders++}}}function gI(t,r,s,a){const c=Dc(r),d=function jp(t){return!!t.useClass}(r);if(c||d){const C=(d?Me(r.useClass):r).prototype.ngOnDestroy;if(C){const N=t.destroyHooks||(t.destroyHooks=[]);if(!c&&r.multi){const U=N.indexOf(s);-1===U?N.push(s,[a,C]):N[U+1].push(a,C)}else N.push(s,C)}}}function bE(t,r,s){return s&&t.componentProviders++,t.multi.push(r)-1}function mI(t,r,s,a){for(let c=s;c<a;c++)if(r[c]===t)return c;return-1}function CT(t,r,s,a){return yI(this.multi,[])}function bT(t,r,s,a){const c=this.multi;let d;if(this.providerFactory){const g=this.providerFactory.componentProviders,v=Ta(s,s[vt],this.providerFactory.index,a);d=v.slice(0,g),yI(c,d);for(let C=g;C<v.length;C++)d.push(v[C])}else d=[],yI(c,d);return d}function yI(t,r){for(let s=0;s<t.length;s++)r.push((0,t[s])());return r}function AE(t,r=[]){return s=>{s.providersResolver=(a,c)=>function TT(t,r,s){const a=An();if(a.firstCreatePass){const c=Ui(t);pI(s,a.data,a.blueprint,c,!0),pI(r,a.data,a.blueprint,c,!1)}}(a,c?c(t):t,r)}}class Eh{}class SE{}function ST(t,r){return new vI(t,r??null,[])}class vI extends Eh{constructor(r,s,a){super(),this._parent=s,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Vg(this);const c=pr(r);this._bootstrapComponents=Xa(c.bootstrap),this._r3Injector=il(r,s,[{provide:Eh,useValue:this},{provide:tl,useValue:this.componentFactoryResolver},...a],qt(r),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(r)}get injector(){return this._r3Injector}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class _I extends SE{constructor(r){super(),this.moduleType=r}create(r){return new vI(this.moduleType,r,[])}}class ME extends Eh{constructor(r){super(),this.componentFactoryResolver=new Vg(this),this.instance=null;const s=new Qa([...r.providers,{provide:Eh,useValue:this},{provide:tl,useValue:this.componentFactoryResolver}],r.parent||Jh(),r.debugName,new Set(["environment"]));this.injector=s,r.runEnvironmentInitializers&&s.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(r){this.injector.onDestroy(r)}}function xE(t,r,s=null){return new ME({providers:t,parent:r,debugName:s,runEnvironmentInitializers:!0}).injector}let xT=(()=>{class t{constructor(s){this._injector=s,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(s){if(!s.standalone)return null;if(!this.cachedInjectors.has(s)){const a=Qh(0,s.type),c=a.length>0?xE([a],this._injector,`Standalone[${s.type.name}]`):null;this.cachedInjectors.set(s,c)}return this.cachedInjectors.get(s)}ngOnDestroy(){try{for(const s of this.cachedInjectors.values())null!==s&&s.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=_t({token:t,providedIn:"environment",factory:()=>new t(hr(wo))})}}return t})();function RE(t){t.getStandaloneInjector=r=>r.get(xT).getOrCreateStandaloneInjector(t)}function UE(t,r,s,a){return function $E(t,r,s,a,c,d){const g=r+s;return io(t,g,c)?Oa(t,g+1,d?a.call(d,c):a(c)):um(t,g+1)}(We(),Wr(),t,r,s,a)}function VE(t,r,s,a,c){return function HE(t,r,s,a,c,d,g){const v=r+s;return Au(t,v,c,d)?Oa(t,v+2,g?a.call(g,c,d):a(c,d)):um(t,v+2)}(We(),Wr(),t,r,s,a,c)}function BE(t,r,s,a,c,d){return function zE(t,r,s,a,c,d,g,v){const C=r+s;return fl(t,C,c,d,g)?Oa(t,C+3,v?a.call(v,c,d,g):a(c,d,g)):um(t,C+3)}(We(),Wr(),t,r,s,a,c,d)}function jE(t,r,s,a,c,d,g){return function GE(t,r,s,a,c,d,g,v,C){const N=r+s;return function aa(t,r,s,a,c,d){const g=Au(t,r,s,a);return Au(t,r+2,c,d)||g}(t,N,c,d,g,v)?Oa(t,N+4,C?a.call(C,c,d,g,v):a(c,d,g,v)):um(t,N+4)}(We(),Wr(),t,r,s,a,c,d,g)}function um(t,r){const s=t[r];return s===yn?void 0:s}function ZT(){return this._results[Symbol.iterator]()}class EI{get changes(){return this._changes||(this._changes=new Cu)}constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const s=EI.prototype;s[Symbol.iterator]||(s[Symbol.iterator]=ZT)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,s){return this._results.reduce(r,s)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,s){const a=this;a.dirty=!1;const c=function eo(t){return t.flat(Number.POSITIVE_INFINITY)}(r);(this._changesDetected=!function fm(t,r,s){if(t.length!==r.length)return!1;for(let a=0;a<t.length;a++){let c=t[a],d=r[a];if(s&&(c=s(c),d=s(d)),d!==c)return!1}return!0}(a._results,c,s))&&(a._results=c,a.length=c.length,a.last=c[this.length-1],a.first=c[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function eC(t,r,s,a=!0){const c=r[vt];if(function Dm(t,r,s,a){const c=wr+a,d=s.length;a>0&&(s[c-1][Gr]=r),a<d-wr?(r[Gr]=s[c],Gu(s,wr+a,r)):(s.push(r),r[Gr]=null),r[Wn]=s;const g=r[Fi];null!==g&&s!==g&&function xv(t,r){const s=t[Hn];r[xr]!==r[Wn][Wn][xr]&&(t[Co]=!0),null===s?t[Hn]=[r]:s.push(r)}(g,r);const v=r[es];null!==v&&v.insertView(t),r[nn]|=128}(c,r,t,s),a){const d=Xu(s,t),g=r[zt],v=Qu(g,t[ts]);null!==v&&function Vd(t,r,s,a,c,d){a[Ir]=c,a[Mr]=r,Gc(t,a,s,1,c,d)}(c,t[Mr],g,r,v,d)}}let lm=(()=>{class t{static{this.__NG_ELEMENT_ID__=rC}}return t})();const tC=lm,nC=class extends tC{constructor(r,s,a){super(),this._declarationLView=r,this._declarationTContainer=s,this.elementRef=a}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(r,s){return this.createEmbeddedViewImpl(r,s)}createEmbeddedViewImpl(r,s,a){const c=function JT(t,r,s,a){const c=r.tView,v=xf(t,c,s,4096&t[nn]?4096:16,null,r,null,null,null,a?.injector??null,a?.hydrationInfo??null);v[Fi]=t[r.index];const N=t[es];return null!==N&&(v[es]=N.createEmbeddedView(c)),ds(c,v,s),v}(this._declarationLView,this._declarationTContainer,r,{injector:s,hydrationInfo:a});return new Vf(c)}};function rC(){return yv(ii(),We())}function yv(t,r){return 4&t.type?new nC(r,t,nl(t,r)):null}let _v=(()=>{class t{static{this.__NG_ELEMENT_ID__=cC}}return t})();function cC(){return JE(ii(),We())}const lC=_v,YE=class extends lC{constructor(r,s,a){super(),this._lContainer=r,this._hostTNode=s,this._hostLView=a}get element(){return nl(this._hostTNode,this._hostLView)}get injector(){return new Yi(this._hostTNode,this._hostLView)}get parentInjector(){const r=_o(this._hostTNode,this._hostLView);if(Ti(r)){const s=Hr(r,this._hostLView),a=Vu(r);return new Yi(s[vt].data[a+8],s)}return new Yi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const s=ZE(this._lContainer);return null!==s&&s[r]||null}get length(){return this._lContainer.length-wr}createEmbeddedView(r,s,a){let c,d;"number"==typeof a?c=a:null!=a&&(c=a.index,d=a.injector);const v=r.createEmbeddedViewImpl(s||{},d,null);return this.insertImpl(v,c,false),v}createComponent(r,s,a,c,d){const g=r&&!function Lc(t){return"function"==typeof t}(r);let v;if(g)v=s;else{const nt=s||{};v=nt.index,a=nt.injector,c=nt.projectableNodes,d=nt.environmentInjector||nt.ngModuleRef}const C=g?r:new Bf(Cn(r)),N=a||this.parentInjector;if(!d&&null==C.ngModule){const Ct=(g?N:this.parentInjector).get(wo,null);Ct&&(d=Ct)}Cn(C.componentType??{});const me=C.create(N,c,null,d);return this.insertImpl(me.hostView,v,false),me}insert(r,s){return this.insertImpl(r,s,!1)}insertImpl(r,s,a){const c=r._lView;if(function sc(t){return mi(t[Wn])}(c)){const C=this.indexOf(r);if(-1!==C)this.detach(C);else{const N=c[Wn],U=new YE(N,N[Mr],N[Wn]);U.detach(U.indexOf(r))}}const g=this._adjustIndex(s),v=this._lContainer;return eC(v,c,g,!a),r.attachToViewContainerRef(),Gu(wI(v),g,r),r}move(r,s){return this.insert(r,s)}indexOf(r){const s=ZE(this._lContainer);return null!==s?s.indexOf(r):-1}remove(r){const s=this._adjustIndex(r,-1),a=gc(this._lContainer,s);a&&(ra(wI(this._lContainer),s),Bd(a[vt],a))}detach(r){const s=this._adjustIndex(r,-1),a=gc(this._lContainer,s);return a&&null!=ra(wI(this._lContainer),s)?new Vf(a):null}_adjustIndex(r,s=0){return r??this.length+s}};function ZE(t){return t[8]}function wI(t){return t[8]||(t[8]=[])}function JE(t,r){let s;const a=r[t.index];return mi(a)?s=a:(s=Ng(a,r,null,t),r[t.index]=s,ld(r,s)),ew(s,r,t,a),new YE(s,t,r)}let ew=function tw(t,r,s,a){if(t[ts])return;let c;c=8&s.type?ye(a):function dC(t,r){const s=t[zt],a=s.createComment(""),c=Ki(r,t);return mc(s,Qu(s,c),a,function Mm(t,r){return t.nextSibling(r)}(s,c),!1),a}(r,s),t[ts]=c};class DI{constructor(r){this.queryList=r,this.matches=null}clone(){return new DI(this.queryList)}setDirty(){this.queryList.setDirty()}}class TI{constructor(r=[]){this.queries=r}createEmbeddedView(r){const s=r.queries;if(null!==s){const a=null!==r.contentQueries?r.contentQueries[0]:s.length,c=[];for(let d=0;d<a;d++){const g=s.getByIndex(d);c.push(this.queries[g.indexInDeclarationView].clone())}return new TI(c)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let s=0;s<this.queries.length;s++)null!==lw(r,s).matches&&this.queries[s].setDirty()}}class nw{constructor(r,s,a=null){this.predicate=r,this.flags=s,this.read=a}}class CI{constructor(r=[]){this.queries=r}elementStart(r,s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementStart(r,s)}elementEnd(r){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(r)}embeddedTView(r){let s=null;for(let a=0;a<this.length;a++){const c=null!==s?s.length:0,d=this.getByIndex(a).embeddedTView(r,c);d&&(d.indexInDeclarationView=a,null!==s?s.push(d):s=[d])}return null!==s?new CI(s):null}template(r,s){for(let a=0;a<this.queries.length;a++)this.queries[a].template(r,s)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class bI{constructor(r,s=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(r,s){this.isApplyingToNode(s)&&this.matchTNode(r,s)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,s){this.elementStart(r,s)}embeddedTView(r,s){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,s),new bI(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const s=this._declarationNodeIndex;let a=r.parent;for(;null!==a&&8&a.type&&a.index!==s;)a=a.parent;return s===(null!==a?a.index:-1)}return this._appliesToNextNode}matchTNode(r,s){const a=this.metadata.predicate;if(Array.isArray(a))for(let c=0;c<a.length;c++){const d=a[c];this.matchTNodeWithReadOption(r,s,pC(s,d)),this.matchTNodeWithReadOption(r,s,Io(s,r,d,!1,!1))}else a===lm?4&s.type&&this.matchTNodeWithReadOption(r,s,-1):this.matchTNodeWithReadOption(r,s,Io(s,r,a,!1,!1))}matchTNodeWithReadOption(r,s,a){if(null!==a){const c=this.metadata.read;if(null!==c)if(c===Tu||c===_v||c===lm&&4&s.type)this.addMatch(s.index,-2);else{const d=Io(s,r,c,!1,!1);null!==d&&this.addMatch(s.index,d)}else this.addMatch(s.index,a)}}addMatch(r,s){null===this.matches?this.matches=[r,s]:this.matches.push(r,s)}}function pC(t,r){const s=t.localNames;if(null!==s)for(let a=0;a<s.length;a+=2)if(s[a]===r)return s[a+1];return null}function mC(t,r,s,a){return-1===s?function gC(t,r){return 11&t.type?nl(t,r):4&t.type?yv(t,r):null}(r,t):-2===s?function yC(t,r,s){return s===Tu?nl(r,t):s===lm?yv(r,t):s===_v?JE(r,t):void 0}(t,r,a):Ta(t,t[vt],s,r)}function rw(t,r,s,a){const c=r[es].queries[a];if(null===c.matches){const d=t.data,g=s.matches,v=[];for(let C=0;C<g.length;C+=2){const N=g[C];v.push(N<0?null:mC(r,d[N],g[C+1],s.metadata.read))}c.matches=v}return c.matches}function AI(t,r,s,a){const c=t.queries.getByIndex(s),d=c.matches;if(null!==d){const g=rw(t,r,c,s);for(let v=0;v<d.length;v+=2){const C=d[v];if(C>0)a.push(g[v/2]);else{const N=d[v+1],U=r[-C];for(let X=wr;X<U.length;X++){const ce=U[X];ce[Fi]===ce[Wn]&&AI(ce[vt],ce,N,a)}if(null!==U[Hn]){const X=U[Hn];for(let ce=0;ce<X.length;ce++){const me=X[ce];AI(me[vt],me,N,a)}}}}}return a}function iw(t){const r=We(),s=An(),a=R();V(a+1);const c=lw(s,a);if(t.dirty&&function Ba(t){return 4==(4&t[nn])}(r)===(2==(2&c.metadata.flags))){if(null===c.matches)t.reset([]);else{const d=c.crossesNgTemplate?AI(s,r,a,[]):rw(s,r,c,a);t.reset(d,ng),t.notifyOnChanges()}return!0}return!1}function sw(t,r,s){const a=An();a.firstCreatePass&&(cw(a,new nw(t,r,s),-1),2==(2&r)&&(a.staticViewQueries=!0)),uw(a,We(),r)}function ow(t,r,s,a){const c=An();if(c.firstCreatePass){const d=ii();cw(c,new nw(r,s,a),d.index),function _C(t,r){const s=t.contentQueries||(t.contentQueries=[]);r!==(s.length?s[s.length-1]:-1)&&s.push(t.queries.length-1,r)}(c,t),2==(2&s)&&(c.staticContentQueries=!0)}uw(c,We(),s)}function aw(){return function vC(t,r){return t[es].queries[r].queryList}(We(),R())}function uw(t,r,s){const a=new EI(4==(4&s));(function s_(t,r,s,a){const c=kg(r);c.push(s),t.firstCreatePass&&fh(t).push(a,c.length-1)})(t,r,a,a.destroy),null===r[es]&&(r[es]=new TI),r[es].queries.push(new DI(a))}function cw(t,r,s){null===t.queries&&(t.queries=new CI),t.queries.track(new bI(r,s))}function lw(t,r){return t.queries.getByIndex(r)}function dw(t,r){return yv(t,r)}function SI(t){return!!pr(t)}const Sw=new Xt("Application Initializer");let OI=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((s,a)=>{this.resolve=s,this.reject=a}),this.appInits=he(Sw,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const s=[];for(const c of this.appInits){const d=c();if(tv(d))s.push(d);else if(j_(d)){const g=new Promise((v,C)=>{d.subscribe({complete:v,error:C})});s.push(g)}}const a=()=>{this.done=!0,this.resolve()};Promise.all(s).then(()=>{a()}).catch(c=>{this.reject(c)}),0===s.length&&a(),this.initialized=!0}static{this.\u0275fac=function(a){return new(a||t)}}static{this.\u0275prov=_t({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Mw=(()=>{class t{log(s){console.log(s)}warn(s){console.warn(s)}static{this.\u0275fac=function(a){return new(a||t)}}static{this.\u0275prov=_t({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();const Ev=new Xt("LocaleId",{providedIn:"root",factory:()=>he(Ev,kt.Optional|kt.SkipSelf)||function BC(){return typeof $localize<"u"&&$localize.locale||ip}()}),jC=new Xt("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let xw=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new le.t(!1)}add(){this.hasPendingTasks.next(!0);const s=this.taskId++;return this.pendingTasks.add(s),s}remove(s){this.pendingTasks.delete(s),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static{this.\u0275fac=function(a){return new(a||t)}}static{this.\u0275prov=_t({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();class HC{constructor(r,s){this.ngModuleFactory=r,this.componentFactories=s}}let zC=(()=>{class t{compileModuleSync(s){return new _I(s)}compileModuleAsync(s){return Promise.resolve(this.compileModuleSync(s))}compileModuleAndAllComponentsSync(s){const a=this.compileModuleSync(s),d=Xa(pr(s).declarations).reduce((g,v)=>{const C=Cn(v);return C&&g.push(new Bf(C)),g},[]);return new HC(a,d)}compileModuleAndAllComponentsAsync(s){return Promise.resolve(this.compileModuleAndAllComponentsSync(s))}clearCache(){}clearCacheFor(s){}getModuleId(s){}static{this.\u0275fac=function(a){return new(a||t)}}static{this.\u0275prov=_t({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();const Pw=new Xt(""),kw=new Xt("");let LI,hb=(()=>{class t{constructor(s,a,c){this._ngZone=s,this.registry=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,LI||(function fb(t){LI=t}(c),c.addToWindow(a)),this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ls.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb(this._didWork)}this._didWork=!1});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(a=>!a.updateCb||!a.updateCb(s)||(clearTimeout(a.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,a,c){let d=-1;a&&a>0&&(d=setTimeout(()=>{this._callbacks=this._callbacks.filter(g=>g.timeoutId!==d),s(this._didWork,this.getPendingTasks())},a)),this._callbacks.push({doneCb:s,timeoutId:d,updateCb:c})}whenStable(s,a,c){if(c&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,a,c),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(s){this.registry.registerApplication(s,this)}unregisterApplication(s){this.registry.unregisterApplication(s)}findProviders(s,a,c){return[]}static{this.\u0275fac=function(a){return new(a||t)(hr(ls),hr(Lw),hr(kw))}}static{this.\u0275prov=_t({token:t,factory:t.\u0275fac})}}return t})(),Lw=(()=>{class t{constructor(){this._applications=new Map}registerApplication(s,a){this._applications.set(s,a)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,a=!0){return LI?.findTestabilityInTree(this,s,a)??null}static{this.\u0275fac=function(a){return new(a||t)}}static{this.\u0275prov=_t({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})(),Id=null;const Fw=new Xt("AllowMultipleToken"),FI=new Xt("PlatformDestroyListeners"),UI=new Xt("appBootstrapListener");class mb{constructor(r,s){this.name=r,this.token=s}}function Bw(t,r,s=[]){const a=`Platform: ${r}`,c=new Xt(a);return(d=[])=>{let g=VI();if(!g||g.injector.get(Fw,!1)){const v=[...s,...d,{provide:c,useValue:!0}];t?t(v):function yb(t){if(Id&&!Id.get(Fw,!1))throw new Ye(400,!1);(function Uw(){!function M(t){E=t}(()=>{throw new Ye(600,!1)})})(),Id=t;const r=t.get($w);(function Vw(t){t.get(tf,null)?.forEach(s=>s())})(t)}(function jw(t=[],r){return ro.create({name:r,providers:[{provide:$p,useValue:"platform"},{provide:FI,useValue:new Set([()=>Id=null])},...t]})}(v,a))}return function _b(t){const r=VI();if(!r)throw new Ye(401,!1);return r}()}}function VI(){return Id?.get($w)??null}let $w=(()=>{class t{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,a){const c=function Ib(t="zone.js",r){return"noop"===t?new e_:"zone.js"===t?new ls(r):t}(a?.ngZone,function Hw(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:a?.ngZoneEventCoalescing,runCoalescing:a?.ngZoneRunCoalescing}));return c.run(()=>{const d=function MT(t,r,s){return new vI(t,r,s)}(s.moduleType,this.injector,function qw(t){return[{provide:ls,useFactory:t},{provide:Yc,multi:!0,useFactory:()=>{const r=he(wb,{optional:!0});return()=>r.initialize()}},{provide:Kw,useFactory:Eb},{provide:dy,useFactory:_f}]}(()=>c)),g=d.injector.get(Tc,null);return c.runOutsideAngular(()=>{const v=c.onError.subscribe({next:C=>{g.handleError(C)}});d.onDestroy(()=>{Dv(this._modules,d),v.unsubscribe()})}),function zw(t,r,s){try{const a=s();return tv(a)?a.catch(c=>{throw r.runOutsideAngular(()=>t.handleError(c)),c}):a}catch(a){throw r.runOutsideAngular(()=>t.handleError(a)),a}}(g,c,()=>{const v=d.injector.get(OI);return v.runInitializers(),v.donePromise.then(()=>(function nE(t){Yt(t,"Expected localeId to be defined"),"string"==typeof t&&(tE=t.toLowerCase().replace(/_/g,"-"))}(d.injector.get(Ev,ip)||ip),this._moduleDoBootstrap(d),d))})})}bootstrapModule(s,a=[]){const c=Gw({},a);return function pb(t,r,s){const a=new _I(s);return Promise.resolve(a)}(0,0,s).then(d=>this.bootstrapModuleFactory(d,c))}_moduleDoBootstrap(s){const a=s.injector.get(ap);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(c=>a.bootstrap(c));else{if(!s.instance.ngDoBootstrap)throw new Ye(-403,!1);s.instance.ngDoBootstrap(a)}this._modules.push(s)}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ye(404,!1);this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a());const s=this._injector.get(FI,null);s&&(s.forEach(a=>a()),s.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static{this.\u0275fac=function(a){return new(a||t)(hr(ro))}}static{this.\u0275prov=_t({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();function Gw(t,r){return Array.isArray(r)?r.reduce(Gw,t):{...t,...r}}let ap=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=he(Kw),this.zoneIsStable=he(dy),this.componentTypes=[],this.components=[],this.isStable=he(xw).hasPendingTasks.pipe((0,ve.n)(s=>s?(0,K.of)(!1):this.zoneIsStable),function lt(t,r=Ue.D){return t=t??at,(0,Ne.N)((s,a)=>{let c,d=!0;s.subscribe((0,fe._)(a,g=>{const v=r(g);(d||!t(c,v))&&(d=!1,c=v,a.next(g))}))})}(),te()),this._injector=he(wo)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(s,a){const c=s instanceof lf;if(!this._injector.get(OI).done)throw!c&&Qr(s),new Ye(405,!1);let g;g=c?s:this._injector.get(tl).resolveComponentFactory(s),this.componentTypes.push(g.componentType);const v=function gb(t){return t.isBoundToModule}(g)?void 0:this._injector.get(Eh),N=g.create(ro.NULL,[],a||g.selector,v),U=N.location.nativeElement,X=N.injector.get(Pw,null);return X?.registerApplication(U),N.onDestroy(()=>{this.detachView(N.hostView),Dv(this.components,N),X?.unregisterApplication(U)}),this._loadComponent(N),N}tick(){if(this._runningTick)throw new Ye(101,!1);try{this._runningTick=!0;for(let s of this._views)s.detectChanges()}catch(s){this.internalErrorHandler(s)}finally{this._runningTick=!1}}attachView(s){const a=s;this._views.push(a),a.attachToAppRef(this)}detachView(s){const a=s;Dv(this._views,a),a.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s);const a=this._injector.get(UI,[]);a.push(...this._bootstrapListeners),a.forEach(c=>c(s))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(s=>s()),this._views.slice().forEach(s=>s.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(s){return this._destroyListeners.push(s),()=>Dv(this._destroyListeners,s)}destroy(){if(this._destroyed)throw new Ye(406,!1);const s=this._injector;s.destroy&&!s.destroyed&&s.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(a){return new(a||t)}}static{this.\u0275prov=_t({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Dv(t,r){const s=t.indexOf(r);s>-1&&t.splice(s,1)}const Kw=new Xt("",{providedIn:"root",factory:()=>he(Tc).handleError.bind(void 0)});function Eb(){const t=he(ls),r=he(Tc);return s=>t.runOutsideAngular(()=>r.handleError(s))}let wb=(()=>{class t{constructor(){this.zone=he(ls),this.applicationRef=he(ap)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(a){return new(a||t)}}static{this.\u0275prov=_t({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();let Tb=(()=>{class t{static{this.__NG_ELEMENT_ID__=Cb}}return t})();function Cb(t){return function bb(t,r,s){if(xi(t)&&!s){const a=os(t.index,r);return new Vf(a,a)}return 47&t.type?new Vf(r[xr],r):null}(ii(),We(),16==(16&t))}class Jw{constructor(){}supports(r){return hd(r)}create(r){return new Rb(r)}}const xb=(t,r)=>r;class Rb{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||xb}forEachItem(r){let s;for(s=this._itHead;null!==s;s=s._next)r(s)}forEachOperation(r){let s=this._itHead,a=this._removalsHead,c=0,d=null;for(;s||a;){const g=!a||s&&s.currentIndex<tD(a,c,d)?s:a,v=tD(g,c,d),C=g.currentIndex;if(g===a)c--,a=a._nextRemoved;else if(s=s._next,null==g.previousIndex)c++;else{d||(d=[]);const N=v-c,U=C-c;if(N!=U){for(let ce=0;ce<N;ce++){const me=ce<d.length?d[ce]:d[ce]=0,Be=me+ce;U<=Be&&Be<N&&(d[ce]=me+1)}d[g.previousIndex]=U-N}}v!==C&&r(g,v,C)}}forEachPreviousItem(r){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachMovedItem(r){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}forEachIdentityChange(r){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)r(s)}diff(r){if(null==r&&(r=[]),!hd(r))throw new Ye(900,!1);return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let c,d,g,s=this._itHead,a=!1;if(Array.isArray(r)){this.length=r.length;for(let v=0;v<this.length;v++)d=r[v],g=this._trackByFn(v,d),null!==s&&Object.is(s.trackById,g)?(a&&(s=this._verifyReinsertion(s,d,g,v)),Object.is(s.item,d)||this._addIdentityChange(s,d)):(s=this._mismatch(s,d,g,v),a=!0),s=s._next}else c=0,function hl(t,r){if(Array.isArray(t))for(let s=0;s<t.length;s++)r(t[s]);else{const s=t[Symbol.iterator]();let a;for(;!(a=s.next()).done;)r(a.value)}}(r,v=>{g=this._trackByFn(c,v),null!==s&&Object.is(s.trackById,g)?(a&&(s=this._verifyReinsertion(s,v,g,c)),Object.is(s.item,v)||this._addIdentityChange(s,v)):(s=this._mismatch(s,v,g,c),a=!0),s=s._next,c++}),this.length=c;return this._truncate(s),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,s,a,c){let d;return null===r?d=this._itTail:(d=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._reinsertAfter(r,d,c)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(a,c))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._moveAfter(r,d,c)):r=this._addAfter(new Nb(s,a),d,c),r}_verifyReinsertion(r,s,a,c){let d=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null);return null!==d?r=this._reinsertAfter(d,r._prev,c):r.currentIndex!=c&&(r.currentIndex=c,this._addToMoves(r,c)),r}_truncate(r){for(;null!==r;){const s=r._next;this._addToRemovals(this._unlink(r)),r=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,s,a){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const c=r._prevRemoved,d=r._nextRemoved;return null===c?this._removalsHead=d:c._nextRemoved=d,null===d?this._removalsTail=c:d._prevRemoved=c,this._insertAfter(r,s,a),this._addToMoves(r,a),r}_moveAfter(r,s,a){return this._unlink(r),this._insertAfter(r,s,a),this._addToMoves(r,a),r}_addAfter(r,s,a){return this._insertAfter(r,s,a),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,s,a){const c=null===s?this._itHead:s._next;return r._next=c,r._prev=s,null===c?this._itTail=r:c._prev=r,null===s?this._itHead=r:s._next=r,null===this._linkedRecords&&(this._linkedRecords=new eD),this._linkedRecords.put(r),r.currentIndex=a,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const s=r._prev,a=r._next;return null===s?this._itHead=a:s._next=a,null===a?this._itTail=s:a._prev=s,r}_addToMoves(r,s){return r.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new eD),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,s){return r.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class Nb{constructor(r,s){this.item=r,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Ob{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,s){let a;for(a=this._head;null!==a;a=a._nextDup)if((null===s||s<=a.currentIndex)&&Object.is(a.trackById,r))return a;return null}remove(r){const s=r._prevDup,a=r._nextDup;return null===s?this._head=a:s._nextDup=a,null===a?this._tail=s:a._prevDup=s,null===this._head}}class eD{constructor(){this.map=new Map}put(r){const s=r.trackById;let a=this.map.get(s);a||(a=new Ob,this.map.set(s,a)),a.add(r)}get(r,s){const c=this.map.get(r);return c?c.get(r,s):null}remove(r){const s=r.trackById;return this.map.get(s).remove(r)&&this.map.delete(s),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function tD(t,r,s){const a=t.previousIndex;if(null===a)return a;let c=0;return s&&a<s.length&&(c=s[a]),a+r+c}class nD{constructor(){}supports(r){return r instanceof Map||zf(r)}create(){return new Pb}}class Pb{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let s;for(s=this._mapHead;null!==s;s=s._next)r(s)}forEachPreviousItem(r){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)r(s)}forEachChangedItem(r){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}diff(r){if(r){if(!(r instanceof Map||zf(r)))throw new Ye(900,!1)}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(r,(a,c)=>{if(s&&s.key===c)this._maybeAddToChanges(s,a),this._appendAfter=s,s=s._next;else{const d=this._getOrCreateRecordForKey(c,a);s=this._insertBeforeOrAppend(s,d)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let a=s;null!==a;a=a._nextRemoved)a===this._mapHead&&(this._mapHead=null),this._records.delete(a.key),a._nextRemoved=a._next,a.previousValue=a.currentValue,a.currentValue=null,a._prev=null,a._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,s){if(r){const a=r._prev;return s._next=r,s._prev=a,r._prev=s,a&&(a._next=s),r===this._mapHead&&(this._mapHead=s),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(r,s){if(this._records.has(r)){const c=this._records.get(r);this._maybeAddToChanges(c,s);const d=c._prev,g=c._next;return d&&(d._next=g),g&&(g._prev=d),c._next=null,c._prev=null,c}const a=new kb(r);return this._records.set(r,a),a.currentValue=s,this._addToAdditions(a),a}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,s){Object.is(s,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=s,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,s){r instanceof Map?r.forEach(s):Object.keys(r).forEach(a=>s(r[a],a))}}class kb{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function rD(){return new zI([new Jw])}let zI=(()=>{class t{static{this.\u0275prov=_t({token:t,providedIn:"root",factory:rD})}constructor(s){this.factories=s}static create(s,a){if(null!=a){const c=a.factories.slice();s=s.concat(c)}return new t(s)}static extend(s){return{provide:t,useFactory:a=>t.create(s,a||rD()),deps:[[t,new xl,new mu]]}}find(s){const a=this.factories.find(c=>c.supports(s));if(null!=a)return a;throw new Ye(901,!1)}}return t})();function iD(){return new GI([new nD])}let GI=(()=>{class t{static{this.\u0275prov=_t({token:t,providedIn:"root",factory:iD})}constructor(s){this.factories=s}static create(s,a){if(a){const c=a.factories.slice();s=s.concat(c)}return new t(s)}static extend(s){return{provide:t,useFactory:a=>t.create(s,a||iD()),deps:[[t,new xl,new mu]]}}find(s){const a=this.factories.find(c=>c.supports(s));if(a)return a;throw new Ye(901,!1)}}return t})();const Ub=Bw(null,"core",[]);let Vb=(()=>{class t{constructor(s){}static{this.\u0275fac=function(a){return new(a||t)(hr(ap))}}static{this.\u0275mod=Ns({type:t})}static{this.\u0275inj=ai({})}}return t})();function Xb(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function Zb(t){const r=Cn(t);if(!r)return null;const s=new Bf(r);return{get selector(){return s.selector},get type(){return s.componentType},get inputs(){return s.inputs},get outputs(){return s.outputs},get ngContentSelectors(){return s.ngContentSelectors},get isStandalone(){return r.standalone},get isSignal(){return r.signals}}}},2979:(Lt,Le,j)=>{j.d(Le,{MF:()=>pn,j6:()=>kt,om:()=>br,Sx:()=>sn,Dk:()=>Xt,Wp:()=>Ei,KO:()=>qr});var S=j(467),ne=j(8779),se=j(5398),ge=j(1401);const le=(Pe,he)=>he.some(Ke=>Pe instanceof Ke);let K,Q;const te=new WeakMap,J=new WeakMap,ve=new WeakMap,Ue=new WeakMap,fe=new WeakMap;let mt={get(Pe,he,Ke){if(Pe instanceof IDBTransaction){if("done"===he)return J.get(Pe);if("objectStoreNames"===he)return Pe.objectStoreNames||ve.get(Pe);if("store"===he)return Ke.objectStoreNames[1]?void 0:Ke.objectStore(Ke.objectStoreNames[0])}return et(Pe[he])},set:(Pe,he,Ke)=>(Pe[he]=Ke,!0),has:(Pe,he)=>Pe instanceof IDBTransaction&&("done"===he||"store"===he)||he in Pe};function On(Pe){return"function"==typeof Pe?function qt(Pe){return Pe!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ne(){return Q||(Q=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Pe)?function(...he){return Pe.apply(Je(this),he),et(te.get(this))}:function(...he){return et(Pe.apply(Je(this),he))}:function(he,...Ke){const xt=Pe.call(Je(this),he,...Ke);return ve.set(xt,he.sort?he.sort():[he]),et(xt)}}(Pe):(Pe instanceof IDBTransaction&&function at(Pe){if(J.has(Pe))return;const he=new Promise((Ke,xt)=>{const jt=()=>{Pe.removeEventListener("complete",cn),Pe.removeEventListener("error",on),Pe.removeEventListener("abort",on)},cn=()=>{Ke(),jt()},on=()=>{xt(Pe.error||new DOMException("AbortError","AbortError")),jt()};Pe.addEventListener("complete",cn),Pe.addEventListener("error",on),Pe.addEventListener("abort",on)});J.set(Pe,he)}(Pe),le(Pe,function Oe(){return K||(K=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Pe,mt):Pe)}function et(Pe){if(Pe instanceof IDBRequest)return function lt(Pe){const he=new Promise((Ke,xt)=>{const jt=()=>{Pe.removeEventListener("success",cn),Pe.removeEventListener("error",on)},cn=()=>{Ke(et(Pe.result)),jt()},on=()=>{xt(Pe.error),jt()};Pe.addEventListener("success",cn),Pe.addEventListener("error",on)});return he.then(Ke=>{Ke instanceof IDBCursor&&te.set(Ke,Pe)}).catch(()=>{}),fe.set(he,Pe),he}(Pe);if(Ue.has(Pe))return Ue.get(Pe);const he=On(Pe);return he!==Pe&&(Ue.set(Pe,he),fe.set(he,Pe)),he}const Je=Pe=>fe.get(Pe),st=["get","getKey","getAll","getAllKeys","count"],Xe=["put","add","delete","clear"],St=new Map;function Ye(Pe,he){if(!(Pe instanceof IDBDatabase)||he in Pe||"string"!=typeof he)return;if(St.get(he))return St.get(he);const Ke=he.replace(/FromIndex$/,""),xt=he!==Ke,jt=Xe.includes(Ke);if(!(Ke in(xt?IDBIndex:IDBObjectStore).prototype)||!jt&&!st.includes(Ke))return;const cn=function(){var on=(0,S.A)(function*(kr,...Ln){const Lr=this.transaction(kr,jt?"readwrite":"readonly");let ui=Lr.store;return xt&&(ui=ui.index(Ln.shift())),(yield Promise.all([ui[Ke](...Ln),jt&&Lr.done]))[0]});return function(Ln){return on.apply(this,arguments)}}();return St.set(he,cn),cn}!function Bt(Pe){mt=Pe(mt)}(Pe=>({...Pe,get:(he,Ke,xt)=>Ye(he,Ke)||Pe.get(he,Ke,xt),has:(he,Ke)=>!!Ye(he,Ke)||Pe.has(he,Ke)}));class ur{constructor(he){this.container=he}getPlatformInfoString(){return this.container.getProviders().map(Ke=>{if(function Dt(Pe){const he=Pe.getComponent();return"VERSION"===he?.type}(Ke)){const xt=Ke.getImmediate();return`${xt.library}/${xt.version}`}return null}).filter(Ke=>Ke).join(" ")}}const ke="@firebase/app",xn=new se.Vy("@firebase/app"),Zn="[DEFAULT]",Gt={[ke]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Qt=new Map,rr=new Map;function jn(Pe,he){try{Pe.container.addComponent(he)}catch(Ke){xn.debug(`Component ${he.name} failed to register with FirebaseApp ${Pe.name}`,Ke)}}function br(Pe){const he=Pe.name;if(rr.has(he))return xn.debug(`There were multiple attempts to register component ${he}.`),!1;rr.set(he,Pe);for(const Ke of Qt.values())jn(Ke,Pe);return!0}function kt(Pe,he){const Ke=Pe.container.getProvider("heartbeat").getImmediate({optional:!0});return Ke&&Ke.triggerHeartbeat(),Pe.container.getProvider(he)}const rn=new ge.FA("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Ai{constructor(he,Ke,xt){this._isDeleted=!1,this._options=Object.assign({},he),this._config=Object.assign({},Ke),this._name=Ke.name,this._automaticDataCollectionEnabled=Ke.automaticDataCollectionEnabled,this._container=xt,this.container.addComponent(new ne.uA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(he){this.checkDestroyed(),this._automaticDataCollectionEnabled=he}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(he){this._isDeleted=he}checkDestroyed(){if(this.isDeleted)throw rn.create("app-deleted",{appName:this._name})}}const pn="9.23.0";function Ei(Pe,he={}){let Ke=Pe;"object"!=typeof he&&(he={name:he});const xt=Object.assign({name:Zn,automaticDataCollectionEnabled:!1},he),jt=xt.name;if("string"!=typeof jt||!jt)throw rn.create("bad-app-name",{appName:String(jt)});if(Ke||(Ke=(0,ge.T9)()),!Ke)throw rn.create("no-options");const cn=Qt.get(jt);if(cn){if((0,ge.bD)(Ke,cn.options)&&(0,ge.bD)(xt,cn.config))return cn;throw rn.create("duplicate-app",{appName:jt})}const on=new ne.h1(jt);for(const Ln of rr.values())on.addComponent(Ln);const kr=new Ai(Ke,xt,on);return Qt.set(jt,kr),kr}function sn(Pe=Zn){const he=Qt.get(Pe);if(!he&&Pe===Zn&&(0,ge.T9)())return Ei();if(!he)throw rn.create("no-app",{appName:Pe});return he}function Xt(){return Array.from(Qt.values())}function qr(Pe,he,Ke){var xt;let jt=null!==(xt=Gt[Pe])&&void 0!==xt?xt:Pe;Ke&&(jt+=`-${Ke}`);const cn=jt.match(/\s|\//),on=he.match(/\s|\//);if(cn||on){const kr=[`Unable to register library "${jt}" with version "${he}":`];return cn&&kr.push(`library name "${jt}" contains illegal characters (whitespace or "/")`),cn&&on&&kr.push("and"),on&&kr.push(`version name "${he}" contains illegal characters (whitespace or "/")`),void xn.warn(kr.join(" "))}br(new ne.uA(`${jt}-version`,()=>({library:jt,version:he}),"VERSION"))}const gn="firebase-heartbeat-database",_r=1,re="firebase-heartbeat-store";let B=null;function z(){return B||(B=function Me(Pe,he,{blocked:Ke,upgrade:xt,blocking:jt,terminated:cn}={}){const on=indexedDB.open(Pe,he),kr=et(on);return xt&&on.addEventListener("upgradeneeded",Ln=>{xt(et(on.result),Ln.oldVersion,Ln.newVersion,et(on.transaction),Ln)}),Ke&&on.addEventListener("blocked",Ln=>Ke(Ln.oldVersion,Ln.newVersion,Ln)),kr.then(Ln=>{cn&&Ln.addEventListener("close",()=>cn()),jt&&Ln.addEventListener("versionchange",Lr=>jt(Lr.oldVersion,Lr.newVersion,Lr))}).catch(()=>{}),kr}(gn,_r,{upgrade:(Pe,he)=>{0===he&&Pe.createObjectStore(re)}}).catch(Pe=>{throw rn.create("idb-open",{originalErrorMessage:Pe.message})})),B}function G(){return(G=(0,S.A)(function*(Pe){try{return yield(yield z()).transaction(re).objectStore(re).get(pt(Pe))}catch(he){if(he instanceof ge.g)xn.warn(he.message);else{const Ke=rn.create("idb-get",{originalErrorMessage:he?.message});xn.warn(Ke.message)}}})).apply(this,arguments)}function de(Pe,he){return $e.apply(this,arguments)}function $e(){return($e=(0,S.A)(function*(Pe,he){try{const xt=(yield z()).transaction(re,"readwrite");yield xt.objectStore(re).put(he,pt(Pe)),yield xt.done}catch(Ke){if(Ke instanceof ge.g)xn.warn(Ke.message);else{const xt=rn.create("idb-set",{originalErrorMessage:Ke?.message});xn.warn(xt.message)}}})).apply(this,arguments)}function pt(Pe){return`${Pe.name}!${Pe.options.appId}`}class En{constructor(he){this.container=he,this._heartbeatsCache=null;const Ke=this.container.getProvider("app").getImmediate();this._storage=new Ar(Ke),this._heartbeatsCachePromise=this._storage.read().then(xt=>(this._heartbeatsCache=xt,xt))}triggerHeartbeat(){var he=this;return(0,S.A)(function*(){const xt=he.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),jt=Wt();if(null===he._heartbeatsCache&&(he._heartbeatsCache=yield he._heartbeatsCachePromise),he._heartbeatsCache.lastSentHeartbeatDate!==jt&&!he._heartbeatsCache.heartbeats.some(cn=>cn.date===jt))return he._heartbeatsCache.heartbeats.push({date:jt,agent:xt}),he._heartbeatsCache.heartbeats=he._heartbeatsCache.heartbeats.filter(cn=>{const on=new Date(cn.date).valueOf();return Date.now()-on<=2592e6}),he._storage.overwrite(he._heartbeatsCache)})()}getHeartbeatsHeader(){var he=this;return(0,S.A)(function*(){if(null===he._heartbeatsCache&&(yield he._heartbeatsCachePromise),null===he._heartbeatsCache||0===he._heartbeatsCache.heartbeats.length)return"";const Ke=Wt(),{heartbeatsToSend:xt,unsentEntries:jt}=function ir(Pe,he=1024){const Ke=[];let xt=Pe.slice();for(const jt of Pe){const cn=Ke.find(on=>on.agent===jt.agent);if(cn){if(cn.dates.push(jt.date),Mi(Ke)>he){cn.dates.pop();break}}else if(Ke.push({agent:jt.agent,dates:[jt.date]}),Mi(Ke)>he){Ke.pop();break}xt=xt.slice(1)}return{heartbeatsToSend:Ke,unsentEntries:xt}}(he._heartbeatsCache.heartbeats),cn=(0,ge.Uj)(JSON.stringify({version:2,heartbeats:xt}));return he._heartbeatsCache.lastSentHeartbeatDate=Ke,jt.length>0?(he._heartbeatsCache.heartbeats=jt,yield he._storage.overwrite(he._heartbeatsCache)):(he._heartbeatsCache.heartbeats=[],he._storage.overwrite(he._heartbeatsCache)),cn})()}}function Wt(){return(new Date).toISOString().substring(0,10)}class Ar{constructor(he){this.app=he,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,S.A)(function*(){return!!(0,ge.zW)()&&(0,ge.eX)().then(()=>!0).catch(()=>!1)})()}read(){var he=this;return(0,S.A)(function*(){return(yield he._canUseIndexedDBPromise)&&(yield function $(Pe){return G.apply(this,arguments)}(he.app))||{heartbeats:[]}})()}overwrite(he){var Ke=this;return(0,S.A)(function*(){var xt;if(yield Ke._canUseIndexedDBPromise){const cn=yield Ke.read();return de(Ke.app,{lastSentHeartbeatDate:null!==(xt=he.lastSentHeartbeatDate)&&void 0!==xt?xt:cn.lastSentHeartbeatDate,heartbeats:he.heartbeats})}})()}add(he){var Ke=this;return(0,S.A)(function*(){var xt;if(yield Ke._canUseIndexedDBPromise){const cn=yield Ke.read();return de(Ke.app,{lastSentHeartbeatDate:null!==(xt=he.lastSentHeartbeatDate)&&void 0!==xt?xt:cn.lastSentHeartbeatDate,heartbeats:[...cn.heartbeats,...he.heartbeats]})}})()}}function Mi(Pe){return(0,ge.Uj)(JSON.stringify({version:2,heartbeats:Pe})).length}!function hr(Pe){br(new ne.uA("platform-logger",he=>new ur(he),"PRIVATE")),br(new ne.uA("heartbeat",he=>new En(he),"PRIVATE")),qr(ke,"0.9.13",Pe),qr(ke,"0.9.13","esm2017"),qr("fire-js","")}("")},8779:(Lt,Le,j)=>{j.d(Le,{h1:()=>Oe,uA:()=>se});var S=j(467),ne=j(1401);class se{constructor(te,J,ve){this.name=te,this.instanceFactory=J,this.type=ve,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(te){return this.instantiationMode=te,this}setMultipleInstances(te){return this.multipleInstances=te,this}setServiceProps(te){return this.serviceProps=te,this}setInstanceCreatedCallback(te){return this.onInstanceCreated=te,this}}const ge="[DEFAULT]";class le{constructor(te,J){this.name=te,this.container=J,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(te){const J=this.normalizeInstanceIdentifier(te);if(!this.instancesDeferred.has(J)){const ve=new ne.cY;if(this.instancesDeferred.set(J,ve),this.isInitialized(J)||this.shouldAutoInitialize())try{const Ue=this.getOrInitializeService({instanceIdentifier:J});Ue&&ve.resolve(Ue)}catch{}}return this.instancesDeferred.get(J).promise}getImmediate(te){var J;const ve=this.normalizeInstanceIdentifier(te?.identifier),Ue=null!==(J=te?.optional)&&void 0!==J&&J;if(!this.isInitialized(ve)&&!this.shouldAutoInitialize()){if(Ue)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ve})}catch(fe){if(Ue)return null;throw fe}}getComponent(){return this.component}setComponent(te){if(te.name!==this.name)throw Error(`Mismatching Component ${te.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=te,this.shouldAutoInitialize()){if(function Q(Ne){return"EAGER"===Ne.instantiationMode}(te))try{this.getOrInitializeService({instanceIdentifier:ge})}catch{}for(const[J,ve]of this.instancesDeferred.entries()){const Ue=this.normalizeInstanceIdentifier(J);try{const fe=this.getOrInitializeService({instanceIdentifier:Ue});ve.resolve(fe)}catch{}}}}clearInstance(te=ge){this.instancesDeferred.delete(te),this.instancesOptions.delete(te),this.instances.delete(te)}delete(){var te=this;return(0,S.A)(function*(){const J=Array.from(te.instances.values());yield Promise.all([...J.filter(ve=>"INTERNAL"in ve).map(ve=>ve.INTERNAL.delete()),...J.filter(ve=>"_delete"in ve).map(ve=>ve._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(te=ge){return this.instances.has(te)}getOptions(te=ge){return this.instancesOptions.get(te)||{}}initialize(te={}){const{options:J={}}=te,ve=this.normalizeInstanceIdentifier(te.instanceIdentifier);if(this.isInitialized(ve))throw Error(`${this.name}(${ve}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ue=this.getOrInitializeService({instanceIdentifier:ve,options:J});for(const[fe,lt]of this.instancesDeferred.entries())ve===this.normalizeInstanceIdentifier(fe)&&lt.resolve(Ue);return Ue}onInit(te,J){var ve;const Ue=this.normalizeInstanceIdentifier(J),fe=null!==(ve=this.onInitCallbacks.get(Ue))&&void 0!==ve?ve:new Set;fe.add(te),this.onInitCallbacks.set(Ue,fe);const lt=this.instances.get(Ue);return lt&&te(lt,Ue),()=>{fe.delete(te)}}invokeOnInitCallbacks(te,J){const ve=this.onInitCallbacks.get(J);if(ve)for(const Ue of ve)try{Ue(te,J)}catch{}}getOrInitializeService({instanceIdentifier:te,options:J={}}){let ve=this.instances.get(te);if(!ve&&this.component&&(ve=this.component.instanceFactory(this.container,{instanceIdentifier:(Ne=te,Ne===ge?void 0:Ne),options:J}),this.instances.set(te,ve),this.instancesOptions.set(te,J),this.invokeOnInitCallbacks(ve,te),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,te,ve)}catch{}var Ne;return ve||null}normalizeInstanceIdentifier(te=ge){return this.component?this.component.multipleInstances?te:ge:te}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Oe{constructor(te){this.name=te,this.providers=new Map}addComponent(te){const J=this.getProvider(te.name);if(J.isComponentSet())throw new Error(`Component ${te.name} has already been registered with ${this.name}`);J.setComponent(te)}addOrOverwriteComponent(te){this.getProvider(te.name).isComponentSet()&&this.providers.delete(te.name),this.addComponent(te)}getProvider(te){if(this.providers.has(te))return this.providers.get(te);const J=new le(te,this);return this.providers.set(te,J),J}getProviders(){return Array.from(this.providers.values())}}},5398:(Lt,Le,j)=>{j.d(Le,{$b:()=>ne,Vy:()=>Q});const S=[];var ne=function(te){return te[te.DEBUG=0]="DEBUG",te[te.VERBOSE=1]="VERBOSE",te[te.INFO=2]="INFO",te[te.WARN=3]="WARN",te[te.ERROR=4]="ERROR",te[te.SILENT=5]="SILENT",te}(ne||{});const se={debug:ne.DEBUG,verbose:ne.VERBOSE,info:ne.INFO,warn:ne.WARN,error:ne.ERROR,silent:ne.SILENT},ge=ne.INFO,le={[ne.DEBUG]:"log",[ne.VERBOSE]:"log",[ne.INFO]:"info",[ne.WARN]:"warn",[ne.ERROR]:"error"},K=(te,J,...ve)=>{if(J<te.logLevel)return;const Ue=(new Date).toISOString(),fe=le[J];if(!fe)throw new Error(`Attempted to log a message with an invalid logType (value: ${J})`);console[fe](`[${Ue}]  ${te.name}:`,...ve)};class Q{constructor(J){this.name=J,this._logLevel=ge,this._logHandler=K,this._userLogHandler=null,S.push(this)}get logLevel(){return this._logLevel}set logLevel(J){if(!(J in ne))throw new TypeError(`Invalid value "${J}" assigned to \`logLevel\``);this._logLevel=J}setLogLevel(J){this._logLevel="string"==typeof J?se[J]:J}get logHandler(){return this._logHandler}set logHandler(J){if("function"!=typeof J)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=J}get userLogHandler(){return this._userLogHandler}set userLogHandler(J){this._userLogHandler=J}debug(...J){this._userLogHandler&&this._userLogHandler(this,ne.DEBUG,...J),this._logHandler(this,ne.DEBUG,...J)}log(...J){this._userLogHandler&&this._userLogHandler(this,ne.VERBOSE,...J),this._logHandler(this,ne.VERBOSE,...J)}info(...J){this._userLogHandler&&this._userLogHandler(this,ne.INFO,...J),this._logHandler(this,ne.INFO,...J)}warn(...J){this._userLogHandler&&this._userLogHandler(this,ne.WARN,...J),this._logHandler(this,ne.WARN,...J)}error(...J){this._userLogHandler&&this._userLogHandler(this,ne.ERROR,...J),this._logHandler(this,ne.ERROR,...J)}}},7037:(Lt,Le,j)=>{j.d(Le,{Dk:()=>S.Dk,KO:()=>S.KO,Sx:()=>S.Sx,Wp:()=>S.Wp});var S=j(2979);(0,S.KO)("firebase","9.23.0","app")},345:(Lt,Le,j)=>{j.d(Le,{Bb:()=>en,hE:()=>ai,sG:()=>Ut});var S=j(2598),ne=j(177);class se extends ne.VF{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class ge extends se{static makeCurrent(){(0,ne.ZD)(new ge)}onAndCancel(z,$,G){return z.addEventListener($,G),()=>{z.removeEventListener($,G)}}dispatchEvent(z,$){z.dispatchEvent($)}remove(z){z.parentNode&&z.parentNode.removeChild(z)}createElement(z,$){return($=$||this.getDefaultDocument()).createElement(z)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(z){return z.nodeType===Node.ELEMENT_NODE}isShadowRoot(z){return z instanceof DocumentFragment}getGlobalEventTarget(z,$){return"window"===$?window:"document"===$?z:"body"===$?z.body:null}getBaseHref(z){const $=function K(){return le=le||document.querySelector("base"),le?le.getAttribute("href"):null}();return null==$?null:function Oe(B){Q=Q||document.createElement("a"),Q.setAttribute("href",B);const z=Q.pathname;return"/"===z.charAt(0)?z:`/${z}`}($)}resetBaseElement(){le=null}getUserAgent(){return window.navigator.userAgent}getCookie(z){return(0,ne._b)(document.cookie,z)}}let Q,le=null,te=(()=>{class B{build(){return new XMLHttpRequest}static{this.\u0275fac=function(G){return new(G||B)}}static{this.\u0275prov=S.jDH({token:B,factory:B.\u0275fac})}}return B})();const J=new S.nKC("EventManagerPlugins");let ve=(()=>{class B{constructor($,G){this._zone=G,this._eventNameToPlugin=new Map,$.forEach(de=>{de.manager=this}),this._plugins=$.slice().reverse()}addEventListener($,G,de){return this._findPluginFor(G).addEventListener($,G,de)}getZone(){return this._zone}_findPluginFor($){let G=this._eventNameToPlugin.get($);if(G)return G;if(G=this._plugins.find($e=>$e.supports($)),!G)throw new S.wOt(5101,!1);return this._eventNameToPlugin.set($,G),G}static{this.\u0275fac=function(G){return new(G||B)(S.KVO(J),S.KVO(S.SKi))}}static{this.\u0275prov=S.jDH({token:B,factory:B.\u0275fac})}}return B})();class Ue{constructor(z){this._doc=z}}const fe="ng-app-id";let lt=(()=>{class B{constructor($,G,de,$e={}){this.doc=$,this.appId=G,this.nonce=de,this.platformId=$e,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,ne.Vy)($e),this.resetHostNodes()}addStyles($){for(const G of $)1===this.changeUsageCount(G,1)&&this.onStyleAdded(G)}removeStyles($){for(const G of $)this.changeUsageCount(G,-1)<=0&&this.onStyleRemoved(G)}ngOnDestroy(){const $=this.styleNodesInDOM;$&&($.forEach(G=>G.remove()),$.clear());for(const G of this.getAllStyles())this.onStyleRemoved(G);this.resetHostNodes()}addHost($){this.hostNodes.add($);for(const G of this.getAllStyles())this.addStyleToHost($,G)}removeHost($){this.hostNodes.delete($)}getAllStyles(){return this.styleRef.keys()}onStyleAdded($){for(const G of this.hostNodes)this.addStyleToHost(G,$)}onStyleRemoved($){const G=this.styleRef;G.get($)?.elements?.forEach(de=>de.remove()),G.delete($)}collectServerRenderedStyles(){const $=this.doc.head?.querySelectorAll(`style[${fe}="${this.appId}"]`);if($?.length){const G=new Map;return $.forEach(de=>{null!=de.textContent&&G.set(de.textContent,de)}),G}return null}changeUsageCount($,G){const de=this.styleRef;if(de.has($)){const $e=de.get($);return $e.usage+=G,$e.usage}return de.set($,{usage:G,elements:[]}),G}getStyleElement($,G){const de=this.styleNodesInDOM,$e=de?.get(G);if($e?.parentNode===$)return de.delete(G),$e.removeAttribute(fe),$e;{const pt=this.doc.createElement("style");return this.nonce&&pt.setAttribute("nonce",this.nonce),pt.textContent=G,this.platformIsServer&&pt.setAttribute(fe,this.appId),pt}}addStyleToHost($,G){const de=this.getStyleElement($,G);$.appendChild(de);const $e=this.styleRef,pt=$e.get(G)?.elements;pt?pt.push(de):$e.set(G,{elements:[de],usage:1})}resetHostNodes(){const $=this.hostNodes;$.clear(),$.add(this.doc.head)}static{this.\u0275fac=function(G){return new(G||B)(S.KVO(ne.qQ),S.KVO(S.sZ2),S.KVO(S.BIS,8),S.KVO(S.Agw))}}static{this.\u0275prov=S.jDH({token:B,factory:B.\u0275fac})}}return B})();const at={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},mt=/%COMP%/g,Je=new S.nKC("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function st(B,z){return z.map($=>$.replace(mt,B))}let Xe=(()=>{class B{constructor($,G,de,$e,pt,Kt,Ht,En=null){this.eventManager=$,this.sharedStylesHost=G,this.appId=de,this.removeStylesOnCompDestroy=$e,this.doc=pt,this.platformId=Kt,this.ngZone=Ht,this.nonce=En,this.rendererByCompId=new Map,this.platformIsServer=(0,ne.Vy)(Kt),this.defaultRenderer=new St($,pt,Ht,this.platformIsServer)}createRenderer($,G){if(!$||!G)return this.defaultRenderer;this.platformIsServer&&G.encapsulation===S.gXe.ShadowDom&&(G={...G,encapsulation:S.gXe.Emulated});const de=this.getOrCreateRenderer($,G);return de instanceof xn?de.applyToHost($):de instanceof Pt&&de.applyStyles(),de}getOrCreateRenderer($,G){const de=this.rendererByCompId;let $e=de.get(G.id);if(!$e){const pt=this.doc,Kt=this.ngZone,Ht=this.eventManager,En=this.sharedStylesHost,Wt=this.removeStylesOnCompDestroy,ir=this.platformIsServer;switch(G.encapsulation){case S.gXe.Emulated:$e=new xn(Ht,En,G,this.appId,Wt,pt,Kt,ir);break;case S.gXe.ShadowDom:return new ke(Ht,En,$,G,pt,Kt,this.nonce,ir);default:$e=new Pt(Ht,En,G,Wt,pt,Kt,ir)}de.set(G.id,$e)}return $e}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(G){return new(G||B)(S.KVO(ve),S.KVO(lt),S.KVO(S.sZ2),S.KVO(Je),S.KVO(ne.qQ),S.KVO(S.Agw),S.KVO(S.SKi),S.KVO(S.BIS))}}static{this.\u0275prov=S.jDH({token:B,factory:B.\u0275fac})}}return B})();class St{constructor(z,$,G,de){this.eventManager=z,this.doc=$,this.ngZone=G,this.platformIsServer=de,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(z,$){return $?this.doc.createElementNS(at[$]||$,z):this.doc.createElement(z)}createComment(z){return this.doc.createComment(z)}createText(z){return this.doc.createTextNode(z)}appendChild(z,$){(Dt(z)?z.content:z).appendChild($)}insertBefore(z,$,G){z&&(Dt(z)?z.content:z).insertBefore($,G)}removeChild(z,$){z&&z.removeChild($)}selectRootElement(z,$){let G="string"==typeof z?this.doc.querySelector(z):z;if(!G)throw new S.wOt(-5104,!1);return $||(G.textContent=""),G}parentNode(z){return z.parentNode}nextSibling(z){return z.nextSibling}setAttribute(z,$,G,de){if(de){$=de+":"+$;const $e=at[de];$e?z.setAttributeNS($e,$,G):z.setAttribute($,G)}else z.setAttribute($,G)}removeAttribute(z,$,G){if(G){const de=at[G];de?z.removeAttributeNS(de,$):z.removeAttribute(`${G}:${$}`)}else z.removeAttribute($)}addClass(z,$){z.classList.add($)}removeClass(z,$){z.classList.remove($)}setStyle(z,$,G,de){de&(S.czy.DashCase|S.czy.Important)?z.style.setProperty($,G,de&S.czy.Important?"important":""):z.style[$]=G}removeStyle(z,$,G){G&S.czy.DashCase?z.style.removeProperty($):z.style[$]=""}setProperty(z,$,G){z[$]=G}setValue(z,$){z.nodeValue=$}listen(z,$,G){if("string"==typeof z&&!(z=(0,ne.QT)().getGlobalEventTarget(this.doc,z)))throw new Error(`Unsupported event target ${z} for event ${$}`);return this.eventManager.addEventListener(z,$,this.decoratePreventDefault(G))}decoratePreventDefault(z){return $=>{if("__ngUnwrap__"===$)return z;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>z($)):z($))&&$.preventDefault()}}}function Dt(B){return"TEMPLATE"===B.tagName&&void 0!==B.content}class ke extends St{constructor(z,$,G,de,$e,pt,Kt,Ht){super(z,$e,pt,Ht),this.sharedStylesHost=$,this.hostEl=G,this.shadowRoot=G.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const En=st(de.id,de.styles);for(const Wt of En){const ir=document.createElement("style");Kt&&ir.setAttribute("nonce",Kt),ir.textContent=Wt,this.shadowRoot.appendChild(ir)}}nodeOrShadowRoot(z){return z===this.hostEl?this.shadowRoot:z}appendChild(z,$){return super.appendChild(this.nodeOrShadowRoot(z),$)}insertBefore(z,$,G){return super.insertBefore(this.nodeOrShadowRoot(z),$,G)}removeChild(z,$){return super.removeChild(this.nodeOrShadowRoot(z),$)}parentNode(z){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(z)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Pt extends St{constructor(z,$,G,de,$e,pt,Kt,Ht){super(z,$e,pt,Kt),this.sharedStylesHost=$,this.removeStylesOnCompDestroy=de,this.styles=Ht?st(Ht,G.styles):G.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class xn extends Pt{constructor(z,$,G,de,$e,pt,Kt,Ht){const En=de+"-"+G.id;super(z,$,G,$e,pt,Kt,Ht,En),this.contentAttr=function Me(B){return"_ngcontent-%COMP%".replace(mt,B)}(En),this.hostAttr=function it(B){return"_nghost-%COMP%".replace(mt,B)}(En)}applyToHost(z){this.applyStyles(),this.setAttribute(z,this.hostAttr,"")}createElement(z,$){const G=super.createElement(z,$);return super.setAttribute(G,this.contentAttr,""),G}}let cr=(()=>{class B extends Ue{constructor($){super($)}supports($){return!0}addEventListener($,G,de){return $.addEventListener(G,de,!1),()=>this.removeEventListener($,G,de)}removeEventListener($,G,de){return $.removeEventListener(G,de)}static{this.\u0275fac=function(G){return new(G||B)(S.KVO(ne.qQ))}}static{this.\u0275prov=S.jDH({token:B,factory:B.\u0275fac})}}return B})();const Kr=["alt","control","meta","shift"],hn={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Rn={alt:B=>B.altKey,control:B=>B.ctrlKey,meta:B=>B.metaKey,shift:B=>B.shiftKey};let Ee=(()=>{class B extends Ue{constructor($){super($)}supports($){return null!=B.parseEventName($)}addEventListener($,G,de){const $e=B.parseEventName(G),pt=B.eventCallback($e.fullKey,de,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,ne.QT)().onAndCancel($,$e.domEventName,pt))}static parseEventName($){const G=$.toLowerCase().split("."),de=G.shift();if(0===G.length||"keydown"!==de&&"keyup"!==de)return null;const $e=B._normalizeKey(G.pop());let pt="",Kt=G.indexOf("code");if(Kt>-1&&(G.splice(Kt,1),pt="code."),Kr.forEach(En=>{const Wt=G.indexOf(En);Wt>-1&&(G.splice(Wt,1),pt+=En+".")}),pt+=$e,0!=G.length||0===$e.length)return null;const Ht={};return Ht.domEventName=de,Ht.fullKey=pt,Ht}static matchEventFullKeyCode($,G){let de=hn[$.key]||$.key,$e="";return G.indexOf("code.")>-1&&(de=$.code,$e="code."),!(null==de||!de)&&(de=de.toLowerCase()," "===de?de="space":"."===de&&(de="dot"),Kr.forEach(pt=>{pt!==de&&(0,Rn[pt])($)&&($e+=pt+".")}),$e+=de,$e===G)}static eventCallback($,G,de){return $e=>{B.matchEventFullKeyCode($e,$)&&de.runGuarded(()=>G($e))}}static _normalizeKey($){return"esc"===$?"escape":$}static{this.\u0275fac=function(G){return new(G||B)(S.KVO(ne.qQ))}}static{this.\u0275prov=S.jDH({token:B,factory:B.\u0275fac})}}return B})();const Ut=(0,S.oH4)(S.fpN,"browser",[{provide:S.Agw,useValue:ne.AJ},{provide:S.PLl,useValue:function He(){ge.makeCurrent()},multi:!0},{provide:ne.qQ,useFactory:function Ft(){return(0,S.TL$)(document),document},deps:[]}]),In=new S.nKC(""),Yt=[{provide:S.e01,useClass:class Ne{addToWindow(z){S.JZv.getAngularTestability=(G,de=!0)=>{const $e=z.findTestabilityInTree(G,de);if(null==$e)throw new S.wOt(5103,!1);return $e},S.JZv.getAllAngularTestabilities=()=>z.getAllTestabilities(),S.JZv.getAllAngularRootElements=()=>z.getAllRootElements(),S.JZv.frameworkStabilizers||(S.JZv.frameworkStabilizers=[]),S.JZv.frameworkStabilizers.push(G=>{const de=S.JZv.getAllAngularTestabilities();let $e=de.length,pt=!1;const Kt=function(Ht){pt=pt||Ht,$e--,0==$e&&G(pt)};de.forEach(Ht=>{Ht.whenStable(Kt)})})}findTestabilityInTree(z,$,G){return null==$?null:z.getTestability($)??(G?(0,ne.QT)().isShadowRoot($)?this.findTestabilityInTree(z,$.host,!0):this.findTestabilityInTree(z,$.parentElement,!0):null)}},deps:[]},{provide:S.WHO,useClass:S.NYb,deps:[S.SKi,S.giA,S.e01]},{provide:S.NYb,useClass:S.NYb,deps:[S.SKi,S.giA,S.e01]}],Et=[{provide:S.H8p,useValue:"root"},{provide:S.zcH,useFactory:function ot(){return new S.zcH},deps:[]},{provide:J,useClass:cr,multi:!0,deps:[ne.qQ,S.SKi,S.Agw]},{provide:J,useClass:Ee,multi:!0,deps:[ne.qQ]},Xe,lt,ve,{provide:S._9s,useExisting:Xe},{provide:ne.N0,useClass:te,deps:[]},[]];let en=(()=>{class B{constructor($){}static withServerTransition($){return{ngModule:B,providers:[{provide:S.sZ2,useValue:$.appId}]}}static{this.\u0275fac=function(G){return new(G||B)(S.KVO(In,12))}}static{this.\u0275mod=S.$C({type:B})}static{this.\u0275inj=S.G2t({providers:[...Et,...Yt],imports:[ne.MD,S.Hbi]})}}return B})(),ai=(()=>{class B{constructor($){this._doc=$}getTitle(){return this._doc.title}setTitle($){this._doc.title=$||""}static{this.\u0275fac=function(G){return new(G||B)(S.KVO(ne.qQ))}}static{this.\u0275prov=S.jDH({token:B,factory:function(G){let de=null;return de=G?new G:function Pn(){return new ai((0,S.KVO)(ne.qQ))}(),de},providedIn:"root"})}}return B})();typeof window<"u"&&window},7711:(Lt,Le,j)=>{j.d(Le,{Ix:()=>Nn,Wk:()=>Yo,iI:()=>qi,n3:()=>gi});var S=j(2598),ne=j(1985),se=j(8071),le=j(8455),K=j(7673),Q=j(4412),Oe=j(3073),Ne=j(3669),te=j(6450),J=j(9326),ve=j(8496),Ue=j(4360),fe=j(5225);function lt(...y){const D=(0,J.lI)(y),m=(0,J.ms)(y),{args:b,keys:R}=(0,Oe.D)(y);if(0===b.length)return(0,le.H)([],D);const V=new ne.c(function at(y,D,m=Ne.D){return b=>{mt(D,()=>{const{length:R}=y,V=new Array(R);let Y=R,Ie=R;for(let _e=0;_e<R;_e++)mt(D,()=>{const yt=(0,le.H)(y[_e],D);let Jt=!1;yt.subscribe((0,Ue._)(b,Un=>{V[_e]=Un,Jt||(Jt=!0,Ie--),Ie||b.next(m(V.slice()))},()=>{--Y||b.complete()}))},b)},b)}}(b,D,R?Y=>(0,ve.e)(R,Y):Ne.D));return m?V.pipe((0,te.I)(m)):V}function mt(y,D,m){y?(0,fe.N)(m,y,D):D()}const qt=(0,j(1853).L)(y=>function(){y(this),this.name="EmptyError",this.message="no elements in sequence"});var On=j(8793),et=j(8750);function Je(y){return new ne.c(D=>{(0,et.Tg)(y()).subscribe(D)})}var Me=j(1203);function it(y,D){const m=(0,se.T)(y)?y:()=>y,b=R=>R.error(m());return new ne.c(D?R=>D.schedule(b,0,R):b)}var st=j(983),Xe=j(8359),St=j(9974);function Ye(){return(0,St.N)((y,D)=>{let m=null;y._refCount++;const b=(0,Ue._)(D,void 0,void 0,void 0,()=>{if(!y||y._refCount<=0||0<--y._refCount)return void(m=null);const R=y._connection,V=m;m=null,R&&(!V||R===V)&&R.unsubscribe(),D.unsubscribe()});y.subscribe(b),b.closed||(m=y.connect())})}class ur extends ne.c{constructor(D,m){super(),this.source=D,this.subjectFactory=m,this._subject=null,this._refCount=0,this._connection=null,(0,St.S)(D)&&(this.lift=D.lift)}_subscribe(D){return this.getSubject().subscribe(D)}getSubject(){const D=this._subject;return(!D||D.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:D}=this;this._subject=this._connection=null,D?.unsubscribe()}connect(){let D=this._connection;if(!D){D=this._connection=new Xe.yU;const m=this.getSubject();D.add(this.source.subscribe((0,Ue._)(m,void 0,()=>{this._teardown(),m.complete()},b=>{this._teardown(),m.error(b)},()=>this._teardown()))),D.closed&&(this._connection=null,D=Xe.yU.EMPTY)}return D}refCount(){return Ye()(this)}}var Dt=j(1413),ke=j(177),Pt=j(6354),xn=j(5558);function cr(y){return y<=0?()=>st.w:(0,St.N)((D,m)=>{let b=0;D.subscribe((0,Ue._)(m,R=>{++b<=y&&(m.next(R),y<=b&&m.complete())}))})}var Kr=j(9172),hn=j(5964),Rn=j(1397);function Ee(y){return(0,St.N)((D,m)=>{let b=!1;D.subscribe((0,Ue._)(m,R=>{b=!0,m.next(R)},()=>{b||m.next(y),m.complete()}))})}function be(y=we){return(0,St.N)((D,m)=>{let b=!1;D.subscribe((0,Ue._)(m,R=>{b=!0,m.next(R)},()=>b?m.complete():m.error(y())))})}function we(){return new qt}function xe(y,D){const m=arguments.length>=2;return b=>b.pipe(y?(0,hn.p)((R,V)=>y(R,V,b)):Ne.D,cr(1),m?Ee(D):be(()=>new qt))}function ze(y,D){return(0,se.T)(D)?(0,Rn.Z)(y,D,1):(0,Rn.Z)(y,1)}var He=j(8141);function ot(y){return(0,St.N)((D,m)=>{let V,b=null,R=!1;b=D.subscribe((0,Ue._)(m,void 0,void 0,Y=>{V=(0,et.Tg)(y(Y,ot(y)(D))),b?(b.unsubscribe(),b=null,V.subscribe(m)):R=!0})),R&&(b.unsubscribe(),b=null,V.subscribe(m))})}function Ut(y){return y<=0?()=>st.w:(0,St.N)((D,m)=>{let b=[];D.subscribe((0,Ue._)(m,R=>{b.push(R),y<b.length&&b.shift()},()=>{for(const R of b)m.next(R);m.complete()},void 0,()=>{b=null}))})}function Et(y){return(0,St.N)((D,m)=>{try{D.subscribe(m)}finally{m.add(y)}})}var en=j(6977),Yn=j(6365),Bn=j(345);const _t="primary",Pn=Symbol("RouteTitle");class ai{constructor(D){this.params=D||{}}has(D){return Object.prototype.hasOwnProperty.call(this.params,D)}get(D){if(this.has(D)){const m=this.params[D];return Array.isArray(m)?m[0]:m}return null}getAll(D){if(this.has(D)){const m=this.params[D];return Array.isArray(m)?m:[m]}return[]}get keys(){return Object.keys(this.params)}}function lr(y){return new ai(y)}function Nr(y,D,m){const b=m.path.split("/");if(b.length>y.length||"full"===m.pathMatch&&(D.hasChildren()||b.length<y.length))return null;const R={};for(let V=0;V<b.length;V++){const Y=b[V],Ie=y[V];if(Y.startsWith(":"))R[Y.substring(1)]=Ie;else if(Y!==Ie.path)return null}return{consumed:y.slice(0,b.length),posParams:R}}function Gt(y,D){const m=y?Object.keys(y):void 0,b=D?Object.keys(D):void 0;if(!m||!b||m.length!=b.length)return!1;let R;for(let V=0;V<m.length;V++)if(R=m[V],!Qt(y[R],D[R]))return!1;return!0}function Qt(y,D){if(Array.isArray(y)&&Array.isArray(D)){if(y.length!==D.length)return!1;const m=[...y].sort(),b=[...D].sort();return m.every((R,V)=>b[V]===R)}return y===D}function rr(y){return y.length>0?y[y.length-1]:null}function jn(y){return function ge(y){return!!y&&(y instanceof ne.c||(0,se.T)(y.lift)&&(0,se.T)(y.subscribe))}(y)?y:(0,S.jNT)(y)?(0,le.H)(Promise.resolve(y)):(0,K.of)(y)}const Cr={exact:function wn(y,D,m){if(!dr(y.segments,D.segments)||!pn(y.segments,D.segments,m)||y.numberOfChildren!==D.numberOfChildren)return!1;for(const b in D.children)if(!y.children[b]||!wn(y.children[b],D.children[b],m))return!1;return!0},subset:rn},br={exact:function Or(y,D){return Gt(y,D)},subset:function Jn(y,D){return Object.keys(D).length<=Object.keys(y).length&&Object.keys(D).every(m=>Qt(y[m],D[m]))},ignored:()=>!0};function kt(y,D,m){return Cr[m.paths](y.root,D.root,m.matrixParams)&&br[m.queryParams](y.queryParams,D.queryParams)&&!("exact"===m.fragment&&y.fragment!==D.fragment)}function rn(y,D,m){return Ai(y,D,D.segments,m)}function Ai(y,D,m,b){if(y.segments.length>m.length){const R=y.segments.slice(0,m.length);return!(!dr(R,m)||D.hasChildren()||!pn(R,m,b))}if(y.segments.length===m.length){if(!dr(y.segments,m)||!pn(y.segments,m,b))return!1;for(const R in D.children)if(!y.children[R]||!rn(y.children[R],D.children[R],b))return!1;return!0}{const R=m.slice(0,y.segments.length),V=m.slice(y.segments.length);return!!(dr(y.segments,R)&&pn(y.segments,R,b)&&y.children[_t])&&Ai(y.children[_t],D,V,b)}}function pn(y,D,m){return D.every((b,R)=>br[m](y[R].parameters,b.parameters))}class Ei{constructor(D=new sn([],{}),m={},b=null){this.root=D,this.queryParams=m,this.fragment=b}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=lr(this.queryParams)),this._queryParamMap}toString(){return gn.serialize(this)}}class sn{constructor(D,m){this.segments=D,this.children=m,this.parent=null,Object.values(m).forEach(b=>b.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return _r(this)}}class Xt{constructor(D,m){this.path=D,this.parameters=m}get parameterMap(){return this._parameterMap||(this._parameterMap=lr(this.parameters)),this._parameterMap}toString(){return pt(this)}}function dr(y,D){return y.length===D.length&&y.every((m,b)=>m.path===D[b].path)}let Pr=(()=>{class y{static{this.\u0275fac=function(b){return new(b||y)}}static{this.\u0275prov=S.jDH({token:y,factory:function(){return new kn},providedIn:"root"})}}return y})();class kn{parse(D){const m=new Ke(D);return new Ei(m.parseRootSegment(),m.parseQueryParams(),m.parseFragment())}serialize(D){const m=`/${re(D.root,!0)}`,b=function Ht(y){const D=Object.keys(y).map(m=>{const b=y[m];return Array.isArray(b)?b.map(R=>`${z(m)}=${z(R)}`).join("&"):`${z(m)}=${z(b)}`}).filter(m=>!!m);return D.length?`?${D.join("&")}`:""}(D.queryParams);return`${m}${b}${"string"==typeof D.fragment?`#${function $(y){return encodeURI(y)}(D.fragment)}`:""}`}}const gn=new kn;function _r(y){return y.segments.map(D=>pt(D)).join("/")}function re(y,D){if(!y.hasChildren())return _r(y);if(D){const m=y.children[_t]?re(y.children[_t],!1):"",b=[];return Object.entries(y.children).forEach(([R,V])=>{R!==_t&&b.push(`${R}:${re(V,!1)}`)}),b.length>0?`${m}(${b.join("//")})`:m}{const m=function qr(y,D){let m=[];return Object.entries(y.children).forEach(([b,R])=>{b===_t&&(m=m.concat(D(R,b)))}),Object.entries(y.children).forEach(([b,R])=>{b!==_t&&(m=m.concat(D(R,b)))}),m}(y,(b,R)=>R===_t?[re(y.children[_t],!1)]:[`${R}:${re(b,!1)}`]);return 1===Object.keys(y.children).length&&null!=y.children[_t]?`${_r(y)}/${m[0]}`:`${_r(y)}/(${m.join("//")})`}}function B(y){return encodeURIComponent(y).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function z(y){return B(y).replace(/%3B/gi,";")}function G(y){return B(y).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function de(y){return decodeURIComponent(y)}function $e(y){return de(y.replace(/\+/g,"%20"))}function pt(y){return`${G(y.path)}${function Kt(y){return Object.keys(y).map(D=>`;${G(D)}=${G(y[D])}`).join("")}(y.parameters)}`}const En=/^[^\/()?;#]+/;function Wt(y){const D=y.match(En);return D?D[0]:""}const ir=/^[^\/()?;=#]+/,Mi=/^[^=?&#]+/,Pe=/^[^&#]+/;class Ke{constructor(D){this.url=D,this.remaining=D}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new sn([],{}):new sn([],this.parseChildren())}parseQueryParams(){const D={};if(this.consumeOptional("?"))do{this.parseQueryParam(D)}while(this.consumeOptional("&"));return D}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const D=[];for(this.peekStartsWith("(")||D.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),D.push(this.parseSegment());let m={};this.peekStartsWith("/(")&&(this.capture("/"),m=this.parseParens(!0));let b={};return this.peekStartsWith("(")&&(b=this.parseParens(!1)),(D.length>0||Object.keys(m).length>0)&&(b[_t]=new sn(D,m)),b}parseSegment(){const D=Wt(this.remaining);if(""===D&&this.peekStartsWith(";"))throw new S.wOt(4009,!1);return this.capture(D),new Xt(de(D),this.parseMatrixParams())}parseMatrixParams(){const D={};for(;this.consumeOptional(";");)this.parseParam(D);return D}parseParam(D){const m=function Ar(y){const D=y.match(ir);return D?D[0]:""}(this.remaining);if(!m)return;this.capture(m);let b="";if(this.consumeOptional("=")){const R=Wt(this.remaining);R&&(b=R,this.capture(b))}D[de(m)]=de(b)}parseQueryParam(D){const m=function hr(y){const D=y.match(Mi);return D?D[0]:""}(this.remaining);if(!m)return;this.capture(m);let b="";if(this.consumeOptional("=")){const Y=function he(y){const D=y.match(Pe);return D?D[0]:""}(this.remaining);Y&&(b=Y,this.capture(b))}const R=$e(m),V=$e(b);if(D.hasOwnProperty(R)){let Y=D[R];Array.isArray(Y)||(Y=[Y],D[R]=Y),Y.push(V)}else D[R]=V}parseParens(D){const m={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const b=Wt(this.remaining),R=this.remaining[b.length];if("/"!==R&&")"!==R&&";"!==R)throw new S.wOt(4010,!1);let V;b.indexOf(":")>-1?(V=b.slice(0,b.indexOf(":")),this.capture(V),this.capture(":")):D&&(V=_t);const Y=this.parseChildren();m[V]=1===Object.keys(Y).length?Y[_t]:new sn([],Y),this.consumeOptional("//")}return m}peekStartsWith(D){return this.remaining.startsWith(D)}consumeOptional(D){return!!this.peekStartsWith(D)&&(this.remaining=this.remaining.substring(D.length),!0)}capture(D){if(!this.consumeOptional(D))throw new S.wOt(4011,!1)}}function xt(y){return y.segments.length>0?new sn([],{[_t]:y}):y}function jt(y){const D={};for(const b of Object.keys(y.children)){const V=jt(y.children[b]);if(b===_t&&0===V.segments.length&&V.hasChildren())for(const[Y,Ie]of Object.entries(V.children))D[Y]=Ie;else(V.segments.length>0||V.hasChildren())&&(D[b]=V)}return function cn(y){if(1===y.numberOfChildren&&y.children[_t]){const D=y.children[_t];return new sn(y.segments.concat(D.segments),D.children)}return y}(new sn(y.segments,D))}function on(y){return y instanceof Ei}function Ln(y){let D;const R=xt(function m(V){const Y={};for(const _e of V.children){const yt=m(_e);Y[_e.outlet]=yt}const Ie=new sn(V.url,Y);return V===y&&(D=Ie),Ie}(y.root));return D??R}function Lr(y,D,m,b){let R=y;for(;R.parent;)R=R.parent;if(0===D.length)return dn(R,R,R,m,b);const V=function Hs(y){if("string"==typeof y[0]&&1===y.length&&"/"===y[0])return new fs(!0,0,y);let D=0,m=!1;const b=y.reduce((R,V,Y)=>{if("object"==typeof V&&null!=V){if(V.outlets){const Ie={};return Object.entries(V.outlets).forEach(([_e,yt])=>{Ie[_e]="string"==typeof yt?yt.split("/"):yt}),[...R,{outlets:Ie}]}if(V.segmentPath)return[...R,V.segmentPath]}return"string"!=typeof V?[...R,V]:0===Y?(V.split("/").forEach((Ie,_e)=>{0==_e&&"."===Ie||(0==_e&&""===Ie?m=!0:".."===Ie?D++:""!=Ie&&R.push(Ie))}),R):[...R,V]},[]);return new fs(m,D,b)}(D);if(V.toRoot())return dn(R,R,new sn([],{}),m,b);const Y=function wi(y,D,m){if(y.isAbsolute)return new ps(D,!0,0);if(!m)return new ps(D,!1,NaN);if(null===m.parent)return new ps(m,!0,0);const b=ui(y.commands[0])?0:1;return function Sr(y,D,m){let b=y,R=D,V=m;for(;V>R;){if(V-=R,b=b.parent,!b)throw new S.wOt(4005,!1);R=b.segments.length}return new ps(b,!1,R-V)}(m,m.segments.length-1+b,y.numberOfDoubleDots)}(V,R,y),Ie=Y.processChildren?gs(Y.segmentGroup,Y.index,V.commands):ki(Y.segmentGroup,Y.index,V.commands);return dn(R,Y.segmentGroup,Ie,m,b)}function ui(y){return"object"==typeof y&&null!=y&&!y.outlets&&!y.segmentPath}function Fr(y){return"object"==typeof y&&null!=y&&y.outlets}function dn(y,D,m,b,R){let Y,V={};b&&Object.entries(b).forEach(([_e,yt])=>{V[_e]=Array.isArray(yt)?yt.map(Jt=>`${Jt}`):`${yt}`}),Y=y===D?m:Pi(y,D,m);const Ie=xt(jt(Y));return new Ei(Ie,V,R)}function Pi(y,D,m){const b={};return Object.entries(y.children).forEach(([R,V])=>{b[R]=V===D?m:Pi(V,D,m)}),new sn(y.segments,b)}class fs{constructor(D,m,b){if(this.isAbsolute=D,this.numberOfDoubleDots=m,this.commands=b,D&&b.length>0&&ui(b[0]))throw new S.wOt(4003,!1);const R=b.find(Fr);if(R&&R!==rr(b))throw new S.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ps{constructor(D,m,b){this.segmentGroup=D,this.processChildren=m,this.index=b}}function ki(y,D,m){if(y||(y=new sn([],{})),0===y.segments.length&&y.hasChildren())return gs(y,D,m);const b=function ca(y,D,m){let b=0,R=D;const V={match:!1,pathIndex:0,commandIndex:0};for(;R<y.segments.length;){if(b>=m.length)return V;const Y=y.segments[R],Ie=m[b];if(Fr(Ie))break;const _e=`${Ie}`,yt=b<m.length-1?m[b+1]:null;if(R>0&&void 0===_e)break;if(_e&&yt&&"object"==typeof yt&&void 0===yt.outlets){if(!Ve(_e,yt,Y))return V;b+=2}else{if(!Ve(_e,{},Y))return V;b++}R++}return{match:!0,pathIndex:R,commandIndex:b}}(y,D,m),R=m.slice(b.commandIndex);if(b.match&&b.pathIndex<y.segments.length){const V=new sn(y.segments.slice(0,b.pathIndex),{});return V.children[_t]=new sn(y.segments.slice(b.pathIndex),y.children),gs(V,0,R)}return b.match&&0===R.length?new sn(y.segments,{}):b.match&&!y.hasChildren()?ae(y,D,m):b.match?gs(y,0,R):ae(y,D,m)}function gs(y,D,m){if(0===m.length)return new sn(y.segments,{});{const b=function xs(y){return Fr(y[0])?y[0].outlets:{[_t]:y}}(m),R={};if(Object.keys(b).some(V=>V!==_t)&&y.children[_t]&&1===y.numberOfChildren&&0===y.children[_t].segments.length){const V=gs(y.children[_t],D,m);return new sn(y.segments,V.children)}return Object.entries(b).forEach(([V,Y])=>{"string"==typeof Y&&(Y=[Y]),null!==Y&&(R[V]=ki(y.children[V],D,Y))}),Object.entries(y.children).forEach(([V,Y])=>{void 0===b[V]&&(R[V]=Y)}),new sn(y.segments,R)}}function ae(y,D,m){const b=y.segments.slice(0,D);let R=0;for(;R<m.length;){const V=m[R];if(Fr(V)){const _e=ue(V.outlets);return new sn(b,_e)}if(0===R&&ui(m[0])){b.push(new Xt(y.segments[D].path,Te(m[0]))),R++;continue}const Y=Fr(V)?V.outlets[_t]:`${V}`,Ie=R<m.length-1?m[R+1]:null;Y&&Ie&&ui(Ie)?(b.push(new Xt(Y,Te(Ie))),R+=2):(b.push(new Xt(Y,{})),R++)}return new sn(b,{})}function ue(y){const D={};return Object.entries(y).forEach(([m,b])=>{"string"==typeof b&&(b=[b]),null!==b&&(D[m]=ae(new sn([],{}),0,b))}),D}function Te(y){const D={};return Object.entries(y).forEach(([m,b])=>D[m]=`${b}`),D}function Ve(y,D,m){return y==m.path&&Gt(D,m.parameters)}const tt="imperative";class Rt{constructor(D,m){this.id=D,this.url=m}}class mn extends Rt{constructor(D,m,b="imperative",R=null){super(D,m),this.type=0,this.navigationTrigger=b,this.restoredState=R}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ln extends Rt{constructor(D,m,b){super(D,m),this.urlAfterRedirects=b,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Zt extends Rt{constructor(D,m,b,R){super(D,m),this.reason=b,this.code=R,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class pi extends Rt{constructor(D,m,b,R){super(D,m),this.reason=b,this.code=R,this.type=16}}class zr extends Rt{constructor(D,m,b,R){super(D,m),this.error=b,this.target=R,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class ci extends Rt{constructor(D,m,b,R){super(D,m),this.urlAfterRedirects=b,this.state=R,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Zr extends Rt{constructor(D,m,b,R){super(D,m),this.urlAfterRedirects=b,this.state=R,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class jo extends Rt{constructor(D,m,b,R,V){super(D,m),this.urlAfterRedirects=b,this.state=R,this.shouldActivate=V,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class eu extends Rt{constructor(D,m,b,R){super(D,m),this.urlAfterRedirects=b,this.state=R,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class $o extends Rt{constructor(D,m,b,R){super(D,m),this.urlAfterRedirects=b,this.state=R,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ho{constructor(D){this.route=D,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Fa{constructor(D){this.route=D,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ms{constructor(D){this.snapshot=D,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class la{constructor(D){this.snapshot=D,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class da{constructor(D){this.snapshot=D,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Rs{constructor(D){this.snapshot=D,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ys{constructor(D,m,b){this.routerEvent=D,this.position=m,this.anchor=b,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Ns{}class so{constructor(D){this.url=D}}class nu{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new zs,this.attachRef=null}}let zs=(()=>{class y{constructor(){this.contexts=new Map}onChildOutletCreated(m,b){const R=this.getOrCreateContext(m);R.outlet=b,this.contexts.set(m,R)}onChildOutletDestroyed(m){const b=this.getContext(m);b&&(b.outlet=null,b.attachRef=null)}onOutletDeactivated(){const m=this.contexts;return this.contexts=new Map,m}onOutletReAttached(m){this.contexts=m}getOrCreateContext(m){let b=this.getContext(m);return b||(b=new nu,this.contexts.set(m,b)),b}getContext(m){return this.contexts.get(m)||null}static{this.\u0275fac=function(b){return new(b||y)}}static{this.\u0275prov=S.jDH({token:y,factory:y.\u0275fac,providedIn:"root"})}}return y})();class Cn{constructor(D){this._root=D}get root(){return this._root.value}parent(D){const m=this.pathFromRoot(D);return m.length>1?m[m.length-2]:null}children(D){const m=$n(D,this._root);return m?m.children.map(b=>b.value):[]}firstChild(D){const m=$n(D,this._root);return m&&m.children.length>0?m.children[0].value:null}siblings(D){const m=fr(D,this._root);return m.length<2?[]:m[m.length-2].children.map(R=>R.value).filter(R=>R!==D)}pathFromRoot(D){return fr(D,this._root).map(m=>m.value)}}function $n(y,D){if(y===D.value)return D;for(const m of D.children){const b=$n(y,m);if(b)return b}return null}function fr(y,D){if(y===D.value)return[D];for(const m of D.children){const b=fr(y,m);if(b.length)return b.unshift(D),b}return[]}class Qr{constructor(D,m){this.value=D,this.children=m}toString(){return`TreeNode(${this.value})`}}function pr(y){const D={};return y&&y.children.forEach(m=>D[m.value.outlet]=m),D}class Hi extends Cn{constructor(D,m){super(D),this.snapshot=m,Wn(this,D)}toString(){return this.snapshot.toString()}}function Fn(y,D){const m=function Os(y,D){const Y=new vt([],{},{},"",{},_t,D,null,{});return new nn("",new Qr(Y,[]))}(0,D),b=new Q.t([new Xt("",{})]),R=new Q.t({}),V=new Q.t({}),Y=new Q.t({}),Ie=new Q.t(""),_e=new Li(b,R,Y,Ie,V,_t,D,m.root);return _e.snapshot=m.root,new Hi(new Qr(_e,[]),m)}class Li{constructor(D,m,b,R,V,Y,Ie,_e){this.urlSubject=D,this.paramsSubject=m,this.queryParamsSubject=b,this.fragmentSubject=R,this.dataSubject=V,this.outlet=Y,this.component=Ie,this._futureSnapshot=_e,this.title=this.dataSubject?.pipe((0,Pt.T)(yt=>yt[Pn]))??(0,K.of)(void 0),this.url=D,this.params=m,this.queryParams=b,this.fragment=R,this.data=V}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Pt.T)(D=>lr(D)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Pt.T)(D=>lr(D)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function zo(y,D="emptyOnly"){const m=y.pathFromRoot;let b=0;if("always"!==D)for(b=m.length-1;b>=1;){const R=m[b],V=m[b-1];if(R.routeConfig&&""===R.routeConfig.path)b--;else{if(V.component)break;b--}}return function Ir(y){return y.reduce((D,m)=>({params:{...D.params,...m.params},data:{...D.data,...m.data},resolve:{...m.data,...D.resolve,...m.routeConfig?.data,...m._resolvedData}}),{params:{},data:{},resolve:{}})}(m.slice(b))}class vt{get title(){return this.data?.[Pn]}constructor(D,m,b,R,V,Y,Ie,_e,yt){this.url=D,this.params=m,this.queryParams=b,this.fragment=R,this.data=V,this.outlet=Y,this.component=Ie,this.routeConfig=_e,this._resolve=yt}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=lr(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=lr(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(b=>b.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class nn extends Cn{constructor(D,m){super(m),this.url=D,Wn(this,m)}toString(){return Gr(this._root)}}function Wn(y,D){D.value._routerState=y,D.children.forEach(m=>Wn(y,m))}function Gr(y){const D=y.children.length>0?` { ${y.children.map(Gr).join(", ")} } `:"";return`${y.value}${D}`}function To(y){if(y.snapshot){const D=y.snapshot,m=y._futureSnapshot;y.snapshot=m,Gt(D.queryParams,m.queryParams)||y.queryParamsSubject.next(m.queryParams),D.fragment!==m.fragment&&y.fragmentSubject.next(m.fragment),Gt(D.params,m.params)||y.paramsSubject.next(m.params),function Zn(y,D){if(y.length!==D.length)return!1;for(let m=0;m<y.length;++m)if(!Gt(y[m],D[m]))return!1;return!0}(D.url,m.url)||y.urlSubject.next(m.url),Gt(D.data,m.data)||y.dataSubject.next(m.data)}else y.snapshot=y._futureSnapshot,y.dataSubject.next(y._futureSnapshot.data)}function Mr(y,D){const m=Gt(y.params,D.params)&&function Si(y,D){return dr(y,D)&&y.every((m,b)=>Gt(m.parameters,D[b].parameters))}(y.url,D.url);return m&&!(!y.parent!=!D.parent)&&(!y.parent||Mr(y.parent,D.parent))}let gi=(()=>{class y{constructor(){this.activated=null,this._activatedRoute=null,this.name=_t,this.activateEvents=new S.bkB,this.deactivateEvents=new S.bkB,this.attachEvents=new S.bkB,this.detachEvents=new S.bkB,this.parentContexts=(0,S.WQX)(zs),this.location=(0,S.WQX)(S.c1b),this.changeDetector=(0,S.WQX)(S.gRc),this.environmentInjector=(0,S.WQX)(S.uvJ),this.inputBinder=(0,S.WQX)(Ji,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(m){if(m.name){const{firstChange:b,previousValue:R}=m.name;if(b)return;this.isTrackedInParentContexts(R)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(R)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(m){return this.parentContexts.getContext(m)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const m=this.parentContexts.getContext(this.name);m?.route&&(m.attachRef?this.attach(m.attachRef,m.route):this.activateWith(m.route,m.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new S.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new S.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new S.wOt(4012,!1);this.location.detach();const m=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(m.instance),m}attach(m,b){this.activated=m,this._activatedRoute=b,this.location.insert(m.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(m.instance)}deactivate(){if(this.activated){const m=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(m)}}activateWith(m,b){if(this.isActivated)throw new S.wOt(4013,!1);this._activatedRoute=m;const R=this.location,Y=m.snapshot.component,Ie=this.parentContexts.getOrCreateContext(this.name).children,_e=new gr(m,Ie,R.injector);this.activated=R.createComponent(Y,{index:R.length,injector:_e,environmentInjector:b??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(b){return new(b||y)}}static{this.\u0275dir=S.FsC({type:y,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[S.OA$]})}}return y})();class gr{constructor(D,m,b){this.route=D,this.childContexts=m,this.parent=b}get(D,m){return D===Li?this.route:D===zs?this.childContexts:this.parent.get(D,m)}}const Ji=new S.nKC("");let Gs=(()=>{class y{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(m){this.unsubscribeFromRouteData(m),this.subscribeToRouteData(m)}unsubscribeFromRouteData(m){this.outletDataSubscriptions.get(m)?.unsubscribe(),this.outletDataSubscriptions.delete(m)}subscribeToRouteData(m){const{activatedRoute:b}=m,R=lt([b.queryParams,b.params,b.data]).pipe((0,xn.n)(([V,Y,Ie],_e)=>(Ie={...V,...Y,...Ie},0===_e?(0,K.of)(Ie):Promise.resolve(Ie)))).subscribe(V=>{if(!m.isActivated||!m.activatedComponentRef||m.activatedRoute!==b||null===b.component)return void this.unsubscribeFromRouteData(m);const Y=(0,S.HJs)(b.component);if(Y)for(const{templateName:Ie}of Y.inputs)m.activatedComponentRef.setInput(Ie,V[Ie]);else this.unsubscribeFromRouteData(m)});this.outletDataSubscriptions.set(m,R)}static{this.\u0275fac=function(b){return new(b||y)}}static{this.\u0275prov=S.jDH({token:y,factory:y.\u0275fac})}}return y})();function vs(y,D,m){if(m&&y.shouldReuseRoute(D.value,m.value.snapshot)){const b=m.value;b._futureSnapshot=D.value;const R=function ru(y,D,m){return D.children.map(b=>{for(const R of m.children)if(y.shouldReuseRoute(b.value,R.value.snapshot))return vs(y,b,R);return vs(y,b)})}(y,D,m);return new Qr(b,R)}{if(y.shouldAttach(D.value)){const V=y.retrieve(D.value);if(null!==V){const Y=V.route;return Y.value._futureSnapshot=D.value,Y.children=D.children.map(Ie=>vs(y,Ie)),Y}}const b=function li(y){return new Li(new Q.t(y.url),new Q.t(y.params),new Q.t(y.queryParams),new Q.t(y.fragment),new Q.t(y.data),y.outlet,y.component,y)}(D.value),R=D.children.map(V=>vs(y,V));return new Qr(b,R)}}const xr="ngNavigationCancelingError";function Fi(y,D){const{redirectTo:m,navigationBehaviorOptions:b}=on(D)?{redirectTo:D,navigationBehaviorOptions:void 0}:D,R=oo(!1,0,D);return R.url=m,R.navigationBehaviorOptions=b,R}function oo(y,D,m){const b=new Error("NavigationCancelingError: "+(y||""));return b[xr]=!0,b.cancellationCode=D,m&&(b.url=m),b}function ao(y){return y&&y[xr]}let Go=(()=>{class y{static{this.\u0275fac=function(b){return new(b||y)}}static{this.\u0275cmp=S.VBU({type:y,selectors:[["ng-component"]],standalone:!0,features:[S.aNF],decls:1,vars:0,template:function(b,R){1&b&&S.nrm(0,"router-outlet")},dependencies:[gi],encapsulation:2})}}return y})();function ks(y){const D=y.children&&y.children.map(ks),m=D?{...y,children:D}:{...y};return!m.component&&!m.loadComponent&&(D||m.loadChildren)&&m.outlet&&m.outlet!==_t&&(m.component=Go),m}function Hn(y){return y.outlet||_t}function wr(y){if(!y)return null;if(y.routeConfig?._injector)return y.routeConfig._injector;for(let D=y.parent;D;D=D.parent){const m=D.routeConfig;if(m?._loadedInjector)return m._loadedInjector;if(m?._injector)return m._injector}return null}class mi{constructor(D,m,b,R,V){this.routeReuseStrategy=D,this.futureState=m,this.currState=b,this.forwardEvent=R,this.inputBindingEnabled=V}activate(D){const m=this.futureState._root,b=this.currState?this.currState._root:null;this.deactivateChildRoutes(m,b,D),To(this.futureState.root),this.activateChildRoutes(m,b,D)}deactivateChildRoutes(D,m,b){const R=pr(m);D.children.forEach(V=>{const Y=V.value.outlet;this.deactivateRoutes(V,R[Y],b),delete R[Y]}),Object.values(R).forEach(V=>{this.deactivateRouteAndItsChildren(V,b)})}deactivateRoutes(D,m,b){const R=D.value,V=m?m.value:null;if(R===V)if(R.component){const Y=b.getContext(R.outlet);Y&&this.deactivateChildRoutes(D,m,Y.children)}else this.deactivateChildRoutes(D,m,b);else V&&this.deactivateRouteAndItsChildren(m,b)}deactivateRouteAndItsChildren(D,m){D.value.component&&this.routeReuseStrategy.shouldDetach(D.value.snapshot)?this.detachAndStoreRouteSubtree(D,m):this.deactivateRouteAndOutlet(D,m)}detachAndStoreRouteSubtree(D,m){const b=m.getContext(D.value.outlet),R=b&&D.value.component?b.children:m,V=pr(D);for(const Y of Object.keys(V))this.deactivateRouteAndItsChildren(V[Y],R);if(b&&b.outlet){const Y=b.outlet.detach(),Ie=b.children.onOutletDeactivated();this.routeReuseStrategy.store(D.value.snapshot,{componentRef:Y,route:D,contexts:Ie})}}deactivateRouteAndOutlet(D,m){const b=m.getContext(D.value.outlet),R=b&&D.value.component?b.children:m,V=pr(D);for(const Y of Object.keys(V))this.deactivateRouteAndItsChildren(V[Y],R);b&&(b.outlet&&(b.outlet.deactivate(),b.children.onOutletDeactivated()),b.attachRef=null,b.route=null)}activateChildRoutes(D,m,b){const R=pr(m);D.children.forEach(V=>{this.activateRoutes(V,R[V.value.outlet],b),this.forwardEvent(new Rs(V.value.snapshot))}),D.children.length&&this.forwardEvent(new la(D.value.snapshot))}activateRoutes(D,m,b){const R=D.value,V=m?m.value:null;if(To(R),R===V)if(R.component){const Y=b.getOrCreateContext(R.outlet);this.activateChildRoutes(D,m,Y.children)}else this.activateChildRoutes(D,m,b);else if(R.component){const Y=b.getOrCreateContext(R.outlet);if(this.routeReuseStrategy.shouldAttach(R.snapshot)){const Ie=this.routeReuseStrategy.retrieve(R.snapshot);this.routeReuseStrategy.store(R.snapshot,null),Y.children.onOutletReAttached(Ie.contexts),Y.attachRef=Ie.componentRef,Y.route=Ie.route.value,Y.outlet&&Y.outlet.attach(Ie.componentRef,Ie.route.value),To(Ie.route.value),this.activateChildRoutes(D,null,Y.children)}else{const Ie=wr(R.snapshot);Y.attachRef=null,Y.route=R,Y.injector=Ie,Y.outlet&&Y.outlet.activateWith(R,Y.injector),this.activateChildRoutes(D,null,Y.children)}}else this.activateChildRoutes(D,null,b)}}class co{constructor(D){this.path=D,this.route=this.path[this.path.length-1]}}class xi{constructor(D,m){this.component=D,this.route=m}}function lo(y,D,m){const b=y._root;return Ws(b,D?D._root:null,m,[b.value])}function rs(y,D){const m=Symbol(),b=D.get(y,m);return b===m?"function"!=typeof y||(0,S.LfX)(y)?D.get(y):y:b}function Ws(y,D,m,b,R={canDeactivateChecks:[],canActivateChecks:[]}){const V=pr(D);return y.children.forEach(Y=>{(function sr(y,D,m,b,R={canDeactivateChecks:[],canActivateChecks:[]}){const V=y.value,Y=D?D.value:null,Ie=m?m.getContext(y.value.outlet):null;if(Y&&V.routeConfig===Y.routeConfig){const _e=function _s(y,D,m){if("function"==typeof m)return m(y,D);switch(m){case"pathParamsChange":return!dr(y.url,D.url);case"pathParamsOrQueryParamsChange":return!dr(y.url,D.url)||!Gt(y.queryParams,D.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Mr(y,D)||!Gt(y.queryParams,D.queryParams);default:return!Mr(y,D)}}(Y,V,V.routeConfig.runGuardsAndResolvers);_e?R.canActivateChecks.push(new co(b)):(V.data=Y.data,V._resolvedData=Y._resolvedData),Ws(y,D,V.component?Ie?Ie.children:null:m,b,R),_e&&Ie&&Ie.outlet&&Ie.outlet.isActivated&&R.canDeactivateChecks.push(new xi(Ie.outlet.component,Y))}else Y&&ho(D,Ie,R),R.canActivateChecks.push(new co(b)),Ws(y,null,V.component?Ie?Ie.children:null:m,b,R)})(Y,V[Y.value.outlet],m,b.concat([Y.value]),R),delete V[Y.value.outlet]}),Object.entries(V).forEach(([Y,Ie])=>ho(Ie,m.getContext(Y),R)),R}function ho(y,D,m){const b=pr(y),R=y.value;Object.entries(b).forEach(([V,Y])=>{ho(Y,R.component?D?D.children.getContext(V):null:D,m)}),m.canDeactivateChecks.push(new xi(R.component&&D&&D.outlet&&D.outlet.isActivated?D.outlet.component:null,R))}function fa(y){return"function"==typeof y}function So(y){return y instanceof qt||"EmptyError"===y?.name}const Mo=Symbol("INITIAL_VALUE");function Ri(){return(0,xn.n)(y=>lt(y.map(D=>D.pipe(cr(1),(0,Kr.Z)(Mo)))).pipe((0,Pt.T)(D=>{for(const m of D)if(!0!==m){if(m===Mo)return Mo;if(!1===m||m instanceof Ei)return m}return!0}),(0,hn.p)(D=>D!==Mo),cr(1)))}function fo(y){return(0,Me.F)((0,He.M)(D=>{if(on(D))throw Fi(0,D)}),(0,Pt.T)(D=>!0===D))}class Fs{constructor(D){this.segmentGroup=D||null}}class Kn{constructor(D){this.urlTree=D}}function qs(y){return it(new Fs(y))}function ni(y){return it(new Kn(y))}class Is{constructor(D,m){this.urlSerializer=D,this.urlTree=m}noMatchError(D){return new S.wOt(4002,!1)}lineralizeSegments(D,m){let b=[],R=m.root;for(;;){if(b=b.concat(R.segments),0===R.numberOfChildren)return(0,K.of)(b);if(R.numberOfChildren>1||!R.children[_t])return it(new S.wOt(4e3,!1));R=R.children[_t]}}applyRedirectCommands(D,m,b){return this.applyRedirectCreateUrlTree(m,this.urlSerializer.parse(m),D,b)}applyRedirectCreateUrlTree(D,m,b,R){const V=this.createSegmentGroup(D,m.root,b,R);return new Ei(V,this.createQueryParams(m.queryParams,this.urlTree.queryParams),m.fragment)}createQueryParams(D,m){const b={};return Object.entries(D).forEach(([R,V])=>{if("string"==typeof V&&V.startsWith(":")){const Ie=V.substring(1);b[R]=m[Ie]}else b[R]=V}),b}createSegmentGroup(D,m,b,R){const V=this.createSegments(D,m.segments,b,R);let Y={};return Object.entries(m.children).forEach(([Ie,_e])=>{Y[Ie]=this.createSegmentGroup(D,_e,b,R)}),new sn(V,Y)}createSegments(D,m,b,R){return m.map(V=>V.path.startsWith(":")?this.findPosParam(D,V,R):this.findOrReturn(V,b))}findPosParam(D,m,b){const R=b[m.path.substring(1)];if(!R)throw new S.wOt(4001,!1);return R}findOrReturn(D,m){let b=0;for(const R of m){if(R.path===D.path)return m.splice(b),R;b++}return D}}const xo={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function yi(y,D,m,b,R){const V=Qs(y,D,m);return V.matched?(b=function Jr(y,D){return y.providers&&!y._injector&&(y._injector=(0,S.Ol2)(y.providers,D,`Route: ${y.path}`)),y._injector??D}(D,b),function ti(y,D,m,b){const R=D.canMatch;if(!R||0===R.length)return(0,K.of)(!0);const V=R.map(Y=>{const Ie=rs(Y,y);return jn(function Ou(y){return y&&fa(y.canMatch)}(Ie)?Ie.canMatch(D,m):y.runInContext(()=>Ie(D,m)))});return(0,K.of)(V).pipe(Ri(),fo())}(b,D,m).pipe((0,Pt.T)(Y=>!0===Y?V:{...xo}))):(0,K.of)(V)}function Qs(y,D,m){if(""===D.path)return"full"===D.pathMatch&&(y.hasChildren()||m.length>0)?{...xo}:{matched:!0,consumedSegments:[],remainingSegments:m,parameters:{},positionalParamSegments:{}};const R=(D.matcher||Nr)(m,y,D);if(!R)return{...xo};const V={};Object.entries(R.posParams??{}).forEach(([Ie,_e])=>{V[Ie]=_e.path});const Y=R.consumed.length>0?{...V,...R.consumed[R.consumed.length-1].parameters}:V;return{matched:!0,consumedSegments:R.consumed,remainingSegments:m.slice(R.consumed.length),parameters:Y,positionalParamSegments:R.posParams??{}}}function Dn(y,D,m,b){return m.length>0&&function is(y,D,m){return m.some(b=>ss(y,D,b)&&Hn(b)!==_t)}(y,m,b)?{segmentGroup:new sn(D,Qo(b,new sn(m,y.children))),slicedSegments:[]}:0===m.length&&function Us(y,D,m){return m.some(b=>ss(y,D,b))}(y,m,b)?{segmentGroup:new sn(y.segments,ku(y,0,m,b,y.children)),slicedSegments:m}:{segmentGroup:new sn(y.segments,y.children),slicedSegments:m}}function ku(y,D,m,b,R){const V={};for(const Y of b)if(ss(y,m,Y)&&!R[Hn(Y)]){const Ie=new sn([],{});V[Hn(Y)]=Ie}return{...R,...V}}function Qo(y,D){const m={};m[_t]=D;for(const b of y)if(""===b.path&&Hn(b)!==_t){const R=new sn([],{});m[Hn(b)]=R}return m}function ss(y,D,m){return(!(y.hasChildren()||D.length>0)||"full"!==m.pathMatch)&&""===m.path}class po{constructor(D,m,b,R,V,Y,Ie){this.injector=D,this.configLoader=m,this.rootComponentType=b,this.config=R,this.urlTree=V,this.paramsInheritanceStrategy=Y,this.urlSerializer=Ie,this.allowRedirects=!0,this.applyRedirects=new Is(this.urlSerializer,this.urlTree)}noMatchError(D){return new S.wOt(4002,!1)}recognize(){const D=Dn(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,D,_t).pipe(ot(m=>{if(m instanceof Kn)return this.allowRedirects=!1,this.urlTree=m.urlTree,this.match(m.urlTree);throw m instanceof Fs?this.noMatchError(m):m}),(0,Pt.T)(m=>{const b=new vt([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},_t,this.rootComponentType,null,{}),R=new Qr(b,m),V=new nn("",R),Y=function kr(y,D,m=null,b=null){return Lr(Ln(y),D,m,b)}(b,[],this.urlTree.queryParams,this.urlTree.fragment);return Y.queryParams=this.urlTree.queryParams,V.url=this.urlSerializer.serialize(Y),this.inheritParamsAndData(V._root),{state:V,tree:Y}}))}match(D){return this.processSegmentGroup(this.injector,this.config,D.root,_t).pipe(ot(b=>{throw b instanceof Fs?this.noMatchError(b):b}))}inheritParamsAndData(D){const m=D.value,b=zo(m,this.paramsInheritanceStrategy);m.params=Object.freeze(b.params),m.data=Object.freeze(b.data),D.children.forEach(R=>this.inheritParamsAndData(R))}processSegmentGroup(D,m,b,R){return 0===b.segments.length&&b.hasChildren()?this.processChildren(D,m,b):this.processSegment(D,m,b,b.segments,R,!0)}processChildren(D,m,b){const R=[];for(const V of Object.keys(b.children))"primary"===V?R.unshift(V):R.push(V);return(0,le.H)(R).pipe(ze(V=>{const Y=b.children[V],Ie=function ns(y,D){const m=y.filter(b=>Hn(b)===D);return m.push(...y.filter(b=>Hn(b)!==D)),m}(m,V);return this.processSegmentGroup(D,Ie,Y,V)}),function _n(y,D){return(0,St.N)(function Ft(y,D,m,b,R){return(V,Y)=>{let Ie=m,_e=D,yt=0;V.subscribe((0,Ue._)(Y,Jt=>{const Un=yt++;_e=Ie?y(_e,Jt,Un):(Ie=!0,Jt),b&&Y.next(_e)},R&&(()=>{Ie&&Y.next(_e),Y.complete()})))}}(y,D,arguments.length>=2,!0))}((V,Y)=>(V.push(...Y),V)),Ee(null),function In(y,D){const m=arguments.length>=2;return b=>b.pipe(y?(0,hn.p)((R,V)=>y(R,V,b)):Ne.D,Ut(1),m?Ee(D):be(()=>new qt))}(),(0,Rn.Z)(V=>{if(null===V)return qs(b);const Y=go(V);return function Gi(y){y.sort((D,m)=>D.value.outlet===_t?-1:m.value.outlet===_t?1:D.value.outlet.localeCompare(m.value.outlet))}(Y),(0,K.of)(Y)}))}processSegment(D,m,b,R,V,Y){return(0,le.H)(m).pipe(ze(Ie=>this.processSegmentAgainstRoute(Ie._injector??D,m,Ie,b,R,V,Y).pipe(ot(_e=>{if(_e instanceof Fs)return(0,K.of)(null);throw _e}))),xe(Ie=>!!Ie),ot(Ie=>{if(So(Ie))return function ic(y,D,m){return 0===D.length&&!y.children[m]}(b,R,V)?(0,K.of)([]):qs(b);throw Ie}))}processSegmentAgainstRoute(D,m,b,R,V,Y,Ie){return function Es(y,D,m,b){return!!(Hn(y)===b||b!==_t&&ss(D,m,y))&&("**"===y.path||Qs(D,y,m).matched)}(b,R,V,Y)?void 0===b.redirectTo?this.matchSegmentAgainstRoute(D,R,b,V,Y,Ie):Ie&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(D,R,m,b,V,Y):qs(R):qs(R)}expandSegmentAgainstRouteUsingRedirect(D,m,b,R,V,Y){return"**"===R.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(D,b,R,Y):this.expandRegularSegmentAgainstRouteUsingRedirect(D,m,b,R,V,Y)}expandWildCardWithParamsAgainstRouteUsingRedirect(D,m,b,R){const V=this.applyRedirects.applyRedirectCommands([],b.redirectTo,{});return b.redirectTo.startsWith("/")?ni(V):this.applyRedirects.lineralizeSegments(b,V).pipe((0,Rn.Z)(Y=>{const Ie=new sn(Y,{});return this.processSegment(D,m,Ie,Y,R,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(D,m,b,R,V,Y){const{matched:Ie,consumedSegments:_e,remainingSegments:yt,positionalParamSegments:Jt}=Qs(m,R,V);if(!Ie)return qs(m);const Un=this.applyRedirects.applyRedirectCommands(_e,R.redirectTo,Jt);return R.redirectTo.startsWith("/")?ni(Un):this.applyRedirects.lineralizeSegments(R,Un).pipe((0,Rn.Z)(Sn=>this.processSegment(D,b,m,Sn.concat(yt),Y,!1)))}matchSegmentAgainstRoute(D,m,b,R,V,Y){let Ie;if("**"===b.path){const _e=R.length>0?rr(R).parameters:{},yt=new vt(R,_e,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,F(b),Hn(b),b.component??b._loadedComponent??null,b,M(b));Ie=(0,K.of)({snapshot:yt,consumedSegments:[],remainingSegments:[]}),m.children={}}else Ie=yi(m,b,R,D).pipe((0,Pt.T)(({matched:_e,consumedSegments:yt,remainingSegments:Jt,parameters:Un})=>_e?{snapshot:new vt(yt,Un,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,F(b),Hn(b),b.component??b._loadedComponent??null,b,M(b)),consumedSegments:yt,remainingSegments:Jt}:null));return Ie.pipe((0,xn.n)(_e=>null===_e?qs(m):this.getChildConfig(D=b._injector??D,b,R).pipe((0,xn.n)(({routes:yt})=>{const Jt=b._loadedInjector??D,{snapshot:Un,consumedSegments:Sn,remainingSegments:hi}=_e,{segmentGroup:ko,slicedSegments:Ha}=Dn(m,Sn,hi,yt);if(0===Ha.length&&ko.hasChildren())return this.processChildren(Jt,yt,ko).pipe((0,Pt.T)(Bi=>null===Bi?null:[new Qr(Un,Bi)]));if(0===yt.length&&0===Ha.length)return(0,K.of)([new Qr(Un,[])]);const Er=Hn(b)===V;return this.processSegment(Jt,yt,ko,Ha,Er?_t:V,!0).pipe((0,Pt.T)(Bi=>[new Qr(Un,Bi)]))}))))}getChildConfig(D,m,b){return m.children?(0,K.of)({routes:m.children,injector:D}):m.loadChildren?void 0!==m._loadedRoutes?(0,K.of)({routes:m._loadedRoutes,injector:m._loadedInjector}):function qo(y,D,m,b){const R=D.canLoad;if(void 0===R||0===R.length)return(0,K.of)(!0);const V=R.map(Y=>{const Ie=rs(Y,y);return jn(function pa(y){return y&&fa(y.canLoad)}(Ie)?Ie.canLoad(D,m):y.runInContext(()=>Ie(D,m)))});return(0,K.of)(V).pipe(Ri(),fo())}(D,m,b).pipe((0,Rn.Z)(R=>R?this.configLoader.loadChildren(D,m).pipe((0,He.M)(V=>{m._loadedRoutes=V.routes,m._loadedInjector=V.injector})):function Ua(y){return it(oo(!1,3))}())):(0,K.of)({routes:[],injector:D})}}function Vr(y){const D=y.value.routeConfig;return D&&""===D.path}function go(y){const D=[],m=new Set;for(const b of y){if(!Vr(b)){D.push(b);continue}const R=D.find(V=>b.value.routeConfig===V.value.routeConfig);void 0!==R?(R.children.push(...b.children),m.add(R)):D.push(b)}for(const b of m){const R=go(b.children);D.push(new Qr(b.value,R))}return D.filter(b=>!m.has(b))}function F(y){return y.data||{}}function M(y){return y.resolve||{}}function er(y){return"string"==typeof y.title||null===y.title}function bn(y){return(0,xn.n)(D=>{const m=y(D);return m?(0,le.H)(m).pipe((0,Pt.T)(()=>D)):(0,K.of)(D)})}const an=new S.nKC("ROUTES");let mr=(()=>{class y{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,S.WQX)(S.Ql9)}loadComponent(m){if(this.componentLoaders.get(m))return this.componentLoaders.get(m);if(m._loadedComponent)return(0,K.of)(m._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(m);const b=jn(m.loadComponent()).pipe((0,Pt.T)(vi),(0,He.M)(V=>{this.onLoadEndListener&&this.onLoadEndListener(m),m._loadedComponent=V}),Et(()=>{this.componentLoaders.delete(m)})),R=new ur(b,()=>new Dt.B).pipe(Ye());return this.componentLoaders.set(m,R),R}loadChildren(m,b){if(this.childrenLoaders.get(b))return this.childrenLoaders.get(b);if(b._loadedRoutes)return(0,K.of)({routes:b._loadedRoutes,injector:b._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(b);const V=function tr(y,D,m,b){return jn(y.loadChildren()).pipe((0,Pt.T)(vi),(0,Rn.Z)(R=>R instanceof S.Co$||Array.isArray(R)?(0,K.of)(R):(0,le.H)(D.compileModuleAsync(R))),(0,Pt.T)(R=>{b&&b(y);let V,Y,Ie=!1;return Array.isArray(R)?(Y=R,!0):(V=R.create(m).injector,Y=V.get(an,[],{optional:!0,self:!0}).flat()),{routes:Y.map(ks),injector:V}}))}(b,this.compiler,m,this.onLoadEndListener).pipe(Et(()=>{this.childrenLoaders.delete(b)})),Y=new ur(V,()=>new Dt.B).pipe(Ye());return this.childrenLoaders.set(b,Y),Y}static{this.\u0275fac=function(b){return new(b||y)}}static{this.\u0275prov=S.jDH({token:y,factory:y.\u0275fac,providedIn:"root"})}}return y})();function vi(y){return function ri(y){return y&&"object"==typeof y&&"default"in y}(y)?y.default:y}let Wi=(()=>{class y{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Dt.B,this.transitionAbortSubject=new Dt.B,this.configLoader=(0,S.WQX)(mr),this.environmentInjector=(0,S.WQX)(S.uvJ),this.urlSerializer=(0,S.WQX)(Pr),this.rootContexts=(0,S.WQX)(zs),this.inputBindingEnabled=null!==(0,S.WQX)(Ji,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,K.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=R=>this.events.next(new Fa(R)),this.configLoader.onLoadStartListener=R=>this.events.next(new Ho(R))}complete(){this.transitions?.complete()}handleNavigationRequest(m){const b=++this.navigationId;this.transitions?.next({...this.transitions.value,...m,id:b})}setupNavigations(m,b,R){return this.transitions=new Q.t({id:0,currentUrlTree:b,currentRawUrl:b,currentBrowserUrl:b,extractedUrl:m.urlHandlingStrategy.extract(b),urlAfterRedirects:m.urlHandlingStrategy.extract(b),rawUrl:b,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:tt,restoredState:null,currentSnapshot:R.snapshot,targetSnapshot:null,currentRouterState:R,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,hn.p)(V=>0!==V.id),(0,Pt.T)(V=>({...V,extractedUrl:m.urlHandlingStrategy.extract(V.rawUrl)})),(0,xn.n)(V=>{this.currentTransition=V;let Y=!1,Ie=!1;return(0,K.of)(V).pipe((0,He.M)(_e=>{this.currentNavigation={id:_e.id,initialUrl:_e.rawUrl,extractedUrl:_e.extractedUrl,trigger:_e.source,extras:_e.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,xn.n)(_e=>{const yt=_e.currentBrowserUrl.toString(),Jt=!m.navigated||_e.extractedUrl.toString()!==yt||yt!==_e.currentUrlTree.toString();if(!Jt&&"reload"!==(_e.extras.onSameUrlNavigation??m.onSameUrlNavigation)){const Sn="";return this.events.next(new pi(_e.id,this.urlSerializer.serialize(_e.rawUrl),Sn,0)),_e.resolve(null),st.w}if(m.urlHandlingStrategy.shouldProcessUrl(_e.rawUrl))return(0,K.of)(_e).pipe((0,xn.n)(Sn=>{const hi=this.transitions?.getValue();return this.events.next(new mn(Sn.id,this.urlSerializer.serialize(Sn.extractedUrl),Sn.source,Sn.restoredState)),hi!==this.transitions?.getValue()?st.w:Promise.resolve(Sn)}),function k(y,D,m,b,R,V){return(0,Rn.Z)(Y=>function ma(y,D,m,b,R,V,Y="emptyOnly"){return new po(y,D,m,b,R,Y,V).recognize()}(y,D,m,b,Y.extractedUrl,R,V).pipe((0,Pt.T)(({state:Ie,tree:_e})=>({...Y,targetSnapshot:Ie,urlAfterRedirects:_e}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,m.config,this.urlSerializer,m.paramsInheritanceStrategy),(0,He.M)(Sn=>{V.targetSnapshot=Sn.targetSnapshot,V.urlAfterRedirects=Sn.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:Sn.urlAfterRedirects};const hi=new ci(Sn.id,this.urlSerializer.serialize(Sn.extractedUrl),this.urlSerializer.serialize(Sn.urlAfterRedirects),Sn.targetSnapshot);this.events.next(hi)}));if(Jt&&m.urlHandlingStrategy.shouldProcessUrl(_e.currentRawUrl)){const{id:Sn,extractedUrl:hi,source:ko,restoredState:Ha,extras:Er}=_e,Bi=new mn(Sn,this.urlSerializer.serialize(hi),ko,Ha);this.events.next(Bi);const Rr=Fn(0,this.rootComponentType).snapshot;return this.currentTransition=V={..._e,targetSnapshot:Rr,urlAfterRedirects:hi,extras:{...Er,skipLocationChange:!1,replaceUrl:!1}},(0,K.of)(V)}{const Sn="";return this.events.next(new pi(_e.id,this.urlSerializer.serialize(_e.extractedUrl),Sn,1)),_e.resolve(null),st.w}}),(0,He.M)(_e=>{const yt=new Zr(_e.id,this.urlSerializer.serialize(_e.extractedUrl),this.urlSerializer.serialize(_e.urlAfterRedirects),_e.targetSnapshot);this.events.next(yt)}),(0,Pt.T)(_e=>(this.currentTransition=V={..._e,guards:lo(_e.targetSnapshot,_e.currentSnapshot,this.rootContexts)},V)),function ou(y,D){return(0,Rn.Z)(m=>{const{targetSnapshot:b,currentSnapshot:R,guards:{canActivateChecks:V,canDeactivateChecks:Y}}=m;return 0===Y.length&&0===V.length?(0,K.of)({...m,guardsResult:!0}):function Di(y,D,m,b){return(0,le.H)(y).pipe((0,Rn.Z)(R=>function zi(y,D,m,b,R){const V=D&&D.routeConfig?D.routeConfig.canDeactivate:null;if(!V||0===V.length)return(0,K.of)(!0);const Y=V.map(Ie=>{const _e=wr(D)??R,yt=rs(Ie,_e);return jn(function bo(y){return y&&fa(y.canDeactivate)}(yt)?yt.canDeactivate(y,D,m,b):_e.runInContext(()=>yt(y,D,m,b))).pipe(xe())});return(0,K.of)(Y).pipe(Ri())}(R.component,R.route,m,D,b)),xe(R=>!0!==R,!0))}(Y,b,R,y).pipe((0,Rn.Z)(Ie=>Ie&&function iu(y){return"boolean"==typeof y}(Ie)?function ga(y,D,m,b){return(0,le.H)(D).pipe(ze(R=>(0,On.x)(function au(y,D){return null!==y&&D&&D(new ms(y)),(0,K.of)(!0)}(R.route.parent,b),function Ko(y,D){return null!==y&&D&&D(new da(y)),(0,K.of)(!0)}(R.route,b),function Ls(y,D,m){const b=D[D.length-1],V=D.slice(0,D.length-1).reverse().map(Y=>function Ui(y){const D=y.routeConfig?y.routeConfig.canActivateChild:null;return D&&0!==D.length?{node:y,guards:D}:null}(Y)).filter(Y=>null!==Y).map(Y=>Je(()=>{const Ie=Y.guards.map(_e=>{const yt=wr(Y.node)??m,Jt=rs(_e,yt);return jn(function rc(y){return y&&fa(y.canActivateChild)}(Jt)?Jt.canActivateChild(b,y):yt.runInContext(()=>Jt(b,y))).pipe(xe())});return(0,K.of)(Ie).pipe(Ri())}));return(0,K.of)(V).pipe(Ri())}(y,R.path,m),function Ks(y,D,m){const b=D.routeConfig?D.routeConfig.canActivate:null;if(!b||0===b.length)return(0,K.of)(!0);const R=b.map(V=>Je(()=>{const Y=wr(D)??m,Ie=rs(V,Y);return jn(function Vi(y){return y&&fa(y.canActivate)}(Ie)?Ie.canActivate(D,y):Y.runInContext(()=>Ie(D,y))).pipe(xe())}));return(0,K.of)(R).pipe(Ri())}(y,R.route,m))),xe(R=>!0!==R,!0))}(b,V,y,D):(0,K.of)(Ie)),(0,Pt.T)(Ie=>({...m,guardsResult:Ie})))})}(this.environmentInjector,_e=>this.events.next(_e)),(0,He.M)(_e=>{if(V.guardsResult=_e.guardsResult,on(_e.guardsResult))throw Fi(0,_e.guardsResult);const yt=new jo(_e.id,this.urlSerializer.serialize(_e.extractedUrl),this.urlSerializer.serialize(_e.urlAfterRedirects),_e.targetSnapshot,!!_e.guardsResult);this.events.next(yt)}),(0,hn.p)(_e=>!!_e.guardsResult||(this.cancelNavigationTransition(_e,"",3),!1)),bn(_e=>{if(_e.guards.canActivateChecks.length)return(0,K.of)(_e).pipe((0,He.M)(yt=>{const Jt=new eu(yt.id,this.urlSerializer.serialize(yt.extractedUrl),this.urlSerializer.serialize(yt.urlAfterRedirects),yt.targetSnapshot);this.events.next(Jt)}),(0,xn.n)(yt=>{let Jt=!1;return(0,K.of)(yt).pipe(function Z(y,D){return(0,Rn.Z)(m=>{const{targetSnapshot:b,guards:{canActivateChecks:R}}=m;if(!R.length)return(0,K.of)(m);let V=0;return(0,le.H)(R).pipe(ze(Y=>function Se(y,D,m,b){const R=y.routeConfig,V=y._resolve;return void 0!==R?.title&&!er(R)&&(V[Pn]=R.title),function je(y,D,m,b){const R=function Nt(y){return[...Object.keys(y),...Object.getOwnPropertySymbols(y)]}(y);if(0===R.length)return(0,K.of)({});const V={};return(0,le.H)(R).pipe((0,Rn.Z)(Y=>function qn(y,D,m,b){const R=wr(D)??b,V=rs(y,R);return jn(V.resolve?V.resolve(D,m):R.runInContext(()=>V(D,m)))}(y[Y],D,m,b).pipe(xe(),(0,He.M)(Ie=>{V[Y]=Ie}))),Ut(1),function Yt(y){return(0,Pt.T)(()=>y)}(V),ot(Y=>So(Y)?st.w:it(Y)))}(V,y,D,b).pipe((0,Pt.T)(Y=>(y._resolvedData=Y,y.data=zo(y,m).resolve,R&&er(R)&&(y.data[Pn]=R.title),null)))}(Y.route,b,y,D)),(0,He.M)(()=>V++),Ut(1),(0,Rn.Z)(Y=>V===R.length?(0,K.of)(m):st.w))})}(m.paramsInheritanceStrategy,this.environmentInjector),(0,He.M)({next:()=>Jt=!0,complete:()=>{Jt||this.cancelNavigationTransition(yt,"",2)}}))}),(0,He.M)(yt=>{const Jt=new $o(yt.id,this.urlSerializer.serialize(yt.extractedUrl),this.urlSerializer.serialize(yt.urlAfterRedirects),yt.targetSnapshot);this.events.next(Jt)}))}),bn(_e=>{const yt=Jt=>{const Un=[];Jt.routeConfig?.loadComponent&&!Jt.routeConfig._loadedComponent&&Un.push(this.configLoader.loadComponent(Jt.routeConfig).pipe((0,He.M)(Sn=>{Jt.component=Sn}),(0,Pt.T)(()=>{})));for(const Sn of Jt.children)Un.push(...yt(Sn));return Un};return lt(yt(_e.targetSnapshot.root)).pipe(Ee(),cr(1))}),bn(()=>this.afterPreactivation()),(0,Pt.T)(_e=>{const yt=function zt(y,D,m){const b=vs(y,D._root,m?m._root:void 0);return new Hi(b,D)}(m.routeReuseStrategy,_e.targetSnapshot,_e.currentRouterState);return this.currentTransition=V={..._e,targetRouterState:yt},V}),(0,He.M)(()=>{this.events.next(new Ns)}),((y,D,m,b)=>(0,Pt.T)(R=>(new mi(D,R.targetRouterState,R.currentRouterState,m,b).activate(y),R)))(this.rootContexts,m.routeReuseStrategy,_e=>this.events.next(_e),this.inputBindingEnabled),cr(1),(0,He.M)({next:_e=>{Y=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new ln(_e.id,this.urlSerializer.serialize(_e.extractedUrl),this.urlSerializer.serialize(_e.urlAfterRedirects))),m.titleStrategy?.updateTitle(_e.targetRouterState.snapshot),_e.resolve(!0)},complete:()=>{Y=!0}}),(0,en.Q)(this.transitionAbortSubject.pipe((0,He.M)(_e=>{throw _e}))),Et(()=>{Y||Ie||this.cancelNavigationTransition(V,"",1),this.currentNavigation?.id===V.id&&(this.currentNavigation=null)}),ot(_e=>{if(Ie=!0,ao(_e))this.events.next(new Zt(V.id,this.urlSerializer.serialize(V.extractedUrl),_e.message,_e.cancellationCode)),function es(y){return ao(y)&&on(y.url)}(_e)?this.events.next(new so(_e.url)):V.resolve(!1);else{this.events.next(new zr(V.id,this.urlSerializer.serialize(V.extractedUrl),_e,V.targetSnapshot??void 0));try{V.resolve(m.errorHandler(_e))}catch(yt){V.reject(yt)}}return st.w}))}))}cancelNavigationTransition(m,b,R){const V=new Zt(m.id,this.urlSerializer.serialize(m.extractedUrl),b,R);this.events.next(V),m.resolve(!1)}static{this.\u0275fac=function(b){return new(b||y)}}static{this.\u0275prov=S.jDH({token:y,factory:y.\u0275fac,providedIn:"root"})}}return y})();function Qn(y){return y!==tt}let yr=(()=>{class y{buildTitle(m){let b,R=m.root;for(;void 0!==R;)b=this.getResolvedTitleForRoute(R)??b,R=R.children.find(V=>V.outlet===_t);return b}getResolvedTitleForRoute(m){return m.data[Pn]}static{this.\u0275fac=function(b){return new(b||y)}}static{this.\u0275prov=S.jDH({token:y,factory:function(){return(0,S.WQX)(Xr)},providedIn:"root"})}}return y})(),Xr=(()=>{class y extends yr{constructor(m){super(),this.title=m}updateTitle(m){const b=this.buildTitle(m);void 0!==b&&this.title.setTitle(b)}static{this.\u0275fac=function(b){return new(b||y)(S.KVO(Bn.hE))}}static{this.\u0275prov=S.jDH({token:y,factory:y.\u0275fac,providedIn:"root"})}}return y})(),Xs=(()=>{class y{static{this.\u0275fac=function(b){return new(b||y)}}static{this.\u0275prov=S.jDH({token:y,factory:function(){return(0,S.WQX)(Ze)},providedIn:"root"})}}return y})();class Xo{shouldDetach(D){return!1}store(D,m){}shouldAttach(D){return!1}retrieve(D){return null}shouldReuseRoute(D,m){return D.routeConfig===m.routeConfig}}let Ze=(()=>{class y extends Xo{static{this.\u0275fac=function(){let m;return function(R){return(m||(m=S.xGo(y)))(R||y)}}()}static{this.\u0275prov=S.jDH({token:y,factory:y.\u0275fac,providedIn:"root"})}}return y})();const Dr=new S.nKC("",{providedIn:"root",factory:()=>({})});let ws=(()=>{class y{static{this.\u0275fac=function(b){return new(b||y)}}static{this.\u0275prov=S.jDH({token:y,factory:function(){return(0,S.WQX)(Va)},providedIn:"root"})}}return y})(),Va=(()=>{class y{shouldProcessUrl(m){return!0}extract(m){return m}merge(m,b){return m}static{this.\u0275fac=function(b){return new(b||y)}}static{this.\u0275prov=S.jDH({token:y,factory:y.\u0275fac,providedIn:"root"})}}return y})();var wt=function(y){return y[y.COMPLETE=0]="COMPLETE",y[y.FAILED=1]="FAILED",y[y.REDIRECTING=2]="REDIRECTING",y}(wt||{});function Tt(y,D){y.events.pipe((0,hn.p)(m=>m instanceof ln||m instanceof Zt||m instanceof zr||m instanceof pi),(0,Pt.T)(m=>m instanceof ln||m instanceof pi?wt.COMPLETE:m instanceof Zt&&(0===m.code||1===m.code)?wt.REDIRECTING:wt.FAILED),(0,hn.p)(m=>m!==wt.REDIRECTING),cr(1)).subscribe(()=>{D()})}function xc(y){throw y}function gt(y,D,m){return D.parse("/")}const ye={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Ge={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Nn=(()=>{class y{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,S.WQX)(S.H3F),this.isNgZoneEnabled=!1,this._events=new Dt.B,this.options=(0,S.WQX)(Dr,{optional:!0})||{},this.pendingTasks=(0,S.WQX)(S.$K3),this.errorHandler=this.options.errorHandler||xc,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||gt,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,S.WQX)(ws),this.routeReuseStrategy=(0,S.WQX)(Xs),this.titleStrategy=(0,S.WQX)(yr),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,S.WQX)(an,{optional:!0})?.flat()??[],this.navigationTransitions=(0,S.WQX)(Wi),this.urlSerializer=(0,S.WQX)(Pr),this.location=(0,S.WQX)(ke.aZ),this.componentInputBindingEnabled=!!(0,S.WQX)(Ji,{optional:!0}),this.eventsSubscription=new Xe.yU,this.isNgZoneEnabled=(0,S.WQX)(S.SKi)instanceof S.SKi&&S.SKi.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Ei,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Fn(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(m=>{this.lastSuccessfulId=m.id,this.currentPageId=this.browserPageId},m=>{this.console.warn(`Unhandled Navigation Error: ${m}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const m=this.navigationTransitions.events.subscribe(b=>{try{const{currentTransition:R}=this.navigationTransitions;if(null===R)return void(_l(b)&&this._events.next(b));if(b instanceof mn)Qn(R.source)&&(this.browserUrlTree=R.extractedUrl);else if(b instanceof pi)this.rawUrlTree=R.rawUrl;else if(b instanceof ci){if("eager"===this.urlUpdateStrategy){if(!R.extras.skipLocationChange){const V=this.urlHandlingStrategy.merge(R.urlAfterRedirects,R.rawUrl);this.setBrowserUrl(V,R)}this.browserUrlTree=R.urlAfterRedirects}}else if(b instanceof Ns)this.currentUrlTree=R.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(R.urlAfterRedirects,R.rawUrl),this.routerState=R.targetRouterState,"deferred"===this.urlUpdateStrategy&&(R.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,R),this.browserUrlTree=R.urlAfterRedirects);else if(b instanceof Zt)0!==b.code&&1!==b.code&&(this.navigated=!0),(3===b.code||2===b.code)&&this.restoreHistory(R);else if(b instanceof so){const V=this.urlHandlingStrategy.merge(b.url,R.currentRawUrl),Y={skipLocationChange:R.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Qn(R.source)};this.scheduleNavigation(V,tt,null,Y,{resolve:R.resolve,reject:R.reject,promise:R.promise})}b instanceof zr&&this.restoreHistory(R,!0),b instanceof ln&&(this.navigated=!0),_l(b)&&this._events.next(b)}catch(R){this.navigationTransitions.transitionAbortSubject.next(R)}});this.eventsSubscription.add(m)}resetRootComponentType(m){this.routerState.root.component=m,this.navigationTransitions.rootComponentType=m}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const m=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),tt,m)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(m=>{const b="popstate"===m.type?"popstate":"hashchange";"popstate"===b&&setTimeout(()=>{this.navigateToSyncWithBrowser(m.url,b,m.state)},0)}))}navigateToSyncWithBrowser(m,b,R){const V={replaceUrl:!0},Y=R?.navigationId?R:null;if(R){const _e={...R};delete _e.navigationId,delete _e.\u0275routerPageId,0!==Object.keys(_e).length&&(V.state=_e)}const Ie=this.parseUrl(m);this.scheduleNavigation(Ie,b,Y,V)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(m){this.config=m.map(ks),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(m,b={}){const{relativeTo:R,queryParams:V,fragment:Y,queryParamsHandling:Ie,preserveFragment:_e}=b,yt=_e?this.currentUrlTree.fragment:Y;let Un,Jt=null;switch(Ie){case"merge":Jt={...this.currentUrlTree.queryParams,...V};break;case"preserve":Jt=this.currentUrlTree.queryParams;break;default:Jt=V||null}null!==Jt&&(Jt=this.removeEmptyProps(Jt));try{Un=Ln(R?R.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof m[0]||!m[0].startsWith("/"))&&(m=[]),Un=this.currentUrlTree.root}return Lr(Un,m,Jt,yt??null)}navigateByUrl(m,b={skipLocationChange:!1}){const R=on(m)?m:this.parseUrl(m),V=this.urlHandlingStrategy.merge(R,this.rawUrlTree);return this.scheduleNavigation(V,tt,null,b)}navigate(m,b={skipLocationChange:!1}){return function Ki(y){for(let D=0;D<y.length;D++)if(null==y[D])throw new S.wOt(4008,!1)}(m),this.navigateByUrl(this.createUrlTree(m,b),b)}serializeUrl(m){return this.urlSerializer.serialize(m)}parseUrl(m){let b;try{b=this.urlSerializer.parse(m)}catch(R){b=this.malformedUriErrorHandler(R,this.urlSerializer,m)}return b}isActive(m,b){let R;if(R=!0===b?{...ye}:!1===b?{...Ge}:b,on(m))return kt(this.currentUrlTree,m,R);const V=this.parseUrl(m);return kt(this.currentUrlTree,V,R)}removeEmptyProps(m){return Object.keys(m).reduce((b,R)=>{const V=m[R];return null!=V&&(b[R]=V),b},{})}scheduleNavigation(m,b,R,V,Y){if(this.disposed)return Promise.resolve(!1);let Ie,_e,yt;Y?(Ie=Y.resolve,_e=Y.reject,yt=Y.promise):yt=new Promise((Un,Sn)=>{Ie=Un,_e=Sn});const Jt=this.pendingTasks.add();return Tt(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(Jt))}),this.navigationTransitions.handleNavigationRequest({source:b,restoredState:R,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:m,extras:V,resolve:Ie,reject:_e,promise:yt,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),yt.catch(Un=>Promise.reject(Un))}setBrowserUrl(m,b){const R=this.urlSerializer.serialize(m);if(this.location.isCurrentPathEqualTo(R)||b.extras.replaceUrl){const Y={...b.extras.state,...this.generateNgRouterState(b.id,this.browserPageId)};this.location.replaceState(R,"",Y)}else{const V={...b.extras.state,...this.generateNgRouterState(b.id,this.browserPageId+1)};this.location.go(R,"",V)}}restoreHistory(m,b=!1){if("computed"===this.canceledNavigationResolution){const V=this.currentPageId-this.browserPageId;0!==V?this.location.historyGo(V):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===V&&(this.resetState(m),this.browserUrlTree=m.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(b&&this.resetState(m),this.resetUrlToCurrentUrlTree())}resetState(m){this.routerState=m.currentRouterState,this.currentUrlTree=m.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,m.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(m,b){return"computed"===this.canceledNavigationResolution?{navigationId:m,\u0275routerPageId:b}:{navigationId:m}}static{this.\u0275fac=function(b){return new(b||y)}}static{this.\u0275prov=S.jDH({token:y,factory:y.\u0275fac,providedIn:"root"})}}return y})();function _l(y){return!(y instanceof Ns||y instanceof so)}let Yo=(()=>{class y{constructor(m,b,R,V,Y,Ie){this.router=m,this.route=b,this.tabIndexAttribute=R,this.renderer=V,this.el=Y,this.locationStrategy=Ie,this.href=null,this.commands=null,this.onChanges=new Dt.B,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const _e=Y.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===_e||"area"===_e,this.isAnchorElement?this.subscription=m.events.subscribe(yt=>{yt instanceof ln&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(m){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",m)}ngOnChanges(m){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(m){null!=m?(this.commands=Array.isArray(m)?m:[m],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(m,b,R,V,Y){return!!(null===this.urlTree||this.isAnchorElement&&(0!==m||b||R||V||Y||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const m=null===this.href?null:(0,S.n$t)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",m)}applyAttributeValue(m,b){const R=this.renderer,V=this.el.nativeElement;null!==b?R.setAttribute(V,m,b):R.removeAttribute(V,m)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(b){return new(b||y)(S.rXU(Nn),S.rXU(Li),S.kS0("tabindex"),S.rXU(S.sFG),S.rXU(S.aKT),S.rXU(ke.hb))}}static{this.\u0275dir=S.FsC({type:y,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(b,R){1&b&&S.bIt("click",function(Y){return R.onClick(Y.button,Y.ctrlKey,Y.shiftKey,Y.altKey,Y.metaKey)}),2&b&&S.BMQ("target",R.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",S.L39],skipLocationChange:["skipLocationChange","skipLocationChange",S.L39],replaceUrl:["replaceUrl","replaceUrl",S.L39],routerLink:"routerLink"},standalone:!0,features:[S.GFd,S.OA$]})}}return y})();class Ba{}let Zo=(()=>{class y{constructor(m,b,R,V,Y){this.router=m,this.injector=R,this.preloadingStrategy=V,this.loader=Y}setUpPreloading(){this.subscription=this.router.events.pipe((0,hn.p)(m=>m instanceof ln),ze(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(m,b){const R=[];for(const V of b){V.providers&&!V._injector&&(V._injector=(0,S.Ol2)(V.providers,m,`Route: ${V.path}`));const Y=V._injector??m,Ie=V._loadedInjector??Y;(V.loadChildren&&!V._loadedRoutes&&void 0===V.canLoad||V.loadComponent&&!V._loadedComponent)&&R.push(this.preloadConfig(Y,V)),(V.children||V._loadedRoutes)&&R.push(this.processRoutes(Ie,V.children??V._loadedRoutes))}return(0,le.H)(R).pipe((0,Yn.U)())}preloadConfig(m,b){return this.preloadingStrategy.preload(b,()=>{let R;R=b.loadChildren&&void 0===b.canLoad?this.loader.loadChildren(m,b):(0,K.of)(null);const V=R.pipe((0,Rn.Z)(Y=>null===Y?(0,K.of)(void 0):(b._loadedRoutes=Y.routes,b._loadedInjector=Y.injector,this.processRoutes(Y.injector??m,Y.routes))));if(b.loadComponent&&!b._loadedComponent){const Y=this.loader.loadComponent(b);return(0,le.H)([V,Y]).pipe((0,Yn.U)())}return V})}static{this.\u0275fac=function(b){return new(b||y)(S.KVO(Nn),S.KVO(S.Ql9),S.KVO(S.uvJ),S.KVO(Ba),S.KVO(mr))}}static{this.\u0275prov=S.jDH({token:y,factory:y.\u0275fac,providedIn:"root"})}}return y})();const Br=new S.nKC("");let ja=(()=>{class y{constructor(m,b,R,V,Y={}){this.urlSerializer=m,this.transitions=b,this.viewportScroller=R,this.zone=V,this.options=Y,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},Y.scrollPositionRestoration=Y.scrollPositionRestoration||"disabled",Y.anchorScrolling=Y.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(m=>{m instanceof mn?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=m.navigationTrigger,this.restoredId=m.restoredState?m.restoredState.navigationId:0):m instanceof ln?(this.lastId=m.id,this.scheduleScrollEvent(m,this.urlSerializer.parse(m.urlAfterRedirects).fragment)):m instanceof pi&&0===m.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(m,this.urlSerializer.parse(m.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(m=>{m instanceof ys&&(m.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(m.position):m.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(m.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(m,b){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new ys(m,"popstate"===this.lastSource?this.store[this.restoredId]:null,b))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(b){S.QTQ()}}static{this.\u0275prov=S.jDH({token:y,factory:y.\u0275fac})}}return y})();function vr(y,D){return{\u0275kind:y,\u0275providers:D}}function $a(){const y=(0,S.WQX)(S.zZn);return D=>{const m=y.get(S.o8S);if(D!==m.components[0])return;const b=y.get(Nn),R=y.get($r);1===y.get(dt)&&b.initialNavigation(),y.get(Lu,null,S.$GK.Optional)?.setUpPreloading(),y.get(Br,null,S.$GK.Optional)?.init(),b.resetRootComponentType(m.componentTypes[0]),R.closed||(R.next(),R.complete(),R.unsubscribe())}}const $r=new S.nKC("",{factory:()=>new Dt.B}),dt=new S.nKC("",{providedIn:"root",factory:()=>1}),Lu=new S.nKC("");function va(y){return vr(0,[{provide:Lu,useExisting:Zo},{provide:Ba,useExisting:y}])}const cu=new S.nKC("ROUTER_FORROOT_GUARD"),ii=[ke.aZ,{provide:Pr,useClass:kn},Nn,zs,{provide:Li,useFactory:function Ro(y){return y.routerState.root},deps:[Nn]},mr,[]];function Fu(){return new S.NEm("Router",Nn)}let qi=(()=>{class y{constructor(m){}static forRoot(m,b){return{ngModule:y,providers:[ii,[],{provide:an,multi:!0,useValue:m},{provide:cu,useFactory:Qi,deps:[[Nn,new S.Xx1,new S.kdw]]},{provide:Dr,useValue:b||{}},b?.useHash?{provide:ke.hb,useClass:ke.fw}:{provide:ke.hb,useClass:ke.Sm},{provide:Br,useFactory:()=>{const y=(0,S.WQX)(ke.Xr),D=(0,S.WQX)(S.SKi),m=(0,S.WQX)(Dr),b=(0,S.WQX)(Wi),R=(0,S.WQX)(Pr);return m.scrollOffset&&y.setOffset(m.scrollOffset),new ja(R,b,y,D,m)}},b?.preloadingStrategy?va(b.preloadingStrategy).\u0275providers:[],{provide:S.NEm,multi:!0,useFactory:Fu},b?.initialNavigation?El(b):[],b?.bindToComponentInputs?vr(8,[Gs,{provide:Ji,useExisting:Gs}]).\u0275providers:[],[{provide:mo,useFactory:$a},{provide:S.iLQ,multi:!0,useExisting:mo}]]}}static forChild(m){return{ngModule:y,providers:[{provide:an,multi:!0,useValue:m}]}}static{this.\u0275fac=function(b){return new(b||y)(S.KVO(cu,8))}}static{this.\u0275mod=S.$C({type:y})}static{this.\u0275inj=S.G2t({})}}return y})();function Qi(y){return"guarded"}function El(y){return["disabled"===y.initialNavigation?vr(3,[{provide:S.hnV,multi:!0,useFactory:()=>{const D=(0,S.WQX)(Nn);return()=>{D.setUpLocationChangeListener()}}},{provide:dt,useValue:2}]).\u0275providers:[],"enabledBlocking"===y.initialNavigation?vr(2,[{provide:dt,useValue:0},{provide:S.hnV,multi:!0,deps:[S.zZn],useFactory:D=>{const m=D.get(ke.hj,Promise.resolve());return()=>m.then(()=>new Promise(b=>{const R=D.get(Nn),V=D.get($r);Tt(R,()=>{b(!0)}),D.get(Wi).afterPreactivation=()=>(b(!0),V.closed?(0,K.of)(void 0):V),R.initialNavigation()}))}}]).\u0275providers:[]]}const mo=new S.nKC("")},467:(Lt,Le,j)=>{function S(se,ge,le,K,Q,Oe,Ne){try{var te=se[Oe](Ne),J=te.value}catch(ve){return void le(ve)}te.done?ge(J):Promise.resolve(J).then(K,Q)}function ne(se){return function(){var ge=this,le=arguments;return new Promise(function(K,Q){var Oe=se.apply(ge,le);function Ne(J){S(Oe,K,Q,Ne,te,"next",J)}function te(J){S(Oe,K,Q,Ne,te,"throw",J)}Ne(void 0)})}}j.d(Le,{A:()=>ne})},1635:(Lt,Le,j)=>{function ge(Ee,be){var we={};for(var xe in Ee)Object.prototype.hasOwnProperty.call(Ee,xe)&&be.indexOf(xe)<0&&(we[xe]=Ee[xe]);if(null!=Ee&&"function"==typeof Object.getOwnPropertySymbols){var ze=0;for(xe=Object.getOwnPropertySymbols(Ee);ze<xe.length;ze++)be.indexOf(xe[ze])<0&&Object.prototype.propertyIsEnumerable.call(Ee,xe[ze])&&(we[xe[ze]]=Ee[xe[ze]])}return we}function ve(Ee,be,we,xe){return new(we||(we=Promise))(function(He,ot){function Ft(In){try{Ut(xe.next(In))}catch(Yt){ot(Yt)}}function _n(In){try{Ut(xe.throw(In))}catch(Yt){ot(Yt)}}function Ut(In){In.done?He(In.value):function ze(He){return He instanceof we?He:new we(function(ot){ot(He)})}(In.value).then(Ft,_n)}Ut((xe=xe.apply(Ee,be||[])).next())})}function et(Ee){return this instanceof et?(this.v=Ee,this):new et(Ee)}function Je(Ee,be,we){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ze,xe=we.apply(Ee,be||[]),He=[];return ze=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),Ft("next"),Ft("throw"),Ft("return",function ot(en){return function(Yn){return Promise.resolve(Yn).then(en,Yt)}}),ze[Symbol.asyncIterator]=function(){return this},ze;function Ft(en,Yn){xe[en]&&(ze[en]=function(Bn){return new Promise(function(_t,Pn){He.push([en,Bn,_t,Pn])>1||_n(en,Bn)})},Yn&&(ze[en]=Yn(ze[en])))}function _n(en,Yn){try{!function Ut(en){en.value instanceof et?Promise.resolve(en.value.v).then(In,Yt):Et(He[0][2],en)}(xe[en](Yn))}catch(Bn){Et(He[0][3],Bn)}}function In(en){_n("next",en)}function Yt(en){_n("throw",en)}function Et(en,Yn){en(Yn),He.shift(),He.length&&_n(He[0][0],He[0][1])}}function it(Ee){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var we,be=Ee[Symbol.asyncIterator];return be?be.call(Ee):(Ee=function at(Ee){var be="function"==typeof Symbol&&Symbol.iterator,we=be&&Ee[be],xe=0;if(we)return we.call(Ee);if(Ee&&"number"==typeof Ee.length)return{next:function(){return Ee&&xe>=Ee.length&&(Ee=void 0),{value:Ee&&Ee[xe++],done:!Ee}}};throw new TypeError(be?"Object is not iterable.":"Symbol.iterator is not defined.")}(Ee),we={},xe("next"),xe("throw"),xe("return"),we[Symbol.asyncIterator]=function(){return this},we);function xe(He){we[He]=Ee[He]&&function(ot){return new Promise(function(Ft,_n){!function ze(He,ot,Ft,_n){Promise.resolve(_n).then(function(Ut){He({value:Ut,done:Ft})},ot)}(Ft,_n,(ot=Ee[He](ot)).done,ot.value)})}}}j.d(Le,{AQ:()=>Je,N3:()=>et,Tt:()=>ge,sH:()=>ve,xN:()=>it}),"function"==typeof SuppressedError&&SuppressedError}},Lt=>{Lt(Lt.s=226)}]);