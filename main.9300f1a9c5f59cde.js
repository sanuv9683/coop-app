"use strict";(self.webpackChunkcoop_app=self.webpackChunkcoop_app||[]).push([[792],{3664:(ei,Nt,ee)=>{ee.d(Nt,{kR:()=>or});var l=ee(1161),R=(ee(7705),ee(8934),ee(2214),ee(467)),Ce=ee(7852),xe=ee(1362),at=ee(1076),ft=ee(8041);const Pe=new Map,He={activated:!1,tokenObservers:[]},mt={initialized:!1,enabled:!1};function Ft(ht){return Pe.get(ht)||Object.assign({},He)}function yt(){return mt}const It="https://content-firebaseappcheck.googleapis.com/v1",wi="exchangeDebugToken",Ci={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class cn{constructor(ut,jt,dn,Sn,pi){if(this.operation=ut,this.retryPolicy=jt,this.getWaitDuration=dn,this.lowerBound=Sn,this.upperBound=pi,this.pending=null,this.nextErrorWaitInterval=Sn,Sn>pi)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(ut){var jt=this;return(0,R.A)(function*(){jt.stop();try{jt.pending=new at.cY,yield function Dt(ht){return new Promise(ut=>{setTimeout(ut,ht)})}(jt.getNextRun(ut)),jt.pending.resolve(),yield jt.pending.promise,jt.pending=new at.cY,yield jt.operation(),jt.pending.resolve(),yield jt.pending.promise,jt.process(!0).catch(()=>{})}catch(dn){jt.retryPolicy(dn)?jt.process(!1).catch(()=>{}):jt.stop()}})()}getNextRun(ut){if(ut)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const jt=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),jt}}}const Lt=new at.FA("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Qt(ht){if(!Ft(ht).activated)throw Lt.create("use-before-activation",{appName:ht.name})}function fi(ht,ut){return on.apply(this,arguments)}function on(){return(on=(0,R.A)(function*({url:ht,body:ut},jt){const dn={"Content-Type":"application/json"},Sn=jt.getImmediate({optional:!0});if(Sn){const Re=yield Sn.getHeartbeatsHeader();Re&&(dn["X-Firebase-Client"]=Re)}const pi={method:"POST",body:JSON.stringify(ut),headers:dn};let rr,pr;try{rr=yield fetch(ht,pi)}catch(Re){throw Lt.create("fetch-network-error",{originalErrorMessage:Re?.message})}if(200!==rr.status)throw Lt.create("fetch-status-error",{httpStatus:rr.status});try{pr=yield rr.json()}catch(Re){throw Lt.create("fetch-parse-error",{originalErrorMessage:Re?.message})}const Ue=pr.ttl.match(/^([\d.]+)(s)$/);if(!Ue||!Ue[2]||isNaN(Number(Ue[1])))throw Lt.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${pr.ttl}`});const Ge=1e3*Number(Ue[1]),Z=Date.now();return{token:pr.token,expireTimeMillis:Z+Ge,issuedAtTimeMillis:Z}})).apply(this,arguments)}function Zr(ht,ut){const{projectId:jt,appId:dn,apiKey:Sn}=ht.options;return{url:`${It}/projects/${jt}/apps/${dn}:${wi}?key=${Sn}`,body:{debug_token:ut}}}const hr="firebase-app-check-database",xn=1,Gr="firebase-app-check-store";let Bt=null;function Hi(){return(Hi=(0,R.A)(function*(ht,ut){const dn=(yield function Rt(){return Bt||(Bt=new Promise((ht,ut)=>{try{const jt=indexedDB.open(hr,xn);jt.onsuccess=dn=>{ht(dn.target.result)},jt.onerror=dn=>{var Sn;ut(Lt.create("storage-open",{originalErrorMessage:null===(Sn=dn.target.error)||void 0===Sn?void 0:Sn.message}))},jt.onupgradeneeded=dn=>{0===dn.oldVersion&&dn.target.result.createObjectStore(Gr,{keyPath:"compositeKey"})}}catch(jt){ut(Lt.create("storage-open",{originalErrorMessage:jt?.message}))}}),Bt)}()).transaction(Gr,"readwrite"),pi=dn.objectStore(Gr).put({compositeKey:ht,value:ut});return new Promise((rr,pr)=>{pi.onsuccess=Ue=>{rr()},dn.onerror=Ue=>{var Ge;pr(Lt.create("storage-set",{originalErrorMessage:null===(Ge=Ue.target.error)||void 0===Ge?void 0:Ge.message}))}})})).apply(this,arguments)}const nr=new ft.Vy("@firebase/app-check");function ir(ht,ut){return(0,at.zW)()?function ln(ht,ut){return function In(ht,ut){return Hi.apply(this,arguments)}(function Si(ht){return`${ht.options.appId}-${ht.name}`}(ht),ut)}(ht,ut).catch(jt=>{nr.warn(`Failed to write token to IndexedDB. Error: ${jt}`)}):Promise.resolve()}function Wr(){return yt().enabled}function as(){return Or.apply(this,arguments)}function Or(){return(Or=(0,R.A)(function*(){const ht=yt();if(ht.enabled&&ht.token)return ht.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Di={error:"UNKNOWN_ERROR"};function vi(ht){return at.K3.encodeString(JSON.stringify(ht),!1)}function fr(ht){return Br.apply(this,arguments)}function Br(){return(Br=(0,R.A)(function*(ht,ut=!1){const jt=ht.app;Qt(jt);const dn=Ft(jt);let pi,Sn=dn.token;if(Sn&&!Is(Sn)&&(dn.token=void 0,Sn=void 0),!Sn){const Ue=yield dn.cachedTokenPromise;Ue&&(Is(Ue)?Sn=Ue:yield ir(jt,void 0))}if(!ut&&Sn&&Is(Sn))return{token:Sn.token};let pr,rr=!1;if(Wr()){dn.exchangeTokenPromise||(dn.exchangeTokenPromise=fi(Zr(jt,yield as()),ht.heartbeatServiceProvider).finally(()=>{dn.exchangeTokenPromise=void 0}),rr=!0);const Ue=yield dn.exchangeTokenPromise;return yield ir(jt,Ue),dn.token=Ue,{token:Ue.token}}try{dn.exchangeTokenPromise||(dn.exchangeTokenPromise=dn.provider.getToken().finally(()=>{dn.exchangeTokenPromise=void 0}),rr=!0),Sn=yield Ft(jt).exchangeTokenPromise}catch(Ue){"appCheck/throttled"===Ue.code?nr.warn(Ue.message):nr.error(Ue),pi=Ue}return Sn?pi?pr=Is(Sn)?{token:Sn.token,internalError:pi}:is(pi):(pr={token:Sn.token},dn.token=Sn,yield ir(jt,Sn)):pr=is(pi),rr&&function gi(ht,ut){const jt=Ft(ht).tokenObservers;for(const dn of jt)try{"EXTERNAL"===dn.type&&null!=ut.error?dn.error(ut.error):dn.next(ut)}catch{}}(jt,pr),pr})).apply(this,arguments)}function Ar(ht){return ii.apply(this,arguments)}function ii(){return(ii=(0,R.A)(function*(ht){const ut=ht.app;Qt(ut);const{provider:jt}=Ft(ut);if(Wr()){const dn=yield as(),{token:Sn}=yield fi(Zr(ut,dn),ht.heartbeatServiceProvider);return{token:Sn}}{const{token:dn}=yield jt.getToken();return{token:dn}}})).apply(this,arguments)}function cs(ht,ut){const jt=Ft(ht),dn=jt.tokenObservers.filter(Sn=>Sn.next!==ut);0===dn.length&&jt.tokenRefresher&&jt.tokenRefresher.isRunning()&&jt.tokenRefresher.stop(),jt.tokenObservers=dn}function Fn(ht){const{app:ut}=ht,jt=Ft(ut);let dn=jt.tokenRefresher;dn||(dn=function xs(ht){const{app:ut}=ht;return new cn((0,R.A)(function*(){let dn;if(dn=Ft(ut).token?yield fr(ht,!0):yield fr(ht),dn.error)throw dn.error;if(dn.internalError)throw dn.internalError}),()=>!0,()=>{const jt=Ft(ut);if(jt.token){let dn=jt.token.issuedAtTimeMillis+.5*(jt.token.expireTimeMillis-jt.token.issuedAtTimeMillis)+3e5;return dn=Math.min(dn,jt.token.expireTimeMillis-3e5),Math.max(0,dn-Date.now())}return 0},Ci.RETRIAL_MIN_WAIT,Ci.RETRIAL_MAX_WAIT)}(ht),jt.tokenRefresher=dn),!dn.isRunning()&&jt.isTokenAutoRefreshEnabled&&dn.start()}function Is(ht){return ht.expireTimeMillis-Date.now()>0}function is(ht){return{token:vi(Di),error:ht}}class bs{constructor(ut,jt){this.app=ut,this.heartbeatServiceProvider=jt}_delete(){const{tokenObservers:ut}=Ft(this.app);for(const jt of ut)cs(this.app,jt.next);return Promise.resolve()}}const Yt="app-check-internal";!function Pn(){(0,Ce._registerComponent)(new xe.uA("app-check",ht=>function vr(ht,ut){return new bs(ht,ut)}(ht.getProvider("app").getImmediate(),ht.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((ht,ut,jt)=>{ht.getProvider(Yt).initialize()})),(0,Ce._registerComponent)(new xe.uA(Yt,ht=>function Ur(ht){return{getToken:ut=>fr(ht,ut),getLimitedUseToken:()=>Ar(ht),addTokenListener:ut=>function wr(ht,ut,jt,dn){const{app:Sn}=ht,pi=Ft(Sn);if(pi.tokenObservers=[...pi.tokenObservers,{next:jt,error:dn,type:ut}],pi.token&&Is(pi.token)){const pr=pi.token;Promise.resolve().then(()=>{jt({token:pr.token}),Fn(ht)}).catch(()=>{})}pi.cachedTokenPromise.then(()=>Fn(ht))}(ht,"INTERNAL",ut),removeTokenListener:ut=>cs(ht.app,ut)}}(ht.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Ce.registerVersion)("@firebase/app-check","0.8.0")}();class or{constructor(){return(0,l.CA)("app-check")}}typeof window<"u"&&window},8934:(ei,Nt,ee)=>{ee.d(Nt,{MW:()=>Ft,Wp:()=>Cn,XU:()=>ot,gL:()=>R});var l=ee(2214),Le=ee(7705),ke=ee(1161);class ot{constructor(cn){return cn}}class R{constructor(){return(0,l.Dk)()}}const at=new Le.nKC("angularfire2._apps"),ft={provide:ot,useFactory:function xe(vt){return vt&&1===vt.length?vt[0]:new ot((0,l.Sx)())},deps:[[new Le.Xx1,at]]},Pe={provide:R,deps:[[new Le.Xx1,at]]};function He(vt){return(cn,Dt)=>{const At=cn.runOutsideAngular(()=>vt(Dt));return new ot(At)}}let mt=(()=>{class vt{constructor(Dt){(0,l.KO)("angularfire",ke.xv.full,"core"),(0,l.KO)("angularfire",ke.xv.full,"app"),(0,l.KO)("angular",Le.xvI.full,Dt.toString())}}return vt.\u0275fac=function(Dt){return new(Dt||vt)(Le.KVO(Le.Agw))},vt.\u0275mod=Le.$C({type:vt}),vt.\u0275inj=Le.G2t({providers:[ft,Pe]}),vt})();function Ft(vt,...cn){return{ngModule:mt,providers:[{provide:at,useFactory:He(vt),multi:!0,deps:[Le.SKi,Le.zZn,ke.u0,...cn]}]}}const Cn=(0,ke.S3)(l.Wp,!0)},4952:(ei,Nt,ee)=>{ee.d(Nt,{Nj:()=>ml,DF:()=>gl,wh:()=>se,eJ:()=>Go,xI:()=>ol,fN:()=>A,_q:()=>Bu,x9:()=>Cd,CI:()=>mh});var l=ee(1161),Le=ee(7705),ke=ee(8934),ot=ee(2214),R=ee(3664),Ce=ee(467),xe=ee(1076),at=ee(7852),ft=ee(1635),Pe=ee(8041),He=ee(1362);const Ci=function Tn(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},vt=new xe.FA("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Dt=new Pe.Vy("@firebase/auth");function Lt(N,..._){Dt.logLevel<=Pe.$b.ERROR&&Dt.error(`Auth (${at.SDK_VERSION}): ${N}`,..._)}function rt(N,..._){throw fi(N,..._)}function Qt(N,..._){return fi(N,..._)}function fi(N,..._){if("string"!=typeof N){const E=_[0],U=[..._.slice(1)];return U[0]&&(U[0].appName=N.name),N._errorFactory.create(E,...U)}return vt.create(N,..._)}function on(N,_,...E){if(!N)throw fi(_,...E)}function Ii(N){const _="INTERNAL ASSERTION FAILED: "+N;throw Lt(_),new Error(_)}function Xi(N,_){N||Ii(_)}function Zr(){var N;return typeof self<"u"&&(null===(N=self.location)||void 0===N?void 0:N.href)||""}function xn(){var N;return typeof self<"u"&&(null===(N=self.location)||void 0===N?void 0:N.protocol)||null}class Bt{constructor(_,E){this.shortDelay=_,this.longDelay=E,Xi(E>_,"Short delay should be less than long delay!"),this.isMobile=(0,xe.jZ)()||(0,xe.lV)()}get(){return function Gr(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function hr(){return"http:"===xn()||"https:"===xn()}()||(0,xe.sr)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Rt(N,_){Xi(N.emulator,"Emulator should always be set here");const{url:E}=N.emulator;return _?`${E}${_.startsWith("/")?_.slice(1):_}`:E}class qt{static initialize(_,E,U){this.fetchImpl=_,E&&(this.headersImpl=E),U&&(this.responseImpl=U)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Ii("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Ii("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Ii("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ln={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Ut=new Bt(3e4,6e4);function Mn(N,_){return N.tenantId&&!_.tenantId?Object.assign(Object.assign({},_),{tenantId:N.tenantId}):_}function In(N,_,E,U){return Hi.apply(this,arguments)}function Hi(){return(Hi=(0,Ce.A)(function*(N,_,E,U,_e={}){return Bn(N,_e,(0,Ce.A)(function*(){let Ne={},Ot={};U&&("GET"===_?Ot=U:Ne={body:JSON.stringify(U)});const rn=(0,xe.Am)(Object.assign({key:N.config.apiKey},Ot)).slice(1),qn=yield N._getAdditionalHeaders();return qn["Content-Type"]="application/json",N.languageCode&&(qn["X-Firebase-Locale"]=N.languageCode),qt.fetch()(ti(N,N.config.apiHost,E,rn),Object.assign({method:_,headers:qn,referrerPolicy:"no-referrer"},Ne))}))})).apply(this,arguments)}function Bn(N,_,E){return Jn.apply(this,arguments)}function Jn(){return(Jn=(0,Ce.A)(function*(N,_,E){N._canInitEmulator=!1;const U=Object.assign(Object.assign({},ln),_);try{const _e=new Ni(N),Ne=yield Promise.race([E(),_e.promise]);_e.clearNetworkTimeout();const Ot=yield Ne.json();if("needConfirmation"in Ot)throw ir(N,"account-exists-with-different-credential",Ot);if(Ne.ok&&!("errorMessage"in Ot))return Ot;{const rn=Ne.ok?Ot.errorMessage:Ot.error.message,[qn,Oi]=rn.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===qn)throw ir(N,"credential-already-in-use",Ot);if("EMAIL_EXISTS"===qn)throw ir(N,"email-already-in-use",Ot);if("USER_DISABLED"===qn)throw ir(N,"user-disabled",Ot);const zr=U[qn]||qn.toLowerCase().replace(/[_\s]+/g,"-");if(Oi)throw function Mt(N,_,E){const U=Object.assign(Object.assign({},Ci()),{[_]:E});return new xe.FA("auth","Firebase",U).create(_,{appName:N.name})}(N,zr,Oi);rt(N,zr)}}catch(_e){if(_e instanceof xe.g)throw _e;rt(N,"network-request-failed",{message:String(_e)})}})).apply(this,arguments)}function Si(N,_,E,U){return nr.apply(this,arguments)}function nr(){return(nr=(0,Ce.A)(function*(N,_,E,U,_e={}){const Ne=yield In(N,_,E,U,_e);return"mfaPendingCredential"in Ne&&rt(N,"multi-factor-auth-required",{_serverResponse:Ne}),Ne})).apply(this,arguments)}function ti(N,_,E,U){const _e=`${_}${E}?${U}`;return N.config.emulator?Rt(N.config,_e):`${N.config.apiScheme}://${_e}`}class Ni{constructor(_){this.auth=_,this.timer=null,this.promise=new Promise((E,U)=>{this.timer=setTimeout(()=>U(Qt(this.auth,"network-request-failed")),Ut.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ir(N,_,E){const U={appName:N.name};E.email&&(U.email=E.email),E.phoneNumber&&(U.phoneNumber=E.phoneNumber);const _e=Qt(N,_,U);return _e.customData._tokenResponse=E,_e}function zi(){return(zi=(0,Ce.A)(function*(N,_){return In(N,"POST","/v1/accounts:delete",_)})).apply(this,arguments)}function ni(){return(ni=(0,Ce.A)(function*(N,_){return In(N,"POST","/v1/accounts:lookup",_)})).apply(this,arguments)}function Di(N){if(N)try{const _=new Date(Number(N));if(!isNaN(_.getTime()))return _.toUTCString()}catch{}}function Br(){return(Br=(0,Ce.A)(function*(N,_=!1){const E=(0,xe.Ku)(N),U=yield E.getIdToken(_),_e=ii(U);on(_e&&_e.exp&&_e.auth_time&&_e.iat,E.auth,"internal-error");const Ne="object"==typeof _e.firebase?_e.firebase:void 0,Ot=Ne?.sign_in_provider;return{claims:_e,token:U,authTime:Di(Ar(_e.auth_time)),issuedAtTime:Di(Ar(_e.iat)),expirationTime:Di(Ar(_e.exp)),signInProvider:Ot||null,signInSecondFactor:Ne?.sign_in_second_factor||null}})).apply(this,arguments)}function Ar(N){return 1e3*Number(N)}function ii(N){const[_,E,U]=N.split(".");if(void 0===_||void 0===E||void 0===U)return Lt("JWT malformed, contained fewer than 3 sections"),null;try{const _e=(0,xe.u)(E);return _e?JSON.parse(_e):(Lt("Failed to decode base64 JWT payload"),null)}catch(_e){return Lt("Caught error parsing JWT payload as JSON",_e?.toString()),null}}function cs(N,_){return Fn.apply(this,arguments)}function Fn(){return(Fn=(0,Ce.A)(function*(N,_,E=!1){if(E)return _;try{return yield _}catch(U){throw U instanceof xe.g&&function xs({code:N}){return"auth/user-disabled"===N||"auth/user-token-expired"===N}(U)&&N.auth.currentUser===N&&(yield N.auth.signOut()),U}})).apply(this,arguments)}class gi{constructor(_){this.user=_,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(_){var E;if(_){const U=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),U}{this.errorBackoff=3e4;const _e=(null!==(E=this.user.stsTokenManager.expirationTime)&&void 0!==E?E:0)-Date.now()-3e5;return Math.max(0,_e)}}schedule(_=!1){var E=this;if(!this.isRunning)return;const U=this.getInterval(_);this.timerId=setTimeout((0,Ce.A)(function*(){yield E.iteration()}),U)}iteration(){var _=this;return(0,Ce.A)(function*(){try{yield _.user.getIdToken(!0)}catch(E){return void("auth/network-request-failed"===E?.code&&_.schedule(!0))}_.schedule()})()}}class Is{constructor(_,E){this.createdAt=_,this.lastLoginAt=E,this._initializeTime()}_initializeTime(){this.lastSignInTime=Di(this.lastLoginAt),this.creationTime=Di(this.createdAt)}_copy(_){this.createdAt=_.createdAt,this.lastLoginAt=_.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function is(N){return bs.apply(this,arguments)}function bs(){return bs=(0,Ce.A)(function*(N){var _;const E=N.auth,U=yield N.getIdToken(),_e=yield cs(N,function Or(N,_){return ni.apply(this,arguments)}(E,{idToken:U}));on(_e?.users.length,E,"internal-error");const Ne=_e.users[0];N._notifyReloadListener(Ne);const Ot=null!==(_=Ne.providerUserInfo)&&void 0!==_&&_.length?function Cr(N){return N.map(_=>{var{providerId:E}=_,U=(0,ft.Tt)(_,["providerId"]);return{providerId:E,uid:U.rawId||"",displayName:U.displayName||null,email:U.email||null,phoneNumber:U.phoneNumber||null,photoURL:U.photoUrl||null}})}(Ne.providerUserInfo):[],rn=function Kr(N,_){return[...N.filter(U=>!_.some(_e=>_e.providerId===U.providerId)),..._]}(N.providerData,Ot),zr=!!N.isAnonymous&&!(N.email&&Ne.passwordHash||rn?.length),Vr={uid:Ne.localId,displayName:Ne.displayName||null,photoURL:Ne.photoUrl||null,email:Ne.email||null,emailVerified:Ne.emailVerified||!1,phoneNumber:Ne.phoneNumber||null,tenantId:Ne.tenantId||null,providerData:rn,metadata:new Is(Ne.createdAt,Ne.lastLoginAt),isAnonymous:zr};Object.assign(N,Vr)}),bs.apply(this,arguments)}function Ur(){return(Ur=(0,Ce.A)(function*(N){const _=(0,xe.Ku)(N);yield is(_),yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)})).apply(this,arguments)}function Jr(){return(Jr=(0,Ce.A)(function*(N,_){const E=yield Bn(N,{},(0,Ce.A)(function*(){const U=(0,xe.Am)({grant_type:"refresh_token",refresh_token:_}).slice(1),{tokenApiHost:_e,apiKey:Ne}=N.config,Ot=ti(N,_e,"/v1/token",`key=${Ne}`),rn=yield N._getAdditionalHeaders();return rn["Content-Type"]="application/x-www-form-urlencoded",qt.fetch()(Ot,{method:"POST",headers:rn,body:U})}));return{accessToken:E.access_token,expiresIn:E.expires_in,refreshToken:E.refresh_token}})).apply(this,arguments)}class Gi{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(_){on(_.idToken,"internal-error"),on(typeof _.idToken<"u","internal-error"),on(typeof _.refreshToken<"u","internal-error");const E="expiresIn"in _&&typeof _.expiresIn<"u"?Number(_.expiresIn):function wr(N){const _=ii(N);return on(_,"internal-error"),on(typeof _.exp<"u","internal-error"),on(typeof _.iat<"u","internal-error"),Number(_.exp)-Number(_.iat)}(_.idToken);this.updateTokensAndExpiration(_.idToken,_.refreshToken,E)}getToken(_){var E=this;return(0,Ce.A)(function*(U,_e=!1){return on(!E.accessToken||E.refreshToken,U,"user-token-expired"),_e||!E.accessToken||E.isExpired?E.refreshToken?(yield E.refresh(U,E.refreshToken),E.accessToken):null:E.accessToken}).apply(this,arguments)}clearRefreshToken(){this.refreshToken=null}refresh(_,E){var U=this;return(0,Ce.A)(function*(){const{accessToken:_e,refreshToken:Ne,expiresIn:Ot}=yield function Ir(N,_){return Jr.apply(this,arguments)}(_,E);U.updateTokensAndExpiration(_e,Ne,Number(Ot))})()}updateTokensAndExpiration(_,E,U){this.refreshToken=E||null,this.accessToken=_||null,this.expirationTime=Date.now()+1e3*U}static fromJSON(_,E){const{refreshToken:U,accessToken:_e,expirationTime:Ne}=E,Ot=new Gi;return U&&(on("string"==typeof U,"internal-error",{appName:_}),Ot.refreshToken=U),_e&&(on("string"==typeof _e,"internal-error",{appName:_}),Ot.accessToken=_e),Ne&&(on("number"==typeof Ne,"internal-error",{appName:_}),Ot.expirationTime=Ne),Ot}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(_){this.accessToken=_.accessToken,this.refreshToken=_.refreshToken,this.expirationTime=_.expirationTime}_clone(){return Object.assign(new Gi,this.toJSON())}_performRefresh(){return Ii("not implemented")}}function Ji(N,_){on("string"==typeof N||typeof N>"u","internal-error",{appName:_})}class _r{constructor(_){var{uid:E,auth:U,stsTokenManager:_e}=_,Ne=(0,ft.Tt)(_,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new gi(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=E,this.auth=U,this.stsTokenManager=_e,this.accessToken=_e.accessToken,this.displayName=Ne.displayName||null,this.email=Ne.email||null,this.emailVerified=Ne.emailVerified||!1,this.phoneNumber=Ne.phoneNumber||null,this.photoURL=Ne.photoURL||null,this.isAnonymous=Ne.isAnonymous||!1,this.tenantId=Ne.tenantId||null,this.providerData=Ne.providerData?[...Ne.providerData]:[],this.metadata=new Is(Ne.createdAt||void 0,Ne.lastLoginAt||void 0)}getIdToken(_){var E=this;return(0,Ce.A)(function*(){const U=yield cs(E,E.stsTokenManager.getToken(E.auth,_));return on(U,E.auth,"internal-error"),E.accessToken!==U&&(E.accessToken=U,yield E.auth._persistUserIfCurrent(E),E.auth._notifyListenersIfCurrent(E)),U})()}getIdTokenResult(_){return function fr(N){return Br.apply(this,arguments)}(this,_)}reload(){return function vr(N){return Ur.apply(this,arguments)}(this)}_assign(_){this!==_&&(on(this.uid===_.uid,this.auth,"internal-error"),this.displayName=_.displayName,this.photoURL=_.photoURL,this.email=_.email,this.emailVerified=_.emailVerified,this.phoneNumber=_.phoneNumber,this.isAnonymous=_.isAnonymous,this.tenantId=_.tenantId,this.providerData=_.providerData.map(E=>Object.assign({},E)),this.metadata._copy(_.metadata),this.stsTokenManager._assign(_.stsTokenManager))}_clone(_){const E=new _r(Object.assign(Object.assign({},this),{auth:_,stsTokenManager:this.stsTokenManager._clone()}));return E.metadata._copy(this.metadata),E}_onReload(_){on(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=_,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(_){this.reloadListener?this.reloadListener(_):this.reloadUserInfo=_}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(_){var E=this;return(0,Ce.A)(function*(U,_e=!1){let Ne=!1;U.idToken&&U.idToken!==E.stsTokenManager.accessToken&&(E.stsTokenManager.updateFromServerResponse(U),Ne=!0),_e&&(yield is(E)),yield E.auth._persistUserIfCurrent(E),Ne&&E.auth._notifyListenersIfCurrent(E)}).apply(this,arguments)}delete(){var _=this;return(0,Ce.A)(function*(){const E=yield _.getIdToken();return yield cs(_,function Zi(N,_){return zi.apply(this,arguments)}(_.auth,{idToken:E})),_.stsTokenManager.clearRefreshToken(),_.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(_=>Object.assign({},_)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(_,E){var U,_e,Ne,Ot,rn,qn,Oi,zr;const Vr=null!==(U=E.displayName)&&void 0!==U?U:void 0,Qo=null!==(_e=E.email)&&void 0!==_e?_e:void 0,Rc=null!==(Ne=E.phoneNumber)&&void 0!==Ne?Ne:void 0,bl=null!==(Ot=E.photoURL)&&void 0!==Ot?Ot:void 0,$l=null!==(rn=E.tenantId)&&void 0!==rn?rn:void 0,Dd=null!==(qn=E._redirectEventId)&&void 0!==qn?qn:void 0,zl=null!==(Oi=E.createdAt)&&void 0!==Oi?Oi:void 0,Gu=null!==(zr=E.lastLoginAt)&&void 0!==zr?zr:void 0,{uid:du,emailVerified:al,isAnonymous:hu,providerData:_h,stsTokenManager:Ma}=E;on(du&&Ma,_,"internal-error");const yh=Gi.fromJSON(this.name,Ma);on("string"==typeof du,_,"internal-error"),Ji(Vr,_.name),Ji(Qo,_.name),on("boolean"==typeof al,_,"internal-error"),on("boolean"==typeof hu,_,"internal-error"),Ji(Rc,_.name),Ji(bl,_.name),Ji($l,_.name),Ji(Dd,_.name),Ji(zl,_.name),Ji(Gu,_.name);const Td=new _r({uid:du,auth:_,email:Qo,emailVerified:al,displayName:Vr,isAnonymous:hu,photoURL:bl,phoneNumber:Rc,tenantId:$l,stsTokenManager:yh,createdAt:zl,lastLoginAt:Gu});return _h&&Array.isArray(_h)&&(Td.providerData=_h.map(Wu=>Object.assign({},Wu))),Dd&&(Td._redirectEventId=Dd),Td}static _fromIdTokenResponse(_,E){return(0,Ce.A)(function*(U,_e,Ne=!1){const Ot=new Gi;Ot.updateFromServerResponse(_e);const rn=new _r({uid:_e.localId,auth:U,stsTokenManager:Ot,isAnonymous:Ne});return yield is(rn),rn}).apply(this,arguments)}}const Xe=new Map;function ve(N){Xi(N instanceof Function,"Expected a class definition");let _=Xe.get(N);return _?(Xi(_ instanceof N,"Instance stored in cache mismatched with class"),_):(_=new N,Xe.set(N,_),_)}const Ee=(()=>{class N{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,Ce.A)(function*(){return!0})()}_set(E,U){var _e=this;return(0,Ce.A)(function*(){_e.storage[E]=U})()}_get(E){var U=this;return(0,Ce.A)(function*(){const _e=U.storage[E];return void 0===_e?null:_e})()}_remove(E){var U=this;return(0,Ce.A)(function*(){delete U.storage[E]})()}_addListener(E,U){}_removeListener(E,U){}}return N.type="NONE",N})();function we(N,_,E){return`firebase:${N}:${_}:${E}`}class Ct{constructor(_,E,U){this.persistence=_,this.auth=E,this.userKey=U;const{config:_e,name:Ne}=this.auth;this.fullUserKey=we(this.userKey,_e.apiKey,Ne),this.fullPersistenceKey=we("persistence",_e.apiKey,Ne),this.boundEventHandler=E._onStorageEvent.bind(E),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(_){return this.persistence._set(this.fullUserKey,_.toJSON())}getCurrentUser(){var _=this;return(0,Ce.A)(function*(){const E=yield _.persistence._get(_.fullUserKey);return E?_r._fromJSON(_.auth,E):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(_){var E=this;return(0,Ce.A)(function*(){if(E.persistence===_)return;const U=yield E.getCurrentUser();return yield E.removeCurrentUser(),E.persistence=_,U?E.setCurrentUser(U):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(_,E){return(0,Ce.A)(function*(U,_e,Ne="authUser"){if(!_e.length)return new Ct(ve(Ee),U,Ne);const Ot=(yield Promise.all(_e.map(function(){var Vr=(0,Ce.A)(function*(Qo){if(yield Qo._isAvailable())return Qo});return function(Qo){return Vr.apply(this,arguments)}}()))).filter(Vr=>Vr);let rn=Ot[0]||ve(Ee);const qn=we(Ne,U.config.apiKey,U.name);let Oi=null;for(const Vr of _e)try{const Qo=yield Vr._get(qn);if(Qo){const Rc=_r._fromJSON(U,Qo);Vr!==rn&&(Oi=Rc),rn=Vr;break}}catch{}const zr=Ot.filter(Vr=>Vr._shouldAllowMigration);return rn._shouldAllowMigration&&zr.length?(rn=zr[0],Oi&&(yield rn._set(qn,Oi.toJSON())),yield Promise.all(_e.map(function(){var Vr=(0,Ce.A)(function*(Qo){if(Qo!==rn)try{yield Qo._remove(qn)}catch{}});return function(Qo){return Vr.apply(this,arguments)}}())),new Ct(rn,U,Ne)):new Ct(rn,U,Ne)}).apply(this,arguments)}}function an(N){const _=N.toLowerCase();if(_.includes("opera/")||_.includes("opr/")||_.includes("opios/"))return"Opera";if(Yn(_))return"IEMobile";if(_.includes("msie")||_.includes("trident/"))return"IE";if(_.includes("edge/"))return"Edge";if(mn(_))return"Firefox";if(_.includes("silk/"))return"Silk";if(ki(_))return"Blackberry";if(_t(_))return"Webos";if(si(_))return"Safari";if((_.includes("chrome/")||jn(_))&&!_.includes("edge/"))return"Chrome";if(Qn(_))return"Android";{const U=N.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===U?.length)return U[1]}return"Other"}function mn(N=(0,xe.ZQ)()){return/firefox\//i.test(N)}function si(N=(0,xe.ZQ)()){const _=N.toLowerCase();return _.includes("safari/")&&!_.includes("chrome/")&&!_.includes("crios/")&&!_.includes("android")}function jn(N=(0,xe.ZQ)()){return/crios\//i.test(N)}function Yn(N=(0,xe.ZQ)()){return/iemobile/i.test(N)}function Qn(N=(0,xe.ZQ)()){return/android/i.test(N)}function ki(N=(0,xe.ZQ)()){return/blackberry/i.test(N)}function _t(N=(0,xe.ZQ)()){return/webos/i.test(N)}function qe(N=(0,xe.ZQ)()){return/iphone|ipad|ipod/i.test(N)||/macintosh/i.test(N)&&/mobile/i.test(N)}function xt(N=(0,xe.ZQ)()){return qe(N)||Qn(N)||_t(N)||ki(N)||/windows phone/i.test(N)||Yn(N)}function Pn(N,_=[]){let E;switch(N){case"Browser":E=an((0,xe.ZQ)());break;case"Worker":E=`${an((0,xe.ZQ)())}-${N}`;break;default:E=N}const U=_.length?_.join(","):"FirebaseCore-web";return`${E}/JsCore/${at.SDK_VERSION}/${U}`}function or(N,_){return Fi.apply(this,arguments)}function Fi(){return(Fi=(0,Ce.A)(function*(N,_){return In(N,"GET","/v2/recaptchaConfig",Mn(N,_))})).apply(this,arguments)}function jr(N){return void 0!==N&&void 0!==N.enterprise}class ds{constructor(_){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===_.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=_.recaptchaKey.split("/")[3],this.emailPasswordEnabled=_.recaptchaEnforcementState.some(E=>"EMAIL_PASSWORD_PROVIDER"===E.provider&&"OFF"!==E.enforcementState)}}function Wi(N){return new Promise((_,E)=>{const U=document.createElement("script");U.setAttribute("src",N),U.onload=_,U.onerror=_e=>{const Ne=Qt("internal-error");Ne.customData=_e,E(Ne)},U.type="text/javascript",U.charset="UTF-8",function ar(){var N,_;return null!==(_=null===(N=document.getElementsByTagName("head"))||void 0===N?void 0:N[0])&&void 0!==_?_:document}().appendChild(U)})}function hs(N){return`__${N}${Math.floor(1e6*Math.random())}`}class Yi{constructor(_){this.type="recaptcha-enterprise",this.auth=ht(_)}verify(){var _=this;return(0,Ce.A)(function*(E="verify",U=!1){function Ne(){return Ne=(0,Ce.A)(function*(rn){if(!U){if(null==rn.tenantId&&null!=rn._agentRecaptchaConfig)return rn._agentRecaptchaConfig.siteKey;if(null!=rn.tenantId&&void 0!==rn._tenantRecaptchaConfigs[rn.tenantId])return rn._tenantRecaptchaConfigs[rn.tenantId].siteKey}return new Promise(function(){var qn=(0,Ce.A)(function*(Oi,zr){or(rn,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Vr=>{if(void 0!==Vr.recaptchaKey){const Qo=new ds(Vr);return null==rn.tenantId?rn._agentRecaptchaConfig=Qo:rn._tenantRecaptchaConfigs[rn.tenantId]=Qo,Oi(Qo.siteKey)}zr(new Error("recaptcha Enterprise site key undefined"))}).catch(Vr=>{zr(Vr)})});return function(Oi,zr){return qn.apply(this,arguments)}}())}),Ne.apply(this,arguments)}function Ot(rn,qn,Oi){const zr=window.grecaptcha;jr(zr)?zr.enterprise.ready(()=>{zr.enterprise.execute(rn,{action:E}).then(Vr=>{qn(Vr)}).catch(()=>{qn("NO_RECAPTCHA")})}):Oi(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((rn,qn)=>{(function _e(rn){return Ne.apply(this,arguments)})(_.auth).then(Oi=>{if(!U&&jr(window.grecaptcha))Ot(Oi,rn,qn);else{if(typeof window>"u")return void qn(new Error("RecaptchaVerifier is only supported in browser"));Wi("https://www.google.com/recaptcha/enterprise.js?render="+Oi).then(()=>{Ot(Oi,rn,qn)}).catch(zr=>{qn(zr)})}}).catch(Oi=>{qn(Oi)})})}).apply(this,arguments)}}function ss(N,_,E){return fs.apply(this,arguments)}function fs(){return(fs=(0,Ce.A)(function*(N,_,E,U=!1){const _e=new Yi(N);let Ne;try{Ne=yield _e.verify(E)}catch{Ne=yield _e.verify(E,!0)}const Ot=Object.assign({},_);return Object.assign(Ot,U?{captchaResp:Ne}:{captchaResponse:Ne}),Object.assign(Ot,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(Ot,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),Ot})).apply(this,arguments)}class mo{constructor(_){this.auth=_,this.queue=[]}pushCallback(_,E){const U=Ne=>new Promise((Ot,rn)=>{try{Ot(_(Ne))}catch(qn){rn(qn)}});U.onAbort=E,this.queue.push(U);const _e=this.queue.length-1;return()=>{this.queue[_e]=()=>Promise.resolve()}}runMiddleware(_){var E=this;return(0,Ce.A)(function*(){if(E.auth.currentUser===_)return;const U=[];try{for(const _e of E.queue)yield _e(_),_e.onAbort&&U.push(_e.onAbort)}catch(_e){U.reverse();for(const Ne of U)try{Ne()}catch{}throw E.auth._errorFactory.create("login-blocked",{originalMessage:_e?.message})}})()}}class Io{constructor(_,E,U,_e){this.app=_,this.heartbeatServiceProvider=E,this.appCheckServiceProvider=U,this.config=_e,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ut(this),this.idTokenSubscription=new ut(this),this.beforeStateQueue=new mo(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=vt,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=_.name,this.clientVersion=_e.sdkClientVersion}_initializeWithPersistence(_,E){var U=this;return E&&(this._popupRedirectResolver=ve(E)),this._initializationPromise=this.queue((0,Ce.A)(function*(){var _e,Ne;if(!U._deleted&&(U.persistenceManager=yield Ct.create(U,_),!U._deleted)){if(null!==(_e=U._popupRedirectResolver)&&void 0!==_e&&_e._shouldInitProactively)try{yield U._popupRedirectResolver._initialize(U)}catch{}yield U.initializeCurrentUser(E),U.lastNotifiedUid=(null===(Ne=U.currentUser)||void 0===Ne?void 0:Ne.uid)||null,!U._deleted&&(U._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var _=this;return(0,Ce.A)(function*(){if(_._deleted)return;const E=yield _.assertedPersistence.getCurrentUser();if(_.currentUser||E){if(_.currentUser&&E&&_.currentUser.uid===E.uid)return _._currentUser._assign(E),void(yield _.currentUser.getIdToken());yield _._updateCurrentUser(E,!0)}})()}initializeCurrentUser(_){var E=this;return(0,Ce.A)(function*(){var U;const _e=yield E.assertedPersistence.getCurrentUser();let Ne=_e,Ot=!1;if(_&&E.config.authDomain){yield E.getOrInitRedirectPersistenceManager();const rn=null===(U=E.redirectUser)||void 0===U?void 0:U._redirectEventId,qn=Ne?._redirectEventId,Oi=yield E.tryRedirectSignIn(_);(!rn||rn===qn)&&Oi?.user&&(Ne=Oi.user,Ot=!0)}if(!Ne)return E.directlySetCurrentUser(null);if(!Ne._redirectEventId){if(Ot)try{yield E.beforeStateQueue.runMiddleware(Ne)}catch(rn){Ne=_e,E._popupRedirectResolver._overrideRedirectResult(E,()=>Promise.reject(rn))}return Ne?E.reloadAndSetCurrentUserOrClear(Ne):E.directlySetCurrentUser(null)}return on(E._popupRedirectResolver,E,"argument-error"),yield E.getOrInitRedirectPersistenceManager(),E.redirectUser&&E.redirectUser._redirectEventId===Ne._redirectEventId?E.directlySetCurrentUser(Ne):E.reloadAndSetCurrentUserOrClear(Ne)})()}tryRedirectSignIn(_){var E=this;return(0,Ce.A)(function*(){let U=null;try{U=yield E._popupRedirectResolver._completeRedirectFn(E,_,!0)}catch{yield E._setRedirectUser(null)}return U})()}reloadAndSetCurrentUserOrClear(_){var E=this;return(0,Ce.A)(function*(){try{yield is(_)}catch(U){if("auth/network-request-failed"!==U?.code)return E.directlySetCurrentUser(null)}return E.directlySetCurrentUser(_)})()}useDeviceLanguage(){this.languageCode=function Vt(){if(typeof navigator>"u")return null;const N=navigator;return N.languages&&N.languages[0]||N.language||null}()}_delete(){var _=this;return(0,Ce.A)(function*(){_._deleted=!0})()}updateCurrentUser(_){var E=this;return(0,Ce.A)(function*(){const U=_?(0,xe.Ku)(_):null;return U&&on(U.auth.config.apiKey===E.config.apiKey,E,"invalid-user-token"),E._updateCurrentUser(U&&U._clone(E))})()}_updateCurrentUser(_){var E=this;return(0,Ce.A)(function*(U,_e=!1){if(!E._deleted)return U&&on(E.tenantId===U.tenantId,E,"tenant-id-mismatch"),_e||(yield E.beforeStateQueue.runMiddleware(U)),E.queue((0,Ce.A)(function*(){yield E.directlySetCurrentUser(U),E.notifyAuthListeners()}))}).apply(this,arguments)}signOut(){var _=this;return(0,Ce.A)(function*(){return yield _.beforeStateQueue.runMiddleware(null),(_.redirectPersistenceManager||_._popupRedirectResolver)&&(yield _._setRedirectUser(null)),_._updateCurrentUser(null,!0)})()}setPersistence(_){var E=this;return this.queue((0,Ce.A)(function*(){yield E.assertedPersistence.setPersistence(ve(_))}))}initializeRecaptchaConfig(){var _=this;return(0,Ce.A)(function*(){const E=yield or(_,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),U=new ds(E);null==_.tenantId?_._agentRecaptchaConfig=U:_._tenantRecaptchaConfigs[_.tenantId]=U,U.emailPasswordEnabled&&new Yi(_).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(_){this._errorFactory=new xe.FA("auth","Firebase",_())}onAuthStateChanged(_,E,U){return this.registerStateListener(this.authStateSubscription,_,E,U)}beforeAuthStateChanged(_,E){return this.beforeStateQueue.pushCallback(_,E)}onIdTokenChanged(_,E,U){return this.registerStateListener(this.idTokenSubscription,_,E,U)}toJSON(){var _;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(_=this._currentUser)||void 0===_?void 0:_.toJSON()}}_setRedirectUser(_,E){var U=this;return(0,Ce.A)(function*(){const _e=yield U.getOrInitRedirectPersistenceManager(E);return null===_?_e.removeCurrentUser():_e.setCurrentUser(_)})()}getOrInitRedirectPersistenceManager(_){var E=this;return(0,Ce.A)(function*(){if(!E.redirectPersistenceManager){const U=_&&ve(_)||E._popupRedirectResolver;on(U,E,"argument-error"),E.redirectPersistenceManager=yield Ct.create(E,[ve(U._redirectPersistence)],"redirectUser"),E.redirectUser=yield E.redirectPersistenceManager.getCurrentUser()}return E.redirectPersistenceManager})()}_redirectUserForId(_){var E=this;return(0,Ce.A)(function*(){var U,_e;return E._isInitialized&&(yield E.queue((0,Ce.A)(function*(){}))),(null===(U=E._currentUser)||void 0===U?void 0:U._redirectEventId)===_?E._currentUser:(null===(_e=E.redirectUser)||void 0===_e?void 0:_e._redirectEventId)===_?E.redirectUser:null})()}_persistUserIfCurrent(_){var E=this;return(0,Ce.A)(function*(){if(_===E.currentUser)return E.queue((0,Ce.A)(function*(){return E.directlySetCurrentUser(_)}))})()}_notifyListenersIfCurrent(_){_===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var _,E;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const U=null!==(E=null===(_=this.currentUser)||void 0===_?void 0:_.uid)&&void 0!==E?E:null;this.lastNotifiedUid!==U&&(this.lastNotifiedUid=U,this.authStateSubscription.next(this.currentUser))}registerStateListener(_,E,U,_e){if(this._deleted)return()=>{};const Ne="function"==typeof E?E:E.next.bind(E),Ot=this._isInitialized?Promise.resolve():this._initializationPromise;return on(Ot,this,"internal-error"),Ot.then(()=>Ne(this.currentUser)),"function"==typeof E?_.addObserver(E,U,_e):_.addObserver(E)}directlySetCurrentUser(_){var E=this;return(0,Ce.A)(function*(){E.currentUser&&E.currentUser!==_&&E._currentUser._stopProactiveRefresh(),_&&E.isProactiveRefreshEnabled&&_._startProactiveRefresh(),E.currentUser=_,_?yield E.assertedPersistence.setCurrentUser(_):yield E.assertedPersistence.removeCurrentUser()})()}queue(_){return this.operations=this.operations.then(_,_),this.operations}get assertedPersistence(){return on(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(_){!_||this.frameworks.includes(_)||(this.frameworks.push(_),this.frameworks.sort(),this.clientVersion=Pn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var _=this;return(0,Ce.A)(function*(){var E;const U={"X-Client-Version":_.clientVersion};_.app.options.appId&&(U["X-Firebase-gmpid"]=_.app.options.appId);const _e=yield null===(E=_.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===E?void 0:E.getHeartbeatsHeader();_e&&(U["X-Firebase-Client"]=_e);const Ne=yield _._getAppCheckToken();return Ne&&(U["X-Firebase-AppCheck"]=Ne),U})()}_getAppCheckToken(){var _=this;return(0,Ce.A)(function*(){var E;const U=yield null===(E=_.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===E?void 0:E.getToken();return U?.error&&function At(N,..._){Dt.logLevel<=Pe.$b.WARN&&Dt.warn(`Auth (${at.SDK_VERSION}): ${N}`,..._)}(`Error while retrieving App Check token: ${U.error}`),U?.token})()}}function ht(N){return(0,xe.Ku)(N)}class ut{constructor(_){this.auth=_,this.observer=null,this.addObserver=(0,xe.tD)(E=>this.observer=E)}get next(){return on(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function pi(N){const _=N.indexOf(":");return _<0?"":N.substr(0,_+1)}function pr(N){if(!N)return null;const _=Number(N);return isNaN(_)?null:_}class Ge{constructor(_,E){this.providerId=_,this.signInMethod=E}toJSON(){return Ii("not implemented")}_getIdTokenResponse(_){return Ii("not implemented")}_linkToIdToken(_,E){return Ii("not implemented")}_getReauthenticationResolver(_){return Ii("not implemented")}}function Je(N,_){return tn.apply(this,arguments)}function tn(){return(tn=(0,Ce.A)(function*(N,_){return In(N,"POST","/v1/accounts:update",_)})).apply(this,arguments)}function Fr(N,_){return Yr.apply(this,arguments)}function Yr(){return(Yr=(0,Ce.A)(function*(N,_){return Si(N,"POST","/v1/accounts:signInWithPassword",Mn(N,_))})).apply(this,arguments)}function Vs(){return(Vs=(0,Ce.A)(function*(N,_){return Si(N,"POST","/v1/accounts:signInWithEmailLink",Mn(N,_))})).apply(this,arguments)}function Pr(){return(Pr=(0,Ce.A)(function*(N,_){return Si(N,"POST","/v1/accounts:signInWithEmailLink",Mn(N,_))})).apply(this,arguments)}class Rn extends Ge{constructor(_,E,U,_e=null){super("password",U),this._email=_,this._password=E,this._tenantId=_e}static _fromEmailAndPassword(_,E){return new Rn(_,E,"password")}static _fromEmailAndCode(_,E,U=null){return new Rn(_,E,"emailLink",U)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(_){const E="string"==typeof _?JSON.parse(_):_;if(E?.email&&E?.password){if("password"===E.signInMethod)return this._fromEmailAndPassword(E.email,E.password);if("emailLink"===E.signInMethod)return this._fromEmailAndCode(E.email,E.password,E.tenantId)}return null}_getIdTokenResponse(_){var E=this;return(0,Ce.A)(function*(){var U;switch(E.signInMethod){case"password":const _e={returnSecureToken:!0,email:E._email,password:E._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(U=_._getRecaptchaConfig())&&void 0!==U&&U.emailPasswordEnabled){const Ne=yield ss(_,_e,"signInWithPassword");return Fr(_,Ne)}return Fr(_,_e).catch(function(){var Ne=(0,Ce.A)(function*(Ot){if("auth/missing-recaptcha-token"===Ot.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const rn=yield ss(_,_e,"signInWithPassword");return Fr(_,rn)}return Promise.reject(Ot)});return function(Ot){return Ne.apply(this,arguments)}}());case"emailLink":return function ua(N,_){return Vs.apply(this,arguments)}(_,{email:E._email,oobCode:E._password});default:rt(_,"internal-error")}})()}_linkToIdToken(_,E){var U=this;return(0,Ce.A)(function*(){switch(U.signInMethod){case"password":return Je(_,{idToken:E,returnSecureToken:!0,email:U._email,password:U._password});case"emailLink":return function Qs(N,_){return Pr.apply(this,arguments)}(_,{idToken:E,email:U._email,oobCode:U._password});default:rt(_,"internal-error")}})()}_getReauthenticationResolver(_){return this._getIdTokenResponse(_)}}function Bi(N,_){return Mi.apply(this,arguments)}function Mi(){return(Mi=(0,Ce.A)(function*(N,_){return Si(N,"POST","/v1/accounts:signInWithIdp",Mn(N,_))})).apply(this,arguments)}class Ds{constructor(_){var E,U,_e,Ne,Ot,rn;const qn=(0,xe.I9)((0,xe.hp)(_)),Oi=null!==(E=qn.apiKey)&&void 0!==E?E:null,zr=null!==(U=qn.oobCode)&&void 0!==U?U:null,Vr=function da(N){switch(N){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(_e=qn.mode)&&void 0!==_e?_e:null);on(Oi&&zr&&Vr,"argument-error"),this.apiKey=Oi,this.operation=Vr,this.code=zr,this.continueUrl=null!==(Ne=qn.continueUrl)&&void 0!==Ne?Ne:null,this.languageCode=null!==(Ot=qn.languageCode)&&void 0!==Ot?Ot:null,this.tenantId=null!==(rn=qn.tenantId)&&void 0!==rn?rn:null}static parseLink(_){const E=function Do(N){const _=(0,xe.I9)((0,xe.hp)(N)).link,E=_?(0,xe.I9)((0,xe.hp)(_)).deep_link_id:null,U=(0,xe.I9)((0,xe.hp)(N)).deep_link_id;return(U?(0,xe.I9)((0,xe.hp)(U)).link:null)||U||E||_||N}(_);try{return new Ds(E)}catch{return null}}}let Ra=(()=>{class N{constructor(){this.providerId=N.PROVIDER_ID}static credential(E,U){return Rn._fromEmailAndPassword(E,U)}static credentialWithLink(E,U){const _e=Ds.parseLink(U);return on(_e,"argument-error"),Rn._fromEmailAndCode(E,_e.code,_e.tenantId)}}return N.PROVIDER_ID="password",N.EMAIL_PASSWORD_SIGN_IN_METHOD="password",N.EMAIL_LINK_SIGN_IN_METHOD="emailLink",N})();class Ps{constructor(_){this.providerId=_,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(_){this.defaultLanguageCode=_}setCustomParameters(_){return this.customParameters=_,this}getCustomParameters(){return this.customParameters}}class Ss extends Ps{constructor(){super(...arguments),this.scopes=[]}addScope(_){return this.scopes.includes(_)||this.scopes.push(_),this}getScopes(){return[...this.scopes]}}function Uo(N,_){return ms.apply(this,arguments)}function ms(){return(ms=(0,Ce.A)(function*(N,_){return Si(N,"POST","/v1/accounts:signUp",Mn(N,_))})).apply(this,arguments)}class Zs{constructor(_){this.user=_.user,this.providerId=_.providerId,this._tokenResponse=_._tokenResponse,this.operationType=_.operationType}static _fromIdTokenResponse(_,E,U){return(0,Ce.A)(function*(_e,Ne,Ot,rn=!1){const qn=yield _r._fromIdTokenResponse(_e,Ot,rn),Oi=ks(Ot);return new Zs({user:qn,providerId:Oi,_tokenResponse:Ot,operationType:Ne})}).apply(this,arguments)}static _forOperation(_,E,U){return(0,Ce.A)(function*(){yield _._updateTokensIfNecessary(U,!0);const _e=ks(U);return new Zs({user:_,providerId:_e,_tokenResponse:U,operationType:E})})()}}function ks(N){return N.providerId?N.providerId:"phoneNumber"in N?"phone":null}class gs extends xe.g{constructor(_,E,U,_e){var Ne;super(E.code,E.message),this.operationType=U,this.user=_e,Object.setPrototypeOf(this,gs.prototype),this.customData={appName:_.name,tenantId:null!==(Ne=_.tenantId)&&void 0!==Ne?Ne:void 0,_serverResponse:E.customData._serverResponse,operationType:U}}static _fromErrorAndOperation(_,E,U,_e){return new gs(_,E,U,_e)}}function Ms(N,_,E,U){return("reauthenticate"===_?E._getReauthenticationResolver(N):E._getIdTokenResponse(N)).catch(Ne=>{throw"auth/multi-factor-auth-required"===Ne.code?gs._fromErrorAndOperation(N,Ne,_,U):Ne})}function Lo(){return(Lo=(0,Ce.A)(function*(N,_,E=!1){const U=yield cs(N,_._linkToIdToken(N.auth,yield N.getIdToken()),E);return Zs._forOperation(N,"link",U)})).apply(this,arguments)}function X(){return(X=(0,Ce.A)(function*(N,_,E=!1){const{auth:U}=N,_e="reauthenticate";try{const Ne=yield cs(N,Ms(U,_e,_,N),E);on(Ne.idToken,U,"internal-error");const Ot=ii(Ne.idToken);on(Ot,U,"internal-error");const{sub:rn}=Ot;return on(N.uid===rn,U,"user-mismatch"),Zs._forOperation(N,_e,Ne)}catch(Ne){throw"auth/user-not-found"===Ne?.code&&rt(U,"user-mismatch"),Ne}})).apply(this,arguments)}function Se(N,_){return st.apply(this,arguments)}function st(){return(st=(0,Ce.A)(function*(N,_,E=!1){const U="signIn",_e=yield Ms(N,U,_),Ne=yield Zs._fromIdTokenResponse(N,U,_e);return E||(yield N._updateCurrentUser(Ne.user)),Ne})).apply(this,arguments)}function mr(){return(mr=(0,Ce.A)(function*(N,_){return Se(ht(N),_)})).apply(this,arguments)}function ea(N,_,E){return bo.apply(this,arguments)}function bo(){return bo=(0,Ce.A)(function*(N,_,E){var U;const _e=ht(N),Ne={returnSecureToken:!0,email:_,password:E,clientType:"CLIENT_TYPE_WEB"};let Ot;if(null!==(U=_e._getRecaptchaConfig())&&void 0!==U&&U.emailPasswordEnabled){const Oi=yield ss(_e,Ne,"signUpPassword");Ot=Uo(_e,Oi)}else Ot=Uo(_e,Ne).catch(function(){var Oi=(0,Ce.A)(function*(zr){if("auth/missing-recaptcha-token"===zr.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const Vr=yield ss(_e,Ne,"signUpPassword");return Uo(_e,Vr)}return Promise.reject(zr)});return function(zr){return Oi.apply(this,arguments)}}());const rn=yield Ot.catch(Oi=>Promise.reject(Oi)),qn=yield Zs._fromIdTokenResponse(_e,"signIn",rn);return yield _e._updateCurrentUser(qn.user),qn}),bo.apply(this,arguments)}function Ns(N,_,E){return function hi(N,_){return mr.apply(this,arguments)}((0,xe.Ku)(N),Ra.credential(_,E))}function Dr(N,_,E,U){return(0,xe.Ku)(N).onIdTokenChanged(_,E,U)}function ho(N){return(0,xe.Ku)(N).signOut()}const Vn="__sak";class Wt{constructor(_,E){this.storageRetriever=_,this.type=E}_isAvailable(){try{return this.storage?(this.storage.setItem(Vn,"1"),this.storage.removeItem(Vn),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(_,E){return this.storage.setItem(_,JSON.stringify(E)),Promise.resolve()}_get(_){const E=this.storage.getItem(_);return Promise.resolve(E?JSON.parse(E):null)}_remove(_){return this.storage.removeItem(_),Promise.resolve()}get storage(){return this.storageRetriever()}}const ye=(()=>{class N extends Wt{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(E,U)=>this.onStorageEvent(E,U),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function te(){const N=(0,xe.ZQ)();return si(N)||qe(N)}()&&function Yt(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=xt(),this._shouldAllowMigration=!0}forAllChangedKeys(E){for(const U of Object.keys(this.listeners)){const _e=this.storage.getItem(U),Ne=this.localCache[U];_e!==Ne&&E(U,Ne,_e)}}onStorageEvent(E,U=!1){if(!E.key)return void this.forAllChangedKeys((rn,qn,Oi)=>{this.notifyListeners(rn,Oi)});const _e=E.key;if(U?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const rn=this.storage.getItem(_e);if(E.newValue!==rn)null!==E.newValue?this.storage.setItem(_e,E.newValue):this.storage.removeItem(_e);else if(this.localCache[_e]===E.newValue&&!U)return}const Ne=()=>{const rn=this.storage.getItem(_e);!U&&this.localCache[_e]===rn||this.notifyListeners(_e,rn)},Ot=this.storage.getItem(_e);!function Ke(){return(0,xe.lT)()&&10===document.documentMode}()||Ot===E.newValue||E.newValue===E.oldValue?Ne():setTimeout(Ne,10)}notifyListeners(E,U){this.localCache[E]=U;const _e=this.listeners[E];if(_e)for(const Ne of Array.from(_e))Ne(U&&JSON.parse(U))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((E,U,_e)=>{this.onStorageEvent(new StorageEvent("storage",{key:E,oldValue:U,newValue:_e}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(E,U){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[E]||(this.listeners[E]=new Set,this.localCache[E]=this.storage.getItem(E)),this.listeners[E].add(U)}_removeListener(E,U){this.listeners[E]&&(this.listeners[E].delete(U),0===this.listeners[E].size&&delete this.listeners[E]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(E,U){var _e=()=>super._set,Ne=this;return(0,Ce.A)(function*(){yield _e().call(Ne,E,U),Ne.localCache[E]=JSON.stringify(U)})()}_get(E){var U=()=>super._get,_e=this;return(0,Ce.A)(function*(){const Ne=yield U().call(_e,E);return _e.localCache[E]=JSON.stringify(Ne),Ne})()}_remove(E){var U=()=>super._remove,_e=this;return(0,Ce.A)(function*(){yield U().call(_e,E),delete _e.localCache[E]})()}}return N.type="LOCAL",N})(),ct=(()=>{class N extends Wt{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(E,U){}_removeListener(E,U){}}return N.type="SESSION",N})();let Kt=(()=>{class N{constructor(E){this.eventTarget=E,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(E){const U=this.receivers.find(Ne=>Ne.isListeningto(E));if(U)return U;const _e=new N(E);return this.receivers.push(_e),_e}isListeningto(E){return this.eventTarget===E}handleEvent(E){var U=this;return(0,Ce.A)(function*(){const _e=E,{eventId:Ne,eventType:Ot,data:rn}=_e.data,qn=U.handlersMap[Ot];if(!qn?.size)return;_e.ports[0].postMessage({status:"ack",eventId:Ne,eventType:Ot});const Oi=Array.from(qn).map(function(){var Vr=(0,Ce.A)(function*(Qo){return Qo(_e.origin,rn)});return function(Qo){return Vr.apply(this,arguments)}}()),zr=yield function dt(N){return Promise.all(N.map(function(){var _=(0,Ce.A)(function*(E){try{return{fulfilled:!0,value:yield E}}catch(U){return{fulfilled:!1,reason:U}}});return function(E){return _.apply(this,arguments)}}()))}(Oi);_e.ports[0].postMessage({status:"done",eventId:Ne,eventType:Ot,response:zr})})()}_subscribe(E,U){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[E]||(this.handlersMap[E]=new Set),this.handlersMap[E].add(U)}_unsubscribe(E,U){this.handlersMap[E]&&U&&this.handlersMap[E].delete(U),(!U||0===this.handlersMap[E].size)&&delete this.handlersMap[E],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return N.receivers=[],N})();function nn(N="",_=10){let E="";for(let U=0;U<_;U++)E+=Math.floor(10*Math.random());return N+E}class fn{constructor(_){this.target=_,this.handlers=new Set}removeMessageHandler(_){_.messageChannel&&(_.messageChannel.port1.removeEventListener("message",_.onMessage),_.messageChannel.port1.close()),this.handlers.delete(_)}_send(_,E){var U=this;return(0,Ce.A)(function*(_e,Ne,Ot=50){const rn=typeof MessageChannel<"u"?new MessageChannel:null;if(!rn)throw new Error("connection_unavailable");let qn,Oi;return new Promise((zr,Vr)=>{const Qo=nn("",20);rn.port1.start();const Rc=setTimeout(()=>{Vr(new Error("unsupported_event"))},Ot);Oi={messageChannel:rn,onMessage(bl){const $l=bl;if($l.data.eventId===Qo)switch($l.data.status){case"ack":clearTimeout(Rc),qn=setTimeout(()=>{Vr(new Error("timeout"))},3e3);break;case"done":clearTimeout(qn),zr($l.data.response);break;default:clearTimeout(Rc),clearTimeout(qn),Vr(new Error("invalid_response"))}}},U.handlers.add(Oi),rn.port1.addEventListener("message",Oi.onMessage),U.target.postMessage({eventType:_e,eventId:Qo,data:Ne},[rn.port2])}).finally(()=>{Oi&&U.removeMessageHandler(Oi)})}).apply(this,arguments)}}function K(){return window}function V(){return typeof K().WorkerGlobalScope<"u"&&"function"==typeof K().importScripts}function je(){return(je=(0,Ce.A)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const li="firebaseLocalStorageDb",Vi="firebaseLocalStorage",tr="fbase_key";class wn{constructor(_){this.request=_}toPromise(){return new Promise((_,E)=>{this.request.addEventListener("success",()=>{_(this.request.result)}),this.request.addEventListener("error",()=>{E(this.request.error)})})}}function fe(N,_){return N.transaction([Vi],_?"readwrite":"readonly").objectStore(Vi)}function bt(){const N=indexedDB.open(li,1);return new Promise((_,E)=>{N.addEventListener("error",()=>{E(N.error)}),N.addEventListener("upgradeneeded",()=>{const U=N.result;try{U.createObjectStore(Vi,{keyPath:tr})}catch(_e){E(_e)}}),N.addEventListener("success",(0,Ce.A)(function*(){const U=N.result;U.objectStoreNames.contains(Vi)?_(U):(U.close(),yield function nt(){const N=indexedDB.deleteDatabase(li);return new wn(N).toPromise()}(),_(yield bt()))}))})}function Hn(N,_,E){return Ln.apply(this,arguments)}function Ln(){return(Ln=(0,Ce.A)(function*(N,_,E){const U=fe(N,!0).put({[tr]:_,value:E});return new wn(U).toPromise()})).apply(this,arguments)}function lr(){return(lr=(0,Ce.A)(function*(N,_){const E=fe(N,!1).get(_),U=yield new wn(E).toPromise();return void 0===U?null:U.value})).apply(this,arguments)}function dr(N,_){const E=fe(N,!0).delete(_);return new wn(E).toPromise()}const Qi=(()=>{class N{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var E=this;return(0,Ce.A)(function*(){return E.db||(E.db=yield bt()),E.db})()}_withRetries(E){var U=this;return(0,Ce.A)(function*(){let _e=0;for(;;)try{const Ne=yield U._openDb();return yield E(Ne)}catch(Ne){if(_e++>3)throw Ne;U.db&&(U.db.close(),U.db=void 0)}})()}initializeServiceWorkerMessaging(){var E=this;return(0,Ce.A)(function*(){return V()?E.initializeReceiver():E.initializeSender()})()}initializeReceiver(){var E=this;return(0,Ce.A)(function*(){E.receiver=Kt._getInstance(function zt(){return V()?self:null}()),E.receiver._subscribe("keyChanged",function(){var U=(0,Ce.A)(function*(_e,Ne){return{keyProcessed:(yield E._poll()).includes(Ne.key)}});return function(_e,Ne){return U.apply(this,arguments)}}()),E.receiver._subscribe("ping",function(){var U=(0,Ce.A)(function*(_e,Ne){return["keyChanged"]});return function(_e,Ne){return U.apply(this,arguments)}}())})()}initializeSender(){var E=this;return(0,Ce.A)(function*(){var U,_e;if(E.activeServiceWorker=yield function J(){return je.apply(this,arguments)}(),!E.activeServiceWorker)return;E.sender=new fn(E.activeServiceWorker);const Ne=yield E.sender._send("ping",{},800);Ne&&null!==(U=Ne[0])&&void 0!==U&&U.fulfilled&&null!==(_e=Ne[0])&&void 0!==_e&&_e.value.includes("keyChanged")&&(E.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(E){var U=this;return(0,Ce.A)(function*(){if(U.sender&&U.activeServiceWorker&&function Pt(){var N;return(null===(N=navigator?.serviceWorker)||void 0===N?void 0:N.controller)||null}()===U.activeServiceWorker)try{yield U.sender._send("keyChanged",{key:E},U.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,Ce.A)(function*(){try{if(!indexedDB)return!1;const E=yield bt();return yield Hn(E,Vn,"1"),yield dr(E,Vn),!0}catch{}return!1})()}_withPendingWrite(E){var U=this;return(0,Ce.A)(function*(){U.pendingWrites++;try{yield E()}finally{U.pendingWrites--}})()}_set(E,U){var _e=this;return(0,Ce.A)(function*(){return _e._withPendingWrite((0,Ce.A)(function*(){return yield _e._withRetries(Ne=>Hn(Ne,E,U)),_e.localCache[E]=U,_e.notifyServiceWorker(E)}))})()}_get(E){var U=this;return(0,Ce.A)(function*(){const _e=yield U._withRetries(Ne=>function xi(N,_){return lr.apply(this,arguments)}(Ne,E));return U.localCache[E]=_e,_e})()}_remove(E){var U=this;return(0,Ce.A)(function*(){return U._withPendingWrite((0,Ce.A)(function*(){return yield U._withRetries(_e=>dr(_e,E)),delete U.localCache[E],U.notifyServiceWorker(E)}))})()}_poll(){var E=this;return(0,Ce.A)(function*(){const U=yield E._withRetries(Ot=>{const rn=fe(Ot,!1).getAll();return new wn(rn).toPromise()});if(!U)return[];if(0!==E.pendingWrites)return[];const _e=[],Ne=new Set;for(const{fbase_key:Ot,value:rn}of U)Ne.add(Ot),JSON.stringify(E.localCache[Ot])!==JSON.stringify(rn)&&(E.notifyListeners(Ot,rn),_e.push(Ot));for(const Ot of Object.keys(E.localCache))E.localCache[Ot]&&!Ne.has(Ot)&&(E.notifyListeners(Ot,null),_e.push(Ot));return _e})()}notifyListeners(E,U){this.localCache[E]=U;const _e=this.listeners[E];if(_e)for(const Ne of Array.from(_e))Ne(U)}startPolling(){var E=this;this.stopPolling(),this.pollTimer=setInterval((0,Ce.A)(function*(){return E._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(E,U){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[E]||(this.listeners[E]=new Set,this._get(E)),this.listeners[E].add(U)}_removeListener(E,U){this.listeners[E]&&(this.listeners[E].delete(U),0===this.listeners[E].size&&delete this.listeners[E]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return N.type="LOCAL",N})();hs("rcb"),new Bt(3e4,6e4);class We extends Ge{constructor(_){super("custom","custom"),this.params=_}_getIdTokenResponse(_){return Bi(_,this._buildIdpRequest())}_linkToIdToken(_,E){return Bi(_,this._buildIdpRequest(E))}_getReauthenticationResolver(_){return Bi(_,this._buildIdpRequest())}_buildIdpRequest(_){const E={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return _&&(E.idToken=_),E}}function gt(N){return Se(N.auth,new We(N),N.bypassAuthState)}function Tt(N){const{auth:_,user:E}=N;return on(E,_,"internal-error"),function me(N,_){return X.apply(this,arguments)}(E,new We(N),N.bypassAuthState)}function Zt(N){return bn.apply(this,arguments)}function bn(){return(bn=(0,Ce.A)(function*(N){const{auth:_,user:E}=N;return on(E,_,"internal-error"),function qs(N,_){return Lo.apply(this,arguments)}(E,new We(N),N.bypassAuthState)})).apply(this,arguments)}class pn{constructor(_,E,U,_e,Ne=!1){this.auth=_,this.resolver=U,this.user=_e,this.bypassAuthState=Ne,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(E)?E:[E]}execute(){var _=this;return new Promise(function(){var E=(0,Ce.A)(function*(U,_e){_.pendingPromise={resolve:U,reject:_e};try{_.eventManager=yield _.resolver._initialize(_.auth),yield _.onExecution(),_.eventManager.registerConsumer(_)}catch(Ne){_.reject(Ne)}});return function(U,_e){return E.apply(this,arguments)}}())}onAuthEvent(_){var E=this;return(0,Ce.A)(function*(){const{urlResponse:U,sessionId:_e,postBody:Ne,tenantId:Ot,error:rn,type:qn}=_;if(rn)return void E.reject(rn);const Oi={auth:E.auth,requestUri:U,sessionId:_e,tenantId:Ot||void 0,postBody:Ne||void 0,user:E.user,bypassAuthState:E.bypassAuthState};try{E.resolve(yield E.getIdpTask(qn)(Oi))}catch(zr){E.reject(zr)}})()}onError(_){this.reject(_)}getIdpTask(_){switch(_){case"signInViaPopup":case"signInViaRedirect":return gt;case"linkViaPopup":case"linkViaRedirect":return Zt;case"reauthViaPopup":case"reauthViaRedirect":return Tt;default:rt(this.auth,"internal-error")}}resolve(_){Xi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(_),this.unregisterAndCleanUp()}reject(_){Xi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(_),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}new Bt(2e3,1e4);const os="pendingRedirect",sr=new Map;class Pa extends pn{constructor(_,E,U=!1){super(_,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],E,void 0,U),this.eventId=null}execute(){var _=()=>super.execute,E=this;return(0,Ce.A)(function*(){let U=sr.get(E.auth._key());if(!U){try{const Ne=(yield function pa(N,_){return so.apply(this,arguments)}(E.resolver,E.auth))?yield _().call(E):null;U=()=>Promise.resolve(Ne)}catch(_e){U=()=>Promise.reject(_e)}sr.set(E.auth._key(),U)}return E.bypassAuthState||sr.set(E.auth._key(),()=>Promise.resolve(null)),U()})()}onAuthEvent(_){var E=()=>super.onAuthEvent,U=this;return(0,Ce.A)(function*(){if("signInViaRedirect"===_.type)return E().call(U,_);if("unknown"!==_.type){if(_.eventId){const _e=yield U.auth._redirectUserForId(_.eventId);if(_e)return U.user=_e,E().call(U,_);U.resolve(null)}}else U.resolve(null)})()}onExecution(){return(0,Ce.A)(function*(){})()}cleanUp(){}}function so(){return(so=(0,Ce.A)(function*(N,_){const E=function ta(N){return we(os,N.config.apiKey,N.name)}(_),U=function gc(N){return ve(N._redirectPersistence)}(N);if(!(yield U._isAvailable()))return!1;const _e="true"===(yield U._get(E));return yield U._remove(E),_e})).apply(this,arguments)}function Xr(N,_){sr.set(N._key(),_)}function jc(N,_){return Qa.apply(this,arguments)}function Qa(){return(Qa=(0,Ce.A)(function*(N,_,E=!1){const U=ht(N),_e=function Be(N,_){return _?ve(_):(on(N._popupRedirectResolver,N,"argument-error"),N._popupRedirectResolver)}(U,_),Ot=yield new Pa(U,_e,E).execute();return Ot&&!E&&(delete Ot.user._redirectEventId,yield U._persistUserIfCurrent(Ot.user),yield U._setRedirectUser(null,_)),Ot})).apply(this,arguments)}class Xa{constructor(_){this.auth=_,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(_){this.consumers.add(_),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,_)&&(this.sendToConsumer(this.queuedRedirectEvent,_),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(_){this.consumers.delete(_)}onEvent(_){if(this.hasEventBeenHandled(_))return!1;let E=!1;return this.consumers.forEach(U=>{this.isEventForConsumer(_,U)&&(E=!0,this.sendToConsumer(_,U),this.saveEventToCache(_))}),this.hasHandledPotentialRedirect||!function Pl(N){switch(N.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Pc(N);default:return!1}}(_)||(this.hasHandledPotentialRedirect=!0,E||(this.queuedRedirectEvent=_,E=!0)),E}sendToConsumer(_,E){var U;if(_.error&&!Pc(_)){const _e=(null===(U=_.error.code)||void 0===U?void 0:U.split("auth/")[1])||"internal-error";E.onError(Qt(this.auth,_e))}else E.onAuthEvent(_)}isEventForConsumer(_,E){const U=null===E.eventId||!!_.eventId&&_.eventId===E.eventId;return E.filter.includes(_.type)&&U}hasEventBeenHandled(_){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(tl(_))}saveEventToCache(_){this.cachedEventUids.add(tl(_)),this.lastProcessedEventTime=Date.now()}}function tl(N){return[N.type,N.eventId,N.sessionId,N.tenantId].filter(_=>_).join("-")}function Pc({type:N,error:_}){return"unknown"===N&&"auth/no-auth-event"===_?.code}function hl(){return(hl=(0,Ce.A)(function*(N,_={}){return In(N,"GET","/v1/projects",_)})).apply(this,arguments)}const yc=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Tc=/^https?/;function $c(){return $c=(0,Ce.A)(function*(N){if(N.config.emulator)return;const{authorizedDomains:_}=yield function nc(N){return hl.apply(this,arguments)}(N);for(const E of _)try{if(na(E))return}catch{}rt(N,"unauthorized-domain")}),$c.apply(this,arguments)}function na(N){const _=Zr(),{protocol:E,hostname:U}=new URL(_);if(N.startsWith("chrome-extension://")){const Ot=new URL(N);return""===Ot.hostname&&""===U?"chrome-extension:"===E&&N.replace("chrome-extension://","")===_.replace("chrome-extension://",""):"chrome-extension:"===E&&Ot.hostname===U}if(!Tc.test(E))return!1;if(yc.test(N))return U===N;const _e=N.replace(/\./g,"\\.");return new RegExp("^(.+\\."+_e+"|"+_e+")$","i").test(U)}const Nu=new Bt(3e4,6e4);function ic(){const N=K().___jsl;if(N?.H)for(const _ of Object.keys(N.H))if(N.H[_].r=N.H[_].r||[],N.H[_].L=N.H[_].L||[],N.H[_].r=[...N.H[_].L],N.CP)for(let E=0;E<N.CP.length;E++)N.CP[E]=null}let kl=null;const su=new Bt(5e3,15e3),zc="__/auth/iframe",Gc="emulator/auth/iframe",F={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},W=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function de(N){const _=N.config;on(_.authDomain,N,"auth-domain-config-required");const E=_.emulator?Rt(_,Gc):`https://${N.config.authDomain}/${zc}`,U={apiKey:_.apiKey,appName:N.name,v:at.SDK_VERSION},_e=W.get(N.config.apiHost);_e&&(U.eid=_e);const Ne=N._getFrameworks();return Ne.length&&(U.fw=Ne.join(",")),`${E}?${(0,xe.Am)(U).slice(1)}`}function Et(){return Et=(0,Ce.A)(function*(N){const _=yield function Fu(N){return kl=kl||function nl(N){return new Promise((_,E)=>{var U,_e,Ne;function Ot(){ic(),gapi.load("gapi.iframes",{callback:()=>{_(gapi.iframes.getContext())},ontimeout:()=>{ic(),E(Qt(N,"network-request-failed"))},timeout:Nu.get()})}if(null!==(_e=null===(U=K().gapi)||void 0===U?void 0:U.iframes)&&void 0!==_e&&_e.Iframe)_(gapi.iframes.getContext());else{if(null===(Ne=K().gapi)||void 0===Ne||!Ne.load){const rn=hs("iframefcb");return K()[rn]=()=>{gapi.load?Ot():E(Qt(N,"network-request-failed"))},Wi(`https://apis.google.com/js/api.js?onload=${rn}`).catch(qn=>E(qn))}Ot()}}).catch(_=>{throw kl=null,_})}(N),kl}(N),E=K().gapi;return on(E,N,"internal-error"),_.open({where:document.body,url:de(N),messageHandlersFilter:E.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:F,dontclear:!0},U=>new Promise(function(){var _e=(0,Ce.A)(function*(Ne,Ot){yield U.restyle({setHideOnLeave:!1});const rn=Qt(N,"network-request-failed"),qn=K().setTimeout(()=>{Ot(rn)},su.get());function Oi(){K().clearTimeout(qn),Ne(U)}U.ping(Oi).then(Oi,()=>{Ot(rn)})});return function(Ne,Ot){return _e.apply(this,arguments)}}()))}),Et.apply(this,arguments)}const $t={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Ei{constructor(_){this.window=_,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Aa="__/auth/handler",il="emulator/auth/handler",ia=encodeURIComponent("fac");function Wc(N,_,E,U,_e,Ne){return ka.apply(this,arguments)}function ka(){return(ka=(0,Ce.A)(function*(N,_,E,U,_e,Ne){on(N.config.authDomain,N,"auth-domain-config-required"),on(N.config.apiKey,N,"invalid-api-key");const Ot={apiKey:N.config.apiKey,appName:N.name,authType:E,redirectUrl:U,v:at.SDK_VERSION,eventId:_e};if(_ instanceof Ps){_.setDefaultLanguage(N.languageCode),Ot.providerId=_.providerId||"",(0,xe.Im)(_.getCustomParameters())||(Ot.customParameters=JSON.stringify(_.getCustomParameters()));for(const[zr,Vr]of Object.entries(Ne||{}))Ot[zr]=Vr}if(_ instanceof Ss){const zr=_.getScopes().filter(Vr=>""!==Vr);zr.length>0&&(Ot.scopes=zr.join(","))}N.tenantId&&(Ot.tid=N.tenantId);const rn=Ot;for(const zr of Object.keys(rn))void 0===rn[zr]&&delete rn[zr];const qn=yield N._getAppCheckToken(),Oi=qn?`#${ia}=${encodeURIComponent(qn)}`:"";return`${function xc({config:N}){return N.emulator?Rt(N,il):`https://${N.authDomain}/${Aa}`}(N)}?${(0,xe.Am)(rn).slice(1)}${Oi}`})).apply(this,arguments)}const ja="webStorageSupport",lh=class Rl{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ct,this._completeRedirectFn=jc,this._overrideRedirectResult=Xr}_openPopup(_,E,U,_e){var Ne=this;return(0,Ce.A)(function*(){var Ot;Xi(null===(Ot=Ne.eventManagers[_._key()])||void 0===Ot?void 0:Ot.manager,"_initialize() not called before _openPopup()");const rn=yield Wc(_,E,U,Zr(),_e);return function Lr(N,_,E,U=500,_e=600){const Ne=Math.max((window.screen.availHeight-_e)/2,0).toString(),Ot=Math.max((window.screen.availWidth-U)/2,0).toString();let rn="";const qn=Object.assign(Object.assign({},$t),{width:U.toString(),height:_e.toString(),top:Ne,left:Ot}),Oi=(0,xe.ZQ)().toLowerCase();E&&(rn=jn(Oi)?"_blank":E),mn(Oi)&&(_=_||"http://localhost",qn.scrollbars="yes");const zr=Object.entries(qn).reduce((Qo,[Rc,bl])=>`${Qo}${Rc}=${bl},`,"");if(function Ze(N=(0,xe.ZQ)()){var _;return qe(N)&&!(null===(_=window.navigator)||void 0===_||!_.standalone)}(Oi)&&"_self"!==rn)return function xa(N,_){const E=document.createElement("a");E.href=N,E.target=_;const U=document.createEvent("MouseEvent");U.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),E.dispatchEvent(U)}(_||"",rn),new Ei(null);const Vr=window.open(_||"",rn,zr);on(Vr,N,"popup-blocked");try{Vr.focus()}catch{}return new Ei(Vr)}(_,rn,nn())})()}_openRedirect(_,E,U,_e){var Ne=this;return(0,Ce.A)(function*(){return yield Ne._originValidation(_),function O(N){K().location.href=N}(yield Wc(_,E,U,Zr(),_e)),new Promise(()=>{})})()}_initialize(_){const E=_._key();if(this.eventManagers[E]){const{manager:_e,promise:Ne}=this.eventManagers[E];return _e?Promise.resolve(_e):(Xi(Ne,"If manager is not set, promise should be"),Ne)}const U=this.initAndGetManager(_);return this.eventManagers[E]={promise:U},U.catch(()=>{delete this.eventManagers[E]}),U}initAndGetManager(_){var E=this;return(0,Ce.A)(function*(){const U=yield function $e(N){return Et.apply(this,arguments)}(_),_e=new Xa(_);return U.register("authEvent",Ne=>(on(Ne?.authEvent,_,"invalid-auth-event"),{status:_e.onEvent(Ne.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),E.eventManagers[_._key()]={manager:_e},E.iframes[_._key()]=U,_e})()}_isIframeWebStorageSupported(_,E){this.iframes[_._key()].send(ja,{type:ja},_e=>{var Ne;const Ot=null===(Ne=_e?.[0])||void 0===Ne?void 0:Ne[ja];void 0!==Ot&&E(!!Ot),rt(_,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(_){const E=_._key();return this.originValidationPromises[E]||(this.originValidationPromises[E]=function Hc(N){return $c.apply(this,arguments)}(_)),this.originValidationPromises[E]}get _shouldInitProactively(){return xt()||si()||qe()}};var Ac="@firebase/auth";class ou{constructor(_){this.auth=_,this.internalListeners=new Map}getUid(){var _;return this.assertAuthConfigured(),(null===(_=this.auth.currentUser)||void 0===_?void 0:_.uid)||null}getToken(_){var E=this;return(0,Ce.A)(function*(){return E.assertAuthConfigured(),yield E.auth._initializationPromise,E.auth.currentUser?{accessToken:yield E.auth.currentUser.getIdToken(_)}:null})()}addAuthTokenListener(_){if(this.assertAuthConfigured(),this.internalListeners.has(_))return;const E=this.auth.onIdTokenChanged(U=>{_(U?.stsTokenManager.accessToken||null)});this.internalListeners.set(_,E),this.updateProactiveRefresh()}removeAuthTokenListener(_){this.assertAuthConfigured();const E=this.internalListeners.get(_);E&&(this.internalListeners.delete(_),E(),this.updateProactiveRefresh())}assertAuthConfigured(){on(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const rc=(0,xe.XA)("authIdTokenMaxAge")||300;let cu=null;const pl=N=>function(){var _=(0,Ce.A)(function*(E){const U=E&&(yield E.getIdTokenResult()),_e=U&&((new Date).getTime()-Date.parse(U.issuedAtTime))/1e3;if(_e&&_e>rc)return;const Ne=U?.token;cu!==Ne&&(cu=Ne,yield fetch(N,{method:Ne?"POST":"DELETE",headers:Ne?{Authorization:`Bearer ${Ne}`}:{}}))});return function(E){return _.apply(this,arguments)}}();function Vu(N=(0,at.getApp)()){const _=(0,at._getProvider)(N,"auth");if(_.isInitialized())return _.getImmediate();const E=function jt(N,_){const E=(0,at._getProvider)(N,"auth");if(E.isInitialized()){const _e=E.getImmediate(),Ne=E.getOptions();if((0,xe.bD)(Ne,_??{}))return _e;rt(_e,"already-initialized")}return E.initialize({options:_})}(N,{popupRedirectResolver:lh,persistence:[Qi,ye,ct]}),U=(0,xe.XA)("authTokenSyncURL");if(U){const Ne=pl(U);(function Ki(N,_,E){(0,xe.Ku)(N).beforeAuthStateChanged(_,E)})(E,Ne,()=>Ne(E.currentUser)),Dr(E,Ot=>Ne(Ot))}const _e=(0,xe.Tj)("auth");return _e&&function Sn(N,_,E){const U=ht(N);on(U._canInitEmulator,U,"emulator-config-failed"),on(/^https?:\/\//.test(_),U,"invalid-emulator-scheme");const _e=!!E?.disableWarnings,Ne=pi(_),{host:Ot,port:rn}=function rr(N){const _=pi(N),E=/(\/\/)?([^?#/]+)/.exec(N.substr(_.length));if(!E)return{host:"",port:null};const U=E[2].split("@").pop()||"",_e=/^(\[[^\]]+\])(:|$)/.exec(U);if(_e){const Ne=_e[1];return{host:Ne,port:pr(U.substr(Ne.length+1))}}{const[Ne,Ot]=U.split(":");return{host:Ne,port:pr(Ot)}}}(_);U.config.emulator={url:`${Ne}//${Ot}${null===rn?"":`:${rn}`}/`},U.settings.appVerificationDisabledForTesting=!0,U.emulatorConfig=Object.freeze({host:Ot,port:rn,protocol:Ne.replace(":",""),options:Object.freeze({disableWarnings:_e})}),_e||function Ue(){function N(){const _=document.createElement("p"),E=_.style;_.innerText="Running in emulator mode. Do not use with production credentials.",E.position="fixed",E.width="100%",E.backgroundColor="#ffffff",E.border=".1em solid #000000",E.color="#b50000",E.bottom="0px",E.left="0px",E.margin="0px",E.zIndex="10000",E.textAlign="center",_.classList.add("firebase-emulator-warning"),document.body.appendChild(_)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",N):N())}()}(E,`http://${_e}`),E}!function Ll(N){(0,at._registerComponent)(new He.uA("auth",(_,{options:E})=>{const U=_.getProvider("app").getImmediate(),_e=_.getProvider("heartbeat"),Ne=_.getProvider("app-check-internal"),{apiKey:Ot,authDomain:rn}=U.options;on(Ot&&!Ot.includes(":"),"invalid-api-key",{appName:U.name});const qn={apiKey:Ot,authDomain:rn,clientPlatform:N,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Pn(N)},Oi=new Io(U,_e,Ne,qn);return function dn(N,_){const E=_?.persistence||[],U=(Array.isArray(E)?E:[E]).map(ve);_?.errorMap&&N._updateErrorMap(_.errorMap),N._initializeWithPersistence(U,_?.popupRedirectResolver)}(Oi,E),Oi},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((_,E,U)=>{_.getProvider("auth-internal").initialize()})),(0,at._registerComponent)(new He.uA("auth-internal",_=>{const E=ht(_.getProvider("auth").getImmediate());return new ou(E)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,at.registerVersion)(Ac,"0.23.2",function au(N){switch(N){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(N)),(0,at.registerVersion)(Ac,"0.23.2","esm2017")}("Browser");var rl=ee(1985),sc=ee(8455),Vl=ee(7673),Sc=ee(5558);function Za(N){return new rl.c(function(_){var E=function Os(N,_,E,U){return(0,xe.Ku)(N).onAuthStateChanged(_,E,U)}(N,_.next.bind(_),_.error.bind(_),_.complete.bind(_));return{unsubscribe:E}})}function Bl(N){return function kc(N){return new rl.c(function(_){return{unsubscribe:Dr(N,_.next.bind(_),_.error.bind(_),_.complete.bind(_))}})}(N).pipe((0,Sc.n)(function(_){return _?(0,sc.H)(function vi(N,_=!1){return(0,xe.Ku)(N).getIdToken(_)}(_)):(0,Vl.of)(null)}))}class ml{constructor(_){return _}}class gl{constructor(){return(0,l.CA)("auth")}}const uu=new Le.nKC("angularfire2.auth-instances");function Ul(N){return(_,E)=>{const U=_.runOutsideAngular(()=>N(E));return new ml(U)}}const mc={provide:gl,deps:[[new Le.Xx1,uu]]},af={provide:ml,useFactory:function dh(N,_){const E=(0,l.lR)("auth",N,_);return E&&new ml(E)},deps:[[new Le.Xx1,uu],ke.XU]};let oc=(()=>{class N{constructor(){(0,ot.KO)("angularfire",l.xv.full,"auth")}}return N.\u0275fac=function(E){return new(E||N)},N.\u0275mod=Le.$C({type:N}),N.\u0275inj=Le.G2t({providers:[af,mc]}),N})();function Bu(N,..._){return{ngModule:oc,providers:[{provide:uu,useFactory:Ul(N),multi:!0,deps:[Le.SKi,Le.zZn,l.u0,ke.gL,[new Le.Xx1,R.kR],..._]}]}}const se=(0,l.S3)(Za,!0),A=(0,l.S3)(Bl,!0),Go=(0,l.S3)(ea,!0),ol=(0,l.S3)(Vu,!0),Cd=(0,l.S3)(Ns,!0),mh=(0,l.S3)(ho,!0)},9816:(ei,Nt,ee)=>{ee.d(Nt,{_7:()=>oh,gS:()=>Kv,rJ:()=>Ka,kd:()=>Qv,H9:()=>dy,GG:()=>og,aU:()=>n0,hV:()=>Ru,P:()=>ag,mZ:()=>hy,_M:()=>d0});var tt,l=ee(1161),Le=ee(7705),ke=ee(4952),ot=ee(8934),R=ee(2214),Ce=ee(3664),xe=ee(467),at=ee(7852),ft=ee(1362),Pe=ee(8041),He=ee(1076),mt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ft={},yt=yt||{},It=mt||self;function Cn(r){var e=typeof r;return"array"==(e="object"!=e?e:r?Array.isArray(r)?"array":e:"null")||"object"==e&&"number"==typeof r.length}function Tn(r){var e=typeof r;return"object"==e&&null!=r||"function"==e}var Ci="closure_uid_"+(1e9*Math.random()>>>0),vt=0;function cn(r,e,n){return r.call.apply(r.bind,arguments)}function Dt(r,e,n){if(!r)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var u=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(u,o),r.apply(e,u)}}return function(){return r.apply(e,arguments)}}function At(r,e,n){return(At=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?cn:Dt).apply(null,arguments)}function Lt(r,e){var n=Array.prototype.slice.call(arguments,1);return function(){var o=n.slice();return o.push.apply(o,arguments),r.apply(this,o)}}function rt(r,e){function n(){}n.prototype=e.prototype,r.$=e.prototype,r.prototype=new n,r.prototype.constructor=r,r.ac=function(o,u,p){for(var v=Array(arguments.length-2),B=2;B<arguments.length;B++)v[B-2]=arguments[B];return e.prototype[u].apply(o,v)}}function Qt(){this.s=this.s,this.o=this.o}Qt.prototype.s=!1,Qt.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function wi(r){Object.prototype.hasOwnProperty.call(r,Ci)&&r[Ci]||(r[Ci]=++vt)}(this)},Qt.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const yn=Array.prototype.indexOf?function(r,e){return Array.prototype.indexOf.call(r,e,void 0)}:function(r,e){if("string"==typeof r)return"string"!=typeof e||1!=e.length?-1:r.indexOf(e,0);for(let n=0;n<r.length;n++)if(n in r&&r[n]===e)return n;return-1};function fi(r){const e=r.length;if(0<e){const n=Array(e);for(let o=0;o<e;o++)n[o]=r[o];return n}return[]}function on(r,e){for(let n=1;n<arguments.length;n++){const o=arguments[n];if(Cn(o)){const u=r.length||0,p=o.length||0;r.length=u+p;for(let v=0;v<p;v++)r[u+v]=o[v]}else r.push(o)}}function Ii(r,e){this.type=r,this.g=this.target=e,this.defaultPrevented=!1}Ii.prototype.h=function(){this.defaultPrevented=!0};var Xi=function(){if(!It.addEventListener||!Object.defineProperty)return!1;var r=!1,e=Object.defineProperty({},"passive",{get:function(){r=!0}});try{It.addEventListener("test",()=>{},e),It.removeEventListener("test",()=>{},e)}catch{}return r}();function Zr(r){return/^[\s\xa0]*$/.test(r)}function hr(){var r=It.navigator;return r&&(r=r.userAgent)?r:""}function xn(r){return-1!=hr().indexOf(r)}function Gr(r){return Gr[" "](r),r}Gr[" "]=function(){};var Hi,r,Bt=xn("Opera"),Rt=xn("Trident")||xn("MSIE"),qt=xn("Edge"),ln=qt||Rt,Ut=xn("Gecko")&&!(-1!=hr().toLowerCase().indexOf("webkit")&&!xn("Edge"))&&!(xn("Trident")||xn("MSIE"))&&!xn("Edge"),Mn=-1!=hr().toLowerCase().indexOf("webkit")&&!xn("Edge");function In(){var r=It.document;return r?r.documentMode:void 0}e:{var Bn="",Jn=(r=hr(),Ut?/rv:([^\);]+)(\)|;)/.exec(r):qt?/Edge\/([\d\.]+)/.exec(r):Rt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(r):Mn?/WebKit\/(\S+)/.exec(r):Bt?/(?:Version)[ \/]?(\S+)/.exec(r):void 0);if(Jn&&(Bn=Jn?Jn[1]:""),Rt){var Si=In();if(null!=Si&&Si>parseFloat(Bn)){Hi=String(Si);break e}}Hi=Bn}var Ni=It.document&&Rt&&(In()||parseInt(Hi,10))||void 0;function ir(r,e){if(Ii.call(this,r?r.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,r){var n=this.type=r.type,o=r.changedTouches&&r.changedTouches.length?r.changedTouches[0]:null;if(this.target=r.target||r.srcElement,this.g=e,e=r.relatedTarget){if(Ut){e:{try{Gr(e.nodeName);var u=!0;break e}catch{}u=!1}u||(e=null)}}else"mouseover"==n?e=r.fromElement:"mouseout"==n&&(e=r.toElement);this.relatedTarget=e,o?(this.clientX=void 0!==o.clientX?o.clientX:o.pageX,this.clientY=void 0!==o.clientY?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0):(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0),this.button=r.button,this.key=r.key||"",this.ctrlKey=r.ctrlKey,this.altKey=r.altKey,this.shiftKey=r.shiftKey,this.metaKey=r.metaKey,this.pointerId=r.pointerId||0,this.pointerType="string"==typeof r.pointerType?r.pointerType:Zi[r.pointerType]||"",this.state=r.state,this.i=r,r.defaultPrevented&&ir.$.h.call(this)}}rt(ir,Ii);var Zi={2:"touch",3:"pen",4:"mouse"};ir.prototype.h=function(){ir.$.h.call(this);var r=this.i;r.preventDefault?r.preventDefault():r.returnValue=!1};var zi="closure_listenable_"+(1e6*Math.random()|0),Wr=0;function as(r,e,n,o,u){this.listener=r,this.proxy=null,this.src=e,this.type=n,this.capture=!!o,this.la=u,this.key=++Wr,this.fa=this.ia=!1}function Or(r){r.fa=!0,r.listener=null,r.proxy=null,r.src=null,r.la=null}function ni(r,e,n){for(const o in r)e.call(n,r[o],o,r)}function vi(r){const e={};for(const n in r)e[n]=r[n];return e}const fr="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Br(r,e){let n,o;for(let u=1;u<arguments.length;u++){for(n in o=arguments[u],o)r[n]=o[n];for(let p=0;p<fr.length;p++)n=fr[p],Object.prototype.hasOwnProperty.call(o,n)&&(r[n]=o[n])}}function Ar(r){this.src=r,this.g={},this.h=0}function ii(r,e){var n=e.type;if(n in r.g){var p,o=r.g[n],u=yn(o,e);(p=0<=u)&&Array.prototype.splice.call(o,u,1),p&&(Or(e),0==r.g[n].length&&(delete r.g[n],r.h--))}}function wr(r,e,n,o){for(var u=0;u<r.length;++u){var p=r[u];if(!p.fa&&p.listener==e&&p.capture==!!n&&p.la==o)return u}return-1}Ar.prototype.add=function(r,e,n,o,u){var p=r.toString();(r=this.g[p])||(r=this.g[p]=[],this.h++);var v=wr(r,e,o,u);return-1<v?(e=r[v],n||(e.ia=!1)):((e=new as(e,this.src,p,!!o,u)).ia=n,r.push(e)),e};var cs="closure_lm_"+(1e6*Math.random()|0),Fn={};function xs(r,e,n,o,u){if(o&&o.once)return is(r,e,n,o,u);if(Array.isArray(e)){for(var p=0;p<e.length;p++)xs(r,e[p],n,o,u);return null}return n=Jr(n),r&&r[zi]?r.O(e,n,Tn(o)?!!o.capture:!!o,u):gi(r,e,n,!1,o,u)}function gi(r,e,n,o,u,p){if(!e)throw Error("Invalid event type");var v=Tn(u)?!!u.capture:!!u,B=Cr(r);if(B||(r[cs]=B=new Ar(r)),(n=B.add(e,n,o,v,p)).proxy)return n;if(o=function Is(){const e=Kr;return function r(n){return e.call(r.src,r.listener,n)}}(),n.proxy=o,o.src=r,o.listener=n,r.addEventListener)Xi||(u=v),void 0===u&&(u=!1),r.addEventListener(e.toString(),o,u);else if(r.attachEvent)r.attachEvent(Ur(e.toString()),o);else{if(!r.addListener||!r.removeListener)throw Error("addEventListener and attachEvent are unavailable.");r.addListener(o)}return n}function is(r,e,n,o,u){if(Array.isArray(e)){for(var p=0;p<e.length;p++)is(r,e[p],n,o,u);return null}return n=Jr(n),r&&r[zi]?r.P(e,n,Tn(o)?!!o.capture:!!o,u):gi(r,e,n,!0,o,u)}function bs(r,e,n,o,u){if(Array.isArray(e))for(var p=0;p<e.length;p++)bs(r,e[p],n,o,u);else o=Tn(o)?!!o.capture:!!o,n=Jr(n),r&&r[zi]?(r=r.i,(e=String(e).toString())in r.g&&-1<(n=wr(p=r.g[e],n,o,u))&&(Or(p[n]),Array.prototype.splice.call(p,n,1),0==p.length&&(delete r.g[e],r.h--))):r&&(r=Cr(r))&&(e=r.g[e.toString()],r=-1,e&&(r=wr(e,n,o,u)),(n=-1<r?e[r]:null)&&vr(n))}function vr(r){if("number"!=typeof r&&r&&!r.fa){var e=r.src;if(e&&e[zi])ii(e.i,r);else{var n=r.type,o=r.proxy;e.removeEventListener?e.removeEventListener(n,o,r.capture):e.detachEvent?e.detachEvent(Ur(n),o):e.addListener&&e.removeListener&&e.removeListener(o),(n=Cr(e))?(ii(n,r),0==n.h&&(n.src=null,e[cs]=null)):Or(r)}}}function Ur(r){return r in Fn?Fn[r]:Fn[r]="on"+r}function Kr(r,e){if(r.fa)r=!0;else{e=new ir(e,this);var n=r.listener,o=r.la||r.src;r.ia&&vr(r),r=n.call(o,e)}return r}function Cr(r){return(r=r[cs])instanceof Ar?r:null}var Ir="__closure_events_fn_"+(1e9*Math.random()>>>0);function Jr(r){return"function"==typeof r?r:(r[Ir]||(r[Ir]=function(e){return r.handleEvent(e)}),r[Ir])}function Gi(){Qt.call(this),this.i=new Ar(this),this.S=this,this.J=null}function Ji(r,e){var n,o=r.J;if(o)for(n=[];o;o=o.J)n.push(o);if(r=r.S,o=e.type||e,"string"==typeof e)e=new Ii(e,r);else if(e instanceof Ii)e.target=e.target||r;else{var u=e;Br(e=new Ii(o,r),u)}if(u=!0,n)for(var p=n.length-1;0<=p;p--){var v=e.g=n[p];u=_r(v,o,!0,e)&&u}if(u=_r(v=e.g=r,o,!0,e)&&u,u=_r(v,o,!1,e)&&u,n)for(p=0;p<n.length;p++)u=_r(v=e.g=n[p],o,!1,e)&&u}function _r(r,e,n,o){if(!(e=r.i.g[String(e)]))return!0;e=e.concat();for(var u=!0,p=0;p<e.length;++p){var v=e[p];if(v&&!v.fa&&v.capture==n){var B=v.listener,ie=v.la||v.src;v.ia&&ii(r.i,v),u=!1!==B.call(ie,o)&&u}}return u&&!o.defaultPrevented}rt(Gi,Qt),Gi.prototype[zi]=!0,Gi.prototype.removeEventListener=function(r,e,n,o){bs(this,r,e,n,o)},Gi.prototype.N=function(){if(Gi.$.N.call(this),this.i){var e,r=this.i;for(e in r.g){for(var n=r.g[e],o=0;o<n.length;o++)Or(n[o]);delete r.g[e],r.h--}}this.J=null},Gi.prototype.O=function(r,e,n,o){return this.i.add(String(r),e,!1,n,o)},Gi.prototype.P=function(r,e,n,o){return this.i.add(String(r),e,!0,n,o)};var Xe=It.JSON.stringify;function Ae(){var r=Yn;let e=null;return r.g&&(e=r.g,r.g=r.g.next,r.g||(r.h=null),e.next=null),e}var we=new class ve{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new Ct,r=>r.reset());class Ct{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function an(r){var e=1;r=r.split(":");const n=[];for(;0<e&&r.length;)n.push(r.shift()),e--;return r.length&&n.push(r.join(":")),n}function mn(r){It.setTimeout(()=>{throw r},0)}let si,jn=!1,Yn=new class Ee{constructor(){this.h=this.g=null}add(e,n){const o=we.get();o.set(e,n),this.h?this.h.next=o:this.g=o,this.h=o}},Qn=()=>{const r=It.Promise.resolve(void 0);si=()=>{r.then(ki)}};var ki=()=>{for(var r;r=Ae();){try{r.h.call(r.g)}catch(n){mn(n)}var e=we;e.j(r),100>e.h&&(e.h++,r.next=e.g,e.g=r)}jn=!1};function _t(r,e){Gi.call(this),this.h=r||1,this.g=e||It,this.j=At(this.qb,this),this.l=Date.now()}function qe(r){r.ga=!1,r.T&&(r.g.clearTimeout(r.T),r.T=null)}function it(r,e,n){if("function"==typeof r)n&&(r=At(r,n));else{if(!r||"function"!=typeof r.handleEvent)throw Error("Invalid listener argument");r=At(r.handleEvent,r)}return 2147483647<Number(e)?-1:It.setTimeout(r,e||0)}function Ze(r){r.g=it(()=>{r.g=null,r.i&&(r.i=!1,Ze(r))},r.j);const e=r.h;r.h=null,r.m.apply(null,e)}rt(_t,Gi),(tt=_t.prototype).ga=!1,tt.T=null,tt.qb=function(){if(this.ga){var r=Date.now()-this.l;0<r&&r<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-r):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Ji(this,"tick"),this.ga&&(qe(this),this.start()))}},tt.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},tt.N=function(){_t.$.N.call(this),qe(this),delete this.g};class Ke extends Qt{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Ze(this)}N(){super.N(),this.g&&(It.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function xt(r){Qt.call(this),this.h=r,this.g={}}rt(xt,Qt);var Yt=[];function Pn(r,e,n,o){Array.isArray(n)||(n&&(Yt[0]=n.toString()),n=Yt);for(var u=0;u<n.length;u++){var p=xs(e,n[u],o||r.handleEvent,!1,r.h||r);if(!p)break;r.g[p.key]=p}}function un(r){ni(r.g,function(e,n){this.g.hasOwnProperty(n)&&vr(e)},r),r.g={}}function yi(){this.g=!0}function Nr(r,e,n,o){r.info(function(){return"XMLHTTP TEXT ("+e+"): "+function ds(r,e){if(!r.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(r=0;r<n.length;r++)if(Array.isArray(n[r])){var o=n[r];if(!(2>o.length)){var u=o[1];if(Array.isArray(u)&&!(1>u.length)){var p=u[0];if("noop"!=p&&"stop"!=p&&"close"!=p)for(var v=1;v<u.length;v++)u[v]=""}}}return Xe(n)}catch{return e}}(r,n)+(o?" "+o:"")})}xt.prototype.N=function(){xt.$.N.call(this),un(this)},xt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},yi.prototype.Ea=function(){this.g=!1},yi.prototype.info=function(){};var ar={},Wi=null;function hs(){return Wi=Wi||new Gi}function Co(r){Ii.call(this,ar.Ta,r)}function qr(r){const e=hs();Ji(e,new Co(e))}function Es(r,e){Ii.call(this,ar.STAT_EVENT,r),this.stat=e}function Yi(r){const e=hs();Ji(e,new Es(e,r))}function ss(r,e){Ii.call(this,ar.Ua,r),this.size=e}function fs(r,e){if("function"!=typeof r)throw Error("Fn must not be null and must be a function");return It.setTimeout(function(){r()},e)}ar.Ta="serverreachability",rt(Co,Ii),ar.STAT_EVENT="statevent",rt(Es,Ii),ar.Ua="timingevent",rt(ss,Ii);var mo={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Io={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function ht(){}function jt(){}ht.prototype.h=null;var rr,dn={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Sn(){Ii.call(this,"d")}function pi(){Ii.call(this,"c")}function pr(){}function Ue(r,e,n,o){this.l=r,this.j=e,this.m=n,this.W=o||1,this.U=new xt(this),this.P=Z,this.V=new _t(r=ln?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Ge}function Ge(){this.i=null,this.g="",this.h=!1}rt(Sn,Ii),rt(pi,Ii),rt(pr,ht),pr.prototype.g=function(){return new XMLHttpRequest},pr.prototype.i=function(){return{}},rr=new pr;var Z=45e3,Re={},Je={};function tn(r,e,n){r.L=1,r.v=Ws(Qs(e)),r.s=n,r.S=!0,gn(r,null)}function gn(r,e){r.G=Date.now(),Hr(r),r.A=Qs(r.v);var n=r.A,o=r.W;Array.isArray(o)||(o=[String(o)]),Do(n.i,"t",o),r.C=0,n=r.l.J,r.h=new Ge,r.g=bo(r.l,n?e:null,!r.s),0<r.O&&(r.M=new Ke(At(r.Pa,r,r.g),r.O)),Pn(r.U,r.g,"readystatechange",r.nb),e=r.I?vi(r.I):{},r.s?(r.u||(r.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",r.g.ha(r.A,r.u,r.s,e)):(r.u="GET",r.g.ha(r.A,r.u,null,e)),qr(),function or(r,e,n,o,u,p){r.info(function(){if(r.g)if(p)for(var v="",B=p.split("&"),ie=0;ie<B.length;ie++){var he=B[ie].split("=");if(1<he.length){var Oe=he[0];he=he[1];var lt=Oe.split("_");v=2<=lt.length&&"type"==lt[1]?v+(Oe+"=")+he+"&":v+(Oe+"=redacted&")}}else v=null;else v=p;return"XMLHTTP REQ ("+o+") [attempt "+u+"]: "+e+"\n"+n+"\n"+v})}(r.j,r.u,r.A,r.m,r.W,r.s)}function _i(r){return!!r.g&&"GET"==r.u&&2!=r.L&&r.l.Ha}function Fr(r,e,n){let u,o=!0;for(;!r.J&&r.C<n.length;){if(u=Yr(r,n),u==Je){4==e&&(r.o=4,Yi(14),o=!1),Nr(r.j,r.m,null,"[Incomplete Response]");break}if(u==Re){r.o=4,Yi(15),Nr(r.j,r.m,n,"[Invalid Chunk]"),o=!1;break}Nr(r.j,r.m,u,null),Sr(r,u)}_i(r)&&u!=Je&&u!=Re&&(r.h.g="",r.C=0),4!=e||0!=n.length||r.h.h||(r.o=1,Yi(16),o=!1),r.i=r.i&&o,o?0<n.length&&!r.ba&&(r.ba=!0,(e=r.l).g==r&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),rs(e),e.M=!0,Yi(11))):(Nr(r.j,r.m,n,"[Invalid Chunked Response]"),cr(r),Li(r))}function Yr(r,e){var n=r.C,o=e.indexOf("\n",n);return-1==o?Je:(n=Number(e.substring(n,o)),isNaN(n)?Re:(o+=1)+n>e.length?Je:(e=e.slice(o,o+n),r.C=o+n,e))}function Hr(r){r.Y=Date.now()+r.P,Ls(r,r.P)}function Ls(r,e){if(null!=r.B)throw Error("WatchDog timer not null");r.B=fs(At(r.lb,r),e)}function ls(r){r.B&&(It.clearTimeout(r.B),r.B=null)}function Li(r){0==r.l.H||r.J||Oa(r.l,r)}function cr(r){ls(r);var e=r.M;e&&"function"==typeof e.sa&&e.sa(),r.M=null,qe(r.V),un(r.U),r.g&&(e=r.g,r.g=null,e.abort(),e.sa())}function Sr(r,e){try{var n=r.l;if(0!=n.H&&(n.g==r||br(n.i,r)))if(!r.K&&br(n.i,r)&&3==n.H){try{var o=n.Ja.g.parse(e)}catch{o=null}if(Array.isArray(o)&&3==o.length){var u=o;if(0==u[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<r.G))break e;er(n),Da(n)}Ko(n),Yi(18)}}else n.Fa=u[1],0<n.Fa-n.V&&37500>u[2]&&n.G&&0==n.A&&!n.v&&(n.v=fs(At(n.ib,n),6e3));if(1>=Xo(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else ya(n,11)}else if((r.K||n.g==r)&&er(n),!Zr(e))for(u=n.Ja.g.parse(e),e=0;e<u.length;e++){let he=u[e];if(n.V=he[0],he=he[1],2==n.H)if("c"==he[0]){n.K=he[1],n.pa=he[2];const Oe=he[3];null!=Oe&&(n.ra=Oe,n.l.info("VER="+n.ra));const lt=he[4];null!=lt&&(n.Ga=lt,n.l.info("SVER="+n.Ga));const Jt=he[5];null!=Jt&&"number"==typeof Jt&&0<Jt&&(n.L=o=1.5*Jt,n.l.info("backChannelRequestTimeoutMs_="+o)),o=n;const En=r.g;if(En){const ri=En.g?En.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ri){var p=o.i;p.g||-1==ri.indexOf("spdy")&&-1==ri.indexOf("quic")&&-1==ri.indexOf("h2")||(p.j=p.l,p.g=new Set,p.h&&(ha(p,p.h),p.h=null))}if(o.F){const Pi=En.g?En.g.getResponseHeader("X-HTTP-Session-Id"):null;Pi&&(o.Da=Pi,Mi(o.I,o.F,Pi))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-r.G,n.l.info("Handshake RTT: "+n.S+"ms"));var v=r;if((o=n).wa=ea(o,o.J?o.pa:null,o.Y),v.K){Wo(o.i,v);var B=v,ie=o.L;ie&&B.setTimeout(ie),B.B&&(ls(B),Hr(B)),o.g=v}else Ro(o);0<n.j.length&&Oo(n)}else"stop"!=he[0]&&"close"!=he[0]||ya(n,7);else 3==n.H&&("stop"==he[0]||"close"==he[0]?"stop"==he[0]?ya(n,7):Mo(n):"noop"!=he[0]&&n.h&&n.h.Aa(he),n.A=0)}qr()}catch{}}function Ia(r,e){if(r.forEach&&"function"==typeof r.forEach)r.forEach(e,void 0);else if(Cn(r)||"string"==typeof r)Array.prototype.forEach.call(r,e,void 0);else for(var n=function As(r){if(r.ta&&"function"==typeof r.ta)return r.ta();if(!r.Z||"function"!=typeof r.Z){if(typeof Map<"u"&&r instanceof Map)return Array.from(r.keys());if(!(typeof Set<"u"&&r instanceof Set)){if(Cn(r)||"string"==typeof r){var e=[];r=r.length;for(var n=0;n<r;n++)e.push(n);return e}e=[],n=0;for(const o in r)e[n++]=o;return e}}}(r),o=function no(r){if(r.Z&&"function"==typeof r.Z)return r.Z();if(typeof Map<"u"&&r instanceof Map||typeof Set<"u"&&r instanceof Set)return Array.from(r.values());if("string"==typeof r)return r.split("");if(Cn(r)){for(var e=[],n=r.length,o=0;o<n;o++)e.push(r[o]);return e}for(o in e=[],n=0,r)e[n++]=r[o];return e}(r),u=o.length,p=0;p<u;p++)e.call(void 0,o[p],n&&n[p],r)}(tt=Ue.prototype).setTimeout=function(r){this.P=r},tt.nb=function(r){r=r.target;const e=this.M;e&&3==hi(r)?e.l():this.Pa(r)},tt.Pa=function(r){try{if(r==this.g)e:{const Oe=hi(this.g);var e=this.g.Ia();if(this.g.da(),!(3>Oe)&&(3!=Oe||ln||this.g&&(this.h.h||this.g.ja()||mr(this.g)))){this.J||4!=Oe||7==e||qr(),ls(this);var n=this.g.da();this.ca=n;t:if(_i(this)){var o=mr(this.g);r="";var u=o.length,p=4==hi(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){cr(this),Li(this);var v="";break t}this.h.i=new It.TextDecoder}for(e=0;e<u;e++)this.h.h=!0,r+=this.h.i.decode(o[e],{stream:p&&e==u-1});o.splice(0,u),this.h.g+=r,this.C=0,v=this.h.g}else v=this.g.ja();if(this.i=200==n,function Fi(r,e,n,o,u,p,v){r.info(function(){return"XMLHTTP RESP ("+o+") [ attempt "+u+"]: "+e+"\n"+n+"\n"+p+" "+v})}(this.j,this.u,this.A,this.m,this.W,Oe,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var B,ie=this.g;if((B=ie.g?ie.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Zr(B)){var he=B;break t}}he=null}if(!(n=he)){this.i=!1,this.o=3,Yi(12),cr(this),Li(this);break e}Nr(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Sr(this,n)}this.S?(Fr(this,Oe,v),ln&&this.i&&3==Oe&&(Pn(this.U,this.V,"tick",this.mb),this.V.start())):(Nr(this.j,this.m,v,null),Sr(this,v)),4==Oe&&cr(this),this.i&&!this.J&&(4==Oe?Oa(this.l,this):(this.i=!1,Hr(this)))}else(function vo(r){const e={};r=(r.g&&2<=hi(r)&&r.g.getAllResponseHeaders()||"").split("\r\n");for(let o=0;o<r.length;o++){if(Zr(r[o]))continue;var n=an(r[o]);const u=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const p=e[u]||[];e[u]=p,p.push(n)}!function Di(r,e){for(const n in r)e.call(void 0,r[n],n,r)}(e,function(o){return o.join(", ")})})(this.g),400==n&&0<v.indexOf("Unknown SID")?(this.o=3,Yi(12)):(this.o=0,Yi(13)),cr(this),Li(this)}}}catch{}},tt.mb=function(){if(this.g){var r=hi(this.g),e=this.g.ja();this.C<e.length&&(ls(this),Fr(this,r,e),this.i&&4!=r&&Hr(this))}},tt.cancel=function(){this.J=!0,cr(this)},tt.lb=function(){this.B=null;const r=Date.now();0<=r-this.Y?(function jr(r,e){r.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(qr(),Yi(17)),cr(this),this.o=2,Li(this)):Ls(this,this.Y-r)};var go=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Vs(r){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,r instanceof Vs){this.h=r.h,Pr(this,r.j),this.s=r.s,this.g=r.g,Rn(this,r.m),this.l=r.l;var e=r.i,n=new lo;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),Bi(this,n),this.o=r.o}else r&&(e=String(r).match(go))?(this.h=!1,Pr(this,e[1]||"",!0),this.s=es(e[2]||""),this.g=es(e[3]||"",!0),Rn(this,e[4]),this.l=es(e[5]||"",!0),Bi(this,e[6]||"",!0),this.o=es(e[7]||"")):(this.h=!1,this.i=new lo(null,this.h))}function Qs(r){return new Vs(r)}function Pr(r,e,n){r.j=n?es(e,!0):e,r.j&&(r.j=r.j.replace(/:$/,""))}function Rn(r,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);r.m=e}else r.m=null}function Bi(r,e,n){e instanceof lo?(r.i=e,function Fo(r,e){e&&!r.j&&(Bs(r),r.i=null,r.g.forEach(function(n,o){var u=o.toLowerCase();o!=u&&(kr(this,o),Do(this,u,n))},r)),r.j=e}(r.i,r.h)):(n||(e=ws(e,bi)),r.i=new lo(e,r.h))}function Mi(r,e,n){r.i.set(e,n)}function Ws(r){return Mi(r,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),r}function es(r,e){return r?e?decodeURI(r.replace(/%25/g,"%2525")):decodeURIComponent(r):""}function ws(r,e,n){return"string"==typeof r?(r=encodeURI(r).replace(e,ko),n&&(r=r.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),r):null}function ko(r){return"%"+((r=r.charCodeAt(0))>>4&15).toString(16)+(15&r).toString(16)}Vs.prototype.toString=function(){var r=[],e=this.j;e&&r.push(ws(e,ps,!0),":");var n=this.g;return(n||"file"==e)&&(r.push("//"),(e=this.s)&&r.push(ws(e,ps,!0),"@"),r.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&r.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&r.push("/"),r.push(ws(n,"/"==n.charAt(0)?So:No,!0))),(n=this.i.toString())&&r.push("?",n),(n=this.o)&&r.push("#",ws(n,ra)),r.join("")};var ps=/[#\/\?@]/g,No=/[#\?:]/g,So=/[#\?]/g,bi=/[#\?@]/g,ra=/#/g;function lo(r,e){this.h=this.g=null,this.i=r||null,this.j=!!e}function Bs(r){r.g||(r.g=new Map,r.h=0,r.i&&function ua(r,e){if(r){r=r.split("&");for(var n=0;n<r.length;n++){var o=r[n].indexOf("="),u=null;if(0<=o){var p=r[n].substring(0,o);u=r[n].substring(o+1)}else p=r[n];e(p,u?decodeURIComponent(u.replace(/\+/g," ")):"")}}}(r.i,function(e,n){r.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function kr(r,e){Bs(r),e=Ds(r,e),r.g.has(e)&&(r.i=null,r.h-=r.g.get(e).length,r.g.delete(e))}function da(r,e){return Bs(r),e=Ds(r,e),r.g.has(e)}function Do(r,e,n){kr(r,e),0<n.length&&(r.i=null,r.g.set(Ds(r,e),fi(n)),r.h+=n.length)}function Ds(r,e){return e=String(e),r.j&&(e=e.toLowerCase()),e}function Ps(r){this.l=r||Ss,r=It.PerformanceNavigationTiming?0<(r=It.performance.getEntriesByType("navigation")).length&&("hq"==r[0].nextHopProtocol||"h2"==r[0].nextHopProtocol):!!(It.g&&It.g.Ka&&It.g.Ka()&&It.g.Ka().ec),this.j=r?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(tt=lo.prototype).add=function(r,e){Bs(this),this.i=null,r=Ds(this,r);var n=this.g.get(r);return n||this.g.set(r,n=[]),n.push(e),this.h+=1,this},tt.forEach=function(r,e){Bs(this),this.g.forEach(function(n,o){n.forEach(function(u){r.call(e,u,o,this)},this)},this)},tt.ta=function(){Bs(this);const r=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let o=0;o<e.length;o++){const u=r[o];for(let p=0;p<u.length;p++)n.push(e[o])}return n},tt.Z=function(r){Bs(this);let e=[];if("string"==typeof r)da(this,r)&&(e=e.concat(this.g.get(Ds(this,r))));else{r=Array.from(this.g.values());for(let n=0;n<r.length;n++)e=e.concat(r[n])}return e},tt.set=function(r,e){return Bs(this),this.i=null,da(this,r=Ds(this,r))&&(this.h-=this.g.get(r).length),this.g.set(r,[e]),this.h+=1,this},tt.get=function(r,e){return r&&0<(r=this.Z(r)).length?String(r[0]):e},tt.toString=function(){if(this.i)return this.i;if(!this.g)return"";const r=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var o=e[n];const p=encodeURIComponent(String(o)),v=this.Z(o);for(o=0;o<v.length;o++){var u=p;""!==v[o]&&(u+="="+encodeURIComponent(String(v[o]))),r.push(u)}}return this.i=r.join("&")};var Ss=10;function Us(r){return!!r.h||!!r.g&&r.g.size>=r.j}function Xo(r){return r.h?1:r.g?r.g.size:0}function br(r,e){return r.h?r.h==e:!!r.g&&r.g.has(e)}function ha(r,e){r.g?r.g.add(e):r.h=e}function Wo(r,e){r.h&&r.h==e?r.h=null:r.g&&r.g.has(e)&&r.g.delete(e)}function _o(r){if(null!=r.h)return r.i.concat(r.h.F);if(null!=r.g&&0!==r.g.size){let e=r.i;for(const n of r.g.values())e=e.concat(n.F);return e}return fi(r.i)}Ps.prototype.cancel=function(){if(this.i=_o(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const r of this.g.values())r.cancel();this.g.clear()}};var us=class{stringify(r){return It.JSON.stringify(r,void 0)}parse(r){return It.JSON.parse(r,void 0)}};function yo(){this.g=new us}function Xs(r,e,n){const o=n||"";try{Ia(r,function(u,p){let v=u;Tn(u)&&(v=Xe(u)),e.push(o+p+"="+encodeURIComponent(v))})}catch(u){throw e.push(o+"type="+encodeURIComponent("_badmap")),u}}function ms(r,e,n,o,u){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,u(o)}catch{}}function Zs(r){this.l=r.fc||null,this.j=r.ob||!1}function ks(r,e){Gi.call(this),this.F=r,this.u=e,this.m=void 0,this.readyState=js,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}rt(Zs,ht),Zs.prototype.g=function(){return new ks(this.l,this.j)},Zs.prototype.i=function(r){return function(){return r}}({}),rt(ks,Gi);var js=0;function Zo(r){r.j.read().then(r.Xa.bind(r)).catch(r.ka.bind(r))}function gs(r){r.readyState=4,r.l=null,r.j=null,r.A=null,Ms(r)}function Ms(r){r.onreadystatechange&&r.onreadystatechange.call(r)}(tt=ks.prototype).open=function(r,e){if(this.readyState!=js)throw this.abort(),Error("Error reopening a connection");this.C=r,this.B=e,this.readyState=1,Ms(this)},tt.send=function(r){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};r&&(e.body=r),(this.F||It).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},tt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,gs(this)),this.readyState=js},tt.$a=function(r){if(this.g&&(this.l=r,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=r.headers,this.readyState=2,Ms(this)),this.g&&(this.readyState=3,Ms(this),this.g)))if("arraybuffer"===this.responseType)r.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof It.ReadableStream<"u"&&"body"in r){if(this.j=r.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Zo(this)}else r.text().then(this.Za.bind(this),this.ka.bind(this))},tt.Xa=function(r){if(this.g){if(this.u&&r.value)this.response.push(r.value);else if(!this.u){var e=r.value?r.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!r.done}))&&(this.response=this.responseText+=e)}r.done?gs(this):Ms(this),3==this.readyState&&Zo(this)}},tt.Za=function(r){this.g&&(this.response=this.responseText=r,gs(this))},tt.Ya=function(r){this.g&&(this.response=r,gs(this))},tt.ka=function(){this.g&&gs(this)},tt.setRequestHeader=function(r,e){this.v.append(r,e)},tt.getResponseHeader=function(r){return this.h&&this.h.get(r.toLowerCase())||""},tt.getAllResponseHeaders=function(){if(!this.h)return"";const r=[],e=this.h.entries();for(var n=e.next();!n.done;)r.push((n=n.value)[0]+": "+n[1]),n=e.next();return r.join("\r\n")},Object.defineProperty(ks.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(r){this.m=r?"include":"same-origin"}});var Ks=It.JSON.parse;function ts(r){Gi.call(this),this.headers=new Map,this.u=r||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=sa,this.L=this.M=!1}rt(ts,Gi);var sa="",qs=/^https?$/i,Lo=["POST","PUT"];function ue(r,e){r.h=!1,r.g&&(r.l=!0,r.g.abort(),r.l=!1),r.j=e,r.m=5,me(r),Se(r)}function me(r){r.F||(r.F=!0,Ji(r,"complete"),Ji(r,"error"))}function X(r){if(r.h&&typeof yt<"u"&&(!r.C[1]||4!=hi(r)||2!=r.da()))if(r.v&&4==hi(r))it(r.La,0,r);else if(Ji(r,"readystatechange"),4==hi(r)){r.h=!1;try{const v=r.da();e:switch(v){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var o;if(o=0===v){var u=String(r.I).match(go)[1]||null;!u&&It.self&&It.self.location&&(u=It.self.location.protocol.slice(0,-1)),o=!qs.test(u?u.toLowerCase():"")}n=o}if(n)Ji(r,"complete"),Ji(r,"success");else{r.m=6;try{var p=2<hi(r)?r.g.statusText:""}catch{p=""}r.j=p+" ["+r.da()+"]",me(r)}}finally{Se(r)}}}function Se(r,e){if(r.g){st(r);const n=r.g,o=r.C[0]?()=>{}:null;r.g=null,r.C=null,e||Ji(r,"ready");try{n.onreadystatechange=o}catch{}}}function st(r){r.g&&r.L&&(r.g.ontimeout=null),r.A&&(It.clearTimeout(r.A),r.A=null)}function hi(r){return r.g?r.g.readyState:0}function mr(r){try{if(!r.g)return null;if("response"in r.g)return r.g.response;switch(r.K){case sa:case"text":return r.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in r.g)return r.g.mozResponseArrayBuffer}return null}catch{return null}}function To(r){let e="";return ni(r,function(n,o){e+=o,e+=":",e+=n,e+="\r\n"}),e}function ur(r,e,n){e:{for(o in n){var o=!1;break e}o=!0}o||(n=To(n),"string"==typeof r?null!=n&&encodeURIComponent(String(n)):Mi(r,e,n))}function Rs(r,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[r]||e}function Vo(r){this.Ga=0,this.j=[],this.l=new yi,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Rs("failFast",!1,r),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Rs("baseRetryDelayMs",5e3,r),this.hb=Rs("retryDelaySeedMs",1e4,r),this.eb=Rs("forwardChannelMaxRetries",2,r),this.xa=Rs("forwardChannelRequestTimeoutMs",2e4,r),this.va=r&&r.xmlHttpFactory||void 0,this.Ha=r&&r.dc||!1,this.L=void 0,this.J=r&&r.supportsCrossDomainXhr||!1,this.K="",this.i=new Ps(r&&r.concurrentRequestLimit),this.Ja=new yo,this.P=r&&r.fastHandshake||!1,this.O=r&&r.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=r&&r.bc||!1,r&&r.Ea&&this.l.Ea(),r&&r.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&r&&r.detectBufferingProxy||!1,this.qa=void 0,r&&r.longPollingTimeout&&0<r.longPollingTimeout&&(this.qa=r.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function Mo(r){if(fa(r),3==r.H){var e=r.W++,n=Qs(r.I);if(Mi(n,"SID",r.K),Mi(n,"RID",e),Mi(n,"TYPE","terminate"),ao(r,n),(e=new Ue(r,r.l,e)).L=2,e.v=Ws(Qs(n)),n=!1,It.navigator&&It.navigator.sendBeacon)try{n=It.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&It.Image&&((new Image).src=e.v,n=!0),n||(e.g=bo(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Hr(e)}Hs(r)}function Da(r){r.g&&(rs(r),r.g.cancel(),r.g=null)}function fa(r){Da(r),r.u&&(It.clearTimeout(r.u),r.u=null),er(r),r.i.cancel(),r.m&&("number"==typeof r.m&&It.clearTimeout(r.m),r.m=null)}function Oo(r){if(!Us(r.i)&&!r.m){r.m=!0;var e=r.Na;si||Qn(),jn||(si(),jn=!0),Yn.add(e,r),r.C=0}}function _a(r,e){var n;n=e?e.m:r.W++;const o=Qs(r.I);Mi(o,"SID",r.K),Mi(o,"RID",n),Mi(o,"AID",r.V),ao(r,o),r.o&&r.s&&ur(o,r.o,r.s),n=new Ue(r,r.l,n,r.C+1),null===r.o&&(n.I=r.s),e&&(r.j=e.F.concat(r.j)),e=Bo(r,n,1e3),n.setTimeout(Math.round(.5*r.xa)+Math.round(.5*r.xa*Math.random())),ha(r.i,n),tn(n,o,e)}function ao(r,e){r.na&&ni(r.na,function(n,o){Mi(e,o,n)}),r.h&&Ia({},function(n,o){Mi(e,o,n)})}function Bo(r,e,n){n=Math.min(r.j.length,n);var o=r.h?At(r.h.Va,r.h,r):null;e:{var u=r.j;let p=-1;for(;;){const v=["count="+n];-1==p?0<n?(p=u[0].g,v.push("ofs="+p)):p=0:v.push("ofs="+p);let B=!0;for(let ie=0;ie<n;ie++){let he=u[ie].g;const Oe=u[ie].map;if(he-=p,0>he)p=Math.max(0,u[ie].g-100),B=!1;else try{Xs(Oe,v,"req"+he+"_")}catch{o&&o(Oe)}}if(B){o=v.join("&");break e}}}return r=r.j.splice(0,n),e.F=r,o}function Ro(r){if(!r.g&&!r.u){r.ba=1;var e=r.Ma;si||Qn(),jn||(si(),jn=!0),Yn.add(e,r),r.A=0}}function Ko(r){return!(r.g||r.u||3<=r.A||(r.ba++,r.u=fs(At(r.Ma,r),Jo(r,r.A)),r.A++,0))}function rs(r){null!=r.B&&(It.clearTimeout(r.B),r.B=null)}function jo(r){r.g=new Ue(r,r.l,"rpc",r.ba),null===r.o&&(r.g.I=r.s),r.g.O=0;var e=Qs(r.wa);Mi(e,"RID","rpc"),Mi(e,"SID",r.K),Mi(e,"AID",r.V),Mi(e,"CI",r.G?"0":"1"),!r.G&&r.qa&&Mi(e,"TO",r.qa),Mi(e,"TYPE","xmlhttp"),ao(r,e),r.o&&r.s&&ur(e,r.o,r.s),r.L&&r.g.setTimeout(r.L);var n=r.g;r=r.pa,n.L=1,n.v=Ws(Qs(e)),n.s=null,n.S=!0,gn(n,r)}function er(r){null!=r.v&&(It.clearTimeout(r.v),r.v=null)}function Oa(r,e){var n=null;if(r.g==e){er(r),rs(r),r.g=null;var o=2}else{if(!br(r.i,e))return;n=e.F,Wo(r.i,e),o=1}if(0!=r.H)if(e.i)if(1==o){n=e.s?e.s.length:0,e=Date.now()-e.G;var u=r.C;Ji(o=hs(),new ss(o,n)),Oo(r)}else Ro(r);else if(3==(u=e.o)||0==u&&0<e.ca||!(1==o&&function aa(r,e){return!(Xo(r.i)>=r.i.j-(r.m?1:0)||(r.m?(r.j=e.F.concat(r.j),0):1==r.H||2==r.H||r.C>=(r.cb?0:r.eb)||(r.m=fs(At(r.Na,r,e),Jo(r,r.C)),r.C++,0)))}(r,e)||2==o&&Ko(r)))switch(n&&0<n.length&&(e=r.i,e.i=e.i.concat(n)),u){case 1:ya(r,5);break;case 4:ya(r,10);break;case 3:ya(r,6);break;default:ya(r,2)}}function Jo(r,e){let n=r.ab+Math.floor(Math.random()*r.hb);return r.isActive()||(n*=2),n*e}function ya(r,e){if(r.l.info("Error code "+e),2==e){var n=null;r.h&&(n=null);var o=At(r.pb,r);n||(n=new Vs("//www.google.com/images/cleardot.gif"),It.location&&"http"==It.location.protocol||Pr(n,"https"),Ws(n)),function Uo(r,e){const n=new yi;if(It.Image){const o=new Image;o.onload=Lt(ms,n,o,"TestLoadImage: loaded",!0,e),o.onerror=Lt(ms,n,o,"TestLoadImage: error",!1,e),o.onabort=Lt(ms,n,o,"TestLoadImage: abort",!1,e),o.ontimeout=Lt(ms,n,o,"TestLoadImage: timeout",!1,e),It.setTimeout(function(){o.ontimeout&&o.ontimeout()},1e4),o.src=r}else e(!1)}(n.toString(),o)}else Yi(2);r.H=0,r.h&&r.h.za(e),Hs(r),fa(r)}function Hs(r){if(r.H=0,r.ma=[],r.h){const e=_o(r.i);(0!=e.length||0!=r.j.length)&&(on(r.ma,e),on(r.ma,r.j),r.i.i.length=0,fi(r.j),r.j.length=0),r.h.ya()}}function ea(r,e,n){var o=n instanceof Vs?Qs(n):new Vs(n);if(""!=o.g)e&&(o.g=e+"."+o.g),Rn(o,o.m);else{var u=It.location;o=u.protocol,e=e?e+"."+u.hostname:u.hostname,u=+u.port;var p=new Vs(null);o&&Pr(p,o),e&&(p.g=e),u&&Rn(p,u),n&&(p.l=n),o=p}return e=r.Da,(n=r.F)&&e&&Mi(o,n,e),Mi(o,"VER",r.ra),ao(r,o),o}function bo(r,e,n){if(e&&!r.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new ts(n&&r.Ha&&!r.va?new Zs({ob:!0}):r.va)).Oa(r.J),e}function Ns(){}function va(){if(Rt&&!(10<=Number(Ni)))throw Error("Environmental error: no available transport.")}function uo(r,e){Gi.call(this),this.g=new Vo(e),this.l=r,this.h=e&&e.messageUrlParams||null,r=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(r?r["X-Client-Protocol"]="webchannel":r={"X-Client-Protocol":"webchannel"}),this.g.s=r,r=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(r?r["X-WebChannel-Content-Type"]=e.messageContentType:r={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(r?r["X-WebChannel-Client-Profile"]=e.Ca:r={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=r,(r=e&&e.cc)&&!Zr(r)&&(this.g.o=r),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Zr(e)&&(this.g.F=e,null!==(r=this.h)&&e in r&&e in(r=this.h)&&delete r[e]),this.j=new xo(this)}function ba(r){Sn.call(this),r.__headers__&&(this.headers=r.__headers__,this.statusCode=r.__status__,delete r.__headers__,delete r.__status__);var e=r.__sm__;if(e){e:{for(const n in e){r=n;break e}r=void 0}(this.i=r)&&(r=this.i,e=null!==e&&r in e?e[r]:void 0),this.data=e}else this.data=r}function Na(){pi.call(this),this.status=1}function xo(r){this.g=r}function Ys(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function ca(r,e,n){n||(n=0);var o=Array(16);if("string"==typeof e)for(var u=0;16>u;++u)o[u]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(u=0;16>u;++u)o[u]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;var p=r.g[3],v=(e=r.g[0])+(p^(n=r.g[1])&((u=r.g[2])^p))+o[0]+3614090360&4294967295;v=(n=(u=(p=(e=(n=(u=(p=(e=(n=(u=(p=(e=(n=(u=(p=(e=(n=(u=(p=(e=(n=(u=(p=(e=(n=(u=(p=(e=(n=(u=(p=(e=(n=(u=(p=(e=(n=(u=(p=(e=(n=(u=(p=(e=(n=(u=(p=(e=(n=(u=(p=(e=(n=(u=(p=(e=(n=(u=(p=(e=n+(v<<7&4294967295|v>>>25))+((v=p+(u^e&(n^u))+o[1]+3905402710&4294967295)<<12&4294967295|v>>>20))+((v=u+(n^p&(e^n))+o[2]+606105819&4294967295)<<17&4294967295|v>>>15))+((v=n+(e^u&(p^e))+o[3]+3250441966&4294967295)<<22&4294967295|v>>>10))+((v=e+(p^n&(u^p))+o[4]+4118548399&4294967295)<<7&4294967295|v>>>25))+((v=p+(u^e&(n^u))+o[5]+1200080426&4294967295)<<12&4294967295|v>>>20))+((v=u+(n^p&(e^n))+o[6]+2821735955&4294967295)<<17&4294967295|v>>>15))+((v=n+(e^u&(p^e))+o[7]+4249261313&4294967295)<<22&4294967295|v>>>10))+((v=e+(p^n&(u^p))+o[8]+1770035416&4294967295)<<7&4294967295|v>>>25))+((v=p+(u^e&(n^u))+o[9]+2336552879&4294967295)<<12&4294967295|v>>>20))+((v=u+(n^p&(e^n))+o[10]+4294925233&4294967295)<<17&4294967295|v>>>15))+((v=n+(e^u&(p^e))+o[11]+2304563134&4294967295)<<22&4294967295|v>>>10))+((v=e+(p^n&(u^p))+o[12]+1804603682&4294967295)<<7&4294967295|v>>>25))+((v=p+(u^e&(n^u))+o[13]+4254626195&4294967295)<<12&4294967295|v>>>20))+((v=u+(n^p&(e^n))+o[14]+2792965006&4294967295)<<17&4294967295|v>>>15))+((v=n+(e^u&(p^e))+o[15]+1236535329&4294967295)<<22&4294967295|v>>>10))+((v=e+(u^p&(n^u))+o[1]+4129170786&4294967295)<<5&4294967295|v>>>27))+((v=p+(n^u&(e^n))+o[6]+3225465664&4294967295)<<9&4294967295|v>>>23))+((v=u+(e^n&(p^e))+o[11]+643717713&4294967295)<<14&4294967295|v>>>18))+((v=n+(p^e&(u^p))+o[0]+3921069994&4294967295)<<20&4294967295|v>>>12))+((v=e+(u^p&(n^u))+o[5]+3593408605&4294967295)<<5&4294967295|v>>>27))+((v=p+(n^u&(e^n))+o[10]+38016083&4294967295)<<9&4294967295|v>>>23))+((v=u+(e^n&(p^e))+o[15]+3634488961&4294967295)<<14&4294967295|v>>>18))+((v=n+(p^e&(u^p))+o[4]+3889429448&4294967295)<<20&4294967295|v>>>12))+((v=e+(u^p&(n^u))+o[9]+568446438&4294967295)<<5&4294967295|v>>>27))+((v=p+(n^u&(e^n))+o[14]+3275163606&4294967295)<<9&4294967295|v>>>23))+((v=u+(e^n&(p^e))+o[3]+4107603335&4294967295)<<14&4294967295|v>>>18))+((v=n+(p^e&(u^p))+o[8]+1163531501&4294967295)<<20&4294967295|v>>>12))+((v=e+(u^p&(n^u))+o[13]+2850285829&4294967295)<<5&4294967295|v>>>27))+((v=p+(n^u&(e^n))+o[2]+4243563512&4294967295)<<9&4294967295|v>>>23))+((v=u+(e^n&(p^e))+o[7]+1735328473&4294967295)<<14&4294967295|v>>>18))+((v=n+(p^e&(u^p))+o[12]+2368359562&4294967295)<<20&4294967295|v>>>12))+((v=e+(n^u^p)+o[5]+4294588738&4294967295)<<4&4294967295|v>>>28))+((v=p+(e^n^u)+o[8]+2272392833&4294967295)<<11&4294967295|v>>>21))+((v=u+(p^e^n)+o[11]+1839030562&4294967295)<<16&4294967295|v>>>16))+((v=n+(u^p^e)+o[14]+4259657740&4294967295)<<23&4294967295|v>>>9))+((v=e+(n^u^p)+o[1]+2763975236&4294967295)<<4&4294967295|v>>>28))+((v=p+(e^n^u)+o[4]+1272893353&4294967295)<<11&4294967295|v>>>21))+((v=u+(p^e^n)+o[7]+4139469664&4294967295)<<16&4294967295|v>>>16))+((v=n+(u^p^e)+o[10]+3200236656&4294967295)<<23&4294967295|v>>>9))+((v=e+(n^u^p)+o[13]+681279174&4294967295)<<4&4294967295|v>>>28))+((v=p+(e^n^u)+o[0]+3936430074&4294967295)<<11&4294967295|v>>>21))+((v=u+(p^e^n)+o[3]+3572445317&4294967295)<<16&4294967295|v>>>16))+((v=n+(u^p^e)+o[6]+76029189&4294967295)<<23&4294967295|v>>>9))+((v=e+(n^u^p)+o[9]+3654602809&4294967295)<<4&4294967295|v>>>28))+((v=p+(e^n^u)+o[12]+3873151461&4294967295)<<11&4294967295|v>>>21))+((v=u+(p^e^n)+o[15]+530742520&4294967295)<<16&4294967295|v>>>16))+((v=n+(u^p^e)+o[2]+3299628645&4294967295)<<23&4294967295|v>>>9))+((v=e+(u^(n|~p))+o[0]+4096336452&4294967295)<<6&4294967295|v>>>26))+((v=p+(n^(e|~u))+o[7]+1126891415&4294967295)<<10&4294967295|v>>>22))+((v=u+(e^(p|~n))+o[14]+2878612391&4294967295)<<15&4294967295|v>>>17))+((v=n+(p^(u|~e))+o[5]+4237533241&4294967295)<<21&4294967295|v>>>11))+((v=e+(u^(n|~p))+o[12]+1700485571&4294967295)<<6&4294967295|v>>>26))+((v=p+(n^(e|~u))+o[3]+2399980690&4294967295)<<10&4294967295|v>>>22))+((v=u+(e^(p|~n))+o[10]+4293915773&4294967295)<<15&4294967295|v>>>17))+((v=n+(p^(u|~e))+o[1]+2240044497&4294967295)<<21&4294967295|v>>>11))+((v=e+(u^(n|~p))+o[8]+1873313359&4294967295)<<6&4294967295|v>>>26))+((v=p+(n^(e|~u))+o[15]+4264355552&4294967295)<<10&4294967295|v>>>22))+((v=u+(e^(p|~n))+o[6]+2734768916&4294967295)<<15&4294967295|v>>>17))+((v=n+(p^(u|~e))+o[13]+1309151649&4294967295)<<21&4294967295|v>>>11))+((p=(e=n+((v=e+(u^(n|~p))+o[4]+4149444226&4294967295)<<6&4294967295|v>>>26))+((v=p+(n^(e|~u))+o[11]+3174756917&4294967295)<<10&4294967295|v>>>22))^((u=p+((v=u+(e^(p|~n))+o[2]+718787259&4294967295)<<15&4294967295|v>>>17))|~e))+o[9]+3951481745&4294967295,r.g[0]=r.g[0]+e&4294967295,r.g[1]=r.g[1]+(u+(v<<21&4294967295|v>>>11))&4294967295,r.g[2]=r.g[2]+u&4294967295,r.g[3]=r.g[3]+p&4294967295}function Mr(r,e){this.h=e;for(var n=[],o=!0,u=r.length-1;0<=u;u--){var p=0|r[u];o&&p==e||(n[u]=p,o=!1)}this.g=n}(tt=ts.prototype).Oa=function(r){this.M=r},tt.ha=function(r,e,n,o){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+r);e=e?e.toUpperCase():"GET",this.I=r,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():rr.g(),this.C=function ut(r){return r.h||(r.h=r.i())}(this.u?this.u:rr),this.g.onreadystatechange=At(this.La,this);try{this.G=!0,this.g.open(e,String(r),!0),this.G=!1}catch(p){return void ue(this,p)}if(r=n||"",n=new Map(this.headers),o)if(Object.getPrototypeOf(o)===Object.prototype)for(var u in o)n.set(u,o[u]);else{if("function"!=typeof o.keys||"function"!=typeof o.get)throw Error("Unknown input type for opt_headers: "+String(o));for(const p of o.keys())n.set(p,o.get(p))}o=Array.from(n.keys()).find(p=>"content-type"==p.toLowerCase()),u=It.FormData&&r instanceof It.FormData,!(0<=yn(Lo,e))||o||u||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[p,v]of n)this.g.setRequestHeader(p,v);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{st(this),0<this.B&&((this.L=function oa(r){return Rt&&"number"==typeof r.timeout&&void 0!==r.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=At(this.ua,this)):this.A=it(this.ua,this.B,this)),this.v=!0,this.g.send(r),this.v=!1}catch(p){ue(this,p)}},tt.ua=function(){typeof yt<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ji(this,"timeout"),this.abort(8))},tt.abort=function(r){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=r||7,Ji(this,"complete"),Ji(this,"abort"),Se(this))},tt.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Se(this,!0)),ts.$.N.call(this)},tt.La=function(){this.s||(this.G||this.v||this.l?X(this):this.kb())},tt.kb=function(){X(this)},tt.isActive=function(){return!!this.g},tt.da=function(){try{return 2<hi(this)?this.g.status:-1}catch{return-1}},tt.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},tt.Wa=function(r){if(this.g){var e=this.g.responseText;return r&&0==e.indexOf(r)&&(e=e.substring(r.length)),Ks(e)}},tt.Ia=function(){return this.m},tt.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(tt=Vo.prototype).ra=8,tt.H=1,tt.Na=function(r){if(this.m)if(this.m=null,1==this.H){if(!r){this.W=Math.floor(1e5*Math.random()),r=this.W++;const u=new Ue(this,this.l,r);let p=this.s;if(this.U&&(p?(p=vi(p),Br(p,this.U)):p=this.U),null!==this.o||this.O||(u.I=p,p=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){var o=this.j[n];if(void 0===(o="__data__"in o.map&&"string"==typeof(o=o.map.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=n;break e}if(4096===e||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=Bo(this,u,e),Mi(n=Qs(this.I),"RID",r),Mi(n,"CVER",22),this.F&&Mi(n,"X-HTTP-Session-Id",this.F),ao(this,n),p&&(this.O?e="headers="+encodeURIComponent(String(To(p)))+"&"+e:this.o&&ur(n,this.o,p)),ha(this.i,u),this.bb&&Mi(n,"TYPE","init"),this.P?(Mi(n,"$req",e),Mi(n,"SID","null"),u.aa=!0,tn(u,n,null)):tn(u,n,e),this.H=2}}else 3==this.H&&(r?_a(this,r):0==this.j.length||Us(this.i)||_a(this))},tt.Ma=function(){if(this.u=null,jo(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var r=2*this.S;this.l.info("BP detection timer enabled: "+r),this.B=fs(At(this.jb,this),r)}},tt.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Yi(10),Da(this),jo(this))},tt.ib=function(){null!=this.v&&(this.v=null,Da(this),Ko(this),Yi(19))},tt.pb=function(r){r?(this.l.info("Successfully pinged google.com"),Yi(2)):(this.l.info("Failed to ping google.com"),Yi(1))},tt.isActive=function(){return!!this.h&&this.h.isActive(this)},(tt=Ns.prototype).Ba=function(){},tt.Aa=function(){},tt.za=function(){},tt.ya=function(){},tt.isActive=function(){return!0},tt.Va=function(){},va.prototype.g=function(r,e){return new uo(r,e)},rt(uo,Gi),uo.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var r=this.g,e=this.l,n=this.h||void 0;Yi(0),r.Y=e,r.na=n||{},r.G=r.aa,r.I=ea(r,null,r.Y),Oo(r)},uo.prototype.close=function(){Mo(this.g)},uo.prototype.u=function(r){var e=this.g;if("string"==typeof r){var n={};n.__data__=r,r=n}else this.v&&((n={}).__data__=Xe(r),r=n);e.j.push(new class{constructor(r,e){this.g=r,this.map=e}}(e.fb++,r)),3==e.H&&Oo(e)},uo.prototype.N=function(){this.g.h=null,delete this.j,Mo(this.g),delete this.g,uo.$.N.call(this)},rt(ba,Sn),rt(Na,pi),rt(xo,Ns),xo.prototype.Ba=function(){Ji(this.g,"a")},xo.prototype.Aa=function(r){Ji(this.g,new ba(r))},xo.prototype.za=function(r){Ji(this.g,new Na)},xo.prototype.ya=function(){Ji(this.g,"b")},rt(Ys,function Ho(){this.blockSize=-1}),Ys.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Ys.prototype.j=function(r,e){void 0===e&&(e=r.length);for(var n=e-this.blockSize,o=this.m,u=this.h,p=0;p<e;){if(0==u)for(;p<=n;)ca(this,r,p),p+=this.blockSize;if("string"==typeof r){for(;p<e;)if(o[u++]=r.charCodeAt(p++),u==this.blockSize){ca(this,o),u=0;break}}else for(;p<e;)if(o[u++]=r[p++],u==this.blockSize){ca(this,o),u=0;break}}this.h=u,this.i+=e},Ys.prototype.l=function(){var r=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);r[0]=128;for(var e=1;e<r.length-8;++e)r[e]=0;var n=8*this.i;for(e=r.length-8;e<r.length;++e)r[e]=255&n,n/=256;for(this.j(r),r=Array(16),e=n=0;4>e;++e)for(var o=0;32>o;o+=8)r[n++]=this.g[e]>>>o&255;return r};var Ua={};function $s(r){return-128<=r&&128>r?function Vt(r,e){var n=Ua;return Object.prototype.hasOwnProperty.call(n,r)?n[r]:n[r]=e(r)}(r,function(e){return new Mr([0|e],0>e?-1:0)}):new Mr([0|r],0>r?-1:0)}function Po(r){if(isNaN(r)||!isFinite(r))return j;if(0>r)return et(Po(-r));for(var e=[],n=1,o=0;r>=n;o++)e[o]=r/n|0,n*=w;return new Mr(e,0)}var w=4294967296,j=$s(0),ne=$s(1),ge=$s(16777216);function Ie(r){if(0!=r.h)return!1;for(var e=0;e<r.g.length;e++)if(0!=r.g[e])return!1;return!0}function ze(r){return-1==r.h}function et(r){for(var e=r.g.length,n=[],o=0;o<e;o++)n[o]=~r.g[o];return new Mr(n,~r.h).add(ne)}function pt(r,e){return r.add(et(e))}function T(r,e){for(;(65535&r[e])!=r[e];)r[e+1]+=r[e]>>>16,r[e]&=65535,e++}function re(r,e){this.g=r,this.h=e}function z(r,e){if(Ie(e))throw Error("division by zero");if(Ie(r))return new re(j,j);if(ze(r))return e=z(et(r),e),new re(et(e.g),et(e.h));if(ze(e))return e=z(r,et(e)),new re(et(e.g),e.h);if(30<r.g.length){if(ze(r)||ze(e))throw Error("slowDivide_ only works with positive integers.");for(var n=ne,o=e;0>=o.X(r);)n=ce(n),o=ce(o);var u=Ve(n,1),p=Ve(o,1);for(o=Ve(o,2),n=Ve(n,2);!Ie(o);){var v=p.add(o);0>=v.X(r)&&(u=u.add(n),p=v),o=Ve(o,1),n=Ve(n,1)}return e=pt(r,u.R(e)),new re(u,e)}for(u=j;0<=r.X(e);){for(n=Math.max(1,Math.floor(r.ea()/e.ea())),o=48>=(o=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,o-48),v=(p=Po(n)).R(e);ze(v)||0<v.X(r);)v=(p=Po(n-=o)).R(e);Ie(p)&&(p=ne),u=u.add(p),r=pt(r,v)}return new re(u,r)}function ce(r){for(var e=r.g.length+1,n=[],o=0;o<e;o++)n[o]=r.D(o)<<1|r.D(o-1)>>>31;return new Mr(n,r.h)}function Ve(r,e){var n=e>>5;e%=32;for(var o=r.g.length-n,u=[],p=0;p<o;p++)u[p]=0<e?r.D(p+n)>>>e|r.D(p+n+1)<<32-e:r.D(p+n);return new Mr(u,r.h)}(tt=Mr.prototype).ea=function(){if(ze(this))return-et(this).ea();for(var r=0,e=1,n=0;n<this.g.length;n++){var o=this.D(n);r+=(0<=o?o:w+o)*e,e*=w}return r},tt.toString=function(r){if(2>(r=r||10)||36<r)throw Error("radix out of range: "+r);if(Ie(this))return"0";if(ze(this))return"-"+et(this).toString(r);for(var e=Po(Math.pow(r,6)),n=this,o="";;){var u=z(n,e).g,p=((0<(n=pt(n,u.R(e))).g.length?n.g[0]:n.h)>>>0).toString(r);if(Ie(n=u))return p+o;for(;6>p.length;)p="0"+p;o=p+o}},tt.D=function(r){return 0>r?0:r<this.g.length?this.g[r]:this.h},tt.X=function(r){return ze(r=pt(this,r))?-1:Ie(r)?0:1},tt.abs=function(){return ze(this)?et(this):this},tt.add=function(r){for(var e=Math.max(this.g.length,r.g.length),n=[],o=0,u=0;u<=e;u++){var p=o+(65535&this.D(u))+(65535&r.D(u)),v=(p>>>16)+(this.D(u)>>>16)+(r.D(u)>>>16);o=v>>>16,n[u]=(v&=65535)<<16|(p&=65535)}return new Mr(n,-2147483648&n[n.length-1]?-1:0)},tt.R=function(r){if(Ie(this)||Ie(r))return j;if(ze(this))return ze(r)?et(this).R(et(r)):et(et(this).R(r));if(ze(r))return et(this.R(et(r)));if(0>this.X(ge)&&0>r.X(ge))return Po(this.ea()*r.ea());for(var e=this.g.length+r.g.length,n=[],o=0;o<2*e;o++)n[o]=0;for(o=0;o<this.g.length;o++)for(var u=0;u<r.g.length;u++){var p=this.D(o)>>>16,v=65535&this.D(o),B=r.D(u)>>>16,ie=65535&r.D(u);n[2*o+2*u]+=v*ie,T(n,2*o+2*u),n[2*o+2*u+1]+=p*ie,T(n,2*o+2*u+1),n[2*o+2*u+1]+=v*B,T(n,2*o+2*u+1),n[2*o+2*u+2]+=p*B,T(n,2*o+2*u+2)}for(o=0;o<e;o++)n[o]=n[2*o+1]<<16|n[2*o];for(o=e;o<2*e;o++)n[o]=0;return new Mr(n,0)},tt.gb=function(r){return z(this,r).h},tt.and=function(r){for(var e=Math.max(this.g.length,r.g.length),n=[],o=0;o<e;o++)n[o]=this.D(o)&r.D(o);return new Mr(n,this.h&r.h)},tt.or=function(r){for(var e=Math.max(this.g.length,r.g.length),n=[],o=0;o<e;o++)n[o]=this.D(o)|r.D(o);return new Mr(n,this.h|r.h)},tt.xor=function(r){for(var e=Math.max(this.g.length,r.g.length),n=[],o=0;o<e;o++)n[o]=this.D(o)^r.D(o);return new Mr(n,this.h^r.h)},va.prototype.createWebChannel=va.prototype.g,uo.prototype.send=uo.prototype.u,uo.prototype.open=uo.prototype.m,uo.prototype.close=uo.prototype.close,mo.NO_ERROR=0,mo.TIMEOUT=8,mo.HTTP_ERROR=6,Io.COMPLETE="complete",jt.EventType=dn,dn.OPEN="a",dn.CLOSE="b",dn.ERROR="c",dn.MESSAGE="d",Gi.prototype.listen=Gi.prototype.O,ts.prototype.listenOnce=ts.prototype.P,ts.prototype.getLastError=ts.prototype.Sa,ts.prototype.getLastErrorCode=ts.prototype.Ia,ts.prototype.getStatus=ts.prototype.da,ts.prototype.getResponseJson=ts.prototype.Wa,ts.prototype.getResponseText=ts.prototype.ja,ts.prototype.send=ts.prototype.ha,ts.prototype.setWithCredentials=ts.prototype.Oa,Ys.prototype.digest=Ys.prototype.l,Ys.prototype.reset=Ys.prototype.reset,Ys.prototype.update=Ys.prototype.j,Mr.prototype.add=Mr.prototype.add,Mr.prototype.multiply=Mr.prototype.R,Mr.prototype.modulo=Mr.prototype.gb,Mr.prototype.compare=Mr.prototype.X,Mr.prototype.toNumber=Mr.prototype.ea,Mr.prototype.toString=Mr.prototype.toString,Mr.prototype.getBits=Mr.prototype.D,Mr.fromNumber=Po,Mr.fromString=function Fa(r,e){if(0==r.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==r.charAt(0))return et(Fa(r.substring(1),e));if(0<=r.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Po(Math.pow(e,8)),o=j,u=0;u<r.length;u+=8){var p=Math.min(8,r.length-u),v=parseInt(r.substring(u,u+p),e);8>p?(p=Po(Math.pow(e,p)),o=o.R(p).add(Po(v))):o=(o=o.R(n)).add(Po(v))}return o};var kt=Ft.createWebChannelTransport=function(){return new va},sn=Ft.getStatEventTarget=function(){return hs()},vn=Ft.ErrorCode=mo,kn=Ft.EventType=Io,gr=Ft.Event=ar,Dr=Ft.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Ki=Ft.FetchXmlHttpFactory=Zs,Os=Ft.WebChannel=jt,_s=Ft.XhrIo=ts,zs=Ft.Md5=Ys,ho=Ft.Integer=Mr;const io="@firebase/firestore";class yr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}yr.UNAUTHENTICATED=new yr(null),yr.GOOGLE_CREDENTIALS=new yr("google-credentials-uid"),yr.FIRST_PARTY=new yr("first-party-uid"),yr.MOCK_USER=new yr("mock-user");let $r="9.23.0";const Js=new Pe.Vy("@firebase/firestore");function ro(){return Js.logLevel}function On(r,...e){if(Js.logLevel<=Pe.$b.DEBUG){const n=e.map(Ta);Js.debug(`Firestore (${$r}): ${r}`,...n)}}function Ui(r,...e){if(Js.logLevel<=Pe.$b.ERROR){const n=e.map(Ta);Js.error(`Firestore (${$r}): ${r}`,...n)}}function qo(r,...e){if(Js.logLevel<=Pe.$b.WARN){const n=e.map(Ta);Js.warn(`Firestore (${$r}): ${r}`,...n)}}function Ta(r){if("string"==typeof r)return r;try{return JSON.stringify(r)}catch{return r}}function Wn(r="Unexpected state"){const e=`FIRESTORE (${$r}) INTERNAL ASSERTION FAILED: `+r;throw Ui(e),new Error(e)}function Ti(r,e){r||Wn()}function Vn(r,e){return r}const Wt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class te extends He.g{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class D{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class M{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Y{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(yr.UNAUTHENTICATED))}shutdown(){}}class ye{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Fe{constructor(e){this.t=e,this.currentUser=yr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var o=this;let u=this.i;const p=he=>this.i!==u?(u=this.i,n(he)):Promise.resolve();let v=new D;this.o=()=>{this.i++,this.currentUser=this.u(),v.resolve(),v=new D,e.enqueueRetryable(()=>p(this.currentUser))};const B=()=>{const he=v;e.enqueueRetryable((0,xe.A)(function*(){yield he.promise,yield p(o.currentUser)}))},ie=he=>{On("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=he,this.auth.addAuthTokenListener(this.o),B()};this.t.onInit(he=>ie(he)),setTimeout(()=>{if(!this.auth){const he=this.t.getImmediate({optional:!0});he?ie(he):(On("FirebaseAuthCredentialsProvider","Auth not yet detected"),v.resolve(),v=new D)}},0),B()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(o=>this.i!==e?(On("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(Ti("string"==typeof o.accessToken),new M(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ti(null===e||"string"==typeof e),new yr(e)}}class ct{constructor(e,n,o){this.h=e,this.l=n,this.m=o,this.type="FirstParty",this.user=yr.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class dt{constructor(e,n,o){this.h=e,this.l=n,this.m=o}getToken(){return Promise.resolve(new ct(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(yr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Kt{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class nn{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const o=p=>{null!=p.error&&On("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${p.error.message}`);const v=p.token!==this.T;return this.T=p.token,On("FirebaseAppCheckTokenProvider",`Received ${v?"new":"existing"} token.`),v?n(p.token):Promise.resolve()};this.o=p=>{e.enqueueRetryable(()=>o(p))};const u=p=>{On("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=p,this.appCheck.addTokenListener(this.o)};this.I.onInit(p=>u(p)),setTimeout(()=>{if(!this.appCheck){const p=this.I.getImmediate({optional:!0});p?u(p):On("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ti("string"==typeof n.token),this.T=n.token,new Kt(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function K(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let o=0;o<r;o++)n[o]=Math.floor(256*Math.random());return n}class O{static A(){const n=62*Math.floor(256/62);let o="";for(;o.length<20;){const u=K(40);for(let p=0;p<u.length;++p)o.length<20&&u[p]<n&&(o+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(u[p]%62))}return o}}function V(r,e){return r<e?-1:r>e?1:0}function J(r,e,n){return r.length===e.length&&r.every((o,u)=>n(o,e[u]))}class Pt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new te(Wt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new te(Wt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new te(Wt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new te(Wt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Pt.fromMillis(Date.now())}static fromDate(e){return Pt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),o=Math.floor(1e6*(e-1e3*n));return new Pt(n,o)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?V(this.nanoseconds,e.nanoseconds):V(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class zt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new zt(e)}static min(){return new zt(new Pt(0,0))}static max(){return new zt(new Pt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class li{constructor(e,n,o){void 0===n?n=0:n>e.length&&Wn(),void 0===o?o=e.length-n:o>e.length-n&&Wn(),this.segments=e,this.offset=n,this.len=o}get length(){return this.len}isEqual(e){return 0===li.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof li?e.forEach(o=>{n.push(o)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,o=this.limit();n<o;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const o=Math.min(e.length,n.length);for(let u=0;u<o;u++){const p=e.get(u),v=n.get(u);if(p<v)return-1;if(p>v)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class oi extends li{construct(e,n,o){return new oi(e,n,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const o of e){if(o.indexOf("//")>=0)throw new te(Wt.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);n.push(...o.split("/").filter(u=>u.length>0))}return new oi(n)}static emptyPath(){return new oi([])}}const Vi=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class tr extends li{construct(e,n,o){return new tr(e,n,o)}static isValidIdentifier(e){return Vi.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),tr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new tr(["__name__"])}static fromServerFormat(e){const n=[];let o="",u=0;const p=()=>{if(0===o.length)throw new te(Wt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(o),o=""};let v=!1;for(;u<e.length;){const B=e[u];if("\\"===B){if(u+1===e.length)throw new te(Wt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const ie=e[u+1];if("\\"!==ie&&"."!==ie&&"`"!==ie)throw new te(Wt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=ie,u+=2}else"`"===B?(v=!v,u++):"."!==B||v?(o+=B,u++):(p(),u++)}if(p(),v)throw new te(Wt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new tr(n)}static emptyPath(){return new tr([])}}class wn{constructor(e){this.path=e}static fromPath(e){return new wn(oi.fromString(e))}static fromName(e){return new wn(oi.fromString(e).popFirst(5))}static empty(){return new wn(oi.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===oi.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return oi.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new wn(new oi(e.slice()))}}function ys(r){return new $n(r.readTime,r.key,-1)}class $n{constructor(e,n,o){this.readTime=e,this.documentKey=n,this.largestBatchId=o}static min(){return new $n(zt.min(),wn.empty(),-1)}static max(){return new $n(zt.max(),wn.empty(),-1)}}function mi(r,e){let n=r.readTime.compareTo(e.readTime);return 0!==n?n:(n=wn.comparator(r.documentKey,e.documentKey),0!==n?n:V(r.largestBatchId,e.largestBatchId))}const Qi="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ns{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Rr(r){return eo.apply(this,arguments)}function eo(){return eo=(0,xe.A)(function*(r){if(r.code!==Wt.FAILED_PRECONDITION||r.message!==Qi)throw r;On("LocalStore","Unexpectedly lost primary lease")}),eo.apply(this,arguments)}class Ht{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Wn(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Ht((o,u)=>{this.nextCallback=p=>{this.wrapSuccess(e,p).next(o,u)},this.catchCallback=p=>{this.wrapFailure(n,p).next(o,u)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Ht?n:Ht.resolve(n)}catch(n){return Ht.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Ht.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Ht.reject(n)}static resolve(e){return new Ht((n,o)=>{n(e)})}static reject(e){return new Ht((n,o)=>{o(e)})}static waitFor(e){return new Ht((n,o)=>{let u=0,p=0,v=!1;e.forEach(B=>{++u,B.next(()=>{++p,v&&p===u&&n()},ie=>o(ie))}),v=!0,p===u&&n()})}static or(e){let n=Ht.resolve(!1);for(const o of e)n=n.next(u=>u?Ht.resolve(u):o());return n}static forEach(e,n){const o=[];return e.forEach((u,p)=>{o.push(n.call(this,u,p))}),this.waitFor(o)}static mapArray(e,n){return new Ht((o,u)=>{const p=e.length,v=new Array(p);let B=0;for(let ie=0;ie<p;ie++){const he=ie;n(e[he]).next(Oe=>{v[he]=Oe,++B,B===p&&o(v)},Oe=>u(Oe))}})}static doWhile(e,n){return new Ht((o,u)=>{const p=()=>{!0===e()?n().next(()=>{p()},u):o()};p()})}}function S(r){return"IndexedDbTransactionError"===r.name}let zn=(()=>{class r{constructor(n,o){this.previousValue=n,o&&(o.sequenceNumberHandler=u=>this.ot(u),this.ut=u=>o.writeSequenceNumber(u))}ot(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.ut&&this.ut(n),n}}return r.ct=-1,r})();function Er(r){return null==r}function Gs(r){return 0===r&&1/r==-1/0}function Pa(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function pa(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function so(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class Tr{constructor(e,n){this.comparator=e,this.root=n||fo.EMPTY}insert(e,n){return new Tr(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,fo.BLACK,null,null))}remove(e){return new Tr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,fo.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const o=this.comparator(e,n.key);if(0===o)return n.value;o<0?n=n.left:o>0&&(n=n.right)}return null}indexOf(e){let n=0,o=this.root;for(;!o.isEmpty();){const u=this.comparator(e,o.key);if(0===u)return n+o.left.size;u<0?o=o.left:(n+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,o)=>(e(n,o),!1))}toString(){const e=[];return this.inorderTraversal((n,o)=>(e.push(`${n}:${o}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Eo(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Eo(this.root,e,this.comparator,!1)}getReverseIterator(){return new Eo(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Eo(this.root,e,this.comparator,!0)}}class Eo{constructor(e,n,o,u){this.isReverse=u,this.nodeStack=[];let p=1;for(;!e.isEmpty();)if(p=n?o(e.key,n):1,n&&u&&(p*=-1),p<0)e=this.isReverse?e.left:e.right;else{if(0===p){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class fo{constructor(e,n,o,u,p){this.key=e,this.value=n,this.color=o??fo.RED,this.left=u??fo.EMPTY,this.right=p??fo.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,o,u,p){return new fo(e??this.key,n??this.value,o??this.color,u??this.left,p??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,o){let u=this;const p=o(e,u.key);return u=p<0?u.copy(null,null,null,u.left.insert(e,n,o),null):0===p?u.copy(null,n,null,null,null):u.copy(null,null,null,null,u.right.insert(e,n,o)),u.fixUp()}removeMin(){if(this.left.isEmpty())return fo.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let o,u=this;if(n(e,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(e,n),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),0===n(e,u.key)){if(u.right.isEmpty())return fo.EMPTY;o=u.right.min(),u=u.copy(o.key,o.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(e,n))}return u.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,fo.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,fo.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Wn();const e=this.left.check();if(e!==this.right.check())throw Wn();return e+(this.isRed()?0:1)}}fo.EMPTY=null,fo.RED=!0,fo.BLACK=!1,fo.EMPTY=new class{constructor(){this.size=0}get key(){throw Wn()}get value(){throw Wn()}get color(){throw Wn()}get left(){throw Wn()}get right(){throw Wn()}copy(r,e,n,o,u){return this}insert(r,e,n){return new fo(r,e)}remove(r,e){return this}isEmpty(){return!0}inorderTraversal(r){return!1}reverseTraversal(r){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Xr{constructor(e){this.comparator=e,this.data=new Tr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,o)=>(e(n),!1))}forEachInRange(e,n){const o=this.data.getIteratorFrom(e[0]);for(;o.hasNext();){const u=o.getNext();if(this.comparator(u.key,e[1])>=0)return;n(u.key)}}forEachWhile(e,n){let o;for(o=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();o.hasNext();)if(!e(o.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new gc(this.data.getIterator())}getIteratorFrom(e){return new gc(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(o=>{n=n.add(o)}),n}isEqual(e){if(!(e instanceof Xr)||this.size!==e.size)return!1;const n=this.data.getIterator(),o=e.data.getIterator();for(;n.hasNext();){const u=n.getNext().key,p=o.getNext().key;if(0!==this.comparator(u,p))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Xr(this.comparator);return n.data=e,n}}class gc{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Yo{constructor(e){this.fields=e,e.sort(tr.comparator)}static empty(){return new Yo([])}unionWith(e){let n=new Xr(tr.comparator);for(const o of this.fields)n=n.add(o);for(const o of e)n=n.add(o);return new Yo(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return J(this.fields,e.fields,(n,o)=>n.isEqual(o))}}class cc extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class zo{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new cc("Invalid base64 string: "+u):u}}(e);return new zo(n)}static fromUint8Array(e){const n=function(o){let u="";for(let p=0;p<o.length;++p)u+=String.fromCharCode(o[p]);return u}(e);return new zo(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let o=0;o<e.length;o++)n[o]=e.charCodeAt(o);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return V(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}zo.EMPTY_BYTE_STRING=new zo("");const _c=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function tc(r){if(Ti(!!r),"string"==typeof r){let e=0;const n=_c.exec(r);if(Ti(!!n),n[1]){let u=n[1];u=(u+"000000000").substr(0,9),e=Number(u)}const o=new Date(r);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:po(r.seconds),nanos:po(r.nanos)}}function po(r){return"number"==typeof r?r:"string"==typeof r?Number(r):0}function lc(r){return"string"==typeof r?zo.fromBase64String(r):zo.fromUint8Array(r)}function uc(r){var e,n;return"server_timestamp"===(null===(n=((null===(e=r?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function el(r){const e=r.mapValue.fields.__previous_value__;return uc(e)?el(e):e}function dc(r){const e=tc(r.mapValue.fields.__local_write_time__.timestampValue);return new Pt(e.seconds,e.nanos)}class jc{constructor(e,n,o,u,p,v,B,ie,he){this.databaseId=e,this.appId=n,this.persistenceKey=o,this.host=u,this.ssl=p,this.forceLongPolling=v,this.autoDetectLongPolling=B,this.longPollingOptions=ie,this.useFetchStreams=he}}class Qa{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Qa("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Qa&&e.projectId===this.projectId&&e.database===this.database}}const hc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function fc(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?uc(r)?4:kl(r)?9007199254740991:10:Wn()}function Xa(r,e){if(r===e)return!0;const n=fc(r);if(n!==fc(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return dc(r).isEqual(dc(e));case 3:return function(o,u){if("string"==typeof o.timestampValue&&"string"==typeof u.timestampValue&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const p=tc(o.timestampValue),v=tc(u.timestampValue);return p.seconds===v.seconds&&p.nanos===v.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return u=e,lc(r.bytesValue).isEqual(lc(u.bytesValue));case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,u){return po(o.geoPointValue.latitude)===po(u.geoPointValue.latitude)&&po(o.geoPointValue.longitude)===po(u.geoPointValue.longitude)}(r,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return po(o.integerValue)===po(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const p=po(o.doubleValue),v=po(u.doubleValue);return p===v?Gs(p)===Gs(v):isNaN(p)&&isNaN(v)}return!1}(r,e);case 9:return J(r.arrayValue.values||[],e.arrayValue.values||[],Xa);case 10:return function(o,u){const p=o.mapValue.fields||{},v=u.mapValue.fields||{};if(Pa(p)!==Pa(v))return!1;for(const B in p)if(p.hasOwnProperty(B)&&(void 0===v[B]||!Xa(p[B],v[B])))return!1;return!0}(r,e);default:return Wn()}var u}function tl(r,e){return void 0!==(r.values||[]).find(n=>Xa(n,e))}function Pc(r,e){if(r===e)return 0;const n=fc(r),o=fc(e);if(n!==o)return V(n,o);switch(n){case 0:case 9007199254740991:return 0;case 1:return V(r.booleanValue,e.booleanValue);case 2:return function(u,p){const v=po(u.integerValue||u.doubleValue),B=po(p.integerValue||p.doubleValue);return v<B?-1:v>B?1:v===B?0:isNaN(v)?isNaN(B)?0:-1:1}(r,e);case 3:return Pl(r.timestampValue,e.timestampValue);case 4:return Pl(dc(r),dc(e));case 5:return V(r.stringValue,e.stringValue);case 6:return function(u,p){const v=lc(u),B=lc(p);return v.compareTo(B)}(r.bytesValue,e.bytesValue);case 7:return function(u,p){const v=u.split("/"),B=p.split("/");for(let ie=0;ie<v.length&&ie<B.length;ie++){const he=V(v[ie],B[ie]);if(0!==he)return he}return V(v.length,B.length)}(r.referenceValue,e.referenceValue);case 8:return function(u,p){const v=V(po(u.latitude),po(p.latitude));return 0!==v?v:V(po(u.longitude),po(p.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return function(u,p){const v=u.values||[],B=p.values||[];for(let ie=0;ie<v.length&&ie<B.length;++ie){const he=Pc(v[ie],B[ie]);if(he)return he}return V(v.length,B.length)}(r.arrayValue,e.arrayValue);case 10:return function(u,p){if(u===hc.mapValue&&p===hc.mapValue)return 0;if(u===hc.mapValue)return 1;if(p===hc.mapValue)return-1;const v=u.fields||{},B=Object.keys(v),ie=p.fields||{},he=Object.keys(ie);B.sort(),he.sort();for(let Oe=0;Oe<B.length&&Oe<he.length;++Oe){const lt=V(B[Oe],he[Oe]);if(0!==lt)return lt;const Jt=Pc(v[B[Oe]],ie[he[Oe]]);if(0!==Jt)return Jt}return V(B.length,he.length)}(r.mapValue,e.mapValue);default:throw Wn()}}function Pl(r,e){if("string"==typeof r&&"string"==typeof e&&r.length===e.length)return V(r,e);const n=tc(r),o=tc(e),u=V(n.seconds,o.seconds);return 0!==u?u:V(n.nanos,o.nanos)}function nc(r){return hl(r)}function hl(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(o){const u=tc(o);return`time(${u.seconds},${u.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?lc(r.bytesValue).toBase64():"referenceValue"in r?wn.fromName(r.referenceValue).toString():"geoPointValue"in r?`geo(${(e=r.geoPointValue).latitude},${e.longitude})`:"arrayValue"in r?function(o){let u="[",p=!0;for(const v of o.values||[])p?p=!1:u+=",",u+=hl(v);return u+"]"}(r.arrayValue):"mapValue"in r?function(o){const u=Object.keys(o.fields||{}).sort();let p="{",v=!0;for(const B of u)v?v=!1:p+=",",p+=`${B}:${hl(o.fields[B])}`;return p+"}"}(r.mapValue):Wn();var e}function Tc(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Hc(r){return!!r&&"integerValue"in r}function $c(r){return!!r&&"arrayValue"in r}function na(r){return!!r&&"nullValue"in r}function Nu(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function ic(r){return!!r&&"mapValue"in r}function nl(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&"object"==typeof r.timestampValue)return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return pa(r.mapValue.fields,(n,o)=>e.mapValue.fields[n]=nl(o)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=nl(r.arrayValue.values[n]);return e}return Object.assign({},r)}function kl(r){return"__max__"===(((r.mapValue||{}).fields||{}).__type__||{}).stringValue}class F{constructor(e){this.value=e}static empty(){return new F({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let o=0;o<e.length-1;++o)if(n=(n.mapValue.fields||{})[e.get(o)],!ic(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=nl(n)}setAll(e){let n=tr.emptyPath(),o={},u=[];e.forEach((v,B)=>{if(!n.isImmediateParentOf(B)){const ie=this.getFieldsMap(n);this.applyChanges(ie,o,u),o={},u=[],n=B.popLast()}v?o[B.lastSegment()]=nl(v):u.push(B.lastSegment())});const p=this.getFieldsMap(n);this.applyChanges(p,o,u)}delete(e){const n=this.field(e.popLast());ic(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Xa(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let o=0;o<e.length;++o){let u=n.mapValue.fields[e.get(o)];ic(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},n.mapValue.fields[e.get(o)]=u),n=u}return n.mapValue.fields}applyChanges(e,n,o){pa(n,(u,p)=>e[u]=p);for(const u of o)delete e[u]}clone(){return new F(nl(this.value))}}function W(r){const e=[];return pa(r.fields,(n,o)=>{const u=new tr([n]);if(ic(o)){const p=W(o.mapValue).fields;if(0===p.length)e.push(u);else for(const v of p)e.push(u.child(v))}else e.push(u)}),new Yo(e)}class de{constructor(e,n,o,u,p,v,B){this.key=e,this.documentType=n,this.version=o,this.readTime=u,this.createTime=p,this.data=v,this.documentState=B}static newInvalidDocument(e){return new de(e,0,zt.min(),zt.min(),zt.min(),F.empty(),0)}static newFoundDocument(e,n,o,u){return new de(e,1,n,zt.min(),o,u,0)}static newNoDocument(e,n){return new de(e,2,n,zt.min(),zt.min(),F.empty(),0)}static newUnknownDocument(e,n){return new de(e,3,n,zt.min(),zt.min(),F.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(zt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=F.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=F.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=zt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof de&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new de(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class $e{constructor(e,n){this.position=e,this.inclusive=n}}function Et(r,e,n){let o=0;for(let u=0;u<r.position.length;u++){const p=e[u],v=r.position[u];if(o=p.field.isKeyField()?wn.comparator(wn.fromName(v.referenceValue),n.key):Pc(v,n.data.field(p.field)),"desc"===p.dir&&(o*=-1),0!==o)break}return o}function $t(r,e){if(null===r)return null===e;if(null===e||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Xa(r.position[n],e.position[n]))return!1;return!0}class hn{constructor(e,n="asc"){this.field=e,this.dir=n}}function di(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class ai{}class Kn extends ai{constructor(e,n,o){super(),this.field=e,this.op=n,this.value=o}static create(e,n,o){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,o):new ja(e,n,o):"array-contains"===n?new fl(e,o):"in"===n?new Fl(e,o):"not-in"===n?new Ep(e,o):"array-contains-any"===n?new Lu(e,o):new Kn(e,n,o)}static createKeyFieldInFilter(e,n,o){return"in"===n?new Rl(e,o):new lh(e,o)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(Pc(n,this.value)):null!==n&&fc(this.value)===fc(n)&&this.matchesComparison(Pc(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Wn()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Ei extends ai{constructor(e,n){super(),this.filters=e,this.op=n,this.lt=null}static create(e,n){return new Ei(e,n)}matches(e){return Lr(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(n=>n.isInequality());return null!==e?e.field:null}ft(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function Lr(r){return"and"===r.op}function Aa(r){return function il(r){for(const e of r.filters)if(e instanceof Ei)return!1;return!0}(r)&&Lr(r)}function ia(r){if(r instanceof Kn)return r.field.canonicalString()+r.op.toString()+nc(r.value);if(Aa(r))return r.filters.map(e=>ia(e)).join(",");{const e=r.filters.map(n=>ia(n)).join(",");return`${r.op}(${e})`}}function Wc(r,e){return r instanceof Kn?(n=r,(o=e)instanceof Kn&&n.op===o.op&&n.field.isEqual(o.field)&&Xa(n.value,o.value)):r instanceof Ei?function(n,o){return o instanceof Ei&&n.op===o.op&&n.filters.length===o.filters.length&&n.filters.reduce((u,p,v)=>u&&Wc(p,o.filters[v]),!0)}(r,e):void Wn();var n,o}function xc(r){return r instanceof Kn?`${(e=r).field.canonicalString()} ${e.op} ${nc(e.value)}`:r instanceof Ei?function(e){return e.op.toString()+" {"+e.getFilters().map(xc).join(" ,")+"}"}(r):"Filter";var e}class ja extends Kn{constructor(e,n,o){super(e,n,o),this.key=wn.fromName(o.referenceValue)}matches(e){const n=wn.comparator(e.key,this.key);return this.matchesComparison(n)}}class Rl extends Kn{constructor(e,n){super(e,"in",n),this.keys=Nl(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class lh extends Kn{constructor(e,n){super(e,"not-in",n),this.keys=Nl(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Nl(r,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(o=>wn.fromName(o.referenceValue))}class fl extends Kn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return $c(n)&&tl(n.arrayValue,this.value)}}class Fl extends Kn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&tl(this.value.arrayValue,n)}}class Ep extends Kn{constructor(e,n){super(e,"not-in",n)}matches(e){if(tl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!tl(this.value.arrayValue,n)}}class Lu extends Kn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!$c(n)||!n.arrayValue.values)&&n.arrayValue.values.some(o=>tl(this.value.arrayValue,o))}}class uh{constructor(e,n=null,o=[],u=[],p=null,v=null,B=null){this.path=e,this.collectionGroup=n,this.orderBy=o,this.filters=u,this.limit=p,this.startAt=v,this.endAt=B,this.dt=null}}function La(r,e=null,n=[],o=[],u=null,p=null,v=null){return new uh(r,e,n,o,u,p,v)}function Ac(r){const e=Vn(r);if(null===e.dt){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(o=>ia(o)).join(","),n+="|ob:",n+=e.orderBy.map(o=>{return(u=o).field.canonicalString()+u.dir;var u}).join(","),Er(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(o=>nc(o)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(o=>nc(o)).join(",")),e.dt=n}return e.dt}function pc(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!di(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!Wc(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!$t(r.startAt,e.startAt)&&$t(r.endAt,e.endAt)}function ou(r){return wn.isDocumentKey(r.path)&&null===r.collectionGroup&&0===r.filters.length}class rc{constructor(e,n=null,o=[],u=[],p=null,v="F",B=null,ie=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=o,this.filters=u,this.limit=p,this.limitType=v,this.startAt=B,this.endAt=ie,this.wt=null,this._t=null}}function pl(r){return new rc(r)}function Vu(r){return 0===r.filters.length&&null===r.limit&&null==r.startAt&&null==r.endAt&&(0===r.explicitOrderBy.length||1===r.explicitOrderBy.length&&r.explicitOrderBy[0].field.isKeyField())}function rl(r){return r.explicitOrderBy.length>0?r.explicitOrderBy[0].field:null}function sc(r){for(const e of r.filters){const n=e.getFirstInequalityField();if(null!==n)return n}return null}function Vl(r){return null!==r.collectionGroup}function Sc(r){const e=Vn(r);if(null===e.wt){e.wt=[];const n=sc(e),o=rl(e);if(null!==n&&null===o)n.isKeyField()||e.wt.push(new hn(n)),e.wt.push(new hn(tr.keyField(),"asc"));else{let u=!1;for(const p of e.explicitOrderBy)e.wt.push(p),p.field.isKeyField()&&(u=!0);if(!u){const p=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new hn(tr.keyField(),p))}}}return e.wt}function Za(r){const e=Vn(r);if(!e._t)if("F"===e.limitType)e._t=La(e.path,e.collectionGroup,Sc(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const p of Sc(e))n.push(new hn(p.field,"desc"===p.dir?"asc":"desc"));const o=e.endAt?new $e(e.endAt.position,e.endAt.inclusive):null,u=e.startAt?new $e(e.startAt.position,e.startAt.inclusive):null;e._t=La(e.path,e.collectionGroup,n,e.filters,e.limit,o,u)}return e._t}function kc(r,e){e.getFirstInequalityField(),sc(r);const n=r.filters.concat([e]);return new rc(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function Bl(r,e,n){return new rc(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function sl(r,e){return pc(Za(r),Za(e))&&r.limitType===e.limitType}function ml(r){return`${Ac(Za(r))}|lt:${r.limitType}`}function gl(r){return`Query(target=${function(e){let n=e.path.canonicalString();return null!==e.collectionGroup&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(o=>xc(o)).join(", ")}]`),Er(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(o=>{return`${(u=o).field.canonicalString()} (${u.dir})`;var u}).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(o=>nc(o)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(o=>nc(o)).join(",")),`Target(${n})`}(Za(r))}; limitType=${r.limitType})`}function lu(r,e){return e.isFoundDocument()&&function(n,o){const u=o.key.path;return null!==n.collectionGroup?o.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(u):wn.isDocumentKey(n.path)?n.path.isEqual(u):n.path.isImmediateParentOf(u)}(r,e)&&function(n,o){for(const u of Sc(n))if(!u.field.isKeyField()&&null===o.data.field(u.field))return!1;return!0}(r,e)&&function(n,o){for(const u of n.filters)if(!u.matches(o))return!1;return!0}(r,e)&&(o=e,!((n=r).startAt&&!function(u,p,v){const B=Et(u,p,v);return u.inclusive?B<=0:B<0}(n.startAt,Sc(n),o)||n.endAt&&!function(u,p,v){const B=Et(u,p,v);return u.inclusive?B>=0:B>0}(n.endAt,Sc(n),o)));var n,o}function dh(r){return(e,n)=>{let o=!1;for(const u of Sc(r)){const p=Ul(u,e,n);if(0!==p)return p;o=o||u.field.isKeyField()}return 0}}function Ul(r,e,n){const o=r.field.isKeyField()?wn.comparator(e.key,n.key):function(u,p,v){const B=p.data.field(u),ie=v.data.field(u);return null!==B&&null!==ie?Pc(B,ie):Wn()}(r.field,e,n);switch(r.dir){case"asc":return o;case"desc":return-1*o;default:return Wn()}}class mc{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),o=this.inner[n];if(void 0!==o)for(const[u,p]of o)if(this.equalsFn(u,e))return p}has(e){return void 0!==this.get(e)}set(e,n){const o=this.mapKeyFn(e),u=this.inner[o];if(void 0===u)return this.inner[o]=[[e,n]],void this.innerSize++;for(let p=0;p<u.length;p++)if(this.equalsFn(u[p][0],e))return void(u[p]=[e,n]);u.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),o=this.inner[n];if(void 0===o)return!1;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return 1===o.length?delete this.inner[n]:o.splice(u,1),this.innerSize--,!0;return!1}forEach(e){pa(this.inner,(n,o)=>{for(const[u,p]of o)e(u,p)})}isEmpty(){return so(this.inner)}size(){return this.innerSize}}const af=new Tr(wn.comparator);function oc(){return af}const Bu=new Tr(wn.comparator);function se(...r){let e=Bu;for(const n of r)e=e.insert(n.key,n);return e}function oe(r){let e=Bu;return r.forEach((n,o)=>e=e.insert(n,o.overlayedDocument)),e}function A(){return Me()}function Q(){return Me()}function Me(){return new mc(r=>r.toString(),(r,e)=>r.isEqual(e))}const wt=new Tr(wn.comparator),_n=new Xr(wn.comparator);function ci(...r){let e=_n;for(const n of r)e=e.add(n);return e}const Go=new Xr(V);function Sa(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Gs(e)?"-0":e}}function Kc(r){return{integerValue:""+r}}function ol(r,e){return function Ts(r){return"number"==typeof r&&Number.isInteger(r)&&!Gs(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}(e)?Kc(e):Sa(r,e)}class vc{constructor(){this._=void 0}}function qc(r,e,n){return r instanceof Mc?function(o,u){const p={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&uc(u)&&(u=el(u)),u&&(p.fields.__previous_value__=u),{mapValue:p}}(n,e):r instanceof _l?vg(r,e):r instanceof ju?bg(r,e):function(o,u){const p=Uu(o,u),v=wp(p)+wp(o.gt);return Hc(p)&&Hc(o.gt)?Kc(v):Sa(o.serializer,v)}(r,e)}function Yc(r,e,n){return r instanceof _l?vg(r,e):r instanceof ju?bg(r,e):n}function Uu(r,e){return r instanceof bd?Hc(n=e)||(o=n)&&"doubleValue"in o?e:{integerValue:0}:null;var o,n}class Mc extends vc{}class _l extends vc{constructor(e){super(),this.elements=e}}function vg(r,e){const n=Ed(e);for(const o of r.elements)n.some(u=>Xa(u,o))||n.push(o);return{arrayValue:{values:n}}}class ju extends vc{constructor(e){super(),this.elements=e}}function bg(r,e){let n=Ed(e);for(const o of r.elements)n=n.filter(u=>!Xa(u,o));return{arrayValue:{values:n}}}class bd extends vc{constructor(e,n){super(),this.serializer=e,this.gt=n}}function wp(r){return po(r.integerValue||r.doubleValue)}function Ed(r){return $c(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class Ip{constructor(e,n){this.version=e,this.transformResults=n}}class ma{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ma}static exists(e){return new ma(void 0,e)}static updateTime(e){return new ma(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function yl(r,e){return void 0!==r.updateTime?e.isFoundDocument()&&e.version.isEqual(r.updateTime):void 0===r.exists||r.exists===e.isFoundDocument()}class wd{}function cf(r,e){if(!r.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return r.isNoDocument()?new $u(r.key,ma.none()):new Hu(r.key,r.data,ma.none());{const n=r.data,o=F.empty();let u=new Xr(tr.comparator);for(let p of e.fields)if(!u.has(p)){let v=n.field(p);null===v&&p.length>1&&(p=p.popLast(),v=n.field(p)),null===v?o.delete(p):o.set(p,v),u=u.add(p)}return new vl(r.key,o,new Yo(u.toArray()),ma.none())}}function hh(r,e,n){r instanceof Hu?function(o,u,p){const v=o.value.clone(),B=Cd(o.fieldTransforms,u,p.transformResults);v.setAll(B),u.convertToFoundDocument(p.version,v).setHasCommittedMutations()}(r,e,n):r instanceof vl?function(o,u,p){if(!yl(o.precondition,u))return void u.convertToUnknownDocument(p.version);const v=Cd(o.fieldTransforms,u,p.transformResults),B=u.data;B.setAll(lf(o)),B.setAll(v),u.convertToFoundDocument(p.version,B).setHasCommittedMutations()}(r,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function Hl(r,e,n,o){return r instanceof Hu?function(u,p,v,B){if(!yl(u.precondition,p))return v;const ie=u.value.clone(),he=Tp(u.fieldTransforms,B,p);return ie.setAll(he),p.convertToFoundDocument(p.version,ie).setHasLocalMutations(),null}(r,e,n,o):r instanceof vl?function(u,p,v,B){if(!yl(u.precondition,p))return v;const ie=Tp(u.fieldTransforms,B,p),he=p.data;return he.setAll(lf(u)),he.setAll(ie),p.convertToFoundDocument(p.version,he).setHasLocalMutations(),null===v?null:v.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(Oe=>Oe.field))}(r,e,n,o):(v=n,yl(r.precondition,p=e)?(p.convertToNoDocument(p.version).setHasLocalMutations(),null):v);var p,v}function fh(r,e){let n=null;for(const o of r.fieldTransforms){const u=e.data.field(o.field),p=Uu(o.transform,u||null);null!=p&&(null===n&&(n=F.empty()),n.set(o.field,p))}return n||null}function Dp(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&(o=e.fieldTransforms,!!(void 0===(n=r.fieldTransforms)&&void 0===o||n&&o&&J(n,o,(u,p)=>function Cp(r,e){return r.field.isEqual(e.field)&&(o=e.transform,(n=r.transform)instanceof _l&&o instanceof _l||n instanceof ju&&o instanceof ju?J(n.elements,o.elements,Xa):n instanceof bd&&o instanceof bd?Xa(n.gt,o.gt):n instanceof Mc&&o instanceof Mc);var n,o}(u,p))))&&(0===r.type?r.value.isEqual(e.value):1!==r.type||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask));var n,o}class Hu extends wd{constructor(e,n,o,u=[]){super(),this.key=e,this.value=n,this.precondition=o,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class vl extends wd{constructor(e,n,o,u,p=[]){super(),this.key=e,this.data=n,this.fieldMask=o,this.precondition=u,this.fieldTransforms=p,this.type=1}getFieldMask(){return this.fieldMask}}function lf(r){const e=new Map;return r.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const o=r.data.field(n);e.set(n,o)}}),e}function Cd(r,e,n){const o=new Map;Ti(r.length===n.length);for(let u=0;u<n.length;u++){const p=r[u],v=p.transform,B=e.data.field(p.field);o.set(p.field,Yc(v,B,n[u]))}return o}function Tp(r,e,n){const o=new Map;for(const u of r){const p=u.transform,v=n.data.field(u.field);o.set(u.field,qc(p,v,e))}return o}class $u extends wd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class uf extends wd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class ph{constructor(e,n,o,u){this.batchId=e,this.localWriteTime=n,this.baseMutations=o,this.mutations=u}applyToRemoteDocument(e,n){const o=n.mutationResults;for(let u=0;u<this.mutations.length;u++){const p=this.mutations[u];p.key.isEqual(e.key)&&hh(p,e,o[u])}}applyToLocalView(e,n){for(const o of this.baseMutations)o.key.isEqual(e.key)&&(n=Hl(o,e,n,this.localWriteTime));for(const o of this.mutations)o.key.isEqual(e.key)&&(n=Hl(o,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const o=Q();return this.mutations.forEach(u=>{const p=e.get(u.key),v=p.overlayedDocument;let B=this.applyToLocalView(v,p.mutatedFields);B=n.has(u.key)?null:B;const ie=cf(v,B);null!==ie&&o.set(u.key,ie),v.isValidDocument()||v.convertToNoDocument(zt.min())}),o}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ci())}isEqual(e){return this.batchId===e.batchId&&J(this.mutations,e.mutations,(n,o)=>Dp(n,o))&&J(this.baseMutations,e.baseMutations,(n,o)=>Dp(n,o))}}class mh{constructor(e,n,o,u){this.batch=e,this.commitVersion=n,this.mutationResults=o,this.docVersions=u}static from(e,n,o){Ti(e.mutations.length===o.length);let u=wt;const p=e.mutations;for(let v=0;v<p.length;v++)u=u.insert(p[v].key,o[v].version);return new mh(e,n,o,u)}}class df{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class hf{constructor(e,n){this.count=e,this.unchangedNames=n}}var Va,co;function zu(r){if(void 0===r)return Ui("GRPC error has no .code"),Wt.UNKNOWN;switch(r){case Va.OK:return Wt.OK;case Va.CANCELLED:return Wt.CANCELLED;case Va.UNKNOWN:return Wt.UNKNOWN;case Va.DEADLINE_EXCEEDED:return Wt.DEADLINE_EXCEEDED;case Va.RESOURCE_EXHAUSTED:return Wt.RESOURCE_EXHAUSTED;case Va.INTERNAL:return Wt.INTERNAL;case Va.UNAVAILABLE:return Wt.UNAVAILABLE;case Va.UNAUTHENTICATED:return Wt.UNAUTHENTICATED;case Va.INVALID_ARGUMENT:return Wt.INVALID_ARGUMENT;case Va.NOT_FOUND:return Wt.NOT_FOUND;case Va.ALREADY_EXISTS:return Wt.ALREADY_EXISTS;case Va.PERMISSION_DENIED:return Wt.PERMISSION_DENIED;case Va.FAILED_PRECONDITION:return Wt.FAILED_PRECONDITION;case Va.ABORTED:return Wt.ABORTED;case Va.OUT_OF_RANGE:return Wt.OUT_OF_RANGE;case Va.UNIMPLEMENTED:return Wt.UNIMPLEMENTED;case Va.DATA_LOSS:return Wt.DATA_LOSS;default:return Wn()}}(co=Va||(Va={}))[co.OK=0]="OK",co[co.CANCELLED=1]="CANCELLED",co[co.UNKNOWN=2]="UNKNOWN",co[co.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",co[co.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",co[co.NOT_FOUND=5]="NOT_FOUND",co[co.ALREADY_EXISTS=6]="ALREADY_EXISTS",co[co.PERMISSION_DENIED=7]="PERMISSION_DENIED",co[co.UNAUTHENTICATED=16]="UNAUTHENTICATED",co[co.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",co[co.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",co[co.ABORTED=10]="ABORTED",co[co.OUT_OF_RANGE=11]="OUT_OF_RANGE",co[co.UNIMPLEMENTED=12]="UNIMPLEMENTED",co[co.INTERNAL=13]="INTERNAL",co[co.UNAVAILABLE=14]="UNAVAILABLE",co[co.DATA_LOSS=15]="DATA_LOSS";class gh{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Id}static getOrCreateInstance(){return null===Id&&(Id=new gh),Id}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let Id=null;const _=new ho([4294967295,4294967295],0);function E(r){const e=function N(){return new TextEncoder}().encode(r),n=new zs;return n.update(e),new Uint8Array(n.digest())}function U(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),o=e.getUint32(4,!0),u=e.getUint32(8,!0),p=e.getUint32(12,!0);return[new ho([n,o],0),new ho([u,p],0)]}class _e{constructor(e,n,o){if(this.bitmap=e,this.padding=n,this.hashCount=o,n<0||n>=8)throw new Ne(`Invalid padding: ${n}`);if(o<0)throw new Ne(`Invalid hash count: ${o}`);if(e.length>0&&0===this.hashCount)throw new Ne(`Invalid hash count: ${o}`);if(0===e.length&&0!==n)throw new Ne(`Invalid padding when bitmap length is 0: ${n}`);this.It=8*e.length-n,this.Tt=ho.fromNumber(this.It)}Et(e,n,o){let u=e.add(n.multiply(ho.fromNumber(o)));return 1===u.compare(_)&&(u=new ho([u.getBits(0),u.getBits(1)],0)),u.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const n=E(e),[o,u]=U(n);for(let p=0;p<this.hashCount;p++){const v=this.Et(o,u,p);if(!this.At(v))return!1}return!0}static create(e,n,o){const u=e%8==0?0:8-e%8,p=new Uint8Array(Math.ceil(e/8)),v=new _e(p,u,n);return o.forEach(B=>v.insert(B)),v}insert(e){if(0===this.It)return;const n=E(e),[o,u]=U(n);for(let p=0;p<this.hashCount;p++){const v=this.Et(o,u,p);this.Rt(v)}}Rt(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class Ne extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Ot{constructor(e,n,o,u,p){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=o,this.documentUpdates=u,this.resolvedLimboDocuments=p}static createSynthesizedRemoteEventForCurrentChange(e,n,o){const u=new Map;return u.set(e,rn.createSynthesizedTargetChangeForCurrentChange(e,n,o)),new Ot(zt.min(),u,new Tr(V),oc(),ci())}}class rn{constructor(e,n,o,u,p){this.resumeToken=e,this.current=n,this.addedDocuments=o,this.modifiedDocuments=u,this.removedDocuments=p}static createSynthesizedTargetChangeForCurrentChange(e,n,o){return new rn(o,n,ci(),ci(),ci())}}class qn{constructor(e,n,o,u){this.Pt=e,this.removedTargetIds=n,this.key=o,this.bt=u}}class Oi{constructor(e,n){this.targetId=e,this.Vt=n}}class zr{constructor(e,n,o=zo.EMPTY_BYTE_STRING,u=null){this.state=e,this.targetIds=n,this.resumeToken=o,this.cause=u}}class Vr{constructor(){this.St=0,this.Dt=bl(),this.Ct=zo.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=ci(),n=ci(),o=ci();return this.Dt.forEach((u,p)=>{switch(p){case 0:e=e.add(u);break;case 2:n=n.add(u);break;case 1:o=o.add(u);break;default:Wn()}}),new rn(this.Ct,this.xt,e,n,o)}Ft(){this.Nt=!1,this.Dt=bl()}Bt(e,n){this.Nt=!0,this.Dt=this.Dt.insert(e,n)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class Qo{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=oc(),this.zt=Rc(),this.Wt=new Tr(V)}Ht(e){for(const n of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(n,e.bt):this.Yt(n,e.key,e.bt);for(const n of e.removedTargetIds)this.Yt(n,e.key,e.bt)}Xt(e){this.forEachTarget(e,n=>{const o=this.Zt(n);switch(e.state){case 0:this.te(n)&&o.$t(e.resumeToken);break;case 1:o.Ut(),o.kt||o.Ft(),o.$t(e.resumeToken);break;case 2:o.Ut(),o.kt||this.removeTarget(n);break;case 3:this.te(n)&&(o.Kt(),o.$t(e.resumeToken));break;case 4:this.te(n)&&(this.ee(n),o.$t(e.resumeToken));break;default:Wn()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qt.forEach((o,u)=>{this.te(u)&&n(u)})}ne(e){var n;const o=e.targetId,u=e.Vt.count,p=this.se(o);if(p){const v=p.target;if(ou(v))if(0===u){const B=new wn(v.path);this.Yt(o,B,de.newNoDocument(B,zt.min()))}else Ti(1===u);else{const B=this.ie(o);if(B!==u){const ie=this.re(e,B);0!==ie&&(this.ee(o),this.Wt=this.Wt.insert(o,2===ie?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(n=gh.instance)||void 0===n||n.notifyOnExistenceFilterMismatch(function(he,Oe,lt){var Jt,En,ri,Pi,ji,Fs;const Ao={localCacheCount:Oe,existenceFilterCount:lt.count},to=lt.unchangedNames;return to&&(Ao.bloomFilter={applied:0===he,hashCount:null!==(Jt=to?.hashCount)&&void 0!==Jt?Jt:0,bitmapLength:null!==(Pi=null===(ri=null===(En=to?.bits)||void 0===En?void 0:En.bitmap)||void 0===ri?void 0:ri.length)&&void 0!==Pi?Pi:0,padding:null!==(Fs=null===(ji=to?.bits)||void 0===ji?void 0:ji.padding)&&void 0!==Fs?Fs:0}),Ao}(ie,B,e.Vt))}}}}re(e,n){const{unchangedNames:o,count:u}=e.Vt;if(!o||!o.bits)return 1;const{bits:{bitmap:p="",padding:v=0},hashCount:B=0}=o;let ie,he;try{ie=lc(p).toUint8Array()}catch(Oe){if(Oe instanceof cc)return qo("Decoding the base64 bloom filter in existence filter failed ("+Oe.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw Oe}try{he=new _e(ie,v,B)}catch(Oe){return qo(Oe instanceof Ne?"BloomFilter error: ":"Applying bloom filter failed: ",Oe),1}return 0===he.It?1:u!==n-this.oe(e.targetId,he)?2:0}oe(e,n){const o=this.Gt.getRemoteKeysForTarget(e);let u=0;return o.forEach(p=>{const v=this.Gt.ue(),B=`projects/${v.projectId}/databases/${v.database}/documents/${p.path.canonicalString()}`;n.vt(B)||(this.Yt(e,p,null),u++)}),u}ce(e){const n=new Map;this.Qt.forEach((p,v)=>{const B=this.se(v);if(B){if(p.current&&ou(B.target)){const ie=new wn(B.target.path);null!==this.jt.get(ie)||this.ae(v,ie)||this.Yt(v,ie,de.newNoDocument(ie,e))}p.Mt&&(n.set(v,p.Ot()),p.Ft())}});let o=ci();this.zt.forEach((p,v)=>{let B=!0;v.forEachWhile(ie=>{const he=this.se(ie);return!he||"TargetPurposeLimboResolution"===he.purpose||(B=!1,!1)}),B&&(o=o.add(p))}),this.jt.forEach((p,v)=>v.setReadTime(e));const u=new Ot(e,n,this.Wt,this.jt,o);return this.jt=oc(),this.zt=Rc(),this.Wt=new Tr(V),u}Jt(e,n){if(!this.te(e))return;const o=this.ae(e,n.key)?2:0;this.Zt(e).Bt(n.key,o),this.jt=this.jt.insert(n.key,n),this.zt=this.zt.insert(n.key,this.he(n.key).add(e))}Yt(e,n,o){if(!this.te(e))return;const u=this.Zt(e);this.ae(e,n)?u.Bt(n,1):u.Lt(n),this.zt=this.zt.insert(n,this.he(n).delete(e)),o&&(this.jt=this.jt.insert(n,o))}removeTarget(e){this.Qt.delete(e)}ie(e){const n=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let n=this.Qt.get(e);return n||(n=new Vr,this.Qt.set(e,n)),n}he(e){let n=this.zt.get(e);return n||(n=new Xr(V),this.zt=this.zt.insert(e,n)),n}te(e){const n=null!==this.se(e);return n||On("WatchChangeAggregator","Detected inactive target",e),n}se(e){const n=this.Qt.get(e);return n&&n.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new Vr),this.Gt.getRemoteKeysForTarget(e).forEach(n=>{this.Yt(e,n,null)})}ae(e,n){return this.Gt.getRemoteKeysForTarget(e).has(n)}}function Rc(){return new Tr(wn.comparator)}function bl(){return new Tr(wn.comparator)}const $l={asc:"ASCENDING",desc:"DESCENDING"},Dd={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},zl={and:"AND",or:"OR"};class Gu{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function du(r,e){return r.useProto3Json||Er(e)?e:{value:e}}function al(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function hu(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function _h(r,e){return al(r,e.toTimestamp())}function Ma(r){return Ti(!!r),zt.fromTimestamp(function(e){const n=tc(e);return new Pt(n.seconds,n.nanos)}(r))}function yh(r,e){return(n=r,new oi(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}function Td(r){const e=oi.fromString(r);return Ti(gf(e)),e}function Wu(r,e){return yh(r.databaseId,e.path)}function El(r,e){const n=Td(e);if(n.get(1)!==r.databaseId.projectId)throw new te(Wt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new te(Wt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new wn(pf(n))}function ff(r,e){return yh(r.databaseId,e)}function Ku(r){return new oi(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function pf(r){return Ti(r.length>4&&"documents"===r.get(4)),r.popFirst(5)}function Eg(r,e,n){return{name:Wu(r,e),fields:n.value.mapValue.fields}}function Dg(r,e){return{documents:[ff(r,e.path)]}}function Tg(r,e){const n={structuredQuery:{}},o=e.path;null!==e.collectionGroup?(n.parent=ff(r,o),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=ff(r,o.popLast()),n.structuredQuery.from=[{collectionId:o.lastSegment()}]);const u=function(ie){if(0!==ie.length)return xd(Ei.create(ie,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const p=function(ie){if(0!==ie.length)return ie.map(he=>{return{field:Gl((Oe=he).field),direction:xg(Oe.dir)};var Oe})}(e.orderBy);p&&(n.structuredQuery.orderBy=p);const v=du(r,e.limit);var B,ie;return null!==v&&(n.structuredQuery.limit=v),e.startAt&&(n.structuredQuery.startAt={before:(B=e.startAt).inclusive,values:B.position}),e.endAt&&(n.structuredQuery.endAt={before:!(ie=e.endAt).inclusive,values:ie.position}),n}function bh(r){let e=function vh(r){const e=Td(r);return 4===e.length?oi.emptyPath():pf(e)}(r.parent);const n=r.structuredQuery,o=n.from?n.from.length:0;let u=null;if(o>0){Ti(1===o);const Oe=n.from[0];Oe.allDescendants?u=Oe.collectionId:e=e.child(Oe.collectionId)}let p=[];n.where&&(p=function(Oe){const lt=Ap(Oe);return lt instanceof Ei&&Aa(lt)?lt.getFilters():[lt]}(n.where));let v=[];n.orderBy&&(v=n.orderBy.map(Oe=>{return new hn(Wl((lt=Oe).field),function(Jt){switch(Jt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(lt.direction));var lt}));let B=null;n.limit&&(B=function(Oe){let lt;return lt="object"==typeof Oe?Oe.value:Oe,Er(lt)?null:lt}(n.limit));let ie=null;var Oe;n.startAt&&(ie=new $e((Oe=n.startAt).values||[],!!Oe.before));let he=null;return n.endAt&&(he=function(Oe){return new $e(Oe.values||[],!Oe.before)}(n.endAt)),function cu(r,e,n,o,u,p,v,B){return new rc(r,e,n,o,u,p,v,B)}(e,u,v,p,B,"F",ie,he)}function Ap(r){return void 0!==r.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=Wl(e.unaryFilter.field);return Kn.create(n,"==",{doubleValue:NaN});case"IS_NULL":const o=Wl(e.unaryFilter.field);return Kn.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Wl(e.unaryFilter.field);return Kn.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const p=Wl(e.unaryFilter.field);return Kn.create(p,"!=",{nullValue:"NULL_VALUE"});default:return Wn()}}(r):void 0!==r.fieldFilter?Kn.create(Wl((e=r).fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Wn()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==r.compositeFilter?function(e){return Ei.create(e.compositeFilter.filters.map(n=>Ap(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return Wn()}}(e.compositeFilter.op))}(r):Wn();var e}function xg(r){return $l[r]}function Ag(r){return Dd[r]}function Sp(r){return zl[r]}function Gl(r){return{fieldPath:r.canonicalString()}}function Wl(r){return tr.fromServerFormat(r.fieldPath)}function xd(r){return r instanceof Kn?function(e){if("=="===e.op){if(Nu(e.value))return{unaryFilter:{field:Gl(e.field),op:"IS_NAN"}};if(na(e.value))return{unaryFilter:{field:Gl(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Nu(e.value))return{unaryFilter:{field:Gl(e.field),op:"IS_NOT_NAN"}};if(na(e.value))return{unaryFilter:{field:Gl(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Gl(e.field),op:Ag(e.op),value:e.value}}}(r):r instanceof Ei?function(e){const n=e.getFilters().map(o=>xd(o));return 1===n.length?n[0]:{compositeFilter:{op:Sp(e.op),filters:n}}}(r):Wn()}function Sg(r){const e=[];return r.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function gf(r){return r.length>=4&&"projects"===r.get(0)&&"databases"===r.get(2)}class Qc{constructor(e,n,o,u,p=zt.min(),v=zt.min(),B=zo.EMPTY_BYTE_STRING,ie=null){this.target=e,this.targetId=n,this.purpose=o,this.sequenceNumber=u,this.snapshotVersion=p,this.lastLimboFreeSnapshotVersion=v,this.resumeToken=B,this.expectedCount=ie}withSequenceNumber(e){return new Qc(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Qc(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Qc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Qc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Mp{constructor(e){this.fe=e}}function yf(r){const e=bh({parent:r.parent,structuredQuery:r.structuredQuery});return"LAST"===r.limitType?Bl(e,e.limit,"L"):e}class Zu{constructor(){}_e(e,n){this.me(e,n),n.ge()}me(e,n){if("nullValue"in e)this.ye(n,5);else if("booleanValue"in e)this.ye(n,10),n.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(n,15),n.pe(po(e.integerValue));else if("doubleValue"in e){const o=po(e.doubleValue);isNaN(o)?this.ye(n,13):(this.ye(n,15),Gs(o)?n.pe(0):n.pe(o))}else if("timestampValue"in e){const o=e.timestampValue;this.ye(n,20),"string"==typeof o?n.Ie(o):(n.Ie(`${o.seconds||""}`),n.pe(o.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,n),this.Ee(n);else if("bytesValue"in e)this.ye(n,30),n.Ae(lc(e.bytesValue)),this.Ee(n);else if("referenceValue"in e)this.ve(e.referenceValue,n);else if("geoPointValue"in e){const o=e.geoPointValue;this.ye(n,45),n.pe(o.latitude||0),n.pe(o.longitude||0)}else"mapValue"in e?kl(e)?this.ye(n,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,n),this.Ee(n)):"arrayValue"in e?(this.Pe(e.arrayValue,n),this.Ee(n)):Wn()}Te(e,n){this.ye(n,25),this.be(e,n)}be(e,n){n.Ie(e)}Re(e,n){const o=e.fields||{};this.ye(n,55);for(const u of Object.keys(o))this.Te(u,n),this.me(o[u],n)}Pe(e,n){const o=e.values||[];this.ye(n,50);for(const u of o)this.me(u,n)}ve(e,n){this.ye(n,37),wn.fromName(e).path.forEach(o=>{this.ye(n,60),this.be(o,n)})}ye(e,n){e.pe(n)}Ee(e){e.pe(2)}}Zu.Ve=new Zu;class Ry{constructor(){this.rn=new wf}addToCollectionParentIndex(e,n){return this.rn.add(n),Ht.resolve()}getCollectionParents(e,n){return Ht.resolve(this.rn.getEntries(n))}addFieldIndex(e,n){return Ht.resolve()}deleteFieldIndex(e,n){return Ht.resolve()}getDocumentsMatchingTarget(e,n){return Ht.resolve(null)}getIndexType(e,n){return Ht.resolve(0)}getFieldIndexes(e,n){return Ht.resolve([])}getNextCollectionGroupToUpdate(e){return Ht.resolve(null)}getMinOffset(e,n){return Ht.resolve($n.min())}getMinOffsetFromCollectionGroup(e,n){return Ht.resolve($n.min())}updateCollectionGroup(e,n,o){return Ht.resolve()}updateIndexEntries(e,n){return Ht.resolve()}}class wf{constructor(){this.index={}}add(e){const n=e.lastSegment(),o=e.popLast(),u=this.index[n]||new Xr(oi.comparator),p=!u.has(o);return this.index[n]=u.add(o),p}has(e){const n=e.lastSegment(),o=e.popLast(),u=this.index[n];return u&&u.has(o)}getEntries(e){return(this.index[e]||new Xr(oi.comparator)).toArray()}}new Uint8Array(0);class ac{constructor(e,n,o){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=o}static withCacheSize(e){return new ac(e,ac.DEFAULT_COLLECTION_PERCENTILE,ac.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}ac.DEFAULT_COLLECTION_PERCENTILE=10,ac.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ac.DEFAULT=new ac(41943040,ac.DEFAULT_COLLECTION_PERCENTILE,ac.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ac.DISABLED=new ac(-1,0,0);class kd{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new kd(0)}static Mn(){return new kd(-1)}}class $g{constructor(){this.changes=new mc(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,de.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const o=this.changes.get(n);return void 0!==o?Ht.resolve(o):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class q0{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class Uy{constructor(e,n,o,u){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=o,this.indexManager=u}getDocument(e,n){let o=null;return this.documentOverlayCache.getOverlay(e,n).next(u=>(o=u,this.remoteDocumentCache.getEntry(e,n))).next(u=>(null!==o&&Hl(o.mutation,u,Yo.empty(),Pt.now()),u))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(o=>this.getLocalViewOfDocuments(e,o,ci()).next(()=>o))}getLocalViewOfDocuments(e,n,o=ci()){const u=A();return this.populateOverlays(e,u,n).next(()=>this.computeViews(e,n,u,o).next(p=>{let v=se();return p.forEach((B,ie)=>{v=v.insert(B,ie.overlayedDocument)}),v}))}getOverlayedDocuments(e,n){const o=A();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,ci()))}populateOverlays(e,n,o){const u=[];return o.forEach(p=>{n.has(p)||u.push(p)}),this.documentOverlayCache.getOverlays(e,u).next(p=>{p.forEach((v,B)=>{n.set(v,B)})})}computeViews(e,n,o,u){let p=oc();const v=Me(),B=Me();return n.forEach((ie,he)=>{const Oe=o.get(he.key);u.has(he.key)&&(void 0===Oe||Oe.mutation instanceof vl)?p=p.insert(he.key,he):void 0!==Oe?(v.set(he.key,Oe.mutation.getFieldMask()),Hl(Oe.mutation,he,Oe.mutation.getFieldMask(),Pt.now())):v.set(he.key,Yo.empty())}),this.recalculateAndSaveOverlays(e,p).next(ie=>(ie.forEach((he,Oe)=>v.set(he,Oe)),n.forEach((he,Oe)=>{var lt;return B.set(he,new q0(Oe,null!==(lt=v.get(he))&&void 0!==lt?lt:null))}),B))}recalculateAndSaveOverlays(e,n){const o=Me();let u=new Tr((v,B)=>v-B),p=ci();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(v=>{for(const B of v)B.keys().forEach(ie=>{const he=n.get(ie);if(null===he)return;let Oe=o.get(ie)||Yo.empty();Oe=B.applyToLocalView(he,Oe),o.set(ie,Oe);const lt=(u.get(B.batchId)||ci()).add(ie);u=u.insert(B.batchId,lt)})}).next(()=>{const v=[],B=u.getReverseIterator();for(;B.hasNext();){const ie=B.getNext(),he=ie.key,Oe=ie.value,lt=Q();Oe.forEach(Jt=>{if(!p.has(Jt)){const En=cf(n.get(Jt),o.get(Jt));null!==En&&lt.set(Jt,En),p=p.add(Jt)}}),v.push(this.documentOverlayCache.saveOverlays(e,he,lt))}return Ht.waitFor(v)}).next(()=>o)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(o=>this.recalculateAndSaveOverlays(e,o))}getDocumentsMatchingQuery(e,n,o){return wn.isDocumentKey((u=n).path)&&null===u.collectionGroup&&0===u.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):Vl(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,o):this.getDocumentsMatchingCollectionQuery(e,n,o);var u}getNextDocuments(e,n,o,u){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,o,u).next(p=>{const v=u-p.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,o.largestBatchId,u-p.size):Ht.resolve(A());let B=-1,ie=p;return v.next(he=>Ht.forEach(he,(Oe,lt)=>(B<lt.largestBatchId&&(B=lt.largestBatchId),p.get(Oe)?Ht.resolve():this.remoteDocumentCache.getEntry(e,Oe).next(Jt=>{ie=ie.insert(Oe,Jt)}))).next(()=>this.populateOverlays(e,he,p)).next(()=>this.computeViews(e,ie,he,ci())).next(Oe=>({batchId:B,changes:oe(Oe)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new wn(n)).next(o=>{let u=se();return o.isFoundDocument()&&(u=u.insert(o.key,o)),u})}getDocumentsMatchingCollectionGroupQuery(e,n,o){const u=n.collectionGroup;let p=se();return this.indexManager.getCollectionParents(e,u).next(v=>Ht.forEach(v,B=>{const ie=(he=n,Oe=B.child(u),new rc(Oe,null,he.explicitOrderBy.slice(),he.filters.slice(),he.limit,he.limitType,he.startAt,he.endAt));var he,Oe;return this.getDocumentsMatchingCollectionQuery(e,ie,o).next(he=>{he.forEach((Oe,lt)=>{p=p.insert(Oe,lt)})})}).next(()=>p))}getDocumentsMatchingCollectionQuery(e,n,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,o.largestBatchId).next(p=>(u=p,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,o,u))).next(p=>{u.forEach((B,ie)=>{const he=ie.getKey();null===p.get(he)&&(p=p.insert(he,de.newInvalidDocument(he)))});let v=se();return p.forEach((B,ie)=>{const he=u.get(B);void 0!==he&&Hl(he.mutation,ie,Yo.empty(),Pt.now()),lu(n,ie)&&(v=v.insert(B,ie))}),v})}}class Th{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,n){return Ht.resolve(this.cs.get(n))}saveBundleMetadata(e,n){var o;return this.cs.set(n.id,{id:(o=n).id,version:o.version,createTime:Ma(o.createTime)}),Ht.resolve()}getNamedQuery(e,n){return Ht.resolve(this.hs.get(n))}saveNamedQuery(e,n){return this.hs.set(n.name,{name:(o=n).name,query:yf(o.bundledQuery),readTime:Ma(o.readTime)}),Ht.resolve();var o}}class xh{constructor(){this.overlays=new Tr(wn.comparator),this.ls=new Map}getOverlay(e,n){return Ht.resolve(this.overlays.get(n))}getOverlays(e,n){const o=A();return Ht.forEach(n,u=>this.getOverlay(e,u).next(p=>{null!==p&&o.set(u,p)})).next(()=>o)}saveOverlays(e,n,o){return o.forEach((u,p)=>{this.we(e,n,p)}),Ht.resolve()}removeOverlaysForBatchId(e,n,o){const u=this.ls.get(o);return void 0!==u&&(u.forEach(p=>this.overlays=this.overlays.remove(p)),this.ls.delete(o)),Ht.resolve()}getOverlaysForCollection(e,n,o){const u=A(),p=n.length+1,v=new wn(n.child("")),B=this.overlays.getIteratorFrom(v);for(;B.hasNext();){const ie=B.getNext().value,he=ie.getKey();if(!n.isPrefixOf(he.path))break;he.path.length===p&&ie.largestBatchId>o&&u.set(ie.getKey(),ie)}return Ht.resolve(u)}getOverlaysForCollectionGroup(e,n,o,u){let p=new Tr((he,Oe)=>he-Oe);const v=this.overlays.getIterator();for(;v.hasNext();){const he=v.getNext().value;if(he.getKey().getCollectionGroup()===n&&he.largestBatchId>o){let Oe=p.get(he.largestBatchId);null===Oe&&(Oe=A(),p=p.insert(he.largestBatchId,Oe)),Oe.set(he.getKey(),he)}}const B=A(),ie=p.getIterator();for(;ie.hasNext()&&(ie.getNext().value.forEach((he,Oe)=>B.set(he,Oe)),!(B.size()>=u)););return Ht.resolve(B)}we(e,n,o){const u=this.overlays.get(o.key);if(null!==u){const v=this.ls.get(u.largestBatchId).delete(o.key);this.ls.set(u.largestBatchId,v)}this.overlays=this.overlays.insert(o.key,new df(n,o));let p=this.ls.get(n);void 0===p&&(p=ci(),this.ls.set(n,p)),this.ls.set(n,p.add(o.key))}}class Df{constructor(){this.fs=new Xr(Wa.ds),this.ws=new Xr(Wa._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,n){const o=new Wa(e,n);this.fs=this.fs.add(o),this.ws=this.ws.add(o)}gs(e,n){e.forEach(o=>this.addReference(o,n))}removeReference(e,n){this.ys(new Wa(e,n))}ps(e,n){e.forEach(o=>this.removeReference(o,n))}Is(e){const n=new wn(new oi([])),o=new Wa(n,e),u=new Wa(n,e+1),p=[];return this.ws.forEachInRange([o,u],v=>{this.ys(v),p.push(v.key)}),p}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const n=new wn(new oi([])),o=new Wa(n,e),u=new Wa(n,e+1);let p=ci();return this.ws.forEachInRange([o,u],v=>{p=p.add(v.key)}),p}containsKey(e){const n=new Wa(e,0),o=this.fs.firstAfterOrEqual(n);return null!==o&&e.isEqual(o.key)}}class Wa{constructor(e,n){this.key=e,this.As=n}static ds(e,n){return wn.comparator(e.key,n.key)||V(e.As,n.As)}static _s(e,n){return V(e.As,n.As)||wn.comparator(e.key,n.key)}}class Hp{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new Xr(Wa.ds)}checkEmpty(e){return Ht.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,o,u){const p=this.vs;this.vs++;const v=new ph(p,n,o,u);this.mutationQueue.push(v);for(const B of u)this.Rs=this.Rs.add(new Wa(B.key,p)),this.indexManager.addToCollectionParentIndex(e,B.key.path.popLast());return Ht.resolve(v)}lookupMutationBatch(e,n){return Ht.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(e,n){const u=this.bs(n+1),p=u<0?0:u;return Ht.resolve(this.mutationQueue.length>p?this.mutationQueue[p]:null)}getHighestUnacknowledgedBatchId(){return Ht.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return Ht.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const o=new Wa(n,0),u=new Wa(n,Number.POSITIVE_INFINITY),p=[];return this.Rs.forEachInRange([o,u],v=>{const B=this.Ps(v.As);p.push(B)}),Ht.resolve(p)}getAllMutationBatchesAffectingDocumentKeys(e,n){let o=new Xr(V);return n.forEach(u=>{const p=new Wa(u,0),v=new Wa(u,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([p,v],B=>{o=o.add(B.As)})}),Ht.resolve(this.Vs(o))}getAllMutationBatchesAffectingQuery(e,n){const o=n.path,u=o.length+1;let p=o;wn.isDocumentKey(p)||(p=p.child(""));const v=new Wa(new wn(p),0);let B=new Xr(V);return this.Rs.forEachWhile(ie=>{const he=ie.key.path;return!!o.isPrefixOf(he)&&(he.length===u&&(B=B.add(ie.As)),!0)},v),Ht.resolve(this.Vs(B))}Vs(e){const n=[];return e.forEach(o=>{const u=this.Ps(o);null!==u&&n.push(u)}),n}removeMutationBatch(e,n){Ti(0===this.Ss(n.batchId,"removed")),this.mutationQueue.shift();let o=this.Rs;return Ht.forEach(n.mutations,u=>{const p=new Wa(u.key,n.batchId);return o=o.delete(p),this.referenceDelegate.markPotentiallyOrphaned(e,u.key)}).next(()=>{this.Rs=o})}Cn(e){}containsKey(e,n){const o=new Wa(n,0),u=this.Rs.firstAfterOrEqual(o);return Ht.resolve(n.isEqual(u&&u.key))}performConsistencyCheck(e){return Ht.resolve()}Ss(e,n){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const n=this.bs(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class $p{constructor(e){this.Ds=e,this.docs=new Tr(wn.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const o=n.key,u=this.docs.get(o),p=u?u.size:0,v=this.Ds(n);return this.docs=this.docs.insert(o,{document:n.mutableCopy(),size:v}),this.size+=v-p,this.indexManager.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const o=this.docs.get(n);return Ht.resolve(o?o.document.mutableCopy():de.newInvalidDocument(n))}getEntries(e,n){let o=oc();return n.forEach(u=>{const p=this.docs.get(u);o=o.insert(u,p?p.document.mutableCopy():de.newInvalidDocument(u))}),Ht.resolve(o)}getDocumentsMatchingQuery(e,n,o,u){let p=oc();const v=n.path,B=new wn(v.child("")),ie=this.docs.getIteratorFrom(B);for(;ie.hasNext();){const{key:he,value:{document:Oe}}=ie.getNext();if(!v.isPrefixOf(he.path))break;he.path.length>v.length+1||mi(ys(Oe),o)<=0||(u.has(Oe.key)||lu(n,Oe))&&(p=p.insert(Oe.key,Oe.mutableCopy()))}return Ht.resolve(p)}getAllFromCollectionGroup(e,n,o,u){Wn()}Cs(e,n){return Ht.forEach(this.docs,o=>n(o))}newChangeBuffer(e){return new jy(this)}getSize(e){return Ht.resolve(this.size)}}class jy extends $g{constructor(e){super(),this.os=e}applyChanges(e){const n=[];return this.changes.forEach((o,u)=>{u.isValidDocument()?n.push(this.os.addEntry(e,u)):this.os.removeEntry(o)}),Ht.waitFor(n)}getFromCache(e,n){return this.os.getEntry(e,n)}getAllFromCache(e,n){return this.os.getEntries(e,n)}}class Kg{constructor(e){this.persistence=e,this.xs=new mc(n=>Ac(n),pc),this.lastRemoteSnapshotVersion=zt.min(),this.highestTargetId=0,this.Ns=0,this.ks=new Df,this.targetCount=0,this.Ms=kd.kn()}forEachTarget(e,n){return this.xs.forEach((o,u)=>n(u)),Ht.resolve()}getLastRemoteSnapshotVersion(e){return Ht.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ht.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),Ht.resolve(this.highestTargetId)}setTargetsMetadata(e,n,o){return o&&(this.lastRemoteSnapshotVersion=o),n>this.Ns&&(this.Ns=n),Ht.resolve()}Fn(e){this.xs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ms=new kd(n),this.highestTargetId=n),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,n){return this.Fn(n),this.targetCount+=1,Ht.resolve()}updateTargetData(e,n){return this.Fn(n),Ht.resolve()}removeTargetData(e,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,Ht.resolve()}removeTargets(e,n,o){let u=0;const p=[];return this.xs.forEach((v,B)=>{B.sequenceNumber<=n&&null===o.get(B.targetId)&&(this.xs.delete(v),p.push(this.removeMatchingKeysForTargetId(e,B.targetId)),u++)}),Ht.waitFor(p).next(()=>u)}getTargetCount(e){return Ht.resolve(this.targetCount)}getTargetData(e,n){const o=this.xs.get(n)||null;return Ht.resolve(o)}addMatchingKeys(e,n,o){return this.ks.gs(n,o),Ht.resolve()}removeMatchingKeys(e,n,o){this.ks.ps(n,o);const u=this.persistence.referenceDelegate,p=[];return u&&n.forEach(v=>{p.push(u.markPotentiallyOrphaned(e,v))}),Ht.waitFor(p)}removeMatchingKeysForTargetId(e,n){return this.ks.Is(n),Ht.resolve()}getMatchingKeysForTargetId(e,n){const o=this.ks.Es(n);return Ht.resolve(o)}containsKey(e,n){return Ht.resolve(this.ks.containsKey(n))}}class Tf{constructor(e,n){this.$s={},this.overlays={},this.Os=new zn(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new Kg(this),this.indexManager=new Ry,this.remoteDocumentCache=new $p(o=>this.referenceDelegate.Ls(o)),this.serializer=new Mp(n),this.qs=new Th(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new xh,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let o=this.$s[e.toKey()];return o||(o=new Hp(n,this.referenceDelegate),this.$s[e.toKey()]=o),o}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,n,o){On("MemoryPersistence","Starting transaction:",e);const u=new xf(this.Os.next());return this.referenceDelegate.Us(),o(u).next(p=>this.referenceDelegate.Ks(u).next(()=>p)).toPromise().then(p=>(u.raiseOnCommittedEvent(),p))}Gs(e,n){return Ht.or(Object.values(this.$s).map(o=>()=>o.containsKey(e,n)))}}class xf extends ns{constructor(e){super(),this.currentSequenceNumber=e}}class zp{constructor(e){this.persistence=e,this.Qs=new Df,this.js=null}static zs(e){return new zp(e)}get Ws(){if(this.js)return this.js;throw Wn()}addReference(e,n,o){return this.Qs.addReference(o,n),this.Ws.delete(o.toString()),Ht.resolve()}removeReference(e,n,o){return this.Qs.removeReference(o,n),this.Ws.add(o.toString()),Ht.resolve()}markPotentiallyOrphaned(e,n){return this.Ws.add(n.toString()),Ht.resolve()}removeTarget(e,n){this.Qs.Is(n.targetId).forEach(u=>this.Ws.add(u.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,n.targetId).next(u=>{u.forEach(p=>this.Ws.add(p.toString()))}).next(()=>o.removeTargetData(e,n))}Us(){this.js=new Set}Ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ht.forEach(this.Ws,o=>{const u=wn.fromPath(o);return this.Hs(e,u).next(p=>{p||n.removeEntry(u,zt.min())})}).next(()=>(this.js=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hs(e,n).next(o=>{o?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(e){return 0}Hs(e,n){return Ht.or([()=>Ht.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gs(e,n)])}}class Fd{constructor(e,n,o,u){this.targetId=e,this.fromCache=n,this.Fi=o,this.Bi=u}static Li(e,n){let o=ci(),u=ci();for(const p of n.docChanges)switch(p.type){case 0:o=o.add(p.doc.key);break;case 1:u=u.add(p.doc.key)}return new Fd(e,n.fromCache,o,u)}}class qg{constructor(){this.qi=!1}initialize(e,n){this.Ui=e,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(e,n,o,u){return this.Ki(e,n).next(p=>p||this.Gi(e,n,u,o)).next(p=>p||this.Qi(e,n))}Ki(e,n){if(Vu(n))return Ht.resolve(null);let o=Za(n);return this.indexManager.getIndexType(e,o).next(u=>0===u?null:(null!==n.limit&&1===u&&(n=Bl(n,null,"F"),o=Za(n)),this.indexManager.getDocumentsMatchingTarget(e,o).next(p=>{const v=ci(...p);return this.Ui.getDocuments(e,v).next(B=>this.indexManager.getMinOffset(e,o).next(ie=>{const he=this.ji(n,B);return this.zi(n,he,v,ie.readTime)?this.Ki(e,Bl(n,null,"F")):this.Wi(e,he,n,ie)}))})))}Gi(e,n,o,u){return Vu(n)||u.isEqual(zt.min())?this.Qi(e,n):this.Ui.getDocuments(e,o).next(p=>{const v=this.ji(n,p);return this.zi(n,v,o,u)?this.Qi(e,n):(ro()<=Pe.$b.DEBUG&&On("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),gl(n)),this.Wi(e,v,n,function dr(r,e){const n=r.toTimestamp().seconds,o=r.toTimestamp().nanoseconds+1,u=zt.fromTimestamp(1e9===o?new Pt(n+1,0):new Pt(n,o));return new $n(u,wn.empty(),e)}(u,-1)))})}ji(e,n){let o=new Xr(dh(e));return n.forEach((u,p)=>{lu(e,p)&&(o=o.add(p))}),o}zi(e,n,o,u){if(null===e.limit)return!1;if(o.size!==n.size)return!0;const p="F"===e.limitType?n.last():n.first();return!!p&&(p.hasPendingWrites||p.version.compareTo(u)>0)}Qi(e,n){return ro()<=Pe.$b.DEBUG&&On("QueryEngine","Using full collection scan to execute query:",gl(n)),this.Ui.getDocumentsMatchingQuery(e,n,$n.min())}Wi(e,n,o,u){return this.Ui.getDocumentsMatchingQuery(e,o,u).next(p=>(n.forEach(v=>{p=p.insert(v.key,v)}),p))}}class Gp{constructor(e,n,o,u){this.persistence=e,this.Hi=n,this.serializer=u,this.Ji=new Tr(V),this.Yi=new mc(p=>Ac(p),pc),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(o)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Uy(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function dl(r,e){return yu.apply(this,arguments)}function yu(){return yu=(0,xe.A)(function*(r,e){const n=Vn(r);return yield n.persistence.runTransaction("Handle user change","readonly",o=>{let u;return n.mutationQueue.getAllMutationBatches(o).next(p=>(u=p,n.tr(e),n.mutationQueue.getAllMutationBatches(o))).next(p=>{const v=[],B=[];let ie=ci();for(const he of u){v.push(he.batchId);for(const Oe of he.mutations)ie=ie.add(Oe.key)}for(const he of p){B.push(he.batchId);for(const Oe of he.mutations)ie=ie.add(Oe.key)}return n.localDocuments.getDocuments(o,ie).next(he=>({er:he,removedBatchIds:v,addedBatchIds:B}))})})}),yu.apply(this,arguments)}function Yg(r){const e=Vn(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Bs.getLastRemoteSnapshotVersion(n))}function Ld(r,e){const n=Vn(r);return n.persistence.runTransaction("Get next mutation batch","readonly",o=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(o,e)))}function Bd(r,e,n){return qp.apply(this,arguments)}function qp(){return qp=(0,xe.A)(function*(r,e,n){const o=Vn(r),u=o.Ji.get(e),p=n?"readwrite":"readwrite-primary";try{n||(yield o.persistence.runTransaction("Release target",p,v=>o.persistence.referenceDelegate.removeTarget(v,u)))}catch(v){if(!S(v))throw v;On("LocalStore",`Failed to update sequence numbers for target ${e}: ${v}`)}o.Ji=o.Ji.remove(e),o.Yi.delete(u.target)}),qp.apply(this,arguments)}function Ud(r,e,n){const o=Vn(r);let u=zt.min(),p=ci();return o.persistence.runTransaction("Execute query","readonly",v=>function(B,ie,he){const Oe=Vn(B),lt=Oe.Yi.get(he);return void 0!==lt?Ht.resolve(Oe.Ji.get(lt)):Oe.Bs.getTargetData(ie,he)}(o,v,Za(e)).next(B=>{if(B)return u=B.lastLimboFreeSnapshotVersion,o.Bs.getMatchingKeysForTargetId(v,B.targetId).next(ie=>{p=ie})}).next(()=>o.Hi.getDocumentsMatchingQuery(v,e,n?u:zt.min(),n?p:ci())).next(B=>(function Qp(r,e,n){let o=r.Xi.get(e)||zt.min();n.forEach((u,p)=>{p.readTime.compareTo(o)>0&&(o=p.readTime)}),r.Xi.set(e,o)}(o,function uu(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}(e),B),{documents:B,ir:p})))}class vu{constructor(){this.activeTargetIds=function wa(){return Go}()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Pf{constructor(){this.Hr=new vu,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,o){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,n,o){this.Jr[e]=n}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new vu,Promise.resolve()}handleUserChange(e,n,o){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class kh{Yr(e){}shutdown(){}}class Rh{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){On("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){On("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Kl=null;function Nh(){return null===Kl?Kl=268435456+Math.round(2147483648*Math.random()):Kl++,"0x"+Kl.toString(16)}const Jp={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class kf{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const Ec="WebChannelConnection";class em extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,n,o,u,p){const v=Nh(),B=this.To(e,n);On("RestConnection",`Sending RPC '${e}' ${v}:`,B,o);const ie={};return this.Eo(ie,u,p),this.Ao(e,B,ie,o).then(he=>(On("RestConnection",`Received RPC '${e}' ${v}: `,he),he),he=>{throw qo("RestConnection",`RPC '${e}' ${v} failed with error: `,he,"url: ",B,"request:",o),he})}vo(e,n,o,u,p,v){return this.Io(e,n,o,u,p)}Eo(e,n,o){e["X-Goog-Api-Client"]="gl-js/ fire/"+$r,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((u,p)=>e[p]=u),o&&o.headers.forEach((u,p)=>e[p]=u)}To(e,n){return`${this.mo}/v1/${n}:${Jp[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,n,o,u){const p=Nh();return new Promise((v,B)=>{const ie=new _s;ie.setWithCredentials(!0),ie.listenOnce(kn.COMPLETE,()=>{try{switch(ie.getLastErrorCode()){case vn.NO_ERROR:const Oe=ie.getResponseJson();On(Ec,`XHR for RPC '${e}' ${p} received:`,JSON.stringify(Oe)),v(Oe);break;case vn.TIMEOUT:On(Ec,`RPC '${e}' ${p} timed out`),B(new te(Wt.DEADLINE_EXCEEDED,"Request time out"));break;case vn.HTTP_ERROR:const lt=ie.getStatus();if(On(Ec,`RPC '${e}' ${p} failed with status:`,lt,"response text:",ie.getResponseText()),lt>0){let Jt=ie.getResponseJson();Array.isArray(Jt)&&(Jt=Jt[0]);const En=Jt?.error;if(En&&En.status&&En.message){const ri=function(Pi){const ji=Pi.toLowerCase().replace(/_/g,"-");return Object.values(Wt).indexOf(ji)>=0?ji:Wt.UNKNOWN}(En.status);B(new te(ri,En.message))}else B(new te(Wt.UNKNOWN,"Server responded with status "+ie.getStatus()))}else B(new te(Wt.UNAVAILABLE,"Connection failed."));break;default:Wn()}}finally{On(Ec,`RPC '${e}' ${p} completed.`)}});const he=JSON.stringify(u);On(Ec,`RPC '${e}' ${p} sending request:`,u),ie.send(n,"POST",he,o,15)})}Ro(e,n,o){const u=Nh(),p=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],v=kt(),B=sn(),ie={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},he=this.longPollingOptions.timeoutSeconds;void 0!==he&&(ie.longPollingTimeout=Math.round(1e3*he)),this.useFetchStreams&&(ie.xmlHttpFactory=new Ki({})),this.Eo(ie.initMessageHeaders,n,o),ie.encodeInitMessageHeaders=!0;const Oe=p.join("");On(Ec,`Creating RPC '${e}' stream ${u}: ${Oe}`,ie);const lt=v.createWebChannel(Oe,ie);let Jt=!1,En=!1;const ri=new kf({ro:ji=>{En?On(Ec,`Not sending because RPC '${e}' stream ${u} is closed:`,ji):(Jt||(On(Ec,`Opening RPC '${e}' stream ${u} transport.`),lt.open(),Jt=!0),On(Ec,`RPC '${e}' stream ${u} sending:`,ji),lt.send(ji))},oo:()=>lt.close()}),Pi=(ji,Fs,Ao)=>{ji.listen(Fs,to=>{try{Ao(to)}catch(qa){setTimeout(()=>{throw qa},0)}})};return Pi(lt,Os.EventType.OPEN,()=>{En||On(Ec,`RPC '${e}' stream ${u} transport opened.`)}),Pi(lt,Os.EventType.CLOSE,()=>{En||(En=!0,On(Ec,`RPC '${e}' stream ${u} transport closed`),ri.wo())}),Pi(lt,Os.EventType.ERROR,ji=>{En||(En=!0,qo(Ec,`RPC '${e}' stream ${u} transport errored:`,ji),ri.wo(new te(Wt.UNAVAILABLE,"The operation could not be completed")))}),Pi(lt,Os.EventType.MESSAGE,ji=>{var Fs;if(!En){const Ao=ji.data[0];Ti(!!Ao);const qa=Ao.error||(null===(Fs=Ao[0])||void 0===Fs?void 0:Fs.error);if(qa){On(Ec,`RPC '${e}' stream ${u} received error:`,qa);const Ga=qa.status;let Ca=function(_d){const fy=Va[_d];if(void 0!==fy)return zu(fy)}(Ga),Oc=qa.message;void 0===Ca&&(Ca=Wt.INTERNAL,Oc="Unknown error status: "+Ga+" with message "+qa.message),En=!0,ri.wo(new te(Ca,Oc)),lt.close()}else On(Ec,`RPC '${e}' stream ${u} received:`,Ao),ri._o(Ao)}}),Pi(B,gr.STAT_EVENT,ji=>{ji.stat===Dr.PROXY?On(Ec,`RPC '${e}' stream ${u} detected buffering proxy`):ji.stat===Dr.NOPROXY&&On(Ec,`RPC '${e}' stream ${u} detected no buffering proxy`)}),setTimeout(()=>{ri.fo()},0),ri}}function Rf(){return typeof document<"u"?document:null}function $d(r){return new Gu(r,!0)}class tm{constructor(e,n,o=1e3,u=1.5,p=6e4){this.ii=e,this.timerId=n,this.Po=o,this.bo=u,this.Vo=p,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),o=Math.max(0,Date.now()-this.Co),u=Math.max(0,n-o);u>0&&On("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${o} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,u,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class e_{constructor(e,n,o,u,p,v,B,ie){this.ii=e,this.$o=o,this.Oo=u,this.connection=p,this.authCredentialsProvider=v,this.appCheckCredentialsProvider=B,this.listener=ie,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new tm(e,n)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,xe.A)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,xe.A)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,n){var o=this;return(0,xe.A)(function*(){o.Ho(),o.Jo(),o.qo.cancel(),o.Fo++,4!==e?o.qo.reset():n&&n.code===Wt.RESOURCE_EXHAUSTED?(Ui(n.toString()),Ui("Using maximum backoff delay to prevent overloading the backend."),o.qo.xo()):n&&n.code===Wt.UNAUTHENTICATED&&3!==o.state&&(o.authCredentialsProvider.invalidateToken(),o.appCheckCredentialsProvider.invalidateToken()),null!==o.stream&&(o.Yo(),o.stream.close(),o.stream=null),o.state=e,yield o.listener.ao(n)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,u])=>{this.Fo===n&&this.Zo(o,u)},o=>{e(()=>{const u=new te(Wt.UNKNOWN,"Fetching auth token failed: "+o.message);return this.tu(u)})})}Zo(e,n){const o=this.Xo(this.Fo);this.stream=this.eu(e,n),this.stream.uo(()=>{o(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(u=>{o(()=>this.tu(u))}),this.stream.onMessage(u=>{o(()=>this.onMessage(u))})}Go(){var e=this;this.state=5,this.qo.No((0,xe.A)(function*(){e.state=0,e.start()}))}tu(e){return On("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.Fo===e?n():(On("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class nm extends e_{constructor(e,n,o,u,p,v){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,o,u,v),this.serializer=p}eu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.qo.reset();const n=function Cg(r,e){let n;if("targetChange"in e){const o="NO_CHANGE"===(ie=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===ie?1:"REMOVE"===ie?2:"CURRENT"===ie?3:"RESET"===ie?4:Wn(),u=e.targetChange.targetIds||[],p=function(ie,he){return ie.useProto3Json?(Ti(void 0===he||"string"==typeof he),zo.fromBase64String(he||"")):(Ti(void 0===he||he instanceof Uint8Array),zo.fromUint8Array(he||new Uint8Array))}(r,e.targetChange.resumeToken),v=e.targetChange.cause,B=v&&function(ie){const he=void 0===ie.code?Wt.UNKNOWN:zu(ie.code);return new te(he,ie.message||"")}(v);n=new zr(o,u,p,B||null)}else if("documentChange"in e){const o=e.documentChange,u=El(r,o.document.name),p=Ma(o.document.updateTime),v=o.document.createTime?Ma(o.document.createTime):zt.min(),B=new F({mapValue:{fields:o.document.fields}}),ie=de.newFoundDocument(u,p,v,B);n=new qn(o.targetIds||[],o.removedTargetIds||[],ie.key,ie)}else if("documentDelete"in e){const o=e.documentDelete,u=El(r,o.document),p=o.readTime?Ma(o.readTime):zt.min(),v=de.newNoDocument(u,p);n=new qn([],o.removedTargetIds||[],v.key,v)}else if("documentRemove"in e){const o=e.documentRemove,u=El(r,o.document);n=new qn([],o.removedTargetIds||[],u,null)}else{if(!("filter"in e))return Wn();{const o=e.filter,{count:u=0,unchangedNames:p}=o,v=new hf(u,p);n=new Oi(o.targetId,v)}}var ie;return n}(this.serializer,e),o=function(u){if(!("targetChange"in u))return zt.min();const p=u.targetChange;return p.targetIds&&p.targetIds.length?zt.min():p.readTime?Ma(p.readTime):zt.min()}(e);return this.listener.nu(n,o)}su(e){const n={};n.database=Ku(this.serializer),n.addTarget=function(u,p){let v;const B=p.target;if(v=ou(B)?{documents:Dg(u,B)}:{query:Tg(u,B)},v.targetId=p.targetId,p.resumeToken.approximateByteSize()>0){v.resumeToken=hu(u,p.resumeToken);const ie=du(u,p.expectedCount);null!==ie&&(v.expectedCount=ie)}else if(p.snapshotVersion.compareTo(zt.min())>0){v.readTime=al(u,p.snapshotVersion.toTimestamp());const ie=du(u,p.expectedCount);null!==ie&&(v.expectedCount=ie)}return v}(this.serializer,e);const o=function Sy(r,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Wn()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);o&&(n.labels=o),this.Wo(n)}iu(e){const n={};n.database=Ku(this.serializer),n.removeTarget=e,this.Wo(n)}}class t_ extends e_{constructor(e,n,o,u,p,v){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,o,u,v),this.serializer=p,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,n){return this.connection.Ro("Write",e,n)}onMessage(e){if(Ti(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const n=function Ig(r,e){return r&&r.length>0?(Ti(void 0!==e),r.map(n=>function(o,u){let p=Ma(o.updateTime?o.updateTime:u);return p.isEqual(zt.min())&&(p=Ma(u)),new Ip(p,o.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),o=Ma(e.commitTime);return this.listener.cu(o,n)}return Ti(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Ku(this.serializer),this.Wo(e)}uu(e){const n={streamToken:this.lastStreamToken,writes:e.map(o=>function cl(r,e){let n;if(e instanceof Hu)n={update:Eg(r,e.key,e.value)};else if(e instanceof $u)n={delete:Wu(r,e.key)};else if(e instanceof vl)n={update:Eg(r,e.key,e.data),updateMask:Sg(e.fieldMask)};else{if(!(e instanceof uf))return Wn();n={verify:Wu(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(o=>function(u,p){const v=p.transform;if(v instanceof Mc)return{fieldPath:p.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(v instanceof _l)return{fieldPath:p.field.canonicalString(),appendMissingElements:{values:v.elements}};if(v instanceof ju)return{fieldPath:p.field.canonicalString(),removeAllFromArray:{values:v.elements}};if(v instanceof bd)return{fieldPath:p.field.canonicalString(),increment:v.gt};throw Wn()}(0,o))),e.precondition.isNone||(n.currentDocument=void 0!==(u=e.precondition).updateTime?{updateTime:_h(r,u.updateTime)}:void 0!==u.exists?{exists:u.exists}:Wn()),n;var u}(this.serializer,o))};this.Wo(n)}}class Wy extends class{}{constructor(e,n,o,u){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=o,this.serializer=u,this.lu=!1}fu(){if(this.lu)throw new te(Wt.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,n,o){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,p])=>this.connection.Io(e,n,o,u,p)).catch(u=>{throw"FirebaseError"===u.name?(u.code===Wt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new te(Wt.UNKNOWN,u.toString())})}vo(e,n,o,u){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([p,v])=>this.connection.vo(e,n,o,p,v,u)).catch(p=>{throw"FirebaseError"===p.name?(p.code===Wt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),p):new te(Wt.UNKNOWN,p.toString())})}terminate(){this.lu=!0}}class qy{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Ui(n),this.mu=!1):On("OnlineStateTracker",n)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class Nf{constructor(e,n,o,u,p){var v=this;this.localStore=e,this.datastore=n,this.asyncQueue=o,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=p,this.Pu.Yr(B=>{o.enqueueAndForget((0,xe.A)(function*(){var ie;bu(v)&&(On("RemoteStore","Restarting streams for network reachability change."),yield(ie=(0,xe.A)(function*(he){const Oe=Vn(he);Oe.vu.add(4),yield id(Oe),Oe.bu.set("Unknown"),Oe.vu.delete(4),yield nd(Oe)}),function(he){return ie.apply(this,arguments)})(v))}))}),this.bu=new qy(o,u)}}function nd(r){return im.apply(this,arguments)}function im(){return im=(0,xe.A)(function*(r){if(bu(r))for(const e of r.Ru)yield e(!0)}),im.apply(this,arguments)}function id(r){return Fh.apply(this,arguments)}function Fh(){return Fh=(0,xe.A)(function*(r){for(const e of r.Ru)yield e(!1)}),Fh.apply(this,arguments)}function rd(r,e){const n=Vn(r);n.Au.has(e.targetId)||(n.Au.set(e.targetId,e),r_(n)?Lf(n):wu(n).Ko()&&Ff(n,e))}function Lh(r,e){const n=Vn(r),o=wu(n);n.Au.delete(e),o.Ko()&&i_(n,e),0===n.Au.size&&(o.Ko()?o.jo():bu(n)&&n.bu.set("Unknown"))}function Ff(r,e){if(r.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(zt.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}wu(r).su(e)}function i_(r,e){r.Vu.qt(e),wu(r).iu(e)}function Lf(r){r.Vu=new Qo({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),le:e=>r.Au.get(e)||null,ue:()=>r.datastore.serializer.databaseId}),wu(r).start(),r.bu.gu()}function r_(r){return bu(r)&&!wu(r).Uo()&&r.Au.size>0}function bu(r){return 0===Vn(r).vu.size}function Vh(r){r.Vu=void 0}function Yy(r){return Eu.apply(this,arguments)}function Eu(){return Eu=(0,xe.A)(function*(r){r.Au.forEach((e,n)=>{Ff(r,e)})}),Eu.apply(this,arguments)}function Bh(r,e){return rm.apply(this,arguments)}function rm(){return rm=(0,xe.A)(function*(r,e){Vh(r),r_(r)?(r.bu.Iu(e),Lf(r)):r.bu.set("Unknown")}),rm.apply(this,arguments)}function s_(r,e,n){return sm.apply(this,arguments)}function sm(){return sm=(0,xe.A)(function*(r,e,n){if(r.bu.set("Online"),e instanceof zr&&2===e.state&&e.cause)try{yield(o=(0,xe.A)(function*(u,p){const v=p.cause;for(const B of p.targetIds)u.Au.has(B)&&(yield u.remoteSyncer.rejectListen(B,v),u.Au.delete(B),u.Vu.removeTarget(B))}),function(u,p){return o.apply(this,arguments)})(r,e)}catch(o){On("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),o),yield Vf(r,o)}else if(e instanceof qn?r.Vu.Ht(e):e instanceof Oi?r.Vu.ne(e):r.Vu.Xt(e),!n.isEqual(zt.min()))try{const o=yield Yg(r.localStore);n.compareTo(o)>=0&&(yield function(u,p){const v=u.Vu.ce(p);return v.targetChanges.forEach((B,ie)=>{if(B.resumeToken.approximateByteSize()>0){const he=u.Au.get(ie);he&&u.Au.set(ie,he.withResumeToken(B.resumeToken,p))}}),v.targetMismatches.forEach((B,ie)=>{const he=u.Au.get(B);if(!he)return;u.Au.set(B,he.withResumeToken(zo.EMPTY_BYTE_STRING,he.snapshotVersion)),i_(u,B);const Oe=new Qc(he.target,B,ie,he.sequenceNumber);Ff(u,Oe)}),u.remoteSyncer.applyRemoteEvent(v)}(r,n))}catch(o){On("RemoteStore","Failed to raise snapshot:",o),yield Vf(r,o)}var o}),sm.apply(this,arguments)}function Vf(r,e,n){return om.apply(this,arguments)}function om(){return om=(0,xe.A)(function*(r,e,n){if(!S(e))throw e;r.vu.add(1),yield id(r),r.bu.set("Offline"),n||(n=()=>Yg(r.localStore)),r.asyncQueue.enqueueRetryable((0,xe.A)(function*(){On("RemoteStore","Retrying IndexedDB access"),yield n(),r.vu.delete(1),yield nd(r)}))}),om.apply(this,arguments)}function am(r,e){return e().catch(n=>Vf(r,n,e))}function sd(r){return Uh.apply(this,arguments)}function Uh(){return Uh=(0,xe.A)(function*(r){const e=Vn(r),n=wc(e);let o=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;Y0(e);)try{const u=yield Ld(e.localStore,o);if(null===u){0===e.Eu.length&&n.jo();break}o=u.batchId,cm(e,u)}catch(u){yield Vf(e,u)}lm(e)&&o_(e)}),Uh.apply(this,arguments)}function Y0(r){return bu(r)&&r.Eu.length<10}function cm(r,e){r.Eu.push(e);const n=wc(r);n.Ko()&&n.ou&&n.uu(e.mutations)}function lm(r){return bu(r)&&!wc(r).Uo()&&r.Eu.length>0}function o_(r){wc(r).start()}function Qy(r){return Bf.apply(this,arguments)}function Bf(){return Bf=(0,xe.A)(function*(r){wc(r).hu()}),Bf.apply(this,arguments)}function Xy(r){return Uf.apply(this,arguments)}function Uf(){return Uf=(0,xe.A)(function*(r){const e=wc(r);for(const n of r.Eu)e.uu(n.mutations)}),Uf.apply(this,arguments)}function Zy(r,e,n){return um.apply(this,arguments)}function um(){return um=(0,xe.A)(function*(r,e,n){const o=r.Eu.shift(),u=mh.from(o,e,n);yield am(r,()=>r.remoteSyncer.applySuccessfulWrite(u)),yield sd(r)}),um.apply(this,arguments)}function Q0(r,e){return jf.apply(this,arguments)}function jf(){return jf=(0,xe.A)(function*(r,e){var n;e&&wc(r).ou&&(yield(n=(0,xe.A)(function*(o,u){if(function Ja(r){switch(r){default:return Wn();case Wt.CANCELLED:case Wt.UNKNOWN:case Wt.DEADLINE_EXCEEDED:case Wt.RESOURCE_EXHAUSTED:case Wt.INTERNAL:case Wt.UNAVAILABLE:case Wt.UNAUTHENTICATED:return!1;case Wt.INVALID_ARGUMENT:case Wt.NOT_FOUND:case Wt.ALREADY_EXISTS:case Wt.PERMISSION_DENIED:case Wt.FAILED_PRECONDITION:case Wt.ABORTED:case Wt.OUT_OF_RANGE:case Wt.UNIMPLEMENTED:case Wt.DATA_LOSS:return!0}}(p=u.code)&&p!==Wt.ABORTED){const v=o.Eu.shift();wc(o).Qo(),yield am(o,()=>o.remoteSyncer.rejectFailedWrite(v.batchId,u)),yield sd(o)}var p}),function(o,u){return n.apply(this,arguments)})(r,e)),lm(r)&&o_(r)}),jf.apply(this,arguments)}function dm(r,e){return Lc.apply(this,arguments)}function Lc(){return Lc=(0,xe.A)(function*(r,e){const n=Vn(r);n.asyncQueue.verifyOperationInProgress(),On("RemoteStore","RemoteStore received new credentials");const o=bu(n);n.vu.add(3),yield id(n),o&&n.bu.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.vu.delete(3),yield nd(n)}),Lc.apply(this,arguments)}function a_(){return a_=(0,xe.A)(function*(r,e){const n=Vn(r);e?(n.vu.delete(2),yield nd(n)):e||(n.vu.add(2),yield id(n),n.bu.set("Unknown"))}),a_.apply(this,arguments)}function wu(r){return r.Su||(r.Su=function(e,n,o){const u=Vn(e);return u.fu(),new nm(n,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{uo:Yy.bind(null,r),ao:Bh.bind(null,r),nu:s_.bind(null,r)}),r.Ru.push(function(){var e=(0,xe.A)(function*(n){n?(r.Su.Qo(),r_(r)?Lf(r):r.bu.set("Unknown")):(yield r.Su.stop(),Vh(r))});return function(n){return e.apply(this,arguments)}}())),r.Su}function wc(r){return r.Du||(r.Du=function(e,n,o){const u=Vn(e);return u.fu(),new t_(n,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{uo:Qy.bind(null,r),ao:Q0.bind(null,r),au:Xy.bind(null,r),cu:Zy.bind(null,r)}),r.Ru.push(function(){var e=(0,xe.A)(function*(n){n?(r.Du.Qo(),yield sd(r)):(yield r.Du.stop(),r.Eu.length>0&&(On("RemoteStore",`Stopping write stream with ${r.Eu.length} pending writes`),r.Eu=[]))});return function(n){return e.apply(this,arguments)}}())),r.Du}class zd{constructor(e,n,o,u,p){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=o,this.op=u,this.removalCallback=p,this.deferred=new D,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(v=>{})}static createAndSchedule(e,n,o,u,p){const v=Date.now()+o,B=new zd(e,n,v,u,p);return B.start(o),B}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new te(Wt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Gd(r,e){if(Ui("AsyncQueue",`${e}: ${r}`),S(r))return new te(Wt.UNAVAILABLE,`${e}: ${r}`);throw r}class Wd{constructor(e){this.comparator=e?(n,o)=>e(n,o)||wn.comparator(n.key,o.key):(n,o)=>wn.comparator(n.key,o.key),this.keyedMap=se(),this.sortedSet=new Tr(this.comparator)}static emptySet(e){return new Wd(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,o)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Wd)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),o=e.sortedSet.getIterator();for(;n.hasNext();){const u=n.getNext().key,p=o.getNext().key;if(!u.isEqual(p))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const o=new Wd;return o.comparator=this.comparator,o.keyedMap=e,o.sortedSet=n,o}}class c_{constructor(){this.Cu=new Tr(wn.comparator)}track(e){const n=e.doc.key,o=this.Cu.get(n);o?0!==e.type&&3===o.type?this.Cu=this.Cu.insert(n,e):3===e.type&&1!==o.type?this.Cu=this.Cu.insert(n,{type:o.type,doc:e.doc}):2===e.type&&2===o.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):2===e.type&&0===o.type?this.Cu=this.Cu.insert(n,{type:0,doc:e.doc}):1===e.type&&0===o.type?this.Cu=this.Cu.remove(n):1===e.type&&2===o.type?this.Cu=this.Cu.insert(n,{type:1,doc:o.doc}):0===e.type&&1===o.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):Wn():this.Cu=this.Cu.insert(n,e)}xu(){const e=[];return this.Cu.inorderTraversal((n,o)=>{e.push(o)}),e}}class Cu{constructor(e,n,o,u,p,v,B,ie,he){this.query=e,this.docs=n,this.oldDocs=o,this.docChanges=u,this.mutatedKeys=p,this.fromCache=v,this.syncStateChanged=B,this.excludesMetadataChanges=ie,this.hasCachedResults=he}static fromInitialDocuments(e,n,o,u,p){const v=[];return n.forEach(B=>{v.push({type:0,doc:B})}),new Cu(e,n,Wd.emptySet(n),v,o,u,!0,!1,p)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&sl(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,o=e.docChanges;if(n.length!==o.length)return!1;for(let u=0;u<n.length;u++)if(n[u].type!==o[u].type||!n[u].doc.isEqual(o[u].doc))return!1;return!0}}class Il{constructor(){this.Nu=void 0,this.listeners=[]}}class l_{constructor(){this.queries=new mc(e=>ml(e),sl),this.onlineState="Unknown",this.ku=new Set}}function u_(){return u_=(0,xe.A)(function*(r,e){const n=Vn(r),o=e.query;let u=!1,p=n.queries.get(o);if(p||(u=!0,p=new Il),u)try{p.Nu=yield n.onListen(o)}catch(v){const B=Gd(v,`Initialization of query '${gl(e.query)}' failed`);return void e.onError(B)}n.queries.set(o,p),p.listeners.push(e),e.Mu(n.onlineState),p.Nu&&e.$u(p.Nu)&&mm(n)}),u_.apply(this,arguments)}function fm(){return fm=(0,xe.A)(function*(r,e){const n=Vn(r),o=e.query;let u=!1;const p=n.queries.get(o);if(p){const v=p.listeners.indexOf(e);v>=0&&(p.listeners.splice(v,1),u=0===p.listeners.length)}if(u)return n.queries.delete(o),n.onUnlisten(o)}),fm.apply(this,arguments)}function pm(r,e){const n=Vn(r);let o=!1;for(const u of e){const v=n.queries.get(u.query);if(v){for(const B of v.listeners)B.$u(u)&&(o=!0);v.Nu=u}}o&&mm(n)}function Jy(r,e,n){const o=Vn(r),u=o.queries.get(e);if(u)for(const p of u.listeners)p.onError(n);o.queries.delete(e)}function mm(r){r.ku.forEach(e=>{e.next()})}class jh{constructor(e,n,o){this.query=e,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=o||{}}$u(e){if(!this.options.includeMetadataChanges){const o=[];for(const u of e.docChanges)3!==u.type&&o.push(u);e=new Cu(e.query,e.docs,e.oldDocs,o,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),n=!0):this.qu(e,this.onlineState)&&(this.Uu(e),n=!0),this.Bu=e,n}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let n=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),n=!0),n}qu(e,n){return!e.fromCache||(!this.options.Ku||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=Cu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class ym{constructor(e){this.key=e}}class h_{constructor(e){this.key=e}}class f_{constructor(e,n){this.query=e,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=ci(),this.mutatedKeys=ci(),this.tc=dh(e),this.ec=new Wd(this.tc)}get nc(){return this.Yu}sc(e,n){const o=n?n.ic:new c_,u=n?n.ec:this.ec;let p=n?n.mutatedKeys:this.mutatedKeys,v=u,B=!1;const ie="F"===this.query.limitType&&u.size===this.query.limit?u.last():null,he="L"===this.query.limitType&&u.size===this.query.limit?u.first():null;if(e.inorderTraversal((Oe,lt)=>{const Jt=u.get(Oe),En=lu(this.query,lt)?lt:null,ri=!!Jt&&this.mutatedKeys.has(Jt.key),Pi=!!En&&(En.hasLocalMutations||this.mutatedKeys.has(En.key)&&En.hasCommittedMutations);let ji=!1;Jt&&En?Jt.data.isEqual(En.data)?ri!==Pi&&(o.track({type:3,doc:En}),ji=!0):this.rc(Jt,En)||(o.track({type:2,doc:En}),ji=!0,(ie&&this.tc(En,ie)>0||he&&this.tc(En,he)<0)&&(B=!0)):!Jt&&En?(o.track({type:0,doc:En}),ji=!0):Jt&&!En&&(o.track({type:1,doc:Jt}),ji=!0,(ie||he)&&(B=!0)),ji&&(En?(v=v.add(En),p=Pi?p.add(Oe):p.delete(Oe)):(v=v.delete(Oe),p=p.delete(Oe)))}),null!==this.query.limit)for(;v.size>this.query.limit;){const Oe="F"===this.query.limitType?v.last():v.first();v=v.delete(Oe.key),p=p.delete(Oe.key),o.track({type:1,doc:Oe})}return{ec:v,ic:o,zi:B,mutatedKeys:p}}rc(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,o){const u=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const p=e.ic.xu();p.sort((he,Oe)=>function(lt,Jt){const En=ri=>{switch(ri){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Wn()}};return En(lt)-En(Jt)}(he.type,Oe.type)||this.tc(he.doc,Oe.doc)),this.oc(o);const v=n?this.uc():[],B=0===this.Zu.size&&this.current?1:0,ie=B!==this.Xu;return this.Xu=B,0!==p.length||ie?{snapshot:new Cu(this.query,e.ec,u,p,e.mutatedKeys,0===B,ie,!1,!!o&&o.resumeToken.approximateByteSize()>0),cc:v}:{cc:v}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new c_,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(n=>this.Yu=this.Yu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Yu=this.Yu.delete(n)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=ci(),this.ec.forEach(o=>{this.ac(o.key)&&(this.Zu=this.Zu.add(o.key))});const n=[];return e.forEach(o=>{this.Zu.has(o)||n.push(new h_(o))}),this.Zu.forEach(o=>{e.has(o)||n.push(new ym(o))}),n}hc(e){this.Yu=e.ir,this.Zu=ci();const n=this.sc(e.documents);return this.applyChanges(n,!0)}lc(){return Cu.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class tv{constructor(e,n,o){this.query=e,this.targetId=n,this.view=o}}class p_{constructor(e){this.key=e,this.fc=!1}}class Kd{constructor(e,n,o,u,p,v){this.localStore=e,this.remoteStore=n,this.eventManager=o,this.sharedClientState=u,this.currentUser=p,this.maxConcurrentLimboResolutions=v,this.dc={},this.wc=new mc(B=>ml(B),sl),this._c=new Map,this.mc=new Set,this.gc=new Tr(wn.comparator),this.yc=new Map,this.Ic=new Df,this.Tc={},this.Ec=new Map,this.Ac=kd.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function ql(r,e){return Iu.apply(this,arguments)}function Iu(){return Iu=(0,xe.A)(function*(r,e){const n=function Mm(r){const e=Vn(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=Hh.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=w_.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=nv.bind(null,e),e.dc.nu=pm.bind(null,e.eventManager),e.dc.Pc=Jy.bind(null,e.eventManager),e}(r);let o,u;const p=n.wc.get(e);if(p)o=p.targetId,n.sharedClientState.addLocalQueryTarget(o),u=p.view.lc();else{const v=yield function Vd(r,e){const n=Vn(r);return n.persistence.runTransaction("Allocate target","readwrite",o=>{let u;return n.Bs.getTargetData(o,e).next(p=>p?(u=p,Ht.resolve(u)):n.Bs.allocateTargetId(o).next(v=>(u=new Qc(e,v,"TargetPurposeListen",o.currentSequenceNumber),n.Bs.addTargetData(o,u).next(()=>u))))}).then(o=>{const u=n.Ji.get(o.targetId);return(null===u||o.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(o.targetId,o),n.Yi.set(e,o.targetId)),o})}(n.localStore,Za(e)),B=n.sharedClientState.addLocalQueryTarget(v.targetId);o=v.targetId,u=yield function vm(r,e,n,o,u){return bm.apply(this,arguments)}(n,e,o,"current"===B,v.resumeToken),n.isPrimaryClient&&rd(n.remoteStore,v)}return u}),Iu.apply(this,arguments)}function bm(){return bm=(0,xe.A)(function*(r,e,n,o,u){r.Rc=(lt,Jt,En)=>{return(ri=(0,xe.A)(function*(Pi,ji,Fs,Ao){let to=ji.view.sc(Fs);to.zi&&(to=yield Ud(Pi.localStore,ji.query,!1).then(({documents:Ca})=>ji.view.sc(Ca,to)));const qa=Ao&&Ao.targetChanges.get(ji.targetId),Ga=ji.view.applyChanges(to,Pi.isPrimaryClient,qa);return qd(Pi,ji.targetId,Ga.cc),Ga.snapshot}),function(Pi,ji,Fs,Ao){return ri.apply(this,arguments)})(r,lt,Jt,En);var ri};const p=yield Ud(r.localStore,e,!0),v=new f_(e,p.ir),B=v.sc(p.documents),ie=rn.createSynthesizedTargetChangeForCurrentChange(n,o&&"Offline"!==r.onlineState,u),he=v.applyChanges(B,r.isPrimaryClient,ie);qd(r,n,he.cc);const Oe=new tv(e,n,v);return r.wc.set(e,Oe),r._c.has(n)?r._c.get(n).push(e):r._c.set(n,[e]),he.snapshot}),bm.apply(this,arguments)}function m_(r,e){return $f.apply(this,arguments)}function $f(){return $f=(0,xe.A)(function*(r,e){const n=Vn(r),o=n.wc.get(e),u=n._c.get(o.targetId);if(u.length>1)return n._c.set(o.targetId,u.filter(p=>!sl(p,e))),void n.wc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(o.targetId),n.sharedClientState.isActiveQueryTarget(o.targetId)||(yield Bd(n.localStore,o.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(o.targetId),Lh(n.remoteStore,o.targetId),ad(n,o.targetId)}).catch(Rr))):(ad(n,o.targetId),yield Bd(n.localStore,o.targetId,!0))}),$f.apply(this,arguments)}function od(){return od=(0,xe.A)(function*(r,e,n){const o=function Qf(r){const e=Vn(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=iv.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=g_.bind(null,e),e}(r);try{const u=yield function(p,v){const B=Vn(p),ie=Pt.now(),he=v.reduce((Jt,En)=>Jt.add(En.key),ci());let Oe,lt;return B.persistence.runTransaction("Locally write mutations","readwrite",Jt=>{let En=oc(),ri=ci();return B.Zi.getEntries(Jt,he).next(Pi=>{En=Pi,En.forEach((ji,Fs)=>{Fs.isValidDocument()||(ri=ri.add(ji))})}).next(()=>B.localDocuments.getOverlayedDocuments(Jt,En)).next(Pi=>{Oe=Pi;const ji=[];for(const Fs of v){const Ao=fh(Fs,Oe.get(Fs.key).overlayedDocument);null!=Ao&&ji.push(new vl(Fs.key,Ao,W(Ao.value.mapValue),ma.exists(!0)))}return B.mutationQueue.addMutationBatch(Jt,ie,ji,v)}).next(Pi=>{lt=Pi;const ji=Pi.applyToLocalDocumentSet(Oe,ri);return B.documentOverlayCache.saveOverlays(Jt,Pi.batchId,ji)})}).then(()=>({batchId:lt.batchId,changes:oe(Oe)}))}(o.localStore,e);o.sharedClientState.addPendingMutation(u.batchId),function(p,v,B){let ie=p.Tc[p.currentUser.toKey()];ie||(ie=new Tr(V)),ie=ie.insert(v,B),p.Tc[p.currentUser.toKey()]=ie}(o,u.batchId,n),yield Yl(o,u.changes),yield sd(o.remoteStore)}catch(u){const p=Gd(u,"Failed to persist write");n.reject(p)}}),od.apply(this,arguments)}function Hh(r,e){return zf.apply(this,arguments)}function zf(){return zf=(0,xe.A)(function*(r,e){const n=Vn(r);try{const o=yield function $y(r,e){const n=Vn(r),o=e.snapshotVersion;let u=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",p=>{const v=n.Zi.newChangeBuffer({trackRemovals:!0});u=n.Ji;const B=[];e.targetChanges.forEach((Oe,lt)=>{const Jt=u.get(lt);if(!Jt)return;B.push(n.Bs.removeMatchingKeys(p,Oe.removedDocuments,lt).next(()=>n.Bs.addMatchingKeys(p,Oe.addedDocuments,lt)));let En=Jt.withSequenceNumber(p.currentSequenceNumber);var ri,Pi,ji;null!==e.targetMismatches.get(lt)?En=En.withResumeToken(zo.EMPTY_BYTE_STRING,zt.min()).withLastLimboFreeSnapshotVersion(zt.min()):Oe.resumeToken.approximateByteSize()>0&&(En=En.withResumeToken(Oe.resumeToken,o)),u=u.insert(lt,En),Pi=En,ji=Oe,(0===(ri=Jt).resumeToken.approximateByteSize()||Pi.snapshotVersion.toMicroseconds()-ri.snapshotVersion.toMicroseconds()>=3e8||ji.addedDocuments.size+ji.modifiedDocuments.size+ji.removedDocuments.size>0)&&B.push(n.Bs.updateTargetData(p,En))});let ie=oc(),he=ci();if(e.documentUpdates.forEach(Oe=>{e.resolvedLimboDocuments.has(Oe)&&B.push(n.persistence.referenceDelegate.updateLimboDocument(p,Oe))}),B.push(function Kp(r,e,n){let o=ci(),u=ci();return n.forEach(p=>o=o.add(p)),e.getEntries(r,o).next(p=>{let v=oc();return n.forEach((B,ie)=>{const he=p.get(B);ie.isFoundDocument()!==he.isFoundDocument()&&(u=u.add(B)),ie.isNoDocument()&&ie.version.isEqual(zt.min())?(e.removeEntry(B,ie.readTime),v=v.insert(B,ie)):!he.isValidDocument()||ie.version.compareTo(he.version)>0||0===ie.version.compareTo(he.version)&&he.hasPendingWrites?(e.addEntry(ie),v=v.insert(B,ie)):On("LocalStore","Ignoring outdated watch update for ",B,". Current version:",he.version," Watch version:",ie.version)}),{nr:v,sr:u}})}(p,v,e.documentUpdates).next(Oe=>{ie=Oe.nr,he=Oe.sr})),!o.isEqual(zt.min())){const Oe=n.Bs.getLastRemoteSnapshotVersion(p).next(lt=>n.Bs.setTargetsMetadata(p,p.currentSequenceNumber,o));B.push(Oe)}return Ht.waitFor(B).next(()=>v.apply(p)).next(()=>n.localDocuments.getLocalViewOfDocuments(p,ie,he)).next(()=>ie)}).then(p=>(n.Ji=u,p))}(n.localStore,e);e.targetChanges.forEach((u,p)=>{const v=n.yc.get(p);v&&(Ti(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1),u.addedDocuments.size>0?v.fc=!0:u.modifiedDocuments.size>0?Ti(v.fc):u.removedDocuments.size>0&&(Ti(v.fc),v.fc=!1))}),yield Yl(n,o,e)}catch(o){yield Rr(o)}}),zf.apply(this,arguments)}function wm(r,e,n){const o=Vn(r);if(o.isPrimaryClient&&0===n||!o.isPrimaryClient&&1===n){const u=[];o.wc.forEach((p,v)=>{const B=v.view.Mu(e);B.snapshot&&u.push(B.snapshot)}),function(p,v){const B=Vn(p);B.onlineState=v;let ie=!1;B.queries.forEach((he,Oe)=>{for(const lt of Oe.listeners)lt.Mu(v)&&(ie=!0)}),ie&&mm(B)}(o.eventManager,e),u.length&&o.dc.nu(u),o.onlineState=e,o.isPrimaryClient&&o.sharedClientState.setOnlineState(e)}}function nv(r,e,n){return Cm.apply(this,arguments)}function Cm(){return Cm=(0,xe.A)(function*(r,e,n){const o=Vn(r);o.sharedClientState.updateQueryState(e,"rejected",n);const u=o.yc.get(e),p=u&&u.key;if(p){let v=new Tr(wn.comparator);v=v.insert(p,de.newNoDocument(p,zt.min()));const B=ci().add(p),ie=new Ot(zt.min(),new Map,new Tr(V),v,B);yield Hh(o,ie),o.gc=o.gc.remove(p),o.yc.delete(e),Wf(o)}else yield Bd(o.localStore,e,!1).then(()=>ad(o,e,n)).catch(Rr)}),Cm.apply(this,arguments)}function iv(r,e){return Im.apply(this,arguments)}function Im(){return Im=(0,xe.A)(function*(r,e){const n=Vn(r),o=e.batch.batchId;try{const u=yield function Wp(r,e){const n=Vn(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const u=e.batch.keys(),p=n.Zi.newChangeBuffer({trackRemovals:!0});return function(v,B,ie,he){const Oe=ie.batch,lt=Oe.keys();let Jt=Ht.resolve();return lt.forEach(En=>{Jt=Jt.next(()=>he.getEntry(B,En)).next(ri=>{const Pi=ie.docVersions.get(En);Ti(null!==Pi),ri.version.compareTo(Pi)<0&&(Oe.applyToRemoteDocument(ri,ie),ri.isValidDocument()&&(ri.setReadTime(ie.commitVersion),he.addEntry(ri)))})}),Jt.next(()=>v.mutationQueue.removeMutationBatch(B,Oe))}(n,o,e,p).next(()=>p.apply(o)).next(()=>n.mutationQueue.performConsistencyCheck(o)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(o,u,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(o,function(v){let B=ci();for(let ie=0;ie<v.mutationResults.length;++ie)v.mutationResults[ie].transformResults.length>0&&(B=B.add(v.batch.mutations[ie].key));return B}(e))).next(()=>n.localDocuments.getDocuments(o,u))})}(n.localStore,e);Gf(n,o,null),v_(n,o),n.sharedClientState.updateMutationState(o,"acknowledged"),yield Yl(n,u)}catch(u){yield Rr(u)}}),Im.apply(this,arguments)}function g_(r,e,n){return __.apply(this,arguments)}function __(){return __=(0,xe.A)(function*(r,e,n){const o=Vn(r);try{const u=yield function(p,v){const B=Vn(p);return B.persistence.runTransaction("Reject batch","readwrite-primary",ie=>{let he;return B.mutationQueue.lookupMutationBatch(ie,v).next(Oe=>(Ti(null!==Oe),he=Oe.keys(),B.mutationQueue.removeMutationBatch(ie,Oe))).next(()=>B.mutationQueue.performConsistencyCheck(ie)).next(()=>B.documentOverlayCache.removeOverlaysForBatchId(ie,he,v)).next(()=>B.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(ie,he)).next(()=>B.localDocuments.getDocuments(ie,he))})}(o.localStore,e);Gf(o,e,n),v_(o,e),o.sharedClientState.updateMutationState(e,"rejected",n),yield Yl(o,u)}catch(u){yield Rr(u)}}),__.apply(this,arguments)}function v_(r,e){(r.Ec.get(e)||[]).forEach(n=>{n.resolve()}),r.Ec.delete(e)}function Gf(r,e,n){const o=Vn(r);let u=o.Tc[o.currentUser.toKey()];if(u){const p=u.get(e);p&&(n?p.reject(n):p.resolve(),u=u.remove(e)),o.Tc[o.currentUser.toKey()]=u}}function ad(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const o of r._c.get(e))r.wc.delete(o),n&&r.dc.Pc(o,n);r._c.delete(e),r.isPrimaryClient&&r.Ic.Is(e).forEach(o=>{r.Ic.containsKey(o)||sv(r,o)})}function sv(r,e){r.mc.delete(e.path.canonicalString());const n=r.gc.get(e);null!==n&&(Lh(r.remoteStore,n),r.gc=r.gc.remove(e),r.yc.delete(n),Wf(r))}function qd(r,e,n){for(const o of n)o instanceof ym?(r.Ic.addReference(o.key,e),b_(r,o)):o instanceof h_?(On("SyncEngine","Document no longer in limbo: "+o.key),r.Ic.removeReference(o.key,e),r.Ic.containsKey(o.key)||sv(r,o.key)):Wn()}function b_(r,e){const n=e.key,o=n.path.canonicalString();r.gc.get(n)||r.mc.has(o)||(On("SyncEngine","New document in limbo: "+n),r.mc.add(o),Wf(r))}function Wf(r){for(;r.mc.size>0&&r.gc.size<r.maxConcurrentLimboResolutions;){const e=r.mc.values().next().value;r.mc.delete(e);const n=new wn(oi.fromString(e)),o=r.Ac.next();r.yc.set(o,new p_(n)),r.gc=r.gc.insert(n,o),rd(r.remoteStore,new Qc(Za(pl(n.path)),o,"TargetPurposeLimboResolution",zn.ct))}}function Yl(r,e,n){return Kf.apply(this,arguments)}function Kf(){return Kf=(0,xe.A)(function*(r,e,n){const o=Vn(r),u=[],p=[],v=[];var B;o.wc.isEmpty()||(o.wc.forEach((B,ie)=>{v.push(o.Rc(ie,e,n).then(he=>{if((he||n)&&o.isPrimaryClient&&o.sharedClientState.updateQueryState(ie.targetId,he?.fromCache?"not-current":"current"),he){u.push(he);const Oe=Fd.Li(ie.targetId,he);p.push(Oe)}}))}),yield Promise.all(v),o.dc.nu(u),yield(B=(0,xe.A)(function*(ie,he){const Oe=Vn(ie);try{yield Oe.persistence.runTransaction("notifyLocalViewChanges","readwrite",lt=>Ht.forEach(he,Jt=>Ht.forEach(Jt.Fi,En=>Oe.persistence.referenceDelegate.addReference(lt,Jt.targetId,En)).next(()=>Ht.forEach(Jt.Bi,En=>Oe.persistence.referenceDelegate.removeReference(lt,Jt.targetId,En)))))}catch(lt){if(!S(lt))throw lt;On("LocalStore","Failed to update sequence numbers: "+lt)}for(const lt of he){const Jt=lt.targetId;if(!lt.fromCache){const En=Oe.Ji.get(Jt),Pi=En.withLastLimboFreeSnapshotVersion(En.snapshotVersion);Oe.Ji=Oe.Ji.insert(Jt,Pi)}}}),function(ie,he){return B.apply(this,arguments)})(o.localStore,p))}),Kf.apply(this,arguments)}function E_(r,e){return vs.apply(this,arguments)}function vs(){return vs=(0,xe.A)(function*(r,e){const n=Vn(r);if(!n.currentUser.isEqual(e)){On("SyncEngine","User change. New user:",e.toKey());const o=yield dl(n.localStore,e);n.currentUser=e,(u=n).Ec.forEach(v=>{v.forEach(B=>{B.reject(new te(Wt.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),u.Ec.clear(),n.sharedClientState.handleUserChange(e,o.removedBatchIds,o.addedBatchIds),yield Yl(n,o.er)}var u}),vs.apply(this,arguments)}function w_(r,e){const n=Vn(r),o=n.yc.get(e);if(o&&o.fc)return ci().add(o.key);{let u=ci();const p=n._c.get(e);if(!p)return u;for(const v of p){const B=n.wc.get(v);u=u.unionWith(B.view.nc)}return u}}class Yd{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return(0,xe.A)(function*(){n.serializer=$d(e.databaseInfo.databaseId),n.sharedClientState=n.createSharedClientState(e),n.persistence=n.createPersistence(e),yield n.persistence.start(),n.localStore=n.createLocalStore(e),n.gcScheduler=n.createGarbageCollectionScheduler(e,n.localStore),n.indexBackfillerScheduler=n.createIndexBackfillerScheduler(e,n.localStore)})()}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return function Sh(r,e,n,o){return new Gp(r,e,n,o)}(this.persistence,new qg,e.initialUser,this.serializer)}createPersistence(e){return new Tf(zp.zs,this.serializer)}createSharedClientState(e){return new Pf}terminate(){var e=this;return(0,xe.A)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class ld{initialize(e,n){var o=this;return(0,xe.A)(function*(){o.localStore||(o.localStore=e.localStore,o.sharedClientState=e.sharedClientState,o.datastore=o.createDatastore(n),o.remoteStore=o.createRemoteStore(n),o.eventManager=o.createEventManager(n),o.syncEngine=o.createSyncEngine(n,!e.synchronizeTabs),o.sharedClientState.onlineStateHandler=u=>wm(o.syncEngine,u,1),o.remoteStore.remoteSyncer.handleCredentialChange=E_.bind(null,o.syncEngine),yield function Hf(r,e){return a_.apply(this,arguments)}(o.remoteStore,o.syncEngine.isPrimaryClient))})()}createEventManager(e){return new l_}createDatastore(e){const n=$d(e.databaseInfo.databaseId),o=new em(e.databaseInfo);return new Wy(e.authCredentials,e.appCheckCredentials,o,n)}createRemoteStore(e){return n=this.localStore,o=this.datastore,u=e.asyncQueue,p=B=>wm(this.syncEngine,B,0),v=Rh.D()?new Rh:new kh,new Nf(n,o,u,p,v);var n,o,u,p,v}createSyncEngine(e,n){return function(o,u,p,v,B,ie,he){const Oe=new Kd(o,u,p,v,B,ie);return he&&(Oe.vc=!0),Oe}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return(e=(0,xe.A)(function*(n){const o=Vn(n);On("RemoteStore","RemoteStore shutting down."),o.vu.add(5),yield id(o),o.Pu.shutdown(),o.bu.set("Unknown")}),function(n){return e.apply(this,arguments)})(this.remoteStore);var e}}class Xf{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):Ui("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class X0{constructor(e,n,o,u){var p=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=o,this.databaseInfo=u,this.user=yr.UNAUTHENTICATED,this.clientId=O.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(o,function(){var v=(0,xe.A)(function*(B){On("FirestoreClient","Received user=",B.uid),yield p.authCredentialListener(B),p.user=B});return function(B){return v.apply(this,arguments)}}()),this.appCheckCredentials.start(o,v=>(On("FirestoreClient","Received new app check token=",v),this.appCheckCredentialListener(v,this.user)))}getConfiguration(){var e=this;return(0,xe.A)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new te(Wt.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new D;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,xe.A)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(o){const u=Gd(o,"Failed to shutdown persistence");n.reject(u)}})),n.promise}}function Qd(r,e){return Zf.apply(this,arguments)}function Zf(){return Zf=(0,xe.A)(function*(r,e){r.asyncQueue.verifyOperationInProgress(),On("FirestoreClient","Initializing OfflineComponentProvider");const n=yield r.getConfiguration();yield e.initialize(n);let o=n.initialUser;r.setCredentialChangeListener(function(){var u=(0,xe.A)(function*(p){o.isEqual(p)||(yield dl(e.localStore,p),o=p)});return function(p){return u.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}),Zf.apply(this,arguments)}function km(r,e){return Rm.apply(this,arguments)}function Rm(){return Rm=(0,xe.A)(function*(r,e){r.asyncQueue.verifyOperationInProgress();const n=yield function Jf(r){return Nm.apply(this,arguments)}(r);On("FirestoreClient","Initializing OnlineComponentProvider");const o=yield r.getConfiguration();yield e.initialize(n,o),r.setCredentialChangeListener(u=>dm(e.remoteStore,u)),r.setAppCheckTokenChangeListener((u,p)=>dm(e.remoteStore,p)),r._onlineComponents=e}),Rm.apply(this,arguments)}function Nm(){return Nm=(0,xe.A)(function*(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){On("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Qd(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function x_(r){return"FirebaseError"===r.name?r.code===Wt.FAILED_PRECONDITION||r.code===Wt.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||22===r.code||20===r.code||11===r.code}(n))throw n;qo("Error using user provided cache. Falling back to memory cache: "+n),yield Qd(r,new Yd)}}else On("FirestoreClient","Using default OfflineComponentProvider"),yield Qd(r,new Yd);return r._offlineComponents}),Nm.apply(this,arguments)}function ep(r){return Gh.apply(this,arguments)}function Gh(){return Gh=(0,xe.A)(function*(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(On("FirestoreClient","Using user provided OnlineComponentProvider"),yield km(r,r._uninitializedComponentsProvider._online)):(On("FirestoreClient","Using default OnlineComponentProvider"),yield km(r,new ld))),r._onlineComponents}),Gh.apply(this,arguments)}function Wh(){return Wh=(0,xe.A)(function*(r){const e=yield ep(r),n=e.eventManager;return n.onListen=ql.bind(null,e.syncEngine),n.onUnlisten=m_.bind(null,e.syncEngine),n}),Wh.apply(this,arguments)}function Kh(r,e,n={}){const o=new D;return r.asyncQueue.enqueueAndForget((0,xe.A)(function*(){return function(u,p,v,B,ie){const he=new Xf({next:lt=>{p.enqueueAndForget(()=>function Ha(r,e){return fm.apply(this,arguments)}(u,Oe)),lt.fromCache&&"server"===B.source?ie.reject(new te(Wt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):ie.resolve(lt)},error:lt=>ie.reject(lt)}),Oe=new jh(v,he,{includeMetadataChanges:!0,Ku:!0});return function hm(r,e){return u_.apply(this,arguments)}(u,Oe)}(yield function Cc(r){return Wh.apply(this,arguments)}(r),r.asyncQueue,e,n,o)})),o.promise}function Bm(r){const e={};return void 0!==r.timeoutSeconds&&(e.timeoutSeconds=r.timeoutSeconds),e}const Um=new Map;function qh(r,e,n){if(!n)throw new te(Wt.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function N_(r){if(!wn.isDocumentKey(r))throw new te(Wt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function F_(r){if(wn.isDocumentKey(r))throw new te(Wt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Xd(r){if(void 0===r)return"undefined";if(null===r)return"null";if("string"==typeof r)return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if("number"==typeof r||"boolean"==typeof r)return""+r;if("object"==typeof r){if(r instanceof Array)return"an array";{const e=(n=r).constructor?n.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var n;return"function"==typeof r?"a function":Wn()}function wo(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new te(Wt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Xd(r);throw new te(Wt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}class L_{constructor(e){var n,o;if(void 0===e.host){if(void 0!==e.ssl)throw new te(Wt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new te(Wt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function Ql(r,e,n,o){if(!0===e&&!0===o)throw new te(Wt.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=Bm(null!==(o=e.experimentalLongPollingOptions)&&void 0!==o?o:{}),function(u){if(void 0!==u.timeoutSeconds){if(isNaN(u.timeoutSeconds))throw new te(Wt.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new te(Wt.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new te(Wt.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class xu{constructor(e,n,o,u){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=o,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new L_({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new te(Wt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new te(Wt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new L_(e),void 0!==e.credentials&&(this._authCredentials=function(n){if(!n)return new Y;switch(n.type){case"firstParty":return new dt(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new te(Wt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=Um.get(e);n&&(On("ComponentProvider","Removing Datastore"),Um.delete(e),n.terminate())}(this),Promise.resolve()}}class Ba{constructor(e,n,o){this.converter=n,this._key=o,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Xl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ba(this.firestore,e,this._key)}}class $a{constructor(e,n,o){this.converter=n,this._query=o,this.type="query",this.firestore=e}withConverter(e){return new $a(this.firestore,e,this._query)}}class Xl extends $a{constructor(e,n,o){super(e,n,pl(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ba(this.firestore,null,new wn(e))}withConverter(e){return new Xl(this.firestore,e,this._path)}}function fv(r,e,...n){if(r=(0,He.Ku)(r),qh("collection","path",e),r instanceof xu){const o=oi.fromString(e,...n);return F_(o),new Xl(r,null,o)}{if(!(r instanceof Ba||r instanceof Xl))throw new te(Wt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=r._path.child(oi.fromString(e,...n));return F_(o),new Xl(r.firestore,null,o)}}function Hm(r,e,...n){if(r=(0,He.Ku)(r),1===arguments.length&&(e=O.A()),qh("doc","path",e),r instanceof xu){const o=oi.fromString(e,...n);return N_(o),new Ba(r,null,new wn(o))}{if(!(r instanceof Ba||r instanceof Xl))throw new te(Wt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=r._path.child(oi.fromString(e,...n));return N_(o),new Ba(r.firestore,r instanceof Xl?r.converter:null,new wn(o))}}class B_{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new tm(this,"async_queue_retry"),this.Xc=()=>{const n=Rf();n&&On("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=Rf();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=Rf();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new D;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,xe.A)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(n){if(!S(n))throw n;On("AsyncQueue","Operation failed with retryable error: "+n)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(o=>{throw this.Wc=o,this.Hc=!1,Ui("INTERNAL UNHANDLED ERROR: ",function(p){let v=p.message||"";return p.stack&&(v=p.stack.includes(p.message)?p.stack:p.message+"\n"+p.stack),v}(o)),o}).then(o=>(this.Hc=!1,o))));return this.Gc=n,n}enqueueAfterDelay(e,n,o){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const u=zd.createAndSchedule(this,e,n,o,p=>this.na(p));return this.zc.push(u),u}Zc(){this.Wc&&Wn()}verifyOperationInProgress(){}sa(){var e=this;return(0,xe.A)(function*(){let n;do{n=e.Gc,yield n}while(n!==e.Gc)})()}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,o)=>n.targetTimeMs-o.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}}class ga extends xu{constructor(e,n,o,u){super(e,n,o,u),this.type="firestore",this._queue=new B_,this._persistenceKey=u?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||Zd(this),this._firestoreClient.terminate()}}function gv(r,e){const n="object"==typeof r?r:(0,at.getApp)(),o="string"==typeof r?r:e||"(default)",u=(0,at._getProvider)(n,"firestore").getImmediate({identifier:o});if(!u._initialized){const p=(0,He.yU)("firestore");p&&function Yh(r,e,n,o={}){var u;const p=(r=wo(r,xu))._getSettings(),v=`${e}:${n}`;if("firestore.googleapis.com"!==p.host&&p.host!==v&&qo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),r._setSettings(Object.assign(Object.assign({},p),{host:v,ssl:!1})),o.mockUserToken){let B,ie;if("string"==typeof o.mockUserToken)B=o.mockUserToken,ie=yr.MOCK_USER;else{B=(0,He.Fy)(o.mockUserToken,null===(u=r._app)||void 0===u?void 0:u.options.projectId);const he=o.mockUserToken.sub||o.mockUserToken.user_id;if(!he)throw new te(Wt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");ie=new yr(he)}r._authCredentials=new ye(new M(B,ie))}}(u,...p)}return u}function za(r){return r._firestoreClient||Zd(r),r._firestoreClient.verifyNotTerminated(),r._firestoreClient}function Zd(r){var e,n,o;const u=r._freezeSettings(),p=(B=(null===(e=r._app)||void 0===e?void 0:e.options.appId)||"",new jc(r._databaseId,B,r._persistenceKey,(he=u).host,he.ssl,he.experimentalForceLongPolling,he.experimentalAutoDetectLongPolling,Bm(he.experimentalLongPollingOptions),he.useFetchStreams));var B,he;r._firestoreClient=new X0(r._authCredentials,r._appCheckCredentials,r._queue,p),null!==(n=u.cache)&&void 0!==n&&n._offlineComponentProvider&&null!==(o=u.cache)&&void 0!==o&&o._onlineComponentProvider&&(r._firestoreClient._uninitializedComponentsProvider={_offlineKind:u.cache.kind,_offline:u.cache._offlineComponentProvider,_online:u.cache._onlineComponentProvider})}class ud{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ud(zo.fromBase64String(e))}catch(n){throw new te(Wt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ud(zo.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class dd{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new te(Wt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new tr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Jd{constructor(e){this._methodName=e}}class $m{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new te(Wt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new te(Wt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return V(this._lat,e._lat)||V(this._long,e._long)}}const vv=/^__.*__$/;class $_{constructor(e,n,o){this.data=e,this.fieldMask=n,this.fieldTransforms=o}toMutation(e,n){return null!==this.fieldMask?new vl(e,this.data,this.fieldMask,n,this.fieldTransforms):new Hu(e,this.data,n,this.fieldTransforms)}}class zm{constructor(e,n,o){this.data=e,this.fieldMask=n,this.fieldTransforms=o}toMutation(e,n){return new vl(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function z_(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Wn()}}class Gm{constructor(e,n,o,u,p,v){this.settings=e,this.databaseId=n,this.serializer=o,this.ignoreUndefinedProperties=u,void 0===p&&this.ua(),this.fieldTransforms=p||[],this.fieldMask=v||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new Gm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var n;const o=null===(n=this.path)||void 0===n?void 0:n.child(e),u=this.aa({path:o,la:!1});return u.fa(e),u}da(e){var n;const o=null===(n=this.path)||void 0===n?void 0:n.child(e),u=this.aa({path:o,la:!1});return u.ua(),u}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return Jl(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(z_(this.ca)&&vv.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class G_{constructor(e,n,o){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=o||$d(e)}ya(e,n,o,u=!1){return new Gm({ca:e,methodName:n,ga:o,path:tr.emptyPath(),la:!1,ma:u},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Su(r){const e=r._freezeSettings(),n=$d(r._databaseId);return new G_(r._databaseId,!!e.ignoreUndefinedProperties,n)}function Wm(r,e,n,o,u,p={}){const v=r.ya(p.merge||p.mergeFields?2:0,e,n,u);Pu("Data must be an object, but it was:",v,o);const B=Bc(o,v);let ie,he;if(p.merge)ie=new Yo(v.fieldMask),he=v.fieldTransforms;else if(p.mergeFields){const Oe=[];for(const lt of p.mergeFields){const Jt=xl(e,lt,n);if(!v.contains(Jt))throw new te(Wt.INVALID_ARGUMENT,`Field '${Jt}' is specified in your field mask but missing from your input data.`);fd(Oe,Jt)||Oe.push(Jt)}ie=new Yo(Oe),he=v.fieldTransforms.filter(lt=>ie.covers(lt.field))}else ie=null,he=v.fieldTransforms;return new $_(new F(B),ie,he)}class Mu extends Jd{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Mu}}function Tl(r,e){if(ip(r=(0,He.Ku)(r)))return Pu("Unsupported field value:",e,r),Bc(r,e);if(r instanceof Jd)return function(n,o){if(!z_(o.ca))throw o._a(`${n._methodName}() can only be used with update() and set()`);if(!o.path)throw o._a(`${n._methodName}() is not currently supported inside arrays`);const u=n._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(r,e),null;if(void 0===r&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(n,o){const u=[];let p=0;for(const v of n){let B=Tl(v,o.wa(p));null==B&&(B={nullValue:"NULL_VALUE"}),u.push(B),p++}return{arrayValue:{values:u}}}(r,e)}return function(n,o){if(null===(n=(0,He.Ku)(n)))return{nullValue:"NULL_VALUE"};if("number"==typeof n)return ol(o.serializer,n);if("boolean"==typeof n)return{booleanValue:n};if("string"==typeof n)return{stringValue:n};if(n instanceof Date){const u=Pt.fromDate(n);return{timestampValue:al(o.serializer,u)}}if(n instanceof Pt){const u=new Pt(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:al(o.serializer,u)}}if(n instanceof $m)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof ud)return{bytesValue:hu(o.serializer,n._byteString)};if(n instanceof Ba){const u=o.databaseId,p=n.firestore._databaseId;if(!p.isEqual(u))throw o._a(`Document reference is for database ${p.projectId}/${p.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:yh(n.firestore._databaseId||o.databaseId,n._key.path)}}throw o._a(`Unsupported field value: ${Xd(n)}`)}(r,e)}function Bc(r,e){const n={};return so(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):pa(r,(o,u)=>{const p=Tl(u,e.ha(o));null!=p&&(n[o]=p)}),{mapValue:{fields:n}}}function ip(r){return!("object"!=typeof r||null===r||r instanceof Array||r instanceof Date||r instanceof Pt||r instanceof $m||r instanceof ud||r instanceof Ba||r instanceof Jd)}function Pu(r,e,n){if(!ip(n)||"object"!=typeof(o=n)||null===o||Object.getPrototypeOf(o)!==Object.prototype&&null!==Object.getPrototypeOf(o)){const o=Xd(n);throw e._a("an object"===o?r+" a custom object":r+" "+o)}var o}function xl(r,e,n){if((e=(0,He.Ku)(e))instanceof dd)return e._internalPath;if("string"==typeof e)return Zl(r,e);throw Jl("Field path arguments must be of type string or ",r,!1,void 0,n)}const eh=new RegExp("[~\\*/\\[\\]]");function Zl(r,e,n){if(e.search(eh)>=0)throw Jl(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new dd(...e.split("."))._internalPath}catch{throw Jl(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Jl(r,e,n,o,u){const p=o&&!o.isEmpty(),v=void 0!==u;let B=`Function ${e}() called with invalid data`;n&&(B+=" (via `toFirestore()`)"),B+=". ";let ie="";return(p||v)&&(ie+=" (found",p&&(ie+=` in field ${o}`),v&&(ie+=` in document ${u}`),ie+=")"),new te(Wt.INVALID_ARGUMENT,B+r+ie)}function fd(r,e){return r.some(n=>n.isEqual(e))}class Al{constructor(e,n,o,u,p){this._firestore=e,this._userDataWriter=n,this._key=o,this._document=u,this._converter=p}get id(){return this._key.path.lastSegment()}get ref(){return new Ba(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new th(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(eu("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class th extends Al{data(){return super.data()}}function eu(r,e){return"string"==typeof e?Zl(r,e):e instanceof dd?e._internalPath:e._delegate._internalPath}class rp{}class nh extends rp{}function K_(r,e,...n){let o=[];e instanceof rp&&o.push(e),o=o.concat(n),function(u){const p=u.filter(B=>B instanceof pd).length,v=u.filter(B=>B instanceof ih).length;if(p>1||p>0&&v>0)throw new te(Wt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(o);for(const u of o)r=u._apply(r);return r}class ih extends nh{constructor(e,n,o){super(),this._field=e,this._op=n,this._value=o,this.type="where"}static _create(e,n,o){return new ih(e,n,o)}_apply(e){const n=this._parse(e);return ap(e._query,n),new $a(e.firestore,e.converter,kc(e._query,n))}_parse(e){const n=Su(e.firestore);return function(u,p,v,B,ie,he,Oe){let lt;if(ie.isKeyField()){if("array-contains"===he||"array-contains-any"===he)throw new te(Wt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${he}' queries on documentId().`);if("in"===he||"not-in"===he){rh(Oe,he);const Jt=[];for(const En of Oe)Jt.push(op(B,u,En));lt={arrayValue:{values:Jt}}}else lt=op(B,u,Oe)}else"in"!==he&&"not-in"!==he&&"array-contains-any"!==he||rh(Oe,he),lt=function Ou(r,e,n,o=!1){return Tl(n,r.ya(o?4:3,e))}(v,"where",Oe,"in"===he||"not-in"===he);return Kn.create(ie,he,lt)}(e._query,0,n,e.firestore._databaseId,this._field,this._op,this._value)}}function q_(r,e,n){const o=e,u=eu("where",r);return ih._create(u,o,n)}class pd extends rp{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new pd(e,n)}_parse(e){const n=this._queryConstraints.map(o=>o._parse(e)).filter(o=>o.getFilters().length>0);return 1===n.length?n[0]:Ei.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return 0===n.getFilters().length?e:(function(o,u){let p=o;const v=u.getFlattenedFilters();for(const B of v)ap(p,B),p=kc(p,B)}(e._query,n),new $a(e.firestore,e.converter,kc(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}function op(r,e,n){if("string"==typeof(n=(0,He.Ku)(n))){if(""===n)throw new te(Wt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Vl(e)&&-1!==n.indexOf("/"))throw new te(Wt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const o=e.path.child(oi.fromString(n));if(!wn.isDocumentKey(o))throw new te(Wt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${o}' is not because it has an odd number of segments (${o.length}).`);return Tc(r,new wn(o))}if(n instanceof Ba)return Tc(r,n._key);throw new te(Wt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Xd(n)}.`)}function rh(r,e){if(!Array.isArray(r)||0===r.length)throw new te(Wt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function ap(r,e){if(e.isInequality()){const o=sc(r),u=e.field;if(null!==o&&!o.isEqual(u))throw new te(Wt.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${o.toString()}' and '${u.toString()}'`);const p=rl(r);null!==p&&function Zh(r,e,n){if(!n.isEqual(e))throw new te(Wt.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}(0,u,p)}const n=function(o,u){for(const p of o)for(const v of p.getFlattenedFilters())if(u.indexOf(v.op)>=0)return v.op;return null}(r.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==n)throw new te(Wt.INVALID_ARGUMENT,n===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class sh{convertValue(e,n="none"){switch(fc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return po(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(lc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw Wn()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const o={};return pa(e,(u,p)=>{o[u]=this.convertValue(p,n)}),o}convertGeoPoint(e){return new $m(po(e.latitude),po(e.longitude))}convertArray(e,n){return(e.values||[]).map(o=>this.convertValue(o,n))}convertServerTimestamp(e,n){switch(n){case"previous":const o=el(e);return null==o?null:this.convertValue(o,n);case"estimate":return this.convertTimestamp(dc(e));default:return null}}convertTimestamp(e){const n=tc(e);return new Pt(n.seconds,n.nanos)}convertDocumentKey(e,n){const o=oi.fromString(e);Ti(gf(o));const u=new Qa(o.get(1),o.get(3)),p=new wn(o.popFirst(5));return u.isEqual(n)||Ui(`Document ${p} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),p}}class tu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class nu extends Al{constructor(e,n,o,u,p,v){super(e,n,o,u,v),this._firestore=e,this._firestoreImpl=e,this.metadata=p}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new md(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const o=this._document.data.field(eu("DocumentSnapshot.get",e));if(null!==o)return this._userDataWriter.convertValue(o,n.serverTimestamps)}}}class md extends nu{data(e={}){return super.data(e)}}class ef{constructor(e,n,o,u){this._firestore=e,this._userDataWriter=n,this._snapshot=u,this.metadata=new tu(u.hasPendingWrites,u.fromCache),this.query=o}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(o=>{e.call(n,new md(this._firestore,this._userDataWriter,o.key,o,new tu(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new te(Wt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let p=0;return o._snapshot.docChanges.map(v=>({type:"added",doc:new md(o._firestore,o._userDataWriter,v.doc.key,v.doc,new tu(o._snapshot.mutatedKeys.has(v.doc.key),o._snapshot.fromCache),o.query.converter),oldIndex:-1,newIndex:p++}))}{let p=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(v=>u||3!==v.type).map(v=>{const B=new md(o._firestore,o._userDataWriter,v.doc.key,v.doc,new tu(o._snapshot.mutatedKeys.has(v.doc.key),o._snapshot.fromCache),o.query.converter);let ie=-1,he=-1;return 0!==v.type&&(ie=p.indexOf(v.doc.key),p=p.delete(v.doc.key)),1!==v.type&&(p=p.add(v.doc),he=p.indexOf(v.doc.key)),{type:Dv(v.type),doc:B,oldIndex:ie,newIndex:he}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Dv(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Wn()}}class ku extends sh{constructor(e){super(),this.firestore=e}convertBytes(e){return new ud(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ba(this.firestore,null,n)}}function xv(r){r=wo(r,$a);const e=wo(r.firestore,ga),n=za(e),o=new ku(e);return function Ym(r){if("L"===r.limitType&&0===r.explicitOrderBy.length)throw new te(Wt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(r._query),Kh(n,r._query).then(u=>new ef(e,o,r,u))}function Ov(r,e,n,...o){r=wo(r,Ba);const u=wo(r.firestore,ga),p=Su(u);let v;return v="string"==typeof(e=(0,He.Ku)(e))||e instanceof dd?function ec(r,e,n,o,u,p){const v=r.ya(1,e,n),B=[xl(e,o,n)],ie=[u];if(p.length%2!=0)throw new te(Wt.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Jt=0;Jt<p.length;Jt+=2)B.push(xl(e,p[Jt])),ie.push(p[Jt+1]);const he=[],Oe=F.empty();for(let Jt=B.length-1;Jt>=0;--Jt)if(!fd(he,B[Jt])){const En=B[Jt];let ri=ie[Jt];ri=(0,He.Ku)(ri);const Pi=v.da(En);if(ri instanceof Mu)he.push(En);else{const ji=Tl(ri,Pi);null!=ji&&(he.push(En),Oe.set(En,ji))}}const lt=new Yo(he);return new zm(Oe,lt,v.fieldTransforms)}(p,"updateDoc",r._key,e,n,o):function hd(r,e,n,o){const u=r.ya(1,e,n);Pu("Data must be an object, but it was:",u,o);const p=[],v=F.empty();pa(o,(ie,he)=>{const Oe=Zl(e,ie,n);he=(0,He.Ku)(he);const lt=u.da(Oe);if(he instanceof Mu)p.push(Oe);else{const Jt=Tl(he,lt);null!=Jt&&(p.push(Oe),v.set(Oe,Jt))}});const B=new Yo(p);return new zm(v,B,u.fieldTransforms)}(p,"updateDoc",r._key,e),gd(u,[v.toMutation(r._key,ma.exists(!0))])}function Pv(r){return gd(wo(r.firestore,ga),[new $u(r._key,ma.none())])}function kv(r,e){const n=wo(r.firestore,ga),o=Hm(r),u=function Jh(r,e,n){let o;return o=r?n&&(n.merge||n.mergeFields)?r.toFirestore(e,n):r.toFirestore(e):e,o}(r.converter,e);return gd(n,[Wm(Su(r.firestore),"addDoc",o._key,u,null!==r.converter,{}).toMutation(o._key,ma.exists(!1))]).then(()=>o)}function gd(r,e){return function(n,o){const u=new D;return n.asyncQueue.enqueueAndForget((0,xe.A)(function*(){return function Em(r,e,n){return od.apply(this,arguments)}(yield function Fm(r){return ep(r).then(e=>e.syncEngine)}(n),o,u)})),u.promise}(za(r),e)}!function(r,e=!0){$r=at.SDK_VERSION,(0,at._registerComponent)(new ft.uA("firestore",(n,{instanceIdentifier:o,options:u})=>{const p=n.getProvider("app").getImmediate(),v=new ga(new Fe(n.getProvider("auth-internal")),new nn(n.getProvider("app-check-internal")),function(B,ie){if(!Object.prototype.hasOwnProperty.apply(B.options,["projectId"]))throw new te(Wt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Qa(B.options.projectId,ie)}(p,o),p);return u=Object.assign({useFetchStreams:e},u),v._setSettings(u),v},"PUBLIC").setMultipleInstances(!0)),(0,at.registerVersion)(io,"3.13.0",r),(0,at.registerVersion)(io,"3.13.0","esm2017")}();class oh{constructor(e){return e}}const sg="firestore",dp=new Le.nKC("angularfire2.firestore-instances");function sy(r){return(e,n)=>{const o=e.runOutsideAngular(()=>r(n));return new oh(o)}}const oy={provide:class iy{constructor(){return(0,l.CA)(sg)}},deps:[[new Le.Xx1,dp]]},ay={provide:oh,useFactory:function ry(r,e){const n=(0,l.lR)(sg,r,e);return n&&new oh(n)},deps:[[new Le.Xx1,dp],ot.XU]};let hp=(()=>{class r{constructor(){(0,R.KO)("angularfire",l.xv.full,"fst")}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=Le.$C({type:r}),r.\u0275inj=Le.G2t({providers:[ay,oy]}),r})();function Ru(r,...e){return{ngModule:hp,providers:[{provide:dp,useFactory:sy(r),multi:!0,deps:[Le.SKi,Le.zZn,l.u0,ot.gL,[new Le.Xx1,ke.DF],[new Le.Xx1,Ce.kR],...e]}]}}const Kv=(0,l.S3)(kv,!0),Ka=(0,l.S3)(fv,!0),Qv=(0,l.S3)(Pv,!0),dy=(0,l.S3)(Hm,!0),og=(0,l.S3)(xv,!0),n0=(0,l.S3)(gv,!0),ag=(0,l.S3)(K_,!0),hy=(0,l.S3)(Ov,!0),d0=(0,l.S3)(q_,!0)},1161:(ei,Nt,ee)=>{ee.d(Nt,{xv:()=>el,u0:()=>$c,CA:()=>hl,lR:()=>nc,S3:()=>Gc});var l=ee(7705),Le=ee(2214),ke=ee(467),ot=ee(7852),R=ee(1076),Ce=ee(1362),xe=ee(8041);const at=(F,W)=>W.some(de=>F instanceof de);let ft,Pe;const Ft=new WeakMap,tt=new WeakMap,yt=new WeakMap,It=new WeakMap,Cn=new WeakMap;let Ci={get(F,W,de){if(F instanceof IDBTransaction){if("done"===W)return tt.get(F);if("objectStoreNames"===W)return F.objectStoreNames||yt.get(F);if("store"===W)return de.objectStoreNames[1]?void 0:de.objectStore(de.objectStoreNames[0])}return At(F[W])},set:(F,W,de)=>(F[W]=de,!0),has:(F,W)=>F instanceof IDBTransaction&&("done"===W||"store"===W)||W in F};function Dt(F){return"function"==typeof F?function cn(F){return F!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function mt(){return Pe||(Pe=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(F)?function(...W){return F.apply(Lt(this),W),At(Ft.get(this))}:function(...W){return At(F.apply(Lt(this),W))}:function(W,...de){const $e=F.call(Lt(this),W,...de);return yt.set($e,W.sort?W.sort():[W]),At($e)}}(F):(F instanceof IDBTransaction&&function wi(F){if(tt.has(F))return;const W=new Promise((de,$e)=>{const Et=()=>{F.removeEventListener("complete",$t),F.removeEventListener("error",hn),F.removeEventListener("abort",hn)},$t=()=>{de(),Et()},hn=()=>{$e(F.error||new DOMException("AbortError","AbortError")),Et()};F.addEventListener("complete",$t),F.addEventListener("error",hn),F.addEventListener("abort",hn)});tt.set(F,W)}(F),at(F,function He(){return ft||(ft=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(F,Ci):F)}function At(F){if(F instanceof IDBRequest)return function Tn(F){const W=new Promise((de,$e)=>{const Et=()=>{F.removeEventListener("success",$t),F.removeEventListener("error",hn)},$t=()=>{de(At(F.result)),Et()},hn=()=>{$e(F.error),Et()};F.addEventListener("success",$t),F.addEventListener("error",hn)});return W.then(de=>{de instanceof IDBCursor&&Ft.set(de,F)}).catch(()=>{}),Cn.set(W,F),W}(F);if(It.has(F))return It.get(F);const W=Dt(F);return W!==F&&(It.set(F,W),Cn.set(W,F)),W}const Lt=F=>Cn.get(F),Mt=["get","getKey","getAll","getAllKeys","count"],yn=["put","add","delete","clear"],fi=new Map;function on(F,W){if(!(F instanceof IDBDatabase)||W in F||"string"!=typeof W)return;if(fi.get(W))return fi.get(W);const de=W.replace(/FromIndex$/,""),$e=W!==de,Et=yn.includes(de);if(!(de in($e?IDBIndex:IDBObjectStore).prototype)||!Et&&!Mt.includes(de))return;const $t=function(){var hn=(0,ke.A)(function*(di,...ai){const Kn=this.transaction(di,Et?"readwrite":"readonly");let Ei=Kn.store;return $e&&(Ei=Ei.index(ai.shift())),(yield Promise.all([Ei[de](...ai),Et&&Kn.done]))[0]});return function(ai){return hn.apply(this,arguments)}}();return fi.set(W,$t),$t}!function vt(F){Ci=F(Ci)}(F=>({...F,get:(W,de,$e)=>on(W,de)||F.get(W,de,$e),has:(W,de)=>!!on(W,de)||F.has(W,de)}));const Ii="@firebase/installations",Xi="0.6.4",Zr=1e4,hr=`w:${Xi}`,xn="FIS_v2",Gr="https://firebaseinstallations.googleapis.com/v1",Vt=36e5,ln=new R.FA("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Ut(F){return F instanceof R.g&&F.code.includes("request-failed")}function Mn({projectId:F}){return`${Gr}/projects/${F}/installations`}function In(F){return{token:F.token,requestStatus:2,expiresIn:Ni(F.expiresIn),creationTime:Date.now()}}function Hi(F,W){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,ke.A)(function*(F,W){const $e=(yield W.json()).error;return ln.create("request-failed",{requestName:F,serverCode:$e.code,serverMessage:$e.message,serverStatus:$e.status})})).apply(this,arguments)}function Jn({apiKey:F}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":F})}function nr(F){return ti.apply(this,arguments)}function ti(){return(ti=(0,ke.A)(function*(F){const W=yield F();return W.status>=500&&W.status<600?F():W})).apply(this,arguments)}function Ni(F){return Number(F.replace("s","000"))}function zi(){return(zi=(0,ke.A)(function*({appConfig:F,heartbeatServiceProvider:W},{fid:de}){const $e=Mn(F),Et=Jn(F),$t=W.getImmediate({optional:!0});if($t){const Kn=yield $t.getHeartbeatsHeader();Kn&&Et.append("x-firebase-client",Kn)}const di={method:"POST",headers:Et,body:JSON.stringify({fid:de,authVersion:xn,appId:F.appId,sdkVersion:hr})},ai=yield nr(()=>fetch($e,di));if(ai.ok){const Kn=yield ai.json();return{fid:Kn.fid||de,registrationStatus:2,refreshToken:Kn.refreshToken,authToken:In(Kn.authToken)}}throw yield Hi("Create Installation",ai)})).apply(this,arguments)}function Wr(F){return new Promise(W=>{setTimeout(W,F)})}const Or=/^[cdef][\w-]{21}$/,ni="";function Di(){try{const F=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(F),F[0]=112+F[0]%16;const de=function vi(F){return function as(F){return btoa(String.fromCharCode(...F)).replace(/\+/g,"-").replace(/\//g,"_")}(F).substr(0,22)}(F);return Or.test(de)?de:ni}catch{return ni}}function fr(F){return`${F.appName}!${F.appId}`}const Br=new Map;function Ar(F,W){const de=fr(F);cs(de,W),function Fn(F,W){const de=function gi(){return!xs&&"BroadcastChannel"in self&&(xs=new BroadcastChannel("[Firebase] FID Change"),xs.onmessage=F=>{cs(F.data.key,F.data.fid)}),xs}();de&&de.postMessage({key:F,fid:W}),function Is(){0===Br.size&&xs&&(xs.close(),xs=null)}()}(de,W)}function cs(F,W){const de=Br.get(F);if(de)for(const $e of de)$e(W)}let xs=null;const is="firebase-installations-database",bs=1,vr="firebase-installations-store";let Ur=null;function Kr(){return Ur||(Ur=function rt(F,W,{blocked:de,upgrade:$e,blocking:Et,terminated:$t}={}){const hn=indexedDB.open(F,W),di=At(hn);return $e&&hn.addEventListener("upgradeneeded",ai=>{$e(At(hn.result),ai.oldVersion,ai.newVersion,At(hn.transaction))}),de&&hn.addEventListener("blocked",()=>de()),di.then(ai=>{$t&&ai.addEventListener("close",()=>$t()),Et&&ai.addEventListener("versionchange",()=>Et())}).catch(()=>{}),di}(is,bs,{upgrade:(F,W)=>{0===W&&F.createObjectStore(vr)}})),Ur}function Cr(F,W){return Ir.apply(this,arguments)}function Ir(){return(Ir=(0,ke.A)(function*(F,W){const de=fr(F),Et=(yield Kr()).transaction(vr,"readwrite"),$t=Et.objectStore(vr),hn=yield $t.get(de);return yield $t.put(W,de),yield Et.done,(!hn||hn.fid!==W.fid)&&Ar(F,W.fid),W})).apply(this,arguments)}function Jr(F){return Gi.apply(this,arguments)}function Gi(){return(Gi=(0,ke.A)(function*(F){const W=fr(F),$e=(yield Kr()).transaction(vr,"readwrite");yield $e.objectStore(vr).delete(W),yield $e.done})).apply(this,arguments)}function Ji(F,W){return _r.apply(this,arguments)}function _r(){return(_r=(0,ke.A)(function*(F,W){const de=fr(F),Et=(yield Kr()).transaction(vr,"readwrite"),$t=Et.objectStore(vr),hn=yield $t.get(de),di=W(hn);return void 0===di?yield $t.delete(de):yield $t.put(di,de),yield Et.done,di&&(!hn||hn.fid!==di.fid)&&Ar(F,di.fid),di})).apply(this,arguments)}function Xe(F){return ve.apply(this,arguments)}function ve(){return ve=(0,ke.A)(function*(F){let W;const de=yield Ji(F.appConfig,$e=>{const Et=function Ae(F){return jn(F||{fid:Di(),registrationStatus:0})}($e),$t=function Ee(F,W){if(0===W.registrationStatus){if(!navigator.onLine)return{installationEntry:W,registrationPromise:Promise.reject(ln.create("app-offline"))};const de={fid:W.fid,registrationStatus:1,registrationTime:Date.now()},$e=function we(F,W){return Ct.apply(this,arguments)}(F,de);return{installationEntry:de,registrationPromise:$e}}return 1===W.registrationStatus?{installationEntry:W,registrationPromise:an(F)}:{installationEntry:W}}(F,Et);return W=$t.registrationPromise,$t.installationEntry});return de.fid===ni?{installationEntry:yield W}:{installationEntry:de,registrationPromise:W}}),ve.apply(this,arguments)}function Ct(){return Ct=(0,ke.A)(function*(F,W){try{const de=yield function Zi(F,W){return zi.apply(this,arguments)}(F,W);return Cr(F.appConfig,de)}catch(de){throw Ut(de)&&409===de.customData.serverCode?yield Jr(F.appConfig):yield Cr(F.appConfig,{fid:W.fid,registrationStatus:0}),de}}),Ct.apply(this,arguments)}function an(F){return mn.apply(this,arguments)}function mn(){return(mn=(0,ke.A)(function*(F){let W=yield si(F.appConfig);for(;1===W.registrationStatus;)yield Wr(100),W=yield si(F.appConfig);if(0===W.registrationStatus){const{installationEntry:de,registrationPromise:$e}=yield Xe(F);return $e||de}return W})).apply(this,arguments)}function si(F){return Ji(F,W=>{if(!W)throw ln.create("installation-not-found");return jn(W)})}function jn(F){return function Yn(F){return 1===F.registrationStatus&&F.registrationTime+Zr<Date.now()}(F)?{fid:F.fid,registrationStatus:0}:F}function ki(){return(ki=(0,ke.A)(function*({appConfig:F,heartbeatServiceProvider:W},de){const $e=function _t(F,{fid:W}){return`${Mn(F)}/${W}/authTokens:generate`}(F,de),Et=function Si(F,{refreshToken:W}){const de=Jn(F);return de.append("Authorization",function ir(F){return`${xn} ${F}`}(W)),de}(F,de),$t=W.getImmediate({optional:!0});if($t){const Kn=yield $t.getHeartbeatsHeader();Kn&&Et.append("x-firebase-client",Kn)}const di={method:"POST",headers:Et,body:JSON.stringify({installation:{sdkVersion:hr,appId:F.appId}})},ai=yield nr(()=>fetch($e,di));if(ai.ok)return In(yield ai.json());throw yield Hi("Generate Auth Token",ai)})).apply(this,arguments)}function qe(F){return it.apply(this,arguments)}function it(){return it=(0,ke.A)(function*(F,W=!1){let de;const $e=yield Ji(F.appConfig,$t=>{if(!un($t))throw ln.create("not-registered");const hn=$t.authToken;if(!W&&function yi(F){return 2===F.requestStatus&&!function or(F){const W=Date.now();return W<F.creationTime||F.creationTime+F.expiresIn<W+Vt}(F)}(hn))return $t;if(1===hn.requestStatus)return de=function Ze(F,W){return Ke.apply(this,arguments)}(F,W),$t;{if(!navigator.onLine)throw ln.create("app-offline");const di=function Fi(F){const W={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},F),{authToken:W})}($t);return de=function Yt(F,W){return Pn.apply(this,arguments)}(F,di),di}});return de?yield de:$e.authToken}),it.apply(this,arguments)}function Ke(){return(Ke=(0,ke.A)(function*(F,W){let de=yield xt(F.appConfig);for(;1===de.authToken.requestStatus;)yield Wr(100),de=yield xt(F.appConfig);const $e=de.authToken;return 0===$e.requestStatus?qe(F,W):$e})).apply(this,arguments)}function xt(F){return Ji(F,W=>{if(!un(W))throw ln.create("not-registered");return function Nr(F){return 1===F.requestStatus&&F.requestTime+Zr<Date.now()}(W.authToken)?Object.assign(Object.assign({},W),{authToken:{requestStatus:0}}):W})}function Pn(){return Pn=(0,ke.A)(function*(F,W){try{const de=yield function Qn(F,W){return ki.apply(this,arguments)}(F,W),$e=Object.assign(Object.assign({},W),{authToken:de});return yield Cr(F.appConfig,$e),de}catch(de){if(!Ut(de)||401!==de.customData.serverCode&&404!==de.customData.serverCode){const $e=Object.assign(Object.assign({},W),{authToken:{requestStatus:0}});yield Cr(F.appConfig,$e)}else yield Jr(F.appConfig);throw de}}),Pn.apply(this,arguments)}function un(F){return void 0!==F&&2===F.registrationStatus}function ds(){return(ds=(0,ke.A)(function*(F){const W=F,{installationEntry:de,registrationPromise:$e}=yield Xe(W);return $e?$e.catch(console.error):qe(W).catch(console.error),de.fid})).apply(this,arguments)}function Wi(){return Wi=(0,ke.A)(function*(F,W=!1){const de=F;return yield function hs(F){return Co.apply(this,arguments)}(de),(yield qe(de,W)).token}),Wi.apply(this,arguments)}function Co(){return(Co=(0,ke.A)(function*(F){const{registrationPromise:W}=yield Xe(F);W&&(yield W)})).apply(this,arguments)}function ut(F){return ln.create("missing-app-config-values",{valueName:F})}const jt="installations",Sn=F=>{const W=F.getProvider("app").getImmediate(),de=function ht(F){if(!F||!F.options)throw ut("App Configuration");if(!F.name)throw ut("App Name");const W=["projectId","apiKey","appId"];for(const de of W)if(!F.options[de])throw ut(de);return{appName:F.name,projectId:F.options.projectId,apiKey:F.options.apiKey,appId:F.options.appId}}(W);return{app:W,appConfig:de,heartbeatServiceProvider:(0,ot._getProvider)(W,"heartbeat"),_delete:()=>Promise.resolve()}},pi=F=>{const W=F.getProvider("app").getImmediate(),de=(0,ot._getProvider)(W,jt).getImmediate();return{getId:()=>function jr(F){return ds.apply(this,arguments)}(de),getToken:Et=>function ar(F){return Wi.apply(this,arguments)}(de,Et)}};(function rr(){(0,ot._registerComponent)(new Ce.uA(jt,Sn,"PUBLIC")),(0,ot._registerComponent)(new Ce.uA("installations-internal",pi,"PRIVATE"))})(),(0,ot.registerVersion)(Ii,Xi),(0,ot.registerVersion)(Ii,Xi,"esm2017");const pr="@firebase/remote-config",Je=new R.FA("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Rn{constructor(W,de,$e,Et){this.client=W,this.storage=de,this.storageCache=$e,this.logger=Et}isCachedDataFresh(W,de){if(!de)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const $e=Date.now()-de,Et=$e<=W;return this.logger.debug(`Config fetch cache check. Cache age millis: ${$e}. Cache max age millis (minimumFetchIntervalMillis setting): ${W}. Is cache hit: ${Et}.`),Et}fetch(W){var de=this;return(0,ke.A)(function*(){const[$e,Et]=yield Promise.all([de.storage.getLastSuccessfulFetchTimestampMillis(),de.storage.getLastSuccessfulFetchResponse()]);if(Et&&de.isCachedDataFresh(W.cacheMaxAgeMillis,$e))return Et;W.eTag=Et&&Et.eTag;const $t=yield de.client.fetch(W),hn=[de.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===$t.status&&hn.push(de.storage.setLastSuccessfulFetchResponse($t)),yield Promise.all(hn),$t})()}}function Bi(F=navigator){return F.languages&&F.languages[0]||F.language}class Mi{constructor(W,de,$e,Et,$t,hn){this.firebaseInstallations=W,this.sdkVersion=de,this.namespace=$e,this.projectId=Et,this.apiKey=$t,this.appId=hn}fetch(W){var de=this;return(0,ke.A)(function*(){const[$e,Et]=yield Promise.all([de.firebaseInstallations.getId(),de.firebaseInstallations.getToken()]),hn=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${de.projectId}/namespaces/${de.namespace}:fetch?key=${de.apiKey}`,di={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":W.eTag||"*"},ai={sdk_version:de.sdkVersion,app_instance_id:$e,app_instance_id_token:Et,app_id:de.appId,language_code:Bi()},Kn={method:"POST",headers:di,body:JSON.stringify(ai)},Ei=fetch(hn,Kn),Lr=new Promise((ka,xc)=>{W.signal.addEventListener(()=>{const ja=new Error("The operation was aborted.");ja.name="AbortError",xc(ja)})});let xa;try{yield Promise.race([Ei,Lr]),xa=yield Ei}catch(ka){let xc="fetch-client-network";throw"AbortError"===ka?.name&&(xc="fetch-timeout"),Je.create(xc,{originalErrorMessage:ka?.message})}let Aa=xa.status;const il=xa.headers.get("ETag")||void 0;let ia,Wc;if(200===xa.status){let ka;try{ka=yield xa.json()}catch(xc){throw Je.create("fetch-client-parse",{originalErrorMessage:xc?.message})}ia=ka.entries,Wc=ka.state}if("INSTANCE_STATE_UNSPECIFIED"===Wc?Aa=500:"NO_CHANGE"===Wc?Aa=304:("NO_TEMPLATE"===Wc||"EMPTY_CONFIG"===Wc)&&(ia={}),304!==Aa&&200!==Aa)throw Je.create("fetch-status",{httpStatus:Aa});return{status:Aa,eTag:il,config:ia}})()}}class ws{constructor(W,de){this.client=W,this.storage=de}fetch(W){var de=this;return(0,ke.A)(function*(){const $e=(yield de.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return de.attemptFetch(W,$e)})()}attemptFetch(W,de){var $e=this;return(0,ke.A)(function*(Et,{throttleEndTimeMillis:$t,backoffCount:hn}){yield function Ws(F,W){return new Promise((de,$e)=>{const Et=Math.max(W-Date.now(),0),$t=setTimeout(de,Et);F.addEventListener(()=>{clearTimeout($t),$e(Je.create("fetch-throttle",{throttleEndTimeMillis:W}))})})}(Et.signal,$t);try{const di=yield $e.client.fetch(Et);return yield $e.storage.deleteThrottleMetadata(),di}catch(di){if(!function es(F){if(!(F instanceof R.g&&F.customData))return!1;const W=Number(F.customData.httpStatus);return 429===W||500===W||503===W||504===W}(di))throw di;const ai={throttleEndTimeMillis:Date.now()+(0,R.p9)(hn),backoffCount:hn+1};return yield $e.storage.setThrottleMetadata(ai),$e.attemptFetch(Et,ai)}}).apply(this,arguments)}}class No{constructor(W,de,$e,Et,$t){this.app=W,this._client=de,this._storageCache=$e,this._storage=Et,this._logger=$t,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function So(F,W){const de=F.target.error||void 0;return Je.create(W,{originalErrorMessage:de&&de?.message})}const bi="app_namespace_store";class kr{constructor(W,de,$e,Et=function Bs(){return new Promise((F,W)=>{try{const de=indexedDB.open("firebase_remote_config",1);de.onerror=$e=>{W(So($e,"storage-open"))},de.onsuccess=$e=>{F($e.target.result)},de.onupgradeneeded=$e=>{0===$e.oldVersion&&$e.target.result.createObjectStore(bi,{keyPath:"compositeKey"})}}catch(de){W(Je.create("storage-open",{originalErrorMessage:de?.message}))}})}()){this.appId=W,this.appName=de,this.namespace=$e,this.openDbPromise=Et}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(W){return this.set("last_fetch_status",W)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(W){return this.set("last_successful_fetch_timestamp_millis",W)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(W){return this.set("last_successful_fetch_response",W)}getActiveConfig(){return this.get("active_config")}setActiveConfig(W){return this.set("active_config",W)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(W){return this.set("active_config_etag",W)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(W){return this.set("throttle_metadata",W)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(W){var de=this;return(0,ke.A)(function*(){const $e=yield de.openDbPromise;return new Promise((Et,$t)=>{const di=$e.transaction([bi],"readonly").objectStore(bi),ai=de.createCompositeKey(W);try{const Kn=di.get(ai);Kn.onerror=Ei=>{$t(So(Ei,"storage-get"))},Kn.onsuccess=Ei=>{const Lr=Ei.target.result;Et(Lr?Lr.value:void 0)}}catch(Kn){$t(Je.create("storage-get",{originalErrorMessage:Kn?.message}))}})})()}set(W,de){var $e=this;return(0,ke.A)(function*(){const Et=yield $e.openDbPromise;return new Promise(($t,hn)=>{const ai=Et.transaction([bi],"readwrite").objectStore(bi),Kn=$e.createCompositeKey(W);try{const Ei=ai.put({compositeKey:Kn,value:de});Ei.onerror=Lr=>{hn(So(Lr,"storage-set"))},Ei.onsuccess=()=>{$t()}}catch(Ei){hn(Je.create("storage-set",{originalErrorMessage:Ei?.message}))}})})()}delete(W){var de=this;return(0,ke.A)(function*(){const $e=yield de.openDbPromise;return new Promise((Et,$t)=>{const di=$e.transaction([bi],"readwrite").objectStore(bi),ai=de.createCompositeKey(W);try{const Kn=di.delete(ai);Kn.onerror=Ei=>{$t(So(Ei,"storage-delete"))},Kn.onsuccess=()=>{Et()}}catch(Kn){$t(Je.create("storage-delete",{originalErrorMessage:Kn?.message}))}})})()}createCompositeKey(W){return[this.appId,this.appName,this.namespace,W].join()}}class da{constructor(W){this.storage=W}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var W=this;return(0,ke.A)(function*(){const de=W.storage.getLastFetchStatus(),$e=W.storage.getLastSuccessfulFetchTimestampMillis(),Et=W.storage.getActiveConfig(),$t=yield de;$t&&(W.lastFetchStatus=$t);const hn=yield $e;hn&&(W.lastSuccessfulFetchTimestampMillis=hn);const di=yield Et;di&&(W.activeConfig=di)})()}setLastFetchStatus(W){return this.lastFetchStatus=W,this.storage.setLastFetchStatus(W)}setLastSuccessfulFetchTimestampMillis(W){return this.lastSuccessfulFetchTimestampMillis=W,this.storage.setLastSuccessfulFetchTimestampMillis(W)}setActiveConfig(W){return this.activeConfig=W,this.storage.setActiveConfig(W)}}function Ra(){return Ps.apply(this,arguments)}function Ps(){return(Ps=(0,ke.A)(function*(){if(!(0,R.zW)())return!1;try{return yield(0,R.eX)()}catch{return!1}})).apply(this,arguments)}!function Do(){(0,ot._registerComponent)(new Ce.uA("remote-config",function F(W,{instanceIdentifier:de}){const $e=W.getProvider("app").getImmediate(),Et=W.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Je.create("registration-window");if(!(0,R.zW)())throw Je.create("indexed-db-unavailable");const{projectId:$t,apiKey:hn,appId:di}=$e.options;if(!$t)throw Je.create("registration-project-id");if(!hn)throw Je.create("registration-api-key");if(!di)throw Je.create("registration-app-id");const ai=new kr(di,$e.name,de=de||"firebase"),Kn=new da(ai),Ei=new xe.Vy(pr);Ei.logLevel=xe.$b.ERROR;const Lr=new Mi(Et,ot.SDK_VERSION,de,$t,hn,di),xa=new ws(Lr,ai),Aa=new Rn(xa,ai,Kn,Ei),il=new No($e,Aa,Kn,ai,Ei);return function cr(F){const W=(0,R.Ku)(F);W._initializePromise||(W._initializePromise=W._storageCache.loadFromStorage().then(()=>{W._isInitializationComplete=!0}))}(il),il},"PUBLIC").setMultipleInstances(!0)),(0,ot.registerVersion)(pr,"0.4.4"),(0,ot.registerVersion)(pr,"0.4.4","esm2017")}();const Ss=(F,W)=>W.some(de=>F instanceof de);let Us,Xo;const Wo=new WeakMap,_o=new WeakMap,us=new WeakMap,yo=new WeakMap,Xs=new WeakMap;let Zs={get(F,W,de){if(F instanceof IDBTransaction){if("done"===W)return _o.get(F);if("objectStoreNames"===W)return F.objectStoreNames||us.get(F);if("store"===W)return de.objectStoreNames[1]?void 0:de.objectStore(de.objectStoreNames[0])}return gs(F[W])},set:(F,W,de)=>(F[W]=de,!0),has:(F,W)=>F instanceof IDBTransaction&&("done"===W||"store"===W)||W in F};function Zo(F){return"function"==typeof F?function js(F){return F!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ha(){return Xo||(Xo=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(F)?function(...W){return F.apply(Ms(this),W),gs(Wo.get(this))}:function(...W){return gs(F.apply(Ms(this),W))}:function(W,...de){const $e=F.call(Ms(this),W,...de);return us.set($e,W.sort?W.sort():[W]),gs($e)}}(F):(F instanceof IDBTransaction&&function ms(F){if(_o.has(F))return;const W=new Promise((de,$e)=>{const Et=()=>{F.removeEventListener("complete",$t),F.removeEventListener("error",hn),F.removeEventListener("abort",hn)},$t=()=>{de(),Et()},hn=()=>{$e(F.error||new DOMException("AbortError","AbortError")),Et()};F.addEventListener("complete",$t),F.addEventListener("error",hn),F.addEventListener("abort",hn)});_o.set(F,W)}(F),Ss(F,function br(){return Us||(Us=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(F,Zs):F)}function gs(F){if(F instanceof IDBRequest)return function Uo(F){const W=new Promise((de,$e)=>{const Et=()=>{F.removeEventListener("success",$t),F.removeEventListener("error",hn)},$t=()=>{de(gs(F.result)),Et()},hn=()=>{$e(F.error),Et()};F.addEventListener("success",$t),F.addEventListener("error",hn)});return W.then(de=>{de instanceof IDBCursor&&Wo.set(de,F)}).catch(()=>{}),Xs.set(W,F),W}(F);if(yo.has(F))return yo.get(F);const W=Zo(F);return W!==F&&(yo.set(F,W),Xs.set(W,F)),W}const Ms=F=>Xs.get(F);function Ks(F,W,{blocked:de,upgrade:$e,blocking:Et,terminated:$t}={}){const hn=indexedDB.open(F,W),di=gs(hn);return $e&&hn.addEventListener("upgradeneeded",ai=>{$e(gs(hn.result),ai.oldVersion,ai.newVersion,gs(hn.transaction))}),de&&hn.addEventListener("blocked",()=>de()),di.then(ai=>{$t&&ai.addEventListener("close",()=>$t()),Et&&ai.addEventListener("versionchange",()=>Et())}).catch(()=>{}),di}function ts(F,{blocked:W}={}){const de=indexedDB.deleteDatabase(F);return W&&de.addEventListener("blocked",()=>W()),gs(de).then(()=>{})}const sa=["get","getKey","getAll","getAllKeys","count"],qs=["put","add","delete","clear"],Lo=new Map;function oa(F,W){if(!(F instanceof IDBDatabase)||W in F||"string"!=typeof W)return;if(Lo.get(W))return Lo.get(W);const de=W.replace(/FromIndex$/,""),$e=W!==de,Et=qs.includes(de);if(!(de in($e?IDBIndex:IDBObjectStore).prototype)||!Et&&!sa.includes(de))return;const $t=function(){var hn=(0,ke.A)(function*(di,...ai){const Kn=this.transaction(di,Et?"readwrite":"readonly");let Ei=Kn.store;return $e&&(Ei=Ei.index(ai.shift())),(yield Promise.all([Ei[de](...ai),Et&&Kn.done]))[0]});return function(ai){return hn.apply(this,arguments)}}();return Lo.set(W,$t),$t}!function ks(F){Zs=F(Zs)}(F=>({...F,get:(W,de,$e)=>oa(W,de)||F.get(W,de,$e),has:(W,de)=>!!oa(W,de)||F.has(W,de)}));const ue="/firebase-messaging-sw.js",me="/firebase-cloud-messaging-push-scope",X="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Se="https://fcmregistrations.googleapis.com/v1",st="google.c.a.c_id",hi="google.c.a.c_l",mr="google.c.a.ts";var ur=function(F){return F.PUSH_RECEIVED="push-received",F.NOTIFICATION_CLICKED="notification-clicked",F}(ur||{});function Rs(F){const W=new Uint8Array(F);return btoa(String.fromCharCode(...W)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Vo(F){const de=(F+"=".repeat((4-F.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),$e=atob(de),Et=new Uint8Array($e.length);for(let $t=0;$t<$e.length;++$t)Et[$t]=$e.charCodeAt($t);return Et}const Mo="fcm_token_details_db",Da=5,fa="fcm_token_object_Store";function aa(){return aa=(0,ke.A)(function*(F){if("databases"in indexedDB&&!(yield indexedDB.databases()).map($t=>$t.name).includes(Mo))return null;let W=null;return(yield Ks(Mo,Da,{upgrade:($e=(0,ke.A)(function*(Et,$t,hn,di){var ai;if($t<2||!Et.objectStoreNames.contains(fa))return;const Kn=di.objectStore(fa),Ei=yield Kn.index("fcmSenderId").get(F);if(yield Kn.clear(),Ei)if(2===$t){const Lr=Ei;if(!Lr.auth||!Lr.p256dh||!Lr.endpoint)return;W={token:Lr.fcmToken,createTime:null!==(ai=Lr.createTime)&&void 0!==ai?ai:Date.now(),subscriptionOptions:{auth:Lr.auth,p256dh:Lr.p256dh,endpoint:Lr.endpoint,swScope:Lr.swScope,vapidKey:"string"==typeof Lr.vapidKey?Lr.vapidKey:Rs(Lr.vapidKey)}}}else if(3===$t){const Lr=Ei;W={token:Lr.fcmToken,createTime:Lr.createTime,subscriptionOptions:{auth:Rs(Lr.auth),p256dh:Rs(Lr.p256dh),endpoint:Lr.endpoint,swScope:Lr.swScope,vapidKey:Rs(Lr.vapidKey)}}}else if(4===$t){const Lr=Ei;W={token:Lr.fcmToken,createTime:Lr.createTime,subscriptionOptions:{auth:Rs(Lr.auth),p256dh:Rs(Lr.p256dh),endpoint:Lr.endpoint,swScope:Lr.swScope,vapidKey:Rs(Lr.vapidKey)}}}}),function($t,hn,di,ai){return $e.apply(this,arguments)})})).close(),yield ts(Mo),yield ts("fcm_vapid_details_db"),yield ts("undefined"),function _a(F){if(!F||!F.subscriptionOptions)return!1;const{subscriptionOptions:W}=F;return"number"==typeof F.createTime&&F.createTime>0&&"string"==typeof F.token&&F.token.length>0&&"string"==typeof W.auth&&W.auth.length>0&&"string"==typeof W.p256dh&&W.p256dh.length>0&&"string"==typeof W.endpoint&&W.endpoint.length>0&&"string"==typeof W.swScope&&W.swScope.length>0&&"string"==typeof W.vapidKey&&W.vapidKey.length>0}(W)?W:null;var $e}),aa.apply(this,arguments)}const ao="firebase-messaging-database",Bo=1,Ro="firebase-messaging-store";let Ko=null;function rs(){return Ko||(Ko=Ks(ao,Bo,{upgrade:(F,W)=>{0===W&&F.createObjectStore(Ro)}})),Ko}function jo(F){return er.apply(this,arguments)}function er(){return er=(0,ke.A)(function*(F){const W=ea(F),$e=yield(yield rs()).transaction(Ro).objectStore(Ro).get(W);if($e)return $e;{const Et=yield function Oo(F){return aa.apply(this,arguments)}(F.appConfig.senderId);if(Et)return yield Oa(F,Et),Et}}),er.apply(this,arguments)}function Oa(F,W){return Jo.apply(this,arguments)}function Jo(){return(Jo=(0,ke.A)(function*(F,W){const de=ea(F),Et=(yield rs()).transaction(Ro,"readwrite");return yield Et.objectStore(Ro).put(W,de),yield Et.done,W})).apply(this,arguments)}function Hs(){return(Hs=(0,ke.A)(function*(F){const W=ea(F),$e=(yield rs()).transaction(Ro,"readwrite");yield $e.objectStore(Ro).delete(W),yield $e.done})).apply(this,arguments)}function ea({appConfig:F}){return F.appId}const Ns=new R.FA("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function va(F,W){return uo.apply(this,arguments)}function uo(){return(uo=(0,ke.A)(function*(F,W){const de=yield ca(F),$e=Ua(W),Et={method:"POST",headers:de,body:JSON.stringify($e)};let $t;try{$t=yield(yield fetch(Ys(F.appConfig),Et)).json()}catch(hn){throw Ns.create("token-subscribe-failed",{errorInfo:hn?.toString()})}if($t.error)throw Ns.create("token-subscribe-failed",{errorInfo:$t.error.message});if(!$t.token)throw Ns.create("token-subscribe-no-token");return $t.token})).apply(this,arguments)}function Na(){return(Na=(0,ke.A)(function*(F,W){const de=yield ca(F),$e=Ua(W.subscriptionOptions),Et={method:"PATCH",headers:de,body:JSON.stringify($e)};let $t;try{$t=yield(yield fetch(`${Ys(F.appConfig)}/${W.token}`,Et)).json()}catch(hn){throw Ns.create("token-update-failed",{errorInfo:hn?.toString()})}if($t.error)throw Ns.create("token-update-failed",{errorInfo:$t.error.message});if(!$t.token)throw Ns.create("token-update-no-token");return $t.token})).apply(this,arguments)}function xo(F,W){return Ho.apply(this,arguments)}function Ho(){return(Ho=(0,ke.A)(function*(F,W){const $e={method:"DELETE",headers:yield ca(F)};try{const $t=yield(yield fetch(`${Ys(F.appConfig)}/${W}`,$e)).json();if($t.error)throw Ns.create("token-unsubscribe-failed",{errorInfo:$t.error.message})}catch(Et){throw Ns.create("token-unsubscribe-failed",{errorInfo:Et?.toString()})}})).apply(this,arguments)}function Ys({projectId:F}){return`${Se}/projects/${F}/registrations`}function ca(F){return Mr.apply(this,arguments)}function Mr(){return(Mr=(0,ke.A)(function*({appConfig:F,installations:W}){const de=yield W.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":F.apiKey,"x-goog-firebase-installations-auth":`FIS ${de}`})})).apply(this,arguments)}function Ua({p256dh:F,auth:W,endpoint:de,vapidKey:$e}){const Et={web:{endpoint:de,auth:W,p256dh:F}};return $e!==X&&(Et.web.applicationPubKey=$e),Et}const $s=6048e5;function Fa(){return Fa=(0,ke.A)(function*(F){const W=yield function et(F,W){return pt.apply(this,arguments)}(F.swRegistration,F.vapidKey),de={vapidKey:F.vapidKey,swScope:F.swRegistration.scope,endpoint:W.endpoint,auth:Rs(W.getKey("auth")),p256dh:Rs(W.getKey("p256dh"))},$e=yield jo(F.firebaseDependencies);if($e){if(function T(F,W){return W.vapidKey===F.vapidKey&&W.endpoint===F.endpoint&&W.auth===F.auth&&W.p256dh===F.p256dh}($e.subscriptionOptions,de))return Date.now()>=$e.createTime+$s?function ne(F,W){return ge.apply(this,arguments)}(F,{token:$e.token,createTime:Date.now(),subscriptionOptions:de}):$e.token;try{yield xo(F.firebaseDependencies,$e.token)}catch(Et){console.warn(Et)}return Ie(F.firebaseDependencies,de)}return Ie(F.firebaseDependencies,de)}),Fa.apply(this,arguments)}function j(){return j=(0,ke.A)(function*(F){const W=yield jo(F.firebaseDependencies);W&&(yield xo(F.firebaseDependencies,W.token),yield function ya(F){return Hs.apply(this,arguments)}(F.firebaseDependencies));const de=yield F.swRegistration.pushManager.getSubscription();return!de||de.unsubscribe()}),j.apply(this,arguments)}function ge(){return ge=(0,ke.A)(function*(F,W){try{const de=yield function ba(F,W){return Na.apply(this,arguments)}(F.firebaseDependencies,W),$e=Object.assign(Object.assign({},W),{token:de,createTime:Date.now()});return yield Oa(F.firebaseDependencies,$e),de}catch(de){throw yield function w(F){return j.apply(this,arguments)}(F),de}}),ge.apply(this,arguments)}function Ie(F,W){return ze.apply(this,arguments)}function ze(){return(ze=(0,ke.A)(function*(F,W){const $e={token:yield va(F,W),createTime:Date.now(),subscriptionOptions:W};return yield Oa(F,$e),$e.token})).apply(this,arguments)}function pt(){return(pt=(0,ke.A)(function*(F,W){return(yield F.pushManager.getSubscription())||F.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Vo(W)})})).apply(this,arguments)}function re(F){const W={from:F.from,collapseKey:F.collapse_key,messageId:F.fcmMessageId};return function z(F,W){if(!W.notification)return;F.notification={};const de=W.notification.title;de&&(F.notification.title=de);const $e=W.notification.body;$e&&(F.notification.body=$e);const Et=W.notification.image;Et&&(F.notification.image=Et);const $t=W.notification.icon;$t&&(F.notification.icon=$t)}(W,F),function ce(F,W){W.data&&(F.data=W.data)}(W,F),function Ve(F,W){var de,$e,Et,$t,hn;if(!(W.fcmOptions||null!==(de=W.notification)&&void 0!==de&&de.click_action))return;F.fcmOptions={};const di=null!==(Et=null===($e=W.fcmOptions)||void 0===$e?void 0:$e.link)&&void 0!==Et?Et:null===($t=W.notification)||void 0===$t?void 0:$t.click_action;di&&(F.fcmOptions.link=di);const ai=null===(hn=W.fcmOptions)||void 0===hn?void 0:hn.analytics_label;ai&&(F.fcmOptions.analyticsLabel=ai)}(W,F),W}function sn(F,W){const de=[];for(let $e=0;$e<F.length;$e++)de.push(F.charAt($e)),$e<W.length&&de.push(W.charAt($e));return de.join("")}function kn(F){return Ns.create("missing-app-config-values",{valueName:F})}sn("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),sn("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class gr{constructor(W,de,$e){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Et=function vn(F){if(!F||!F.options)throw kn("App Configuration Object");if(!F.name)throw kn("App Name");const W=["projectId","apiKey","appId","messagingSenderId"],{options:de}=F;for(const $e of W)if(!de[$e])throw kn($e);return{appName:F.name,projectId:de.projectId,apiKey:de.apiKey,appId:de.appId,senderId:de.messagingSenderId}}(W);this.firebaseDependencies={app:W,appConfig:Et,installations:de,analyticsProvider:$e}}_delete(){return Promise.resolve()}}function Ki(){return(Ki=(0,ke.A)(function*(F){try{F.swRegistration=yield navigator.serviceWorker.register(ue,{scope:me}),F.swRegistration.update().catch(()=>{})}catch(W){throw Ns.create("failed-service-worker-registration",{browserErrorMessage:W?.message})}})).apply(this,arguments)}function _s(){return(_s=(0,ke.A)(function*(F,W){if(!W&&!F.swRegistration&&(yield function Dr(F){return Ki.apply(this,arguments)}(F)),W||!F.swRegistration){if(!(W instanceof ServiceWorkerRegistration))throw Ns.create("invalid-sw-registration");F.swRegistration=W}})).apply(this,arguments)}function ho(){return(ho=(0,ke.A)(function*(F,W){W?F.vapidKey=W:F.vapidKey||(F.vapidKey=X)})).apply(this,arguments)}function yr(){return yr=(0,ke.A)(function*(F,W){if(!navigator)throw Ns.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Ns.create("permission-blocked");return yield function zs(F,W){return ho.apply(this,arguments)}(F,W?.vapidKey),yield function Os(F,W){return _s.apply(this,arguments)}(F,W?.serviceWorkerRegistration),function Po(F){return Fa.apply(this,arguments)}(F)}),yr.apply(this,arguments)}function Js(){return(Js=(0,ke.A)(function*(F,W,de){const $e=function ro(F){switch(F){case ur.NOTIFICATION_CLICKED:return"notification_open";case ur.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(W);(yield F.firebaseDependencies.analyticsProvider.get()).logEvent($e,{message_id:de[st],message_name:de[hi],message_time:de[mr],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function On(){return On=(0,ke.A)(function*(F,W){const de=W.data;if(!de.isFirebaseMessaging)return;F.onMessageHandler&&de.messageType===ur.PUSH_RECEIVED&&("function"==typeof F.onMessageHandler?F.onMessageHandler(re(de)):F.onMessageHandler.next(re(de)));const $e=de.data;(function kt(F){return"object"==typeof F&&!!F&&st in F})($e)&&"1"===$e["google.c.a.e"]&&(yield function $r(F,W,de){return Js.apply(this,arguments)}(F,de.messageType,$e))}),On.apply(this,arguments)}const Ui="@firebase/messaging",Ta=F=>{const W=new gr(F.getProvider("app").getImmediate(),F.getProvider("installations-internal").getImmediate(),F.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",de=>function Ea(F,W){return On.apply(this,arguments)}(W,de)),W},Wn=F=>{const W=F.getProvider("messaging").getImmediate();return{getToken:$e=>function io(F,W){return yr.apply(this,arguments)}(W,$e)}};function Ya(){return Vn.apply(this,arguments)}function Vn(){return(Vn=(0,ke.A)(function*(){try{yield(0,R.eX)()}catch{return!1}return typeof window<"u"&&(0,R.zW)()&&(0,R.dM)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Ti(){(0,ot._registerComponent)(new Ce.uA("messaging",Ta,"PUBLIC")),(0,ot._registerComponent)(new Ce.uA("messaging-internal",Wn,"PRIVATE")),(0,ot.registerVersion)(Ui,"0.12.4"),(0,ot.registerVersion)(Ui,"0.12.4","esm2017")}();const dt="analytics",Kt="firebase_id",nn="origin",fn=6e4,K="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",O="https://www.googletagmanager.com/gtag/js",V=new xe.Vy("@firebase/analytics"),je=new R.FA("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Pt(F){if(!F.startsWith(O)){const W=je.create("invalid-gtag-resource",{gtagURL:F});return V.warn(W.message),""}return F}function zt(F){return Promise.all(F.map(W=>W.catch(de=>de)))}function wn(){return(wn=(0,ke.A)(function*(F,W,de,$e,Et,$t){const hn=$e[Et];try{if(hn)yield W[hn];else{const ai=(yield zt(de)).find(Kn=>Kn.measurementId===Et);ai&&(yield W[ai.appId])}}catch(di){V.error(di)}F("config",Et,$t)})).apply(this,arguments)}function nt(){return(nt=(0,ke.A)(function*(F,W,de,$e,Et){try{let $t=[];if(Et&&Et.send_to){let hn=Et.send_to;Array.isArray(hn)||(hn=[hn]);const di=yield zt(de);for(const ai of hn){const Kn=di.find(Lr=>Lr.measurementId===ai),Ei=Kn&&W[Kn.appId];if(!Ei){$t=[];break}$t.push(Ei)}}0===$t.length&&($t=Object.values(W)),yield Promise.all($t),F("event",$e,Et||{})}catch($t){V.error($t)}})).apply(this,arguments)}const xi=30,ys=new class dr{constructor(W={},de=1e3){this.throttleMetadata=W,this.intervalMillis=de}getThrottleMetadata(W){return this.throttleMetadata[W]}setThrottleMetadata(W,de){this.throttleMetadata[W]=de}deleteThrottleMetadata(W){delete this.throttleMetadata[W]}};function $n(F){return new Headers({Accept:"application/json","x-goog-api-key":F})}function Qi(){return(Qi=(0,ke.A)(function*(F){var W;const{appId:de,apiKey:$e}=F,Et={method:"GET",headers:$n($e)},$t=K.replace("{app-id}",de),hn=yield fetch($t,Et);if(200!==hn.status&&304!==hn.status){let di="";try{const ai=yield hn.json();null!==(W=ai.error)&&void 0!==W&&W.message&&(di=ai.error.message)}catch{}throw je.create("config-fetch-failed",{httpStatus:hn.status,responseMessage:di})}return hn.json()})).apply(this,arguments)}function Rr(){return(Rr=(0,ke.A)(function*(F,W=ys,de){const{appId:$e,apiKey:Et,measurementId:$t}=F.options;if(!$e)throw je.create("no-app-id");if(!Et){if($t)return{measurementId:$t,appId:$e};throw je.create("no-api-key")}const hn=W.getThrottleMetadata($e)||{backoffCount:0,throttleEndTimeMillis:Date.now()},di=new k;return setTimeout((0,ke.A)(function*(){di.abort()}),void 0!==de?de:fn),eo({appId:$e,apiKey:Et,measurementId:$t},hn,di,W)})).apply(this,arguments)}function eo(F,W,de){return Ht.apply(this,arguments)}function Ht(){return Ht=(0,ke.A)(function*(F,{throttleEndTimeMillis:W,backoffCount:de},$e,Et=ys){var $t;const{appId:hn,measurementId:di}=F;try{yield function $o(F,W){return new Promise((de,$e)=>{const Et=Math.max(W-Date.now(),0),$t=setTimeout(de,Et);F.addEventListener(()=>{clearTimeout($t),$e(je.create("fetch-throttle",{throttleEndTimeMillis:W}))})})}($e,W)}catch(ai){if(di)return V.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${di} provided in the "measurementId" field in the local Firebase config. [${ai?.message}]`),{appId:hn,measurementId:di};throw ai}try{const ai=yield function mi(F){return Qi.apply(this,arguments)}(F);return Et.deleteThrottleMetadata(hn),ai}catch(ai){const Kn=ai;if(!function qi(F){if(!(F instanceof R.g&&F.customData))return!1;const W=Number(F.customData.httpStatus);return 429===W||500===W||503===W||504===W}(Kn)){if(Et.deleteThrottleMetadata(hn),di)return V.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${di} provided in the "measurementId" field in the local Firebase config. [${Kn?.message}]`),{appId:hn,measurementId:di};throw ai}const Ei=503===Number(null===($t=Kn?.customData)||void 0===$t?void 0:$t.httpStatus)?(0,R.p9)(de,Et.intervalMillis,xi):(0,R.p9)(de,Et.intervalMillis),Lr={throttleEndTimeMillis:Date.now()+Ei,backoffCount:de+1};return Et.setThrottleMetadata(hn,Lr),V.debug(`Calling attemptFetch again in ${Ei} millis`),eo(F,Lr,$e,Et)}}),Ht.apply(this,arguments)}class k{constructor(){this.listeners=[]}addEventListener(W){this.listeners.push(W)}abort(){this.listeners.forEach(W=>W())}}let H,f;function G(){return(G=(0,ke.A)(function*(F,W,de,$e,Et){if(Et&&Et.global)F("event",de,$e);else{const $t=yield W;F("event",de,Object.assign(Object.assign({},$e),{send_to:$t}))}})).apply(this,arguments)}function b(){return(b=(0,ke.A)(function*(){if(!(0,R.zW)())return V.warn(je.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,R.eX)()}catch(F){return V.warn(je.create("indexeddb-unavailable",{errorInfo:F?.toString()}).message),!1}return!0})).apply(this,arguments)}function x(){return x=(0,ke.A)(function*(F,W,de,$e,Et,$t,hn){var di;const ai=function ns(F){return Rr.apply(this,arguments)}(F);ai.then(Aa=>{de[Aa.measurementId]=Aa.appId,F.options.measurementId&&Aa.measurementId!==F.options.measurementId&&V.warn(`The measurement ID in the local Firebase config (${F.options.measurementId}) does not match the measurement ID fetched from the server (${Aa.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Aa=>V.error(Aa)),W.push(ai);const Kn=function m(){return b.apply(this,arguments)}().then(Aa=>{if(Aa)return $e.getId()}),[Ei,Lr]=yield Promise.all([ai,Kn]);(function Ln(F){const W=window.document.getElementsByTagName("script");for(const de of Object.values(W))if(de.src&&de.src.includes(O)&&de.src.includes(F))return de;return null})($t)||function oi(F,W){const de=function li(F,W){let de;return window.trustedTypes&&(de=window.trustedTypes.createPolicy(F,W)),de}("firebase-js-sdk-policy",{createScriptURL:Pt}),$e=document.createElement("script"),Et=`${O}?l=${F}&id=${W}`;$e.src=de?de?.createScriptURL(Et):Et,$e.async=!0,document.head.appendChild($e)}($t,Ei.measurementId),f&&(Et("consent","default",f),function c(F){f=F}(void 0)),Et("js",new Date);const xa=null!==(di=hn?.config)&&void 0!==di?di:{};return xa[nn]="firebase",xa.update=!0,null!=Lr&&(xa[Kt]=Lr),Et("config",Ei.measurementId,xa),H&&(Et("set",H),function h(F){H=F}(void 0)),Ei.measurementId}),x.apply(this,arguments)}class L{constructor(W){this.app=W}_delete(){return delete q[this.app.options.appId],Promise.resolve()}}let q={},pe=[];const be={};let gt,Tt,Be="dataLayer",Zt=!1;function Un(F,W,de){!function pn(){const F=[];if((0,R.sr)()&&F.push("This is a browser extension environment."),(0,R.dM)()||F.push("Cookies are not available."),F.length>0){const W=F.map(($e,Et)=>`(${Et+1}) ${$e}`).join(" "),de=je.create("invalid-analytics-context",{errorInfo:W});V.warn(de.message)}}();const $e=F.options.appId;if(!$e)throw je.create("no-app-id");if(!F.options.apiKey){if(!F.options.measurementId)throw je.create("no-api-key");V.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${F.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=q[$e])throw je.create("already-exists",{id:$e});if(!Zt){!function Vi(F){let W=[];Array.isArray(window[F])?W=window[F]:window[F]=W}(Be);const{wrappedGtag:$t,gtagCore:hn}=function Hn(F,W,de,$e,Et){let $t=function(...hn){window[$e].push(arguments)};return window[Et]&&"function"==typeof window[Et]&&($t=window[Et]),window[Et]=function bt(F,W,de,$e){function $t(){return $t=(0,ke.A)(function*(hn,...di){try{if("event"===hn){const[ai,Kn]=di;yield function fe(F,W,de,$e,Et){return nt.apply(this,arguments)}(F,W,de,ai,Kn)}else if("config"===hn){const[ai,Kn]=di;yield function tr(F,W,de,$e,Et,$t){return wn.apply(this,arguments)}(F,W,de,$e,ai,Kn)}else if("consent"===hn){const[ai]=di;F("consent","update",ai)}else if("get"===hn){const[ai,Kn,Ei]=di;F("get",ai,Kn,Ei)}else if("set"===hn){const[ai]=di;F("set",ai)}else F(hn,...di)}catch(ai){V.error(ai)}}),$t.apply(this,arguments)}return function Et(hn){return $t.apply(this,arguments)}}($t,F,W,de),{gtagCore:$t,wrappedGtag:window[Et]}}(q,pe,be,Be,"gtag");Tt=$t,gt=hn,Zt=!0}return q[$e]=function C(F,W,de,$e,Et,$t,hn){return x.apply(this,arguments)}(F,pe,be,W,gt,Be,de),new L(F)}function Gn(){return Ai.apply(this,arguments)}function Ai(){return(Ai=(0,ke.A)(function*(){if((0,R.sr)()||!(0,R.dM)()||!(0,R.zW)())return!1;try{return yield(0,R.eX)()}catch{return!1}})).apply(this,arguments)}const Eo="@firebase/analytics";!function Xr(){(0,ot._registerComponent)(new Ce.uA(dt,(W,{options:de})=>Un(W.getProvider("app").getImmediate(),W.getProvider("installations-internal").getImmediate(),de),"PUBLIC")),(0,ot._registerComponent)(new Ce.uA("analytics-internal",function F(W){try{const de=W.getProvider(dt).getImmediate();return{logEvent:($e,Et,$t)=>function so(F,W,de,$e){F=(0,R.Ku)(F),function S(F,W,de,$e,Et){return G.apply(this,arguments)}(Tt,q[F.app.options.appId],W,de,$e).catch(Et=>V.error(Et))}(de,$e,Et,$t)}}catch(de){throw je.create("interop-component-reg-failed",{reason:de})}},"PRIVATE")),(0,ot.registerVersion)(Eo,"0.10.0"),(0,ot.registerVersion)(Eo,"0.10.0","esm2017")}();var gc=ee(6780),Yo=ee(3604);const Ic=new class cc extends Yo.q{}(class ta extends gc.R{constructor(W,de){super(W,de),this.scheduler=W,this.work=de}schedule(W,de=0){return de>0?super.schedule(W,de):(this.delay=de,this.state=W,this.scheduler.flush(this),this)}execute(W,de){return de>0||this.closed?super.execute(W,de):this._execute(W,de)}requestAsyncId(W,de,$e=0){return null!=$e&&$e>0||null==$e&&this.delay>0?super.requestAsyncId(W,de,$e):(W.flush(this),0)}});var _c=ee(3236),tc=ee(1985),po=ee(8141),lc=ee(6745),uc=ee(941);const el=new l.RxE("7.6.1"),dc="__angularfire_symbol__analyticsIsSupportedValue",jc="__angularfire_symbol__analyticsIsSupported",Qa="__angularfire_symbol__remoteConfigIsSupportedValue",hc="__angularfire_symbol__remoteConfigIsSupported",Dc="__angularfire_symbol__messagingIsSupportedValue",fc="__angularfire_symbol__messagingIsSupported";function nc(F,W,de){if(W){if(1===W.length)return W[0];const $t=W.filter(hn=>hn.app===de);if(1===$t.length)return $t[0]}return de.container.getProvider(F).getImmediate({optional:!0})}globalThis[jc]||(globalThis[jc]=Gn().then(F=>globalThis[dc]=F).catch(()=>globalThis[dc]=!1)),globalThis[fc]||(globalThis[fc]=Ya().then(F=>globalThis[Dc]=F).catch(()=>globalThis[Dc]=!1)),globalThis[hc]||(globalThis[hc]=Ra().then(F=>globalThis[Qa]=F).catch(()=>globalThis[Qa]=!1));const hl=(F,W)=>{const de=W?[W]:(0,Le.Dk)(),$e=[];return de.forEach(Et=>{Et.container.getProvider(F).instances.forEach(hn=>{$e.includes(hn)||$e.push(hn)})}),$e};function yc(){}class Tc{constructor(W,de=Ic){this.zone=W,this.delegate=de}now(){return this.delegate.now()}schedule(W,de,$e){const Et=this.zone;return this.delegate.schedule(function(hn){Et.runGuarded(()=>{W.apply(this,[hn])})},de,$e)}}class Hc{constructor(W){this.zone=W,this.task=null}call(W,de){const $e=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",yc,{},yc,yc)),de.pipe((0,po.M)({next:$e,complete:$e,error:$e})).subscribe(W).add($e)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let $c=(()=>{class F{constructor(de){this.ngZone=de,this.outsideAngular=de.runOutsideAngular(()=>new Tc(Zone.current)),this.insideAngular=de.run(()=>new Tc(Zone.current,_c.E)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return F.\u0275fac=function(de){return new(de||F)(l.KVO(l.SKi))},F.\u0275prov=l.jDH({token:F,factory:F.\u0275fac,providedIn:"root"}),F})();function na(){const F=globalThis.\u0275AngularFireScheduler;if(!F)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return F}function ic(F){return na().ngZone.run(()=>F())}function Fu(F){return na(),function su(F){return function(de){return(de=de.lift(new Hc(F.ngZone))).pipe((0,lc._)(F.outsideAngular),(0,uc.Q)(F.insideAngular))}}(na())(F)}const zc=(F,W)=>function(){const $e=arguments;return W&&setTimeout(()=>{"scheduled"===W.state&&W.invoke()},10),ic(()=>F.apply(void 0,$e))},Gc=(F,W)=>function(){let de;const $e=arguments;for(let $t=0;$t<arguments.length;$t++)"function"==typeof $e[$t]&&(W&&(de||(de=ic(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",yc,{},yc,yc)))),$e[$t]=zc($e[$t],de));const Et=function Nu(F){return na().ngZone.runOutsideAngular(()=>F())}(()=>F.apply(this,$e));if(!W){if(Et instanceof tc.c){const $t=na();return Et.pipe((0,lc._)($t.outsideAngular),(0,uc.Q)($t.insideAngular))}return ic(()=>Et)}return Et instanceof tc.c?Et.pipe(Fu):Et instanceof Promise?ic(()=>new Promise(($t,hn)=>Et.then(di=>ic(()=>$t(di)),di=>ic(()=>hn(di))))):"function"==typeof Et&&de?function(){return setTimeout(()=>{de&&"scheduled"===de.state&&de.invoke()},10),Et.apply(this,arguments)}:ic(()=>Et)}},1076:(ei,Nt,ee)=>{ee.d(Nt,{Am:()=>Or,Bd:()=>Mt,FA:()=>qt,Fy:()=>At,I9:()=>ni,Im:()=>ir,K3:()=>Ce,Ku:()=>_r,T9:()=>vt,Tj:()=>wi,Uj:()=>ft,XA:()=>cn,ZQ:()=>Lt,bD:()=>zi,cY:()=>Dt,dM:()=>Vt,eX:()=>Gr,g:()=>Rt,gR:()=>ti,hp:()=>Di,jZ:()=>rt,lT:()=>Ii,lV:()=>fi,nr:()=>hr,p9:()=>Jr,sr:()=>yn,tD:()=>fr,u:()=>Pe,yU:()=>Ci,zW:()=>xn,zw:()=>mt});const ot=function(Xe){const ve=[];let Ae=0;for(let Ee=0;Ee<Xe.length;Ee++){let we=Xe.charCodeAt(Ee);we<128?ve[Ae++]=we:we<2048?(ve[Ae++]=we>>6|192,ve[Ae++]=63&we|128):55296==(64512&we)&&Ee+1<Xe.length&&56320==(64512&Xe.charCodeAt(Ee+1))?(we=65536+((1023&we)<<10)+(1023&Xe.charCodeAt(++Ee)),ve[Ae++]=we>>18|240,ve[Ae++]=we>>12&63|128,ve[Ae++]=we>>6&63|128,ve[Ae++]=63&we|128):(ve[Ae++]=we>>12|224,ve[Ae++]=we>>6&63|128,ve[Ae++]=63&we|128)}return ve},Ce={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Xe,ve){if(!Array.isArray(Xe))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Ae=ve?this.byteToCharMapWebSafe_:this.byteToCharMap_,Ee=[];for(let we=0;we<Xe.length;we+=3){const Ct=Xe[we],an=we+1<Xe.length,mn=an?Xe[we+1]:0,si=we+2<Xe.length,jn=si?Xe[we+2]:0;let ki=(15&mn)<<2|jn>>6,_t=63&jn;si||(_t=64,an||(ki=64)),Ee.push(Ae[Ct>>2],Ae[(3&Ct)<<4|mn>>4],Ae[ki],Ae[_t])}return Ee.join("")},encodeString(Xe,ve){return this.HAS_NATIVE_SUPPORT&&!ve?btoa(Xe):this.encodeByteArray(ot(Xe),ve)},decodeString(Xe,ve){return this.HAS_NATIVE_SUPPORT&&!ve?atob(Xe):function(Xe){const ve=[];let Ae=0,Ee=0;for(;Ae<Xe.length;){const we=Xe[Ae++];if(we<128)ve[Ee++]=String.fromCharCode(we);else if(we>191&&we<224){const Ct=Xe[Ae++];ve[Ee++]=String.fromCharCode((31&we)<<6|63&Ct)}else if(we>239&&we<365){const si=((7&we)<<18|(63&Xe[Ae++])<<12|(63&Xe[Ae++])<<6|63&Xe[Ae++])-65536;ve[Ee++]=String.fromCharCode(55296+(si>>10)),ve[Ee++]=String.fromCharCode(56320+(1023&si))}else{const Ct=Xe[Ae++],an=Xe[Ae++];ve[Ee++]=String.fromCharCode((15&we)<<12|(63&Ct)<<6|63&an)}}return ve.join("")}(this.decodeStringToByteArray(Xe,ve))},decodeStringToByteArray(Xe,ve){this.init_();const Ae=ve?this.charToByteMapWebSafe_:this.charToByteMap_,Ee=[];for(let we=0;we<Xe.length;){const Ct=Ae[Xe.charAt(we++)],mn=we<Xe.length?Ae[Xe.charAt(we)]:0;++we;const jn=we<Xe.length?Ae[Xe.charAt(we)]:64;++we;const Qn=we<Xe.length?Ae[Xe.charAt(we)]:64;if(++we,null==Ct||null==mn||null==jn||null==Qn)throw new xe;Ee.push(Ct<<2|mn>>4),64!==jn&&(Ee.push(mn<<4&240|jn>>2),64!==Qn&&Ee.push(jn<<6&192|Qn))}return Ee},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Xe=0;Xe<this.ENCODED_VALS.length;Xe++)this.byteToCharMap_[Xe]=this.ENCODED_VALS.charAt(Xe),this.charToByteMap_[this.byteToCharMap_[Xe]]=Xe,this.byteToCharMapWebSafe_[Xe]=this.ENCODED_VALS_WEBSAFE.charAt(Xe),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Xe]]=Xe,Xe>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Xe)]=Xe,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Xe)]=Xe)}}};class xe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ft=function(Xe){return function(Xe){const ve=ot(Xe);return Ce.encodeByteArray(ve,!0)}(Xe).replace(/\./g,"")},Pe=function(Xe){try{return Ce.decodeString(Xe,!0)}catch(ve){console.error("base64Decode failed: ",ve)}return null};function mt(Xe,ve){if(!(ve instanceof Object))return ve;switch(ve.constructor){case Date:return new Date(ve.getTime());case Object:void 0===Xe&&(Xe={});break;case Array:Xe=[];break;default:return ve}for(const Ae in ve)!ve.hasOwnProperty(Ae)||!Ft(Ae)||(Xe[Ae]=mt(Xe[Ae],ve[Ae]));return Xe}function Ft(Xe){return"__proto__"!==Xe}const Tn=()=>{try{return function tt(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const Xe=process.env.__FIREBASE_DEFAULTS__;return Xe?JSON.parse(Xe):void 0})()||(()=>{if(typeof document>"u")return;let Xe;try{Xe=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const ve=Xe&&Pe(Xe[1]);return ve&&JSON.parse(ve)})()}catch(Xe){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Xe}`)}},wi=Xe=>{var ve,Ae;return null===(Ae=null===(ve=Tn())||void 0===ve?void 0:ve.emulatorHosts)||void 0===Ae?void 0:Ae[Xe]},Ci=Xe=>{const ve=wi(Xe);if(!ve)return;const Ae=ve.lastIndexOf(":");if(Ae<=0||Ae+1===ve.length)throw new Error(`Invalid host ${ve} with no separate hostname and port!`);const Ee=parseInt(ve.substring(Ae+1),10);return"["===ve[0]?[ve.substring(1,Ae-1),Ee]:[ve.substring(0,Ae),Ee]},vt=()=>{var Xe;return null===(Xe=Tn())||void 0===Xe?void 0:Xe.config},cn=Xe=>{var ve;return null===(ve=Tn())||void 0===ve?void 0:ve[`_${Xe}`]};class Dt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((ve,Ae)=>{this.resolve=ve,this.reject=Ae})}wrapCallback(ve){return(Ae,Ee)=>{Ae?this.reject(Ae):this.resolve(Ee),"function"==typeof ve&&(this.promise.catch(()=>{}),1===ve.length?ve(Ae):ve(Ae,Ee))}}}function At(Xe,ve){if(Xe.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Ee=ve||"demo-project",we=Xe.iat||0,Ct=Xe.sub||Xe.user_id;if(!Ct)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const an=Object.assign({iss:`https://securetoken.google.com/${Ee}`,aud:Ee,iat:we,exp:we+3600,auth_time:we,sub:Ct,user_id:Ct,firebase:{sign_in_provider:"custom",identities:{}}},Xe);return[ft(JSON.stringify({alg:"none",type:"JWT"})),ft(JSON.stringify(an)),""].join(".")}function Lt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function rt(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Lt())}function Mt(){return"object"==typeof self&&self.self===self}function yn(){const Xe="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Xe&&void 0!==Xe.id}function fi(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ii(){const Xe=Lt();return Xe.indexOf("MSIE ")>=0||Xe.indexOf("Trident/")>=0}function hr(){return!function Qt(){var Xe;const ve=null===(Xe=Tn())||void 0===Xe?void 0:Xe.forceEnvironment;if("node"===ve)return!0;if("browser"===ve)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function xn(){try{return"object"==typeof indexedDB}catch{return!1}}function Gr(){return new Promise((Xe,ve)=>{try{let Ae=!0;const Ee="validate-browser-context-for-indexeddb-analytics-module",we=self.indexedDB.open(Ee);we.onsuccess=()=>{we.result.close(),Ae||self.indexedDB.deleteDatabase(Ee),Xe(!0)},we.onupgradeneeded=()=>{Ae=!1},we.onerror=()=>{var Ct;ve((null===(Ct=we.error)||void 0===Ct?void 0:Ct.message)||"")}}catch(Ae){ve(Ae)}})}function Vt(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Rt extends Error{constructor(ve,Ae,Ee){super(Ae),this.code=ve,this.customData=Ee,this.name="FirebaseError",Object.setPrototypeOf(this,Rt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,qt.prototype.create)}}class qt{constructor(ve,Ae,Ee){this.service=ve,this.serviceName=Ae,this.errors=Ee}create(ve,...Ae){const Ee=Ae[0]||{},we=`${this.service}/${ve}`,Ct=this.errors[ve],an=Ct?function ln(Xe,ve){return Xe.replace(Ut,(Ae,Ee)=>{const we=ve[Ee];return null!=we?String(we):`<${Ee}?>`})}(Ct,Ee):"Error";return new Rt(we,`${this.serviceName}: ${an} (${we}).`,Ee)}}const Ut=/\{\$([^}]+)}/g;function ti(Xe,ve){return Object.prototype.hasOwnProperty.call(Xe,ve)}function ir(Xe){for(const ve in Xe)if(Object.prototype.hasOwnProperty.call(Xe,ve))return!1;return!0}function zi(Xe,ve){if(Xe===ve)return!0;const Ae=Object.keys(Xe),Ee=Object.keys(ve);for(const we of Ae){if(!Ee.includes(we))return!1;const Ct=Xe[we],an=ve[we];if(Wr(Ct)&&Wr(an)){if(!zi(Ct,an))return!1}else if(Ct!==an)return!1}for(const we of Ee)if(!Ae.includes(we))return!1;return!0}function Wr(Xe){return null!==Xe&&"object"==typeof Xe}function Or(Xe){const ve=[];for(const[Ae,Ee]of Object.entries(Xe))Array.isArray(Ee)?Ee.forEach(we=>{ve.push(encodeURIComponent(Ae)+"="+encodeURIComponent(we))}):ve.push(encodeURIComponent(Ae)+"="+encodeURIComponent(Ee));return ve.length?"&"+ve.join("&"):""}function ni(Xe){const ve={};return Xe.replace(/^\?/,"").split("&").forEach(Ee=>{if(Ee){const[we,Ct]=Ee.split("=");ve[decodeURIComponent(we)]=decodeURIComponent(Ct)}}),ve}function Di(Xe){const ve=Xe.indexOf("?");if(!ve)return"";const Ae=Xe.indexOf("#",ve);return Xe.substring(ve,Ae>0?Ae:void 0)}function fr(Xe,ve){const Ae=new Br(Xe,ve);return Ae.subscribe.bind(Ae)}class Br{constructor(ve,Ae){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Ae,this.task.then(()=>{ve(this)}).catch(Ee=>{this.error(Ee)})}next(ve){this.forEachObserver(Ae=>{Ae.next(ve)})}error(ve){this.forEachObserver(Ae=>{Ae.error(ve)}),this.close(ve)}complete(){this.forEachObserver(ve=>{ve.complete()}),this.close()}subscribe(ve,Ae,Ee){let we;if(void 0===ve&&void 0===Ae&&void 0===Ee)throw new Error("Missing Observer.");we=function ii(Xe,ve){if("object"!=typeof Xe||null===Xe)return!1;for(const Ae of ve)if(Ae in Xe&&"function"==typeof Xe[Ae])return!0;return!1}(ve,["next","error","complete"])?ve:{next:ve,error:Ae,complete:Ee},void 0===we.next&&(we.next=wr),void 0===we.error&&(we.error=wr),void 0===we.complete&&(we.complete=wr);const Ct=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?we.error(this.finalError):we.complete()}catch{}}),this.observers.push(we),Ct}unsubscribeOne(ve){void 0===this.observers||void 0===this.observers[ve]||(delete this.observers[ve],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(ve){if(!this.finalized)for(let Ae=0;Ae<this.observers.length;Ae++)this.sendOne(Ae,ve)}sendOne(ve,Ae){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[ve])try{Ae(this.observers[ve])}catch(Ee){typeof console<"u"&&console.error&&console.error(Ee)}})}close(ve){this.finalized||(this.finalized=!0,void 0!==ve&&(this.finalError=ve),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function wr(){}const Ur=1e3,Kr=2,Cr=144e5,Ir=.5;function Jr(Xe,ve=Ur,Ae=Kr){const Ee=ve*Math.pow(Ae,Xe),we=Math.round(Ir*Ee*(Math.random()-.5)*2);return Math.min(Cr,Ee+we)}function _r(Xe){return Xe&&Xe._delegate?Xe._delegate:Xe}},3093:(ei,Nt,ee)=>{ee.d(Nt,{n:()=>Le});var l=ee(7705);let Le=(()=>{class ke{constructor(){this.currentYear=2025}static{this.\u0275fac=function(Ce){return new(Ce||ke)}}static{this.\u0275cmp=l.VBU({type:ke,selectors:[["app-footer"]],decls:6,vars:1,consts:[[1,"bg-light","text-dark","mt-5"],[1,"bg-white","border-top","text-center","py-2"],["target","_blank","href","https://akrivo.lk",1,"link-dark"]],template:function(Ce,xe){1&Ce&&(l.j41(0,"footer",0)(1,"div",1)(2,"small"),l.EFF(3),l.j41(4,"a",2),l.EFF(5,"Sanu Vithanage"),l.k0s()()()()),2&Ce&&(l.R7$(3),l.SpI("\xa9 ",xe.currentYear," Coop App. All rights reserved. "))}})}}return ke})()},1895:(ei,Nt,ee)=>{ee.r(Nt),ee.d(Nt,{DashboardModule:()=>Bu});var l=ee(177),Le=ee(6884),ke=ee(4147),ot=ee(467),R=ee(7705),Ce=ee(1142),xe=ee(9816),at=ee(8455),ft=ee(6354);let Pe=(()=>{class se{constructor(A){this.firestore=A,this.colRef=(0,xe.rJ)(this.firestore,"colleges")}getColleges(){const A=(0,xe.P)(this.colRef);return(0,at.H)((0,xe.GG)(A)).pipe((0,ft.T)(Q=>Q.docs.map(Me=>({id:Me.id,...Me.data()}))))}addCollege(A){return(0,xe.gS)(this.colRef,A)}updateCollege(A,Q){const Me=(0,xe.H9)(this.firestore,"colleges",A);return(0,xe.mZ)(Me,Q)}deleteCollege(A){const Q=(0,xe.H9)(this.firestore,"colleges",A);return(0,xe.kd)(Q)}static{this.\u0275fac=function(Q){return new(Q||se)(R.KVO(xe._7))}}static{this.\u0275prov=R.jDH({token:se,factory:se.\u0275fac,providedIn:"root"})}}return se})();var He=ee(9417),mt=ee(4796);let Ft=(()=>{class se{constructor(A,Q){this.authSer=A,this.router=Q}onLogout(){this.authSer.signOut(),this.router.navigate(["/auth/login"])}static{this.\u0275fac=function(Q){return new(Q||se)(R.rXU(mt.u),R.rXU(ke.Ix))}}static{this.\u0275cmp=R.VBU({type:se,selectors:[["app-header"]],decls:27,vars:0,consts:[["href","https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css","rel","stylesheet"],["href","https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css","rel","stylesheet"],[1,"navbar","navbar-expand-lg","navbar-light","bg-white","shadow-sm"],[1,"container-fluid"],["href","#",1,"navbar-brand","d-flex","align-items-center"],[1,"bi","bi-box-seam","me-2"],[1,"fw-bold",2,"color","#1393e0"],["type","button","data-bs-toggle","collapse","data-bs-target","#mainNavbar","aria-controls","mainNavbar","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","mainNavbar",1,"collapse","navbar-collapse"],[1,"navbar-nav","me-auto","mb-2","mb-lg-0"],[1,"nav-item"],["routerLink","/dashboard/manager",1,"nav-link","d-flex","align-items-center"],[1,"bi","bi-house-door-fill","me-1"],[1,"bi","bi-gear-fill","me-1"],["routerLink","/dashboard/leaderboard",1,"nav-link","d-flex","align-items-center"],[1,"bi","bi-bar-chart-line-fill","me-1"],[1,"d-flex"],[1,"btn","btn-outline-danger","d-flex","align-items-center",3,"click"],[1,"bi","bi-box-arrow-right","me-1"]],template:function(Q,Me){1&Q&&(R.nrm(0,"link",0)(1,"link",1),R.j41(2,"nav",2)(3,"div",3)(4,"a",4),R.nrm(5,"i",5),R.j41(6,"span",6),R.EFF(7,"Coop App"),R.k0s()(),R.j41(8,"button",7),R.nrm(9,"span",8),R.k0s(),R.j41(10,"div",9)(11,"ul",10)(12,"li",11)(13,"a",12),R.nrm(14,"i",13),R.EFF(15," Home "),R.k0s()(),R.j41(16,"li",11)(17,"a",12),R.nrm(18,"i",14),R.EFF(19," Manager Function "),R.k0s()(),R.j41(20,"li",11)(21,"a",15),R.nrm(22,"i",16),R.EFF(23," Leader Board "),R.k0s()()(),R.j41(24,"div",17)(25,"button",18),R.bIt("click",function(){return Me.onLogout()}),R.nrm(26,"i",19),R.k0s()()()()())},dependencies:[ke.Wk]})}}return se})();var tt=ee(3093);function yt(se,oe){if(1&se){const A=R.RV6();R.j41(0,"a",12),R.bIt("keyup.enter",function(){R.eBV(A),R.XpG(3);const Me=R.sdS(1);return R.Njj(Me.previous())})("click",function(){R.eBV(A),R.XpG(3);const Me=R.sdS(1);return R.Njj(Me.previous())}),R.EFF(1),R.j41(2,"span",13),R.EFF(3),R.k0s()()}if(2&se){const A=R.XpG(3);R.R7$(1),R.SpI(" ",A.previousLabel," "),R.R7$(2),R.JRh(A.screenReaderPageLabel)}}function It(se,oe){if(1&se&&(R.j41(0,"span",14),R.EFF(1),R.j41(2,"span",13),R.EFF(3),R.k0s()()),2&se){const A=R.XpG(3);R.R7$(1),R.SpI(" ",A.previousLabel," "),R.R7$(2),R.JRh(A.screenReaderPageLabel)}}function Cn(se,oe){if(1&se&&(R.j41(0,"li",9),R.DNE(1,yt,4,2,"a",10),R.DNE(2,It,4,2,"span",11),R.k0s()),2&se){R.XpG(2);const A=R.sdS(1);R.AVh("disabled",A.isFirstPage()),R.R7$(1),R.Y8G("ngIf",1<A.getCurrent()),R.R7$(1),R.Y8G("ngIf",A.isFirstPage())}}function Tn(se,oe){if(1&se){const A=R.RV6();R.j41(0,"a",12),R.bIt("keyup.enter",function(){R.eBV(A);const Me=R.XpG().$implicit;R.XpG(2);const wt=R.sdS(1);return R.Njj(wt.setCurrent(Me.value))})("click",function(){R.eBV(A);const Me=R.XpG().$implicit;R.XpG(2);const wt=R.sdS(1);return R.Njj(wt.setCurrent(Me.value))}),R.j41(1,"span",13),R.EFF(2),R.k0s(),R.j41(3,"span"),R.EFF(4),R.nI1(5,"number"),R.k0s()()}if(2&se){const A=R.XpG().$implicit,Q=R.XpG(2);R.R7$(2),R.SpI("",Q.screenReaderPageLabel," "),R.R7$(2),R.JRh("..."===A.label?A.label:R.i5U(5,2,A.label,""))}}function wi(se,oe){if(1&se&&(R.qex(0),R.j41(1,"span",16)(2,"span",13),R.EFF(3),R.k0s(),R.j41(4,"span"),R.EFF(5),R.nI1(6,"number"),R.k0s()(),R.bVm()),2&se){const A=R.XpG().$implicit,Q=R.XpG(2);R.R7$(3),R.SpI("",Q.screenReaderCurrentLabel," "),R.R7$(2),R.JRh("..."===A.label?A.label:R.i5U(6,2,A.label,""))}}function Ci(se,oe){if(1&se&&(R.j41(0,"li"),R.DNE(1,Tn,6,5,"a",10),R.DNE(2,wi,7,5,"ng-container",15),R.k0s()),2&se){const A=oe.$implicit;R.XpG(2);const Q=R.sdS(1);R.AVh("current",Q.getCurrent()===A.value)("ellipsis","..."===A.label),R.R7$(1),R.Y8G("ngIf",Q.getCurrent()!==A.value),R.R7$(1),R.Y8G("ngIf",Q.getCurrent()===A.value)}}function vt(se,oe){if(1&se){const A=R.RV6();R.j41(0,"a",12),R.bIt("keyup.enter",function(){R.eBV(A),R.XpG(3);const Me=R.sdS(1);return R.Njj(Me.next())})("click",function(){R.eBV(A),R.XpG(3);const Me=R.sdS(1);return R.Njj(Me.next())}),R.EFF(1),R.j41(2,"span",13),R.EFF(3),R.k0s()()}if(2&se){const A=R.XpG(3);R.R7$(1),R.SpI(" ",A.nextLabel," "),R.R7$(2),R.JRh(A.screenReaderPageLabel)}}function cn(se,oe){if(1&se&&(R.j41(0,"span",14),R.EFF(1),R.j41(2,"span",13),R.EFF(3),R.k0s()()),2&se){const A=R.XpG(3);R.R7$(1),R.SpI(" ",A.nextLabel," "),R.R7$(2),R.JRh(A.screenReaderPageLabel)}}function Dt(se,oe){if(1&se&&(R.j41(0,"li",17),R.DNE(1,vt,4,2,"a",10),R.DNE(2,cn,4,2,"span",11),R.k0s()),2&se){R.XpG(2);const A=R.sdS(1);R.AVh("disabled",A.isLastPage()),R.R7$(1),R.Y8G("ngIf",!A.isLastPage()),R.R7$(1),R.Y8G("ngIf",A.isLastPage())}}function At(se,oe){if(1&se&&(R.j41(0,"ul",4),R.DNE(1,Cn,3,4,"li",5),R.j41(2,"li",6),R.EFF(3),R.k0s(),R.DNE(4,Ci,3,6,"li",7),R.DNE(5,Dt,3,4,"li",8),R.k0s()),2&se){const A=R.XpG(),Q=R.sdS(1);R.AVh("responsive",A.responsive),R.R7$(1),R.Y8G("ngIf",A.directionLinks),R.R7$(2),R.Lme(" ",Q.getCurrent()," / ",Q.getLastPage()," "),R.R7$(1),R.Y8G("ngForOf",Q.pages)("ngForTrackBy",A.trackByIndex),R.R7$(1),R.Y8G("ngIf",A.directionLinks)}}class Lt{constructor(){this.change=new R.bkB,this.instances={},this.DEFAULT_ID="DEFAULT_PAGINATION_ID"}defaultId(){return this.DEFAULT_ID}register(oe){return null==oe.id&&(oe.id=this.DEFAULT_ID),this.instances[oe.id]?this.updateInstance(oe):(this.instances[oe.id]=oe,!0)}updateInstance(oe){let A=!1;for(let Q in this.instances[oe.id])oe[Q]!==this.instances[oe.id][Q]&&(this.instances[oe.id][Q]=oe[Q],A=!0);return A}getCurrentPage(oe){return this.instances[oe]?this.instances[oe].currentPage:1}setCurrentPage(oe,A){if(this.instances[oe]){let Q=this.instances[oe];A<=Math.ceil(Q.totalItems/Q.itemsPerPage)&&1<=A&&(this.instances[oe].currentPage=A,this.change.emit(oe))}}setTotalItems(oe,A){this.instances[oe]&&0<=A&&(this.instances[oe].totalItems=A,this.change.emit(oe))}setItemsPerPage(oe,A){this.instances[oe]&&(this.instances[oe].itemsPerPage=A,this.change.emit(oe))}getInstance(oe=this.DEFAULT_ID){return this.instances[oe]?this.clone(this.instances[oe]):{}}clone(oe){var A={};for(var Q in oe)oe.hasOwnProperty(Q)&&(A[Q]=oe[Q]);return A}}const rt=Number.MAX_SAFE_INTEGER;let Qt=(()=>{class se{constructor(A){this.service=A,this.state={}}transform(A,Q){if(!(A instanceof Array)){let Kc=Q.id||this.service.defaultId();return this.state[Kc]?this.state[Kc].slice:A}let ci,Go,Me=Q.totalItems&&Q.totalItems!==A.length,wt=this.createInstance(A,Q),_n=wt.id,wa=wt.itemsPerPage,Sa=this.service.register(wt);if(!Me&&A instanceof Array){if(wa=+wa||rt,ci=(wt.currentPage-1)*wa,Go=ci+wa,this.stateIsIdentical(_n,A,ci,Go))return this.state[_n].slice;{let ol=A.slice(ci,Go);return this.saveState(_n,A,ol,ci,Go),this.service.change.emit(_n),ol}}return Sa&&this.service.change.emit(_n),this.saveState(_n,A,A,ci,Go),A}createInstance(A,Q){return this.checkConfig(Q),{id:null!=Q.id?Q.id:this.service.defaultId(),itemsPerPage:+Q.itemsPerPage||0,currentPage:+Q.currentPage||1,totalItems:+Q.totalItems||A.length}}checkConfig(A){const Me=["itemsPerPage","currentPage"].filter(wt=>!(wt in A));if(0<Me.length)throw new Error(`PaginatePipe: Argument is missing the following required properties: ${Me.join(", ")}`)}saveState(A,Q,Me,wt,_n){this.state[A]={collection:Q,size:Q.length,slice:Me,start:wt,end:_n}}stateIsIdentical(A,Q,Me,wt){let _n=this.state[A];return!(!_n||_n.size!==Q.length||_n.start!==Me||_n.end!==wt)&&_n.slice.every((Go,wa)=>Go===Q[Me+wa])}}return se.\u0275fac=function(A){return new(A||se)(R.rXU(Lt,16))},se.\u0275pipe=R.EJ8({name:"paginate",type:se,pure:!1}),se})(),fi=(()=>{class se{constructor(A,Q){this.service=A,this.changeDetectorRef=Q,this.maxSize=7,this.pageChange=new R.bkB,this.pageBoundsCorrection=new R.bkB,this.pages=[],this.changeSub=this.service.change.subscribe(Me=>{this.id===Me&&(this.updatePageLinks(),this.changeDetectorRef.markForCheck(),this.changeDetectorRef.detectChanges())})}ngOnInit(){void 0===this.id&&(this.id=this.service.defaultId()),this.updatePageLinks()}ngOnChanges(A){this.updatePageLinks()}ngOnDestroy(){this.changeSub.unsubscribe()}previous(){this.checkValidId(),this.setCurrent(this.getCurrent()-1)}next(){this.checkValidId(),this.setCurrent(this.getCurrent()+1)}isFirstPage(){return 1===this.getCurrent()}isLastPage(){return this.getLastPage()===this.getCurrent()}setCurrent(A){this.pageChange.emit(A)}getCurrent(){return this.service.getCurrentPage(this.id)}getLastPage(){let A=this.service.getInstance(this.id);return A.totalItems<1?1:Math.ceil(A.totalItems/A.itemsPerPage)}getTotalItems(){return this.service.getInstance(this.id).totalItems}checkValidId(){null==this.service.getInstance(this.id).id&&console.warn(`PaginationControlsDirective: the specified id "${this.id}" does not match any registered PaginationInstance`)}updatePageLinks(){let A=this.service.getInstance(this.id);const Q=this.outOfBoundCorrection(A);Q!==A.currentPage?setTimeout(()=>{this.pageBoundsCorrection.emit(Q),this.pages=this.createPageArray(A.currentPage,A.itemsPerPage,A.totalItems,this.maxSize)}):this.pages=this.createPageArray(A.currentPage,A.itemsPerPage,A.totalItems,this.maxSize)}outOfBoundCorrection(A){const Q=Math.ceil(A.totalItems/A.itemsPerPage);return Q<A.currentPage&&0<Q?Q:A.currentPage<1?1:A.currentPage}createPageArray(A,Q,Me,wt){wt=+wt;let _n=[];const ci=Math.max(Math.ceil(Me/Q),1),Go=Math.ceil(wt/2),wa=A<=Go,Sa=ci-Go<A,Kc=!wa&&!Sa;let ol=wt<ci,vc=1;for(;vc<=ci&&vc<=wt;){let qc,Yc=this.calculatePageNumber(vc,A,wt,ci);qc=ol&&(2===vc&&(Kc||Sa)||vc===wt-1&&(Kc||wa))?"...":Yc,_n.push({label:qc,value:Yc}),vc++}return _n}calculatePageNumber(A,Q,Me,wt){let _n=Math.ceil(Me/2);return A===Me?wt:1===A?A:Me<wt?wt-_n<Q?wt-Me+A:_n<Q?Q-_n+A:A:A}}return se.\u0275fac=function(A){return new(A||se)(R.rXU(Lt),R.rXU(R.gRc))},se.\u0275dir=R.FsC({type:se,selectors:[["pagination-template"],["","pagination-template",""]],inputs:{id:"id",maxSize:"maxSize"},outputs:{pageChange:"pageChange",pageBoundsCorrection:"pageBoundsCorrection"},exportAs:["paginationApi"],features:[R.OA$]}),se})();function on(se){return!!se&&"false"!==se}let Ii=(()=>{class se{constructor(){this.maxSize=7,this.previousLabel="Previous",this.nextLabel="Next",this.screenReaderPaginationLabel="Pagination",this.screenReaderPageLabel="page",this.screenReaderCurrentLabel="You're on page",this.pageChange=new R.bkB,this.pageBoundsCorrection=new R.bkB,this._directionLinks=!0,this._autoHide=!1,this._responsive=!1}get directionLinks(){return this._directionLinks}set directionLinks(A){this._directionLinks=on(A)}get autoHide(){return this._autoHide}set autoHide(A){this._autoHide=on(A)}get responsive(){return this._responsive}set responsive(A){this._responsive=on(A)}trackByIndex(A){return A}}return se.\u0275fac=function(A){return new(A||se)},se.\u0275cmp=R.VBU({type:se,selectors:[["pagination-controls"]],inputs:{id:"id",maxSize:"maxSize",directionLinks:"directionLinks",autoHide:"autoHide",responsive:"responsive",previousLabel:"previousLabel",nextLabel:"nextLabel",screenReaderPaginationLabel:"screenReaderPaginationLabel",screenReaderPageLabel:"screenReaderPageLabel",screenReaderCurrentLabel:"screenReaderCurrentLabel"},outputs:{pageChange:"pageChange",pageBoundsCorrection:"pageBoundsCorrection"},decls:4,vars:4,consts:[[3,"id","maxSize","pageChange","pageBoundsCorrection"],["p","paginationApi"],["role","navigation"],["class","ngx-pagination",3,"responsive",4,"ngIf"],[1,"ngx-pagination"],["class","pagination-previous",3,"disabled",4,"ngIf"],[1,"small-screen"],[3,"current","ellipsis",4,"ngFor","ngForOf","ngForTrackBy"],["class","pagination-next",3,"disabled",4,"ngIf"],[1,"pagination-previous"],["tabindex","0",3,"keyup.enter","click",4,"ngIf"],["aria-disabled","true",4,"ngIf"],["tabindex","0",3,"keyup.enter","click"],[1,"show-for-sr"],["aria-disabled","true"],[4,"ngIf"],["aria-live","polite"],[1,"pagination-next"]],template:function(A,Q){if(1&A&&(R.j41(0,"pagination-template",0,1),R.bIt("pageChange",function(wt){return Q.pageChange.emit(wt)})("pageBoundsCorrection",function(wt){return Q.pageBoundsCorrection.emit(wt)}),R.j41(2,"nav",2),R.DNE(3,At,6,8,"ul",3),R.k0s()()),2&A){const Me=R.sdS(1);R.Y8G("id",Q.id)("maxSize",Q.maxSize),R.R7$(2),R.BMQ("aria-label",Q.screenReaderPaginationLabel),R.R7$(1),R.Y8G("ngIf",!(Q.autoHide&&Me.pages.length<=1))}},dependencies:[fi,l.bT,l.Sq,l.QX],styles:['.ngx-pagination{margin-left:0;margin-bottom:1rem}.ngx-pagination:before,.ngx-pagination:after{content:" ";display:table}.ngx-pagination:after{clear:both}.ngx-pagination li{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;margin-right:.0625rem;border-radius:0}.ngx-pagination li{display:inline-block}.ngx-pagination a,.ngx-pagination button{color:#0a0a0a;display:block;padding:.1875rem .625rem;border-radius:0}.ngx-pagination a:hover,.ngx-pagination button:hover{background:#e6e6e6}.ngx-pagination .current{padding:.1875rem .625rem;background:#2199e8;color:#fefefe;cursor:default}.ngx-pagination .disabled{padding:.1875rem .625rem;color:#cacaca;cursor:default}.ngx-pagination .disabled:hover{background:transparent}.ngx-pagination a,.ngx-pagination button{cursor:pointer}.ngx-pagination .pagination-previous a:before,.ngx-pagination .pagination-previous.disabled:before{content:"\\ab";display:inline-block;margin-right:.5rem}.ngx-pagination .pagination-next a:after,.ngx-pagination .pagination-next.disabled:after{content:"\\bb";display:inline-block;margin-left:.5rem}.ngx-pagination .show-for-sr{position:absolute!important;width:1px;height:1px;overflow:hidden;clip:rect(0,0,0,0)}.ngx-pagination .small-screen{display:none}@media screen and (max-width: 601px){.ngx-pagination.responsive .small-screen{display:inline-block}.ngx-pagination.responsive li:not(.small-screen):not(.pagination-previous):not(.pagination-next){display:none}}\n'],encapsulation:2,changeDetection:0}),se})(),Xi=(()=>{class se{}return se.\u0275fac=function(A){return new(A||se)},se.\u0275mod=R.$C({type:se}),se.\u0275inj=R.G2t({providers:[Lt],imports:[[l.MD]]}),se})();function Zr(se,oe){if(1&se){const A=R.RV6();R.j41(0,"button",19),R.bIt("click",function(){R.eBV(A);const Me=R.XpG();return R.Njj(Me.resetForm())}),R.EFF(1," Cancel "),R.k0s()}}function hr(se,oe){if(1&se){const A=R.RV6();R.j41(0,"tr")(1,"td"),R.EFF(2),R.k0s(),R.j41(3,"td"),R.EFF(4),R.k0s(),R.j41(5,"td",15)(6,"button",20),R.bIt("click",function(){const wt=R.eBV(A).$implicit,_n=R.XpG();return R.Njj(_n.edit(wt))}),R.EFF(7,"Edit "),R.k0s(),R.j41(8,"button",21),R.bIt("click",function(){const wt=R.eBV(A).$implicit,_n=R.XpG();return R.Njj(_n.delete(wt))}),R.EFF(9,"Delete "),R.k0s()()()}if(2&se){const A=oe.$implicit;R.R7$(2),R.JRh(A.name),R.R7$(2),R.JRh(A.coo_pid)}}function xn(se,oe){1&se&&(R.j41(0,"tr")(1,"td",22),R.EFF(2," No colleges found. "),R.k0s()())}const Gr=function(se,oe){return{itemsPerPage:se,currentPage:oe}};let Vt=(()=>{class se{constructor(A){this.collegeSvc=A,this.colleges=[],this.itemsChange=new R.bkB,this.current={name:"",coo_pid:""},this.page=1,this.pageSize=3,this.searchText=""}ngOnInit(){this.getAllColleges()}get filteredColleges(){if(!this.searchText)return this.colleges;const A=this.searchText.toLowerCase();return this.colleges.filter(Q=>Q.name.toLowerCase().includes(A)||Q.coo_pid.toLowerCase().includes(A))}getAllColleges(){this.collegeSvc.getColleges().subscribe(A=>{this.colleges=A,this.itemsChange.emit(A)})}save(){var A=this;return(0,ot.A)(function*(){if(!A.current.name.trim())return alert("College name is required");A.current.id?yield A.collegeSvc.updateCollege(A.current.id,{name:A.current.name,coo_pid:A.current.coo_pid}):yield A.collegeSvc.addCollege({name:A.current.name,coo_pid:A.current.coo_pid}),A.getAllColleges(),A.resetForm()})()}edit(A){this.current={...A},this.getAllColleges()}delete(A){var Q=this;return(0,ot.A)(function*(){confirm(`Delete college \u201c${A.name}\u201d? This cannot be undone.`)&&(yield Q.collegeSvc.deleteCollege(A.id),Q.current.id===A.id&&Q.resetForm()),Q.getAllColleges()})()}resetForm(){this.current={name:"",coo_pid:""}}static{this.\u0275fac=function(Q){return new(Q||se)(R.rXU(Pe))}}static{this.\u0275cmp=R.VBU({type:se,selectors:[["app-college"]],inputs:{colleges:"colleges"},outputs:{itemsChange:"itemsChange"},decls:34,vars:17,consts:[[1,"mt-1"],[1,"card","p-4","mb-2","shadow-sm"],[1,"row","gy-2","gx-3","align-items-end",3,"ngSubmit"],[1,"col-md-5"],[1,"form-label"],["name","name","placeholder","Enter college name","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-md-3"],["name","coo_pid","placeholder","Enter college id","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-md-4","d-flex","gap-2"],["type","submit",1,"btn","btn-primary"],["type","button","class","btn btn-secondary",3,"click",4,"ngIf"],[1,"card","p-4","shadow-sm"],[1,"mb-3"],["type","text","placeholder","Search by name or store\u2026",1,"form-control",3,"ngModel","ngModelChange"],[1,"table","table-striped"],[1,"text-end"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"d-flex","justify-content-center","mt-2",3,"autoHide","maxSize","previousLabel","nextLabel","pageChange"],["type","button",1,"btn","btn-secondary",3,"click"],[1,"btn","btn-sm","btn-outline-secondary","me-2",3,"click"],[1,"btn","btn-sm","btn-outline-danger",3,"click"],["colspan","4",1,"text-center","text-muted"]],template:function(Q,Me){1&Q&&(R.j41(0,"div",0)(1,"div",1)(2,"form",2),R.bIt("ngSubmit",function(){return Me.save()}),R.j41(3,"div",3)(4,"label",4),R.EFF(5,"College Name"),R.k0s(),R.j41(6,"input",5),R.bIt("ngModelChange",function(_n){return Me.current.name=_n}),R.k0s()(),R.j41(7,"div",6)(8,"label",4),R.EFF(9,"Co-op ID"),R.k0s(),R.j41(10,"input",7),R.bIt("ngModelChange",function(_n){return Me.current.coo_pid=_n}),R.k0s()(),R.j41(11,"div",8)(12,"button",9),R.EFF(13),R.k0s(),R.DNE(14,Zr,2,0,"button",10),R.k0s()()(),R.j41(15,"div",11)(16,"h5",12),R.EFF(17,"All Colleges"),R.k0s(),R.j41(18,"div",12)(19,"input",13),R.bIt("ngModelChange",function(_n){return Me.searchText=_n}),R.k0s()(),R.j41(20,"table",14)(21,"thead")(22,"tr")(23,"th"),R.EFF(24,"Name"),R.k0s(),R.j41(25,"th"),R.EFF(26,"Coop ID"),R.k0s(),R.j41(27,"th",15),R.EFF(28,"Actions"),R.k0s()()(),R.j41(29,"tbody"),R.DNE(30,hr,10,2,"tr",16),R.nI1(31,"paginate"),R.DNE(32,xn,3,0,"tr",17),R.k0s()()()(),R.j41(33,"pagination-controls",18),R.bIt("pageChange",function(_n){return Me.page=_n}),R.k0s()),2&Q&&(R.R7$(6),R.Y8G("ngModel",Me.current.name),R.R7$(4),R.Y8G("ngModel",Me.current.coo_pid),R.R7$(3),R.SpI(" ",Me.current.id?"Save Changes":"Add College"," "),R.R7$(1),R.Y8G("ngIf",Me.current.id),R.R7$(5),R.Y8G("ngModel",Me.searchText),R.R7$(11),R.Y8G("ngForOf",R.i5U(31,11,Me.filteredColleges,R.l_i(14,Gr,Me.pageSize,Me.page))),R.R7$(2),R.Y8G("ngIf",0===Me.filteredColleges.length),R.R7$(1),R.Y8G("autoHide",!0)("maxSize",5)("previousLabel","<")("nextLabel",">"))},dependencies:[l.Sq,l.bT,He.qT,He.me,He.BC,He.cb,He.YS,He.vS,He.cV,Ii,Qt]})}}return se})();function Bt(se,oe){if(1&se&&(R.j41(0,"p",22),R.EFF(1),R.k0s()),2&se){const A=R.XpG();R.R7$(1),R.JRh(A.message)}}function Rt(se,oe){1&se&&(R.j41(0,"li",23),R.EFF(1," No sales recorded for today. "),R.k0s())}function qt(se,oe){if(1&se){const A=R.RV6();R.j41(0,"li",24)(1,"div",25)(2,"div",26),R.EFF(3),R.k0s(),R.j41(4,"div",27),R.EFF(5),R.k0s()(),R.j41(6,"div",28)(7,"span",29),R.EFF(8),R.k0s(),R.j41(9,"button",30),R.bIt("click",function(){const wt=R.eBV(A).$implicit,_n=R.XpG();return R.Njj(_n.onDelete(wt))}),R.nrm(10,"i",31),R.k0s()()()}if(2&se){const A=oe.$implicit;R.R7$(3),R.JRh(A.employeeName),R.R7$(2),R.JRh(A.store),R.R7$(3),R.SpI("",A.count," cards")}}let ln=(()=>{class se{constructor(A,Q){this.salesService=A,this.collegeSvc=Q,this.store="East Barnet",this.college="",this.message="",this.todaySales=[],this.colleagues=[],this.selectedDate=(new Date).toISOString().slice(0,10),this.selectedCollegeName=""}ngOnInit(){this.loadTodaySales(),this.collegeSvc.getColleges().subscribe(A=>{this.colleagues=A})}submitSale(){var A=this;return(0,ot.A)(function*(){A.selectedCollegeName&&A.cardsSold?A.salesService.saleExists(A.selectedCollegeName,A.selectedDate).then(Q=>{Q?(A.salesService.addSale({employeeName:A.selectedCollegeName,date:A.selectedDate,count:A.cardsSold,store:A.store}),A.message="Sale submitted successfully!",A.college="",A.loadTodaySales(),A.cardsSold=NaN):alert("This one is already added")}):alert("Please fill out all fields.")})()}loadTodaySales(){var A=this;return(0,ot.A)(function*(){const Q=(new Date).toISOString().split("T")[0];A.salesService.getSales(Q).subscribe(Me=>{A.todaySales=Me})})()}onDelete(A){var Q=this;return(0,ot.A)(function*(){if(confirm("Really delete this sale?"))try{yield Q.salesService.deleteSale(A.id),yield Q.loadTodaySales()}catch{alert("Could not delete; check console.")}})()}static{this.\u0275fac=function(Q){return new(Q||se)(R.rXU(Ce.w),R.rXU(Pe))}}static{this.\u0275cmp=R.VBU({type:se,selectors:[["app-manager"]],decls:35,vars:10,consts:[[1,"container","mt-5"],[1,"mb-4"],[1,"row"],[1,"col-12","col-md-6"],[3,"colleges","itemsChange"],[1,"card","p-4","shadow-sm","mb-4"],["bindLabel","name","bindValue","name","placeholder","Search & select college\u2026",1,"form-control",3,"items","ngModel","ngModelChange"],[1,"form-select","mt-3","mb-3",3,"ngModel","ngModelChange"],["value","East Barnet"],["value","Wood House"],["type","number","placeholder","Cards Sold",1,"form-control","mb-3",3,"ngModel","ngModelChange"],["type","date","placeholder","Select Date",1,"form-control","mb-3",3,"ngModel","ngModelChange"],[1,"btn","btn-success",3,"click"],["class","text-success mt-2",4,"ngIf"],[1,"col-12","mt-4"],[1,"card","modern-card"],[1,"card-header","d-flex","justify-content-between","align-items-center","modern-card-header"],[1,"mb-0"],[1,"badge","modern-badge"],[1,"list-group","modern-list"],["class","list-group-item text-center text-muted py-4",4,"ngIf"],["class","list-group-item modern-list-item d-flex justify-content-between align-items-center",4,"ngFor","ngForOf"],[1,"text-success","mt-2"],[1,"list-group-item","text-center","text-muted","py-4"],[1,"list-group-item","modern-list-item","d-flex","justify-content-between","align-items-center"],[1,"sale-info"],[1,"employee-name"],[1,"store-name"],[1,"d-flex","align-items-center"],[1,"badge","modern-badge-pill","mr-3"],["aria-label","Delete sale",1,"btn","delete-btn","p-0",3,"click"],[1,"bi","bi-trash","fs-5"]],template:function(Q,Me){1&Q&&(R.nrm(0,"app-header"),R.j41(1,"div",0)(2,"h2",1),R.EFF(3,"Colleagues Sales Management"),R.k0s(),R.j41(4,"div",2)(5,"div",3)(6,"app-college",4),R.bIt("itemsChange",function(_n){return Me.colleagues=_n}),R.EFF(7,"> "),R.k0s()(),R.j41(8,"div",3)(9,"div",5)(10,"h5"),R.EFF(11,"Update Sales Info"),R.k0s(),R.j41(12,"ng-select",6),R.bIt("ngModelChange",function(_n){return Me.selectedCollegeName=_n}),R.k0s(),R.j41(13,"select",7),R.bIt("ngModelChange",function(_n){return Me.store=_n}),R.j41(14,"option",8),R.EFF(15,"East Barnet"),R.k0s(),R.j41(16,"option",9),R.EFF(17,"Wood House"),R.k0s()(),R.j41(18,"input",10),R.bIt("ngModelChange",function(_n){return Me.cardsSold=_n}),R.k0s(),R.j41(19,"input",11),R.bIt("ngModelChange",function(_n){return Me.selectedDate=_n}),R.k0s(),R.j41(20,"button",12),R.bIt("click",function(){return Me.submitSale()}),R.EFF(21,"Submit"),R.k0s(),R.DNE(22,Bt,2,1,"p",13),R.k0s()()(),R.j41(23,"div",2)(24,"div",14)(25,"div",15)(26,"div",16)(27,"h3",17),R.EFF(28,"Today's Sales"),R.k0s(),R.j41(29,"span",18),R.EFF(30),R.k0s()(),R.j41(31,"ul",19),R.DNE(32,Rt,2,0,"li",20),R.DNE(33,qt,11,3,"li",21),R.k0s()()()()(),R.nrm(34,"app-footer")),2&Q&&(R.R7$(6),R.Y8G("colleges",Me.colleagues),R.R7$(6),R.Y8G("items",Me.colleagues)("ngModel",Me.selectedCollegeName),R.R7$(1),R.Y8G("ngModel",Me.store),R.R7$(5),R.Y8G("ngModel",Me.cardsSold),R.R7$(1),R.Y8G("ngModel",Me.selectedDate),R.R7$(3),R.Y8G("ngIf",Me.message),R.R7$(8),R.SpI("",Me.todaySales.length," Sales"),R.R7$(2),R.Y8G("ngIf",!Me.todaySales.length),R.R7$(1),R.Y8G("ngForOf",Me.todaySales))},dependencies:[l.Sq,l.bT,He.xH,He.y7,He.me,He.Q0,He.wz,He.BC,He.vS,Le.vr,Ft,tt.n,Vt],styles:[".ng-dropdown-panel[_ngcontent-%COMP%]   .scroll-host[_ngcontent-%COMP%]{-webkit-overflow-scrolling:touch;background:#ffffff;color:#6d5858}[_ngcontent-%COMP%]:root{--card-bg: rgba(255, 255, 255, .75);--card-shadow: 0 8px 24px rgba(0, 0, 0, .08);--border-radius: 16px;--primary: #5a67d8;--danger: #e53e3e;--badge-bg: rgba(90, 103, 216, .1);--badge-color: var(--primary)}.modern-card[_ngcontent-%COMP%]{background:var(--card-bg);-webkit-backdrop-filter:blur(12px);backdrop-filter:blur(12px);border-radius:var(--border-radius);box-shadow:var(--card-shadow)}.modern-card-header[_ngcontent-%COMP%]{background:transparent}.modern-badge[_ngcontent-%COMP%]{background-color:var(--badge-bg);color:var(--badge-color);border-radius:var(--border-radius);font-weight:500;padding:.4rem .75rem}.modern-list[_ngcontent-%COMP%]{list-style:none;margin:0;padding:.5rem}.modern-list-item[_ngcontent-%COMP%]{background:#fff;border:none;border-radius:var(--border-radius);margin-bottom:.75rem;padding:1rem;transition:transform .2s,box-shadow .2s}.modern-list-item[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 12px #0000000f}.sale-info[_ngcontent-%COMP%]   .employee-name[_ngcontent-%COMP%]{font-weight:600;color:#2d3748}.sale-info[_ngcontent-%COMP%]   .store-name[_ngcontent-%COMP%]{font-size:.9rem;color:#718096}.modern-badge-pill[_ngcontent-%COMP%]{background-color:var(--badge-bg);color:var(--badge-color);border-radius:999px;padding:.4rem .75rem;font-size:.85rem}.delete-btn[_ngcontent-%COMP%]{background:none;border:none;color:var(--danger);transition:color .2s}.delete-btn[_ngcontent-%COMP%]:hover{color:#c53030}"]})}}return se})();var Ut=ee(5760),Mn=ee(5459);let In=(()=>{class se{constructor(){}static{this.\u0275fac=function(Q){return new(Q||se)}}static{this.\u0275cmp=R.VBU({type:se,selectors:[["app-leaderboard"]],decls:8,vars:0,consts:[[1,"container-fluid","mt-5"],[1,"mb-4"]],template:function(Q,Me){1&Q&&(R.nrm(0,"app-header"),R.j41(1,"div",0)(2,"h1",1),R.EFF(3,"Sales Leaderboard"),R.k0s(),R.nrm(4,"app-sales")(5,"hr")(6,"app-employee-sales"),R.k0s(),R.nrm(7,"app-footer"))},dependencies:[Ft,tt.n,Ut.E,Mn.S]})}}return se})();const Bn=[{path:"manager",component:ln,canActivate:[ee(1620).W]},{path:"leaderboard",component:In}];let Jn=(()=>{class se{static{this.\u0275fac=function(Q){return new(Q||se)}}static{this.\u0275mod=R.$C({type:se})}static{this.\u0275inj=R.G2t({imports:[ke.iI.forChild(Bn),ke.iI]})}}return se})();var Si=ee(1574);let nr;try{nr=typeof Intl<"u"&&Intl.v8BreakIterator}catch{nr=!1}let Wr,ti=(()=>{class se{constructor(A){this._platformId=A,this.isBrowser=this._platformId?(0,l.UE)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!nr)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static{this.\u0275fac=function(Q){return new(Q||se)(R.KVO(R.Agw))}}static{this.\u0275prov=R.jDH({token:se,factory:se.\u0275fac,providedIn:"root"})}}return se})();function Or(se){return function as(){if(null==Wr&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Wr=!0}))}finally{Wr=Wr||!1}return Wr}()?se:!!se.capture}var xs=ee(1413);ee(8359),ee(8141);var Ms=ee(152),Ks=ee(5964),ts=ee(6697);function oa(se){return Array.isArray(se)?se:[se]}var Se=ee(4572),st=ee(8793),hi=ee(1985),vo=ee(9172),To=ee(6977);const Rs=new Set;let Vo,Mo=(()=>{class se{constructor(A,Q){this._platform=A,this._nonce=Q,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):fa}matchMedia(A){return(this._platform.WEBKIT||this._platform.BLINK)&&function Da(se,oe){if(!Rs.has(se))try{Vo||(Vo=document.createElement("style"),oe&&(Vo.nonce=oe),Vo.setAttribute("type","text/css"),document.head.appendChild(Vo)),Vo.sheet&&(Vo.sheet.insertRule(`@media ${se} {body{ }}`,0),Rs.add(se))}catch(A){console.error(A)}}(A,this._nonce),this._matchMedia(A)}static{this.\u0275fac=function(Q){return new(Q||se)(R.KVO(ti),R.KVO(R.BIS,8))}}static{this.\u0275prov=R.jDH({token:se,factory:se.\u0275fac,providedIn:"root"})}}return se})();function fa(se){return{matches:"all"===se||""===se,media:se,addListener:()=>{},removeListener:()=>{}}}let Oo=(()=>{class se{constructor(A,Q){this._mediaMatcher=A,this._zone=Q,this._queries=new Map,this._destroySubject=new xs.B}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(A){return aa(oa(A)).some(Me=>this._registerQuery(Me).mql.matches)}observe(A){const Me=aa(oa(A)).map(_n=>this._registerQuery(_n).observable);let wt=(0,Se.z)(Me);return wt=(0,st.x)(wt.pipe((0,ts.s)(1)),wt.pipe(function mr(se){return(0,Ks.p)((oe,A)=>se<=A)}(1),(0,Ms.B)(0))),wt.pipe((0,ft.T)(_n=>{const ci={matches:!1,breakpoints:{}};return _n.forEach(({matches:Go,query:wa})=>{ci.matches=ci.matches||Go,ci.breakpoints[wa]=Go}),ci}))}_registerQuery(A){if(this._queries.has(A))return this._queries.get(A);const Q=this._mediaMatcher.matchMedia(A),wt={observable:new hi.c(_n=>{const ci=Go=>this._zone.run(()=>_n.next(Go));return Q.addListener(ci),()=>{Q.removeListener(ci)}}).pipe((0,vo.Z)(Q),(0,ft.T)(({matches:_n})=>({query:A,matches:_n})),(0,To.Q)(this._destroySubject)),mql:Q};return this._queries.set(A,wt),wt}static{this.\u0275fac=function(Q){return new(Q||se)(R.KVO(Mo),R.KVO(R.SKi))}}static{this.\u0275prov=R.jDH({token:se,factory:se.\u0275fac,providedIn:"root"})}}return se})();function aa(se){return se.map(oe=>oe.split(",")).reduce((oe,A)=>oe.concat(A)).map(oe=>oe.trim())}const $r="cdk-high-contrast-black-on-white",Js="cdk-high-contrast-white-on-black",ro="cdk-high-contrast-active";let Ea=(()=>{class se{constructor(A,Q){this._platform=A,this._document=Q,this._breakpointSubscription=(0,R.WQX)(Oo).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const A=this._document.createElement("div");A.style.backgroundColor="rgb(1,2,3)",A.style.position="absolute",this._document.body.appendChild(A);const Q=this._document.defaultView||window,Me=Q&&Q.getComputedStyle?Q.getComputedStyle(A):null,wt=(Me&&Me.backgroundColor||"").replace(/ /g,"");switch(A.remove(),wt){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const A=this._document.body.classList;A.remove(ro,$r,Js),this._hasCheckedHighContrastMode=!0;const Q=this.getHighContrastMode();1===Q?A.add(ro,$r):2===Q&&A.add(ro,Js)}}static{this.\u0275fac=function(Q){return new(Q||se)(R.KVO(ti),R.KVO(l.qQ))}}static{this.\u0275prov=R.jDH({token:se,factory:se.\u0275fac,providedIn:"root"})}}return se})(),Vn=(()=>{class se{static{this.\u0275fac=function(Q){return new(Q||se)}}static{this.\u0275mod=R.$C({type:se})}static{this.\u0275inj=R.G2t({})}}return se})();const O=new R.nKC("mat-sanity-checks",{providedIn:"root",factory:function K(){return!0}});let V=(()=>{class se{constructor(A,Q,Me){this._sanityChecks=Q,this._document=Me,this._hasDoneGlobalChecks=!1,A._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(A){return!function Fn(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[A])}static{this.\u0275fac=function(Q){return new(Q||se)(R.KVO(Ea),R.KVO(O,8),R.KVO(l.qQ))}}static{this.\u0275mod=R.$C({type:se})}static{this.\u0275inj=R.G2t({imports:[Vn,Vn]})}}return se})(),Ht=(()=>{class se{static{this.\u0275fac=function(Q){return new(Q||se)}}static{this.\u0275mod=R.$C({type:se})}static{this.\u0275inj=R.G2t({imports:[V,V]})}}return se})();const qi=Or({passive:!0,capture:!0});class k{constructor(){this._events=new Map,this._delegateEventHandler=oe=>{const A=function cs(se){return se.composedPath?se.composedPath()[0]:se.target}(oe);A&&this._events.get(oe.type)?.forEach((Q,Me)=>{(Me===A||Me.contains(A))&&Q.forEach(wt=>wt.handleEvent(oe))})}}addHandler(oe,A,Q,Me){const wt=this._events.get(A);if(wt){const _n=wt.get(Q);_n?_n.add(Me):wt.set(Q,new Set([Me]))}else this._events.set(A,new Map([[Q,new Set([Me])]])),oe.runOutsideAngular(()=>{document.addEventListener(A,this._delegateEventHandler,qi)})}removeHandler(oe,A,Q){const Me=this._events.get(oe);if(!Me)return;const wt=Me.get(A);wt&&(wt.delete(Q),0===wt.size&&Me.delete(A),0===Me.size&&(this._events.delete(oe),document.removeEventListener(oe,this._delegateEventHandler,qi)))}}class Qe{static{this._eventManager=new k}constructor(oe,A,Q,Me){this._target=oe,this._ngZone=A,this._platform=Me,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,Me.isBrowser&&(this._containerElement=me(Q))}fadeInRipple(oe,A,Q={}){const Me=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),wt={...H,...Q.animation},_n=Q.radius||function en(se,oe,A){const Q=Math.max(Math.abs(se-A.left),Math.abs(se-A.right)),Me=Math.max(Math.abs(oe-A.top),Math.abs(oe-A.bottom));return Math.sqrt(Q*Q+Me*Me)}(oe,A,Me),ci=oe-Me.left,Go=A-Me.top,wa=wt.enterDuration,Sa=document.createElement("div");Sa.classList.add("mat-ripple-element"),Sa.style.left=ci-_n+"px",Sa.style.top=Go-_n+"px",Sa.style.height=2*_n+"px",Sa.style.width=2*_n+"px",null!=Q.color&&(Sa.style.backgroundColor=Q.color),Sa.style.transitionDuration=`${wa}ms`,this._containerElement.appendChild(Sa);const Kc=window.getComputedStyle(Sa),vc=Kc.transitionDuration,qc="none"===Kc.transitionProperty||"0s"===vc||"0s, 0s"===vc||0===Me.width&&0===Me.height,Yc=new $o(this,Sa,Q,qc);Sa.style.transform="scale3d(1, 1, 1)",Yc.state=0,Q.persistent||(this._mostRecentTransientRipple=Yc);return!qc&&(wa||wt.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const Mc=()=>this._finishRippleTransition(Yc),_l=()=>this._destroyRipple(Yc);Sa.addEventListener("transitionend",Mc),Sa.addEventListener("transitioncancel",_l)}),this._activeRipples.set(Yc,null),(qc||!wa)&&this._finishRippleTransition(Yc),Yc}fadeOutRipple(oe){if(2===oe.state||3===oe.state)return;const A=oe.element,Q={...H,...oe.config.animation};A.style.transitionDuration=`${Q.exitDuration}ms`,A.style.opacity="0",oe.state=2,(oe._animationForciblyDisabledThroughCss||!Q.exitDuration)&&this._finishRippleTransition(oe)}fadeOutAll(){this._getActiveRipples().forEach(oe=>oe.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(oe=>{oe.config.persistent||oe.fadeOut()})}setupTriggerEvents(oe){const A=me(oe);!this._platform.isBrowser||!A||A===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=A,ae.forEach(Q=>{Qe._eventManager.addHandler(this._ngZone,Q,A,this)}))}handleEvent(oe){"mousedown"===oe.type?this._onMousedown(oe):"touchstart"===oe.type?this._onTouchStart(oe):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{Te.forEach(A=>{this._triggerElement.addEventListener(A,this,G)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(oe){0===oe.state?this._startFadeOutTransition(oe):2===oe.state&&this._destroyRipple(oe)}_startFadeOutTransition(oe){const A=oe===this._mostRecentTransientRipple,{persistent:Q}=oe.config;oe.state=1,!Q&&(!A||!this._isPointerDown)&&oe.fadeOut()}_destroyRipple(oe){const A=this._activeRipples.get(oe)??null;this._activeRipples.delete(oe),this._activeRipples.size||(this._containerRect=null),oe===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),oe.state=3,null!==A&&(oe.element.removeEventListener("transitionend",A.onTransitionEnd),oe.element.removeEventListener("transitioncancel",A.onTransitionCancel)),oe.element.remove()}_onMousedown(oe){const A=function re(se){return 0===se.buttons||0===se.detail}(oe),Q=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!A&&!Q&&(this._isPointerDown=!0,this.fadeInRipple(oe.clientX,oe.clientY,this._target.rippleConfig))}_onTouchStart(oe){if(!this._target.rippleDisabled&&!function z(se){const oe=se.touches&&se.touches[0]||se.changedTouches&&se.changedTouches[0];return!(!oe||-1!==oe.identifier||null!=oe.radiusX&&1!==oe.radiusX||null!=oe.radiusY&&1!==oe.radiusY)}(oe)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const A=oe.changedTouches;if(A)for(let Q=0;Q<A.length;Q++)this.fadeInRipple(A[Q].clientX,A[Q].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(oe=>{!oe.config.persistent&&(1===oe.state||oe.config.terminateOnPointerUp&&0===oe.state)&&oe.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const oe=this._triggerElement;oe&&(ae.forEach(A=>Qe._eventManager.removeHandler(A,oe,this)),this._pointerUpEventsRegistered&&Te.forEach(A=>oe.removeEventListener(A,this,G)))}}let Er=(()=>{class se{static{this.\u0275fac=function(Q){return new(Q||se)}}static{this.\u0275mod=R.$C({type:se})}static{this.\u0275inj=R.G2t({imports:[V,V]})}}return se})(),zo=(()=>{class se{static{this.\u0275fac=function(Q){return new(Q||se)}}static{this.\u0275mod=R.$C({type:se})}static{this.\u0275inj=R.G2t({imports:[Ht,V,Ht,V]})}}return se})(),na=(()=>{class se{static{this.\u0275fac=function(Q){return new(Q||se)}}static{this.\u0275mod=R.$C({type:se})}static{this.\u0275inj=R.G2t({imports:[V,l.MD,V]})}}return se})(),fl=(()=>{class se{static{this.\u0275fac=function(Q){return new(Q||se)}}static{this.\u0275mod=R.$C({type:se})}static{this.\u0275inj=R.G2t({imports:[V,Er,V]})}}return se})();ee(7673),ee(8810),ee(7468),ee(9437),ee(980),ee(7647),ee(1626),ee(345);let oc=(()=>{class se{static{this.\u0275fac=function(Q){return new(Q||se)}}static{this.\u0275mod=R.$C({type:se})}static{this.\u0275inj=R.G2t({imports:[V,V]})}}return se})(),Bu=(()=>{class se{static{this.\u0275fac=function(Q){return new(Q||se)}}static{this.\u0275mod=R.$C({type:se})}static{this.\u0275inj=R.G2t({imports:[l.MD,Jn,He.YN,Si.FR,Le.MQ,Xi,zo,na,fl,oc]})}}return se})()},5459:(ei,Nt,ee)=>{ee.d(Nt,{S:()=>He});var l=ee(1574),ke=(ee(8759),ee(7705)),ot=ee(1142),R=ee(9417),Ce=ee(6884);const xe=["dailyChart"],at=["weeklyChart"],ft=["monthlyChart"],Pe=["yearlyChart"];let He=(()=>{class mt{constructor(tt){this.sService=tt,this.salesData=[],this.employees=[],this.selectedEmployee=this.employees[0],this.chartOptions={responsive:!0,scales:{x:{},y:{beginAtZero:!0}}},this.dailyData={labels:[],datasets:[{data:[],label:"Daily Sold"}]},this.weeklyData={labels:[],datasets:[{data:[],label:"Weekly Sold"}]},this.monthlyData={labels:[],datasets:[{data:[],label:"Monthly Sold"}]},this.yearlyData={labels:[],datasets:[{data:[],label:"Yearly Sold"}]},this.barType="bar",this.lineType="line"}ngOnInit(){this.sService.getAllSales("All").subscribe(tt=>{this.salesData=tt,this.employees=Array.from(new Set(this.salesData.map(yt=>yt.employeeName))),this.selectedEmployee=this.employees[0],this.refreshAll()})}onEmployeeChange(tt){this.selectedEmployee=tt,this.refreshAll()}refreshAll(){this.sService.getAllSales("All").subscribe(rt=>{this.salesData=rt,this.employees=Array.from(new Set(this.salesData.map(Qt=>Qt.employeeName)))});const tt=new Date,yt=this.salesData.filter(rt=>rt.employeeName===this.selectedEmployee),It=tt.toISOString().split("T")[0],Cn=yt.filter(rt=>rt.date===It).reduce((rt,Qt)=>rt+Qt.count,0);this.dailyData.labels=[It],this.dailyData.datasets[0].data=[Cn],this.dailyChart?.chart?.update();const Tn=new Date(tt);Tn.setDate(tt.getDate()-6),console.log(Tn);const wi=[];for(let rt=0;rt<7;rt++){const Qt=new Date(Tn);Qt.setDate(Tn.getDate()+rt);const Mt=Qt.toISOString().split("T")[0];wi.push({date:Mt,total:0})}yt.forEach(rt=>{const Qt=rt.date,Mt=wi.find(yn=>yn.date===Qt);Mt&&(Mt.total+=rt.count)}),this.weeklyData.labels=wi.map(rt=>rt.date.substr(0,10)),this.weeklyData.datasets[0].data=wi.map(rt=>rt.total),this.weeklyChart?.chart?.update();const Ci=tt.getMonth(),vt=tt.getFullYear(),cn=new Date(vt,Ci+1,0).getDate(),Dt=Array.from({length:cn}).map((rt,Qt)=>({day:Qt+1,total:0}));yt.forEach(rt=>{new Date(rt.date).getMonth()===Ci&&new Date(rt.date).getFullYear()===vt&&(Dt[new Date(rt.date).getDate()-1].total+=rt.count)}),this.monthlyData.labels=Dt.map(rt=>rt.day.toString()),this.monthlyData.datasets[0].data=Dt.map(rt=>rt.total),this.monthlyChart?.chart?.update();const At=Array.from({length:12}).map((rt,Qt)=>({month:Qt,total:0}));yt.forEach(rt=>{new Date(rt.date).getFullYear()===tt.getFullYear()&&(At[new Date(rt.date).getMonth()].total+=rt.count)});const Lt=At.map(rt=>new Date(tt.getFullYear(),rt.month,1).toLocaleString("default",{month:"short"}));this.yearlyData.labels=Lt,this.yearlyData.datasets[0].data=At.map(rt=>rt.total),this.yearlyChart?.chart?.update()}static{this.\u0275fac=function(yt){return new(yt||mt)(ke.rXU(ot.w))}}static{this.\u0275cmp=ke.VBU({type:mt,selectors:[["app-employee-sales"]],viewQuery:function(yt,It){if(1&yt&&(ke.GBs(xe,5,l.j9),ke.GBs(at,5,l.j9),ke.GBs(ft,5,l.j9),ke.GBs(Pe,5,l.j9)),2&yt){let Cn;ke.mGM(Cn=ke.lsd())&&(It.dailyChart=Cn.first),ke.mGM(Cn=ke.lsd())&&(It.weeklyChart=Cn.first),ke.mGM(Cn=ke.lsd())&&(It.monthlyChart=Cn.first),ke.mGM(Cn=ke.lsd())&&(It.yearlyChart=Cn.first)}},decls:40,vars:16,consts:[[1,"container-fluid","mt-5","my-4","report-container"],[1,"row","mb-4"],[1,"col-sm-6","col-md-4"],[1,"mb-3"],["for","employeeSelect",1,"form-label","fw-semibold"],["id","employeeSelect","bindLabel","name","bindValue","name","placeholder","Select employee",1,"form-control",3,"items","ngModel","clearable","searchable","ngModelChange","change"],[1,"row","gy-4"],[1,"col-lg-6"],[1,"card","shadow-sm","h-100"],[1,"card-header","bg-white","border-0"],[1,"mb-0"],[1,"card-body"],["baseChart","",1,"w-100",3,"data","options","type"],["dailyChart",""],["weeklyChart",""],["monthlyChart",""],["yearlyChart",""]],template:function(yt,It){1&yt&&(ke.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"label",4),ke.EFF(5,"Search By Employee"),ke.k0s(),ke.j41(6,"ng-select",5),ke.bIt("ngModelChange",function(Tn){return It.selectedEmployee=Tn})("change",function(Tn){return It.onEmployeeChange(Tn)}),ke.k0s()()()(),ke.j41(7,"div",6)(8,"div",7)(9,"div",8)(10,"div",9)(11,"h5",10),ke.EFF(12,"Today\u2019s Sales"),ke.k0s()(),ke.j41(13,"div",11),ke.nrm(14,"canvas",12,13),ke.k0s()()(),ke.j41(16,"div",7)(17,"div",8)(18,"div",9)(19,"h5",10),ke.EFF(20,"Last 7 Days"),ke.k0s()(),ke.j41(21,"div",11),ke.nrm(22,"canvas",12,14),ke.k0s()()(),ke.j41(24,"div",7)(25,"div",8)(26,"div",9)(27,"h5",10),ke.EFF(28,"Current Month"),ke.k0s()(),ke.j41(29,"div",11),ke.nrm(30,"canvas",12,15),ke.k0s()()(),ke.j41(32,"div",7)(33,"div",8)(34,"div",9)(35,"h5",10),ke.EFF(36,"This Year (by Month)"),ke.k0s()(),ke.j41(37,"div",11),ke.nrm(38,"canvas",12,16),ke.k0s()()()()()),2&yt&&(ke.R7$(6),ke.Y8G("items",It.employees)("ngModel",It.selectedEmployee)("clearable",!1)("searchable",!0),ke.R7$(8),ke.Y8G("data",It.dailyData)("options",It.chartOptions)("type",It.barType),ke.R7$(8),ke.Y8G("data",It.weeklyData)("options",It.chartOptions)("type",It.lineType),ke.R7$(8),ke.Y8G("data",It.monthlyData)("options",It.chartOptions)("type",It.barType),ke.R7$(8),ke.Y8G("data",It.yearlyData)("options",It.chartOptions)("type",It.lineType))},dependencies:[R.BC,R.vS,l.j9,Ce.vr]})}}return mt})()},5760:(ei,Nt,ee)=>{ee.d(Nt,{E:()=>Dt});var l=ee(9763),Le=ee(1574),ot=(ee(8759),ee(8444));let Ce=(()=>{class At extends l.n{initialize(){this.enableOptionSharing=!0,super.initialize()}update(rt){const Qt=this._cachedMeta;this.updateElements(Qt.data,0,Qt.data.length,rt)}updateElements(rt,Qt,Mt,yn){const fi="reset"===yn,{xScale:on,yScale:Ii}=this._cachedMeta,Xi=this.resolveDataElementOptions(Qt,yn),Zr=this.getSharedOptions(Xi);for(let hr=Qt;hr<Qt+Mt;hr++){const xn=!fi&&this.getParsed(hr),Gr=fi?on.getBasePixel():on.getPixelForValue(xn.x),Vt=fi?Ii.getBasePixel():Ii.getPixelForValue(xn.y),Bt=this.resolveDataElementOptions(hr,yn),{width:Rt,height:qt,anchorX:ln,anchorY:Ut}=Bt,Mn={x:xe(ln,Gr,Rt),y:at(Ut,Vt,qt),width:Rt,height:qt,options:Bt};this.updateElement(rt[hr],hr,Mn,yn)}this.updateSharedOptions(Zr,yn,Xi)}draw(){const rt=this.chart.ctx,Qt=this.getMeta().data||[];let Mt,yn;for(Mt=0,yn=Qt.length;Mt<yn;++Mt)Qt[Mt].draw(rt)}}return At.id="matrix",At.version="0.0.0-development",At.defaults={dataElementType:"matrix",animations:{numbers:{type:"number",properties:["x","y","width","height"]}}},At.overrides={interaction:{mode:"nearest",intersect:!0},scales:{x:{type:"linear",offset:!0},y:{type:"linear",reverse:!0}}},At})();function xe(At,Lt,rt){return"left"===At||"start"===At?Lt:"right"===At||"end"===At?Lt-rt:Lt-rt/2}function at(At,Lt,rt){return"top"===At||"start"===At?Lt:"bottom"===At||"end"===At?Lt-rt:Lt-rt/2}function ft(At,Lt){const{x:rt,y:Qt,width:Mt,height:yn}=At.getProps(["x","y","width","height"],Lt);return{left:rt,top:Qt,right:rt+Mt,bottom:Qt+yn}}function Pe(At,Lt,rt){return Math.max(Math.min(At,rt),Lt)}function Ft(At,Lt,rt,Qt){const Mt=null===Lt,yn=null===rt,fi=!(!At||Mt&&yn)&&ft(At,Qt);return fi&&(Mt||Lt>=fi.left&&Lt<=fi.right)&&(yn||rt>=fi.top&&rt<=fi.bottom)}class tt extends l.Hg{draw(Lt){const rt=this.options,{inner:Qt,outer:Mt}=function mt(At){const Lt=ft(At,!1),rt=Lt.right-Lt.left,Qt=Lt.bottom-Lt.top,Mt=function He(At,Lt,rt){const Qt=At.borderWidth;let Mt,yn,fi,on;return(0,ot.i)(Qt)?(Mt=+Qt.top||0,yn=+Qt.right||0,fi=+Qt.bottom||0,on=+Qt.left||0):Mt=yn=fi=on=+Qt||0,{t:Pe(Mt,0,rt),r:Pe(yn,0,Lt),b:Pe(fi,0,rt),l:Pe(on,0,Lt)}}(At.options,rt/2,Qt/2);return{outer:{x:Lt.left,y:Lt.top,w:rt,h:Qt},inner:{x:Lt.left+Mt.l,y:Lt.top+Mt.t,w:rt-Mt.l-Mt.r,h:Qt-Mt.t-Mt.b}}}(this),yn=(0,ot.ax)(rt.borderRadius);Lt.save(),Mt.w!==Qt.w||Mt.h!==Qt.h?(Lt.beginPath(),(0,ot.av)(Lt,{x:Mt.x,y:Mt.y,w:Mt.w,h:Mt.h,radius:yn}),(0,ot.av)(Lt,{x:Qt.x,y:Qt.y,w:Qt.w,h:Qt.h,radius:yn}),Lt.fillStyle=rt.backgroundColor,Lt.fill(),Lt.fillStyle=rt.borderColor,Lt.fill("evenodd")):(Lt.beginPath(),(0,ot.av)(Lt,{x:Qt.x,y:Qt.y,w:Qt.w,h:Qt.h,radius:yn}),Lt.fillStyle=rt.backgroundColor,Lt.fill()),Lt.restore()}inRange(Lt,rt,Qt){return Ft(this,Lt,rt,Qt)}inXRange(Lt,rt){return Ft(this,Lt,null,rt)}inYRange(Lt,rt){return Ft(this,null,Lt,rt)}getCenterPoint(Lt){const{x:rt,y:Qt,width:Mt,height:yn}=this.getProps(["x","y","width","height"],Lt);return{x:rt+Mt/2,y:Qt+yn/2}}tooltipPosition(){return this.getCenterPoint()}getRange(Lt){return"x"===Lt?this.width/2:this.height/2}constructor(Lt){super(),Lt&&Object.assign(this,Lt)}}tt.id="matrix",tt.defaults={backgroundColor:void 0,borderColor:void 0,borderWidth:void 0,borderRadius:0,anchorX:"center",anchorY:"center",width:20,height:20};var yt=ee(7705),It=ee(1142),Cn=ee(177),Tn=ee(9417);const wi=["barChart"],Ci=["stackedChart"];function vt(At,Lt){if(1&At&&(yt.j41(0,"option",14),yt.EFF(1),yt.k0s()),2&At){const rt=Lt.$implicit;yt.Y8G("value",rt),yt.R7$(1),yt.JRh(rt)}}function cn(At,Lt){if(1&At&&(yt.j41(0,"option",14),yt.EFF(1),yt.nI1(2,"titlecase"),yt.k0s()),2&At){const rt=Lt.$implicit;yt.Y8G("value",rt),yt.R7$(1),yt.JRh(yt.bMT(2,2,rt))}}l.t1.register(...l.$L,Ce,tt);let Dt=(()=>{class At{constructor(rt){this.sService=rt,this.barChartType="bar",this.barChartOptions={responsive:!0,scales:{x:{},y:{beginAtZero:!0}}},this.barChartData={labels:[],datasets:[{data:[],label:""}]},this.stackedChartType="bar",this.stackedChartOptions={responsive:!0,scales:{x:{stacked:!0},y:{stacked:!0,beginAtZero:!0}}},this.salesData=[],this.stores=["East Barnet","Wood House","All"],this.selectedStore=this.stores[2],this.periods=["daily","weekly","monthly","yearly"],this.selectedPeriod="daily",this.aggregatedData=[],this.stackedChartData={labels:[],datasets:[]},rt.getSales((new Date).toISOString().split("T")[0],"All").subscribe(Qt=>{this.salesData=Qt,this.updateAllCharts()})}ngOnInit(){this.aggregateEmployeeSales()}ngAfterViewInit(){this.updateAllCharts()}onStoreChange(rt){this.selectedStore=rt,this.sService.getAllSales(this.selectedStore).subscribe(Qt=>{this.salesData=Qt,this.updateAllCharts()})}onPeriodChange(rt){this.selectedPeriod=rt,this.sService.getAllSales(this.selectedStore).subscribe(Qt=>{this.salesData=Qt,this.updateAllCharts()})}updateAllCharts(){this.aggregateEmployeeSales(),this.renderBarChart(),this.renderStackedChart()}aggregateEmployeeSales(){const rt=new Date;if("All"==this.selectedStore){const Qt=this.salesData.filter(yn=>this.isInSelectedPeriod(new Date(yn.date),rt)),Mt=new Map;Qt.forEach(yn=>Mt.set(yn.employeeName,(Mt.get(yn.employeeName)||0)+yn.count)),this.aggregatedData=Array.from(Mt.entries()).map(([yn,fi])=>({employeeName:yn,total:fi}))}else{const Qt=this.salesData.filter(yn=>yn.store===this.selectedStore&&this.isInSelectedPeriod(new Date(yn.date),rt)),Mt=new Map;Qt.forEach(yn=>Mt.set(yn.employeeName,(Mt.get(yn.employeeName)||0)+yn.count)),this.aggregatedData=Array.from(Mt.entries()).map(([yn,fi])=>({employeeName:yn,total:fi}))}}renderBarChart(){this.barChart&&(this.barChartData.labels=this.aggregatedData.map(rt=>rt.employeeName),this.barChartData.datasets[0].data=this.aggregatedData.map(rt=>rt.total),this.barChartData.datasets[0].label=`${this.selectedPeriod} Sales`,this.barChart.chart?.update())}renderStackedChart(){if(!this.stackedChart)return;const rt=Array.from(new Set(this.salesData.map(Mt=>Mt.employeeName))),Qt=this.stores.map(Mt=>({label:Mt,data:rt.map(yn=>this.salesData.filter(fi=>fi.store===Mt&&fi.employeeName===yn&&this.isInSelectedPeriod(new Date(fi.date),new Date)).reduce((fi,on)=>fi+on.count,0)),stack:"Stack 0"}));this.stackedChartData.labels=rt,this.stackedChartData.datasets=Qt,this.stackedChart.chart?.update()}isInSelectedPeriod(rt,Qt){const Mt=new Date(rt);switch(this.selectedPeriod){case"daily":return Mt.toDateString()===Qt.toDateString();case"weekly":{const yn=new Date(Qt);return yn.setDate(Qt.getDate()-7),Mt>=yn&&Mt<=Qt}case"monthly":return Mt.getMonth()===Qt.getMonth()&&Mt.getFullYear()===Qt.getFullYear();case"yearly":return Mt.getFullYear()===Qt.getFullYear()}}static{this.\u0275fac=function(Qt){return new(Qt||At)(yt.rXU(It.w))}}static{this.\u0275cmp=yt.VBU({type:At,selectors:[["app-sales"]],viewQuery:function(Qt,Mt){if(1&Qt&&(yt.GBs(wi,5,Le.j9),yt.GBs(Ci,5,Le.j9)),2&Qt){let yn;yt.mGM(yn=yt.lsd())&&(Mt.barChart=yn.first),yt.mGM(yn=yt.lsd())&&(Mt.stackedChart=yn.first)}},decls:27,vars:16,consts:[[1,"sales-container"],[1,"row","g-3","mb-4"],[1,"col-sm-6","col-md-3"],["for","storeSelect",1,"form-label","fw-semibold"],["id","storeSelect",1,"form-select",3,"ngModel","ngModelChange","change"],[3,"value",4,"ngFor","ngForOf"],["for","periodSelect",1,"form-label","fw-semibold"],["id","periodSelect",1,"form-select",3,"ngModel","ngModelChange","change"],[1,"row"],[1,"col-md-6"],[1,"chart-block"],["baseChart","",3,"data","options","type"],["barChart",""],["stackedChart",""],[3,"value"]],template:function(Qt,Mt){1&Qt&&(yt.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"label",3),yt.EFF(4,"Store"),yt.k0s(),yt.j41(5,"select",4),yt.bIt("ngModelChange",function(fi){return Mt.selectedStore=fi})("change",function(){return Mt.onStoreChange(Mt.selectedStore)}),yt.DNE(6,vt,2,2,"option",5),yt.k0s()(),yt.j41(7,"div",2)(8,"label",6),yt.EFF(9,"Period"),yt.k0s(),yt.j41(10,"select",7),yt.bIt("ngModelChange",function(fi){return Mt.selectedPeriod=fi})("change",function(){return Mt.onPeriodChange(Mt.selectedPeriod)}),yt.DNE(11,cn,3,4,"option",5),yt.k0s()()(),yt.j41(12,"div",8)(13,"div",9)(14,"div",10)(15,"h3"),yt.EFF(16),yt.nI1(17,"titlecase"),yt.k0s(),yt.nrm(18,"canvas",11,12),yt.k0s()(),yt.j41(20,"div",9)(21,"div",10)(22,"h3"),yt.EFF(23),yt.nI1(24,"titlecase"),yt.k0s(),yt.nrm(25,"canvas",11,13),yt.k0s()()()()),2&Qt&&(yt.R7$(5),yt.Y8G("ngModel",Mt.selectedStore),yt.R7$(1),yt.Y8G("ngForOf",Mt.stores),yt.R7$(4),yt.Y8G("ngModel",Mt.selectedPeriod),yt.R7$(1),yt.Y8G("ngForOf",Mt.periods),yt.R7$(5),yt.SpI("",yt.bMT(17,12,Mt.selectedPeriod)," Sales by Employee"),yt.R7$(2),yt.Y8G("data",Mt.barChartData)("options",Mt.barChartOptions)("type",Mt.barChartType),yt.R7$(5),yt.SpI("",yt.bMT(24,14,Mt.selectedPeriod)," Employee Contributions by Store"),yt.R7$(2),yt.Y8G("data",Mt.stackedChartData)("options",Mt.stackedChartOptions)("type",Mt.stackedChartType))},dependencies:[Cn.Sq,Tn.xH,Tn.y7,Tn.wz,Tn.BC,Tn.vS,Le.j9,Cn.PV],styles:[".sales-container[_ngcontent-%COMP%]{padding:1rem;font-family:Arial,sans-serif}.controls[_ngcontent-%COMP%]{margin-bottom:1rem;display:flex;gap:1rem}canvas[_ngcontent-%COMP%]{margin-top:1rem}"]})}}return At})()},1620:(ei,Nt,ee)=>{ee.d(Nt,{W:()=>Ce});var l=ee(4147),Le=ee(7705),ke=ee(4952),ot=ee(1594),R=ee(6354);const Ce=(xe,at)=>{const ft=(0,Le.WQX)(ke.Nj),Pe=(0,Le.WQX)(l.Ix);return(0,ke.wh)(ft).pipe((0,ot.$)(),(0,R.T)(He=>!!He||Pe.createUrlTree(["/auth/login"],{queryParams:{returnUrl:at.url}})))}},4796:(ei,Nt,ee)=>{ee.d(Nt,{u:()=>ot});var l=ee(4952),Le=ee(8455),ke=ee(7705);let ot=(()=>{class R{constructor(xe){this.auth=xe,this.user$=(0,l.wh)(this.auth)}signUp(xe,at){return(0,Le.H)((0,l.eJ)(this.auth,xe,at))}signIn(xe,at){return(0,Le.H)((0,l.x9)(this.auth,xe,at))}signOut(){return(0,Le.H)((0,l.CI)(this.auth))}getIdToken(){return(0,l.fN)(this.auth)}static{this.\u0275fac=function(at){return new(at||R)(ke.KVO(l.Nj))}}static{this.\u0275prov=ke.jDH({token:R,factory:R.\u0275fac,providedIn:"root"})}}return R})()},1142:(ei,Nt,ee)=>{ee.d(Nt,{w:()=>Ce});var l=ee(467),Le=ee(9816),ke=ee(8455),ot=ee(6354),R=ee(7705);let Ce=(()=>{class xe{constructor(ft){this.firestore=ft}addSale(ft){const Pe=(0,Le.rJ)(this.firestore,"sales");return(0,Le.gS)(Pe,ft)}getSales(ft,Pe){const He=(0,Le.rJ)(this.firestore,"sales");let mt=(0,Le.P)(He,(0,Le._M)("date",">=",ft));return Pe&&"All"!==Pe&&(mt=(0,Le.P)(mt,(0,Le._M)("store","==",Pe))),(0,ke.H)((0,Le.GG)(mt)).pipe((0,ot.T)(Ft=>Ft.docs.map(tt=>({id:tt.id,...tt.data()}))))}getAllSales(ft){const Pe=(0,Le.rJ)(this.firestore,"sales");let He=(0,Le.P)(Pe);return ft&&"All"!==ft&&(He=(0,Le.P)(He,(0,Le._M)("store","==",ft))),(0,ke.H)((0,Le.GG)(He)).pipe((0,ot.T)(mt=>mt.docs.map(Ft=>({id:Ft.id,...Ft.data()}))))}saleExists(ft,Pe){var He=this;return(0,l.A)(function*(){const mt=(0,Le.rJ)(He.firestore,"sales"),Ft=(0,Le.P)(mt,(0,Le._M)("employeeName","==",ft),(0,Le._M)("date","==",Pe));return console.log(Pe),(yield(0,Le.GG)(Ft)).docs.map(It=>It.data()).length<=0})()}deleteSale(ft){console.log(ft);const Pe=(0,Le.H9)(this.firestore,"sales",ft);return(0,Le.kd)(Pe)}static{this.\u0275fac=function(Pe){return new(Pe||xe)(R.KVO(Le._7))}}static{this.\u0275prov=R.jDH({token:xe,factory:xe.\u0275fac,providedIn:"root"})}}return xe})()},1855:(ei,Nt,ee)=>{var l=ee(345),Le=ee(4147),ke=ee(1620),ot=ee(7673),R=ee(1203),Ce=ee(5558),xe=ee(6354),at=ee(1076),ft=ee(1362),Pe=ee(7852),He=ee(8041);class mt{constructor(D,M){this._delegate=D,this.firebase=M,(0,Pe._addComponent)(D,new ft.uA("app-compat",()=>this,"PUBLIC")),this.container=D.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(D){this._delegate.automaticDataCollectionEnabled=D}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(D=>{this._delegate.checkDestroyed(),D()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,Pe.deleteApp)(this._delegate)))}_getService(D,M=Pe._DEFAULT_ENTRY_NAME){var Y;this._delegate.checkDestroyed();const ye=this._delegate.container.getProvider(D);return!ye.isInitialized()&&"EXPLICIT"===(null===(Y=ye.getComponent())||void 0===Y?void 0:Y.instantiationMode)&&ye.initialize(),ye.getImmediate({identifier:M})}_removeServiceInstance(D,M=Pe._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(D).clearInstance(M)}_addComponent(D){(0,Pe._addComponent)(this._delegate,D)}_addOrOverwriteComponent(D){(0,Pe._addOrOverwriteComponent)(this._delegate,D)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const tt=new at.FA("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),Cn=function It(){const te=function yt(te){const D={},M={__esModule:!0,initializeApp:function Fe(nn,fn={}){const K=Pe.initializeApp(nn,fn);if((0,at.gR)(D,K.name))return D[K.name];const O=new te(K,M);return D[K.name]=O,O},app:ye,registerVersion:Pe.registerVersion,setLogLevel:Pe.setLogLevel,onLog:Pe.onLog,apps:null,SDK_VERSION:Pe.SDK_VERSION,INTERNAL:{registerComponent:function dt(nn){const fn=nn.name,K=fn.replace("-compat","");if(Pe._registerComponent(nn)&&"PUBLIC"===nn.type){const O=(V=ye())=>{if("function"!=typeof V[K])throw tt.create("invalid-app-argument",{appName:fn});return V[K]()};void 0!==nn.serviceProps&&(0,at.zw)(O,nn.serviceProps),M[K]=O,te.prototype[K]=function(...V){return this._getService.bind(this,fn).apply(this,nn.multipleInstances?V:[])}}return"PUBLIC"===nn.type?M[K]:null},removeApp:function Y(nn){delete D[nn]},useAsService:function Kt(nn,fn){return"serverAuth"===fn?null:fn},modularAPIs:Pe}};function ye(nn){if(!(0,at.gR)(D,nn=nn||Pe._DEFAULT_ENTRY_NAME))throw tt.create("no-app",{appName:nn});return D[nn]}return M.default=M,Object.defineProperty(M,"apps",{get:function ct(){return Object.keys(D).map(nn=>D[nn])}}),ye.App=te,M}(mt);return te.INTERNAL=Object.assign(Object.assign({},te.INTERNAL),{createFirebaseNamespace:It,extendNamespace:function D(M){(0,at.zw)(te,M)},createSubscribe:at.tD,ErrorFactory:at.FA,deepExtend:at.zw}),te}(),Tn=new He.Vy("@firebase/app-compat");if((0,at.Bd)()&&void 0!==self.firebase){Tn.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const te=self.firebase.SDK_VERSION;te&&te.indexOf("LITE")>=0&&Tn.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const cn=Cn;!function vt(te){(0,Pe.registerVersion)("@firebase/app-compat","0.2.13",te)}(),cn.registerVersion("firebase","9.23.0","app-compat");const on=(0,R.F)((0,Ce.n)(te=>te?te.getIdTokenResult():(0,ot.of)(null)),(0,xe.T)(te=>te?te.claims:[]));var xn=ee(7705),Gr=ee(5760),Vt=ee(5459),Bt=ee(3093);const Ut=[{path:"",redirectTo:"auth/login",pathMatch:"full"},{path:"info",component:(()=>{class te{static{this.\u0275fac=function(Y){return new(Y||te)}}static{this.\u0275cmp=xn.VBU({type:te,selectors:[["app-info"]],decls:7,vars:0,consts:[[1,"container-fluid","mt-5"],[1,"mb-4"]],template:function(Y,ye){1&Y&&(xn.j41(0,"div",0)(1,"h1",1),xn.EFF(2,"Sales Leaderboard"),xn.k0s(),xn.nrm(3,"app-sales")(4,"hr")(5,"app-employee-sales"),xn.k0s(),xn.nrm(6,"app-footer"))},dependencies:[Gr.E,Vt.S,Bt.n]})}}return te})()},{path:"auth",loadChildren:()=>ee.e(155).then(ee.bind(ee,8155)).then(te=>te.AuthModule)},{path:"dashboard",loadChildren:()=>Promise.resolve().then(ee.bind(ee,1895)).then(te=>te.DashboardModule),canActivate:[ke.W],data:{authGuardPipe:()=>("admin",(0,R.F)(on,(0,xe.T)(D=>D.hasOwnProperty("admin"))))}},{path:"**",redirectTo:"auth/login",pathMatch:"full"}];let Mn=(()=>{class te{static{this.\u0275fac=function(Y){return new(Y||te)}}static{this.\u0275mod=xn.$C({type:te})}static{this.\u0275inj=xn.G2t({imports:[Le.iI.forRoot(Ut),Le.iI]})}}return te})(),In=(()=>{class te{constructor(){this.title="coop-app"}static{this.\u0275fac=function(Y){return new(Y||te)}}static{this.\u0275cmp=xn.VBU({type:te,selectors:[["app-root"]],decls:1,vars:0,template:function(Y,ye){1&Y&&xn.nrm(0,"router-outlet")},dependencies:[Le.n3]})}}return te})();const Hi_firebase={apiKey:"AIzaSyCbw8b_ag8QyunuIJIXl24SCepm439uzVU",authDomain:"coop-pro.firebaseapp.com",projectId:"coop-pro",storageBucket:"coop-pro.firebasestorage.app",messagingSenderId:"770543345465",appId:"1:770543345465:web:33089459f3d6eba9b992e8",measurementId:"G-T4463ZST23"};var Bn=ee(8934),Jn=ee(9816),Si=ee(4952);class nr{}class ti{}const Ni="*";function Wr(te,D=null){return{type:2,steps:te,options:D}}function as(te){return{type:6,styles:te,offset:null}}class wr{constructor(D=0,M=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=D+M}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(D=>D()),this._onDoneFns=[])}onStart(D){this._originalOnStartFns.push(D),this._onStartFns.push(D)}onDone(D){this._originalOnDoneFns.push(D),this._onDoneFns.push(D)}onDestroy(D){this._onDestroyFns.push(D)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(D=>D()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(D=>D()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(D){this._position=this.totalTime?D*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(D){const M="start"==D?this._onStartFns:this._onDoneFns;M.forEach(Y=>Y()),M.length=0}}class cs{constructor(D){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=D;let M=0,Y=0,ye=0;const Fe=this.players.length;0==Fe?queueMicrotask(()=>this._onFinish()):this.players.forEach(ct=>{ct.onDone(()=>{++M==Fe&&this._onFinish()}),ct.onDestroy(()=>{++Y==Fe&&this._onDestroy()}),ct.onStart(()=>{++ye==Fe&&this._onStart()})}),this.totalTime=this.players.reduce((ct,dt)=>Math.max(ct,dt.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(D=>D()),this._onDoneFns=[])}init(){this.players.forEach(D=>D.init())}onStart(D){this._onStartFns.push(D)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(D=>D()),this._onStartFns=[])}onDone(D){this._onDoneFns.push(D)}onDestroy(D){this._onDestroyFns.push(D)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(D=>D.play())}pause(){this.players.forEach(D=>D.pause())}restart(){this.players.forEach(D=>D.restart())}finish(){this._onFinish(),this.players.forEach(D=>D.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(D=>D.destroy()),this._onDestroyFns.forEach(D=>D()),this._onDestroyFns=[])}reset(){this.players.forEach(D=>D.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(D){const M=D*this.totalTime;this.players.forEach(Y=>{const ye=Y.totalTime?Math.min(1,M/Y.totalTime):1;Y.setPosition(ye)})}getPosition(){const D=this.players.reduce((M,Y)=>null===M||Y.totalTime>M.totalTime?Y:M,null);return null!=D?D.getPosition():0}beforeDestroy(){this.players.forEach(D=>{D.beforeDestroy&&D.beforeDestroy()})}triggerCallback(D){const M="start"==D?this._onStartFns:this._onDoneFns;M.forEach(Y=>Y()),M.length=0}}function gi(te){return new xn.wOt(3e3,!1)}function Fi(te){switch(te.length){case 0:return new wr;case 1:return te[0];default:return new cs(te)}}function Nr(te,D,M=new Map,Y=new Map){const ye=[],Fe=[];let ct=-1,dt=null;if(D.forEach(Kt=>{const nn=Kt.get("offset"),fn=nn==ct,K=fn&&dt||new Map;Kt.forEach((O,V)=>{let J=V,je=O;if("offset"!==V)switch(J=te.normalizePropertyName(J,ye),je){case"!":je=M.get(V);break;case Ni:je=Y.get(V);break;default:je=te.normalizeStyleValue(V,J,je,ye)}K.set(J,je)}),fn||Fe.push(K),dt=K,ct=nn}),ye.length)throw function Qn(te){return new xn.wOt(3502,!1)}();return Fe}function jr(te,D,M,Y){switch(D){case"start":te.onStart(()=>Y(M&&ds(M,"start",te)));break;case"done":te.onDone(()=>Y(M&&ds(M,"done",te)));break;case"destroy":te.onDestroy(()=>Y(M&&ds(M,"destroy",te)))}}function ds(te,D,M){const Fe=ar(te.element,te.triggerName,te.fromState,te.toState,D||te.phaseName,M.totalTime??te.totalTime,!!M.disabled),ct=te._data;return null!=ct&&(Fe._data=ct),Fe}function ar(te,D,M,Y,ye="",Fe=0,ct){return{element:te,triggerName:D,fromState:M,toState:Y,phaseName:ye,totalTime:Fe,disabled:!!ct}}function Wi(te,D,M){let Y=te.get(D);return Y||te.set(D,Y=M),Y}function hs(te){const D=te.indexOf(":");return[te.substring(1,D),te.slice(D+1)]}const Co=(()=>typeof document>"u"?null:document.documentElement)();function qr(te){const D=te.parentNode||te.host||null;return D===Co?null:D}let Yi=null,ss=!1;function ht(te,D){for(;D;){if(D===te)return!0;D=qr(D)}return!1}function ut(te,D,M){if(M)return Array.from(te.querySelectorAll(D));const Y=te.querySelector(D);return Y?[Y]:[]}let dn=(()=>{class te{validateStyleProperty(M){return function fs(te){Yi||(Yi=function Io(){return typeof document<"u"?document.body:null}()||{},ss=!!Yi.style&&"WebkitAppearance"in Yi.style);let D=!0;return Yi.style&&!function Es(te){return"ebkit"==te.substring(1,6)}(te)&&(D=te in Yi.style,!D&&ss&&(D="Webkit"+te.charAt(0).toUpperCase()+te.slice(1)in Yi.style)),D}(M)}matchesElement(M,Y){return!1}containsElement(M,Y){return ht(M,Y)}getParentElement(M){return qr(M)}query(M,Y,ye){return ut(M,Y,ye)}computeStyle(M,Y,ye){return ye||""}animate(M,Y,ye,Fe,ct,dt=[],Kt){return new wr(ye,Fe)}static{this.\u0275fac=function(Y){return new(Y||te)}}static{this.\u0275prov=xn.jDH({token:te,factory:te.\u0275fac})}}return te})(),Sn=(()=>{class te{static{this.NOOP=new dn}}return te})();const pi=1e3,Ue="ng-enter",Ge="ng-leave",Z="ng-trigger",Re=".ng-trigger",Je="ng-animating",tn=".ng-animating";function gn(te){if("number"==typeof te)return te;const D=te.match(/^(-?[\.\d]+)(m?s)/);return!D||D.length<2?0:_i(parseFloat(D[1]),D[2])}function _i(te,D){return"s"===D?te*pi:te}function Fr(te,D,M){return te.hasOwnProperty("duration")?te:function Yr(te,D,M){let ye,Fe=0,ct="";if("string"==typeof te){const dt=te.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===dt)return D.push(gi()),{duration:0,delay:0,easing:""};ye=_i(parseFloat(dt[1]),dt[2]);const Kt=dt[3];null!=Kt&&(Fe=_i(parseFloat(Kt),dt[4]));const nn=dt[5];nn&&(ct=nn)}else ye=te;if(!M){let dt=!1,Kt=D.length;ye<0&&(D.push(function Is(){return new xn.wOt(3100,!1)}()),dt=!0),Fe<0&&(D.push(function is(){return new xn.wOt(3101,!1)}()),dt=!0),dt&&D.splice(Kt,0,gi())}return{duration:ye,delay:Fe,easing:ct}}(te,D,M)}function Hr(te,D={}){return Object.keys(te).forEach(M=>{D[M]=te[M]}),D}function Ls(te){const D=new Map;return Object.keys(te).forEach(M=>{D.set(M,te[M])}),D}function cr(te,D=new Map,M){if(M)for(let[Y,ye]of M)D.set(Y,ye);for(let[Y,ye]of te)D.set(Y,ye);return D}function Sr(te,D,M){D.forEach((Y,ye)=>{const Fe=Rn(ye);M&&!M.has(ye)&&M.set(ye,te.style[Fe]),te.style[Fe]=Y})}function no(te,D){D.forEach((M,Y)=>{const ye=Rn(Y);te.style[ye]=""})}function As(te){return Array.isArray(te)?1==te.length?te[0]:Wr(te):te}const go=new RegExp("{{\\s*(.+?)\\s*}}","g");function ua(te){let D=[];if("string"==typeof te){let M;for(;M=go.exec(te);)D.push(M[1]);go.lastIndex=0}return D}function Vs(te,D,M){const Y=te.toString(),ye=Y.replace(go,(Fe,ct)=>{let dt=D[ct];return null==dt&&(M.push(function vr(te){return new xn.wOt(3003,!1)}()),dt=""),dt.toString()});return ye==Y?te:ye}function Qs(te){const D=[];let M=te.next();for(;!M.done;)D.push(M.value),M=te.next();return D}const Pr=/-+([a-z0-9])/g;function Rn(te){return te.replace(Pr,(...D)=>D[1].toUpperCase())}function es(te,D,M){switch(D.type){case 7:return te.visitTrigger(D,M);case 0:return te.visitState(D,M);case 1:return te.visitTransition(D,M);case 2:return te.visitSequence(D,M);case 3:return te.visitGroup(D,M);case 4:return te.visitAnimate(D,M);case 5:return te.visitKeyframes(D,M);case 6:return te.visitStyle(D,M);case 8:return te.visitReference(D,M);case 9:return te.visitAnimateChild(D,M);case 10:return te.visitAnimateRef(D,M);case 11:return te.visitQuery(D,M);case 12:return te.visitStagger(D,M);default:throw function Ur(te){return new xn.wOt(3004,!1)}()}}function ws(te,D){return window.getComputedStyle(te)[D]}const lo="*";function Bs(te,D){const M=[];return"string"==typeof te?te.split(/\s*,\s*/).forEach(Y=>function kr(te,D,M){if(":"==te[0]){const Kt=function da(te,D){switch(te){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(M,Y)=>parseFloat(Y)>parseFloat(M);case":decrement":return(M,Y)=>parseFloat(Y)<parseFloat(M);default:return D.push(function mn(te){return new xn.wOt(3016,!1)}()),"* => *"}}(te,M);if("function"==typeof Kt)return void D.push(Kt);te=Kt}const Y=te.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==Y||Y.length<4)return M.push(function an(te){return new xn.wOt(3015,!1)}()),D;const ye=Y[1],Fe=Y[2],ct=Y[3];D.push(Fo(ye,ct));"<"==Fe[0]&&!(ye==lo&&ct==lo)&&D.push(Fo(ct,ye))}(Y,M,D)):M.push(te),M}const Do=new Set(["true","1"]),Ds=new Set(["false","0"]);function Fo(te,D){const M=Do.has(te)||Ds.has(te),Y=Do.has(D)||Ds.has(D);return(ye,Fe)=>{let ct=te==lo||te==ye,dt=D==lo||D==Fe;return!ct&&M&&"boolean"==typeof ye&&(ct=ye?Do.has(te):Ds.has(te)),!dt&&Y&&"boolean"==typeof Fe&&(dt=Fe?Do.has(D):Ds.has(D)),ct&&dt}}const Ps=new RegExp("s*:selfs*,?","g");function Ss(te,D,M,Y){return new Xo(te).build(D,M,Y)}class Xo{constructor(D){this._driver=D}build(D,M,Y){const ye=new Wo(M);return this._resetContextStyleTimingState(ye),es(this,As(D),ye)}_resetContextStyleTimingState(D){D.currentQuerySelector="",D.collectedStyles=new Map,D.collectedStyles.set("",new Map),D.currentTime=0}visitTrigger(D,M){let Y=M.queryCount=0,ye=M.depCount=0;const Fe=[],ct=[];return"@"==D.name.charAt(0)&&M.errors.push(function Cr(){return new xn.wOt(3006,!1)}()),D.definitions.forEach(dt=>{if(this._resetContextStyleTimingState(M),0==dt.type){const Kt=dt,nn=Kt.name;nn.toString().split(/\s*,\s*/).forEach(fn=>{Kt.name=fn,Fe.push(this.visitState(Kt,M))}),Kt.name=nn}else if(1==dt.type){const Kt=this.visitTransition(dt,M);Y+=Kt.queryCount,ye+=Kt.depCount,ct.push(Kt)}else M.errors.push(function Ir(){return new xn.wOt(3007,!1)}())}),{type:7,name:D.name,states:Fe,transitions:ct,queryCount:Y,depCount:ye,options:null}}visitState(D,M){const Y=this.visitStyle(D.styles,M),ye=D.options&&D.options.params||null;if(Y.containsDynamicStyles){const Fe=new Set,ct=ye||{};Y.styles.forEach(dt=>{dt instanceof Map&&dt.forEach(Kt=>{ua(Kt).forEach(nn=>{ct.hasOwnProperty(nn)||Fe.add(nn)})})}),Fe.size&&(Qs(Fe.values()),M.errors.push(function Jr(te,D){return new xn.wOt(3008,!1)}()))}return{type:0,name:D.name,style:Y,options:ye?{params:ye}:null}}visitTransition(D,M){M.queryCount=0,M.depCount=0;const Y=es(this,As(D.animation),M);return{type:1,matchers:Bs(D.expr,M.errors),animation:Y,queryCount:M.queryCount,depCount:M.depCount,options:yo(D.options)}}visitSequence(D,M){return{type:2,steps:D.steps.map(Y=>es(this,Y,M)),options:yo(D.options)}}visitGroup(D,M){const Y=M.currentTime;let ye=0;const Fe=D.steps.map(ct=>{M.currentTime=Y;const dt=es(this,ct,M);return ye=Math.max(ye,M.currentTime),dt});return M.currentTime=ye,{type:3,steps:Fe,options:yo(D.options)}}visitAnimate(D,M){const Y=function us(te,D){if(te.hasOwnProperty("duration"))return te;if("number"==typeof te)return Xs(Fr(te,D).duration,0,"");const M=te;if(M.split(/\s+/).some(Fe=>"{"==Fe.charAt(0)&&"{"==Fe.charAt(1))){const Fe=Xs(0,0,"");return Fe.dynamic=!0,Fe.strValue=M,Fe}const ye=Fr(M,D);return Xs(ye.duration,ye.delay,ye.easing)}(D.timings,M.errors);M.currentAnimateTimings=Y;let ye,Fe=D.styles?D.styles:as({});if(5==Fe.type)ye=this.visitKeyframes(Fe,M);else{let ct=D.styles,dt=!1;if(!ct){dt=!0;const nn={};Y.easing&&(nn.easing=Y.easing),ct=as(nn)}M.currentTime+=Y.duration+Y.delay;const Kt=this.visitStyle(ct,M);Kt.isEmptyStep=dt,ye=Kt}return M.currentAnimateTimings=null,{type:4,timings:Y,style:ye,options:null}}visitStyle(D,M){const Y=this._makeStyleAst(D,M);return this._validateStyleAst(Y,M),Y}_makeStyleAst(D,M){const Y=[],ye=Array.isArray(D.styles)?D.styles:[D.styles];for(let dt of ye)"string"==typeof dt?dt===Ni?Y.push(dt):M.errors.push(new xn.wOt(3002,!1)):Y.push(Ls(dt));let Fe=!1,ct=null;return Y.forEach(dt=>{if(dt instanceof Map&&(dt.has("easing")&&(ct=dt.get("easing"),dt.delete("easing")),!Fe))for(let Kt of dt.values())if(Kt.toString().indexOf("{{")>=0){Fe=!0;break}}),{type:6,styles:Y,easing:ct,offset:D.offset,containsDynamicStyles:Fe,options:null}}_validateStyleAst(D,M){const Y=M.currentAnimateTimings;let ye=M.currentTime,Fe=M.currentTime;Y&&Fe>0&&(Fe-=Y.duration+Y.delay),D.styles.forEach(ct=>{"string"!=typeof ct&&ct.forEach((dt,Kt)=>{const nn=M.collectedStyles.get(M.currentQuerySelector),fn=nn.get(Kt);let K=!0;fn&&(Fe!=ye&&Fe>=fn.startTime&&ye<=fn.endTime&&(M.errors.push(function _r(te,D,M,Y,ye){return new xn.wOt(3010,!1)}()),K=!1),Fe=fn.startTime),K&&nn.set(Kt,{startTime:Fe,endTime:ye}),M.options&&function Ia(te,D,M){const Y=D.params||{},ye=ua(te);ye.length&&ye.forEach(Fe=>{Y.hasOwnProperty(Fe)||M.push(function bs(te){return new xn.wOt(3001,!1)}())})}(dt,M.options,M.errors)})})}visitKeyframes(D,M){const Y={type:5,styles:[],options:null};if(!M.currentAnimateTimings)return M.errors.push(function Xe(){return new xn.wOt(3011,!1)}()),Y;let Fe=0;const ct=[];let dt=!1,Kt=!1,nn=0;const fn=D.steps.map(zt=>{const li=this._makeStyleAst(zt,M);let oi=null!=li.offset?li.offset:function _o(te){if("string"==typeof te)return null;let D=null;if(Array.isArray(te))te.forEach(M=>{if(M instanceof Map&&M.has("offset")){const Y=M;D=parseFloat(Y.get("offset")),Y.delete("offset")}});else if(te instanceof Map&&te.has("offset")){const M=te;D=parseFloat(M.get("offset")),M.delete("offset")}return D}(li.styles),Vi=0;return null!=oi&&(Fe++,Vi=li.offset=oi),Kt=Kt||Vi<0||Vi>1,dt=dt||Vi<nn,nn=Vi,ct.push(Vi),li});Kt&&M.errors.push(function ve(){return new xn.wOt(3012,!1)}()),dt&&M.errors.push(function Ae(){return new xn.wOt(3200,!1)}());const K=D.steps.length;let O=0;Fe>0&&Fe<K?M.errors.push(function Ee(){return new xn.wOt(3202,!1)}()):0==Fe&&(O=1/(K-1));const V=K-1,J=M.currentTime,je=M.currentAnimateTimings,Pt=je.duration;return fn.forEach((zt,li)=>{const oi=O>0?li==V?1:O*li:ct[li],Vi=oi*Pt;M.currentTime=J+je.delay+Vi,je.duration=Vi,this._validateStyleAst(zt,M),zt.offset=oi,Y.styles.push(zt)}),Y}visitReference(D,M){return{type:8,animation:es(this,As(D.animation),M),options:yo(D.options)}}visitAnimateChild(D,M){return M.depCount++,{type:9,options:yo(D.options)}}visitAnimateRef(D,M){return{type:10,animation:this.visitReference(D.animation,M),options:yo(D.options)}}visitQuery(D,M){const Y=M.currentQuerySelector,ye=D.options||{};M.queryCount++,M.currentQuery=D;const[Fe,ct]=function br(te){const D=!!te.split(/\s*,\s*/).find(M=>":self"==M);return D&&(te=te.replace(Ps,"")),te=te.replace(/@\*/g,Re).replace(/@\w+/g,M=>Re+"-"+M.slice(1)).replace(/:animating/g,tn),[te,D]}(D.selector);M.currentQuerySelector=Y.length?Y+" "+Fe:Fe,Wi(M.collectedStyles,M.currentQuerySelector,new Map);const dt=es(this,As(D.animation),M);return M.currentQuery=null,M.currentQuerySelector=Y,{type:11,selector:Fe,limit:ye.limit||0,optional:!!ye.optional,includeSelf:ct,animation:dt,originalSelector:D.selector,options:yo(D.options)}}visitStagger(D,M){M.currentQuery||M.errors.push(function we(){return new xn.wOt(3013,!1)}());const Y="full"===D.timings?{duration:0,delay:0,easing:"full"}:Fr(D.timings,M.errors,!0);return{type:12,animation:es(this,As(D.animation),M),timings:Y,options:null}}}class Wo{constructor(D){this.errors=D,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function yo(te){return te?(te=Hr(te)).params&&(te.params=function ha(te){return te?Hr(te):null}(te.params)):te={},te}function Xs(te,D,M){return{duration:te,delay:D,easing:M}}function Uo(te,D,M,Y,ye,Fe,ct=null,dt=!1){return{type:1,element:te,keyframes:D,preStyleProps:M,postStyleProps:Y,duration:ye,delay:Fe,totalTime:ye+Fe,easing:ct,subTimeline:dt}}class ms{constructor(){this._map=new Map}get(D){return this._map.get(D)||[]}append(D,M){let Y=this._map.get(D);Y||this._map.set(D,Y=[]),Y.push(...M)}has(D){return this._map.has(D)}clear(){this._map.clear()}}const js=new RegExp(":enter","g"),gs=new RegExp(":leave","g");function Ms(te,D,M,Y,ye,Fe=new Map,ct=new Map,dt,Kt,nn=[]){return(new Ks).buildKeyframes(te,D,M,Y,ye,Fe,ct,dt,Kt,nn)}class Ks{buildKeyframes(D,M,Y,ye,Fe,ct,dt,Kt,nn,fn=[]){nn=nn||new ms;const K=new sa(D,M,nn,ye,Fe,fn,[]);K.options=Kt;const O=Kt.delay?gn(Kt.delay):0;K.currentTimeline.delayNextStep(O),K.currentTimeline.setStyles([ct],null,K.errors,Kt),es(this,Y,K);const V=K.timelines.filter(J=>J.containsAnimation());if(V.length&&dt.size){let J;for(let je=V.length-1;je>=0;je--){const Pt=V[je];if(Pt.element===M){J=Pt;break}}J&&!J.allowOnlyTimelineStyles()&&J.setStyles([dt],null,K.errors,Kt)}return V.length?V.map(J=>J.buildKeyframes()):[Uo(M,[],[],[],0,O,"",!1)]}visitTrigger(D,M){}visitState(D,M){}visitTransition(D,M){}visitAnimateChild(D,M){const Y=M.subInstructions.get(M.element);if(Y){const ye=M.createSubContext(D.options),Fe=M.currentTimeline.currentTime,ct=this._visitSubInstructions(Y,ye,ye.options);Fe!=ct&&M.transformIntoNewTimeline(ct)}M.previousNode=D}visitAnimateRef(D,M){const Y=M.createSubContext(D.options);Y.transformIntoNewTimeline(),this._applyAnimationRefDelays([D.options,D.animation.options],M,Y),this.visitReference(D.animation,Y),M.transformIntoNewTimeline(Y.currentTimeline.currentTime),M.previousNode=D}_applyAnimationRefDelays(D,M,Y){for(const ye of D){const Fe=ye?.delay;if(Fe){const ct="number"==typeof Fe?Fe:gn(Vs(Fe,ye?.params??{},M.errors));Y.delayNextStep(ct)}}}_visitSubInstructions(D,M,Y){let Fe=M.currentTimeline.currentTime;const ct=null!=Y.duration?gn(Y.duration):null,dt=null!=Y.delay?gn(Y.delay):null;return 0!==ct&&D.forEach(Kt=>{const nn=M.appendInstructionToTimeline(Kt,ct,dt);Fe=Math.max(Fe,nn.duration+nn.delay)}),Fe}visitReference(D,M){M.updateOptions(D.options,!0),es(this,D.animation,M),M.previousNode=D}visitSequence(D,M){const Y=M.subContextCount;let ye=M;const Fe=D.options;if(Fe&&(Fe.params||Fe.delay)&&(ye=M.createSubContext(Fe),ye.transformIntoNewTimeline(),null!=Fe.delay)){6==ye.previousNode.type&&(ye.currentTimeline.snapshotCurrentStyles(),ye.previousNode=ts);const ct=gn(Fe.delay);ye.delayNextStep(ct)}D.steps.length&&(D.steps.forEach(ct=>es(this,ct,ye)),ye.currentTimeline.applyStylesToKeyframe(),ye.subContextCount>Y&&ye.transformIntoNewTimeline()),M.previousNode=D}visitGroup(D,M){const Y=[];let ye=M.currentTimeline.currentTime;const Fe=D.options&&D.options.delay?gn(D.options.delay):0;D.steps.forEach(ct=>{const dt=M.createSubContext(D.options);Fe&&dt.delayNextStep(Fe),es(this,ct,dt),ye=Math.max(ye,dt.currentTimeline.currentTime),Y.push(dt.currentTimeline)}),Y.forEach(ct=>M.currentTimeline.mergeTimelineCollectedStyles(ct)),M.transformIntoNewTimeline(ye),M.previousNode=D}_visitTiming(D,M){if(D.dynamic){const Y=D.strValue;return Fr(M.params?Vs(Y,M.params,M.errors):Y,M.errors)}return{duration:D.duration,delay:D.delay,easing:D.easing}}visitAnimate(D,M){const Y=M.currentAnimateTimings=this._visitTiming(D.timings,M),ye=M.currentTimeline;Y.delay&&(M.incrementTime(Y.delay),ye.snapshotCurrentStyles());const Fe=D.style;5==Fe.type?this.visitKeyframes(Fe,M):(M.incrementTime(Y.duration),this.visitStyle(Fe,M),ye.applyStylesToKeyframe()),M.currentAnimateTimings=null,M.previousNode=D}visitStyle(D,M){const Y=M.currentTimeline,ye=M.currentAnimateTimings;!ye&&Y.hasCurrentStyleProperties()&&Y.forwardFrame();const Fe=ye&&ye.easing||D.easing;D.isEmptyStep?Y.applyEmptyStep(Fe):Y.setStyles(D.styles,Fe,M.errors,M.options),M.previousNode=D}visitKeyframes(D,M){const Y=M.currentAnimateTimings,ye=M.currentTimeline.duration,Fe=Y.duration,dt=M.createSubContext().currentTimeline;dt.easing=Y.easing,D.styles.forEach(Kt=>{dt.forwardTime((Kt.offset||0)*Fe),dt.setStyles(Kt.styles,Kt.easing,M.errors,M.options),dt.applyStylesToKeyframe()}),M.currentTimeline.mergeTimelineCollectedStyles(dt),M.transformIntoNewTimeline(ye+Fe),M.previousNode=D}visitQuery(D,M){const Y=M.currentTimeline.currentTime,ye=D.options||{},Fe=ye.delay?gn(ye.delay):0;Fe&&(6===M.previousNode.type||0==Y&&M.currentTimeline.hasCurrentStyleProperties())&&(M.currentTimeline.snapshotCurrentStyles(),M.previousNode=ts);let ct=Y;const dt=M.invokeQuery(D.selector,D.originalSelector,D.limit,D.includeSelf,!!ye.optional,M.errors);M.currentQueryTotal=dt.length;let Kt=null;dt.forEach((nn,fn)=>{M.currentQueryIndex=fn;const K=M.createSubContext(D.options,nn);Fe&&K.delayNextStep(Fe),nn===M.element&&(Kt=K.currentTimeline),es(this,D.animation,K),K.currentTimeline.applyStylesToKeyframe(),ct=Math.max(ct,K.currentTimeline.currentTime)}),M.currentQueryIndex=0,M.currentQueryTotal=0,M.transformIntoNewTimeline(ct),Kt&&(M.currentTimeline.mergeTimelineCollectedStyles(Kt),M.currentTimeline.snapshotCurrentStyles()),M.previousNode=D}visitStagger(D,M){const Y=M.parentContext,ye=M.currentTimeline,Fe=D.timings,ct=Math.abs(Fe.duration),dt=ct*(M.currentQueryTotal-1);let Kt=ct*M.currentQueryIndex;switch(Fe.duration<0?"reverse":Fe.easing){case"reverse":Kt=dt-Kt;break;case"full":Kt=Y.currentStaggerTime}const fn=M.currentTimeline;Kt&&fn.delayNextStep(Kt);const K=fn.currentTime;es(this,D.animation,M),M.previousNode=D,Y.currentStaggerTime=ye.currentTime-K+(ye.startTime-Y.currentTimeline.startTime)}}const ts={};class sa{constructor(D,M,Y,ye,Fe,ct,dt,Kt){this._driver=D,this.element=M,this.subInstructions=Y,this._enterClassName=ye,this._leaveClassName=Fe,this.errors=ct,this.timelines=dt,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=ts,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=Kt||new qs(this._driver,M,0),dt.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(D,M){if(!D)return;const Y=D;let ye=this.options;null!=Y.duration&&(ye.duration=gn(Y.duration)),null!=Y.delay&&(ye.delay=gn(Y.delay));const Fe=Y.params;if(Fe){let ct=ye.params;ct||(ct=this.options.params={}),Object.keys(Fe).forEach(dt=>{(!M||!ct.hasOwnProperty(dt))&&(ct[dt]=Vs(Fe[dt],ct,this.errors))})}}_copyOptions(){const D={};if(this.options){const M=this.options.params;if(M){const Y=D.params={};Object.keys(M).forEach(ye=>{Y[ye]=M[ye]})}}return D}createSubContext(D=null,M,Y){const ye=M||this.element,Fe=new sa(this._driver,ye,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(ye,Y||0));return Fe.previousNode=this.previousNode,Fe.currentAnimateTimings=this.currentAnimateTimings,Fe.options=this._copyOptions(),Fe.updateOptions(D),Fe.currentQueryIndex=this.currentQueryIndex,Fe.currentQueryTotal=this.currentQueryTotal,Fe.parentContext=this,this.subContextCount++,Fe}transformIntoNewTimeline(D){return this.previousNode=ts,this.currentTimeline=this.currentTimeline.fork(this.element,D),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(D,M,Y){const ye={duration:M??D.duration,delay:this.currentTimeline.currentTime+(Y??0)+D.delay,easing:""},Fe=new Lo(this._driver,D.element,D.keyframes,D.preStyleProps,D.postStyleProps,ye,D.stretchStartingKeyframe);return this.timelines.push(Fe),ye}incrementTime(D){this.currentTimeline.forwardTime(this.currentTimeline.duration+D)}delayNextStep(D){D>0&&this.currentTimeline.delayNextStep(D)}invokeQuery(D,M,Y,ye,Fe,ct){let dt=[];if(ye&&dt.push(this.element),D.length>0){D=(D=D.replace(js,"."+this._enterClassName)).replace(gs,"."+this._leaveClassName);let nn=this._driver.query(this.element,D,1!=Y);0!==Y&&(nn=Y<0?nn.slice(nn.length+Y,nn.length):nn.slice(0,Y)),dt.push(...nn)}return!Fe&&0==dt.length&&ct.push(function Ct(te){return new xn.wOt(3014,!1)}()),dt}}class qs{constructor(D,M,Y,ye){this._driver=D,this.element=M,this.startTime=Y,this._elementTimelineStylesLookup=ye,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(M),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(M,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(D){const M=1===this._keyframes.size&&this._pendingStyles.size;this.duration||M?(this.forwardTime(this.currentTime+D),M&&this.snapshotCurrentStyles()):this.startTime+=D}fork(D,M){return this.applyStylesToKeyframe(),new qs(this._driver,D,M||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(D){this.applyStylesToKeyframe(),this.duration=D,this._loadKeyframe()}_updateStyle(D,M){this._localTimelineStyles.set(D,M),this._globalTimelineStyles.set(D,M),this._styleSummary.set(D,{time:this.currentTime,value:M})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(D){D&&this._previousKeyframe.set("easing",D);for(let[M,Y]of this._globalTimelineStyles)this._backFill.set(M,Y||Ni),this._currentKeyframe.set(M,Ni);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(D,M,Y,ye){M&&this._previousKeyframe.set("easing",M);const Fe=ye&&ye.params||{},ct=function ue(te,D){const M=new Map;let Y;return te.forEach(ye=>{if("*"===ye){Y=Y||D.keys();for(let Fe of Y)M.set(Fe,Ni)}else cr(ye,M)}),M}(D,this._globalTimelineStyles);for(let[dt,Kt]of ct){const nn=Vs(Kt,Fe,Y);this._pendingStyles.set(dt,nn),this._localTimelineStyles.has(dt)||this._backFill.set(dt,this._globalTimelineStyles.get(dt)??Ni),this._updateStyle(dt,nn)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((D,M)=>{this._currentKeyframe.set(M,D)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((D,M)=>{this._currentKeyframe.has(M)||this._currentKeyframe.set(M,D)}))}snapshotCurrentStyles(){for(let[D,M]of this._localTimelineStyles)this._pendingStyles.set(D,M),this._updateStyle(D,M)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const D=[];for(let M in this._currentKeyframe)D.push(M);return D}mergeTimelineCollectedStyles(D){D._styleSummary.forEach((M,Y)=>{const ye=this._styleSummary.get(Y);(!ye||M.time>ye.time)&&this._updateStyle(Y,M.value)})}buildKeyframes(){this.applyStylesToKeyframe();const D=new Set,M=new Set,Y=1===this._keyframes.size&&0===this.duration;let ye=[];this._keyframes.forEach((dt,Kt)=>{const nn=cr(dt,new Map,this._backFill);nn.forEach((fn,K)=>{"!"===fn?D.add(K):fn===Ni&&M.add(K)}),Y||nn.set("offset",Kt/this.duration),ye.push(nn)});const Fe=D.size?Qs(D.values()):[],ct=M.size?Qs(M.values()):[];if(Y){const dt=ye[0],Kt=new Map(dt);dt.set("offset",0),Kt.set("offset",1),ye=[dt,Kt]}return Uo(this.element,ye,Fe,ct,this.duration,this.startTime,this.easing,!1)}}class Lo extends qs{constructor(D,M,Y,ye,Fe,ct,dt=!1){super(D,M,ct.delay),this.keyframes=Y,this.preStyleProps=ye,this.postStyleProps=Fe,this._stretchStartingKeyframe=dt,this.timings={duration:ct.duration,delay:ct.delay,easing:ct.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let D=this.keyframes,{delay:M,duration:Y,easing:ye}=this.timings;if(this._stretchStartingKeyframe&&M){const Fe=[],ct=Y+M,dt=M/ct,Kt=cr(D[0]);Kt.set("offset",0),Fe.push(Kt);const nn=cr(D[0]);nn.set("offset",oa(dt)),Fe.push(nn);const fn=D.length-1;for(let K=1;K<=fn;K++){let O=cr(D[K]);const V=O.get("offset");O.set("offset",oa((M+V*Y)/ct)),Fe.push(O)}Y=ct,M=0,ye="",D=Fe}return Uo(this.element,D,this.preStyleProps,this.postStyleProps,Y,M,ye,!0)}}function oa(te,D=3){const M=Math.pow(10,D-1);return Math.round(te*M)/M}class X{}const st=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class hi extends X{normalizePropertyName(D,M){return Rn(D)}normalizeStyleValue(D,M,Y,ye){let Fe="";const ct=Y.toString().trim();if(st.has(M)&&0!==Y&&"0"!==Y)if("number"==typeof Y)Fe="px";else{const dt=Y.match(/^[+-]?[\d\.]+([a-z]*)$/);dt&&0==dt[1].length&&ye.push(function Kr(te,D){return new xn.wOt(3005,!1)}())}return ct+Fe}}function mr(te,D,M,Y,ye,Fe,ct,dt,Kt,nn,fn,K,O){return{type:0,element:te,triggerName:D,isRemovalTransition:ye,fromState:M,fromStyles:Fe,toState:Y,toStyles:ct,timelines:dt,queriedElements:Kt,preStyleProps:nn,postStyleProps:fn,totalTime:K,errors:O}}const vo={};class To{constructor(D,M,Y){this._triggerName=D,this.ast=M,this._stateStyles=Y}match(D,M,Y,ye){return function Rs(te,D,M,Y,ye){return te.some(Fe=>Fe(D,M,Y,ye))}(this.ast.matchers,D,M,Y,ye)}buildStyles(D,M,Y){let ye=this._stateStyles.get("*");return void 0!==D&&(ye=this._stateStyles.get(D?.toString())||ye),ye?ye.buildStyles(M,Y):new Map}build(D,M,Y,ye,Fe,ct,dt,Kt,nn,fn){const K=[],O=this.ast.options&&this.ast.options.params||vo,J=this.buildStyles(Y,dt&&dt.params||vo,K),je=Kt&&Kt.params||vo,Pt=this.buildStyles(ye,je,K),zt=new Set,li=new Map,oi=new Map,Vi="void"===ye,tr={params:Vo(je,O),delay:this.ast.options?.delay},wn=fn?[]:Ms(D,M,this.ast.animation,Fe,ct,J,Pt,tr,nn,K);let fe=0;if(wn.forEach(bt=>{fe=Math.max(bt.duration+bt.delay,fe)}),K.length)return mr(M,this._triggerName,Y,ye,Vi,J,Pt,[],[],li,oi,fe,K);wn.forEach(bt=>{const Hn=bt.element,Ln=Wi(li,Hn,new Set);bt.preStyleProps.forEach(lr=>Ln.add(lr));const xi=Wi(oi,Hn,new Set);bt.postStyleProps.forEach(lr=>xi.add(lr)),Hn!==M&&zt.add(Hn)});const nt=Qs(zt.values());return mr(M,this._triggerName,Y,ye,Vi,J,Pt,wn,nt,li,oi,fe)}}function Vo(te,D){const M=Hr(D);for(const Y in te)te.hasOwnProperty(Y)&&null!=te[Y]&&(M[Y]=te[Y]);return M}class Mo{constructor(D,M,Y){this.styles=D,this.defaultParams=M,this.normalizer=Y}buildStyles(D,M){const Y=new Map,ye=Hr(this.defaultParams);return Object.keys(D).forEach(Fe=>{const ct=D[Fe];null!==ct&&(ye[Fe]=ct)}),this.styles.styles.forEach(Fe=>{"string"!=typeof Fe&&Fe.forEach((ct,dt)=>{ct&&(ct=Vs(ct,ye,M));const Kt=this.normalizer.normalizePropertyName(dt,M);ct=this.normalizer.normalizeStyleValue(dt,Kt,ct,M),Y.set(dt,ct)})}),Y}}class fa{constructor(D,M,Y){this.name=D,this.ast=M,this._normalizer=Y,this.transitionFactories=[],this.states=new Map,M.states.forEach(ye=>{this.states.set(ye.name,new Mo(ye.style,ye.options&&ye.options.params||{},Y))}),aa(this.states,"true","1"),aa(this.states,"false","0"),M.transitions.forEach(ye=>{this.transitionFactories.push(new To(D,ye,this.states))}),this.fallbackTransition=function Oo(te,D,M){return new To(te,{type:1,animation:{type:2,steps:[],options:null},matchers:[(ct,dt)=>!0],options:null,queryCount:0,depCount:0},D)}(D,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(D,M,Y,ye){return this.transitionFactories.find(ct=>ct.match(D,M,Y,ye))||null}matchStyles(D,M,Y){return this.fallbackTransition.buildStyles(D,M,Y)}}function aa(te,D,M){te.has(D)?te.has(M)||te.set(M,te.get(D)):te.has(M)&&te.set(D,te.get(M))}const _a=new ms;class ao{constructor(D,M,Y){this.bodyNode=D,this._driver=M,this._normalizer=Y,this._animations=new Map,this._playersById=new Map,this.players=[]}register(D,M){const Y=[],Fe=Ss(this._driver,M,Y,[]);if(Y.length)throw function ki(te){return new xn.wOt(3503,!1)}();this._animations.set(D,Fe)}_buildPlayer(D,M,Y){const ye=D.element,Fe=Nr(this._normalizer,D.keyframes,M,Y);return this._driver.animate(ye,Fe,D.duration,D.delay,D.easing,[],!0)}create(D,M,Y={}){const ye=[],Fe=this._animations.get(D);let ct;const dt=new Map;if(Fe?(ct=Ms(this._driver,M,Fe,Ue,Ge,new Map,new Map,Y,_a,ye),ct.forEach(fn=>{const K=Wi(dt,fn.element,new Map);fn.postStyleProps.forEach(O=>K.set(O,null))})):(ye.push(function _t(){return new xn.wOt(3300,!1)}()),ct=[]),ye.length)throw function qe(te){return new xn.wOt(3504,!1)}();dt.forEach((fn,K)=>{fn.forEach((O,V)=>{fn.set(V,this._driver.computeStyle(K,V,Ni))})});const nn=Fi(ct.map(fn=>{const K=dt.get(fn.element);return this._buildPlayer(fn,new Map,K)}));return this._playersById.set(D,nn),nn.onDestroy(()=>this.destroy(D)),this.players.push(nn),nn}destroy(D){const M=this._getPlayer(D);M.destroy(),this._playersById.delete(D);const Y=this.players.indexOf(M);Y>=0&&this.players.splice(Y,1)}_getPlayer(D){const M=this._playersById.get(D);if(!M)throw function it(te){return new xn.wOt(3301,!1)}();return M}listen(D,M,Y,ye){const Fe=ar(M,"","","");return jr(this._getPlayer(D),Y,Fe,ye),()=>{}}command(D,M,Y,ye){if("register"==Y)return void this.register(D,ye[0]);if("create"==Y)return void this.create(D,M,ye[0]||{});const Fe=this._getPlayer(D);switch(Y){case"play":Fe.play();break;case"pause":Fe.pause();break;case"reset":Fe.reset();break;case"restart":Fe.restart();break;case"finish":Fe.finish();break;case"init":Fe.init();break;case"setPosition":Fe.setPosition(parseFloat(ye[0]));break;case"destroy":this.destroy(D)}}}const Bo="ng-animate-queued",Ko="ng-animate-disabled",Oa=[],Jo={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},ya={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Hs="__ng_removed";class ea{get params(){return this.options.params}constructor(D,M=""){this.namespaceId=M;const Y=D&&D.hasOwnProperty("value");if(this.value=function xo(te){return te??null}(Y?D.value:D),Y){const Fe=Hr(D);delete Fe.value,this.options=Fe}else this.options={};this.options.params||(this.options.params={})}absorbOptions(D){const M=D.params;if(M){const Y=this.options.params;Object.keys(M).forEach(ye=>{null==Y[ye]&&(Y[ye]=M[ye])})}}}const bo="void",Ns=new ea(bo);class va{constructor(D,M,Y){this.id=D,this.hostElement=M,this._engine=Y,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+D,$s(M,this._hostClassName)}listen(D,M,Y,ye){if(!this._triggers.has(M))throw function Ze(te,D){return new xn.wOt(3302,!1)}();if(null==Y||0==Y.length)throw function Ke(te){return new xn.wOt(3303,!1)}();if(!function Ys(te){return"start"==te||"done"==te}(Y))throw function xt(te,D){return new xn.wOt(3400,!1)}();const Fe=Wi(this._elementListeners,D,[]),ct={name:M,phase:Y,callback:ye};Fe.push(ct);const dt=Wi(this._engine.statesByElement,D,new Map);return dt.has(M)||($s(D,Z),$s(D,Z+"-"+M),dt.set(M,Ns)),()=>{this._engine.afterFlush(()=>{const Kt=Fe.indexOf(ct);Kt>=0&&Fe.splice(Kt,1),this._triggers.has(M)||dt.delete(M)})}}register(D,M){return!this._triggers.has(D)&&(this._triggers.set(D,M),!0)}_getTrigger(D){const M=this._triggers.get(D);if(!M)throw function Yt(te){return new xn.wOt(3401,!1)}();return M}trigger(D,M,Y,ye=!0){const Fe=this._getTrigger(M),ct=new ba(this.id,M,D);let dt=this._engine.statesByElement.get(D);dt||($s(D,Z),$s(D,Z+"-"+M),this._engine.statesByElement.set(D,dt=new Map));let Kt=dt.get(M);const nn=new ea(Y,this.id);if(!(Y&&Y.hasOwnProperty("value"))&&Kt&&nn.absorbOptions(Kt.options),dt.set(M,nn),Kt||(Kt=Ns),nn.value!==bo&&Kt.value===nn.value){if(!function ne(te,D){const M=Object.keys(te),Y=Object.keys(D);if(M.length!=Y.length)return!1;for(let ye=0;ye<M.length;ye++){const Fe=M[ye];if(!D.hasOwnProperty(Fe)||te[Fe]!==D[Fe])return!1}return!0}(Kt.params,nn.params)){const je=[],Pt=Fe.matchStyles(Kt.value,Kt.params,je),zt=Fe.matchStyles(nn.value,nn.params,je);je.length?this._engine.reportError(je):this._engine.afterFlush(()=>{no(D,Pt),Sr(D,zt)})}return}const O=Wi(this._engine.playersByElement,D,[]);O.forEach(je=>{je.namespaceId==this.id&&je.triggerName==M&&je.queued&&je.destroy()});let V=Fe.matchTransition(Kt.value,nn.value,D,nn.params),J=!1;if(!V){if(!ye)return;V=Fe.fallbackTransition,J=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:D,triggerName:M,transition:V,fromState:Kt,toState:nn,player:ct,isFallbackTransition:J}),J||($s(D,Bo),ct.onStart(()=>{Po(D,Bo)})),ct.onDone(()=>{let je=this.players.indexOf(ct);je>=0&&this.players.splice(je,1);const Pt=this._engine.playersByElement.get(D);if(Pt){let zt=Pt.indexOf(ct);zt>=0&&Pt.splice(zt,1)}}),this.players.push(ct),O.push(ct),ct}deregister(D){this._triggers.delete(D),this._engine.statesByElement.forEach(M=>M.delete(D)),this._elementListeners.forEach((M,Y)=>{this._elementListeners.set(Y,M.filter(ye=>ye.name!=D))})}clearElementCache(D){this._engine.statesByElement.delete(D),this._elementListeners.delete(D);const M=this._engine.playersByElement.get(D);M&&(M.forEach(Y=>Y.destroy()),this._engine.playersByElement.delete(D))}_signalRemovalForInnerTriggers(D,M){const Y=this._engine.driver.query(D,Re,!0);Y.forEach(ye=>{if(ye[Hs])return;const Fe=this._engine.fetchNamespacesByElement(ye);Fe.size?Fe.forEach(ct=>ct.triggerLeaveAnimation(ye,M,!1,!0)):this.clearElementCache(ye)}),this._engine.afterFlushAnimationsDone(()=>Y.forEach(ye=>this.clearElementCache(ye)))}triggerLeaveAnimation(D,M,Y,ye){const Fe=this._engine.statesByElement.get(D),ct=new Map;if(Fe){const dt=[];if(Fe.forEach((Kt,nn)=>{if(ct.set(nn,Kt.value),this._triggers.has(nn)){const fn=this.trigger(D,nn,bo,ye);fn&&dt.push(fn)}}),dt.length)return this._engine.markElementAsRemoved(this.id,D,!0,M,ct),Y&&Fi(dt).onDone(()=>this._engine.processLeaveNode(D)),!0}return!1}prepareLeaveAnimationListeners(D){const M=this._elementListeners.get(D),Y=this._engine.statesByElement.get(D);if(M&&Y){const ye=new Set;M.forEach(Fe=>{const ct=Fe.name;if(ye.has(ct))return;ye.add(ct);const Kt=this._triggers.get(ct).fallbackTransition,nn=Y.get(ct)||Ns,fn=new ea(bo),K=new ba(this.id,ct,D);this._engine.totalQueuedPlayers++,this._queue.push({element:D,triggerName:ct,transition:Kt,fromState:nn,toState:fn,player:K,isFallbackTransition:!0})})}}removeNode(D,M){const Y=this._engine;if(D.childElementCount&&this._signalRemovalForInnerTriggers(D,M),this.triggerLeaveAnimation(D,M,!0))return;let ye=!1;if(Y.totalAnimations){const Fe=Y.players.length?Y.playersByQueriedElement.get(D):[];if(Fe&&Fe.length)ye=!0;else{let ct=D;for(;ct=ct.parentNode;)if(Y.statesByElement.get(ct)){ye=!0;break}}}if(this.prepareLeaveAnimationListeners(D),ye)Y.markElementAsRemoved(this.id,D,!1,M);else{const Fe=D[Hs];(!Fe||Fe===Jo)&&(Y.afterFlush(()=>this.clearElementCache(D)),Y.destroyInnerAnimations(D),Y._onRemovalComplete(D,M))}}insertNode(D,M){$s(D,this._hostClassName)}drainQueuedTransitions(D){const M=[];return this._queue.forEach(Y=>{const ye=Y.player;if(ye.destroyed)return;const Fe=Y.element,ct=this._elementListeners.get(Fe);ct&&ct.forEach(dt=>{if(dt.name==Y.triggerName){const Kt=ar(Fe,Y.triggerName,Y.fromState.value,Y.toState.value);Kt._data=D,jr(Y.player,dt.phase,Kt,dt.callback)}}),ye.markedForDestroy?this._engine.afterFlush(()=>{ye.destroy()}):M.push(Y)}),this._queue=[],M.sort((Y,ye)=>{const Fe=Y.transition.ast.depCount,ct=ye.transition.ast.depCount;return 0==Fe||0==ct?Fe-ct:this._engine.driver.containsElement(Y.element,ye.element)?1:-1})}destroy(D){this.players.forEach(M=>M.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,D)}}class uo{_onRemovalComplete(D,M){this.onRemovalComplete(D,M)}constructor(D,M,Y){this.bodyNode=D,this.driver=M,this._normalizer=Y,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(ye,Fe)=>{}}get queuedPlayers(){const D=[];return this._namespaceList.forEach(M=>{M.players.forEach(Y=>{Y.queued&&D.push(Y)})}),D}createNamespace(D,M){const Y=new va(D,M,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,M)?this._balanceNamespaceList(Y,M):(this.newHostElements.set(M,Y),this.collectEnterElement(M)),this._namespaceLookup[D]=Y}_balanceNamespaceList(D,M){const Y=this._namespaceList,ye=this.namespacesByHostElement;if(Y.length-1>=0){let ct=!1,dt=this.driver.getParentElement(M);for(;dt;){const Kt=ye.get(dt);if(Kt){const nn=Y.indexOf(Kt);Y.splice(nn+1,0,D),ct=!0;break}dt=this.driver.getParentElement(dt)}ct||Y.unshift(D)}else Y.push(D);return ye.set(M,D),D}register(D,M){let Y=this._namespaceLookup[D];return Y||(Y=this.createNamespace(D,M)),Y}registerTrigger(D,M,Y){let ye=this._namespaceLookup[D];ye&&ye.register(M,Y)&&this.totalAnimations++}destroy(D,M){D&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const Y=this._fetchNamespace(D);this.namespacesByHostElement.delete(Y.hostElement);const ye=this._namespaceList.indexOf(Y);ye>=0&&this._namespaceList.splice(ye,1),Y.destroy(M),delete this._namespaceLookup[D]}))}_fetchNamespace(D){return this._namespaceLookup[D]}fetchNamespacesByElement(D){const M=new Set,Y=this.statesByElement.get(D);if(Y)for(let ye of Y.values())if(ye.namespaceId){const Fe=this._fetchNamespace(ye.namespaceId);Fe&&M.add(Fe)}return M}trigger(D,M,Y,ye){if(Ho(M)){const Fe=this._fetchNamespace(D);if(Fe)return Fe.trigger(M,Y,ye),!0}return!1}insertNode(D,M,Y,ye){if(!Ho(M))return;const Fe=M[Hs];if(Fe&&Fe.setForRemoval){Fe.setForRemoval=!1,Fe.setForMove=!0;const ct=this.collectedLeaveElements.indexOf(M);ct>=0&&this.collectedLeaveElements.splice(ct,1)}if(D){const ct=this._fetchNamespace(D);ct&&ct.insertNode(M,Y)}ye&&this.collectEnterElement(M)}collectEnterElement(D){this.collectedEnterElements.push(D)}markElementAsDisabled(D,M){M?this.disabledNodes.has(D)||(this.disabledNodes.add(D),$s(D,Ko)):this.disabledNodes.has(D)&&(this.disabledNodes.delete(D),Po(D,Ko))}removeNode(D,M,Y){if(Ho(M)){const ye=D?this._fetchNamespace(D):null;ye?ye.removeNode(M,Y):this.markElementAsRemoved(D,M,!1,Y);const Fe=this.namespacesByHostElement.get(M);Fe&&Fe.id!==D&&Fe.removeNode(M,Y)}else this._onRemovalComplete(M,Y)}markElementAsRemoved(D,M,Y,ye,Fe){this.collectedLeaveElements.push(M),M[Hs]={namespaceId:D,setForRemoval:ye,hasAnimation:Y,removedBeforeQueried:!1,previousTriggersValues:Fe}}listen(D,M,Y,ye,Fe){return Ho(M)?this._fetchNamespace(D).listen(M,Y,ye,Fe):()=>{}}_buildInstruction(D,M,Y,ye,Fe){return D.transition.build(this.driver,D.element,D.fromState.value,D.toState.value,Y,ye,D.fromState.options,D.toState.options,M,Fe)}destroyInnerAnimations(D){let M=this.driver.query(D,Re,!0);M.forEach(Y=>this.destroyActiveAnimationsForElement(Y)),0!=this.playersByQueriedElement.size&&(M=this.driver.query(D,tn,!0),M.forEach(Y=>this.finishActiveQueriedAnimationOnElement(Y)))}destroyActiveAnimationsForElement(D){const M=this.playersByElement.get(D);M&&M.forEach(Y=>{Y.queued?Y.markedForDestroy=!0:Y.destroy()})}finishActiveQueriedAnimationOnElement(D){const M=this.playersByQueriedElement.get(D);M&&M.forEach(Y=>Y.finish())}whenRenderingDone(){return new Promise(D=>{if(this.players.length)return Fi(this.players).onDone(()=>D());D()})}processLeaveNode(D){const M=D[Hs];if(M&&M.setForRemoval){if(D[Hs]=Jo,M.namespaceId){this.destroyInnerAnimations(D);const Y=this._fetchNamespace(M.namespaceId);Y&&Y.clearElementCache(D)}this._onRemovalComplete(D,M.setForRemoval)}D.classList?.contains(Ko)&&this.markElementAsDisabled(D,!1),this.driver.query(D,".ng-animate-disabled",!0).forEach(Y=>{this.markElementAsDisabled(Y,!1)})}flush(D=-1){let M=[];if(this.newHostElements.size&&(this.newHostElements.forEach((Y,ye)=>this._balanceNamespaceList(Y,ye)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let Y=0;Y<this.collectedEnterElements.length;Y++)$s(this.collectedEnterElements[Y],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const Y=[];try{M=this._flushAnimations(Y,D)}finally{for(let ye=0;ye<Y.length;ye++)Y[ye]()}}else for(let Y=0;Y<this.collectedLeaveElements.length;Y++)this.processLeaveNode(this.collectedLeaveElements[Y]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(Y=>Y()),this._flushFns=[],this._whenQuietFns.length){const Y=this._whenQuietFns;this._whenQuietFns=[],M.length?Fi(M).onDone(()=>{Y.forEach(ye=>ye())}):Y.forEach(ye=>ye())}}reportError(D){throw function Pn(te){return new xn.wOt(3402,!1)}()}_flushAnimations(D,M){const Y=new ms,ye=[],Fe=new Map,ct=[],dt=new Map,Kt=new Map,nn=new Map,fn=new Set;this.disabledNodes.forEach($n=>{fn.add($n);const mi=this.driver.query($n,".ng-animate-queued",!0);for(let Qi=0;Qi<mi.length;Qi++)fn.add(mi[Qi])});const K=this.bodyNode,O=Array.from(this.statesByElement.keys()),V=Ua(O,this.collectedEnterElements),J=new Map;let je=0;V.forEach(($n,mi)=>{const Qi=Ue+je++;J.set(mi,Qi),$n.forEach(ns=>$s(ns,Qi))});const Pt=[],zt=new Set,li=new Set;for(let $n=0;$n<this.collectedLeaveElements.length;$n++){const mi=this.collectedLeaveElements[$n],Qi=mi[Hs];Qi&&Qi.setForRemoval&&(Pt.push(mi),zt.add(mi),Qi.hasAnimation?this.driver.query(mi,".ng-star-inserted",!0).forEach(ns=>zt.add(ns)):li.add(mi))}const oi=new Map,Vi=Ua(O,Array.from(zt));Vi.forEach(($n,mi)=>{const Qi=Ge+je++;oi.set(mi,Qi),$n.forEach(ns=>$s(ns,Qi))}),D.push(()=>{V.forEach(($n,mi)=>{const Qi=J.get(mi);$n.forEach(ns=>Po(ns,Qi))}),Vi.forEach(($n,mi)=>{const Qi=oi.get(mi);$n.forEach(ns=>Po(ns,Qi))}),Pt.forEach($n=>{this.processLeaveNode($n)})});const tr=[],wn=[];for(let $n=this._namespaceList.length-1;$n>=0;$n--)this._namespaceList[$n].drainQueuedTransitions(M).forEach(Qi=>{const ns=Qi.player,Rr=Qi.element;if(tr.push(ns),this.collectedEnterElements.length){const S=Rr[Hs];if(S&&S.setForMove){if(S.previousTriggersValues&&S.previousTriggersValues.has(Qi.triggerName)){const G=S.previousTriggersValues.get(Qi.triggerName),ae=this.statesByElement.get(Qi.element);if(ae&&ae.has(Qi.triggerName)){const Te=ae.get(Qi.triggerName);Te.value=G,ae.set(Qi.triggerName,Te)}}return void ns.destroy()}}const eo=!K||!this.driver.containsElement(K,Rr),Ht=oi.get(Rr),$o=J.get(Rr),qi=this._buildInstruction(Qi,Y,$o,Ht,eo);if(qi.errors&&qi.errors.length)return void wn.push(qi);if(eo)return ns.onStart(()=>no(Rr,qi.fromStyles)),ns.onDestroy(()=>Sr(Rr,qi.toStyles)),void ye.push(ns);if(Qi.isFallbackTransition)return ns.onStart(()=>no(Rr,qi.fromStyles)),ns.onDestroy(()=>Sr(Rr,qi.toStyles)),void ye.push(ns);const k=[];qi.timelines.forEach(S=>{S.stretchStartingKeyframe=!0,this.disabledNodes.has(S.element)||k.push(S)}),qi.timelines=k,Y.append(Rr,qi.timelines),ct.push({instruction:qi,player:ns,element:Rr}),qi.queriedElements.forEach(S=>Wi(dt,S,[]).push(ns)),qi.preStyleProps.forEach((S,G)=>{if(S.size){let ae=Kt.get(G);ae||Kt.set(G,ae=new Set),S.forEach((Te,Qe)=>ae.add(Qe))}}),qi.postStyleProps.forEach((S,G)=>{let ae=nn.get(G);ae||nn.set(G,ae=new Set),S.forEach((Te,Qe)=>ae.add(Qe))})});if(wn.length){const $n=[];wn.forEach(mi=>{$n.push(function yi(te,D){return new xn.wOt(3505,!1)}())}),tr.forEach(mi=>mi.destroy()),this.reportError($n)}const fe=new Map,nt=new Map;ct.forEach($n=>{const mi=$n.element;Y.has(mi)&&(nt.set(mi,mi),this._beforeAnimationBuild($n.player.namespaceId,$n.instruction,fe))}),ye.forEach($n=>{const mi=$n.element;this._getPreviousPlayers(mi,!1,$n.namespaceId,$n.triggerName,null).forEach(ns=>{Wi(fe,mi,[]).push(ns),ns.destroy()})});const bt=Pt.filter($n=>ge($n,Kt,nn)),Hn=new Map;Mr(Hn,this.driver,li,nn,Ni).forEach($n=>{ge($n,Kt,nn)&&bt.push($n)});const xi=new Map;V.forEach(($n,mi)=>{Mr(xi,this.driver,new Set($n),Kt,"!")}),bt.forEach($n=>{const mi=Hn.get($n),Qi=xi.get($n);Hn.set($n,new Map([...mi?.entries()??[],...Qi?.entries()??[]]))});const lr=[],dr=[],ys={};ct.forEach($n=>{const{element:mi,player:Qi,instruction:ns}=$n;if(Y.has(mi)){if(fn.has(mi))return Qi.onDestroy(()=>Sr(mi,ns.toStyles)),Qi.disabled=!0,Qi.overrideTotalTime(ns.totalTime),void ye.push(Qi);let Rr=ys;if(nt.size>1){let Ht=mi;const $o=[];for(;Ht=Ht.parentNode;){const qi=nt.get(Ht);if(qi){Rr=qi;break}$o.push(Ht)}$o.forEach(qi=>nt.set(qi,Rr))}const eo=this._buildAnimation(Qi.namespaceId,ns,fe,Fe,xi,Hn);if(Qi.setRealPlayer(eo),Rr===ys)lr.push(Qi);else{const Ht=this.playersByElement.get(Rr);Ht&&Ht.length&&(Qi.parentPlayer=Fi(Ht)),ye.push(Qi)}}else no(mi,ns.fromStyles),Qi.onDestroy(()=>Sr(mi,ns.toStyles)),dr.push(Qi),fn.has(mi)&&ye.push(Qi)}),dr.forEach($n=>{const mi=Fe.get($n.element);if(mi&&mi.length){const Qi=Fi(mi);$n.setRealPlayer(Qi)}}),ye.forEach($n=>{$n.parentPlayer?$n.syncPlayerEvents($n.parentPlayer):$n.destroy()});for(let $n=0;$n<Pt.length;$n++){const mi=Pt[$n],Qi=mi[Hs];if(Po(mi,Ge),Qi&&Qi.hasAnimation)continue;let ns=[];if(dt.size){let eo=dt.get(mi);eo&&eo.length&&ns.push(...eo);let Ht=this.driver.query(mi,tn,!0);for(let $o=0;$o<Ht.length;$o++){let qi=dt.get(Ht[$o]);qi&&qi.length&&ns.push(...qi)}}const Rr=ns.filter(eo=>!eo.destroyed);Rr.length?Fa(this,mi,Rr):this.processLeaveNode(mi)}return Pt.length=0,lr.forEach($n=>{this.players.push($n),$n.onDone(()=>{$n.destroy();const mi=this.players.indexOf($n);this.players.splice(mi,1)}),$n.play()}),lr}afterFlush(D){this._flushFns.push(D)}afterFlushAnimationsDone(D){this._whenQuietFns.push(D)}_getPreviousPlayers(D,M,Y,ye,Fe){let ct=[];if(M){const dt=this.playersByQueriedElement.get(D);dt&&(ct=dt)}else{const dt=this.playersByElement.get(D);if(dt){const Kt=!Fe||Fe==bo;dt.forEach(nn=>{nn.queued||!Kt&&nn.triggerName!=ye||ct.push(nn)})}}return(Y||ye)&&(ct=ct.filter(dt=>!(Y&&Y!=dt.namespaceId||ye&&ye!=dt.triggerName))),ct}_beforeAnimationBuild(D,M,Y){const Fe=M.element,ct=M.isRemovalTransition?void 0:D,dt=M.isRemovalTransition?void 0:M.triggerName;for(const Kt of M.timelines){const nn=Kt.element,fn=nn!==Fe,K=Wi(Y,nn,[]);this._getPreviousPlayers(nn,fn,ct,dt,M.toState).forEach(V=>{const J=V.getRealPlayer();J.beforeDestroy&&J.beforeDestroy(),V.destroy(),K.push(V)})}no(Fe,M.fromStyles)}_buildAnimation(D,M,Y,ye,Fe,ct){const dt=M.triggerName,Kt=M.element,nn=[],fn=new Set,K=new Set,O=M.timelines.map(J=>{const je=J.element;fn.add(je);const Pt=je[Hs];if(Pt&&Pt.removedBeforeQueried)return new wr(J.duration,J.delay);const zt=je!==Kt,li=function w(te){const D=[];return j(te,D),D}((Y.get(je)||Oa).map(fe=>fe.getRealPlayer())).filter(fe=>!!fe.element&&fe.element===je),oi=Fe.get(je),Vi=ct.get(je),tr=Nr(this._normalizer,J.keyframes,oi,Vi),wn=this._buildPlayer(J,tr,li);if(J.subTimeline&&ye&&K.add(je),zt){const fe=new ba(D,dt,je);fe.setRealPlayer(wn),nn.push(fe)}return wn});nn.forEach(J=>{Wi(this.playersByQueriedElement,J.element,[]).push(J),J.onDone(()=>function Na(te,D,M){let Y=te.get(D);if(Y){if(Y.length){const ye=Y.indexOf(M);Y.splice(ye,1)}0==Y.length&&te.delete(D)}return Y}(this.playersByQueriedElement,J.element,J))}),fn.forEach(J=>$s(J,Je));const V=Fi(O);return V.onDestroy(()=>{fn.forEach(J=>Po(J,Je)),Sr(Kt,M.toStyles)}),K.forEach(J=>{Wi(ye,J,[]).push(V)}),V}_buildPlayer(D,M,Y){return M.length>0?this.driver.animate(D.element,M,D.duration,D.delay,D.easing,Y):new wr(D.duration,D.delay)}}class ba{constructor(D,M,Y){this.namespaceId=D,this.triggerName=M,this.element=Y,this._player=new wr,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(D){this._containsRealPlayer||(this._player=D,this._queuedCallbacks.forEach((M,Y)=>{M.forEach(ye=>jr(D,Y,void 0,ye))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(D.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(D){this.totalTime=D}syncPlayerEvents(D){const M=this._player;M.triggerCallback&&D.onStart(()=>M.triggerCallback("start")),D.onDone(()=>this.finish()),D.onDestroy(()=>this.destroy())}_queueEvent(D,M){Wi(this._queuedCallbacks,D,[]).push(M)}onDone(D){this.queued&&this._queueEvent("done",D),this._player.onDone(D)}onStart(D){this.queued&&this._queueEvent("start",D),this._player.onStart(D)}onDestroy(D){this.queued&&this._queueEvent("destroy",D),this._player.onDestroy(D)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(D){this.queued||this._player.setPosition(D)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(D){const M=this._player;M.triggerCallback&&M.triggerCallback(D)}}function Ho(te){return te&&1===te.nodeType}function ca(te,D){const M=te.style.display;return te.style.display=D??"none",M}function Mr(te,D,M,Y,ye){const Fe=[];M.forEach(Kt=>Fe.push(ca(Kt)));const ct=[];Y.forEach((Kt,nn)=>{const fn=new Map;Kt.forEach(K=>{const O=D.computeStyle(nn,K,ye);fn.set(K,O),(!O||0==O.length)&&(nn[Hs]=ya,ct.push(nn))}),te.set(nn,fn)});let dt=0;return M.forEach(Kt=>ca(Kt,Fe[dt++])),ct}function Ua(te,D){const M=new Map;if(te.forEach(dt=>M.set(dt,[])),0==D.length)return M;const ye=new Set(D),Fe=new Map;function ct(dt){if(!dt)return 1;let Kt=Fe.get(dt);if(Kt)return Kt;const nn=dt.parentNode;return Kt=M.has(nn)?nn:ye.has(nn)?1:ct(nn),Fe.set(dt,Kt),Kt}return D.forEach(dt=>{const Kt=ct(dt);1!==Kt&&M.get(Kt).push(dt)}),M}function $s(te,D){te.classList?.add(D)}function Po(te,D){te.classList?.remove(D)}function Fa(te,D,M){Fi(M).onDone(()=>te.processLeaveNode(D))}function j(te,D){for(let M=0;M<te.length;M++){const Y=te[M];Y instanceof cs?j(Y.players,D):D.push(Y)}}function ge(te,D,M){const Y=M.get(te);if(!Y)return!1;let ye=D.get(te);return ye?Y.forEach(Fe=>ye.add(Fe)):D.set(te,Y),M.delete(te),!0}class Ie{constructor(D,M,Y){this.bodyNode=D,this._driver=M,this._normalizer=Y,this._triggerCache={},this.onRemovalComplete=(ye,Fe)=>{},this._transitionEngine=new uo(D,M,Y),this._timelineEngine=new ao(D,M,Y),this._transitionEngine.onRemovalComplete=(ye,Fe)=>this.onRemovalComplete(ye,Fe)}registerTrigger(D,M,Y,ye,Fe){const ct=D+"-"+ye;let dt=this._triggerCache[ct];if(!dt){const Kt=[],fn=Ss(this._driver,Fe,Kt,[]);if(Kt.length)throw function Yn(te,D){return new xn.wOt(3404,!1)}();dt=function Da(te,D,M){return new fa(te,D,M)}(ye,fn,this._normalizer),this._triggerCache[ct]=dt}this._transitionEngine.registerTrigger(M,ye,dt)}register(D,M){this._transitionEngine.register(D,M)}destroy(D,M){this._transitionEngine.destroy(D,M)}onInsert(D,M,Y,ye){this._transitionEngine.insertNode(D,M,Y,ye)}onRemove(D,M,Y){this._transitionEngine.removeNode(D,M,Y)}disableAnimations(D,M){this._transitionEngine.markElementAsDisabled(D,M)}process(D,M,Y,ye){if("@"==Y.charAt(0)){const[Fe,ct]=hs(Y);this._timelineEngine.command(Fe,M,ct,ye)}else this._transitionEngine.trigger(D,M,Y,ye)}listen(D,M,Y,ye,Fe){if("@"==Y.charAt(0)){const[ct,dt]=hs(Y);return this._timelineEngine.listen(ct,M,dt,Fe)}return this._transitionEngine.listen(D,M,Y,ye,Fe)}flush(D=-1){this._transitionEngine.flush(D)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(D){this._transitionEngine.afterFlushAnimationsDone(D)}}let et=(()=>{class te{static{this.initialStylesByElement=new WeakMap}constructor(M,Y,ye){this._element=M,this._startStyles=Y,this._endStyles=ye,this._state=0;let Fe=te.initialStylesByElement.get(M);Fe||te.initialStylesByElement.set(M,Fe=new Map),this._initialStyles=Fe}start(){this._state<1&&(this._startStyles&&Sr(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Sr(this._element,this._initialStyles),this._endStyles&&(Sr(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(te.initialStylesByElement.delete(this._element),this._startStyles&&(no(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(no(this._element,this._endStyles),this._endStyles=null),Sr(this._element,this._initialStyles),this._state=3)}}return te})();function pt(te){let D=null;return te.forEach((M,Y)=>{(function T(te){return"display"===te||"position"===te})(Y)&&(D=D||new Map,D.set(Y,M))}),D}class re{constructor(D,M,Y,ye){this.element=D,this.keyframes=M,this.options=Y,this._specialStyles=ye,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=Y.duration,this._delay=Y.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(D=>D()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const D=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,D,this.options),this._finalKeyframe=D.length?D[D.length-1]:new Map;const M=()=>this._onFinish();this.domPlayer.addEventListener("finish",M),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",M)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(D){const M=[];return D.forEach(Y=>{M.push(Object.fromEntries(Y))}),M}_triggerWebAnimation(D,M,Y){return D.animate(this._convertKeyframesToObject(M),Y)}onStart(D){this._originalOnStartFns.push(D),this._onStartFns.push(D)}onDone(D){this._originalOnDoneFns.push(D),this._onDoneFns.push(D)}onDestroy(D){this._onDestroyFns.push(D)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(D=>D()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(D=>D()),this._onDestroyFns=[])}setPosition(D){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=D*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const D=new Map;this.hasStarted()&&this._finalKeyframe.forEach((Y,ye)=>{"offset"!==ye&&D.set(ye,this._finished?Y:ws(this.element,ye))}),this.currentSnapshot=D}triggerCallback(D){const M="start"===D?this._onStartFns:this._onDoneFns;M.forEach(Y=>Y()),M.length=0}}class z{validateStyleProperty(D){return!0}validateAnimatableStyleProperty(D){return!0}matchesElement(D,M){return!1}containsElement(D,M){return ht(D,M)}getParentElement(D){return qr(D)}query(D,M,Y){return ut(D,M,Y)}computeStyle(D,M,Y){return window.getComputedStyle(D)[M]}animate(D,M,Y,ye,Fe,ct=[]){const Kt={duration:Y,delay:ye,fill:0==ye?"both":"forwards"};Fe&&(Kt.easing=Fe);const nn=new Map,fn=ct.filter(V=>V instanceof re);(function Mi(te,D){return 0===te||0===D})(Y,ye)&&fn.forEach(V=>{V.currentSnapshot.forEach((J,je)=>nn.set(je,J))});let K=function ls(te){return te.length?te[0]instanceof Map?te:te.map(D=>Ls(D)):[]}(M).map(V=>cr(V));K=function Ws(te,D,M){if(M.size&&D.length){let Y=D[0],ye=[];if(M.forEach((Fe,ct)=>{Y.has(ct)||ye.push(ct),Y.set(ct,Fe)}),ye.length)for(let Fe=1;Fe<D.length;Fe++){let ct=D[Fe];ye.forEach(dt=>ct.set(dt,ws(te,dt)))}}return D}(D,K,nn);const O=function ze(te,D){let M=null,Y=null;return Array.isArray(D)&&D.length?(M=pt(D[0]),D.length>1&&(Y=pt(D[D.length-1]))):D instanceof Map&&(M=pt(D)),M||Y?new et(te,M,Y):null}(D,K);return new re(D,K,Kt,O)}}var ce=ee(177);let Ve=(()=>{class te extends nr{constructor(M,Y){super(),this._nextAnimationId=0,this._renderer=M.createRenderer(Y.body,{id:"0",encapsulation:xn.gXe.None,styles:[],data:{animation:[]}})}build(M){const Y=this._nextAnimationId.toString();this._nextAnimationId++;const ye=Array.isArray(M)?Wr(M):M;return vn(this._renderer,null,Y,"register",[ye]),new kt(Y,this._renderer)}static{this.\u0275fac=function(Y){return new(Y||te)(xn.KVO(xn._9s),xn.KVO(ce.qQ))}}static{this.\u0275prov=xn.jDH({token:te,factory:te.\u0275fac})}}return te})();class kt extends ti{constructor(D,M){super(),this._id=D,this._renderer=M}create(D,M){return new sn(this._id,D,M||{},this._renderer)}}class sn{constructor(D,M,Y,ye){this.id=D,this.element=M,this._renderer=ye,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",Y)}_listen(D,M){return this._renderer.listen(this.element,`@@${this.id}:${D}`,M)}_command(D,...M){return vn(this._renderer,this.element,this.id,D,M)}onDone(D){this._listen("done",D)}onStart(D){this._listen("start",D)}onDestroy(D){this._listen("destroy",D)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(D){this._command("setPosition",D)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function vn(te,D,M,Y,ye){return te.setProperty(D,`@@${M}:${Y}`,ye)}const gr="@.disabled";let Dr=(()=>{class te{constructor(M,Y,ye){this.delegate=M,this.engine=Y,this._zone=ye,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,Y.onRemovalComplete=(Fe,ct)=>{const dt=ct?.parentNode(Fe);dt&&ct.removeChild(dt,Fe)}}createRenderer(M,Y){const Fe=this.delegate.createRenderer(M,Y);if(!(M&&Y&&Y.data&&Y.data.animation)){let fn=this._rendererCache.get(Fe);return fn||(fn=new Ki("",Fe,this.engine,()=>this._rendererCache.delete(Fe)),this._rendererCache.set(Fe,fn)),fn}const ct=Y.id,dt=Y.id+"-"+this._currentId;this._currentId++,this.engine.register(dt,M);const Kt=fn=>{Array.isArray(fn)?fn.forEach(Kt):this.engine.registerTrigger(ct,dt,M,fn.name,fn)};return Y.data.animation.forEach(Kt),new Os(this,dt,Fe,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(M,Y,ye){M>=0&&M<this._microtaskId?this._zone.run(()=>Y(ye)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(Fe=>{const[ct,dt]=Fe;ct(dt)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([Y,ye]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static{this.\u0275fac=function(Y){return new(Y||te)(xn.KVO(xn._9s),xn.KVO(Ie),xn.KVO(xn.SKi))}}static{this.\u0275prov=xn.jDH({token:te,factory:te.\u0275fac})}}return te})();class Ki{constructor(D,M,Y,ye){this.namespaceId=D,this.delegate=M,this.engine=Y,this._onDestroy=ye}get data(){return this.delegate.data}destroyNode(D){this.delegate.destroyNode?.(D)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(D,M){return this.delegate.createElement(D,M)}createComment(D){return this.delegate.createComment(D)}createText(D){return this.delegate.createText(D)}appendChild(D,M){this.delegate.appendChild(D,M),this.engine.onInsert(this.namespaceId,M,D,!1)}insertBefore(D,M,Y,ye=!0){this.delegate.insertBefore(D,M,Y),this.engine.onInsert(this.namespaceId,M,D,ye)}removeChild(D,M,Y){this.engine.onRemove(this.namespaceId,M,this.delegate)}selectRootElement(D,M){return this.delegate.selectRootElement(D,M)}parentNode(D){return this.delegate.parentNode(D)}nextSibling(D){return this.delegate.nextSibling(D)}setAttribute(D,M,Y,ye){this.delegate.setAttribute(D,M,Y,ye)}removeAttribute(D,M,Y){this.delegate.removeAttribute(D,M,Y)}addClass(D,M){this.delegate.addClass(D,M)}removeClass(D,M){this.delegate.removeClass(D,M)}setStyle(D,M,Y,ye){this.delegate.setStyle(D,M,Y,ye)}removeStyle(D,M,Y){this.delegate.removeStyle(D,M,Y)}setProperty(D,M,Y){"@"==M.charAt(0)&&M==gr?this.disableAnimations(D,!!Y):this.delegate.setProperty(D,M,Y)}setValue(D,M){this.delegate.setValue(D,M)}listen(D,M,Y){return this.delegate.listen(D,M,Y)}disableAnimations(D,M){this.engine.disableAnimations(D,M)}}class Os extends Ki{constructor(D,M,Y,ye,Fe){super(M,Y,ye,Fe),this.factory=D,this.namespaceId=M}setProperty(D,M,Y){"@"==M.charAt(0)?"."==M.charAt(1)&&M==gr?this.disableAnimations(D,Y=void 0===Y||!!Y):this.engine.process(this.namespaceId,D,M.slice(1),Y):this.delegate.setProperty(D,M,Y)}listen(D,M,Y){if("@"==M.charAt(0)){const ye=function _s(te){switch(te){case"body":return document.body;case"document":return document;case"window":return window;default:return te}}(D);let Fe=M.slice(1),ct="";return"@"!=Fe.charAt(0)&&([Fe,ct]=function zs(te){const D=te.indexOf(".");return[te.substring(0,D),te.slice(D+1)]}(Fe)),this.engine.listen(this.namespaceId,ye,Fe,ct,dt=>{this.factory.scheduleListenerCallback(dt._data||-1,Y,dt)})}return this.delegate.listen(D,M,Y)}}const $r=[{provide:nr,useClass:Ve},{provide:X,useFactory:function io(){return new hi}},{provide:Ie,useClass:(()=>{class te extends Ie{constructor(M,Y,ye,Fe){super(M.body,Y,ye)}ngOnDestroy(){this.flush()}static{this.\u0275fac=function(Y){return new(Y||te)(xn.KVO(ce.qQ),xn.KVO(Sn),xn.KVO(X),xn.KVO(xn.o8S))}}static{this.\u0275prov=xn.jDH({token:te,factory:te.\u0275fac})}}return te})()},{provide:xn._9s,useFactory:function yr(te,D,M){return new Dr(te,D,M)},deps:[l.B7,Ie,xn.SKi]}],Js=[{provide:Sn,useFactory:()=>new z},{provide:xn.bc$,useValue:"BrowserAnimations"},...$r],ro=[{provide:Sn,useClass:dn},{provide:xn.bc$,useValue:"NoopAnimations"},...$r];let Ea=(()=>{class te{static withConfig(M){return{ngModule:te,providers:M.disableAnimations?ro:Js}}static{this.\u0275fac=function(Y){return new(Y||te)}}static{this.\u0275mod=xn.$C({type:te})}static{this.\u0275inj=xn.G2t({providers:Js,imports:[l.Bb]})}}return te})();var Ta=ee(1626),Wn=ee(6697),Ti=ee(4796);let Ya=(()=>{class te{constructor(M){this.auth=M,console.log("Auth Token Initiated")}intercept(M,Y){return this.auth.getIdToken().pipe((0,Wn.s)(1),(0,Ce.n)(ye=>{if(!ye)return Y.handle(M);console.log(ye);const Fe=M.clone({setHeaders:{Authorization:`Bearer ${ye}`}});return Y.handle(Fe)}))}static{this.\u0275fac=function(Y){return new(Y||te)(xn.KVO(Ti.u))}}static{this.\u0275prov=xn.jDH({token:te,factory:te.\u0275fac})}}return te})();var Vn=ee(1895);let Wt=(()=>{class te{static{this.\u0275fac=function(Y){return new(Y||te)}}static{this.\u0275mod=xn.$C({type:te,bootstrap:[In]})}static{this.\u0275inj=xn.G2t({providers:[{provide:Ta.a7,useClass:Ya,multi:!0}],imports:[l.Bb,Mn,Ta.q1,Vn.DashboardModule,(0,Bn.MW)(()=>(0,Bn.Wp)(Hi_firebase)),(0,Si._q)(()=>(0,Si.xI)()),(0,Jn.hV)(()=>(0,Jn.aU)()),Ea]})}}return te})();l.sG().bootstrapModule(Wt).catch(te=>console.error(te))},4412:(ei,Nt,ee)=>{ee.d(Nt,{t:()=>Le});var l=ee(1413);class Le extends l.B{constructor(ot){super(),this._value=ot}get value(){return this.getValue()}_subscribe(ot){const R=super._subscribe(ot);return!R.closed&&ot.next(this._value),R}getValue(){const{hasError:ot,thrownError:R,_value:Ce}=this;if(ot)throw R;return this._throwIfClosed(),Ce}next(ot){super.next(this._value=ot)}}},1985:(ei,Nt,ee)=>{ee.d(Nt,{c:()=>at});var l=ee(7707),Le=ee(8359),ke=ee(3494),ot=ee(1203),R=ee(1026),Ce=ee(8071),xe=ee(9786);let at=(()=>{class mt{constructor(tt){tt&&(this._subscribe=tt)}lift(tt){const yt=new mt;return yt.source=this,yt.operator=tt,yt}subscribe(tt,yt,It){const Cn=function He(mt){return mt&&mt instanceof l.vU||function Pe(mt){return mt&&(0,Ce.T)(mt.next)&&(0,Ce.T)(mt.error)&&(0,Ce.T)(mt.complete)}(mt)&&(0,Le.Uv)(mt)}(tt)?tt:new l.Ms(tt,yt,It);return(0,xe.Y)(()=>{const{operator:Tn,source:wi}=this;Cn.add(Tn?Tn.call(Cn,wi):wi?this._subscribe(Cn):this._trySubscribe(Cn))}),Cn}_trySubscribe(tt){try{return this._subscribe(tt)}catch(yt){tt.error(yt)}}forEach(tt,yt){return new(yt=ft(yt))((It,Cn)=>{const Tn=new l.Ms({next:wi=>{try{tt(wi)}catch(Ci){Cn(Ci),Tn.unsubscribe()}},error:Cn,complete:It});this.subscribe(Tn)})}_subscribe(tt){var yt;return null===(yt=this.source)||void 0===yt?void 0:yt.subscribe(tt)}[ke.s](){return this}pipe(...tt){return(0,ot.m)(tt)(this)}toPromise(tt){return new(tt=ft(tt))((yt,It)=>{let Cn;this.subscribe(Tn=>Cn=Tn,Tn=>It(Tn),()=>yt(Cn))})}}return mt.create=Ft=>new mt(Ft),mt})();function ft(mt){var Ft;return null!==(Ft=mt??R.$.Promise)&&void 0!==Ft?Ft:Promise}},1413:(ei,Nt,ee)=>{ee.d(Nt,{B:()=>xe});var l=ee(1985),Le=ee(8359);const ot=(0,ee(1853).L)(ft=>function(){ft(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var R=ee(7908),Ce=ee(9786);let xe=(()=>{class ft extends l.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(He){const mt=new at(this,this);return mt.operator=He,mt}_throwIfClosed(){if(this.closed)throw new ot}next(He){(0,Ce.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const mt of this.currentObservers)mt.next(He)}})}error(He){(0,Ce.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=He;const{observers:mt}=this;for(;mt.length;)mt.shift().error(He)}})}complete(){(0,Ce.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:He}=this;for(;He.length;)He.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var He;return(null===(He=this.observers)||void 0===He?void 0:He.length)>0}_trySubscribe(He){return this._throwIfClosed(),super._trySubscribe(He)}_subscribe(He){return this._throwIfClosed(),this._checkFinalizedStatuses(He),this._innerSubscribe(He)}_innerSubscribe(He){const{hasError:mt,isStopped:Ft,observers:tt}=this;return mt||Ft?Le.Kn:(this.currentObservers=null,tt.push(He),new Le.yU(()=>{this.currentObservers=null,(0,R.o)(tt,He)}))}_checkFinalizedStatuses(He){const{hasError:mt,thrownError:Ft,isStopped:tt}=this;mt?He.error(Ft):tt&&He.complete()}asObservable(){const He=new l.c;return He.source=this,He}}return ft.create=(Pe,He)=>new at(Pe,He),ft})();class at extends xe{constructor(Pe,He){super(),this.destination=Pe,this.source=He}next(Pe){var He,mt;null===(mt=null===(He=this.destination)||void 0===He?void 0:He.next)||void 0===mt||mt.call(He,Pe)}error(Pe){var He,mt;null===(mt=null===(He=this.destination)||void 0===He?void 0:He.error)||void 0===mt||mt.call(He,Pe)}complete(){var Pe,He;null===(He=null===(Pe=this.destination)||void 0===Pe?void 0:Pe.complete)||void 0===He||He.call(Pe)}_subscribe(Pe){var He,mt;return null!==(mt=null===(He=this.source)||void 0===He?void 0:He.subscribe(Pe))&&void 0!==mt?mt:Le.Kn}}},7707:(ei,Nt,ee)=>{ee.d(Nt,{Ms:()=>It,vU:()=>mt});var l=ee(8071),Le=ee(8359),ke=ee(1026),ot=ee(5334),R=ee(5343);const Ce=ft("C",void 0,void 0);function ft(vt,cn,Dt){return{kind:vt,value:cn,error:Dt}}var Pe=ee(9270),He=ee(9786);class mt extends Le.yU{constructor(cn){super(),this.isStopped=!1,cn?(this.destination=cn,(0,Le.Uv)(cn)&&cn.add(this)):this.destination=Ci}static create(cn,Dt,At){return new It(cn,Dt,At)}next(cn){this.isStopped?wi(function at(vt){return ft("N",vt,void 0)}(cn),this):this._next(cn)}error(cn){this.isStopped?wi(function xe(vt){return ft("E",void 0,vt)}(cn),this):(this.isStopped=!0,this._error(cn))}complete(){this.isStopped?wi(Ce,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(cn){this.destination.next(cn)}_error(cn){try{this.destination.error(cn)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ft=Function.prototype.bind;function tt(vt,cn){return Ft.call(vt,cn)}class yt{constructor(cn){this.partialObserver=cn}next(cn){const{partialObserver:Dt}=this;if(Dt.next)try{Dt.next(cn)}catch(At){Cn(At)}}error(cn){const{partialObserver:Dt}=this;if(Dt.error)try{Dt.error(cn)}catch(At){Cn(At)}else Cn(cn)}complete(){const{partialObserver:cn}=this;if(cn.complete)try{cn.complete()}catch(Dt){Cn(Dt)}}}class It extends mt{constructor(cn,Dt,At){let Lt;if(super(),(0,l.T)(cn)||!cn)Lt={next:cn??void 0,error:Dt??void 0,complete:At??void 0};else{let rt;this&&ke.$.useDeprecatedNextContext?(rt=Object.create(cn),rt.unsubscribe=()=>this.unsubscribe(),Lt={next:cn.next&&tt(cn.next,rt),error:cn.error&&tt(cn.error,rt),complete:cn.complete&&tt(cn.complete,rt)}):Lt=cn}this.destination=new yt(Lt)}}function Cn(vt){ke.$.useDeprecatedSynchronousErrorHandling?(0,He.l)(vt):(0,ot.m)(vt)}function wi(vt,cn){const{onStoppedNotification:Dt}=ke.$;Dt&&Pe.f.setTimeout(()=>Dt(vt,cn))}const Ci={closed:!0,next:R.l,error:function Tn(vt){throw vt},complete:R.l}},8359:(ei,Nt,ee)=>{ee.d(Nt,{Kn:()=>Ce,yU:()=>R,Uv:()=>xe});var l=ee(8071);const ke=(0,ee(1853).L)(ft=>function(He){ft(this),this.message=He?`${He.length} errors occurred during unsubscription:\n${He.map((mt,Ft)=>`${Ft+1}) ${mt.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=He});var ot=ee(7908);class R{constructor(Pe){this.initialTeardown=Pe,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let Pe;if(!this.closed){this.closed=!0;const{_parentage:He}=this;if(He)if(this._parentage=null,Array.isArray(He))for(const tt of He)tt.remove(this);else He.remove(this);const{initialTeardown:mt}=this;if((0,l.T)(mt))try{mt()}catch(tt){Pe=tt instanceof ke?tt.errors:[tt]}const{_finalizers:Ft}=this;if(Ft){this._finalizers=null;for(const tt of Ft)try{at(tt)}catch(yt){Pe=Pe??[],yt instanceof ke?Pe=[...Pe,...yt.errors]:Pe.push(yt)}}if(Pe)throw new ke(Pe)}}add(Pe){var He;if(Pe&&Pe!==this)if(this.closed)at(Pe);else{if(Pe instanceof R){if(Pe.closed||Pe._hasParent(this))return;Pe._addParent(this)}(this._finalizers=null!==(He=this._finalizers)&&void 0!==He?He:[]).push(Pe)}}_hasParent(Pe){const{_parentage:He}=this;return He===Pe||Array.isArray(He)&&He.includes(Pe)}_addParent(Pe){const{_parentage:He}=this;this._parentage=Array.isArray(He)?(He.push(Pe),He):He?[He,Pe]:Pe}_removeParent(Pe){const{_parentage:He}=this;He===Pe?this._parentage=null:Array.isArray(He)&&(0,ot.o)(He,Pe)}remove(Pe){const{_finalizers:He}=this;He&&(0,ot.o)(He,Pe),Pe instanceof R&&Pe._removeParent(this)}}R.EMPTY=(()=>{const ft=new R;return ft.closed=!0,ft})();const Ce=R.EMPTY;function xe(ft){return ft instanceof R||ft&&"closed"in ft&&(0,l.T)(ft.remove)&&(0,l.T)(ft.add)&&(0,l.T)(ft.unsubscribe)}function at(ft){(0,l.T)(ft)?ft():ft.unsubscribe()}},1026:(ei,Nt,ee)=>{ee.d(Nt,{$:()=>l});const l={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},4572:(ei,Nt,ee)=>{ee.d(Nt,{z:()=>Pe});var l=ee(1985),Le=ee(3073),ke=ee(8455),ot=ee(3669),R=ee(6450),Ce=ee(9326),xe=ee(8496),at=ee(4360),ft=ee(5225);function Pe(...Ft){const tt=(0,Ce.lI)(Ft),yt=(0,Ce.ms)(Ft),{args:It,keys:Cn}=(0,Le.D)(Ft);if(0===It.length)return(0,ke.H)([],tt);const Tn=new l.c(function He(Ft,tt,yt=ot.D){return It=>{mt(tt,()=>{const{length:Cn}=Ft,Tn=new Array(Cn);let wi=Cn,Ci=Cn;for(let vt=0;vt<Cn;vt++)mt(tt,()=>{const cn=(0,ke.H)(Ft[vt],tt);let Dt=!1;cn.subscribe((0,at._)(It,At=>{Tn[vt]=At,Dt||(Dt=!0,Ci--),Ci||It.next(yt(Tn.slice()))},()=>{--wi||It.complete()}))},It)},It)}}(It,tt,Cn?wi=>(0,xe.e)(Cn,wi):ot.D));return yt?Tn.pipe((0,R.I)(yt)):Tn}function mt(Ft,tt,yt){Ft?(0,ft.N)(yt,Ft,tt):tt()}},8793:(ei,Nt,ee)=>{ee.d(Nt,{x:()=>R});var l=ee(6365),ke=ee(9326),ot=ee(8455);function R(...Ce){return function Le(){return(0,l.U)(1)}()((0,ot.H)(Ce,(0,ke.lI)(Ce)))}},983:(ei,Nt,ee)=>{ee.d(Nt,{w:()=>Le});const Le=new(ee(1985).c)(R=>R.complete())},7468:(ei,Nt,ee)=>{ee.d(Nt,{p:()=>at});var l=ee(1985),Le=ee(3073),ke=ee(8750),ot=ee(9326),R=ee(4360),Ce=ee(6450),xe=ee(8496);function at(...ft){const Pe=(0,ot.ms)(ft),{args:He,keys:mt}=(0,Le.D)(ft),Ft=new l.c(tt=>{const{length:yt}=He;if(!yt)return void tt.complete();const It=new Array(yt);let Cn=yt,Tn=yt;for(let wi=0;wi<yt;wi++){let Ci=!1;(0,ke.Tg)(He[wi]).subscribe((0,R._)(tt,vt=>{Ci||(Ci=!0,Tn--),It[wi]=vt},()=>Cn--,void 0,()=>{(!Cn||!Ci)&&(Tn||tt.next(mt?(0,xe.e)(mt,It):It),tt.complete())}))}});return Pe?Ft.pipe((0,Ce.I)(Pe)):Ft}},8455:(ei,Nt,ee)=>{ee.d(Nt,{H:()=>cn});var l=ee(8750),Le=ee(941),ke=ee(6745),Ce=ee(1985),at=ee(4761),ft=ee(8071),Pe=ee(5225);function mt(Dt,At){if(!Dt)throw new Error("Iterable cannot be null");return new Ce.c(Lt=>{(0,Pe.N)(Lt,At,()=>{const rt=Dt[Symbol.asyncIterator]();(0,Pe.N)(Lt,At,()=>{rt.next().then(Qt=>{Qt.done?Lt.complete():Lt.next(Qt.value)})},0,!0)})})}var Ft=ee(5055),tt=ee(9858),yt=ee(7441),It=ee(5397),Cn=ee(7953),Tn=ee(591),wi=ee(5196);function cn(Dt,At){return At?function vt(Dt,At){if(null!=Dt){if((0,Ft.l)(Dt))return function ot(Dt,At){return(0,l.Tg)(Dt).pipe((0,ke._)(At),(0,Le.Q)(At))}(Dt,At);if((0,yt.X)(Dt))return function xe(Dt,At){return new Ce.c(Lt=>{let rt=0;return At.schedule(function(){rt===Dt.length?Lt.complete():(Lt.next(Dt[rt++]),Lt.closed||this.schedule())})})}(Dt,At);if((0,tt.y)(Dt))return function R(Dt,At){return(0,l.Tg)(Dt).pipe((0,ke._)(At),(0,Le.Q)(At))}(Dt,At);if((0,Cn.T)(Dt))return mt(Dt,At);if((0,It.x)(Dt))return function He(Dt,At){return new Ce.c(Lt=>{let rt;return(0,Pe.N)(Lt,At,()=>{rt=Dt[at.l](),(0,Pe.N)(Lt,At,()=>{let Qt,Mt;try{({value:Qt,done:Mt}=rt.next())}catch(yn){return void Lt.error(yn)}Mt?Lt.complete():Lt.next(Qt)},0,!0)}),()=>(0,ft.T)(rt?.return)&&rt.return()})}(Dt,At);if((0,wi.U)(Dt))return function Ci(Dt,At){return mt((0,wi.C)(Dt),At)}(Dt,At)}throw(0,Tn.L)(Dt)}(Dt,At):(0,l.Tg)(Dt)}},8750:(ei,Nt,ee)=>{ee.d(Nt,{Tg:()=>Ft});var l=ee(1635),Le=ee(7441),ke=ee(9858),ot=ee(1985),R=ee(5055),Ce=ee(7953),xe=ee(591),at=ee(5397),ft=ee(5196),Pe=ee(8071),He=ee(5334),mt=ee(3494);function Ft(vt){if(vt instanceof ot.c)return vt;if(null!=vt){if((0,R.l)(vt))return function tt(vt){return new ot.c(cn=>{const Dt=vt[mt.s]();if((0,Pe.T)(Dt.subscribe))return Dt.subscribe(cn);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(vt);if((0,Le.X)(vt))return function yt(vt){return new ot.c(cn=>{for(let Dt=0;Dt<vt.length&&!cn.closed;Dt++)cn.next(vt[Dt]);cn.complete()})}(vt);if((0,ke.y)(vt))return function It(vt){return new ot.c(cn=>{vt.then(Dt=>{cn.closed||(cn.next(Dt),cn.complete())},Dt=>cn.error(Dt)).then(null,He.m)})}(vt);if((0,Ce.T)(vt))return Tn(vt);if((0,at.x)(vt))return function Cn(vt){return new ot.c(cn=>{for(const Dt of vt)if(cn.next(Dt),cn.closed)return;cn.complete()})}(vt);if((0,ft.U)(vt))return function wi(vt){return Tn((0,ft.C)(vt))}(vt)}throw(0,xe.L)(vt)}function Tn(vt){return new ot.c(cn=>{(function Ci(vt,cn){var Dt,At,Lt,rt;return(0,l.sH)(this,void 0,void 0,function*(){try{for(Dt=(0,l.xN)(vt);!(At=yield Dt.next()).done;)if(cn.next(At.value),cn.closed)return}catch(Qt){Lt={error:Qt}}finally{try{At&&!At.done&&(rt=Dt.return)&&(yield rt.call(Dt))}finally{if(Lt)throw Lt.error}}cn.complete()})})(vt,cn).catch(Dt=>cn.error(Dt))})}},7786:(ei,Nt,ee)=>{ee.d(Nt,{h:()=>Ce});var l=ee(6365),Le=ee(8750),ke=ee(983),ot=ee(9326),R=ee(8455);function Ce(...xe){const at=(0,ot.lI)(xe),ft=(0,ot.R0)(xe,1/0),Pe=xe;return Pe.length?1===Pe.length?(0,Le.Tg)(Pe[0]):(0,l.U)(ft)((0,R.H)(Pe,at)):ke.w}},7673:(ei,Nt,ee)=>{ee.d(Nt,{of:()=>ke});var l=ee(9326),Le=ee(8455);function ke(...ot){const R=(0,l.lI)(ot);return(0,Le.H)(ot,R)}},8810:(ei,Nt,ee)=>{ee.d(Nt,{$:()=>ke});var l=ee(1985),Le=ee(8071);function ke(ot,R){const Ce=(0,Le.T)(ot)?ot:()=>ot,xe=at=>at.error(Ce());return new l.c(R?at=>R.schedule(xe,0,at):xe)}},4360:(ei,Nt,ee)=>{ee.d(Nt,{_:()=>Le});var l=ee(7707);function Le(ot,R,Ce,xe,at){return new ke(ot,R,Ce,xe,at)}class ke extends l.vU{constructor(R,Ce,xe,at,ft,Pe){super(R),this.onFinalize=ft,this.shouldUnsubscribe=Pe,this._next=Ce?function(He){try{Ce(He)}catch(mt){R.error(mt)}}:super._next,this._error=at?function(He){try{at(He)}catch(mt){R.error(mt)}finally{this.unsubscribe()}}:super._error,this._complete=xe?function(){try{xe()}catch(He){R.error(He)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var R;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Ce}=this;super.unsubscribe(),!Ce&&(null===(R=this.onFinalize)||void 0===R||R.call(this))}}}},9437:(ei,Nt,ee)=>{ee.d(Nt,{W:()=>ot});var l=ee(8750),Le=ee(4360),ke=ee(9974);function ot(R){return(0,ke.N)((Ce,xe)=>{let Pe,at=null,ft=!1;at=Ce.subscribe((0,Le._)(xe,void 0,void 0,He=>{Pe=(0,l.Tg)(R(He,ot(R)(Ce))),at?(at.unsubscribe(),at=null,Pe.subscribe(xe)):ft=!0})),ft&&(at.unsubscribe(),at=null,Pe.subscribe(xe))})}},274:(ei,Nt,ee)=>{ee.d(Nt,{H:()=>ke});var l=ee(1397),Le=ee(8071);function ke(ot,R){return(0,Le.T)(R)?(0,l.Z)(ot,R,1):(0,l.Z)(ot,1)}},152:(ei,Nt,ee)=>{ee.d(Nt,{B:()=>ot});var l=ee(3236),Le=ee(9974),ke=ee(4360);function ot(R,Ce=l.E){return(0,Le.N)((xe,at)=>{let ft=null,Pe=null,He=null;const mt=()=>{if(ft){ft.unsubscribe(),ft=null;const tt=Pe;Pe=null,at.next(tt)}};function Ft(){const tt=He+R,yt=Ce.now();if(yt<tt)return ft=this.schedule(void 0,tt-yt),void at.add(ft);mt()}xe.subscribe((0,ke._)(at,tt=>{Pe=tt,He=Ce.now(),ft||(ft=Ce.schedule(Ft,R),at.add(ft))},()=>{mt(),at.complete()},void 0,()=>{Pe=ft=null}))})}},9901:(ei,Nt,ee)=>{ee.d(Nt,{U:()=>ke});var l=ee(9974),Le=ee(4360);function ke(ot){return(0,l.N)((R,Ce)=>{let xe=!1;R.subscribe((0,Le._)(Ce,at=>{xe=!0,Ce.next(at)},()=>{xe||Ce.next(ot),Ce.complete()}))})}},3294:(ei,Nt,ee)=>{ee.d(Nt,{F:()=>ot});var l=ee(3669),Le=ee(9974),ke=ee(4360);function ot(Ce,xe=l.D){return Ce=Ce??R,(0,Le.N)((at,ft)=>{let Pe,He=!0;at.subscribe((0,ke._)(ft,mt=>{const Ft=xe(mt);(He||!Ce(Pe,Ft))&&(He=!1,Pe=Ft,ft.next(mt))}))})}function R(Ce,xe){return Ce===xe}},5964:(ei,Nt,ee)=>{ee.d(Nt,{p:()=>ke});var l=ee(9974),Le=ee(4360);function ke(ot,R){return(0,l.N)((Ce,xe)=>{let at=0;Ce.subscribe((0,Le._)(xe,ft=>ot.call(R,ft,at++)&&xe.next(ft)))})}},980:(ei,Nt,ee)=>{ee.d(Nt,{j:()=>Le});var l=ee(9974);function Le(ke){return(0,l.N)((ot,R)=>{try{ot.subscribe(R)}finally{R.add(ke)}})}},1594:(ei,Nt,ee)=>{ee.d(Nt,{$:()=>xe});var l=ee(9350),Le=ee(5964),ke=ee(6697),ot=ee(9901),R=ee(3774),Ce=ee(3669);function xe(at,ft){const Pe=arguments.length>=2;return He=>He.pipe(at?(0,Le.p)((mt,Ft)=>at(mt,Ft,He)):Ce.D,(0,ke.s)(1),Pe?(0,ot.U)(ft):(0,R.v)(()=>new l.G))}},6354:(ei,Nt,ee)=>{ee.d(Nt,{T:()=>ke});var l=ee(9974),Le=ee(4360);function ke(ot,R){return(0,l.N)((Ce,xe)=>{let at=0;Ce.subscribe((0,Le._)(xe,ft=>{xe.next(ot.call(R,ft,at++))}))})}},6365:(ei,Nt,ee)=>{ee.d(Nt,{U:()=>ke});var l=ee(1397),Le=ee(3669);function ke(ot=1/0){return(0,l.Z)(Le.D,ot)}},1397:(ei,Nt,ee)=>{ee.d(Nt,{Z:()=>at});var l=ee(6354),Le=ee(8750),ke=ee(9974),ot=ee(5225),R=ee(4360),xe=ee(8071);function at(ft,Pe,He=1/0){return(0,xe.T)(Pe)?at((mt,Ft)=>(0,l.T)((tt,yt)=>Pe(mt,tt,Ft,yt))((0,Le.Tg)(ft(mt,Ft))),He):("number"==typeof Pe&&(He=Pe),(0,ke.N)((mt,Ft)=>function Ce(ft,Pe,He,mt,Ft,tt,yt,It){const Cn=[];let Tn=0,wi=0,Ci=!1;const vt=()=>{Ci&&!Cn.length&&!Tn&&Pe.complete()},cn=At=>Tn<mt?Dt(At):Cn.push(At),Dt=At=>{tt&&Pe.next(At),Tn++;let Lt=!1;(0,Le.Tg)(He(At,wi++)).subscribe((0,R._)(Pe,rt=>{Ft?.(rt),tt?cn(rt):Pe.next(rt)},()=>{Lt=!0},void 0,()=>{if(Lt)try{for(Tn--;Cn.length&&Tn<mt;){const rt=Cn.shift();yt?(0,ot.N)(Pe,yt,()=>Dt(rt)):Dt(rt)}vt()}catch(rt){Pe.error(rt)}}))};return ft.subscribe((0,R._)(Pe,cn,()=>{Ci=!0,vt()})),()=>{It?.()}}(mt,Ft,ft,He)))}},941:(ei,Nt,ee)=>{ee.d(Nt,{Q:()=>ot});var l=ee(5225),Le=ee(9974),ke=ee(4360);function ot(R,Ce=0){return(0,Le.N)((xe,at)=>{xe.subscribe((0,ke._)(at,ft=>(0,l.N)(at,R,()=>at.next(ft),Ce),()=>(0,l.N)(at,R,()=>at.complete(),Ce),ft=>(0,l.N)(at,R,()=>at.error(ft),Ce)))})}},7647:(ei,Nt,ee)=>{ee.d(Nt,{u:()=>R});var l=ee(8750),Le=ee(1413),ke=ee(7707),ot=ee(9974);function R(xe={}){const{connector:at=(()=>new Le.B),resetOnError:ft=!0,resetOnComplete:Pe=!0,resetOnRefCountZero:He=!0}=xe;return mt=>{let Ft,tt,yt,It=0,Cn=!1,Tn=!1;const wi=()=>{tt?.unsubscribe(),tt=void 0},Ci=()=>{wi(),Ft=yt=void 0,Cn=Tn=!1},vt=()=>{const cn=Ft;Ci(),cn?.unsubscribe()};return(0,ot.N)((cn,Dt)=>{It++,!Tn&&!Cn&&wi();const At=yt=yt??at();Dt.add(()=>{It--,0===It&&!Tn&&!Cn&&(tt=Ce(vt,He))}),At.subscribe(Dt),!Ft&&It>0&&(Ft=new ke.Ms({next:Lt=>At.next(Lt),error:Lt=>{Tn=!0,wi(),tt=Ce(Ci,ft,Lt),At.error(Lt)},complete:()=>{Cn=!0,wi(),tt=Ce(Ci,Pe),At.complete()}}),(0,l.Tg)(cn).subscribe(Ft))})(mt)}}function Ce(xe,at,...ft){if(!0===at)return void xe();if(!1===at)return;const Pe=new ke.Ms({next:()=>{Pe.unsubscribe(),xe()}});return(0,l.Tg)(at(...ft)).subscribe(Pe)}},9172:(ei,Nt,ee)=>{ee.d(Nt,{Z:()=>ot});var l=ee(8793),Le=ee(9326),ke=ee(9974);function ot(...R){const Ce=(0,Le.lI)(R);return(0,ke.N)((xe,at)=>{(Ce?(0,l.x)(R,xe,Ce):(0,l.x)(R,xe)).subscribe(at)})}},6745:(ei,Nt,ee)=>{ee.d(Nt,{_:()=>Le});var l=ee(9974);function Le(ke,ot=0){return(0,l.N)((R,Ce)=>{Ce.add(ke.schedule(()=>R.subscribe(Ce),ot))})}},5558:(ei,Nt,ee)=>{ee.d(Nt,{n:()=>ot});var l=ee(8750),Le=ee(9974),ke=ee(4360);function ot(R,Ce){return(0,Le.N)((xe,at)=>{let ft=null,Pe=0,He=!1;const mt=()=>He&&!ft&&at.complete();xe.subscribe((0,ke._)(at,Ft=>{ft?.unsubscribe();let tt=0;const yt=Pe++;(0,l.Tg)(R(Ft,yt)).subscribe(ft=(0,ke._)(at,It=>at.next(Ce?Ce(Ft,It,yt,tt++):It),()=>{ft=null,mt()}))},()=>{He=!0,mt()}))})}},6697:(ei,Nt,ee)=>{ee.d(Nt,{s:()=>ot});var l=ee(983),Le=ee(9974),ke=ee(4360);function ot(R){return R<=0?()=>l.w:(0,Le.N)((Ce,xe)=>{let at=0;Ce.subscribe((0,ke._)(xe,ft=>{++at<=R&&(xe.next(ft),R<=at&&xe.complete())}))})}},6977:(ei,Nt,ee)=>{ee.d(Nt,{Q:()=>R});var l=ee(9974),Le=ee(4360),ke=ee(8750),ot=ee(5343);function R(Ce){return(0,l.N)((xe,at)=>{(0,ke.Tg)(Ce).subscribe((0,Le._)(at,()=>at.complete(),ot.l)),!at.closed&&xe.subscribe(at)})}},8141:(ei,Nt,ee)=>{ee.d(Nt,{M:()=>R});var l=ee(8071),Le=ee(9974),ke=ee(4360),ot=ee(3669);function R(Ce,xe,at){const ft=(0,l.T)(Ce)||xe||at?{next:Ce,error:xe,complete:at}:Ce;return ft?(0,Le.N)((Pe,He)=>{var mt;null===(mt=ft.subscribe)||void 0===mt||mt.call(ft);let Ft=!0;Pe.subscribe((0,ke._)(He,tt=>{var yt;null===(yt=ft.next)||void 0===yt||yt.call(ft,tt),He.next(tt)},()=>{var tt;Ft=!1,null===(tt=ft.complete)||void 0===tt||tt.call(ft),He.complete()},tt=>{var yt;Ft=!1,null===(yt=ft.error)||void 0===yt||yt.call(ft,tt),He.error(tt)},()=>{var tt,yt;Ft&&(null===(tt=ft.unsubscribe)||void 0===tt||tt.call(ft)),null===(yt=ft.finalize)||void 0===yt||yt.call(ft)}))}):ot.D}},3774:(ei,Nt,ee)=>{ee.d(Nt,{v:()=>ot});var l=ee(9350),Le=ee(9974),ke=ee(4360);function ot(Ce=R){return(0,Le.N)((xe,at)=>{let ft=!1;xe.subscribe((0,ke._)(at,Pe=>{ft=!0,at.next(Pe)},()=>ft?at.complete():at.error(Ce())))})}function R(){return new l.G}},6780:(ei,Nt,ee)=>{ee.d(Nt,{R:()=>R});var l=ee(8359);class Le extends l.yU{constructor(xe,at){super()}schedule(xe,at=0){return this}}const ke={setInterval(Ce,xe,...at){const{delegate:ft}=ke;return ft?.setInterval?ft.setInterval(Ce,xe,...at):setInterval(Ce,xe,...at)},clearInterval(Ce){const{delegate:xe}=ke;return(xe?.clearInterval||clearInterval)(Ce)},delegate:void 0};var ot=ee(7908);class R extends Le{constructor(xe,at){super(xe,at),this.scheduler=xe,this.work=at,this.pending=!1}schedule(xe,at=0){var ft;if(this.closed)return this;this.state=xe;const Pe=this.id,He=this.scheduler;return null!=Pe&&(this.id=this.recycleAsyncId(He,Pe,at)),this.pending=!0,this.delay=at,this.id=null!==(ft=this.id)&&void 0!==ft?ft:this.requestAsyncId(He,this.id,at),this}requestAsyncId(xe,at,ft=0){return ke.setInterval(xe.flush.bind(xe,this),ft)}recycleAsyncId(xe,at,ft=0){if(null!=ft&&this.delay===ft&&!1===this.pending)return at;null!=at&&ke.clearInterval(at)}execute(xe,at){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ft=this._execute(xe,at);if(ft)return ft;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(xe,at){let Pe,ft=!1;try{this.work(xe)}catch(He){ft=!0,Pe=He||new Error("Scheduled action threw falsy error")}if(ft)return this.unsubscribe(),Pe}unsubscribe(){if(!this.closed){const{id:xe,scheduler:at}=this,{actions:ft}=at;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ot.o)(ft,this),null!=xe&&(this.id=this.recycleAsyncId(at,xe,null)),this.delay=null,super.unsubscribe()}}}},3604:(ei,Nt,ee)=>{ee.d(Nt,{q:()=>ke});const l={now:()=>(l.delegate||Date).now(),delegate:void 0};class Le{constructor(R,Ce=Le.now){this.schedulerActionCtor=R,this.now=Ce}schedule(R,Ce=0,xe){return new this.schedulerActionCtor(this,R).schedule(xe,Ce)}}Le.now=l.now;class ke extends Le{constructor(R,Ce=Le.now){super(R,Ce),this.actions=[],this._active=!1}flush(R){const{actions:Ce}=this;if(this._active)return void Ce.push(R);let xe;this._active=!0;do{if(xe=R.execute(R.state,R.delay))break}while(R=Ce.shift());if(this._active=!1,xe){for(;R=Ce.shift();)R.unsubscribe();throw xe}}}},3236:(ei,Nt,ee)=>{ee.d(Nt,{E:()=>ke,b:()=>ot});var l=ee(6780);const ke=new(ee(3604).q)(l.R),ot=ke},9270:(ei,Nt,ee)=>{ee.d(Nt,{f:()=>l});const l={setTimeout(Le,ke,...ot){const{delegate:R}=l;return R?.setTimeout?R.setTimeout(Le,ke,...ot):setTimeout(Le,ke,...ot)},clearTimeout(Le){const{delegate:ke}=l;return(ke?.clearTimeout||clearTimeout)(Le)},delegate:void 0}},4761:(ei,Nt,ee)=>{ee.d(Nt,{l:()=>Le});const Le=function l(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3494:(ei,Nt,ee)=>{ee.d(Nt,{s:()=>l});const l="function"==typeof Symbol&&Symbol.observable||"@@observable"},9350:(ei,Nt,ee)=>{ee.d(Nt,{G:()=>Le});const Le=(0,ee(1853).L)(ke=>function(){ke(this),this.name="EmptyError",this.message="no elements in sequence"})},9326:(ei,Nt,ee)=>{ee.d(Nt,{R0:()=>Ce,lI:()=>R,ms:()=>ot});var l=ee(8071),Le=ee(9470);function ke(xe){return xe[xe.length-1]}function ot(xe){return(0,l.T)(ke(xe))?xe.pop():void 0}function R(xe){return(0,Le.m)(ke(xe))?xe.pop():void 0}function Ce(xe,at){return"number"==typeof ke(xe)?xe.pop():at}},3073:(ei,Nt,ee)=>{ee.d(Nt,{D:()=>R});const{isArray:l}=Array,{getPrototypeOf:Le,prototype:ke,keys:ot}=Object;function R(xe){if(1===xe.length){const at=xe[0];if(l(at))return{args:at,keys:null};if(function Ce(xe){return xe&&"object"==typeof xe&&Le(xe)===ke}(at)){const ft=ot(at);return{args:ft.map(Pe=>at[Pe]),keys:ft}}}return{args:xe,keys:null}}},7908:(ei,Nt,ee)=>{function l(Le,ke){if(Le){const ot=Le.indexOf(ke);0<=ot&&Le.splice(ot,1)}}ee.d(Nt,{o:()=>l})},1853:(ei,Nt,ee)=>{function l(Le){const ot=Le(R=>{Error.call(R),R.stack=(new Error).stack});return ot.prototype=Object.create(Error.prototype),ot.prototype.constructor=ot,ot}ee.d(Nt,{L:()=>l})},8496:(ei,Nt,ee)=>{function l(Le,ke){return Le.reduce((ot,R,Ce)=>(ot[R]=ke[Ce],ot),{})}ee.d(Nt,{e:()=>l})},9786:(ei,Nt,ee)=>{ee.d(Nt,{Y:()=>ke,l:()=>ot});var l=ee(1026);let Le=null;function ke(R){if(l.$.useDeprecatedSynchronousErrorHandling){const Ce=!Le;if(Ce&&(Le={errorThrown:!1,error:null}),R(),Ce){const{errorThrown:xe,error:at}=Le;if(Le=null,xe)throw at}}else R()}function ot(R){l.$.useDeprecatedSynchronousErrorHandling&&Le&&(Le.errorThrown=!0,Le.error=R)}},5225:(ei,Nt,ee)=>{function l(Le,ke,ot,R=0,Ce=!1){const xe=ke.schedule(function(){ot(),Ce?Le.add(this.schedule(null,R)):this.unsubscribe()},R);if(Le.add(xe),!Ce)return xe}ee.d(Nt,{N:()=>l})},3669:(ei,Nt,ee)=>{function l(Le){return Le}ee.d(Nt,{D:()=>l})},7441:(ei,Nt,ee)=>{ee.d(Nt,{X:()=>l});const l=Le=>Le&&"number"==typeof Le.length&&"function"!=typeof Le},7953:(ei,Nt,ee)=>{ee.d(Nt,{T:()=>Le});var l=ee(8071);function Le(ke){return Symbol.asyncIterator&&(0,l.T)(ke?.[Symbol.asyncIterator])}},8071:(ei,Nt,ee)=>{function l(Le){return"function"==typeof Le}ee.d(Nt,{T:()=>l})},5055:(ei,Nt,ee)=>{ee.d(Nt,{l:()=>ke});var l=ee(3494),Le=ee(8071);function ke(ot){return(0,Le.T)(ot[l.s])}},5397:(ei,Nt,ee)=>{ee.d(Nt,{x:()=>ke});var l=ee(4761),Le=ee(8071);function ke(ot){return(0,Le.T)(ot?.[l.l])}},9858:(ei,Nt,ee)=>{ee.d(Nt,{y:()=>Le});var l=ee(8071);function Le(ke){return(0,l.T)(ke?.then)}},5196:(ei,Nt,ee)=>{ee.d(Nt,{C:()=>ke,U:()=>ot});var l=ee(1635),Le=ee(8071);function ke(R){return(0,l.AQ)(this,arguments,function*(){const xe=R.getReader();try{for(;;){const{value:at,done:ft}=yield(0,l.N3)(xe.read());if(ft)return yield(0,l.N3)(void 0);yield yield(0,l.N3)(at)}}finally{xe.releaseLock()}})}function ot(R){return(0,Le.T)(R?.getReader)}},9470:(ei,Nt,ee)=>{ee.d(Nt,{m:()=>Le});var l=ee(8071);function Le(ke){return ke&&(0,l.T)(ke.schedule)}},9974:(ei,Nt,ee)=>{ee.d(Nt,{N:()=>ke,S:()=>Le});var l=ee(8071);function Le(ot){return(0,l.T)(ot?.lift)}function ke(ot){return R=>{if(Le(R))return R.lift(function(Ce){try{return ot(Ce,this)}catch(xe){this.error(xe)}});throw new TypeError("Unable to lift unknown Observable type")}}},6450:(ei,Nt,ee)=>{ee.d(Nt,{I:()=>ot});var l=ee(6354);const{isArray:Le}=Array;function ot(R){return(0,l.T)(Ce=>function ke(R,Ce){return Le(Ce)?R(...Ce):R(Ce)}(R,Ce))}},5343:(ei,Nt,ee)=>{function l(){}ee.d(Nt,{l:()=>l})},1203:(ei,Nt,ee)=>{ee.d(Nt,{F:()=>Le,m:()=>ke});var l=ee(3669);function Le(...ot){return ke(ot)}function ke(ot){return 0===ot.length?l.D:1===ot.length?ot[0]:function(Ce){return ot.reduce((xe,at)=>at(xe),Ce)}}},5334:(ei,Nt,ee)=>{ee.d(Nt,{m:()=>ke});var l=ee(1026),Le=ee(9270);function ke(ot){Le.f.setTimeout(()=>{const{onUnhandledError:R}=l.$;if(!R)throw ot;R(ot)})}},591:(ei,Nt,ee)=>{function l(Le){return new TypeError(`You provided ${null!==Le&&"object"==typeof Le?"an invalid object":`'${Le}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}ee.d(Nt,{L:()=>l})},177:(ei,Nt,ee)=>{ee.d(Nt,{AJ:()=>ps,MD:()=>ko,N0:()=>Ps,PV:()=>Hr,QT:()=>ke,QX:()=>Pr,Sm:()=>yt,Sq:()=>Es,T3:()=>Ue,UE:()=>ra,VF:()=>R,Vy:()=>lo,Xr:()=>Do,YU:()=>Wi,ZD:()=>ot,_b:()=>jr,aZ:()=>Cn,bT:()=>fs,fw:()=>It,hb:()=>Ft,hj:()=>at,qQ:()=>Ce});var l=ee(7705);let Le=null;function ke(){return Le}function ot(T){Le||(Le=T)}class R{}const Ce=new l.nKC("DocumentToken");let xe=(()=>{class T{historyGo(z){throw new Error("Not implemented")}static{this.\u0275fac=function(ce){return new(ce||T)}}static{this.\u0275prov=l.jDH({token:T,factory:function(){return(0,l.WQX)(ft)},providedIn:"platform"})}}return T})();const at=new l.nKC("Location Initialized");let ft=(()=>{class T extends xe{constructor(){super(),this._doc=(0,l.WQX)(Ce),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ke().getBaseHref(this._doc)}onPopState(z){const ce=ke().getGlobalEventTarget(this._doc,"window");return ce.addEventListener("popstate",z,!1),()=>ce.removeEventListener("popstate",z)}onHashChange(z){const ce=ke().getGlobalEventTarget(this._doc,"window");return ce.addEventListener("hashchange",z,!1),()=>ce.removeEventListener("hashchange",z)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(z){this._location.pathname=z}pushState(z,ce,Ve){this._history.pushState(z,ce,Ve)}replaceState(z,ce,Ve){this._history.replaceState(z,ce,Ve)}forward(){this._history.forward()}back(){this._history.back()}historyGo(z=0){this._history.go(z)}getState(){return this._history.state}static{this.\u0275fac=function(ce){return new(ce||T)}}static{this.\u0275prov=l.jDH({token:T,factory:function(){return new T},providedIn:"platform"})}}return T})();function Pe(T,re){if(0==T.length)return re;if(0==re.length)return T;let z=0;return T.endsWith("/")&&z++,re.startsWith("/")&&z++,2==z?T+re.substring(1):1==z?T+re:T+"/"+re}function He(T){const re=T.match(/#|\?|$/),z=re&&re.index||T.length;return T.slice(0,z-("/"===T[z-1]?1:0))+T.slice(z)}function mt(T){return T&&"?"!==T[0]?"?"+T:T}let Ft=(()=>{class T{historyGo(z){throw new Error("Not implemented")}static{this.\u0275fac=function(ce){return new(ce||T)}}static{this.\u0275prov=l.jDH({token:T,factory:function(){return(0,l.WQX)(yt)},providedIn:"root"})}}return T})();const tt=new l.nKC("appBaseHref");let yt=(()=>{class T extends Ft{constructor(z,ce){super(),this._platformLocation=z,this._removeListenerFns=[],this._baseHref=ce??this._platformLocation.getBaseHrefFromDOM()??(0,l.WQX)(Ce).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(z){this._removeListenerFns.push(this._platformLocation.onPopState(z),this._platformLocation.onHashChange(z))}getBaseHref(){return this._baseHref}prepareExternalUrl(z){return Pe(this._baseHref,z)}path(z=!1){const ce=this._platformLocation.pathname+mt(this._platformLocation.search),Ve=this._platformLocation.hash;return Ve&&z?`${ce}${Ve}`:ce}pushState(z,ce,Ve,kt){const sn=this.prepareExternalUrl(Ve+mt(kt));this._platformLocation.pushState(z,ce,sn)}replaceState(z,ce,Ve,kt){const sn=this.prepareExternalUrl(Ve+mt(kt));this._platformLocation.replaceState(z,ce,sn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(z=0){this._platformLocation.historyGo?.(z)}static{this.\u0275fac=function(ce){return new(ce||T)(l.KVO(xe),l.KVO(tt,8))}}static{this.\u0275prov=l.jDH({token:T,factory:T.\u0275fac,providedIn:"root"})}}return T})(),It=(()=>{class T extends Ft{constructor(z,ce){super(),this._platformLocation=z,this._baseHref="",this._removeListenerFns=[],null!=ce&&(this._baseHref=ce)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(z){this._removeListenerFns.push(this._platformLocation.onPopState(z),this._platformLocation.onHashChange(z))}getBaseHref(){return this._baseHref}path(z=!1){let ce=this._platformLocation.hash;return null==ce&&(ce="#"),ce.length>0?ce.substring(1):ce}prepareExternalUrl(z){const ce=Pe(this._baseHref,z);return ce.length>0?"#"+ce:ce}pushState(z,ce,Ve,kt){let sn=this.prepareExternalUrl(Ve+mt(kt));0==sn.length&&(sn=this._platformLocation.pathname),this._platformLocation.pushState(z,ce,sn)}replaceState(z,ce,Ve,kt){let sn=this.prepareExternalUrl(Ve+mt(kt));0==sn.length&&(sn=this._platformLocation.pathname),this._platformLocation.replaceState(z,ce,sn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(z=0){this._platformLocation.historyGo?.(z)}static{this.\u0275fac=function(ce){return new(ce||T)(l.KVO(xe),l.KVO(tt,8))}}static{this.\u0275prov=l.jDH({token:T,factory:T.\u0275fac})}}return T})(),Cn=(()=>{class T{constructor(z){this._subject=new l.bkB,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=z;const ce=this._locationStrategy.getBaseHref();this._basePath=function vt(T){if(new RegExp("^(https?:)?//").test(T)){const[,z]=T.split(/\/\/[^\/]+/);return z}return T}(He(Ci(ce))),this._locationStrategy.onPopState(Ve=>{this._subject.emit({url:this.path(!0),pop:!0,state:Ve.state,type:Ve.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(z=!1){return this.normalize(this._locationStrategy.path(z))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(z,ce=""){return this.path()==this.normalize(z+mt(ce))}normalize(z){return T.stripTrailingSlash(function wi(T,re){if(!T||!re.startsWith(T))return re;const z=re.substring(T.length);return""===z||["/",";","?","#"].includes(z[0])?z:re}(this._basePath,Ci(z)))}prepareExternalUrl(z){return z&&"/"!==z[0]&&(z="/"+z),this._locationStrategy.prepareExternalUrl(z)}go(z,ce="",Ve=null){this._locationStrategy.pushState(Ve,"",z,ce),this._notifyUrlChangeListeners(this.prepareExternalUrl(z+mt(ce)),Ve)}replaceState(z,ce="",Ve=null){this._locationStrategy.replaceState(Ve,"",z,ce),this._notifyUrlChangeListeners(this.prepareExternalUrl(z+mt(ce)),Ve)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(z=0){this._locationStrategy.historyGo?.(z)}onUrlChange(z){return this._urlChangeListeners.push(z),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(ce=>{this._notifyUrlChangeListeners(ce.url,ce.state)})),()=>{const ce=this._urlChangeListeners.indexOf(z);this._urlChangeListeners.splice(ce,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(z="",ce){this._urlChangeListeners.forEach(Ve=>Ve(z,ce))}subscribe(z,ce,Ve){return this._subject.subscribe({next:z,error:ce,complete:Ve})}static{this.normalizeQueryParams=mt}static{this.joinWithSlash=Pe}static{this.stripTrailingSlash=He}static{this.\u0275fac=function(ce){return new(ce||T)(l.KVO(Ft))}}static{this.\u0275prov=l.jDH({token:T,factory:function(){return function Tn(){return new Cn((0,l.KVO)(Ft))}()},providedIn:"root"})}}return T})();function Ci(T){return T.replace(/\/index.html$/,"")}var Dt=function(T){return T[T.Decimal=0]="Decimal",T[T.Percent=1]="Percent",T[T.Currency=2]="Currency",T[T.Scientific=3]="Scientific",T}(Dt||{}),Mt=function(T){return T[T.Decimal=0]="Decimal",T[T.Group=1]="Group",T[T.List=2]="List",T[T.PercentSign=3]="PercentSign",T[T.PlusSign=4]="PlusSign",T[T.MinusSign=5]="MinusSign",T[T.Exponential=6]="Exponential",T[T.SuperscriptingExponent=7]="SuperscriptingExponent",T[T.PerMille=8]="PerMille",T[T.Infinity=9]="Infinity",T[T.NaN=10]="NaN",T[T.TimeSeparator=11]="TimeSeparator",T[T.CurrencyDecimal=12]="CurrencyDecimal",T[T.CurrencyGroup=13]="CurrencyGroup",T}(Mt||{});function Rt(T,re){const z=(0,l.H5H)(T),ce=z[l.KH2.NumberSymbols][re];if(typeof ce>"u"){if(re===Mt.CurrencyDecimal)return z[l.KH2.NumberSymbols][Mt.Decimal];if(re===Mt.CurrencyGroup)return z[l.KH2.NumberSymbols][Mt.Group]}return ce}const we=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function un(T){const re=parseInt(T);if(isNaN(re))throw new Error("Invalid integer literal when parsing "+T);return re}function jr(T,re){re=encodeURIComponent(re);for(const z of T.split(";")){const ce=z.indexOf("="),[Ve,kt]=-1==ce?[z,""]:[z.slice(0,ce),z.slice(ce+1)];if(Ve.trim()===re)return decodeURIComponent(kt)}return null}const ds=/\s+/,ar=[];let Wi=(()=>{class T{constructor(z,ce,Ve,kt){this._iterableDiffers=z,this._keyValueDiffers=ce,this._ngEl=Ve,this._renderer=kt,this.initialClasses=ar,this.stateMap=new Map}set klass(z){this.initialClasses=null!=z?z.trim().split(ds):ar}set ngClass(z){this.rawClass="string"==typeof z?z.trim().split(ds):z}ngDoCheck(){for(const ce of this.initialClasses)this._updateState(ce,!0);const z=this.rawClass;if(Array.isArray(z)||z instanceof Set)for(const ce of z)this._updateState(ce,!0);else if(null!=z)for(const ce of Object.keys(z))this._updateState(ce,!!z[ce]);this._applyStateDiff()}_updateState(z,ce){const Ve=this.stateMap.get(z);void 0!==Ve?(Ve.enabled!==ce&&(Ve.changed=!0,Ve.enabled=ce),Ve.touched=!0):this.stateMap.set(z,{enabled:ce,changed:!0,touched:!0})}_applyStateDiff(){for(const z of this.stateMap){const ce=z[0],Ve=z[1];Ve.changed?(this._toggleClass(ce,Ve.enabled),Ve.changed=!1):Ve.touched||(Ve.enabled&&this._toggleClass(ce,!1),this.stateMap.delete(ce)),Ve.touched=!1}}_toggleClass(z,ce){(z=z.trim()).length>0&&z.split(ds).forEach(Ve=>{ce?this._renderer.addClass(this._ngEl.nativeElement,Ve):this._renderer.removeClass(this._ngEl.nativeElement,Ve)})}static{this.\u0275fac=function(ce){return new(ce||T)(l.rXU(l._q3),l.rXU(l.MKu),l.rXU(l.aKT),l.rXU(l.sFG))}}static{this.\u0275dir=l.FsC({type:T,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}}return T})();class qr{constructor(re,z,ce,Ve){this.$implicit=re,this.ngForOf=z,this.index=ce,this.count=Ve}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Es=(()=>{class T{set ngForOf(z){this._ngForOf=z,this._ngForOfDirty=!0}set ngForTrackBy(z){this._trackByFn=z}get ngForTrackBy(){return this._trackByFn}constructor(z,ce,Ve){this._viewContainer=z,this._template=ce,this._differs=Ve,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(z){z&&(this._template=z)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const z=this._ngForOf;!this._differ&&z&&(this._differ=this._differs.find(z).create(this.ngForTrackBy))}if(this._differ){const z=this._differ.diff(this._ngForOf);z&&this._applyChanges(z)}}_applyChanges(z){const ce=this._viewContainer;z.forEachOperation((Ve,kt,sn)=>{if(null==Ve.previousIndex)ce.createEmbeddedView(this._template,new qr(Ve.item,this._ngForOf,-1,-1),null===sn?void 0:sn);else if(null==sn)ce.remove(null===kt?void 0:kt);else if(null!==kt){const vn=ce.get(kt);ce.move(vn,sn),Yi(vn,Ve)}});for(let Ve=0,kt=ce.length;Ve<kt;Ve++){const vn=ce.get(Ve).context;vn.index=Ve,vn.count=kt,vn.ngForOf=this._ngForOf}z.forEachIdentityChange(Ve=>{Yi(ce.get(Ve.currentIndex),Ve)})}static ngTemplateContextGuard(z,ce){return!0}static{this.\u0275fac=function(ce){return new(ce||T)(l.rXU(l.c1b),l.rXU(l.C4Q),l.rXU(l._q3))}}static{this.\u0275dir=l.FsC({type:T,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return T})();function Yi(T,re){T.context.$implicit=re.item}let fs=(()=>{class T{constructor(z,ce){this._viewContainer=z,this._context=new mo,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=ce}set ngIf(z){this._context.$implicit=this._context.ngIf=z,this._updateView()}set ngIfThen(z){Io("ngIfThen",z),this._thenTemplateRef=z,this._thenViewRef=null,this._updateView()}set ngIfElse(z){Io("ngIfElse",z),this._elseTemplateRef=z,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(z,ce){return!0}static{this.\u0275fac=function(ce){return new(ce||T)(l.rXU(l.c1b),l.rXU(l.C4Q))}}static{this.\u0275dir=l.FsC({type:T,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return T})();class mo{constructor(){this.$implicit=null,this.ngIf=null}}function Io(T,re){if(re&&!re.createEmbeddedView)throw new Error(`${T} must be a TemplateRef, but received '${(0,l.Tbb)(re)}'.`)}let Ue=(()=>{class T{constructor(z){this._viewContainerRef=z,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(z){if(z.ngTemplateOutlet||z.ngTemplateOutletInjector){const ce=this._viewContainerRef;if(this._viewRef&&ce.remove(ce.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:Ve,ngTemplateOutletContext:kt,ngTemplateOutletInjector:sn}=this;this._viewRef=ce.createEmbeddedView(Ve,kt,sn?{injector:sn}:void 0)}else this._viewRef=null}else this._viewRef&&z.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}static{this.\u0275fac=function(ce){return new(ce||T)(l.rXU(l.c1b))}}static{this.\u0275dir=l.FsC({type:T,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[l.OA$]})}}return T})();function Z(T,re){return new l.wOt(2100,!1)}const Yr=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g;let Hr=(()=>{class T{transform(z){if(null==z)return null;if("string"!=typeof z)throw Z();return z.replace(Yr,ce=>ce[0].toUpperCase()+ce.slice(1).toLowerCase())}static{this.\u0275fac=function(ce){return new(ce||T)}}static{this.\u0275pipe=l.EJ8({name:"titlecase",type:T,pure:!0,standalone:!0})}}return T})(),Pr=(()=>{class T{constructor(z){this._locale=z}transform(z,ce,Ve){if(!function Mi(T){return!(null==T||""===T||T!=T)}(z))return null;Ve=Ve||this._locale;try{return function Ze(T,re,z){return function _t(T,re,z,ce,Ve,kt,sn=!1){let vn="",kn=!1;if(isFinite(T)){let gr=function Yt(T){let ce,Ve,kt,sn,vn,re=Math.abs(T)+"",z=0;for((Ve=re.indexOf("."))>-1&&(re=re.replace(".","")),(kt=re.search(/e/i))>0?(Ve<0&&(Ve=kt),Ve+=+re.slice(kt+1),re=re.substring(0,kt)):Ve<0&&(Ve=re.length),kt=0;"0"===re.charAt(kt);kt++);if(kt===(vn=re.length))ce=[0],Ve=1;else{for(vn--;"0"===re.charAt(vn);)vn--;for(Ve-=kt,ce=[],sn=0;kt<=vn;kt++,sn++)ce[sn]=Number(re.charAt(kt))}return Ve>22&&(ce=ce.splice(0,21),z=Ve-1,Ve=1),{digits:ce,exponent:z,integerLen:Ve}}(T);sn&&(gr=function xt(T){if(0===T.digits[0])return T;const re=T.digits.length-T.integerLen;return T.exponent?T.exponent+=2:(0===re?T.digits.push(0,0):1===re&&T.digits.push(0),T.integerLen+=2),T}(gr));let Dr=re.minInt,Ki=re.minFrac,Os=re.maxFrac;if(kt){const $r=kt.match(we);if(null===$r)throw new Error(`${kt} is not a valid digit info`);const Js=$r[1],ro=$r[3],Ea=$r[5];null!=Js&&(Dr=un(Js)),null!=ro&&(Ki=un(ro)),null!=Ea?Os=un(Ea):null!=ro&&Ki>Os&&(Os=Ki)}!function Pn(T,re,z){if(re>z)throw new Error(`The minimum number of digits after fraction (${re}) is higher than the maximum (${z}).`);let ce=T.digits,Ve=ce.length-T.integerLen;const kt=Math.min(Math.max(re,Ve),z);let sn=kt+T.integerLen,vn=ce[sn];if(sn>0){ce.splice(Math.max(T.integerLen,sn));for(let Ki=sn;Ki<ce.length;Ki++)ce[Ki]=0}else{Ve=Math.max(0,Ve),T.integerLen=1,ce.length=Math.max(1,sn=kt+1),ce[0]=0;for(let Ki=1;Ki<sn;Ki++)ce[Ki]=0}if(vn>=5)if(sn-1<0){for(let Ki=0;Ki>sn;Ki--)ce.unshift(0),T.integerLen++;ce.unshift(1),T.integerLen++}else ce[sn-1]++;for(;Ve<Math.max(0,kt);Ve++)ce.push(0);let kn=0!==kt;const gr=re+T.integerLen,Dr=ce.reduceRight(function(Ki,Os,_s,zs){return zs[_s]=(Os+=Ki)<10?Os:Os-10,kn&&(0===zs[_s]&&_s>=gr?zs.pop():kn=!1),Os>=10?1:0},0);Dr&&(ce.unshift(Dr),T.integerLen++)}(gr,Ki,Os);let _s=gr.digits,zs=gr.integerLen;const ho=gr.exponent;let io=[];for(kn=_s.every($r=>!$r);zs<Dr;zs++)_s.unshift(0);for(;zs<0;zs++)_s.unshift(0);zs>0?io=_s.splice(zs,_s.length):(io=_s,_s=[0]);const yr=[];for(_s.length>=re.lgSize&&yr.unshift(_s.splice(-re.lgSize,_s.length).join(""));_s.length>re.gSize;)yr.unshift(_s.splice(-re.gSize,_s.length).join(""));_s.length&&yr.unshift(_s.join("")),vn=yr.join(Rt(z,ce)),io.length&&(vn+=Rt(z,Ve)+io.join("")),ho&&(vn+=Rt(z,Mt.Exponential)+"+"+ho)}else vn=Rt(z,Mt.Infinity);return vn=T<0&&!kn?re.negPre+vn+re.negSuf:re.posPre+vn+re.posSuf,vn}(T,function Ke(T,re="-"){const z={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},ce=T.split(";"),Ve=ce[0],kt=ce[1],sn=-1!==Ve.indexOf(".")?Ve.split("."):[Ve.substring(0,Ve.lastIndexOf("0")+1),Ve.substring(Ve.lastIndexOf("0")+1)],vn=sn[0],kn=sn[1]||"";z.posPre=vn.substring(0,vn.indexOf("#"));for(let Dr=0;Dr<kn.length;Dr++){const Ki=kn.charAt(Dr);"0"===Ki?z.minFrac=z.maxFrac=Dr+1:"#"===Ki?z.maxFrac=Dr+1:z.posSuf+=Ki}const gr=vn.split(",");if(z.gSize=gr[1]?gr[1].length:0,z.lgSize=gr[2]||gr[1]?(gr[2]||gr[1]).length:0,kt){const Dr=Ve.length-z.posPre.length-z.posSuf.length,Ki=kt.indexOf("#");z.negPre=kt.substring(0,Ki).replace(/'/g,""),z.negSuf=kt.slice(Ki+Dr).replace(/'/g,"")}else z.negPre=re+z.posPre,z.negSuf=z.posSuf;return z}(function qt(T,re){return(0,l.H5H)(T)[l.KH2.NumberFormats][re]}(re,Dt.Decimal),Rt(re,Mt.MinusSign)),re,Mt.Group,Mt.Decimal,z)}(function Ws(T){if("string"==typeof T&&!isNaN(Number(T)-parseFloat(T)))return Number(T);if("number"!=typeof T)throw new Error(`${T} is not a number`);return T}(z),Ve,ce)}catch(kt){throw Z()}}static{this.\u0275fac=function(ce){return new(ce||T)(l.rXU(l.xe9,16))}}static{this.\u0275pipe=l.EJ8({name:"number",type:T,pure:!0,standalone:!0})}}return T})();let ko=(()=>{class T{static{this.\u0275fac=function(ce){return new(ce||T)}}static{this.\u0275mod=l.$C({type:T})}static{this.\u0275inj=l.G2t({})}}return T})();const ps="browser",No="server";function ra(T){return T===ps}function lo(T){return T===No}let Do=(()=>{class T{static{this.\u0275prov=(0,l.jDH)({token:T,providedIn:"root",factory:()=>new Ds((0,l.KVO)(Ce),window)})}}return T})();class Ds{constructor(re,z){this.document=re,this.window=z,this.offset=()=>[0,0]}setOffset(re){this.offset=Array.isArray(re)?()=>re:re}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(re){this.supportsScrolling()&&this.window.scrollTo(re[0],re[1])}scrollToAnchor(re){if(!this.supportsScrolling())return;const z=function Fo(T,re){const z=T.getElementById(re)||T.getElementsByName(re)[0];if(z)return z;if("function"==typeof T.createTreeWalker&&T.body&&"function"==typeof T.body.attachShadow){const ce=T.createTreeWalker(T.body,NodeFilter.SHOW_ELEMENT);let Ve=ce.currentNode;for(;Ve;){const kt=Ve.shadowRoot;if(kt){const sn=kt.getElementById(re)||kt.querySelector(`[name="${re}"]`);if(sn)return sn}Ve=ce.nextNode()}}return null}(this.document,re);z&&(this.scrollToElement(z),z.focus())}setHistoryScrollRestoration(re){this.supportsScrolling()&&(this.window.history.scrollRestoration=re)}scrollToElement(re){const z=re.getBoundingClientRect(),ce=z.left+this.window.pageXOffset,Ve=z.top+this.window.pageYOffset,kt=this.offset();this.window.scrollTo(ce-kt[0],Ve-kt[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class Ps{}},1626:(ei,Nt,ee)=>{ee.d(Nt,{Qq:()=>xn,a7:()=>Bn,q1:()=>we});var l=ee(7705),Le=ee(7673),ke=ee(8455),ot=ee(1985),R=ee(274),Ce=ee(5964),xe=ee(6354),at=ee(980),ft=ee(5558),Pe=ee(177);class He{}class mt{}class Ft{constructor(qe){this.normalizedNames=new Map,this.lazyUpdate=null,qe?"string"==typeof qe?this.lazyInit=()=>{this.headers=new Map,qe.split("\n").forEach(it=>{const Ze=it.indexOf(":");if(Ze>0){const Ke=it.slice(0,Ze),xt=Ke.toLowerCase(),Yt=it.slice(Ze+1).trim();this.maybeSetNormalizedName(Ke,xt),this.headers.has(xt)?this.headers.get(xt).push(Yt):this.headers.set(xt,[Yt])}})}:typeof Headers<"u"&&qe instanceof Headers?(this.headers=new Map,qe.forEach((it,Ze)=>{this.setHeaderEntries(Ze,it)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(qe).forEach(([it,Ze])=>{this.setHeaderEntries(it,Ze)})}:this.headers=new Map}has(qe){return this.init(),this.headers.has(qe.toLowerCase())}get(qe){this.init();const it=this.headers.get(qe.toLowerCase());return it&&it.length>0?it[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(qe){return this.init(),this.headers.get(qe.toLowerCase())||null}append(qe,it){return this.clone({name:qe,value:it,op:"a"})}set(qe,it){return this.clone({name:qe,value:it,op:"s"})}delete(qe,it){return this.clone({name:qe,value:it,op:"d"})}maybeSetNormalizedName(qe,it){this.normalizedNames.has(it)||this.normalizedNames.set(it,qe)}init(){this.lazyInit&&(this.lazyInit instanceof Ft?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(qe=>this.applyUpdate(qe)),this.lazyUpdate=null))}copyFrom(qe){qe.init(),Array.from(qe.headers.keys()).forEach(it=>{this.headers.set(it,qe.headers.get(it)),this.normalizedNames.set(it,qe.normalizedNames.get(it))})}clone(qe){const it=new Ft;return it.lazyInit=this.lazyInit&&this.lazyInit instanceof Ft?this.lazyInit:this,it.lazyUpdate=(this.lazyUpdate||[]).concat([qe]),it}applyUpdate(qe){const it=qe.name.toLowerCase();switch(qe.op){case"a":case"s":let Ze=qe.value;if("string"==typeof Ze&&(Ze=[Ze]),0===Ze.length)return;this.maybeSetNormalizedName(qe.name,it);const Ke=("a"===qe.op?this.headers.get(it):void 0)||[];Ke.push(...Ze),this.headers.set(it,Ke);break;case"d":const xt=qe.value;if(xt){let Yt=this.headers.get(it);if(!Yt)return;Yt=Yt.filter(Pn=>-1===xt.indexOf(Pn)),0===Yt.length?(this.headers.delete(it),this.normalizedNames.delete(it)):this.headers.set(it,Yt)}else this.headers.delete(it),this.normalizedNames.delete(it)}}setHeaderEntries(qe,it){const Ze=(Array.isArray(it)?it:[it]).map(xt=>xt.toString()),Ke=qe.toLowerCase();this.headers.set(Ke,Ze),this.maybeSetNormalizedName(qe,Ke)}forEach(qe){this.init(),Array.from(this.normalizedNames.keys()).forEach(it=>qe(this.normalizedNames.get(it),this.headers.get(it)))}}class yt{encodeKey(qe){return wi(qe)}encodeValue(qe){return wi(qe)}decodeKey(qe){return decodeURIComponent(qe)}decodeValue(qe){return decodeURIComponent(qe)}}const Cn=/%(\d[a-f0-9])/gi,Tn={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function wi(_t){return encodeURIComponent(_t).replace(Cn,(qe,it)=>Tn[it]??qe)}function Ci(_t){return`${_t}`}class vt{constructor(qe={}){if(this.updates=null,this.cloneFrom=null,this.encoder=qe.encoder||new yt,qe.fromString){if(qe.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function It(_t,qe){const it=new Map;return _t.length>0&&_t.replace(/^\?/,"").split("&").forEach(Ke=>{const xt=Ke.indexOf("="),[Yt,Pn]=-1==xt?[qe.decodeKey(Ke),""]:[qe.decodeKey(Ke.slice(0,xt)),qe.decodeValue(Ke.slice(xt+1))],un=it.get(Yt)||[];un.push(Pn),it.set(Yt,un)}),it}(qe.fromString,this.encoder)}else qe.fromObject?(this.map=new Map,Object.keys(qe.fromObject).forEach(it=>{const Ze=qe.fromObject[it],Ke=Array.isArray(Ze)?Ze.map(Ci):[Ci(Ze)];this.map.set(it,Ke)})):this.map=null}has(qe){return this.init(),this.map.has(qe)}get(qe){this.init();const it=this.map.get(qe);return it?it[0]:null}getAll(qe){return this.init(),this.map.get(qe)||null}keys(){return this.init(),Array.from(this.map.keys())}append(qe,it){return this.clone({param:qe,value:it,op:"a"})}appendAll(qe){const it=[];return Object.keys(qe).forEach(Ze=>{const Ke=qe[Ze];Array.isArray(Ke)?Ke.forEach(xt=>{it.push({param:Ze,value:xt,op:"a"})}):it.push({param:Ze,value:Ke,op:"a"})}),this.clone(it)}set(qe,it){return this.clone({param:qe,value:it,op:"s"})}delete(qe,it){return this.clone({param:qe,value:it,op:"d"})}toString(){return this.init(),this.keys().map(qe=>{const it=this.encoder.encodeKey(qe);return this.map.get(qe).map(Ze=>it+"="+this.encoder.encodeValue(Ze)).join("&")}).filter(qe=>""!==qe).join("&")}clone(qe){const it=new vt({encoder:this.encoder});return it.cloneFrom=this.cloneFrom||this,it.updates=(this.updates||[]).concat(qe),it}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(qe=>this.map.set(qe,this.cloneFrom.map.get(qe))),this.updates.forEach(qe=>{switch(qe.op){case"a":case"s":const it=("a"===qe.op?this.map.get(qe.param):void 0)||[];it.push(Ci(qe.value)),this.map.set(qe.param,it);break;case"d":if(void 0===qe.value){this.map.delete(qe.param);break}{let Ze=this.map.get(qe.param)||[];const Ke=Ze.indexOf(Ci(qe.value));-1!==Ke&&Ze.splice(Ke,1),Ze.length>0?this.map.set(qe.param,Ze):this.map.delete(qe.param)}}}),this.cloneFrom=this.updates=null)}}class Dt{constructor(){this.map=new Map}set(qe,it){return this.map.set(qe,it),this}get(qe){return this.map.has(qe)||this.map.set(qe,qe.defaultValue()),this.map.get(qe)}delete(qe){return this.map.delete(qe),this}has(qe){return this.map.has(qe)}keys(){return this.map.keys()}}function Lt(_t){return typeof ArrayBuffer<"u"&&_t instanceof ArrayBuffer}function rt(_t){return typeof Blob<"u"&&_t instanceof Blob}function Qt(_t){return typeof FormData<"u"&&_t instanceof FormData}class yn{constructor(qe,it,Ze,Ke){let xt;if(this.url=it,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=qe.toUpperCase(),function At(_t){switch(_t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||Ke?(this.body=void 0!==Ze?Ze:null,xt=Ke):xt=Ze,xt&&(this.reportProgress=!!xt.reportProgress,this.withCredentials=!!xt.withCredentials,xt.responseType&&(this.responseType=xt.responseType),xt.headers&&(this.headers=xt.headers),xt.context&&(this.context=xt.context),xt.params&&(this.params=xt.params)),this.headers||(this.headers=new Ft),this.context||(this.context=new Dt),this.params){const Yt=this.params.toString();if(0===Yt.length)this.urlWithParams=it;else{const Pn=it.indexOf("?");this.urlWithParams=it+(-1===Pn?"?":Pn<it.length-1?"&":"")+Yt}}else this.params=new vt,this.urlWithParams=it}serializeBody(){return null===this.body?null:Lt(this.body)||rt(this.body)||Qt(this.body)||function Mt(_t){return typeof URLSearchParams<"u"&&_t instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof vt?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Qt(this.body)?null:rt(this.body)?this.body.type||null:Lt(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof vt?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(qe={}){const it=qe.method||this.method,Ze=qe.url||this.url,Ke=qe.responseType||this.responseType,xt=void 0!==qe.body?qe.body:this.body,Yt=void 0!==qe.withCredentials?qe.withCredentials:this.withCredentials,Pn=void 0!==qe.reportProgress?qe.reportProgress:this.reportProgress;let un=qe.headers||this.headers,yi=qe.params||this.params;const or=qe.context??this.context;return void 0!==qe.setHeaders&&(un=Object.keys(qe.setHeaders).reduce((Fi,Nr)=>Fi.set(Nr,qe.setHeaders[Nr]),un)),qe.setParams&&(yi=Object.keys(qe.setParams).reduce((Fi,Nr)=>Fi.set(Nr,qe.setParams[Nr]),yi)),new yn(it,Ze,xt,{params:yi,headers:un,context:or,reportProgress:Pn,responseType:Ke,withCredentials:Yt})}}var fi=function(_t){return _t[_t.Sent=0]="Sent",_t[_t.UploadProgress=1]="UploadProgress",_t[_t.ResponseHeader=2]="ResponseHeader",_t[_t.DownloadProgress=3]="DownloadProgress",_t[_t.Response=4]="Response",_t[_t.User=5]="User",_t}(fi||{});class on{constructor(qe,it=200,Ze="OK"){this.headers=qe.headers||new Ft,this.status=void 0!==qe.status?qe.status:it,this.statusText=qe.statusText||Ze,this.url=qe.url||null,this.ok=this.status>=200&&this.status<300}}class Ii extends on{constructor(qe={}){super(qe),this.type=fi.ResponseHeader}clone(qe={}){return new Ii({headers:qe.headers||this.headers,status:void 0!==qe.status?qe.status:this.status,statusText:qe.statusText||this.statusText,url:qe.url||this.url||void 0})}}class Xi extends on{constructor(qe={}){super(qe),this.type=fi.Response,this.body=void 0!==qe.body?qe.body:null}clone(qe={}){return new Xi({body:void 0!==qe.body?qe.body:this.body,headers:qe.headers||this.headers,status:void 0!==qe.status?qe.status:this.status,statusText:qe.statusText||this.statusText,url:qe.url||this.url||void 0})}}class Zr extends on{constructor(qe){super(qe,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${qe.url||"(unknown url)"}`:`Http failure response for ${qe.url||"(unknown url)"}: ${qe.status} ${qe.statusText}`,this.error=qe.error||null}}function hr(_t,qe){return{body:qe,headers:_t.headers,context:_t.context,observe:_t.observe,params:_t.params,reportProgress:_t.reportProgress,responseType:_t.responseType,withCredentials:_t.withCredentials}}let xn=(()=>{class _t{constructor(it){this.handler=it}request(it,Ze,Ke={}){let xt;if(it instanceof yn)xt=it;else{let un,yi;un=Ke.headers instanceof Ft?Ke.headers:new Ft(Ke.headers),Ke.params&&(yi=Ke.params instanceof vt?Ke.params:new vt({fromObject:Ke.params})),xt=new yn(it,Ze,void 0!==Ke.body?Ke.body:null,{headers:un,context:Ke.context,params:yi,reportProgress:Ke.reportProgress,responseType:Ke.responseType||"json",withCredentials:Ke.withCredentials})}const Yt=(0,Le.of)(xt).pipe((0,R.H)(un=>this.handler.handle(un)));if(it instanceof yn||"events"===Ke.observe)return Yt;const Pn=Yt.pipe((0,Ce.p)(un=>un instanceof Xi));switch(Ke.observe||"body"){case"body":switch(xt.responseType){case"arraybuffer":return Pn.pipe((0,xe.T)(un=>{if(null!==un.body&&!(un.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return un.body}));case"blob":return Pn.pipe((0,xe.T)(un=>{if(null!==un.body&&!(un.body instanceof Blob))throw new Error("Response is not a Blob.");return un.body}));case"text":return Pn.pipe((0,xe.T)(un=>{if(null!==un.body&&"string"!=typeof un.body)throw new Error("Response is not a string.");return un.body}));default:return Pn.pipe((0,xe.T)(un=>un.body))}case"response":return Pn;default:throw new Error(`Unreachable: unhandled observe type ${Ke.observe}}`)}}delete(it,Ze={}){return this.request("DELETE",it,Ze)}get(it,Ze={}){return this.request("GET",it,Ze)}head(it,Ze={}){return this.request("HEAD",it,Ze)}jsonp(it,Ze){return this.request("JSONP",it,{params:(new vt).append(Ze,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(it,Ze={}){return this.request("OPTIONS",it,Ze)}patch(it,Ze,Ke={}){return this.request("PATCH",it,hr(Ke,Ze))}post(it,Ze,Ke={}){return this.request("POST",it,hr(Ke,Ze))}put(it,Ze,Ke={}){return this.request("PUT",it,hr(Ke,Ze))}static{this.\u0275fac=function(Ze){return new(Ze||_t)(l.KVO(He))}}static{this.\u0275prov=l.jDH({token:_t,factory:_t.\u0275fac})}}return _t})();function Mn(_t,qe){return qe(_t)}function In(_t,qe){return(it,Ze)=>qe.intercept(it,{handle:Ke=>_t(Ke,Ze)})}const Bn=new l.nKC(""),Jn=new l.nKC(""),Si=new l.nKC("");function nr(){let _t=null;return(qe,it)=>{null===_t&&(_t=((0,l.WQX)(Bn,{optional:!0})??[]).reduceRight(In,Mn));const Ze=(0,l.WQX)(l.$K3),Ke=Ze.add();return _t(qe,it).pipe((0,at.j)(()=>Ze.remove(Ke)))}}let ti=(()=>{class _t extends He{constructor(it,Ze){super(),this.backend=it,this.injector=Ze,this.chain=null,this.pendingTasks=(0,l.WQX)(l.$K3)}handle(it){if(null===this.chain){const Ke=Array.from(new Set([...this.injector.get(Jn),...this.injector.get(Si,[])]));this.chain=Ke.reduceRight((xt,Yt)=>function Hi(_t,qe,it){return(Ze,Ke)=>it.runInContext(()=>qe(Ze,xt=>_t(xt,Ke)))}(xt,Yt,this.injector),Mn)}const Ze=this.pendingTasks.add();return this.chain(it,Ke=>this.backend.handle(Ke)).pipe((0,at.j)(()=>this.pendingTasks.remove(Ze)))}static{this.\u0275fac=function(Ze){return new(Ze||_t)(l.KVO(mt),l.KVO(l.uvJ))}}static{this.\u0275prov=l.jDH({token:_t,factory:_t.\u0275fac})}}return _t})();const Br=/^\)\]\}',?\n/;let ii=(()=>{class _t{constructor(it){this.xhrFactory=it}handle(it){if("JSONP"===it.method)throw new l.wOt(-2800,!1);const Ze=this.xhrFactory;return(Ze.\u0275loadImpl?(0,ke.H)(Ze.\u0275loadImpl()):(0,Le.of)(null)).pipe((0,ft.n)(()=>new ot.c(xt=>{const Yt=Ze.build();if(Yt.open(it.method,it.urlWithParams),it.withCredentials&&(Yt.withCredentials=!0),it.headers.forEach((ar,Wi)=>Yt.setRequestHeader(ar,Wi.join(","))),it.headers.has("Accept")||Yt.setRequestHeader("Accept","application/json, text/plain, */*"),!it.headers.has("Content-Type")){const ar=it.detectContentTypeHeader();null!==ar&&Yt.setRequestHeader("Content-Type",ar)}if(it.responseType){const ar=it.responseType.toLowerCase();Yt.responseType="json"!==ar?ar:"text"}const Pn=it.serializeBody();let un=null;const yi=()=>{if(null!==un)return un;const ar=Yt.statusText||"OK",Wi=new Ft(Yt.getAllResponseHeaders()),hs=function Ar(_t){return"responseURL"in _t&&_t.responseURL?_t.responseURL:/^X-Request-URL:/m.test(_t.getAllResponseHeaders())?_t.getResponseHeader("X-Request-URL"):null}(Yt)||it.url;return un=new Ii({headers:Wi,status:Yt.status,statusText:ar,url:hs}),un},or=()=>{let{headers:ar,status:Wi,statusText:hs,url:Co}=yi(),qr=null;204!==Wi&&(qr=typeof Yt.response>"u"?Yt.responseText:Yt.response),0===Wi&&(Wi=qr?200:0);let Es=Wi>=200&&Wi<300;if("json"===it.responseType&&"string"==typeof qr){const Yi=qr;qr=qr.replace(Br,"");try{qr=""!==qr?JSON.parse(qr):null}catch(ss){qr=Yi,Es&&(Es=!1,qr={error:ss,text:qr})}}Es?(xt.next(new Xi({body:qr,headers:ar,status:Wi,statusText:hs,url:Co||void 0})),xt.complete()):xt.error(new Zr({error:qr,headers:ar,status:Wi,statusText:hs,url:Co||void 0}))},Fi=ar=>{const{url:Wi}=yi(),hs=new Zr({error:ar,status:Yt.status||0,statusText:Yt.statusText||"Unknown Error",url:Wi||void 0});xt.error(hs)};let Nr=!1;const jr=ar=>{Nr||(xt.next(yi()),Nr=!0);let Wi={type:fi.DownloadProgress,loaded:ar.loaded};ar.lengthComputable&&(Wi.total=ar.total),"text"===it.responseType&&Yt.responseText&&(Wi.partialText=Yt.responseText),xt.next(Wi)},ds=ar=>{let Wi={type:fi.UploadProgress,loaded:ar.loaded};ar.lengthComputable&&(Wi.total=ar.total),xt.next(Wi)};return Yt.addEventListener("load",or),Yt.addEventListener("error",Fi),Yt.addEventListener("timeout",Fi),Yt.addEventListener("abort",Fi),it.reportProgress&&(Yt.addEventListener("progress",jr),null!==Pn&&Yt.upload&&Yt.upload.addEventListener("progress",ds)),Yt.send(Pn),xt.next({type:fi.Sent}),()=>{Yt.removeEventListener("error",Fi),Yt.removeEventListener("abort",Fi),Yt.removeEventListener("load",or),Yt.removeEventListener("timeout",Fi),it.reportProgress&&(Yt.removeEventListener("progress",jr),null!==Pn&&Yt.upload&&Yt.upload.removeEventListener("progress",ds)),Yt.readyState!==Yt.DONE&&Yt.abort()}})))}static{this.\u0275fac=function(Ze){return new(Ze||_t)(l.KVO(Pe.N0))}}static{this.\u0275prov=l.jDH({token:_t,factory:_t.\u0275fac})}}return _t})();const wr=new l.nKC("XSRF_ENABLED"),Fn=new l.nKC("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),gi=new l.nKC("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class Is{}let is=(()=>{class _t{constructor(it,Ze,Ke){this.doc=it,this.platform=Ze,this.cookieName=Ke,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const it=this.doc.cookie||"";return it!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,Pe._b)(it,this.cookieName),this.lastCookieString=it),this.lastToken}static{this.\u0275fac=function(Ze){return new(Ze||_t)(l.KVO(Pe.qQ),l.KVO(l.Agw),l.KVO(Fn))}}static{this.\u0275prov=l.jDH({token:_t,factory:_t.\u0275fac})}}return _t})();function bs(_t,qe){const it=_t.url.toLowerCase();if(!(0,l.WQX)(wr)||"GET"===_t.method||"HEAD"===_t.method||it.startsWith("http://")||it.startsWith("https://"))return qe(_t);const Ze=(0,l.WQX)(Is).getToken(),Ke=(0,l.WQX)(gi);return null!=Ze&&!_t.headers.has(Ke)&&(_t=_t.clone({headers:_t.headers.set(Ke,Ze)})),qe(_t)}var Ur=function(_t){return _t[_t.Interceptors=0]="Interceptors",_t[_t.LegacyInterceptors=1]="LegacyInterceptors",_t[_t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",_t[_t.NoXsrfProtection=3]="NoXsrfProtection",_t[_t.JsonpSupport=4]="JsonpSupport",_t[_t.RequestsMadeViaParent=5]="RequestsMadeViaParent",_t[_t.Fetch=6]="Fetch",_t}(Ur||{});function Kr(_t,qe){return{\u0275kind:_t,\u0275providers:qe}}function Cr(..._t){const qe=[xn,ii,ti,{provide:He,useExisting:ti},{provide:mt,useExisting:ii},{provide:Jn,useValue:bs,multi:!0},{provide:wr,useValue:!0},{provide:Is,useClass:is}];for(const it of _t)qe.push(...it.\u0275providers);return(0,l.EmA)(qe)}const Jr=new l.nKC("LEGACY_INTERCEPTOR_FN");let we=(()=>{class _t{static{this.\u0275fac=function(Ze){return new(Ze||_t)}}static{this.\u0275mod=l.$C({type:_t})}static{this.\u0275inj=l.G2t({providers:[Cr(Kr(Ur.LegacyInterceptors,[{provide:Jr,useFactory:nr},{provide:Jn,useExisting:Jr,multi:!0}]))]})}}return _t})()},7705:(ei,Nt,ee)=>{ee.d(Nt,{$C:()=>Fr,$GK:()=>ni,$K3:()=>kw,$MX:()=>Ju,AVh:()=>og,Agw:()=>Xp,BIS:()=>Zp,BMQ:()=>ip,C4Q:()=>gg,C5r:()=>pw,Co$:()=>AE,DNE:()=>Av,EFF:()=>hy,EJ8:()=>ls,EmA:()=>$p,FS9:()=>up,FsC:()=>Ls,G2t:()=>Si,GBs:()=>cw,GFd:()=>Su,H3F:()=>Pw,H5H:()=>h0,H8p:()=>Ah,HJs:()=>GT,Hbi:()=>PT,JRh:()=>r,JZv:()=>ii,Jv_:()=>xE,KH2:()=>mp,KVO:()=>si,Kcf:()=>Rp,L39:()=>$T,LfX:()=>ti,Lme:()=>n,MKu:()=>G0,NAR:()=>zv,NEm:()=>lT,NYb:()=>sT,Njj:()=>Hn,O8t:()=>kt,OA$:()=>Ki,Ocv:()=>RD,Ol2:()=>ME,PLl:()=>Qp,QTQ:()=>I_,Ql9:()=>LD,QuC:()=>no,R7$:()=>w_,RV6:()=>Bv,Rfq:()=>yt,RxE:()=>am,SKi:()=>Ha,SdG:()=>Gv,SpI:()=>e,TL$:()=>Zu,Tbb:()=>mt,UyX:()=>Fg,VBU:()=>Je,Vns:()=>rf,Vt3:()=>j_,WHO:()=>Lw,WPN:()=>Cl,WQX:()=>Yn,XpG:()=>$v,Xx1:()=>Sc,Y8G:()=>X_,Z63:()=>xh,ZF7:()=>mu,_9s:()=>s_,_q3:()=>z0,aKT:()=>Bh,aNF:()=>OE,bIt:()=>Sl,bMT:()=>qE,bVm:()=>ig,bc$:()=>zy,bkB:()=>Il,c1b:()=>Ey,cWb:()=>Np,czy:()=>fh,e01:()=>Vw,e5t:()=>Ry,eBV:()=>bt,eq3:()=>VE,eu8:()=>J_,fpN:()=>OT,gRc:()=>_T,gXe:()=>Yt,giA:()=>Bw,h9k:()=>Hg,hnV:()=>Ow,i5U:()=>YE,iLQ:()=>V0,j41:()=>eg,jDH:()=>Bn,jNT:()=>rg,k0s:()=>lp,kS0:()=>su,kdw:()=>kc,lNU:()=>Ci,l_i:()=>BE,lsd:()=>uw,mGM:()=>aw,mq5:()=>Jb,n$t:()=>jp,nI1:()=>KE,nKC:()=>Fn,nrm:()=>tg,o8S:()=>vp,oH4:()=>$w,osQ:()=>Ef,plB:()=>A0,qex:()=>ng,rOR:()=>yy,rXU:()=>Du,rcV:()=>ll,sFG:()=>sm,sMw:()=>UE,sZ2:()=>Yp,sdS:()=>Rv,uvJ:()=>dl,w6W:()=>II,wOt:()=>vt,wni:()=>lw,xGo:()=>ic,xe9:()=>Cy,xvI:()=>sd,zZn:()=>Lc,zcH:()=>wc,ziG:()=>jE,zjR:()=>ty});var l=ee(1413),Le=ee(8359),ke=ee(1985),ot=ee(7786),R=ee(4412),Ce=ee(7673),xe=ee(7647),at=ee(5558),ft=ee(3294);function Pe(t){for(let i in t)if(t[i]===Pe)return i;throw Error("Could not find renamed property on target object.")}function He(t,i){for(const s in i)i.hasOwnProperty(s)&&!t.hasOwnProperty(s)&&(t[s]=i[s])}function mt(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(mt).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const i=t.toString();if(null==i)return""+i;const s=i.indexOf("\n");return-1===s?i:i.substring(0,s)}function Ft(t,i){return null==t||""===t?null===i?"":i:null==i||""===i?t:t+" "+i}const tt=Pe({__forward_ref__:Pe});function yt(t){return t.__forward_ref__=yt,t.toString=function(){return mt(this())},t}function It(t){return Cn(t)?t():t}function Cn(t){return"function"==typeof t&&t.hasOwnProperty(tt)&&t.__forward_ref__===yt}function Tn(t){return t&&!!t.\u0275providers}const Ci="https://g.co/ng/security#xss";class vt extends Error{constructor(i,s){super(function cn(t,i){return`NG0${Math.abs(t)}${i?": "+i:""}`}(i,s)),this.code=i}}function Dt(t){return"string"==typeof t?t:null==t?"":String(t)}function Mt(t,i){throw new vt(-201,!1)}function ln(t,i){null==t&&function Ut(t,i,s,a){throw new Error(`ASSERTION ERROR: ${t}`+(null==a?"":` [Expected=> ${s} ${a} ${i} <=Actual]`))}(i,t,null,"!=")}function Bn(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Si(t){return{providers:t.providers||[],imports:t.imports||[]}}function nr(t){return Ni(t,zi)||Ni(t,as)}function ti(t){return null!==nr(t)}function Ni(t,i){return t.hasOwnProperty(i)?t[i]:null}function Zi(t){return t&&(t.hasOwnProperty(Wr)||t.hasOwnProperty(Or))?t[Wr]:null}const zi=Pe({\u0275prov:Pe}),Wr=Pe({\u0275inj:Pe}),as=Pe({ngInjectableDef:Pe}),Or=Pe({ngInjectorDef:Pe});var ni=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(ni||{});let Di;function fr(t){const i=Di;return Di=t,i}function Br(t,i,s){const a=nr(t);return a&&"root"==a.providedIn?void 0===a.value?a.value=a.factory():a.value:s&ni.Optional?null:void 0!==i?i:void Mt(mt(t))}const ii=globalThis;class Fn{constructor(i,s){this._desc=i,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=Bn({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Gi={},Ji="__NG_DI_FLAG__",_r="ngTempTokenPath",ve=/\n/gm,Ee="__source";let we;function an(t){const i=we;return we=t,i}function mn(t,i=ni.Default){if(void 0===we)throw new vt(-203,!1);return null===we?Br(t,void 0,i):we.get(t,i&ni.Optional?null:void 0,i)}function si(t,i=ni.Default){return(function vi(){return Di}()||mn)(It(t),i)}function Yn(t,i=ni.Default){return si(t,Qn(i))}function Qn(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function ki(t){const i=[];for(let s=0;s<t.length;s++){const a=It(t[s]);if(Array.isArray(a)){if(0===a.length)throw new vt(900,!1);let d,g=ni.Default;for(let I=0;I<a.length;I++){const P=a[I],$=qe(P);"number"==typeof $?-1===$?d=P.token:g|=$:d=P}i.push(si(d,g))}else i.push(si(a))}return i}function _t(t,i){return t[Ji]=i,t.prototype[Ji]=i,t}function qe(t){return t[Ji]}function Ke(t){return{toString:t}.toString()}var xt=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(xt||{}),Yt=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Yt||{});const Pn={},un=[],yi=Pe({\u0275cmp:Pe}),or=Pe({\u0275dir:Pe}),Fi=Pe({\u0275pipe:Pe}),Nr=Pe({\u0275mod:Pe}),jr=Pe({\u0275fac:Pe}),ds=Pe({__NG_ELEMENT_ID__:Pe}),ar=Pe({__NG_ENV_ID__:Pe});function Wi(t,i,s){let a=t.length;for(;;){const d=t.indexOf(i,s);if(-1===d)return d;if(0===d||t.charCodeAt(d-1)<=32){const g=i.length;if(d+g===a||t.charCodeAt(d+g)<=32)return d}s=d+1}}function hs(t,i,s){let a=0;for(;a<s.length;){const d=s[a];if("number"==typeof d){if(0!==d)break;a++;const g=s[a++],I=s[a++],P=s[a++];t.setAttribute(i,I,P,g)}else{const g=d,I=s[++a];qr(g)?t.setProperty(i,g,I):t.setAttribute(i,g,I),a++}}return a}function Co(t){return 3===t||4===t||6===t}function qr(t){return 64===t.charCodeAt(0)}function Es(t,i){if(null!==i&&0!==i.length)if(null===t||0===t.length)t=i.slice();else{let s=-1;for(let a=0;a<i.length;a++){const d=i[a];"number"==typeof d?s=d:0===s||Yi(t,s,d,null,-1===s||2===s?i[++a]:null)}}return t}function Yi(t,i,s,a,d){let g=0,I=t.length;if(-1===i)I=-1;else for(;g<t.length;){const P=t[g++];if("number"==typeof P){if(P===i){I=-1;break}if(P>i){I=g-1;break}}}for(;g<t.length;){const P=t[g];if("number"==typeof P)break;if(P===s){if(null===a)return void(null!==d&&(t[g+1]=d));if(a===t[g+1])return void(t[g+2]=d)}g++,null!==a&&g++,null!==d&&g++}-1!==I&&(t.splice(I,0,i),g=I+1),t.splice(g++,0,s),null!==a&&t.splice(g++,0,a),null!==d&&t.splice(g++,0,d)}const ss="ng-template";function fs(t,i,s){let a=0,d=!0;for(;a<t.length;){let g=t[a++];if("string"==typeof g&&d){const I=t[a++];if(s&&"class"===g&&-1!==Wi(I.toLowerCase(),i,0))return!0}else{if(1===g){for(;a<t.length&&"string"==typeof(g=t[a++]);)if(g.toLowerCase()===i)return!0;return!1}"number"==typeof g&&(d=!1)}}return!1}function mo(t){return 4===t.type&&t.value!==ss}function Io(t,i,s){return i===(4!==t.type||s?t.value:ss)}function ht(t,i,s){let a=4;const d=t.attrs||[],g=function pi(t){for(let i=0;i<t.length;i++)if(Co(t[i]))return i;return t.length}(d);let I=!1;for(let P=0;P<i.length;P++){const $=i[P];if("number"!=typeof $){if(!I)if(4&a){if(a=2|1&a,""!==$&&!Io(t,$,s)||""===$&&1===i.length){if(ut(a))return!1;I=!0}}else{const le=8&a?$:i[++P];if(8&a&&null!==t.attrs){if(!fs(t.attrs,le,s)){if(ut(a))return!1;I=!0}continue}const Ye=jt(8&a?"class":$,d,mo(t),s);if(-1===Ye){if(ut(a))return!1;I=!0;continue}if(""!==le){let St;St=Ye>g?"":d[Ye+1].toLowerCase();const Gt=8&a?St:null;if(Gt&&-1!==Wi(Gt,le,0)||2&a&&le!==St){if(ut(a))return!1;I=!0}}}}else{if(!I&&!ut(a)&&!ut($))return!1;if(I&&ut($))continue;I=!1,a=$|1&a}}return ut(a)||I}function ut(t){return 0==(1&t)}function jt(t,i,s,a){if(null===i)return-1;let d=0;if(a||!s){let g=!1;for(;d<i.length;){const I=i[d];if(I===t)return d;if(3===I||6===I)g=!0;else{if(1===I||2===I){let P=i[++d];for(;"string"==typeof P;)P=i[++d];continue}if(4===I)break;if(0===I){d+=4;continue}}d+=g?1:2}return-1}return function rr(t,i){let s=t.indexOf(4);if(s>-1)for(s++;s<t.length;){const a=t[s];if("number"==typeof a)return-1;if(a===i)return s;s++}return-1}(i,t)}function dn(t,i,s=!1){for(let a=0;a<i.length;a++)if(ht(t,i[a],s))return!0;return!1}function pr(t,i){e:for(let s=0;s<i.length;s++){const a=i[s];if(t.length===a.length){for(let d=0;d<t.length;d++)if(t[d]!==a[d])continue e;return!0}}return!1}function Ue(t,i){return t?":not("+i.trim()+")":i}function Ge(t){let i=t[0],s=1,a=2,d="",g=!1;for(;s<t.length;){let I=t[s];if("string"==typeof I)if(2&a){const P=t[++s];d+="["+I+(P.length>0?'="'+P+'"':"")+"]"}else 8&a?d+="."+I:4&a&&(d+=" "+I);else""!==d&&!ut(I)&&(i+=Ue(g,d),d=""),a=I,g=g||!ut(a);s++}return""!==d&&(i+=Ue(g,d)),i}function Je(t){return Ke(()=>{const i=Ia(t),s={...i,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===xt.OnPush,directiveDefs:null,pipeDefs:null,dependencies:i.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Yt.Emulated,styles:t.styles||un,_:null,schemas:t.schemas||null,tView:null,id:""};go(s);const a=t.dependencies;return s.directiveDefs=ua(a,!1),s.pipeDefs=ua(a,!0),s.id=function Qs(t){let i=0;const s=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const d of s)i=Math.imul(31,i)+d.charCodeAt(0)<<0;return i+=2147483648,"c"+i}(s),s})}function gn(t){return Li(t)||cr(t)}function _i(t){return null!==t}function Fr(t){return Ke(()=>({type:t.type,bootstrap:t.bootstrap||un,declarations:t.declarations||un,imports:t.imports||un,exports:t.exports||un,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Hr(t,i){if(null==t)return Pn;const s={};for(const a in t)if(t.hasOwnProperty(a)){let d=t[a],g=d;Array.isArray(d)&&(g=d[1],d=d[0]),s[d]=a,i&&(i[d]=g)}return s}function Ls(t){return Ke(()=>{const i=Ia(t);return go(i),i})}function ls(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function Li(t){return t[yi]||null}function cr(t){return t[or]||null}function Sr(t){return t[Fi]||null}function no(t){const i=Li(t)||cr(t)||Sr(t);return null!==i&&i.standalone}function As(t,i){const s=t[Nr]||null;if(!s&&!0===i)throw new Error(`Type ${mt(t)} does not have '\u0275mod' property.`);return s}function Ia(t){const i={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:i,inputTransforms:null,inputConfig:t.inputs||Pn,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||un,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Hr(t.inputs,i),outputs:Hr(t.outputs)}}function go(t){t.features?.forEach(i=>i(t))}function ua(t,i){if(!t)return null;const s=i?Sr:gn;return()=>("function"==typeof t?t():t).map(a=>s(a)).filter(_i)}const Pr=0,Rn=1,Bi=2,Mi=3,Ws=4,es=5,ws=6,ko=7,ps=8,No=9,So=10,bi=11,ra=12,lo=13,Bs=14,kr=15,da=16,Do=17,Ds=18,Fo=19,Ra=20,Ps=21,Ss=22,Us=23,Xo=24,br=25,Wo=1,_o=2,us=7,Xs=9,ms=11;function ks(t){return Array.isArray(t)&&"object"==typeof t[Wo]}function js(t){return Array.isArray(t)&&!0===t[Wo]}function Zo(t){return 0!=(4&t.flags)}function gs(t){return t.componentOffset>-1}function Ms(t){return 1==(1&t.flags)}function Ks(t){return!!t.template}function ts(t){return 0!=(512&t[Bi])}function ao(t,i){return t.hasOwnProperty(jr)?t[jr]:null}let rs=null,jo=!1;function er(t){const i=rs;return rs=t,i}const Oa={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function ya(t){if(!Ho(t)||t.dirty){if(!t.producerMustRecompute(t)&&!uo(t))return void(t.dirty=!1);t.producerRecomputeValue(t),t.dirty=!1}}function bo(t){t.dirty=!0,function Hs(t){if(void 0===t.liveConsumerNode)return;const i=jo;jo=!0;try{for(const s of t.liveConsumerNode)s.dirty||bo(s)}finally{jo=i}}(t),t.consumerMarkedDirty?.(t)}function Ns(t){return t&&(t.nextProducerIndex=0),er(t)}function va(t,i){if(er(i),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(Ho(t))for(let s=t.nextProducerIndex;s<t.producerNode.length;s++)xo(t.producerNode[s],t.producerIndexOfThis[s]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function uo(t){Ys(t);for(let i=0;i<t.producerNode.length;i++){const s=t.producerNode[i],a=t.producerLastReadVersion[i];if(a!==s.version||(ya(s),a!==s.version))return!0}return!1}function ba(t){if(Ys(t),Ho(t))for(let i=0;i<t.producerNode.length;i++)xo(t.producerNode[i],t.producerIndexOfThis[i]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function xo(t,i){if(function ca(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),Ys(t),1===t.liveConsumerNode.length)for(let a=0;a<t.producerNode.length;a++)xo(t.producerNode[a],t.producerIndexOfThis[a]);const s=t.liveConsumerNode.length-1;if(t.liveConsumerNode[i]=t.liveConsumerNode[s],t.liveConsumerIndexOfThis[i]=t.liveConsumerIndexOfThis[s],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,i<t.liveConsumerNode.length){const a=t.liveConsumerIndexOfThis[i],d=t.liveConsumerNode[i];Ys(d),d.producerIndexOfThis[a]=i}}function Ho(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Ys(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let j=null;function kt(t){const i=er(null);try{return t()}finally{er(i)}}const vn=()=>{},kn=(()=>({...Oa,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule(t.ref)},hasRun:!1,cleanupFn:vn}))();class Dr{constructor(i,s,a){this.previousValue=i,this.currentValue=s,this.firstChange=a}isFirstChange(){return this.firstChange}}function Ki(){return Os}function Os(t){return t.type.prototype.ngOnChanges&&(t.setInput=zs),_s}function _s(){const t=io(this),i=t?.current;if(i){const s=t.previous;if(s===Pn)t.previous=i;else for(let a in i)s[a]=i[a];t.current=null,this.ngOnChanges(i)}}function zs(t,i,s,a){const d=this.declaredInputs[s],g=io(t)||function yr(t,i){return t[ho]=i}(t,{previous:Pn,current:null}),I=g.current||(g.current={}),P=g.previous,$=P[d];I[d]=new Dr($&&$.currentValue,i,P===Pn),t[a]=i}Ki.ngInherit=!0;const ho="__ngSimpleChanges__";function io(t){return t[ho]||null}const ro=function(t,i,s){};function Ui(t){for(;Array.isArray(t);)t=t[Pr];return t}function Ta(t,i){return Ui(i[t])}function Wn(t,i){return Ui(i[t.index])}function Ya(t,i){return t.data[i]}function Vn(t,i){return t[i]}function Wt(t,i){const s=i[t];return ks(s)?s:s[Pr]}function Y(t,i){return null==i?null:t[i]}function ye(t){t[Do]=0}function Fe(t){1024&t[Bi]||(t[Bi]|=1024,dt(t,1))}function ct(t){1024&t[Bi]&&(t[Bi]&=-1025,dt(t,-1))}function dt(t,i){let s=t[Mi];if(null===s)return;s[es]+=i;let a=s;for(s=s[Mi];null!==s&&(1===i&&1===a[es]||-1===i&&0===a[es]);)s[es]+=i,a=s,s=s[Mi]}const fn={lFrame:Ts(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Pt(){return fn.bindingsEnabled}function zt(){return null!==fn.skipHydrationRootTNode}function fe(){return fn.lFrame.lView}function nt(){return fn.lFrame.tView}function bt(t){return fn.lFrame.contextLView=t,t[ps]}function Hn(t){return fn.lFrame.contextLView=null,t}function Ln(){let t=xi();for(;null!==t&&64===t.type;)t=t.parent;return t}function xi(){return fn.lFrame.currentTNode}function dr(t,i){const s=fn.lFrame;s.currentTNode=t,s.isParent=i}function ys(){return fn.lFrame.isParent}function $n(){fn.lFrame.isParent=!1}function Rr(){const t=fn.lFrame;let i=t.bindingRootIndex;return-1===i&&(i=t.bindingRootIndex=t.tView.bindingStartIndex),i}function $o(){return fn.lFrame.bindingIndex++}function qi(t){const i=fn.lFrame,s=i.bindingIndex;return i.bindingIndex=i.bindingIndex+t,s}function S(t,i){const s=fn.lFrame;s.bindingIndex=s.bindingRootIndex=t,ae(i)}function ae(t){fn.lFrame.currentDirectiveIndex=t}function Qe(){return fn.lFrame.currentQueryIndex}function en(t){fn.lFrame.currentQueryIndex=t}function Xt(t){const i=t[Rn];return 2===i.type?i.declTNode:1===i.type?t[ws]:null}function zn(t,i,s){if(s&ni.SkipSelf){let d=i,g=t;for(;!(d=d.parent,null!==d||s&ni.Host||(d=Xt(g),null===d||(g=g[Bs],10&d.type))););if(null===d)return!1;i=d,t=g}const a=fn.lFrame=Gs();return a.currentTNode=i,a.lView=t,!0}function Er(t){const i=Gs(),s=t[Rn];fn.lFrame=i,i.currentTNode=s.firstChild,i.lView=t,i.tView=s,i.contextLView=t,i.bindingIndex=s.bindingStartIndex,i.inI18n=!1}function Gs(){const t=fn.lFrame,i=null===t?null:t.child;return null===i?Ts(t):i}function Ts(t){const i={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=i),i}function y(){const t=fn.lFrame;return fn.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const f=y;function c(){const t=y();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function b(){return fn.lFrame.selectedIndex}function C(t){fn.lFrame.selectedIndex=t}function x(){const t=fn.lFrame;return Ya(t.tView,t.selectedIndex)}let We=!0;function gt(){return We}function Tt(t){We=t}function bn(t,i){for(let s=i.directiveStart,a=i.directiveEnd;s<a;s++){const g=t.data[s].type.prototype,{ngAfterContentInit:I,ngAfterContentChecked:P,ngAfterViewInit:$,ngAfterViewChecked:le,ngOnDestroy:De}=g;I&&(t.contentHooks??=[]).push(-s,I),P&&((t.contentHooks??=[]).push(s,P),(t.contentCheckHooks??=[]).push(s,P)),$&&(t.viewHooks??=[]).push(-s,$),le&&((t.viewHooks??=[]).push(s,le),(t.viewCheckHooks??=[]).push(s,le)),null!=De&&(t.destroyHooks??=[]).push(s,De)}}function pn(t,i,s){An(t,i,3,s)}function Un(t,i,s,a){(3&t[Bi])===s&&An(t,i,s,a)}function Xn(t,i){let s=t[Bi];(3&s)===i&&(s&=8191,s+=1,t[Bi]=s)}function An(t,i,s,a){const g=a??-1,I=i.length-1;let P=0;for(let $=void 0!==a?65535&t[Do]:0;$<I;$++)if("number"==typeof i[$+1]){if(P=i[$],null!=a&&P>=a)break}else i[$]<0&&(t[Do]+=65536),(P<g||-1==g)&&(Ai(t,s,i,$),t[Do]=(4294901760&t[Do])+$+2),$++}function Gn(t,i){ro(4,t,i);const s=er(null);try{i.call(t)}finally{er(s),ro(5,t,i)}}function Ai(t,i,s,a){const d=s[a]<0,g=s[a+1],P=t[d?-s[a]:s[a]];d?t[Bi]>>13<t[Do]>>16&&(3&t[Bi])===i&&(t[Bi]+=8192,Gn(P,g)):Gn(P,g)}const ui=-1;class $i{constructor(i,s,a){this.factory=i,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=a}}function fo(t){return t!==ui}function Xr(t){return 32767&t}function ta(t,i){let s=function gc(t){return t>>16}(t),a=i;for(;s>0;)a=a[Bs],s--;return a}let Yo=!0;function cc(t){const i=Yo;return Yo=t,i}const zo=255,_c=5;let tc=0;const po={};function uc(t,i){const s=dc(t,i);if(-1!==s)return s;const a=i[Rn];a.firstCreatePass&&(t.injectorIndex=i.length,el(a.data,t),el(i,null),el(a.blueprint,null));const d=jc(t,i),g=t.injectorIndex;if(fo(d)){const I=Xr(d),P=ta(d,i),$=P[Rn].data;for(let le=0;le<8;le++)i[g+le]=P[I+le]|$[I+le]}return i[g+8]=d,g}function el(t,i){t.push(0,0,0,0,0,0,0,0,i)}function dc(t,i){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===i[t.injectorIndex+8]?-1:t.injectorIndex}function jc(t,i){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let s=0,a=null,d=i;for(;null!==d;){if(a=Fu(d),null===a)return ui;if(s++,d=d[Bs],-1!==a.injectorIndex)return a.injectorIndex|s<<16}return ui}function Qa(t,i,s){!function lc(t,i,s){let a;"string"==typeof s?a=s.charCodeAt(0)||0:s.hasOwnProperty(ds)&&(a=s[ds]),null==a&&(a=s[ds]=tc++);const d=a&zo;i.data[t+(d>>_c)]|=1<<d}(t,i,s)}function Dc(t,i,s){if(s&ni.Optional||void 0!==t)return t;Mt()}function fc(t,i,s,a){if(s&ni.Optional&&void 0===a&&(a=null),!(s&(ni.Self|ni.Host))){const d=t[No],g=fr(void 0);try{return d?d.get(i,a,s&ni.Optional):Br(i,a,s&ni.Optional)}finally{fr(g)}}return Dc(a,0,s)}function Xa(t,i,s,a=ni.Default,d){if(null!==t){if(2048&i[Bi]&&!(a&ni.Self)){const I=function kl(t,i,s,a,d){let g=t,I=i;for(;null!==g&&null!==I&&2048&I[Bi]&&!(512&I[Bi]);){const P=tl(g,I,s,a|ni.Self,po);if(P!==po)return P;let $=g.parent;if(!$){const le=I[Ra];if(le){const De=le.get(s,po,a);if(De!==po)return De}$=Fu(I),I=I[Bs]}g=$}return d}(t,i,s,a,po);if(I!==po)return I}const g=tl(t,i,s,a,po);if(g!==po)return g}return fc(i,s,a,d)}function tl(t,i,s,a,d){const g=function hl(t){if("string"==typeof t)return t.charCodeAt(0)||0;const i=t.hasOwnProperty(ds)?t[ds]:void 0;return"number"==typeof i?i>=0?i&zo:Nu:i}(s);if("function"==typeof g){if(!zn(i,t,a))return a&ni.Host?Dc(d,0,a):fc(i,s,a,d);try{let I;if(I=g(a),null!=I||a&ni.Optional)return I;Mt()}finally{f()}}else if("number"==typeof g){let I=null,P=dc(t,i),$=ui,le=a&ni.Host?i[kr][ws]:null;for((-1===P||a&ni.SkipSelf)&&($=-1===P?jc(t,i):i[P+8],$!==ui&&Tc(a,!1)?(I=i[Rn],P=Xr($),i=ta($,i)):P=-1);-1!==P;){const De=i[Rn];if(yc(g,P,De.data)){const Ye=Pc(P,i,s,I,a,le);if(Ye!==po)return Ye}$=i[P+8],$!==ui&&Tc(a,i[Rn].data[P+8]===le)&&yc(g,P,i)?(I=De,P=Xr($),i=ta($,i)):P=-1}}return d}function Pc(t,i,s,a,d,g){const I=i[Rn],P=I.data[t+8],De=Pl(P,I,s,null==a?gs(P)&&Yo:a!=I&&0!=(3&P.type),d&ni.Host&&g===P);return null!==De?nc(i,I,De,P):po}function Pl(t,i,s,a,d){const g=t.providerIndexes,I=i.data,P=1048575&g,$=t.directiveStart,De=g>>20,St=d?P+De:t.directiveEnd;for(let Gt=a?P:P+De;Gt<St;Gt++){const Dn=I[Gt];if(Gt<$&&s===Dn||Gt>=$&&Dn.type===s)return Gt}if(d){const Gt=I[$];if(Gt&&Ks(Gt)&&Gt.type===s)return $}return null}function nc(t,i,s,a){let d=t[s];const g=i.data;if(function Qr(t){return t instanceof $i}(d)){const I=d;I.resolving&&function Lt(t,i){const s=i?`. Dependency path: ${i.join(" > ")} > ${t}`:"";throw new vt(-200,`Circular dependency in DI detected for ${t}${s}`)}(function At(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Dt(t)}(g[s]));const P=cc(I.canSeeViewProviders);I.resolving=!0;const le=I.injectImpl?fr(I.injectImpl):null;zn(t,a,ni.Default);try{d=t[s]=I.factory(void 0,g,t,a),i.firstCreatePass&&s>=a.directiveStart&&function Zt(t,i,s){const{ngOnChanges:a,ngOnInit:d,ngDoCheck:g}=i.type.prototype;if(a){const I=Os(i);(s.preOrderHooks??=[]).push(t,I),(s.preOrderCheckHooks??=[]).push(t,I)}d&&(s.preOrderHooks??=[]).push(0-t,d),g&&((s.preOrderHooks??=[]).push(t,g),(s.preOrderCheckHooks??=[]).push(t,g))}(s,g[s],i)}finally{null!==le&&fr(le),cc(P),I.resolving=!1,f()}}return d}function yc(t,i,s){return!!(s[i+(t>>_c)]&1<<t)}function Tc(t,i){return!(t&ni.Self||t&ni.Host&&i)}class na{constructor(i,s){this._tNode=i,this._lView=s}get(i,s,a){return Xa(this._tNode,this._lView,i,Qn(a),s)}}function Nu(){return new na(Ln(),fe())}function ic(t){return Ke(()=>{const i=t.prototype.constructor,s=i[jr]||nl(i),a=Object.prototype;let d=Object.getPrototypeOf(t.prototype).constructor;for(;d&&d!==a;){const g=d[jr]||nl(d);if(g&&g!==s)return g;d=Object.getPrototypeOf(d)}return g=>new g})}function nl(t){return Cn(t)?()=>{const i=nl(It(t));return i&&i()}:ao(t)}function Fu(t){const i=t[Rn],s=i.type;return 2===s?i.declTNode:1===s?t[ws]:null}function su(t){return function hc(t,i){if("class"===i)return t.classes;if("style"===i)return t.styles;const s=t.attrs;if(s){const a=s.length;let d=0;for(;d<a;){const g=s[d];if(Co(g))break;if(0===g)d+=2;else if("number"==typeof g)for(d++;d<a&&"string"==typeof s[d];)d++;else{if(g===i)return s[d+1];d+=2}}}return null}(Ln(),t)}const Gc="__parameters__";function $e(t,i,s){return Ke(()=>{const a=function de(t){return function(...s){if(t){const a=t(...s);for(const d in a)this[d]=a[d]}}}(i);function d(...g){if(this instanceof d)return a.apply(this,g),this;const I=new d(...g);return P.annotation=I,P;function P($,le,De){const Ye=$.hasOwnProperty(Gc)?$[Gc]:Object.defineProperty($,Gc,{value:[]})[Gc];for(;Ye.length<=De;)Ye.push(null);return(Ye[De]=Ye[De]||[]).push(I),$}}return s&&(d.prototype=Object.create(s.prototype)),d.prototype.ngMetadataName=t,d.annotationCls=d,d})}function Rl(t,i){t.forEach(s=>Array.isArray(s)?Rl(s,i):i(s))}function lh(t,i,s){i>=t.length?t.push(s):t.splice(i,0,s)}function Nl(t,i){return i>=t.length-1?t.pop():t.splice(i,1)[0]}function fl(t,i){const s=[];for(let a=0;a<t;a++)s.push(i);return s}function La(t,i,s){let a=pc(t,i);return a>=0?t[1|a]=s:(a=~a,function Lu(t,i,s,a){let d=t.length;if(d==i)t.push(s,a);else if(1===d)t.push(a,t[0]),t[0]=s;else{for(d--,t.push(t[d-1],t[d]);d>i;)t[d]=t[d-2],d--;t[i]=s,t[i+1]=a}}(t,a,i,s)),a}function Ac(t,i){const s=pc(t,i);if(s>=0)return t[1|s]}function pc(t,i){return function au(t,i,s){let a=0,d=t.length>>s;for(;d!==a;){const g=a+(d-a>>1),I=t[g<<s];if(i===I)return g<<s;I>i?d=g:a=g+1}return~(d<<s)}(t,i,1)}const Sc=_t($e("Optional"),8),kc=_t($e("SkipSelf"),4);function hh(t){return 128==(128&t.flags)}var fh=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(fh||{});const Dp=/^>|^->|<!--|-->|--!>|<!-$/g,Hu=/(<|>)/g,vl="\u200b$1\u200b";const Cd=new Map;let Tp=0;const co="__ngContext__";function Ja(t,i){ks(i)?(t[co]=i[Fo],function uf(t){Cd.set(t[Fo],t)}(i)):t[co]=i}let qn;function Oi(t,i){return qn(t,i)}function Vr(t){const i=t[Mi];return js(i)?i[Mi]:i}function bl(t){return Dd(t[ra])}function $l(t){return Dd(t[Ws])}function Dd(t){for(;null!==t&&!js(t);)t=t[Ws];return t}function zl(t,i,s,a,d){if(null!=a){let g,I=!1;js(a)?g=a:ks(a)&&(I=!0,a=a[Pr]);const P=Ui(a);0===t&&null!==s?null==d?mf(i,s,P):cl(i,s,P,d||null,!0):1===t&&null!==s?cl(i,s,P,d||null,!0):2===t?function Qc(t,i,s){const a=bh(t,i);a&&function Dg(t,i,s,a){t.removeChild(i,s,a)}(t,a,i,s)}(i,P,I):3===t&&i.destroyNode(P),null!=g&&function qu(t,i,s,a,d){const g=s[us];g!==Ui(s)&&zl(i,t,a,g,d);for(let P=ms;P<s.length;P++){const $=s[P];Ad($[Rn],$,t,i,a,g)}}(i,t,g,s,d)}}function al(t,i){return t.createComment(function lf(t){return t.replace(Dp,i=>i.replace(Hu,vl))}(i))}function hu(t,i,s){return t.createElement(i,s)}function ff(t,i){const s=t[Xs],a=s.indexOf(i);ct(i),s.splice(a,1)}function vh(t,i){if(t.length<=ms)return;const s=ms+i,a=t[s];if(a){const d=a[da];null!==d&&d!==t&&ff(d,a),i>0&&(t[s-1][Ws]=a[Ws]);const g=Nl(t,ms+i);!function _h(t,i){Ad(t,i,i[bi],2,null,null),i[Pr]=null,i[ws]=null}(a[Rn],a);const I=g[Ds];null!==I&&I.detachView(g[Rn]),a[Mi]=null,a[Ws]=null,a[Bi]&=-129}return a}function Ku(t,i){if(!(256&i[Bi])){const s=i[bi];i[Us]&&ba(i[Us]),i[Xo]&&ba(i[Xo]),s.destroyNode&&Ad(t,i,s,3,null,null),function Td(t){let i=t[ra];if(!i)return pf(t[Rn],t);for(;i;){let s=null;if(ks(i))s=i[ra];else{const a=i[ms];a&&(s=a)}if(!s){for(;i&&!i[Ws]&&i!==t;)ks(i)&&pf(i[Rn],i),i=i[Mi];null===i&&(i=t),ks(i)&&pf(i[Rn],i),s=i&&i[Ws]}i=s}}(i)}}function pf(t,i){if(!(256&i[Bi])){i[Bi]&=-129,i[Bi]|=256,function wg(t,i){let s;if(null!=t&&null!=(s=t.destroyHooks))for(let a=0;a<s.length;a+=2){const d=i[s[a]];if(!(d instanceof $i)){const g=s[a+1];if(Array.isArray(g))for(let I=0;I<g.length;I+=2){const P=d[g[I]],$=g[I+1];ro(4,P,$);try{$.call(P)}finally{ro(5,P,$)}}else{ro(4,d,g);try{g.call(d)}finally{ro(5,d,g)}}}}}(t,i),function Eg(t,i){const s=t.cleanup,a=i[ko];if(null!==s)for(let g=0;g<s.length-1;g+=2)if("string"==typeof s[g]){const I=s[g+3];I>=0?a[I]():a[-I].unsubscribe(),g+=2}else s[g].call(a[s[g+1]]);null!==a&&(i[ko]=null);const d=i[Ps];if(null!==d){i[Ps]=null;for(let g=0;g<d.length;g++)(0,d[g])()}}(t,i),1===i[Rn].type&&i[bi].destroy();const s=i[da];if(null!==s&&js(i[Mi])){s!==i[Mi]&&ff(s,i);const a=i[Ds];null!==a&&a.detachView(t)}!function mh(t){Cd.delete(t[Fo])}(i)}}function xp(t,i,s){return function Cg(t,i,s){let a=i;for(;null!==a&&40&a.type;)a=(i=a).parent;if(null===a)return s[Pr];{const{componentOffset:d}=a;if(d>-1){const{encapsulation:g}=t.data[a.directiveStart+d];if(g===Yt.None||g===Yt.Emulated)return null}return Wn(a,s)}}(t,i.parent,s)}function cl(t,i,s,a,d){t.insertBefore(i,s,a,d)}function mf(t,i,s){t.appendChild(i,s)}function Ig(t,i,s,a,d){null!==a?cl(t,i,s,a,d):mf(t,i,s)}function bh(t,i){return t.parentNode(i)}function Ap(t,i,s){return Ag(t,i,s)}let Sp,Sd,Xu,wh,Ag=function xg(t,i,s){return 40&t.type?Wn(t,s):null};function Wl(t,i,s,a){const d=xp(t,a,i),g=i[bi],P=Ap(a.parent||i[ws],a,i);if(null!=d)if(Array.isArray(s))for(let $=0;$<s.length;$++)Ig(g,d,s[$],P,!1);else Ig(g,d,s,P,!1);void 0!==Sp&&Sp(g,a,i,s,d)}function xd(t,i){if(null!==i){const s=i.type;if(3&s)return Wn(i,t);if(4&s)return gf(-1,t[i.index]);if(8&s){const a=i.child;if(null!==a)return xd(t,a);{const d=t[i.index];return js(d)?gf(-1,d):Ui(d)}}if(32&s)return Oi(i,t)()||Ui(t[i.index]);{const a=Sg(t,i);return null!==a?Array.isArray(a)?a[0]:xd(Vr(t[kr]),a):xd(t,i.next)}}return null}function Sg(t,i){return null!==i?t[kr][ws].projection[i.projection]:null}function gf(t,i){const s=ms+t+1;if(s<i.length){const a=i[s],d=a[Rn].firstChild;if(null!==d)return xd(a,d)}return i[us]}function Op(t,i,s,a,d,g,I){for(;null!=s;){const P=a[s.index],$=s.type;if(I&&0===i&&(P&&Ja(Ui(P),a),s.flags|=2),32!=(32&s.flags))if(8&$)Op(t,i,s.child,a,d,g,!1),zl(i,t,d,P,g);else if(32&$){const le=Oi(s,a);let De;for(;De=le();)zl(i,t,d,De,g);zl(i,t,d,P,g)}else 16&$?fu(t,i,a,s,d,g):zl(i,t,d,P,g);s=I?s.projectionNext:s.next}}function Ad(t,i,s,a,d,g){Op(s,a,t.firstChild,i,d,g,!1)}function fu(t,i,s,a,d,g){const I=s[kr],$=I[ws].projection[a.projection];if(Array.isArray($))for(let le=0;le<$.length;le++)zl(i,t,d,$[le],g);else{let le=$;const De=I[Mi];hh(a)&&(le.flags|=128),Op(t,i,le,De,d,g,!0)}}function Pp(t,i,s){""===s?t.removeAttribute(i,"class"):t.setAttribute(i,"class",s)}function yf(t,i,s){const{mergedAttrs:a,classes:d,styles:g}=s;null!==a&&hs(t,i,a),null!==d&&Pp(t,i,d),null!==g&&function Eh(t,i,s){t.setAttribute(i,"style",s)}(t,i,g)}function Qu(t){return function vf(){if(void 0===Sd&&(Sd=null,ii.trustedTypes))try{Sd=ii.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Sd}()?.createHTML(t)||t}function Zu(t){Xu=t}function Od(t){return function kp(){if(void 0===wh&&(wh=null,ii.trustedTypes))try{wh=ii.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return wh}()?.createScriptURL(t)||t}class Nc{constructor(i){this.changingThisBreaksApplicationSecurity=i}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Ci})`}}class pu extends Nc{getTypeName(){return"HTML"}}class kg extends Nc{getTypeName(){return"Style"}}class Py extends Nc{getTypeName(){return"Script"}}class Rg extends Nc{getTypeName(){return"URL"}}class ky extends Nc{getTypeName(){return"ResourceURL"}}function ll(t){return t instanceof Nc?t.changingThisBreaksApplicationSecurity:t}function mu(t,i){const s=function Ng(t){return t instanceof Nc&&t.getTypeName()||null}(t);if(null!=s&&s!==i){if("ResourceURL"===s&&"URL"===i)return!0;throw new Error(`Required a safe ${i}, got a ${s} (see ${Ci})`)}return s===i}function Rp(t){return new pu(t)}function Np(t){return new kg(t)}function Fg(t){return new Py(t)}function Ef(t){return new Rg(t)}function Ry(t){return new ky(t)}class Cf{constructor(i){this.inertDocumentHelper=i}getInertBodyElement(i){i="<body><remove></remove>"+i;try{const s=(new window.DOMParser).parseFromString(Qu(i),"text/html").body;return null===s?this.inertDocumentHelper.getInertBodyElement(i):(s.removeChild(s.firstChild),s)}catch{return null}}}class Ny{constructor(i){this.defaultDoc=i,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(i){const s=this.inertDocument.createElement("template");return s.innerHTML=Qu(i),s}}const Ch=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Ju(t){return(t=String(t)).match(Ch)?t:"unsafe:"+t}function Fc(t){const i={};for(const s of t.split(","))i[s]=!0;return i}function Pd(...t){const i={};for(const s of t)for(const a in s)s.hasOwnProperty(a)&&(i[a]=!0);return i}const Fp=Fc("area,br,col,hr,img,wbr"),ac=Fc("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Lp=Fc("rp,rt"),wl=Pd(Fp,Pd(ac,Fc("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Pd(Lp,Fc("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Pd(Lp,ac)),gu=Fc("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Vg=Pd(gu,Fc("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Fc("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Rd=Fc("script,style,template");class Bg{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(i){let s=i.firstChild,a=!0;for(;s;)if(s.nodeType===Node.ELEMENT_NODE?a=this.startElement(s):s.nodeType===Node.TEXT_NODE?this.chars(s.nodeValue):this.sanitizedSomething=!0,a&&s.firstChild)s=s.firstChild;else for(;s;){s.nodeType===Node.ELEMENT_NODE&&this.endElement(s);let d=this.checkClobberedElement(s,s.nextSibling);if(d){s=d;break}s=this.checkClobberedElement(s,s.parentNode)}return this.buf.join("")}startElement(i){const s=i.nodeName.toLowerCase();if(!wl.hasOwnProperty(s))return this.sanitizedSomething=!0,!Rd.hasOwnProperty(s);this.buf.push("<"),this.buf.push(s);const a=i.attributes;for(let d=0;d<a.length;d++){const g=a.item(d),I=g.name,P=I.toLowerCase();if(!Vg.hasOwnProperty(P)){this.sanitizedSomething=!0;continue}let $=g.value;gu[P]&&($=Ju($)),this.buf.push(" ",I,'="',jg($),'"')}return this.buf.push(">"),!0}endElement(i){const s=i.nodeName.toLowerCase();wl.hasOwnProperty(s)&&!Fp.hasOwnProperty(s)&&(this.buf.push("</"),this.buf.push(s),this.buf.push(">"))}chars(i){this.buf.push(jg(i))}checkClobberedElement(i,s){if(s&&(i.compareDocumentPosition(s)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${i.outerHTML}`);return s}}const _u=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Ug=/([^\#-~ |!])/g;function jg(t){return t.replace(/&/g,"&amp;").replace(_u,function(i){return"&#"+(1024*(i.charCodeAt(0)-55296)+(i.charCodeAt(1)-56320)+65536)+";"}).replace(Ug,function(i){return"&#"+i.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Ih;function Hg(t,i){let s=null;try{Ih=Ih||function wf(t){const i=new Ny(t);return function Lg(){try{return!!(new window.DOMParser).parseFromString(Qu(""),"text/html")}catch{return!1}}()?new Cf(i):i}(t);let a=i?String(i):"";s=Ih.getInertBodyElement(a);let d=5,g=a;do{if(0===d)throw new Error("Failed to sanitize html because the input is unstable");d--,a=g,g=s.innerHTML,s=Ih.getInertBodyElement(a)}while(a!==g);return Qu((new Bg).sanitizeChildren(If(s)||s))}finally{if(s){const a=If(s)||s;for(;a.firstChild;)a.removeChild(a.firstChild)}}}function If(t){return"content"in t&&function Vy(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var Cl=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Cl||{});function Up(t){const i=Th();return i?i.sanitize(Cl.URL,t)||"":mu(t,"URL")?ll(t):Ju(Dt(t))}function zg(t){const i=Th();if(i)return Od(i.sanitize(Cl.RESOURCE_URL,t)||"");if(mu(t,"ResourceURL"))return Od(ll(t));throw new vt(904,!1)}function jp(t,i,s){return function Wg(t,i){return"src"===i&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===i&&("base"===t||"link"===t)?zg:Up}(i,s)(t)}function Th(){const t=fe();return t&&t[So].sanitizer}const xh=new Fn("ENVIRONMENT_INITIALIZER"),Df=new Fn("INJECTOR",-1),Wa=new Fn("INJECTOR_DEF_TYPES");class Hp{get(i,s=Gi){if(s===Gi){const a=new Error(`NullInjectorError: No provider for ${mt(i)}!`);throw a.name="NullInjectorError",a}return s}}function $p(t){return{\u0275providers:t}}function jy(...t){return{\u0275providers:Kg(0,t),\u0275fromNgModule:!0}}function Kg(t,...i){const s=[],a=new Set;let d;const g=I=>{s.push(I)};return Rl(i,I=>{const P=I;xf(P,g,[],a)&&(d||=[],d.push(P))}),void 0!==d&&Tf(d,g),s}function Tf(t,i){for(let s=0;s<t.length;s++){const{ngModule:a,providers:d}=t[s];Nd(d,g=>{i(g,a)})}}function xf(t,i,s,a){if(!(t=It(t)))return!1;let d=null,g=Zi(t);const I=!g&&Li(t);if(g||I){if(I&&!I.standalone)return!1;d=t}else{const $=t.ngModule;if(g=Zi($),!g)return!1;d=$}const P=a.has(d);if(I){if(P)return!1;if(a.add(d),I.dependencies){const $="function"==typeof I.dependencies?I.dependencies():I.dependencies;for(const le of $)xf(le,i,s,a)}}else{if(!g)return!1;{if(null!=g.imports&&!P){let le;a.add(d);try{Rl(g.imports,De=>{xf(De,i,s,a)&&(le||=[],le.push(De))})}finally{}void 0!==le&&Tf(le,i)}if(!P){const le=ao(d)||(()=>new d);i({provide:d,useFactory:le,deps:un},d),i({provide:Wa,useValue:d,multi:!0},d),i({provide:xh,useValue:()=>si(d),multi:!0},d)}const $=g.providers;if(null!=$&&!P){const le=t;Nd($,De=>{i(De,le)})}}}return d!==t&&void 0!==t.providers}function Nd(t,i){for(let s of t)Tn(s)&&(s=s.\u0275providers),Array.isArray(s)?Nd(s,i):i(s)}const Hy=Pe({provide:String,useValue:Pe});function Af(t){return null!==t&&"object"==typeof t&&Hy in t}function ul(t){return"function"==typeof t}const Ah=new Fn("Set Injector scope."),Fd={},qg={};let Gp;function Sh(){return void 0===Gp&&(Gp=new Hp),Gp}class dl{}class yu extends dl{get destroyed(){return this._destroyed}constructor(i,s,a,d){super(),this.parent=s,this.source=a,this.scopes=d,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Ud(i,I=>this.processProvider(I)),this.records.set(Df,Ld(void 0,this)),d.has("environment")&&this.records.set(dl,Ld(void 0,this));const g=this.records.get(Ah);null!=g&&"string"==typeof g.value&&this.scopes.add(g.value),this.injectorDefTypes=new Set(this.get(Wa.multi,un,ni.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const s of this._ngOnDestroyHooks)s.ngOnDestroy();const i=this._onDestroyHooks;this._onDestroyHooks=[];for(const s of i)s()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(i){return this.assertNotDestroyed(),this._onDestroyHooks.push(i),()=>this.removeOnDestroy(i)}runInContext(i){this.assertNotDestroyed();const s=an(this),a=fr(void 0);try{return i()}finally{an(s),fr(a)}}get(i,s=Gi,a=ni.Default){if(this.assertNotDestroyed(),i.hasOwnProperty(ar))return i[ar](this);a=Qn(a);const g=an(this),I=fr(void 0);try{if(!(a&ni.SkipSelf)){let $=this.records.get(i);if(void 0===$){const le=function qp(t){return"function"==typeof t||"object"==typeof t&&t instanceof Fn}(i)&&nr(i);$=le&&this.injectableDefInScope(le)?Ld(Wp(i),Fd):null,this.records.set(i,$)}if(null!=$)return this.hydrate(i,$)}return(a&ni.Self?Sh():this.parent).get(i,s=a&ni.Optional&&s===Gi?null:s)}catch(P){if("NullInjectorError"===P.name){if((P[_r]=P[_r]||[]).unshift(mt(i)),g)throw P;return function it(t,i,s,a){const d=t[_r];throw i[Ee]&&d.unshift(i[Ee]),t.message=function Ze(t,i,s,a=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let d=mt(i);if(Array.isArray(i))d=i.map(mt).join(" -> ");else if("object"==typeof i){let g=[];for(let I in i)if(i.hasOwnProperty(I)){let P=i[I];g.push(I+":"+("string"==typeof P?JSON.stringify(P):mt(P)))}d=`{${g.join(", ")}}`}return`${s}${a?"("+a+")":""}[${d}]: ${t.replace(ve,"\n  ")}`}("\n"+t.message,d,s,a),t.ngTokenPath=d,t[_r]=null,t}(P,i,"R3InjectorError",this.source)}throw P}finally{fr(I),an(g)}}resolveInjectorInitializers(){const i=an(this),s=fr(void 0);try{const d=this.get(xh.multi,un,ni.Self);for(const g of d)g()}finally{an(i),fr(s)}}toString(){const i=[],s=this.records;for(const a of s.keys())i.push(mt(a));return`R3Injector[${i.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new vt(205,!1)}processProvider(i){let s=ul(i=It(i))?i:It(i&&i.provide);const a=function $y(t){return Af(t)?Ld(void 0,t.useValue):Ld(Kp(t),Fd)}(i);if(ul(i)||!0!==i.multi)this.records.get(s);else{let d=this.records.get(s);d||(d=Ld(void 0,Fd,!0),d.factory=()=>ki(d.multi),this.records.set(s,d)),s=i,d.multi.push(i)}this.records.set(s,a)}hydrate(i,s){return s.value===Fd&&(s.value=qg,s.value=s.factory()),"object"==typeof s.value&&s.value&&function Bd(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(s.value)&&this._ngOnDestroyHooks.add(s.value),s.value}injectableDefInScope(i){if(!i.providedIn)return!1;const s=It(i.providedIn);return"string"==typeof s?"any"===s||this.scopes.has(s):this.injectorDefTypes.has(s)}removeOnDestroy(i){const s=this._onDestroyHooks.indexOf(i);-1!==s&&this._onDestroyHooks.splice(s,1)}}function Wp(t){const i=nr(t),s=null!==i?i.factory:ao(t);if(null!==s)return s;if(t instanceof Fn)throw new vt(204,!1);if(t instanceof Function)return function Yg(t){const i=t.length;if(i>0)throw fl(i,"?"),new vt(204,!1);const s=function ir(t){return t&&(t[zi]||t[as])||null}(t);return null!==s?()=>s.factory(t):()=>new t}(t);throw new vt(204,!1)}function Kp(t,i,s){let a;if(ul(t)){const d=It(t);return ao(d)||Wp(d)}if(Af(t))a=()=>It(t.useValue);else if(function Mf(t){return!(!t||!t.useFactory)}(t))a=()=>t.useFactory(...ki(t.deps||[]));else if(function Sf(t){return!(!t||!t.useExisting)}(t))a=()=>si(It(t.useExisting));else{const d=It(t&&(t.useClass||t.provide));if(!function Vd(t){return!!t.deps}(t))return ao(d)||Wp(d);a=()=>new d(...ki(t.deps))}return a}function Ld(t,i,s=!1){return{factory:t,value:i,multi:s?[]:void 0}}function Ud(t,i){for(const s of t)Array.isArray(s)?Ud(s,i):s&&Tn(s)?Ud(s.\u0275providers,i):i(s)}const Yp=new Fn("AppId",{providedIn:"root",factory:()=>Qg}),Qg="ng",Qp=new Fn("Platform Initializer"),Xp=new Fn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),zy=new Fn("AnimationModuleType"),Zp=new Fn("CSP nonce",{providedIn:"root",factory:()=>function Md(){if(void 0!==Xu)return Xu;if(typeof document<"u")return document;throw new vt(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let $d=(t,i,s)=>null;function nm(t,i,s=!1){return $d(t,i,s)}class Lh{}class Ff{}class bu{resolveComponentFactory(i){throw function i_(t){const i=Error(`No component factory found for ${mt(t)}.`);return i.ngComponent=t,i}(i)}}let Vh=(()=>{class t{static{this.NULL=new bu}}return t})();function Yy(){return Eu(Ln(),fe())}function Eu(t,i){return new Bh(Wn(t,i))}let Bh=(()=>{class t{constructor(s){this.nativeElement=s}static{this.__NG_ELEMENT_ID__=Yy}}return t})();function rm(t){return t instanceof Bh?t.nativeElement:t}class s_{}let sm=(()=>{class t{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>function Vf(){const t=fe(),s=Wt(Ln().index,t);return(ks(s)?s:t)[bi]}()}}return t})(),om=(()=>{class t{static{this.\u0275prov=Bn({token:t,providedIn:"root",factory:()=>null})}}return t})();class am{constructor(i){this.full=i,this.major=i.split(".")[0],this.minor=i.split(".")[1],this.patch=i.split(".").slice(2).join(".")}}const sd=new am("16.2.12"),Uh={};function jf(t,i=null,s=null,a){const d=dm(t,i,s,a);return d.resolveInjectorInitializers(),d}function dm(t,i=null,s=null,a,d=new Set){const g=[s||un,jy(t)];return a=a||("object"==typeof t?void 0:mt(t)),new yu(g,i||Sh(),a||null,d)}let Lc=(()=>{class t{static{this.THROW_IF_NOT_FOUND=Gi}static{this.NULL=new Hp}static create(s,a){if(Array.isArray(s))return jf({name:""},a,s,"");{const d=s.name??"";return jf({name:d},s.parent,s.providers,d)}}static{this.\u0275prov=Bn({token:t,providedIn:"any",factory:()=>si(Df)})}static{this.__NG_ELEMENT_ID__=-1}}return t})();function wu(t){return t.ngOriginalError}class wc{constructor(){this._console=console}handleError(i){const s=this._findOriginalError(i);this._console.error("ERROR",i),s&&this._console.error("ORIGINAL ERROR",s)}_findOriginalError(i){let s=i&&wu(i);for(;s&&wu(s);)s=wu(s);return s||null}}function Cu(t){return i=>{setTimeout(t,void 0,i)}}const Il=class c_ extends l.B{constructor(i=!1){super(),this.__isAsync=i}emit(i){super.next(i)}subscribe(i,s,a){let d=i,g=s||(()=>null),I=a;if(i&&"object"==typeof i){const $=i;d=$.next?.bind($),g=$.error?.bind($),I=$.complete?.bind($)}this.__isAsync&&(g=Cu(g),d&&(d=Cu(d)),I&&(I=Cu(I)));const P=super.subscribe({next:d,error:g,complete:I});return i instanceof Le.yU&&i.add(P),P}};function l_(...t){}class Ha{constructor({enableLongStackTrace:i=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:a=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Il(!1),this.onMicrotaskEmpty=new Il(!1),this.onStable=new Il(!1),this.onError=new Il(!1),typeof Zone>"u")throw new vt(908,!1);Zone.assertZonePatched();const d=this;d._nesting=0,d._outer=d._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!a&&s,d.shouldCoalesceRunChangeDetection=a,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function hm(){const t="function"==typeof ii.requestAnimationFrame;let i=ii[t?"requestAnimationFrame":"setTimeout"],s=ii[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&i&&s){const a=i[Zone.__symbol__("OriginalDelegate")];a&&(i=a);const d=s[Zone.__symbol__("OriginalDelegate")];d&&(s=d)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function mm(t){const i=()=>{!function Jy(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(ii,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,jh(t),t.isCheckStableRunning=!0,pm(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),jh(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,a,d,g,I,P)=>{if(function h_(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(P))return s.invokeTask(d,g,I,P);try{return d_(t),s.invokeTask(d,g,I,P)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||t.shouldCoalesceRunChangeDetection)&&i(),gm(t)}},onInvoke:(s,a,d,g,I,P,$)=>{try{return d_(t),s.invoke(d,g,I,P,$)}finally{t.shouldCoalesceRunChangeDetection&&i(),gm(t)}},onHasTask:(s,a,d,g)=>{s.hasTask(d,g),a===d&&("microTask"==g.change?(t._hasPendingMicrotasks=g.microTask,jh(t),pm(t)):"macroTask"==g.change&&(t.hasPendingMacrotasks=g.macroTask))},onHandleError:(s,a,d,g)=>(s.handleError(d,g),t.runOutsideAngular(()=>t.onError.emit(g)),!1)})}(d)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ha.isInAngularZone())throw new vt(909,!1)}static assertNotInAngularZone(){if(Ha.isInAngularZone())throw new vt(909,!1)}run(i,s,a){return this._inner.run(i,s,a)}runTask(i,s,a,d){const g=this._inner,I=g.scheduleEventTask("NgZoneEvent: "+d,i,fm,l_,l_);try{return g.runTask(I,s,a)}finally{g.cancelTask(I)}}runGuarded(i,s,a){return this._inner.runGuarded(i,s,a)}runOutsideAngular(i){return this._outer.run(i)}}const fm={};function pm(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function jh(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function d_(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function gm(t){t._nesting--,pm(t)}class ev{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Il,this.onMicrotaskEmpty=new Il,this.onStable=new Il,this.onError=new Il}run(i,s,a){return i.apply(s,a)}runGuarded(i,s,a){return i.apply(s,a)}runOutsideAngular(i){return i()}runTask(i,s,a,d){return i.apply(s,a)}}const _m=new Fn("",{providedIn:"root",factory:ym});function ym(){const t=Yn(Ha);let i=!0;const s=new ke.c(d=>{i=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{d.next(i),d.complete()})}),a=new ke.c(d=>{let g;t.runOutsideAngular(()=>{g=t.onStable.subscribe(()=>{Ha.assertNotInAngularZone(),queueMicrotask(()=>{!i&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(i=!0,d.next(!0))})})});const I=t.onUnstable.subscribe(()=>{Ha.assertInAngularZone(),i&&(i=!1,t.runOutsideAngular(()=>{d.next(!1)}))});return()=>{g.unsubscribe(),I.unsubscribe()}});return(0,ot.h)(s,a.pipe((0,xe.u)()))}function ql(t){return t instanceof Function?t():t}let Em=(()=>{class t{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static{this.\u0275prov=Bn({token:t,providedIn:"root",factory:()=>new t})}}return t})();function od(t){for(;t;){t[Bi]|=64;const i=Vr(t);if(ts(t)&&!i)return t;t=i}return null}const wm=new Fn("",{providedIn:"root",factory:()=>!1});let qd=null;function b_(t,i){return t[i]??E_()}function Wf(t,i){const s=E_();s.producerNode?.length&&(t[i]=qd,s.lView=t,qd=Kf())}const Yl={...Oa,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{od(t.lView)},lView:null};function Kf(){return Object.create(Yl)}function E_(){return qd??=Kf(),qd}const vs={};function w_(t){C_(nt(),fe(),b()+t,!1)}function C_(t,i,s,a){if(!a)if(3==(3&i[Bi])){const g=t.preOrderCheckHooks;null!==g&&pn(i,g,s)}else{const g=t.preOrderHooks;null!==g&&Un(i,g,0,s)}C(s)}function Du(t,i=ni.Default){const s=fe();return null===s?si(t,i):Xa(Ln(),s,It(t),i)}function I_(){throw new Error("invalid")}function qf(t,i,s,a,d,g,I,P,$,le,De){const Ye=i.blueprint.slice();return Ye[Pr]=d,Ye[Bi]=140|a,(null!==le||t&&2048&t[Bi])&&(Ye[Bi]|=2048),ye(Ye),Ye[Mi]=Ye[Bs]=t,Ye[ps]=s,Ye[So]=I||t&&t[So],Ye[bi]=P||t&&t[bi],Ye[No]=$||t&&t[No]||null,Ye[ws]=g,Ye[Fo]=function $u(){return Tp++}(),Ye[Ss]=De,Ye[Ra]=le,Ye[kr]=2==i.type?t[kr]:Ye,Ye}function Tu(t,i,s,a,d){let g=t.data[i];if(null===g)g=function Tm(t,i,s,a,d){const g=xi(),I=ys(),$=t.data[i]=function Om(t,i,s,a,d,g){let I=i?i.injectorIndex:-1,P=0;return zt()&&(P|=128),{type:s,index:a,insertBeforeIndex:null,injectorIndex:I,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:P,providerIndexes:0,value:d,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:i,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,I?g:g&&g.parent,s,i,a,d);return null===t.firstChild&&(t.firstChild=$),null!==g&&(I?null==g.child&&null!==$.parent&&(g.child=$):null===g.next&&(g.next=$,$.prev=g)),$}(t,i,s,a,d),function k(){return fn.lFrame.inI18n}()&&(g.flags|=32);else if(64&g.type){g.type=s,g.value=a,g.attrs=d;const I=function lr(){const t=fn.lFrame,i=t.currentTNode;return t.isParent?i:i.parent}();g.injectorIndex=null===I?-1:I.injectorIndex}return dr(g,!0),g}function cd(t,i,s,a){if(0===s)return-1;const d=i.length;for(let g=0;g<s;g++)i.push(a),t.blueprint.push(a),t.data.push(null);return d}function xm(t,i,s,a,d){const g=b_(i,Us),I=b(),P=2&a;try{C(-1),P&&i.length>br&&C_(t,i,br,!1),ro(P?2:0,d);const le=P?g:null,De=Ns(le);try{null!==le&&(le.dirty=!1),s(a,d)}finally{va(le,De)}}finally{P&&null===i[Us]&&Wf(i,Us),C(I),ro(P?3:1,d)}}function $h(t,i,s){if(Zo(i)){const a=er(null);try{const g=i.directiveEnd;for(let I=i.directiveStart;I<g;I++){const P=t.data[I];P.contentQueries&&P.contentQueries(1,s[I],I)}}finally{er(a)}}}function Yf(t,i,s){Pt()&&(function x_(t,i,s,a){const d=s.directiveStart,g=s.directiveEnd;gs(s)&&function M_(t,i,s){const a=Wn(i,t),d=D_(s);let I=16;s.signals?I=4096:s.onPush&&(I=64);const P=Kh(t,qf(t,d,null,I,a,i,null,t[So].rendererFactory.createRenderer(a,s),null,null,null));t[i.index]=P}(i,s,t.data[d+s.componentOffset]),t.firstCreatePass||uc(s,i),Ja(a,i);const I=s.initialInputs;for(let P=d;P<g;P++){const $=t.data[P],le=nc(i,t,P,s);Ja(le,i),null!==I&&dv(0,P-d,le,$,0,I),Ks($)&&(Wt(s.index,i)[ps]=nc(i,t,P,s))}}(t,i,s,Wn(s,i)),64==(64&s.flags)&&Jf(t,i,s))}function Am(t,i,s=Wn){const a=i.localNames;if(null!==a){let d=i.index+1;for(let g=0;g<a.length;g+=2){const I=a[g+1],P=-1===I?s(i,t):t[I];t[d++]=P}}}function D_(t){const i=t.tView;return null===i||i.incompleteFirstPass?t.tView=zh(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):i}function zh(t,i,s,a,d,g,I,P,$,le,De){const Ye=br+a,St=Ye+d,Gt=function ov(t,i){const s=[];for(let a=0;a<i;a++)s.push(a<t?null:vs);return s}(Ye,St),Dn="function"==typeof le?le():le;return Gt[Rn]={type:t,blueprint:Gt,template:s,queries:null,viewQuery:P,declTNode:i,data:Gt.slice().fill(null,Ye),bindingStartIndex:Ye,expandoStartIndex:St,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof I?I():I,firstChild:null,schemas:$,consts:Dn,incompleteFirstPass:!1,ssrId:De}}let Qf=t=>null;function Pm(t,i,s,a){for(let d in t)if(t.hasOwnProperty(d)){s=null===s?{}:s;const g=t[d];null===a?ld(s,i,d,g):a.hasOwnProperty(d)&&ld(s,i,a[d],g)}return s}function ld(t,i,s,a){t.hasOwnProperty(s)?t[s].push(i,a):t[s]=[i,a]}function Vc(t,i,s,a,d,g,I,P){const $=Wn(i,s);let De,le=i.inputs;!P&&null!=le&&(De=le[a])?(qh(t,s,De,a,d),gs(i)&&function lv(t,i){const s=Wt(i,t);16&s[Bi]||(s[Bi]|=64)}(s,i.index)):3&i.type&&(a=function Xf(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(a),d=null!=I?I(d,i.value||"",a):d,g.setProperty($,a,d))}function Qd(t,i,s,a){if(Pt()){const d=null===a?null:{"":-1},g=function ep(t,i){const s=t.directiveRegistry;let a=null,d=null;if(s)for(let g=0;g<s.length;g++){const I=s[g];if(dn(i,I.selectors,!1))if(a||(a=[]),Ks(I))if(null!==I.findHostDirectiveDefs){const P=[];d=d||new Map,I.findHostDirectiveDefs(I,P,d),a.unshift(...P,I),Gh(t,i,P.length)}else a.unshift(I),Gh(t,i,0);else d=d||new Map,I.findHostDirectiveDefs?.(I,a,d),a.push(I)}return null===a?null:[a,d]}(t,s);let I,P;null===g?I=P=null:[I,P]=g,null!==I&&Zf(t,i,s,I,d,P),d&&function A_(t,i,s){if(i){const a=t.localNames=[];for(let d=0;d<i.length;d+=2){const g=s[i[d+1]];if(null==g)throw new vt(-301,!1);a.push(i[d],g)}}}(s,a,d)}s.mergedAttrs=Es(s.mergedAttrs,s.attrs)}function Zf(t,i,s,a,d,g){for(let le=0;le<a.length;le++)Qa(uc(s,i),t,a[le].type);!function S_(t,i,s){t.flags|=1,t.directiveStart=i,t.directiveEnd=i+s,t.providerIndexes=i}(s,t.data.length,a.length);for(let le=0;le<a.length;le++){const De=a[le];De.providersResolver&&De.providersResolver(De)}let I=!1,P=!1,$=cd(t,i,a.length,null);for(let le=0;le<a.length;le++){const De=a[le];s.mergedAttrs=Es(s.mergedAttrs,De.hostAttrs),Fm(t,s,i,$,De),tp($,De,d),null!==De.contentQueries&&(s.flags|=4),(null!==De.hostBindings||null!==De.hostAttrs||0!==De.hostVars)&&(s.flags|=64);const Ye=De.type.prototype;!I&&(Ye.ngOnChanges||Ye.ngOnInit||Ye.ngDoCheck)&&((t.preOrderHooks??=[]).push(s.index),I=!0),!P&&(Ye.ngOnChanges||Ye.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(s.index),P=!0),$++}!function T_(t,i,s){const d=i.directiveEnd,g=t.data,I=i.attrs,P=[];let $=null,le=null;for(let De=i.directiveStart;De<d;De++){const Ye=g[De],St=s?s.get(Ye):null,Dn=St?St.outputs:null;$=Pm(Ye.inputs,De,$,St?St.inputs:null),le=Pm(Ye.outputs,De,le,Dn);const Zn=null===$||null===I||mo(i)?null:hv($,De,I);P.push(Zn)}null!==$&&($.hasOwnProperty("class")&&(i.flags|=8),$.hasOwnProperty("style")&&(i.flags|=16)),i.initialInputs=P,i.inputs=$,i.outputs=le}(t,s,g)}function Jf(t,i,s){const a=s.directiveStart,d=s.directiveEnd,g=s.index,I=function G(){return fn.lFrame.currentDirectiveIndex}();try{C(g);for(let P=a;P<d;P++){const $=t.data[P],le=i[P];ae(P),(null!==$.hostBindings||0!==$.hostVars||null!==$.hostAttrs)&&Nm($,le)}}finally{C(-1),ae(I)}}function Nm(t,i){null!==t.hostBindings&&t.hostBindings(1,i)}function Gh(t,i,s){i.componentOffset=s,(t.components??=[]).push(i.index)}function tp(t,i,s){if(s){if(i.exportAs)for(let a=0;a<i.exportAs.length;a++)s[i.exportAs[a]]=t;Ks(i)&&(s[""]=t)}}function Fm(t,i,s,a,d){t.data[a]=d;const g=d.factory||(d.factory=ao(d.type)),I=new $i(g,Ks(d),Du);t.blueprint[a]=I,s[a]=I,function km(t,i,s,a,d){const g=d.hostBindings;if(g){let I=t.hostBindingOpCodes;null===I&&(I=t.hostBindingOpCodes=[]);const P=~i.index;(function Rm(t){let i=t.length;for(;i>0;){const s=t[--i];if("number"==typeof s&&s<0)return s}return 0})(I)!=P&&I.push(P),I.push(s,a,g)}}(t,i,a,cd(t,s,d.hostVars,vs),d)}function Cc(t,i,s,a,d,g){const I=Wn(t,i);!function Wh(t,i,s,a,d,g,I){if(null==g)t.removeAttribute(i,d,s);else{const P=null==I?Dt(g):I(g,a||"",d);t.setAttribute(i,d,P,s)}}(i[bi],I,g,t.value,s,a,d)}function dv(t,i,s,a,d,g){const I=g[i];if(null!==I)for(let P=0;P<I.length;)O_(a,s,I[P++],I[P++],I[P++])}function O_(t,i,s,a,d){const g=er(null);try{const I=t.inputTransforms;null!==I&&I.hasOwnProperty(a)&&(d=I[a].call(i,d)),null!==t.setInput?t.setInput(i,d,s,a):i[a]=d}finally{er(g)}}function hv(t,i,s){let a=null,d=0;for(;d<s.length;){const g=s[d];if(0!==g)if(5!==g){if("number"==typeof g)break;if(t.hasOwnProperty(g)){null===a&&(a=[]);const I=t[g];for(let P=0;P<I.length;P+=2)if(I[P]===i){a.push(g,I[P+1],s[d+1]);break}}d+=2}else d+=2;else d+=4}return a}function Lm(t,i,s,a){return[t,!0,!1,i,null,0,a,s,null,null,null]}function P_(t,i){const s=t.contentQueries;if(null!==s)for(let a=0;a<s.length;a+=2){const g=s[a+1];if(-1!==g){const I=t.data[g];en(s[a]),I.contentQueries(2,i[g],g)}}}function Kh(t,i){return t[ra]?t[lo][Ws]=i:t[ra]=i,t[lo]=i,i}function Vm(t,i,s){en(0);const a=er(null);try{i(t,s)}finally{er(a)}}function k_(t){return t[ko]||(t[ko]=[])}function R_(t){return t.cleanup||(t.cleanup=[])}function Um(t,i){const s=t[No],a=s?s.get(wc,null):null;a&&a.handleError(i)}function qh(t,i,s,a,d){for(let g=0;g<s.length;){const I=s[g++],P=s[g++];O_(t.data[I],i[I],a,P,d)}}function Ql(t,i,s){const a=Ta(i,t);!function du(t,i,s){t.setValue(i,s)}(t[bi],a,s)}function N_(t,i){const s=Wt(i,t),a=s[Rn];!function F_(t,i){for(let s=i.length;s<t.blueprint.length;s++)i.push(t.blueprint[s])}(a,s);const d=s[Pr];null!==d&&null===s[Ss]&&(s[Ss]=nm(d,s[No])),Xd(a,s,s[ps])}function Xd(t,i,s){Er(i);try{const a=t.viewQuery;null!==a&&Vm(1,a,s);const d=t.template;null!==d&&xm(t,i,d,1,s),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&P_(t,i),t.staticViewQueries&&Vm(2,t.viewQuery,s);const g=t.components;null!==g&&function wo(t,i){for(let s=0;s<i.length;s++)N_(t,i[s])}(i,g)}catch(a){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),a}finally{i[Bi]&=-5,c()}}let jm=(()=>{class t{constructor(){this.all=new Set,this.queue=new Map}create(s,a,d){const g=typeof Zone>"u"?null:Zone.current,I=function sn(t,i,s){const a=Object.create(kn);s&&(a.consumerAllowSignalWrites=!0),a.fn=t,a.schedule=i;const d=I=>{a.cleanupFn=I};return a.ref={notify:()=>bo(a),run:()=>{if(a.dirty=!1,a.hasRun&&!uo(a))return;a.hasRun=!0;const I=Ns(a);try{a.cleanupFn(),a.cleanupFn=vn,a.fn(d)}finally{va(a,I)}},cleanup:()=>a.cleanupFn()},a.ref}(s,le=>{this.all.has(le)&&this.queue.set(le,g)},d);let P;this.all.add(I),I.notify();const $=()=>{I.cleanup(),P?.(),this.all.delete(I),this.queue.delete(I)};return P=a?.onDestroy($),{destroy:$}}flush(){if(0!==this.queue.size)for(const[s,a]of this.queue)this.queue.delete(s),a?a.run(()=>s.run()):s.run()}get isQueueEmpty(){return 0===this.queue.size}static{this.\u0275prov=Bn({token:t,providedIn:"root",factory:()=>new t})}}return t})();function xu(t,i,s){let a=s?t.styles:null,d=s?t.classes:null,g=0;if(null!==i)for(let I=0;I<i.length;I++){const P=i[I];"number"==typeof P?g=P:1==g?d=Ft(d,P):2==g&&(a=Ft(a,P+": "+i[++I]+";"))}s?t.styles=a:t.stylesWithoutHost=a,s?t.classes=d:t.classesWithoutHost=d}function Yh(t,i,s,a,d=!1){for(;null!==s;){const g=i[s.index];null!==g&&a.push(Ui(g)),js(g)&&Ba(g,a);const I=s.type;if(8&I)Yh(t,i,s.child,a);else if(32&I){const P=Oi(s,i);let $;for(;$=P();)a.push($)}else if(16&I){const P=Sg(i,s);if(Array.isArray(P))a.push(...P);else{const $=Vr(i[kr]);Yh($[Rn],$,P,a,!0)}}s=d?s.projectionNext:s.next}return a}function Ba(t,i){for(let s=ms;s<t.length;s++){const a=t[s],d=a[Rn].firstChild;null!==d&&Yh(a[Rn],a,d,i)}t[us]!==t[Pr]&&i.push(t[us])}function $a(t,i,s,a=!0){const d=i[So],g=d.rendererFactory,I=d.afterRenderEventManager;g.begin?.(),I?.begin();try{pv(t,i,t.template,s)}catch($){throw a&&Um(i,$),$}finally{g.end?.(),d.effectManager?.flush(),I?.end()}}function pv(t,i,s,a){const d=i[Bi];if(256!=(256&d)){i[So].effectManager?.flush(),Er(i);try{ye(i),function Ht(t){return fn.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==s&&xm(t,i,s,2,a);const I=3==(3&d);if(I){const le=t.preOrderCheckHooks;null!==le&&pn(i,le,null)}else{const le=t.preOrderHooks;null!==le&&Un(i,le,0,null),Xn(i,0)}if(function J0(t){for(let i=bl(t);null!==i;i=$l(i)){if(!i[_o])continue;const s=i[Xs];for(let a=0;a<s.length;a++){Fe(s[a])}}}(i),Hm(i,2),null!==t.contentQueries&&P_(t,i),I){const le=t.contentCheckHooks;null!==le&&pn(i,le)}else{const le=t.contentHooks;null!==le&&Un(i,le,1),Xn(i,1)}!function Dm(t,i){const s=t.hostBindingOpCodes;if(null===s)return;const a=b_(i,Xo);try{for(let d=0;d<s.length;d++){const g=s[d];if(g<0)C(~g);else{const I=g,P=s[++d],$=s[++d];S(P,I),a.dirty=!1;const le=Ns(a);try{$(2,i[I])}finally{va(a,le)}}}}finally{null===i[Xo]&&Wf(i,Xo),C(-1)}}(t,i);const P=t.components;null!==P&&np(i,P,0);const $=t.viewQuery;if(null!==$&&Vm(2,$,a),I){const le=t.viewCheckHooks;null!==le&&pn(i,le)}else{const le=t.viewHooks;null!==le&&Un(i,le,2),Xn(i,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),i[Bi]&=-73,ct(i)}finally{c()}}}function Hm(t,i){for(let s=bl(t);null!==s;s=$l(s))for(let a=ms;a<s.length;a++)B_(s[a],i)}function V_(t,i,s){B_(Wt(i,t),s)}function B_(t,i){if(!function D(t){return 128==(128&t[Bi])}(t))return;const s=t[Rn],a=t[Bi];if(80&a&&0===i||1024&a||2===i)pv(s,t,s.template,t[ps]);else if(t[es]>0){Hm(t,1);const d=s.components;null!==d&&np(t,d,1)}}function np(t,i,s){for(let a=0;a<i.length;a++)V_(t,i[a],s)}class Qh{get rootNodes(){const i=this._lView,s=i[Rn];return Yh(s,i,s.firstChild,[])}constructor(i,s){this._lView=i,this._cdRefInjectingView=s,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[ps]}set context(i){this._lView[ps]=i}get destroyed(){return 256==(256&this._lView[Bi])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const i=this._lView[Mi];if(js(i)){const s=i[8],a=s?s.indexOf(this):-1;a>-1&&(vh(i,a),Nl(s,a))}this._attachedToViewContainer=!1}Ku(this._lView[Rn],this._lView)}onDestroy(i){!function Kt(t,i){if(256==(256&t[Bi]))throw new vt(911,!1);null===t[Ps]&&(t[Ps]=[]),t[Ps].push(i)}(this._lView,i)}markForCheck(){od(this._cdRefInjectingView||this._lView)}detach(){this._lView[Bi]&=-129}reattach(){this._lView[Bi]|=128}detectChanges(){$a(this._lView[Rn],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new vt(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function yh(t,i){Ad(t,i,i[bi],2,null,null)}(this._lView[Rn],this._lView)}attachToAppRef(i){if(this._attachedToViewContainer)throw new vt(902,!1);this._appRef=i}}class eb extends Qh{constructor(i){super(i),this._view=i}detectChanges(){const i=this._view;$a(i[Rn],i,i[ps],!1)}checkNoChanges(){}get context(){return null}}class ga extends Vh{constructor(i){super(),this.ngModule=i}resolveComponentFactory(i){const s=Li(i);return new Zd(s,this.ngModule)}}function mv(t){const i=[];for(let s in t)t.hasOwnProperty(s)&&i.push({propName:t[s],templateName:s});return i}class za{constructor(i,s){this.injector=i,this.parentInjector=s}get(i,s,a){a=Qn(a);const d=this.injector.get(i,Uh,a);return d!==Uh||s===Uh?d:this.parentInjector.get(i,s,a)}}class Zd extends Ff{get inputs(){const i=this.componentDef,s=i.inputTransforms,a=mv(i.inputs);if(null!==s)for(const d of a)s.hasOwnProperty(d.propName)&&(d.transform=s[d.propName]);return a}get outputs(){return mv(this.componentDef.outputs)}constructor(i,s){super(),this.componentDef=i,this.ngModule=s,this.componentType=i.type,this.selector=function Z(t){return t.map(Ge).join(",")}(i.selectors),this.ngContentSelectors=i.ngContentSelectors?i.ngContentSelectors:[],this.isBoundToModule=!!s}create(i,s,a,d){let g=(d=d||this.ngModule)instanceof dl?d:d?.injector;g&&null!==this.componentDef.getStandaloneInjector&&(g=this.componentDef.getStandaloneInjector(g)||g);const I=g?new za(i,g):i,P=I.get(s_,null);if(null===P)throw new vt(407,!1);const Ye={rendererFactory:P,sanitizer:I.get(om,null),effectManager:I.get(jm,null),afterRenderEventManager:I.get(Em,null)},St=P.createRenderer(null,this.componentDef),Gt=this.componentDef.selectors[0][0]||"div",Dn=a?function Sm(t,i,s,a){const g=a.get(wm,!1)||s===Yt.ShadowDom,I=t.selectRootElement(i,g);return function Mm(t){Qf(t)}(I),I}(St,a,this.componentDef.encapsulation,I):hu(St,Gt,function gv(t){const i=t.toLowerCase();return"svg"===i?"svg":"math"===i?"math":null}(Gt)),xr=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let Nn=null;null!==Dn&&(Nn=nm(Dn,I,!0));const Cs=zh(0,null,null,1,0,null,null,null,null,null,null),oo=qf(null,Cs,null,xr,null,null,Ye,St,I,null,Nn);let la,Jc;Er(oo);try{const yd=this.componentDef;let bp,K0=null;yd.findHostDirectiveDefs?(bp=[],K0=new Map,yd.findHostDirectiveDefs(yd,bp,K0),bp.push(yd)):bp=[yd];const WT=function nb(t,i){const s=t[Rn],a=br;return t[a]=i,Tu(s,a,2,"#host",null)}(oo,Dn),KT=function U_(t,i,s,a,d,g,I){const P=d[Rn];!function ib(t,i,s,a){for(const d of t)i.mergedAttrs=Es(i.mergedAttrs,d.hostAttrs);null!==i.mergedAttrs&&(xu(i,i.mergedAttrs,!0),null!==s&&yf(a,s,i))}(a,t,i,I);let $=null;null!==i&&($=nm(i,d[No]));const le=g.rendererFactory.createRenderer(i,s);let De=16;s.signals?De=4096:s.onPush&&(De=64);const Ye=qf(d,D_(s),null,De,d[t.index],t,g,le,null,null,$);return P.firstCreatePass&&Gh(P,t,a.length-1),Kh(d,Ye),d[t.index]=Ye}(WT,Dn,yd,bp,oo,Ye,St);Jc=Ya(Cs,br),Dn&&function sb(t,i,s,a){if(a)hs(t,s,["ng-version",sd.full]);else{const{attrs:d,classes:g}=function Re(t){const i=[],s=[];let a=1,d=2;for(;a<t.length;){let g=t[a];if("string"==typeof g)2===d?""!==g&&i.push(g,t[++a]):8===d&&s.push(g);else{if(!ut(d))break;d=g}a++}return{attrs:i,classes:s}}(i.selectors[0]);d&&hs(t,s,d),g&&g.length>0&&Pp(t,s,g.join(" "))}}(St,yd,Dn,a),void 0!==s&&function ob(t,i,s){const a=t.projection=[];for(let d=0;d<i.length;d++){const g=s[d];a.push(null!=g?Array.from(g):null)}}(Jc,this.ngContentSelectors,s),la=function rb(t,i,s,a,d,g){const I=Ln(),P=d[Rn],$=Wn(I,d);Zf(P,d,I,s,null,a);for(let De=0;De<s.length;De++)Ja(nc(d,P,I.directiveStart+De,I),d);Jf(P,d,I),$&&Ja($,d);const le=nc(d,P,I.directiveStart+I.componentOffset,I);if(t[ps]=d[ps]=le,null!==g)for(const De of g)De(le,i);return $h(P,I,t),le}(KT,yd,bp,K0,oo,[ab]),Xd(Cs,oo,null)}finally{c()}return new tb(this.componentType,la,Eu(Jc,oo),oo,Jc)}}class tb extends Lh{constructor(i,s,a,d,g){super(),this.location=a,this._rootLView=d,this._tNode=g,this.previousInputValues=null,this.instance=s,this.hostView=this.changeDetectorRef=new eb(d),this.componentType=i}setInput(i,s){const a=this._tNode.inputs;let d;if(null!==a&&(d=a[i])){if(this.previousInputValues??=new Map,this.previousInputValues.has(i)&&Object.is(this.previousInputValues.get(i),s))return;const g=this._rootLView;qh(g[Rn],g,d,i,s),this.previousInputValues.set(i,s),od(Wt(this._tNode.index,g))}}get injector(){return new na(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(i){this.hostView.onDestroy(i)}}function ab(){const t=Ln();bn(fe()[Rn],t)}function j_(t){let i=function _v(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),s=!0;const a=[t];for(;i;){let d;if(Ks(t))d=i.\u0275cmp||i.\u0275dir;else{if(i.\u0275cmp)throw new vt(903,!1);d=i.\u0275dir}if(d){if(s){a.push(d);const I=t;I.inputs=Au(t.inputs),I.inputTransforms=Au(t.inputTransforms),I.declaredInputs=Au(t.declaredInputs),I.outputs=Au(t.outputs);const P=d.hostBindings;P&&dd(t,P);const $=d.viewQuery,le=d.contentQueries;if($&&yv(t,$),le&&ud(t,le),He(t.inputs,d.inputs),He(t.declaredInputs,d.declaredInputs),He(t.outputs,d.outputs),null!==d.inputTransforms&&(null===I.inputTransforms&&(I.inputTransforms={}),He(I.inputTransforms,d.inputTransforms)),Ks(d)&&d.data.animation){const De=t.data;De.animation=(De.animation||[]).concat(d.data.animation)}}const g=d.features;if(g)for(let I=0;I<g.length;I++){const P=g[I];P&&P.ngInherit&&P(t),P===j_&&(s=!1)}}i=Object.getPrototypeOf(i)}!function H_(t){let i=0,s=null;for(let a=t.length-1;a>=0;a--){const d=t[a];d.hostVars=i+=d.hostVars,d.hostAttrs=Es(d.hostAttrs,s=Es(s,d.hostAttrs))}}(a)}function Au(t){return t===Pn?{}:t===un?[]:t}function yv(t,i){const s=t.viewQuery;t.viewQuery=s?(a,d)=>{i(a,d),s(a,d)}:i}function ud(t,i){const s=t.contentQueries;t.contentQueries=s?(a,d,g)=>{i(a,d,g),s(a,d,g)}:i}function dd(t,i){const s=t.hostBindings;t.hostBindings=s?(a,d)=>{i(a,d),s(a,d)}:i}function Su(t){const i=t.inputConfig,s={};for(const a in i)if(i.hasOwnProperty(a)){const d=i[a];Array.isArray(d)&&d[2]&&(s[a]=d[2])}t.inputTransforms=s}function Mu(t){return!!qm(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function qm(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Dl(t,i,s){return t[i]=s}function ec(t,i,s){return!Object.is(t[i],s)&&(t[i]=s,!0)}function Ou(t,i,s,a){const d=ec(t,i,s);return ec(t,i+1,a)||d}function ip(t,i,s,a){const d=fe();return ec(d,$o(),i)&&(nt(),Cc(x(),d,t,i,s,a)),ip}function xl(t,i,s,a){return ec(t,$o(),s)?i+Dt(s)+a:vs}function eh(t,i,s,a,d,g){const P=Ou(t,function eo(){return fn.lFrame.bindingIndex}(),s,d);return qi(2),P?i+Dt(s)+a+Dt(d)+g:vs}function Av(t,i,s,a,d,g,I,P){const $=fe(),le=nt(),De=t+br,Ye=le.firstCreatePass?function xv(t,i,s,a,d,g,I,P,$){const le=i.consts,De=Tu(i,t,4,I||null,Y(le,P));Qd(i,s,De,Y(le,$)),bn(i,De);const Ye=De.tView=zh(2,De,a,d,g,i.directiveRegistry,i.pipeRegistry,null,i.schemas,le,null);return null!==i.queries&&(i.queries.template(i,De),Ye.queries=i.queries.embeddedTView(De)),De}(De,le,$,i,s,a,d,g,I):le.data[De];dr(Ye,!1);const St=Sv(le,$,Ye,t);gt()&&Wl(le,$,St,Ye),Ja(St,$),Kh($,$[De]=Lm(St,$,St,Ye)),Ms(Ye)&&Yf(le,$,Ye),null!=I&&Am($,Ye,P)}let Sv=function Mv(t,i,s,a){return Tt(!0),i[bi].createComment("")};function Rv(t){return Vn(function mi(){return fn.lFrame.contextLView}(),br+t)}function X_(t,i,s){const a=fe();return ec(a,$o(),i)&&Vc(nt(),x(),a,t,i,a[bi],s,!1),X_}function gd(t,i,s,a,d){const I=d?"class":"style";qh(t,s,i.inputs[I],I,a)}function eg(t,i,s,a){const d=fe(),g=nt(),I=br+t,P=d[bi],$=g.firstCreatePass?function Jm(t,i,s,a,d,g){const I=i.consts,$=Tu(i,t,2,a,Y(I,d));return Qd(i,s,$,Y(I,g)),null!==$.attrs&&xu($,$.attrs,!1),null!==$.mergedAttrs&&xu($,$.mergedAttrs,!0),null!==i.queries&&i.queries.elementStart(i,$),$}(I,g,d,i,s,a):g.data[I],le=Z_(g,d,$,P,i,t);d[I]=le;const De=Ms($);return dr($,!0),yf(P,le,$),32!=(32&$.flags)&&gt()&&Wl(g,d,le,$),0===function V(){return fn.lFrame.elementDepthCount}()&&Ja(le,d),function J(){fn.lFrame.elementDepthCount++}(),De&&(Yf(g,d,$),$h(g,$,d)),null!==a&&Am(d,$),eg}function lp(){let t=Ln();ys()?$n():(t=t.parent,dr(t,!1));const i=t;(function li(t){return fn.skipHydrationRootTNode===t})(i)&&function wn(){fn.skipHydrationRootTNode=null}(),function je(){fn.lFrame.elementDepthCount--}();const s=nt();return s.firstCreatePass&&(bn(s,t),Zo(t)&&s.queries.elementEnd(t)),null!=i.classesWithoutHost&&function pa(t){return 0!=(8&t.flags)}(i)&&gd(s,i,fe(),i.classesWithoutHost,!0),null!=i.stylesWithoutHost&&function so(t){return 0!=(16&t.flags)}(i)&&gd(s,i,fe(),i.stylesWithoutHost,!1),lp}function tg(t,i,s,a){return eg(t,i,s,a),lp(),tg}let Z_=(t,i,s,a,d,g)=>(Tt(!0),hu(a,d,function Be(){return fn.lFrame.currentNamespace}()));function ng(t,i,s){const a=fe(),d=nt(),g=t+br,I=d.firstCreatePass?function vb(t,i,s,a,d){const g=i.consts,I=Y(g,a),P=Tu(i,t,8,"ng-container",I);return null!==I&&xu(P,I,!0),Qd(i,s,P,Y(g,d)),null!==i.queries&&i.queries.elementStart(i,P),P}(g,d,a,i,s):d.data[g];dr(I,!0);const P=ey(d,a,I,t);return a[g]=P,gt()&&Wl(d,a,P,I),Ja(P,a),Ms(I)&&(Yf(d,a,I),$h(d,I,a)),null!=s&&Am(a,I),ng}function ig(){let t=Ln();const i=nt();return ys()?$n():(t=t.parent,dr(t,!1)),i.firstCreatePass&&(bn(i,t),Zo(t)&&i.queries.elementEnd(t)),ig}function J_(t,i,s){return ng(t,i,s),ig(),J_}let ey=(t,i,s,a)=>(Tt(!0),al(i[bi],""));function Bv(){return fe()}function rg(t){return!!t&&"function"==typeof t.then}function ty(t){return!!t&&"function"==typeof t.subscribe}function Sl(t,i,s,a){const d=fe(),g=nt(),I=Ln();return function Uv(t,i,s,a,d,g,I){const P=Ms(a),le=t.firstCreatePass&&R_(t),De=i[ps],Ye=k_(i);let St=!0;if(3&a.type||I){const Zn=Wn(a,i),Ri=I?I(Zn):Zn,xr=Ye.length,Nn=I?oo=>I(Ui(oo[a.index])):a.index;let Cs=null;if(!I&&P&&(Cs=function bb(t,i,s,a){const d=t.cleanup;if(null!=d)for(let g=0;g<d.length-1;g+=2){const I=d[g];if(I===s&&d[g+1]===a){const P=i[ko],$=d[g+2];return P.length>$?P[$]:null}"string"==typeof I&&(g+=2)}return null}(t,i,d,a.index)),null!==Cs)(Cs.__ngLastListenerFn__||Cs).__ngNextListenerFn__=g,Cs.__ngLastListenerFn__=g,St=!1;else{g=Hv(a,i,De,g,!1);const oo=s.listen(Ri,d,g);Ye.push(g,oo),le&&le.push(d,Nn,xr,xr+1)}}else g=Hv(a,i,De,g,!1);const Gt=a.outputs;let Dn;if(St&&null!==Gt&&(Dn=Gt[d])){const Zn=Dn.length;if(Zn)for(let Ri=0;Ri<Zn;Ri+=2){const la=i[Dn[Ri]][Dn[Ri+1]].subscribe(g),Jc=Ye.length;Ye.push(g,la),le&&le.push(d,a.index,Jc,-(Jc+1))}}}(g,d,d[bi],I,t,i,a),Sl}function jv(t,i,s,a){try{return ro(6,i,s),!1!==s(a)}catch(d){return Um(t,d),!1}finally{ro(7,i,s)}}function Hv(t,i,s,a,d){return function g(I){if(I===Function)return a;od(t.componentOffset>-1?Wt(t.index,i):i);let $=jv(i,s,a,I),le=g.__ngNextListenerFn__;for(;le;)$=jv(i,s,le,I)&&$,le=le.__ngNextListenerFn__;return d&&!1===$&&I.preventDefault(),$}}function $v(t=1){return function h(t){return(fn.lFrame.contextLView=function m(t,i){for(;t>0;)i=i[Bs],t--;return i}(t,fn.lFrame.contextLView))[ps]}(t)}function Eb(t,i){let s=null;const a=function Sn(t){const i=t.attrs;if(null!=i){const s=i.indexOf(5);if(!(1&s))return i[s+1]}return null}(t);for(let d=0;d<i.length;d++){const g=i[d];if("*"!==g){if(null===a?dn(t,g,!0):pr(a,g))return d}else s=d}return s}function zv(t){const i=fe()[kr][ws];if(!i.projection){const a=i.projection=fl(t?t.length:1,null),d=a.slice();let g=i.child;for(;null!==g;){const I=t?Eb(g,t):0;null!==I&&(d[I]?d[I].projectionNext=g:a[I]=g,d[I]=g),g=g.next}}}function Gv(t,i=0,s){const a=fe(),d=nt(),g=Tu(d,br+t,16,null,s||null);null===g.projection&&(g.projection=i),$n(),(!a[Ss]||zt())&&32!=(32&g.flags)&&function _f(t,i,s){fu(i[bi],0,i,s,xp(t,s,i),Ap(s.parent||i[ws],s,i))}(d,a,g)}function up(t,i,s){return oh(t,"",i,"",s),up}function oh(t,i,s,a,d){const g=fe(),I=xl(g,i,s,a);return I!==vs&&Vc(nt(),x(),g,t,I,g[bi],d,!1),oh}function hp(t,i){return t<<17|i<<2}function Ru(t){return t>>17&32767}function cy(t){return 2|t}function ah(t){return(131068&t)>>2}function ly(t,i){return-131069&t|i<<2}function uy(t){return 1|t}function qv(t,i,s,a,d){const g=t[s+1],I=null===i;let P=a?Ru(g):ah(g),$=!1;for(;0!==P&&(!1===$||I);){const De=t[P+1];Tb(t[P],i)&&($=!0,t[P+1]=a?uy(De):cy(De)),P=a?Ru(De):ah(De)}$&&(t[s+1]=a?cy(g):uy(g))}function Tb(t,i){return null===t||null==i||(Array.isArray(t)?t[1]:t)===i||!(!Array.isArray(t)||"string"!=typeof i)&&pc(t,i)>=0}function og(t,i){return function Ml(t,i,s,a){const d=fe(),g=nt(),I=qi(2);g.firstUpdatePass&&function s0(t,i,s,a){const d=t.data;if(null===d[s+1]){const g=d[b()],I=function r0(t,i){return i>=t.expandoStartIndex}(t,s);(function l0(t,i){return 0!=(t.flags&(i?8:16))})(g,a)&&null===i&&!I&&(i=!1),i=function kb(t,i,s,a){const d=function Te(t){const i=fn.lFrame.currentDirectiveIndex;return-1===i?null:t[i]}(t);let g=a?i.residualClasses:i.residualStyles;if(null===d)0===(a?i.classBindings:i.styleBindings)&&(s=fp(s=ag(null,t,i,s,a),i.attrs,a),g=null);else{const I=i.directiveStylingLast;if(-1===I||t[I]!==d)if(s=ag(d,t,i,s,a),null===g){let $=function Rb(t,i,s){const a=s?i.classBindings:i.styleBindings;if(0!==ah(a))return t[Ru(a)]}(t,i,a);void 0!==$&&Array.isArray($)&&($=ag(null,t,i,$[1],a),$=fp($,i.attrs,a),function Nb(t,i,s,a){t[Ru(s?i.classBindings:i.styleBindings)]=a}(t,i,a,$))}else g=function Fb(t,i,s){let a;const d=i.directiveEnd;for(let g=1+i.directiveStylingLast;g<d;g++)a=fp(a,t[g].hostAttrs,s);return fp(a,i.attrs,s)}(t,i,a)}return void 0!==g&&(a?i.residualClasses=g:i.residualStyles=g),s}(d,g,i,a),function Kv(t,i,s,a,d,g){let I=g?i.classBindings:i.styleBindings,P=Ru(I),$=ah(I);t[a]=s;let De,le=!1;if(Array.isArray(s)?(De=s[1],(null===De||pc(s,De)>0)&&(le=!0)):De=s,d)if(0!==$){const St=Ru(t[P+1]);t[a+1]=hp(St,P),0!==St&&(t[St+1]=ly(t[St+1],a)),t[P+1]=function Cb(t,i){return 131071&t|i<<17}(t[P+1],a)}else t[a+1]=hp(P,0),0!==P&&(t[P+1]=ly(t[P+1],a)),P=a;else t[a+1]=hp($,0),0===P?P=a:t[$+1]=ly(t[$+1],a),$=a;le&&(t[a+1]=cy(t[a+1])),qv(t,De,a,!0),qv(t,De,a,!1),function Db(t,i,s,a,d){const g=d?t.residualClasses:t.residualStyles;null!=g&&"string"==typeof i&&pc(g,i)>=0&&(s[a+1]=uy(s[a+1]))}(i,De,t,a,g),I=hp(P,$),g?i.classBindings=I:i.styleBindings=I}(d,g,i,s,I,a)}}(g,t,I,a),i!==vs&&ec(d,I,i)&&function a0(t,i,s,a,d,g,I,P){if(!(3&i.type))return;const $=t.data,le=$[P+1],De=function Ib(t){return 1==(1&t)}(le)?c0($,i,s,d,ah(le),I):void 0;cg(De)||(cg(g)||function wb(t){return 2==(2&t)}(le)&&(g=c0($,null,s,d,P,I)),function Yu(t,i,s,a,d){if(i)d?t.addClass(s,a):t.removeClass(s,a);else{let g=-1===a.indexOf("-")?void 0:fh.DashCase;null==d?t.removeStyle(s,a,g):("string"==typeof d&&d.endsWith("!important")&&(d=d.slice(0,-10),g|=fh.Important),t.setStyle(s,a,d,g))}}(a,I,Ta(b(),s),d,g))}(g,g.data[b()],d,d[bi],t,d[I+1]=function Ub(t,i){return null==t||""===t||("string"==typeof i?t+=i:"object"==typeof t&&(t=mt(ll(t)))),t}(i,s),a,I)}(t,i,null,!0),og}function ag(t,i,s,a,d){let g=null;const I=s.directiveEnd;let P=s.directiveStylingLast;for(-1===P?P=s.directiveStart:P++;P<I&&(g=i[P],a=fp(a,g.hostAttrs,d),g!==t);)P++;return null!==t&&(s.directiveStylingLast=P),a}function fp(t,i,s){const a=s?1:2;let d=-1;if(null!==i)for(let g=0;g<i.length;g++){const I=i[g];"number"==typeof I?d=I:d===a&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),La(t,I,!!s||i[++g]))}return void 0===t?null:t}function c0(t,i,s,a,d,g){const I=null===i;let P;for(;d>0;){const $=t[d],le=Array.isArray($),De=le?$[1]:$,Ye=null===De;let St=s[d+1];St===vs&&(St=Ye?un:void 0);let Gt=Ye?Ac(St,a):De===a?St:void 0;if(le&&!cg(Gt)&&(Gt=Ac($,a)),cg(Gt)&&(P=Gt,I))return P;const Dn=t[d+1];d=I?Ru(Dn):ah(Dn)}if(null!==i){let $=g?i.residualClasses:i.residualStyles;null!=$&&(P=Ac($,a))}return P}function cg(t){return void 0!==t}function hy(t,i=""){const s=fe(),a=nt(),d=t+br,g=a.firstCreatePass?Tu(a,d,1,i,null):a.data[d],I=u0(a,s,g,i,t);s[d]=I,gt()&&Wl(a,s,I,g),dr(g,!1)}let u0=(t,i,s,a,d)=>(Tt(!0),function Gu(t,i){return t.createText(i)}(i[bi],a));function r(t){return e("",t,""),r}function e(t,i,s){const a=fe(),d=xl(a,t,i,s);return d!==vs&&Ql(a,b(),d),e}function n(t,i,s,a,d){const g=fe(),I=eh(g,t,i,s,a,d);return I!==vs&&Ql(g,b(),I),n}const nf=void 0;var IC=["en",[["a","p"],["AM","PM"],nf],[["AM","PM"],nf,nf],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],nf,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],nf,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",nf,"{1} 'at' {0}",nf],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function CC(t){const s=Math.floor(Math.abs(t)),a=t.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===a?1:5}];let pp={};function h0(t){const i=function DC(t){return t.toLowerCase().replace(/_/g,"-")}(t);let s=eE(i);if(s)return s;const a=i.split("-")[0];if(s=eE(a),s)return s;if("en"===a)return IC;throw new vt(701,!1)}function Jb(t){return h0(t)[mp.PluralCase]}function eE(t){return t in pp||(pp[t]=ii.ng&&ii.ng.common&&ii.ng.common.locales&&ii.ng.common.locales[t]),pp[t]}var mp=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(mp||{});const gp="en-US";let tE=gp;function m0(t,i,s,a,d){if(t=It(t),Array.isArray(t))for(let g=0;g<t.length;g++)m0(t[g],i,s,a,d);else{const g=nt(),I=fe(),P=Ln();let $=ul(t)?t:It(t.provide);const le=Kp(t),De=1048575&P.providerIndexes,Ye=P.directiveStart,St=P.providerIndexes>>20;if(ul(t)||!t.multi){const Gt=new $i(le,d,Du),Dn=_0($,i,d?De:De+St,Ye);-1===Dn?(Qa(uc(P,I),g,$),g0(g,t,i.length),i.push($),P.directiveStart++,P.directiveEnd++,d&&(P.providerIndexes+=1048576),s.push(Gt),I.push(Gt)):(s[Dn]=Gt,I[Dn]=Gt)}else{const Gt=_0($,i,De+St,Ye),Dn=_0($,i,De,De+St),Ri=Dn>=0&&s[Dn];if(d&&!Ri||!d&&!(Gt>=0&&s[Gt])){Qa(uc(P,I),g,$);const xr=function CI(t,i,s,a,d){const g=new $i(t,s,Du);return g.multi=[],g.index=i,g.componentProviders=0,TE(g,d,a&&!s),g}(d?wI:EI,s.length,d,a,le);!d&&Ri&&(s[Dn].providerFactory=xr),g0(g,t,i.length,0),i.push($),P.directiveStart++,P.directiveEnd++,d&&(P.providerIndexes+=1048576),s.push(xr),I.push(xr)}else g0(g,t,Gt>-1?Gt:Dn,TE(s[d?Dn:Gt],le,!d&&a));!d&&a&&Ri&&s[Dn].componentProviders++}}}function g0(t,i,s,a){const d=ul(i),g=function Of(t){return!!t.useClass}(i);if(d||g){const $=(g?It(i.useClass):i).prototype.ngOnDestroy;if($){const le=t.destroyHooks||(t.destroyHooks=[]);if(!d&&i.multi){const De=le.indexOf(s);-1===De?le.push(s,[a,$]):le[De+1].push(a,$)}else le.push(s,$)}}}function TE(t,i,s){return s&&t.componentProviders++,t.multi.push(i)-1}function _0(t,i,s,a){for(let d=s;d<a;d++)if(i[d]===t)return d;return-1}function EI(t,i,s,a){return y0(this.multi,[])}function wI(t,i,s,a){const d=this.multi;let g;if(this.providerFactory){const I=this.providerFactory.componentProviders,P=nc(s,s[Rn],this.providerFactory.index,a);g=P.slice(0,I),y0(d,g);for(let $=I;$<P.length;$++)g.push(P[$])}else g=[],y0(d,g);return g}function y0(t,i){for(let s=0;s<t.length;s++)i.push((0,t[s])());return i}function xE(t,i=[]){return s=>{s.providersResolver=(a,d)=>function bI(t,i,s){const a=nt();if(a.firstCreatePass){const d=Ks(t);m0(s,a.data,a.blueprint,d,!0),m0(i,a.data,a.blueprint,d,!1)}}(a,d?d(t):t,i)}}class rf{}class AE{}function II(t,i){return new v0(t,i??null,[])}class v0 extends rf{constructor(i,s,a){super(),this._parent=s,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new ga(this);const d=As(i);this._bootstrapComponents=ql(d.bootstrap),this._r3Injector=dm(i,s,[{provide:rf,useValue:this},{provide:Vh,useValue:this.componentFactoryResolver},...a],mt(i),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(i)}get injector(){return this._r3Injector}destroy(){const i=this._r3Injector;!i.destroyed&&i.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(i){this.destroyCbs.push(i)}}class b0 extends AE{constructor(i){super(),this.moduleType=i}create(i){return new v0(this.moduleType,i,[])}}class SE extends rf{constructor(i){super(),this.componentFactoryResolver=new ga(this),this.instance=null;const s=new yu([...i.providers,{provide:rf,useValue:this},{provide:Vh,useValue:this.componentFactoryResolver}],i.parent||Sh(),i.debugName,new Set(["environment"]));this.injector=s,i.runEnvironmentInitializers&&s.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(i){this.injector.onDestroy(i)}}function ME(t,i,s=null){return new SE({providers:t,parent:i,debugName:s,runEnvironmentInitializers:!0}).injector}let TI=(()=>{class t{constructor(s){this._injector=s,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(s){if(!s.standalone)return null;if(!this.cachedInjectors.has(s)){const a=Kg(0,s.type),d=a.length>0?ME([a],this._injector,`Standalone[${s.type.name}]`):null;this.cachedInjectors.set(s,d)}return this.cachedInjectors.get(s)}ngOnDestroy(){try{for(const s of this.cachedInjectors.values())null!==s&&s.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=Bn({token:t,providedIn:"environment",factory:()=>new t(si(dl))})}}return t})();function OE(t){t.getStandaloneInjector=i=>i.get(TI).getOrCreateStandaloneInjector(t)}function VE(t,i,s,a){return HE(fe(),Rr(),t,i,s,a)}function BE(t,i,s,a,d){return $E(fe(),Rr(),t,i,s,a,d)}function UE(t,i,s,a,d,g){return function zE(t,i,s,a,d,g,I,P){const $=i+s;return function Tl(t,i,s,a,d){const g=Ou(t,i,s,a);return ec(t,i+2,d)||g}(t,$,d,g,I)?Dl(t,$+3,P?a.call(P,d,g,I):a(d,g,I)):pg(t,$+3)}(fe(),Rr(),t,i,s,a,d,g)}function jE(t,i,s,a,d,g,I){return function GE(t,i,s,a,d,g,I,P,$){const le=i+s;return function Bc(t,i,s,a,d,g){const I=Ou(t,i,s,a);return Ou(t,i+2,d,g)||I}(t,le,d,g,I,P)?Dl(t,le+4,$?a.call($,d,g,I,P):a(d,g,I,P)):pg(t,le+4)}(fe(),Rr(),t,i,s,a,d,g,I)}function pg(t,i){const s=t[i];return s===vs?void 0:s}function HE(t,i,s,a,d,g){const I=i+s;return ec(t,I,d)?Dl(t,I+1,g?a.call(g,d):a(d)):pg(t,I+1)}function $E(t,i,s,a,d,g,I){const P=i+s;return Ou(t,P,d,g)?Dl(t,P+2,I?a.call(I,d,g):a(d,g)):pg(t,P+2)}function KE(t,i){const s=nt();let a;const d=t+br;s.firstCreatePass?(a=function jI(t,i){if(i)for(let s=i.length-1;s>=0;s--){const a=i[s];if(t===a.name)return a}}(i,s.pipeRegistry),s.data[d]=a,a.onDestroy&&(s.destroyHooks??=[]).push(d,a.onDestroy)):a=s.data[d];const g=a.factory||(a.factory=ao(a.type)),P=fr(Du);try{const $=cc(!1),le=g();return cc($),function kv(t,i,s,a){s>=t.data.length&&(t.data[s]=null,t.blueprint[s]=null),i[s]=a}(s,fe(),d,le),le}finally{fr(P)}}function qE(t,i,s){const a=t+br,d=fe(),g=Vn(d,a);return mg(d,a)?HE(d,Rr(),i,g.transform,s,g):g.transform(s)}function YE(t,i,s,a){const d=t+br,g=fe(),I=Vn(g,d);return mg(g,d)?$E(g,Rr(),i,I.transform,s,a,I):I.transform(s,a)}function mg(t,i){return t[Rn].data[i].pure}function GI(){return this._results[Symbol.iterator]()}class yy{get changes(){return this._changes||(this._changes=new Il)}constructor(i=!1){this._emitDistinctChangesOnly=i,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const s=yy.prototype;s[Symbol.iterator]||(s[Symbol.iterator]=GI)}get(i){return this._results[i]}map(i){return this._results.map(i)}filter(i){return this._results.filter(i)}find(i){return this._results.find(i)}reduce(i,s){return this._results.reduce(i,s)}forEach(i){this._results.forEach(i)}some(i){return this._results.some(i)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(i,s){const a=this;a.dirty=!1;const d=function ja(t){return t.flat(Number.POSITIVE_INFINITY)}(i);(this._changesDetected=!function xc(t,i,s){if(t.length!==i.length)return!1;for(let a=0;a<t.length;a++){let d=t[a],g=i[a];if(s&&(d=s(d),g=s(g)),g!==d)return!1}return!0}(a._results,d,s))&&(a._results=d,a.length=d.length,a.last=d[this.length-1],a.first=d[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function KI(t,i,s,a=!0){const d=i[Rn];if(function Wu(t,i,s,a){const d=ms+a,g=s.length;a>0&&(s[d-1][Ws]=i),a<g-ms?(i[Ws]=s[d],lh(s,ms+a,i)):(s.push(i),i[Ws]=null),i[Mi]=s;const I=i[da];null!==I&&s!==I&&function El(t,i){const s=t[Xs];i[kr]!==i[Mi][Mi][kr]&&(t[_o]=!0),null===s?t[Xs]=[i]:s.push(i)}(I,i);const P=i[Ds];null!==P&&P.insertView(t),i[Bi]|=128}(d,i,t,s),a){const g=gf(s,t),I=i[bi],P=bh(I,t[us]);null!==P&&function Ma(t,i,s,a,d,g){a[Pr]=d,a[ws]=i,Ad(t,a,s,1,d,g)}(d,t[ws],I,i,P,g)}}let gg=(()=>{class t{static{this.__NG_ELEMENT_ID__=QI}}return t})();const qI=gg,YI=class extends qI{constructor(i,s,a){super(),this._declarationLView=i,this._declarationTContainer=s,this.elementRef=a}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(i,s){return this.createEmbeddedViewImpl(i,s)}createEmbeddedViewImpl(i,s,a){const d=function WI(t,i,s,a){const d=i.tView,P=qf(t,d,s,4096&t[Bi]?4096:16,null,i,null,null,null,a?.injector??null,a?.hydrationInfo??null);P[da]=t[i.index];const le=t[Ds];return null!==le&&(P[Ds]=le.createEmbeddedView(d)),Xd(d,P,s),P}(this._declarationLView,this._declarationTContainer,i,{injector:s,hydrationInfo:a});return new Qh(d)}};function QI(){return vy(Ln(),fe())}function vy(t,i){return 4&t.type?new YI(i,t,Eu(t,i)):null}let Ey=(()=>{class t{static{this.__NG_ELEMENT_ID__=nD}}return t})();function nD(){return nw(Ln(),fe())}const iD=Ey,ew=class extends iD{constructor(i,s,a){super(),this._lContainer=i,this._hostTNode=s,this._hostLView=a}get element(){return Eu(this._hostTNode,this._hostLView)}get injector(){return new na(this._hostTNode,this._hostLView)}get parentInjector(){const i=jc(this._hostTNode,this._hostLView);if(fo(i)){const s=ta(i,this._hostLView),a=Xr(i);return new na(s[Rn].data[a+8],s)}return new na(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(i){const s=tw(this._lContainer);return null!==s&&s[i]||null}get length(){return this._lContainer.length-ms}createEmbeddedView(i,s,a){let d,g;"number"==typeof a?d=a:null!=a&&(d=a.index,g=a.injector);const P=i.createEmbeddedViewImpl(s||{},g,null);return this.insertImpl(P,d,false),P}createComponent(i,s,a,d,g){const I=i&&!function ka(t){return"function"==typeof t}(i);let P;if(I)P=s;else{const Zn=s||{};P=Zn.index,a=Zn.injector,d=Zn.projectableNodes,g=Zn.environmentInjector||Zn.ngModuleRef}const $=I?i:new Zd(Li(i)),le=a||this.parentInjector;if(!g&&null==$.ngModule){const Ri=(I?le:this.parentInjector).get(dl,null);Ri&&(g=Ri)}Li($.componentType??{});const Gt=$.create(le,d,null,g);return this.insertImpl(Gt.hostView,P,false),Gt}insert(i,s){return this.insertImpl(i,s,!1)}insertImpl(i,s,a){const d=i._lView;if(function M(t){return js(t[Mi])}(d)){const $=this.indexOf(i);if(-1!==$)this.detach($);else{const le=d[Mi],De=new ew(le,le[ws],le[Mi]);De.detach(De.indexOf(i))}}const I=this._adjustIndex(s),P=this._lContainer;return KI(P,d,I,!a),i.attachToViewContainerRef(),lh(w0(P),I,i),i}move(i,s){return this.insert(i,s)}indexOf(i){const s=tw(this._lContainer);return null!==s?s.indexOf(i):-1}remove(i){const s=this._adjustIndex(i,-1),a=vh(this._lContainer,s);a&&(Nl(w0(this._lContainer),s),Ku(a[Rn],a))}detach(i){const s=this._adjustIndex(i,-1),a=vh(this._lContainer,s);return a&&null!=Nl(w0(this._lContainer),s)?new Qh(a):null}_adjustIndex(i,s=0){return i??this.length+s}};function tw(t){return t[8]}function w0(t){return t[8]||(t[8]=[])}function nw(t,i){let s;const a=i[t.index];return js(a)?s=a:(s=Lm(a,i,null,t),i[t.index]=s,Kh(i,s)),iw(s,i,t,a),new ew(s,t,i)}let iw=function rw(t,i,s,a){if(t[us])return;let d;d=8&s.type?Ui(a):function rD(t,i){const s=t[bi],a=s.createComment(""),d=Wn(i,t);return cl(s,bh(s,d),a,function Sy(t,i){return t.nextSibling(i)}(s,d),!1),a}(i,s),t[us]=d};class C0{constructor(i){this.queryList=i,this.matches=null}clone(){return new C0(this.queryList)}setDirty(){this.queryList.setDirty()}}class I0{constructor(i=[]){this.queries=i}createEmbeddedView(i){const s=i.queries;if(null!==s){const a=null!==i.contentQueries?i.contentQueries[0]:s.length,d=[];for(let g=0;g<a;g++){const I=s.getByIndex(g);d.push(this.queries[I.indexInDeclarationView].clone())}return new I0(d)}return null}insertView(i){this.dirtyQueriesWithMatches(i)}detachView(i){this.dirtyQueriesWithMatches(i)}dirtyQueriesWithMatches(i){for(let s=0;s<this.queries.length;s++)null!==fw(i,s).matches&&this.queries[s].setDirty()}}class sw{constructor(i,s,a=null){this.predicate=i,this.flags=s,this.read=a}}class D0{constructor(i=[]){this.queries=i}elementStart(i,s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementStart(i,s)}elementEnd(i){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(i)}embeddedTView(i){let s=null;for(let a=0;a<this.length;a++){const d=null!==s?s.length:0,g=this.getByIndex(a).embeddedTView(i,d);g&&(g.indexInDeclarationView=a,null!==s?s.push(g):s=[g])}return null!==s?new D0(s):null}template(i,s){for(let a=0;a<this.queries.length;a++)this.queries[a].template(i,s)}getByIndex(i){return this.queries[i]}get length(){return this.queries.length}track(i){this.queries.push(i)}}class T0{constructor(i,s=-1){this.metadata=i,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(i,s){this.isApplyingToNode(s)&&this.matchTNode(i,s)}elementEnd(i){this._declarationNodeIndex===i.index&&(this._appliesToNextNode=!1)}template(i,s){this.elementStart(i,s)}embeddedTView(i,s){return this.isApplyingToNode(i)?(this.crossesNgTemplate=!0,this.addMatch(-i.index,s),new T0(this.metadata)):null}isApplyingToNode(i){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const s=this._declarationNodeIndex;let a=i.parent;for(;null!==a&&8&a.type&&a.index!==s;)a=a.parent;return s===(null!==a?a.index:-1)}return this._appliesToNextNode}matchTNode(i,s){const a=this.metadata.predicate;if(Array.isArray(a))for(let d=0;d<a.length;d++){const g=a[d];this.matchTNodeWithReadOption(i,s,aD(s,g)),this.matchTNodeWithReadOption(i,s,Pl(s,i,g,!1,!1))}else a===gg?4&s.type&&this.matchTNodeWithReadOption(i,s,-1):this.matchTNodeWithReadOption(i,s,Pl(s,i,a,!1,!1))}matchTNodeWithReadOption(i,s,a){if(null!==a){const d=this.metadata.read;if(null!==d)if(d===Bh||d===Ey||d===gg&&4&s.type)this.addMatch(s.index,-2);else{const g=Pl(s,i,d,!1,!1);null!==g&&this.addMatch(s.index,g)}else this.addMatch(s.index,a)}}addMatch(i,s){null===this.matches?this.matches=[i,s]:this.matches.push(i,s)}}function aD(t,i){const s=t.localNames;if(null!==s)for(let a=0;a<s.length;a+=2)if(s[a]===i)return s[a+1];return null}function lD(t,i,s,a){return-1===s?function cD(t,i){return 11&t.type?Eu(t,i):4&t.type?vy(t,i):null}(i,t):-2===s?function uD(t,i,s){return s===Bh?Eu(i,t):s===gg?vy(i,t):s===Ey?nw(i,t):void 0}(t,i,a):nc(t,t[Rn],s,i)}function ow(t,i,s,a){const d=i[Ds].queries[a];if(null===d.matches){const g=t.data,I=s.matches,P=[];for(let $=0;$<I.length;$+=2){const le=I[$];P.push(le<0?null:lD(i,g[le],I[$+1],s.metadata.read))}d.matches=P}return d.matches}function x0(t,i,s,a){const d=t.queries.getByIndex(s),g=d.matches;if(null!==g){const I=ow(t,i,d,s);for(let P=0;P<g.length;P+=2){const $=g[P];if($>0)a.push(I[P/2]);else{const le=g[P+1],De=i[-$];for(let Ye=ms;Ye<De.length;Ye++){const St=De[Ye];St[da]===St[Mi]&&x0(St[Rn],St,le,a)}if(null!==De[Xs]){const Ye=De[Xs];for(let St=0;St<Ye.length;St++){const Gt=Ye[St];x0(Gt[Rn],Gt,le,a)}}}}}return a}function aw(t){const i=fe(),s=nt(),a=Qe();en(a+1);const d=fw(s,a);if(t.dirty&&function te(t){return 4==(4&t[Bi])}(i)===(2==(2&d.metadata.flags))){if(null===d.matches)t.reset([]);else{const g=d.crossesNgTemplate?x0(s,i,a,[]):ow(s,i,d,a);t.reset(g,rm),t.notifyOnChanges()}return!0}return!1}function cw(t,i,s){const a=nt();a.firstCreatePass&&(hw(a,new sw(t,i,s),-1),2==(2&i)&&(a.staticViewQueries=!0)),dw(a,fe(),i)}function lw(t,i,s,a){const d=nt();if(d.firstCreatePass){const g=Ln();hw(d,new sw(i,s,a),g.index),function hD(t,i){const s=t.contentQueries||(t.contentQueries=[]);i!==(s.length?s[s.length-1]:-1)&&s.push(t.queries.length-1,i)}(d,t),2==(2&s)&&(d.staticContentQueries=!0)}dw(d,fe(),s)}function uw(){return function dD(t,i){return t[Ds].queries[i].queryList}(fe(),Qe())}function dw(t,i,s){const a=new yy(4==(4&s));(function cv(t,i,s,a){const d=k_(i);d.push(s),t.firstCreatePass&&R_(t).push(a,d.length-1)})(t,i,a,a.destroy),null===i[Ds]&&(i[Ds]=new I0),i[Ds].queries.push(new C0(a))}function hw(t,i,s){null===t.queries&&(t.queries=new D0),t.queries.track(new T0(i,s))}function fw(t,i){return t.queries.getByIndex(i)}function pw(t,i){return vy(t,i)}function A0(t){return!!As(t)}const Ow=new Fn("Application Initializer");let k0=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((s,a)=>{this.resolve=s,this.reject=a}),this.appInits=Yn(Ow,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const s=[];for(const d of this.appInits){const g=d();if(rg(g))s.push(g);else if(ty(g)){const I=new Promise((P,$)=>{g.subscribe({complete:P,error:$})});s.push(I)}}const a=()=>{this.done=!0,this.resolve()};Promise.all(s).then(()=>{a()}).catch(d=>{this.reject(d)}),0===s.length&&a(),this.initialized=!0}static{this.\u0275fac=function(a){return new(a||t)}}static{this.\u0275prov=Bn({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Pw=(()=>{class t{log(s){console.log(s)}warn(s){console.warn(s)}static{this.\u0275fac=function(a){return new(a||t)}}static{this.\u0275prov=Bn({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();const Cy=new Fn("LocaleId",{providedIn:"root",factory:()=>Yn(Cy,ni.Optional|ni.SkipSelf)||function kD(){return typeof $localize<"u"&&$localize.locale||gp}()}),RD=new Fn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let kw=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new R.t(!1)}add(){this.hasPendingTasks.next(!0);const s=this.taskId++;return this.pendingTasks.add(s),s}remove(s){this.pendingTasks.delete(s),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static{this.\u0275fac=function(a){return new(a||t)}}static{this.\u0275prov=Bn({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();class FD{constructor(i,s){this.ngModuleFactory=i,this.componentFactories=s}}let LD=(()=>{class t{compileModuleSync(s){return new b0(s)}compileModuleAsync(s){return Promise.resolve(this.compileModuleSync(s))}compileModuleAndAllComponentsSync(s){const a=this.compileModuleSync(s),g=ql(As(s).declarations).reduce((I,P)=>{const $=Li(P);return $&&I.push(new Zd($)),I},[]);return new FD(a,g)}compileModuleAndAllComponentsAsync(s){return Promise.resolve(this.compileModuleAndAllComponentsSync(s))}clearCache(){}clearCacheFor(s){}getModuleId(s){}static{this.\u0275fac=function(a){return new(a||t)}}static{this.\u0275prov=Bn({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();const Lw=new Fn(""),Vw=new Fn("");let F0,sT=(()=>{class t{constructor(s,a,d){this._ngZone=s,this.registry=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,F0||(function oT(t){F0=t}(d),d.addToWindow(a)),this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ha.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb(this._didWork)}this._didWork=!1});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(a=>!a.updateCb||!a.updateCb(s)||(clearTimeout(a.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,a,d){let g=-1;a&&a>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(I=>I.timeoutId!==g),s(this._didWork,this.getPendingTasks())},a)),this._callbacks.push({doneCb:s,timeoutId:g,updateCb:d})}whenStable(s,a,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,a,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(s){this.registry.registerApplication(s,this)}unregisterApplication(s){this.registry.unregisterApplication(s)}findProviders(s,a,d){return[]}static{this.\u0275fac=function(a){return new(a||t)(si(Ha),si(Bw),si(Vw))}}static{this.\u0275prov=Bn({token:t,factory:t.\u0275fac})}}return t})(),Bw=(()=>{class t{constructor(){this._applications=new Map}registerApplication(s,a){this._applications.set(s,a)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,a=!0){return F0?.findTestabilityInTree(this,s,a)??null}static{this.\u0275fac=function(a){return new(a||t)}}static{this.\u0275prov=Bn({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})(),ch=null;const Uw=new Fn("AllowMultipleToken"),L0=new Fn("PlatformDestroyListeners"),V0=new Fn("appBootstrapListener");class lT{constructor(i,s){this.name=i,this.token=s}}function $w(t,i,s=[]){const a=`Platform: ${i}`,d=new Fn(a);return(g=[])=>{let I=B0();if(!I||I.injector.get(Uw,!1)){const P=[...s,...g,{provide:d,useValue:!0}];t?t(P):function uT(t){if(ch&&!ch.get(Uw,!1))throw new vt(400,!1);(function jw(){!function ge(t){j=t}(()=>{throw new vt(600,!1)})})(),ch=t;const i=t.get(Gw);(function Hw(t){t.get(Qp,null)?.forEach(s=>s())})(t)}(function zw(t=[],i){return Lc.create({name:i,providers:[{provide:Ah,useValue:"platform"},{provide:L0,useValue:new Set([()=>ch=null])},...t]})}(P,a))}return function hT(t){const i=B0();if(!i)throw new vt(401,!1);return i}()}}function B0(){return ch?.get(Gw)??null}let Gw=(()=>{class t{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,a){const d=function fT(t="zone.js",i){return"noop"===t?new ev:"zone.js"===t?new Ha(i):t}(a?.ngZone,function Ww(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:a?.ngZoneEventCoalescing,runCoalescing:a?.ngZoneRunCoalescing}));return d.run(()=>{const g=function DI(t,i,s){return new v0(t,i,s)}(s.moduleType,this.injector,function Xw(t){return[{provide:Ha,useFactory:t},{provide:xh,multi:!0,useFactory:()=>{const i=Yn(mT,{optional:!0});return()=>i.initialize()}},{provide:Qw,useFactory:pT},{provide:_m,useFactory:ym}]}(()=>d)),I=g.injector.get(wc,null);return d.runOutsideAngular(()=>{const P=d.onError.subscribe({next:$=>{I.handleError($)}});g.onDestroy(()=>{Dy(this._modules,g),P.unsubscribe()})}),function Kw(t,i,s){try{const a=s();return rg(a)?a.catch(d=>{throw i.runOutsideAngular(()=>t.handleError(d)),d}):a}catch(a){throw i.runOutsideAngular(()=>t.handleError(a)),a}}(I,d,()=>{const P=g.injector.get(k0);return P.runInitializers(),P.donePromise.then(()=>(function nE(t){ln(t,"Expected localeId to be defined"),"string"==typeof t&&(tE=t.toLowerCase().replace(/_/g,"-"))}(g.injector.get(Cy,gp)||gp),this._moduleDoBootstrap(g),g))})})}bootstrapModule(s,a=[]){const d=qw({},a);return function aT(t,i,s){const a=new b0(s);return Promise.resolve(a)}(0,0,s).then(g=>this.bootstrapModuleFactory(g,d))}_moduleDoBootstrap(s){const a=s.injector.get(vp);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(d=>a.bootstrap(d));else{if(!s.instance.ngDoBootstrap)throw new vt(-403,!1);s.instance.ngDoBootstrap(a)}this._modules.push(s)}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new vt(404,!1);this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a());const s=this._injector.get(L0,null);s&&(s.forEach(a=>a()),s.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static{this.\u0275fac=function(a){return new(a||t)(si(Lc))}}static{this.\u0275prov=Bn({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();function qw(t,i){return Array.isArray(i)?i.reduce(qw,t):{...t,...i}}let vp=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Yn(Qw),this.zoneIsStable=Yn(_m),this.componentTypes=[],this.components=[],this.isStable=Yn(kw).hasPendingTasks.pipe((0,at.n)(s=>s?(0,Ce.of)(!1):this.zoneIsStable),(0,ft.F)(),(0,xe.u)()),this._injector=Yn(dl)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(s,a){const d=s instanceof Ff;if(!this._injector.get(k0).done)throw!d&&no(s),new vt(405,!1);let I;I=d?s:this._injector.get(Vh).resolveComponentFactory(s),this.componentTypes.push(I.componentType);const P=function cT(t){return t.isBoundToModule}(I)?void 0:this._injector.get(rf),le=I.create(Lc.NULL,[],a||I.selector,P),De=le.location.nativeElement,Ye=le.injector.get(Lw,null);return Ye?.registerApplication(De),le.onDestroy(()=>{this.detachView(le.hostView),Dy(this.components,le),Ye?.unregisterApplication(De)}),this._loadComponent(le),le}tick(){if(this._runningTick)throw new vt(101,!1);try{this._runningTick=!0;for(let s of this._views)s.detectChanges()}catch(s){this.internalErrorHandler(s)}finally{this._runningTick=!1}}attachView(s){const a=s;this._views.push(a),a.attachToAppRef(this)}detachView(s){const a=s;Dy(this._views,a),a.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s);const a=this._injector.get(V0,[]);a.push(...this._bootstrapListeners),a.forEach(d=>d(s))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(s=>s()),this._views.slice().forEach(s=>s.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(s){return this._destroyListeners.push(s),()=>Dy(this._destroyListeners,s)}destroy(){if(this._destroyed)throw new vt(406,!1);const s=this._injector;s.destroy&&!s.destroyed&&s.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(a){return new(a||t)}}static{this.\u0275prov=Bn({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Dy(t,i){const s=t.indexOf(i);s>-1&&t.splice(s,1)}const Qw=new Fn("",{providedIn:"root",factory:()=>Yn(wc).handleError.bind(void 0)});function pT(){const t=Yn(Ha),i=Yn(wc);return s=>t.runOutsideAngular(()=>i.handleError(s))}let mT=(()=>{class t{constructor(){this.zone=Yn(Ha),this.applicationRef=Yn(vp)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(a){return new(a||t)}}static{this.\u0275prov=Bn({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();let _T=(()=>{class t{static{this.__NG_ELEMENT_ID__=yT}}return t})();function yT(t){return function vT(t,i,s){if(gs(t)&&!s){const a=Wt(t.index,i);return new Qh(a,a)}return 47&t.type?new Qh(i[kr],i):null}(Ln(),fe(),16==(16&t))}class nC{constructor(){}supports(i){return Mu(i)}create(i){return new IT(i)}}const CT=(t,i)=>i;class IT{constructor(i){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=i||CT}forEachItem(i){let s;for(s=this._itHead;null!==s;s=s._next)i(s)}forEachOperation(i){let s=this._itHead,a=this._removalsHead,d=0,g=null;for(;s||a;){const I=!a||s&&s.currentIndex<rC(a,d,g)?s:a,P=rC(I,d,g),$=I.currentIndex;if(I===a)d--,a=a._nextRemoved;else if(s=s._next,null==I.previousIndex)d++;else{g||(g=[]);const le=P-d,De=$-d;if(le!=De){for(let St=0;St<le;St++){const Gt=St<g.length?g[St]:g[St]=0,Dn=Gt+St;De<=Dn&&Dn<le&&(g[St]=Gt+1)}g[I.previousIndex]=De-le}}P!==$&&i(I,P,$)}}forEachPreviousItem(i){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)i(s)}forEachAddedItem(i){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)i(s)}forEachMovedItem(i){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)i(s)}forEachRemovedItem(i){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)i(s)}forEachIdentityChange(i){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)i(s)}diff(i){if(null==i&&(i=[]),!Mu(i))throw new vt(900,!1);return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let d,g,I,s=this._itHead,a=!1;if(Array.isArray(i)){this.length=i.length;for(let P=0;P<this.length;P++)g=i[P],I=this._trackByFn(P,g),null!==s&&Object.is(s.trackById,I)?(a&&(s=this._verifyReinsertion(s,g,I,P)),Object.is(s.item,g)||this._addIdentityChange(s,g)):(s=this._mismatch(s,g,I,P),a=!0),s=s._next}else d=0,function Km(t,i){if(Array.isArray(t))for(let s=0;s<t.length;s++)i(t[s]);else{const s=t[Symbol.iterator]();let a;for(;!(a=s.next()).done;)i(a.value)}}(i,P=>{I=this._trackByFn(d,P),null!==s&&Object.is(s.trackById,I)?(a&&(s=this._verifyReinsertion(s,P,I,d)),Object.is(s.item,P)||this._addIdentityChange(s,P)):(s=this._mismatch(s,P,I,d),a=!0),s=s._next,d++}),this.length=d;return this._truncate(s),this.collection=i,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let i;for(i=this._previousItHead=this._itHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._additionsHead;null!==i;i=i._nextAdded)i.previousIndex=i.currentIndex;for(this._additionsHead=this._additionsTail=null,i=this._movesHead;null!==i;i=i._nextMoved)i.previousIndex=i.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(i,s,a,d){let g;return null===i?g=this._itTail:(g=i._prev,this._remove(i)),null!==(i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null))?(Object.is(i.item,s)||this._addIdentityChange(i,s),this._reinsertAfter(i,g,d)):null!==(i=null===this._linkedRecords?null:this._linkedRecords.get(a,d))?(Object.is(i.item,s)||this._addIdentityChange(i,s),this._moveAfter(i,g,d)):i=this._addAfter(new DT(s,a),g,d),i}_verifyReinsertion(i,s,a,d){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null);return null!==g?i=this._reinsertAfter(g,i._prev,d):i.currentIndex!=d&&(i.currentIndex=d,this._addToMoves(i,d)),i}_truncate(i){for(;null!==i;){const s=i._next;this._addToRemovals(this._unlink(i)),i=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(i,s,a){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(i);const d=i._prevRemoved,g=i._nextRemoved;return null===d?this._removalsHead=g:d._nextRemoved=g,null===g?this._removalsTail=d:g._prevRemoved=d,this._insertAfter(i,s,a),this._addToMoves(i,a),i}_moveAfter(i,s,a){return this._unlink(i),this._insertAfter(i,s,a),this._addToMoves(i,a),i}_addAfter(i,s,a){return this._insertAfter(i,s,a),this._additionsTail=null===this._additionsTail?this._additionsHead=i:this._additionsTail._nextAdded=i,i}_insertAfter(i,s,a){const d=null===s?this._itHead:s._next;return i._next=d,i._prev=s,null===d?this._itTail=i:d._prev=i,null===s?this._itHead=i:s._next=i,null===this._linkedRecords&&(this._linkedRecords=new iC),this._linkedRecords.put(i),i.currentIndex=a,i}_remove(i){return this._addToRemovals(this._unlink(i))}_unlink(i){null!==this._linkedRecords&&this._linkedRecords.remove(i);const s=i._prev,a=i._next;return null===s?this._itHead=a:s._next=a,null===a?this._itTail=s:a._prev=s,i}_addToMoves(i,s){return i.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=i:this._movesTail._nextMoved=i),i}_addToRemovals(i){return null===this._unlinkedRecords&&(this._unlinkedRecords=new iC),this._unlinkedRecords.put(i),i.currentIndex=null,i._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=i,i._prevRemoved=null):(i._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=i),i}_addIdentityChange(i,s){return i.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=i:this._identityChangesTail._nextIdentityChange=i,i}}class DT{constructor(i,s){this.item=i,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class TT{constructor(){this._head=null,this._tail=null}add(i){null===this._head?(this._head=this._tail=i,i._nextDup=null,i._prevDup=null):(this._tail._nextDup=i,i._prevDup=this._tail,i._nextDup=null,this._tail=i)}get(i,s){let a;for(a=this._head;null!==a;a=a._nextDup)if((null===s||s<=a.currentIndex)&&Object.is(a.trackById,i))return a;return null}remove(i){const s=i._prevDup,a=i._nextDup;return null===s?this._head=a:s._nextDup=a,null===a?this._tail=s:a._prevDup=s,null===this._head}}class iC{constructor(){this.map=new Map}put(i){const s=i.trackById;let a=this.map.get(s);a||(a=new TT,this.map.set(s,a)),a.add(i)}get(i,s){const d=this.map.get(i);return d?d.get(i,s):null}remove(i){const s=i.trackById;return this.map.get(s).remove(i)&&this.map.delete(s),i}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function rC(t,i,s){const a=t.previousIndex;if(null===a)return a;let d=0;return s&&a<s.length&&(d=s[a]),a+i+d}class sC{constructor(){}supports(i){return i instanceof Map||qm(i)}create(){return new xT}}class xT{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(i){let s;for(s=this._mapHead;null!==s;s=s._next)i(s)}forEachPreviousItem(i){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)i(s)}forEachChangedItem(i){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)i(s)}forEachAddedItem(i){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)i(s)}forEachRemovedItem(i){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)i(s)}diff(i){if(i){if(!(i instanceof Map||qm(i)))throw new vt(900,!1)}else i=new Map;return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(i,(a,d)=>{if(s&&s.key===d)this._maybeAddToChanges(s,a),this._appendAfter=s,s=s._next;else{const g=this._getOrCreateRecordForKey(d,a);s=this._insertBeforeOrAppend(s,g)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let a=s;null!==a;a=a._nextRemoved)a===this._mapHead&&(this._mapHead=null),this._records.delete(a.key),a._nextRemoved=a._next,a.previousValue=a.currentValue,a.currentValue=null,a._prev=null,a._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(i,s){if(i){const a=i._prev;return s._next=i,s._prev=a,i._prev=s,a&&(a._next=s),i===this._mapHead&&(this._mapHead=s),this._appendAfter=i,i}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(i,s){if(this._records.has(i)){const d=this._records.get(i);this._maybeAddToChanges(d,s);const g=d._prev,I=d._next;return g&&(g._next=I),I&&(I._prev=g),d._next=null,d._prev=null,d}const a=new AT(i);return this._records.set(i,a),a.currentValue=s,this._addToAdditions(a),a}_reset(){if(this.isDirty){let i;for(this._previousMapHead=this._mapHead,i=this._previousMapHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._changesHead;null!==i;i=i._nextChanged)i.previousValue=i.currentValue;for(i=this._additionsHead;null!=i;i=i._nextAdded)i.previousValue=i.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(i,s){Object.is(s,i.currentValue)||(i.previousValue=i.currentValue,i.currentValue=s,this._addToChanges(i))}_addToAdditions(i){null===this._additionsHead?this._additionsHead=this._additionsTail=i:(this._additionsTail._nextAdded=i,this._additionsTail=i)}_addToChanges(i){null===this._changesHead?this._changesHead=this._changesTail=i:(this._changesTail._nextChanged=i,this._changesTail=i)}_forEach(i,s){i instanceof Map?i.forEach(s):Object.keys(i).forEach(a=>s(i[a],a))}}class AT{constructor(i){this.key=i,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function oC(){return new z0([new nC])}let z0=(()=>{class t{static{this.\u0275prov=Bn({token:t,providedIn:"root",factory:oC})}constructor(s){this.factories=s}static create(s,a){if(null!=a){const d=a.factories.slice();s=s.concat(d)}return new t(s)}static extend(s){return{provide:t,useFactory:a=>t.create(s,a||oC()),deps:[[t,new kc,new Sc]]}}find(s){const a=this.factories.find(d=>d.supports(s));if(null!=a)return a;throw new vt(901,!1)}}return t})();function aC(){return new G0([new sC])}let G0=(()=>{class t{static{this.\u0275prov=Bn({token:t,providedIn:"root",factory:aC})}constructor(s){this.factories=s}static create(s,a){if(a){const d=a.factories.slice();s=s.concat(d)}return new t(s)}static extend(s){return{provide:t,useFactory:a=>t.create(s,a||aC()),deps:[[t,new kc,new Sc]]}}find(s){const a=this.factories.find(d=>d.supports(s));if(a)return a;throw new vt(901,!1)}}return t})();const OT=$w(null,"core",[]);let PT=(()=>{class t{constructor(s){}static{this.\u0275fac=function(a){return new(a||t)(si(vp))}}static{this.\u0275mod=Fr({type:t})}static{this.\u0275inj=Si({})}}return t})();function $T(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function GT(t){const i=Li(t);if(!i)return null;const s=new Zd(i);return{get selector(){return s.selector},get type(){return s.componentType},get inputs(){return s.inputs},get outputs(){return s.outputs},get ngContentSelectors(){return s.ngContentSelectors},get isStandalone(){return i.standalone},get isSignal(){return i.signals}}}},9417:(ei,Nt,ee)=>{ee.d(Nt,{BC:()=>ir,Q0:()=>tn,YN:()=>Lo,YS:()=>Ss,cV:()=>Yi,cb:()=>Zi,kq:()=>at,me:()=>tt,qT:()=>Re,vS:()=>Z,wz:()=>es,xH:()=>ws,y7:()=>ra});var l=ee(7705),Le=ee(177),ke=ee(8455),ot=ee(7468),R=ee(6354);let Ce=(()=>{class ue{constructor(X,Se){this._renderer=X,this._elementRef=Se,this.onChange=st=>{},this.onTouched=()=>{}}setProperty(X,Se){this._renderer.setProperty(this._elementRef.nativeElement,X,Se)}registerOnTouched(X){this.onTouched=X}registerOnChange(X){this.onChange=X}setDisabledState(X){this.setProperty("disabled",X)}static{this.\u0275fac=function(Se){return new(Se||ue)(l.rXU(l.sFG),l.rXU(l.aKT))}}static{this.\u0275dir=l.FsC({type:ue})}}return ue})(),xe=(()=>{class ue extends Ce{static{this.\u0275fac=function(){let X;return function(st){return(X||(X=l.xGo(ue)))(st||ue)}}()}static{this.\u0275dir=l.FsC({type:ue,features:[l.Vt3]})}}return ue})();const at=new l.nKC("NgValueAccessor"),He={provide:at,useExisting:(0,l.Rfq)(()=>tt),multi:!0},Ft=new l.nKC("CompositionEventMode");let tt=(()=>{class ue extends Ce{constructor(X,Se,st){super(X,Se),this._compositionMode=st,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function mt(){const ue=(0,Le.QT)()?(0,Le.QT)().getUserAgent():"";return/android (\d+)/.test(ue.toLowerCase())}())}writeValue(X){this.setProperty("value",X??"")}_handleInput(X){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(X)}_compositionStart(){this._composing=!0}_compositionEnd(X){this._composing=!1,this._compositionMode&&this.onChange(X)}static{this.\u0275fac=function(Se){return new(Se||ue)(l.rXU(l.sFG),l.rXU(l.aKT),l.rXU(Ft,8))}}static{this.\u0275dir=l.FsC({type:ue,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(Se,st){1&Se&&l.bIt("input",function(mr){return st._handleInput(mr.target.value)})("blur",function(){return st.onTouched()})("compositionstart",function(){return st._compositionStart()})("compositionend",function(mr){return st._compositionEnd(mr.target.value)})},features:[l.Jv_([He]),l.Vt3]})}}return ue})();const Cn=new l.nKC("NgValidators"),Tn=new l.nKC("NgAsyncValidators");function Dt(ue){return function yt(ue){return null==ue||("string"==typeof ue||Array.isArray(ue))&&0===ue.length}(ue.value)?{required:!0}:null}function yn(ue){return null}function fi(ue){return null!=ue}function on(ue){return(0,l.jNT)(ue)?(0,ke.H)(ue):ue}function Ii(ue){let me={};return ue.forEach(X=>{me=null!=X?{...me,...X}:me}),0===Object.keys(me).length?null:me}function Xi(ue,me){return me.map(X=>X(ue))}function hr(ue){return ue.map(me=>function Zr(ue){return!ue.validate}(me)?me:X=>me.validate(X))}function Gr(ue){return null!=ue?function xn(ue){if(!ue)return null;const me=ue.filter(fi);return 0==me.length?null:function(X){return Ii(Xi(X,me))}}(hr(ue)):null}function Bt(ue){return null!=ue?function Vt(ue){if(!ue)return null;const me=ue.filter(fi);return 0==me.length?null:function(X){const Se=Xi(X,me).map(on);return(0,ot.p)(Se).pipe((0,R.T)(Ii))}}(hr(ue)):null}function Rt(ue,me){return null===ue?[me]:Array.isArray(ue)?[...ue,me]:[ue,me]}function Ut(ue){return ue?Array.isArray(ue)?ue:[ue]:[]}function Mn(ue,me){return Array.isArray(ue)?ue.includes(me):ue===me}function In(ue,me){const X=Ut(me);return Ut(ue).forEach(st=>{Mn(X,st)||X.push(st)}),X}function Hi(ue,me){return Ut(me).filter(X=>!Mn(ue,X))}class Bn{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(me){this._rawValidators=me||[],this._composedValidatorFn=Gr(this._rawValidators)}_setAsyncValidators(me){this._rawAsyncValidators=me||[],this._composedAsyncValidatorFn=Bt(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(me){this._onDestroyCallbacks.push(me)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(me=>me()),this._onDestroyCallbacks=[]}reset(me=void 0){this.control&&this.control.reset(me)}hasError(me,X){return!!this.control&&this.control.hasError(me,X)}getError(me,X){return this.control?this.control.getError(me,X):null}}class Jn extends Bn{get formDirective(){return null}get path(){return null}}class Si extends Bn{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class nr{constructor(me){this._cd=me}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let ir=(()=>{class ue extends nr{constructor(X){super(X)}static{this.\u0275fac=function(Se){return new(Se||ue)(l.rXU(Si,2))}}static{this.\u0275dir=l.FsC({type:ue,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(Se,st){2&Se&&l.AVh("ng-untouched",st.isUntouched)("ng-touched",st.isTouched)("ng-pristine",st.isPristine)("ng-dirty",st.isDirty)("ng-valid",st.isValid)("ng-invalid",st.isInvalid)("ng-pending",st.isPending)},features:[l.Vt3]})}}return ue})(),Zi=(()=>{class ue extends nr{constructor(X){super(X)}static{this.\u0275fac=function(Se){return new(Se||ue)(l.rXU(Jn,10))}}static{this.\u0275dir=l.FsC({type:ue,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(Se,st){2&Se&&l.AVh("ng-untouched",st.isUntouched)("ng-touched",st.isTouched)("ng-pristine",st.isPristine)("ng-dirty",st.isDirty)("ng-valid",st.isValid)("ng-invalid",st.isInvalid)("ng-pending",st.isPending)("ng-submitted",st.isSubmitted)},features:[l.Vt3]})}}return ue})();const is="VALID",bs="INVALID",vr="PENDING",Ur="DISABLED";function Kr(ue){return(Gi(ue)?ue.validators:ue)||null}function Ir(ue,me){return(Gi(me)?me.asyncValidators:ue)||null}function Gi(ue){return null!=ue&&!Array.isArray(ue)&&"object"==typeof ue}class Xe{constructor(me,X){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(me),this._assignAsyncValidators(X)}get validator(){return this._composedValidatorFn}set validator(me){this._rawValidators=this._composedValidatorFn=me}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(me){this._rawAsyncValidators=this._composedAsyncValidatorFn=me}get parent(){return this._parent}get valid(){return this.status===is}get invalid(){return this.status===bs}get pending(){return this.status==vr}get disabled(){return this.status===Ur}get enabled(){return this.status!==Ur}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(me){this._assignValidators(me)}setAsyncValidators(me){this._assignAsyncValidators(me)}addValidators(me){this.setValidators(In(me,this._rawValidators))}addAsyncValidators(me){this.setAsyncValidators(In(me,this._rawAsyncValidators))}removeValidators(me){this.setValidators(Hi(me,this._rawValidators))}removeAsyncValidators(me){this.setAsyncValidators(Hi(me,this._rawAsyncValidators))}hasValidator(me){return Mn(this._rawValidators,me)}hasAsyncValidator(me){return Mn(this._rawAsyncValidators,me)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(me={}){this.touched=!0,this._parent&&!me.onlySelf&&this._parent.markAsTouched(me)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(me=>me.markAllAsTouched())}markAsUntouched(me={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(X=>{X.markAsUntouched({onlySelf:!0})}),this._parent&&!me.onlySelf&&this._parent._updateTouched(me)}markAsDirty(me={}){this.pristine=!1,this._parent&&!me.onlySelf&&this._parent.markAsDirty(me)}markAsPristine(me={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(X=>{X.markAsPristine({onlySelf:!0})}),this._parent&&!me.onlySelf&&this._parent._updatePristine(me)}markAsPending(me={}){this.status=vr,!1!==me.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!me.onlySelf&&this._parent.markAsPending(me)}disable(me={}){const X=this._parentMarkedDirty(me.onlySelf);this.status=Ur,this.errors=null,this._forEachChild(Se=>{Se.disable({...me,onlySelf:!0})}),this._updateValue(),!1!==me.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...me,skipPristineCheck:X}),this._onDisabledChange.forEach(Se=>Se(!0))}enable(me={}){const X=this._parentMarkedDirty(me.onlySelf);this.status=is,this._forEachChild(Se=>{Se.enable({...me,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:me.emitEvent}),this._updateAncestors({...me,skipPristineCheck:X}),this._onDisabledChange.forEach(Se=>Se(!1))}_updateAncestors(me){this._parent&&!me.onlySelf&&(this._parent.updateValueAndValidity(me),me.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(me){this._parent=me}getRawValue(){return this.value}updateValueAndValidity(me={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===is||this.status===vr)&&this._runAsyncValidator(me.emitEvent)),!1!==me.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!me.onlySelf&&this._parent.updateValueAndValidity(me)}_updateTreeValidity(me={emitEvent:!0}){this._forEachChild(X=>X._updateTreeValidity(me)),this.updateValueAndValidity({onlySelf:!0,emitEvent:me.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ur:is}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(me){if(this.asyncValidator){this.status=vr,this._hasOwnPendingAsyncValidator=!0;const X=on(this.asyncValidator(this));this._asyncValidationSubscription=X.subscribe(Se=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(Se,{emitEvent:me})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(me,X={}){this.errors=me,this._updateControlsErrors(!1!==X.emitEvent)}get(me){let X=me;return null==X||(Array.isArray(X)||(X=X.split(".")),0===X.length)?null:X.reduce((Se,st)=>Se&&Se._find(st),this)}getError(me,X){const Se=X?this.get(X):this;return Se&&Se.errors?Se.errors[me]:null}hasError(me,X){return!!this.getError(me,X)}get root(){let me=this;for(;me._parent;)me=me._parent;return me}_updateControlsErrors(me){this.status=this._calculateStatus(),me&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(me)}_initObservables(){this.valueChanges=new l.bkB,this.statusChanges=new l.bkB}_calculateStatus(){return this._allControlsDisabled()?Ur:this.errors?bs:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(vr)?vr:this._anyControlsHaveStatus(bs)?bs:is}_anyControlsHaveStatus(me){return this._anyControls(X=>X.status===me)}_anyControlsDirty(){return this._anyControls(me=>me.dirty)}_anyControlsTouched(){return this._anyControls(me=>me.touched)}_updatePristine(me={}){this.pristine=!this._anyControlsDirty(),this._parent&&!me.onlySelf&&this._parent._updatePristine(me)}_updateTouched(me={}){this.touched=this._anyControlsTouched(),this._parent&&!me.onlySelf&&this._parent._updateTouched(me)}_registerOnCollectionChange(me){this._onCollectionChange=me}_setUpdateStrategy(me){Gi(me)&&null!=me.updateOn&&(this._updateOn=me.updateOn)}_parentMarkedDirty(me){return!me&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(me){return null}_assignValidators(me){this._rawValidators=Array.isArray(me)?me.slice():me,this._composedValidatorFn=function Cr(ue){return Array.isArray(ue)?Gr(ue):ue||null}(this._rawValidators)}_assignAsyncValidators(me){this._rawAsyncValidators=Array.isArray(me)?me.slice():me,this._composedAsyncValidatorFn=function Jr(ue){return Array.isArray(ue)?Bt(ue):ue||null}(this._rawAsyncValidators)}}class ve extends Xe{constructor(me,X,Se){super(Kr(X),Ir(Se,X)),this.controls=me,this._initObservables(),this._setUpdateStrategy(X),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(me,X){return this.controls[me]?this.controls[me]:(this.controls[me]=X,X.setParent(this),X._registerOnCollectionChange(this._onCollectionChange),X)}addControl(me,X,Se={}){this.registerControl(me,X),this.updateValueAndValidity({emitEvent:Se.emitEvent}),this._onCollectionChange()}removeControl(me,X={}){this.controls[me]&&this.controls[me]._registerOnCollectionChange(()=>{}),delete this.controls[me],this.updateValueAndValidity({emitEvent:X.emitEvent}),this._onCollectionChange()}setControl(me,X,Se={}){this.controls[me]&&this.controls[me]._registerOnCollectionChange(()=>{}),delete this.controls[me],X&&this.registerControl(me,X),this.updateValueAndValidity({emitEvent:Se.emitEvent}),this._onCollectionChange()}contains(me){return this.controls.hasOwnProperty(me)&&this.controls[me].enabled}setValue(me,X={}){(function _r(ue,me,X){ue._forEachChild((Se,st)=>{if(void 0===X[st])throw new l.wOt(1002,"")})})(this,0,me),Object.keys(me).forEach(Se=>{(function Ji(ue,me,X){const Se=ue.controls;if(!(me?Object.keys(Se):Se).length)throw new l.wOt(1e3,"");if(!Se[X])throw new l.wOt(1001,"")})(this,!0,Se),this.controls[Se].setValue(me[Se],{onlySelf:!0,emitEvent:X.emitEvent})}),this.updateValueAndValidity(X)}patchValue(me,X={}){null!=me&&(Object.keys(me).forEach(Se=>{const st=this.controls[Se];st&&st.patchValue(me[Se],{onlySelf:!0,emitEvent:X.emitEvent})}),this.updateValueAndValidity(X))}reset(me={},X={}){this._forEachChild((Se,st)=>{Se.reset(me?me[st]:null,{onlySelf:!0,emitEvent:X.emitEvent})}),this._updatePristine(X),this._updateTouched(X),this.updateValueAndValidity(X)}getRawValue(){return this._reduceChildren({},(me,X,Se)=>(me[Se]=X.getRawValue(),me))}_syncPendingControls(){let me=this._reduceChildren(!1,(X,Se)=>!!Se._syncPendingControls()||X);return me&&this.updateValueAndValidity({onlySelf:!0}),me}_forEachChild(me){Object.keys(this.controls).forEach(X=>{const Se=this.controls[X];Se&&me(Se,X)})}_setUpControls(){this._forEachChild(me=>{me.setParent(this),me._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(me){for(const[X,Se]of Object.entries(this.controls))if(this.contains(X)&&me(Se))return!0;return!1}_reduceValue(){return this._reduceChildren({},(X,Se,st)=>((Se.enabled||this.disabled)&&(X[st]=Se.value),X))}_reduceChildren(me,X){let Se=me;return this._forEachChild((st,hi)=>{Se=X(Se,st,hi)}),Se}_allControlsDisabled(){for(const me of Object.keys(this.controls))if(this.controls[me].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(me){return this.controls.hasOwnProperty(me)?this.controls[me]:null}}const an=new l.nKC("CallSetDisabledState",{providedIn:"root",factory:()=>mn}),mn="always";function jn(ue,me,X=mn){_t(ue,me),me.valueAccessor.writeValue(ue.value),(ue.disabled||"always"===X)&&me.valueAccessor.setDisabledState?.(ue.disabled),function it(ue,me){me.valueAccessor.registerOnChange(X=>{ue._pendingValue=X,ue._pendingChange=!0,ue._pendingDirty=!0,"change"===ue.updateOn&&Ke(ue,me)})}(ue,me),function xt(ue,me){const X=(Se,st)=>{me.valueAccessor.writeValue(Se),st&&me.viewToModelUpdate(Se)};ue.registerOnChange(X),me._registerOnDestroy(()=>{ue._unregisterOnChange(X)})}(ue,me),function Ze(ue,me){me.valueAccessor.registerOnTouched(()=>{ue._pendingTouched=!0,"blur"===ue.updateOn&&ue._pendingChange&&Ke(ue,me),"submit"!==ue.updateOn&&ue.markAsTouched()})}(ue,me),function ki(ue,me){if(me.valueAccessor.setDisabledState){const X=Se=>{me.valueAccessor.setDisabledState(Se)};ue.registerOnDisabledChange(X),me._registerOnDestroy(()=>{ue._unregisterOnDisabledChange(X)})}}(ue,me)}function Qn(ue,me){ue.forEach(X=>{X.registerOnValidatorChange&&X.registerOnValidatorChange(me)})}function _t(ue,me){const X=function qt(ue){return ue._rawValidators}(ue);null!==me.validator?ue.setValidators(Rt(X,me.validator)):"function"==typeof X&&ue.setValidators([X]);const Se=function ln(ue){return ue._rawAsyncValidators}(ue);null!==me.asyncValidator?ue.setAsyncValidators(Rt(Se,me.asyncValidator)):"function"==typeof Se&&ue.setAsyncValidators([Se]);const st=()=>ue.updateValueAndValidity();Qn(me._rawValidators,st),Qn(me._rawAsyncValidators,st)}function Ke(ue,me){ue._pendingDirty&&ue.markAsDirty(),ue.setValue(ue._pendingValue,{emitModelToViewChange:!1}),me.viewToModelUpdate(ue._pendingValue),ue._pendingChange=!1}const qr={provide:Jn,useExisting:(0,l.Rfq)(()=>Yi)},Es=(()=>Promise.resolve())();let Yi=(()=>{class ue extends Jn{constructor(X,Se,st){super(),this.callSetDisabledState=st,this.submitted=!1,this._directives=new Set,this.ngSubmit=new l.bkB,this.form=new ve({},Gr(X),Bt(Se))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(X){Es.then(()=>{const Se=this._findContainer(X.path);X.control=Se.registerControl(X.name,X.control),jn(X.control,X,this.callSetDisabledState),X.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(X)})}getControl(X){return this.form.get(X.path)}removeControl(X){Es.then(()=>{const Se=this._findContainer(X.path);Se&&Se.removeControl(X.name),this._directives.delete(X)})}addFormGroup(X){Es.then(()=>{const Se=this._findContainer(X.path),st=new ve({});(function Yt(ue,me){_t(ue,me)})(st,X),Se.registerControl(X.name,st),st.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(X){Es.then(()=>{const Se=this._findContainer(X.path);Se&&Se.removeControl(X.name)})}getFormGroup(X){return this.form.get(X.path)}updateModel(X,Se){Es.then(()=>{this.form.get(X.path).setValue(Se)})}setValue(X){this.control.setValue(X)}onSubmit(X){return this.submitted=!0,function ar(ue,me){ue._syncPendingControls(),me.forEach(X=>{const Se=X.control;"submit"===Se.updateOn&&Se._pendingChange&&(X.viewToModelUpdate(Se._pendingValue),Se._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(X),"dialog"===X?.target?.method}onReset(){this.resetForm()}resetForm(X=void 0){this.form.reset(X),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(X){return X.pop(),X.length?this.form.get(X):this.form}static{this.\u0275fac=function(Se){return new(Se||ue)(l.rXU(Cn,10),l.rXU(Tn,10),l.rXU(an,8))}}static{this.\u0275dir=l.FsC({type:ue,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(Se,st){1&Se&&l.bIt("submit",function(mr){return st.onSubmit(mr)})("reset",function(){return st.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[l.Jv_([qr]),l.Vt3]})}}return ue})();function ss(ue,me){const X=ue.indexOf(me);X>-1&&ue.splice(X,1)}function fs(ue){return"object"==typeof ue&&null!==ue&&2===Object.keys(ue).length&&"value"in ue&&"disabled"in ue}const mo=class extends Xe{constructor(me=null,X,Se){super(Kr(X),Ir(Se,X)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(me),this._setUpdateStrategy(X),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Gi(X)&&(X.nonNullable||X.initialValueIsDefault)&&(this.defaultValue=fs(me)?me.value:me)}setValue(me,X={}){this.value=this._pendingValue=me,this._onChange.length&&!1!==X.emitModelToViewChange&&this._onChange.forEach(Se=>Se(this.value,!1!==X.emitViewToModelChange)),this.updateValueAndValidity(X)}patchValue(me,X={}){this.setValue(me,X)}reset(me=this.defaultValue,X={}){this._applyFormState(me),this.markAsPristine(X),this.markAsUntouched(X),this.setValue(this.value,X),this._pendingChange=!1}_updateValue(){}_anyControls(me){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(me){this._onChange.push(me)}_unregisterOnChange(me){ss(this._onChange,me)}registerOnDisabledChange(me){this._onDisabledChange.push(me)}_unregisterOnDisabledChange(me){ss(this._onDisabledChange,me)}_forEachChild(me){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(me){fs(me)?(this.value=this._pendingValue=me.value,me.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=me}},Ue={provide:Si,useExisting:(0,l.Rfq)(()=>Z)},Ge=(()=>Promise.resolve())();let Z=(()=>{class ue extends Si{constructor(X,Se,st,hi,mr,vo){super(),this._changeDetectorRef=mr,this.callSetDisabledState=vo,this.control=new mo,this._registered=!1,this.name="",this.update=new l.bkB,this._parent=X,this._setValidators(Se),this._setAsyncValidators(st),this.valueAccessor=function Wi(ue,me){if(!me)return null;let X,Se,st;return Array.isArray(me),me.forEach(hi=>{hi.constructor===tt?X=hi:function ds(ue){return Object.getPrototypeOf(ue.constructor)===xe}(hi)?Se=hi:st=hi}),st||Se||X||null}(0,hi)}ngOnChanges(X){if(this._checkForErrors(),!this._registered||"name"in X){if(this._registered&&(this._checkName(),this.formDirective)){const Se=X.name.previousValue;this.formDirective.removeControl({name:Se,path:this._getPath(Se)})}this._setUpControl()}"isDisabled"in X&&this._updateDisabled(X),function jr(ue,me){if(!ue.hasOwnProperty("model"))return!1;const X=ue.model;return!!X.isFirstChange()||!Object.is(me,X.currentValue)}(X,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(X){this.viewModel=X,this.update.emit(X)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){jn(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(X){Ge.then(()=>{this.control.setValue(X,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(X){const Se=X.isDisabled.currentValue,st=0!==Se&&(0,l.L39)(Se);Ge.then(()=>{st&&!this.control.disabled?this.control.disable():!st&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(X){return this._parent?function si(ue,me){return[...me.path,ue]}(X,this._parent):[X]}static{this.\u0275fac=function(Se){return new(Se||ue)(l.rXU(Jn,9),l.rXU(Cn,10),l.rXU(Tn,10),l.rXU(at,10),l.rXU(l.gRc,8),l.rXU(an,8))}}static{this.\u0275dir=l.FsC({type:ue,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[l.Jv_([Ue]),l.Vt3,l.OA$]})}}return ue})(),Re=(()=>{class ue{static{this.\u0275fac=function(Se){return new(Se||ue)}}static{this.\u0275dir=l.FsC({type:ue,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return ue})();const Je={provide:at,useExisting:(0,l.Rfq)(()=>tn),multi:!0};let tn=(()=>{class ue extends xe{writeValue(X){this.setProperty("value",X??"")}registerOnChange(X){this.onChange=Se=>{X(""==Se?null:parseFloat(Se))}}static{this.\u0275fac=function(){let X;return function(st){return(X||(X=l.xGo(ue)))(st||ue)}}()}static{this.\u0275dir=l.FsC({type:ue,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(Se,st){1&Se&&l.bIt("input",function(mr){return st.onChange(mr.target.value)})("blur",function(){return st.onTouched()})},features:[l.Jv_([Je]),l.Vt3]})}}return ue})(),Fr=(()=>{class ue{static{this.\u0275fac=function(Se){return new(Se||ue)}}static{this.\u0275mod=l.$C({type:ue})}static{this.\u0275inj=l.G2t({})}}return ue})();const Bi={provide:at,useExisting:(0,l.Rfq)(()=>es),multi:!0};function Mi(ue,me){return null==ue?`${me}`:(me&&"object"==typeof me&&(me="Object"),`${ue}: ${me}`.slice(0,50))}let es=(()=>{class ue extends xe{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(X){this._compareWith=X}writeValue(X){this.value=X;const st=Mi(this._getOptionId(X),X);this.setProperty("value",st)}registerOnChange(X){this.onChange=Se=>{this.value=this._getOptionValue(Se),X(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(X){for(const Se of this._optionMap.keys())if(this._compareWith(this._optionMap.get(Se),X))return Se;return null}_getOptionValue(X){const Se=function Ws(ue){return ue.split(":")[0]}(X);return this._optionMap.has(Se)?this._optionMap.get(Se):X}static{this.\u0275fac=function(){let X;return function(st){return(X||(X=l.xGo(ue)))(st||ue)}}()}static{this.\u0275dir=l.FsC({type:ue,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(Se,st){1&Se&&l.bIt("change",function(mr){return st.onChange(mr.target.value)})("blur",function(){return st.onTouched()})},inputs:{compareWith:"compareWith"},features:[l.Jv_([Bi]),l.Vt3]})}}return ue})(),ws=(()=>{class ue{constructor(X,Se,st){this._element=X,this._renderer=Se,this._select=st,this._select&&(this.id=this._select._registerOption())}set ngValue(X){null!=this._select&&(this._select._optionMap.set(this.id,X),this._setElementValue(Mi(this.id,X)),this._select.writeValue(this._select.value))}set value(X){this._setElementValue(X),this._select&&this._select.writeValue(this._select.value)}_setElementValue(X){this._renderer.setProperty(this._element.nativeElement,"value",X)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(Se){return new(Se||ue)(l.rXU(l.aKT),l.rXU(l.sFG),l.rXU(es,9))}}static{this.\u0275dir=l.FsC({type:ue,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return ue})();const ko={provide:at,useExisting:(0,l.Rfq)(()=>bi),multi:!0};function ps(ue,me){return null==ue?`${me}`:("string"==typeof me&&(me=`'${me}'`),me&&"object"==typeof me&&(me="Object"),`${ue}: ${me}`.slice(0,50))}let bi=(()=>{class ue extends xe{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(X){this._compareWith=X}writeValue(X){let Se;if(this.value=X,Array.isArray(X)){const st=X.map(hi=>this._getOptionId(hi));Se=(hi,mr)=>{hi._setSelected(st.indexOf(mr.toString())>-1)}}else Se=(st,hi)=>{st._setSelected(!1)};this._optionMap.forEach(Se)}registerOnChange(X){this.onChange=Se=>{const st=[],hi=Se.selectedOptions;if(void 0!==hi){const mr=hi;for(let vo=0;vo<mr.length;vo++){const ur=this._getOptionValue(mr[vo].value);st.push(ur)}}else{const mr=Se.options;for(let vo=0;vo<mr.length;vo++){const To=mr[vo];if(To.selected){const ur=this._getOptionValue(To.value);st.push(ur)}}}this.value=st,X(st)}}_registerOption(X){const Se=(this._idCounter++).toString();return this._optionMap.set(Se,X),Se}_getOptionId(X){for(const Se of this._optionMap.keys())if(this._compareWith(this._optionMap.get(Se)._value,X))return Se;return null}_getOptionValue(X){const Se=function No(ue){return ue.split(":")[0]}(X);return this._optionMap.has(Se)?this._optionMap.get(Se)._value:X}static{this.\u0275fac=function(){let X;return function(st){return(X||(X=l.xGo(ue)))(st||ue)}}()}static{this.\u0275dir=l.FsC({type:ue,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(Se,st){1&Se&&l.bIt("change",function(mr){return st.onChange(mr.target)})("blur",function(){return st.onTouched()})},inputs:{compareWith:"compareWith"},features:[l.Jv_([ko]),l.Vt3]})}}return ue})(),ra=(()=>{class ue{constructor(X,Se,st){this._element=X,this._renderer=Se,this._select=st,this._select&&(this.id=this._select._registerOption(this))}set ngValue(X){null!=this._select&&(this._value=X,this._setElementValue(ps(this.id,X)),this._select.writeValue(this._select.value))}set value(X){this._select?(this._value=X,this._setElementValue(ps(this.id,X)),this._select.writeValue(this._select.value)):this._setElementValue(X)}_setElementValue(X){this._renderer.setProperty(this._element.nativeElement,"value",X)}_setSelected(X){this._renderer.setProperty(this._element.nativeElement,"selected",X)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(Se){return new(Se||ue)(l.rXU(l.aKT),l.rXU(l.sFG),l.rXU(bi,9))}}static{this.\u0275dir=l.FsC({type:ue,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return ue})(),kr=(()=>{class ue{constructor(){this._validator=yn}ngOnChanges(X){if(this.inputName in X){const Se=this.normalizeInput(X[this.inputName].currentValue);this._enabled=this.enabled(Se),this._validator=this._enabled?this.createValidator(Se):yn,this._onChange&&this._onChange()}}validate(X){return this._validator(X)}registerOnValidatorChange(X){this._onChange=X}enabled(X){return null!=X}static{this.\u0275fac=function(Se){return new(Se||ue)}}static{this.\u0275dir=l.FsC({type:ue,features:[l.OA$]})}}return ue})();const Ra={provide:Cn,useExisting:(0,l.Rfq)(()=>Ss),multi:!0};let Ss=(()=>{class ue extends kr{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=l.L39,this.createValidator=X=>Dt}enabled(X){return X}static{this.\u0275fac=function(){let X;return function(st){return(X||(X=l.xGo(ue)))(st||ue)}}()}static{this.\u0275dir=l.FsC({type:ue,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(Se,st){2&Se&&l.BMQ("required",st._enabled?"":null)},inputs:{required:"required"},features:[l.Jv_([Ra]),l.Vt3]})}}return ue})(),ks=(()=>{class ue{static{this.\u0275fac=function(Se){return new(Se||ue)}}static{this.\u0275mod=l.$C({type:ue})}static{this.\u0275inj=l.G2t({imports:[Fr]})}}return ue})(),Lo=(()=>{class ue{static withConfig(X){return{ngModule:ue,providers:[{provide:an,useValue:X.callSetDisabledState??mn}]}}static{this.\u0275fac=function(Se){return new(Se||ue)}}static{this.\u0275mod=l.$C({type:ue})}static{this.\u0275inj=l.G2t({imports:[ks]})}}return ue})()},345:(ei,Nt,ee)=>{ee.d(Nt,{B7:()=>rt,Bb:()=>ti,hE:()=>Wr,sG:()=>Bn,up:()=>bs});var l=ee(7705),Le=ee(177);class ke extends Le.VF{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class ot extends ke{static makeCurrent(){(0,Le.ZD)(new ot)}onAndCancel(Ae,Ee,we){return Ae.addEventListener(Ee,we),()=>{Ae.removeEventListener(Ee,we)}}dispatchEvent(Ae,Ee){Ae.dispatchEvent(Ee)}remove(Ae){Ae.parentNode&&Ae.parentNode.removeChild(Ae)}createElement(Ae,Ee){return(Ee=Ee||this.getDefaultDocument()).createElement(Ae)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(Ae){return Ae.nodeType===Node.ELEMENT_NODE}isShadowRoot(Ae){return Ae instanceof DocumentFragment}getGlobalEventTarget(Ae,Ee){return"window"===Ee?window:"document"===Ee?Ae:"body"===Ee?Ae.body:null}getBaseHref(Ae){const Ee=function Ce(){return R=R||document.querySelector("base"),R?R.getAttribute("href"):null}();return null==Ee?null:function at(ve){xe=xe||document.createElement("a"),xe.setAttribute("href",ve);const Ae=xe.pathname;return"/"===Ae.charAt(0)?Ae:`/${Ae}`}(Ee)}resetBaseElement(){R=null}getUserAgent(){return window.navigator.userAgent}getCookie(Ae){return(0,Le._b)(document.cookie,Ae)}}let xe,R=null,Pe=(()=>{class ve{build(){return new XMLHttpRequest}static{this.\u0275fac=function(we){return new(we||ve)}}static{this.\u0275prov=l.jDH({token:ve,factory:ve.\u0275fac})}}return ve})();const He=new l.nKC("EventManagerPlugins");let mt=(()=>{class ve{constructor(Ee,we){this._zone=we,this._eventNameToPlugin=new Map,Ee.forEach(Ct=>{Ct.manager=this}),this._plugins=Ee.slice().reverse()}addEventListener(Ee,we,Ct){return this._findPluginFor(we).addEventListener(Ee,we,Ct)}getZone(){return this._zone}_findPluginFor(Ee){let we=this._eventNameToPlugin.get(Ee);if(we)return we;if(we=this._plugins.find(an=>an.supports(Ee)),!we)throw new l.wOt(5101,!1);return this._eventNameToPlugin.set(Ee,we),we}static{this.\u0275fac=function(we){return new(we||ve)(l.KVO(He),l.KVO(l.SKi))}}static{this.\u0275prov=l.jDH({token:ve,factory:ve.\u0275fac})}}return ve})();class Ft{constructor(Ae){this._doc=Ae}}const tt="ng-app-id";let yt=(()=>{class ve{constructor(Ee,we,Ct,an={}){this.doc=Ee,this.appId=we,this.nonce=Ct,this.platformId=an,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,Le.Vy)(an),this.resetHostNodes()}addStyles(Ee){for(const we of Ee)1===this.changeUsageCount(we,1)&&this.onStyleAdded(we)}removeStyles(Ee){for(const we of Ee)this.changeUsageCount(we,-1)<=0&&this.onStyleRemoved(we)}ngOnDestroy(){const Ee=this.styleNodesInDOM;Ee&&(Ee.forEach(we=>we.remove()),Ee.clear());for(const we of this.getAllStyles())this.onStyleRemoved(we);this.resetHostNodes()}addHost(Ee){this.hostNodes.add(Ee);for(const we of this.getAllStyles())this.addStyleToHost(Ee,we)}removeHost(Ee){this.hostNodes.delete(Ee)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(Ee){for(const we of this.hostNodes)this.addStyleToHost(we,Ee)}onStyleRemoved(Ee){const we=this.styleRef;we.get(Ee)?.elements?.forEach(Ct=>Ct.remove()),we.delete(Ee)}collectServerRenderedStyles(){const Ee=this.doc.head?.querySelectorAll(`style[${tt}="${this.appId}"]`);if(Ee?.length){const we=new Map;return Ee.forEach(Ct=>{null!=Ct.textContent&&we.set(Ct.textContent,Ct)}),we}return null}changeUsageCount(Ee,we){const Ct=this.styleRef;if(Ct.has(Ee)){const an=Ct.get(Ee);return an.usage+=we,an.usage}return Ct.set(Ee,{usage:we,elements:[]}),we}getStyleElement(Ee,we){const Ct=this.styleNodesInDOM,an=Ct?.get(we);if(an?.parentNode===Ee)return Ct.delete(we),an.removeAttribute(tt),an;{const mn=this.doc.createElement("style");return this.nonce&&mn.setAttribute("nonce",this.nonce),mn.textContent=we,this.platformIsServer&&mn.setAttribute(tt,this.appId),mn}}addStyleToHost(Ee,we){const Ct=this.getStyleElement(Ee,we);Ee.appendChild(Ct);const an=this.styleRef,mn=an.get(we)?.elements;mn?mn.push(Ct):an.set(we,{elements:[Ct],usage:1})}resetHostNodes(){const Ee=this.hostNodes;Ee.clear(),Ee.add(this.doc.head)}static{this.\u0275fac=function(we){return new(we||ve)(l.KVO(Le.qQ),l.KVO(l.sZ2),l.KVO(l.BIS,8),l.KVO(l.Agw))}}static{this.\u0275prov=l.jDH({token:ve,factory:ve.\u0275fac})}}return ve})();const It={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Cn=/%COMP%/g,cn=new l.nKC("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function Lt(ve,Ae){return Ae.map(Ee=>Ee.replace(Cn,ve))}let rt=(()=>{class ve{constructor(Ee,we,Ct,an,mn,si,jn,Yn=null){this.eventManager=Ee,this.sharedStylesHost=we,this.appId=Ct,this.removeStylesOnCompDestroy=an,this.doc=mn,this.platformId=si,this.ngZone=jn,this.nonce=Yn,this.rendererByCompId=new Map,this.platformIsServer=(0,Le.Vy)(si),this.defaultRenderer=new Qt(Ee,mn,jn,this.platformIsServer)}createRenderer(Ee,we){if(!Ee||!we)return this.defaultRenderer;this.platformIsServer&&we.encapsulation===l.gXe.ShadowDom&&(we={...we,encapsulation:l.gXe.Emulated});const Ct=this.getOrCreateRenderer(Ee,we);return Ct instanceof Xi?Ct.applyToHost(Ee):Ct instanceof Ii&&Ct.applyStyles(),Ct}getOrCreateRenderer(Ee,we){const Ct=this.rendererByCompId;let an=Ct.get(we.id);if(!an){const mn=this.doc,si=this.ngZone,jn=this.eventManager,Yn=this.sharedStylesHost,Qn=this.removeStylesOnCompDestroy,ki=this.platformIsServer;switch(we.encapsulation){case l.gXe.Emulated:an=new Xi(jn,Yn,we,this.appId,Qn,mn,si,ki);break;case l.gXe.ShadowDom:return new on(jn,Yn,Ee,we,mn,si,this.nonce,ki);default:an=new Ii(jn,Yn,we,Qn,mn,si,ki)}Ct.set(we.id,an)}return an}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(we){return new(we||ve)(l.KVO(mt),l.KVO(yt),l.KVO(l.sZ2),l.KVO(cn),l.KVO(Le.qQ),l.KVO(l.Agw),l.KVO(l.SKi),l.KVO(l.BIS))}}static{this.\u0275prov=l.jDH({token:ve,factory:ve.\u0275fac})}}return ve})();class Qt{constructor(Ae,Ee,we,Ct){this.eventManager=Ae,this.doc=Ee,this.ngZone=we,this.platformIsServer=Ct,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(Ae,Ee){return Ee?this.doc.createElementNS(It[Ee]||Ee,Ae):this.doc.createElement(Ae)}createComment(Ae){return this.doc.createComment(Ae)}createText(Ae){return this.doc.createTextNode(Ae)}appendChild(Ae,Ee){(fi(Ae)?Ae.content:Ae).appendChild(Ee)}insertBefore(Ae,Ee,we){Ae&&(fi(Ae)?Ae.content:Ae).insertBefore(Ee,we)}removeChild(Ae,Ee){Ae&&Ae.removeChild(Ee)}selectRootElement(Ae,Ee){let we="string"==typeof Ae?this.doc.querySelector(Ae):Ae;if(!we)throw new l.wOt(-5104,!1);return Ee||(we.textContent=""),we}parentNode(Ae){return Ae.parentNode}nextSibling(Ae){return Ae.nextSibling}setAttribute(Ae,Ee,we,Ct){if(Ct){Ee=Ct+":"+Ee;const an=It[Ct];an?Ae.setAttributeNS(an,Ee,we):Ae.setAttribute(Ee,we)}else Ae.setAttribute(Ee,we)}removeAttribute(Ae,Ee,we){if(we){const Ct=It[we];Ct?Ae.removeAttributeNS(Ct,Ee):Ae.removeAttribute(`${we}:${Ee}`)}else Ae.removeAttribute(Ee)}addClass(Ae,Ee){Ae.classList.add(Ee)}removeClass(Ae,Ee){Ae.classList.remove(Ee)}setStyle(Ae,Ee,we,Ct){Ct&(l.czy.DashCase|l.czy.Important)?Ae.style.setProperty(Ee,we,Ct&l.czy.Important?"important":""):Ae.style[Ee]=we}removeStyle(Ae,Ee,we){we&l.czy.DashCase?Ae.style.removeProperty(Ee):Ae.style[Ee]=""}setProperty(Ae,Ee,we){Ae[Ee]=we}setValue(Ae,Ee){Ae.nodeValue=Ee}listen(Ae,Ee,we){if("string"==typeof Ae&&!(Ae=(0,Le.QT)().getGlobalEventTarget(this.doc,Ae)))throw new Error(`Unsupported event target ${Ae} for event ${Ee}`);return this.eventManager.addEventListener(Ae,Ee,this.decoratePreventDefault(we))}decoratePreventDefault(Ae){return Ee=>{if("__ngUnwrap__"===Ee)return Ae;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>Ae(Ee)):Ae(Ee))&&Ee.preventDefault()}}}function fi(ve){return"TEMPLATE"===ve.tagName&&void 0!==ve.content}class on extends Qt{constructor(Ae,Ee,we,Ct,an,mn,si,jn){super(Ae,an,mn,jn),this.sharedStylesHost=Ee,this.hostEl=we,this.shadowRoot=we.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Yn=Lt(Ct.id,Ct.styles);for(const Qn of Yn){const ki=document.createElement("style");si&&ki.setAttribute("nonce",si),ki.textContent=Qn,this.shadowRoot.appendChild(ki)}}nodeOrShadowRoot(Ae){return Ae===this.hostEl?this.shadowRoot:Ae}appendChild(Ae,Ee){return super.appendChild(this.nodeOrShadowRoot(Ae),Ee)}insertBefore(Ae,Ee,we){return super.insertBefore(this.nodeOrShadowRoot(Ae),Ee,we)}removeChild(Ae,Ee){return super.removeChild(this.nodeOrShadowRoot(Ae),Ee)}parentNode(Ae){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(Ae)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Ii extends Qt{constructor(Ae,Ee,we,Ct,an,mn,si,jn){super(Ae,an,mn,si),this.sharedStylesHost=Ee,this.removeStylesOnCompDestroy=Ct,this.styles=jn?Lt(jn,we.styles):we.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Xi extends Ii{constructor(Ae,Ee,we,Ct,an,mn,si,jn){const Yn=Ct+"-"+we.id;super(Ae,Ee,we,an,mn,si,jn,Yn),this.contentAttr=function Dt(ve){return"_ngcontent-%COMP%".replace(Cn,ve)}(Yn),this.hostAttr=function At(ve){return"_nghost-%COMP%".replace(Cn,ve)}(Yn)}applyToHost(Ae){this.applyStyles(),this.setAttribute(Ae,this.hostAttr,"")}createElement(Ae,Ee){const we=super.createElement(Ae,Ee);return super.setAttribute(we,this.contentAttr,""),we}}let Zr=(()=>{class ve extends Ft{constructor(Ee){super(Ee)}supports(Ee){return!0}addEventListener(Ee,we,Ct){return Ee.addEventListener(we,Ct,!1),()=>this.removeEventListener(Ee,we,Ct)}removeEventListener(Ee,we,Ct){return Ee.removeEventListener(we,Ct)}static{this.\u0275fac=function(we){return new(we||ve)(l.KVO(Le.qQ))}}static{this.\u0275prov=l.jDH({token:ve,factory:ve.\u0275fac})}}return ve})();const hr=["alt","control","meta","shift"],xn={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Gr={alt:ve=>ve.altKey,control:ve=>ve.ctrlKey,meta:ve=>ve.metaKey,shift:ve=>ve.shiftKey};let Vt=(()=>{class ve extends Ft{constructor(Ee){super(Ee)}supports(Ee){return null!=ve.parseEventName(Ee)}addEventListener(Ee,we,Ct){const an=ve.parseEventName(we),mn=ve.eventCallback(an.fullKey,Ct,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,Le.QT)().onAndCancel(Ee,an.domEventName,mn))}static parseEventName(Ee){const we=Ee.toLowerCase().split("."),Ct=we.shift();if(0===we.length||"keydown"!==Ct&&"keyup"!==Ct)return null;const an=ve._normalizeKey(we.pop());let mn="",si=we.indexOf("code");if(si>-1&&(we.splice(si,1),mn="code."),hr.forEach(Yn=>{const Qn=we.indexOf(Yn);Qn>-1&&(we.splice(Qn,1),mn+=Yn+".")}),mn+=an,0!=we.length||0===an.length)return null;const jn={};return jn.domEventName=Ct,jn.fullKey=mn,jn}static matchEventFullKeyCode(Ee,we){let Ct=xn[Ee.key]||Ee.key,an="";return we.indexOf("code.")>-1&&(Ct=Ee.code,an="code."),!(null==Ct||!Ct)&&(Ct=Ct.toLowerCase()," "===Ct?Ct="space":"."===Ct&&(Ct="dot"),hr.forEach(mn=>{mn!==Ct&&(0,Gr[mn])(Ee)&&(an+=mn+".")}),an+=Ct,an===we)}static eventCallback(Ee,we,Ct){return an=>{ve.matchEventFullKeyCode(an,Ee)&&Ct.runGuarded(()=>we(an))}}static _normalizeKey(Ee){return"esc"===Ee?"escape":Ee}static{this.\u0275fac=function(we){return new(we||ve)(l.KVO(Le.qQ))}}static{this.\u0275prov=l.jDH({token:ve,factory:ve.\u0275fac})}}return ve})();const Bn=(0,l.oH4)(l.fpN,"browser",[{provide:l.Agw,useValue:Le.AJ},{provide:l.PLl,useValue:function Ut(){ot.makeCurrent()},multi:!0},{provide:Le.qQ,useFactory:function In(){return(0,l.TL$)(document),document},deps:[]}]),Jn=new l.nKC(""),Si=[{provide:l.e01,useClass:class ft{addToWindow(Ae){l.JZv.getAngularTestability=(we,Ct=!0)=>{const an=Ae.findTestabilityInTree(we,Ct);if(null==an)throw new l.wOt(5103,!1);return an},l.JZv.getAllAngularTestabilities=()=>Ae.getAllTestabilities(),l.JZv.getAllAngularRootElements=()=>Ae.getAllRootElements(),l.JZv.frameworkStabilizers||(l.JZv.frameworkStabilizers=[]),l.JZv.frameworkStabilizers.push(we=>{const Ct=l.JZv.getAllAngularTestabilities();let an=Ct.length,mn=!1;const si=function(jn){mn=mn||jn,an--,0==an&&we(mn)};Ct.forEach(jn=>{jn.whenStable(si)})})}findTestabilityInTree(Ae,Ee,we){return null==Ee?null:Ae.getTestability(Ee)??(we?(0,Le.QT)().isShadowRoot(Ee)?this.findTestabilityInTree(Ae,Ee.host,!0):this.findTestabilityInTree(Ae,Ee.parentElement,!0):null)}},deps:[]},{provide:l.WHO,useClass:l.NYb,deps:[l.SKi,l.giA,l.e01]},{provide:l.NYb,useClass:l.NYb,deps:[l.SKi,l.giA,l.e01]}],nr=[{provide:l.H8p,useValue:"root"},{provide:l.zcH,useFactory:function Mn(){return new l.zcH},deps:[]},{provide:He,useClass:Zr,multi:!0,deps:[Le.qQ,l.SKi,l.Agw]},{provide:He,useClass:Vt,multi:!0,deps:[Le.qQ]},rt,yt,mt,{provide:l._9s,useExisting:rt},{provide:Le.N0,useClass:Pe,deps:[]},[]];let ti=(()=>{class ve{constructor(Ee){}static withServerTransition(Ee){return{ngModule:ve,providers:[{provide:l.sZ2,useValue:Ee.appId}]}}static{this.\u0275fac=function(we){return new(we||ve)(l.KVO(Jn,12))}}static{this.\u0275mod=l.$C({type:ve})}static{this.\u0275inj=l.G2t({providers:[...nr,...Si],imports:[Le.MD,l.Hbi]})}}return ve})(),Wr=(()=>{class ve{constructor(Ee){this._doc=Ee}getTitle(){return this._doc.title}setTitle(Ee){this._doc.title=Ee||""}static{this.\u0275fac=function(we){return new(we||ve)(l.KVO(Le.qQ))}}static{this.\u0275prov=l.jDH({token:ve,factory:function(we){let Ct=null;return Ct=we?new we:function zi(){return new Wr((0,l.KVO)(Le.qQ))}(),Ct},providedIn:"root"})}}return ve})();typeof window<"u"&&window;let bs=(()=>{class ve{static{this.\u0275fac=function(we){return new(we||ve)}}static{this.\u0275prov=l.jDH({token:ve,factory:function(we){let Ct=null;return Ct=we?new(we||ve):l.KVO(Ur),Ct},providedIn:"root"})}}return ve})(),Ur=(()=>{class ve extends bs{constructor(Ee){super(),this._doc=Ee}sanitize(Ee,we){if(null==we)return null;switch(Ee){case l.WPN.NONE:return we;case l.WPN.HTML:return(0,l.ZF7)(we,"HTML")?(0,l.rcV)(we):(0,l.h9k)(this._doc,String(we)).toString();case l.WPN.STYLE:return(0,l.ZF7)(we,"Style")?(0,l.rcV)(we):we;case l.WPN.SCRIPT:if((0,l.ZF7)(we,"Script"))return(0,l.rcV)(we);throw new l.wOt(5200,!1);case l.WPN.URL:return(0,l.ZF7)(we,"URL")?(0,l.rcV)(we):(0,l.$MX)(String(we));case l.WPN.RESOURCE_URL:if((0,l.ZF7)(we,"ResourceURL"))return(0,l.rcV)(we);throw new l.wOt(5201,!1);default:throw new l.wOt(5202,!1)}}bypassSecurityTrustHtml(Ee){return(0,l.Kcf)(Ee)}bypassSecurityTrustStyle(Ee){return(0,l.cWb)(Ee)}bypassSecurityTrustScript(Ee){return(0,l.UyX)(Ee)}bypassSecurityTrustUrl(Ee){return(0,l.osQ)(Ee)}bypassSecurityTrustResourceUrl(Ee){return(0,l.e5t)(Ee)}static{this.\u0275fac=function(we){return new(we||ve)(l.KVO(Le.qQ))}}static{this.\u0275prov=l.jDH({token:ve,factory:function(we){let Ct=null;return Ct=we?new we:function vr(ve){return new Ur(ve.get(Le.qQ))}(l.KVO(l.zZn)),Ct},providedIn:"root"})}}return ve})()},4147:(ei,Nt,ee)=>{ee.d(Nt,{Ix:()=>Ui,Wk:()=>Wn,iI:()=>Ln,n3:()=>es});var l=ee(7705),Le=ee(1985),ke=ee(8071),R=ee(8455),Ce=ee(7673),xe=ee(4412),at=ee(4572),ft=ee(9350),Pe=ee(8793),He=ee(8750);function mt(k){return new Le.c(H=>{(0,He.Tg)(k()).subscribe(H)})}var Ft=ee(1203),tt=ee(8810),yt=ee(983),It=ee(8359),Cn=ee(9974),Tn=ee(4360);function wi(){return(0,Cn.N)((k,H)=>{let S=null;k._refCount++;const G=(0,Tn._)(H,void 0,void 0,void 0,()=>{if(!k||k._refCount<=0||0<--k._refCount)return void(S=null);const ae=k._connection,Te=S;S=null,ae&&(!Te||ae===Te)&&ae.unsubscribe(),H.unsubscribe()});k.subscribe(G),G.closed||(S=k.connect())})}class Ci extends Le.c{constructor(H,S){super(),this.source=H,this.subjectFactory=S,this._subject=null,this._refCount=0,this._connection=null,(0,Cn.S)(H)&&(this.lift=H.lift)}_subscribe(H){return this.getSubject().subscribe(H)}getSubject(){const H=this._subject;return(!H||H.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:H}=this;this._subject=this._connection=null,H?.unsubscribe()}connect(){let H=this._connection;if(!H){H=this._connection=new It.yU;const S=this.getSubject();H.add(this.source.subscribe((0,Tn._)(S,void 0,()=>{this._teardown(),S.complete()},G=>{this._teardown(),S.error(G)},()=>this._teardown()))),H.closed&&(this._connection=null,H=It.yU.EMPTY)}return H}refCount(){return wi()(this)}}var vt=ee(1413),cn=ee(177),Dt=ee(6354),At=ee(5558),Lt=ee(6697),rt=ee(9172),Qt=ee(5964),Mt=ee(1397),yn=ee(1594),fi=ee(274),on=ee(8141),Ii=ee(9437);var hr=ee(9901);function xn(k){return k<=0?()=>yt.w:(0,Cn.N)((H,S)=>{let G=[];H.subscribe((0,Tn._)(S,ae=>{G.push(ae),k<G.length&&G.shift()},()=>{for(const ae of G)S.next(ae);S.complete()},void 0,()=>{G=null}))})}var Gr=ee(3774),Vt=ee(3669),qt=ee(980),ln=ee(6977),Ut=ee(6365),Mn=ee(345);const In="primary",Hi=Symbol("RouteTitle");class Bn{constructor(H){this.params=H||{}}has(H){return Object.prototype.hasOwnProperty.call(this.params,H)}get(H){if(this.has(H)){const S=this.params[H];return Array.isArray(S)?S[0]:S}return null}getAll(H){if(this.has(H)){const S=this.params[H];return Array.isArray(S)?S:[S]}return[]}get keys(){return Object.keys(this.params)}}function Jn(k){return new Bn(k)}function Si(k,H,S){const G=S.path.split("/");if(G.length>k.length||"full"===S.pathMatch&&(H.hasChildren()||G.length<k.length))return null;const ae={};for(let Te=0;Te<G.length;Te++){const Qe=G[Te],en=k[Te];if(Qe.startsWith(":"))ae[Qe.substring(1)]=en;else if(Qe!==en.path)return null}return{consumed:k.slice(0,G.length),posParams:ae}}function ti(k,H){const S=k?Object.keys(k):void 0,G=H?Object.keys(H):void 0;if(!S||!G||S.length!=G.length)return!1;let ae;for(let Te=0;Te<S.length;Te++)if(ae=S[Te],!Ni(k[ae],H[ae]))return!1;return!0}function Ni(k,H){if(Array.isArray(k)&&Array.isArray(H)){if(k.length!==H.length)return!1;const S=[...k].sort(),G=[...H].sort();return S.every((ae,Te)=>G[Te]===ae)}return k===H}function ir(k){return k.length>0?k[k.length-1]:null}function Zi(k){return function ot(k){return!!k&&(k instanceof Le.c||(0,ke.T)(k.lift)&&(0,ke.T)(k.subscribe))}(k)?k:(0,l.jNT)(k)?(0,R.H)(Promise.resolve(k)):(0,Ce.of)(k)}const zi={exact:function ni(k,H,S){if(!Fn(k.segments,H.segments)||!Br(k.segments,H.segments,S)||k.numberOfChildren!==H.numberOfChildren)return!1;for(const G in H.children)if(!k.children[G]||!ni(k.children[G],H.children[G],S))return!1;return!0},subset:vi},Wr={exact:function Or(k,H){return ti(k,H)},subset:function Di(k,H){return Object.keys(H).length<=Object.keys(k).length&&Object.keys(H).every(S=>Ni(k[S],H[S]))},ignored:()=>!0};function as(k,H,S){return zi[S.paths](k.root,H.root,S.matrixParams)&&Wr[S.queryParams](k.queryParams,H.queryParams)&&!("exact"===S.fragment&&k.fragment!==H.fragment)}function vi(k,H,S){return fr(k,H,H.segments,S)}function fr(k,H,S,G){if(k.segments.length>S.length){const ae=k.segments.slice(0,S.length);return!(!Fn(ae,S)||H.hasChildren()||!Br(ae,S,G))}if(k.segments.length===S.length){if(!Fn(k.segments,S)||!Br(k.segments,S,G))return!1;for(const ae in H.children)if(!k.children[ae]||!vi(k.children[ae],H.children[ae],G))return!1;return!0}{const ae=S.slice(0,k.segments.length),Te=S.slice(k.segments.length);return!!(Fn(k.segments,ae)&&Br(k.segments,ae,G)&&k.children[In])&&fr(k.children[In],H,Te,G)}}function Br(k,H,S){return H.every((G,ae)=>Wr[S](k[ae].parameters,G.parameters))}class Ar{constructor(H=new ii([],{}),S={},G=null){this.root=H,this.queryParams=S,this.fragment=G}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Jn(this.queryParams)),this._queryParamMap}toString(){return is.serialize(this)}}class ii{constructor(H,S){this.segments=H,this.children=S,this.parent=null,Object.values(S).forEach(G=>G.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return bs(this)}}class wr{constructor(H,S){this.path=H,this.parameters=S}get parameterMap(){return this._parameterMap||(this._parameterMap=Jn(this.parameters)),this._parameterMap}toString(){return Ji(this)}}function Fn(k,H){return k.length===H.length&&k.every((S,G)=>S.path===H[G].path)}let gi=(()=>{class k{static{this.\u0275fac=function(G){return new(G||k)}}static{this.\u0275prov=l.jDH({token:k,factory:function(){return new Is},providedIn:"root"})}}return k})();class Is{parse(H){const S=new jn(H);return new Ar(S.parseRootSegment(),S.parseQueryParams(),S.parseFragment())}serialize(H){const S=`/${vr(H.root,!0)}`,G=function Xe(k){const H=Object.keys(k).map(S=>{const G=k[S];return Array.isArray(G)?G.map(ae=>`${Kr(S)}=${Kr(ae)}`).join("&"):`${Kr(S)}=${Kr(G)}`}).filter(S=>!!S);return H.length?`?${H.join("&")}`:""}(H.queryParams);return`${S}${G}${"string"==typeof H.fragment?`#${function Cr(k){return encodeURI(k)}(H.fragment)}`:""}`}}const is=new Is;function bs(k){return k.segments.map(H=>Ji(H)).join("/")}function vr(k,H){if(!k.hasChildren())return bs(k);if(H){const S=k.children[In]?vr(k.children[In],!1):"",G=[];return Object.entries(k.children).forEach(([ae,Te])=>{ae!==In&&G.push(`${ae}:${vr(Te,!1)}`)}),G.length>0?`${S}(${G.join("//")})`:S}{const S=function xs(k,H){let S=[];return Object.entries(k.children).forEach(([G,ae])=>{G===In&&(S=S.concat(H(ae,G)))}),Object.entries(k.children).forEach(([G,ae])=>{G!==In&&(S=S.concat(H(ae,G)))}),S}(k,(G,ae)=>ae===In?[vr(k.children[In],!1)]:[`${ae}:${vr(G,!1)}`]);return 1===Object.keys(k.children).length&&null!=k.children[In]?`${bs(k)}/${S[0]}`:`${bs(k)}/(${S.join("//")})`}}function Ur(k){return encodeURIComponent(k).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Kr(k){return Ur(k).replace(/%3B/gi,";")}function Ir(k){return Ur(k).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Jr(k){return decodeURIComponent(k)}function Gi(k){return Jr(k.replace(/\+/g,"%20"))}function Ji(k){return`${Ir(k.path)}${function _r(k){return Object.keys(k).map(H=>`;${Ir(H)}=${Ir(k[H])}`).join("")}(k.parameters)}`}const ve=/^[^\/()?;#]+/;function Ae(k){const H=k.match(ve);return H?H[0]:""}const Ee=/^[^\/()?;=#]+/,Ct=/^[^=?&#]+/,mn=/^[^&#]+/;class jn{constructor(H){this.url=H,this.remaining=H}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ii([],{}):new ii([],this.parseChildren())}parseQueryParams(){const H={};if(this.consumeOptional("?"))do{this.parseQueryParam(H)}while(this.consumeOptional("&"));return H}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const H=[];for(this.peekStartsWith("(")||H.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),H.push(this.parseSegment());let S={};this.peekStartsWith("/(")&&(this.capture("/"),S=this.parseParens(!0));let G={};return this.peekStartsWith("(")&&(G=this.parseParens(!1)),(H.length>0||Object.keys(S).length>0)&&(G[In]=new ii(H,S)),G}parseSegment(){const H=Ae(this.remaining);if(""===H&&this.peekStartsWith(";"))throw new l.wOt(4009,!1);return this.capture(H),new wr(Jr(H),this.parseMatrixParams())}parseMatrixParams(){const H={};for(;this.consumeOptional(";");)this.parseParam(H);return H}parseParam(H){const S=function we(k){const H=k.match(Ee);return H?H[0]:""}(this.remaining);if(!S)return;this.capture(S);let G="";if(this.consumeOptional("=")){const ae=Ae(this.remaining);ae&&(G=ae,this.capture(G))}H[Jr(S)]=Jr(G)}parseQueryParam(H){const S=function an(k){const H=k.match(Ct);return H?H[0]:""}(this.remaining);if(!S)return;this.capture(S);let G="";if(this.consumeOptional("=")){const Qe=function si(k){const H=k.match(mn);return H?H[0]:""}(this.remaining);Qe&&(G=Qe,this.capture(G))}const ae=Gi(S),Te=Gi(G);if(H.hasOwnProperty(ae)){let Qe=H[ae];Array.isArray(Qe)||(Qe=[Qe],H[ae]=Qe),Qe.push(Te)}else H[ae]=Te}parseParens(H){const S={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const G=Ae(this.remaining),ae=this.remaining[G.length];if("/"!==ae&&")"!==ae&&";"!==ae)throw new l.wOt(4010,!1);let Te;G.indexOf(":")>-1?(Te=G.slice(0,G.indexOf(":")),this.capture(Te),this.capture(":")):H&&(Te=In);const Qe=this.parseChildren();S[Te]=1===Object.keys(Qe).length?Qe[In]:new ii([],Qe),this.consumeOptional("//")}return S}peekStartsWith(H){return this.remaining.startsWith(H)}consumeOptional(H){return!!this.peekStartsWith(H)&&(this.remaining=this.remaining.substring(H.length),!0)}capture(H){if(!this.consumeOptional(H))throw new l.wOt(4011,!1)}}function Yn(k){return k.segments.length>0?new ii([],{[In]:k}):k}function Qn(k){const H={};for(const G of Object.keys(k.children)){const Te=Qn(k.children[G]);if(G===In&&0===Te.segments.length&&Te.hasChildren())for(const[Qe,en]of Object.entries(Te.children))H[Qe]=en;else(Te.segments.length>0||Te.hasChildren())&&(H[G]=Te)}return function ki(k){if(1===k.numberOfChildren&&k.children[In]){const H=k.children[In];return new ii(k.segments.concat(H.segments),H.children)}return k}(new ii(k.segments,H))}function _t(k){return k instanceof Ar}function it(k){let H;const ae=Yn(function S(Te){const Qe={};for(const Xt of Te.children){const zn=S(Xt);Qe[Xt.outlet]=zn}const en=new ii(Te.url,Qe);return Te===k&&(H=en),en}(k.root));return H??ae}function Ze(k,H,S,G){let ae=k;for(;ae.parent;)ae=ae.parent;if(0===H.length)return Yt(ae,ae,ae,S,G);const Te=function yi(k){if("string"==typeof k[0]&&1===k.length&&"/"===k[0])return new un(!0,0,k);let H=0,S=!1;const G=k.reduce((ae,Te,Qe)=>{if("object"==typeof Te&&null!=Te){if(Te.outlets){const en={};return Object.entries(Te.outlets).forEach(([Xt,zn])=>{en[Xt]="string"==typeof zn?zn.split("/"):zn}),[...ae,{outlets:en}]}if(Te.segmentPath)return[...ae,Te.segmentPath]}return"string"!=typeof Te?[...ae,Te]:0===Qe?(Te.split("/").forEach((en,Xt)=>{0==Xt&&"."===en||(0==Xt&&""===en?S=!0:".."===en?H++:""!=en&&ae.push(en))}),ae):[...ae,Te]},[]);return new un(S,H,G)}(H);if(Te.toRoot())return Yt(ae,ae,new ii([],{}),S,G);const Qe=function Fi(k,H,S){if(k.isAbsolute)return new or(H,!0,0);if(!S)return new or(H,!1,NaN);if(null===S.parent)return new or(S,!0,0);const G=Ke(k.commands[0])?0:1;return function Nr(k,H,S){let G=k,ae=H,Te=S;for(;Te>ae;){if(Te-=ae,G=G.parent,!G)throw new l.wOt(4005,!1);ae=G.segments.length}return new or(G,!1,ae-Te)}(S,S.segments.length-1+G,k.numberOfDoubleDots)}(Te,ae,k),en=Qe.processChildren?ar(Qe.segmentGroup,Qe.index,Te.commands):ds(Qe.segmentGroup,Qe.index,Te.commands);return Yt(ae,Qe.segmentGroup,en,S,G)}function Ke(k){return"object"==typeof k&&null!=k&&!k.outlets&&!k.segmentPath}function xt(k){return"object"==typeof k&&null!=k&&k.outlets}function Yt(k,H,S,G,ae){let Qe,Te={};G&&Object.entries(G).forEach(([Xt,zn])=>{Te[Xt]=Array.isArray(zn)?zn.map(Er=>`${Er}`):`${zn}`}),Qe=k===H?S:Pn(k,H,S);const en=Yn(Qn(Qe));return new Ar(en,Te,ae)}function Pn(k,H,S){const G={};return Object.entries(k.children).forEach(([ae,Te])=>{G[ae]=Te===H?S:Pn(Te,H,S)}),new ii(k.segments,G)}class un{constructor(H,S,G){if(this.isAbsolute=H,this.numberOfDoubleDots=S,this.commands=G,H&&G.length>0&&Ke(G[0]))throw new l.wOt(4003,!1);const ae=G.find(xt);if(ae&&ae!==ir(G))throw new l.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class or{constructor(H,S,G){this.segmentGroup=H,this.processChildren=S,this.index=G}}function ds(k,H,S){if(k||(k=new ii([],{})),0===k.segments.length&&k.hasChildren())return ar(k,H,S);const G=function Wi(k,H,S){let G=0,ae=H;const Te={match:!1,pathIndex:0,commandIndex:0};for(;ae<k.segments.length;){if(G>=S.length)return Te;const Qe=k.segments[ae],en=S[G];if(xt(en))break;const Xt=`${en}`,zn=G<S.length-1?S[G+1]:null;if(ae>0&&void 0===Xt)break;if(Xt&&zn&&"object"==typeof zn&&void 0===zn.outlets){if(!Es(Xt,zn,Qe))return Te;G+=2}else{if(!Es(Xt,{},Qe))return Te;G++}ae++}return{match:!0,pathIndex:ae,commandIndex:G}}(k,H,S),ae=S.slice(G.commandIndex);if(G.match&&G.pathIndex<k.segments.length){const Te=new ii(k.segments.slice(0,G.pathIndex),{});return Te.children[In]=new ii(k.segments.slice(G.pathIndex),k.children),ar(Te,0,ae)}return G.match&&0===ae.length?new ii(k.segments,{}):G.match&&!k.hasChildren()?hs(k,H,S):G.match?ar(k,0,ae):hs(k,H,S)}function ar(k,H,S){if(0===S.length)return new ii(k.segments,{});{const G=function jr(k){return xt(k[0])?k[0].outlets:{[In]:k}}(S),ae={};if(Object.keys(G).some(Te=>Te!==In)&&k.children[In]&&1===k.numberOfChildren&&0===k.children[In].segments.length){const Te=ar(k.children[In],H,S);return new ii(k.segments,Te.children)}return Object.entries(G).forEach(([Te,Qe])=>{"string"==typeof Qe&&(Qe=[Qe]),null!==Qe&&(ae[Te]=ds(k.children[Te],H,Qe))}),Object.entries(k.children).forEach(([Te,Qe])=>{void 0===G[Te]&&(ae[Te]=Qe)}),new ii(k.segments,ae)}}function hs(k,H,S){const G=k.segments.slice(0,H);let ae=0;for(;ae<S.length;){const Te=S[ae];if(xt(Te)){const Xt=Co(Te.outlets);return new ii(G,Xt)}if(0===ae&&Ke(S[0])){G.push(new wr(k.segments[H].path,qr(S[0]))),ae++;continue}const Qe=xt(Te)?Te.outlets[In]:`${Te}`,en=ae<S.length-1?S[ae+1]:null;Qe&&en&&Ke(en)?(G.push(new wr(Qe,qr(en))),ae+=2):(G.push(new wr(Qe,{})),ae++)}return new ii(G,{})}function Co(k){const H={};return Object.entries(k).forEach(([S,G])=>{"string"==typeof G&&(G=[G]),null!==G&&(H[S]=hs(new ii([],{}),0,G))}),H}function qr(k){const H={};return Object.entries(k).forEach(([S,G])=>H[S]=`${G}`),H}function Es(k,H,S){return k==S.path&&ti(H,S.parameters)}const Yi="imperative";class ss{constructor(H,S){this.id=H,this.url=S}}class fs extends ss{constructor(H,S,G="imperative",ae=null){super(H,S),this.type=0,this.navigationTrigger=G,this.restoredState=ae}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class mo extends ss{constructor(H,S,G){super(H,S),this.urlAfterRedirects=G,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Io extends ss{constructor(H,S,G,ae){super(H,S),this.reason=G,this.code=ae,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class ht extends ss{constructor(H,S,G,ae){super(H,S),this.reason=G,this.code=ae,this.type=16}}class ut extends ss{constructor(H,S,G,ae){super(H,S),this.error=G,this.target=ae,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class jt extends ss{constructor(H,S,G,ae){super(H,S),this.urlAfterRedirects=G,this.state=ae,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class dn extends ss{constructor(H,S,G,ae){super(H,S),this.urlAfterRedirects=G,this.state=ae,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Sn extends ss{constructor(H,S,G,ae,Te){super(H,S),this.urlAfterRedirects=G,this.state=ae,this.shouldActivate=Te,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class pi extends ss{constructor(H,S,G,ae){super(H,S),this.urlAfterRedirects=G,this.state=ae,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class rr extends ss{constructor(H,S,G,ae){super(H,S),this.urlAfterRedirects=G,this.state=ae,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class pr{constructor(H){this.route=H,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Ue{constructor(H){this.route=H,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Ge{constructor(H){this.snapshot=H,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Z{constructor(H){this.snapshot=H,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Re{constructor(H){this.snapshot=H,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Je{constructor(H){this.snapshot=H,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class tn{constructor(H,S,G){this.routerEvent=H,this.position=S,this.anchor=G,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class gn{}class _i{constructor(H){this.url=H}}class Yr{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Hr,this.attachRef=null}}let Hr=(()=>{class k{constructor(){this.contexts=new Map}onChildOutletCreated(S,G){const ae=this.getOrCreateContext(S);ae.outlet=G,this.contexts.set(S,ae)}onChildOutletDestroyed(S){const G=this.getContext(S);G&&(G.outlet=null,G.attachRef=null)}onOutletDeactivated(){const S=this.contexts;return this.contexts=new Map,S}onOutletReAttached(S){this.contexts=S}getOrCreateContext(S){let G=this.getContext(S);return G||(G=new Yr,this.contexts.set(S,G)),G}getContext(S){return this.contexts.get(S)||null}static{this.\u0275fac=function(G){return new(G||k)}}static{this.\u0275prov=l.jDH({token:k,factory:k.\u0275fac,providedIn:"root"})}}return k})();class Ls{constructor(H){this._root=H}get root(){return this._root.value}parent(H){const S=this.pathFromRoot(H);return S.length>1?S[S.length-2]:null}children(H){const S=ls(H,this._root);return S?S.children.map(G=>G.value):[]}firstChild(H){const S=ls(H,this._root);return S&&S.children.length>0?S.children[0].value:null}siblings(H){const S=Li(H,this._root);return S.length<2?[]:S[S.length-2].children.map(ae=>ae.value).filter(ae=>ae!==H)}pathFromRoot(H){return Li(H,this._root).map(S=>S.value)}}function ls(k,H){if(k===H.value)return H;for(const S of H.children){const G=ls(k,S);if(G)return G}return null}function Li(k,H){if(k===H.value)return[H];for(const S of H.children){const G=Li(k,S);if(G.length)return G.unshift(H),G}return[]}class cr{constructor(H,S){this.value=H,this.children=S}toString(){return`TreeNode(${this.value})`}}function Sr(k){const H={};return k&&k.children.forEach(S=>H[S.value.outlet]=S),H}class no extends Ls{constructor(H,S){super(H),this.snapshot=S,Rn(this,H)}toString(){return this.snapshot.toString()}}function As(k,H){const S=function Ia(k,H){const Qe=new Qs([],{},{},"",{},In,H,null,{});return new Pr("",new cr(Qe,[]))}(0,H),G=new xe.t([new wr("",{})]),ae=new xe.t({}),Te=new xe.t({}),Qe=new xe.t({}),en=new xe.t(""),Xt=new go(G,ae,Qe,en,Te,In,H,S.root);return Xt.snapshot=S.root,new no(new cr(Xt,[]),S)}class go{constructor(H,S,G,ae,Te,Qe,en,Xt){this.urlSubject=H,this.paramsSubject=S,this.queryParamsSubject=G,this.fragmentSubject=ae,this.dataSubject=Te,this.outlet=Qe,this.component=en,this._futureSnapshot=Xt,this.title=this.dataSubject?.pipe((0,Dt.T)(zn=>zn[Hi]))??(0,Ce.of)(void 0),this.url=H,this.params=S,this.queryParams=G,this.fragment=ae,this.data=Te}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Dt.T)(H=>Jn(H)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Dt.T)(H=>Jn(H)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function ua(k,H="emptyOnly"){const S=k.pathFromRoot;let G=0;if("always"!==H)for(G=S.length-1;G>=1;){const ae=S[G],Te=S[G-1];if(ae.routeConfig&&""===ae.routeConfig.path)G--;else{if(Te.component)break;G--}}return function Vs(k){return k.reduce((H,S)=>({params:{...H.params,...S.params},data:{...H.data,...S.data},resolve:{...S.data,...H.resolve,...S.routeConfig?.data,...S._resolvedData}}),{params:{},data:{},resolve:{}})}(S.slice(G))}class Qs{get title(){return this.data?.[Hi]}constructor(H,S,G,ae,Te,Qe,en,Xt,zn){this.url=H,this.params=S,this.queryParams=G,this.fragment=ae,this.data=Te,this.outlet=Qe,this.component=en,this.routeConfig=Xt,this._resolve=zn}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Jn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Jn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(G=>G.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Pr extends Ls{constructor(H,S){super(S),this.url=H,Rn(this,S)}toString(){return Bi(this._root)}}function Rn(k,H){H.value._routerState=k,H.children.forEach(S=>Rn(k,S))}function Bi(k){const H=k.children.length>0?` { ${k.children.map(Bi).join(", ")} } `:"";return`${k.value}${H}`}function Mi(k){if(k.snapshot){const H=k.snapshot,S=k._futureSnapshot;k.snapshot=S,ti(H.queryParams,S.queryParams)||k.queryParamsSubject.next(S.queryParams),H.fragment!==S.fragment&&k.fragmentSubject.next(S.fragment),ti(H.params,S.params)||k.paramsSubject.next(S.params),function nr(k,H){if(k.length!==H.length)return!1;for(let S=0;S<k.length;++S)if(!ti(k[S],H[S]))return!1;return!0}(H.url,S.url)||k.urlSubject.next(S.url),ti(H.data,S.data)||k.dataSubject.next(S.data)}else k.snapshot=k._futureSnapshot,k.dataSubject.next(k._futureSnapshot.data)}function Ws(k,H){const S=ti(k.params,H.params)&&function cs(k,H){return Fn(k,H)&&k.every((S,G)=>ti(S.parameters,H[G].parameters))}(k.url,H.url);return S&&!(!k.parent!=!H.parent)&&(!k.parent||Ws(k.parent,H.parent))}let es=(()=>{class k{constructor(){this.activated=null,this._activatedRoute=null,this.name=In,this.activateEvents=new l.bkB,this.deactivateEvents=new l.bkB,this.attachEvents=new l.bkB,this.detachEvents=new l.bkB,this.parentContexts=(0,l.WQX)(Hr),this.location=(0,l.WQX)(l.c1b),this.changeDetector=(0,l.WQX)(l.gRc),this.environmentInjector=(0,l.WQX)(l.uvJ),this.inputBinder=(0,l.WQX)(ko,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(S){if(S.name){const{firstChange:G,previousValue:ae}=S.name;if(G)return;this.isTrackedInParentContexts(ae)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(ae)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(S){return this.parentContexts.getContext(S)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const S=this.parentContexts.getContext(this.name);S?.route&&(S.attachRef?this.attach(S.attachRef,S.route):this.activateWith(S.route,S.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new l.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new l.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new l.wOt(4012,!1);this.location.detach();const S=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(S.instance),S}attach(S,G){this.activated=S,this._activatedRoute=G,this.location.insert(S.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(S.instance)}deactivate(){if(this.activated){const S=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(S)}}activateWith(S,G){if(this.isActivated)throw new l.wOt(4013,!1);this._activatedRoute=S;const ae=this.location,Qe=S.snapshot.component,en=this.parentContexts.getOrCreateContext(this.name).children,Xt=new ws(S,en,ae.injector);this.activated=ae.createComponent(Qe,{index:ae.length,injector:Xt,environmentInjector:G??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(G){return new(G||k)}}static{this.\u0275dir=l.FsC({type:k,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[l.OA$]})}}return k})();class ws{constructor(H,S,G){this.route=H,this.childContexts=S,this.parent=G}get(H,S){return H===go?this.route:H===Hr?this.childContexts:this.parent.get(H,S)}}const ko=new l.nKC("");let ps=(()=>{class k{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(S){this.unsubscribeFromRouteData(S),this.subscribeToRouteData(S)}unsubscribeFromRouteData(S){this.outletDataSubscriptions.get(S)?.unsubscribe(),this.outletDataSubscriptions.delete(S)}subscribeToRouteData(S){const{activatedRoute:G}=S,ae=(0,at.z)([G.queryParams,G.params,G.data]).pipe((0,At.n)(([Te,Qe,en],Xt)=>(en={...Te,...Qe,...en},0===Xt?(0,Ce.of)(en):Promise.resolve(en)))).subscribe(Te=>{if(!S.isActivated||!S.activatedComponentRef||S.activatedRoute!==G||null===G.component)return void this.unsubscribeFromRouteData(S);const Qe=(0,l.HJs)(G.component);if(Qe)for(const{templateName:en}of Qe.inputs)S.activatedComponentRef.setInput(en,Te[en]);else this.unsubscribeFromRouteData(S)});this.outletDataSubscriptions.set(S,ae)}static{this.\u0275fac=function(G){return new(G||k)}}static{this.\u0275prov=l.jDH({token:k,factory:k.\u0275fac})}}return k})();function So(k,H,S){if(S&&k.shouldReuseRoute(H.value,S.value.snapshot)){const G=S.value;G._futureSnapshot=H.value;const ae=function bi(k,H,S){return H.children.map(G=>{for(const ae of S.children)if(k.shouldReuseRoute(G.value,ae.value.snapshot))return So(k,G,ae);return So(k,G)})}(k,H,S);return new cr(G,ae)}{if(k.shouldAttach(H.value)){const Te=k.retrieve(H.value);if(null!==Te){const Qe=Te.route;return Qe.value._futureSnapshot=H.value,Qe.children=H.children.map(en=>So(k,en)),Qe}}const G=function ra(k){return new go(new xe.t(k.url),new xe.t(k.params),new xe.t(k.queryParams),new xe.t(k.fragment),new xe.t(k.data),k.outlet,k.component,k)}(H.value),ae=H.children.map(Te=>So(k,Te));return new cr(G,ae)}}const lo="ngNavigationCancelingError";function Bs(k,H){const{redirectTo:S,navigationBehaviorOptions:G}=_t(H)?{redirectTo:H,navigationBehaviorOptions:void 0}:H,ae=kr(!1,0,H);return ae.url=S,ae.navigationBehaviorOptions=G,ae}function kr(k,H,S){const G=new Error("NavigationCancelingError: "+(k||""));return G[lo]=!0,G.cancellationCode=H,S&&(G.url=S),G}function Do(k){return k&&k[lo]}let Ds=(()=>{class k{static{this.\u0275fac=function(G){return new(G||k)}}static{this.\u0275cmp=l.VBU({type:k,selectors:[["ng-component"]],standalone:!0,features:[l.aNF],decls:1,vars:0,template:function(G,ae){1&G&&l.nrm(0,"router-outlet")},dependencies:[es],encapsulation:2})}}return k})();function _o(k){const H=k.children&&k.children.map(_o),S=H?{...k,children:H}:{...k};return!S.component&&!S.loadComponent&&(H||S.loadChildren)&&S.outlet&&S.outlet!==In&&(S.component=Ds),S}function us(k){return k.outlet||In}function Xs(k){if(!k)return null;if(k.routeConfig?._injector)return k.routeConfig._injector;for(let H=k.parent;H;H=H.parent){const S=H.routeConfig;if(S?._loadedInjector)return S._loadedInjector;if(S?._injector)return S._injector}return null}class Zs{constructor(H,S,G,ae,Te){this.routeReuseStrategy=H,this.futureState=S,this.currState=G,this.forwardEvent=ae,this.inputBindingEnabled=Te}activate(H){const S=this.futureState._root,G=this.currState?this.currState._root:null;this.deactivateChildRoutes(S,G,H),Mi(this.futureState.root),this.activateChildRoutes(S,G,H)}deactivateChildRoutes(H,S,G){const ae=Sr(S);H.children.forEach(Te=>{const Qe=Te.value.outlet;this.deactivateRoutes(Te,ae[Qe],G),delete ae[Qe]}),Object.values(ae).forEach(Te=>{this.deactivateRouteAndItsChildren(Te,G)})}deactivateRoutes(H,S,G){const ae=H.value,Te=S?S.value:null;if(ae===Te)if(ae.component){const Qe=G.getContext(ae.outlet);Qe&&this.deactivateChildRoutes(H,S,Qe.children)}else this.deactivateChildRoutes(H,S,G);else Te&&this.deactivateRouteAndItsChildren(S,G)}deactivateRouteAndItsChildren(H,S){H.value.component&&this.routeReuseStrategy.shouldDetach(H.value.snapshot)?this.detachAndStoreRouteSubtree(H,S):this.deactivateRouteAndOutlet(H,S)}detachAndStoreRouteSubtree(H,S){const G=S.getContext(H.value.outlet),ae=G&&H.value.component?G.children:S,Te=Sr(H);for(const Qe of Object.keys(Te))this.deactivateRouteAndItsChildren(Te[Qe],ae);if(G&&G.outlet){const Qe=G.outlet.detach(),en=G.children.onOutletDeactivated();this.routeReuseStrategy.store(H.value.snapshot,{componentRef:Qe,route:H,contexts:en})}}deactivateRouteAndOutlet(H,S){const G=S.getContext(H.value.outlet),ae=G&&H.value.component?G.children:S,Te=Sr(H);for(const Qe of Object.keys(Te))this.deactivateRouteAndItsChildren(Te[Qe],ae);G&&(G.outlet&&(G.outlet.deactivate(),G.children.onOutletDeactivated()),G.attachRef=null,G.route=null)}activateChildRoutes(H,S,G){const ae=Sr(S);H.children.forEach(Te=>{this.activateRoutes(Te,ae[Te.value.outlet],G),this.forwardEvent(new Je(Te.value.snapshot))}),H.children.length&&this.forwardEvent(new Z(H.value.snapshot))}activateRoutes(H,S,G){const ae=H.value,Te=S?S.value:null;if(Mi(ae),ae===Te)if(ae.component){const Qe=G.getOrCreateContext(ae.outlet);this.activateChildRoutes(H,S,Qe.children)}else this.activateChildRoutes(H,S,G);else if(ae.component){const Qe=G.getOrCreateContext(ae.outlet);if(this.routeReuseStrategy.shouldAttach(ae.snapshot)){const en=this.routeReuseStrategy.retrieve(ae.snapshot);this.routeReuseStrategy.store(ae.snapshot,null),Qe.children.onOutletReAttached(en.contexts),Qe.attachRef=en.componentRef,Qe.route=en.route.value,Qe.outlet&&Qe.outlet.attach(en.componentRef,en.route.value),Mi(en.route.value),this.activateChildRoutes(H,null,Qe.children)}else{const en=Xs(ae.snapshot);Qe.attachRef=null,Qe.route=ae,Qe.injector=en,Qe.outlet&&Qe.outlet.activateWith(ae,Qe.injector),this.activateChildRoutes(H,null,Qe.children)}}else this.activateChildRoutes(H,null,G)}}class ks{constructor(H){this.path=H,this.route=this.path[this.path.length-1]}}class js{constructor(H,S){this.component=H,this.route=S}}function Zo(k,H,S){const G=k._root;return Ks(G,H?H._root:null,S,[G.value])}function Ms(k,H){const S=Symbol(),G=H.get(k,S);return G===S?"function"!=typeof k||(0,l.LfX)(k)?H.get(k):k:G}function Ks(k,H,S,G,ae={canDeactivateChecks:[],canActivateChecks:[]}){const Te=Sr(H);return k.children.forEach(Qe=>{(function ts(k,H,S,G,ae={canDeactivateChecks:[],canActivateChecks:[]}){const Te=k.value,Qe=H?H.value:null,en=S?S.getContext(k.value.outlet):null;if(Qe&&Te.routeConfig===Qe.routeConfig){const Xt=function sa(k,H,S){if("function"==typeof S)return S(k,H);switch(S){case"pathParamsChange":return!Fn(k.url,H.url);case"pathParamsOrQueryParamsChange":return!Fn(k.url,H.url)||!ti(k.queryParams,H.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ws(k,H)||!ti(k.queryParams,H.queryParams);default:return!Ws(k,H)}}(Qe,Te,Te.routeConfig.runGuardsAndResolvers);Xt?ae.canActivateChecks.push(new ks(G)):(Te.data=Qe.data,Te._resolvedData=Qe._resolvedData),Ks(k,H,Te.component?en?en.children:null:S,G,ae),Xt&&en&&en.outlet&&en.outlet.isActivated&&ae.canDeactivateChecks.push(new js(en.outlet.component,Qe))}else Qe&&qs(H,en,ae),ae.canActivateChecks.push(new ks(G)),Ks(k,null,Te.component?en?en.children:null:S,G,ae)})(Qe,Te[Qe.value.outlet],S,G.concat([Qe.value]),ae),delete Te[Qe.value.outlet]}),Object.entries(Te).forEach(([Qe,en])=>qs(en,S.getContext(Qe),ae)),ae}function qs(k,H,S){const G=Sr(k),ae=k.value;Object.entries(G).forEach(([Te,Qe])=>{qs(Qe,ae.component?H?H.children.getContext(Te):null:H,S)}),S.canDeactivateChecks.push(new js(ae.component&&H&&H.outlet&&H.outlet.isActivated?H.outlet.component:null,ae))}function Lo(k){return"function"==typeof k}function vo(k){return k instanceof ft.G||"EmptyError"===k?.name}const To=Symbol("INITIAL_VALUE");function ur(){return(0,At.n)(k=>(0,at.z)(k.map(H=>H.pipe((0,Lt.s)(1),(0,rt.Z)(To)))).pipe((0,Dt.T)(H=>{for(const S of H)if(!0!==S){if(S===To)return To;if(!1===S||S instanceof Ar)return S}return!0}),(0,Qt.p)(H=>H!==To),(0,Lt.s)(1)))}function Bo(k){return(0,Ft.F)((0,on.M)(H=>{if(_t(H))throw Bs(0,H)}),(0,Dt.T)(H=>!0===H))}class Ko{constructor(H){this.segmentGroup=H||null}}class rs{constructor(H){this.urlTree=H}}function jo(k){return(0,tt.$)(new Ko(k))}function er(k){return(0,tt.$)(new rs(k))}class ya{constructor(H,S){this.urlSerializer=H,this.urlTree=S}noMatchError(H){return new l.wOt(4002,!1)}lineralizeSegments(H,S){let G=[],ae=S.root;for(;;){if(G=G.concat(ae.segments),0===ae.numberOfChildren)return(0,Ce.of)(G);if(ae.numberOfChildren>1||!ae.children[In])return(0,tt.$)(new l.wOt(4e3,!1));ae=ae.children[In]}}applyRedirectCommands(H,S,G){return this.applyRedirectCreateUrlTree(S,this.urlSerializer.parse(S),H,G)}applyRedirectCreateUrlTree(H,S,G,ae){const Te=this.createSegmentGroup(H,S.root,G,ae);return new Ar(Te,this.createQueryParams(S.queryParams,this.urlTree.queryParams),S.fragment)}createQueryParams(H,S){const G={};return Object.entries(H).forEach(([ae,Te])=>{if("string"==typeof Te&&Te.startsWith(":")){const en=Te.substring(1);G[ae]=S[en]}else G[ae]=Te}),G}createSegmentGroup(H,S,G,ae){const Te=this.createSegments(H,S.segments,G,ae);let Qe={};return Object.entries(S.children).forEach(([en,Xt])=>{Qe[en]=this.createSegmentGroup(H,Xt,G,ae)}),new ii(Te,Qe)}createSegments(H,S,G,ae){return S.map(Te=>Te.path.startsWith(":")?this.findPosParam(H,Te,ae):this.findOrReturn(Te,G))}findPosParam(H,S,G){const ae=G[S.path.substring(1)];if(!ae)throw new l.wOt(4001,!1);return ae}findOrReturn(H,S){let G=0;for(const ae of S){if(ae.path===H.path)return S.splice(G),ae;G++}return H}}const Hs={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function ea(k,H,S,G,ae){const Te=bo(k,H,S);return Te.matched?(G=function Fo(k,H){return k.providers&&!k._injector&&(k._injector=(0,l.Ol2)(k.providers,H,`Route: ${k.path}`)),k._injector??H}(H,G),function Ro(k,H,S,G){const ae=H.canMatch;if(!ae||0===ae.length)return(0,Ce.of)(!0);const Te=ae.map(Qe=>{const en=Ms(Qe,k);return Zi(function st(k){return k&&Lo(k.canMatch)}(en)?en.canMatch(H,S):k.runInContext(()=>en(H,S)))});return(0,Ce.of)(Te).pipe(ur(),Bo())}(G,H,S).pipe((0,Dt.T)(Qe=>!0===Qe?Te:{...Hs}))):(0,Ce.of)(Te)}function bo(k,H,S){if(""===H.path)return"full"===H.pathMatch&&(k.hasChildren()||S.length>0)?{...Hs}:{matched:!0,consumedSegments:[],remainingSegments:S,parameters:{},positionalParamSegments:{}};const ae=(H.matcher||Si)(S,k,H);if(!ae)return{...Hs};const Te={};Object.entries(ae.posParams??{}).forEach(([en,Xt])=>{Te[en]=Xt.path});const Qe=ae.consumed.length>0?{...Te,...ae.consumed[ae.consumed.length-1].parameters}:Te;return{matched:!0,consumedSegments:ae.consumed,remainingSegments:S.slice(ae.consumed.length),parameters:Qe,positionalParamSegments:ae.posParams??{}}}function Ns(k,H,S,G){return S.length>0&&function ba(k,H,S){return S.some(G=>xo(k,H,G)&&us(G)!==In)}(k,S,G)?{segmentGroup:new ii(H,uo(G,new ii(S,k.children))),slicedSegments:[]}:0===S.length&&function Na(k,H,S){return S.some(G=>xo(k,H,G))}(k,S,G)?{segmentGroup:new ii(k.segments,va(k,0,S,G,k.children)),slicedSegments:S}:{segmentGroup:new ii(k.segments,k.children),slicedSegments:S}}function va(k,H,S,G,ae){const Te={};for(const Qe of G)if(xo(k,S,Qe)&&!ae[us(Qe)]){const en=new ii([],{});Te[us(Qe)]=en}return{...ae,...Te}}function uo(k,H){const S={};S[In]=H;for(const G of k)if(""===G.path&&us(G)!==In){const ae=new ii([],{});S[us(G)]=ae}return S}function xo(k,H,S){return(!(k.hasChildren()||H.length>0)||"full"!==S.pathMatch)&&""===S.path}class Mr{constructor(H,S,G,ae,Te,Qe,en){this.injector=H,this.configLoader=S,this.rootComponentType=G,this.config=ae,this.urlTree=Te,this.paramsInheritanceStrategy=Qe,this.urlSerializer=en,this.allowRedirects=!0,this.applyRedirects=new ya(this.urlSerializer,this.urlTree)}noMatchError(H){return new l.wOt(4002,!1)}recognize(){const H=Ns(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,H,In).pipe((0,Ii.W)(S=>{if(S instanceof rs)return this.allowRedirects=!1,this.urlTree=S.urlTree,this.match(S.urlTree);throw S instanceof Ko?this.noMatchError(S):S}),(0,Dt.T)(S=>{const G=new Qs([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},In,this.rootComponentType,null,{}),ae=new cr(G,S),Te=new Pr("",ae),Qe=function qe(k,H,S=null,G=null){return Ze(it(k),H,S,G)}(G,[],this.urlTree.queryParams,this.urlTree.fragment);return Qe.queryParams=this.urlTree.queryParams,Te.url=this.urlSerializer.serialize(Qe),this.inheritParamsAndData(Te._root),{state:Te,tree:Qe}}))}match(H){return this.processSegmentGroup(this.injector,this.config,H.root,In).pipe((0,Ii.W)(G=>{throw G instanceof Ko?this.noMatchError(G):G}))}inheritParamsAndData(H){const S=H.value,G=ua(S,this.paramsInheritanceStrategy);S.params=Object.freeze(G.params),S.data=Object.freeze(G.data),H.children.forEach(ae=>this.inheritParamsAndData(ae))}processSegmentGroup(H,S,G,ae){return 0===G.segments.length&&G.hasChildren()?this.processChildren(H,S,G):this.processSegment(H,S,G,G.segments,ae,!0)}processChildren(H,S,G){const ae=[];for(const Te of Object.keys(G.children))"primary"===Te?ae.unshift(Te):ae.push(Te);return(0,R.H)(ae).pipe((0,fi.H)(Te=>{const Qe=G.children[Te],en=function yo(k,H){const S=k.filter(G=>us(G)===H);return S.push(...k.filter(G=>us(G)!==H)),S}(S,Te);return this.processSegmentGroup(H,en,Qe,Te)}),function Zr(k,H){return(0,Cn.N)(function Xi(k,H,S,G,ae){return(Te,Qe)=>{let en=S,Xt=H,zn=0;Te.subscribe((0,Tn._)(Qe,Er=>{const Gs=zn++;Xt=en?k(Xt,Er,Gs):(en=!0,Er),G&&Qe.next(Xt)},ae&&(()=>{en&&Qe.next(Xt),Qe.complete()})))}}(k,H,arguments.length>=2,!0))}((Te,Qe)=>(Te.push(...Qe),Te)),(0,hr.U)(null),function Bt(k,H){const S=arguments.length>=2;return G=>G.pipe(k?(0,Qt.p)((ae,Te)=>k(ae,Te,G)):Vt.D,xn(1),S?(0,hr.U)(H):(0,Gr.v)(()=>new ft.G))}(),(0,Mt.Z)(Te=>{if(null===Te)return jo(G);const Qe=Po(Te);return function Ua(k){k.sort((H,S)=>H.value.outlet===In?-1:S.value.outlet===In?1:H.value.outlet.localeCompare(S.value.outlet))}(Qe),(0,Ce.of)(Qe)}))}processSegment(H,S,G,ae,Te,Qe){return(0,R.H)(S).pipe((0,fi.H)(en=>this.processSegmentAgainstRoute(en._injector??H,S,en,G,ae,Te,Qe).pipe((0,Ii.W)(Xt=>{if(Xt instanceof Ko)return(0,Ce.of)(null);throw Xt}))),(0,yn.$)(en=>!!en),(0,Ii.W)(en=>{if(vo(en))return function Ys(k,H,S){return 0===H.length&&!k.children[S]}(G,ae,Te)?(0,Ce.of)([]):jo(G);throw en}))}processSegmentAgainstRoute(H,S,G,ae,Te,Qe,en){return function Ho(k,H,S,G){return!!(us(k)===G||G!==In&&xo(H,S,k))&&("**"===k.path||bo(H,k,S).matched)}(G,ae,Te,Qe)?void 0===G.redirectTo?this.matchSegmentAgainstRoute(H,ae,G,Te,Qe,en):en&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(H,ae,S,G,Te,Qe):jo(ae):jo(ae)}expandSegmentAgainstRouteUsingRedirect(H,S,G,ae,Te,Qe){return"**"===ae.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(H,G,ae,Qe):this.expandRegularSegmentAgainstRouteUsingRedirect(H,S,G,ae,Te,Qe)}expandWildCardWithParamsAgainstRouteUsingRedirect(H,S,G,ae){const Te=this.applyRedirects.applyRedirectCommands([],G.redirectTo,{});return G.redirectTo.startsWith("/")?er(Te):this.applyRedirects.lineralizeSegments(G,Te).pipe((0,Mt.Z)(Qe=>{const en=new ii(Qe,{});return this.processSegment(H,S,en,Qe,ae,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(H,S,G,ae,Te,Qe){const{matched:en,consumedSegments:Xt,remainingSegments:zn,positionalParamSegments:Er}=bo(S,ae,Te);if(!en)return jo(S);const Gs=this.applyRedirects.applyRedirectCommands(Xt,ae.redirectTo,Er);return ae.redirectTo.startsWith("/")?er(Gs):this.applyRedirects.lineralizeSegments(ae,Gs).pipe((0,Mt.Z)(Ts=>this.processSegment(H,G,S,Ts.concat(zn),Qe,!1)))}matchSegmentAgainstRoute(H,S,G,ae,Te,Qe){let en;if("**"===G.path){const Xt=ae.length>0?ir(ae).parameters:{},zn=new Qs(ae,Xt,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,w(G),us(G),G.component??G._loadedComponent??null,G,j(G));en=(0,Ce.of)({snapshot:zn,consumedSegments:[],remainingSegments:[]}),S.children={}}else en=ea(S,G,ae,H).pipe((0,Dt.T)(({matched:Xt,consumedSegments:zn,remainingSegments:Er,parameters:Gs})=>Xt?{snapshot:new Qs(zn,Gs,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,w(G),us(G),G.component??G._loadedComponent??null,G,j(G)),consumedSegments:zn,remainingSegments:Er}:null));return en.pipe((0,At.n)(Xt=>null===Xt?jo(S):this.getChildConfig(H=G._injector??H,G,ae).pipe((0,At.n)(({routes:zn})=>{const Er=G._loadedInjector??H,{snapshot:Gs,consumedSegments:Ts,remainingSegments:y}=Xt,{segmentGroup:f,slicedSegments:c}=Ns(S,Ts,y,zn);if(0===c.length&&f.hasChildren())return this.processChildren(Er,zn,f).pipe((0,Dt.T)(m=>null===m?null:[new cr(Gs,m)]));if(0===zn.length&&0===c.length)return(0,Ce.of)([new cr(Gs,[])]);const h=us(G)===Te;return this.processSegment(Er,zn,f,c,h?In:Te,!0).pipe((0,Dt.T)(m=>[new cr(Gs,m)]))}))))}getChildConfig(H,S,G){return S.children?(0,Ce.of)({routes:S.children,injector:H}):S.loadChildren?void 0!==S._loadedRoutes?(0,Ce.of)({routes:S._loadedRoutes,injector:S._loadedInjector}):function ao(k,H,S,G){const ae=H.canLoad;if(void 0===ae||0===ae.length)return(0,Ce.of)(!0);const Te=ae.map(Qe=>{const en=Ms(Qe,k);return Zi(function ue(k){return k&&Lo(k.canLoad)}(en)?en.canLoad(H,S):k.runInContext(()=>en(H,S)))});return(0,Ce.of)(Te).pipe(ur(),Bo())}(H,S,G).pipe((0,Mt.Z)(ae=>ae?this.configLoader.loadChildren(H,S).pipe((0,on.M)(Te=>{S._loadedRoutes=Te.routes,S._loadedInjector=Te.injector})):function Jo(k){return(0,tt.$)(kr(!1,3))}())):(0,Ce.of)({routes:[],injector:H})}}function $s(k){const H=k.value.routeConfig;return H&&""===H.path}function Po(k){const H=[],S=new Set;for(const G of k){if(!$s(G)){H.push(G);continue}const ae=H.find(Te=>G.value.routeConfig===Te.value.routeConfig);void 0!==ae?(ae.children.push(...G.children),S.add(ae)):H.push(G)}for(const G of S){const ae=Po(G.children);H.push(new cr(G.value,ae))}return H.filter(G=>!S.has(G))}function w(k){return k.data||{}}function j(k){return k.resolve||{}}function T(k){return"string"==typeof k.title||null===k.title}function re(k){return(0,At.n)(H=>{const S=k(H);return S?(0,R.H)(S).pipe((0,Dt.T)(()=>H)):(0,Ce.of)(H)})}const z=new l.nKC("ROUTES");let ce=(()=>{class k{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,l.WQX)(l.Ql9)}loadComponent(S){if(this.componentLoaders.get(S))return this.componentLoaders.get(S);if(S._loadedComponent)return(0,Ce.of)(S._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(S);const G=Zi(S.loadComponent()).pipe((0,Dt.T)(sn),(0,on.M)(Te=>{this.onLoadEndListener&&this.onLoadEndListener(S),S._loadedComponent=Te}),(0,qt.j)(()=>{this.componentLoaders.delete(S)})),ae=new Ci(G,()=>new vt.B).pipe(wi());return this.componentLoaders.set(S,ae),ae}loadChildren(S,G){if(this.childrenLoaders.get(G))return this.childrenLoaders.get(G);if(G._loadedRoutes)return(0,Ce.of)({routes:G._loadedRoutes,injector:G._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(G);const Te=function Ve(k,H,S,G){return Zi(k.loadChildren()).pipe((0,Dt.T)(sn),(0,Mt.Z)(ae=>ae instanceof l.Co$||Array.isArray(ae)?(0,Ce.of)(ae):(0,R.H)(H.compileModuleAsync(ae))),(0,Dt.T)(ae=>{G&&G(k);let Te,Qe,en=!1;return Array.isArray(ae)?(Qe=ae,!0):(Te=ae.create(S).injector,Qe=Te.get(z,[],{optional:!0,self:!0}).flat()),{routes:Qe.map(_o),injector:Te}}))}(G,this.compiler,S,this.onLoadEndListener).pipe((0,qt.j)(()=>{this.childrenLoaders.delete(G)})),Qe=new Ci(Te,()=>new vt.B).pipe(wi());return this.childrenLoaders.set(G,Qe),Qe}static{this.\u0275fac=function(G){return new(G||k)}}static{this.\u0275prov=l.jDH({token:k,factory:k.\u0275fac,providedIn:"root"})}}return k})();function sn(k){return function kt(k){return k&&"object"==typeof k&&"default"in k}(k)?k.default:k}let vn=(()=>{class k{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new vt.B,this.transitionAbortSubject=new vt.B,this.configLoader=(0,l.WQX)(ce),this.environmentInjector=(0,l.WQX)(l.uvJ),this.urlSerializer=(0,l.WQX)(gi),this.rootContexts=(0,l.WQX)(Hr),this.inputBindingEnabled=null!==(0,l.WQX)(ko,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,Ce.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=ae=>this.events.next(new Ue(ae)),this.configLoader.onLoadStartListener=ae=>this.events.next(new pr(ae))}complete(){this.transitions?.complete()}handleNavigationRequest(S){const G=++this.navigationId;this.transitions?.next({...this.transitions.value,...S,id:G})}setupNavigations(S,G,ae){return this.transitions=new xe.t({id:0,currentUrlTree:G,currentRawUrl:G,currentBrowserUrl:G,extractedUrl:S.urlHandlingStrategy.extract(G),urlAfterRedirects:S.urlHandlingStrategy.extract(G),rawUrl:G,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Yi,restoredState:null,currentSnapshot:ae.snapshot,targetSnapshot:null,currentRouterState:ae,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,Qt.p)(Te=>0!==Te.id),(0,Dt.T)(Te=>({...Te,extractedUrl:S.urlHandlingStrategy.extract(Te.rawUrl)})),(0,At.n)(Te=>{this.currentTransition=Te;let Qe=!1,en=!1;return(0,Ce.of)(Te).pipe((0,on.M)(Xt=>{this.currentNavigation={id:Xt.id,initialUrl:Xt.rawUrl,extractedUrl:Xt.extractedUrl,trigger:Xt.source,extras:Xt.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,At.n)(Xt=>{const zn=Xt.currentBrowserUrl.toString(),Er=!S.navigated||Xt.extractedUrl.toString()!==zn||zn!==Xt.currentUrlTree.toString();if(!Er&&"reload"!==(Xt.extras.onSameUrlNavigation??S.onSameUrlNavigation)){const Ts="";return this.events.next(new ht(Xt.id,this.urlSerializer.serialize(Xt.rawUrl),Ts,0)),Xt.resolve(null),yt.w}if(S.urlHandlingStrategy.shouldProcessUrl(Xt.rawUrl))return(0,Ce.of)(Xt).pipe((0,At.n)(Ts=>{const y=this.transitions?.getValue();return this.events.next(new fs(Ts.id,this.urlSerializer.serialize(Ts.extractedUrl),Ts.source,Ts.restoredState)),y!==this.transitions?.getValue()?yt.w:Promise.resolve(Ts)}),function ne(k,H,S,G,ae,Te){return(0,Mt.Z)(Qe=>function ca(k,H,S,G,ae,Te,Qe="emptyOnly"){return new Mr(k,H,S,G,ae,Qe,Te).recognize()}(k,H,S,G,Qe.extractedUrl,ae,Te).pipe((0,Dt.T)(({state:en,tree:Xt})=>({...Qe,targetSnapshot:en,urlAfterRedirects:Xt}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,S.config,this.urlSerializer,S.paramsInheritanceStrategy),(0,on.M)(Ts=>{Te.targetSnapshot=Ts.targetSnapshot,Te.urlAfterRedirects=Ts.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:Ts.urlAfterRedirects};const y=new jt(Ts.id,this.urlSerializer.serialize(Ts.extractedUrl),this.urlSerializer.serialize(Ts.urlAfterRedirects),Ts.targetSnapshot);this.events.next(y)}));if(Er&&S.urlHandlingStrategy.shouldProcessUrl(Xt.currentRawUrl)){const{id:Ts,extractedUrl:y,source:f,restoredState:c,extras:h}=Xt,m=new fs(Ts,this.urlSerializer.serialize(y),f,c);this.events.next(m);const b=As(0,this.rootComponentType).snapshot;return this.currentTransition=Te={...Xt,targetSnapshot:b,urlAfterRedirects:y,extras:{...h,skipLocationChange:!1,replaceUrl:!1}},(0,Ce.of)(Te)}{const Ts="";return this.events.next(new ht(Xt.id,this.urlSerializer.serialize(Xt.extractedUrl),Ts,1)),Xt.resolve(null),yt.w}}),(0,on.M)(Xt=>{const zn=new dn(Xt.id,this.urlSerializer.serialize(Xt.extractedUrl),this.urlSerializer.serialize(Xt.urlAfterRedirects),Xt.targetSnapshot);this.events.next(zn)}),(0,Dt.T)(Xt=>(this.currentTransition=Te={...Xt,guards:Zo(Xt.targetSnapshot,Xt.currentSnapshot,this.rootContexts)},Te)),function Rs(k,H){return(0,Mt.Z)(S=>{const{targetSnapshot:G,currentSnapshot:ae,guards:{canActivateChecks:Te,canDeactivateChecks:Qe}}=S;return 0===Qe.length&&0===Te.length?(0,Ce.of)({...S,guardsResult:!0}):function Vo(k,H,S,G){return(0,R.H)(k).pipe((0,Mt.Z)(ae=>function _a(k,H,S,G,ae){const Te=H&&H.routeConfig?H.routeConfig.canDeactivate:null;if(!Te||0===Te.length)return(0,Ce.of)(!0);const Qe=Te.map(en=>{const Xt=Xs(H)??ae,zn=Ms(en,Xt);return Zi(function Se(k){return k&&Lo(k.canDeactivate)}(zn)?zn.canDeactivate(k,H,S,G):Xt.runInContext(()=>zn(k,H,S,G))).pipe((0,yn.$)())});return(0,Ce.of)(Qe).pipe(ur())}(ae.component,ae.route,S,H,G)),(0,yn.$)(ae=>!0!==ae,!0))}(Qe,G,ae,k).pipe((0,Mt.Z)(en=>en&&function oa(k){return"boolean"==typeof k}(en)?function Mo(k,H,S,G){return(0,R.H)(H).pipe((0,fi.H)(ae=>(0,Pe.x)(function fa(k,H){return null!==k&&H&&H(new Ge(k)),(0,Ce.of)(!0)}(ae.route.parent,G),function Da(k,H){return null!==k&&H&&H(new Re(k)),(0,Ce.of)(!0)}(ae.route,G),function aa(k,H,S){const G=H[H.length-1],Te=H.slice(0,H.length-1).reverse().map(Qe=>function gs(k){const H=k.routeConfig?k.routeConfig.canActivateChild:null;return H&&0!==H.length?{node:k,guards:H}:null}(Qe)).filter(Qe=>null!==Qe).map(Qe=>mt(()=>{const en=Qe.guards.map(Xt=>{const zn=Xs(Qe.node)??S,Er=Ms(Xt,zn);return Zi(function X(k){return k&&Lo(k.canActivateChild)}(Er)?Er.canActivateChild(G,k):zn.runInContext(()=>Er(G,k))).pipe((0,yn.$)())});return(0,Ce.of)(en).pipe(ur())}));return(0,Ce.of)(Te).pipe(ur())}(k,ae.path,S),function Oo(k,H,S){const G=H.routeConfig?H.routeConfig.canActivate:null;if(!G||0===G.length)return(0,Ce.of)(!0);const ae=G.map(Te=>mt(()=>{const Qe=Xs(H)??S,en=Ms(Te,Qe);return Zi(function me(k){return k&&Lo(k.canActivate)}(en)?en.canActivate(H,k):Qe.runInContext(()=>en(H,k))).pipe((0,yn.$)())}));return(0,Ce.of)(ae).pipe(ur())}(k,ae.route,S))),(0,yn.$)(ae=>!0!==ae,!0))}(G,Te,k,H):(0,Ce.of)(en)),(0,Dt.T)(en=>({...S,guardsResult:en})))})}(this.environmentInjector,Xt=>this.events.next(Xt)),(0,on.M)(Xt=>{if(Te.guardsResult=Xt.guardsResult,_t(Xt.guardsResult))throw Bs(0,Xt.guardsResult);const zn=new Sn(Xt.id,this.urlSerializer.serialize(Xt.extractedUrl),this.urlSerializer.serialize(Xt.urlAfterRedirects),Xt.targetSnapshot,!!Xt.guardsResult);this.events.next(zn)}),(0,Qt.p)(Xt=>!!Xt.guardsResult||(this.cancelNavigationTransition(Xt,"",3),!1)),re(Xt=>{if(Xt.guards.canActivateChecks.length)return(0,Ce.of)(Xt).pipe((0,on.M)(zn=>{const Er=new pi(zn.id,this.urlSerializer.serialize(zn.extractedUrl),this.urlSerializer.serialize(zn.urlAfterRedirects),zn.targetSnapshot);this.events.next(Er)}),(0,At.n)(zn=>{let Er=!1;return(0,Ce.of)(zn).pipe(function ge(k,H){return(0,Mt.Z)(S=>{const{targetSnapshot:G,guards:{canActivateChecks:ae}}=S;if(!ae.length)return(0,Ce.of)(S);let Te=0;return(0,R.H)(ae).pipe((0,fi.H)(Qe=>function Ie(k,H,S,G){const ae=k.routeConfig,Te=k._resolve;return void 0!==ae?.title&&!T(ae)&&(Te[Hi]=ae.title),function ze(k,H,S,G){const ae=function et(k){return[...Object.keys(k),...Object.getOwnPropertySymbols(k)]}(k);if(0===ae.length)return(0,Ce.of)({});const Te={};return(0,R.H)(ae).pipe((0,Mt.Z)(Qe=>function pt(k,H,S,G){const ae=Xs(H)??G,Te=Ms(k,ae);return Zi(Te.resolve?Te.resolve(H,S):ae.runInContext(()=>Te(H,S)))}(k[Qe],H,S,G).pipe((0,yn.$)(),(0,on.M)(en=>{Te[Qe]=en}))),xn(1),function Rt(k){return(0,Dt.T)(()=>k)}(Te),(0,Ii.W)(Qe=>vo(Qe)?yt.w:(0,tt.$)(Qe)))}(Te,k,H,G).pipe((0,Dt.T)(Qe=>(k._resolvedData=Qe,k.data=ua(k,S).resolve,ae&&T(ae)&&(k.data[Hi]=ae.title),null)))}(Qe.route,G,k,H)),(0,on.M)(()=>Te++),xn(1),(0,Mt.Z)(Qe=>Te===ae.length?(0,Ce.of)(S):yt.w))})}(S.paramsInheritanceStrategy,this.environmentInjector),(0,on.M)({next:()=>Er=!0,complete:()=>{Er||this.cancelNavigationTransition(zn,"",2)}}))}),(0,on.M)(zn=>{const Er=new rr(zn.id,this.urlSerializer.serialize(zn.extractedUrl),this.urlSerializer.serialize(zn.urlAfterRedirects),zn.targetSnapshot);this.events.next(Er)}))}),re(Xt=>{const zn=Er=>{const Gs=[];Er.routeConfig?.loadComponent&&!Er.routeConfig._loadedComponent&&Gs.push(this.configLoader.loadComponent(Er.routeConfig).pipe((0,on.M)(Ts=>{Er.component=Ts}),(0,Dt.T)(()=>{})));for(const Ts of Er.children)Gs.push(...zn(Ts));return Gs};return(0,at.z)(zn(Xt.targetSnapshot.root)).pipe((0,hr.U)(),(0,Lt.s)(1))}),re(()=>this.afterPreactivation()),(0,Dt.T)(Xt=>{const zn=function No(k,H,S){const G=So(k,H._root,S?S._root:void 0);return new no(G,H)}(S.routeReuseStrategy,Xt.targetSnapshot,Xt.currentRouterState);return this.currentTransition=Te={...Xt,targetRouterState:zn},Te}),(0,on.M)(()=>{this.events.next(new gn)}),((k,H,S,G)=>(0,Dt.T)(ae=>(new Zs(H,ae.targetRouterState,ae.currentRouterState,S,G).activate(k),ae)))(this.rootContexts,S.routeReuseStrategy,Xt=>this.events.next(Xt),this.inputBindingEnabled),(0,Lt.s)(1),(0,on.M)({next:Xt=>{Qe=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new mo(Xt.id,this.urlSerializer.serialize(Xt.extractedUrl),this.urlSerializer.serialize(Xt.urlAfterRedirects))),S.titleStrategy?.updateTitle(Xt.targetRouterState.snapshot),Xt.resolve(!0)},complete:()=>{Qe=!0}}),(0,ln.Q)(this.transitionAbortSubject.pipe((0,on.M)(Xt=>{throw Xt}))),(0,qt.j)(()=>{Qe||en||this.cancelNavigationTransition(Te,"",1),this.currentNavigation?.id===Te.id&&(this.currentNavigation=null)}),(0,Ii.W)(Xt=>{if(en=!0,Do(Xt))this.events.next(new Io(Te.id,this.urlSerializer.serialize(Te.extractedUrl),Xt.message,Xt.cancellationCode)),function da(k){return Do(k)&&_t(k.url)}(Xt)?this.events.next(new _i(Xt.url)):Te.resolve(!1);else{this.events.next(new ut(Te.id,this.urlSerializer.serialize(Te.extractedUrl),Xt,Te.targetSnapshot??void 0));try{Te.resolve(S.errorHandler(Xt))}catch(zn){Te.reject(zn)}}return yt.w}))}))}cancelNavigationTransition(S,G,ae){const Te=new Io(S.id,this.urlSerializer.serialize(S.extractedUrl),G,ae);this.events.next(Te),S.resolve(!1)}static{this.\u0275fac=function(G){return new(G||k)}}static{this.\u0275prov=l.jDH({token:k,factory:k.\u0275fac,providedIn:"root"})}}return k})();function kn(k){return k!==Yi}let gr=(()=>{class k{buildTitle(S){let G,ae=S.root;for(;void 0!==ae;)G=this.getResolvedTitleForRoute(ae)??G,ae=ae.children.find(Te=>Te.outlet===In);return G}getResolvedTitleForRoute(S){return S.data[Hi]}static{this.\u0275fac=function(G){return new(G||k)}}static{this.\u0275prov=l.jDH({token:k,factory:function(){return(0,l.WQX)(Dr)},providedIn:"root"})}}return k})(),Dr=(()=>{class k extends gr{constructor(S){super(),this.title=S}updateTitle(S){const G=this.buildTitle(S);void 0!==G&&this.title.setTitle(G)}static{this.\u0275fac=function(G){return new(G||k)(l.KVO(Mn.hE))}}static{this.\u0275prov=l.jDH({token:k,factory:k.\u0275fac,providedIn:"root"})}}return k})(),Ki=(()=>{class k{static{this.\u0275fac=function(G){return new(G||k)}}static{this.\u0275prov=l.jDH({token:k,factory:function(){return(0,l.WQX)(_s)},providedIn:"root"})}}return k})();class Os{shouldDetach(H){return!1}store(H,S){}shouldAttach(H){return!1}retrieve(H){return null}shouldReuseRoute(H,S){return H.routeConfig===S.routeConfig}}let _s=(()=>{class k extends Os{static{this.\u0275fac=function(){let S;return function(ae){return(S||(S=l.xGo(k)))(ae||k)}}()}static{this.\u0275prov=l.jDH({token:k,factory:k.\u0275fac,providedIn:"root"})}}return k})();const zs=new l.nKC("",{providedIn:"root",factory:()=>({})});let ho=(()=>{class k{static{this.\u0275fac=function(G){return new(G||k)}}static{this.\u0275prov=l.jDH({token:k,factory:function(){return(0,l.WQX)(io)},providedIn:"root"})}}return k})(),io=(()=>{class k{shouldProcessUrl(S){return!0}extract(S){return S}merge(S,G){return S}static{this.\u0275fac=function(G){return new(G||k)}}static{this.\u0275prov=l.jDH({token:k,factory:k.\u0275fac,providedIn:"root"})}}return k})();var yr=function(k){return k[k.COMPLETE=0]="COMPLETE",k[k.FAILED=1]="FAILED",k[k.REDIRECTING=2]="REDIRECTING",k}(yr||{});function $r(k,H){k.events.pipe((0,Qt.p)(S=>S instanceof mo||S instanceof Io||S instanceof ut||S instanceof ht),(0,Dt.T)(S=>S instanceof mo||S instanceof ht?yr.COMPLETE:S instanceof Io&&(0===S.code||1===S.code)?yr.REDIRECTING:yr.FAILED),(0,Qt.p)(S=>S!==yr.REDIRECTING),(0,Lt.s)(1)).subscribe(()=>{H()})}function Js(k){throw k}function ro(k,H,S){return H.parse("/")}const Ea={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},On={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ui=(()=>{class k{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,l.WQX)(l.H3F),this.isNgZoneEnabled=!1,this._events=new vt.B,this.options=(0,l.WQX)(zs,{optional:!0})||{},this.pendingTasks=(0,l.WQX)(l.$K3),this.errorHandler=this.options.errorHandler||Js,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||ro,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,l.WQX)(ho),this.routeReuseStrategy=(0,l.WQX)(Ki),this.titleStrategy=(0,l.WQX)(gr),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,l.WQX)(z,{optional:!0})?.flat()??[],this.navigationTransitions=(0,l.WQX)(vn),this.urlSerializer=(0,l.WQX)(gi),this.location=(0,l.WQX)(cn.aZ),this.componentInputBindingEnabled=!!(0,l.WQX)(ko,{optional:!0}),this.eventsSubscription=new It.yU,this.isNgZoneEnabled=(0,l.WQX)(l.SKi)instanceof l.SKi&&l.SKi.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Ar,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=As(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(S=>{this.lastSuccessfulId=S.id,this.currentPageId=this.browserPageId},S=>{this.console.warn(`Unhandled Navigation Error: ${S}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const S=this.navigationTransitions.events.subscribe(G=>{try{const{currentTransition:ae}=this.navigationTransitions;if(null===ae)return void(Ta(G)&&this._events.next(G));if(G instanceof fs)kn(ae.source)&&(this.browserUrlTree=ae.extractedUrl);else if(G instanceof ht)this.rawUrlTree=ae.rawUrl;else if(G instanceof jt){if("eager"===this.urlUpdateStrategy){if(!ae.extras.skipLocationChange){const Te=this.urlHandlingStrategy.merge(ae.urlAfterRedirects,ae.rawUrl);this.setBrowserUrl(Te,ae)}this.browserUrlTree=ae.urlAfterRedirects}}else if(G instanceof gn)this.currentUrlTree=ae.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(ae.urlAfterRedirects,ae.rawUrl),this.routerState=ae.targetRouterState,"deferred"===this.urlUpdateStrategy&&(ae.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,ae),this.browserUrlTree=ae.urlAfterRedirects);else if(G instanceof Io)0!==G.code&&1!==G.code&&(this.navigated=!0),(3===G.code||2===G.code)&&this.restoreHistory(ae);else if(G instanceof _i){const Te=this.urlHandlingStrategy.merge(G.url,ae.currentRawUrl),Qe={skipLocationChange:ae.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||kn(ae.source)};this.scheduleNavigation(Te,Yi,null,Qe,{resolve:ae.resolve,reject:ae.reject,promise:ae.promise})}G instanceof ut&&this.restoreHistory(ae,!0),G instanceof mo&&(this.navigated=!0),Ta(G)&&this._events.next(G)}catch(ae){this.navigationTransitions.transitionAbortSubject.next(ae)}});this.eventsSubscription.add(S)}resetRootComponentType(S){this.routerState.root.component=S,this.navigationTransitions.rootComponentType=S}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const S=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Yi,S)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(S=>{const G="popstate"===S.type?"popstate":"hashchange";"popstate"===G&&setTimeout(()=>{this.navigateToSyncWithBrowser(S.url,G,S.state)},0)}))}navigateToSyncWithBrowser(S,G,ae){const Te={replaceUrl:!0},Qe=ae?.navigationId?ae:null;if(ae){const Xt={...ae};delete Xt.navigationId,delete Xt.\u0275routerPageId,0!==Object.keys(Xt).length&&(Te.state=Xt)}const en=this.parseUrl(S);this.scheduleNavigation(en,G,Qe,Te)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(S){this.config=S.map(_o),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(S,G={}){const{relativeTo:ae,queryParams:Te,fragment:Qe,queryParamsHandling:en,preserveFragment:Xt}=G,zn=Xt?this.currentUrlTree.fragment:Qe;let Gs,Er=null;switch(en){case"merge":Er={...this.currentUrlTree.queryParams,...Te};break;case"preserve":Er=this.currentUrlTree.queryParams;break;default:Er=Te||null}null!==Er&&(Er=this.removeEmptyProps(Er));try{Gs=it(ae?ae.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof S[0]||!S[0].startsWith("/"))&&(S=[]),Gs=this.currentUrlTree.root}return Ze(Gs,S,Er,zn??null)}navigateByUrl(S,G={skipLocationChange:!1}){const ae=_t(S)?S:this.parseUrl(S),Te=this.urlHandlingStrategy.merge(ae,this.rawUrlTree);return this.scheduleNavigation(Te,Yi,null,G)}navigate(S,G={skipLocationChange:!1}){return function qo(k){for(let H=0;H<k.length;H++)if(null==k[H])throw new l.wOt(4008,!1)}(S),this.navigateByUrl(this.createUrlTree(S,G),G)}serializeUrl(S){return this.urlSerializer.serialize(S)}parseUrl(S){let G;try{G=this.urlSerializer.parse(S)}catch(ae){G=this.malformedUriErrorHandler(ae,this.urlSerializer,S)}return G}isActive(S,G){let ae;if(ae=!0===G?{...Ea}:!1===G?{...On}:G,_t(S))return as(this.currentUrlTree,S,ae);const Te=this.parseUrl(S);return as(this.currentUrlTree,Te,ae)}removeEmptyProps(S){return Object.keys(S).reduce((G,ae)=>{const Te=S[ae];return null!=Te&&(G[ae]=Te),G},{})}scheduleNavigation(S,G,ae,Te,Qe){if(this.disposed)return Promise.resolve(!1);let en,Xt,zn;Qe?(en=Qe.resolve,Xt=Qe.reject,zn=Qe.promise):zn=new Promise((Gs,Ts)=>{en=Gs,Xt=Ts});const Er=this.pendingTasks.add();return $r(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(Er))}),this.navigationTransitions.handleNavigationRequest({source:G,restoredState:ae,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:S,extras:Te,resolve:en,reject:Xt,promise:zn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),zn.catch(Gs=>Promise.reject(Gs))}setBrowserUrl(S,G){const ae=this.urlSerializer.serialize(S);if(this.location.isCurrentPathEqualTo(ae)||G.extras.replaceUrl){const Qe={...G.extras.state,...this.generateNgRouterState(G.id,this.browserPageId)};this.location.replaceState(ae,"",Qe)}else{const Te={...G.extras.state,...this.generateNgRouterState(G.id,this.browserPageId+1)};this.location.go(ae,"",Te)}}restoreHistory(S,G=!1){if("computed"===this.canceledNavigationResolution){const Te=this.currentPageId-this.browserPageId;0!==Te?this.location.historyGo(Te):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===Te&&(this.resetState(S),this.browserUrlTree=S.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(G&&this.resetState(S),this.resetUrlToCurrentUrlTree())}resetState(S){this.routerState=S.currentRouterState,this.currentUrlTree=S.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,S.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(S,G){return"computed"===this.canceledNavigationResolution?{navigationId:S,\u0275routerPageId:G}:{navigationId:S}}static{this.\u0275fac=function(G){return new(G||k)}}static{this.\u0275prov=l.jDH({token:k,factory:k.\u0275fac,providedIn:"root"})}}return k})();function Ta(k){return!(k instanceof gn||k instanceof _i)}let Wn=(()=>{class k{constructor(S,G,ae,Te,Qe,en){this.router=S,this.route=G,this.tabIndexAttribute=ae,this.renderer=Te,this.el=Qe,this.locationStrategy=en,this.href=null,this.commands=null,this.onChanges=new vt.B,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const Xt=Qe.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===Xt||"area"===Xt,this.isAnchorElement?this.subscription=S.events.subscribe(zn=>{zn instanceof mo&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(S){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",S)}ngOnChanges(S){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(S){null!=S?(this.commands=Array.isArray(S)?S:[S],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(S,G,ae,Te,Qe){return!!(null===this.urlTree||this.isAnchorElement&&(0!==S||G||ae||Te||Qe||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const S=null===this.href?null:(0,l.n$t)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",S)}applyAttributeValue(S,G){const ae=this.renderer,Te=this.el.nativeElement;null!==G?ae.setAttribute(Te,S,G):ae.removeAttribute(Te,S)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(G){return new(G||k)(l.rXU(Ui),l.rXU(go),l.kS0("tabindex"),l.rXU(l.sFG),l.rXU(l.aKT),l.rXU(cn.hb))}}static{this.\u0275dir=l.FsC({type:k,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(G,ae){1&G&&l.bIt("click",function(Qe){return ae.onClick(Qe.button,Qe.ctrlKey,Qe.shiftKey,Qe.altKey,Qe.metaKey)}),2&G&&l.BMQ("target",ae.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",l.L39],skipLocationChange:["skipLocationChange","skipLocationChange",l.L39],replaceUrl:["replaceUrl","replaceUrl",l.L39],routerLink:"routerLink"},standalone:!0,features:[l.GFd,l.OA$]})}}return k})();class Vn{}let D=(()=>{class k{constructor(S,G,ae,Te,Qe){this.router=S,this.injector=ae,this.preloadingStrategy=Te,this.loader=Qe}setUpPreloading(){this.subscription=this.router.events.pipe((0,Qt.p)(S=>S instanceof mo),(0,fi.H)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(S,G){const ae=[];for(const Te of G){Te.providers&&!Te._injector&&(Te._injector=(0,l.Ol2)(Te.providers,S,`Route: ${Te.path}`));const Qe=Te._injector??S,en=Te._loadedInjector??Qe;(Te.loadChildren&&!Te._loadedRoutes&&void 0===Te.canLoad||Te.loadComponent&&!Te._loadedComponent)&&ae.push(this.preloadConfig(Qe,Te)),(Te.children||Te._loadedRoutes)&&ae.push(this.processRoutes(en,Te.children??Te._loadedRoutes))}return(0,R.H)(ae).pipe((0,Ut.U)())}preloadConfig(S,G){return this.preloadingStrategy.preload(G,()=>{let ae;ae=G.loadChildren&&void 0===G.canLoad?this.loader.loadChildren(S,G):(0,Ce.of)(null);const Te=ae.pipe((0,Mt.Z)(Qe=>null===Qe?(0,Ce.of)(void 0):(G._loadedRoutes=Qe.routes,G._loadedInjector=Qe.injector,this.processRoutes(Qe.injector??S,Qe.routes))));if(G.loadComponent&&!G._loadedComponent){const Qe=this.loader.loadComponent(G);return(0,R.H)([Te,Qe]).pipe((0,Ut.U)())}return Te})}static{this.\u0275fac=function(G){return new(G||k)(l.KVO(Ui),l.KVO(l.Ql9),l.KVO(l.uvJ),l.KVO(Vn),l.KVO(ce))}}static{this.\u0275prov=l.jDH({token:k,factory:k.\u0275fac,providedIn:"root"})}}return k})();const M=new l.nKC("");let Y=(()=>{class k{constructor(S,G,ae,Te,Qe={}){this.urlSerializer=S,this.transitions=G,this.viewportScroller=ae,this.zone=Te,this.options=Qe,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},Qe.scrollPositionRestoration=Qe.scrollPositionRestoration||"disabled",Qe.anchorScrolling=Qe.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(S=>{S instanceof fs?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=S.navigationTrigger,this.restoredId=S.restoredState?S.restoredState.navigationId:0):S instanceof mo?(this.lastId=S.id,this.scheduleScrollEvent(S,this.urlSerializer.parse(S.urlAfterRedirects).fragment)):S instanceof ht&&0===S.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(S,this.urlSerializer.parse(S.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(S=>{S instanceof tn&&(S.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(S.position):S.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(S.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(S,G){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new tn(S,"popstate"===this.lastSource?this.store[this.restoredId]:null,G))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(G){l.QTQ()}}static{this.\u0275prov=l.jDH({token:k,factory:k.\u0275fac})}}return k})();function ct(k,H){return{\u0275kind:k,\u0275providers:H}}function K(){const k=(0,l.WQX)(l.zZn);return H=>{const S=k.get(l.o8S);if(H!==S.components[0])return;const G=k.get(Ui),ae=k.get(O);1===k.get(V)&&G.initialNavigation(),k.get(zt,null,l.$GK.Optional)?.setUpPreloading(),k.get(M,null,l.$GK.Optional)?.init(),G.resetRootComponentType(S.componentTypes[0]),ae.closed||(ae.next(),ae.complete(),ae.unsubscribe())}}const O=new l.nKC("",{factory:()=>new vt.B}),V=new l.nKC("",{providedIn:"root",factory:()=>1}),zt=new l.nKC("");function li(k){return ct(0,[{provide:zt,useExisting:D},{provide:Vn,useExisting:k}])}const nt=new l.nKC("ROUTER_FORROOT_GUARD"),bt=[cn.aZ,{provide:gi,useClass:Is},Ui,Hr,{provide:go,useFactory:function Fe(k){return k.routerState.root},deps:[Ui]},ce,[]];function Hn(){return new l.NEm("Router",Ui)}let Ln=(()=>{class k{constructor(S){}static forRoot(S,G){return{ngModule:k,providers:[bt,[],{provide:z,multi:!0,useValue:S},{provide:nt,useFactory:ys,deps:[[Ui,new l.Xx1,new l.kdw]]},{provide:zs,useValue:G||{}},G?.useHash?{provide:cn.hb,useClass:cn.fw}:{provide:cn.hb,useClass:cn.Sm},{provide:M,useFactory:()=>{const k=(0,l.WQX)(cn.Xr),H=(0,l.WQX)(l.SKi),S=(0,l.WQX)(zs),G=(0,l.WQX)(vn),ae=(0,l.WQX)(gi);return S.scrollOffset&&k.setOffset(S.scrollOffset),new Y(ae,G,k,H,S)}},G?.preloadingStrategy?li(G.preloadingStrategy).\u0275providers:[],{provide:l.NEm,multi:!0,useFactory:Hn},G?.initialNavigation?$n(G):[],G?.bindToComponentInputs?ct(8,[ps,{provide:ko,useExisting:ps}]).\u0275providers:[],[{provide:mi,useFactory:K},{provide:l.iLQ,multi:!0,useExisting:mi}]]}}static forChild(S){return{ngModule:k,providers:[{provide:z,multi:!0,useValue:S}]}}static{this.\u0275fac=function(G){return new(G||k)(l.KVO(nt,8))}}static{this.\u0275mod=l.$C({type:k})}static{this.\u0275inj=l.G2t({})}}return k})();function ys(k){return"guarded"}function $n(k){return["disabled"===k.initialNavigation?ct(3,[{provide:l.hnV,multi:!0,useFactory:()=>{const H=(0,l.WQX)(Ui);return()=>{H.setUpLocationChangeListener()}}},{provide:V,useValue:2}]).\u0275providers:[],"enabledBlocking"===k.initialNavigation?ct(2,[{provide:V,useValue:0},{provide:l.hnV,multi:!0,deps:[l.zZn],useFactory:H=>{const S=H.get(cn.hj,Promise.resolve());return()=>S.then(()=>new Promise(G=>{const ae=H.get(Ui),Te=H.get(O);$r(ae,()=>{G(!0)}),H.get(vn).afterPreactivation=()=>(G(!0),Te.closed?(0,Ce.of)(void 0):Te),ae.initialNavigation()}))}}]).\u0275providers:[]]}const mi=new l.nKC("")},7852:(ei,Nt,ee)=>{ee.r(Nt),ee.d(Nt,{FirebaseError:()=>ot.g,SDK_VERSION:()=>is,_DEFAULT_ENTRY_NAME:()=>ni,_addComponent:()=>Br,_addOrOverwriteComponent:()=>Ar,_apps:()=>vi,_clearComponents:()=>Fn,_components:()=>fr,_getProvider:()=>wr,_registerComponent:()=>ii,_removeServiceInstance:()=>cs,deleteApp:()=>Kr,getApp:()=>vr,getApps:()=>Ur,initializeApp:()=>bs,onLog:()=>Jr,registerVersion:()=>Ir,setLogLevel:()=>Gi});var l=ee(467),Le=ee(1362),ke=ee(8041),ot=ee(1076);const R=(Ze,Ke)=>Ke.some(xt=>Ze instanceof xt);let Ce,xe;const Pe=new WeakMap,He=new WeakMap,mt=new WeakMap,Ft=new WeakMap,tt=new WeakMap;let Cn={get(Ze,Ke,xt){if(Ze instanceof IDBTransaction){if("done"===Ke)return He.get(Ze);if("objectStoreNames"===Ke)return Ze.objectStoreNames||mt.get(Ze);if("store"===Ke)return xt.objectStoreNames[1]?void 0:xt.objectStore(xt.objectStoreNames[0])}return vt(Ze[Ke])},set:(Ze,Ke,xt)=>(Ze[Ke]=xt,!0),has:(Ze,Ke)=>Ze instanceof IDBTransaction&&("done"===Ke||"store"===Ke)||Ke in Ze};function Ci(Ze){return"function"==typeof Ze?function wi(Ze){return Ze!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ft(){return xe||(xe=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Ze)?function(...Ke){return Ze.apply(cn(this),Ke),vt(Pe.get(this))}:function(...Ke){return vt(Ze.apply(cn(this),Ke))}:function(Ke,...xt){const Yt=Ze.call(cn(this),Ke,...xt);return mt.set(Yt,Ke.sort?Ke.sort():[Ke]),vt(Yt)}}(Ze):(Ze instanceof IDBTransaction&&function It(Ze){if(He.has(Ze))return;const Ke=new Promise((xt,Yt)=>{const Pn=()=>{Ze.removeEventListener("complete",un),Ze.removeEventListener("error",yi),Ze.removeEventListener("abort",yi)},un=()=>{xt(),Pn()},yi=()=>{Yt(Ze.error||new DOMException("AbortError","AbortError")),Pn()};Ze.addEventListener("complete",un),Ze.addEventListener("error",yi),Ze.addEventListener("abort",yi)});He.set(Ze,Ke)}(Ze),R(Ze,function at(){return Ce||(Ce=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Ze,Cn):Ze)}function vt(Ze){if(Ze instanceof IDBRequest)return function yt(Ze){const Ke=new Promise((xt,Yt)=>{const Pn=()=>{Ze.removeEventListener("success",un),Ze.removeEventListener("error",yi)},un=()=>{xt(vt(Ze.result)),Pn()},yi=()=>{Yt(Ze.error),Pn()};Ze.addEventListener("success",un),Ze.addEventListener("error",yi)});return Ke.then(xt=>{xt instanceof IDBCursor&&Pe.set(xt,Ze)}).catch(()=>{}),tt.set(Ke,Ze),Ke}(Ze);if(Ft.has(Ze))return Ft.get(Ze);const Ke=Ci(Ze);return Ke!==Ze&&(Ft.set(Ze,Ke),tt.set(Ke,Ze)),Ke}const cn=Ze=>tt.get(Ze),Lt=["get","getKey","getAll","getAllKeys","count"],rt=["put","add","delete","clear"],Qt=new Map;function Mt(Ze,Ke){if(!(Ze instanceof IDBDatabase)||Ke in Ze||"string"!=typeof Ke)return;if(Qt.get(Ke))return Qt.get(Ke);const xt=Ke.replace(/FromIndex$/,""),Yt=Ke!==xt,Pn=rt.includes(xt);if(!(xt in(Yt?IDBIndex:IDBObjectStore).prototype)||!Pn&&!Lt.includes(xt))return;const un=function(){var yi=(0,l.A)(function*(or,...Fi){const Nr=this.transaction(or,Pn?"readwrite":"readonly");let jr=Nr.store;return Yt&&(jr=jr.index(Fi.shift())),(yield Promise.all([jr[xt](...Fi),Pn&&Nr.done]))[0]});return function(Fi){return yi.apply(this,arguments)}}();return Qt.set(Ke,un),un}!function Tn(Ze){Cn=Ze(Cn)}(Ze=>({...Ze,get:(Ke,xt,Yt)=>Mt(Ke,xt)||Ze.get(Ke,xt,Yt),has:(Ke,xt)=>!!Mt(Ke,xt)||Ze.has(Ke,xt)}));class yn{constructor(Ke){this.container=Ke}getPlatformInfoString(){return this.container.getProviders().map(xt=>{if(function fi(Ze){const Ke=Ze.getComponent();return"VERSION"===Ke?.type}(xt)){const Yt=xt.getImmediate();return`${Yt.library}/${Yt.version}`}return null}).filter(xt=>xt).join(" ")}}const on="@firebase/app",Xi=new ke.Vy("@firebase/app"),ni="[DEFAULT]",Di={[on]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},vi=new Map,fr=new Map;function Br(Ze,Ke){try{Ze.container.addComponent(Ke)}catch(xt){Xi.debug(`Component ${Ke.name} failed to register with FirebaseApp ${Ze.name}`,xt)}}function Ar(Ze,Ke){Ze.container.addOrOverwriteComponent(Ke)}function ii(Ze){const Ke=Ze.name;if(fr.has(Ke))return Xi.debug(`There were multiple attempts to register component ${Ke}.`),!1;fr.set(Ke,Ze);for(const xt of vi.values())Br(xt,Ze);return!0}function wr(Ze,Ke){const xt=Ze.container.getProvider("heartbeat").getImmediate({optional:!0});return xt&&xt.triggerHeartbeat(),Ze.container.getProvider(Ke)}function cs(Ze,Ke,xt=ni){wr(Ze,Ke).clearInstance(xt)}function Fn(){fr.clear()}const gi=new ot.FA("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Is{constructor(Ke,xt,Yt){this._isDeleted=!1,this._options=Object.assign({},Ke),this._config=Object.assign({},xt),this._name=xt.name,this._automaticDataCollectionEnabled=xt.automaticDataCollectionEnabled,this._container=Yt,this.container.addComponent(new Le.uA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ke){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ke}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ke){this._isDeleted=Ke}checkDestroyed(){if(this.isDeleted)throw gi.create("app-deleted",{appName:this._name})}}const is="9.23.0";function bs(Ze,Ke={}){let xt=Ze;"object"!=typeof Ke&&(Ke={name:Ke});const Yt=Object.assign({name:ni,automaticDataCollectionEnabled:!1},Ke),Pn=Yt.name;if("string"!=typeof Pn||!Pn)throw gi.create("bad-app-name",{appName:String(Pn)});if(xt||(xt=(0,ot.T9)()),!xt)throw gi.create("no-options");const un=vi.get(Pn);if(un){if((0,ot.bD)(xt,un.options)&&(0,ot.bD)(Yt,un.config))return un;throw gi.create("duplicate-app",{appName:Pn})}const yi=new Le.h1(Pn);for(const Fi of fr.values())yi.addComponent(Fi);const or=new Is(xt,Yt,yi);return vi.set(Pn,or),or}function vr(Ze=ni){const Ke=vi.get(Ze);if(!Ke&&Ze===ni&&(0,ot.T9)())return bs();if(!Ke)throw gi.create("no-app",{appName:Ze});return Ke}function Ur(){return Array.from(vi.values())}function Kr(Ze){return Cr.apply(this,arguments)}function Cr(){return(Cr=(0,l.A)(function*(Ze){const Ke=Ze.name;vi.has(Ke)&&(vi.delete(Ke),yield Promise.all(Ze.container.getProviders().map(xt=>xt.delete())),Ze.isDeleted=!0)})).apply(this,arguments)}function Ir(Ze,Ke,xt){var Yt;let Pn=null!==(Yt=Di[Ze])&&void 0!==Yt?Yt:Ze;xt&&(Pn+=`-${xt}`);const un=Pn.match(/\s|\//),yi=Ke.match(/\s|\//);if(un||yi){const or=[`Unable to register library "${Pn}" with version "${Ke}":`];return un&&or.push(`library name "${Pn}" contains illegal characters (whitespace or "/")`),un&&yi&&or.push("and"),yi&&or.push(`version name "${Ke}" contains illegal characters (whitespace or "/")`),void Xi.warn(or.join(" "))}ii(new Le.uA(`${Pn}-version`,()=>({library:Pn,version:Ke}),"VERSION"))}function Jr(Ze,Ke){if(null!==Ze&&"function"!=typeof Ze)throw gi.create("invalid-log-argument");(0,ke.Ey)(Ze,Ke)}function Gi(Ze){(0,ke.He)(Ze)}const Ji="firebase-heartbeat-database",_r=1,Xe="firebase-heartbeat-store";let ve=null;function Ae(){return ve||(ve=function Dt(Ze,Ke,{blocked:xt,upgrade:Yt,blocking:Pn,terminated:un}={}){const yi=indexedDB.open(Ze,Ke),or=vt(yi);return Yt&&yi.addEventListener("upgradeneeded",Fi=>{Yt(vt(yi.result),Fi.oldVersion,Fi.newVersion,vt(yi.transaction),Fi)}),xt&&yi.addEventListener("blocked",Fi=>xt(Fi.oldVersion,Fi.newVersion,Fi)),or.then(Fi=>{un&&Fi.addEventListener("close",()=>un()),Pn&&Fi.addEventListener("versionchange",Nr=>Pn(Nr.oldVersion,Nr.newVersion,Nr))}).catch(()=>{}),or}(Ji,_r,{upgrade:(Ze,Ke)=>{0===Ke&&Ze.createObjectStore(Xe)}}).catch(Ze=>{throw gi.create("idb-open",{originalErrorMessage:Ze.message})})),ve}function we(){return(we=(0,l.A)(function*(Ze){try{return yield(yield Ae()).transaction(Xe).objectStore(Xe).get(mn(Ze))}catch(Ke){if(Ke instanceof ot.g)Xi.warn(Ke.message);else{const xt=gi.create("idb-get",{originalErrorMessage:Ke?.message});Xi.warn(xt.message)}}})).apply(this,arguments)}function Ct(Ze,Ke){return an.apply(this,arguments)}function an(){return(an=(0,l.A)(function*(Ze,Ke){try{const Yt=(yield Ae()).transaction(Xe,"readwrite");yield Yt.objectStore(Xe).put(Ke,mn(Ze)),yield Yt.done}catch(xt){if(xt instanceof ot.g)Xi.warn(xt.message);else{const Yt=gi.create("idb-set",{originalErrorMessage:xt?.message});Xi.warn(Yt.message)}}})).apply(this,arguments)}function mn(Ze){return`${Ze.name}!${Ze.options.appId}`}class Yn{constructor(Ke){this.container=Ke,this._heartbeatsCache=null;const xt=this.container.getProvider("app").getImmediate();this._storage=new _t(xt),this._heartbeatsCachePromise=this._storage.read().then(Yt=>(this._heartbeatsCache=Yt,Yt))}triggerHeartbeat(){var Ke=this;return(0,l.A)(function*(){const Yt=Ke.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Pn=Qn();if(null===Ke._heartbeatsCache&&(Ke._heartbeatsCache=yield Ke._heartbeatsCachePromise),Ke._heartbeatsCache.lastSentHeartbeatDate!==Pn&&!Ke._heartbeatsCache.heartbeats.some(un=>un.date===Pn))return Ke._heartbeatsCache.heartbeats.push({date:Pn,agent:Yt}),Ke._heartbeatsCache.heartbeats=Ke._heartbeatsCache.heartbeats.filter(un=>{const yi=new Date(un.date).valueOf();return Date.now()-yi<=2592e6}),Ke._storage.overwrite(Ke._heartbeatsCache)})()}getHeartbeatsHeader(){var Ke=this;return(0,l.A)(function*(){if(null===Ke._heartbeatsCache&&(yield Ke._heartbeatsCachePromise),null===Ke._heartbeatsCache||0===Ke._heartbeatsCache.heartbeats.length)return"";const xt=Qn(),{heartbeatsToSend:Yt,unsentEntries:Pn}=function ki(Ze,Ke=1024){const xt=[];let Yt=Ze.slice();for(const Pn of Ze){const un=xt.find(yi=>yi.agent===Pn.agent);if(un){if(un.dates.push(Pn.date),qe(xt)>Ke){un.dates.pop();break}}else if(xt.push({agent:Pn.agent,dates:[Pn.date]}),qe(xt)>Ke){xt.pop();break}Yt=Yt.slice(1)}return{heartbeatsToSend:xt,unsentEntries:Yt}}(Ke._heartbeatsCache.heartbeats),un=(0,ot.Uj)(JSON.stringify({version:2,heartbeats:Yt}));return Ke._heartbeatsCache.lastSentHeartbeatDate=xt,Pn.length>0?(Ke._heartbeatsCache.heartbeats=Pn,yield Ke._storage.overwrite(Ke._heartbeatsCache)):(Ke._heartbeatsCache.heartbeats=[],Ke._storage.overwrite(Ke._heartbeatsCache)),un})()}}function Qn(){return(new Date).toISOString().substring(0,10)}class _t{constructor(Ke){this.app=Ke,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,l.A)(function*(){return!!(0,ot.zW)()&&(0,ot.eX)().then(()=>!0).catch(()=>!1)})()}read(){var Ke=this;return(0,l.A)(function*(){return(yield Ke._canUseIndexedDBPromise)&&(yield function Ee(Ze){return we.apply(this,arguments)}(Ke.app))||{heartbeats:[]}})()}overwrite(Ke){var xt=this;return(0,l.A)(function*(){var Yt;if(yield xt._canUseIndexedDBPromise){const un=yield xt.read();return Ct(xt.app,{lastSentHeartbeatDate:null!==(Yt=Ke.lastSentHeartbeatDate)&&void 0!==Yt?Yt:un.lastSentHeartbeatDate,heartbeats:Ke.heartbeats})}})()}add(Ke){var xt=this;return(0,l.A)(function*(){var Yt;if(yield xt._canUseIndexedDBPromise){const un=yield xt.read();return Ct(xt.app,{lastSentHeartbeatDate:null!==(Yt=Ke.lastSentHeartbeatDate)&&void 0!==Yt?Yt:un.lastSentHeartbeatDate,heartbeats:[...un.heartbeats,...Ke.heartbeats]})}})()}}function qe(Ze){return(0,ot.Uj)(JSON.stringify({version:2,heartbeats:Ze})).length}!function it(Ze){ii(new Le.uA("platform-logger",Ke=>new yn(Ke),"PRIVATE")),ii(new Le.uA("heartbeat",Ke=>new Yn(Ke),"PRIVATE")),Ir(on,"0.9.13",Ze),Ir(on,"0.9.13","esm2017"),Ir("fire-js","")}("")},1362:(ei,Nt,ee)=>{ee.d(Nt,{h1:()=>at,uA:()=>ke});var l=ee(467),Le=ee(1076);class ke{constructor(Pe,He,mt){this.name=Pe,this.instanceFactory=He,this.type=mt,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(Pe){return this.instantiationMode=Pe,this}setMultipleInstances(Pe){return this.multipleInstances=Pe,this}setServiceProps(Pe){return this.serviceProps=Pe,this}setInstanceCreatedCallback(Pe){return this.onInstanceCreated=Pe,this}}const ot="[DEFAULT]";class R{constructor(Pe,He){this.name=Pe,this.container=He,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(Pe){const He=this.normalizeInstanceIdentifier(Pe);if(!this.instancesDeferred.has(He)){const mt=new Le.cY;if(this.instancesDeferred.set(He,mt),this.isInitialized(He)||this.shouldAutoInitialize())try{const Ft=this.getOrInitializeService({instanceIdentifier:He});Ft&&mt.resolve(Ft)}catch{}}return this.instancesDeferred.get(He).promise}getImmediate(Pe){var He;const mt=this.normalizeInstanceIdentifier(Pe?.identifier),Ft=null!==(He=Pe?.optional)&&void 0!==He&&He;if(!this.isInitialized(mt)&&!this.shouldAutoInitialize()){if(Ft)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:mt})}catch(tt){if(Ft)return null;throw tt}}getComponent(){return this.component}setComponent(Pe){if(Pe.name!==this.name)throw Error(`Mismatching Component ${Pe.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=Pe,this.shouldAutoInitialize()){if(function xe(ft){return"EAGER"===ft.instantiationMode}(Pe))try{this.getOrInitializeService({instanceIdentifier:ot})}catch{}for(const[He,mt]of this.instancesDeferred.entries()){const Ft=this.normalizeInstanceIdentifier(He);try{const tt=this.getOrInitializeService({instanceIdentifier:Ft});mt.resolve(tt)}catch{}}}}clearInstance(Pe=ot){this.instancesDeferred.delete(Pe),this.instancesOptions.delete(Pe),this.instances.delete(Pe)}delete(){var Pe=this;return(0,l.A)(function*(){const He=Array.from(Pe.instances.values());yield Promise.all([...He.filter(mt=>"INTERNAL"in mt).map(mt=>mt.INTERNAL.delete()),...He.filter(mt=>"_delete"in mt).map(mt=>mt._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(Pe=ot){return this.instances.has(Pe)}getOptions(Pe=ot){return this.instancesOptions.get(Pe)||{}}initialize(Pe={}){const{options:He={}}=Pe,mt=this.normalizeInstanceIdentifier(Pe.instanceIdentifier);if(this.isInitialized(mt))throw Error(`${this.name}(${mt}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ft=this.getOrInitializeService({instanceIdentifier:mt,options:He});for(const[tt,yt]of this.instancesDeferred.entries())mt===this.normalizeInstanceIdentifier(tt)&&yt.resolve(Ft);return Ft}onInit(Pe,He){var mt;const Ft=this.normalizeInstanceIdentifier(He),tt=null!==(mt=this.onInitCallbacks.get(Ft))&&void 0!==mt?mt:new Set;tt.add(Pe),this.onInitCallbacks.set(Ft,tt);const yt=this.instances.get(Ft);return yt&&Pe(yt,Ft),()=>{tt.delete(Pe)}}invokeOnInitCallbacks(Pe,He){const mt=this.onInitCallbacks.get(He);if(mt)for(const Ft of mt)try{Ft(Pe,He)}catch{}}getOrInitializeService({instanceIdentifier:Pe,options:He={}}){let mt=this.instances.get(Pe);if(!mt&&this.component&&(mt=this.component.instanceFactory(this.container,{instanceIdentifier:(ft=Pe,ft===ot?void 0:ft),options:He}),this.instances.set(Pe,mt),this.instancesOptions.set(Pe,He),this.invokeOnInitCallbacks(mt,Pe),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,Pe,mt)}catch{}var ft;return mt||null}normalizeInstanceIdentifier(Pe=ot){return this.component?this.component.multipleInstances?Pe:ot:Pe}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class at{constructor(Pe){this.name=Pe,this.providers=new Map}addComponent(Pe){const He=this.getProvider(Pe.name);if(He.isComponentSet())throw new Error(`Component ${Pe.name} has already been registered with ${this.name}`);He.setComponent(Pe)}addOrOverwriteComponent(Pe){this.getProvider(Pe.name).isComponentSet()&&this.providers.delete(Pe.name),this.addComponent(Pe)}getProvider(Pe){if(this.providers.has(Pe))return this.providers.get(Pe);const He=new R(Pe,this);return this.providers.set(Pe,He),He}getProviders(){return Array.from(this.providers.values())}}},8041:(ei,Nt,ee)=>{ee.d(Nt,{$b:()=>Le,Ey:()=>ft,He:()=>at,Vy:()=>xe});const l=[];var Le=function(Pe){return Pe[Pe.DEBUG=0]="DEBUG",Pe[Pe.VERBOSE=1]="VERBOSE",Pe[Pe.INFO=2]="INFO",Pe[Pe.WARN=3]="WARN",Pe[Pe.ERROR=4]="ERROR",Pe[Pe.SILENT=5]="SILENT",Pe}(Le||{});const ke={debug:Le.DEBUG,verbose:Le.VERBOSE,info:Le.INFO,warn:Le.WARN,error:Le.ERROR,silent:Le.SILENT},ot=Le.INFO,R={[Le.DEBUG]:"log",[Le.VERBOSE]:"log",[Le.INFO]:"info",[Le.WARN]:"warn",[Le.ERROR]:"error"},Ce=(Pe,He,...mt)=>{if(He<Pe.logLevel)return;const Ft=(new Date).toISOString(),tt=R[He];if(!tt)throw new Error(`Attempted to log a message with an invalid logType (value: ${He})`);console[tt](`[${Ft}]  ${Pe.name}:`,...mt)};class xe{constructor(He){this.name=He,this._logLevel=ot,this._logHandler=Ce,this._userLogHandler=null,l.push(this)}get logLevel(){return this._logLevel}set logLevel(He){if(!(He in Le))throw new TypeError(`Invalid value "${He}" assigned to \`logLevel\``);this._logLevel=He}setLogLevel(He){this._logLevel="string"==typeof He?ke[He]:He}get logHandler(){return this._logHandler}set logHandler(He){if("function"!=typeof He)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=He}get userLogHandler(){return this._userLogHandler}set userLogHandler(He){this._userLogHandler=He}debug(...He){this._userLogHandler&&this._userLogHandler(this,Le.DEBUG,...He),this._logHandler(this,Le.DEBUG,...He)}log(...He){this._userLogHandler&&this._userLogHandler(this,Le.VERBOSE,...He),this._logHandler(this,Le.VERBOSE,...He)}info(...He){this._userLogHandler&&this._userLogHandler(this,Le.INFO,...He),this._logHandler(this,Le.INFO,...He)}warn(...He){this._userLogHandler&&this._userLogHandler(this,Le.WARN,...He),this._logHandler(this,Le.WARN,...He)}error(...He){this._userLogHandler&&this._userLogHandler(this,Le.ERROR,...He),this._logHandler(this,Le.ERROR,...He)}}function at(Pe){l.forEach(He=>{He.setLogLevel(Pe)})}function ft(Pe,He){for(const mt of l){let Ft=null;He&&He.level&&(Ft=ke[He.level]),mt.userLogHandler=null===Pe?null:(tt,yt,...It)=>{const Cn=It.map(Tn=>{if(null==Tn)return null;if("string"==typeof Tn)return Tn;if("number"==typeof Tn||"boolean"==typeof Tn)return Tn.toString();if(Tn instanceof Error)return Tn.message;try{return JSON.stringify(Tn)}catch{return null}}).filter(Tn=>Tn).join(" ");yt>=(Ft??tt.logLevel)&&Pe({level:Le[yt].toLowerCase(),message:Cn,args:It,type:tt.name})}}}},6884:(ei,Nt,ee)=>{ee.d(Nt,{vr:()=>Sn,MQ:()=>pr});var l=ee(7705),Le=ee(9417),ke=ee(6977),ot=ee(3236),R=ee(9974),Ce=ee(8750),xe=ee(4360),ft=ee(1985),Pe=ee(9470);function Ft(Ue,Ge=ot.E){return function at(Ue){return(0,R.N)((Ge,Z)=>{let Re=!1,Je=null,tn=null,gn=!1;const _i=()=>{if(tn?.unsubscribe(),tn=null,Re){Re=!1;const Yr=Je;Je=null,Z.next(Yr)}gn&&Z.complete()},Fr=()=>{tn=null,gn&&Z.complete()};Ge.subscribe((0,xe._)(Z,Yr=>{Re=!0,Je=Yr,tn||(0,Ce.Tg)(Ue(Yr)).subscribe(tn=(0,xe._)(Z,_i,Fr))},()=>{gn=!0,(!Re||!tn||tn.closed)&&Z.complete()}))})}(()=>function mt(Ue=0,Ge,Z=ot.b){let Re=-1;return null!=Ge&&((0,Pe.m)(Ge)?Z=Ge:Re=Ge),new ft.c(Je=>{let tn=function He(Ue){return Ue instanceof Date&&!isNaN(Ue)}(Ue)?+Ue-Z.now():Ue;tn<0&&(tn=0);let gn=0;return Z.schedule(function(){Je.closed||(Je.next(gn++),0<=Re?this.schedule(void 0,Re):Je.complete())},tn)})}(Ue,Ge))}var tt=ee(9172),yt=ee(8141),It=ee(152),Cn=ee(5964),Tn=ee(6354),wi=ee(6780),Ci=ee(8359);const vt={schedule(Ue){let Ge=requestAnimationFrame,Z=cancelAnimationFrame;const{delegate:Re}=vt;Re&&(Ge=Re.requestAnimationFrame,Z=Re.cancelAnimationFrame);const Je=Ge(tn=>{Z=void 0,Ue(tn)});return new Ci.yU(()=>Z?.(Je))},requestAnimationFrame(...Ue){const{delegate:Ge}=vt;return(Ge?.requestAnimationFrame||requestAnimationFrame)(...Ue)},cancelAnimationFrame(...Ue){const{delegate:Ge}=vt;return(Ge?.cancelAnimationFrame||cancelAnimationFrame)(...Ue)},delegate:void 0};var Dt=ee(3604);const Lt=new class At extends Dt.q{flush(Ge){let Z;this._active=!0,Ge?Z=Ge.id:(Z=this._scheduled,this._scheduled=void 0);const{actions:Re}=this;let Je;Ge=Ge||Re.shift();do{if(Je=Ge.execute(Ge.state,Ge.delay))break}while((Ge=Re[0])&&Ge.id===Z&&Re.shift());if(this._active=!1,Je){for(;(Ge=Re[0])&&Ge.id===Z&&Re.shift();)Ge.unsubscribe();throw Je}}}(class cn extends wi.R{constructor(Ge,Z){super(Ge,Z),this.scheduler=Ge,this.work=Z}requestAsyncId(Ge,Z,Re=0){return null!==Re&&Re>0?super.requestAsyncId(Ge,Z,Re):(Ge.actions.push(this),Ge._scheduled||(Ge._scheduled=vt.requestAnimationFrame(()=>Ge.flush(void 0))))}recycleAsyncId(Ge,Z,Re=0){var Je;if(null!=Re?Re>0:this.delay>0)return super.recycleAsyncId(Ge,Z,Re);const{actions:tn}=Ge;null!=Z&&Z===Ge._scheduled&&(null===(Je=tn[tn.length-1])||void 0===Je?void 0:Je.id)!==Z&&(vt.cancelAnimationFrame(Z),Ge._scheduled=void 0)}});let Mt,Qt=1;const yn={};function fi(Ue){return Ue in yn&&(delete yn[Ue],!0)}const on={setImmediate(Ue){const Ge=Qt++;return yn[Ge]=!0,Mt||(Mt=Promise.resolve()),Mt.then(()=>fi(Ge)&&Ue()),Ge},clearImmediate(Ue){fi(Ue)}},{setImmediate:Xi,clearImmediate:Zr}=on,hr={setImmediate(...Ue){const{delegate:Ge}=hr;return(Ge?.setImmediate||Xi)(...Ue)},clearImmediate(Ue){const{delegate:Ge}=hr;return(Ge?.clearImmediate||Zr)(Ue)},delegate:void 0},Vt=new class Gr extends Dt.q{flush(Ge){this._active=!0;const Z=this._scheduled;this._scheduled=void 0;const{actions:Re}=this;let Je;Ge=Ge||Re.shift();do{if(Je=Ge.execute(Ge.state,Ge.delay))break}while((Ge=Re[0])&&Ge.id===Z&&Re.shift());if(this._active=!1,Je){for(;(Ge=Re[0])&&Ge.id===Z&&Re.shift();)Ge.unsubscribe();throw Je}}}(class xn extends wi.R{constructor(Ge,Z){super(Ge,Z),this.scheduler=Ge,this.work=Z}requestAsyncId(Ge,Z,Re=0){return null!==Re&&Re>0?super.requestAsyncId(Ge,Z,Re):(Ge.actions.push(this),Ge._scheduled||(Ge._scheduled=hr.setImmediate(Ge.flush.bind(Ge,void 0))))}recycleAsyncId(Ge,Z,Re=0){var Je;if(null!=Re?Re>0:this.delay>0)return super.recycleAsyncId(Ge,Z,Re);const{actions:tn}=Ge;null!=Z&&(null===(Je=tn[tn.length-1])||void 0===Je?void 0:Je.id)!==Z&&(hr.clearImmediate(Z),Ge._scheduled===Z&&(Ge._scheduled=void 0))}});var Rt=ee(1413),qt=ee(1397),ln=ee(7441),Ut=ee(8071),Mn=ee(6450);const In=["addListener","removeListener"],Hi=["addEventListener","removeEventListener"],Bn=["on","off"];function Jn(Ue,Ge,Z,Re){if((0,Ut.T)(Z)&&(Re=Z,Z=void 0),Re)return Jn(Ue,Ge,Z).pipe((0,Mn.I)(Re));const[Je,tn]=function Ni(Ue){return(0,Ut.T)(Ue.addEventListener)&&(0,Ut.T)(Ue.removeEventListener)}(Ue)?Hi.map(gn=>_i=>Ue[gn](Ge,_i,Z)):function nr(Ue){return(0,Ut.T)(Ue.addListener)&&(0,Ut.T)(Ue.removeListener)}(Ue)?In.map(Si(Ue,Ge)):function ti(Ue){return(0,Ut.T)(Ue.on)&&(0,Ut.T)(Ue.off)}(Ue)?Bn.map(Si(Ue,Ge)):[];if(!Je&&(0,ln.X)(Ue))return(0,qt.Z)(gn=>Jn(gn,Ge,Z))((0,Ce.Tg)(Ue));if(!Je)throw new TypeError("Invalid event target");return new ft.c(gn=>{const _i=(...Fr)=>gn.next(1<Fr.length?Fr:Fr[0]);return Je(_i),()=>tn(_i)})}function Si(Ue,Ge){return Z=>Re=>Ue[Z](Ge,Re)}var ir=ee(7786),Zi=ee(177);const zi=["content"],Wr=["scroll"],as=["padding"],Or=function(Ue){return{searchTerm:Ue}};function ni(Ue,Ge){if(1&Ue&&(l.j41(0,"div",6),l.eu8(1,7),l.k0s()),2&Ue){const Z=l.XpG();l.R7$(1),l.Y8G("ngTemplateOutlet",Z.headerTemplate)("ngTemplateOutletContext",l.eq3(2,Or,Z.filterValue))}}function Di(Ue,Ge){if(1&Ue&&(l.j41(0,"div",8),l.eu8(1,7),l.k0s()),2&Ue){const Z=l.XpG();l.R7$(1),l.Y8G("ngTemplateOutlet",Z.footerTemplate)("ngTemplateOutletContext",l.eq3(2,Or,Z.filterValue))}}const vi=["*"],fr=["searchInput"],Br=["clearButton"];function Ar(Ue,Ge){if(1&Ue){const Z=l.RV6();l.j41(0,"span",15),l.bIt("click",function(){l.eBV(Z);const Je=l.XpG().$implicit,tn=l.XpG(2);return l.Njj(tn.unselect(Je))}),l.EFF(1,"\xd7"),l.k0s(),l.nrm(2,"span",16)}if(2&Ue){const Z=l.XpG().$implicit,Re=l.XpG(2);l.R7$(2),l.Y8G("ngItemLabel",Z.label)("escape",Re.escapeHTML)}}function ii(Ue,Ge){}const wr=function(Ue,Ge,Z){return{item:Ue,clear:Ge,label:Z}};function cs(Ue,Ge){if(1&Ue&&(l.j41(0,"div",12),l.DNE(1,Ar,3,2,"ng-template",null,13,l.C5r),l.DNE(3,ii,0,0,"ng-template",14),l.k0s()),2&Ue){const Z=Ge.$implicit,Re=l.sdS(2),Je=l.XpG(2);l.AVh("ng-value-disabled",Z.disabled),l.R7$(3),l.Y8G("ngTemplateOutlet",Je.labelTemplate||Re)("ngTemplateOutletContext",l.sMw(4,wr,Z.value,Je.clearItem,Z.label))}}function Fn(Ue,Ge){if(1&Ue&&(l.qex(0),l.DNE(1,cs,4,8,"div",11),l.bVm()),2&Ue){const Z=l.XpG();l.R7$(1),l.Y8G("ngForOf",Z.selectedItems)("ngForTrackBy",Z.trackByOption)}}function xs(Ue,Ge){}const gi=function(Ue,Ge){return{items:Ue,clear:Ge}};function Is(Ue,Ge){if(1&Ue&&l.DNE(0,xs,0,0,"ng-template",14),2&Ue){const Z=l.XpG();l.Y8G("ngTemplateOutlet",Z.multiLabelTemplate)("ngTemplateOutletContext",l.l_i(2,gi,Z.selectedValues,Z.clearItem))}}function is(Ue,Ge){1&Ue&&l.nrm(0,"div",19)}function bs(Ue,Ge){}function vr(Ue,Ge){if(1&Ue&&(l.qex(0),l.DNE(1,is,1,0,"ng-template",null,17,l.C5r),l.DNE(3,bs,0,0,"ng-template",18),l.bVm()),2&Ue){const Z=l.sdS(2),Re=l.XpG();l.R7$(3),l.Y8G("ngTemplateOutlet",Re.loadingSpinnerTemplate||Z)}}function Ur(Ue,Ge){if(1&Ue&&(l.j41(0,"span",20,21)(2,"span",22),l.EFF(3,"\xd7"),l.k0s()()),2&Ue){const Z=l.XpG();l.FS9("title",Z.clearAllText)}}function Kr(Ue,Ge){if(1&Ue&&l.nrm(0,"span",28),2&Ue){const Z=l.XpG().$implicit,Re=l.XpG(2);l.Y8G("ngItemLabel",Z.label)("escape",Re.escapeHTML)}}function Cr(Ue,Ge){}const Ir=function(Ue,Ge,Z,Re){return{item:Ue,item$:Ge,index:Z,searchTerm:Re}};function Jr(Ue,Ge){if(1&Ue){const Z=l.RV6();l.j41(0,"div",26),l.bIt("click",function(){const tn=l.eBV(Z).$implicit,gn=l.XpG(2);return l.Njj(gn.toggleItem(tn))})("mouseover",function(){const tn=l.eBV(Z).$implicit,gn=l.XpG(2);return l.Njj(gn.onItemHover(tn))}),l.DNE(1,Kr,1,2,"ng-template",null,27,l.C5r),l.DNE(3,Cr,0,0,"ng-template",14),l.k0s()}if(2&Ue){const Z=Ge.$implicit,Re=l.sdS(2),Je=l.XpG(2);l.AVh("ng-option-disabled",Z.disabled)("ng-option-selected",Z.selected)("ng-optgroup",Z.children)("ng-option",!Z.children)("ng-option-child",!!Z.parent)("ng-option-marked",Z===Je.itemsList.markedItem),l.BMQ("role",Z.children?"group":"option")("aria-selected",Z.selected)("id",null==Z?null:Z.htmlId),l.R7$(3),l.Y8G("ngTemplateOutlet",Z.children?Je.optgroupTemplate||Re:Je.optionTemplate||Re)("ngTemplateOutletContext",l.ziG(17,Ir,Z.value,Z,Z.index,Je.searchTerm))}}function Gi(Ue,Ge){if(1&Ue&&(l.j41(0,"span")(1,"span",31),l.EFF(2),l.k0s(),l.EFF(3),l.k0s()),2&Ue){const Z=l.XpG(3);l.R7$(2),l.JRh(Z.addTagText),l.R7$(1),l.SpI('"',Z.searchTerm,'"')}}function Ji(Ue,Ge){}function _r(Ue,Ge){if(1&Ue){const Z=l.RV6();l.j41(0,"div",29),l.bIt("mouseover",function(){l.eBV(Z);const Je=l.XpG(2);return l.Njj(Je.itemsList.unmarkItem())})("click",function(){l.eBV(Z);const Je=l.XpG(2);return l.Njj(Je.selectTag())}),l.DNE(1,Gi,4,2,"ng-template",null,30,l.C5r),l.DNE(3,Ji,0,0,"ng-template",14),l.k0s()}if(2&Ue){const Z=l.sdS(2),Re=l.XpG(2);l.AVh("ng-option-marked",!Re.itemsList.markedItem),l.R7$(3),l.Y8G("ngTemplateOutlet",Re.tagTemplate||Z)("ngTemplateOutletContext",l.eq3(4,Or,Re.searchTerm))}}function Xe(Ue,Ge){if(1&Ue&&(l.j41(0,"div",33),l.EFF(1),l.k0s()),2&Ue){const Z=l.XpG(3);l.R7$(1),l.JRh(Z.notFoundText)}}function ve(Ue,Ge){}function Ae(Ue,Ge){if(1&Ue&&(l.qex(0),l.DNE(1,Xe,2,1,"ng-template",null,32,l.C5r),l.DNE(3,ve,0,0,"ng-template",14),l.bVm()),2&Ue){const Z=l.sdS(2),Re=l.XpG(2);l.R7$(3),l.Y8G("ngTemplateOutlet",Re.notFoundTemplate||Z)("ngTemplateOutletContext",l.eq3(2,Or,Re.searchTerm))}}function Ee(Ue,Ge){if(1&Ue&&(l.j41(0,"div",33),l.EFF(1),l.k0s()),2&Ue){const Z=l.XpG(3);l.R7$(1),l.JRh(Z.typeToSearchText)}}function we(Ue,Ge){}function Ct(Ue,Ge){if(1&Ue&&(l.qex(0),l.DNE(1,Ee,2,1,"ng-template",null,34,l.C5r),l.DNE(3,we,0,0,"ng-template",18),l.bVm()),2&Ue){const Z=l.sdS(2),Re=l.XpG(2);l.R7$(3),l.Y8G("ngTemplateOutlet",Re.typeToSearchTemplate||Z)}}function an(Ue,Ge){if(1&Ue&&(l.j41(0,"div",33),l.EFF(1),l.k0s()),2&Ue){const Z=l.XpG(3);l.R7$(1),l.JRh(Z.loadingText)}}function mn(Ue,Ge){}function si(Ue,Ge){if(1&Ue&&(l.qex(0),l.DNE(1,an,2,1,"ng-template",null,35,l.C5r),l.DNE(3,mn,0,0,"ng-template",14),l.bVm()),2&Ue){const Z=l.sdS(2),Re=l.XpG(2);l.R7$(3),l.Y8G("ngTemplateOutlet",Re.loadingTextTemplate||Z)("ngTemplateOutletContext",l.eq3(2,Or,Re.searchTerm))}}function jn(Ue,Ge){if(1&Ue){const Z=l.RV6();l.j41(0,"ng-dropdown-panel",23),l.bIt("update",function(Je){l.eBV(Z);const tn=l.XpG();return l.Njj(tn.viewPortItems=Je)})("scroll",function(Je){l.eBV(Z);const tn=l.XpG();return l.Njj(tn.scroll.emit(Je))})("scrollToEnd",function(Je){l.eBV(Z);const tn=l.XpG();return l.Njj(tn.scrollToEnd.emit(Je))})("outsideClick",function(){l.eBV(Z);const Je=l.XpG();return l.Njj(Je.close())}),l.qex(1),l.DNE(2,Jr,4,22,"div",24),l.DNE(3,_r,4,6,"div",25),l.bVm(),l.DNE(4,Ae,4,4,"ng-container",3),l.DNE(5,Ct,4,1,"ng-container",3),l.DNE(6,si,4,4,"ng-container",3),l.k0s()}if(2&Ue){const Z=l.XpG();l.AVh("ng-select-multiple",Z.multiple),l.Y8G("virtualScroll",Z.virtualScroll)("bufferAmount",Z.bufferAmount)("appendTo",Z.appendTo)("position",Z.dropdownPosition)("headerTemplate",Z.headerTemplate)("footerTemplate",Z.footerTemplate)("filterValue",Z.searchTerm)("items",Z.itemsList.filteredItems)("markedItem",Z.itemsList.markedItem)("ngClass",Z.appendTo?Z.classes:null)("id",Z.dropdownId),l.R7$(2),l.Y8G("ngForOf",Z.viewPortItems)("ngForTrackBy",Z.trackByOption),l.R7$(1),l.Y8G("ngIf",Z.showAddTag),l.R7$(1),l.Y8G("ngIf",Z.showNoItemsFound()),l.R7$(1),l.Y8G("ngIf",Z.showTypeToSearch()),l.R7$(1),l.Y8G("ngIf",Z.loading&&0===Z.itemsList.filteredItems.length)}}const Yn=/[&<>"']/g,Qn=RegExp(Yn.source),ki={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function qe(Ue){return null!=Ue}function it(Ue){return"object"==typeof Ue&&qe(Ue)}function Ke(Ue){return Ue instanceof Function}let xt=(()=>{class Ue{constructor(Z){this.element=Z,this.escape=!0}ngOnChanges(Z){this.element.nativeElement.innerHTML=this.escape?function _t(Ue){return Ue&&Qn.test(Ue)?Ue.replace(Yn,Ge=>ki[Ge]):Ue}(this.ngItemLabel):this.ngItemLabel}static{this.\u0275fac=function(Re){return new(Re||Ue)(l.rXU(l.aKT))}}static{this.\u0275dir=l.FsC({type:Ue,selectors:[["","ngItemLabel",""]],inputs:{ngItemLabel:"ngItemLabel",escape:"escape"},features:[l.OA$]})}}return Ue})(),Yt=(()=>{class Ue{constructor(Z){this.template=Z}static{this.\u0275fac=function(Re){return new(Re||Ue)(l.rXU(l.C4Q))}}static{this.\u0275dir=l.FsC({type:Ue,selectors:[["","ng-option-tmp",""]]})}}return Ue})(),Pn=(()=>{class Ue{constructor(Z){this.template=Z}static{this.\u0275fac=function(Re){return new(Re||Ue)(l.rXU(l.C4Q))}}static{this.\u0275dir=l.FsC({type:Ue,selectors:[["","ng-optgroup-tmp",""]]})}}return Ue})(),un=(()=>{class Ue{constructor(Z){this.template=Z}static{this.\u0275fac=function(Re){return new(Re||Ue)(l.rXU(l.C4Q))}}static{this.\u0275dir=l.FsC({type:Ue,selectors:[["","ng-label-tmp",""]]})}}return Ue})(),yi=(()=>{class Ue{constructor(Z){this.template=Z}static{this.\u0275fac=function(Re){return new(Re||Ue)(l.rXU(l.C4Q))}}static{this.\u0275dir=l.FsC({type:Ue,selectors:[["","ng-multi-label-tmp",""]]})}}return Ue})(),or=(()=>{class Ue{constructor(Z){this.template=Z}static{this.\u0275fac=function(Re){return new(Re||Ue)(l.rXU(l.C4Q))}}static{this.\u0275dir=l.FsC({type:Ue,selectors:[["","ng-header-tmp",""]]})}}return Ue})(),Fi=(()=>{class Ue{constructor(Z){this.template=Z}static{this.\u0275fac=function(Re){return new(Re||Ue)(l.rXU(l.C4Q))}}static{this.\u0275dir=l.FsC({type:Ue,selectors:[["","ng-footer-tmp",""]]})}}return Ue})(),Nr=(()=>{class Ue{constructor(Z){this.template=Z}static{this.\u0275fac=function(Re){return new(Re||Ue)(l.rXU(l.C4Q))}}static{this.\u0275dir=l.FsC({type:Ue,selectors:[["","ng-notfound-tmp",""]]})}}return Ue})(),jr=(()=>{class Ue{constructor(Z){this.template=Z}static{this.\u0275fac=function(Re){return new(Re||Ue)(l.rXU(l.C4Q))}}static{this.\u0275dir=l.FsC({type:Ue,selectors:[["","ng-typetosearch-tmp",""]]})}}return Ue})(),ds=(()=>{class Ue{constructor(Z){this.template=Z}static{this.\u0275fac=function(Re){return new(Re||Ue)(l.rXU(l.C4Q))}}static{this.\u0275dir=l.FsC({type:Ue,selectors:[["","ng-loadingtext-tmp",""]]})}}return Ue})(),ar=(()=>{class Ue{constructor(Z){this.template=Z}static{this.\u0275fac=function(Re){return new(Re||Ue)(l.rXU(l.C4Q))}}static{this.\u0275dir=l.FsC({type:Ue,selectors:[["","ng-tag-tmp",""]]})}}return Ue})(),Wi=(()=>{class Ue{constructor(Z){this.template=Z}static{this.\u0275fac=function(Re){return new(Re||Ue)(l.rXU(l.C4Q))}}static{this.\u0275dir=l.FsC({type:Ue,selectors:[["","ng-loadingspinner-tmp",""]]})}}return Ue})();function hs(){return"axxxxxxxxxxx".replace(/[x]/g,()=>(16*Math.random()|0).toString(16))}const Co={"\u24b6":"A",\uff21:"A",\u00c0:"A",\u00c1:"A",\u00c2:"A",\u1ea6:"A",\u1ea4:"A",\u1eaa:"A",\u1ea8:"A",\u00c3:"A",\u0100:"A",\u0102:"A",\u1eb0:"A",\u1eae:"A",\u1eb4:"A",\u1eb2:"A",\u0226:"A",\u01e0:"A",\u00c4:"A",\u01de:"A",\u1ea2:"A",\u00c5:"A",\u01fa:"A",\u01cd:"A",\u0200:"A",\u0202:"A",\u1ea0:"A",\u1eac:"A",\u1eb6:"A",\u1e00:"A",\u0104:"A",\u023a:"A",\u2c6f:"A",\ua732:"AA",\u00c6:"AE",\u01fc:"AE",\u01e2:"AE",\ua734:"AO",\ua736:"AU",\ua738:"AV",\ua73a:"AV",\ua73c:"AY","\u24b7":"B",\uff22:"B",\u1e02:"B",\u1e04:"B",\u1e06:"B",\u0243:"B",\u0182:"B",\u0181:"B","\u24b8":"C",\uff23:"C",\u0106:"C",\u0108:"C",\u010a:"C",\u010c:"C",\u00c7:"C",\u1e08:"C",\u0187:"C",\u023b:"C",\ua73e:"C","\u24b9":"D",\uff24:"D",\u1e0a:"D",\u010e:"D",\u1e0c:"D",\u1e10:"D",\u1e12:"D",\u1e0e:"D",\u0110:"D",\u018b:"D",\u018a:"D",\u0189:"D",\ua779:"D",\u01f1:"DZ",\u01c4:"DZ",\u01f2:"Dz",\u01c5:"Dz","\u24ba":"E",\uff25:"E",\u00c8:"E",\u00c9:"E",\u00ca:"E",\u1ec0:"E",\u1ebe:"E",\u1ec4:"E",\u1ec2:"E",\u1ebc:"E",\u0112:"E",\u1e14:"E",\u1e16:"E",\u0114:"E",\u0116:"E",\u00cb:"E",\u1eba:"E",\u011a:"E",\u0204:"E",\u0206:"E",\u1eb8:"E",\u1ec6:"E",\u0228:"E",\u1e1c:"E",\u0118:"E",\u1e18:"E",\u1e1a:"E",\u0190:"E",\u018e:"E","\u24bb":"F",\uff26:"F",\u1e1e:"F",\u0191:"F",\ua77b:"F","\u24bc":"G",\uff27:"G",\u01f4:"G",\u011c:"G",\u1e20:"G",\u011e:"G",\u0120:"G",\u01e6:"G",\u0122:"G",\u01e4:"G",\u0193:"G",\ua7a0:"G",\ua77d:"G",\ua77e:"G","\u24bd":"H",\uff28:"H",\u0124:"H",\u1e22:"H",\u1e26:"H",\u021e:"H",\u1e24:"H",\u1e28:"H",\u1e2a:"H",\u0126:"H",\u2c67:"H",\u2c75:"H",\ua78d:"H","\u24be":"I",\uff29:"I",\u00cc:"I",\u00cd:"I",\u00ce:"I",\u0128:"I",\u012a:"I",\u012c:"I",\u0130:"I",\u00cf:"I",\u1e2e:"I",\u1ec8:"I",\u01cf:"I",\u0208:"I",\u020a:"I",\u1eca:"I",\u012e:"I",\u1e2c:"I",\u0197:"I","\u24bf":"J",\uff2a:"J",\u0134:"J",\u0248:"J","\u24c0":"K",\uff2b:"K",\u1e30:"K",\u01e8:"K",\u1e32:"K",\u0136:"K",\u1e34:"K",\u0198:"K",\u2c69:"K",\ua740:"K",\ua742:"K",\ua744:"K",\ua7a2:"K","\u24c1":"L",\uff2c:"L",\u013f:"L",\u0139:"L",\u013d:"L",\u1e36:"L",\u1e38:"L",\u013b:"L",\u1e3c:"L",\u1e3a:"L",\u0141:"L",\u023d:"L",\u2c62:"L",\u2c60:"L",\ua748:"L",\ua746:"L",\ua780:"L",\u01c7:"LJ",\u01c8:"Lj","\u24c2":"M",\uff2d:"M",\u1e3e:"M",\u1e40:"M",\u1e42:"M",\u2c6e:"M",\u019c:"M","\u24c3":"N",\uff2e:"N",\u01f8:"N",\u0143:"N",\u00d1:"N",\u1e44:"N",\u0147:"N",\u1e46:"N",\u0145:"N",\u1e4a:"N",\u1e48:"N",\u0220:"N",\u019d:"N",\ua790:"N",\ua7a4:"N",\u01ca:"NJ",\u01cb:"Nj","\u24c4":"O",\uff2f:"O",\u00d2:"O",\u00d3:"O",\u00d4:"O",\u1ed2:"O",\u1ed0:"O",\u1ed6:"O",\u1ed4:"O",\u00d5:"O",\u1e4c:"O",\u022c:"O",\u1e4e:"O",\u014c:"O",\u1e50:"O",\u1e52:"O",\u014e:"O",\u022e:"O",\u0230:"O",\u00d6:"O",\u022a:"O",\u1ece:"O",\u0150:"O",\u01d1:"O",\u020c:"O",\u020e:"O",\u01a0:"O",\u1edc:"O",\u1eda:"O",\u1ee0:"O",\u1ede:"O",\u1ee2:"O",\u1ecc:"O",\u1ed8:"O",\u01ea:"O",\u01ec:"O",\u00d8:"O",\u01fe:"O",\u0186:"O",\u019f:"O",\ua74a:"O",\ua74c:"O",\u01a2:"OI",\ua74e:"OO",\u0222:"OU","\u24c5":"P",\uff30:"P",\u1e54:"P",\u1e56:"P",\u01a4:"P",\u2c63:"P",\ua750:"P",\ua752:"P",\ua754:"P","\u24c6":"Q",\uff31:"Q",\ua756:"Q",\ua758:"Q",\u024a:"Q","\u24c7":"R",\uff32:"R",\u0154:"R",\u1e58:"R",\u0158:"R",\u0210:"R",\u0212:"R",\u1e5a:"R",\u1e5c:"R",\u0156:"R",\u1e5e:"R",\u024c:"R",\u2c64:"R",\ua75a:"R",\ua7a6:"R",\ua782:"R","\u24c8":"S",\uff33:"S",\u1e9e:"S",\u015a:"S",\u1e64:"S",\u015c:"S",\u1e60:"S",\u0160:"S",\u1e66:"S",\u1e62:"S",\u1e68:"S",\u0218:"S",\u015e:"S",\u2c7e:"S",\ua7a8:"S",\ua784:"S","\u24c9":"T",\uff34:"T",\u1e6a:"T",\u0164:"T",\u1e6c:"T",\u021a:"T",\u0162:"T",\u1e70:"T",\u1e6e:"T",\u0166:"T",\u01ac:"T",\u01ae:"T",\u023e:"T",\ua786:"T",\ua728:"TZ","\u24ca":"U",\uff35:"U",\u00d9:"U",\u00da:"U",\u00db:"U",\u0168:"U",\u1e78:"U",\u016a:"U",\u1e7a:"U",\u016c:"U",\u00dc:"U",\u01db:"U",\u01d7:"U",\u01d5:"U",\u01d9:"U",\u1ee6:"U",\u016e:"U",\u0170:"U",\u01d3:"U",\u0214:"U",\u0216:"U",\u01af:"U",\u1eea:"U",\u1ee8:"U",\u1eee:"U",\u1eec:"U",\u1ef0:"U",\u1ee4:"U",\u1e72:"U",\u0172:"U",\u1e76:"U",\u1e74:"U",\u0244:"U","\u24cb":"V",\uff36:"V",\u1e7c:"V",\u1e7e:"V",\u01b2:"V",\ua75e:"V",\u0245:"V",\ua760:"VY","\u24cc":"W",\uff37:"W",\u1e80:"W",\u1e82:"W",\u0174:"W",\u1e86:"W",\u1e84:"W",\u1e88:"W",\u2c72:"W","\u24cd":"X",\uff38:"X",\u1e8a:"X",\u1e8c:"X","\u24ce":"Y",\uff39:"Y",\u1ef2:"Y",\u00dd:"Y",\u0176:"Y",\u1ef8:"Y",\u0232:"Y",\u1e8e:"Y",\u0178:"Y",\u1ef6:"Y",\u1ef4:"Y",\u01b3:"Y",\u024e:"Y",\u1efe:"Y","\u24cf":"Z",\uff3a:"Z",\u0179:"Z",\u1e90:"Z",\u017b:"Z",\u017d:"Z",\u1e92:"Z",\u1e94:"Z",\u01b5:"Z",\u0224:"Z",\u2c7f:"Z",\u2c6b:"Z",\ua762:"Z","\u24d0":"a",\uff41:"a",\u1e9a:"a",\u00e0:"a",\u00e1:"a",\u00e2:"a",\u1ea7:"a",\u1ea5:"a",\u1eab:"a",\u1ea9:"a",\u00e3:"a",\u0101:"a",\u0103:"a",\u1eb1:"a",\u1eaf:"a",\u1eb5:"a",\u1eb3:"a",\u0227:"a",\u01e1:"a",\u00e4:"a",\u01df:"a",\u1ea3:"a",\u00e5:"a",\u01fb:"a",\u01ce:"a",\u0201:"a",\u0203:"a",\u1ea1:"a",\u1ead:"a",\u1eb7:"a",\u1e01:"a",\u0105:"a",\u2c65:"a",\u0250:"a",\ua733:"aa",\u00e6:"ae",\u01fd:"ae",\u01e3:"ae",\ua735:"ao",\ua737:"au",\ua739:"av",\ua73b:"av",\ua73d:"ay","\u24d1":"b",\uff42:"b",\u1e03:"b",\u1e05:"b",\u1e07:"b",\u0180:"b",\u0183:"b",\u0253:"b","\u24d2":"c",\uff43:"c",\u0107:"c",\u0109:"c",\u010b:"c",\u010d:"c",\u00e7:"c",\u1e09:"c",\u0188:"c",\u023c:"c",\ua73f:"c",\u2184:"c","\u24d3":"d",\uff44:"d",\u1e0b:"d",\u010f:"d",\u1e0d:"d",\u1e11:"d",\u1e13:"d",\u1e0f:"d",\u0111:"d",\u018c:"d",\u0256:"d",\u0257:"d",\ua77a:"d",\u01f3:"dz",\u01c6:"dz","\u24d4":"e",\uff45:"e",\u00e8:"e",\u00e9:"e",\u00ea:"e",\u1ec1:"e",\u1ebf:"e",\u1ec5:"e",\u1ec3:"e",\u1ebd:"e",\u0113:"e",\u1e15:"e",\u1e17:"e",\u0115:"e",\u0117:"e",\u00eb:"e",\u1ebb:"e",\u011b:"e",\u0205:"e",\u0207:"e",\u1eb9:"e",\u1ec7:"e",\u0229:"e",\u1e1d:"e",\u0119:"e",\u1e19:"e",\u1e1b:"e",\u0247:"e",\u025b:"e",\u01dd:"e","\u24d5":"f",\uff46:"f",\u1e1f:"f",\u0192:"f",\ua77c:"f","\u24d6":"g",\uff47:"g",\u01f5:"g",\u011d:"g",\u1e21:"g",\u011f:"g",\u0121:"g",\u01e7:"g",\u0123:"g",\u01e5:"g",\u0260:"g",\ua7a1:"g",\u1d79:"g",\ua77f:"g","\u24d7":"h",\uff48:"h",\u0125:"h",\u1e23:"h",\u1e27:"h",\u021f:"h",\u1e25:"h",\u1e29:"h",\u1e2b:"h",\u1e96:"h",\u0127:"h",\u2c68:"h",\u2c76:"h",\u0265:"h",\u0195:"hv","\u24d8":"i",\uff49:"i",\u00ec:"i",\u00ed:"i",\u00ee:"i",\u0129:"i",\u012b:"i",\u012d:"i",\u00ef:"i",\u1e2f:"i",\u1ec9:"i",\u01d0:"i",\u0209:"i",\u020b:"i",\u1ecb:"i",\u012f:"i",\u1e2d:"i",\u0268:"i",\u0131:"i","\u24d9":"j",\uff4a:"j",\u0135:"j",\u01f0:"j",\u0249:"j","\u24da":"k",\uff4b:"k",\u1e31:"k",\u01e9:"k",\u1e33:"k",\u0137:"k",\u1e35:"k",\u0199:"k",\u2c6a:"k",\ua741:"k",\ua743:"k",\ua745:"k",\ua7a3:"k","\u24db":"l",\uff4c:"l",\u0140:"l",\u013a:"l",\u013e:"l",\u1e37:"l",\u1e39:"l",\u013c:"l",\u1e3d:"l",\u1e3b:"l",\u017f:"l",\u0142:"l",\u019a:"l",\u026b:"l",\u2c61:"l",\ua749:"l",\ua781:"l",\ua747:"l",\u01c9:"lj","\u24dc":"m",\uff4d:"m",\u1e3f:"m",\u1e41:"m",\u1e43:"m",\u0271:"m",\u026f:"m","\u24dd":"n",\uff4e:"n",\u01f9:"n",\u0144:"n",\u00f1:"n",\u1e45:"n",\u0148:"n",\u1e47:"n",\u0146:"n",\u1e4b:"n",\u1e49:"n",\u019e:"n",\u0272:"n",\u0149:"n",\ua791:"n",\ua7a5:"n",\u01cc:"nj","\u24de":"o",\uff4f:"o",\u00f2:"o",\u00f3:"o",\u00f4:"o",\u1ed3:"o",\u1ed1:"o",\u1ed7:"o",\u1ed5:"o",\u00f5:"o",\u1e4d:"o",\u022d:"o",\u1e4f:"o",\u014d:"o",\u1e51:"o",\u1e53:"o",\u014f:"o",\u022f:"o",\u0231:"o",\u00f6:"o",\u022b:"o",\u1ecf:"o",\u0151:"o",\u01d2:"o",\u020d:"o",\u020f:"o",\u01a1:"o",\u1edd:"o",\u1edb:"o",\u1ee1:"o",\u1edf:"o",\u1ee3:"o",\u1ecd:"o",\u1ed9:"o",\u01eb:"o",\u01ed:"o",\u00f8:"o",\u01ff:"o",\u0254:"o",\ua74b:"o",\ua74d:"o",\u0275:"o",\u01a3:"oi",\u0223:"ou",\ua74f:"oo","\u24df":"p",\uff50:"p",\u1e55:"p",\u1e57:"p",\u01a5:"p",\u1d7d:"p",\ua751:"p",\ua753:"p",\ua755:"p","\u24e0":"q",\uff51:"q",\u024b:"q",\ua757:"q",\ua759:"q","\u24e1":"r",\uff52:"r",\u0155:"r",\u1e59:"r",\u0159:"r",\u0211:"r",\u0213:"r",\u1e5b:"r",\u1e5d:"r",\u0157:"r",\u1e5f:"r",\u024d:"r",\u027d:"r",\ua75b:"r",\ua7a7:"r",\ua783:"r","\u24e2":"s",\uff53:"s",\u00df:"s",\u015b:"s",\u1e65:"s",\u015d:"s",\u1e61:"s",\u0161:"s",\u1e67:"s",\u1e63:"s",\u1e69:"s",\u0219:"s",\u015f:"s",\u023f:"s",\ua7a9:"s",\ua785:"s",\u1e9b:"s","\u24e3":"t",\uff54:"t",\u1e6b:"t",\u1e97:"t",\u0165:"t",\u1e6d:"t",\u021b:"t",\u0163:"t",\u1e71:"t",\u1e6f:"t",\u0167:"t",\u01ad:"t",\u0288:"t",\u2c66:"t",\ua787:"t",\ua729:"tz","\u24e4":"u",\uff55:"u",\u00f9:"u",\u00fa:"u",\u00fb:"u",\u0169:"u",\u1e79:"u",\u016b:"u",\u1e7b:"u",\u016d:"u",\u00fc:"u",\u01dc:"u",\u01d8:"u",\u01d6:"u",\u01da:"u",\u1ee7:"u",\u016f:"u",\u0171:"u",\u01d4:"u",\u0215:"u",\u0217:"u",\u01b0:"u",\u1eeb:"u",\u1ee9:"u",\u1eef:"u",\u1eed:"u",\u1ef1:"u",\u1ee5:"u",\u1e73:"u",\u0173:"u",\u1e77:"u",\u1e75:"u",\u0289:"u","\u24e5":"v",\uff56:"v",\u1e7d:"v",\u1e7f:"v",\u028b:"v",\ua75f:"v",\u028c:"v",\ua761:"vy","\u24e6":"w",\uff57:"w",\u1e81:"w",\u1e83:"w",\u0175:"w",\u1e87:"w",\u1e85:"w",\u1e98:"w",\u1e89:"w",\u2c73:"w","\u24e7":"x",\uff58:"x",\u1e8b:"x",\u1e8d:"x","\u24e8":"y",\uff59:"y",\u1ef3:"y",\u00fd:"y",\u0177:"y",\u1ef9:"y",\u0233:"y",\u1e8f:"y",\u00ff:"y",\u1ef7:"y",\u1e99:"y",\u1ef5:"y",\u01b4:"y",\u024f:"y",\u1eff:"y","\u24e9":"z",\uff5a:"z",\u017a:"z",\u1e91:"z",\u017c:"z",\u017e:"z",\u1e93:"z",\u1e95:"z",\u01b6:"z",\u0225:"z",\u0240:"z",\u2c6c:"z",\ua763:"z",\u0386:"\u0391",\u0388:"\u0395",\u0389:"\u0397",\u038a:"\u0399",\u03aa:"\u0399",\u038c:"\u039f",\u038e:"\u03a5",\u03ab:"\u03a5",\u038f:"\u03a9",\u03ac:"\u03b1",\u03ad:"\u03b5",\u03ae:"\u03b7",\u03af:"\u03b9",\u03ca:"\u03b9",\u0390:"\u03b9",\u03cc:"\u03bf",\u03cd:"\u03c5",\u03cb:"\u03c5",\u03b0:"\u03c5",\u03c9:"\u03c9",\u03c2:"\u03c3"};function qr(Ue){return Ue.replace(/[^\u0000-\u007E]/g,Z=>Co[Z]||Z)}class Es{constructor(Ge,Z){this._ngSelect=Ge,this._selectionModel=Z,this._items=[],this._filteredItems=[],this._markedIndex=-1}get items(){return this._items}get filteredItems(){return this._filteredItems}get markedIndex(){return this._markedIndex}get selectedItems(){return this._selectionModel.value}get markedItem(){return this._filteredItems[this._markedIndex]}get noItemsToSelect(){return this._ngSelect.hideSelected&&this._items.length===this.selectedItems.length}get maxItemsSelected(){return this._ngSelect.multiple&&this._ngSelect.maxSelectedItems<=this.selectedItems.length}get lastSelectedItem(){let Ge=this.selectedItems.length-1;for(;Ge>=0;Ge--){const Z=this.selectedItems[Ge];if(!Z.disabled)return Z}return null}setItems(Ge){this._items=Ge.map((Z,Re)=>this.mapItem(Z,Re)),this._ngSelect.groupBy?(this._groups=this._groupBy(this._items,this._ngSelect.groupBy),this._items=this._flatten(this._groups)):(this._groups=new Map,this._groups.set(void 0,this._items)),this._filteredItems=[...this._items]}select(Ge){if(Ge.selected||this.maxItemsSelected)return;const Z=this._ngSelect.multiple;Z||this.clearSelected(),this._selectionModel.select(Ge,Z,this._ngSelect.selectableGroupAsModel),this._ngSelect.hideSelected&&this._hideSelected(Ge)}unselect(Ge){Ge.selected&&(this._selectionModel.unselect(Ge,this._ngSelect.multiple),this._ngSelect.hideSelected&&qe(Ge.index)&&this._ngSelect.multiple&&this._showSelected(Ge))}findItem(Ge){let Z;return Z=this._ngSelect.compareWith?Re=>this._ngSelect.compareWith(Re.value,Ge):this._ngSelect.bindValue?Re=>!Re.children&&this.resolveNested(Re.value,this._ngSelect.bindValue)===Ge:Re=>Re.value===Ge||!Re.children&&Re.label&&Re.label===this.resolveNested(Ge,this._ngSelect.bindLabel),this._items.find(Re=>Z(Re))}addItem(Ge){const Z=this.mapItem(Ge,this._items.length);return this._items.push(Z),this._filteredItems.push(Z),Z}clearSelected(Ge=!1){this._selectionModel.clear(Ge),this._items.forEach(Z=>{Z.selected=Ge&&Z.selected&&Z.disabled,Z.marked=!1}),this._ngSelect.hideSelected&&this.resetFilteredItems()}findByLabel(Ge){return Ge=qr(Ge).toLocaleLowerCase(),this.filteredItems.find(Z=>qr(Z.label).toLocaleLowerCase().substr(0,Ge.length)===Ge)}filter(Ge){if(!Ge)return void this.resetFilteredItems();this._filteredItems=[],Ge=this._ngSelect.searchFn?Ge:qr(Ge).toLocaleLowerCase();const Z=this._ngSelect.searchFn||this._defaultSearchFn,Re=this._ngSelect.hideSelected;for(const Je of Array.from(this._groups.keys())){const tn=[];for(const gn of this._groups.get(Je))Re&&(gn.parent&&gn.parent.selected||gn.selected)||Z(Ge,this._ngSelect.searchFn?gn.value:gn)&&tn.push(gn);if(tn.length>0){const[gn]=tn.slice(-1);if(gn.parent){const _i=this._items.find(Fr=>Fr===gn.parent);this._filteredItems.push(_i)}this._filteredItems.push(...tn)}}}resetFilteredItems(){this._filteredItems.length!==this._items.length&&(this._filteredItems=this._ngSelect.hideSelected&&this.selectedItems.length>0?this._items.filter(Ge=>!Ge.selected):this._items)}unmarkItem(){this._markedIndex=-1}markNextItem(){this._stepToItem(1)}markPreviousItem(){this._stepToItem(-1)}markItem(Ge){this._markedIndex=this._filteredItems.indexOf(Ge)}markSelectedOrDefault(Ge){if(0===this._filteredItems.length)return;const Z=this._getLastMarkedIndex();this._markedIndex=Z>-1?Z:Ge?this.filteredItems.findIndex(Re=>!Re.disabled):-1}resolveNested(Ge,Z){if(!it(Ge))return Ge;if(-1===Z.indexOf("."))return Ge[Z];{const Re=Z.split(".");let Je=Ge;for(let tn=0,gn=Re.length;tn<gn;++tn){if(null==Je)return null;Je=Je[Re[tn]]}return Je}}mapItem(Ge,Z){const Re=qe(Ge.$ngOptionLabel)?Ge.$ngOptionLabel:this.resolveNested(Ge,this._ngSelect.bindLabel),Je=qe(Ge.$ngOptionValue)?Ge.$ngOptionValue:Ge;return{index:Z,label:qe(Re)?Re.toString():"",value:Je,disabled:Ge.disabled,htmlId:`${this._ngSelect.dropdownId}-${Z}`}}mapSelectedItems(){const Ge=this._ngSelect.multiple;for(const Z of this.selectedItems){const Re=this._ngSelect.bindValue?this.resolveNested(Z.value,this._ngSelect.bindValue):Z.value,Je=qe(Re)?this.findItem(Re):null;this._selectionModel.unselect(Z,Ge),this._selectionModel.select(Je||Z,Ge,this._ngSelect.selectableGroupAsModel)}this._ngSelect.hideSelected&&(this._filteredItems=this.filteredItems.filter(Z=>-1===this.selectedItems.indexOf(Z)))}_showSelected(Ge){if(this._filteredItems.push(Ge),Ge.parent){const Z=Ge.parent;this._filteredItems.find(Je=>Je===Z)||this._filteredItems.push(Z)}else if(Ge.children)for(const Z of Ge.children)Z.selected=!1,this._filteredItems.push(Z);this._filteredItems=[...this._filteredItems.sort((Z,Re)=>Z.index-Re.index)]}_hideSelected(Ge){this._filteredItems=this._filteredItems.filter(Z=>Z!==Ge),Ge.parent?Ge.parent.children.every(Re=>Re.selected)&&(this._filteredItems=this._filteredItems.filter(Re=>Re!==Ge.parent)):Ge.children&&(this._filteredItems=this.filteredItems.filter(Z=>Z.parent!==Ge))}_defaultSearchFn(Ge,Z){return qr(Z.label).toLocaleLowerCase().indexOf(Ge)>-1}_getNextItemIndex(Ge){return Ge>0?this._markedIndex>=this._filteredItems.length-1?0:this._markedIndex+1:this._markedIndex<=0?this._filteredItems.length-1:this._markedIndex-1}_stepToItem(Ge){0===this._filteredItems.length||this._filteredItems.every(Z=>Z.disabled)||(this._markedIndex=this._getNextItemIndex(Ge),this.markedItem.disabled&&this._stepToItem(Ge))}_getLastMarkedIndex(){if(this._ngSelect.hideSelected||this._markedIndex>-1&&void 0===this.markedItem)return-1;const Ge=this._filteredItems.indexOf(this.lastSelectedItem);return this.lastSelectedItem&&Ge<0?-1:Math.max(this.markedIndex,Ge)}_groupBy(Ge,Z){const Re=new Map;if(0===Ge.length)return Re;if(Array.isArray(Ge[0].value[Z])){for(const gn of Ge){const _i=(gn.value[Z]||[]).map((Fr,Yr)=>this.mapItem(Fr,Yr));Re.set(gn,_i)}return Re}const Je=Ke(this._ngSelect.groupBy),tn=gn=>{const _i=Je?Z(gn.value):gn.value[Z];return qe(_i)?_i:void 0};for(const gn of Ge){const _i=tn(gn),Fr=Re.get(_i);Fr?Fr.push(gn):Re.set(_i,[gn])}return Re}_flatten(Ge){const Z=Ke(this._ngSelect.groupBy),Re=[];for(const Je of Array.from(Ge.keys())){let tn=Re.length;if(void 0===Je){const Ls=Ge.get(void 0)||[];Re.push(...Ls.map(ls=>(ls.index=tn++,ls)));continue}const gn=it(Je),_i={label:gn?"":String(Je),children:void 0,parent:null,index:tn++,disabled:!this._ngSelect.selectableGroup,htmlId:hs()},Fr=Z?this._ngSelect.bindLabel:this._ngSelect.groupBy,Yr=this._ngSelect.groupValue||(()=>gn?Je.value:{[Fr]:Je}),Hr=Ge.get(Je).map(Ls=>(Ls.parent=_i,Ls.children=void 0,Ls.index=tn++,Ls));_i.children=Hr,_i.value=Yr(Je,Hr.map(Ls=>Ls.value)),Re.push(_i),Re.push(...Hr)}return Re}}var Yi=function(Ue){return Ue[Ue.Tab=9]="Tab",Ue[Ue.Enter=13]="Enter",Ue[Ue.Esc=27]="Esc",Ue[Ue.Space=32]="Space",Ue[Ue.ArrowUp=38]="ArrowUp",Ue[Ue.ArrowDown=40]="ArrowDown",Ue[Ue.Backspace=8]="Backspace",Ue}(Yi||{});let ss=(()=>{class Ue{constructor(){this._dimensions={itemHeight:0,panelHeight:0,itemsPerViewport:0}}get dimensions(){return this._dimensions}calculateItems(Z,Re,Je){const tn=this._dimensions,gn=tn.itemHeight*Re,Fr=Math.max(0,Z)/gn*Re;let Yr=Math.min(Re,Math.ceil(Fr)+(tn.itemsPerViewport+1));const Ls=Math.max(0,Yr-tn.itemsPerViewport);let ls=Math.min(Ls,Math.floor(Fr)),Li=tn.itemHeight*Math.ceil(ls)-tn.itemHeight*Math.min(ls,Je);return Li=isNaN(Li)?0:Li,ls=isNaN(ls)?-1:ls,Yr=isNaN(Yr)?-1:Yr,ls-=Je,ls=Math.max(0,ls),Yr+=Je,Yr=Math.min(Re,Yr),{topPadding:Li,scrollHeight:gn,start:ls,end:Yr}}setDimensions(Z,Re){const Je=Math.max(1,Math.floor(Re/Z));this._dimensions={itemHeight:Z,panelHeight:Re,itemsPerViewport:Je}}getScrollTo(Z,Re,Je){const{panelHeight:tn}=this.dimensions,gn=Z+Re,Fr=Je+tn;return tn>=gn&&Je===Z?null:gn>Fr?Je+gn-Fr:Z<=Je?Z:null}static{this.\u0275fac=function(Re){return new(Re||Ue)}}static{this.\u0275prov=l.jDH({token:Ue,factory:Ue.\u0275fac})}}return Ue})();const fs=["top","right","bottom","left"],mo=typeof requestAnimationFrame<"u"?Lt:Vt;let Io=(()=>{class Ue{constructor(Z,Re,Je,tn,gn){this._renderer=Z,this._zone=Re,this._panelService=Je,this._document=gn,this.items=[],this.position="auto",this.virtualScroll=!1,this.filterValue=null,this.update=new l.bkB,this.scroll=new l.bkB,this.scrollToEnd=new l.bkB,this.outsideClick=new l.bkB,this._destroy$=new Rt.B,this._scrollToEndFired=!1,this._updateScrollHeight=!1,this._lastScrollPosition=0,this._dropdown=tn.nativeElement}get currentPosition(){return this._currentPosition}get itemsLength(){return this._itemsLength}set itemsLength(Z){Z!==this._itemsLength&&(this._itemsLength=Z,this._onItemsLengthChanged())}get _startOffset(){if(this.markedItem){const{itemHeight:Z,panelHeight:Re}=this._panelService.dimensions,Je=this.markedItem.index*Z;return Re>Je?0:Je}return 0}ngOnInit(){this._select=this._dropdown.parentElement,this._virtualPadding=this.paddingElementRef.nativeElement,this._scrollablePanel=this.scrollElementRef.nativeElement,this._contentPanel=this.contentElementRef.nativeElement,this._handleScroll(),this._handleOutsideClick(),this._appendDropdown(),this._setupMousedownListener()}ngOnChanges(Z){if(Z.items){const Re=Z.items;this._onItemsChange(Re.currentValue,Re.firstChange)}}ngOnDestroy(){this._destroy$.next(),this._destroy$.complete(),this._destroy$.unsubscribe(),this.appendTo&&this._renderer.removeChild(this._dropdown.parentNode,this._dropdown)}scrollTo(Z,Re=!1){if(!Z)return;const Je=this.items.indexOf(Z);if(Je<0||Je>=this.itemsLength)return;let tn;if(this.virtualScroll){const gn=this._panelService.dimensions.itemHeight;tn=this._panelService.getScrollTo(Je*gn,gn,this._lastScrollPosition)}else{const gn=this._dropdown.querySelector(`#${Z.htmlId}`);tn=this._panelService.getScrollTo(gn.offsetTop,gn.clientHeight,Re?gn.offsetTop:this._lastScrollPosition)}qe(tn)&&(this._scrollablePanel.scrollTop=tn)}scrollToTag(){const Z=this._scrollablePanel;Z.scrollTop=Z.scrollHeight-Z.clientHeight}adjustPosition(){this._updateYPosition()}_handleDropdownPosition(){this._currentPosition=this._calculateCurrentPosition(this._dropdown),fs.includes(this._currentPosition)?this._updateDropdownClass(this._currentPosition):this._updateDropdownClass("bottom"),this.appendTo&&this._updateYPosition(),this._dropdown.style.opacity="1"}_updateDropdownClass(Z){fs.forEach(Je=>{const tn=`ng-select-${Je}`;this._renderer.removeClass(this._dropdown,tn),this._renderer.removeClass(this._select,tn)});const Re=`ng-select-${Z}`;this._renderer.addClass(this._dropdown,Re),this._renderer.addClass(this._select,Re)}_handleScroll(){this._zone.runOutsideAngular(()=>{Jn(this.scrollElementRef.nativeElement,"scroll").pipe((0,ke.Q)(this._destroy$),Ft(0,mo)).subscribe(Z=>{const Re=Z.path||Z.composedPath&&Z.composedPath();this._onContentScrolled(Re&&0!==Re.length?Re[0].scrollTop:Z.target.scrollTop)})})}_handleOutsideClick(){this._document&&this._zone.runOutsideAngular(()=>{(0,ir.h)(Jn(this._document,"touchstart",{capture:!0}),Jn(this._document,"mousedown",{capture:!0})).pipe((0,ke.Q)(this._destroy$)).subscribe(Z=>this._checkToClose(Z))})}_checkToClose(Z){if(this._select.contains(Z.target)||this._dropdown.contains(Z.target))return;const Re=Z.path||Z.composedPath&&Z.composedPath();Z.target&&Z.target.shadowRoot&&Re&&Re[0]&&this._select.contains(Re[0])||this._zone.run(()=>this.outsideClick.emit())}_onItemsChange(Z,Re){this.items=Z||[],this._scrollToEndFired=!1,this.itemsLength=Z.length,this.virtualScroll?this._updateItemsRange(Re):(this._setVirtualHeight(),this._updateItems(Re))}_updateItems(Z){this.update.emit(this.items),!1!==Z&&this._zone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._panelService.setDimensions(0,this._scrollablePanel.clientHeight),this._handleDropdownPosition(),this.scrollTo(this.markedItem,Z)})})}_updateItemsRange(Z){this._zone.runOutsideAngular(()=>{this._measureDimensions().then(()=>{Z?(this._renderItemsRange(this._startOffset),this._handleDropdownPosition()):this._renderItemsRange()})})}_onContentScrolled(Z){this.virtualScroll&&this._renderItemsRange(Z),this._lastScrollPosition=Z,this._fireScrollToEnd(Z)}_updateVirtualHeight(Z){this._updateScrollHeight&&(this._virtualPadding.style.height=`${Z}px`,this._updateScrollHeight=!1)}_setVirtualHeight(){this._virtualPadding&&(this._virtualPadding.style.height="0px")}_onItemsLengthChanged(){this._updateScrollHeight=!0}_renderItemsRange(Z=null){if(Z&&this._lastScrollPosition===Z)return;const Re=this._panelService.calculateItems(Z=Z||this._scrollablePanel.scrollTop,this.itemsLength,this.bufferAmount);this._updateVirtualHeight(Re.scrollHeight),this._contentPanel.style.transform=`translateY(${Re.topPadding}px)`,this._zone.run(()=>{this.update.emit(this.items.slice(Re.start,Re.end)),this.scroll.emit({start:Re.start,end:Re.end})}),qe(Z)&&0===this._lastScrollPosition&&(this._scrollablePanel.scrollTop=Z,this._lastScrollPosition=Z)}_measureDimensions(){if(this._panelService.dimensions.itemHeight>0||0===this.itemsLength)return Promise.resolve(this._panelService.dimensions);const[Z]=this.items;return this.update.emit([Z]),Promise.resolve().then(()=>{const Je=this._dropdown.querySelector(`#${Z.htmlId}`).clientHeight;return this._virtualPadding.style.height=Je*this.itemsLength+"px",this._panelService.setDimensions(Je,this._scrollablePanel.clientHeight),this._panelService.dimensions})}_fireScrollToEnd(Z){this._scrollToEndFired||0===Z||Z+this._dropdown.clientHeight>=(this.virtualScroll?this._virtualPadding:this._contentPanel).clientHeight-1&&(this._zone.run(()=>this.scrollToEnd.emit()),this._scrollToEndFired=!0)}_calculateCurrentPosition(Z){if("auto"!==this.position)return this.position;const Re=this._select.getBoundingClientRect(),Je=document.documentElement.scrollTop||document.body.scrollTop;return Re.top+window.pageYOffset+Re.height+Z.getBoundingClientRect().height>Je+document.documentElement.clientHeight?"top":"bottom"}_appendDropdown(){if(this.appendTo){if(this._parent=document.querySelector(this.appendTo),!this._parent)throw new Error(`appendTo selector ${this.appendTo} did not found any parent element`);this._updateXPosition(),this._parent.appendChild(this._dropdown)}}_updateXPosition(){const Z=this._select.getBoundingClientRect(),Re=this._parent.getBoundingClientRect();this._dropdown.style.left=Z.left-Re.left+"px",this._dropdown.style.width=Z.width+"px",this._dropdown.style.minWidth=Z.width+"px"}_updateYPosition(){const Z=this._select.getBoundingClientRect(),Re=this._parent.getBoundingClientRect(),Je=Z.height;"top"===this._currentPosition?(this._dropdown.style.bottom=Re.bottom-Z.bottom+Je+"px",this._dropdown.style.top="auto"):"bottom"===this._currentPosition&&(this._dropdown.style.top=Z.top-Re.top+Je+"px",this._dropdown.style.bottom="auto")}_setupMousedownListener(){this._zone.runOutsideAngular(()=>{Jn(this._dropdown,"mousedown").pipe((0,ke.Q)(this._destroy$)).subscribe(Z=>{"INPUT"!==Z.target.tagName&&Z.preventDefault()})})}static{this.\u0275fac=function(Re){return new(Re||Ue)(l.rXU(l.sFG),l.rXU(l.SKi),l.rXU(ss),l.rXU(l.aKT),l.rXU(Zi.qQ,8))}}static{this.\u0275cmp=l.VBU({type:Ue,selectors:[["ng-dropdown-panel"]],viewQuery:function(Re,Je){if(1&Re&&(l.GBs(zi,7,l.aKT),l.GBs(Wr,7,l.aKT),l.GBs(as,7,l.aKT)),2&Re){let tn;l.mGM(tn=l.lsd())&&(Je.contentElementRef=tn.first),l.mGM(tn=l.lsd())&&(Je.scrollElementRef=tn.first),l.mGM(tn=l.lsd())&&(Je.paddingElementRef=tn.first)}},inputs:{items:"items",markedItem:"markedItem",position:"position",appendTo:"appendTo",bufferAmount:"bufferAmount",virtualScroll:"virtualScroll",headerTemplate:"headerTemplate",footerTemplate:"footerTemplate",filterValue:"filterValue"},outputs:{update:"update",scroll:"scroll",scrollToEnd:"scrollToEnd",outsideClick:"outsideClick"},features:[l.OA$],ngContentSelectors:vi,decls:9,vars:6,consts:[["class","ng-dropdown-header",4,"ngIf"],["role","listbox",1,"ng-dropdown-panel-items","scroll-host"],["scroll",""],["padding",""],["content",""],["class","ng-dropdown-footer",4,"ngIf"],[1,"ng-dropdown-header"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"ng-dropdown-footer"]],template:function(Re,Je){1&Re&&(l.NAR(),l.DNE(0,ni,2,4,"div",0),l.j41(1,"div",1,2),l.nrm(3,"div",null,3),l.j41(5,"div",null,4),l.SdG(7),l.k0s()(),l.DNE(8,Di,2,4,"div",5)),2&Re&&(l.Y8G("ngIf",Je.headerTemplate),l.R7$(3),l.AVh("total-padding",Je.virtualScroll),l.R7$(2),l.AVh("scrollable-content",Je.virtualScroll&&Je.items.length),l.R7$(3),l.Y8G("ngIf",Je.footerTemplate))},dependencies:[Zi.bT,Zi.T3],encapsulation:2,changeDetection:0})}}return Ue})(),ht=(()=>{class Ue{get disabled(){return this._disabled}set disabled(Z){this._disabled=this._isDisabled(Z)}constructor(Z){this.elementRef=Z,this.stateChange$=new Rt.B,this._disabled=!1}get label(){return(this.elementRef.nativeElement.textContent||"").trim()}ngOnChanges(Z){Z.disabled&&this.stateChange$.next({value:this.value,disabled:this._disabled})}ngAfterViewChecked(){this.label!==this._previousLabel&&(this._previousLabel=this.label,this.stateChange$.next({value:this.value,disabled:this._disabled,label:this.elementRef.nativeElement.innerHTML}))}ngOnDestroy(){this.stateChange$.complete()}_isDisabled(Z){return null!=Z&&"false"!=`${Z}`}static{this.\u0275fac=function(Re){return new(Re||Ue)(l.rXU(l.aKT))}}static{this.\u0275cmp=l.VBU({type:Ue,selectors:[["ng-option"]],inputs:{value:"value",disabled:"disabled"},features:[l.OA$],ngContentSelectors:vi,decls:1,vars:0,template:function(Re,Je){1&Re&&(l.NAR(),l.SdG(0))},encapsulation:2,changeDetection:0})}}return Ue})(),ut=(()=>{class Ue{constructor(){this.notFoundText="No items found",this.typeToSearchText="Type to search",this.addTagText="Add item",this.loadingText="Loading...",this.clearAllText="Clear all",this.disableVirtualScroll=!0,this.openOnEnter=!0,this.appearance="underline"}static{this.\u0275fac=function(Re){return new(Re||Ue)}}static{this.\u0275prov=l.jDH({token:Ue,factory:Ue.\u0275fac,providedIn:"root"})}}return Ue})(),jt=(()=>{class Ue{warn(Z){console.warn(Z)}static{this.\u0275fac=function(Re){return new(Re||Ue)}}static{this.\u0275prov=l.jDH({token:Ue,factory:Ue.\u0275fac,providedIn:"root"})}}return Ue})();const dn=new l.nKC("ng-select-selection-model");let Sn=(()=>{class Ue{get items(){return this._items}set items(Z){null===Z&&(Z=[]),this._itemsAreUsed=!0,this._items=Z}get compareWith(){return this._compareWith}set compareWith(Z){if(null!=Z&&!Ke(Z))throw Error("`compareWith` must be a function.");this._compareWith=Z}get clearSearchOnAdd(){return qe(this._clearSearchOnAdd)?this._clearSearchOnAdd:qe(this.config.clearSearchOnAdd)?this.config.clearSearchOnAdd:this.closeOnSelect}set clearSearchOnAdd(Z){this._clearSearchOnAdd=Z}get deselectOnClick(){return qe(this._deselectOnClick)?this._deselectOnClick:qe(this.config.deselectOnClick)?this.config.deselectOnClick:this.multiple}set deselectOnClick(Z){this._deselectOnClick=Z}get disabled(){return this.readonly||this._disabled}get filtered(){return!!this.searchTerm&&this.searchable||this._isComposing}get single(){return!this.multiple}get _editableSearchTerm(){return this.editableSearchTerm&&!this.multiple}constructor(Z,Re,Je,tn,gn,_i,Fr){this.classes=Z,this.autoFocus=Re,this.config=Je,this._cd=_i,this._console=Fr,this.markFirst=!0,this.dropdownPosition="auto",this.loading=!1,this.closeOnSelect=!0,this.hideSelected=!1,this.selectOnTab=!1,this.bufferAmount=4,this.selectableGroup=!1,this.selectableGroupAsModel=!0,this.searchFn=null,this.trackByFn=null,this.clearOnBackspace=!0,this.labelForId=null,this.inputAttrs={},this.readonly=!1,this.searchWhileComposing=!0,this.minTermLength=0,this.editableSearchTerm=!1,this.keyDownFn=Yr=>!0,this.multiple=!1,this.addTag=!1,this.searchable=!0,this.clearable=!0,this.isOpen=!1,this.blurEvent=new l.bkB,this.focusEvent=new l.bkB,this.changeEvent=new l.bkB,this.openEvent=new l.bkB,this.closeEvent=new l.bkB,this.searchEvent=new l.bkB,this.clearEvent=new l.bkB,this.addEvent=new l.bkB,this.removeEvent=new l.bkB,this.scroll=new l.bkB,this.scrollToEnd=new l.bkB,this.useDefaultClass=!0,this.viewPortItems=[],this.searchTerm=null,this.dropdownId=hs(),this.escapeHTML=!0,this._items=[],this._defaultLabel="label",this._pressedKeys=[],this._isComposing=!1,this._destroy$=new Rt.B,this._keyPress$=new Rt.B,this._onChange=Yr=>{},this._onTouched=()=>{},this.clearItem=Yr=>{const Hr=this.selectedItems.find(Ls=>Ls.value===Yr);this.unselect(Hr)},this.trackByOption=(Yr,Hr)=>this.trackByFn?this.trackByFn(Hr.value):Hr,this._mergeGlobalConfig(Je),this.itemsList=new Es(this,tn()),this.element=gn.nativeElement}get selectedItems(){return this.itemsList.selectedItems}get selectedValues(){return this.selectedItems.map(Z=>Z.value)}get hasValue(){return this.selectedItems.length>0}get currentPanelPosition(){if(this.dropdownPanel)return this.dropdownPanel.currentPosition}ngOnInit(){this._handleKeyPresses(),this._setInputAttributes()}ngOnChanges(Z){Z.multiple&&this.itemsList.clearSelected(),Z.items&&this._setItems(Z.items.currentValue||[]),Z.isOpen&&(this._manualOpen=qe(Z.isOpen.currentValue))}ngAfterViewInit(){this._itemsAreUsed||(this.escapeHTML=!1,this._setItemsFromNgOptions()),qe(this.autoFocus)&&this.focus()}ngOnDestroy(){this._destroy$.next(),this._destroy$.complete()}handleKeyDown(Z){if(Yi[Z.which]){if(!1===this.keyDownFn(Z))return;this.handleKeyCode(Z)}else Z.key&&1===Z.key.length&&this._keyPress$.next(Z.key.toLocaleLowerCase())}handleKeyCode(Z){this.clearButton&&this.clearButton.nativeElement===Z.target?this.handleKeyCodeClear(Z):this.handleKeyCodeInput(Z)}handleKeyCodeInput(Z){switch(Z.which){case Yi.ArrowDown:this._handleArrowDown(Z);break;case Yi.ArrowUp:this._handleArrowUp(Z);break;case Yi.Space:this._handleSpace(Z);break;case Yi.Enter:this._handleEnter(Z);break;case Yi.Tab:this._handleTab(Z);break;case Yi.Esc:this.close(),Z.preventDefault();break;case Yi.Backspace:this._handleBackspace()}}handleKeyCodeClear(Z){Z.which===Yi.Enter&&(this.handleClearClick(),Z.preventDefault())}handleMousedown(Z){const Re=Z.target;"INPUT"!==Re.tagName&&Z.preventDefault(),Re.classList.contains("ng-clear-wrapper")?this.handleClearClick():Re.classList.contains("ng-arrow-wrapper")?this.handleArrowClick():Re.classList.contains("ng-value-icon")||(this.focused||this.focus(),this.searchable?this.open():this.toggle())}handleArrowClick(){this.isOpen?this.close():this.open()}handleClearClick(){this.hasValue&&(this.itemsList.clearSelected(!0),this._updateNgModel()),this._clearSearch(),this.focus(),this.clearEvent.emit(),this._onSelectionChanged()}clearModel(){this.clearable&&(this.itemsList.clearSelected(),this._updateNgModel())}writeValue(Z){this.itemsList.clearSelected(),this._handleWriteValue(Z),this._cd.markForCheck()}registerOnChange(Z){this._onChange=Z}registerOnTouched(Z){this._onTouched=Z}setDisabledState(Z){this._disabled=Z,this._cd.markForCheck()}toggle(){this.isOpen?this.close():this.open()}open(){this.disabled||this.isOpen||this._manualOpen||!this._isTypeahead&&!this.addTag&&this.itemsList.noItemsToSelect||(this.isOpen=!0,this.itemsList.markSelectedOrDefault(this.markFirst),this.openEvent.emit(),this.searchTerm||this.focus(),this.detectChanges())}close(){!this.isOpen||this._manualOpen||(this.isOpen=!1,this._isComposing=!1,this._editableSearchTerm?this.itemsList.resetFilteredItems():this._clearSearch(),this.itemsList.unmarkItem(),this._onTouched(),this.closeEvent.emit(),this._cd.markForCheck())}toggleItem(Z){!Z||Z.disabled||this.disabled||(this.deselectOnClick&&Z.selected?this.unselect(Z):this.select(Z),this._editableSearchTerm&&this._setSearchTermFromItems(),this._onSelectionChanged())}select(Z){Z.selected||(this.itemsList.select(Z),this.clearSearchOnAdd&&!this._editableSearchTerm&&this._clearSearch(),this._updateNgModel(),this.multiple&&this.addEvent.emit(Z.value)),(this.closeOnSelect||this.itemsList.noItemsToSelect)&&this.close()}focus(){this.searchInput.nativeElement.focus()}blur(){this.searchInput.nativeElement.blur()}unselect(Z){Z&&(this.itemsList.unselect(Z),this.focus(),this._updateNgModel(),this.removeEvent.emit(Z.value))}selectTag(){let Z;Z=Ke(this.addTag)?this.addTag(this.searchTerm):this._primitive?this.searchTerm:{[this.bindLabel]:this.searchTerm};const Re=Je=>this._isTypeahead||!this.isOpen?this.itemsList.mapItem(Je,null):this.itemsList.addItem(Je);!function Ze(Ue){return Ue instanceof Promise}(Z)?Z&&this.select(Re(Z)):Z.then(Je=>this.select(Re(Je))).catch(()=>{})}showClear(){return this.clearable&&(this.hasValue||this.searchTerm)&&!this.disabled}focusOnClear(){this.blur(),this.clearButton&&this.clearButton.nativeElement.focus()}get showAddTag(){if(!this._validTerm)return!1;const Z=this.searchTerm.toLowerCase().trim();return this.addTag&&!this.itemsList.filteredItems.some(Re=>Re.label.toLowerCase()===Z)&&(!this.hideSelected&&this.isOpen||!this.selectedItems.some(Re=>Re.label.toLowerCase()===Z))&&!this.loading}showNoItemsFound(){const Z=0===this.itemsList.filteredItems.length;return(Z&&!this._isTypeahead&&!this.loading||Z&&this._isTypeahead&&this._validTerm&&!this.loading)&&!this.showAddTag}showTypeToSearch(){return 0===this.itemsList.filteredItems.length&&this._isTypeahead&&!this._validTerm&&!this.loading}onCompositionStart(){this._isComposing=!0}onCompositionEnd(Z){this._isComposing=!1,!this.searchWhileComposing&&this.filter(Z)}filter(Z){this._isComposing&&!this.searchWhileComposing||(this.searchTerm=Z,this._isTypeahead&&(this._validTerm||0===this.minTermLength)&&this.typeahead.next(Z),this._isTypeahead||(this.itemsList.filter(this.searchTerm),this.isOpen&&this.itemsList.markSelectedOrDefault(this.markFirst)),this.searchEvent.emit({term:Z,items:this.itemsList.filteredItems.map(Re=>Re.value)}),this.open())}onInputFocus(Z){this.focused||(this._editableSearchTerm&&this._setSearchTermFromItems(),this.element.classList.add("ng-select-focused"),this.focusEvent.emit(Z),this.focused=!0)}onInputBlur(Z){this.element.classList.remove("ng-select-focused"),this.blurEvent.emit(Z),!this.isOpen&&!this.disabled&&this._onTouched(),this._editableSearchTerm&&this._setSearchTermFromItems(),this.focused=!1}onItemHover(Z){Z.disabled||this.itemsList.markItem(Z)}detectChanges(){this._cd.destroyed||this._cd.detectChanges()}_setSearchTermFromItems(){const Z=this.selectedItems&&this.selectedItems[0];this.searchTerm=Z&&Z.label||null}_setItems(Z){const Re=Z[0];this.bindLabel=this.bindLabel||this._defaultLabel,this._primitive=qe(Re)?!it(Re):this._primitive||this.bindLabel===this._defaultLabel,this.itemsList.setItems(Z),Z.length>0&&this.hasValue&&this.itemsList.mapSelectedItems(),this.isOpen&&qe(this.searchTerm)&&!this._isTypeahead&&this.itemsList.filter(this.searchTerm),(this._isTypeahead||this.isOpen)&&this.itemsList.markSelectedOrDefault(this.markFirst)}_setItemsFromNgOptions(){const Z=Je=>{this.items=Je.map(tn=>({$ngOptionValue:tn.value,$ngOptionLabel:tn.elementRef.nativeElement.innerHTML,disabled:tn.disabled})),this.itemsList.setItems(this.items),this.hasValue&&this.itemsList.mapSelectedItems(),this.detectChanges()},Re=()=>{const Je=(0,ir.h)(this.ngOptions.changes,this._destroy$);(0,ir.h)(...this.ngOptions.map(tn=>tn.stateChange$)).pipe((0,ke.Q)(Je)).subscribe(tn=>{const gn=this.itemsList.findItem(tn.value);gn.disabled=tn.disabled,gn.label=tn.label||gn.label,this._cd.detectChanges()})};this.ngOptions.changes.pipe((0,tt.Z)(this.ngOptions),(0,ke.Q)(this._destroy$)).subscribe(Je=>{this.bindLabel=this._defaultLabel,Z(Je),Re()})}_isValidWriteValue(Z){if(!qe(Z)||this.multiple&&""===Z||Array.isArray(Z)&&0===Z.length)return!1;const Re=Je=>!(!qe(this.compareWith)&&it(Je)&&this.bindValue&&(this._console.warn(`Setting object(${JSON.stringify(Je)}) as your model with bindValue is not allowed unless [compareWith] is used.`),1));return this.multiple?Array.isArray(Z)?Z.every(Je=>Re(Je)):(this._console.warn("Multiple select ngModel should be array."),!1):Re(Z)}_handleWriteValue(Z){if(!this._isValidWriteValue(Z))return;const Re=Je=>{let tn=this.itemsList.findItem(Je);if(tn)this.itemsList.select(tn);else{const gn=it(Je);gn||!gn&&!this.bindValue?this.itemsList.select(this.itemsList.mapItem(Je,null)):this.bindValue&&(tn={[this.bindLabel]:null,[this.bindValue]:Je},this.itemsList.select(this.itemsList.mapItem(tn,null)))}};this.multiple?Z.forEach(Je=>Re(Je)):Re(Z)}_handleKeyPresses(){this.searchable||this._keyPress$.pipe((0,ke.Q)(this._destroy$),(0,yt.M)(Z=>this._pressedKeys.push(Z)),(0,It.B)(200),(0,Cn.p)(()=>this._pressedKeys.length>0),(0,Tn.T)(()=>this._pressedKeys.join(""))).subscribe(Z=>{const Re=this.itemsList.findByLabel(Z);Re&&(this.isOpen?(this.itemsList.markItem(Re),this._scrollToMarked(),this._cd.markForCheck()):this.select(Re)),this._pressedKeys=[]})}_setInputAttributes(){const Z=this.searchInput.nativeElement,Re={type:"text",autocorrect:"off",autocapitalize:"off",autocomplete:this.labelForId?"off":this.dropdownId,...this.inputAttrs};for(const Je of Object.keys(Re))Z.setAttribute(Je,Re[Je])}_updateNgModel(){const Z=[];for(const Je of this.selectedItems)if(this.bindValue){let tn=null;tn=Je.children?Je.value[(this.groupValue?this.bindValue:this.groupBy)||this.groupBy]:this.itemsList.resolveNested(Je.value,this.bindValue),Z.push(tn)}else Z.push(Je.value);const Re=this.selectedItems.map(Je=>Je.value);this.multiple?(this._onChange(Z),this.changeEvent.emit(Re)):(this._onChange(qe(Z[0])?Z[0]:null),this.changeEvent.emit(Re[0])),this._cd.markForCheck()}_clearSearch(){this.searchTerm&&(this._changeSearch(null),this.itemsList.resetFilteredItems())}_changeSearch(Z){this.searchTerm=Z,this._isTypeahead&&this.typeahead.next(Z)}_scrollToMarked(){!this.isOpen||!this.dropdownPanel||this.dropdownPanel.scrollTo(this.itemsList.markedItem)}_scrollToTag(){!this.isOpen||!this.dropdownPanel||this.dropdownPanel.scrollToTag()}_onSelectionChanged(){this.isOpen&&this.deselectOnClick&&this.appendTo&&(this._cd.detectChanges(),this.dropdownPanel.adjustPosition())}_handleTab(Z){if(!1===this.isOpen)if(this.showClear())this.focusOnClear(),Z.preventDefault();else if(!this.addTag)return;this.selectOnTab?this.itemsList.markedItem?(this.toggleItem(this.itemsList.markedItem),Z.preventDefault()):this.showAddTag?(this.selectTag(),Z.preventDefault()):this.close():this.close()}_handleEnter(Z){if(this.isOpen||this._manualOpen)this.itemsList.markedItem?this.toggleItem(this.itemsList.markedItem):this.showAddTag&&this.selectTag();else{if(!this.openOnEnter)return;this.open()}Z.preventDefault()}_handleSpace(Z){this.isOpen||this._manualOpen||(this.open(),Z.preventDefault())}_handleArrowDown(Z){this._nextItemIsTag(1)?(this.itemsList.unmarkItem(),this._scrollToTag()):(this.itemsList.markNextItem(),this._scrollToMarked()),this.open(),Z.preventDefault()}_handleArrowUp(Z){this.isOpen&&(this._nextItemIsTag(-1)?(this.itemsList.unmarkItem(),this._scrollToTag()):(this.itemsList.markPreviousItem(),this._scrollToMarked()),Z.preventDefault())}_nextItemIsTag(Z){const Re=this.itemsList.markedIndex+Z;return this.addTag&&this.searchTerm&&this.itemsList.markedItem&&(Re<0||Re===this.itemsList.filteredItems.length)}_handleBackspace(){this.searchTerm||!this.clearable||!this.clearOnBackspace||!this.hasValue||(this.multiple?this.unselect(this.itemsList.lastSelectedItem):this.clearModel())}get _isTypeahead(){return this.typeahead&&this.typeahead.observers.length>0}get _validTerm(){const Z=this.searchTerm&&this.searchTerm.trim();return Z&&Z.length>=this.minTermLength}_mergeGlobalConfig(Z){this.placeholder=this.placeholder||Z.placeholder,this.notFoundText=this.notFoundText||Z.notFoundText,this.typeToSearchText=this.typeToSearchText||Z.typeToSearchText,this.addTagText=this.addTagText||Z.addTagText,this.loadingText=this.loadingText||Z.loadingText,this.clearAllText=this.clearAllText||Z.clearAllText,this.virtualScroll=qe(this.virtualScroll)?this.virtualScroll:!!qe(Z.disableVirtualScroll)&&!Z.disableVirtualScroll,this.openOnEnter=qe(this.openOnEnter)?this.openOnEnter:Z.openOnEnter,this.appendTo=this.appendTo||Z.appendTo,this.bindValue=this.bindValue||Z.bindValue,this.bindLabel=this.bindLabel||Z.bindLabel,this.appearance=this.appearance||Z.appearance}static{this.\u0275fac=function(Re){return new(Re||Ue)(l.kS0("class"),l.kS0("autofocus"),l.rXU(ut),l.rXU(dn),l.rXU(l.aKT),l.rXU(l.gRc),l.rXU(jt))}}static{this.\u0275cmp=l.VBU({type:Ue,selectors:[["ng-select"]],contentQueries:function(Re,Je,tn){if(1&Re&&(l.wni(tn,Yt,5,l.C4Q),l.wni(tn,Pn,5,l.C4Q),l.wni(tn,un,5,l.C4Q),l.wni(tn,yi,5,l.C4Q),l.wni(tn,or,5,l.C4Q),l.wni(tn,Fi,5,l.C4Q),l.wni(tn,Nr,5,l.C4Q),l.wni(tn,jr,5,l.C4Q),l.wni(tn,ds,5,l.C4Q),l.wni(tn,ar,5,l.C4Q),l.wni(tn,Wi,5,l.C4Q),l.wni(tn,ht,5)),2&Re){let gn;l.mGM(gn=l.lsd())&&(Je.optionTemplate=gn.first),l.mGM(gn=l.lsd())&&(Je.optgroupTemplate=gn.first),l.mGM(gn=l.lsd())&&(Je.labelTemplate=gn.first),l.mGM(gn=l.lsd())&&(Je.multiLabelTemplate=gn.first),l.mGM(gn=l.lsd())&&(Je.headerTemplate=gn.first),l.mGM(gn=l.lsd())&&(Je.footerTemplate=gn.first),l.mGM(gn=l.lsd())&&(Je.notFoundTemplate=gn.first),l.mGM(gn=l.lsd())&&(Je.typeToSearchTemplate=gn.first),l.mGM(gn=l.lsd())&&(Je.loadingTextTemplate=gn.first),l.mGM(gn=l.lsd())&&(Je.tagTemplate=gn.first),l.mGM(gn=l.lsd())&&(Je.loadingSpinnerTemplate=gn.first),l.mGM(gn=l.lsd())&&(Je.ngOptions=gn)}},viewQuery:function(Re,Je){if(1&Re&&(l.GBs(Io,5),l.GBs(fr,7),l.GBs(Br,5)),2&Re){let tn;l.mGM(tn=l.lsd())&&(Je.dropdownPanel=tn.first),l.mGM(tn=l.lsd())&&(Je.searchInput=tn.first),l.mGM(tn=l.lsd())&&(Je.clearButton=tn.first)}},hostVars:20,hostBindings:function(Re,Je){1&Re&&l.bIt("keydown",function(gn){return Je.handleKeyDown(gn)}),2&Re&&l.AVh("ng-select-typeahead",Je.typeahead)("ng-select-multiple",Je.multiple)("ng-select-taggable",Je.addTag)("ng-select-searchable",Je.searchable)("ng-select-clearable",Je.clearable)("ng-select-opened",Je.isOpen)("ng-select",Je.useDefaultClass)("ng-select-disabled",Je.disabled)("ng-select-filtered",Je.filtered)("ng-select-single",Je.single)},inputs:{bindLabel:"bindLabel",bindValue:"bindValue",markFirst:"markFirst",placeholder:"placeholder",notFoundText:"notFoundText",typeToSearchText:"typeToSearchText",addTagText:"addTagText",loadingText:"loadingText",clearAllText:"clearAllText",appearance:"appearance",dropdownPosition:"dropdownPosition",appendTo:"appendTo",loading:"loading",closeOnSelect:"closeOnSelect",hideSelected:"hideSelected",selectOnTab:"selectOnTab",openOnEnter:"openOnEnter",maxSelectedItems:"maxSelectedItems",groupBy:"groupBy",groupValue:"groupValue",bufferAmount:"bufferAmount",virtualScroll:"virtualScroll",selectableGroup:"selectableGroup",selectableGroupAsModel:"selectableGroupAsModel",searchFn:"searchFn",trackByFn:"trackByFn",clearOnBackspace:"clearOnBackspace",labelForId:"labelForId",inputAttrs:"inputAttrs",tabIndex:"tabIndex",readonly:"readonly",searchWhileComposing:"searchWhileComposing",minTermLength:"minTermLength",editableSearchTerm:"editableSearchTerm",keyDownFn:"keyDownFn",typeahead:"typeahead",multiple:"multiple",addTag:"addTag",searchable:"searchable",clearable:"clearable",isOpen:"isOpen",items:"items",compareWith:"compareWith",clearSearchOnAdd:"clearSearchOnAdd",deselectOnClick:"deselectOnClick"},outputs:{blurEvent:"blur",focusEvent:"focus",changeEvent:"change",openEvent:"open",closeEvent:"close",searchEvent:"search",clearEvent:"clear",addEvent:"add",removeEvent:"remove",scroll:"scroll",scrollToEnd:"scrollToEnd"},features:[l.Jv_([{provide:Le.kq,useExisting:(0,l.Rfq)(()=>Ue),multi:!0},ss]),l.OA$],decls:14,vars:19,consts:[[1,"ng-select-container",3,"mousedown"],[1,"ng-value-container"],[1,"ng-placeholder"],[4,"ngIf"],["role","combobox","aria-haspopup","listbox",1,"ng-input"],["aria-autocomplete","list",3,"readOnly","disabled","value","input","compositionstart","compositionend","focus","blur","change"],["searchInput",""],["class","ng-clear-wrapper","tabindex","0",3,"title",4,"ngIf"],[1,"ng-arrow-wrapper"],[1,"ng-arrow"],["class","ng-dropdown-panel","role","listbox","aria-label","Options list",3,"virtualScroll","bufferAmount","appendTo","position","headerTemplate","footerTemplate","filterValue","items","markedItem","ng-select-multiple","ngClass","id","update","scroll","scrollToEnd","outsideClick",4,"ngIf"],["class","ng-value",3,"ng-value-disabled",4,"ngFor","ngForOf","ngForTrackBy"],[1,"ng-value"],["defaultLabelTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["aria-hidden","true",1,"ng-value-icon","left",3,"click"],[1,"ng-value-label",3,"ngItemLabel","escape"],["defaultLoadingSpinnerTemplate",""],[3,"ngTemplateOutlet"],[1,"ng-spinner-loader"],["tabindex","0",1,"ng-clear-wrapper",3,"title"],["clearButton",""],["aria-hidden","true",1,"ng-clear"],["role","listbox","aria-label","Options list",1,"ng-dropdown-panel",3,"virtualScroll","bufferAmount","appendTo","position","headerTemplate","footerTemplate","filterValue","items","markedItem","ngClass","id","update","scroll","scrollToEnd","outsideClick"],["class","ng-option",3,"ng-option-disabled","ng-option-selected","ng-optgroup","ng-option","ng-option-child","ng-option-marked","click","mouseover",4,"ngFor","ngForOf","ngForTrackBy"],["class","ng-option","role","option",3,"ng-option-marked","mouseover","click",4,"ngIf"],[1,"ng-option",3,"click","mouseover"],["defaultOptionTemplate",""],[1,"ng-option-label",3,"ngItemLabel","escape"],["role","option",1,"ng-option",3,"mouseover","click"],["defaultTagTemplate",""],[1,"ng-tag-label"],["defaultNotFoundTemplate",""],[1,"ng-option","ng-option-disabled"],["defaultTypeToSearchTemplate",""],["defaultLoadingTextTemplate",""]],template:function(Re,Je){if(1&Re){const tn=l.RV6();l.j41(0,"div",0),l.bIt("mousedown",function(_i){return Je.handleMousedown(_i)}),l.j41(1,"div",1)(2,"div",2),l.EFF(3),l.k0s(),l.DNE(4,Fn,2,2,"ng-container",3),l.DNE(5,Is,1,5,null,3),l.j41(6,"div",4)(7,"input",5,6),l.bIt("input",function(){l.eBV(tn);const _i=l.sdS(8);return l.Njj(Je.filter(_i.value))})("compositionstart",function(){return Je.onCompositionStart()})("compositionend",function(){l.eBV(tn);const _i=l.sdS(8);return l.Njj(Je.onCompositionEnd(_i.value))})("focus",function(_i){return Je.onInputFocus(_i)})("blur",function(_i){return Je.onInputBlur(_i)})("change",function(_i){return _i.stopPropagation()}),l.k0s()()(),l.DNE(9,vr,4,1,"ng-container",3),l.DNE(10,Ur,4,1,"span",7),l.j41(11,"span",8),l.nrm(12,"span",9),l.k0s()(),l.DNE(13,jn,7,19,"ng-dropdown-panel",10)}2&Re&&(l.AVh("ng-appearance-outline","outline"===Je.appearance)("ng-has-value",Je.hasValue),l.R7$(3),l.JRh(Je.placeholder),l.R7$(1),l.Y8G("ngIf",(!Je.multiLabelTemplate||!Je.multiple)&&Je.selectedItems.length>0),l.R7$(1),l.Y8G("ngIf",Je.multiple&&Je.multiLabelTemplate&&Je.selectedValues.length>0),l.R7$(1),l.BMQ("aria-expanded",Je.isOpen)("aria-owns",Je.isOpen?Je.dropdownId:null),l.R7$(1),l.Y8G("readOnly",!Je.searchable||Je.itemsList.maxItemsSelected)("disabled",Je.disabled)("value",Je.searchTerm?Je.searchTerm:""),l.BMQ("id",Je.labelForId)("tabindex",Je.tabIndex)("aria-activedescendant",Je.isOpen?null==Je.itemsList||null==Je.itemsList.markedItem?null:Je.itemsList.markedItem.htmlId:null)("aria-controls",Je.isOpen?Je.dropdownId:null),l.R7$(2),l.Y8G("ngIf",Je.loading),l.R7$(1),l.Y8G("ngIf",Je.showClear()),l.R7$(3),l.Y8G("ngIf",Je.isOpen))},dependencies:[Zi.YU,Zi.Sq,Zi.bT,Zi.T3,Io,xt],styles:['@charset "UTF-8";.ng-select{position:relative;display:block;box-sizing:border-box}.ng-select div,.ng-select input,.ng-select span{box-sizing:border-box}.ng-select [hidden]{display:none}.ng-select.ng-select-searchable .ng-select-container .ng-value-container .ng-input{opacity:1}.ng-select.ng-select-opened .ng-select-container{z-index:1001}.ng-select.ng-select-disabled .ng-select-container .ng-value-container .ng-placeholder,.ng-select.ng-select-disabled .ng-select-container .ng-value-container .ng-value{-webkit-user-select:none;user-select:none;cursor:default}.ng-select.ng-select-disabled .ng-arrow-wrapper{cursor:default}.ng-select.ng-select-filtered .ng-placeholder{display:none}.ng-select .ng-select-container{cursor:default;display:flex;outline:none;overflow:hidden;position:relative;width:100%}.ng-select .ng-select-container .ng-value-container{display:flex;flex:1}.ng-select .ng-select-container .ng-value-container .ng-input{opacity:0}.ng-select .ng-select-container .ng-value-container .ng-input>input{box-sizing:content-box;background:none transparent;border:0 none;box-shadow:none;outline:none;padding:0;cursor:default;width:100%}.ng-select .ng-select-container .ng-value-container .ng-input>input::-ms-clear{display:none}.ng-select .ng-select-container .ng-value-container .ng-input>input[readonly]{-webkit-user-select:none;user-select:none;width:0;padding:0}.ng-select.ng-select-single.ng-select-filtered .ng-select-container .ng-value-container .ng-value{visibility:hidden}.ng-select.ng-select-single .ng-select-container .ng-value-container,.ng-select.ng-select-single .ng-select-container .ng-value-container .ng-value{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ng-select.ng-select-single .ng-select-container .ng-value-container .ng-value .ng-value-icon{display:none}.ng-select.ng-select-single .ng-select-container .ng-value-container .ng-input{position:absolute;left:0;width:100%}.ng-select.ng-select-multiple.ng-select-disabled>.ng-select-container .ng-value-container .ng-value .ng-value-icon{display:none}.ng-select.ng-select-multiple .ng-select-container .ng-value-container{flex-wrap:wrap}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-placeholder{position:absolute}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value{white-space:nowrap}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value.ng-value-disabled .ng-value-icon{display:none}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value .ng-value-icon{cursor:pointer}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-input{flex:1;z-index:2}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-placeholder{z-index:1}.ng-select .ng-clear-wrapper{cursor:pointer;position:relative;width:17px;-webkit-user-select:none;user-select:none}.ng-select .ng-clear-wrapper .ng-clear{display:inline-block;font-size:18px;line-height:1;pointer-events:none}.ng-select .ng-spinner-loader{border-radius:50%;width:17px;height:17px;margin-right:5px;font-size:10px;position:relative;text-indent:-9999em;border-top:2px solid rgba(66,66,66,.2);border-right:2px solid rgba(66,66,66,.2);border-bottom:2px solid rgba(66,66,66,.2);border-left:2px solid #424242;transform:translateZ(0);animation:load8 .8s infinite linear}.ng-select .ng-spinner-loader:after{border-radius:50%;width:17px;height:17px}@keyframes load8{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.ng-select .ng-arrow-wrapper{cursor:pointer;position:relative;text-align:center;-webkit-user-select:none;user-select:none}.ng-select .ng-arrow-wrapper .ng-arrow{pointer-events:none;display:inline-block;height:0;width:0;position:relative}.ng-dropdown-panel{box-sizing:border-box;position:absolute;opacity:0;width:100%;z-index:1050;-webkit-overflow-scrolling:touch}.ng-dropdown-panel .ng-dropdown-panel-items{display:block;height:auto;box-sizing:border-box;max-height:240px;overflow-y:auto}.ng-dropdown-panel .ng-dropdown-panel-items .ng-optgroup{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option{box-sizing:border-box;cursor:pointer;display:block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option .ng-option-label:empty:before{content:"\\200b"}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option .highlighted{font-weight:700;text-decoration:underline}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option.disabled{cursor:default}.ng-dropdown-panel .scroll-host{overflow:hidden;overflow-y:auto;position:relative;display:block;-webkit-overflow-scrolling:touch}.ng-dropdown-panel .scrollable-content{top:0;left:0;width:100%;height:100%;position:absolute}.ng-dropdown-panel .total-padding{width:1px;opacity:0}\n'],encapsulation:2,changeDetection:0})}}return Ue})();function pi(){return new rr}class rr{constructor(){this._selected=[]}get value(){return this._selected}select(Ge,Z,Re){if(Ge.selected=!0,(!Ge.children||!Z&&Re)&&this._selected.push(Ge),Z)if(Ge.parent){const Je=Ge.parent.children.length,tn=Ge.parent.children.filter(gn=>gn.selected).length;Ge.parent.selected=Je===tn}else Ge.children&&(this._setChildrenSelectedState(Ge.children,!0),this._removeChildren(Ge),this._selected=Re&&this._activeChildren(Ge)?[...this._selected.filter(Je=>Je.parent!==Ge),Ge]:[...this._selected,...Ge.children.filter(Je=>!Je.disabled)])}unselect(Ge,Z){if(this._selected=this._selected.filter(Re=>Re!==Ge),Ge.selected=!1,Z)if(Ge.parent&&Ge.parent.selected){const Re=Ge.parent.children;this._removeParent(Ge.parent),this._removeChildren(Ge.parent),this._selected.push(...Re.filter(Je=>Je!==Ge&&!Je.disabled)),Ge.parent.selected=!1}else Ge.children&&(this._setChildrenSelectedState(Ge.children,!1),this._removeChildren(Ge))}clear(Ge){this._selected=Ge?this._selected.filter(Z=>Z.disabled):[]}_setChildrenSelectedState(Ge,Z){for(const Re of Ge)Re.disabled||(Re.selected=Z)}_removeChildren(Ge){this._selected=[...this._selected.filter(Z=>Z.parent!==Ge),...Ge.children.filter(Z=>Z.parent===Ge&&Z.disabled&&Z.selected)]}_removeParent(Ge){this._selected=this._selected.filter(Z=>Z!==Ge)}_activeChildren(Ge){return Ge.children.every(Z=>!Z.disabled||Z.selected)}}let pr=(()=>{class Ue{static{this.\u0275fac=function(Re){return new(Re||Ue)}}static{this.\u0275mod=l.$C({type:Ue})}static{this.\u0275inj=l.G2t({providers:[{provide:dn,useValue:pi}],imports:[Zi.MD]})}}return Ue})()},9763:(ei,Nt,ee)=>{ee.d(Nt,{$L:()=>Ts,Hg:()=>Fi,ij:()=>as,n:()=>yn,t1:()=>Do});var l=ee(8444);class Le{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(f,c,h,m){const C=c.duration;c.listeners[m].forEach(x=>x({chart:f,initial:c.initial,numSteps:C,currentStep:Math.min(h-c.start,C)}))}_refresh(){this._request||(this._running=!0,this._request=l.r.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(f=Date.now()){let c=0;this._charts.forEach((h,m)=>{if(!h.running||!h.items.length)return;const b=h.items;let L,C=b.length-1,x=!1;for(;C>=0;--C)L=b[C],L._active?(L._total>h.duration&&(h.duration=L._total),L.tick(f),x=!0):(b[C]=b[b.length-1],b.pop());x&&(m.draw(),this._notify(m,h,f,"progress")),b.length||(h.running=!1,this._notify(m,h,f,"complete"),h.initial=!1),c+=b.length}),this._lastDate=f,0===c&&(this._running=!1)}_getAnims(f){const c=this._charts;let h=c.get(f);return h||(h={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},c.set(f,h)),h}listen(f,c,h){this._getAnims(f).listeners[c].push(h)}add(f,c){!c||!c.length||this._getAnims(f).items.push(...c)}has(f){return this._getAnims(f).items.length>0}start(f){const c=this._charts.get(f);c&&(c.running=!0,c.start=Date.now(),c.duration=c.items.reduce((h,m)=>Math.max(h,m._duration),0),this._refresh())}running(f){if(!this._running)return!1;const c=this._charts.get(f);return!(!c||!c.running||!c.items.length)}stop(f){const c=this._charts.get(f);if(!c||!c.items.length)return;const h=c.items;let m=h.length-1;for(;m>=0;--m)h[m].cancel();c.items=[],this._notify(f,c,Date.now(),"complete")}remove(f){return this._charts.delete(f)}}var ke=new Le;const ot="transparent",R={boolean:(y,f,c)=>c>.5?f:y,color(y,f,c){const h=(0,l.c)(y||ot),m=h.valid&&(0,l.c)(f||ot);return m&&m.valid?m.mix(h,c).hexString():f},number:(y,f,c)=>y+(f-y)*c};class Ce{constructor(f,c,h,m){const b=c[h];m=(0,l.a)([f.to,m,b,f.from]);const C=(0,l.a)([f.from,b,m]);this._active=!0,this._fn=f.fn||R[f.type||typeof C],this._easing=l.e[f.easing]||l.e.linear,this._start=Math.floor(Date.now()+(f.delay||0)),this._duration=this._total=Math.floor(f.duration),this._loop=!!f.loop,this._target=c,this._prop=h,this._from=C,this._to=m,this._promises=void 0}active(){return this._active}update(f,c,h){if(this._active){this._notify(!1);const m=this._target[this._prop],b=h-this._start,C=this._duration-b;this._start=h,this._duration=Math.floor(Math.max(C,f.duration)),this._total+=b,this._loop=!!f.loop,this._to=(0,l.a)([f.to,c,m,f.from]),this._from=(0,l.a)([f.from,m,c])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(f){const c=f-this._start,h=this._duration,m=this._prop,b=this._from,C=this._loop,x=this._to;let L;if(this._active=b!==x&&(C||c<h),!this._active)return this._target[m]=x,void this._notify(!0);c<0?this._target[m]=b:(L=c/h%2,L=C&&L>1?2-L:L,L=this._easing(Math.min(1,Math.max(0,L))),this._target[m]=this._fn(b,x,L))}wait(){const f=this._promises||(this._promises=[]);return new Promise((c,h)=>{f.push({res:c,rej:h})})}_notify(f){const c=f?"res":"rej",h=this._promises||[];for(let m=0;m<h.length;m++)h[m][c]()}}class xe{constructor(f,c){this._chart=f,this._properties=new Map,this.configure(c)}configure(f){if(!(0,l.i)(f))return;const c=Object.keys(l.d.animation),h=this._properties;Object.getOwnPropertyNames(f).forEach(m=>{const b=f[m];if(!(0,l.i)(b))return;const C={};for(const x of c)C[x]=b[x];((0,l.b)(b.properties)&&b.properties||[m]).forEach(x=>{(x===m||!h.has(x))&&h.set(x,C)})})}_animateOptions(f,c){const h=c.options,m=function ft(y,f){if(!f)return;let c=y.options;if(c)return c.$shared&&(y.options=c=Object.assign({},c,{$shared:!1,$animations:{}})),c;y.options=f}(f,h);if(!m)return[];const b=this._createAnimations(m,h);return h.$shared&&function at(y,f){const c=[],h=Object.keys(f);for(let m=0;m<h.length;m++){const b=y[h[m]];b&&b.active()&&c.push(b.wait())}return Promise.all(c)}(f.options.$animations,h).then(()=>{f.options=h},()=>{}),b}_createAnimations(f,c){const h=this._properties,m=[],b=f.$animations||(f.$animations={}),C=Object.keys(c),x=Date.now();let L;for(L=C.length-1;L>=0;--L){const q=C[L];if("$"===q.charAt(0))continue;if("options"===q){m.push(...this._animateOptions(f,c));continue}const pe=c[q];let be=b[q];const Be=h.get(q);if(be){if(Be&&be.active()){be.update(Be,pe,x);continue}be.cancel()}Be&&Be.duration?(b[q]=be=new Ce(Be,f,q,pe),m.push(be)):f[q]=pe}return m}update(f,c){if(0===this._properties.size)return void Object.assign(f,c);const h=this._createAnimations(f,c);return h.length?(ke.add(this._chart,h),!0):void 0}}function Pe(y,f){const c=y&&y.options||{},h=c.reverse,m=void 0===c.min?f:0,b=void 0===c.max?f:0;return{start:h?b:m,end:h?m:b}}function Ft(y,f){const c=[],h=y._getSortedDatasetMetas(f);let m,b;for(m=0,b=h.length;m<b;++m)c.push(h[m].index);return c}function tt(y,f,c,h={}){const m=y.keys,b="single"===h.mode;let C,x,L,q;if(null===f)return;let pe=!1;for(C=0,x=m.length;C<x;++C){if(L=+m[C],L===c){if(pe=!0,h.all)continue;break}q=y.values[L],(0,l.g)(q)&&(b||0===f||(0,l.s)(f)===(0,l.s)(q))&&(f+=q)}return pe||h.all?f:0}function It(y,f){const c=y&&y.options.stacked;return c||void 0===c&&void 0!==f.stack}function wi(y,f,c){const h=y[f]||(y[f]={});return h[c]||(h[c]={})}function Ci(y,f,c,h){for(const m of f.getMatchingVisibleMetas(h).reverse()){const b=y[m.index];if(c&&b>0||!c&&b<0)return m.index}return null}function vt(y,f){const{chart:c,_cachedMeta:h}=y,m=c._stacks||(c._stacks={}),{iScale:b,vScale:C,index:x}=h,L=b.axis,q=C.axis,pe=function Cn(y,f,c){return`${y.id}.${f.id}.${c.stack||c.type}`}(b,C,h),be=f.length;let Be;for(let We=0;We<be;++We){const gt=f[We],{[L]:Tt,[q]:Zt}=gt;Be=(gt._stacks||(gt._stacks={}))[q]=wi(m,pe,Tt),Be[x]=Zt,Be._top=Ci(Be,C,!0,h.type),Be._bottom=Ci(Be,C,!1,h.type),(Be._visualValues||(Be._visualValues={}))[x]=Zt}}function cn(y,f){const c=y.scales;return Object.keys(c).filter(h=>c[h].axis===f).shift()}function Lt(y,f){const c=y.controller.index,h=y.vScale&&y.vScale.axis;if(h){f=f||y._parsed;for(const m of f){const b=m._stacks;if(!b||void 0===b[h]||void 0===b[h][c])return;delete b[h][c],void 0!==b[h]._visualValues&&void 0!==b[h]._visualValues[c]&&delete b[h]._visualValues[c]}}}const rt=y=>"reset"===y||"none"===y,Qt=(y,f)=>f?y:Object.assign({},y);let yn=(()=>class y{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(c,h){this.chart=c,this._ctx=c.ctx,this.index=h,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const c=this._cachedMeta;this.configure(),this.linkScales(),c._stacked=It(c.vScale,c),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(c){this.index!==c&&Lt(this._cachedMeta),this.index=c}linkScales(){const c=this.chart,h=this._cachedMeta,m=this.getDataset(),b=(Be,We,gt,Tt)=>"x"===Be?We:"r"===Be?Tt:gt,C=h.xAxisID=(0,l.v)(m.xAxisID,cn(c,"x")),x=h.yAxisID=(0,l.v)(m.yAxisID,cn(c,"y")),L=h.rAxisID=(0,l.v)(m.rAxisID,cn(c,"r")),q=h.indexAxis,pe=h.iAxisID=b(q,C,x,L),be=h.vAxisID=b(q,x,C,L);h.xScale=this.getScaleForId(C),h.yScale=this.getScaleForId(x),h.rScale=this.getScaleForId(L),h.iScale=this.getScaleForId(pe),h.vScale=this.getScaleForId(be)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(c){return this.chart.scales[c]}_getOtherScale(c){const h=this._cachedMeta;return c===h.iScale?h.vScale:h.iScale}reset(){this._update("reset")}_destroy(){const c=this._cachedMeta;this._data&&(0,l.u)(this._data,this),c._stacked&&Lt(c)}_dataCheck(){const c=this.getDataset(),h=c.data||(c.data=[]),m=this._data;if((0,l.i)(h))this._data=function yt(y,f){const{iScale:c,vScale:h}=f,m="x"===c.axis?"x":"y",b="x"===h.axis?"x":"y",C=Object.keys(y),x=new Array(C.length);let L,q,pe;for(L=0,q=C.length;L<q;++L)pe=C[L],x[L]={[m]:pe,[b]:y[pe]};return x}(h,this._cachedMeta);else if(m!==h){if(m){(0,l.u)(m,this);const b=this._cachedMeta;Lt(b),b._parsed=[]}h&&Object.isExtensible(h)&&(0,l.l)(h,this),this._syncList=[],this._data=h}}addElements(){const c=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(c.dataset=new this.datasetElementType)}buildOrUpdateElements(c){const h=this._cachedMeta,m=this.getDataset();let b=!1;this._dataCheck();const C=h._stacked;h._stacked=It(h.vScale,h),h.stack!==m.stack&&(b=!0,Lt(h),h.stack=m.stack),this._resyncElements(c),(b||C!==h._stacked)&&(vt(this,h._parsed),h._stacked=It(h.vScale,h))}configure(){const c=this.chart.config,h=c.datasetScopeKeys(this._type),m=c.getOptionScopes(this.getDataset(),h,!0);this.options=c.createResolver(m,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(c,h){const{_cachedMeta:m,_data:b}=this,{iScale:C,_stacked:x}=m,L=C.axis;let be,Be,We,q=0===c&&h===b.length||m._sorted,pe=c>0&&m._parsed[c-1];if(!1===this._parsing)m._parsed=b,m._sorted=!0,We=b;else{We=(0,l.b)(b[c])?this.parseArrayData(m,b,c,h):(0,l.i)(b[c])?this.parseObjectData(m,b,c,h):this.parsePrimitiveData(m,b,c,h);const gt=()=>null===Be[L]||pe&&Be[L]<pe[L];for(be=0;be<h;++be)m._parsed[be+c]=Be=We[be],q&&(gt()&&(q=!1),pe=Be);m._sorted=q}x&&vt(this,We)}parsePrimitiveData(c,h,m,b){const{iScale:C,vScale:x}=c,L=C.axis,q=x.axis,pe=C.getLabels(),be=C===x,Be=new Array(b);let We,gt,Tt;for(We=0,gt=b;We<gt;++We)Tt=We+m,Be[We]={[L]:be||C.parse(pe[Tt],Tt),[q]:x.parse(h[Tt],Tt)};return Be}parseArrayData(c,h,m,b){const{xScale:C,yScale:x}=c,L=new Array(b);let q,pe,be,Be;for(q=0,pe=b;q<pe;++q)be=q+m,Be=h[be],L[q]={x:C.parse(Be[0],be),y:x.parse(Be[1],be)};return L}parseObjectData(c,h,m,b){const{xScale:C,yScale:x}=c,{xAxisKey:L="x",yAxisKey:q="y"}=this._parsing,pe=new Array(b);let be,Be,We,gt;for(be=0,Be=b;be<Be;++be)We=be+m,gt=h[We],pe[be]={x:C.parse((0,l.f)(gt,L),We),y:x.parse((0,l.f)(gt,q),We)};return pe}getParsed(c){return this._cachedMeta._parsed[c]}getDataElement(c){return this._cachedMeta.data[c]}applyStack(c,h,m){const C=this._cachedMeta,x=h[c.axis];return tt({keys:Ft(this.chart,!0),values:h._stacks[c.axis]._visualValues},x,C.index,{mode:m})}updateRangeFromParsed(c,h,m,b){const C=m[h.axis];let x=null===C?NaN:C;const L=b&&m._stacks[h.axis];b&&L&&(b.values=L,x=tt(b,C,this._cachedMeta.index)),c.min=Math.min(c.min,x),c.max=Math.max(c.max,x)}getMinMax(c,h){const m=this._cachedMeta,b=m._parsed,C=m._sorted&&c===m.iScale,x=b.length,L=this._getOtherScale(c),q=((y,f,c)=>y&&!f.hidden&&f._stacked&&{keys:Ft(this.chart,!0),values:null})(h,m),pe={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:be,max:Be}=function Tn(y){const{min:f,max:c,minDefined:h,maxDefined:m}=y.getUserBounds();return{min:h?f:Number.NEGATIVE_INFINITY,max:m?c:Number.POSITIVE_INFINITY}}(L);let We,gt;function Tt(){gt=b[We];const Zt=gt[L.axis];return!(0,l.g)(gt[c.axis])||be>Zt||Be<Zt}for(We=0;We<x&&(Tt()||(this.updateRangeFromParsed(pe,c,gt,q),!C));++We);if(C)for(We=x-1;We>=0;--We)if(!Tt()){this.updateRangeFromParsed(pe,c,gt,q);break}return pe}getAllParsedValues(c){const h=this._cachedMeta._parsed,m=[];let b,C,x;for(b=0,C=h.length;b<C;++b)x=h[b][c.axis],(0,l.g)(x)&&m.push(x);return m}getMaxOverflow(){return!1}getLabelAndValue(c){const h=this._cachedMeta,m=h.iScale,b=h.vScale,C=this.getParsed(c);return{label:m?""+m.getLabelForValue(C[m.axis]):"",value:b?""+b.getLabelForValue(C[b.axis]):""}}_update(c){const h=this._cachedMeta;this.update(c||"default"),h._clip=function mt(y){let f,c,h,m;return(0,l.i)(y)?(f=y.top,c=y.right,h=y.bottom,m=y.left):f=c=h=m=y,{top:f,right:c,bottom:h,left:m,disabled:!1===y}}((0,l.v)(this.options.clip,function He(y,f,c){if(!1===c)return!1;const h=Pe(y,c),m=Pe(f,c);return{top:m.end,right:h.end,bottom:m.start,left:h.start}}(h.xScale,h.yScale,this.getMaxOverflow())))}update(c){}draw(){const c=this._ctx,m=this._cachedMeta,b=m.data||[],C=this.chart.chartArea,x=[],L=this._drawStart||0,q=this._drawCount||b.length-L,pe=this.options.drawActiveElementsOnTop;let be;for(m.dataset&&m.dataset.draw(c,C,L,q),be=L;be<L+q;++be){const Be=b[be];Be.hidden||(Be.active&&pe?x.push(Be):Be.draw(c,C))}for(be=0;be<x.length;++be)x[be].draw(c,C)}getStyle(c,h){const m=h?"active":"default";return void 0===c&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(m):this.resolveDataElementOptions(c||0,m)}getContext(c,h,m){const b=this.getDataset();let C;if(c>=0&&c<this._cachedMeta.data.length){const x=this._cachedMeta.data[c];C=x.$context||(x.$context=function At(y,f,c){return(0,l.j)(y,{active:!1,dataIndex:f,parsed:void 0,raw:void 0,element:c,index:f,mode:"default",type:"data"})}(this.getContext(),c,x)),C.parsed=this.getParsed(c),C.raw=b.data[c],C.index=C.dataIndex=c}else C=this.$context||(this.$context=function Dt(y,f){return(0,l.j)(y,{active:!1,dataset:void 0,datasetIndex:f,index:f,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),C.dataset=b,C.index=C.datasetIndex=this.index;return C.active=!!h,C.mode=m,C}resolveDatasetElementOptions(c){return this._resolveElementOptions(this.datasetElementType.id,c)}resolveDataElementOptions(c,h){return this._resolveElementOptions(this.dataElementType.id,h,c)}_resolveElementOptions(c,h="default",m){const b="active"===h,C=this._cachedDataOpts,x=c+"-"+h,L=C[x],q=this.enableOptionSharing&&(0,l.h)(m);if(L)return Qt(L,q);const pe=this.chart.config,be=pe.datasetElementScopeKeys(this._type,c),Be=b?[`${c}Hover`,"hover",c,""]:[c,""],We=pe.getOptionScopes(this.getDataset(),be),gt=Object.keys(l.d.elements[c]),Zt=pe.resolveNamedOptions(We,gt,()=>this.getContext(m,b,h),Be);return Zt.$shared&&(Zt.$shared=q,C[x]=Object.freeze(Qt(Zt,q))),Zt}_resolveAnimations(c,h,m){const b=this.chart,C=this._cachedDataOpts,x=`animation-${h}`,L=C[x];if(L)return L;let q;if(!1!==b.options.animation){const be=this.chart.config,Be=be.datasetAnimationScopeKeys(this._type,h),We=be.getOptionScopes(this.getDataset(),Be);q=be.createResolver(We,this.getContext(c,m,h))}const pe=new xe(b,q&&q.animations);return q&&q._cacheable&&(C[x]=Object.freeze(pe)),pe}getSharedOptions(c){if(c.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},c))}includeOptions(c,h){return!h||rt(c)||this.chart._animationsDisabled}_getSharedOptions(c,h){const m=this.resolveDataElementOptions(c,h),b=this._sharedOptions,C=this.getSharedOptions(m),x=this.includeOptions(h,C)||C!==b;return this.updateSharedOptions(C,h,m),{sharedOptions:C,includeOptions:x}}updateElement(c,h,m,b){rt(b)?Object.assign(c,m):this._resolveAnimations(h,b).update(c,m)}updateSharedOptions(c,h,m){c&&!rt(h)&&this._resolveAnimations(void 0,h).update(c,m)}_setStyle(c,h,m,b){c.active=b;const C=this.getStyle(h,b);this._resolveAnimations(h,m,b).update(c,{options:!b&&this.getSharedOptions(C)||C})}removeHoverStyle(c,h,m){this._setStyle(c,m,"active",!1)}setHoverStyle(c,h,m){this._setStyle(c,m,"active",!0)}_removeDatasetHoverStyle(){const c=this._cachedMeta.dataset;c&&this._setStyle(c,void 0,"active",!1)}_setDatasetHoverStyle(){const c=this._cachedMeta.dataset;c&&this._setStyle(c,void 0,"active",!0)}_resyncElements(c){const h=this._data,m=this._cachedMeta.data;for(const[L,q,pe]of this._syncList)this[L](q,pe);this._syncList=[];const b=m.length,C=h.length,x=Math.min(C,b);x&&this.parse(0,x),C>b?this._insertElements(b,C-b,c):C<b&&this._removeElements(C,b-C)}_insertElements(c,h,m=!0){const b=this._cachedMeta,C=b.data,x=c+h;let L;const q=pe=>{for(pe.length+=h,L=pe.length-1;L>=x;L--)pe[L]=pe[L-h]};for(q(C),L=c;L<x;++L)C[L]=new this.dataElementType;this._parsing&&q(b._parsed),this.parse(c,h),m&&this.updateElements(C,c,h,"reset")}updateElements(c,h,m,b){}_removeElements(c,h){const m=this._cachedMeta;if(this._parsing){const b=m._parsed.splice(c,h);m._stacked&&Lt(m,b)}m.data.splice(c,h)}_sync(c){if(this._parsing)this._syncList.push(c);else{const[h,m,b]=c;this[h](m,b)}this.chart._dataChanges.push([this.index,...c])}_onDataPush(){const c=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-c,c])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(c,h){h&&this._sync(["_removeElements",c,h]);const m=arguments.length-2;m&&this._sync(["_insertElements",c,m])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}})();function on(y){const f=y.iScale,c=function fi(y,f){if(!y._cache.$bar){const c=y.getMatchingVisibleMetas(f);let h=[];for(let m=0,b=c.length;m<b;m++)h=h.concat(c[m].controller.getAllParsedValues(y));y._cache.$bar=(0,l._)(h.sort((m,b)=>m-b))}return y._cache.$bar}(f,y.type);let m,b,C,x,h=f._length;const L=()=>{32767===C||-32768===C||((0,l.h)(x)&&(h=Math.min(h,Math.abs(C-x)||h)),x=C)};for(m=0,b=c.length;m<b;++m)C=f.getPixelForValue(c[m]),L();for(x=void 0,m=0,b=f.ticks.length;m<b;++m)C=f.getPixelForTick(m),L();return h}function hr(y,f,c,h){return(0,l.b)(y)?function Zr(y,f,c,h){const m=c.parse(y[0],h),b=c.parse(y[1],h),C=Math.min(m,b),x=Math.max(m,b);let L=C,q=x;Math.abs(C)>Math.abs(x)&&(L=x,q=C),f[c.axis]=q,f._custom={barStart:L,barEnd:q,start:m,end:b,min:C,max:x}}(y,f,c,h):f[c.axis]=c.parse(y,h),f}function xn(y,f,c,h){const m=y.iScale,b=y.vScale,C=m.getLabels(),x=m===b,L=[];let q,pe,be,Be;for(q=c,pe=c+h;q<pe;++q)Be=f[q],be={},be[m.axis]=x||m.parse(C[q],q),L.push(hr(Be,be,b,q));return L}function Gr(y){return y&&void 0!==y.barStart&&void 0!==y.barEnd}function Rt(y,f,c,h){let m=f.borderSkipped;const b={};if(!m)return void(y.borderSkipped=b);if(!0===m)return void(y.borderSkipped={top:!0,right:!0,bottom:!0,left:!0});const{start:C,end:x,reverse:L,top:q,bottom:pe}=function Bt(y){let f,c,h,m,b;return y.horizontal?(f=y.base>y.x,c="left",h="right"):(f=y.base<y.y,c="bottom",h="top"),f?(m="end",b="start"):(m="start",b="end"),{start:c,end:h,reverse:f,top:m,bottom:b}}(y);"middle"===m&&c&&(y.enableBorderRadius=!0,(c._top||0)===h?m=q:(c._bottom||0)===h?m=pe:(b[qt(pe,C,x,L)]=!0,m=q)),b[qt(m,C,x,L)]=!0,y.borderSkipped=b}function qt(y,f,c,h){return h?(y=function ln(y,f,c){return y===f?c:y===c?f:y}(y,f,c),y=Ut(y,c,f)):y=Ut(y,f,c),y}function Ut(y,f,c){return"start"===y?f:"end"===y?c:y}function Mn(y,{inflateAmount:f},c){y.inflateAmount="auto"===f?1===c?.33:0:f}let In=(()=>class y extends yn{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(c,h,m,b){return xn(c,h,m,b)}parseArrayData(c,h,m,b){return xn(c,h,m,b)}parseObjectData(c,h,m,b){const{iScale:C,vScale:x}=c,{xAxisKey:L="x",yAxisKey:q="y"}=this._parsing,pe="x"===C.axis?L:q,be="x"===x.axis?L:q,Be=[];let We,gt,Tt,Zt;for(We=m,gt=m+b;We<gt;++We)Zt=h[We],Tt={},Tt[C.axis]=C.parse((0,l.f)(Zt,pe),We),Be.push(hr((0,l.f)(Zt,be),Tt,x,We));return Be}updateRangeFromParsed(c,h,m,b){super.updateRangeFromParsed(c,h,m,b);const C=m._custom;C&&h===this._cachedMeta.vScale&&(c.min=Math.min(c.min,C.min),c.max=Math.max(c.max,C.max))}getMaxOverflow(){return 0}getLabelAndValue(c){const h=this._cachedMeta,{iScale:m,vScale:b}=h,C=this.getParsed(c),x=C._custom,L=Gr(x)?"["+x.start+", "+x.end+"]":""+b.getLabelForValue(C[b.axis]);return{label:""+m.getLabelForValue(C[m.axis]),value:L}}initialize(){this.enableOptionSharing=!0,super.initialize(),this._cachedMeta.stack=this.getDataset().stack}update(c){const h=this._cachedMeta;this.updateElements(h.data,0,h.data.length,c)}updateElements(c,h,m,b){const C="reset"===b,{index:x,_cachedMeta:{vScale:L}}=this,q=L.getBasePixel(),pe=L.isHorizontal(),be=this._getRuler(),{sharedOptions:Be,includeOptions:We}=this._getSharedOptions(h,b);for(let gt=h;gt<h+m;gt++){const Tt=this.getParsed(gt),Zt=C||(0,l.k)(Tt[L.axis])?{base:q,head:q}:this._calculateBarValuePixels(gt),bn=this._calculateBarIndexPixels(gt,be),pn=(Tt._stacks||{})[L.axis],Un={horizontal:pe,base:Zt.base,enableBorderRadius:!pn||Gr(Tt._custom)||x===pn._top||x===pn._bottom,x:pe?Zt.head:bn.center,y:pe?bn.center:Zt.head,height:pe?bn.size:Math.abs(Zt.size),width:pe?Math.abs(Zt.size):bn.size};We&&(Un.options=Be||this.resolveDataElementOptions(gt,c[gt].active?"active":b));const Xn=Un.options||c[gt].options;Rt(Un,Xn,pn,x),Mn(Un,Xn,be.ratio),this.updateElement(c[gt],gt,Un,b)}}_getStacks(c,h){const{iScale:m}=this._cachedMeta,b=m.getMatchingVisibleMetas(this._type).filter(be=>be.controller.options.grouped),C=m.options.stacked,x=[],L=this._cachedMeta.controller.getParsed(h),q=L&&L[m.axis],pe=be=>{const Be=be._parsed.find(gt=>gt[m.axis]===q),We=Be&&Be[be.vScale.axis];if((0,l.k)(We)||isNaN(We))return!0};for(const be of b)if((void 0===h||!pe(be))&&((!1===C||-1===x.indexOf(be.stack)||void 0===C&&void 0===be.stack)&&x.push(be.stack),be.index===c))break;return x.length||x.push(void 0),x}_getStackCount(c){return this._getStacks(void 0,c).length}_getStackIndex(c,h,m){const b=this._getStacks(c,m),C=void 0!==h?b.indexOf(h):-1;return-1===C?b.length-1:C}_getRuler(){const c=this.options,h=this._cachedMeta,m=h.iScale,b=[];let C,x;for(C=0,x=h.data.length;C<x;++C)b.push(m.getPixelForValue(this.getParsed(C)[m.axis],C));const L=c.barThickness;return{min:L||on(h),pixels:b,start:m._startPixel,end:m._endPixel,stackCount:this._getStackCount(),scale:m,grouped:c.grouped,ratio:L?1:c.categoryPercentage*c.barPercentage}}_calculateBarValuePixels(c){const{_cachedMeta:{vScale:h,_stacked:m,index:b},options:{base:C,minBarLength:x}}=this,L=C||0,q=this.getParsed(c),pe=q._custom,be=Gr(pe);let Tt,Zt,Be=q[h.axis],We=0,gt=m?this.applyStack(h,q,m):Be;gt!==Be&&(We=gt-Be,gt=Be),be&&(Be=pe.barStart,gt=pe.barEnd-pe.barStart,0!==Be&&(0,l.s)(Be)!==(0,l.s)(pe.barEnd)&&(We=0),We+=Be);const bn=(0,l.k)(C)||be?We:C;let pn=h.getPixelForValue(bn);if(Tt=this.chart.getDataVisibility(c)?h.getPixelForValue(We+gt):pn,Zt=Tt-pn,Math.abs(Zt)<x){Zt=function Vt(y,f,c){return 0!==y?(0,l.s)(y):(f.isHorizontal()?1:-1)*(f.min>=c?1:-1)}(Zt,h,L)*x,Be===L&&(pn-=Zt/2);const Un=h.getPixelForDecimal(0),Xn=h.getPixelForDecimal(1),An=Math.min(Un,Xn),Gn=Math.max(Un,Xn);pn=Math.max(Math.min(pn,Gn),An),Tt=pn+Zt,m&&!be&&(q._stacks[h.axis]._visualValues[b]=h.getValueForPixel(Tt)-h.getValueForPixel(pn))}if(pn===h.getPixelForValue(L)){const Un=(0,l.s)(Zt)*h.getLineWidthForValue(L)/2;pn+=Un,Zt-=Un}return{size:Zt,base:pn,head:Tt,center:Tt+Zt/2}}_calculateBarIndexPixels(c,h){const m=h.scale,b=this.options,C=b.skipNull,x=(0,l.v)(b.maxBarThickness,1/0);let L,q;if(h.grouped){const pe=C?this._getStackCount(c):h.stackCount,be="flex"===b.barThickness?function Xi(y,f,c,h){const m=f.pixels,b=m[y];let C=y>0?m[y-1]:null,x=y<m.length-1?m[y+1]:null;const L=c.categoryPercentage;null===C&&(C=b-(null===x?f.end-f.start:x-b)),null===x&&(x=b+b-C);const q=b-(b-Math.min(C,x))/2*L;return{chunk:Math.abs(x-C)/2*L/h,ratio:c.barPercentage,start:q}}(c,h,b,pe):function Ii(y,f,c,h){const m=c.barThickness;let b,C;return(0,l.k)(m)?(b=f.min*c.categoryPercentage,C=c.barPercentage):(b=m*h,C=1),{chunk:b/h,ratio:C,start:f.pixels[y]-b/2}}(c,h,b,pe),Be=this._getStackIndex(this.index,this._cachedMeta.stack,C?c:void 0);L=be.start+be.chunk*Be+be.chunk/2,q=Math.min(x,be.chunk*be.ratio)}else L=m.getPixelForValue(this.getParsed(c)[m.axis],c),q=Math.min(x,h.min*h.ratio);return{base:L-q/2,head:L+q/2,center:L,size:q}}draw(){const c=this._cachedMeta,h=c.vScale,m=c.data,b=m.length;let C=0;for(;C<b;++C)null!==this.getParsed(C)[h.axis]&&!m[C].hidden&&m[C].draw(this._ctx)}})(),Hi=(()=>class y extends yn{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(c,h,m,b){const C=super.parsePrimitiveData(c,h,m,b);for(let x=0;x<C.length;x++)C[x]._custom=this.resolveDataElementOptions(x+m).radius;return C}parseArrayData(c,h,m,b){const C=super.parseArrayData(c,h,m,b);for(let x=0;x<C.length;x++)C[x]._custom=(0,l.v)(h[m+x][2],this.resolveDataElementOptions(x+m).radius);return C}parseObjectData(c,h,m,b){const C=super.parseObjectData(c,h,m,b);for(let x=0;x<C.length;x++){const L=h[m+x];C[x]._custom=(0,l.v)(L&&L.r&&+L.r,this.resolveDataElementOptions(x+m).radius)}return C}getMaxOverflow(){const c=this._cachedMeta.data;let h=0;for(let m=c.length-1;m>=0;--m)h=Math.max(h,c[m].size(this.resolveDataElementOptions(m))/2);return h>0&&h}getLabelAndValue(c){const h=this._cachedMeta,m=this.chart.data.labels||[],{xScale:b,yScale:C}=h,x=this.getParsed(c),L=b.getLabelForValue(x.x),q=C.getLabelForValue(x.y),pe=x._custom;return{label:m[c]||"",value:"("+L+", "+q+(pe?", "+pe:"")+")"}}update(c){const h=this._cachedMeta.data;this.updateElements(h,0,h.length,c)}updateElements(c,h,m,b){const C="reset"===b,{iScale:x,vScale:L}=this._cachedMeta,{sharedOptions:q,includeOptions:pe}=this._getSharedOptions(h,b),be=x.axis,Be=L.axis;for(let We=h;We<h+m;We++){const gt=c[We],Tt=!C&&this.getParsed(We),Zt={},bn=Zt[be]=C?x.getPixelForDecimal(.5):x.getPixelForValue(Tt[be]),pn=Zt[Be]=C?L.getBasePixel():L.getPixelForValue(Tt[Be]);Zt.skip=isNaN(bn)||isNaN(pn),pe&&(Zt.options=q||this.resolveDataElementOptions(We,gt.active?"active":b),C&&(Zt.options.radius=0)),this.updateElement(gt,We,Zt,b)}}resolveDataElementOptions(c,h){const m=this.getParsed(c);let b=super.resolveDataElementOptions(c,h);b.$shared&&(b=Object.assign({},b,{$shared:!1}));const C=b.radius;return"active"!==h&&(b.radius=0),b.radius+=(0,l.v)(m&&m._custom,C),b}})(),Jn=(()=>class y extends yn{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:c=>"spacing"!==c,_indexable:c=>"spacing"!==c&&!c.startsWith("borderDash")&&!c.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(c){const h=c.data;if(h.labels.length&&h.datasets.length){const{labels:{pointStyle:m,color:b}}=c.legend.options;return h.labels.map((C,x)=>{const q=c.getDatasetMeta(0).controller.getStyle(x);return{text:C,fillStyle:q.backgroundColor,strokeStyle:q.borderColor,fontColor:b,lineWidth:q.borderWidth,pointStyle:m,hidden:!c.getDataVisibility(x),index:x}})}return[]}},onClick(c,h,m){m.chart.toggleDataVisibility(h.index),m.chart.update()}}}};constructor(c,h){super(c,h),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(c,h){const m=this.getDataset().data,b=this._cachedMeta;if(!1===this._parsing)b._parsed=m;else{let x,L,C=q=>+m[q];if((0,l.i)(m[c])){const{key:q="value"}=this._parsing;C=pe=>+(0,l.f)(m[pe],q)}for(x=c,L=c+h;x<L;++x)b._parsed[x]=C(x)}}_getRotation(){return(0,l.t)(this.options.rotation-90)}_getCircumference(){return(0,l.t)(this.options.circumference)}_getRotationExtents(){let c=l.T,h=-l.T;for(let m=0;m<this.chart.data.datasets.length;++m)if(this.chart.isDatasetVisible(m)&&this.chart.getDatasetMeta(m).type===this._type){const b=this.chart.getDatasetMeta(m).controller,C=b._getRotation(),x=b._getCircumference();c=Math.min(c,C),h=Math.max(h,C+x)}return{rotation:c,circumference:h-c}}update(c){const h=this.chart,{chartArea:m}=h,b=this._cachedMeta,C=b.data,x=this.getMaxBorderWidth()+this.getMaxOffset(C)+this.options.spacing,L=Math.max((Math.min(m.width,m.height)-x)/2,0),q=Math.min((0,l.m)(this.options.cutout,L),1),pe=this._getRingWeight(this.index),{circumference:be,rotation:Be}=this._getRotationExtents(),{ratioX:We,ratioY:gt,offsetX:Tt,offsetY:Zt}=function Bn(y,f,c){let h=1,m=1,b=0,C=0;if(f<l.T){const x=y,L=x+f,q=Math.cos(x),pe=Math.sin(x),be=Math.cos(L),Be=Math.sin(L),We=(Un,Xn,An)=>(0,l.p)(Un,x,L,!0)?1:Math.max(Xn,Xn*c,An,An*c),gt=(Un,Xn,An)=>(0,l.p)(Un,x,L,!0)?-1:Math.min(Xn,Xn*c,An,An*c),Tt=We(0,q,be),Zt=We(l.H,pe,Be),bn=gt(l.P,q,be),pn=gt(l.P+l.H,pe,Be);h=(Tt-bn)/2,m=(Zt-pn)/2,b=-(Tt+bn)/2,C=-(Zt+pn)/2}return{ratioX:h,ratioY:m,offsetX:b,offsetY:C}}(Be,be,q),Un=Math.max(Math.min((m.width-x)/We,(m.height-x)/gt)/2,0),Xn=(0,l.n)(this.options.radius,Un),Gn=(Xn-Math.max(Xn*q,0))/this._getVisibleDatasetWeightTotal();this.offsetX=Tt*Xn,this.offsetY=Zt*Xn,b.total=this.calculateTotal(),this.outerRadius=Xn-Gn*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-Gn*pe,0),this.updateElements(C,0,C.length,c)}_circumference(c,h){const m=this.options,b=this._cachedMeta,C=this._getCircumference();return h&&m.animation.animateRotate||!this.chart.getDataVisibility(c)||null===b._parsed[c]||b.data[c].hidden?0:this.calculateCircumference(b._parsed[c]*C/l.T)}updateElements(c,h,m,b){const C="reset"===b,x=this.chart,L=x.chartArea,be=(L.left+L.right)/2,Be=(L.top+L.bottom)/2,We=C&&x.options.animation.animateScale,gt=We?0:this.innerRadius,Tt=We?0:this.outerRadius,{sharedOptions:Zt,includeOptions:bn}=this._getSharedOptions(h,b);let Un,pn=this._getRotation();for(Un=0;Un<h;++Un)pn+=this._circumference(Un,C);for(Un=h;Un<h+m;++Un){const Xn=this._circumference(Un,C),An=c[Un],Gn={x:be+this.offsetX,y:Be+this.offsetY,startAngle:pn,endAngle:pn+Xn,circumference:Xn,outerRadius:Tt,innerRadius:gt};bn&&(Gn.options=Zt||this.resolveDataElementOptions(Un,An.active?"active":b)),pn+=Xn,this.updateElement(An,Un,Gn,b)}}calculateTotal(){const c=this._cachedMeta,h=c.data;let b,m=0;for(b=0;b<h.length;b++){const C=c._parsed[b];null!==C&&!isNaN(C)&&this.chart.getDataVisibility(b)&&!h[b].hidden&&(m+=Math.abs(C))}return m}calculateCircumference(c){const h=this._cachedMeta.total;return h>0&&!isNaN(c)?l.T*(Math.abs(c)/h):0}getLabelAndValue(c){const m=this.chart,b=m.data.labels||[],C=(0,l.o)(this._cachedMeta._parsed[c],m.options.locale);return{label:b[c]||"",value:C}}getMaxBorderWidth(c){let h=0;const m=this.chart;let b,C,x,L,q;if(!c)for(b=0,C=m.data.datasets.length;b<C;++b)if(m.isDatasetVisible(b)){x=m.getDatasetMeta(b),c=x.data,L=x.controller;break}if(!c)return 0;for(b=0,C=c.length;b<C;++b)q=L.resolveDataElementOptions(b),"inner"!==q.borderAlign&&(h=Math.max(h,q.borderWidth||0,q.hoverBorderWidth||0));return h}getMaxOffset(c){let h=0;for(let m=0,b=c.length;m<b;++m){const C=this.resolveDataElementOptions(m);h=Math.max(h,C.offset||0,C.hoverOffset||0)}return h}_getRingWeightOffset(c){let h=0;for(let m=0;m<c;++m)this.chart.isDatasetVisible(m)&&(h+=this._getRingWeight(m));return h}_getRingWeight(c){return Math.max((0,l.v)(this.chart.data.datasets[c].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}})(),Si=(()=>class y extends yn{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(c){const h=this._cachedMeta,{dataset:m,data:b=[],_dataset:C}=h,x=this.chart._animationsDisabled;let{start:L,count:q}=(0,l.q)(h,b,x);this._drawStart=L,this._drawCount=q,(0,l.w)(h)&&(L=0,q=b.length),m._chart=this.chart,m._datasetIndex=this.index,m._decimated=!!C._decimated,m.points=b;const pe=this.resolveDatasetElementOptions(c);this.options.showLine||(pe.borderWidth=0),pe.segment=this.options.segment,this.updateElement(m,void 0,{animated:!x,options:pe},c),this.updateElements(b,L,q,c)}updateElements(c,h,m,b){const C="reset"===b,{iScale:x,vScale:L,_stacked:q,_dataset:pe}=this._cachedMeta,{sharedOptions:be,includeOptions:Be}=this._getSharedOptions(h,b),We=x.axis,gt=L.axis,{spanGaps:Tt,segment:Zt}=this.options,bn=(0,l.x)(Tt)?Tt:Number.POSITIVE_INFINITY,pn=this.chart._animationsDisabled||C||"none"===b,Un=h+m,Xn=c.length;let An=h>0&&this.getParsed(h-1);for(let Gn=0;Gn<Xn;++Gn){const Ai=c[Gn],ui=pn?Ai:{};if(Gn<h||Gn>=Un){ui.skip=!0;continue}const $i=this.getParsed(Gn),Qr=(0,l.k)($i[gt]),os=ui[We]=x.getPixelForValue($i[We],Gn),sr=ui[gt]=C||Qr?L.getBasePixel():L.getPixelForValue(q?this.applyStack(L,$i,q):$i[gt],Gn);ui.skip=isNaN(os)||isNaN(sr)||Qr,ui.stop=Gn>0&&Math.abs($i[We]-An[We])>bn,Zt&&(ui.parsed=$i,ui.raw=pe.data[Gn]),Be&&(ui.options=be||this.resolveDataElementOptions(Gn,Ai.active?"active":b)),pn||this.updateElement(Ai,Gn,ui,b),An=$i}}getMaxOverflow(){const c=this._cachedMeta,h=c.dataset,m=h.options&&h.options.borderWidth||0,b=c.data||[];if(!b.length)return m;const C=b[0].size(this.resolveDataElementOptions(0)),x=b[b.length-1].size(this.resolveDataElementOptions(b.length-1));return Math.max(m,C,x)/2}draw(){const c=this._cachedMeta;c.dataset.updateControlPoints(this.chart.chartArea,c.iScale.axis),super.draw()}})(),nr=(()=>class y extends yn{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(c){const h=c.data;if(h.labels.length&&h.datasets.length){const{labels:{pointStyle:m,color:b}}=c.legend.options;return h.labels.map((C,x)=>{const q=c.getDatasetMeta(0).controller.getStyle(x);return{text:C,fillStyle:q.backgroundColor,strokeStyle:q.borderColor,fontColor:b,lineWidth:q.borderWidth,pointStyle:m,hidden:!c.getDataVisibility(x),index:x}})}return[]}},onClick(c,h,m){m.chart.toggleDataVisibility(h.index),m.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(c,h){super(c,h),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(c){const m=this.chart,b=m.data.labels||[],C=(0,l.o)(this._cachedMeta._parsed[c].r,m.options.locale);return{label:b[c]||"",value:C}}parseObjectData(c,h,m,b){return l.y.bind(this)(c,h,m,b)}update(c){const h=this._cachedMeta.data;this._updateRadius(),this.updateElements(h,0,h.length,c)}getMinMax(){const h={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return this._cachedMeta.data.forEach((m,b)=>{const C=this.getParsed(b).r;!isNaN(C)&&this.chart.getDataVisibility(b)&&(C<h.min&&(h.min=C),C>h.max&&(h.max=C))}),h}_updateRadius(){const c=this.chart,h=c.chartArea,m=c.options,b=Math.min(h.right-h.left,h.bottom-h.top),C=Math.max(b/2,0),L=(C-Math.max(m.cutoutPercentage?C/100*m.cutoutPercentage:1,0))/c.getVisibleDatasetCount();this.outerRadius=C-L*this.index,this.innerRadius=this.outerRadius-L}updateElements(c,h,m,b){const C="reset"===b,x=this.chart,q=x.options.animation,pe=this._cachedMeta.rScale,be=pe.xCenter,Be=pe.yCenter,We=pe.getIndexAngle(0)-.5*l.P;let Tt,gt=We;const Zt=360/this.countVisibleElements();for(Tt=0;Tt<h;++Tt)gt+=this._computeAngle(Tt,b,Zt);for(Tt=h;Tt<h+m;Tt++){const bn=c[Tt];let pn=gt,Un=gt+this._computeAngle(Tt,b,Zt),Xn=x.getDataVisibility(Tt)?pe.getDistanceFromCenterForValue(this.getParsed(Tt).r):0;gt=Un,C&&(q.animateScale&&(Xn=0),q.animateRotate&&(pn=Un=We));const An={x:be,y:Be,innerRadius:0,outerRadius:Xn,startAngle:pn,endAngle:Un,options:this.resolveDataElementOptions(Tt,bn.active?"active":b)};this.updateElement(bn,Tt,An,b)}}countVisibleElements(){let h=0;return this._cachedMeta.data.forEach((m,b)=>{!isNaN(this.getParsed(b).r)&&this.chart.getDataVisibility(b)&&h++}),h}_computeAngle(c,h,m){return this.chart.getDataVisibility(c)?(0,l.t)(this.resolveDataElementOptions(c,h).angle||m):0}})();var Zi=Object.freeze({__proto__:null,BarController:In,BubbleController:Hi,DoughnutController:Jn,LineController:Si,PieController:(()=>class y extends Jn{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}})(),PolarAreaController:nr,RadarController:(()=>class y extends yn{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(c){const h=this._cachedMeta.vScale,m=this.getParsed(c);return{label:h.getLabels()[c],value:""+h.getLabelForValue(m[h.axis])}}parseObjectData(c,h,m,b){return l.y.bind(this)(c,h,m,b)}update(c){const h=this._cachedMeta,m=h.dataset,b=h.data||[],C=h.iScale.getLabels();if(m.points=b,"resize"!==c){const x=this.resolveDatasetElementOptions(c);this.options.showLine||(x.borderWidth=0),this.updateElement(m,void 0,{_loop:!0,_fullLoop:C.length===b.length,options:x},c)}this.updateElements(b,0,b.length,c)}updateElements(c,h,m,b){const C=this._cachedMeta.rScale,x="reset"===b;for(let L=h;L<h+m;L++){const q=c[L],pe=this.resolveDataElementOptions(L,q.active?"active":b),be=C.getPointPositionForValue(L,this.getParsed(L).r),Be=x?C.xCenter:be.x,We=x?C.yCenter:be.y,gt={x:Be,y:We,angle:be.angle,skip:isNaN(Be)||isNaN(We),options:pe};this.updateElement(q,L,gt,b)}}})(),ScatterController:(()=>class y extends yn{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(c){const h=this._cachedMeta,m=this.chart.data.labels||[],{xScale:b,yScale:C}=h,x=this.getParsed(c),L=b.getLabelForValue(x.x),q=C.getLabelForValue(x.y);return{label:m[c]||"",value:"("+L+", "+q+")"}}update(c){const h=this._cachedMeta,{data:m=[]}=h,b=this.chart._animationsDisabled;let{start:C,count:x}=(0,l.q)(h,m,b);if(this._drawStart=C,this._drawCount=x,(0,l.w)(h)&&(C=0,x=m.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:L,_dataset:q}=h;L._chart=this.chart,L._datasetIndex=this.index,L._decimated=!!q._decimated,L.points=m;const pe=this.resolveDatasetElementOptions(c);pe.segment=this.options.segment,this.updateElement(L,void 0,{animated:!b,options:pe},c)}else this.datasetElementType&&(delete h.dataset,this.datasetElementType=!1);this.updateElements(m,C,x,c)}addElements(){const{showLine:c}=this.options;!this.datasetElementType&&c&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(c,h,m,b){const C="reset"===b,{iScale:x,vScale:L,_stacked:q,_dataset:pe}=this._cachedMeta,be=this.resolveDataElementOptions(h,b),Be=this.getSharedOptions(be),We=this.includeOptions(b,Be),gt=x.axis,Tt=L.axis,{spanGaps:Zt,segment:bn}=this.options,pn=(0,l.x)(Zt)?Zt:Number.POSITIVE_INFINITY,Un=this.chart._animationsDisabled||C||"none"===b;let Xn=h>0&&this.getParsed(h-1);for(let An=h;An<h+m;++An){const Gn=c[An],Ai=this.getParsed(An),ui=Un?Gn:{},$i=(0,l.k)(Ai[Tt]),Qr=ui[gt]=x.getPixelForValue(Ai[gt],An),os=ui[Tt]=C||$i?L.getBasePixel():L.getPixelForValue(q?this.applyStack(L,Ai,q):Ai[Tt],An);ui.skip=isNaN(Qr)||isNaN(os)||$i,ui.stop=An>0&&Math.abs(Ai[gt]-Xn[gt])>pn,bn&&(ui.parsed=Ai,ui.raw=pe.data[An]),We&&(ui.options=Be||this.resolveDataElementOptions(An,Gn.active?"active":b)),Un||this.updateElement(Gn,An,ui,b),Xn=Ai}this.updateSharedOptions(Be,b,be)}getMaxOverflow(){const c=this._cachedMeta,h=c.data||[];if(!this.options.showLine){let L=0;for(let q=h.length-1;q>=0;--q)L=Math.max(L,h[q].size(this.resolveDataElementOptions(q))/2);return L>0&&L}const m=c.dataset,b=m.options&&m.options.borderWidth||0;if(!h.length)return b;const C=h[0].size(this.resolveDataElementOptions(0)),x=h[h.length-1].size(this.resolveDataElementOptions(h.length-1));return Math.max(b,C,x)/2}})()});function zi(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Wr{static override(f){Object.assign(Wr.prototype,f)}options;constructor(f){this.options=f||{}}init(){}formats(){return zi()}parse(){return zi()}format(){return zi()}add(){return zi()}diff(){return zi()}startOf(){return zi()}endOf(){return zi()}}var as={_date:Wr};function Or(y,f,c,h){const{controller:m,data:b,_sorted:C}=y,x=m._cachedMeta.iScale,L=y.dataset&&y.dataset.options?y.dataset.options.spanGaps:null;if(x&&f===x.axis&&"r"!==f&&C&&b.length){const q=x._reversePixels?l.A:l.B;if(!h){const pe=q(b,f,c);if(L){const{vScale:be}=m._cachedMeta,{_parsed:Be}=y,We=Be.slice(0,pe.lo+1).reverse().findIndex(Tt=>!(0,l.k)(Tt[be.axis]));pe.lo-=Math.max(0,We);const gt=Be.slice(pe.hi).findIndex(Tt=>!(0,l.k)(Tt[be.axis]));pe.hi+=Math.max(0,gt)}return pe}if(m._sharedOptions){const pe=b[0],be="function"==typeof pe.getRange&&pe.getRange(f);if(be){const Be=q(b,f,c-be),We=q(b,f,c+be);return{lo:Be.lo,hi:We.hi}}}}return{lo:0,hi:b.length-1}}function ni(y,f,c,h,m){const b=y.getSortedVisibleDatasetMetas(),C=c[f];for(let x=0,L=b.length;x<L;++x){const{index:q,data:pe}=b[x],{lo:be,hi:Be}=Or(b[x],f,C,m);for(let We=be;We<=Be;++We){const gt=pe[We];gt.skip||h(gt,q,We)}}}function vi(y,f,c,h,m){const b=[];return!m&&!y.isPointInArea(f)||ni(y,c,f,function(x,L,q){!m&&!(0,l.C)(x,y.chartArea,0)||x.inRange(f.x,f.y,h)&&b.push({element:x,datasetIndex:L,index:q})},!0),b}function Ar(y,f,c,h,m,b){return b||y.isPointInArea(f)?"r"!==c||h?function Br(y,f,c,h,m,b){let C=[];const x=function Di(y){const f=-1!==y.indexOf("x"),c=-1!==y.indexOf("y");return function(h,m){const b=f?Math.abs(h.x-m.x):0,C=c?Math.abs(h.y-m.y):0;return Math.sqrt(Math.pow(b,2)+Math.pow(C,2))}}(c);let L=Number.POSITIVE_INFINITY;return ni(y,c,f,function q(pe,be,Be){const We=pe.inRange(f.x,f.y,m);if(h&&!We)return;const gt=pe.getCenterPoint(m);if(!b&&!y.isPointInArea(gt)&&!We)return;const Zt=x(f,gt);Zt<L?(C=[{element:pe,datasetIndex:be,index:Be}],L=Zt):Zt===L&&C.push({element:pe,datasetIndex:be,index:Be})}),C}(y,f,c,h,m,b):function fr(y,f,c,h){let m=[];return ni(y,c,f,function b(C,x,L){const{startAngle:q,endAngle:pe}=C.getProps(["startAngle","endAngle"],h),{angle:be}=(0,l.D)(C,{x:f.x,y:f.y});(0,l.p)(be,q,pe)&&m.push({element:C,datasetIndex:x,index:L})}),m}(y,f,c,m):[]}function ii(y,f,c,h,m){const b=[],C="x"===c?"inXRange":"inYRange";let x=!1;return ni(y,c,f,(L,q,pe)=>{L[C]&&L[C](f[c],m)&&(b.push({element:L,datasetIndex:q,index:pe}),x=x||L.inRange(f.x,f.y,m))}),h&&!x?[]:b}var wr={evaluateInteractionItems:ni,modes:{index(y,f,c,h){const m=(0,l.z)(f,y),b=c.axis||"x",C=c.includeInvisible||!1,x=c.intersect?vi(y,m,b,h,C):Ar(y,m,b,!1,h,C),L=[];return x.length?(y.getSortedVisibleDatasetMetas().forEach(q=>{const pe=x[0].index,be=q.data[pe];be&&!be.skip&&L.push({element:be,datasetIndex:q.index,index:pe})}),L):[]},dataset(y,f,c,h){const m=(0,l.z)(f,y),b=c.axis||"xy",C=c.includeInvisible||!1;let x=c.intersect?vi(y,m,b,h,C):Ar(y,m,b,!1,h,C);if(x.length>0){const L=x[0].datasetIndex,q=y.getDatasetMeta(L).data;x=[];for(let pe=0;pe<q.length;++pe)x.push({element:q[pe],datasetIndex:L,index:pe})}return x},point:(y,f,c,h)=>vi(y,(0,l.z)(f,y),c.axis||"xy",h,c.includeInvisible||!1),nearest:(y,f,c,h)=>Ar(y,(0,l.z)(f,y),c.axis||"xy",c.intersect,h,c.includeInvisible||!1),x:(y,f,c,h)=>ii(y,(0,l.z)(f,y),"x",c.intersect,h),y:(y,f,c,h)=>ii(y,(0,l.z)(f,y),"y",c.intersect,h)}};const cs=["left","top","right","bottom"];function Fn(y,f){return y.filter(c=>c.pos===f)}function xs(y,f){return y.filter(c=>-1===cs.indexOf(c.pos)&&c.box.axis===f)}function gi(y,f){return y.sort((c,h)=>{const m=f?h:c,b=f?c:h;return m.weight===b.weight?m.index-b.index:m.weight-b.weight})}function Ur(y,f,c,h){return Math.max(y[c],f[c])+Math.max(y[h],f[h])}function Kr(y,f){y.top=Math.max(y.top,f.top),y.left=Math.max(y.left,f.left),y.bottom=Math.max(y.bottom,f.bottom),y.right=Math.max(y.right,f.right)}function Cr(y,f,c,h){const{pos:m,box:b}=c,C=y.maxPadding;if(!(0,l.i)(m)){c.size&&(y[m]-=c.size);const be=h[c.stack]||{size:0,count:1};be.size=Math.max(be.size,c.horizontal?b.height:b.width),c.size=be.size/be.count,y[m]+=c.size}b.getPadding&&Kr(C,b.getPadding());const x=Math.max(0,f.outerWidth-Ur(C,y,"left","right")),L=Math.max(0,f.outerHeight-Ur(C,y,"top","bottom")),q=x!==y.w,pe=L!==y.h;return y.w=x,y.h=L,c.horizontal?{same:q,other:pe}:{same:pe,other:q}}function Jr(y,f){const c=f.maxPadding;return function h(m){const b={left:0,top:0,right:0,bottom:0};return m.forEach(C=>{b[C]=Math.max(f[C],c[C])}),b}(y?["left","right"]:["top","bottom"])}function Gi(y,f,c,h){const m=[];let b,C,x,L,q,pe;for(b=0,C=y.length,q=0;b<C;++b){x=y[b],L=x.box,L.update(x.width||f.w,x.height||f.h,Jr(x.horizontal,f));const{same:be,other:Be}=Cr(f,c,x,h);q|=be&&m.length,pe=pe||Be,L.fullSize||m.push(x)}return q&&Gi(m,f,c,h)||pe}function Ji(y,f,c,h,m){y.top=c,y.left=f,y.right=f+h,y.bottom=c+m,y.width=h,y.height=m}function _r(y,f,c,h){const m=c.padding;let{x:b,y:C}=f;for(const x of y){const L=x.box,q=h[x.stack]||{count:1,placed:0,weight:1},pe=x.stackWeight/q.weight||1;if(x.horizontal){const be=f.w*pe,Be=q.size||L.height;(0,l.h)(q.start)&&(C=q.start),L.fullSize?Ji(L,m.left,C,c.outerWidth-m.right-m.left,Be):Ji(L,f.left+q.placed,C,be,Be),q.start=C,q.placed+=be,C=L.bottom}else{const be=f.h*pe,Be=q.size||L.width;(0,l.h)(q.start)&&(b=q.start),L.fullSize?Ji(L,b,m.top,Be,c.outerHeight-m.bottom-m.top):Ji(L,b,f.top+q.placed,Be,be),q.start=b,q.placed+=be,b=L.right}}f.x=b,f.y=C}var Xe={addBox(y,f){y.boxes||(y.boxes=[]),f.fullSize=f.fullSize||!1,f.position=f.position||"top",f.weight=f.weight||0,f._layers=f._layers||function(){return[{z:0,draw(c){f.draw(c)}}]},y.boxes.push(f)},removeBox(y,f){const c=y.boxes?y.boxes.indexOf(f):-1;-1!==c&&y.boxes.splice(c,1)},configure(y,f,c){f.fullSize=c.fullSize,f.position=c.position,f.weight=c.weight},update(y,f,c,h){if(!y)return;const m=(0,l.E)(y.options.layout.padding),b=Math.max(f-m.width,0),C=Math.max(c-m.height,0),x=function vr(y){const f=function Is(y){const f=[];let c,h,m,b,C,x;for(c=0,h=(y||[]).length;c<h;++c)m=y[c],({position:b,options:{stack:C,stackWeight:x=1}}=m),f.push({index:c,box:m,pos:b,horizontal:m.isHorizontal(),weight:m.weight,stack:C&&b+C,stackWeight:x});return f}(y),c=gi(f.filter(q=>q.box.fullSize),!0),h=gi(Fn(f,"left"),!0),m=gi(Fn(f,"right")),b=gi(Fn(f,"top"),!0),C=gi(Fn(f,"bottom")),x=xs(f,"x"),L=xs(f,"y");return{fullSize:c,leftAndTop:h.concat(b),rightAndBottom:m.concat(L).concat(C).concat(x),chartArea:Fn(f,"chartArea"),vertical:h.concat(m).concat(L),horizontal:b.concat(C).concat(x)}}(y.boxes),L=x.vertical,q=x.horizontal;(0,l.F)(y.boxes,Tt=>{"function"==typeof Tt.beforeLayout&&Tt.beforeLayout()});const pe=L.reduce((Tt,Zt)=>Zt.box.options&&!1===Zt.box.options.display?Tt:Tt+1,0)||1,be=Object.freeze({outerWidth:f,outerHeight:c,padding:m,availableWidth:b,availableHeight:C,vBoxMaxWidth:b/2/pe,hBoxMaxHeight:C/2}),Be=Object.assign({},m);Kr(Be,(0,l.E)(h));const We=Object.assign({maxPadding:Be,w:b,h:C,x:m.left,y:m.top},m),gt=function bs(y,f){const c=function is(y){const f={};for(const c of y){const{stack:h,pos:m,stackWeight:b}=c;if(!h||!cs.includes(m))continue;const C=f[h]||(f[h]={count:0,placed:0,weight:0,size:0});C.count++,C.weight+=b}return f}(y),{vBoxMaxWidth:h,hBoxMaxHeight:m}=f;let b,C,x;for(b=0,C=y.length;b<C;++b){x=y[b];const{fullSize:L}=x.box,q=c[x.stack],pe=q&&x.stackWeight/q.weight;x.horizontal?(x.width=pe?pe*h:L&&f.availableWidth,x.height=m):(x.width=h,x.height=pe?pe*m:L&&f.availableHeight)}return c}(L.concat(q),be);Gi(x.fullSize,We,be,gt),Gi(L,We,be,gt),Gi(q,We,be,gt)&&Gi(L,We,be,gt),function Ir(y){const f=y.maxPadding;function c(h){const m=Math.max(f[h]-y[h],0);return y[h]+=m,m}y.y+=c("top"),y.x+=c("left"),c("right"),c("bottom")}(We),_r(x.leftAndTop,We,be,gt),We.x+=We.w,We.y+=We.h,_r(x.rightAndBottom,We,be,gt),y.chartArea={left:We.left,top:We.top,right:We.left+We.w,bottom:We.top+We.h,height:We.h,width:We.w},(0,l.F)(x.chartArea,Tt=>{const Zt=Tt.box;Object.assign(Zt,y.chartArea),Zt.update(We.w,We.h,{left:0,top:0,right:0,bottom:0})})}};class ve{acquireContext(f,c){}releaseContext(f){return!1}addEventListener(f,c,h){}removeEventListener(f,c,h){}getDevicePixelRatio(){return 1}getMaximumSize(f,c,h,m){return c=Math.max(0,c||f.width),h=h||f.height,{width:c,height:Math.max(0,m?Math.floor(c/m):h)}}isAttached(f){return!0}updateConfig(f){}}class Ae extends ve{acquireContext(f){return f&&f.getContext&&f.getContext("2d")||null}updateConfig(f){f.options.animation=!1}}const Ee="$chartjs",we={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Ct=y=>null===y||""===y,mn=!!l.K&&{passive:!0};function jn(y,f,c){y&&y.canvas&&y.canvas.removeEventListener(f,c,mn)}function Qn(y,f){for(const c of y)if(c===f||c.contains(f))return!0}function ki(y,f,c){const h=y.canvas,m=new MutationObserver(b=>{let C=!1;for(const x of b)C=C||Qn(x.addedNodes,h),C=C&&!Qn(x.removedNodes,h);C&&c()});return m.observe(document,{childList:!0,subtree:!0}),m}function _t(y,f,c){const h=y.canvas,m=new MutationObserver(b=>{let C=!1;for(const x of b)C=C||Qn(x.removedNodes,h),C=C&&!Qn(x.addedNodes,h);C&&c()});return m.observe(document,{childList:!0,subtree:!0}),m}const qe=new Map;let it=0;function Ze(){const y=window.devicePixelRatio;y!==it&&(it=y,qe.forEach((f,c)=>{c.currentDevicePixelRatio!==y&&f()}))}function Yt(y,f,c){const h=y.canvas,m=h&&(0,l.I)(h);if(!m)return;const b=(0,l.L)((x,L)=>{const q=m.clientWidth;c(x,L),q<m.clientWidth&&c()},window),C=new ResizeObserver(x=>{const L=x[0],q=L.contentRect.width,pe=L.contentRect.height;0===q&&0===pe||b(q,pe)});return C.observe(m),function Ke(y,f){qe.size||window.addEventListener("resize",Ze),qe.set(y,f)}(y,b),C}function Pn(y,f,c){c&&c.disconnect(),"resize"===f&&function xt(y){qe.delete(y),qe.size||window.removeEventListener("resize",Ze)}(y)}function un(y,f,c){const h=y.canvas,m=(0,l.L)(b=>{null!==y.ctx&&c(function Yn(y,f){const c=we[y.type]||y.type,{x:h,y:m}=(0,l.z)(y,f);return{type:c,chart:f,native:y,x:void 0!==h?h:null,y:void 0!==m?m:null}}(b,y))},y);return function si(y,f,c){y&&y.addEventListener(f,c,mn)}(h,f,m),m}class yi extends ve{acquireContext(f,c){const h=f&&f.getContext&&f.getContext("2d");return h&&h.canvas===f?(function an(y,f){const c=y.style,h=y.getAttribute("height"),m=y.getAttribute("width");if(y[Ee]={initial:{height:h,width:m,style:{display:c.display,height:c.height,width:c.width}}},c.display=c.display||"block",c.boxSizing=c.boxSizing||"border-box",Ct(m)){const b=(0,l.J)(y,"width");void 0!==b&&(y.width=b)}if(Ct(h))if(""===y.style.height)y.height=y.width/(f||2);else{const b=(0,l.J)(y,"height");void 0!==b&&(y.height=b)}}(f,c),h):null}releaseContext(f){const c=f.canvas;if(!c[Ee])return!1;const h=c[Ee].initial;["height","width"].forEach(b=>{const C=h[b];(0,l.k)(C)?c.removeAttribute(b):c.setAttribute(b,C)});const m=h.style||{};return Object.keys(m).forEach(b=>{c.style[b]=m[b]}),c.width=c.width,delete c[Ee],!0}addEventListener(f,c,h){this.removeEventListener(f,c),(f.$proxies||(f.$proxies={}))[c]=({attach:ki,detach:_t,resize:Yt}[c]||un)(f,c,h)}removeEventListener(f,c){const h=f.$proxies||(f.$proxies={}),m=h[c];m&&(({attach:Pn,detach:Pn,resize:Pn}[c]||jn)(f,c,m),h[c]=void 0)}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(f,c,h,m){return(0,l.G)(f,c,h,m)}isAttached(f){const c=f&&(0,l.I)(f);return!(!c||!c.isConnected)}}class Fi{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(f){const{x:c,y:h}=this.getProps(["x","y"],f);return{x:c,y:h}}hasValue(){return(0,l.x)(this.x)&&(0,l.x)(this.y)}getProps(f,c){const h=this.$animations;if(!c||!h)return this;const m={};return f.forEach(b=>{m[b]=h[b]&&h[b].active()?h[b]._to:this[b]}),m}}function hs(y,f,c,h,m){const b=(0,l.v)(h,0),C=Math.min((0,l.v)(m,y.length),y.length);let L,q,pe,x=0;for(c=Math.ceil(c),m&&(L=m-h,c=L/Math.floor(L/c)),pe=b;pe<0;)x++,pe=Math.round(b+x*c);for(q=Math.max(b,0);q<C;q++)q===pe&&(f.push(y[q]),x++,pe=Math.round(b+x*c))}const Es=(y,f,c)=>"top"===f||"left"===f?y[f]+c:y[f]-c,Yi=(y,f)=>Math.min(f||y,y);function ss(y,f){const c=[],h=y.length/f,m=y.length;let b=0;for(;b<m;b+=h)c.push(y[Math.floor(b)]);return c}function fs(y,f,c){const h=y.ticks.length,m=Math.min(f,h-1),b=y._startPixel,C=y._endPixel,x=1e-6;let q,L=y.getPixelForTick(m);if(!(c&&(q=1===h?Math.max(L-b,C-L):0===f?(y.getPixelForTick(1)-L)/2:(L-y.getPixelForTick(m-1))/2,L+=m<f?q:-q,L<b-x||L>C+x)))return L}function Io(y){return y.drawTicks?y.tickLength:0}function ht(y,f){if(!y.display)return 0;const c=(0,l.a0)(y.font,f),h=(0,l.E)(y.padding);return((0,l.b)(y.text)?y.text.length:1)*c.lineHeight+h.height}function dn(y,f,c){let h=(0,l.a1)(y);return(c&&"right"!==f||!c&&"right"===f)&&(h=(y=>"left"===y?"right":"right"===y?"left":y)(h)),h}class pi extends Fi{constructor(f){super(),this.id=f.id,this.type=f.type,this.options=void 0,this.ctx=f.ctx,this.chart=f.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(f){this.options=f.setContext(this.getContext()),this.axis=f.axis,this._userMin=this.parse(f.min),this._userMax=this.parse(f.max),this._suggestedMin=this.parse(f.suggestedMin),this._suggestedMax=this.parse(f.suggestedMax)}parse(f,c){return f}getUserBounds(){let{_userMin:f,_userMax:c,_suggestedMin:h,_suggestedMax:m}=this;return f=(0,l.O)(f,Number.POSITIVE_INFINITY),c=(0,l.O)(c,Number.NEGATIVE_INFINITY),h=(0,l.O)(h,Number.POSITIVE_INFINITY),m=(0,l.O)(m,Number.NEGATIVE_INFINITY),{min:(0,l.O)(f,h),max:(0,l.O)(c,m),minDefined:(0,l.g)(f),maxDefined:(0,l.g)(c)}}getMinMax(f){let C,{min:c,max:h,minDefined:m,maxDefined:b}=this.getUserBounds();if(m&&b)return{min:c,max:h};const x=this.getMatchingVisibleMetas();for(let L=0,q=x.length;L<q;++L)C=x[L].controller.getMinMax(this,f),m||(c=Math.min(c,C.min)),b||(h=Math.max(h,C.max));return c=b&&c>h?h:c,h=m&&c>h?c:h,{min:(0,l.O)(c,(0,l.O)(h,c)),max:(0,l.O)(h,(0,l.O)(c,h))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const f=this.chart.data;return this.options.labels||(this.isHorizontal()?f.xLabels:f.yLabels)||f.labels||[]}getLabelItems(f=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(f))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){(0,l.Q)(this.options.beforeUpdate,[this])}update(f,c,h){const{beginAtZero:m,grace:b,ticks:C}=this.options,x=C.sampleSize;this.beforeUpdate(),this.maxWidth=f,this.maxHeight=c,this._margins=h=Object.assign({left:0,right:0,top:0,bottom:0},h),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+h.left+h.right:this.height+h.top+h.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=(0,l.R)(this,b,m),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const L=x<this.ticks.length;this._convertTicksToLabels(L?ss(this.ticks,x):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),C.display&&(C.autoSkip||"auto"===C.source)&&(this.ticks=function Nr(y,f){const c=y.options.ticks,h=function jr(y){const f=y.options.offset,c=y._tickSize();return Math.floor(Math.min(y._length/c+(f?0:1),y._maxLength/c))}(y),m=Math.min(c.maxTicksLimit||h,h),b=c.major.enabled?function ar(y){const f=[];let c,h;for(c=0,h=y.length;c<h;c++)y[c].major&&f.push(c);return f}(f):[],C=b.length,x=b[0],L=b[C-1],q=[];if(C>m)return function Wi(y,f,c,h){let C,m=0,b=c[0];for(h=Math.ceil(h),C=0;C<y.length;C++)C===b&&(f.push(y[C]),m++,b=c[m*h])}(f,q,b,C/m),q;const pe=function ds(y,f,c){const h=function Co(y){const f=y.length;let c,h;if(f<2)return!1;for(h=y[0],c=1;c<f;++c)if(y[c]-y[c-1]!==h)return!1;return h}(y),m=f.length/c;if(!h)return Math.max(m,1);const b=(0,l.N)(h);for(let C=0,x=b.length-1;C<x;C++){const L=b[C];if(L>m)return L}return Math.max(m,1)}(b,f,m);if(C>0){let be,Be;const We=C>1?Math.round((L-x)/(C-1)):null;for(hs(f,q,pe,(0,l.k)(We)?0:x-We,x),be=0,Be=C-1;be<Be;be++)hs(f,q,pe,b[be],b[be+1]);return hs(f,q,pe,L,(0,l.k)(We)?f.length:L+We),q}return hs(f,q,pe),q}(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),L&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let c,h,f=this.options.reverse;this.isHorizontal()?(c=this.left,h=this.right):(c=this.top,h=this.bottom,f=!f),this._startPixel=c,this._endPixel=h,this._reversePixels=f,this._length=h-c,this._alignToPixels=this.options.alignToPixels}afterUpdate(){(0,l.Q)(this.options.afterUpdate,[this])}beforeSetDimensions(){(0,l.Q)(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){(0,l.Q)(this.options.afterSetDimensions,[this])}_callHooks(f){this.chart.notifyPlugins(f,this.getContext()),(0,l.Q)(this.options[f],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){(0,l.Q)(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(f){const c=this.options.ticks;let h,m,b;for(h=0,m=f.length;h<m;h++)b=f[h],b.label=(0,l.Q)(c.callback,[b.value,h,f],this)}afterTickToLabelConversion(){(0,l.Q)(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){(0,l.Q)(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const f=this.options,c=f.ticks,h=Yi(this.ticks.length,f.ticks.maxTicksLimit),m=c.minRotation||0,b=c.maxRotation;let x,L,q,C=m;if(!this._isVisible()||!c.display||m>=b||h<=1||!this.isHorizontal())return void(this.labelRotation=m);const pe=this._getLabelSizes(),be=pe.widest.width,Be=pe.highest.height,We=(0,l.S)(this.chart.width-be,0,this.maxWidth);x=f.offset?this.maxWidth/h:We/(h-1),be+6>x&&(x=We/(h-(f.offset?.5:1)),L=this.maxHeight-Io(f.grid)-c.padding-ht(f.title,this.chart.options.font),q=Math.sqrt(be*be+Be*Be),C=(0,l.U)(Math.min(Math.asin((0,l.S)((pe.highest.height+6)/x,-1,1)),Math.asin((0,l.S)(L/q,-1,1))-Math.asin((0,l.S)(Be/q,-1,1)))),C=Math.max(m,Math.min(b,C))),this.labelRotation=C}afterCalculateLabelRotation(){(0,l.Q)(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){(0,l.Q)(this.options.beforeFit,[this])}fit(){const f={width:0,height:0},{chart:c,options:{ticks:h,title:m,grid:b}}=this,C=this._isVisible(),x=this.isHorizontal();if(C){const L=ht(m,c.options.font);if(x?(f.width=this.maxWidth,f.height=Io(b)+L):(f.height=this.maxHeight,f.width=Io(b)+L),h.display&&this.ticks.length){const{first:q,last:pe,widest:be,highest:Be}=this._getLabelSizes(),We=2*h.padding,gt=(0,l.t)(this.labelRotation),Tt=Math.cos(gt),Zt=Math.sin(gt);x?f.height=Math.min(this.maxHeight,f.height+(h.mirror?0:Zt*be.width+Tt*Be.height)+We):f.width=Math.min(this.maxWidth,f.width+(h.mirror?0:Tt*be.width+Zt*Be.height)+We),this._calculatePadding(q,pe,Zt,Tt)}}this._handleMargins(),x?(this.width=this._length=c.width-this._margins.left-this._margins.right,this.height=f.height):(this.width=f.width,this.height=this._length=c.height-this._margins.top-this._margins.bottom)}_calculatePadding(f,c,h,m){const{ticks:{align:b,padding:C},position:x}=this.options,L=0!==this.labelRotation,q="top"!==x&&"x"===this.axis;if(this.isHorizontal()){const pe=this.getPixelForTick(0)-this.left,be=this.right-this.getPixelForTick(this.ticks.length-1);let Be=0,We=0;L?q?(Be=m*f.width,We=h*c.height):(Be=h*f.height,We=m*c.width):"start"===b?We=c.width:"end"===b?Be=f.width:"inner"!==b&&(Be=f.width/2,We=c.width/2),this.paddingLeft=Math.max((Be-pe+C)*this.width/(this.width-pe),0),this.paddingRight=Math.max((We-be+C)*this.width/(this.width-be),0)}else{let pe=c.height/2,be=f.height/2;"start"===b?(pe=0,be=f.height):"end"===b&&(pe=c.height,be=0),this.paddingTop=pe+C,this.paddingBottom=be+C}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){(0,l.Q)(this.options.afterFit,[this])}isHorizontal(){const{axis:f,position:c}=this.options;return"top"===c||"bottom"===c||"x"===f}isFullSize(){return this.options.fullSize}_convertTicksToLabels(f){let c,h;for(this.beforeTickToLabelConversion(),this.generateTickLabels(f),c=0,h=f.length;c<h;c++)(0,l.k)(f[c].label)&&(f.splice(c,1),h--,c--);this.afterTickToLabelConversion()}_getLabelSizes(){let f=this._labelSizes;if(!f){const c=this.options.ticks.sampleSize;let h=this.ticks;c<h.length&&(h=ss(h,c)),this._labelSizes=f=this._computeLabelSizes(h,h.length,this.options.ticks.maxTicksLimit)}return f}_computeLabelSizes(f,c,h){const{ctx:m,_longestTextCache:b}=this,C=[],x=[],L=Math.floor(c/Yi(c,h));let be,Be,We,gt,Tt,Zt,bn,pn,Un,Xn,An,q=0,pe=0;for(be=0;be<c;be+=L){if(gt=f[be].label,Tt=this._resolveTickFontOptions(be),m.font=Zt=Tt.string,bn=b[Zt]=b[Zt]||{data:{},gc:[]},pn=Tt.lineHeight,Un=Xn=0,(0,l.k)(gt)||(0,l.b)(gt)){if((0,l.b)(gt))for(Be=0,We=gt.length;Be<We;++Be)An=gt[Be],!(0,l.k)(An)&&!(0,l.b)(An)&&(Un=(0,l.V)(m,bn.data,bn.gc,Un,An),Xn+=pn)}else Un=(0,l.V)(m,bn.data,bn.gc,Un,gt),Xn=pn;C.push(Un),x.push(Xn),q=Math.max(Un,q),pe=Math.max(Xn,pe)}!function mo(y,f){(0,l.F)(y,c=>{const h=c.gc,m=h.length/2;let b;if(m>f){for(b=0;b<m;++b)delete c.data[h[b]];h.splice(0,m)}})}(b,c);const Gn=C.indexOf(q),Ai=x.indexOf(pe),ui=$i=>({width:C[$i]||0,height:x[$i]||0});return{first:ui(0),last:ui(c-1),widest:ui(Gn),highest:ui(Ai),widths:C,heights:x}}getLabelForValue(f){return f}getPixelForValue(f,c){return NaN}getValueForPixel(f){}getPixelForTick(f){const c=this.ticks;return f<0||f>c.length-1?null:this.getPixelForValue(c[f].value)}getPixelForDecimal(f){this._reversePixels&&(f=1-f);const c=this._startPixel+f*this._length;return(0,l.W)(this._alignToPixels?(0,l.X)(this.chart,c,0):c)}getDecimalForPixel(f){const c=(f-this._startPixel)/this._length;return this._reversePixels?1-c:c}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:f,max:c}=this;return f<0&&c<0?c:f>0&&c>0?f:0}getContext(f){const c=this.ticks||[];if(f>=0&&f<c.length){const h=c[f];return h.$context||(h.$context=function jt(y,f,c){return(0,l.j)(y,{tick:c,index:f,type:"tick"})}(this.getContext(),f,h))}return this.$context||(this.$context=function ut(y,f){return(0,l.j)(y,{scale:f,type:"scale"})}(this.chart.getContext(),this))}_tickSize(){const f=this.options.ticks,c=(0,l.t)(this.labelRotation),h=Math.abs(Math.cos(c)),m=Math.abs(Math.sin(c)),b=this._getLabelSizes(),C=f.autoSkipPadding||0,x=b?b.widest.width+C:0,L=b?b.highest.height+C:0;return this.isHorizontal()?L*h>x*m?x/h:L/m:L*m<x*h?L/h:x/m}_isVisible(){const f=this.options.display;return"auto"!==f?!!f:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(f){const c=this.axis,h=this.chart,m=this.options,{grid:b,position:C,border:x}=m,L=b.offset,q=this.isHorizontal(),be=this.ticks.length+(L?1:0),Be=Io(b),We=[],gt=x.setContext(this.getContext()),Tt=gt.display?gt.width:0,Zt=Tt/2,bn=function(Tr){return(0,l.X)(h,Tr,Tt)};let pn,Un,Xn,An,Gn,Ai,ui,$i,Qr,os,sr,Pa;if("top"===C)pn=bn(this.bottom),Ai=this.bottom-Be,$i=pn-Zt,os=bn(f.top)+Zt,Pa=f.bottom;else if("bottom"===C)pn=bn(this.top),os=f.top,Pa=bn(f.bottom)-Zt,Ai=pn+Zt,$i=this.top+Be;else if("left"===C)pn=bn(this.right),Gn=this.right-Be,ui=pn-Zt,Qr=bn(f.left)+Zt,sr=f.right;else if("right"===C)pn=bn(this.left),Qr=f.left,sr=bn(f.right)-Zt,Gn=pn+Zt,ui=this.left+Be;else if("x"===c){if("center"===C)pn=bn((f.top+f.bottom)/2+.5);else if((0,l.i)(C)){const Tr=Object.keys(C)[0];pn=bn(this.chart.scales[Tr].getPixelForValue(C[Tr]))}os=f.top,Pa=f.bottom,Ai=pn+Zt,$i=Ai+Be}else if("y"===c){if("center"===C)pn=bn((f.left+f.right)/2);else if((0,l.i)(C)){const Tr=Object.keys(C)[0];pn=bn(this.chart.scales[Tr].getPixelForValue(C[Tr]))}Gn=pn-Zt,ui=Gn-Be,Qr=f.left,sr=f.right}const pa=(0,l.v)(m.ticks.maxTicksLimit,be),so=Math.max(1,Math.ceil(be/pa));for(Un=0;Un<be;Un+=so){const Tr=this.getContext(Un),Eo=b.setContext(Tr),fo=x.setContext(Tr),Xr=Eo.lineWidth,gc=Eo.color,ta=fo.dash||[],Yo=fo.dashOffset,cc=Eo.tickWidth,Ic=Eo.tickColor,zo=Eo.tickBorderDash||[],_c=Eo.tickBorderDashOffset;Xn=fs(this,Un,L),void 0!==Xn&&(An=(0,l.X)(h,Xn,Xr),q?Gn=ui=Qr=sr=An:Ai=$i=os=Pa=An,We.push({tx1:Gn,ty1:Ai,tx2:ui,ty2:$i,x1:Qr,y1:os,x2:sr,y2:Pa,width:Xr,color:gc,borderDash:ta,borderDashOffset:Yo,tickWidth:cc,tickColor:Ic,tickBorderDash:zo,tickBorderDashOffset:_c}))}return this._ticksLength=be,this._borderValue=pn,We}_computeLabelItems(f){const c=this.axis,h=this.options,{position:m,ticks:b}=h,C=this.isHorizontal(),x=this.ticks,{align:L,crossAlign:q,padding:pe,mirror:be}=b,Be=Io(h.grid),We=Be+pe,gt=be?-pe:We,Tt=-(0,l.t)(this.labelRotation),Zt=[];let bn,pn,Un,Xn,An,Gn,Ai,ui,$i,Qr,os,sr,Pa="middle";if("top"===m)Gn=this.bottom-gt,Ai=this._getXAxisLabelAlignment();else if("bottom"===m)Gn=this.top+gt,Ai=this._getXAxisLabelAlignment();else if("left"===m){const so=this._getYAxisLabelAlignment(Be);Ai=so.textAlign,An=so.x}else if("right"===m){const so=this._getYAxisLabelAlignment(Be);Ai=so.textAlign,An=so.x}else if("x"===c){if("center"===m)Gn=(f.top+f.bottom)/2+We;else if((0,l.i)(m)){const so=Object.keys(m)[0];Gn=this.chart.scales[so].getPixelForValue(m[so])+We}Ai=this._getXAxisLabelAlignment()}else if("y"===c){if("center"===m)An=(f.left+f.right)/2-We;else if((0,l.i)(m)){const so=Object.keys(m)[0];An=this.chart.scales[so].getPixelForValue(m[so])}Ai=this._getYAxisLabelAlignment(Be).textAlign}"y"===c&&("start"===L?Pa="top":"end"===L&&(Pa="bottom"));const pa=this._getLabelSizes();for(bn=0,pn=x.length;bn<pn;++bn){Un=x[bn],Xn=Un.label;const so=b.setContext(this.getContext(bn));ui=this.getPixelForTick(bn)+b.labelOffset,$i=this._resolveTickFontOptions(bn),Qr=$i.lineHeight,os=(0,l.b)(Xn)?Xn.length:1;const Tr=os/2,Eo=so.color,fo=so.textStrokeColor,Xr=so.textStrokeWidth;let ta,gc=Ai;if(C?(An=ui,"inner"===Ai&&(gc=bn===pn-1?this.options.reverse?"left":"right":0===bn?this.options.reverse?"right":"left":"center"),sr="top"===m?"near"===q||0!==Tt?-os*Qr+Qr/2:"center"===q?-pa.highest.height/2-Tr*Qr+Qr:Qr/2-pa.highest.height:"near"===q||0!==Tt?Qr/2:"center"===q?pa.highest.height/2-Tr*Qr:pa.highest.height-os*Qr,be&&(sr*=-1),0!==Tt&&!so.showLabelBackdrop&&(An+=Qr/2*Math.sin(Tt))):(Gn=ui,sr=(1-os)*Qr/2),so.showLabelBackdrop){const Yo=(0,l.E)(so.backdropPadding),cc=pa.heights[bn],Ic=pa.widths[bn];let zo=sr-Yo.top,_c=0-Yo.left;switch(Pa){case"middle":zo-=cc/2;break;case"bottom":zo-=cc}switch(Ai){case"center":_c-=Ic/2;break;case"right":_c-=Ic;break;case"inner":bn===pn-1?_c-=Ic:bn>0&&(_c-=Ic/2)}ta={left:_c,top:zo,width:Ic+Yo.width,height:cc+Yo.height,color:so.backdropColor}}Zt.push({label:Xn,font:$i,textOffset:sr,options:{rotation:Tt,color:Eo,strokeColor:fo,strokeWidth:Xr,textAlign:gc,textBaseline:Pa,translation:[An,Gn],backdrop:ta}})}return Zt}_getXAxisLabelAlignment(){const{position:f,ticks:c}=this.options;if(-(0,l.t)(this.labelRotation))return"top"===f?"left":"right";let m="center";return"start"===c.align?m="left":"end"===c.align?m="right":"inner"===c.align&&(m="inner"),m}_getYAxisLabelAlignment(f){const{position:c,ticks:{crossAlign:h,mirror:m,padding:b}}=this.options,x=f+b,L=this._getLabelSizes().widest.width;let q,pe;return"left"===c?m?(pe=this.right+b,"near"===h?q="left":"center"===h?(q="center",pe+=L/2):(q="right",pe+=L)):(pe=this.right-x,"near"===h?q="right":"center"===h?(q="center",pe-=L/2):(q="left",pe=this.left)):"right"===c?m?(pe=this.left+b,"near"===h?q="right":"center"===h?(q="center",pe-=L/2):(q="left",pe-=L)):(pe=this.left+x,"near"===h?q="left":"center"===h?(q="center",pe+=L/2):(q="right",pe=this.right)):q="right",{textAlign:q,x:pe}}_computeLabelArea(){if(this.options.ticks.mirror)return;const f=this.chart,c=this.options.position;return"left"===c||"right"===c?{top:0,left:this.left,bottom:f.height,right:this.right}:"top"===c||"bottom"===c?{top:this.top,left:0,bottom:this.bottom,right:f.width}:void 0}drawBackground(){const{ctx:f,options:{backgroundColor:c},left:h,top:m,width:b,height:C}=this;c&&(f.save(),f.fillStyle=c,f.fillRect(h,m,b,C),f.restore())}getLineWidthForValue(f){const c=this.options.grid;if(!this._isVisible()||!c.display)return 0;const m=this.ticks.findIndex(b=>b.value===f);return m>=0?c.setContext(this.getContext(m)).lineWidth:0}drawGrid(f){const c=this.options.grid,h=this.ctx,m=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(f));let b,C;const x=(L,q,pe)=>{!pe.width||!pe.color||(h.save(),h.lineWidth=pe.width,h.strokeStyle=pe.color,h.setLineDash(pe.borderDash||[]),h.lineDashOffset=pe.borderDashOffset,h.beginPath(),h.moveTo(L.x,L.y),h.lineTo(q.x,q.y),h.stroke(),h.restore())};if(c.display)for(b=0,C=m.length;b<C;++b){const L=m[b];c.drawOnChartArea&&x({x:L.x1,y:L.y1},{x:L.x2,y:L.y2},L),c.drawTicks&&x({x:L.tx1,y:L.ty1},{x:L.tx2,y:L.ty2},{color:L.tickColor,width:L.tickWidth,borderDash:L.tickBorderDash,borderDashOffset:L.tickBorderDashOffset})}}drawBorder(){const{chart:f,ctx:c,options:{border:h,grid:m}}=this,b=h.setContext(this.getContext()),C=h.display?b.width:0;if(!C)return;const x=m.setContext(this.getContext(0)).lineWidth,L=this._borderValue;let q,pe,be,Be;this.isHorizontal()?(q=(0,l.X)(f,this.left,C)-C/2,pe=(0,l.X)(f,this.right,x)+x/2,be=Be=L):(be=(0,l.X)(f,this.top,C)-C/2,Be=(0,l.X)(f,this.bottom,x)+x/2,q=pe=L),c.save(),c.lineWidth=b.width,c.strokeStyle=b.color,c.beginPath(),c.moveTo(q,be),c.lineTo(pe,Be),c.stroke(),c.restore()}drawLabels(f){if(!this.options.ticks.display)return;const h=this.ctx,m=this._computeLabelArea();m&&(0,l.Y)(h,m);const b=this.getLabelItems(f);for(const C of b)(0,l.Z)(h,C.label,0,C.textOffset,C.font,C.options);m&&(0,l.$)(h)}drawTitle(){const{ctx:f,options:{position:c,title:h,reverse:m}}=this;if(!h.display)return;const b=(0,l.a0)(h.font),C=(0,l.E)(h.padding),x=h.align;let L=b.lineHeight/2;"bottom"===c||"center"===c||(0,l.i)(c)?(L+=C.bottom,(0,l.b)(h.text)&&(L+=b.lineHeight*(h.text.length-1))):L+=C.top;const{titleX:q,titleY:pe,maxWidth:be,rotation:Be}=function Sn(y,f,c,h){const{top:m,left:b,bottom:C,right:x,chart:L}=y,{chartArea:q,scales:pe}=L;let Be,We,gt,be=0;const Tt=C-m,Zt=x-b;if(y.isHorizontal()){if(We=(0,l.a2)(h,b,x),(0,l.i)(c)){const bn=Object.keys(c)[0];gt=pe[bn].getPixelForValue(c[bn])+Tt-f}else gt="center"===c?(q.bottom+q.top)/2+Tt-f:Es(y,c,f);Be=x-b}else{if((0,l.i)(c)){const bn=Object.keys(c)[0];We=pe[bn].getPixelForValue(c[bn])-Zt+f}else We="center"===c?(q.left+q.right)/2-Zt+f:Es(y,c,f);gt=(0,l.a2)(h,C,m),be="left"===c?-l.H:l.H}return{titleX:We,titleY:gt,maxWidth:Be,rotation:be}}(this,L,c,x);(0,l.Z)(f,h.text,0,0,b,{color:h.color,maxWidth:be,rotation:Be,textAlign:dn(x,c,m),textBaseline:"middle",translation:[q,pe]})}draw(f){this._isVisible()&&(this.drawBackground(),this.drawGrid(f),this.drawBorder(),this.drawTitle(),this.drawLabels(f))}_layers(){const f=this.options,c=f.ticks&&f.ticks.z||0,h=(0,l.v)(f.grid&&f.grid.z,-1),m=(0,l.v)(f.border&&f.border.z,0);return this._isVisible()&&this.draw===pi.prototype.draw?[{z:h,draw:b=>{this.drawBackground(),this.drawGrid(b),this.drawTitle()}},{z:m,draw:()=>{this.drawBorder()}},{z:c,draw:b=>{this.drawLabels(b)}}]:[{z:c,draw:b=>{this.draw(b)}}]}getMatchingVisibleMetas(f){const c=this.chart.getSortedVisibleDatasetMetas(),h=this.axis+"AxisID",m=[];let b,C;for(b=0,C=c.length;b<C;++b){const x=c[b];x[h]===this.id&&(!f||x.type===f)&&m.push(x)}return m}_resolveTickFontOptions(f){const c=this.options.ticks.setContext(this.getContext(f));return(0,l.a0)(c.font)}_maxDigits(){const f=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/f}}class rr{constructor(f,c,h){this.type=f,this.scope=c,this.override=h,this.items=Object.create(null)}isForType(f){return Object.prototype.isPrototypeOf.call(this.type.prototype,f.prototype)}register(f){const c=Object.getPrototypeOf(f);let h;(function Ge(y){return"id"in y&&"defaults"in y})(c)&&(h=this.register(c));const m=this.items,b=f.id,C=this.scope+"."+b;if(!b)throw new Error("class does not have id: "+f);return b in m||(m[b]=f,function pr(y,f,c){const h=(0,l.a4)(Object.create(null),[c?l.d.get(c):{},l.d.get(f),y.defaults]);l.d.set(f,h),y.defaultRoutes&&function Ue(y,f){Object.keys(f).forEach(c=>{const h=c.split("."),m=h.pop(),b=[y].concat(h).join("."),C=f[c].split("."),x=C.pop(),L=C.join(".");l.d.route(b,m,L,x)})}(f,y.defaultRoutes),y.descriptors&&l.d.describe(f,y.descriptors)}(f,C,h),this.override&&l.d.override(f.id,f.overrides)),C}get(f){return this.items[f]}unregister(f){const c=this.items,h=f.id,m=this.scope;h in c&&delete c[h],m&&h in l.d[m]&&(delete l.d[m][h],this.override&&delete l.a3[h])}}class Z{constructor(){this.controllers=new rr(yn,"datasets",!0),this.elements=new rr(Fi,"elements"),this.plugins=new rr(Object,"plugins"),this.scales=new rr(pi,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...f){this._each("register",f)}remove(...f){this._each("unregister",f)}addControllers(...f){this._each("register",f,this.controllers)}addElements(...f){this._each("register",f,this.elements)}addPlugins(...f){this._each("register",f,this.plugins)}addScales(...f){this._each("register",f,this.scales)}getController(f){return this._get(f,this.controllers,"controller")}getElement(f){return this._get(f,this.elements,"element")}getPlugin(f){return this._get(f,this.plugins,"plugin")}getScale(f){return this._get(f,this.scales,"scale")}removeControllers(...f){this._each("unregister",f,this.controllers)}removeElements(...f){this._each("unregister",f,this.elements)}removePlugins(...f){this._each("unregister",f,this.plugins)}removeScales(...f){this._each("unregister",f,this.scales)}_each(f,c,h){[...c].forEach(m=>{const b=h||this._getRegistryForType(m);h||b.isForType(m)||b===this.plugins&&m.id?this._exec(f,b,m):(0,l.F)(m,C=>{const x=h||this._getRegistryForType(C);this._exec(f,x,C)})})}_exec(f,c,h){const m=(0,l.a5)(f);(0,l.Q)(h["before"+m],[],h),c[f](h),(0,l.Q)(h["after"+m],[],h)}_getRegistryForType(f){for(let c=0;c<this._typedRegistries.length;c++){const h=this._typedRegistries[c];if(h.isForType(f))return h}return this.plugins}_get(f,c,h){const m=c.get(f);if(void 0===m)throw new Error('"'+f+'" is not a registered '+h+".");return m}}var Re=new Z;class Je{constructor(){this._init=[]}notify(f,c,h,m){"beforeInit"===c&&(this._init=this._createDescriptors(f,!0),this._notify(this._init,f,"install"));const b=m?this._descriptors(f).filter(m):this._descriptors(f),C=this._notify(b,f,c,h);return"afterDestroy"===c&&(this._notify(b,f,"stop"),this._notify(this._init,f,"uninstall")),C}_notify(f,c,h,m){m=m||{};for(const b of f){const C=b.plugin;if(!1===(0,l.Q)(C[h],[c,m,b.options],C)&&m.cancelable)return!1}return!0}invalidate(){(0,l.k)(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(f){if(this._cache)return this._cache;const c=this._cache=this._createDescriptors(f);return this._notifyStateChanges(f),c}_createDescriptors(f,c){const h=f&&f.config,m=(0,l.v)(h.options&&h.options.plugins,{}),b=function tn(y){const f={},c=[],h=Object.keys(Re.plugins.items);for(let b=0;b<h.length;b++)c.push(Re.getPlugin(h[b]));const m=y.plugins||[];for(let b=0;b<m.length;b++){const C=m[b];-1===c.indexOf(C)&&(c.push(C),f[C.id]=!0)}return{plugins:c,localIds:f}}(h);return!1!==m||c?function _i(y,{plugins:f,localIds:c},h,m){const b=[],C=y.getContext();for(const x of f){const L=x.id,q=gn(h[L],m);null!==q&&b.push({plugin:x,options:Fr(y.config,{plugin:x,local:c[L]},q,C)})}return b}(f,b,m,c):[]}_notifyStateChanges(f){const c=this._oldCache||[],h=this._cache,m=(b,C)=>b.filter(x=>!C.some(L=>x.plugin.id===L.plugin.id));this._notify(m(c,h),f,"stop"),this._notify(m(h,c),f,"start")}}function gn(y,f){return f||!1!==y?!0===y?{}:y:null}function Fr(y,{plugin:f,local:c},h,m){const b=y.pluginScopeKeys(f),C=y.getOptionScopes(h,b);return c&&f.defaults&&C.push(f.defaults),y.createResolver(C,m,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Yr(y,f){return((f.datasets||{})[y]||{}).indexAxis||f.indexAxis||(l.d.datasets[y]||{}).indexAxis||"x"}function ls(y){if("x"===y||"y"===y||"r"===y)return y}function Li(y){return"top"===y||"bottom"===y?"x":"left"===y||"right"===y?"y":void 0}function cr(y,...f){if(ls(y))return y;for(const c of f){const h=c.axis||Li(c.position)||y.length>1&&ls(y[0].toLowerCase());if(h)return h}throw new Error(`Cannot determine type of '${y}' axis. Please provide 'axis' or 'position' option.`)}function Sr(y,f,c){if(c[f+"AxisID"]===y)return{axis:f}}function Ia(y){const f=y.options||(y.options={});f.plugins=(0,l.v)(f.plugins,{}),f.scales=function As(y,f){const c=l.a3[y.type]||{scales:{}},h=f.scales||{},m=Yr(y.type,f),b=Object.create(null);return Object.keys(h).forEach(C=>{const x=h[C];if(!(0,l.i)(x))return console.error(`Invalid scale configuration for scale: ${C}`);if(x._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${C}`);const L=cr(C,x,function no(y,f){if(f.data&&f.data.datasets){const c=f.data.datasets.filter(h=>h.xAxisID===y||h.yAxisID===y);if(c.length)return Sr(y,"x",c[0])||Sr(y,"y",c[0])}return{}}(C,y),l.d.scales[x.type]),q=function Ls(y,f){return y===f?"_index_":"_value_"}(L,m),pe=c.scales||{};b[C]=(0,l.ab)(Object.create(null),[{axis:L},x,pe[L],pe[q]])}),y.data.datasets.forEach(C=>{const x=C.type||y.type,L=C.indexAxis||Yr(x,f),pe=(l.a3[x]||{}).scales||{};Object.keys(pe).forEach(be=>{const Be=function Hr(y,f){let c=y;return"_index_"===y?c=f:"_value_"===y&&(c="x"===f?"y":"x"),c}(be,L),We=C[Be+"AxisID"]||Be;b[We]=b[We]||Object.create(null),(0,l.ab)(b[We],[{axis:Be},h[We],pe[be]])})}),Object.keys(b).forEach(C=>{const x=b[C];(0,l.ab)(x,[l.d.scales[x.type],l.d.scale])}),b}(y,f)}function go(y){return(y=y||{}).datasets=y.datasets||[],y.labels=y.labels||[],y}const Vs=new Map,Qs=new Set;function Pr(y,f){let c=Vs.get(y);return c||(c=f(),Vs.set(y,c),Qs.add(c)),c}const Rn=(y,f,c)=>{const h=(0,l.f)(f,c);void 0!==h&&y.add(h)};class Bi{constructor(f){this._config=function ua(y){return(y=y||{}).data=go(y.data),Ia(y),y}(f),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(f){this._config.type=f}get data(){return this._config.data}set data(f){this._config.data=go(f)}get options(){return this._config.options}set options(f){this._config.options=f}get plugins(){return this._config.plugins}update(){const f=this._config;this.clearCache(),Ia(f)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(f){return Pr(f,()=>[[`datasets.${f}`,""]])}datasetAnimationScopeKeys(f,c){return Pr(`${f}.transition.${c}`,()=>[[`datasets.${f}.transitions.${c}`,`transitions.${c}`],[`datasets.${f}`,""]])}datasetElementScopeKeys(f,c){return Pr(`${f}-${c}`,()=>[[`datasets.${f}.elements.${c}`,`datasets.${f}`,`elements.${c}`,""]])}pluginScopeKeys(f){const c=f.id;return Pr(`${this.type}-plugin-${c}`,()=>[[`plugins.${c}`,...f.additionalOptionScopes||[]]])}_cachedScopes(f,c){const h=this._scopeCache;let m=h.get(f);return(!m||c)&&(m=new Map,h.set(f,m)),m}getOptionScopes(f,c,h){const{options:m,type:b}=this,C=this._cachedScopes(f,h),x=C.get(c);if(x)return x;const L=new Set;c.forEach(pe=>{f&&(L.add(f),pe.forEach(be=>Rn(L,f,be))),pe.forEach(be=>Rn(L,m,be)),pe.forEach(be=>Rn(L,l.a3[b]||{},be)),pe.forEach(be=>Rn(L,l.d,be)),pe.forEach(be=>Rn(L,l.a6,be))});const q=Array.from(L);return 0===q.length&&q.push(Object.create(null)),Qs.has(c)&&C.set(c,q),q}chartOptionScopes(){const{options:f,type:c}=this;return[f,l.a3[c]||{},l.d.datasets[c]||{},{type:c},l.d,l.a6]}resolveNamedOptions(f,c,h,m=[""]){const b={$shared:!0},{resolver:C,subPrefixes:x}=Mi(this._resolverCache,f,m);let L=C;if(function es(y,f){const{isScriptable:c,isIndexable:h}=(0,l.aa)(y);for(const m of f){const b=c(m),C=h(m),x=(C||b)&&y[m];if(b&&((0,l.a7)(x)||Ws(x))||C&&(0,l.b)(x))return!0}return!1}(C,c)){b.$shared=!1,h=(0,l.a7)(h)?h():h;const q=this.createResolver(f,h,x);L=(0,l.a8)(C,h,q)}for(const q of c)b[q]=L[q];return b}createResolver(f,c,h=[""],m){const{resolver:b}=Mi(this._resolverCache,f,h);return(0,l.i)(c)?(0,l.a8)(b,c,void 0,m):b}}function Mi(y,f,c){let h=y.get(f);h||(h=new Map,y.set(f,h));const m=c.join();let b=h.get(m);return b||(b={resolver:(0,l.a9)(f,c),subPrefixes:c.filter(x=>!x.toLowerCase().includes("hover"))},h.set(m,b)),b}const Ws=y=>(0,l.i)(y)&&Object.getOwnPropertyNames(y).some(f=>(0,l.a7)(y[f])),ko=["top","bottom","left","right","chartArea"];function ps(y,f){return"top"===y||"bottom"===y||-1===ko.indexOf(y)&&"x"===f}function No(y,f){return function(c,h){return c[y]===h[y]?c[f]-h[f]:c[y]-h[y]}}function So(y){const f=y.chart,c=f.options.animation;f.notifyPlugins("afterRender"),(0,l.Q)(c&&c.onComplete,[y],f)}function bi(y){const f=y.chart,c=f.options.animation;(0,l.Q)(c&&c.onProgress,[y],f)}function ra(y){return(0,l.M)()&&"string"==typeof y?y=document.getElementById(y):y&&y.length&&(y=y[0]),y&&y.canvas&&(y=y.canvas),y}const lo={},Bs=y=>{const f=ra(y);return Object.values(lo).filter(c=>c.canvas===f).pop()};function kr(y,f,c){const h=Object.keys(y);for(const m of h){const b=+m;if(b>=f){const C=y[m];delete y[m],(c>0||b>f)&&(y[b+c]=C)}}}let Do=(()=>class y{static defaults=l.d;static instances=lo;static overrides=l.a3;static registry=Re;static version="4.4.9";static getChart=Bs;static register(...c){Re.add(...c),Ds()}static unregister(...c){Re.remove(...c),Ds()}constructor(c,h){const m=this.config=new Bi(h),b=ra(c),C=Bs(b);if(C)throw new Error("Canvas is already in use. Chart with ID '"+C.id+"' must be destroyed before the canvas with ID '"+C.canvas.id+"' can be reused.");const x=m.createResolver(m.chartOptionScopes(),this.getContext());this.platform=new(m.platform||function or(y){return!(0,l.M)()||typeof OffscreenCanvas<"u"&&y instanceof OffscreenCanvas?Ae:yi}(b)),this.platform.updateConfig(m);const L=this.platform.acquireContext(b,x.aspectRatio),q=L&&L.canvas,pe=q&&q.height,be=q&&q.width;this.id=(0,l.ac)(),this.ctx=L,this.canvas=q,this.width=be,this.height=pe,this._options=x,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Je,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=(0,l.ad)(Be=>this.update(Be),x.resizeDelay||0),this._dataChanges=[],lo[this.id]=this,L&&q?(ke.listen(this,"complete",So),ke.listen(this,"progress",bi),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:c,maintainAspectRatio:h},width:m,height:b,_aspectRatio:C}=this;return(0,l.k)(c)?h&&C?C:b?m/b:null:c}get data(){return this.config.data}set data(c){this.config.data=c}get options(){return this._options}set options(c){this.config.options=c}get registry(){return Re}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():(0,l.ae)(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return(0,l.af)(this.canvas,this.ctx),this}stop(){return ke.stop(this),this}resize(c,h){ke.running(this)?this._resizeBeforeDraw={width:c,height:h}:this._resize(c,h)}_resize(c,h){const m=this.options,x=this.platform.getMaximumSize(this.canvas,c,h,m.maintainAspectRatio&&this.aspectRatio),L=m.devicePixelRatio||this.platform.getDevicePixelRatio(),q=this.width?"resize":"attach";this.width=x.width,this.height=x.height,this._aspectRatio=this.aspectRatio,(0,l.ae)(this,L,!0)&&(this.notifyPlugins("resize",{size:x}),(0,l.Q)(m.onResize,[this,x],this),this.attached&&this._doResize(q)&&this.render())}ensureScalesHaveIDs(){(0,l.F)(this.options.scales||{},(m,b)=>{m.id=b})}buildOrUpdateScales(){const c=this.options,h=c.scales,m=this.scales,b=Object.keys(m).reduce((x,L)=>(x[L]=!1,x),{});let C=[];h&&(C=C.concat(Object.keys(h).map(x=>{const L=h[x],q=cr(x,L),pe="r"===q,be="x"===q;return{options:L,dposition:pe?"chartArea":be?"bottom":"left",dtype:pe?"radialLinear":be?"category":"linear"}}))),(0,l.F)(C,x=>{const L=x.options,q=L.id,pe=cr(q,L),be=(0,l.v)(L.type,x.dtype);(void 0===L.position||ps(L.position,pe)!==ps(x.dposition))&&(L.position=x.dposition),b[q]=!0;let Be=null;q in m&&m[q].type===be?Be=m[q]:(Be=new(Re.getScale(be))({id:q,type:be,ctx:this.ctx,chart:this}),m[Be.id]=Be),Be.init(L,c)}),(0,l.F)(b,(x,L)=>{x||delete m[L]}),(0,l.F)(m,x=>{Xe.configure(this,x,x.options),Xe.addBox(this,x)})}_updateMetasets(){const c=this._metasets,h=this.data.datasets.length,m=c.length;if(c.sort((b,C)=>b.index-C.index),m>h){for(let b=h;b<m;++b)this._destroyDatasetMeta(b);c.splice(h,m-h)}this._sortedMetasets=c.slice(0).sort(No("order","index"))}_removeUnreferencedMetasets(){const{_metasets:c,data:{datasets:h}}=this;c.length>h.length&&delete this._stacks,c.forEach((m,b)=>{0===h.filter(C=>C===m._dataset).length&&this._destroyDatasetMeta(b)})}buildOrUpdateControllers(){const c=[],h=this.data.datasets;let m,b;for(this._removeUnreferencedMetasets(),m=0,b=h.length;m<b;m++){const C=h[m];let x=this.getDatasetMeta(m);const L=C.type||this.config.type;if(x.type&&x.type!==L&&(this._destroyDatasetMeta(m),x=this.getDatasetMeta(m)),x.type=L,x.indexAxis=C.indexAxis||Yr(L,this.options),x.order=C.order||0,x.index=m,x.label=""+C.label,x.visible=this.isDatasetVisible(m),x.controller)x.controller.updateIndex(m),x.controller.linkScales();else{const q=Re.getController(L),{datasetElementType:pe,dataElementType:be}=l.d.datasets[L];Object.assign(q,{dataElementType:Re.getElement(be),datasetElementType:pe&&Re.getElement(pe)}),x.controller=new q(this,m),c.push(x.controller)}}return this._updateMetasets(),c}_resetElements(){(0,l.F)(this.data.datasets,(c,h)=>{this.getDatasetMeta(h).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(c){const h=this.config;h.update();const m=this._options=h.createResolver(h.chartOptionScopes(),this.getContext()),b=this._animationsDisabled=!m.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:c,cancelable:!0}))return;const C=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let x=0;for(let pe=0,be=this.data.datasets.length;pe<be;pe++){const{controller:Be}=this.getDatasetMeta(pe),We=!b&&-1===C.indexOf(Be);Be.buildOrUpdateElements(We),x=Math.max(+Be.getMaxOverflow(),x)}x=this._minPadding=m.layout.autoPadding?x:0,this._updateLayout(x),b||(0,l.F)(C,pe=>{pe.reset()}),this._updateDatasets(c),this.notifyPlugins("afterUpdate",{mode:c}),this._layers.sort(No("z","_idx"));const{_active:L,_lastEvent:q}=this;q?this._eventHandler(q,!0):L.length&&this._updateHoverStyles(L,L,!0),this.render()}_updateScales(){(0,l.F)(this.scales,c=>{Xe.removeBox(this,c)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const c=this.options,h=new Set(Object.keys(this._listeners)),m=new Set(c.events);(!(0,l.ag)(h,m)||!!this._responsiveListeners!==c.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:c}=this,h=this._getUniformDataChanges()||[];for(const{method:m,start:b,count:C}of h)kr(c,b,"_removeElements"===m?-C:C)}_getUniformDataChanges(){const c=this._dataChanges;if(!c||!c.length)return;this._dataChanges=[];const h=this.data.datasets.length,m=C=>new Set(c.filter(x=>x[0]===C).map((x,L)=>L+","+x.splice(1).join(","))),b=m(0);for(let C=1;C<h;C++)if(!(0,l.ag)(b,m(C)))return;return Array.from(b).map(C=>C.split(",")).map(C=>({method:C[1],start:+C[2],count:+C[3]}))}_updateLayout(c){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;Xe.update(this,this.width,this.height,c);const h=this.chartArea,m=h.width<=0||h.height<=0;this._layers=[],(0,l.F)(this.boxes,b=>{m&&"chartArea"===b.position||(b.configure&&b.configure(),this._layers.push(...b._layers()))},this),this._layers.forEach((b,C)=>{b._idx=C}),this.notifyPlugins("afterLayout")}_updateDatasets(c){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:c,cancelable:!0})){for(let h=0,m=this.data.datasets.length;h<m;++h)this.getDatasetMeta(h).controller.configure();for(let h=0,m=this.data.datasets.length;h<m;++h)this._updateDataset(h,(0,l.a7)(c)?c({datasetIndex:h}):c);this.notifyPlugins("afterDatasetsUpdate",{mode:c})}}_updateDataset(c,h){const m=this.getDatasetMeta(c),b={meta:m,index:c,mode:h,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",b)&&(m.controller._update(h),b.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",b))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(ke.has(this)?this.attached&&!ke.running(this)&&ke.start(this):(this.draw(),So({chart:this})))}draw(){let c;if(this._resizeBeforeDraw){const{width:m,height:b}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(m,b)}if(this.clear(),this.width<=0||this.height<=0||!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const h=this._layers;for(c=0;c<h.length&&h[c].z<=0;++c)h[c].draw(this.chartArea);for(this._drawDatasets();c<h.length;++c)h[c].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(c){const h=this._sortedMetasets,m=[];let b,C;for(b=0,C=h.length;b<C;++b){const x=h[b];(!c||x.visible)&&m.push(x)}return m}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const c=this.getSortedVisibleDatasetMetas();for(let h=c.length-1;h>=0;--h)this._drawDataset(c[h]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(c){const h=this.ctx,m={meta:c,index:c.index,cancelable:!0},b=(0,l.ah)(this,c);!1!==this.notifyPlugins("beforeDatasetDraw",m)&&(b&&(0,l.Y)(h,b),c.controller.draw(),b&&(0,l.$)(h),m.cancelable=!1,this.notifyPlugins("afterDatasetDraw",m))}isPointInArea(c){return(0,l.C)(c,this.chartArea,this._minPadding)}getElementsAtEventForMode(c,h,m,b){const C=wr.modes[h];return"function"==typeof C?C(this,c,m,b):[]}getDatasetMeta(c){const h=this.data.datasets[c],m=this._metasets;let b=m.filter(C=>C&&C._dataset===h).pop();return b||(b={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:h&&h.order||0,index:c,_dataset:h,_parsed:[],_sorted:!1},m.push(b)),b}getContext(){return this.$context||(this.$context=(0,l.j)(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(c){const h=this.data.datasets[c];if(!h)return!1;const m=this.getDatasetMeta(c);return"boolean"==typeof m.hidden?!m.hidden:!h.hidden}setDatasetVisibility(c,h){this.getDatasetMeta(c).hidden=!h}toggleDataVisibility(c){this._hiddenIndices[c]=!this._hiddenIndices[c]}getDataVisibility(c){return!this._hiddenIndices[c]}_updateVisibility(c,h,m){const b=m?"show":"hide",C=this.getDatasetMeta(c),x=C.controller._resolveAnimations(void 0,b);(0,l.h)(h)?(C.data[h].hidden=!m,this.update()):(this.setDatasetVisibility(c,m),x.update(C,{visible:m}),this.update(L=>L.datasetIndex===c?b:void 0))}hide(c,h){this._updateVisibility(c,h,!1)}show(c,h){this._updateVisibility(c,h,!0)}_destroyDatasetMeta(c){const h=this._metasets[c];h&&h.controller&&h.controller._destroy(),delete this._metasets[c]}_stop(){let c,h;for(this.stop(),ke.remove(this),c=0,h=this.data.datasets.length;c<h;++c)this._destroyDatasetMeta(c)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:c,ctx:h}=this;this._stop(),this.config.clearCache(),c&&(this.unbindEvents(),(0,l.af)(c,h),this.platform.releaseContext(h),this.canvas=null,this.ctx=null),delete lo[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...c){return this.canvas.toDataURL(...c)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const c=this._listeners,h=this.platform,m=(C,x)=>{h.addEventListener(this,C,x),c[C]=x},b=(C,x,L)=>{C.offsetX=x,C.offsetY=L,this._eventHandler(C)};(0,l.F)(this.options.events,C=>m(C,b))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const c=this._responsiveListeners,h=this.platform,m=(q,pe)=>{h.addEventListener(this,q,pe),c[q]=pe},b=(q,pe)=>{c[q]&&(h.removeEventListener(this,q,pe),delete c[q])},C=(q,pe)=>{this.canvas&&this.resize(q,pe)};let x;const L=()=>{b("attach",L),this.attached=!0,this.resize(),m("resize",C),m("detach",x)};x=()=>{this.attached=!1,b("resize",C),this._stop(),this._resize(0,0),m("attach",L)},h.isAttached(this.canvas)?L():x()}unbindEvents(){(0,l.F)(this._listeners,(c,h)=>{this.platform.removeEventListener(this,h,c)}),this._listeners={},(0,l.F)(this._responsiveListeners,(c,h)=>{this.platform.removeEventListener(this,h,c)}),this._responsiveListeners=void 0}updateHoverStyle(c,h,m){const b=m?"set":"remove";let C,x,L,q;for("dataset"===h&&(C=this.getDatasetMeta(c[0].datasetIndex),C.controller["_"+b+"DatasetHoverStyle"]()),L=0,q=c.length;L<q;++L){x=c[L];const pe=x&&this.getDatasetMeta(x.datasetIndex).controller;pe&&pe[b+"HoverStyle"](x.element,x.datasetIndex,x.index)}}getActiveElements(){return this._active||[]}setActiveElements(c){const h=this._active||[],m=c.map(({datasetIndex:C,index:x})=>{const L=this.getDatasetMeta(C);if(!L)throw new Error("No dataset found at index "+C);return{datasetIndex:C,element:L.data[x],index:x}});!(0,l.ai)(m,h)&&(this._active=m,this._lastEvent=null,this._updateHoverStyles(m,h))}notifyPlugins(c,h,m){return this._plugins.notify(this,c,h,m)}isPluginEnabled(c){return 1===this._plugins._cache.filter(h=>h.plugin.id===c).length}_updateHoverStyles(c,h,m){const b=this.options.hover,C=(q,pe)=>q.filter(be=>!pe.some(Be=>be.datasetIndex===Be.datasetIndex&&be.index===Be.index)),x=C(h,c),L=m?c:C(c,h);x.length&&this.updateHoverStyle(x,b.mode,!1),L.length&&b.mode&&this.updateHoverStyle(L,b.mode,!0)}_eventHandler(c,h){const m={event:c,replay:h,cancelable:!0,inChartArea:this.isPointInArea(c)},b=x=>(x.options.events||this.options.events).includes(c.native.type);if(!1===this.notifyPlugins("beforeEvent",m,b))return;const C=this._handleEvent(c,h,m.inChartArea);return m.cancelable=!1,this.notifyPlugins("afterEvent",m,b),(C||m.changed)&&this.render(),this}_handleEvent(c,h,m){const{_active:b=[],options:C}=this,L=this._getActiveElements(c,b,m,h),q=(0,l.aj)(c),pe=function da(y,f,c,h){return c&&"mouseout"!==y.type?h?f:y:null}(c,this._lastEvent,m,q);m&&(this._lastEvent=null,(0,l.Q)(C.onHover,[c,L,this],this),q&&(0,l.Q)(C.onClick,[c,L,this],this));const be=!(0,l.ai)(L,b);return(be||h)&&(this._active=L,this._updateHoverStyles(L,b,h)),this._lastEvent=pe,be}_getActiveElements(c,h,m,b){if("mouseout"===c.type)return[];if(!m)return h;const C=this.options.hover;return this.getElementsAtEventForMode(c,C.mode,C,b)}})();function Ds(){return(0,l.F)(Do.instances,y=>y._plugins.invalidate())}function Ss(y,f,c,h){return{x:c+y*Math.cos(f),y:h+y*Math.sin(f)}}function Us(y,f,c,h,m,b){const{x:C,y:x,startAngle:L,pixelMargin:q,innerRadius:pe}=f,be=Math.max(f.outerRadius+h+c-q,0),Be=pe>0?pe+h+c+q:0;let We=0;const gt=m-L;if(h){const Eo=((pe>0?pe-h:0)+(be>0?be-h:0))/2;We=(gt-(0!==Eo?gt*Eo/(Eo+h):gt))/2}const Zt=(gt-Math.max(.001,gt*be-c/l.P)/be)/2,bn=L+Zt+We,pn=m-Zt-We,{outerStart:Un,outerEnd:Xn,innerStart:An,innerEnd:Gn}=function Ps(y,f,c,h){const m=function Ra(y){return(0,l.al)(y,["outerStart","outerEnd","innerStart","innerEnd"])}(y.options.borderRadius),b=(c-f)/2,C=Math.min(b,h*f/2),x=L=>{const q=(c-Math.min(b,L))*h/2;return(0,l.S)(L,0,Math.min(b,q))};return{outerStart:x(m.outerStart),outerEnd:x(m.outerEnd),innerStart:(0,l.S)(m.innerStart,0,C),innerEnd:(0,l.S)(m.innerEnd,0,C)}}(f,Be,be,pn-bn),Ai=be-Un,ui=be-Xn,$i=bn+Un/Ai,Qr=pn-Xn/ui,os=Be+An,sr=Be+Gn,Pa=bn+An/os,pa=pn-Gn/sr;if(y.beginPath(),b){const so=($i+Qr)/2;if(y.arc(C,x,be,$i,so),y.arc(C,x,be,so,Qr),Xn>0){const Xr=Ss(ui,Qr,C,x);y.arc(Xr.x,Xr.y,Xn,Qr,pn+l.H)}const Tr=Ss(sr,pn,C,x);if(y.lineTo(Tr.x,Tr.y),Gn>0){const Xr=Ss(sr,pa,C,x);y.arc(Xr.x,Xr.y,Gn,pn+l.H,pa+Math.PI)}const Eo=(pn-Gn/Be+(bn+An/Be))/2;if(y.arc(C,x,Be,pn-Gn/Be,Eo,!0),y.arc(C,x,Be,Eo,bn+An/Be,!0),An>0){const Xr=Ss(os,Pa,C,x);y.arc(Xr.x,Xr.y,An,Pa+Math.PI,bn-l.H)}const fo=Ss(Ai,bn,C,x);if(y.lineTo(fo.x,fo.y),Un>0){const Xr=Ss(Ai,$i,C,x);y.arc(Xr.x,Xr.y,Un,bn-l.H,$i)}}else{y.moveTo(C,x);const so=Math.cos($i)*be+C,Tr=Math.sin($i)*be+x;y.lineTo(so,Tr);const Eo=Math.cos(Qr)*be+C,fo=Math.sin(Qr)*be+x;y.lineTo(Eo,fo)}y.closePath()}function Wo(y,f,c=f){y.lineCap=(0,l.v)(c.borderCapStyle,f.borderCapStyle),y.setLineDash((0,l.v)(c.borderDash,f.borderDash)),y.lineDashOffset=(0,l.v)(c.borderDashOffset,f.borderDashOffset),y.lineJoin=(0,l.v)(c.borderJoinStyle,f.borderJoinStyle),y.lineWidth=(0,l.v)(c.borderWidth,f.borderWidth),y.strokeStyle=(0,l.v)(c.borderColor,f.borderColor)}function _o(y,f,c){y.lineTo(c.x,c.y)}function yo(y,f,c={}){const h=y.length,{start:m=0,end:b=h-1}=c,{start:C,end:x}=f,L=Math.max(m,C),q=Math.min(b,x);return{count:h,start:L,loop:f.loop,ilen:q<L&&!(m<C&&b<C||m>x&&b>x)?h+q-L:q-L}}function Xs(y,f,c,h){const{points:m,options:b}=f,{count:C,start:x,loop:L,ilen:q}=yo(m,c,h),pe=function us(y){return y.stepped?l.as:y.tension||"monotone"===y.cubicInterpolationMode?l.at:_o}(b);let We,gt,Tt,{move:be=!0,reverse:Be}=h||{};for(We=0;We<=q;++We)gt=m[(x+(Be?q-We:We))%C],!gt.skip&&(be?(y.moveTo(gt.x,gt.y),be=!1):pe(y,Tt,gt,Be,b.stepped),Tt=gt);return L&&(gt=m[(x+(Be?q:0))%C],pe(y,Tt,gt,Be,b.stepped)),!!L}function Uo(y,f,c,h){const m=f.points,{count:b,start:C,ilen:x}=yo(m,c,h),{move:L=!0,reverse:q}=h||{};let Be,We,gt,Tt,Zt,bn,pe=0,be=0;const pn=Xn=>(C+(q?x-Xn:Xn))%b,Un=()=>{Tt!==Zt&&(y.lineTo(pe,Zt),y.lineTo(pe,Tt),y.lineTo(pe,bn))};for(L&&(We=m[pn(0)],y.moveTo(We.x,We.y)),Be=0;Be<=x;++Be){if(We=m[pn(Be)],We.skip)continue;const Xn=We.x,An=We.y,Gn=0|Xn;Gn===gt?(An<Tt?Tt=An:An>Zt&&(Zt=An),pe=(be*pe+Xn)/++be):(Un(),y.lineTo(Xn,An),gt=Gn,be=0,Tt=Zt=An),bn=An}Un()}function ms(y){const f=y.options;return y._decimated||y._loop||f.tension||"monotone"===f.cubicInterpolationMode||f.stepped||f.borderDash&&f.borderDash.length?Xs:Uo}const Zo="function"==typeof Path2D;let Ms=(()=>class y extends Fi{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:c=>"borderDash"!==c&&"fill"!==c};constructor(c){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,c&&Object.assign(this,c)}updateControlPoints(c,h){const m=this.options;!m.tension&&"monotone"!==m.cubicInterpolationMode||m.stepped||this._pointsUpdated||((0,l.am)(this._points,m,c,m.spanGaps?this._loop:this._fullLoop,h),this._pointsUpdated=!0)}set points(c){this._points=c,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=(0,l.an)(this,this.options.segment))}first(){const c=this.segments;return c.length&&this.points[c[0].start]}last(){const c=this.segments,m=c.length;return m&&this.points[c[m-1].end]}interpolate(c,h){const m=this.options,b=c[h],C=this.points,x=(0,l.ao)(this,{property:h,start:b,end:b});if(!x.length)return;const L=[],q=function Zs(y){return y.stepped?l.ap:y.tension||"monotone"===y.cubicInterpolationMode?l.aq:l.ar}(m);let pe,be;for(pe=0,be=x.length;pe<be;++pe){const{start:Be,end:We}=x[pe],gt=C[Be],Tt=C[We];if(gt===Tt){L.push(gt);continue}const bn=q(gt,Tt,Math.abs((b-gt[h])/(Tt[h]-gt[h])),m.stepped);bn[h]=c[h],L.push(bn)}return 1===L.length?L[0]:L}pathSegment(c,h,m){return ms(this)(c,this,h,m)}path(c,h,m){const b=this.segments,C=ms(this);let x=this._loop;h=h||0,m=m||this.points.length-h;for(const L of b)x&=C(c,this,L,{start:h,end:h+m-1});return!!x}draw(c,h,m,b){(this.points||[]).length&&(this.options||{}).borderWidth&&(c.save(),function gs(y,f,c,h){Zo&&!f.options.segment?function ks(y,f,c,h){let m=f._path;m||(m=f._path=new Path2D,f.path(m,c,h)&&m.closePath()),Wo(y,f.options),y.stroke(m)}(y,f,c,h):function js(y,f,c,h){const{segments:m,options:b}=f,C=ms(f);for(const x of m)Wo(y,b,x.style),y.beginPath(),C(y,f,x,{start:c,end:c+h-1})&&y.closePath(),y.stroke()}(y,f,c,h)}(c,this,m,b),c.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}})();function Ks(y,f,c,h){const m=y.options,{[c]:b}=y.getProps([c],h);return Math.abs(f-b)<m.radius+m.hitRadius}let ts=(()=>class y extends Fi{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(c){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,c&&Object.assign(this,c)}inRange(c,h,m){const b=this.options,{x:C,y:x}=this.getProps(["x","y"],m);return Math.pow(c-C,2)+Math.pow(h-x,2)<Math.pow(b.hitRadius+b.radius,2)}inXRange(c,h){return Ks(this,c,"x",h)}inYRange(c,h){return Ks(this,c,"y",h)}getCenterPoint(c){const{x:h,y:m}=this.getProps(["x","y"],c);return{x:h,y:m}}size(c){let h=(c=c||this.options||{}).radius||0;return h=Math.max(h,h&&c.hoverRadius||0),2*(h+(h&&c.borderWidth||0))}draw(c,h){const m=this.options;this.skip||m.radius<.1||!(0,l.C)(this,h,this.size(m)/2)||(c.strokeStyle=m.borderColor,c.lineWidth=m.borderWidth,c.fillStyle=m.backgroundColor,(0,l.au)(c,m,this.x,this.y))}getRange(){const c=this.options||{};return c.radius+c.hitRadius}})();function sa(y,f){const{x:c,y:h,base:m,width:b,height:C}=y.getProps(["x","y","base","width","height"],f);let x,L,q,pe,be;return y.horizontal?(be=C/2,x=Math.min(c,m),L=Math.max(c,m),q=h-be,pe=h+be):(be=b/2,x=c-be,L=c+be,q=Math.min(h,m),pe=Math.max(h,m)),{left:x,top:q,right:L,bottom:pe}}function qs(y,f,c,h){return y?0:(0,l.S)(f,c,h)}function me(y,f,c,h){const m=null===f,b=null===c,x=y&&!(m&&b)&&sa(y,h);return x&&(m||(0,l.ak)(f,x.left,x.right))&&(b||(0,l.ak)(c,x.top,x.bottom))}function Se(y,f){y.rect(f.x,f.y,f.w,f.h)}function st(y,f,c={}){const h=y.x!==c.x?-f:0,m=y.y!==c.y?-f:0;return{x:y.x+h,y:y.y+m,w:y.w+((y.x+y.w!==c.x+c.w?f:0)-h),h:y.h+((y.y+y.h!==c.y+c.h?f:0)-m),radius:y.radius}}var mr=Object.freeze({__proto__:null,ArcElement:class ha extends Fi{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:f=>"borderDash"!==f};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(f){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,f&&Object.assign(this,f)}inRange(f,c,h){const m=this.getProps(["x","y"],h),{angle:b,distance:C}=(0,l.D)(m,{x:f,y:c}),{startAngle:x,endAngle:L,innerRadius:q,outerRadius:pe,circumference:be}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],h),Be=(this.options.spacing+this.options.borderWidth)/2,We=(0,l.v)(be,L-x),gt=(0,l.p)(b,x,L)&&x!==L,Tt=We>=l.T||gt,Zt=(0,l.ak)(C,q+Be,pe+Be);return Tt&&Zt}getCenterPoint(f){const{x:c,y:h,startAngle:m,endAngle:b,innerRadius:C,outerRadius:x}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],f),{offset:L,spacing:q}=this.options,pe=(m+b)/2,be=(C+x+q+L)/2;return{x:c+Math.cos(pe)*be,y:h+Math.sin(pe)*be}}tooltipPosition(f){return this.getCenterPoint(f)}draw(f){const{options:c,circumference:h}=this,m=(c.offset||0)/4,b=(c.spacing||0)/2,C=c.circular;if(this.pixelMargin="inner"===c.borderAlign?.33:0,this.fullCircles=h>l.T?Math.floor(h/l.T):0,0===h||this.innerRadius<0||this.outerRadius<0)return;f.save();const x=(this.startAngle+this.endAngle)/2;f.translate(Math.cos(x)*m,Math.sin(x)*m);const q=m*(1-Math.sin(Math.min(l.P,h||0)));f.fillStyle=c.backgroundColor,f.strokeStyle=c.borderColor,function Xo(y,f,c,h,m){const{fullCircles:b,startAngle:C,circumference:x}=f;let L=f.endAngle;if(b){Us(y,f,c,h,L,m);for(let q=0;q<b;++q)y.fill();isNaN(x)||(L=C+(x%l.T||l.T))}Us(y,f,c,h,L,m),y.fill()}(f,this,q,b,C),function br(y,f,c,h,m){const{fullCircles:b,startAngle:C,circumference:x,options:L}=f,{borderWidth:q,borderJoinStyle:pe,borderDash:be,borderDashOffset:Be}=L,We="inner"===L.borderAlign;if(!q)return;y.setLineDash(be||[]),y.lineDashOffset=Be,We?(y.lineWidth=2*q,y.lineJoin=pe||"round"):(y.lineWidth=q,y.lineJoin=pe||"bevel");let gt=f.endAngle;if(b){Us(y,f,c,h,gt,m);for(let Tt=0;Tt<b;++Tt)y.stroke();isNaN(x)||(gt=C+(x%l.T||l.T))}We&&function Fo(y,f,c){const{startAngle:h,pixelMargin:m,x:b,y:C,outerRadius:x,innerRadius:L}=f;let q=m/x;y.beginPath(),y.arc(b,C,x,h-q,c+q),L>m?(q=m/L,y.arc(b,C,L,c+q,h-q,!0)):y.arc(b,C,m,c+l.H,h-l.H),y.closePath(),y.clip()}(y,f,gt),b||(Us(y,f,c,h,gt,m),y.stroke())}(f,this,q,b,C),f.restore()}},BarElement:class hi extends Fi{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(f){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,f&&Object.assign(this,f)}draw(f){const{inflateAmount:c,options:{borderColor:h,backgroundColor:m}}=this,{inner:b,outer:C}=function ue(y){const f=sa(y),c=f.right-f.left,h=f.bottom-f.top,m=function Lo(y,f,c){const m=y.borderSkipped,b=(0,l.aw)(y.options.borderWidth);return{t:qs(m.top,b.top,0,c),r:qs(m.right,b.right,0,f),b:qs(m.bottom,b.bottom,0,c),l:qs(m.left,b.left,0,f)}}(y,c/2,h/2),b=function oa(y,f,c){const{enableBorderRadius:h}=y.getProps(["enableBorderRadius"]),m=y.options.borderRadius,b=(0,l.ax)(m),C=Math.min(f,c),x=y.borderSkipped,L=h||(0,l.i)(m);return{topLeft:qs(!L||x.top||x.left,b.topLeft,0,C),topRight:qs(!L||x.top||x.right,b.topRight,0,C),bottomLeft:qs(!L||x.bottom||x.left,b.bottomLeft,0,C),bottomRight:qs(!L||x.bottom||x.right,b.bottomRight,0,C)}}(y,c/2,h/2);return{outer:{x:f.left,y:f.top,w:c,h,radius:b},inner:{x:f.left+m.l,y:f.top+m.t,w:c-m.l-m.r,h:h-m.t-m.b,radius:{topLeft:Math.max(0,b.topLeft-Math.max(m.t,m.l)),topRight:Math.max(0,b.topRight-Math.max(m.t,m.r)),bottomLeft:Math.max(0,b.bottomLeft-Math.max(m.b,m.l)),bottomRight:Math.max(0,b.bottomRight-Math.max(m.b,m.r))}}}}(this),x=function X(y){return y.topLeft||y.topRight||y.bottomLeft||y.bottomRight}(C.radius)?l.av:Se;f.save(),(C.w!==b.w||C.h!==b.h)&&(f.beginPath(),x(f,st(C,c,b)),f.clip(),x(f,st(b,-c,C)),f.fillStyle=h,f.fill("evenodd")),f.beginPath(),x(f,st(b,c)),f.fillStyle=m,f.fill(),f.restore()}inRange(f,c,h){return me(this,f,c,h)}inXRange(f,c){return me(this,f,null,c)}inYRange(f,c){return me(this,null,f,c)}getCenterPoint(f){const{x:c,y:h,base:m,horizontal:b}=this.getProps(["x","y","base","horizontal"],f);return{x:b?(c+m)/2:c,y:b?h:(h+m)/2}}getRange(f){return"x"===f?this.width/2:this.height/2}},LineElement:Ms,PointElement:ts});const vo=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],To=vo.map(y=>y.replace("rgb(","rgba(").replace(")",", 0.5)"));function ur(y){return vo[y%vo.length]}function Rs(y){return To[y%To.length]}function Oo(y){let f;for(f in y)if(y[f].borderColor||y[f].backgroundColor)return!0;return!1}var ao={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(y,f,c){if(!c.enabled)return;const{data:{datasets:h},options:m}=y.config,{elements:b}=m,C=Oo(h)||function aa(y){return y&&(y.borderColor||y.backgroundColor)}(m)||b&&Oo(b)||function _a(){return"rgba(0,0,0,0.1)"!==l.d.borderColor||"rgba(0,0,0,0.1)"!==l.d.backgroundColor}();if(!c.forceOverride&&C)return;const x=function fa(y){let f=0;return(c,h)=>{const m=y.getDatasetMeta(h).controller;m instanceof Jn?f=function Mo(y,f){return y.backgroundColor=y.data.map(()=>ur(f++)),f}(c,f):m instanceof nr?f=function Da(y,f){return y.backgroundColor=y.data.map(()=>Rs(f++)),f}(c,f):m&&(f=function Vo(y,f){return y.borderColor=ur(f),y.backgroundColor=Rs(f),++f}(c,f))}}(y);h.forEach(x)}};function Ko(y){if(y._decimated){const f=y._data;delete y._decimated,delete y._data,Object.defineProperty(y,"data",{configurable:!0,enumerable:!0,writable:!0,value:f})}}function rs(y){y.data.datasets.forEach(f=>{Ko(f)})}var er={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(y,f,c)=>{if(!c.enabled)return void rs(y);const h=y.width;y.data.datasets.forEach((m,b)=>{const{_data:C,indexAxis:x}=m,L=y.getDatasetMeta(b),q=C||m.data;if("y"===(0,l.a)([x,y.options.indexAxis])||!L.controller.supportsDecimation)return;const pe=y.scales[L.xAxisID];if("linear"!==pe.type&&"time"!==pe.type||y.options.parsing)return;let gt,{start:be,count:Be}=function jo(y,f){const c=f.length;let m,h=0;const{iScale:b}=y,{min:C,max:x,minDefined:L,maxDefined:q}=b.getUserBounds();return L&&(h=(0,l.S)((0,l.B)(f,b.axis,C).lo,0,c-1)),m=q?(0,l.S)((0,l.B)(f,b.axis,x).hi+1,h,c)-h:c-h,{start:h,count:m}}(L,q);if(Be<=(c.threshold||4*h))Ko(m);else{switch((0,l.k)(C)&&(m._data=q,delete m.data,Object.defineProperty(m,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(Tt){this._data=Tt}})),c.algorithm){case"lttb":gt=function Bo(y,f,c,h,m){const b=m.samples||h;if(b>=c)return y.slice(f,f+c);const C=[],x=(c-2)/(b-2);let L=0;const q=f+c-1;let be,Be,We,gt,Tt,pe=f;for(C[L++]=y[pe],be=0;be<b-2;be++){let pn,Zt=0,bn=0;const Un=Math.floor((be+1)*x)+1+f,Xn=Math.min(Math.floor((be+2)*x)+1,c)+f,An=Xn-Un;for(pn=Un;pn<Xn;pn++)Zt+=y[pn].x,bn+=y[pn].y;Zt/=An,bn/=An;const Gn=Math.floor(be*x)+1+f,Ai=Math.min(Math.floor((be+1)*x)+1,c)+f,{x:ui,y:$i}=y[pe];for(We=gt=-1,pn=Gn;pn<Ai;pn++)gt=.5*Math.abs((ui-Zt)*(y[pn].y-$i)-(ui-y[pn].x)*(bn-$i)),gt>We&&(We=gt,Be=y[pn],Tt=pn);C[L++]=Be,pe=Tt}return C[L++]=y[q],C}(q,be,Be,h,c);break;case"min-max":gt=function Ro(y,f,c,h){let C,x,L,q,pe,be,Be,We,gt,Tt,m=0,b=0;const Zt=[],pn=y[f].x,Xn=y[f+c-1].x-pn;for(C=f;C<f+c;++C){x=y[C],L=(x.x-pn)/Xn*h,q=x.y;const An=0|L;if(An===pe)q<gt?(gt=q,be=C):q>Tt&&(Tt=q,Be=C),m=(b*m+x.x)/++b;else{const Gn=C-1;if(!(0,l.k)(be)&&!(0,l.k)(Be)){const Ai=Math.min(be,Be),ui=Math.max(be,Be);Ai!==We&&Ai!==Gn&&Zt.push({...y[Ai],x:m}),ui!==We&&ui!==Gn&&Zt.push({...y[ui],x:m})}C>0&&Gn!==We&&Zt.push(y[Gn]),Zt.push(x),pe=An,b=0,gt=Tt=q,be=Be=We=C}}return Zt}(q,be,Be,h);break;default:throw new Error(`Unsupported decimation algorithm '${c.algorithm}'`)}m._decimated=gt}})},destroy(y){rs(y)}};function Jo(y,f,c,h){if(h)return;let m=f[y],b=c[y];return"angle"===y&&(m=(0,l.az)(m),b=(0,l.az)(b)),{property:y,start:m,end:b}}function Hs(y,f,c){for(;f>y;f--){const h=c[f];if(!isNaN(h.x)&&!isNaN(h.y))break}return f}function ea(y,f,c,h){return y&&f?h(y[c],f[c]):y?y[c]:f?f[c]:0}function bo(y,f){let c=[],h=!1;return(0,l.b)(y)?(h=!0,c=y):c=function ya(y,f){const{x:c=null,y:h=null}=y||{},m=f.points,b=[];return f.segments.forEach(({start:C,end:x})=>{x=Hs(C,x,m);const L=m[C],q=m[x];null!==h?(b.push({x:L.x,y:h}),b.push({x:q.x,y:h})):null!==c&&(b.push({x:c,y:L.y}),b.push({x:c,y:q.y}))}),b}(y,f),c.length?new Ms({points:c,options:{tension:0},_loop:h,_fullLoop:h}):null}function Ns(y){return y&&!1!==y.fill}function va(y,f,c){let m=y[f].fill;const b=[f];let C;if(!c)return m;for(;!1!==m&&-1===b.indexOf(m);){if(!(0,l.g)(m))return m;if(C=y[m],!C)return!1;if(C.visible)return m;b.push(m),m=C.fill}return!1}function uo(y,f,c){const h=function Ho(y){const f=y.options,c=f.fill;let h=(0,l.v)(c&&c.target,c);return void 0===h&&(h=!!f.backgroundColor),!1!==h&&null!==h&&(!0===h?"origin":h)}(y);if((0,l.i)(h))return!isNaN(h.value)&&h;let m=parseFloat(h);return(0,l.g)(m)&&Math.floor(m)===m?function ba(y,f,c,h){return("-"===y||"+"===y)&&(c=f+c),!(c===f||c<0||c>=h)&&c}(h[0],f,m,c):["origin","start","end","stack","shape"].indexOf(h)>=0&&h}function Mr(y,f,c){const h=[];for(let m=0;m<c.length;m++){const b=c[m],{first:C,last:x,point:L}=Ua(b,f,"x");if(!(!L||C&&x))if(C)h.unshift(L);else if(y.push(L),!x)break}y.push(...h)}function Ua(y,f,c){const h=y.interpolate(f,c);if(!h)return{};const m=h[c],b=y.segments,C=y.points;let x=!1,L=!1;for(let q=0;q<b.length;q++){const pe=b[q],be=C[pe.start][c],Be=C[pe.end][c];if((0,l.ak)(m,be,Be)){x=m===be,L=m===Be;break}}return{first:x,last:L,point:h}}class $s{constructor(f){this.x=f.x,this.y=f.y,this.radius=f.radius}pathSegment(f,c,h){const{x:m,y:b,radius:C}=this;return f.arc(m,b,C,(c=c||{start:0,end:l.T}).end,c.start,!0),!h.bounds}interpolate(f){const{x:c,y:h,radius:m}=this,b=f.angle;return{x:c+Math.cos(b)*m,y:h+Math.sin(b)*m,angle:b}}}function ge(y,f,c){const h=function Po(y){const{chart:f,fill:c,line:h}=y;if((0,l.g)(c))return function Fa(y,f){const c=y.getDatasetMeta(f);return c&&y.isDatasetVisible(f)?c.dataset:null}(f,c);if("stack"===c)return function Ys(y){const{scale:f,index:c,line:h}=y,m=[],b=h.segments,C=h.points,x=function ca(y,f){const c=[],h=y.getMatchingVisibleMetas("line");for(let m=0;m<h.length;m++){const b=h[m];if(b.index===f)break;b.hidden||c.unshift(b.dataset)}return c}(f,c);x.push(bo({x:null,y:f.bottom},h));for(let L=0;L<b.length;L++){const q=b[L];for(let pe=q.start;pe<=q.end;pe++)Mr(m,C[pe],x)}return new Ms({points:m,options:{}})}(y);if("shape"===c)return!0;const m=function w(y){return(y.scale||{}).getPointPositionForValue?function ne(y){const{scale:f,fill:c}=y,h=f.options,m=f.getLabels().length,b=h.reverse?f.max:f.min,C=function xo(y,f,c){let h;return h="start"===y?c:"end"===y?f.options.reverse?f.min:f.max:(0,l.i)(y)?y.value:f.getBaseValue(),h}(c,f,b),x=[];if(h.grid.circular){const L=f.getPointPositionForValue(0,b);return new $s({x:L.x,y:L.y,radius:f.getDistanceFromCenterForValue(C)})}for(let L=0;L<m;++L)x.push(f.getPointPositionForValue(L,C));return x}(y):function j(y){const{scale:f={},fill:c}=y,h=function Na(y,f){let c=null;return"start"===y?c=f.bottom:"end"===y?c=f.top:(0,l.i)(y)?c=f.getPixelForValue(y.value):f.getBasePixel&&(c=f.getBasePixel()),c}(c,f);if((0,l.g)(h)){const m=f.isHorizontal();return{x:m?h:null,y:m?null:h}}return null}(y)}(y);return m instanceof $s?m:bo(m,h)}(f),{chart:m,index:b,line:C,scale:x,axis:L}=f,q=C.options,pe=q.fill,be=q.backgroundColor,{above:Be=be,below:We=be}=pe||{},gt=m.getDatasetMeta(b),Tt=(0,l.ah)(m,gt);h&&C.points.length&&((0,l.Y)(y,c),function Ie(y,f){const{line:c,target:h,above:m,below:b,area:C,scale:x,clip:L}=f,q=c._loop?"angle":f.axis;y.save(),"x"===q&&b!==m&&(ze(y,h,C.top),et(y,{line:c,target:h,color:m,scale:x,property:q,clip:L}),y.restore(),y.save(),ze(y,h,C.bottom)),et(y,{line:c,target:h,color:b,scale:x,property:q,clip:L}),y.restore()}(y,{line:C,target:h,above:Be,below:We,area:c,scale:x,axis:L,clip:Tt}),(0,l.$)(y))}function ze(y,f,c){const{segments:h,points:m}=f;let b=!0,C=!1;y.beginPath();for(const x of h){const{start:L,end:q}=x,pe=m[L],be=m[Hs(L,q,m)];b?(y.moveTo(pe.x,pe.y),b=!1):(y.lineTo(pe.x,c),y.lineTo(pe.x,pe.y)),C=!!f.pathSegment(y,x,{move:C}),C?y.closePath():y.lineTo(be.x,c)}y.lineTo(f.first().x,c),y.closePath(),y.clip()}function et(y,f){const{line:c,target:h,property:m,color:b,scale:C,clip:x}=f,L=function Oa(y,f,c){const h=y.segments,m=y.points,b=f.points,C=[];for(const x of h){let{start:L,end:q}=x;q=Hs(L,q,m);const pe=Jo(c,m[L],m[q],x.loop);if(!f.segments){C.push({source:x,target:pe,start:m[L],end:m[q]});continue}const be=(0,l.ao)(f,pe);for(const Be of be){const We=Jo(c,b[Be.start],b[Be.end],Be.loop),gt=(0,l.ay)(x,m,We);for(const Tt of gt)C.push({source:Tt,target:Be,start:{[c]:ea(pe,We,"start",Math.max)},end:{[c]:ea(pe,We,"end",Math.min)}})}}return C}(c,h,m);for(const{source:q,target:pe,start:be,end:Be}of L){const{style:{backgroundColor:We=b}={}}=q,gt=!0!==h;y.save(),y.fillStyle=We,pt(y,C,x,gt&&Jo(m,be,Be)),y.beginPath();const Tt=!!c.pathSegment(y,q);let Zt;if(gt){Tt?y.closePath():T(y,h,Be,m);const bn=!!h.pathSegment(y,pe,{move:Tt,reverse:!0});Zt=Tt&&bn,Zt||T(y,h,be,m)}y.closePath(),y.fill(Zt?"evenodd":"nonzero"),y.restore()}}function pt(y,f,c,h){const m=f.chart.chartArea,{property:b,start:C,end:x}=h||{};if("x"===b||"y"===b){let L,q,pe,be;"x"===b?(L=C,q=m.top,pe=x,be=m.bottom):(L=m.left,q=C,pe=m.right,be=x),y.beginPath(),c&&(L=Math.max(L,c.left),pe=Math.min(pe,c.right),q=Math.max(q,c.top),be=Math.min(be,c.bottom)),y.rect(L,q,pe-L,be-q),y.clip()}}function T(y,f,c,h){const m=f.interpolate(c,h);m&&y.lineTo(m.x,m.y)}var re={id:"filler",afterDatasetsUpdate(y,f,c){const h=(y.data.datasets||[]).length,m=[];let b,C,x,L;for(C=0;C<h;++C)b=y.getDatasetMeta(C),x=b.dataset,L=null,x&&x.options&&x instanceof Ms&&(L={visible:y.isDatasetVisible(C),index:C,fill:uo(x,C,h),chart:y,axis:b.controller.options.indexAxis,scale:b.vScale,line:x}),b.$filler=L,m.push(L);for(C=0;C<h;++C)L=m[C],L&&!1!==L.fill&&(L.fill=va(m,C,c.propagate))},beforeDraw(y,f,c){const h="beforeDraw"===c.drawTime,m=y.getSortedVisibleDatasetMetas(),b=y.chartArea;for(let C=m.length-1;C>=0;--C){const x=m[C].$filler;x&&(x.line.updateControlPoints(b,x.axis),h&&x.fill&&ge(y.ctx,x,b))}},beforeDatasetsDraw(y,f,c){if("beforeDatasetsDraw"!==c.drawTime)return;const h=y.getSortedVisibleDatasetMetas();for(let m=h.length-1;m>=0;--m){const b=h[m].$filler;Ns(b)&&ge(y.ctx,b,y.chartArea)}},beforeDatasetDraw(y,f,c){const h=f.meta.$filler;!Ns(h)||"beforeDatasetDraw"!==c.drawTime||ge(y.ctx,h,y.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const z=(y,f)=>{let{boxHeight:c=f,boxWidth:h=f}=y;return y.usePointStyle&&(c=Math.min(c,f),h=y.pointStyleWidth||Math.min(h,f)),{boxWidth:h,boxHeight:c,itemHeight:Math.max(f,c)}};class Ve extends Fi{constructor(f){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=f.chart,this.options=f.options,this.ctx=f.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(f,c,h){this.maxWidth=f,this.maxHeight=c,this._margins=h,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const f=this.options.labels||{};let c=(0,l.Q)(f.generateLabels,[this.chart],this)||[];f.filter&&(c=c.filter(h=>f.filter(h,this.chart.data))),f.sort&&(c=c.sort((h,m)=>f.sort(h,m,this.chart.data))),this.options.reverse&&c.reverse(),this.legendItems=c}fit(){const{options:f,ctx:c}=this;if(!f.display)return void(this.width=this.height=0);const h=f.labels,m=(0,l.a0)(h.font),b=m.size,C=this._computeTitleHeight(),{boxWidth:x,itemHeight:L}=z(h,b);let q,pe;c.font=m.string,this.isHorizontal()?(q=this.maxWidth,pe=this._fitRows(C,b,x,L)+10):(pe=this.maxHeight,q=this._fitCols(C,m,x,L)+10),this.width=Math.min(q,f.maxWidth||this.maxWidth),this.height=Math.min(pe,f.maxHeight||this.maxHeight)}_fitRows(f,c,h,m){const{ctx:b,maxWidth:C,options:{labels:{padding:x}}}=this,L=this.legendHitBoxes=[],q=this.lineWidths=[0],pe=m+x;let be=f;b.textAlign="left",b.textBaseline="middle";let Be=-1,We=-pe;return this.legendItems.forEach((gt,Tt)=>{const Zt=h+c/2+b.measureText(gt.text).width;(0===Tt||q[q.length-1]+Zt+2*x>C)&&(be+=pe,q[q.length-(Tt>0?0:1)]=0,We+=pe,Be++),L[Tt]={left:0,top:We,row:Be,width:Zt,height:m},q[q.length-1]+=Zt+x}),be}_fitCols(f,c,h,m){const{ctx:b,maxHeight:C,options:{labels:{padding:x}}}=this,L=this.legendHitBoxes=[],q=this.columnSizes=[],pe=C-f;let be=x,Be=0,We=0,gt=0,Tt=0;return this.legendItems.forEach((Zt,bn)=>{const{itemWidth:pn,itemHeight:Un}=function kt(y,f,c,h,m){const b=function sn(y,f,c,h){let m=y.text;return m&&"string"!=typeof m&&(m=m.reduce((b,C)=>b.length>C.length?b:C)),f+c.size/2+h.measureText(m).width}(h,y,f,c),C=function vn(y,f,c){let h=y;return"string"!=typeof f.text&&(h=kn(f,c)),h}(m,h,f.lineHeight);return{itemWidth:b,itemHeight:C}}(h,c,b,Zt,m);bn>0&&We+Un+2*x>pe&&(be+=Be+x,q.push({width:Be,height:We}),gt+=Be+x,Tt++,Be=We=0),L[bn]={left:gt,top:We,col:Tt,width:pn,height:Un},Be=Math.max(Be,pn),We+=Un+x}),be+=Be,q.push({width:Be,height:We}),be}adjustHitBoxes(){if(!this.options.display)return;const f=this._computeTitleHeight(),{legendHitBoxes:c,options:{align:h,labels:{padding:m},rtl:b}}=this,C=(0,l.aA)(b,this.left,this.width);if(this.isHorizontal()){let x=0,L=(0,l.a2)(h,this.left+m,this.right-this.lineWidths[x]);for(const q of c)x!==q.row&&(x=q.row,L=(0,l.a2)(h,this.left+m,this.right-this.lineWidths[x])),q.top+=this.top+f+m,q.left=C.leftForLtr(C.x(L),q.width),L+=q.width+m}else{let x=0,L=(0,l.a2)(h,this.top+f+m,this.bottom-this.columnSizes[x].height);for(const q of c)q.col!==x&&(x=q.col,L=(0,l.a2)(h,this.top+f+m,this.bottom-this.columnSizes[x].height)),q.top=L,q.left+=this.left+m,q.left=C.leftForLtr(C.x(q.left),q.width),L+=q.height+m}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const f=this.ctx;(0,l.Y)(f,this),this._draw(),(0,l.$)(f)}}_draw(){const{options:f,columnSizes:c,lineWidths:h,ctx:m}=this,{align:b,labels:C}=f,x=l.d.color,L=(0,l.aA)(f.rtl,this.left,this.width),q=(0,l.a0)(C.font),{padding:pe}=C,be=q.size,Be=be/2;let We;this.drawTitle(),m.textAlign=L.textAlign("left"),m.textBaseline="middle",m.lineWidth=.5,m.font=q.string;const{boxWidth:gt,boxHeight:Tt,itemHeight:Zt}=z(C,be),Un=this.isHorizontal(),Xn=this._computeTitleHeight();We=Un?{x:(0,l.a2)(b,this.left+pe,this.right-h[0]),y:this.top+pe+Xn,line:0}:{x:this.left+pe,y:(0,l.a2)(b,this.top+Xn+pe,this.bottom-c[0].height),line:0},(0,l.aB)(this.ctx,f.textDirection);const An=Zt+pe;this.legendItems.forEach((Gn,Ai)=>{m.strokeStyle=Gn.fontColor,m.fillStyle=Gn.fontColor;const ui=m.measureText(Gn.text).width,$i=L.textAlign(Gn.textAlign||(Gn.textAlign=C.textAlign)),Qr=gt+Be+ui;let os=We.x,sr=We.y;L.setWidth(this.width),Un?Ai>0&&os+Qr+pe>this.right&&(sr=We.y+=An,We.line++,os=We.x=(0,l.a2)(b,this.left+pe,this.right-h[We.line])):Ai>0&&sr+An>this.bottom&&(os=We.x=os+c[We.line].width+pe,We.line++,sr=We.y=(0,l.a2)(b,this.top+Xn+pe,this.bottom-c[We.line].height)),function(Gn,Ai,ui){if(isNaN(gt)||gt<=0||isNaN(Tt)||Tt<0)return;m.save();const $i=(0,l.v)(ui.lineWidth,1);if(m.fillStyle=(0,l.v)(ui.fillStyle,x),m.lineCap=(0,l.v)(ui.lineCap,"butt"),m.lineDashOffset=(0,l.v)(ui.lineDashOffset,0),m.lineJoin=(0,l.v)(ui.lineJoin,"miter"),m.lineWidth=$i,m.strokeStyle=(0,l.v)(ui.strokeStyle,x),m.setLineDash((0,l.v)(ui.lineDash,[])),C.usePointStyle){const Qr={radius:Tt*Math.SQRT2/2,pointStyle:ui.pointStyle,rotation:ui.rotation,borderWidth:$i},os=L.xPlus(Gn,gt/2);(0,l.aE)(m,Qr,os,Ai+Be,C.pointStyleWidth&&gt)}else{const Qr=Ai+Math.max((be-Tt)/2,0),os=L.leftForLtr(Gn,gt),sr=(0,l.ax)(ui.borderRadius);m.beginPath(),Object.values(sr).some(Pa=>0!==Pa)?(0,l.av)(m,{x:os,y:Qr,w:gt,h:Tt,radius:sr}):m.rect(os,Qr,gt,Tt),m.fill(),0!==$i&&m.stroke()}m.restore()}(L.x(os),sr,Gn),os=(0,l.aC)($i,os+gt+Be,Un?os+Qr:this.right,f.rtl),function(Gn,Ai,ui){(0,l.Z)(m,ui.text,Gn,Ai+Zt/2,q,{strikethrough:ui.hidden,textAlign:L.textAlign(ui.textAlign)})}(L.x(os),sr,Gn),Un?We.x+=Qr+pe:We.y+="string"!=typeof Gn.text?kn(Gn,q.lineHeight)+pe:An}),(0,l.aD)(this.ctx,f.textDirection)}drawTitle(){const f=this.options,c=f.title,h=(0,l.a0)(c.font),m=(0,l.E)(c.padding);if(!c.display)return;const b=(0,l.aA)(f.rtl,this.left,this.width),C=this.ctx,x=c.position,q=m.top+h.size/2;let pe,be=this.left,Be=this.width;if(this.isHorizontal())Be=Math.max(...this.lineWidths),pe=this.top+q,be=(0,l.a2)(f.align,be,this.right-Be);else{const gt=this.columnSizes.reduce((Tt,Zt)=>Math.max(Tt,Zt.height),0);pe=q+(0,l.a2)(f.align,this.top,this.bottom-gt-f.labels.padding-this._computeTitleHeight())}const We=(0,l.a2)(x,be,be+Be);C.textAlign=b.textAlign((0,l.a1)(x)),C.textBaseline="middle",C.strokeStyle=c.color,C.fillStyle=c.color,C.font=h.string,(0,l.Z)(C,c.text,We,pe,h)}_computeTitleHeight(){const f=this.options.title,c=(0,l.a0)(f.font),h=(0,l.E)(f.padding);return f.display?c.lineHeight+h.height:0}_getLegendItemAt(f,c){let h,m,b;if((0,l.ak)(f,this.left,this.right)&&(0,l.ak)(c,this.top,this.bottom))for(b=this.legendHitBoxes,h=0;h<b.length;++h)if(m=b[h],(0,l.ak)(f,m.left,m.left+m.width)&&(0,l.ak)(c,m.top,m.top+m.height))return this.legendItems[h];return null}handleEvent(f){const c=this.options;if(!function gr(y,f){return!(("mousemove"!==y&&"mouseout"!==y||!f.onHover&&!f.onLeave)&&(!f.onClick||"click"!==y&&"mouseup"!==y))}(f.type,c))return;const h=this._getLegendItemAt(f.x,f.y);if("mousemove"===f.type||"mouseout"===f.type){const m=this._hoveredItem,b=((y,f)=>null!==y&&null!==f&&y.datasetIndex===f.datasetIndex&&y.index===f.index)(m,h);m&&!b&&(0,l.Q)(c.onLeave,[f,m,this],this),this._hoveredItem=h,h&&!b&&(0,l.Q)(c.onHover,[f,h,this],this)}else h&&(0,l.Q)(c.onClick,[f,h,this],this)}}function kn(y,f){return f*(y.text?y.text.length:0)}var Dr={id:"legend",_element:Ve,start(y,f,c){const h=y.legend=new Ve({ctx:y.ctx,options:c,chart:y});Xe.configure(y,h,c),Xe.addBox(y,h)},stop(y){Xe.removeBox(y,y.legend),delete y.legend},beforeUpdate(y,f,c){const h=y.legend;Xe.configure(y,h,c),h.options=c},afterUpdate(y){const f=y.legend;f.buildLabels(),f.adjustHitBoxes()},afterEvent(y,f){f.replay||y.legend.handleEvent(f.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(y,f,c){const h=f.datasetIndex,m=c.chart;m.isDatasetVisible(h)?(m.hide(h),f.hidden=!0):(m.show(h),f.hidden=!1)},onHover:null,onLeave:null,labels:{color:y=>y.chart.options.color,boxWidth:40,padding:10,generateLabels(y){const f=y.data.datasets,{labels:{usePointStyle:c,pointStyle:h,textAlign:m,color:b,useBorderRadius:C,borderRadius:x}}=y.legend.options;return y._getSortedDatasetMetas().map(L=>{const q=L.controller.getStyle(c?0:void 0),pe=(0,l.E)(q.borderWidth);return{text:f[L.index].label,fillStyle:q.backgroundColor,fontColor:b,hidden:!L.visible,lineCap:q.borderCapStyle,lineDash:q.borderDash,lineDashOffset:q.borderDashOffset,lineJoin:q.borderJoinStyle,lineWidth:(pe.width+pe.height)/4,strokeStyle:q.borderColor,pointStyle:h||q.pointStyle,rotation:q.rotation,textAlign:m||q.textAlign,borderRadius:C&&(x||q.borderRadius),datasetIndex:L.index}},this)}},title:{color:y=>y.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:y=>!y.startsWith("on"),labels:{_scriptable:y=>!["generateLabels","filter","sort"].includes(y)}}};class Ki extends Fi{constructor(f){super(),this.chart=f.chart,this.options=f.options,this.ctx=f.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(f,c){const h=this.options;if(this.left=0,this.top=0,!h.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=f,this.height=this.bottom=c;const m=(0,l.b)(h.text)?h.text.length:1;this._padding=(0,l.E)(h.padding);const b=m*(0,l.a0)(h.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=b:this.width=b}isHorizontal(){const f=this.options.position;return"top"===f||"bottom"===f}_drawArgs(f){const{top:c,left:h,bottom:m,right:b,options:C}=this,x=C.align;let q,pe,be,L=0;return this.isHorizontal()?(pe=(0,l.a2)(x,h,b),be=c+f,q=b-h):("left"===C.position?(pe=h+f,be=(0,l.a2)(x,m,c),L=-.5*l.P):(pe=b-f,be=(0,l.a2)(x,c,m),L=.5*l.P),q=m-c),{titleX:pe,titleY:be,maxWidth:q,rotation:L}}draw(){const f=this.ctx,c=this.options;if(!c.display)return;const h=(0,l.a0)(c.font),b=h.lineHeight/2+this._padding.top,{titleX:C,titleY:x,maxWidth:L,rotation:q}=this._drawArgs(b);(0,l.Z)(f,c.text,0,0,h,{color:c.color,maxWidth:L,rotation:q,textAlign:(0,l.a1)(c.align),textBaseline:"middle",translation:[C,x]})}}var _s={id:"title",_element:Ki,start(y,f,c){!function Os(y,f){const c=new Ki({ctx:y.ctx,options:f,chart:y});Xe.configure(y,c,f),Xe.addBox(y,c),y.titleBlock=c}(y,c)},stop(y){Xe.removeBox(y,y.titleBlock),delete y.titleBlock},beforeUpdate(y,f,c){const h=y.titleBlock;Xe.configure(y,h,c),h.options=c},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const zs=new WeakMap;var ho={id:"subtitle",start(y,f,c){const h=new Ki({ctx:y.ctx,options:c,chart:y});Xe.configure(y,h,c),Xe.addBox(y,h),zs.set(y,h)},stop(y){Xe.removeBox(y,zs.get(y)),zs.delete(y)},beforeUpdate(y,f,c){const h=zs.get(y);Xe.configure(y,h,c),h.options=c},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const io={average(y){if(!y.length)return!1;let f,c,h=new Set,m=0,b=0;for(f=0,c=y.length;f<c;++f){const x=y[f].element;if(x&&x.hasValue()){const L=x.tooltipPosition();h.add(L.x),m+=L.y,++b}}return 0!==b&&0!==h.size&&{x:[...h].reduce((x,L)=>x+L)/h.size,y:m/b}},nearest(y,f){if(!y.length)return!1;let b,C,x,c=f.x,h=f.y,m=Number.POSITIVE_INFINITY;for(b=0,C=y.length;b<C;++b){const L=y[b].element;if(L&&L.hasValue()){const q=L.getCenterPoint(),pe=(0,l.aF)(f,q);pe<m&&(m=pe,x=L)}}if(x){const L=x.tooltipPosition();c=L.x,h=L.y}return{x:c,y:h}}};function yr(y,f){return f&&((0,l.b)(f)?Array.prototype.push.apply(y,f):y.push(f)),y}function $r(y){return("string"==typeof y||y instanceof String)&&y.indexOf("\n")>-1?y.split("\n"):y}function Js(y,f){const{element:c,datasetIndex:h,index:m}=f,b=y.getDatasetMeta(h).controller,{label:C,value:x}=b.getLabelAndValue(m);return{chart:y,label:C,parsed:b.getParsed(m),raw:y.data.datasets[h].data[m],formattedValue:x,dataset:b.getDataset(),dataIndex:m,datasetIndex:h,element:c}}function ro(y,f){const c=y.chart.ctx,{body:h,footer:m,title:b}=y,{boxWidth:C,boxHeight:x}=f,L=(0,l.a0)(f.bodyFont),q=(0,l.a0)(f.titleFont),pe=(0,l.a0)(f.footerFont),be=b.length,Be=m.length,We=h.length,gt=(0,l.E)(f.padding);let Tt=gt.height,Zt=0,bn=h.reduce((Xn,An)=>Xn+An.before.length+An.lines.length+An.after.length,0);bn+=y.beforeBody.length+y.afterBody.length,be&&(Tt+=be*q.lineHeight+(be-1)*f.titleSpacing+f.titleMarginBottom),bn&&(Tt+=We*(f.displayColors?Math.max(x,L.lineHeight):L.lineHeight)+(bn-We)*L.lineHeight+(bn-1)*f.bodySpacing),Be&&(Tt+=f.footerMarginTop+Be*pe.lineHeight+(Be-1)*f.footerSpacing);let pn=0;const Un=function(Xn){Zt=Math.max(Zt,c.measureText(Xn).width+pn)};return c.save(),c.font=q.string,(0,l.F)(y.title,Un),c.font=L.string,(0,l.F)(y.beforeBody.concat(y.afterBody),Un),pn=f.displayColors?C+2+f.boxPadding:0,(0,l.F)(h,Xn=>{(0,l.F)(Xn.before,Un),(0,l.F)(Xn.lines,Un),(0,l.F)(Xn.after,Un)}),pn=0,c.font=pe.string,(0,l.F)(y.footer,Un),c.restore(),Zt+=gt.width,{width:Zt,height:Tt}}function Ui(y,f,c,h){const{x:m,width:b}=c,{width:C,chartArea:{left:x,right:L}}=y;let q="center";return"center"===h?q=m<=(x+L)/2?"left":"right":m<=b/2?q="left":m>=C-b/2&&(q="right"),function On(y,f,c,h){const{x:m,width:b}=h,C=c.caretSize+c.caretPadding;if("left"===y&&m+b+C>f.width||"right"===y&&m-b-C<0)return!0}(q,y,f,c)&&(q="center"),q}function qo(y,f,c){const h=c.yAlign||f.yAlign||function Ea(y,f){const{y:c,height:h}=f;return c<h/2?"top":c>y.height-h/2?"bottom":"center"}(y,c);return{xAlign:c.xAlign||f.xAlign||Ui(y,f,c,h),yAlign:h}}function Ti(y,f,c,h){const{caretSize:m,caretPadding:b,cornerRadius:C}=y,{xAlign:x,yAlign:L}=c,q=m+b,{topLeft:pe,topRight:be,bottomLeft:Be,bottomRight:We}=(0,l.ax)(C);let gt=function Ta(y,f){let{x:c,width:h}=y;return"right"===f?c-=h:"center"===f&&(c-=h/2),c}(f,x);const Tt=function Wn(y,f,c){let{y:h,height:m}=y;return"top"===f?h+=c:h-="bottom"===f?m+c:m/2,h}(f,L,q);return"center"===L?"left"===x?gt+=q:"right"===x&&(gt-=q):"left"===x?gt-=Math.max(pe,Be)+m:"right"===x&&(gt+=Math.max(be,We)+m),{x:(0,l.S)(gt,0,h.width-f.width),y:(0,l.S)(Tt,0,h.height-f.height)}}function Ya(y,f,c){const h=(0,l.E)(c.padding);return"center"===f?y.x+y.width/2:"right"===f?y.x+y.width-h.right:y.x+h.left}function Vn(y){return yr([],$r(y))}function te(y,f){const c=f&&f.dataset&&f.dataset.tooltip&&f.dataset.tooltip.callbacks;return c?y.override(c):y}const D={beforeTitle:l.aG,title(y){if(y.length>0){const f=y[0],c=f.chart.data.labels,h=c?c.length:0;if(this&&this.options&&"dataset"===this.options.mode)return f.dataset.label||"";if(f.label)return f.label;if(h>0&&f.dataIndex<h)return c[f.dataIndex]}return""},afterTitle:l.aG,beforeBody:l.aG,beforeLabel:l.aG,label(y){if(this&&this.options&&"dataset"===this.options.mode)return y.label+": "+y.formattedValue||y.formattedValue;let f=y.dataset.label||"";f&&(f+=": ");const c=y.formattedValue;return(0,l.k)(c)||(f+=c),f},labelColor(y){const c=y.chart.getDatasetMeta(y.datasetIndex).controller.getStyle(y.dataIndex);return{borderColor:c.borderColor,backgroundColor:c.backgroundColor,borderWidth:c.borderWidth,borderDash:c.borderDash,borderDashOffset:c.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(y){const c=y.chart.getDatasetMeta(y.datasetIndex).controller.getStyle(y.dataIndex);return{pointStyle:c.pointStyle,rotation:c.rotation}},afterLabel:l.aG,afterBody:l.aG,beforeFooter:l.aG,footer:l.aG,afterFooter:l.aG};function M(y,f,c,h){const m=y[f].call(c,h);return typeof m>"u"?D[f].call(c,h):m}let Y=(()=>class y extends Fi{static positioners=io;constructor(c){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=c.chart,this.options=c.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(c){this.options=c,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const c=this._cachedAnimations;if(c)return c;const h=this.chart,m=this.options.setContext(this.getContext()),b=m.enabled&&h.options.animation&&m.animations,C=new xe(this.chart,b);return b._cacheable&&(this._cachedAnimations=Object.freeze(C)),C}getContext(){return this.$context||(this.$context=function Wt(y,f,c){return(0,l.j)(y,{tooltip:f,tooltipItems:c,type:"tooltip"})}(this.chart.getContext(),this,this._tooltipItems))}getTitle(c,h){const{callbacks:m}=h,b=M(m,"beforeTitle",this,c),C=M(m,"title",this,c),x=M(m,"afterTitle",this,c);let L=[];return L=yr(L,$r(b)),L=yr(L,$r(C)),L=yr(L,$r(x)),L}getBeforeBody(c,h){return Vn(M(h.callbacks,"beforeBody",this,c))}getBody(c,h){const{callbacks:m}=h,b=[];return(0,l.F)(c,C=>{const x={before:[],lines:[],after:[]},L=te(m,C);yr(x.before,$r(M(L,"beforeLabel",this,C))),yr(x.lines,M(L,"label",this,C)),yr(x.after,$r(M(L,"afterLabel",this,C))),b.push(x)}),b}getAfterBody(c,h){return Vn(M(h.callbacks,"afterBody",this,c))}getFooter(c,h){const{callbacks:m}=h,b=M(m,"beforeFooter",this,c),C=M(m,"footer",this,c),x=M(m,"afterFooter",this,c);let L=[];return L=yr(L,$r(b)),L=yr(L,$r(C)),L=yr(L,$r(x)),L}_createItems(c){const h=this._active,m=this.chart.data,b=[],C=[],x=[];let q,pe,L=[];for(q=0,pe=h.length;q<pe;++q)L.push(Js(this.chart,h[q]));return c.filter&&(L=L.filter((be,Be,We)=>c.filter(be,Be,We,m))),c.itemSort&&(L=L.sort((be,Be)=>c.itemSort(be,Be,m))),(0,l.F)(L,be=>{const Be=te(c.callbacks,be);b.push(M(Be,"labelColor",this,be)),C.push(M(Be,"labelPointStyle",this,be)),x.push(M(Be,"labelTextColor",this,be))}),this.labelColors=b,this.labelPointStyles=C,this.labelTextColors=x,this.dataPoints=L,L}update(c,h){const m=this.options.setContext(this.getContext()),b=this._active;let C,x=[];if(b.length){const L=io[m.position].call(this,b,this._eventPosition);x=this._createItems(m),this.title=this.getTitle(x,m),this.beforeBody=this.getBeforeBody(x,m),this.body=this.getBody(x,m),this.afterBody=this.getAfterBody(x,m),this.footer=this.getFooter(x,m);const q=this._size=ro(this,m),pe=Object.assign({},L,q),be=qo(this.chart,m,pe),Be=Ti(m,pe,be,this.chart);this.xAlign=be.xAlign,this.yAlign=be.yAlign,C={opacity:1,x:Be.x,y:Be.y,width:q.width,height:q.height,caretX:L.x,caretY:L.y}}else 0!==this.opacity&&(C={opacity:0});this._tooltipItems=x,this.$context=void 0,C&&this._resolveAnimations().update(this,C),c&&m.external&&m.external.call(this,{chart:this.chart,tooltip:this,replay:h})}drawCaret(c,h,m,b){const C=this.getCaretPosition(c,m,b);h.lineTo(C.x1,C.y1),h.lineTo(C.x2,C.y2),h.lineTo(C.x3,C.y3)}getCaretPosition(c,h,m){const{xAlign:b,yAlign:C}=this,{caretSize:x,cornerRadius:L}=m,{topLeft:q,topRight:pe,bottomLeft:be,bottomRight:Be}=(0,l.ax)(L),{x:We,y:gt}=c,{width:Tt,height:Zt}=h;let bn,pn,Un,Xn,An,Gn;return"center"===C?(An=gt+Zt/2,"left"===b?(bn=We,pn=bn-x,Xn=An+x,Gn=An-x):(bn=We+Tt,pn=bn+x,Xn=An-x,Gn=An+x),Un=bn):(pn="left"===b?We+Math.max(q,be)+x:"right"===b?We+Tt-Math.max(pe,Be)-x:this.caretX,"top"===C?(Xn=gt,An=Xn-x,bn=pn-x,Un=pn+x):(Xn=gt+Zt,An=Xn+x,bn=pn+x,Un=pn-x),Gn=Xn),{x1:bn,x2:pn,x3:Un,y1:Xn,y2:An,y3:Gn}}drawTitle(c,h,m){const b=this.title,C=b.length;let x,L,q;if(C){const pe=(0,l.aA)(m.rtl,this.x,this.width);for(c.x=Ya(this,m.titleAlign,m),h.textAlign=pe.textAlign(m.titleAlign),h.textBaseline="middle",x=(0,l.a0)(m.titleFont),L=m.titleSpacing,h.fillStyle=m.titleColor,h.font=x.string,q=0;q<C;++q)h.fillText(b[q],pe.x(c.x),c.y+x.lineHeight/2),c.y+=x.lineHeight+L,q+1===C&&(c.y+=m.titleMarginBottom-L)}}_drawColorBox(c,h,m,b,C){const x=this.labelColors[m],L=this.labelPointStyles[m],{boxHeight:q,boxWidth:pe}=C,be=(0,l.a0)(C.bodyFont),Be=Ya(this,"left",C),We=b.x(Be),Tt=h.y+(q<be.lineHeight?(be.lineHeight-q)/2:0);if(C.usePointStyle){const Zt={radius:Math.min(pe,q)/2,pointStyle:L.pointStyle,rotation:L.rotation,borderWidth:1},bn=b.leftForLtr(We,pe)+pe/2,pn=Tt+q/2;c.strokeStyle=C.multiKeyBackground,c.fillStyle=C.multiKeyBackground,(0,l.au)(c,Zt,bn,pn),c.strokeStyle=x.borderColor,c.fillStyle=x.backgroundColor,(0,l.au)(c,Zt,bn,pn)}else{c.lineWidth=(0,l.i)(x.borderWidth)?Math.max(...Object.values(x.borderWidth)):x.borderWidth||1,c.strokeStyle=x.borderColor,c.setLineDash(x.borderDash||[]),c.lineDashOffset=x.borderDashOffset||0;const Zt=b.leftForLtr(We,pe),bn=b.leftForLtr(b.xPlus(We,1),pe-2),pn=(0,l.ax)(x.borderRadius);Object.values(pn).some(Un=>0!==Un)?(c.beginPath(),c.fillStyle=C.multiKeyBackground,(0,l.av)(c,{x:Zt,y:Tt,w:pe,h:q,radius:pn}),c.fill(),c.stroke(),c.fillStyle=x.backgroundColor,c.beginPath(),(0,l.av)(c,{x:bn,y:Tt+1,w:pe-2,h:q-2,radius:pn}),c.fill()):(c.fillStyle=C.multiKeyBackground,c.fillRect(Zt,Tt,pe,q),c.strokeRect(Zt,Tt,pe,q),c.fillStyle=x.backgroundColor,c.fillRect(bn,Tt+1,pe-2,q-2))}c.fillStyle=this.labelTextColors[m]}drawBody(c,h,m){const{body:b}=this,{bodySpacing:C,bodyAlign:x,displayColors:L,boxHeight:q,boxWidth:pe,boxPadding:be}=m,Be=(0,l.a0)(m.bodyFont);let We=Be.lineHeight,gt=0;const Tt=(0,l.aA)(m.rtl,this.x,this.width),Zt=function($i){h.fillText($i,Tt.x(c.x+gt),c.y+We/2),c.y+=We+C},bn=Tt.textAlign(x);let pn,Un,Xn,An,Gn,Ai,ui;for(h.textAlign=x,h.textBaseline="middle",h.font=Be.string,c.x=Ya(this,bn,m),h.fillStyle=m.bodyColor,(0,l.F)(this.beforeBody,Zt),gt=L&&"right"!==bn?"center"===x?pe/2+be:pe+2+be:0,An=0,Ai=b.length;An<Ai;++An){for(pn=b[An],Un=this.labelTextColors[An],h.fillStyle=Un,(0,l.F)(pn.before,Zt),Xn=pn.lines,L&&Xn.length&&(this._drawColorBox(h,c,An,Tt,m),We=Math.max(Be.lineHeight,q)),Gn=0,ui=Xn.length;Gn<ui;++Gn)Zt(Xn[Gn]),We=Be.lineHeight;(0,l.F)(pn.after,Zt)}gt=0,We=Be.lineHeight,(0,l.F)(this.afterBody,Zt),c.y-=C}drawFooter(c,h,m){const b=this.footer,C=b.length;let x,L;if(C){const q=(0,l.aA)(m.rtl,this.x,this.width);for(c.x=Ya(this,m.footerAlign,m),c.y+=m.footerMarginTop,h.textAlign=q.textAlign(m.footerAlign),h.textBaseline="middle",x=(0,l.a0)(m.footerFont),h.fillStyle=m.footerColor,h.font=x.string,L=0;L<C;++L)h.fillText(b[L],q.x(c.x),c.y+x.lineHeight/2),c.y+=x.lineHeight+m.footerSpacing}}drawBackground(c,h,m,b){const{xAlign:C,yAlign:x}=this,{x:L,y:q}=c,{width:pe,height:be}=m,{topLeft:Be,topRight:We,bottomLeft:gt,bottomRight:Tt}=(0,l.ax)(b.cornerRadius);h.fillStyle=b.backgroundColor,h.strokeStyle=b.borderColor,h.lineWidth=b.borderWidth,h.beginPath(),h.moveTo(L+Be,q),"top"===x&&this.drawCaret(c,h,m,b),h.lineTo(L+pe-We,q),h.quadraticCurveTo(L+pe,q,L+pe,q+We),"center"===x&&"right"===C&&this.drawCaret(c,h,m,b),h.lineTo(L+pe,q+be-Tt),h.quadraticCurveTo(L+pe,q+be,L+pe-Tt,q+be),"bottom"===x&&this.drawCaret(c,h,m,b),h.lineTo(L+gt,q+be),h.quadraticCurveTo(L,q+be,L,q+be-gt),"center"===x&&"left"===C&&this.drawCaret(c,h,m,b),h.lineTo(L,q+Be),h.quadraticCurveTo(L,q,L+Be,q),h.closePath(),h.fill(),b.borderWidth>0&&h.stroke()}_updateAnimationTarget(c){const h=this.chart,m=this.$animations,b=m&&m.x,C=m&&m.y;if(b||C){const x=io[c.position].call(this,this._active,this._eventPosition);if(!x)return;const L=this._size=ro(this,c),q=Object.assign({},x,this._size),pe=qo(h,c,q),be=Ti(c,q,pe,h);(b._to!==be.x||C._to!==be.y)&&(this.xAlign=pe.xAlign,this.yAlign=pe.yAlign,this.width=L.width,this.height=L.height,this.caretX=x.x,this.caretY=x.y,this._resolveAnimations().update(this,be))}}_willRender(){return!!this.opacity}draw(c){const h=this.options.setContext(this.getContext());let m=this.opacity;if(!m)return;this._updateAnimationTarget(h);const b={width:this.width,height:this.height},C={x:this.x,y:this.y};m=Math.abs(m)<.001?0:m;const x=(0,l.E)(h.padding);h.enabled&&(this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length)&&(c.save(),c.globalAlpha=m,this.drawBackground(C,c,b,h),(0,l.aB)(c,h.textDirection),C.y+=x.top,this.drawTitle(C,c,h),this.drawBody(C,c,h),this.drawFooter(C,c,h),(0,l.aD)(c,h.textDirection),c.restore())}getActiveElements(){return this._active||[]}setActiveElements(c,h){const m=this._active,b=c.map(({datasetIndex:L,index:q})=>{const pe=this.chart.getDatasetMeta(L);if(!pe)throw new Error("Cannot find a dataset at index "+L);return{datasetIndex:L,element:pe.data[q],index:q}}),C=!(0,l.ai)(m,b),x=this._positionChanged(b,h);(C||x)&&(this._active=b,this._eventPosition=h,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(c,h,m=!0){if(h&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const b=this.options,C=this._active||[],x=this._getActiveElements(c,C,h,m),L=this._positionChanged(x,c),q=h||!(0,l.ai)(x,C)||L;return q&&(this._active=x,(b.enabled||b.external)&&(this._eventPosition={x:c.x,y:c.y},this.update(!0,h))),q}_getActiveElements(c,h,m,b){const C=this.options;if("mouseout"===c.type)return[];if(!b)return h.filter(L=>this.chart.data.datasets[L.datasetIndex]&&void 0!==this.chart.getDatasetMeta(L.datasetIndex).controller.getParsed(L.index));const x=this.chart.getElementsAtEventForMode(c,C.mode,C,m);return C.reverse&&x.reverse(),x}_positionChanged(c,h){const{caretX:m,caretY:b,options:C}=this,x=io[C.position].call(this,c,h);return!1!==x&&(m!==x.x||b!==x.y)}})();var Fe=Object.freeze({__proto__:null,Colors:ao,Decimation:er,Filler:re,Legend:Dr,SubTitle:ho,Title:_s,Tooltip:{id:"tooltip",_element:Y,positioners:io,afterInit(y,f,c){c&&(y.tooltip=new Y({chart:y,options:c}))},beforeUpdate(y,f,c){y.tooltip&&y.tooltip.initialize(c)},reset(y,f,c){y.tooltip&&y.tooltip.initialize(c)},afterDraw(y){const f=y.tooltip;if(f&&f._willRender()){const c={tooltip:f};if(!1===y.notifyPlugins("beforeTooltipDraw",{...c,cancelable:!0}))return;f.draw(y.ctx),y.notifyPlugins("afterTooltipDraw",c)}},afterEvent(y,f){y.tooltip&&y.tooltip.handleEvent(f.event,f.replay,f.inChartArea)&&(f.changed=!0)},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(y,f)=>f.bodyFont.size,boxWidth:(y,f)=>f.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:D},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:y=>"filter"!==y&&"itemSort"!==y&&"external"!==y,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]}});function nn(y){const f=this.getLabels();return y>=0&&y<f.length?f[y]:y}let fn=(()=>class y extends pi{static id="category";static defaults={ticks:{callback:nn}};constructor(c){super(c),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(c){const h=this._addedLabels;if(h.length){const m=this.getLabels();for(const{index:b,label:C}of h)m[b]===C&&m.splice(b,1);this._addedLabels=[]}super.init(c)}parse(c,h){if((0,l.k)(c))return null;const m=this.getLabels();return((y,f)=>null===y?null:(0,l.S)(Math.round(y),0,f))(h=isFinite(h)&&m[h]===c?h:function dt(y,f,c,h){const m=y.indexOf(f);return-1===m?((y,f,c,h)=>("string"==typeof f?(c=y.push(f)-1,h.unshift({index:c,label:f})):isNaN(f)&&(c=null),c))(y,f,c,h):m!==y.lastIndexOf(f)?c:m}(m,c,(0,l.v)(h,c),this._addedLabels),m.length-1)}determineDataLimits(){const{minDefined:c,maxDefined:h}=this.getUserBounds();let{min:m,max:b}=this.getMinMax(!0);"ticks"===this.options.bounds&&(c||(m=0),h||(b=this.getLabels().length-1)),this.min=m,this.max=b}buildTicks(){const c=this.min,h=this.max,m=this.options.offset,b=[];let C=this.getLabels();C=0===c&&h===C.length-1?C:C.slice(c,h+1),this._valueRange=Math.max(C.length-(m?0:1),1),this._startValue=this.min-(m?.5:0);for(let x=c;x<=h;x++)b.push({value:x});return b}getLabelForValue(c){return nn.call(this,c)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(c){return"number"!=typeof c&&(c=this.parse(c)),null===c?NaN:this.getPixelForDecimal((c-this._startValue)/this._valueRange)}getPixelForTick(c){const h=this.ticks;return c<0||c>h.length-1?null:this.getPixelForValue(h[c].value)}getValueForPixel(c){return Math.round(this._startValue+this.getDecimalForPixel(c)*this._valueRange)}getBasePixel(){return this.bottom}})();function O(y,f,{horizontal:c,minRotation:h}){const m=(0,l.t)(h),b=(c?Math.sin(m):Math.cos(m))||.001;return Math.min(f/b,.75*f*(""+y).length)}class V extends pi{constructor(f){super(f),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(f,c){return(0,l.k)(f)||("number"==typeof f||f instanceof Number)&&!isFinite(+f)?null:+f}handleTickRangeOptions(){const{beginAtZero:f}=this.options,{minDefined:c,maxDefined:h}=this.getUserBounds();let{min:m,max:b}=this;const C=L=>m=c?m:L,x=L=>b=h?b:L;if(f){const L=(0,l.s)(m),q=(0,l.s)(b);L<0&&q<0?x(0):L>0&&q>0&&C(0)}if(m===b){let L=0===b?1:Math.abs(.05*b);x(b+L),f||C(m-L)}this.min=m,this.max=b}getTickLimit(){const f=this.options.ticks;let m,{maxTicksLimit:c,stepSize:h}=f;return h?(m=Math.ceil(this.max/h)-Math.floor(this.min/h)+1,m>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${h} would result generating up to ${m} ticks. Limiting to 1000.`),m=1e3)):(m=this.computeTickLimit(),c=c||11),c&&(m=Math.min(c,m)),m}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const f=this.options,c=f.ticks;let h=this.getTickLimit();h=Math.max(2,h);const C=function K(y,f){const c=[],{bounds:m,step:b,min:C,max:x,precision:L,count:q,maxTicks:pe,maxDigits:be,includeBounds:Be}=y,We=b||1,gt=pe-1,{min:Tt,max:Zt}=f,bn=!(0,l.k)(C),pn=!(0,l.k)(x),Un=!(0,l.k)(q),Xn=(Zt-Tt)/(be+1);let Gn,Ai,ui,$i,An=(0,l.aI)((Zt-Tt)/gt/We)*We;if(An<1e-14&&!bn&&!pn)return[{value:Tt},{value:Zt}];$i=Math.ceil(Zt/An)-Math.floor(Tt/An),$i>gt&&(An=(0,l.aI)($i*An/gt/We)*We),(0,l.k)(L)||(Gn=Math.pow(10,L),An=Math.ceil(An*Gn)/Gn),"ticks"===m?(Ai=Math.floor(Tt/An)*An,ui=Math.ceil(Zt/An)*An):(Ai=Tt,ui=Zt),bn&&pn&&b&&(0,l.aJ)((x-C)/b,An/1e3)?($i=Math.round(Math.min((x-C)/An,pe)),An=(x-C)/$i,Ai=C,ui=x):Un?(Ai=bn?C:Ai,ui=pn?x:ui,$i=q-1,An=(ui-Ai)/$i):($i=(ui-Ai)/An,$i=(0,l.aK)($i,Math.round($i),An/1e3)?Math.round($i):Math.ceil($i));const Qr=Math.max((0,l.aL)(An),(0,l.aL)(Ai));Gn=Math.pow(10,(0,l.k)(L)?Qr:L),Ai=Math.round(Ai*Gn)/Gn,ui=Math.round(ui*Gn)/Gn;let os=0;for(bn&&(Be&&Ai!==C?(c.push({value:C}),Ai<C&&os++,(0,l.aK)(Math.round((Ai+os*An)*Gn)/Gn,C,O(C,Xn,y))&&os++):Ai<C&&os++);os<$i;++os){const sr=Math.round((Ai+os*An)*Gn)/Gn;if(pn&&sr>x)break;c.push({value:sr})}return pn&&Be&&ui!==x?c.length&&(0,l.aK)(c[c.length-1].value,x,O(x,Xn,y))?c[c.length-1].value=x:c.push({value:x}):(!pn||ui===x)&&c.push({value:ui}),c}({maxTicks:h,bounds:f.bounds,min:f.min,max:f.max,precision:c.precision,step:c.stepSize,count:c.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:c.minRotation||0,includeBounds:!1!==c.includeBounds},this._range||this);return"ticks"===f.bounds&&(0,l.aH)(C,this,"value"),f.reverse?(C.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),C}configure(){const f=this.ticks;let c=this.min,h=this.max;if(super.configure(),this.options.offset&&f.length){const m=(h-c)/Math.max(f.length-1,1)/2;c-=m,h+=m}this._startValue=c,this._endValue=h,this._valueRange=h-c}getLabelForValue(f){return(0,l.o)(f,this.chart.options.locale,this.options.ticks.format)}}const je=y=>Math.floor((0,l.aN)(y)),Pt=(y,f)=>Math.pow(10,je(y)+f);function zt(y){return y/Math.pow(10,je(y))==1}function li(y,f,c){const h=Math.pow(10,c),m=Math.floor(y/h);return Math.ceil(f/h)-m}function wn(y){const f=y.ticks;if(f.display&&y.display){const c=(0,l.E)(f.backdropPadding);return(0,l.v)(f.font&&f.font.size,l.d.font.size)+c.height}return 0}function fe(y,f,c){return c=(0,l.b)(c)?c:[c],{w:(0,l.aO)(y,f.string,c),h:c.length*f.lineHeight}}function nt(y,f,c,h,m){return y===h||y===m?{start:f-c/2,end:f+c/2}:y<h||y>m?{start:f-c,end:f}:{start:f,end:f+c}}function Hn(y,f,c,h,m){const b=Math.abs(Math.sin(c)),C=Math.abs(Math.cos(c));let x=0,L=0;h.start<f.l?(x=(f.l-h.start)/b,y.l=Math.min(y.l,f.l-x)):h.end>f.r&&(x=(h.end-f.r)/b,y.r=Math.max(y.r,f.r+x)),m.start<f.t?(L=(f.t-m.start)/C,y.t=Math.min(y.t,f.t-L)):m.end>f.b&&(L=(m.end-f.b)/C,y.b=Math.max(y.b,f.b+L))}function Ln(y,f,c){const h=y.drawingArea,{extra:m,additionalAngle:b,padding:C,size:x}=c,L=y.getPointPosition(f,h+m+C,b),q=Math.round((0,l.U)((0,l.az)(L.angle+l.H))),pe=function $n(y,f,c){return 90===c||270===c?y-=f/2:(c>270||c<90)&&(y-=f),y}(L.y,x.h,q),be=function dr(y){return 0===y||180===y?"center":y<180?"left":"right"}(q),Be=function ys(y,f,c){return"right"===c?y-=f:"center"===c&&(y-=f/2),y}(L.x,x.w,be);return{visible:!0,x:L.x,y:pe,textAlign:be,left:Be,top:pe,right:Be+x.w,bottom:pe+x.h}}function xi(y,f){if(!f)return!0;const{left:c,top:h,right:m,bottom:b}=y;return!((0,l.C)({x:c,y:h},f)||(0,l.C)({x:c,y:b},f)||(0,l.C)({x:m,y:h},f)||(0,l.C)({x:m,y:b},f))}function mi(y,f,c){const{left:h,top:m,right:b,bottom:C}=c,{backdropColor:x}=f;if(!(0,l.k)(x)){const L=(0,l.ax)(f.borderRadius),q=(0,l.E)(f.backdropPadding);y.fillStyle=x;const pe=h-q.left,be=m-q.top,Be=b-h+q.width,We=C-m+q.height;Object.values(L).some(gt=>0!==gt)?(y.beginPath(),(0,l.av)(y,{x:pe,y:be,w:Be,h:We,radius:L}),y.fill()):y.fillRect(pe,be,Be,We)}}function ns(y,f,c,h){const{ctx:m}=y;if(c)m.arc(y.xCenter,y.yCenter,f,0,l.T);else{let b=y.getPointPosition(0,f);m.moveTo(b.x,b.y);for(let C=1;C<h;C++)b=y.getPointPosition(C,f),m.lineTo(b.x,b.y)}}const $o={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},qi=Object.keys($o);function k(y,f){return y-f}function H(y,f){if((0,l.k)(f))return null;const c=y._adapter,{parser:h,round:m,isoWeekday:b}=y._parseOpts;let C=f;return"function"==typeof h&&(C=h(C)),(0,l.g)(C)||(C="string"==typeof h?c.parse(C,h):c.parse(C)),null===C?null:(m&&(C="week"!==m||!(0,l.x)(b)&&!0!==b?c.startOf(C,m):c.startOf(C,"isoWeek",b)),+C)}function S(y,f,c,h){const m=qi.length;for(let b=qi.indexOf(y);b<m-1;++b){const C=$o[qi[b]];if(C.common&&Math.ceil((c-f)/((C.steps?C.steps:Number.MAX_SAFE_INTEGER)*C.size))<=h)return qi[b]}return qi[m-1]}function Te(y,f,c){if(c){if(c.length){const{lo:h,hi:m}=(0,l.aQ)(c,f);y[c[h]>=f?c[h]:c[m]]=!0}}else y[f]=!0}function en(y,f,c){const h=[],m={},b=f.length;let C,x;for(C=0;C<b;++C)x=f[C],m[x]=C,h.push({value:x,major:!1});return 0!==b&&c?function Qe(y,f,c,h){const m=y._adapter,b=+m.startOf(f[0].value,h),C=f[f.length-1].value;let x,L;for(x=b;x<=C;x=+m.add(x,1,h))L=c[x],L>=0&&(f[L].major=!0);return f}(y,h,m,c):h}let Xt=(()=>class y extends pi{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(c){super(c),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(c,h={}){const m=c.time||(c.time={}),b=this._adapter=new as._date(c.adapters.date);b.init(h),(0,l.ab)(m.displayFormats,b.formats()),this._parseOpts={parser:m.parser,round:m.round,isoWeekday:m.isoWeekday},super.init(c),this._normalized=h.normalized}parse(c,h){return void 0===c?null:H(this,c)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const c=this.options,h=this._adapter,m=c.time.unit||"day";let{min:b,max:C,minDefined:x,maxDefined:L}=this.getUserBounds();function q(pe){!x&&!isNaN(pe.min)&&(b=Math.min(b,pe.min)),!L&&!isNaN(pe.max)&&(C=Math.max(C,pe.max))}(!x||!L)&&(q(this._getLabelBounds()),("ticks"!==c.bounds||"labels"!==c.ticks.source)&&q(this.getMinMax(!1))),b=(0,l.g)(b)&&!isNaN(b)?b:+h.startOf(Date.now(),m),C=(0,l.g)(C)&&!isNaN(C)?C:+h.endOf(Date.now(),m)+1,this.min=Math.min(b,C-1),this.max=Math.max(b+1,C)}_getLabelBounds(){const c=this.getLabelTimestamps();let h=Number.POSITIVE_INFINITY,m=Number.NEGATIVE_INFINITY;return c.length&&(h=c[0],m=c[c.length-1]),{min:h,max:m}}buildTicks(){const c=this.options,h=c.time,m=c.ticks,b="labels"===m.source?this.getLabelTimestamps():this._generate();"ticks"===c.bounds&&b.length&&(this.min=this._userMin||b[0],this.max=this._userMax||b[b.length-1]);const C=this.min,L=(0,l.aP)(b,C,this.max);return this._unit=h.unit||(m.autoSkip?S(h.minUnit,this.min,this.max,this._getLabelCapacity(C)):function G(y,f,c,h,m){for(let b=qi.length-1;b>=qi.indexOf(c);b--){const C=qi[b];if($o[C].common&&y._adapter.diff(m,h,C)>=f-1)return C}return qi[c?qi.indexOf(c):0]}(this,L.length,h.minUnit,this.min,this.max)),this._majorUnit=m.major.enabled&&"year"!==this._unit?function ae(y){for(let f=qi.indexOf(y)+1,c=qi.length;f<c;++f)if($o[qi[f]].common)return qi[f]}(this._unit):void 0,this.initOffsets(b),c.reverse&&L.reverse(),en(this,L,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(c=>+c.value))}initOffsets(c=[]){let b,C,h=0,m=0;this.options.offset&&c.length&&(b=this.getDecimalForValue(c[0]),h=1===c.length?1-b:(this.getDecimalForValue(c[1])-b)/2,C=this.getDecimalForValue(c[c.length-1]),m=1===c.length?C:(C-this.getDecimalForValue(c[c.length-2]))/2);const x=c.length<3?.5:.25;h=(0,l.S)(h,0,x),m=(0,l.S)(m,0,x),this._offsets={start:h,end:m,factor:1/(h+1+m)}}_generate(){const c=this._adapter,h=this.min,m=this.max,b=this.options,C=b.time,x=C.unit||S(C.minUnit,h,m,this._getLabelCapacity(h)),L=(0,l.v)(b.ticks.stepSize,1),q="week"===x&&C.isoWeekday,pe=(0,l.x)(q)||!0===q,be={};let We,gt,Be=h;if(pe&&(Be=+c.startOf(Be,"isoWeek",q)),Be=+c.startOf(Be,pe?"day":x),c.diff(m,h,x)>1e5*L)throw new Error(h+" and "+m+" are too far apart with stepSize of "+L+" "+x);const Tt="data"===b.ticks.source&&this.getDataTimestamps();for(We=Be,gt=0;We<m;We=+c.add(We,L,x),gt++)Te(be,We,Tt);return(We===m||"ticks"===b.bounds||1===gt)&&Te(be,We,Tt),Object.keys(be).sort(k).map(Zt=>+Zt)}getLabelForValue(c){const m=this.options.time;return this._adapter.format(c,m.tooltipFormat?m.tooltipFormat:m.displayFormats.datetime)}format(c,h){return this._adapter.format(c,h||this.options.time.displayFormats[this._unit])}_tickFormatFunction(c,h,m,b){const C=this.options,x=C.ticks.callback;if(x)return(0,l.Q)(x,[c,h,m],this);const L=C.time.displayFormats,q=this._unit,pe=this._majorUnit,Be=pe&&L[pe],We=m[h];return this._adapter.format(c,b||(pe&&Be&&We&&We.major?Be:q&&L[q]))}generateTickLabels(c){let h,m,b;for(h=0,m=c.length;h<m;++h)b=c[h],b.label=this._tickFormatFunction(b.value,h,c)}getDecimalForValue(c){return null===c?NaN:(c-this.min)/(this.max-this.min)}getPixelForValue(c){const h=this._offsets,m=this.getDecimalForValue(c);return this.getPixelForDecimal((h.start+m)*h.factor)}getValueForPixel(c){const h=this._offsets,m=this.getDecimalForPixel(c)/h.factor-h.end;return this.min+m*(this.max-this.min)}_getLabelSize(c){const h=this.options.ticks,m=this.ctx.measureText(c).width,b=(0,l.t)(this.isHorizontal()?h.maxRotation:h.minRotation),C=Math.cos(b),x=Math.sin(b),L=this._resolveTickFontOptions(0).size;return{w:m*C+L*x,h:m*x+L*C}}_getLabelCapacity(c){const h=this.options.time,m=h.displayFormats,b=m[h.unit]||m.millisecond,C=this._tickFormatFunction(c,0,en(this,[c],this._majorUnit),b),x=this._getLabelSize(C),L=Math.floor(this.isHorizontal()?this.width/x.w:this.height/x.h)-1;return L>0?L:1}getDataTimestamps(){let h,m,c=this._cache.data||[];if(c.length)return c;const b=this.getMatchingVisibleMetas();if(this._normalized&&b.length)return this._cache.data=b[0].controller.getAllParsedValues(this);for(h=0,m=b.length;h<m;++h)c=c.concat(b[h].controller.getAllParsedValues(this));return this._cache.data=this.normalize(c)}getLabelTimestamps(){const c=this._cache.labels||[];let h,m;if(c.length)return c;const b=this.getLabels();for(h=0,m=b.length;h<m;++h)c.push(H(this,b[h]));return this._cache.labels=this._normalized?c:this.normalize(c)}normalize(c){return(0,l._)(c.sort(k))}})();function zn(y,f,c){let b,C,x,L,h=0,m=y.length-1;c?(f>=y[h].pos&&f<=y[m].pos&&({lo:h,hi:m}=(0,l.B)(y,"pos",f)),({pos:b,time:x}=y[h]),({pos:C,time:L}=y[m])):(f>=y[h].time&&f<=y[m].time&&({lo:h,hi:m}=(0,l.B)(y,"time",f)),({time:b,pos:x}=y[h]),({time:C,pos:L}=y[m]));const q=C-b;return q?x+(L-x)*(f-b)/q:x}const Ts=[Zi,mr,Fe,Object.freeze({__proto__:null,CategoryScale:fn,LinearScale:class J extends V{static id="linear";static defaults={ticks:{callback:l.aM.formatters.numeric}};determineDataLimits(){const{min:f,max:c}=this.getMinMax(!0);this.min=(0,l.g)(f)?f:0,this.max=(0,l.g)(c)?c:1,this.handleTickRangeOptions()}computeTickLimit(){const f=this.isHorizontal(),c=f?this.width:this.height,h=(0,l.t)(this.options.ticks.minRotation),m=(f?Math.sin(h):Math.cos(h))||.001,b=this._resolveTickFontOptions(0);return Math.ceil(c/Math.min(40,b.lineHeight/m))}getPixelForValue(f){return null===f?NaN:this.getPixelForDecimal((f-this._startValue)/this._valueRange)}getValueForPixel(f){return this._startValue+this.getDecimalForPixel(f)*this._valueRange}},LogarithmicScale:class tr extends pi{static id="logarithmic";static defaults={ticks:{callback:l.aM.formatters.logarithmic,major:{enabled:!0}}};constructor(f){super(f),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(f,c){const h=V.prototype.parse.apply(this,[f,c]);if(0!==h)return(0,l.g)(h)&&h>0?h:null;this._zero=!0}determineDataLimits(){const{min:f,max:c}=this.getMinMax(!0);this.min=(0,l.g)(f)?Math.max(0,f):null,this.max=(0,l.g)(c)?Math.max(0,c):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!(0,l.g)(this._userMin)&&(this.min=f===Pt(this.min,0)?Pt(this.min,-1):Pt(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:f,maxDefined:c}=this.getUserBounds();let h=this.min,m=this.max;const b=x=>h=f?h:x,C=x=>m=c?m:x;h===m&&(h<=0?(b(1),C(10)):(b(Pt(h,-1)),C(Pt(m,1)))),h<=0&&b(Pt(m,-1)),m<=0&&C(Pt(h,1)),this.min=h,this.max=m}buildTicks(){const f=this.options,h=function Vi(y,{min:f,max:c}){f=(0,l.O)(y.min,f);const h=[],m=je(f);let b=function oi(y,f){let h=je(f-y);for(;li(y,f,h)>10;)h++;for(;li(y,f,h)<10;)h--;return Math.min(h,je(y))}(f,c),C=b<0?Math.pow(10,Math.abs(b)):1;const x=Math.pow(10,b),L=m>b?Math.pow(10,m):0,q=Math.round((f-L)*C)/C,pe=Math.floor((f-L)/x/10)*x*10;let be=Math.floor((q-pe)/Math.pow(10,b)),Be=(0,l.O)(y.min,Math.round((L+pe+be*Math.pow(10,b))*C)/C);for(;Be<c;)h.push({value:Be,major:zt(Be),significand:be}),be>=10?be=be<15?15:20:be++,be>=20&&(b++,be=2,C=b>=0?1:C),Be=Math.round((L+pe+be*Math.pow(10,b))*C)/C;const We=(0,l.O)(y.max,Be);return h.push({value:We,major:zt(We),significand:be}),h}({min:this._userMin,max:this._userMax},this);return"ticks"===f.bounds&&(0,l.aH)(h,this,"value"),f.reverse?(h.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),h}getLabelForValue(f){return void 0===f?"0":(0,l.o)(f,this.chart.options.locale,this.options.ticks.format)}configure(){const f=this.min;super.configure(),this._startValue=(0,l.aN)(f),this._valueRange=(0,l.aN)(this.max)-(0,l.aN)(f)}getPixelForValue(f){return(void 0===f||0===f)&&(f=this.min),null===f||isNaN(f)?NaN:this.getPixelForDecimal(f===this.min?0:((0,l.aN)(f)-this._startValue)/this._valueRange)}getValueForPixel(f){const c=this.getDecimalForPixel(f);return Math.pow(10,this._startValue+c*this._valueRange)}},RadialLinearScale:class Ht extends V{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:l.aM.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:f=>f,padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(f){super(f),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const f=this._padding=(0,l.E)(wn(this.options)/2),c=this.width=this.maxWidth-f.width,h=this.height=this.maxHeight-f.height;this.xCenter=Math.floor(this.left+c/2+f.left),this.yCenter=Math.floor(this.top+h/2+f.top),this.drawingArea=Math.floor(Math.min(c,h)/2)}determineDataLimits(){const{min:f,max:c}=this.getMinMax(!1);this.min=(0,l.g)(f)&&!isNaN(f)?f:0,this.max=(0,l.g)(c)&&!isNaN(c)?c:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/wn(this.options))}generateTickLabels(f){V.prototype.generateTickLabels.call(this,f),this._pointLabels=this.getLabels().map((c,h)=>{const m=(0,l.Q)(this.options.pointLabels.callback,[c,h],this);return m||0===m?m:""}).filter((c,h)=>this.chart.getDataVisibility(h))}fit(){const f=this.options;f.display&&f.pointLabels.display?function bt(y){const f={l:y.left+y._padding.left,r:y.right-y._padding.right,t:y.top+y._padding.top,b:y.bottom-y._padding.bottom},c=Object.assign({},f),h=[],m=[],b=y._pointLabels.length,C=y.options.pointLabels,x=C.centerPointLabels?l.P/b:0;for(let L=0;L<b;L++){const q=C.setContext(y.getPointLabelContext(L));m[L]=q.padding;const pe=y.getPointPosition(L,y.drawingArea+m[L],x),be=(0,l.a0)(q.font),Be=fe(y.ctx,be,y._pointLabels[L]);h[L]=Be;const We=(0,l.az)(y.getIndexAngle(L)+x),gt=Math.round((0,l.U)(We));Hn(c,f,We,nt(gt,pe.x,Be.w,0,180),nt(gt,pe.y,Be.h,90,270))}y.setCenterPoint(f.l-c.l,c.r-f.r,f.t-c.t,c.b-f.b),y._pointLabelItems=function lr(y,f,c){const h=[],m=y._pointLabels.length,b=y.options,{centerPointLabels:C,display:x}=b.pointLabels,L={extra:wn(b)/2,additionalAngle:C?l.P/m:0};let q;for(let pe=0;pe<m;pe++){L.padding=c[pe],L.size=f[pe];const be=Ln(y,pe,L);h.push(be),"auto"===x&&(be.visible=xi(be,q),be.visible&&(q=be))}return h}(y,h,m)}(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(f,c,h,m){this.xCenter+=Math.floor((f-c)/2),this.yCenter+=Math.floor((h-m)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(f,c,h,m))}getIndexAngle(f){return(0,l.az)(f*(l.T/(this._pointLabels.length||1))+(0,l.t)(this.options.startAngle||0))}getDistanceFromCenterForValue(f){if((0,l.k)(f))return NaN;const c=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-f)*c:(f-this.min)*c}getValueForDistanceFromCenter(f){if((0,l.k)(f))return NaN;const c=f/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-c:this.min+c}getPointLabelContext(f){const c=this._pointLabels||[];if(f>=0&&f<c.length){const h=c[f];return function eo(y,f,c){return(0,l.j)(y,{label:c,index:f,type:"pointLabel"})}(this.getContext(),f,h)}}getPointPosition(f,c,h=0){const m=this.getIndexAngle(f)-l.H+h;return{x:Math.cos(m)*c+this.xCenter,y:Math.sin(m)*c+this.yCenter,angle:m}}getPointPositionForValue(f,c){return this.getPointPosition(f,this.getDistanceFromCenterForValue(c))}getBasePosition(f){return this.getPointPositionForValue(f||0,this.getBaseValue())}getPointLabelPosition(f){const{left:c,top:h,right:m,bottom:b}=this._pointLabelItems[f];return{left:c,top:h,right:m,bottom:b}}drawBackground(){const{backgroundColor:f,grid:{circular:c}}=this.options;if(f){const h=this.ctx;h.save(),h.beginPath(),ns(this,this.getDistanceFromCenterForValue(this._endValue),c,this._pointLabels.length),h.closePath(),h.fillStyle=f,h.fill(),h.restore()}}drawGrid(){const f=this.ctx,c=this.options,{angleLines:h,grid:m,border:b}=c,C=this._pointLabels.length;let x,L,q;if(c.pointLabels.display&&function Qi(y,f){const{ctx:c,options:{pointLabels:h}}=y;for(let m=f-1;m>=0;m--){const b=y._pointLabelItems[m];if(!b.visible)continue;const C=h.setContext(y.getPointLabelContext(m));mi(c,C,b);const x=(0,l.a0)(C.font),{x:L,y:q,textAlign:pe}=b;(0,l.Z)(c,y._pointLabels[m],L,q+x.lineHeight/2,x,{color:C.color,textAlign:pe,textBaseline:"middle"})}}(this,C),m.display&&this.ticks.forEach((pe,be)=>{if(0!==be||0===be&&this.min<0){L=this.getDistanceFromCenterForValue(pe.value);const Be=this.getContext(be),We=m.setContext(Be),gt=b.setContext(Be);!function Rr(y,f,c,h,m){const b=y.ctx,C=f.circular,{color:x,lineWidth:L}=f;!C&&!h||!x||!L||c<0||(b.save(),b.strokeStyle=x,b.lineWidth=L,b.setLineDash(m.dash||[]),b.lineDashOffset=m.dashOffset,b.beginPath(),ns(y,c,C,h),b.closePath(),b.stroke(),b.restore())}(this,We,L,C,gt)}}),h.display){for(f.save(),x=C-1;x>=0;x--){const pe=h.setContext(this.getPointLabelContext(x)),{color:be,lineWidth:Be}=pe;!Be||!be||(f.lineWidth=Be,f.strokeStyle=be,f.setLineDash(pe.borderDash),f.lineDashOffset=pe.borderDashOffset,L=this.getDistanceFromCenterForValue(c.reverse?this.min:this.max),q=this.getPointPosition(x,L),f.beginPath(),f.moveTo(this.xCenter,this.yCenter),f.lineTo(q.x,q.y),f.stroke())}f.restore()}}drawBorder(){}drawLabels(){const f=this.ctx,c=this.options,h=c.ticks;if(!h.display)return;const m=this.getIndexAngle(0);let b,C;f.save(),f.translate(this.xCenter,this.yCenter),f.rotate(m),f.textAlign="center",f.textBaseline="middle",this.ticks.forEach((x,L)=>{if(0===L&&this.min>=0&&!c.reverse)return;const q=h.setContext(this.getContext(L)),pe=(0,l.a0)(q.font);if(b=this.getDistanceFromCenterForValue(this.ticks[L].value),q.showLabelBackdrop){f.font=pe.string,C=f.measureText(x.label).width,f.fillStyle=q.backdropColor;const be=(0,l.E)(q.backdropPadding);f.fillRect(-C/2-be.left,-b-pe.size/2-be.top,C+be.width,pe.size+be.height)}(0,l.Z)(f,x.label,0,-b,pe,{color:q.color,strokeColor:q.textStrokeColor,strokeWidth:q.textStrokeWidth})}),f.restore()}drawTitle(){}},TimeScale:Xt,TimeSeriesScale:class Er extends Xt{static id="timeseries";static defaults=Xt.defaults;constructor(f){super(f),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const f=this._getTimestampsForTable(),c=this._table=this.buildLookupTable(f);this._minPos=zn(c,this.min),this._tableRange=zn(c,this.max)-this._minPos,super.initOffsets(f)}buildLookupTable(f){const{min:c,max:h}=this,m=[],b=[];let C,x,L,q,pe;for(C=0,x=f.length;C<x;++C)q=f[C],q>=c&&q<=h&&m.push(q);if(m.length<2)return[{time:c,pos:0},{time:h,pos:1}];for(C=0,x=m.length;C<x;++C)pe=m[C+1],L=m[C-1],q=m[C],Math.round((pe+L)/2)!==q&&b.push({time:q,pos:C/(x-1)});return b}_generate(){const f=this.min,c=this.max;let h=super.getDataTimestamps();return(!h.includes(f)||!h.length)&&h.splice(0,0,f),(!h.includes(c)||1===h.length)&&h.push(c),h.sort((m,b)=>m-b)}_getTimestampsForTable(){let f=this._cache.all||[];if(f.length)return f;const c=this.getDataTimestamps(),h=this.getLabelTimestamps();return f=c.length&&h.length?this.normalize(c.concat(h)):c.length?c:h,f=this._cache.all=f,f}getDecimalForValue(f){return(zn(this._table,f)-this._minPos)/this._tableRange}getValueForPixel(f){const c=this._offsets,h=this.getDecimalForPixel(f)/c.factor-c.end;return zn(this._table,h*this._tableRange+this._minPos,!0)}}})]},8444:(ei,Nt,ee)=>{function l(w){return w+.5|0}ee.d(Nt,{$:()=>Bi,A:()=>Fi,B:()=>or,C:()=>Pr,D:()=>qe,E:()=>Do,F:()=>ni,G:()=>ao,H:()=>_r,I:()=>vo,J:()=>Ko,K:()=>Ro,L:()=>qr,M:()=>mr,N:()=>an,O:()=>Zi,P:()=>Cr,Q:()=>Or,R:()=>Ra,S:()=>Yt,T:()=>Ir,U:()=>ki,V:()=>As,W:()=>Pn,X:()=>go,Y:()=>Rn,Z:()=>ps,_:()=>Wi,a:()=>Fo,a0:()=>Ds,a1:()=>Yi,a2:()=>ss,a3:()=>Hr,a4:()=>Ar,a5:()=>is,a6:()=>Ls,a7:()=>vr,a8:()=>Us,a9:()=>Ss,aA:()=>ya,aB:()=>Hs,aC:()=>fs,aD:()=>ea,aE:()=>Qs,aF:()=>it,aG:()=>Jn,aH:()=>Yn,aI:()=>Ct,aJ:()=>jn,aK:()=>we,aL:()=>_t,aM:()=>Fr,aN:()=>Ae,aO:()=>Ia,aP:()=>Nr,aQ:()=>yi,aa:()=>Xo,ab:()=>ii,ac:()=>Si,ad:()=>Es,ae:()=>Bo,af:()=>ua,ag:()=>Ur,ah:()=>Fa,ai:()=>Di,aj:()=>Kr,ak:()=>un,al:()=>Bs,am:()=>hi,an:()=>Ho,ao:()=>ba,ap:()=>jo,aq:()=>er,ar:()=>rs,as:()=>Mi,at:()=>Ws,au:()=>Vs,av:()=>No,aw:()=>kr,ax:()=>da,ay:()=>uo,az:()=>Ke,b:()=>ti,c:()=>pi,d:()=>Sr,e:()=>dn,f:()=>Is,g:()=>ir,h:()=>bs,i:()=>Ni,j:()=>Ps,k:()=>nr,l:()=>ds,m:()=>Wr,n:()=>as,o:()=>tn,p:()=>xt,q:()=>mo,r:()=>Co,s:()=>Ee,t:()=>Qn,u:()=>ar,v:()=>zi,w:()=>Io,x:()=>si,y:()=>ts,z:()=>Oo});const Le=(w,j,ne)=>Math.max(Math.min(w,ne),j);function ke(w){return Le(l(2.55*w),0,255)}function R(w){return Le(l(255*w),0,255)}function Ce(w){return Le(l(w/2.55)/100,0,1)}function xe(w){return Le(l(100*w),0,100)}const at={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},ft=[..."0123456789ABCDEF"],Pe=w=>ft[15&w],He=w=>ft[(240&w)>>4]+ft[15&w],mt=w=>(240&w)>>4==(15&w);const Cn=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Tn(w,j,ne){const ge=j*Math.min(ne,1-ne),Ie=(ze,et=(ze+w/30)%12)=>ne-ge*Math.max(Math.min(et-3,9-et,1),-1);return[Ie(0),Ie(8),Ie(4)]}function wi(w,j,ne){const ge=(Ie,ze=(Ie+w/60)%6)=>ne-ne*j*Math.max(Math.min(ze,4-ze,1),0);return[ge(5),ge(3),ge(1)]}function Ci(w,j,ne){const ge=Tn(w,1,.5);let Ie;for(j+ne>1&&(Ie=1/(j+ne),j*=Ie,ne*=Ie),Ie=0;Ie<3;Ie++)ge[Ie]*=1-j-ne,ge[Ie]+=j;return ge}function cn(w){const ne=w.r/255,ge=w.g/255,Ie=w.b/255,ze=Math.max(ne,ge,Ie),et=Math.min(ne,ge,Ie),pt=(ze+et)/2;let T,re,z;return ze!==et&&(z=ze-et,re=pt>.5?z/(2-ze-et):z/(ze+et),T=function vt(w,j,ne,ge,Ie){return w===Ie?(j-ne)/ge+(j<ne?6:0):j===Ie?(ne-w)/ge+2:(w-j)/ge+4}(ne,ge,Ie,z,ze),T=60*T+.5),[0|T,re||0,pt]}function Dt(w,j,ne,ge){return(Array.isArray(j)?w(j[0],j[1],j[2]):w(j,ne,ge)).map(R)}function At(w,j,ne){return Dt(Tn,w,j,ne)}function Qt(w){return(w%360+360)%360}const on={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Ii={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let Zr;const xn=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/,Bt=w=>w<=.0031308?12.92*w:1.055*Math.pow(w,1/2.4)-.055,Rt=w=>w<=.04045?w/12.92:Math.pow((w+.055)/1.055,2.4);function ln(w,j,ne){if(w){let ge=cn(w);ge[j]=Math.max(0,Math.min(ge[j]+ge[j]*ne,0===j?360:1)),ge=At(ge),w.r=ge[0],w.g=ge[1],w.b=ge[2]}}function Ut(w,j){return w&&Object.assign(j||{},w)}function Mn(w){var j={r:0,g:0,b:0,a:255};return Array.isArray(w)?w.length>=3&&(j={r:w[0],g:w[1],b:w[2],a:255},w.length>3&&(j.a=R(w[3]))):(j=Ut(w,{r:0,g:0,b:0,a:1})).a=R(j.a),j}function In(w){return"r"===w.charAt(0)?function Gr(w){const j=xn.exec(w);let ge,Ie,ze,ne=255;if(j){if(j[7]!==ge){const et=+j[7];ne=j[8]?ke(et):Le(255*et,0,255)}return ge=+j[1],Ie=+j[3],ze=+j[5],ge=255&(j[2]?ke(ge):Le(ge,0,255)),Ie=255&(j[4]?ke(Ie):Le(Ie,0,255)),ze=255&(j[6]?ke(ze):Le(ze,0,255)),{r:ge,g:Ie,b:ze,a:ne}}}(w):function Mt(w){const j=Cn.exec(w);let ge,ne=255;if(!j)return;j[5]!==ge&&(ne=j[6]?ke(+j[5]):R(+j[5]));const Ie=Qt(+j[2]),ze=+j[3]/100,et=+j[4]/100;return ge="hwb"===j[1]?function Lt(w,j,ne){return Dt(Ci,w,j,ne)}(Ie,ze,et):"hsv"===j[1]?function rt(w,j,ne){return Dt(wi,w,j,ne)}(Ie,ze,et):At(Ie,ze,et),{r:ge[0],g:ge[1],b:ge[2],a:ne}}(w)}class Hi{constructor(j){if(j instanceof Hi)return j;const ne=typeof j;let ge;"object"===ne?ge=Mn(j):"string"===ne&&(ge=function tt(w){var ne,j=w.length;return"#"===w[0]&&(4===j||5===j?ne={r:255&17*at[w[1]],g:255&17*at[w[2]],b:255&17*at[w[3]],a:5===j?17*at[w[4]]:255}:(7===j||9===j)&&(ne={r:at[w[1]]<<4|at[w[2]],g:at[w[3]]<<4|at[w[4]],b:at[w[5]]<<4|at[w[6]],a:9===j?at[w[7]]<<4|at[w[8]]:255})),ne}(j)||function hr(w){Zr||(Zr=function Xi(){const w={},j=Object.keys(Ii),ne=Object.keys(on);let ge,Ie,ze,et,pt;for(ge=0;ge<j.length;ge++){for(et=pt=j[ge],Ie=0;Ie<ne.length;Ie++)ze=ne[Ie],pt=pt.replace(ze,on[ze]);ze=parseInt(Ii[et],16),w[pt]=[ze>>16&255,ze>>8&255,255&ze]}return w}(),Zr.transparent=[0,0,0,0]);const j=Zr[w.toLowerCase()];return j&&{r:j[0],g:j[1],b:j[2],a:4===j.length?j[3]:255}}(j)||In(j)),this._rgb=ge,this._valid=!!ge}get valid(){return this._valid}get rgb(){var j=Ut(this._rgb);return j&&(j.a=Ce(j.a)),j}set rgb(j){this._rgb=Mn(j)}rgbString(){return this._valid?function Vt(w){return w&&(w.a<255?`rgba(${w.r}, ${w.g}, ${w.b}, ${Ce(w.a)})`:`rgb(${w.r}, ${w.g}, ${w.b})`)}(this._rgb):void 0}hexString(){return this._valid?function It(w){var j=(w=>mt(w.r)&&mt(w.g)&&mt(w.b)&&mt(w.a))(w)?Pe:He;return w?"#"+j(w.r)+j(w.g)+j(w.b)+((w,j)=>w<255?j(w):"")(w.a,j):void 0}(this._rgb):void 0}hslString(){return this._valid?function fi(w){if(!w)return;const j=cn(w),ne=j[0],ge=xe(j[1]),Ie=xe(j[2]);return w.a<255?`hsla(${ne}, ${ge}%, ${Ie}%, ${Ce(w.a)})`:`hsl(${ne}, ${ge}%, ${Ie}%)`}(this._rgb):void 0}mix(j,ne){if(j){const ge=this.rgb,Ie=j.rgb;let ze;const et=ne===ze?.5:ne,pt=2*et-1,T=ge.a-Ie.a,re=((pt*T==-1?pt:(pt+T)/(1+pt*T))+1)/2;ze=1-re,ge.r=255&re*ge.r+ze*Ie.r+.5,ge.g=255&re*ge.g+ze*Ie.g+.5,ge.b=255&re*ge.b+ze*Ie.b+.5,ge.a=et*ge.a+(1-et)*Ie.a,this.rgb=ge}return this}interpolate(j,ne){return j&&(this._rgb=function qt(w,j,ne){const ge=Rt(Ce(w.r)),Ie=Rt(Ce(w.g)),ze=Rt(Ce(w.b));return{r:R(Bt(ge+ne*(Rt(Ce(j.r))-ge))),g:R(Bt(Ie+ne*(Rt(Ce(j.g))-Ie))),b:R(Bt(ze+ne*(Rt(Ce(j.b))-ze))),a:w.a+ne*(j.a-w.a)}}(this._rgb,j._rgb,ne)),this}clone(){return new Hi(this.rgb)}alpha(j){return this._rgb.a=R(j),this}clearer(j){return this._rgb.a*=1-j,this}greyscale(){const j=this._rgb,ne=l(.3*j.r+.59*j.g+.11*j.b);return j.r=j.g=j.b=ne,this}opaquer(j){return this._rgb.a*=1+j,this}negate(){const j=this._rgb;return j.r=255-j.r,j.g=255-j.g,j.b=255-j.b,this}lighten(j){return ln(this._rgb,2,j),this}darken(j){return ln(this._rgb,2,-j),this}saturate(j){return ln(this._rgb,1,j),this}desaturate(j){return ln(this._rgb,1,-j),this}rotate(j){return function yn(w,j){var ne=cn(w);ne[0]=Qt(ne[0]+j),ne=At(ne),w.r=ne[0],w.g=ne[1],w.b=ne[2]}(this._rgb,j),this}}function Jn(){}const Si=(()=>{let w=0;return()=>w++})();function nr(w){return null==w}function ti(w){if(Array.isArray&&Array.isArray(w))return!0;const j=Object.prototype.toString.call(w);return"[object"===j.slice(0,7)&&"Array]"===j.slice(-6)}function Ni(w){return null!==w&&"[object Object]"===Object.prototype.toString.call(w)}function ir(w){return("number"==typeof w||w instanceof Number)&&isFinite(+w)}function Zi(w,j){return ir(w)?w:j}function zi(w,j){return typeof w>"u"?j:w}const Wr=(w,j)=>"string"==typeof w&&w.endsWith("%")?parseFloat(w)/100:+w/j,as=(w,j)=>"string"==typeof w&&w.endsWith("%")?parseFloat(w)/100*j:+w;function Or(w,j,ne){if(w&&"function"==typeof w.call)return w.apply(ne,j)}function ni(w,j,ne,ge){let Ie,ze,et;if(ti(w))if(ze=w.length,ge)for(Ie=ze-1;Ie>=0;Ie--)j.call(ne,w[Ie],Ie);else for(Ie=0;Ie<ze;Ie++)j.call(ne,w[Ie],Ie);else if(Ni(w))for(et=Object.keys(w),ze=et.length,Ie=0;Ie<ze;Ie++)j.call(ne,w[et[Ie]],et[Ie])}function Di(w,j){let ne,ge,Ie,ze;if(!w||!j||w.length!==j.length)return!1;for(ne=0,ge=w.length;ne<ge;++ne)if(Ie=w[ne],ze=j[ne],Ie.datasetIndex!==ze.datasetIndex||Ie.index!==ze.index)return!1;return!0}function vi(w){if(ti(w))return w.map(vi);if(Ni(w)){const j=Object.create(null),ne=Object.keys(w),ge=ne.length;let Ie=0;for(;Ie<ge;++Ie)j[ne[Ie]]=vi(w[ne[Ie]]);return j}return w}function fr(w){return-1===["__proto__","prototype","constructor"].indexOf(w)}function Br(w,j,ne,ge){if(!fr(w))return;const Ie=j[w],ze=ne[w];Ni(Ie)&&Ni(ze)?Ar(Ie,ze,ge):j[w]=vi(ze)}function Ar(w,j,ne){const ge=ti(j)?j:[j],Ie=ge.length;if(!Ni(w))return w;const ze=(ne=ne||{}).merger||Br;let et;for(let pt=0;pt<Ie;++pt){if(et=ge[pt],!Ni(et))continue;const T=Object.keys(et);for(let re=0,z=T.length;re<z;++re)ze(T[re],w,et,ne)}return w}function ii(w,j){return Ar(w,j,{merger:wr})}function wr(w,j,ne){if(!fr(w))return;const ge=j[w],Ie=ne[w];Ni(ge)&&Ni(Ie)?ii(ge,Ie):Object.prototype.hasOwnProperty.call(j,w)||(j[w]=vi(Ie))}const Fn={"":w=>w,x:w=>w.x,y:w=>w.y};function Is(w,j){return(Fn[j]||(Fn[j]=function gi(w){const j=function xs(w){const j=w.split("."),ne=[];let ge="";for(const Ie of j)ge+=Ie,ge.endsWith("\\")?ge=ge.slice(0,-1)+".":(ne.push(ge),ge="");return ne}(w);return ne=>{for(const ge of j){if(""===ge)break;ne=ne&&ne[ge]}return ne}}(j)))(w)}function is(w){return w.charAt(0).toUpperCase()+w.slice(1)}const bs=w=>typeof w<"u",vr=w=>"function"==typeof w,Ur=(w,j)=>{if(w.size!==j.size)return!1;for(const ne of w)if(!j.has(ne))return!1;return!0};function Kr(w){return"mouseup"===w.type||"click"===w.type||"contextmenu"===w.type}const Cr=Math.PI,Ir=2*Cr,Jr=Ir+Cr,Gi=Number.POSITIVE_INFINITY,Ji=Cr/180,_r=Cr/2,Xe=Cr/4,ve=2*Cr/3,Ae=Math.log10,Ee=Math.sign;function we(w,j,ne){return Math.abs(w-j)<ne}function Ct(w){const j=Math.round(w);w=we(w,j,w/1e3)?j:w;const ne=Math.pow(10,Math.floor(Ae(w))),ge=w/ne;return(ge<=1?1:ge<=2?2:ge<=5?5:10)*ne}function an(w){const j=[],ne=Math.sqrt(w);let ge;for(ge=1;ge<ne;ge++)w%ge==0&&(j.push(ge),j.push(w/ge));return ne===(0|ne)&&j.push(ne),j.sort((Ie,ze)=>Ie-ze).pop(),j}function si(w){return!function mn(w){return"symbol"==typeof w||"object"==typeof w&&null!==w&&!(Symbol.toPrimitive in w||"toString"in w||"valueOf"in w)}(w)&&!isNaN(parseFloat(w))&&isFinite(w)}function jn(w,j){const ne=Math.round(w);return ne-j<=w&&ne+j>=w}function Yn(w,j,ne){let ge,Ie,ze;for(ge=0,Ie=w.length;ge<Ie;ge++)ze=w[ge][ne],isNaN(ze)||(j.min=Math.min(j.min,ze),j.max=Math.max(j.max,ze))}function Qn(w){return w*(Cr/180)}function ki(w){return w*(180/Cr)}function _t(w){if(!ir(w))return;let j=1,ne=0;for(;Math.round(w*j)/j!==w;)j*=10,ne++;return ne}function qe(w,j){const ne=j.x-w.x,ge=j.y-w.y,Ie=Math.sqrt(ne*ne+ge*ge);let ze=Math.atan2(ge,ne);return ze<-.5*Cr&&(ze+=Ir),{angle:ze,distance:Ie}}function it(w,j){return Math.sqrt(Math.pow(j.x-w.x,2)+Math.pow(j.y-w.y,2))}function Ze(w,j){return(w-j+Jr)%Ir-Cr}function Ke(w){return(w%Ir+Ir)%Ir}function xt(w,j,ne,ge){const Ie=Ke(w),ze=Ke(j),et=Ke(ne),pt=Ke(ze-Ie),T=Ke(et-Ie),re=Ke(Ie-ze),z=Ke(Ie-et);return Ie===ze||Ie===et||ge&&ze===et||pt>T&&re<z}function Yt(w,j,ne){return Math.max(j,Math.min(ne,w))}function Pn(w){return Yt(w,-32768,32767)}function un(w,j,ne,ge=1e-6){return w>=Math.min(j,ne)-ge&&w<=Math.max(j,ne)+ge}function yi(w,j,ne){ne=ne||(et=>w[et]<j);let ze,ge=w.length-1,Ie=0;for(;ge-Ie>1;)ze=Ie+ge>>1,ne(ze)?Ie=ze:ge=ze;return{lo:Ie,hi:ge}}const or=(w,j,ne,ge)=>yi(w,ne,ge?Ie=>{const ze=w[Ie][j];return ze<ne||ze===ne&&w[Ie+1][j]===ne}:Ie=>w[Ie][j]<ne),Fi=(w,j,ne)=>yi(w,ne,ge=>w[ge][j]>=ne);function Nr(w,j,ne){let ge=0,Ie=w.length;for(;ge<Ie&&w[ge]<j;)ge++;for(;Ie>ge&&w[Ie-1]>ne;)Ie--;return ge>0||Ie<w.length?w.slice(ge,Ie):w}const jr=["push","pop","shift","splice","unshift"];function ds(w,j){w._chartjs?w._chartjs.listeners.push(j):(Object.defineProperty(w,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[j]}}),jr.forEach(ne=>{const ge="_onData"+is(ne),Ie=w[ne];Object.defineProperty(w,ne,{configurable:!0,enumerable:!1,value(...ze){const et=Ie.apply(this,ze);return w._chartjs.listeners.forEach(pt=>{"function"==typeof pt[ge]&&pt[ge](...ze)}),et}})}))}function ar(w,j){const ne=w._chartjs;if(!ne)return;const ge=ne.listeners,Ie=ge.indexOf(j);-1!==Ie&&ge.splice(Ie,1),!(ge.length>0)&&(jr.forEach(ze=>{delete w[ze]}),delete w._chartjs)}function Wi(w){const j=new Set(w);return j.size===w.length?w:Array.from(j)}const Co=typeof window>"u"?function(w){return w()}:window.requestAnimationFrame;function qr(w,j){let ne=[],ge=!1;return function(...Ie){ne=Ie,ge||(ge=!0,Co.call(window,()=>{ge=!1,w.apply(j,ne)}))}}function Es(w,j){let ne;return function(...ge){return j?(clearTimeout(ne),ne=setTimeout(w,j,ge)):w.apply(this,ge),j}}const Yi=w=>"start"===w?"left":"end"===w?"right":"center",ss=(w,j,ne)=>"start"===w?j:"end"===w?ne:(j+ne)/2,fs=(w,j,ne,ge)=>w===(ge?"left":"right")?ne:"center"===w?(j+ne)/2:j;function mo(w,j,ne){const ge=j.length;let Ie=0,ze=ge;if(w._sorted){const{iScale:et,vScale:pt,_parsed:T}=w,re=w.dataset&&w.dataset.options?w.dataset.options.spanGaps:null,z=et.axis,{min:ce,max:Ve,minDefined:kt,maxDefined:sn}=et.getUserBounds();if(kt){if(Ie=Math.min(or(T,z,ce).lo,ne?ge:or(j,z,et.getPixelForValue(ce)).lo),re){const vn=T.slice(0,Ie+1).reverse().findIndex(kn=>!nr(kn[pt.axis]));Ie-=Math.max(0,vn)}Ie=Yt(Ie,0,ge-1)}if(sn){let vn=Math.max(or(T,et.axis,Ve,!0).hi+1,ne?0:or(j,z,et.getPixelForValue(Ve),!0).hi+1);if(re){const kn=T.slice(vn-1).findIndex(gr=>!nr(gr[pt.axis]));vn+=Math.max(0,kn)}ze=Yt(vn,Ie,ge)-Ie}else ze=ge-Ie}return{start:Ie,count:ze}}function Io(w){const{xScale:j,yScale:ne,_scaleRanges:ge}=w,Ie={xmin:j.min,xmax:j.max,ymin:ne.min,ymax:ne.max};if(!ge)return w._scaleRanges=Ie,!0;const ze=ge.xmin!==j.min||ge.xmax!==j.max||ge.ymin!==ne.min||ge.ymax!==ne.max;return Object.assign(ge,Ie),ze}const ht=w=>0===w||1===w,ut=(w,j,ne)=>-Math.pow(2,10*(w-=1))*Math.sin((w-j)*Ir/ne),jt=(w,j,ne)=>Math.pow(2,-10*w)*Math.sin((w-j)*Ir/ne)+1,dn={linear:w=>w,easeInQuad:w=>w*w,easeOutQuad:w=>-w*(w-2),easeInOutQuad:w=>(w/=.5)<1?.5*w*w:-.5*(--w*(w-2)-1),easeInCubic:w=>w*w*w,easeOutCubic:w=>(w-=1)*w*w+1,easeInOutCubic:w=>(w/=.5)<1?.5*w*w*w:.5*((w-=2)*w*w+2),easeInQuart:w=>w*w*w*w,easeOutQuart:w=>-((w-=1)*w*w*w-1),easeInOutQuart:w=>(w/=.5)<1?.5*w*w*w*w:-.5*((w-=2)*w*w*w-2),easeInQuint:w=>w*w*w*w*w,easeOutQuint:w=>(w-=1)*w*w*w*w+1,easeInOutQuint:w=>(w/=.5)<1?.5*w*w*w*w*w:.5*((w-=2)*w*w*w*w+2),easeInSine:w=>1-Math.cos(w*_r),easeOutSine:w=>Math.sin(w*_r),easeInOutSine:w=>-.5*(Math.cos(Cr*w)-1),easeInExpo:w=>0===w?0:Math.pow(2,10*(w-1)),easeOutExpo:w=>1===w?1:1-Math.pow(2,-10*w),easeInOutExpo:w=>ht(w)?w:w<.5?.5*Math.pow(2,10*(2*w-1)):.5*(2-Math.pow(2,-10*(2*w-1))),easeInCirc:w=>w>=1?w:-(Math.sqrt(1-w*w)-1),easeOutCirc:w=>Math.sqrt(1-(w-=1)*w),easeInOutCirc:w=>(w/=.5)<1?-.5*(Math.sqrt(1-w*w)-1):.5*(Math.sqrt(1-(w-=2)*w)+1),easeInElastic:w=>ht(w)?w:ut(w,.075,.3),easeOutElastic:w=>ht(w)?w:jt(w,.075,.3),easeInOutElastic:w=>ht(w)?w:w<.5?.5*ut(2*w,.1125,.45):.5+.5*jt(2*w-1,.1125,.45),easeInBack:w=>w*w*(2.70158*w-1.70158),easeOutBack:w=>(w-=1)*w*(2.70158*w+1.70158)+1,easeInOutBack(w){let j=1.70158;return(w/=.5)<1?w*w*((1+(j*=1.525))*w-j)*.5:.5*((w-=2)*w*((1+(j*=1.525))*w+j)+2)},easeInBounce:w=>1-dn.easeOutBounce(1-w),easeOutBounce:w=>w<1/2.75?7.5625*w*w:w<2/2.75?7.5625*(w-=1.5/2.75)*w+.75:w<2.5/2.75?7.5625*(w-=2.25/2.75)*w+.9375:7.5625*(w-=2.625/2.75)*w+.984375,easeInOutBounce:w=>w<.5?.5*dn.easeInBounce(2*w):.5*dn.easeOutBounce(2*w-1)+.5};function Sn(w){if(w&&"object"==typeof w){const j=w.toString();return"[object CanvasPattern]"===j||"[object CanvasGradient]"===j}return!1}function pi(w){return Sn(w)?w:new Hi(w)}function rr(w){return Sn(w)?w:new Hi(w).saturate(.5).darken(.1).hexString()}const pr=["x","y","borderWidth","radius","tension"],Ue=["color","borderColor","backgroundColor"],Re=new Map;function tn(w,j,ne){return function Je(w,j){j=j||{};const ne=w+JSON.stringify(j);let ge=Re.get(ne);return ge||(ge=new Intl.NumberFormat(w,j),Re.set(ne,ge)),ge}(j,ne).format(w)}const gn={values:w=>ti(w)?w:""+w,numeric(w,j,ne){if(0===w)return"0";const ge=this.chart.options.locale;let Ie,ze=w;if(ne.length>1){const re=Math.max(Math.abs(ne[0].value),Math.abs(ne[ne.length-1].value));(re<1e-4||re>1e15)&&(Ie="scientific"),ze=function _i(w,j){let ne=j.length>3?j[2].value-j[1].value:j[1].value-j[0].value;return Math.abs(ne)>=1&&w!==Math.floor(w)&&(ne=w-Math.floor(w)),ne}(w,ne)}const et=Ae(Math.abs(ze)),pt=isNaN(et)?1:Math.max(Math.min(-1*Math.floor(et),20),0),T={notation:Ie,minimumFractionDigits:pt,maximumFractionDigits:pt};return Object.assign(T,this.options.ticks.format),tn(w,ge,T)},logarithmic(w,j,ne){if(0===w)return"0";const ge=ne[j].significand||w/Math.pow(10,Math.floor(Ae(w)));return[1,2,3,5,10,15].includes(ge)||j>.8*ne.length?gn.numeric.call(this,w,j,ne):""}};var Fr={formatters:gn};const Hr=Object.create(null),Ls=Object.create(null);function ls(w,j){if(!j)return w;const ne=j.split(".");for(let ge=0,Ie=ne.length;ge<Ie;++ge){const ze=ne[ge];w=w[ze]||(w[ze]=Object.create(null))}return w}function Li(w,j,ne){return"string"==typeof j?Ar(ls(w,j),ne):Ar(ls(w,""),j)}class cr{constructor(j,ne){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=ge=>ge.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(ge,Ie)=>rr(Ie.backgroundColor),this.hoverBorderColor=(ge,Ie)=>rr(Ie.borderColor),this.hoverColor=(ge,Ie)=>rr(Ie.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(j),this.apply(ne)}set(j,ne){return Li(this,j,ne)}get(j){return ls(this,j)}describe(j,ne){return Li(Ls,j,ne)}override(j,ne){return Li(Hr,j,ne)}route(j,ne,ge,Ie){const ze=ls(this,j),et=ls(this,ge),pt="_"+ne;Object.defineProperties(ze,{[pt]:{value:ze[ne],writable:!0},[ne]:{enumerable:!0,get(){const T=this[pt],re=et[Ie];return Ni(T)?Object.assign({},re,T):zi(T,re)},set(T){this[pt]=T}}})}apply(j){j.forEach(ne=>ne(this))}}var Sr=new cr({_scriptable:w=>!w.startsWith("on"),_indexable:w=>"events"!==w,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[function Ge(w){w.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),w.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:j=>"onProgress"!==j&&"onComplete"!==j&&"fn"!==j}),w.set("animations",{colors:{type:"color",properties:Ue},numbers:{type:"number",properties:pr}}),w.describe("animations",{_fallback:"animation"}),w.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:j=>0|j}}}})},function Z(w){w.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})},function Yr(w){w.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(j,ne)=>ne.lineWidth,tickColor:(j,ne)=>ne.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Fr.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),w.route("scale.ticks","color","","color"),w.route("scale.grid","color","","borderColor"),w.route("scale.border","color","","borderColor"),w.route("scale.title","color","","color"),w.describe("scale",{_fallback:!1,_scriptable:j=>!j.startsWith("before")&&!j.startsWith("after")&&"callback"!==j&&"parser"!==j,_indexable:j=>"borderDash"!==j&&"tickBorderDash"!==j&&"dash"!==j}),w.describe("scales",{_fallback:"scale"}),w.describe("scale.ticks",{_scriptable:j=>"backdropPadding"!==j&&"callback"!==j,_indexable:j=>"backdropPadding"!==j})}]);function As(w,j,ne,ge,Ie){let ze=j[Ie];return ze||(ze=j[Ie]=w.measureText(Ie).width,ne.push(Ie)),ze>ge&&(ge=ze),ge}function Ia(w,j,ne,ge){let Ie=(ge=ge||{}).data=ge.data||{},ze=ge.garbageCollect=ge.garbageCollect||[];ge.font!==j&&(Ie=ge.data={},ze=ge.garbageCollect=[],ge.font=j),w.save(),w.font=j;let et=0;const pt=ne.length;let T,re,z,ce,Ve;for(T=0;T<pt;T++)if(ce=ne[T],null==ce||ti(ce)){if(ti(ce))for(re=0,z=ce.length;re<z;re++)Ve=ce[re],null!=Ve&&!ti(Ve)&&(et=As(w,Ie,ze,et,Ve))}else et=As(w,Ie,ze,et,ce);w.restore();const kt=ze.length/2;if(kt>ne.length){for(T=0;T<kt;T++)delete Ie[ze[T]];ze.splice(0,kt)}return et}function go(w,j,ne){const ge=w.currentDevicePixelRatio,Ie=0!==ne?Math.max(ne/2,.5):0;return Math.round((j-Ie)*ge)/ge+Ie}function ua(w,j){!j&&!w||((j=j||w.getContext("2d")).save(),j.resetTransform(),j.clearRect(0,0,w.width,w.height),j.restore())}function Vs(w,j,ne,ge){Qs(w,j,ne,ge,null)}function Qs(w,j,ne,ge,Ie){let ze,et,pt,T,re,z,ce,Ve;const kt=j.pointStyle,sn=j.rotation,vn=j.radius;let kn=(sn||0)*Ji;if(kt&&"object"==typeof kt&&(ze=kt.toString(),"[object HTMLImageElement]"===ze||"[object HTMLCanvasElement]"===ze))return w.save(),w.translate(ne,ge),w.rotate(kn),w.drawImage(kt,-kt.width/2,-kt.height/2,kt.width,kt.height),void w.restore();if(!(isNaN(vn)||vn<=0)){switch(w.beginPath(),kt){default:Ie?w.ellipse(ne,ge,Ie/2,vn,0,0,Ir):w.arc(ne,ge,vn,0,Ir),w.closePath();break;case"triangle":z=Ie?Ie/2:vn,w.moveTo(ne+Math.sin(kn)*z,ge-Math.cos(kn)*vn),kn+=ve,w.lineTo(ne+Math.sin(kn)*z,ge-Math.cos(kn)*vn),kn+=ve,w.lineTo(ne+Math.sin(kn)*z,ge-Math.cos(kn)*vn),w.closePath();break;case"rectRounded":re=.516*vn,T=vn-re,et=Math.cos(kn+Xe)*T,ce=Math.cos(kn+Xe)*(Ie?Ie/2-re:T),pt=Math.sin(kn+Xe)*T,Ve=Math.sin(kn+Xe)*(Ie?Ie/2-re:T),w.arc(ne-ce,ge-pt,re,kn-Cr,kn-_r),w.arc(ne+Ve,ge-et,re,kn-_r,kn),w.arc(ne+ce,ge+pt,re,kn,kn+_r),w.arc(ne-Ve,ge+et,re,kn+_r,kn+Cr),w.closePath();break;case"rect":if(!sn){T=Math.SQRT1_2*vn,z=Ie?Ie/2:T,w.rect(ne-z,ge-T,2*z,2*T);break}kn+=Xe;case"rectRot":ce=Math.cos(kn)*(Ie?Ie/2:vn),et=Math.cos(kn)*vn,pt=Math.sin(kn)*vn,Ve=Math.sin(kn)*(Ie?Ie/2:vn),w.moveTo(ne-ce,ge-pt),w.lineTo(ne+Ve,ge-et),w.lineTo(ne+ce,ge+pt),w.lineTo(ne-Ve,ge+et),w.closePath();break;case"crossRot":kn+=Xe;case"cross":ce=Math.cos(kn)*(Ie?Ie/2:vn),et=Math.cos(kn)*vn,pt=Math.sin(kn)*vn,Ve=Math.sin(kn)*(Ie?Ie/2:vn),w.moveTo(ne-ce,ge-pt),w.lineTo(ne+ce,ge+pt),w.moveTo(ne+Ve,ge-et),w.lineTo(ne-Ve,ge+et);break;case"star":ce=Math.cos(kn)*(Ie?Ie/2:vn),et=Math.cos(kn)*vn,pt=Math.sin(kn)*vn,Ve=Math.sin(kn)*(Ie?Ie/2:vn),w.moveTo(ne-ce,ge-pt),w.lineTo(ne+ce,ge+pt),w.moveTo(ne+Ve,ge-et),w.lineTo(ne-Ve,ge+et),kn+=Xe,ce=Math.cos(kn)*(Ie?Ie/2:vn),et=Math.cos(kn)*vn,pt=Math.sin(kn)*vn,Ve=Math.sin(kn)*(Ie?Ie/2:vn),w.moveTo(ne-ce,ge-pt),w.lineTo(ne+ce,ge+pt),w.moveTo(ne+Ve,ge-et),w.lineTo(ne-Ve,ge+et);break;case"line":et=Ie?Ie/2:Math.cos(kn)*vn,pt=Math.sin(kn)*vn,w.moveTo(ne-et,ge-pt),w.lineTo(ne+et,ge+pt);break;case"dash":w.moveTo(ne,ge),w.lineTo(ne+Math.cos(kn)*(Ie?Ie/2:vn),ge+Math.sin(kn)*vn);break;case!1:w.closePath()}w.fill(),j.borderWidth>0&&w.stroke()}}function Pr(w,j,ne){return ne=ne||.5,!j||w&&w.x>j.left-ne&&w.x<j.right+ne&&w.y>j.top-ne&&w.y<j.bottom+ne}function Rn(w,j){w.save(),w.beginPath(),w.rect(j.left,j.top,j.right-j.left,j.bottom-j.top),w.clip()}function Bi(w){w.restore()}function Mi(w,j,ne,ge,Ie){if(!j)return w.lineTo(ne.x,ne.y);if("middle"===Ie){const ze=(j.x+ne.x)/2;w.lineTo(ze,j.y),w.lineTo(ze,ne.y)}else"after"===Ie!=!!ge?w.lineTo(j.x,ne.y):w.lineTo(ne.x,j.y);w.lineTo(ne.x,ne.y)}function Ws(w,j,ne,ge){if(!j)return w.lineTo(ne.x,ne.y);w.bezierCurveTo(ge?j.cp1x:j.cp2x,ge?j.cp1y:j.cp2y,ge?ne.cp2x:ne.cp1x,ge?ne.cp2y:ne.cp1y,ne.x,ne.y)}function ws(w,j,ne,ge,Ie){if(Ie.strikethrough||Ie.underline){const ze=w.measureText(ge),et=j-ze.actualBoundingBoxLeft,pt=j+ze.actualBoundingBoxRight,re=ne+ze.actualBoundingBoxDescent,z=Ie.strikethrough?(ne-ze.actualBoundingBoxAscent+re)/2:re;w.strokeStyle=w.fillStyle,w.beginPath(),w.lineWidth=Ie.decorationWidth||2,w.moveTo(et,z),w.lineTo(pt,z),w.stroke()}}function ko(w,j){const ne=w.fillStyle;w.fillStyle=j.color,w.fillRect(j.left,j.top,j.width,j.height),w.fillStyle=ne}function ps(w,j,ne,ge,Ie,ze={}){const et=ti(j)?j:[j],pt=ze.strokeWidth>0&&""!==ze.strokeColor;let T,re;for(w.save(),w.font=Ie.string,function es(w,j){j.translation&&w.translate(j.translation[0],j.translation[1]),nr(j.rotation)||w.rotate(j.rotation),j.color&&(w.fillStyle=j.color),j.textAlign&&(w.textAlign=j.textAlign),j.textBaseline&&(w.textBaseline=j.textBaseline)}(w,ze),T=0;T<et.length;++T)re=et[T],ze.backdrop&&ko(w,ze.backdrop),pt&&(ze.strokeColor&&(w.strokeStyle=ze.strokeColor),nr(ze.strokeWidth)||(w.lineWidth=ze.strokeWidth),w.strokeText(re,ne,ge,ze.maxWidth)),w.fillText(re,ne,ge,ze.maxWidth),ws(w,ne,ge,re,ze),ge+=Number(Ie.lineHeight);w.restore()}function No(w,j){const{x:ne,y:ge,w:Ie,h:ze,radius:et}=j;w.arc(ne+et.topLeft,ge+et.topLeft,et.topLeft,1.5*Cr,Cr,!0),w.lineTo(ne,ge+ze-et.bottomLeft),w.arc(ne+et.bottomLeft,ge+ze-et.bottomLeft,et.bottomLeft,Cr,_r,!0),w.lineTo(ne+Ie-et.bottomRight,ge+ze),w.arc(ne+Ie-et.bottomRight,ge+ze-et.bottomRight,et.bottomRight,_r,0,!0),w.lineTo(ne+Ie,ge+et.topRight),w.arc(ne+Ie-et.topRight,ge+et.topRight,et.topRight,0,-_r,!0),w.lineTo(ne+et.topLeft,ge)}const So=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,bi=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function ra(w,j){const ne=(""+w).match(So);if(!ne||"normal"===ne[1])return 1.2*j;switch(w=+ne[2],ne[3]){case"px":return w;case"%":w/=100}return j*w}const lo=w=>+w||0;function Bs(w,j){const ne={},ge=Ni(j),Ie=ge?Object.keys(j):j,ze=Ni(w)?ge?et=>zi(w[et],w[j[et]]):et=>w[et]:()=>w;for(const et of Ie)ne[et]=lo(ze(et));return ne}function kr(w){return Bs(w,{top:"y",right:"x",bottom:"y",left:"x"})}function da(w){return Bs(w,["topLeft","topRight","bottomLeft","bottomRight"])}function Do(w){const j=kr(w);return j.width=j.left+j.right,j.height=j.top+j.bottom,j}function Ds(w,j){let ne=zi((w=w||{}).size,(j=j||Sr.font).size);"string"==typeof ne&&(ne=parseInt(ne,10));let ge=zi(w.style,j.style);ge&&!(""+ge).match(bi)&&(console.warn('Invalid font style specified: "'+ge+'"'),ge=void 0);const Ie={family:zi(w.family,j.family),lineHeight:ra(zi(w.lineHeight,j.lineHeight),ne),size:ne,style:ge,weight:zi(w.weight,j.weight),string:""};return Ie.string=function no(w){return!w||nr(w.size)||nr(w.family)?null:(w.style?w.style+" ":"")+(w.weight?w.weight+" ":"")+w.size+"px "+w.family}(Ie),Ie}function Fo(w,j,ne,ge){let ze,et,pt,Ie=!0;for(ze=0,et=w.length;ze<et;++ze)if(pt=w[ze],void 0!==pt&&(void 0!==j&&"function"==typeof pt&&(pt=pt(j),Ie=!1),void 0!==ne&&ti(pt)&&(pt=pt[ne%pt.length],Ie=!1),void 0!==pt))return ge&&!Ie&&(ge.cacheable=!1),pt}function Ra(w,j,ne){const{min:ge,max:Ie}=w,ze=as(j,(Ie-ge)/2),et=(pt,T)=>ne&&0===pt?0:pt+T;return{min:et(ge,-Math.abs(ze)),max:et(Ie,ze)}}function Ps(w,j){return Object.assign(Object.create(w),j)}function Ss(w,j=[""],ne,ge,Ie=(()=>w[0])){const ze=ne||w;typeof ge>"u"&&(ge=gs("_fallback",w));const et={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:w,_rootScopes:ze,_fallback:ge,_getTarget:Ie,override:pt=>Ss([pt,...w],j,ze,ge)};return new Proxy(et,{deleteProperty:(pt,T)=>(delete pt[T],delete pt._keys,delete w[0][T],!0),get:(pt,T)=>Wo(pt,T,()=>function Zo(w,j,ne,ge){let Ie;for(const ze of j)if(Ie=gs(br(ze,w),ne),typeof Ie<"u")return ha(w,Ie)?Zs(ne,ge,w,Ie):Ie}(T,j,w,pt)),getOwnPropertyDescriptor:(pt,T)=>Reflect.getOwnPropertyDescriptor(pt._scopes[0],T),getPrototypeOf:()=>Reflect.getPrototypeOf(w[0]),has:(pt,T)=>Ms(pt).includes(T),ownKeys:pt=>Ms(pt),set(pt,T,re){const z=pt._storage||(pt._storage=Ie());return pt[T]=z[T]=re,delete pt._keys,!0}})}function Us(w,j,ne,ge){const Ie={_cacheable:!1,_proxy:w,_context:j,_subProxy:ne,_stack:new Set,_descriptors:Xo(w,ge),setContext:ze=>Us(w,ze,ne,ge),override:ze=>Us(w.override(ze),j,ne,ge)};return new Proxy(Ie,{deleteProperty:(ze,et)=>(delete ze[et],delete w[et],!0),get:(ze,et,pt)=>Wo(ze,et,()=>function _o(w,j,ne){const{_proxy:ge,_context:Ie,_subProxy:ze,_descriptors:et}=w;let pt=ge[j];return vr(pt)&&et.isScriptable(j)&&(pt=function us(w,j,ne,ge){const{_proxy:Ie,_context:ze,_subProxy:et,_stack:pt}=ne;if(pt.has(w))throw new Error("Recursion detected: "+Array.from(pt).join("->")+"->"+w);pt.add(w);let T=j(ze,et||ge);return pt.delete(w),ha(w,T)&&(T=Zs(Ie._scopes,Ie,w,T)),T}(j,pt,w,ne)),ti(pt)&&pt.length&&(pt=function yo(w,j,ne,ge){const{_proxy:Ie,_context:ze,_subProxy:et,_descriptors:pt}=ne;if(typeof ze.index<"u"&&ge(w))return j[ze.index%j.length];if(Ni(j[0])){const T=j,re=Ie._scopes.filter(z=>z!==T);j=[];for(const z of T){const ce=Zs(re,Ie,w,z);j.push(Us(ce,ze,et&&et[w],pt))}}return j}(j,pt,w,et.isIndexable)),ha(j,pt)&&(pt=Us(pt,Ie,ze&&ze[j],et)),pt}(ze,et,pt)),getOwnPropertyDescriptor:(ze,et)=>ze._descriptors.allKeys?Reflect.has(w,et)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(w,et),getPrototypeOf:()=>Reflect.getPrototypeOf(w),has:(ze,et)=>Reflect.has(w,et),ownKeys:()=>Reflect.ownKeys(w),set:(ze,et,pt)=>(w[et]=pt,delete ze[et],!0)})}function Xo(w,j={scriptable:!0,indexable:!0}){const{_scriptable:ne=j.scriptable,_indexable:ge=j.indexable,_allKeys:Ie=j.allKeys}=w;return{allKeys:Ie,scriptable:ne,indexable:ge,isScriptable:vr(ne)?ne:()=>ne,isIndexable:vr(ge)?ge:()=>ge}}const br=(w,j)=>w?w+is(j):j,ha=(w,j)=>Ni(j)&&"adapters"!==w&&(null===Object.getPrototypeOf(j)||j.constructor===Object);function Wo(w,j,ne){if(Object.prototype.hasOwnProperty.call(w,j)||"constructor"===j)return w[j];const ge=ne();return w[j]=ge,ge}function Xs(w,j,ne){return vr(w)?w(j,ne):w}const Uo=(w,j)=>!0===w?j:"string"==typeof w?Is(j,w):void 0;function ms(w,j,ne,ge,Ie){for(const ze of j){const et=Uo(ne,ze);if(et){w.add(et);const pt=Xs(et._fallback,ne,Ie);if(typeof pt<"u"&&pt!==ne&&pt!==ge)return pt}else if(!1===et&&typeof ge<"u"&&ne!==ge)return null}return!1}function Zs(w,j,ne,ge){const Ie=j._rootScopes,ze=Xs(j._fallback,ne,ge),et=[...w,...Ie],pt=new Set;pt.add(ge);let T=ks(pt,et,ne,ze||ne,ge);return!(null===T||typeof ze<"u"&&ze!==ne&&(T=ks(pt,et,ze,T,ge),null===T))&&Ss(Array.from(pt),[""],Ie,ze,()=>function js(w,j,ne){const ge=w._getTarget();j in ge||(ge[j]={});const Ie=ge[j];return ti(Ie)&&Ni(ne)?ne:Ie||{}}(j,ne,ge))}function ks(w,j,ne,ge,Ie){for(;ne;)ne=ms(w,j,ne,ge,Ie);return ne}function gs(w,j){for(const ne of j){if(!ne)continue;const ge=ne[w];if(typeof ge<"u")return ge}}function Ms(w){let j=w._keys;return j||(j=w._keys=function Ks(w){const j=new Set;for(const ne of w)for(const ge of Object.keys(ne).filter(Ie=>!Ie.startsWith("_")))j.add(ge);return Array.from(j)}(w._scopes)),j}function ts(w,j,ne,ge){const{iScale:Ie}=w,{key:ze="r"}=this._parsing,et=new Array(ge);let pt,T,re,z;for(pt=0,T=ge;pt<T;++pt)re=pt+ne,z=j[re],et[pt]={r:Ie.parse(Is(z,ze),re)};return et}const sa=Number.EPSILON||1e-14,qs=(w,j)=>j<w.length&&!w[j].skip&&w[j],Lo=w=>"x"===w?"y":"x";function oa(w,j,ne,ge){const Ie=w.skip?j:w,ze=j,et=ne.skip?j:ne,pt=it(ze,Ie),T=it(et,ze);let re=pt/(pt+T),z=T/(pt+T);re=isNaN(re)?0:re,z=isNaN(z)?0:z;const ce=ge*re,Ve=ge*z;return{previous:{x:ze.x-ce*(et.x-Ie.x),y:ze.y-ce*(et.y-Ie.y)},next:{x:ze.x+Ve*(et.x-Ie.x),y:ze.y+Ve*(et.y-Ie.y)}}}function Se(w,j,ne){return Math.max(Math.min(w,ne),j)}function hi(w,j,ne,ge,Ie){let ze,et,pt,T;if(j.spanGaps&&(w=w.filter(re=>!re.skip)),"monotone"===j.cubicInterpolationMode)!function X(w,j="x"){const ne=Lo(j),ge=w.length,Ie=Array(ge).fill(0),ze=Array(ge);let et,pt,T,re=qs(w,0);for(et=0;et<ge;++et)if(pt=T,T=re,re=qs(w,et+1),T){if(re){const z=re[j]-T[j];Ie[et]=0!==z?(re[ne]-T[ne])/z:0}ze[et]=pt?re?Ee(Ie[et-1])!==Ee(Ie[et])?0:(Ie[et-1]+Ie[et])/2:Ie[et-1]:Ie[et]}(function ue(w,j,ne){const ge=w.length;let Ie,ze,et,pt,T,re=qs(w,0);for(let z=0;z<ge-1;++z)if(T=re,re=qs(w,z+1),T&&re){if(we(j[z],0,sa)){ne[z]=ne[z+1]=0;continue}Ie=ne[z]/j[z],ze=ne[z+1]/j[z],pt=Math.pow(Ie,2)+Math.pow(ze,2),!(pt<=9)&&(et=3/Math.sqrt(pt),ne[z]=Ie*et*j[z],ne[z+1]=ze*et*j[z])}})(w,Ie,ze),function me(w,j,ne="x"){const ge=Lo(ne),Ie=w.length;let ze,et,pt,T=qs(w,0);for(let re=0;re<Ie;++re){if(et=pt,pt=T,T=qs(w,re+1),!pt)continue;const z=pt[ne],ce=pt[ge];et&&(ze=(z-et[ne])/3,pt[`cp1${ne}`]=z-ze,pt[`cp1${ge}`]=ce-ze*j[re]),T&&(ze=(T[ne]-z)/3,pt[`cp2${ne}`]=z+ze,pt[`cp2${ge}`]=ce+ze*j[re])}}(w,ze,j)}(w,Ie);else{let re=ge?w[w.length-1]:w[0];for(ze=0,et=w.length;ze<et;++ze)pt=w[ze],T=oa(re,pt,w[Math.min(ze+1,et-(ge?0:1))%et],j.tension),pt.cp1x=T.previous.x,pt.cp1y=T.previous.y,pt.cp2x=T.next.x,pt.cp2y=T.next.y,re=pt}j.capBezierPoints&&function st(w,j){let ne,ge,Ie,ze,et,pt=Pr(w[0],j);for(ne=0,ge=w.length;ne<ge;++ne)et=ze,ze=pt,pt=ne<ge-1&&Pr(w[ne+1],j),ze&&(Ie=w[ne],et&&(Ie.cp1x=Se(Ie.cp1x,j.left,j.right),Ie.cp1y=Se(Ie.cp1y,j.top,j.bottom)),pt&&(Ie.cp2x=Se(Ie.cp2x,j.left,j.right),Ie.cp2y=Se(Ie.cp2y,j.top,j.bottom)))}(w,ne)}function mr(){return typeof window<"u"&&typeof document<"u"}function vo(w){let j=w.parentNode;return j&&"[object ShadowRoot]"===j.toString()&&(j=j.host),j}function To(w,j,ne){let ge;return"string"==typeof w?(ge=parseInt(w,10),-1!==w.indexOf("%")&&(ge=ge/100*j.parentNode[ne])):ge=w,ge}const ur=w=>w.ownerDocument.defaultView.getComputedStyle(w,null),Vo=["top","right","bottom","left"];function Mo(w,j,ne){const ge={};ne=ne?"-"+ne:"";for(let Ie=0;Ie<4;Ie++){const ze=Vo[Ie];ge[ze]=parseFloat(w[j+"-"+ze+ne])||0}return ge.width=ge.left+ge.right,ge.height=ge.top+ge.bottom,ge}const Da=(w,j,ne)=>(w>0||j>0)&&(!ne||!ne.shadowRoot);function Oo(w,j){if("native"in w)return w;const{canvas:ne,currentDevicePixelRatio:ge}=j,Ie=ur(ne),ze="border-box"===Ie.boxSizing,et=Mo(Ie,"padding"),pt=Mo(Ie,"border","width"),{x:T,y:re,box:z}=function fa(w,j){const ne=w.touches,ge=ne&&ne.length?ne[0]:w,{offsetX:Ie,offsetY:ze}=ge;let pt,T,et=!1;if(Da(Ie,ze,w.target))pt=Ie,T=ze;else{const re=j.getBoundingClientRect();pt=ge.clientX-re.left,T=ge.clientY-re.top,et=!0}return{x:pt,y:T,box:et}}(w,ne),ce=et.left+(z&&pt.left),Ve=et.top+(z&&pt.top);let{width:kt,height:sn}=j;return ze&&(kt-=et.width+pt.width,sn-=et.height+pt.height),{x:Math.round((T-ce)/kt*ne.width/ge),y:Math.round((re-Ve)/sn*ne.height/ge)}}const _a=w=>Math.round(10*w)/10;function ao(w,j,ne,ge){const Ie=ur(w),ze=Mo(Ie,"margin"),et=To(Ie.maxWidth,w,"clientWidth")||Gi,pt=To(Ie.maxHeight,w,"clientHeight")||Gi,T=function aa(w,j,ne){let ge,Ie;if(void 0===j||void 0===ne){const ze=w&&vo(w);if(ze){const et=ze.getBoundingClientRect(),pt=ur(ze),T=Mo(pt,"border","width"),re=Mo(pt,"padding");j=et.width-re.width-T.width,ne=et.height-re.height-T.height,ge=To(pt.maxWidth,ze,"clientWidth"),Ie=To(pt.maxHeight,ze,"clientHeight")}else j=w.clientWidth,ne=w.clientHeight}return{width:j,height:ne,maxWidth:ge||Gi,maxHeight:Ie||Gi}}(w,j,ne);let{width:re,height:z}=T;if("content-box"===Ie.boxSizing){const Ve=Mo(Ie,"border","width"),kt=Mo(Ie,"padding");re-=kt.width+Ve.width,z-=kt.height+Ve.height}return re=Math.max(0,re-ze.width),z=Math.max(0,ge?re/ge:z-ze.height),re=_a(Math.min(re,et,T.maxWidth)),z=_a(Math.min(z,pt,T.maxHeight)),re&&!z&&(z=_a(re/2)),(void 0!==j||void 0!==ne)&&ge&&T.height&&z>T.height&&(z=T.height,re=_a(Math.floor(z*ge))),{width:re,height:z}}function Bo(w,j,ne){const ge=j||1,Ie=Math.floor(w.height*ge),ze=Math.floor(w.width*ge);w.height=Math.floor(w.height),w.width=Math.floor(w.width);const et=w.canvas;return et.style&&(ne||!et.style.height&&!et.style.width)&&(et.style.height=`${w.height}px`,et.style.width=`${w.width}px`),(w.currentDevicePixelRatio!==ge||et.height!==Ie||et.width!==ze)&&(w.currentDevicePixelRatio=ge,et.height=Ie,et.width=ze,w.ctx.setTransform(ge,0,0,ge,0,0),!0)}const Ro=function(){let w=!1;try{const j={get passive(){return w=!0,!1}};mr()&&(window.addEventListener("test",null,j),window.removeEventListener("test",null,j))}catch{}return w}();function Ko(w,j){const ne=function Rs(w,j){return ur(w).getPropertyValue(j)}(w,j),ge=ne&&ne.match(/^(\d+)(\.\d+)?px$/);return ge?+ge[1]:void 0}function rs(w,j,ne,ge){return{x:w.x+ne*(j.x-w.x),y:w.y+ne*(j.y-w.y)}}function jo(w,j,ne,ge){return{x:w.x+ne*(j.x-w.x),y:"middle"===ge?ne<.5?w.y:j.y:"after"===ge?ne<1?w.y:j.y:ne>0?j.y:w.y}}function er(w,j,ne,ge){const Ie={x:w.cp2x,y:w.cp2y},ze={x:j.cp1x,y:j.cp1y},et=rs(w,Ie,ne),pt=rs(Ie,ze,ne),T=rs(ze,j,ne),re=rs(et,pt,ne),z=rs(pt,T,ne);return rs(re,z,ne)}const Oa=function(w,j){return{x:ne=>w+w+j-ne,setWidth(ne){j=ne},textAlign:ne=>"center"===ne?ne:"right"===ne?"left":"right",xPlus:(ne,ge)=>ne-ge,leftForLtr:(ne,ge)=>ne-ge}},Jo=function(){return{x:w=>w,setWidth(w){},textAlign:w=>w,xPlus:(w,j)=>w+j,leftForLtr:(w,j)=>w}};function ya(w,j,ne){return w?Oa(j,ne):Jo()}function Hs(w,j){let ne,ge;("ltr"===j||"rtl"===j)&&(ne=w.canvas.style,ge=[ne.getPropertyValue("direction"),ne.getPropertyPriority("direction")],ne.setProperty("direction",j,"important"),w.prevTextDirection=ge)}function ea(w,j){void 0!==j&&(delete w.prevTextDirection,w.canvas.style.setProperty("direction",j[0],j[1]))}function bo(w){return"angle"===w?{between:xt,compare:Ze,normalize:Ke}:{between:un,compare:(j,ne)=>j-ne,normalize:j=>j}}function Ns({start:w,end:j,count:ne,loop:ge,style:Ie}){return{start:w%ne,end:j%ne,loop:ge&&(j-w+1)%ne==0,style:Ie}}function uo(w,j,ne){if(!ne)return[w];const{property:ge,start:Ie,end:ze}=ne,et=j.length,{compare:pt,between:T,normalize:re}=bo(ge),{start:z,end:ce,loop:Ve,style:kt}=function va(w,j,ne){const{property:ge,start:Ie,end:ze}=ne,{between:et,normalize:pt}=bo(ge),T=j.length;let Ve,kt,{start:re,end:z,loop:ce}=w;if(ce){for(re+=T,z+=T,Ve=0,kt=T;Ve<kt&&et(pt(j[re%T][ge]),Ie,ze);++Ve)re--,z--;re%=T,z%=T}return z<re&&(z+=T),{start:re,end:z,loop:ce,style:w.style}}(w,j,ne),sn=[];let gr,Dr,Ki,vn=!1,kn=null;for(let io=z,yr=z;io<=ce;++io)Dr=j[io%et],!Dr.skip&&(gr=re(Dr[ge]),gr!==Ki&&(vn=T(gr,Ie,ze),null===kn&&(vn||T(Ie,Ki,gr)&&0!==pt(Ie,Ki))&&(kn=0===pt(gr,Ie)?io:yr),null!==kn&&(!vn||0===pt(ze,gr)||T(ze,Ki,gr))&&(sn.push(Ns({start:kn,end:io,loop:Ve,count:et,style:kt})),kn=null),yr=io,Ki=gr));return null!==kn&&sn.push(Ns({start:kn,end:ce,loop:Ve,count:et,style:kt})),sn}function ba(w,j){const ne=[],ge=w.segments;for(let Ie=0;Ie<ge.length;Ie++){const ze=uo(ge[Ie],w.points,j);ze.length&&ne.push(...ze)}return ne}function Ho(w,j){const ne=w.points,ge=w.options.spanGaps,Ie=ne.length;if(!Ie)return[];const ze=!!w._loop,{start:et,end:pt}=function Na(w,j,ne,ge){let Ie=0,ze=j-1;if(ne&&!ge)for(;Ie<j&&!w[Ie].skip;)Ie++;for(;Ie<j&&w[Ie].skip;)Ie++;for(Ie%=j,ne&&(ze+=Ie);ze>Ie&&w[ze%j].skip;)ze--;return ze%=j,{start:Ie,end:ze}}(ne,Ie,ze,ge);return Ys(w,!0===ge?[{start:et,end:pt,loop:ze}]:function xo(w,j,ne,ge){const Ie=w.length,ze=[];let T,et=j,pt=w[j];for(T=j+1;T<=ne;++T){const re=w[T%Ie];re.skip||re.stop?pt.skip||(ze.push({start:j%Ie,end:(T-1)%Ie,loop:ge=!1}),j=et=re.stop?T:null):(et=T,pt.skip&&(j=T)),pt=re}return null!==et&&ze.push({start:j%Ie,end:et%Ie,loop:ge}),ze}(ne,et,pt<et?pt+Ie:pt,!!w._fullLoop&&0===et&&pt===Ie-1),ne,j)}function Ys(w,j,ne,ge){return ge&&ge.setContext&&ne?function ca(w,j,ne,ge){const Ie=w._chart.getContext(),ze=Mr(w.options),{_datasetIndex:et,options:{spanGaps:pt}}=w,T=ne.length,re=[];let z=ze,ce=j[0].start,Ve=ce;function kt(sn,vn,kn,gr){const Dr=pt?-1:1;if(sn!==vn){for(sn+=T;ne[sn%T].skip;)sn-=Dr;for(;ne[vn%T].skip;)vn+=Dr;sn%T!=vn%T&&(re.push({start:sn%T,end:vn%T,loop:kn,style:gr}),z=gr,ce=vn%T)}}for(const sn of j){ce=pt?ce:sn.start;let kn,vn=ne[ce%T];for(Ve=ce+1;Ve<=sn.end;Ve++){const gr=ne[Ve%T];kn=Mr(ge.setContext(Ps(Ie,{type:"segment",p0:vn,p1:gr,p0DataIndex:(Ve-1)%T,p1DataIndex:Ve%T,datasetIndex:et}))),Ua(kn,z)&&kt(ce,Ve-1,sn.loop,z),vn=gr,z=kn}ce<Ve-1&&kt(ce,Ve-1,sn.loop,z)}return re}(w,j,ne,ge):j}function Mr(w){return{backgroundColor:w.backgroundColor,borderCapStyle:w.borderCapStyle,borderDash:w.borderDash,borderDashOffset:w.borderDashOffset,borderJoinStyle:w.borderJoinStyle,borderWidth:w.borderWidth,borderColor:w.borderColor}}function Ua(w,j){if(!j)return!1;const ne=[],ge=function(Ie,ze){return Sn(ze)?(ne.includes(ze)||ne.push(ze),ne.indexOf(ze)):ze};return JSON.stringify(w,ge)!==JSON.stringify(j,ge)}function $s(w,j,ne){return w.options.clip?w[ne]:j[ne]}function Fa(w,j){const ne=j._clip;if(ne.disabled)return!1;const ge=function Po(w,j){const{xScale:ne,yScale:ge}=w;return ne&&ge?{left:$s(ne,j,"left"),right:$s(ne,j,"right"),top:$s(ge,j,"top"),bottom:$s(ge,j,"bottom")}:j}(j,w.chartArea);return{left:!1===ne.left?0:ge.left-(!0===ne.left?0:ne.left),right:!1===ne.right?w.width:ge.right+(!0===ne.right?0:ne.right),top:!1===ne.top?0:ge.top-(!0===ne.top?0:ne.top),bottom:!1===ne.bottom?w.height:ge.bottom+(!0===ne.bottom?0:ne.bottom)}}},8759:(ei,Nt,ee)=>{var l=ee(9763);Math.pow(10,8);const Ce=6048e5,xe=864e5,at=6e4,ft=36e5,Lt=Symbol.for("constructDateFrom");function rt(K,O){return"function"==typeof K?K(O):K&&"object"==typeof K&&Lt in K?K[Lt](O):K instanceof Date?new K.constructor(O):new Date(O)}function Mt(K,O){return rt(O||K,K)}const fi={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function Ii(K){return(O={})=>{const V=O.width?String(O.width):K.defaultWidth;return K.formats[V]||K.formats[K.defaultWidth]}}const xn={date:Ii({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:Ii({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:Ii({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},Gr={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function Bt(K){return(O,V)=>{let je;if("formatting"===(V?.context?String(V.context):"standalone")&&K.formattingValues){const zt=K.defaultFormattingWidth||K.defaultWidth,li=V?.width?String(V.width):zt;je=K.formattingValues[li]||K.formattingValues[zt]}else{const zt=K.defaultWidth,li=V?.width?String(V.width):K.defaultWidth;je=K.values[li]||K.values[zt]}return je[K.argumentCallback?K.argumentCallback(O):O]}}function Jn(K){return(O,V={})=>{const J=V.width,Pt=O.match(J&&K.matchPatterns[J]||K.matchPatterns[K.defaultMatchWidth]);if(!Pt)return null;const zt=Pt[0],li=J&&K.parsePatterns[J]||K.parsePatterns[K.defaultParseWidth],oi=Array.isArray(li)?function nr(K,O){for(let V=0;V<K.length;V++)if(O(K[V]))return V}(li,wn=>wn.test(zt)):function Si(K,O){for(const V in K)if(Object.prototype.hasOwnProperty.call(K,V)&&O(K[V]))return V}(li,wn=>wn.test(zt));let Vi;return Vi=K.valueCallback?K.valueCallback(oi):oi,Vi=V.valueCallback?V.valueCallback(Vi):Vi,{value:Vi,rest:O.slice(zt.length)}}}const ii={code:"en-US",formatDistance:(K,O,V)=>{let J;const je=fi[K];return J="string"==typeof je?je:1===O?je.one:je.other.replace("{{count}}",O.toString()),V?.addSuffix?V.comparison&&V.comparison>0?"in "+J:J+" ago":J},formatLong:xn,formatRelative:(K,O,V,J)=>Gr[K],localize:{ordinalNumber:(K,O)=>{const V=Number(K),J=V%100;if(J>20||J<10)switch(J%10){case 1:return V+"st";case 2:return V+"nd";case 3:return V+"rd"}return V+"th"},era:Bt({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:Bt({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:K=>K-1}),month:Bt({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:Bt({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:Bt({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:function ti(K){return(O,V={})=>{const J=O.match(K.matchPattern);if(!J)return null;const je=J[0],Pt=O.match(K.parsePattern);if(!Pt)return null;let zt=K.valueCallback?K.valueCallback(Pt[0]):Pt[0];return zt=V.valueCallback?V.valueCallback(zt):zt,{value:zt,rest:O.slice(je.length)}}}({matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:K=>parseInt(K,10)}),era:Jn({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:Jn({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:K=>K+1}),month:Jn({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:Jn({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:Jn({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}},cs=(K,O)=>{switch(K){case"P":return O.date({width:"short"});case"PP":return O.date({width:"medium"});case"PPP":return O.date({width:"long"});default:return O.date({width:"full"})}},Fn=(K,O)=>{switch(K){case"p":return O.time({width:"short"});case"pp":return O.time({width:"medium"});case"ppp":return O.time({width:"long"});default:return O.time({width:"full"})}},gi={p:Fn,P:(K,O)=>{const V=K.match(/(P+)(p+)?/)||[],J=V[1],je=V[2];if(!je)return cs(K,O);let Pt;switch(J){case"P":Pt=O.dateTime({width:"short"});break;case"PP":Pt=O.dateTime({width:"medium"});break;case"PPP":Pt=O.dateTime({width:"long"});break;default:Pt=O.dateTime({width:"full"})}return Pt.replace("{{date}}",cs(J,O)).replace("{{time}}",Fn(je,O))}},Is=/^D+$/,is=/^Y+$/,bs=["D","DD","YY","YYYY"];function vr(K){return Is.test(K)}function Ur(K){return is.test(K)}function Kr(K,O,V){const J=function Cr(K,O,V){const J="Y"===K[0]?"years":"days of the month";return`Use \`${K.toLowerCase()}\` instead of \`${K}\` (in \`${O}\`) for formatting ${J} to the input \`${V}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}(K,O,V);if(console.warn(J),bs.includes(K))throw new RangeError(J)}let Ir={};function Jr(){return Ir}class we{subPriority=0;validate(O,V){return!0}}class Ct extends we{constructor(O,V,J,je,Pt){super(),this.value=O,this.validateValue=V,this.setValue=J,this.priority=je,Pt&&(this.subPriority=Pt)}validate(O,V){return this.validateValue(O,this.value,V)}set(O,V,J){return this.setValue(O,V,this.value,J)}}class an extends we{priority=10;subPriority=-1;constructor(O,V){super(),this.context=O||(J=>rt(V,J))}set(O,V){return V.timestampIsSet?O:rt(O,function Xe(K,O){const V=function ve(K){return"function"==typeof K&&K.prototype?.constructor===K}(O)?new O(0):rt(O,0);return V.setFullYear(K.getFullYear(),K.getMonth(),K.getDate()),V.setHours(K.getHours(),K.getMinutes(),K.getSeconds(),K.getMilliseconds()),V}(O,this.context))}}class mn{run(O,V,J,je){const Pt=this.parse(O,V,J,je);return Pt?{setter:new Ct(Pt.value,this.validate,this.set,this.priority,this.subPriority),rest:Pt.rest}:null}validate(O,V,J){return!0}}const jn_month=/^(1[0-2]|0?\d)/,jn_date=/^(3[0-1]|[0-2]?\d)/,jn_dayOfYear=/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,jn_week=/^(5[0-3]|[0-4]?\d)/,jn_hour23h=/^(2[0-3]|[0-1]?\d)/,jn_hour24h=/^(2[0-4]|[0-1]?\d)/,jn_hour11h=/^(1[0-1]|0?\d)/,jn_hour12h=/^(1[0-2]|0?\d)/,jn_minute=/^[0-5]?\d/,jn_second=/^[0-5]?\d/,jn_singleDigit=/^\d/,jn_twoDigits=/^\d{1,2}/,jn_threeDigits=/^\d{1,3}/,jn_fourDigits=/^\d{1,4}/,jn_anyDigitsSigned=/^-?\d+/,jn_singleDigitSigned=/^-?\d/,jn_twoDigitsSigned=/^-?\d{1,2}/,jn_threeDigitsSigned=/^-?\d{1,3}/,jn_fourDigitsSigned=/^-?\d{1,4}/,Yn_basicOptionalMinutes=/^([+-])(\d{2})(\d{2})?|Z/,Yn_basic=/^([+-])(\d{2})(\d{2})|Z/,Yn_basicOptionalSeconds=/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,Yn_extended=/^([+-])(\d{2}):(\d{2})|Z/,Yn_extendedOptionalSeconds=/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/;function Qn(K,O){return K&&{value:O(K.value),rest:K.rest}}function ki(K,O){const V=O.match(K);return V?{value:parseInt(V[0],10),rest:O.slice(V[0].length)}:null}function _t(K,O){const V=O.match(K);if(!V)return null;if("Z"===V[0])return{value:0,rest:O.slice(1)};const J="+"===V[1]?1:-1,je=V[2]?parseInt(V[2],10):0,Pt=V[3]?parseInt(V[3],10):0,zt=V[5]?parseInt(V[5],10):0;return{value:J*(je*ft+Pt*at+1e3*zt),rest:O.slice(V[0].length)}}function qe(K){return ki(jn_anyDigitsSigned,K)}function it(K,O){switch(K){case 1:return ki(jn_singleDigit,O);case 2:return ki(jn_twoDigits,O);case 3:return ki(jn_threeDigits,O);case 4:return ki(jn_fourDigits,O);default:return ki(new RegExp("^\\d{1,"+K+"}"),O)}}function Ze(K,O){switch(K){case 1:return ki(jn_singleDigitSigned,O);case 2:return ki(jn_twoDigitsSigned,O);case 3:return ki(jn_threeDigitsSigned,O);case 4:return ki(jn_fourDigitsSigned,O);default:return ki(new RegExp("^-?\\d{1,"+K+"}"),O)}}function Ke(K){switch(K){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;default:return 0}}function xt(K,O){const V=O>0,J=V?O:1-O;let je;if(J<=50)je=K||100;else{const Pt=J+50;je=K+100*Math.trunc(Pt/100)-(K>=Pt%100?100:0)}return V?je:1-je}function Yt(K){return K%400==0||K%4==0&&K%100!=0}function un(K,O){const V=Jr(),J=O?.weekStartsOn??O?.locale?.options?.weekStartsOn??V.weekStartsOn??V.locale?.options?.weekStartsOn??0,je=Mt(K,O?.in),Pt=je.getDay(),zt=(Pt<J?7:0)+Pt-J;return je.setDate(je.getDate()-zt),je.setHours(0,0,0,0),je}function or(K,O){const V=Mt(K,O?.in),J=V.getFullYear(),je=Jr(),Pt=O?.firstWeekContainsDate??O?.locale?.options?.firstWeekContainsDate??je.firstWeekContainsDate??je.locale?.options?.firstWeekContainsDate??1,zt=rt(O?.in||K,0);zt.setFullYear(J+1,0,Pt),zt.setHours(0,0,0,0);const li=un(zt,O),oi=rt(O?.in||K,0);oi.setFullYear(J,0,Pt),oi.setHours(0,0,0,0);const Vi=un(oi,O);return+V>=+li?J+1:+V>=+Vi?J:J-1}function jr(K,O){return un(K,{...O,weekStartsOn:1})}function fs(K,O){const V=Mt(K,O?.in),J=+un(V,O)-+function Yi(K,O){const V=Jr(),J=O?.firstWeekContainsDate??O?.locale?.options?.firstWeekContainsDate??V.firstWeekContainsDate??V.locale?.options?.firstWeekContainsDate??1,je=or(K,O),Pt=rt(O?.in||K,0);return Pt.setFullYear(je,0,J),Pt.setHours(0,0,0,0),un(Pt,O)}(V,O);return Math.round(J/Ce)+1}function jt(K,O){const V=Mt(K,O?.in),J=V.getFullYear(),je=rt(V,0);je.setFullYear(J+1,0,4),je.setHours(0,0,0,0);const Pt=jr(je),zt=rt(V,0);zt.setFullYear(J,0,4),zt.setHours(0,0,0,0);const li=jr(zt);return V.getTime()>=Pt.getTime()?J+1:V.getTime()>=li.getTime()?J:J-1}function rr(K,O){const V=Mt(K,O?.in),J=+jr(V)-+function Sn(K,O){const V=jt(K,O),J=rt(O?.in||K,0);return J.setFullYear(V,0,4),J.setHours(0,0,0,0),jr(J)}(V);return Math.round(J/Ce)+1}const Re=[31,28,31,30,31,30,31,31,30,31,30,31],Je=[31,29,31,30,31,30,31,31,30,31,30,31];function _i(K,O,V){const J=Mt(K,V?.in);return isNaN(O)?rt(V?.in||K,NaN):(O&&J.setDate(J.getDate()+O),J)}function Yr(K,O,V){const J=Jr(),je=V?.weekStartsOn??V?.locale?.options?.weekStartsOn??J.weekStartsOn??J.locale?.options?.weekStartsOn??0,Pt=Mt(K,V?.in),zt=Pt.getDay(),Vi=7-je;return _i(Pt,O<0||O>6?O-(zt+Vi)%7:((O%7+7)%7+Vi)%7-(zt+Vi)%7,V)}function ws(K){const O=Mt(K),V=new Date(Date.UTC(O.getFullYear(),O.getMonth(),O.getDate(),O.getHours(),O.getMinutes(),O.getSeconds(),O.getMilliseconds()));return V.setUTCFullYear(O.getFullYear()),+K-+V}const bi={G:new class si extends mn{priority=140;parse(O,V,J){switch(V){case"G":case"GG":case"GGG":return J.era(O,{width:"abbreviated"})||J.era(O,{width:"narrow"});case"GGGGG":return J.era(O,{width:"narrow"});default:return J.era(O,{width:"wide"})||J.era(O,{width:"abbreviated"})||J.era(O,{width:"narrow"})}}set(O,V,J){return V.era=J,O.setFullYear(J,0,1),O.setHours(0,0,0,0),O}incompatibleTokens=["R","u","t","T"]},y:new class Pn extends mn{priority=130;incompatibleTokens=["Y","R","u","w","I","i","e","c","t","T"];parse(O,V,J){const je=Pt=>({year:Pt,isTwoDigitYear:"yy"===V});switch(V){case"y":return Qn(it(4,O),je);case"yo":return Qn(J.ordinalNumber(O,{unit:"year"}),je);default:return Qn(it(V.length,O),je)}}validate(O,V){return V.isTwoDigitYear||V.year>0}set(O,V,J){const je=O.getFullYear();if(J.isTwoDigitYear){const zt=xt(J.year,je);return O.setFullYear(zt,0,1),O.setHours(0,0,0,0),O}return O.setFullYear("era"in V&&1!==V.era?1-J.year:J.year,0,1),O.setHours(0,0,0,0),O}},Y:new class Nr extends mn{priority=130;parse(O,V,J){const je=Pt=>({year:Pt,isTwoDigitYear:"YY"===V});switch(V){case"Y":return Qn(it(4,O),je);case"Yo":return Qn(J.ordinalNumber(O,{unit:"year"}),je);default:return Qn(it(V.length,O),je)}}validate(O,V){return V.isTwoDigitYear||V.year>0}set(O,V,J,je){const Pt=or(O,je);if(J.isTwoDigitYear){const li=xt(J.year,Pt);return O.setFullYear(li,0,je.firstWeekContainsDate),O.setHours(0,0,0,0),un(O,je)}return O.setFullYear("era"in V&&1!==V.era?1-J.year:J.year,0,je.firstWeekContainsDate),O.setHours(0,0,0,0),un(O,je)}incompatibleTokens=["y","R","u","Q","q","M","L","I","d","D","i","t","T"]},R:new class ar extends mn{priority=130;parse(O,V){return Ze("R"===V?4:V.length,O)}set(O,V,J){const je=rt(O,0);return je.setFullYear(J,0,4),je.setHours(0,0,0,0),jr(je)}incompatibleTokens=["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]},u:new class Wi extends mn{priority=130;parse(O,V){return Ze("u"===V?4:V.length,O)}set(O,V,J){return O.setFullYear(J,0,1),O.setHours(0,0,0,0),O}incompatibleTokens=["G","y","Y","R","w","I","i","e","c","t","T"]},Q:new class hs extends mn{priority=120;parse(O,V,J){switch(V){case"Q":case"QQ":return it(V.length,O);case"Qo":return J.ordinalNumber(O,{unit:"quarter"});case"QQQ":return J.quarter(O,{width:"abbreviated",context:"formatting"})||J.quarter(O,{width:"narrow",context:"formatting"});case"QQQQQ":return J.quarter(O,{width:"narrow",context:"formatting"});default:return J.quarter(O,{width:"wide",context:"formatting"})||J.quarter(O,{width:"abbreviated",context:"formatting"})||J.quarter(O,{width:"narrow",context:"formatting"})}}validate(O,V){return V>=1&&V<=4}set(O,V,J){return O.setMonth(3*(J-1),1),O.setHours(0,0,0,0),O}incompatibleTokens=["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]},q:new class Co extends mn{priority=120;parse(O,V,J){switch(V){case"q":case"qq":return it(V.length,O);case"qo":return J.ordinalNumber(O,{unit:"quarter"});case"qqq":return J.quarter(O,{width:"abbreviated",context:"standalone"})||J.quarter(O,{width:"narrow",context:"standalone"});case"qqqqq":return J.quarter(O,{width:"narrow",context:"standalone"});default:return J.quarter(O,{width:"wide",context:"standalone"})||J.quarter(O,{width:"abbreviated",context:"standalone"})||J.quarter(O,{width:"narrow",context:"standalone"})}}validate(O,V){return V>=1&&V<=4}set(O,V,J){return O.setMonth(3*(J-1),1),O.setHours(0,0,0,0),O}incompatibleTokens=["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]},M:new class qr extends mn{incompatibleTokens=["Y","R","q","Q","L","w","I","D","i","e","c","t","T"];priority=110;parse(O,V,J){const je=Pt=>Pt-1;switch(V){case"M":return Qn(ki(jn_month,O),je);case"MM":return Qn(it(2,O),je);case"Mo":return Qn(J.ordinalNumber(O,{unit:"month"}),je);case"MMM":return J.month(O,{width:"abbreviated",context:"formatting"})||J.month(O,{width:"narrow",context:"formatting"});case"MMMMM":return J.month(O,{width:"narrow",context:"formatting"});default:return J.month(O,{width:"wide",context:"formatting"})||J.month(O,{width:"abbreviated",context:"formatting"})||J.month(O,{width:"narrow",context:"formatting"})}}validate(O,V){return V>=0&&V<=11}set(O,V,J){return O.setMonth(J,1),O.setHours(0,0,0,0),O}},L:new class Es extends mn{priority=110;parse(O,V,J){const je=Pt=>Pt-1;switch(V){case"L":return Qn(ki(jn_month,O),je);case"LL":return Qn(it(2,O),je);case"Lo":return Qn(J.ordinalNumber(O,{unit:"month"}),je);case"LLL":return J.month(O,{width:"abbreviated",context:"standalone"})||J.month(O,{width:"narrow",context:"standalone"});case"LLLLL":return J.month(O,{width:"narrow",context:"standalone"});default:return J.month(O,{width:"wide",context:"standalone"})||J.month(O,{width:"abbreviated",context:"standalone"})||J.month(O,{width:"narrow",context:"standalone"})}}validate(O,V){return V>=0&&V<=11}set(O,V,J){return O.setMonth(J,1),O.setHours(0,0,0,0),O}incompatibleTokens=["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]},w:new class ut extends mn{priority=100;parse(O,V,J){switch(V){case"w":return ki(jn_week,O);case"wo":return J.ordinalNumber(O,{unit:"week"});default:return it(V.length,O)}}validate(O,V){return V>=1&&V<=53}set(O,V,J,je){return un(function Io(K,O,V){const J=Mt(K,V?.in),je=fs(J,V)-O;return J.setDate(J.getDate()-7*je),Mt(J,V?.in)}(O,J,je),je)}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","i","t","T"]},I:new class Z extends mn{priority=100;parse(O,V,J){switch(V){case"I":return ki(jn_week,O);case"Io":return J.ordinalNumber(O,{unit:"week"});default:return it(V.length,O)}}validate(O,V){return V>=1&&V<=53}set(O,V,J){return jr(function Ue(K,O,V){const J=Mt(K,V?.in),je=rr(J,V)-O;return J.setDate(J.getDate()-7*je),J}(O,J))}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]},d:new class tn extends mn{priority=90;subPriority=1;parse(O,V,J){switch(V){case"d":return ki(jn_date,O);case"do":return J.ordinalNumber(O,{unit:"date"});default:return it(V.length,O)}}validate(O,V){const je=Yt(O.getFullYear()),Pt=O.getMonth();return je?V>=1&&V<=Je[Pt]:V>=1&&V<=Re[Pt]}set(O,V,J){return O.setDate(J),O.setHours(0,0,0,0),O}incompatibleTokens=["Y","R","q","Q","w","I","D","i","e","c","t","T"]},D:new class gn extends mn{priority=90;subpriority=1;parse(O,V,J){switch(V){case"D":case"DD":return ki(jn_dayOfYear,O);case"Do":return J.ordinalNumber(O,{unit:"date"});default:return it(V.length,O)}}validate(O,V){return Yt(O.getFullYear())?V>=1&&V<=366:V>=1&&V<=365}set(O,V,J){return O.setMonth(0,J),O.setHours(0,0,0,0),O}incompatibleTokens=["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]},E:new class Ls extends mn{priority=90;parse(O,V,J){switch(V){case"E":case"EE":case"EEE":return J.day(O,{width:"abbreviated",context:"formatting"})||J.day(O,{width:"short",context:"formatting"})||J.day(O,{width:"narrow",context:"formatting"});case"EEEEE":return J.day(O,{width:"narrow",context:"formatting"});case"EEEEEE":return J.day(O,{width:"short",context:"formatting"})||J.day(O,{width:"narrow",context:"formatting"});default:return J.day(O,{width:"wide",context:"formatting"})||J.day(O,{width:"abbreviated",context:"formatting"})||J.day(O,{width:"short",context:"formatting"})||J.day(O,{width:"narrow",context:"formatting"})}}validate(O,V){return V>=0&&V<=6}set(O,V,J,je){return(O=Yr(O,J,je)).setHours(0,0,0,0),O}incompatibleTokens=["D","i","e","c","t","T"]},e:new class ls extends mn{priority=90;parse(O,V,J,je){const Pt=zt=>{const li=7*Math.floor((zt-1)/7);return(zt+je.weekStartsOn+6)%7+li};switch(V){case"e":case"ee":return Qn(it(V.length,O),Pt);case"eo":return Qn(J.ordinalNumber(O,{unit:"day"}),Pt);case"eee":return J.day(O,{width:"abbreviated",context:"formatting"})||J.day(O,{width:"short",context:"formatting"})||J.day(O,{width:"narrow",context:"formatting"});case"eeeee":return J.day(O,{width:"narrow",context:"formatting"});case"eeeeee":return J.day(O,{width:"short",context:"formatting"})||J.day(O,{width:"narrow",context:"formatting"});default:return J.day(O,{width:"wide",context:"formatting"})||J.day(O,{width:"abbreviated",context:"formatting"})||J.day(O,{width:"short",context:"formatting"})||J.day(O,{width:"narrow",context:"formatting"})}}validate(O,V){return V>=0&&V<=6}set(O,V,J,je){return(O=Yr(O,J,je)).setHours(0,0,0,0),O}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]},c:new class Li extends mn{priority=90;parse(O,V,J,je){const Pt=zt=>{const li=7*Math.floor((zt-1)/7);return(zt+je.weekStartsOn+6)%7+li};switch(V){case"c":case"cc":return Qn(it(V.length,O),Pt);case"co":return Qn(J.ordinalNumber(O,{unit:"day"}),Pt);case"ccc":return J.day(O,{width:"abbreviated",context:"standalone"})||J.day(O,{width:"short",context:"standalone"})||J.day(O,{width:"narrow",context:"standalone"});case"ccccc":return J.day(O,{width:"narrow",context:"standalone"});case"cccccc":return J.day(O,{width:"short",context:"standalone"})||J.day(O,{width:"narrow",context:"standalone"});default:return J.day(O,{width:"wide",context:"standalone"})||J.day(O,{width:"abbreviated",context:"standalone"})||J.day(O,{width:"short",context:"standalone"})||J.day(O,{width:"narrow",context:"standalone"})}}validate(O,V){return V>=0&&V<=6}set(O,V,J,je){return(O=Yr(O,J,je)).setHours(0,0,0,0),O}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]},i:new class Ia extends mn{priority=90;parse(O,V,J){const je=Pt=>0===Pt?7:Pt;switch(V){case"i":case"ii":return it(V.length,O);case"io":return J.ordinalNumber(O,{unit:"day"});case"iii":return Qn(J.day(O,{width:"abbreviated",context:"formatting"})||J.day(O,{width:"short",context:"formatting"})||J.day(O,{width:"narrow",context:"formatting"}),je);case"iiiii":return Qn(J.day(O,{width:"narrow",context:"formatting"}),je);case"iiiiii":return Qn(J.day(O,{width:"short",context:"formatting"})||J.day(O,{width:"narrow",context:"formatting"}),je);default:return Qn(J.day(O,{width:"wide",context:"formatting"})||J.day(O,{width:"abbreviated",context:"formatting"})||J.day(O,{width:"short",context:"formatting"})||J.day(O,{width:"narrow",context:"formatting"}),je)}}validate(O,V){return V>=1&&V<=7}set(O,V,J){return(O=function no(K,O,V){const J=Mt(K,V?.in),je=function cr(K,O){const V=Mt(K,O?.in).getDay();return 0===V?7:V}(J,V);return _i(J,O-je,V)}(O,J)).setHours(0,0,0,0),O}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]},a:new class go extends mn{priority=80;parse(O,V,J){switch(V){case"a":case"aa":case"aaa":return J.dayPeriod(O,{width:"abbreviated",context:"formatting"})||J.dayPeriod(O,{width:"narrow",context:"formatting"});case"aaaaa":return J.dayPeriod(O,{width:"narrow",context:"formatting"});default:return J.dayPeriod(O,{width:"wide",context:"formatting"})||J.dayPeriod(O,{width:"abbreviated",context:"formatting"})||J.dayPeriod(O,{width:"narrow",context:"formatting"})}}set(O,V,J){return O.setHours(Ke(J),0,0,0),O}incompatibleTokens=["b","B","H","k","t","T"]},b:new class ua extends mn{priority=80;parse(O,V,J){switch(V){case"b":case"bb":case"bbb":return J.dayPeriod(O,{width:"abbreviated",context:"formatting"})||J.dayPeriod(O,{width:"narrow",context:"formatting"});case"bbbbb":return J.dayPeriod(O,{width:"narrow",context:"formatting"});default:return J.dayPeriod(O,{width:"wide",context:"formatting"})||J.dayPeriod(O,{width:"abbreviated",context:"formatting"})||J.dayPeriod(O,{width:"narrow",context:"formatting"})}}set(O,V,J){return O.setHours(Ke(J),0,0,0),O}incompatibleTokens=["a","B","H","k","t","T"]},B:new class Vs extends mn{priority=80;parse(O,V,J){switch(V){case"B":case"BB":case"BBB":return J.dayPeriod(O,{width:"abbreviated",context:"formatting"})||J.dayPeriod(O,{width:"narrow",context:"formatting"});case"BBBBB":return J.dayPeriod(O,{width:"narrow",context:"formatting"});default:return J.dayPeriod(O,{width:"wide",context:"formatting"})||J.dayPeriod(O,{width:"abbreviated",context:"formatting"})||J.dayPeriod(O,{width:"narrow",context:"formatting"})}}set(O,V,J){return O.setHours(Ke(J),0,0,0),O}incompatibleTokens=["a","b","t","T"]},h:new class Qs extends mn{priority=70;parse(O,V,J){switch(V){case"h":return ki(jn_hour12h,O);case"ho":return J.ordinalNumber(O,{unit:"hour"});default:return it(V.length,O)}}validate(O,V){return V>=1&&V<=12}set(O,V,J){const je=O.getHours()>=12;return O.setHours(je&&J<12?J+12:je||12!==J?J:0,0,0,0),O}incompatibleTokens=["H","K","k","t","T"]},H:new class Pr extends mn{priority=70;parse(O,V,J){switch(V){case"H":return ki(jn_hour23h,O);case"Ho":return J.ordinalNumber(O,{unit:"hour"});default:return it(V.length,O)}}validate(O,V){return V>=0&&V<=23}set(O,V,J){return O.setHours(J,0,0,0),O}incompatibleTokens=["a","b","h","K","k","t","T"]},K:new class Rn extends mn{priority=70;parse(O,V,J){switch(V){case"K":return ki(jn_hour11h,O);case"Ko":return J.ordinalNumber(O,{unit:"hour"});default:return it(V.length,O)}}validate(O,V){return V>=0&&V<=11}set(O,V,J){return O.getHours()>=12&&J<12?O.setHours(J+12,0,0,0):O.setHours(J,0,0,0),O}incompatibleTokens=["h","H","k","t","T"]},k:new class Bi extends mn{priority=70;parse(O,V,J){switch(V){case"k":return ki(jn_hour24h,O);case"ko":return J.ordinalNumber(O,{unit:"hour"});default:return it(V.length,O)}}validate(O,V){return V>=1&&V<=24}set(O,V,J){return O.setHours(J<=24?J%24:J,0,0,0),O}incompatibleTokens=["a","b","h","H","K","t","T"]},m:new class Mi extends mn{priority=60;parse(O,V,J){switch(V){case"m":return ki(jn_minute,O);case"mo":return J.ordinalNumber(O,{unit:"minute"});default:return it(V.length,O)}}validate(O,V){return V>=0&&V<=59}set(O,V,J){return O.setMinutes(J,0,0),O}incompatibleTokens=["t","T"]},s:new class Ws extends mn{priority=50;parse(O,V,J){switch(V){case"s":return ki(jn_second,O);case"so":return J.ordinalNumber(O,{unit:"second"});default:return it(V.length,O)}}validate(O,V){return V>=0&&V<=59}set(O,V,J){return O.setSeconds(J,0),O}incompatibleTokens=["t","T"]},S:new class es extends mn{priority=30;parse(O,V){return Qn(it(V.length,O),je=>Math.trunc(je*Math.pow(10,3-V.length)))}set(O,V,J){return O.setMilliseconds(J),O}incompatibleTokens=["t","T"]},X:new class ko extends mn{priority=10;parse(O,V){switch(V){case"X":return _t(Yn_basicOptionalMinutes,O);case"XX":return _t(Yn_basic,O);case"XXXX":return _t(Yn_basicOptionalSeconds,O);case"XXXXX":return _t(Yn_extendedOptionalSeconds,O);default:return _t(Yn_extended,O)}}set(O,V,J){return V.timestampIsSet?O:rt(O,O.getTime()-ws(O)-J)}incompatibleTokens=["t","T","x"]},x:new class ps extends mn{priority=10;parse(O,V){switch(V){case"x":return _t(Yn_basicOptionalMinutes,O);case"xx":return _t(Yn_basic,O);case"xxxx":return _t(Yn_basicOptionalSeconds,O);case"xxxxx":return _t(Yn_extendedOptionalSeconds,O);default:return _t(Yn_extended,O)}}set(O,V,J){return V.timestampIsSet?O:rt(O,O.getTime()-ws(O)-J)}incompatibleTokens=["t","T","X"]},t:new class No extends mn{priority=40;parse(O){return qe(O)}set(O,V,J){return[rt(O,1e3*J),{timestampIsSet:!0}]}incompatibleTokens="*"},T:new class So extends mn{priority=20;parse(O){return qe(O)}set(O,V,J){return[rt(O,J),{timestampIsSet:!0}]}incompatibleTokens="*"}},ra=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,lo=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Bs=/^'([^]*?)'?$/,kr=/''/g,da=/\S/,Do=/[a-zA-Z]/;function Fo(K){return K.match(Bs)[1].replace(kr,"'")}const Ss={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Us=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,Xo=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,br=/^([+-])(\d{2})(?::?(\d{2}))?$/;function us(K){return K?parseInt(K):1}function Xs(K){return K&&parseFloat(K.replace(",","."))||0}const Zs=[31,null,31,30,31,30,31,31,30,31,30,31];function ks(K){return K%400==0||K%4==0&&K%100!=0}function Lo(K){return!(!function sa(K){return K instanceof Date||"object"==typeof K&&"[object Date]"===Object.prototype.toString.call(K)}(K)&&"number"!=typeof K||isNaN(+Mt(K)))}function ue(K,...O){const V=rt.bind(null,K||O.find(J=>"object"==typeof J));return O.map(V)}function me(K,O){const V=Mt(K,O?.in);return V.setHours(0,0,0,0),V}function Se(K,O,V){const[J,je]=ue(V?.in,K,O),Pt=me(J),zt=me(je),li=+Pt-ws(Pt),oi=+zt-ws(zt);return Math.round((li-oi)/xe)}function hi(K,O){const V=Mt(K,O?.in);return V.setFullYear(V.getFullYear(),0,1),V.setHours(0,0,0,0),V}function ur(K,O){return(K<0?"-":"")+Math.abs(K).toString().padStart(O,"0")}const Rs={y(K,O){const V=K.getFullYear(),J=V>0?V:1-V;return ur("yy"===O?J%100:J,O.length)},M(K,O){const V=K.getMonth();return"M"===O?String(V+1):ur(V+1,2)},d:(K,O)=>ur(K.getDate(),O.length),a(K,O){const V=K.getHours()/12>=1?"pm":"am";switch(O){case"a":case"aa":return V.toUpperCase();case"aaa":return V;case"aaaaa":return V[0];default:return"am"===V?"a.m.":"p.m."}},h:(K,O)=>ur(K.getHours()%12||12,O.length),H:(K,O)=>ur(K.getHours(),O.length),m:(K,O)=>ur(K.getMinutes(),O.length),s:(K,O)=>ur(K.getSeconds(),O.length),S(K,O){const V=O.length,J=K.getMilliseconds();return ur(Math.trunc(J*Math.pow(10,V-3)),O.length)}},Mo={G:function(K,O,V){const J=K.getFullYear()>0?1:0;switch(O){case"G":case"GG":case"GGG":return V.era(J,{width:"abbreviated"});case"GGGGG":return V.era(J,{width:"narrow"});default:return V.era(J,{width:"wide"})}},y:function(K,O,V){if("yo"===O){const J=K.getFullYear();return V.ordinalNumber(J>0?J:1-J,{unit:"year"})}return Rs.y(K,O)},Y:function(K,O,V,J){const je=or(K,J),Pt=je>0?je:1-je;return"YY"===O?ur(Pt%100,2):"Yo"===O?V.ordinalNumber(Pt,{unit:"year"}):ur(Pt,O.length)},R:function(K,O){return ur(jt(K),O.length)},u:function(K,O){return ur(K.getFullYear(),O.length)},Q:function(K,O,V){const J=Math.ceil((K.getMonth()+1)/3);switch(O){case"Q":return String(J);case"QQ":return ur(J,2);case"Qo":return V.ordinalNumber(J,{unit:"quarter"});case"QQQ":return V.quarter(J,{width:"abbreviated",context:"formatting"});case"QQQQQ":return V.quarter(J,{width:"narrow",context:"formatting"});default:return V.quarter(J,{width:"wide",context:"formatting"})}},q:function(K,O,V){const J=Math.ceil((K.getMonth()+1)/3);switch(O){case"q":return String(J);case"qq":return ur(J,2);case"qo":return V.ordinalNumber(J,{unit:"quarter"});case"qqq":return V.quarter(J,{width:"abbreviated",context:"standalone"});case"qqqqq":return V.quarter(J,{width:"narrow",context:"standalone"});default:return V.quarter(J,{width:"wide",context:"standalone"})}},M:function(K,O,V){const J=K.getMonth();switch(O){case"M":case"MM":return Rs.M(K,O);case"Mo":return V.ordinalNumber(J+1,{unit:"month"});case"MMM":return V.month(J,{width:"abbreviated",context:"formatting"});case"MMMMM":return V.month(J,{width:"narrow",context:"formatting"});default:return V.month(J,{width:"wide",context:"formatting"})}},L:function(K,O,V){const J=K.getMonth();switch(O){case"L":return String(J+1);case"LL":return ur(J+1,2);case"Lo":return V.ordinalNumber(J+1,{unit:"month"});case"LLL":return V.month(J,{width:"abbreviated",context:"standalone"});case"LLLLL":return V.month(J,{width:"narrow",context:"standalone"});default:return V.month(J,{width:"wide",context:"standalone"})}},w:function(K,O,V,J){const je=fs(K,J);return"wo"===O?V.ordinalNumber(je,{unit:"week"}):ur(je,O.length)},I:function(K,O,V){const J=rr(K);return"Io"===O?V.ordinalNumber(J,{unit:"week"}):ur(J,O.length)},d:function(K,O,V){return"do"===O?V.ordinalNumber(K.getDate(),{unit:"date"}):Rs.d(K,O)},D:function(K,O,V){const J=function vo(K,O){const V=Mt(K,O?.in);return Se(V,hi(V))+1}(K);return"Do"===O?V.ordinalNumber(J,{unit:"dayOfYear"}):ur(J,O.length)},E:function(K,O,V){const J=K.getDay();switch(O){case"E":case"EE":case"EEE":return V.day(J,{width:"abbreviated",context:"formatting"});case"EEEEE":return V.day(J,{width:"narrow",context:"formatting"});case"EEEEEE":return V.day(J,{width:"short",context:"formatting"});default:return V.day(J,{width:"wide",context:"formatting"})}},e:function(K,O,V,J){const je=K.getDay(),Pt=(je-J.weekStartsOn+8)%7||7;switch(O){case"e":return String(Pt);case"ee":return ur(Pt,2);case"eo":return V.ordinalNumber(Pt,{unit:"day"});case"eee":return V.day(je,{width:"abbreviated",context:"formatting"});case"eeeee":return V.day(je,{width:"narrow",context:"formatting"});case"eeeeee":return V.day(je,{width:"short",context:"formatting"});default:return V.day(je,{width:"wide",context:"formatting"})}},c:function(K,O,V,J){const je=K.getDay(),Pt=(je-J.weekStartsOn+8)%7||7;switch(O){case"c":return String(Pt);case"cc":return ur(Pt,O.length);case"co":return V.ordinalNumber(Pt,{unit:"day"});case"ccc":return V.day(je,{width:"abbreviated",context:"standalone"});case"ccccc":return V.day(je,{width:"narrow",context:"standalone"});case"cccccc":return V.day(je,{width:"short",context:"standalone"});default:return V.day(je,{width:"wide",context:"standalone"})}},i:function(K,O,V){const J=K.getDay(),je=0===J?7:J;switch(O){case"i":return String(je);case"ii":return ur(je,O.length);case"io":return V.ordinalNumber(je,{unit:"day"});case"iii":return V.day(J,{width:"abbreviated",context:"formatting"});case"iiiii":return V.day(J,{width:"narrow",context:"formatting"});case"iiiiii":return V.day(J,{width:"short",context:"formatting"});default:return V.day(J,{width:"wide",context:"formatting"})}},a:function(K,O,V){const je=K.getHours()/12>=1?"pm":"am";switch(O){case"a":case"aa":return V.dayPeriod(je,{width:"abbreviated",context:"formatting"});case"aaa":return V.dayPeriod(je,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return V.dayPeriod(je,{width:"narrow",context:"formatting"});default:return V.dayPeriod(je,{width:"wide",context:"formatting"})}},b:function(K,O,V){const J=K.getHours();let je;switch(je=12===J?"noon":0===J?"midnight":J/12>=1?"pm":"am",O){case"b":case"bb":return V.dayPeriod(je,{width:"abbreviated",context:"formatting"});case"bbb":return V.dayPeriod(je,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return V.dayPeriod(je,{width:"narrow",context:"formatting"});default:return V.dayPeriod(je,{width:"wide",context:"formatting"})}},B:function(K,O,V){const J=K.getHours();let je;switch(je=J>=17?"evening":J>=12?"afternoon":J>=4?"morning":"night",O){case"B":case"BB":case"BBB":return V.dayPeriod(je,{width:"abbreviated",context:"formatting"});case"BBBBB":return V.dayPeriod(je,{width:"narrow",context:"formatting"});default:return V.dayPeriod(je,{width:"wide",context:"formatting"})}},h:function(K,O,V){if("ho"===O){let J=K.getHours()%12;return 0===J&&(J=12),V.ordinalNumber(J,{unit:"hour"})}return Rs.h(K,O)},H:function(K,O,V){return"Ho"===O?V.ordinalNumber(K.getHours(),{unit:"hour"}):Rs.H(K,O)},K:function(K,O,V){const J=K.getHours()%12;return"Ko"===O?V.ordinalNumber(J,{unit:"hour"}):ur(J,O.length)},k:function(K,O,V){let J=K.getHours();return 0===J&&(J=24),"ko"===O?V.ordinalNumber(J,{unit:"hour"}):ur(J,O.length)},m:function(K,O,V){return"mo"===O?V.ordinalNumber(K.getMinutes(),{unit:"minute"}):Rs.m(K,O)},s:function(K,O,V){return"so"===O?V.ordinalNumber(K.getSeconds(),{unit:"second"}):Rs.s(K,O)},S:function(K,O){return Rs.S(K,O)},X:function(K,O,V){const J=K.getTimezoneOffset();if(0===J)return"Z";switch(O){case"X":return fa(J);case"XXXX":case"XX":return Oo(J);default:return Oo(J,":")}},x:function(K,O,V){const J=K.getTimezoneOffset();switch(O){case"x":return fa(J);case"xxxx":case"xx":return Oo(J);default:return Oo(J,":")}},O:function(K,O,V){const J=K.getTimezoneOffset();switch(O){case"O":case"OO":case"OOO":return"GMT"+Da(J,":");default:return"GMT"+Oo(J,":")}},z:function(K,O,V){const J=K.getTimezoneOffset();switch(O){case"z":case"zz":case"zzz":return"GMT"+Da(J,":");default:return"GMT"+Oo(J,":")}},t:function(K,O,V){return ur(Math.trunc(+K/1e3),O.length)},T:function(K,O,V){return ur(+K,O.length)}};function Da(K,O=""){const V=K>0?"-":"+",J=Math.abs(K),je=Math.trunc(J/60),Pt=J%60;return 0===Pt?V+String(je):V+String(je)+O+ur(Pt,2)}function fa(K,O){return K%60==0?(K>0?"-":"+")+ur(Math.abs(K)/60,2):Oo(K,O)}function Oo(K,O=""){const V=K>0?"-":"+",J=Math.abs(K);return V+ur(Math.trunc(J/60),2)+O+ur(J%60,2)}const aa=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,_a=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,ao=/^'([^]*?)'?$/,Bo=/''/g,Ro=/[a-zA-Z]/;function rs(K){const O=K.match(ao);return O?O[1].replace(Bo,"'"):K}function er(K,O,V){return rt(V?.in||K,+Mt(K)+O)}function ba(K,O,V){const J=Mt(K,V?.in);if(isNaN(O))return rt(V?.in||K,NaN);if(!O)return J;const je=J.getDate(),Pt=rt(V?.in||K,J.getTime());return Pt.setMonth(J.getMonth()+O+1,0),je>=Pt.getDate()?Pt:(J.setFullYear(Pt.getFullYear(),Pt.getMonth(),je),J)}function Mr(K,O){return+Mt(K)-+Mt(O)}function $s(K){return O=>{const J=(K?Math[K]:Math.trunc)(O);return 0===J?0:J}}function Ie(K,O,V){const[J,je]=ue(V?.in,K,O),Pt=ze(J,je),zt=Math.abs(Se(J,je));J.setDate(J.getDate()-Pt*zt);const oi=Pt*(zt-+(ze(J,je)===-Pt));return 0===oi?0:oi}function ze(K,O){const V=K.getFullYear()-O.getFullYear()||K.getMonth()-O.getMonth()||K.getDate()-O.getDate()||K.getHours()-O.getHours()||K.getMinutes()-O.getMinutes()||K.getSeconds()-O.getSeconds()||K.getMilliseconds()-O.getMilliseconds();return V<0?-1:V>0?1:V}function re(K,O){const V=+Mt(K)-+Mt(O);return V<0?-1:V>0?1:V}function kt(K,O){const V=Mt(K,O?.in);return V.setHours(23,59,59,999),V}function vn(K,O){const V=Mt(K,O?.in),J=V.getMonth();return V.setFullYear(V.getFullYear(),J+1,0),V.setHours(23,59,59,999),V}function Ki(K,O,V){const[J,je,Pt]=ue(V?.in,K,K,O),zt=re(je,Pt),li=Math.abs(function ce(K,O,V){const[J,je]=ue(V?.in,K,O);return 12*(J.getFullYear()-je.getFullYear())+(J.getMonth()-je.getMonth())}(je,Pt));if(li<1)return 0;1===je.getMonth()&&je.getDate()>27&&je.setDate(30),je.setMonth(je.getMonth()-zt*li);let oi=re(je,Pt)===-zt;(function gr(K,O){const V=Mt(K,O?.in);return+kt(V,O)==+vn(V,O)})(J)&&1===li&&1===re(J,Pt)&&(oi=!1);const Vi=zt*(li-+oi);return 0===Vi?0:Vi}const fn={datetime:"MMM d, yyyy, h:mm:ss aaaa",millisecond:"h:mm:ss.SSS aaaa",second:"h:mm:ss aaaa",minute:"h:mm aaaa",hour:"ha",day:"MMM d",week:"PP",month:"MMM yyyy",quarter:"qqq - yyyy",year:"yyyy"};l.ij._date.override({_id:"date-fns",formats:function(){return fn},parse:function(K,O){if(null===K||typeof K>"u")return null;const V=typeof K;return"number"===V||K instanceof Date?K=Mt(K):"string"===V&&(K="string"==typeof O?function Ds(K,O,V,J){const je=()=>rt(J?.in||V,NaN),Pt=function Ji(){return Object.assign({},Jr())}(),zt=J?.locale??Pt.locale??ii,li=J?.firstWeekContainsDate??J?.locale?.options?.firstWeekContainsDate??Pt.firstWeekContainsDate??Pt.locale?.options?.firstWeekContainsDate??1,oi=J?.weekStartsOn??J?.locale?.options?.weekStartsOn??Pt.weekStartsOn??Pt.locale?.options?.weekStartsOn??0;if(!O)return K?je():Mt(V,J?.in);const Vi={firstWeekContainsDate:li,weekStartsOn:oi,locale:zt},tr=[new an(J?.in,V)],wn=O.match(lo).map(Ln=>{const xi=Ln[0];return xi in gi?(0,gi[xi])(Ln,zt.formatLong):Ln}).join("").match(ra),fe=[];for(let Ln of wn){!J?.useAdditionalWeekYearTokens&&Ur(Ln)&&Kr(Ln,O,K),!J?.useAdditionalDayOfYearTokens&&vr(Ln)&&Kr(Ln,O,K);const xi=Ln[0],lr=bi[xi];if(lr){const{incompatibleTokens:dr}=lr;if(Array.isArray(dr)){const $n=fe.find(mi=>dr.includes(mi.token)||mi.token===xi);if($n)throw new RangeError(`The format string mustn't contain \`${$n.fullToken}\` and \`${Ln}\` at the same time`)}else if("*"===lr.incompatibleTokens&&fe.length>0)throw new RangeError(`The format string mustn't contain \`${Ln}\` and any other token at the same time`);fe.push({token:xi,fullToken:Ln});const ys=lr.run(K,Ln,zt.match,Vi);if(!ys)return je();tr.push(ys.setter),K=ys.rest}else{if(xi.match(Do))throw new RangeError("Format string contains an unescaped latin alphabet character `"+xi+"`");if("''"===Ln?Ln="'":"'"===xi&&(Ln=Fo(Ln)),0!==K.indexOf(Ln))return je();K=K.slice(Ln.length)}}if(K.length>0&&da.test(K))return je();const nt=tr.map(Ln=>Ln.priority).sort((Ln,xi)=>xi-Ln).filter((Ln,xi,lr)=>lr.indexOf(Ln)===xi).map(Ln=>tr.filter(xi=>xi.priority===Ln).sort((xi,lr)=>lr.subPriority-xi.subPriority)).map(Ln=>Ln[0]);let bt=Mt(V,J?.in);if(isNaN(+bt))return je();const Hn={};for(const Ln of nt){if(!Ln.validate(bt,Vi))return je();const xi=Ln.set(bt,Hn,Vi);Array.isArray(xi)?(bt=xi[0],Object.assign(Hn,xi[1])):bt=xi}return bt}(K,O,new Date,this.options):function Ps(K,O){const V=()=>rt(O?.in,NaN),J=O?.additionalDigits??2,je=function ha(K){const O={},V=K.split(Ss.dateTimeDelimiter);let J;if(V.length>2)return O;if(/:/.test(V[0])?J=V[0]:(O.date=V[0],J=V[1],Ss.timeZoneDelimiter.test(O.date)&&(O.date=K.split(Ss.timeZoneDelimiter)[0],J=K.substr(O.date.length,K.length))),J){const je=Ss.timezone.exec(J);je?(O.time=J.replace(je[1],""),O.timezone=je[1]):O.time=J}return O}(K);let Pt;if(je.date){const Vi=function Wo(K,O){const V=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+O)+"})|(\\d{2}|[+-]\\d{"+(2+O)+"})$)"),J=K.match(V);if(!J)return{year:NaN,restDateString:""};const je=J[1]?parseInt(J[1]):null,Pt=J[2]?parseInt(J[2]):null;return{year:null===Pt?je:100*Pt,restDateString:K.slice((J[1]||J[2]).length)}}(je.date,J);Pt=function _o(K,O){if(null===O)return new Date(NaN);const V=K.match(Us);if(!V)return new Date(NaN);const J=!!V[4],je=us(V[1]),Pt=us(V[2])-1,zt=us(V[3]),li=us(V[4]),oi=us(V[5])-1;if(J)return function gs(K,O,V){return O>=1&&O<=53&&V>=0&&V<=6}(0,li,oi)?function ms(K,O,V){const J=new Date(0);J.setUTCFullYear(K,0,4);const Pt=7*(O-1)+V+1-(J.getUTCDay()||7);return J.setUTCDate(J.getUTCDate()+Pt),J}(O,li,oi):new Date(NaN);{const Vi=new Date(0);return function js(K,O,V){return O>=0&&O<=11&&V>=1&&V<=(Zs[O]||(ks(K)?29:28))}(O,Pt,zt)&&function Zo(K,O){return O>=1&&O<=(ks(K)?366:365)}(O,je)?(Vi.setUTCFullYear(O,Pt,Math.max(je,zt)),Vi):new Date(NaN)}}(Vi.restDateString,Vi.year)}if(!Pt||isNaN(+Pt))return V();const zt=+Pt;let oi,li=0;if(je.time&&(li=function yo(K){const O=K.match(Xo);if(!O)return NaN;const V=Xs(O[1]),J=Xs(O[2]),je=Xs(O[3]);return function Ms(K,O,V){return 24===K?0===O&&0===V:V>=0&&V<60&&O>=0&&O<60&&K>=0&&K<25}(V,J,je)?V*ft+J*at+1e3*je:NaN}(je.time),isNaN(li)))return V();if(!je.timezone){const Vi=new Date(zt+li),tr=Mt(0,O?.in);return tr.setFullYear(Vi.getUTCFullYear(),Vi.getUTCMonth(),Vi.getUTCDate()),tr.setHours(Vi.getUTCHours(),Vi.getUTCMinutes(),Vi.getUTCSeconds(),Vi.getUTCMilliseconds()),tr}return oi=function Uo(K){if("Z"===K)return 0;const O=K.match(br);if(!O)return 0;const V="+"===O[1]?-1:1,J=parseInt(O[2]),je=O[3]&&parseInt(O[3])||0;return function Ks(K,O){return O>=0&&O<=59}(0,je)?V*(J*ft+je*at):NaN}(je.timezone),isNaN(oi)?V():Mt(zt+li+oi,O?.in)}(K,this.options)),Lo(K)?K.getTime():null},format:function(K,O){return function Ko(K,O,V){const J=Jr(),je=V?.locale??J.locale??ii,Pt=V?.firstWeekContainsDate??V?.locale?.options?.firstWeekContainsDate??J.firstWeekContainsDate??J.locale?.options?.firstWeekContainsDate??1,zt=V?.weekStartsOn??V?.locale?.options?.weekStartsOn??J.weekStartsOn??J.locale?.options?.weekStartsOn??0,li=Mt(K,V?.in);if(!Lo(li))throw new RangeError("Invalid time value");let oi=O.match(_a).map(tr=>{const wn=tr[0];return"p"===wn||"P"===wn?(0,gi[wn])(tr,je.formatLong):tr}).join("").match(aa).map(tr=>{if("''"===tr)return{isToken:!1,value:"'"};const wn=tr[0];if("'"===wn)return{isToken:!1,value:rs(tr)};if(Mo[wn])return{isToken:!0,value:tr};if(wn.match(Ro))throw new RangeError("Format string contains an unescaped latin alphabet character `"+wn+"`");return{isToken:!1,value:tr}});je.localize.preprocessor&&(oi=je.localize.preprocessor(li,oi));const Vi={firstWeekContainsDate:Pt,weekStartsOn:zt,locale:je};return oi.map(tr=>{if(!tr.isToken)return tr.value;const wn=tr.value;return(!V?.useAdditionalWeekYearTokens&&Ur(wn)||!V?.useAdditionalDayOfYearTokens&&vr(wn))&&Kr(wn,O,String(K)),(0,Mo[wn[0]])(li,wn,je.localize,Vi)}).join("")}(K,O,this.options)},add:function(K,O,V){switch(V){case"millisecond":return er(K,O);case"second":return function Jo(K,O,V){return er(K,1e3*O,V)}(K,O);case"minute":return function Hs(K,O,V){const J=Mt(K,V?.in);return J.setTime(J.getTime()+O*at),J}(K,O);case"hour":return function bo(K,O,V){return er(K,O*ft,V)}(K,O);case"day":return _i(K,O);case"week":return function va(K,O,V){return _i(K,7*O,V)}(K,O);case"month":return ba(K,O);case"quarter":return function xo(K,O,V){return ba(K,3*O,V)}(K,O);case"year":return function Ys(K,O,V){return ba(K,12*O,V)}(K,O);default:return K}},diff:function(K,O,V){switch(V){case"millisecond":return Mr(K,O);case"second":return function Po(K,O,V){const J=Mr(K,O)/1e3;return $s(V?.roundingMethod)(J)}(K,O);case"minute":return function w(K,O,V){const J=Mr(K,O)/at;return $s(V?.roundingMethod)(J)}(K,O);case"hour":return function ne(K,O,V){const[J,je]=ue(V?.in,K,O),Pt=(+J-+je)/ft;return $s(V?.roundingMethod)(Pt)}(K,O);case"day":return Ie(K,O);case"week":return function pt(K,O,V){const J=Ie(K,O,V)/7;return $s(V?.roundingMethod)(J)}(K,O);case"month":return Ki(K,O);case"quarter":return function _s(K,O,V){const J=Ki(K,O,V)/3;return $s(V?.roundingMethod)(J)}(K,O);case"year":return function yr(K,O,V){const[J,je]=ue(V?.in,K,O),Pt=re(J,je),zt=Math.abs(function ho(K,O,V){const[J,je]=ue(V?.in,K,O);return J.getFullYear()-je.getFullYear()}(J,je));J.setFullYear(1584),je.setFullYear(1584);const oi=Pt*(zt-+(re(J,je)===-Pt));return 0===oi?0:oi}(K,O);default:return 0}},startOf:function(K,O,V){switch(O){case"second":return function Js(K,O){const V=Mt(K,O?.in);return V.setMilliseconds(0),V}(K);case"minute":return function Ea(K,O){const V=Mt(K,O?.in);return V.setSeconds(0,0),V}(K);case"hour":return function Ui(K,O){const V=Mt(K,O?.in);return V.setMinutes(0,0,0),V}(K);case"day":return me(K);case"week":return un(K);case"isoWeek":return un(K,{weekStartsOn:+V});case"month":return function Ta(K,O){const V=Mt(K,O?.in);return V.setDate(1),V.setHours(0,0,0,0),V}(K);case"quarter":return function Ti(K,O){const V=Mt(K,O?.in),J=V.getMonth();return V.setMonth(J-J%3,1),V.setHours(0,0,0,0),V}(K);case"year":return hi(K);default:return K}},endOf:function(K,O){switch(O){case"second":return function Vn(K,O){const V=Mt(K,O?.in);return V.setMilliseconds(999),V}(K);case"minute":return function te(K,O){const V=Mt(K,O?.in);return V.setSeconds(59,999),V}(K);case"hour":return function M(K,O){const V=Mt(K,O?.in);return V.setMinutes(59,59,999),V}(K);case"day":return kt(K);case"week":return function ye(K,O){const V=Jr(),J=O?.weekStartsOn??O?.locale?.options?.weekStartsOn??V.weekStartsOn??V.locale?.options?.weekStartsOn??0,je=Mt(K,O?.in),Pt=je.getDay(),zt=6+(Pt<J?-7:0)-(Pt-J);return je.setDate(je.getDate()+zt),je.setHours(23,59,59,999),je}(K);case"month":return vn(K);case"quarter":return function ct(K,O){const V=Mt(K,O?.in),J=V.getMonth();return V.setMonth(J-J%3+3,0),V.setHours(23,59,59,999),V}(K);case"year":return function Kt(K,O){const V=Mt(K,O?.in),J=V.getFullYear();return V.setFullYear(J+1,0,0),V.setHours(23,59,59,999),V}(K);default:return K}}})},2214:(ei,Nt,ee)=>{ee.d(Nt,{Dk:()=>l.getApps,KO:()=>l.registerVersion,Sx:()=>l.getApp,Wp:()=>l.initializeApp});var l=ee(7852);(0,l.registerVersion)("firebase","9.23.0","app")},1574:(ei,Nt,ee)=>{ee.d(Nt,{j9:()=>J,FR:()=>wn});var l=ee(7705),Le=ee(9763),ke=ee(8444),ot=ee(3294);const at=function xe(fe,nt){return fe===nt||fe!=fe&&nt!=nt},Pe=function ft(fe,nt){for(var bt=fe.length;bt--;)if(at(fe[bt][0],nt))return bt;return-1};var mt=Array.prototype.splice;function vt(fe){var nt=-1,bt=null==fe?0:fe.length;for(this.clear();++nt<bt;){var Hn=fe[nt];this.set(Hn[0],Hn[1])}}vt.prototype.clear=function R(){this.__data__=[],this.size=0},vt.prototype.delete=function Ft(fe){var nt=this.__data__,bt=Pe(nt,fe);return!(bt<0||(bt==nt.length-1?nt.pop():mt.call(nt,bt,1),--this.size,0))},vt.prototype.get=function yt(fe){var nt=this.__data__,bt=Pe(nt,fe);return bt<0?void 0:nt[bt][1]},vt.prototype.has=function Cn(fe){return Pe(this.__data__,fe)>-1},vt.prototype.set=function wi(fe,nt){var bt=this.__data__,Hn=Pe(bt,fe);return Hn<0?(++this.size,bt.push([fe,nt])):bt[Hn][1]=nt,this};const cn=vt,Ii="object"==typeof global&&global&&global.Object===Object&&global;var Xi="object"==typeof self&&self&&self.Object===Object&&self;const hr=Ii||Xi||Function("return this")();var xn=hr.Symbol,Vt=Object.prototype,Bt=Vt.hasOwnProperty,Rt=Vt.toString,qt=xn?xn.toStringTag:void 0;var In=Object.prototype.toString;var nr=xn?xn.toStringTag:void 0;const Ni=function ti(fe){return null==fe?void 0===fe?"[object Undefined]":"[object Null]":nr&&nr in Object(fe)?function ln(fe){var nt=Bt.call(fe,qt),bt=fe[qt];try{fe[qt]=void 0;var Hn=!0}catch{}var Ln=Rt.call(fe);return Hn&&(nt?fe[qt]=bt:delete fe[qt]),Ln}(fe):function Hi(fe){return In.call(fe)}(fe)},Zi=function ir(fe){var nt=typeof fe;return null!=fe&&("object"==nt||"function"==nt)},Di=function ni(fe){if(!Zi(fe))return!1;var nt=Ni(fe);return"[object Function]"==nt||"[object GeneratorFunction]"==nt||"[object AsyncFunction]"==nt||"[object Proxy]"==nt};var fe,vi=hr["__core-js_shared__"],Br=(fe=/[^.]+$/.exec(vi&&vi.keys&&vi.keys.IE_PROTO||""))?"Symbol(src)_1."+fe:"";var cs=Function.prototype.toString;var Is=/^\[object .+?Constructor\]$/,Kr=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const Ir=function Cr(fe){return!(!Zi(fe)||function Ar(fe){return!!Br&&Br in fe}(fe))&&(Di(fe)?Kr:Is).test(function Fn(fe){if(null!=fe){try{return cs.call(fe)}catch{}try{return fe+""}catch{}}return""}(fe))},_r=function Ji(fe,nt){var bt=function Jr(fe,nt){return fe?.[nt]}(fe,nt);return Ir(bt)?bt:void 0},ve=_r(hr,"Map"),Ee=_r(Object,"create");var Yn=Object.prototype.hasOwnProperty;var qe=Object.prototype.hasOwnProperty;function Pn(fe){var nt=-1,bt=null==fe?0:fe.length;for(this.clear();++nt<bt;){var Hn=fe[nt];this.set(Hn[0],Hn[1])}}Pn.prototype.clear=function we(){this.__data__=Ee?Ee(null):{},this.size=0},Pn.prototype.delete=function an(fe){var nt=this.has(fe)&&delete this.__data__[fe];return this.size-=nt?1:0,nt},Pn.prototype.get=function Qn(fe){var nt=this.__data__;if(Ee){var bt=nt[fe];return"__lodash_hash_undefined__"===bt?void 0:bt}return Yn.call(nt,fe)?nt[fe]:void 0},Pn.prototype.has=function it(fe){var nt=this.__data__;return Ee?void 0!==nt[fe]:qe.call(nt,fe)},Pn.prototype.set=function xt(fe,nt){var bt=this.__data__;return this.size+=this.has(fe)?0:1,bt[fe]=Ee&&void 0===nt?"__lodash_hash_undefined__":nt,this};const un=Pn,ds=function jr(fe,nt){var bt=fe.__data__;return function Fi(fe){var nt=typeof fe;return"string"==nt||"number"==nt||"symbol"==nt||"boolean"==nt?"__proto__"!==fe:null===fe}(nt)?bt["string"==typeof nt?"string":"hash"]:bt.map};function fs(fe){var nt=-1,bt=null==fe?0:fe.length;for(this.clear();++nt<bt;){var Hn=fe[nt];this.set(Hn[0],Hn[1])}}fs.prototype.clear=function yi(){this.size=0,this.__data__={hash:new un,map:new(ve||cn),string:new un}},fs.prototype.delete=function ar(fe){var nt=ds(this,fe).delete(fe);return this.size-=nt?1:0,nt},fs.prototype.get=function hs(fe){return ds(this,fe).get(fe)},fs.prototype.has=function qr(fe){return ds(this,fe).has(fe)},fs.prototype.set=function Yi(fe,nt){var bt=ds(this,fe),Hn=bt.size;return bt.set(fe,nt),this.size+=bt.size==Hn?0:1,this};const mo=fs;function jt(fe){var nt=this.__data__=new cn(fe);this.size=nt.size}jt.prototype.clear=function Dt(){this.__data__=new cn,this.size=0},jt.prototype.delete=function Lt(fe){var nt=this.__data__,bt=nt.delete(fe);return this.size=nt.size,bt},jt.prototype.get=function Qt(fe){return this.__data__.get(fe)},jt.prototype.has=function yn(fe){return this.__data__.has(fe)},jt.prototype.set=function ht(fe,nt){var bt=this.__data__;if(bt instanceof cn){var Hn=bt.__data__;if(!ve||Hn.length<199)return Hn.push([fe,nt]),this.size=++bt.size,this;bt=this.__data__=new mo(Hn)}return bt.set(fe,nt),this.size=bt.size,this};const dn=jt;var Sn=function(){try{var fe=_r(Object,"defineProperty");return fe({},"",{}),fe}catch{}}();const pi=Sn,pr=function rr(fe,nt,bt){"__proto__"==nt&&pi?pi(fe,nt,{configurable:!0,enumerable:!0,value:bt,writable:!0}):fe[nt]=bt},Ge=function Ue(fe,nt,bt){(void 0!==bt&&!at(fe[nt],bt)||void 0===bt&&!(nt in fe))&&pr(fe,nt,bt)};var Je=function Z(fe){return function(nt,bt,Hn){for(var Ln=-1,xi=Object(nt),lr=Hn(nt),dr=lr.length;dr--;){var ys=lr[fe?dr:++Ln];if(!1===bt(xi[ys],ys,xi))break}return nt}}();const tn=Je;var gn="object"==typeof exports&&exports&&!exports.nodeType&&exports,_i=gn&&"object"==typeof module&&module&&!module.nodeType&&module,Yr=_i&&_i.exports===gn?hr.Buffer:void 0,Hr=Yr?Yr.allocUnsafe:void 0;const cr=hr.Uint8Array,Ia=function As(fe,nt){var bt=nt?function Sr(fe){var nt=new fe.constructor(fe.byteLength);return new cr(nt).set(new cr(fe)),nt}(fe.buffer):fe.buffer;return new fe.constructor(bt,fe.byteOffset,fe.length)};var Vs=Object.create,Qs=function(){function fe(){}return function(nt){if(!Zi(nt))return{};if(Vs)return Vs(nt);fe.prototype=nt;var bt=new fe;return fe.prototype=void 0,bt}}();const Pr=Qs;var Mi=function Rn(fe,nt){return function(bt){return fe(nt(bt))}}(Object.getPrototypeOf,Object);const Ws=Mi;var es=Object.prototype;const ko=function ws(fe){var nt=fe&&fe.constructor;return fe===("function"==typeof nt&&nt.prototype||es)},bi=function So(fe){return null!=fe&&"object"==typeof fe},Bs=function lo(fe){return bi(fe)&&"[object Arguments]"==Ni(fe)};var kr=Object.prototype,da=kr.hasOwnProperty,Do=kr.propertyIsEnumerable,Ds=Bs(function(){return arguments}())?Bs:function(fe){return bi(fe)&&da.call(fe,"callee")&&!Do.call(fe,"callee")};const Fo=Ds,Ps=Array.isArray,Xo=function Us(fe){return"number"==typeof fe&&fe>-1&&fe%1==0&&fe<=9007199254740991},ha=function br(fe){return null!=fe&&Xo(fe.length)&&!Di(fe)};var Xs="object"==typeof exports&&exports&&!exports.nodeType&&exports,Uo=Xs&&"object"==typeof module&&module&&!module.nodeType&&module,Zs=Uo&&Uo.exports===Xs?hr.Buffer:void 0;const Zo=(Zs?Zs.isBuffer:void 0)||function us(){return!1};var ts=Function.prototype.toString,sa=Object.prototype.hasOwnProperty,qs=ts.call(Object);var er={};er["[object Float32Array]"]=er["[object Float64Array]"]=er["[object Int8Array]"]=er["[object Int16Array]"]=er["[object Int32Array]"]=er["[object Uint8Array]"]=er["[object Uint8ClampedArray]"]=er["[object Uint16Array]"]=er["[object Uint32Array]"]=!0,er["[object Arguments]"]=er["[object Array]"]=er["[object ArrayBuffer]"]=er["[object Boolean]"]=er["[object DataView]"]=er["[object Date]"]=er["[object Error]"]=er["[object Function]"]=er["[object Map]"]=er["[object Number]"]=er["[object Object]"]=er["[object RegExp]"]=er["[object Set]"]=er["[object String]"]=er["[object WeakMap]"]=!1;var ea="object"==typeof exports&&exports&&!exports.nodeType&&exports,bo=ea&&"object"==typeof module&&module&&!module.nodeType&&module,va=bo&&bo.exports===ea&&Ii.process,uo=function(){try{return bo&&bo.require&&bo.require("util").types||va&&va.binding&&va.binding("util")}catch{}}(),Na=uo&&uo.isTypedArray;const Ho=Na?function ya(fe){return function(nt){return fe(nt)}}(Na):function Oa(fe){return bi(fe)&&Xo(fe.length)&&!!er[Ni(fe)]},ca=function Ys(fe,nt){if(("constructor"!==nt||"function"!=typeof fe[nt])&&"__proto__"!=nt)return fe[nt]};var Ua=Object.prototype.hasOwnProperty;const Po=function $s(fe,nt,bt){var Hn=fe[nt];(!Ua.call(fe,nt)||!at(Hn,bt)||void 0===bt&&!(nt in fe))&&pr(fe,nt,bt)};var Ie=/^(?:0|[1-9]\d*)$/;const et=function ze(fe,nt){var bt=typeof fe;return!!(nt=nt??9007199254740991)&&("number"==bt||"symbol"!=bt&&Ie.test(fe))&&fe>-1&&fe%1==0&&fe<nt};var T=Object.prototype.hasOwnProperty;const z=function re(fe,nt){var bt=Ps(fe),Hn=!bt&&Fo(fe),Ln=!bt&&!Hn&&Zo(fe),xi=!bt&&!Hn&&!Ln&&Ho(fe),lr=bt||Hn||Ln||xi,dr=lr?function j(fe,nt){for(var bt=-1,Hn=Array(fe);++bt<fe;)Hn[bt]=nt(bt);return Hn}(fe.length,String):[],ys=dr.length;for(var $n in fe)(nt||T.call(fe,$n))&&(!lr||!("length"==$n||Ln&&("offset"==$n||"parent"==$n)||xi&&("buffer"==$n||"byteLength"==$n||"byteOffset"==$n)||et($n,ys)))&&dr.push($n);return dr};var sn=Object.prototype.hasOwnProperty;const kn=function vn(fe){if(!Zi(fe))return function ce(fe){var nt=[];if(null!=fe)for(var bt in Object(fe))nt.push(bt);return nt}(fe);var nt=ko(fe),bt=[];for(var Hn in fe)"constructor"==Hn&&(nt||!sn.call(fe,Hn))||bt.push(Hn);return bt},Dr=function gr(fe){return ha(fe)?z(fe,!0):kn(fe)},Os=function Ki(fe){return function Fa(fe,nt,bt,Hn){var Ln=!bt;bt||(bt={});for(var xi=-1,lr=nt.length;++xi<lr;){var dr=nt[xi],ys=Hn?Hn(bt[dr],fe[dr],dr,bt,fe):void 0;void 0===ys&&(ys=fe[dr]),Ln?pr(bt,dr,ys):Po(bt,dr,ys)}return bt}(fe,Dr(fe))},zs=function _s(fe,nt,bt,Hn,Ln,xi,lr){var dr=ca(fe,bt),ys=ca(nt,bt),$n=lr.get(ys);if($n)Ge(fe,bt,$n);else{var mi=xi?xi(dr,ys,bt+"",fe,nt,lr):void 0,Qi=void 0===mi;if(Qi){var ns=Ps(ys),Rr=!ns&&Zo(ys),eo=!ns&&!Rr&&Ho(ys);mi=ys,ns||Rr||eo?Ps(dr)?mi=dr:function Wo(fe){return bi(fe)&&ha(fe)}(dr)?mi=function go(fe,nt){var bt=-1,Hn=fe.length;for(nt||(nt=Array(Hn));++bt<Hn;)nt[bt]=fe[bt];return nt}(dr):Rr?(Qi=!1,mi=function Ls(fe,nt){if(nt)return fe.slice();var bt=fe.length,Hn=Hr?Hr(bt):new fe.constructor(bt);return fe.copy(Hn),Hn}(ys,!0)):eo?(Qi=!1,mi=Ia(ys,!0)):mi=[]:function Lo(fe){if(!bi(fe)||"[object Object]"!=Ni(fe))return!1;var nt=Ws(fe);if(null===nt)return!0;var bt=sa.call(nt,"constructor")&&nt.constructor;return"function"==typeof bt&&bt instanceof bt&&ts.call(bt)==qs}(ys)||Fo(ys)?(mi=dr,Fo(dr)?mi=Os(dr):(!Zi(dr)||Di(dr))&&(mi=function ps(fe){return"function"!=typeof fe.constructor||ko(fe)?{}:Pr(Ws(fe))}(ys))):Qi=!1}Qi&&(lr.set(ys,mi),Ln(mi,ys,Hn,xi,lr),lr.delete(ys)),Ge(fe,bt,mi)}},io=function ho(fe,nt,bt,Hn,Ln){fe!==nt&&tn(nt,function(xi,lr){if(Ln||(Ln=new dn),Zi(xi))zs(fe,nt,lr,bt,ho,Hn,Ln);else{var dr=Hn?Hn(ca(fe,lr),xi,lr+"",fe,nt,Ln):void 0;void 0===dr&&(dr=xi),Ge(fe,lr,dr)}},Dr)},$r=function yr(fe){return fe};var Ea=Math.max;const Ta=function qo(fe){return function(){return fe}};var Wn=pi?function(fe,nt){return pi(fe,"toString",{configurable:!0,enumerable:!1,value:Ta(nt),writable:!0})}:$r,Wt=Date.now,M=function te(fe){var nt=0,bt=0;return function(){var Hn=Wt(),Ln=16-(Hn-bt);if(bt=Hn,Ln>0){if(++nt>=800)return arguments[0]}else nt=0;return fe.apply(void 0,arguments)}}(Wn);const Y=M,Fe=function ye(fe,nt){return Y(function On(fe,nt,bt){return nt=Ea(void 0===nt?fe.length-1:nt,0),function(){for(var Hn=arguments,Ln=-1,xi=Ea(Hn.length-nt,0),lr=Array(xi);++Ln<xi;)lr[Ln]=Hn[nt+Ln];Ln=-1;for(var dr=Array(nt+1);++Ln<nt;)dr[Ln]=Hn[Ln];return dr[nt]=bt(lr),function Js(fe,nt,bt){switch(bt.length){case 0:return fe.call(nt);case 1:return fe.call(nt,bt[0]);case 2:return fe.call(nt,bt[0],bt[1]);case 3:return fe.call(nt,bt[0],bt[1],bt[2])}return fe.apply(nt,bt)}(fe,this,dr)}}(fe,nt,$r),fe+"")};var fn=function Kt(fe){return Fe(function(nt,bt){var Hn=-1,Ln=bt.length,xi=Ln>1?bt[Ln-1]:void 0,lr=Ln>2?bt[2]:void 0;for(xi=fe.length>3&&"function"==typeof xi?(Ln--,xi):void 0,lr&&function ct(fe,nt,bt){if(!Zi(bt))return!1;var Hn=typeof nt;return!!("number"==Hn?ha(bt)&&et(nt,bt.length):"string"==Hn&&nt in bt)&&at(bt[nt],fe)}(bt[0],bt[1],lr)&&(xi=Ln<3?void 0:xi,Ln=1),nt=Object(nt);++Hn<Ln;){var dr=bt[Hn];dr&&fe(nt,dr,Hn,xi)}return nt})}(function(fe,nt,bt){io(fe,nt,bt)});const K=fn;var O=ee(4412);let V=(()=>{class fe{constructor(){this.colorschemesOptions=new O.t(void 0)}setColorschemesOptions(bt){this.pColorschemesOptions=bt,this.colorschemesOptions.next(bt)}getColorschemesOptions(){return this.pColorschemesOptions}}return fe.\u0275fac=function(bt){return new(bt||fe)},fe.\u0275prov=l.jDH({token:fe,factory:fe.\u0275fac,providedIn:"root"}),fe})(),J=(()=>{class fe{constructor(bt,Hn,Ln){this.zone=Hn,this.themeService=Ln,this.type="bar",this.plugins=[],this.chartClick=new l.bkB,this.chartHover=new l.bkB,this.subs=[],this.themeOverrides={},this.ctx=bt.nativeElement.getContext("2d"),this.subs.push(this.themeService.colorschemesOptions.pipe((0,ot.F)()).subscribe(xi=>this.themeChanged(xi)))}ngOnChanges(bt){const Hn=["type"],Ln=Object.getOwnPropertyNames(bt);if(Ln.some(xi=>Hn.includes(xi))||Ln.every(xi=>bt[xi].isFirstChange()))this.render();else{const xi=this.getChartConfiguration();this.chart&&(Object.assign(this.chart.config.data,xi.data),this.chart.config.plugins&&Object.assign(this.chart.config.plugins,xi.plugins),this.chart.config.options&&Object.assign(this.chart.config.options,xi.options)),this.update()}}ngOnDestroy(){this.chart&&(this.chart.destroy(),this.chart=void 0),this.subs.forEach(bt=>bt.unsubscribe())}render(){return this.chart&&this.chart.destroy(),this.zone.runOutsideAngular(()=>this.chart=new Le.t1(this.ctx,this.getChartConfiguration()))}update(bt){this.chart&&this.zone.runOutsideAngular(()=>this.chart?.update(bt))}hideDataset(bt,Hn){this.chart&&(this.chart.getDatasetMeta(bt).hidden=Hn,this.update())}isDatasetHidden(bt){return this.chart?.getDatasetMeta(bt)?.hidden}toBase64Image(){return this.chart?.toBase64Image()}themeChanged(bt){this.themeOverrides=bt,this.chart&&(this.chart.config.options&&Object.assign(this.chart.config.options,this.getChartOptions()),this.update())}getChartOptions(){return K({onHover:(bt,Hn)=>{!this.chartHover.observed&&!this.chartHover.observers?.length||this.zone.run(()=>this.chartHover.emit({event:bt,active:Hn}))},onClick:(bt,Hn)=>{!this.chartClick.observed&&!this.chartClick.observers?.length||this.zone.run(()=>this.chartClick.emit({event:bt,active:Hn}))}},this.themeOverrides,this.options,{plugins:{legend:{display:this.legend}}})}getChartConfiguration(){return{type:this.type,data:this.getChartData(),options:this.getChartOptions(),plugins:this.plugins}}getChartData(){return this.data?this.data:{labels:this.labels||[],datasets:this.datasets||[]}}}return fe.\u0275fac=function(bt){return new(bt||fe)(l.rXU(l.aKT),l.rXU(l.SKi),l.rXU(V))},fe.\u0275dir=l.FsC({type:fe,selectors:[["canvas","baseChart",""]],inputs:{type:"type",legend:"legend",data:"data",options:"options",plugins:"plugins",labels:"labels",datasets:"datasets"},outputs:{chartClick:"chartClick",chartHover:"chartHover"},exportAs:["base-chart"],features:[l.OA$]}),fe})();const je=[[255,99,132],[54,162,235],[255,206,86],[231,233,237],[75,192,192],[151,187,205],[220,220,220],[247,70,74],[70,191,189],[253,180,92],[148,159,177],[77,83,96]],Pt={plugins:{colors:{enabled:!1}},datasets:{line:{backgroundColor:fe=>zt(Vi(fe.datasetIndex),.4),borderColor:fe=>zt(Vi(fe.datasetIndex),1),pointBackgroundColor:fe=>zt(Vi(fe.datasetIndex),1),pointBorderColor:"#fff"},bar:{backgroundColor:fe=>zt(Vi(fe.datasetIndex),.6),borderColor:fe=>zt(Vi(fe.datasetIndex),1)},get radar(){return this.line},doughnut:{backgroundColor:fe=>zt(Vi(fe.dataIndex),.6),borderColor:"#fff"},get pie(){return this.doughnut},polarArea:{backgroundColor:fe=>zt(Vi(fe.dataIndex),.6),borderColor:fe=>zt(Vi(fe.dataIndex),1)},get bubble(){return this.doughnut},get scatter(){return this.doughnut},get area(){return this.polarArea}}};function zt(fe,nt){return"rgba("+fe.concat(nt).join(",")+")"}function li(fe,nt){return Math.floor(Math.random()*(nt-fe+1))+fe}function Vi(fe=0){return je[fe]||function oi(){return[li(0,255),li(0,255),li(0,255)]}()}let tr=(()=>{class fe{constructor(){this.generateColors=!0}}return fe.\u0275fac=function(bt){return new(bt||fe)},fe.\u0275prov=l.jDH({token:fe,factory:fe.\u0275fac,providedIn:"root"}),fe})();Le.t1.register(...Le.$L);let wn=(()=>{class fe{constructor(bt){bt?.plugins&&Le.t1.register(...bt?.plugins);const Hn=K(bt?.generateColors?Pt:{},bt?.defaults||{});ke.d.set(Hn)}static forRoot(bt){return{ngModule:fe,providers:[{provide:tr,useValue:bt}]}}}return fe.\u0275fac=function(bt){return new(bt||fe)(l.KVO(tr,8))},fe.\u0275mod=l.$C({type:fe}),fe.\u0275inj=l.G2t({}),fe})()},467:(ei,Nt,ee)=>{function l(ke,ot,R,Ce,xe,at,ft){try{var Pe=ke[at](ft),He=Pe.value}catch(mt){return void R(mt)}Pe.done?ot(He):Promise.resolve(He).then(Ce,xe)}function Le(ke){return function(){var ot=this,R=arguments;return new Promise(function(Ce,xe){var at=ke.apply(ot,R);function ft(He){l(at,Ce,xe,ft,Pe,"next",He)}function Pe(He){l(at,Ce,xe,ft,Pe,"throw",He)}ft(void 0)})}}ee.d(Nt,{A:()=>Le})},1635:(ei,Nt,ee)=>{function ot(Vt,Bt){var Rt={};for(var qt in Vt)Object.prototype.hasOwnProperty.call(Vt,qt)&&Bt.indexOf(qt)<0&&(Rt[qt]=Vt[qt]);if(null!=Vt&&"function"==typeof Object.getOwnPropertySymbols){var ln=0;for(qt=Object.getOwnPropertySymbols(Vt);ln<qt.length;ln++)Bt.indexOf(qt[ln])<0&&Object.prototype.propertyIsEnumerable.call(Vt,qt[ln])&&(Rt[qt[ln]]=Vt[qt[ln]])}return Rt}function mt(Vt,Bt,Rt,qt){return new(Rt||(Rt=Promise))(function(Ut,Mn){function In(Jn){try{Bn(qt.next(Jn))}catch(Si){Mn(Si)}}function Hi(Jn){try{Bn(qt.throw(Jn))}catch(Si){Mn(Si)}}function Bn(Jn){Jn.done?Ut(Jn.value):function ln(Ut){return Ut instanceof Rt?Ut:new Rt(function(Mn){Mn(Ut)})}(Jn.value).then(In,Hi)}Bn((qt=qt.apply(Vt,Bt||[])).next())})}function vt(Vt){return this instanceof vt?(this.v=Vt,this):new vt(Vt)}function cn(Vt,Bt,Rt){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ln,qt=Rt.apply(Vt,Bt||[]),Ut=[];return ln=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),In("next"),In("throw"),In("return",function Mn(ti){return function(Ni){return Promise.resolve(Ni).then(ti,Si)}}),ln[Symbol.asyncIterator]=function(){return this},ln;function In(ti,Ni){qt[ti]&&(ln[ti]=function(ir){return new Promise(function(Zi,zi){Ut.push([ti,ir,Zi,zi])>1||Hi(ti,ir)})},Ni&&(ln[ti]=Ni(ln[ti])))}function Hi(ti,Ni){try{!function Bn(ti){ti.value instanceof vt?Promise.resolve(ti.value.v).then(Jn,Si):nr(Ut[0][2],ti)}(qt[ti](Ni))}catch(ir){nr(Ut[0][3],ir)}}function Jn(ti){Hi("next",ti)}function Si(ti){Hi("throw",ti)}function nr(ti,Ni){ti(Ni),Ut.shift(),Ut.length&&Hi(Ut[0][0],Ut[0][1])}}function At(Vt){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Rt,Bt=Vt[Symbol.asyncIterator];return Bt?Bt.call(Vt):(Vt=function It(Vt){var Bt="function"==typeof Symbol&&Symbol.iterator,Rt=Bt&&Vt[Bt],qt=0;if(Rt)return Rt.call(Vt);if(Vt&&"number"==typeof Vt.length)return{next:function(){return Vt&&qt>=Vt.length&&(Vt=void 0),{value:Vt&&Vt[qt++],done:!Vt}}};throw new TypeError(Bt?"Object is not iterable.":"Symbol.iterator is not defined.")}(Vt),Rt={},qt("next"),qt("throw"),qt("return"),Rt[Symbol.asyncIterator]=function(){return this},Rt);function qt(Ut){Rt[Ut]=Vt[Ut]&&function(Mn){return new Promise(function(In,Hi){!function ln(Ut,Mn,In,Hi){Promise.resolve(Hi).then(function(Bn){Ut({value:Bn,done:In})},Mn)}(In,Hi,(Mn=Vt[Ut](Mn)).done,Mn.value)})}}}ee.d(Nt,{AQ:()=>cn,N3:()=>vt,Tt:()=>ot,sH:()=>mt,xN:()=>At}),"function"==typeof SuppressedError&&SuppressedError}},ei=>{ei(ei.s=1855)}]);