"use strict";(self.webpackChunkcoop_app=self.webpackChunkcoop_app||[]).push([[792],{681:(Wt,ze,K)=>{K.d(ze,{kR:()=>Ir});var S=K(9126),fe=(K(540),K(8934),K(7037),K(467)),Q=K(2979),Z=K(8779),Je=K(1401),Be=K(5398);const re=new Map,ee={activated:!1,tokenObservers:[]},_e={initialized:!1,enabled:!1};function Oe(se){return re.get(se)||Object.assign({},ee)}function ut(){return _e}const st="https://content-firebaseappcheck.googleapis.com/v1",Bn="exchangeDebugToken",Un={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class Ze{constructor(ae,we,ke,rt,kt){if(this.operation=ae,this.retryPolicy=we,this.getWaitDuration=ke,this.lowerBound=rt,this.upperBound=kt,this.pending=null,this.nextErrorWaitInterval=rt,rt>kt)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(ae){var we=this;return(0,fe.A)(function*(){we.stop();try{we.pending=new Je.cY,yield function Fe(se){return new Promise(ae=>{setTimeout(ae,se)})}(we.getNextRun(ae)),we.pending.resolve(),yield we.pending.promise,we.pending=new Je.cY,yield we.operation(),we.pending.resolve(),yield we.pending.promise,we.process(!0).catch(()=>{})}catch(ke){we.retryPolicy(ke)?we.process(!1).catch(()=>{}):we.stop()}})()}getNextRun(ae){if(ae)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const we=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),we}}}const gt=new Je.FA("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function $e(se){if(!Oe(se).activated)throw gt.create("use-before-activation",{appName:se.name})}function Cr(se,ae){return et.apply(this,arguments)}function et(){return(et=(0,fe.A)(function*({url:se,body:ae},we){const ke={"Content-Type":"application/json"},rt=we.getImmediate({optional:!0});if(rt){const Nr=yield rt.getHeartbeatsHeader();Nr&&(ke["X-Firebase-Client"]=Nr)}const kt={method:"POST",body:JSON.stringify(ae),headers:ke};let mn,en;try{mn=yield fetch(se,kt)}catch(Nr){throw gt.create("fetch-network-error",{originalErrorMessage:Nr?.message})}if(200!==mn.status)throw gt.create("fetch-status-error",{httpStatus:mn.status});try{en=yield mn.json()}catch(Nr){throw gt.create("fetch-parse-error",{originalErrorMessage:Nr?.message})}const Cn=en.ttl.match(/^([\d.]+)(s)$/);if(!Cn||!Cn[2]||isNaN(Number(Cn[1])))throw gt.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${en.ttl}`});const Gr=1e3*Number(Cn[1]),Fr=Date.now();return{token:en.token,expireTimeMillis:Fr+Gr,issuedAtTimeMillis:Fr}})).apply(this,arguments)}function ct(se,ae){const{projectId:we,appId:ke,apiKey:rt}=se.options;return{url:`${st}/projects/${we}/apps/${ke}:${Bn}?key=${rt}`,body:{debug_token:ae}}}const jt="firebase-app-check-database",sr=1,Zr="firebase-app-check-store";let ye=null;function un(){return(un=(0,fe.A)(function*(se,ae){const ke=(yield function me(){return ye||(ye=new Promise((se,ae)=>{try{const we=indexedDB.open(jt,sr);we.onsuccess=ke=>{se(ke.target.result)},we.onerror=ke=>{var rt;ae(gt.create("storage-open",{originalErrorMessage:null===(rt=ke.target.error)||void 0===rt?void 0:rt.message}))},we.onupgradeneeded=ke=>{0===ke.oldVersion&&ke.target.result.createObjectStore(Zr,{keyPath:"compositeKey"})}}catch(we){ae(gt.create("storage-open",{originalErrorMessage:we?.message}))}}),ye)}()).transaction(Zr,"readwrite"),kt=ke.objectStore(Zr).put({compositeKey:se,value:ae});return new Promise((mn,en)=>{kt.onsuccess=Cn=>{mn()},ke.onerror=Cn=>{var Gr;en(gt.create("storage-set",{originalErrorMessage:null===(Gr=Cn.target.error)||void 0===Gr?void 0:Gr.message}))}})})).apply(this,arguments)}const vr=new Be.Vy("@firebase/app-check");function cn(se,ae){return(0,Je.zW)()?function Ke(se,ae){return function _t(se,ae){return un.apply(this,arguments)}(function pn(se){return`${se.options.appId}-${se.name}`}(se),ae)}(se,ae).catch(we=>{vr.warn(`Failed to write token to IndexedDB. Error: ${we}`)}):Promise.resolve()}function $t(){return ut().enabled}function Pr(){return gn.apply(this,arguments)}function gn(){return(gn=(0,fe.A)(function*(){const se=ut();if(se.enabled&&se.token)return se.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Jt={error:"UNKNOWN_ERROR"};function qt(se){return Je.K3.encodeString(JSON.stringify(se),!1)}function Wn(se){return _r.apply(this,arguments)}function _r(){return(_r=(0,fe.A)(function*(se,ae=!1){const we=se.app;$e(we);const ke=Oe(we);let kt,rt=ke.token;if(rt&&!vi(rt)&&(ke.token=void 0,rt=void 0),!rt){const Cn=yield ke.cachedTokenPromise;Cn&&(vi(Cn)?rt=Cn:yield cn(we,void 0))}if(!ae&&rt&&vi(rt))return{token:rt.token};let en,mn=!1;if($t()){ke.exchangeTokenPromise||(ke.exchangeTokenPromise=Cr(ct(we,yield Pr()),se.heartbeatServiceProvider).finally(()=>{ke.exchangeTokenPromise=void 0}),mn=!0);const Cn=yield ke.exchangeTokenPromise;return yield cn(we,Cn),ke.token=Cn,{token:Cn.token}}try{ke.exchangeTokenPromise||(ke.exchangeTokenPromise=ke.provider.getToken().finally(()=>{ke.exchangeTokenPromise=void 0}),mn=!0),rt=yield Oe(we).exchangeTokenPromise}catch(Cn){"appCheck/throttled"===Cn.code?vr.warn(Cn.message):vr.error(Cn),kt=Cn}return rt?kt?en=vi(rt)?{token:rt.token,internalError:kt}:Jr(kt):(en={token:rt.token},ke.token=rt,yield cn(we,rt)):en=Jr(kt),mn&&function yt(se,ae){const we=Oe(se).tokenObservers;for(const ke of we)try{"EXTERNAL"===ke.type&&null!=ae.error?ke.error(ae.error):ke.next(ae)}catch{}}(we,en),en})).apply(this,arguments)}function br(se){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,fe.A)(function*(se){const ae=se.app;$e(ae);const{provider:we}=Oe(ae);if($t()){const ke=yield Pr(),{token:rt}=yield Cr(ct(ae,ke),se.heartbeatServiceProvider);return{token:rt}}{const{token:ke}=yield we.getToken();return{token:ke}}})).apply(this,arguments)}function Ar(se,ae){const we=Oe(se),ke=we.tokenObservers.filter(rt=>rt.next!==ae);0===ke.length&&we.tokenRefresher&&we.tokenRefresher.isRunning()&&we.tokenRefresher.stop(),we.tokenObservers=ke}function bn(se){const{app:ae}=se,we=Oe(ae);let ke=we.tokenRefresher;ke||(ke=function Ni(se){const{app:ae}=se;return new Ze((0,fe.A)(function*(){let ke;if(ke=Oe(ae).token?yield Wn(se,!0):yield Wn(se),ke.error)throw ke.error;if(ke.internalError)throw ke.internalError}),()=>!0,()=>{const we=Oe(ae);if(we.token){let ke=we.token.issuedAtTimeMillis+.5*(we.token.expireTimeMillis-we.token.issuedAtTimeMillis)+3e5;return ke=Math.min(ke,we.token.expireTimeMillis-3e5),Math.max(0,ke-Date.now())}return 0},Un.RETRIAL_MIN_WAIT,Un.RETRIAL_MAX_WAIT)}(se),we.tokenRefresher=ke),!ke.isRunning()&&we.isTokenAutoRefreshEnabled&&ke.start()}function vi(se){return se.expireTimeMillis-Date.now()>0}function Jr(se){return{token:qt(Jt),error:se}}class fr{constructor(ae,we){this.app=ae,this.heartbeatServiceProvider=we}_delete(){const{tokenObservers:ae}=Oe(this.app);for(const we of ae)Ar(this.app,we.next);return Promise.resolve()}}const vt="app-check-internal";!function Kt(){(0,Q.om)(new Z.uA("app-check",se=>function Sr(se,ae){return new fr(se,ae)}(se.getProvider("app").getImmediate(),se.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((se,ae,we)=>{se.getProvider(vt).initialize()})),(0,Q.om)(new Z.uA(vt,se=>function ei(se){return{getToken:ae=>Wn(se,ae),getLimitedUseToken:()=>br(se),addTokenListener:ae=>function Jn(se,ae,we,ke){const{app:rt}=se,kt=Oe(rt);if(kt.tokenObservers=[...kt.tokenObservers,{next:we,error:ke,type:ae}],kt.token&&vi(kt.token)){const en=kt.token;Promise.resolve().then(()=>{we({token:en.token}),bn(se)}).catch(()=>{})}kt.cachedTokenPromise.then(()=>bn(se))}(se,"INTERNAL",ae),removeTokenListener:ae=>Ar(se.app,ae)}}(se.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Q.KO)("@firebase/app-check","0.8.0")}();class Ir{constructor(){return(0,S.CA)("app-check")}}typeof window<"u"&&window},8934:(Wt,ze,K)=>{K.d(ze,{MW:()=>Oe,Wp:()=>Gt,XU:()=>Te,gL:()=>fe});var S=K(7037),ie=K(540),ce=K(9126);class Te{constructor(Ze){return Ze}}class fe{constructor(){return(0,S.Dk)()}}const Je=new ie.nKC("angularfire2._apps"),Be={provide:Te,useFactory:function Z(Pe){return Pe&&1===Pe.length?Pe[0]:new Te((0,S.Sx)())},deps:[[new ie.Xx1,Je]]},re={provide:fe,deps:[[new ie.Xx1,Je]]};function ee(Pe){return(Ze,Fe)=>{const it=Ze.runOutsideAngular(()=>Pe(Fe));return new Te(it)}}let _e=(()=>{class Pe{constructor(Fe){(0,S.KO)("angularfire",ce.xv.full,"core"),(0,S.KO)("angularfire",ce.xv.full,"app"),(0,S.KO)("angular",ie.xvI.full,Fe.toString())}}return Pe.\u0275fac=function(Fe){return new(Fe||Pe)(ie.KVO(ie.Agw))},Pe.\u0275mod=ie.$C({type:Pe}),Pe.\u0275inj=ie.G2t({providers:[Be,re]}),Pe})();function Oe(Pe,...Ze){return{ngModule:_e,providers:[{provide:Je,useFactory:ee(Pe),multi:!0,deps:[ie.SKi,ie.zZn,ce.u0,...Ze]}]}}const Gt=(0,ce.S3)(S.Wp,!0)},9676:(Wt,ze,K)=>{K.d(ze,{Nj:()=>su,DF:()=>ou,xI:()=>wp,_q:()=>Hc,x9:()=>vm,CI:()=>ka});var S=K(9126),ie=K(540),ce=K(8934),Te=K(7037),fe=K(681),Q=K(467),Z=K(1401),Je=K(2979),Be=K(1635),re=K(5398),ee=K(8779);const Un=function Ut(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Pe=new Z.FA("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Fe=new re.Vy("@firebase/auth");function gt(_,...h){Fe.logLevel<=re.$b.ERROR&&Fe.error(`Auth (${Je.MF}): ${_}`,...h)}function Ge(_,...h){throw Cr(_,...h)}function $e(_,...h){return Cr(_,...h)}function Cr(_,...h){if("string"!=typeof _){const p=h[0],T=[...h.slice(1)];return T[0]&&(T[0].appName=_.name),_._errorFactory.create(p,...T)}return Pe.create(_,...h)}function et(_,h,...p){if(!_)throw Cr(h,...p)}function We(_){const h="INTERNAL ASSERTION FAILED: "+_;throw gt(h),new Error(h)}function wn(_,h){_||We(h)}function ct(){var _;return typeof self<"u"&&(null===(_=self.location)||void 0===_?void 0:_.href)||""}function sr(){var _;return typeof self<"u"&&(null===(_=self.location)||void 0===_?void 0:_.protocol)||null}class ye{constructor(h,p){this.shortDelay=h,this.longDelay=p,wn(p>h,"Short delay should be less than long delay!"),this.isMobile=(0,Z.jZ)()||(0,Z.lV)()}get(){return function Zr(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function jt(){return"http:"===sr()||"https:"===sr()}()||(0,Z.sr)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function me(_,h){wn(_.emulator,"Emulator should always be set here");const{url:p}=_.emulator;return h?`${p}${h.startsWith("/")?h.slice(1):h}`:p}class Me{static initialize(h,p,T){this.fetchImpl=h,p&&(this.headersImpl=p),T&&(this.responseImpl=T)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void We("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void We("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void We("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Ke={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Qe=new ye(3e4,6e4);function nt(_,h){return _.tenantId&&!h.tenantId?Object.assign(Object.assign({},h),{tenantId:_.tenantId}):h}function _t(_,h,p,T){return un.apply(this,arguments)}function un(){return(un=(0,Q.A)(function*(_,h,p,T,L={}){return Ft(_,L,(0,Q.A)(function*(){let W={},ue={};T&&("GET"===h?ue=T:W={body:JSON.stringify(T)});const Ae=(0,Z.Am)(Object.assign({key:_.config.apiKey},ue)).slice(1),at=yield _._getAdditionalHeaders();return at["Content-Type"]="application/json",_.languageCode&&(at["X-Firebase-Locale"]=_.languageCode),Me.fetch()(Qt(_,_.config.apiHost,p,Ae),Object.assign({method:h,headers:at,referrerPolicy:"no-referrer"},W))}))})).apply(this,arguments)}function Ft(_,h,p){return Tn.apply(this,arguments)}function Tn(){return(Tn=(0,Q.A)(function*(_,h,p){_._canInitEmulator=!1;const T=Object.assign(Object.assign({},Ke),h);try{const L=new or(_),W=yield Promise.race([p(),L.promise]);L.clearNetworkTimeout();const ue=yield W.json();if("needConfirmation"in ue)throw cn(_,"account-exists-with-different-credential",ue);if(W.ok&&!("errorMessage"in ue))return ue;{const Ae=W.ok?ue.errorMessage:ue.error.message,[at,At]=Ae.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===at)throw cn(_,"credential-already-in-use",ue);if("EMAIL_EXISTS"===at)throw cn(_,"email-already-in-use",ue);if("USER_DISABLED"===at)throw cn(_,"user-disabled",ue);const Lt=T[at]||at.toLowerCase().replace(/[_\s]+/g,"-");if(At)throw function hn(_,h,p){const T=Object.assign(Object.assign({},Un()),{[h]:p});return new Z.FA("auth","Firebase",T).create(h,{appName:_.name})}(_,Lt,At);Ge(_,Lt)}}catch(L){if(L instanceof Z.g)throw L;Ge(_,"network-request-failed",{message:String(L)})}})).apply(this,arguments)}function pn(_,h,p,T){return vr.apply(this,arguments)}function vr(){return(vr=(0,Q.A)(function*(_,h,p,T,L={}){const W=yield _t(_,h,p,T,L);return"mfaPendingCredential"in W&&Ge(_,"multi-factor-auth-required",{_serverResponse:W}),W})).apply(this,arguments)}function Qt(_,h,p,T){const L=`${h}${p}?${T}`;return _.config.emulator?me(_.config,L):`${_.config.apiScheme}://${L}`}class or{constructor(h){this.auth=h,this.timer=null,this.promise=new Promise((p,T)=>{this.timer=setTimeout(()=>T($e(this.auth,"network-request-failed")),Qe.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function cn(_,h,p){const T={appName:_.name};p.email&&(T.email=p.email),p.phoneNumber&&(T.phoneNumber=p.phoneNumber);const L=$e(_,h,T);return L.customData._tokenResponse=p,L}function nr(){return(nr=(0,Q.A)(function*(_,h){return _t(_,"POST","/v1/accounts:delete",h)})).apply(this,arguments)}function Yn(){return(Yn=(0,Q.A)(function*(_,h){return _t(_,"POST","/v1/accounts:lookup",h)})).apply(this,arguments)}function Jt(_){if(_)try{const h=new Date(Number(_));if(!isNaN(h.getTime()))return h.toUTCString()}catch{}}function _r(){return(_r=(0,Q.A)(function*(_,h=!1){const p=(0,Z.Ku)(_),T=yield p.getIdToken(h),L=Kn(T);et(L&&L.exp&&L.auth_time&&L.iat,p.auth,"internal-error");const W="object"==typeof L.firebase?L.firebase:void 0,ue=W?.sign_in_provider;return{claims:L,token:T,authTime:Jt(br(L.auth_time)),issuedAtTime:Jt(br(L.iat)),expirationTime:Jt(br(L.exp)),signInProvider:ue||null,signInSecondFactor:W?.sign_in_second_factor||null}})).apply(this,arguments)}function br(_){return 1e3*Number(_)}function Kn(_){const[h,p,T]=_.split(".");if(void 0===h||void 0===p||void 0===T)return gt("JWT malformed, contained fewer than 3 sections"),null;try{const L=(0,Z.u)(p);return L?JSON.parse(L):(gt("Failed to decode base64 JWT payload"),null)}catch(L){return gt("Caught error parsing JWT payload as JSON",L?.toString()),null}}function Ar(_,h){return bn.apply(this,arguments)}function bn(){return(bn=(0,Q.A)(function*(_,h,p=!1){if(p)return h;try{return yield h}catch(T){throw T instanceof Z.g&&function Ni({code:_}){return"auth/user-disabled"===_||"auth/user-token-expired"===_}(T)&&_.auth.currentUser===_&&(yield _.auth.signOut()),T}})).apply(this,arguments)}class yt{constructor(h){this.user=h,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(h){var p;if(h){const T=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),T}{this.errorBackoff=3e4;const L=(null!==(p=this.user.stsTokenManager.expirationTime)&&void 0!==p?p:0)-Date.now()-3e5;return Math.max(0,L)}}schedule(h=!1){var p=this;if(!this.isRunning)return;const T=this.getInterval(h);this.timerId=setTimeout((0,Q.A)(function*(){yield p.iteration()}),T)}iteration(){var h=this;return(0,Q.A)(function*(){try{yield h.user.getIdToken(!0)}catch(p){return void("auth/network-request-failed"===p?.code&&h.schedule(!0))}h.schedule()})()}}class vi{constructor(h,p){this.createdAt=h,this.lastLoginAt=p,this._initializeTime()}_initializeTime(){this.lastSignInTime=Jt(this.lastLoginAt),this.creationTime=Jt(this.createdAt)}_copy(h){this.createdAt=h.createdAt,this.lastLoginAt=h.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Jr(_){return fr.apply(this,arguments)}function fr(){return fr=(0,Q.A)(function*(_){var h;const p=_.auth,T=yield _.getIdToken(),L=yield Ar(_,function gn(_,h){return Yn.apply(this,arguments)}(p,{idToken:T}));et(L?.users.length,p,"internal-error");const W=L.users[0];_._notifyReloadListener(W);const ue=null!==(h=W.providerUserInfo)&&void 0!==h&&h.length?function kr(_){return _.map(h=>{var{providerId:p}=h,T=(0,Be.Tt)(h,["providerId"]);return{providerId:p,uid:T.rawId||"",displayName:T.displayName||null,email:T.email||null,phoneNumber:T.phoneNumber||null,photoURL:T.photoUrl||null}})}(W.providerUserInfo):[],Ae=function Pt(_,h){return[..._.filter(T=>!h.some(L=>L.providerId===T.providerId)),...h]}(_.providerData,ue),Lt=!!_.isAnonymous&&!(_.email&&W.passwordHash||Ae?.length),nn={uid:W.localId,displayName:W.displayName||null,photoURL:W.photoUrl||null,email:W.email||null,emailVerified:W.emailVerified||!1,phoneNumber:W.phoneNumber||null,tenantId:W.tenantId||null,providerData:Ae,metadata:new vi(W.createdAt,W.lastLoginAt),isAnonymous:Lt};Object.assign(_,nn)}),fr.apply(this,arguments)}function ei(){return(ei=(0,Q.A)(function*(_){const h=(0,Z.Ku)(_);yield Jr(h),yield h.auth._persistUserIfCurrent(h),h.auth._notifyListenersIfCurrent(h)})).apply(this,arguments)}function zt(){return(zt=(0,Q.A)(function*(_,h){const p=yield Ft(_,{},(0,Q.A)(function*(){const T=(0,Z.Am)({grant_type:"refresh_token",refresh_token:h}).slice(1),{tokenApiHost:L,apiKey:W}=_.config,ue=Qt(_,L,"/v1/token",`key=${W}`),Ae=yield _._getAdditionalHeaders();return Ae["Content-Type"]="application/x-www-form-urlencoded",Me.fetch()(ue,{method:"POST",headers:Ae,body:T})}));return{accessToken:p.access_token,expiresIn:p.expires_in,refreshToken:p.refresh_token}})).apply(this,arguments)}class qn{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(h){et(h.idToken,"internal-error"),et(typeof h.idToken<"u","internal-error"),et(typeof h.refreshToken<"u","internal-error");const p="expiresIn"in h&&typeof h.expiresIn<"u"?Number(h.expiresIn):function Jn(_){const h=Kn(_);return et(h,"internal-error"),et(typeof h.exp<"u","internal-error"),et(typeof h.iat<"u","internal-error"),Number(h.exp)-Number(h.iat)}(h.idToken);this.updateTokensAndExpiration(h.idToken,h.refreshToken,p)}getToken(h){var p=this;return(0,Q.A)(function*(T,L=!1){return et(!p.accessToken||p.refreshToken,T,"user-token-expired"),L||!p.accessToken||p.isExpired?p.refreshToken?(yield p.refresh(T,p.refreshToken),p.accessToken):null:p.accessToken}).apply(this,arguments)}clearRefreshToken(){this.refreshToken=null}refresh(h,p){var T=this;return(0,Q.A)(function*(){const{accessToken:L,refreshToken:W,expiresIn:ue}=yield function oi(_,h){return zt.apply(this,arguments)}(h,p);T.updateTokensAndExpiration(L,W,Number(ue))})()}updateTokensAndExpiration(h,p,T){this.refreshToken=p||null,this.accessToken=h||null,this.expirationTime=Date.now()+1e3*T}static fromJSON(h,p){const{refreshToken:T,accessToken:L,expirationTime:W}=p,ue=new qn;return T&&(et("string"==typeof T,"internal-error",{appName:h}),ue.refreshToken=T),L&&(et("string"==typeof L,"internal-error",{appName:h}),ue.accessToken=L),W&&(et("number"==typeof W,"internal-error",{appName:h}),ue.expirationTime=W),ue}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(h){this.accessToken=h.accessToken,this.refreshToken=h.refreshToken,this.expirationTime=h.expirationTime}_clone(){return Object.assign(new qn,this.toJSON())}_performRefresh(){return We("not implemented")}}function ln(_,h){et("string"==typeof _||typeof _>"u","internal-error",{appName:h})}class pr{constructor(h){var{uid:p,auth:T,stsTokenManager:L}=h,W=(0,Be.Tt)(h,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new yt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=p,this.auth=T,this.stsTokenManager=L,this.accessToken=L.accessToken,this.displayName=W.displayName||null,this.email=W.email||null,this.emailVerified=W.emailVerified||!1,this.phoneNumber=W.phoneNumber||null,this.photoURL=W.photoURL||null,this.isAnonymous=W.isAnonymous||!1,this.tenantId=W.tenantId||null,this.providerData=W.providerData?[...W.providerData]:[],this.metadata=new vi(W.createdAt||void 0,W.lastLoginAt||void 0)}getIdToken(h){var p=this;return(0,Q.A)(function*(){const T=yield Ar(p,p.stsTokenManager.getToken(p.auth,h));return et(T,p.auth,"internal-error"),p.accessToken!==T&&(p.accessToken=T,yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)),T})()}getIdTokenResult(h){return function Wn(_){return _r.apply(this,arguments)}(this,h)}reload(){return function Sr(_){return ei.apply(this,arguments)}(this)}_assign(h){this!==h&&(et(this.uid===h.uid,this.auth,"internal-error"),this.displayName=h.displayName,this.photoURL=h.photoURL,this.email=h.email,this.emailVerified=h.emailVerified,this.phoneNumber=h.phoneNumber,this.isAnonymous=h.isAnonymous,this.tenantId=h.tenantId,this.providerData=h.providerData.map(p=>Object.assign({},p)),this.metadata._copy(h.metadata),this.stsTokenManager._assign(h.stsTokenManager))}_clone(h){const p=new pr(Object.assign(Object.assign({},this),{auth:h,stsTokenManager:this.stsTokenManager._clone()}));return p.metadata._copy(this.metadata),p}_onReload(h){et(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=h,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(h){this.reloadListener?this.reloadListener(h):this.reloadUserInfo=h}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(h){var p=this;return(0,Q.A)(function*(T,L=!1){let W=!1;T.idToken&&T.idToken!==p.stsTokenManager.accessToken&&(p.stsTokenManager.updateFromServerResponse(T),W=!0),L&&(yield Jr(p)),yield p.auth._persistUserIfCurrent(p),W&&p.auth._notifyListenersIfCurrent(p)}).apply(this,arguments)}delete(){var h=this;return(0,Q.A)(function*(){const p=yield h.getIdToken();return yield Ar(h,function xt(_,h){return nr.apply(this,arguments)}(h.auth,{idToken:p})),h.stsTokenManager.clearRefreshToken(),h.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(h=>Object.assign({},h)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(h,p){var T,L,W,ue,Ae,at,At,Lt;const nn=null!==(T=p.displayName)&&void 0!==T?T:void 0,hr=null!==(L=p.email)&&void 0!==L?L:void 0,As=null!==(W=p.phoneNumber)&&void 0!==W?W:void 0,Xr=null!==(ue=p.photoURL)&&void 0!==ue?ue:void 0,To=null!==(Ae=p.tenantId)&&void 0!==Ae?Ae:void 0,Xc=null!==(at=p._redirectEventId)&&void 0!==at?at:void 0,Vl=null!==(At=p.createdAt)&&void 0!==At?At:void 0,Bd=null!==(Lt=p.lastLoginAt)&&void 0!==Lt?Lt:void 0,{uid:Bl,emailVerified:jd,isAnonymous:jl,providerData:$d,stsTokenManager:Hd}=p;et(Bl&&Hd,h,"internal-error");const bp=qn.fromJSON(this.name,Hd);et("string"==typeof Bl,h,"internal-error"),ln(nn,h.name),ln(hr,h.name),et("boolean"==typeof jd,h,"internal-error"),et("boolean"==typeof jl,h,"internal-error"),ln(As,h.name),ln(Xr,h.name),ln(To,h.name),ln(Xc,h.name),ln(Vl,h.name),ln(Bd,h.name);const zd=new pr({uid:Bl,auth:h,email:hr,emailVerified:jd,displayName:nn,isAnonymous:jl,photoURL:Xr,phoneNumber:As,tenantId:To,stsTokenManager:bp,createdAt:Vl,lastLoginAt:Bd});return $d&&Array.isArray($d)&&(zd.providerData=$d.map(Yc=>Object.assign({},Yc))),Xc&&(zd._redirectEventId=Xc),zd}static _fromIdTokenResponse(h,p){return(0,Q.A)(function*(T,L,W=!1){const ue=new qn;ue.updateFromServerResponse(L);const Ae=new pr({uid:L.localId,auth:T,stsTokenManager:ue,isAnonymous:W});return yield Jr(Ae),Ae}).apply(this,arguments)}}const te=new Map;function B(_){wn(_ instanceof Function,"Expected a class definition");let h=te.get(_);return h?(wn(h instanceof _,"Instance stored in cache mismatched with class"),h):(h=new _,te.set(_,h),h)}const j=(()=>{class _{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,Q.A)(function*(){return!0})()}_set(p,T){var L=this;return(0,Q.A)(function*(){L.storage[p]=T})()}_get(p){var T=this;return(0,Q.A)(function*(){const L=T.storage[p];return void 0===L?null:L})()}_remove(p){var T=this;return(0,Q.A)(function*(){delete T.storage[p]})()}_addListener(p,T){}_removeListener(p,T){}}return _.type="NONE",_})();function G(_,h,p){return`firebase:${_}:${h}:${p}`}class le{constructor(h,p,T){this.persistence=h,this.auth=p,this.userKey=T;const{config:L,name:W}=this.auth;this.fullUserKey=G(this.userKey,L.apiKey,W),this.fullPersistenceKey=G("persistence",L.apiKey,W),this.boundEventHandler=p._onStorageEvent.bind(p),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(h){return this.persistence._set(this.fullUserKey,h.toJSON())}getCurrentUser(){var h=this;return(0,Q.A)(function*(){const p=yield h.persistence._get(h.fullUserKey);return p?pr._fromJSON(h.auth,p):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(h){var p=this;return(0,Q.A)(function*(){if(p.persistence===h)return;const T=yield p.getCurrentUser();return yield p.removeCurrentUser(),p.persistence=h,T?p.setCurrentUser(T):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(h,p){return(0,Q.A)(function*(T,L,W="authUser"){if(!L.length)return new le(B(j),T,W);const ue=(yield Promise.all(L.map(function(){var nn=(0,Q.A)(function*(hr){if(yield hr._isAvailable())return hr});return function(hr){return nn.apply(this,arguments)}}()))).filter(nn=>nn);let Ae=ue[0]||B(j);const at=G(W,T.config.apiKey,T.name);let At=null;for(const nn of L)try{const hr=yield nn._get(at);if(hr){const As=pr._fromJSON(T,hr);nn!==Ae&&(At=As),Ae=nn;break}}catch{}const Lt=ue.filter(nn=>nn._shouldAllowMigration);return Ae._shouldAllowMigration&&Lt.length?(Ae=Lt[0],At&&(yield Ae._set(at,At.toJSON())),yield Promise.all(L.map(function(){var nn=(0,Q.A)(function*(hr){if(hr!==Ae)try{yield hr._remove(at)}catch{}});return function(hr){return nn.apply(this,arguments)}}())),new le(Ae,T,W)):new le(Ae,T,W)}).apply(this,arguments)}}function je(_){const h=_.toLowerCase();if(h.includes("opera/")||h.includes("opr/")||h.includes("opios/"))return"Opera";if(vn(h))return"IEMobile";if(h.includes("msie")||h.includes("trident/"))return"IE";if(h.includes("edge/"))return"Edge";if(ht(h))return"Firefox";if(h.includes("silk/"))return"Silk";if(ar(h))return"Blackberry";if(ai(h))return"Webos";if(Vt(h))return"Safari";if((h.includes("chrome/")||Bt(h))&&!h.includes("edge/"))return"Chrome";if(tn(h))return"Android";{const T=_.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===T?.length)return T[1]}return"Other"}function ht(_=(0,Z.ZQ)()){return/firefox\//i.test(_)}function Vt(_=(0,Z.ZQ)()){const h=_.toLowerCase();return h.includes("safari/")&&!h.includes("chrome/")&&!h.includes("crios/")&&!h.includes("android")}function Bt(_=(0,Z.ZQ)()){return/crios\//i.test(_)}function vn(_=(0,Z.ZQ)()){return/iemobile/i.test(_)}function tn(_=(0,Z.ZQ)()){return/android/i.test(_)}function ar(_=(0,Z.ZQ)()){return/blackberry/i.test(_)}function ai(_=(0,Z.ZQ)()){return/webos/i.test(_)}function Ti(_=(0,Z.ZQ)()){return/iphone|ipad|ipod/i.test(_)||/macintosh/i.test(_)&&/mobile/i.test(_)}function Xe(_=(0,Z.ZQ)()){return Ti(_)||tn(_)||ai(_)||ar(_)||/windows phone/i.test(_)||vn(_)}function Kt(_,h=[]){let p;switch(_){case"Browser":p=je((0,Z.ZQ)());break;case"Worker":p=`${je((0,Z.ZQ)())}-${_}`;break;default:p=_}const T=h.length?h.join(","):"FirebaseCore-web";return`${p}/JsCore/${Je.MF}/${T}`}function Ir(_,h){return jn.apply(this,arguments)}function jn(){return(jn=(0,Q.A)(function*(_,h){return _t(_,"GET","/v2/recaptchaConfig",nt(_,h))})).apply(this,arguments)}function zs(_){return void 0!==_&&void 0!==_.enterprise}class Ns{constructor(h){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===h.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=h.recaptchaKey.split("/")[3],this.emailPasswordEnabled=h.recaptchaEnforcementState.some(p=>"EMAIL_PASSWORD_PROVIDER"===p.provider&&"OFF"!==p.enforcementState)}}function bi(_){return new Promise((h,p)=>{const T=document.createElement("script");T.setAttribute("src",_),T.onload=h,T.onerror=L=>{const W=$e("internal-error");W.customData=L,p(W)},T.type="text/javascript",T.charset="UTF-8",function Lr(){var _,h;return null!==(h=null===(_=document.getElementsByTagName("head"))||void 0===_?void 0:_[0])&&void 0!==h?h:document}().appendChild(T)})}function _i(_){return`__${_}${Math.floor(1e6*Math.random())}`}class wr{constructor(h){this.type="recaptcha-enterprise",this.auth=se(h)}verify(){var h=this;return(0,Q.A)(function*(p="verify",T=!1){function W(){return W=(0,Q.A)(function*(Ae){if(!T){if(null==Ae.tenantId&&null!=Ae._agentRecaptchaConfig)return Ae._agentRecaptchaConfig.siteKey;if(null!=Ae.tenantId&&void 0!==Ae._tenantRecaptchaConfigs[Ae.tenantId])return Ae._tenantRecaptchaConfigs[Ae.tenantId].siteKey}return new Promise(function(){var at=(0,Q.A)(function*(At,Lt){Ir(Ae,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(nn=>{if(void 0!==nn.recaptchaKey){const hr=new Ns(nn);return null==Ae.tenantId?Ae._agentRecaptchaConfig=hr:Ae._tenantRecaptchaConfigs[Ae.tenantId]=hr,At(hr.siteKey)}Lt(new Error("recaptcha Enterprise site key undefined"))}).catch(nn=>{Lt(nn)})});return function(At,Lt){return at.apply(this,arguments)}}())}),W.apply(this,arguments)}function ue(Ae,at,At){const Lt=window.grecaptcha;zs(Lt)?Lt.enterprise.ready(()=>{Lt.enterprise.execute(Ae,{action:p}).then(nn=>{at(nn)}).catch(()=>{at("NO_RECAPTCHA")})}):At(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((Ae,at)=>{(function L(Ae){return W.apply(this,arguments)})(h.auth).then(At=>{if(!T&&zs(window.grecaptcha))ue(At,Ae,at);else{if(typeof window>"u")return void at(new Error("RecaptchaVerifier is only supported in browser"));bi("https://www.google.com/recaptcha/enterprise.js?render="+At).then(()=>{ue(At,Ae,at)}).catch(Lt=>{at(Lt)})}}).catch(At=>{at(At)})})}).apply(this,arguments)}}function hs(_,h,p){return Wi.apply(this,arguments)}function Wi(){return(Wi=(0,Q.A)(function*(_,h,p,T=!1){const L=new wr(_);let W;try{W=yield L.verify(p)}catch{W=yield L.verify(p,!0)}const ue=Object.assign({},h);return Object.assign(ue,T?{captchaResp:W}:{captchaResponse:W}),Object.assign(ue,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(ue,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),ue})).apply(this,arguments)}class Ki{constructor(h){this.auth=h,this.queue=[]}pushCallback(h,p){const T=W=>new Promise((ue,Ae)=>{try{ue(h(W))}catch(at){Ae(at)}});T.onAbort=p,this.queue.push(T);const L=this.queue.length-1;return()=>{this.queue[L]=()=>Promise.resolve()}}runMiddleware(h){var p=this;return(0,Q.A)(function*(){if(p.auth.currentUser===h)return;const T=[];try{for(const L of p.queue)yield L(h),L.onAbort&&T.push(L.onAbort)}catch(L){T.reverse();for(const W of T)try{W()}catch{}throw p.auth._errorFactory.create("login-blocked",{originalMessage:L?.message})}})()}}class Gs{constructor(h,p,T,L){this.app=h,this.heartbeatServiceProvider=p,this.appCheckServiceProvider=T,this.config=L,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ae(this),this.idTokenSubscription=new ae(this),this.beforeStateQueue=new Ki(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Pe,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=h.name,this.clientVersion=L.sdkClientVersion}_initializeWithPersistence(h,p){var T=this;return p&&(this._popupRedirectResolver=B(p)),this._initializationPromise=this.queue((0,Q.A)(function*(){var L,W;if(!T._deleted&&(T.persistenceManager=yield le.create(T,h),!T._deleted)){if(null!==(L=T._popupRedirectResolver)&&void 0!==L&&L._shouldInitProactively)try{yield T._popupRedirectResolver._initialize(T)}catch{}yield T.initializeCurrentUser(p),T.lastNotifiedUid=(null===(W=T.currentUser)||void 0===W?void 0:W.uid)||null,!T._deleted&&(T._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var h=this;return(0,Q.A)(function*(){if(h._deleted)return;const p=yield h.assertedPersistence.getCurrentUser();if(h.currentUser||p){if(h.currentUser&&p&&h.currentUser.uid===p.uid)return h._currentUser._assign(p),void(yield h.currentUser.getIdToken());yield h._updateCurrentUser(p,!0)}})()}initializeCurrentUser(h){var p=this;return(0,Q.A)(function*(){var T;const L=yield p.assertedPersistence.getCurrentUser();let W=L,ue=!1;if(h&&p.config.authDomain){yield p.getOrInitRedirectPersistenceManager();const Ae=null===(T=p.redirectUser)||void 0===T?void 0:T._redirectEventId,at=W?._redirectEventId,At=yield p.tryRedirectSignIn(h);(!Ae||Ae===at)&&At?.user&&(W=At.user,ue=!0)}if(!W)return p.directlySetCurrentUser(null);if(!W._redirectEventId){if(ue)try{yield p.beforeStateQueue.runMiddleware(W)}catch(Ae){W=L,p._popupRedirectResolver._overrideRedirectResult(p,()=>Promise.reject(Ae))}return W?p.reloadAndSetCurrentUserOrClear(W):p.directlySetCurrentUser(null)}return et(p._popupRedirectResolver,p,"argument-error"),yield p.getOrInitRedirectPersistenceManager(),p.redirectUser&&p.redirectUser._redirectEventId===W._redirectEventId?p.directlySetCurrentUser(W):p.reloadAndSetCurrentUserOrClear(W)})()}tryRedirectSignIn(h){var p=this;return(0,Q.A)(function*(){let T=null;try{T=yield p._popupRedirectResolver._completeRedirectFn(p,h,!0)}catch{yield p._setRedirectUser(null)}return T})()}reloadAndSetCurrentUserOrClear(h){var p=this;return(0,Q.A)(function*(){try{yield Jr(h)}catch(T){if("auth/network-request-failed"!==T?.code)return p.directlySetCurrentUser(null)}return p.directlySetCurrentUser(h)})()}useDeviceLanguage(){this.languageCode=function Ie(){if(typeof navigator>"u")return null;const _=navigator;return _.languages&&_.languages[0]||_.language||null}()}_delete(){var h=this;return(0,Q.A)(function*(){h._deleted=!0})()}updateCurrentUser(h){var p=this;return(0,Q.A)(function*(){const T=h?(0,Z.Ku)(h):null;return T&&et(T.auth.config.apiKey===p.config.apiKey,p,"invalid-user-token"),p._updateCurrentUser(T&&T._clone(p))})()}_updateCurrentUser(h){var p=this;return(0,Q.A)(function*(T,L=!1){if(!p._deleted)return T&&et(p.tenantId===T.tenantId,p,"tenant-id-mismatch"),L||(yield p.beforeStateQueue.runMiddleware(T)),p.queue((0,Q.A)(function*(){yield p.directlySetCurrentUser(T),p.notifyAuthListeners()}))}).apply(this,arguments)}signOut(){var h=this;return(0,Q.A)(function*(){return yield h.beforeStateQueue.runMiddleware(null),(h.redirectPersistenceManager||h._popupRedirectResolver)&&(yield h._setRedirectUser(null)),h._updateCurrentUser(null,!0)})()}setPersistence(h){var p=this;return this.queue((0,Q.A)(function*(){yield p.assertedPersistence.setPersistence(B(h))}))}initializeRecaptchaConfig(){var h=this;return(0,Q.A)(function*(){const p=yield Ir(h,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),T=new Ns(p);null==h.tenantId?h._agentRecaptchaConfig=T:h._tenantRecaptchaConfigs[h.tenantId]=T,T.emailPasswordEnabled&&new wr(h).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(h){this._errorFactory=new Z.FA("auth","Firebase",h())}onAuthStateChanged(h,p,T){return this.registerStateListener(this.authStateSubscription,h,p,T)}beforeAuthStateChanged(h,p){return this.beforeStateQueue.pushCallback(h,p)}onIdTokenChanged(h,p,T){return this.registerStateListener(this.idTokenSubscription,h,p,T)}toJSON(){var h;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(h=this._currentUser)||void 0===h?void 0:h.toJSON()}}_setRedirectUser(h,p){var T=this;return(0,Q.A)(function*(){const L=yield T.getOrInitRedirectPersistenceManager(p);return null===h?L.removeCurrentUser():L.setCurrentUser(h)})()}getOrInitRedirectPersistenceManager(h){var p=this;return(0,Q.A)(function*(){if(!p.redirectPersistenceManager){const T=h&&B(h)||p._popupRedirectResolver;et(T,p,"argument-error"),p.redirectPersistenceManager=yield le.create(p,[B(T._redirectPersistence)],"redirectUser"),p.redirectUser=yield p.redirectPersistenceManager.getCurrentUser()}return p.redirectPersistenceManager})()}_redirectUserForId(h){var p=this;return(0,Q.A)(function*(){var T,L;return p._isInitialized&&(yield p.queue((0,Q.A)(function*(){}))),(null===(T=p._currentUser)||void 0===T?void 0:T._redirectEventId)===h?p._currentUser:(null===(L=p.redirectUser)||void 0===L?void 0:L._redirectEventId)===h?p.redirectUser:null})()}_persistUserIfCurrent(h){var p=this;return(0,Q.A)(function*(){if(h===p.currentUser)return p.queue((0,Q.A)(function*(){return p.directlySetCurrentUser(h)}))})()}_notifyListenersIfCurrent(h){h===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var h,p;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const T=null!==(p=null===(h=this.currentUser)||void 0===h?void 0:h.uid)&&void 0!==p?p:null;this.lastNotifiedUid!==T&&(this.lastNotifiedUid=T,this.authStateSubscription.next(this.currentUser))}registerStateListener(h,p,T,L){if(this._deleted)return()=>{};const W="function"==typeof p?p:p.next.bind(p),ue=this._isInitialized?Promise.resolve():this._initializationPromise;return et(ue,this,"internal-error"),ue.then(()=>W(this.currentUser)),"function"==typeof p?h.addObserver(p,T,L):h.addObserver(p)}directlySetCurrentUser(h){var p=this;return(0,Q.A)(function*(){p.currentUser&&p.currentUser!==h&&p._currentUser._stopProactiveRefresh(),h&&p.isProactiveRefreshEnabled&&h._startProactiveRefresh(),p.currentUser=h,h?yield p.assertedPersistence.setCurrentUser(h):yield p.assertedPersistence.removeCurrentUser()})()}queue(h){return this.operations=this.operations.then(h,h),this.operations}get assertedPersistence(){return et(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(h){!h||this.frameworks.includes(h)||(this.frameworks.push(h),this.frameworks.sort(),this.clientVersion=Kt(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var h=this;return(0,Q.A)(function*(){var p;const T={"X-Client-Version":h.clientVersion};h.app.options.appId&&(T["X-Firebase-gmpid"]=h.app.options.appId);const L=yield null===(p=h.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===p?void 0:p.getHeartbeatsHeader();L&&(T["X-Firebase-Client"]=L);const W=yield h._getAppCheckToken();return W&&(T["X-Firebase-AppCheck"]=W),T})()}_getAppCheckToken(){var h=this;return(0,Q.A)(function*(){var p;const T=yield null===(p=h.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===p?void 0:p.getToken();return T?.error&&function it(_,...h){Fe.logLevel<=re.$b.WARN&&Fe.warn(`Auth (${Je.MF}): ${_}`,...h)}(`Error while retrieving App Check token: ${T.error}`),T?.token})()}}function se(_){return(0,Z.Ku)(_)}class ae{constructor(h){this.auth=h,this.observer=null,this.addObserver=(0,Z.tD)(p=>this.observer=p)}get next(){return et(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function kt(_){const h=_.indexOf(":");return h<0?"":_.substr(0,h+1)}function en(_){if(!_)return null;const h=Number(_);return isNaN(h)?null:h}class Gr{constructor(h,p){this.providerId=h,this.signInMethod=p}toJSON(){return We("not implemented")}_getIdTokenResponse(h){return We("not implemented")}_linkToIdToken(h,p){return We("not implemented")}_getReauthenticationResolver(h){return We("not implemented")}}function Qn(_,h){return Ao.apply(this,arguments)}function Ao(){return(Ao=(0,Q.A)(function*(_,h){return _t(_,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function Go(_,h){return ja.apply(this,arguments)}function ja(){return(ja=(0,Q.A)(function*(_,h){return pn(_,"POST","/v1/accounts:signInWithPassword",nt(_,h))})).apply(this,arguments)}function ci(){return(ci=(0,Q.A)(function*(_,h){return pn(_,"POST","/v1/accounts:signInWithEmailLink",nt(_,h))})).apply(this,arguments)}function Ps(){return(Ps=(0,Q.A)(function*(_,h){return pn(_,"POST","/v1/accounts:signInWithEmailLink",nt(_,h))})).apply(this,arguments)}class an extends Gr{constructor(h,p,T,L=null){super("password",T),this._email=h,this._password=p,this._tenantId=L}static _fromEmailAndPassword(h,p){return new an(h,p,"password")}static _fromEmailAndCode(h,p,T=null){return new an(h,p,"emailLink",T)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(h){const p="string"==typeof h?JSON.parse(h):h;if(p?.email&&p?.password){if("password"===p.signInMethod)return this._fromEmailAndPassword(p.email,p.password);if("emailLink"===p.signInMethod)return this._fromEmailAndCode(p.email,p.password,p.tenantId)}return null}_getIdTokenResponse(h){var p=this;return(0,Q.A)(function*(){var T;switch(p.signInMethod){case"password":const L={returnSecureToken:!0,email:p._email,password:p._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(T=h._getRecaptchaConfig())&&void 0!==T&&T.emailPasswordEnabled){const W=yield hs(h,L,"signInWithPassword");return Go(h,W)}return Go(h,L).catch(function(){var W=(0,Q.A)(function*(ue){if("auth/missing-recaptcha-token"===ue.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const Ae=yield hs(h,L,"signInWithPassword");return Go(h,Ae)}return Promise.reject(ue)});return function(ue){return W.apply(this,arguments)}}());case"emailLink":return function ec(_,h){return ci.apply(this,arguments)}(h,{email:p._email,oobCode:p._password});default:Ge(h,"internal-error")}})()}_linkToIdToken(h,p){var T=this;return(0,Q.A)(function*(){switch(T.signInMethod){case"password":return Qn(h,{idToken:p,returnSecureToken:!0,email:T._email,password:T._password});case"emailLink":return function is(_,h){return Ps.apply(this,arguments)}(h,{idToken:p,email:T._email,oobCode:T._password});default:Ge(h,"internal-error")}})()}_getReauthenticationResolver(h){return this._getIdTokenResponse(h)}}function Rn(_,h){return Xt.apply(this,arguments)}function Xt(){return(Xt=(0,Q.A)(function*(_,h){return pn(_,"POST","/v1/accounts:signInWithIdp",nt(_,h))})).apply(this,arguments)}class hi{constructor(h){var p,T,L,W,ue,Ae;const at=(0,Z.I9)((0,Z.hp)(h)),At=null!==(p=at.apiKey)&&void 0!==p?p:null,Lt=null!==(T=at.oobCode)&&void 0!==T?T:null,nn=function uo(_){switch(_){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(L=at.mode)&&void 0!==L?L:null);et(At&&Lt&&nn,"argument-error"),this.apiKey=At,this.operation=nn,this.code=Lt,this.continueUrl=null!==(W=at.continueUrl)&&void 0!==W?W:null,this.languageCode=null!==(ue=at.languageCode)&&void 0!==ue?ue:null,this.tenantId=null!==(Ae=at.tenantId)&&void 0!==Ae?Ae:null}static parseLink(h){const p=function di(_){const h=(0,Z.I9)((0,Z.hp)(_)).link,p=h?(0,Z.I9)((0,Z.hp)(h)).deep_link_id:null,T=(0,Z.I9)((0,Z.hp)(_)).deep_link_id;return(T?(0,Z.I9)((0,Z.hp)(T)).link:null)||T||p||h||_}(h);try{return new hi(p)}catch{return null}}}let Ws=(()=>{class _{constructor(){this.providerId=_.PROVIDER_ID}static credential(p,T){return an._fromEmailAndPassword(p,T)}static credentialWithLink(p,T){const L=hi.parseLink(T);return et(L,"argument-error"),an._fromEmailAndCode(p,L.code,L.tenantId)}}return _.PROVIDER_ID="password",_.EMAIL_PASSWORD_SIGN_IN_METHOD="password",_.EMAIL_LINK_SIGN_IN_METHOD="emailLink",_})();class Or{constructor(h){this.providerId=h,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(h){this.defaultLanguageCode=h}setCustomParameters(h){return this.customParameters=h,this}getCustomParameters(){return this.customParameters}}class rn extends Or{constructor(){super(...arguments),this.scopes=[]}addScope(h){return this.scopes.includes(h)||this.scopes.push(h),this}getScopes(){return[...this.scopes]}}class Ur{constructor(h){this.user=h.user,this.providerId=h.providerId,this._tokenResponse=h._tokenResponse,this.operationType=h.operationType}static _fromIdTokenResponse(h,p,T){return(0,Q.A)(function*(L,W,ue,Ae=!1){const at=yield pr._fromIdTokenResponse(L,ue,Ae),At=Ls(ue);return new Ur({user:at,providerId:At,_tokenResponse:ue,operationType:W})}).apply(this,arguments)}static _forOperation(h,p,T){return(0,Q.A)(function*(){yield h._updateTokensIfNecessary(T,!0);const L=Ls(T);return new Ur({user:h,providerId:L,_tokenResponse:T,operationType:p})})()}}function Ls(_){return _.providerId?_.providerId:"phoneNumber"in _?"phone":null}class pi extends Z.g{constructor(h,p,T,L){var W;super(p.code,p.message),this.operationType=T,this.user=L,Object.setPrototypeOf(this,pi.prototype),this.customData={appName:h.name,tenantId:null!==(W=h.tenantId)&&void 0!==W?W:void 0,_serverResponse:p.customData._serverResponse,operationType:T}}static _fromErrorAndOperation(h,p,T,L){return new pi(h,p,T,L)}}function gs(_,h,p,T){return("reauthenticate"===h?p._getReauthenticationResolver(_):p._getIdTokenResponse(_)).catch(W=>{throw"auth/multi-factor-auth-required"===W.code?pi._fromErrorAndOperation(_,W,h,T):W})}function Vr(){return(Vr=(0,Q.A)(function*(_,h,p=!1){const T=yield Ar(_,h._linkToIdToken(_.auth,yield _.getIdToken()),p);return Ur._forOperation(_,"link",T)})).apply(this,arguments)}function xo(){return(xo=(0,Q.A)(function*(_,h,p=!1){const{auth:T}=_,L="reauthenticate";try{const W=yield Ar(_,gs(T,L,h,_),p);et(W.idToken,T,"internal-error");const ue=Kn(W.idToken);et(ue,T,"internal-error");const{sub:Ae}=ue;return et(_.uid===Ae,T,"user-mismatch"),Ur._forOperation(_,L,W)}catch(W){throw"auth/user-not-found"===W?.code&&Ge(T,"user-mismatch"),W}})).apply(this,arguments)}function ms(_,h){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,Q.A)(function*(_,h,p=!1){const T="signIn",L=yield gs(_,T,h),W=yield Ur._fromIdTokenResponse(_,T,L);return p||(yield _._updateCurrentUser(W.user)),W})).apply(this,arguments)}function qo(){return(qo=(0,Q.A)(function*(_,h){return ms(se(_),h)})).apply(this,arguments)}function wi(_,h,p){return function gr(_,h){return qo.apply(this,arguments)}((0,Z.Ku)(_),Ws.credential(h,p))}function Si(_){return(0,Z.Ku)(_).signOut()}const ft="__sak";class Se{constructor(h,p){this.storageRetriever=h,this.type=p}_isAvailable(){try{return this.storage?(this.storage.setItem(ft,"1"),this.storage.removeItem(ft),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(h,p){return this.storage.setItem(h,JSON.stringify(p)),Promise.resolve()}_get(h){const p=this.storage.getItem(h);return Promise.resolve(p?JSON.parse(p):null)}_remove(h){return this.storage.removeItem(h),Promise.resolve()}get storage(){return this.storageRetriever()}}const qa=(()=>{class _ extends Se{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(p,T)=>this.onStorageEvent(p,T),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Ve(){const _=(0,Z.ZQ)();return Vt(_)||Ti(_)}()&&function vt(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Xe(),this._shouldAllowMigration=!0}forAllChangedKeys(p){for(const T of Object.keys(this.listeners)){const L=this.storage.getItem(T),W=this.localCache[T];L!==W&&p(T,W,L)}}onStorageEvent(p,T=!1){if(!p.key)return void this.forAllChangedKeys((Ae,at,At)=>{this.notifyListeners(Ae,At)});const L=p.key;if(T?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Ae=this.storage.getItem(L);if(p.newValue!==Ae)null!==p.newValue?this.storage.setItem(L,p.newValue):this.storage.removeItem(L);else if(this.localCache[L]===p.newValue&&!T)return}const W=()=>{const Ae=this.storage.getItem(L);!T&&this.localCache[L]===Ae||this.notifyListeners(L,Ae)},ue=this.storage.getItem(L);!function ve(){return(0,Z.lT)()&&10===document.documentMode}()||ue===p.newValue||p.newValue===p.oldValue?W():setTimeout(W,10)}notifyListeners(p,T){this.localCache[p]=T;const L=this.listeners[p];if(L)for(const W of Array.from(L))W(T&&JSON.parse(T))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((p,T,L)=>{this.onStorageEvent(new StorageEvent("storage",{key:p,oldValue:T,newValue:L}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(p,T){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[p]||(this.listeners[p]=new Set,this.localCache[p]=this.storage.getItem(p)),this.listeners[p].add(T)}_removeListener(p,T){this.listeners[p]&&(this.listeners[p].delete(T),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(p,T){var L=()=>super._set,W=this;return(0,Q.A)(function*(){yield L().call(W,p,T),W.localCache[p]=JSON.stringify(T)})()}_get(p){var T=()=>super._get,L=this;return(0,Q.A)(function*(){const W=yield T().call(L,p);return L.localCache[p]=JSON.stringify(W),W})()}_remove(p){var T=()=>super._remove,L=this;return(0,Q.A)(function*(){yield T().call(L,p),delete L.localCache[p]})()}}return _.type="LOCAL",_})(),Mi=(()=>{class _ extends Se{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(p,T){}_removeListener(p,T){}}return _.type="SESSION",_})();let Bu=(()=>{class _{constructor(p){this.eventTarget=p,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(p){const T=this.receivers.find(W=>W.isListeningto(p));if(T)return T;const L=new _(p);return this.receivers.push(L),L}isListeningto(p){return this.eventTarget===p}handleEvent(p){var T=this;return(0,Q.A)(function*(){const L=p,{eventId:W,eventType:ue,data:Ae}=L.data,at=T.handlersMap[ue];if(!at?.size)return;L.ports[0].postMessage({status:"ack",eventId:W,eventType:ue});const At=Array.from(at).map(function(){var nn=(0,Q.A)(function*(hr){return hr(L.origin,Ae)});return function(hr){return nn.apply(this,arguments)}}()),Lt=yield function yu(_){return Promise.all(_.map(function(){var h=(0,Q.A)(function*(p){try{return{fulfilled:!0,value:yield p}}catch(T){return{fulfilled:!1,reason:T}}});return function(p){return h.apply(this,arguments)}}()))}(At);L.ports[0].postMessage({status:"done",eventId:W,eventType:ue,response:Lt})})()}_subscribe(p,T){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[p]||(this.handlersMap[p]=new Set),this.handlersMap[p].add(T)}_unsubscribe(p,T){this.handlersMap[p]&&T&&this.handlersMap[p].delete(T),(!T||0===this.handlersMap[p].size)&&delete this.handlersMap[p],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return _.receivers=[],_})();function go(_="",h=10){let p="";for(let T=0;T<h;T++)p+=Math.floor(10*Math.random());return _+p}class Vs{constructor(h){this.target=h,this.handlers=new Set}removeMessageHandler(h){h.messageChannel&&(h.messageChannel.port1.removeEventListener("message",h.onMessage),h.messageChannel.port1.close()),this.handlers.delete(h)}_send(h,p){var T=this;return(0,Q.A)(function*(L,W,ue=50){const Ae=typeof MessageChannel<"u"?new MessageChannel:null;if(!Ae)throw new Error("connection_unavailable");let at,At;return new Promise((Lt,nn)=>{const hr=go("",20);Ae.port1.start();const As=setTimeout(()=>{nn(new Error("unsupported_event"))},ue);At={messageChannel:Ae,onMessage(Xr){const To=Xr;if(To.data.eventId===hr)switch(To.data.status){case"ack":clearTimeout(As),at=setTimeout(()=>{nn(new Error("timeout"))},3e3);break;case"done":clearTimeout(at),Lt(To.data.response);break;default:clearTimeout(As),clearTimeout(at),nn(new Error("invalid_response"))}}},T.handlers.add(At),Ae.port1.addEventListener("message",At.onMessage),T.target.postMessage({eventType:L,eventId:hr,data:W},[Ae.port2])}).finally(()=>{At&&T.removeMessageHandler(At)})}).apply(this,arguments)}}function gi(){return window}function St(){return typeof gi().WorkerGlobalScope<"u"&&"function"==typeof gi().importScripts}function Ei(){return(Ei=(0,Q.A)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Jo="firebaseLocalStorageDb",ju="firebaseLocalStorage",bt="fbase_key";class dt{constructor(h){this.request=h}toPromise(){return new Promise((h,p)=>{this.request.addEventListener("success",()=>{h(this.request.result)}),this.request.addEventListener("error",()=>{p(this.request.error)})})}}function ea(_,h){return _.transaction([ju],h?"readwrite":"readonly").objectStore(ju)}function mo(){const _=indexedDB.open(Jo,1);return new Promise((h,p)=>{_.addEventListener("error",()=>{p(_.error)}),_.addEventListener("upgradeneeded",()=>{const T=_.result;try{T.createObjectStore(ju,{keyPath:bt})}catch(L){p(L)}}),_.addEventListener("success",(0,Q.A)(function*(){const T=_.result;T.objectStoreNames.contains(ju)?h(T):(T.close(),yield function ta(){const _=indexedDB.deleteDatabase(Jo);return new dt(_).toPromise()}(),h(yield mo()))}))})}function rc(_,h,p){return Ca.apply(this,arguments)}function Ca(){return(Ca=(0,Q.A)(function*(_,h,p){const T=ea(_,!0).put({[bt]:h,value:p});return new dt(T).toPromise()})).apply(this,arguments)}function ra(){return(ra=(0,Q.A)(function*(_,h){const p=ea(_,!1).get(h),T=yield new dt(p).toPromise();return void 0===T?null:T.value})).apply(this,arguments)}function ic(_,h){const p=ea(_,!0).delete(h);return new dt(p).toPromise()}const He=(()=>{class _{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var p=this;return(0,Q.A)(function*(){return p.db||(p.db=yield mo()),p.db})()}_withRetries(p){var T=this;return(0,Q.A)(function*(){let L=0;for(;;)try{const W=yield T._openDb();return yield p(W)}catch(W){if(L++>3)throw W;T.db&&(T.db.close(),T.db=void 0)}})()}initializeServiceWorkerMessaging(){var p=this;return(0,Q.A)(function*(){return St()?p.initializeReceiver():p.initializeSender()})()}initializeReceiver(){var p=this;return(0,Q.A)(function*(){p.receiver=Bu._getInstance(function Ct(){return St()?self:null}()),p.receiver._subscribe("keyChanged",function(){var T=(0,Q.A)(function*(L,W){return{keyProcessed:(yield p._poll()).includes(W.key)}});return function(L,W){return T.apply(this,arguments)}}()),p.receiver._subscribe("ping",function(){var T=(0,Q.A)(function*(L,W){return["keyChanged"]});return function(L,W){return T.apply(this,arguments)}}())})()}initializeSender(){var p=this;return(0,Q.A)(function*(){var T,L;if(p.activeServiceWorker=yield function Zi(){return Ei.apply(this,arguments)}(),!p.activeServiceWorker)return;p.sender=new Vs(p.activeServiceWorker);const W=yield p.sender._send("ping",{},800);W&&null!==(T=W[0])&&void 0!==T&&T.fulfilled&&null!==(L=W[0])&&void 0!==L&&L.value.includes("keyChanged")&&(p.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(p){var T=this;return(0,Q.A)(function*(){if(T.sender&&T.activeServiceWorker&&function xr(){var _;return(null===(_=navigator?.serviceWorker)||void 0===_?void 0:_.controller)||null}()===T.activeServiceWorker)try{yield T.sender._send("keyChanged",{key:p},T.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,Q.A)(function*(){try{if(!indexedDB)return!1;const p=yield mo();return yield rc(p,ft,"1"),yield ic(p,ft),!0}catch{}return!1})()}_withPendingWrite(p){var T=this;return(0,Q.A)(function*(){T.pendingWrites++;try{yield p()}finally{T.pendingWrites--}})()}_set(p,T){var L=this;return(0,Q.A)(function*(){return L._withPendingWrite((0,Q.A)(function*(){return yield L._withRetries(W=>rc(W,p,T)),L.localCache[p]=T,L.notifyServiceWorker(p)}))})()}_get(p){var T=this;return(0,Q.A)(function*(){const L=yield T._withRetries(W=>function na(_,h){return ra.apply(this,arguments)}(W,p));return T.localCache[p]=L,L})()}_remove(p){var T=this;return(0,Q.A)(function*(){return T._withPendingWrite((0,Q.A)(function*(){return yield T._withRetries(L=>ic(L,p)),delete T.localCache[p],T.notifyServiceWorker(p)}))})()}_poll(){var p=this;return(0,Q.A)(function*(){const T=yield p._withRetries(ue=>{const Ae=ea(ue,!1).getAll();return new dt(Ae).toPromise()});if(!T)return[];if(0!==p.pendingWrites)return[];const L=[],W=new Set;for(const{fbase_key:ue,value:Ae}of T)W.add(ue),JSON.stringify(p.localCache[ue])!==JSON.stringify(Ae)&&(p.notifyListeners(ue,Ae),L.push(ue));for(const ue of Object.keys(p.localCache))p.localCache[ue]&&!W.has(ue)&&(p.notifyListeners(ue,null),L.push(ue));return L})()}notifyListeners(p,T){this.localCache[p]=T;const L=this.listeners[p];if(L)for(const W of Array.from(L))W(T)}startPolling(){var p=this;this.stopPolling(),this.pollTimer=setInterval((0,Q.A)(function*(){return p._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(p,T){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[p]||(this.listeners[p]=new Set,this._get(p)),this.listeners[p].add(T)}_removeListener(p,T){this.listeners[p]&&(this.listeners[p].delete(T),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return _.type="LOCAL",_})();_i("rcb"),new ye(3e4,6e4);class ro extends Gr{constructor(h){super("custom","custom"),this.params=h}_getIdTokenResponse(h){return Rn(h,this._buildIdpRequest())}_linkToIdToken(h,p){return Rn(h,this._buildIdpRequest(p))}_getReauthenticationResolver(h){return Rn(h,this._buildIdpRequest())}_buildIdpRequest(h){const p={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return h&&(p.idToken=h),p}}function Iu(_){return ms(_.auth,new ro(_),_.bypassAuthState)}function ji(_){const{auth:h,user:p}=_;return et(p,h,"internal-error"),function Br(_,h){return xo.apply(this,arguments)}(p,new ro(_),_.bypassAuthState)}function xi(_){return Sa.apply(this,arguments)}function Sa(){return(Sa=(0,Q.A)(function*(_){const{auth:h,user:p}=_;return et(p,h,"internal-error"),function Ko(_,h){return Vr.apply(this,arguments)}(p,new ro(_),_.bypassAuthState)})).apply(this,arguments)}class qr{constructor(h,p,T,L,W=!1){this.auth=h,this.resolver=T,this.user=L,this.bypassAuthState=W,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(p)?p:[p]}execute(){var h=this;return new Promise(function(){var p=(0,Q.A)(function*(T,L){h.pendingPromise={resolve:T,reject:L};try{h.eventManager=yield h.resolver._initialize(h.auth),yield h.onExecution(),h.eventManager.registerConsumer(h)}catch(W){h.reject(W)}});return function(T,L){return p.apply(this,arguments)}}())}onAuthEvent(h){var p=this;return(0,Q.A)(function*(){const{urlResponse:T,sessionId:L,postBody:W,tenantId:ue,error:Ae,type:at}=h;if(Ae)return void p.reject(Ae);const At={auth:p.auth,requestUri:T,sessionId:L,tenantId:ue||void 0,postBody:W||void 0,user:p.user,bypassAuthState:p.bypassAuthState};try{p.resolve(yield p.getIdpTask(at)(At))}catch(Lt){p.reject(Lt)}})()}onError(h){this.reject(h)}getIdpTask(h){switch(h){case"signInViaPopup":case"signInViaRedirect":return Iu;case"linkViaPopup":case"linkViaRedirect":return xi;case"reauthViaPopup":case"reauthViaRedirect":return ji;default:Ge(this.auth,"internal-error")}}resolve(h){wn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(h),this.unregisterAndCleanUp()}reject(h){wn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(h),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}new ye(2e3,1e4);const Al="pendingRedirect",Hr=new Map;class ac extends qr{constructor(h,p,T=!1){super(h,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],p,void 0,T),this.eventId=null}execute(){var h=()=>super.execute,p=this;return(0,Q.A)(function*(){let T=Hr.get(p.auth._key());if(!T){try{const W=(yield function Lo(_,h){return Du.apply(this,arguments)}(p.resolver,p.auth))?yield h().call(p):null;T=()=>Promise.resolve(W)}catch(L){T=()=>Promise.reject(L)}Hr.set(p.auth._key(),T)}return p.bypassAuthState||Hr.set(p.auth._key(),()=>Promise.resolve(null)),T()})()}onAuthEvent(h){var p=()=>super.onAuthEvent,T=this;return(0,Q.A)(function*(){if("signInViaRedirect"===h.type)return p().call(T,h);if("unknown"!==h.type){if(h.eventId){const L=yield T.auth._redirectUserForId(h.eventId);if(L)return T.user=L,p().call(T,h);T.resolve(null)}}else T.resolve(null)})()}onExecution(){return(0,Q.A)(function*(){})()}cleanUp(){}}function Du(){return(Du=(0,Q.A)(function*(_,h){const p=function Za(_){return G(Al,_.config.apiKey,_.name)}(h),T=function Ya(_){return B(_._redirectPersistence)}(_);if(!(yield T._isAvailable()))return!1;const L="true"===(yield T._get(p));return yield T._remove(p),L})).apply(this,arguments)}function dr(_,h){Hr.set(_._key(),h)}function kc(_,h){return $s.apply(this,arguments)}function $s(){return($s=(0,Q.A)(function*(_,h,p=!1){const T=se(_),L=function Bi(_,h){return h?B(h):(et(_._popupRedirectResolver,_,"argument-error"),_._popupRedirectResolver)}(T,h),ue=yield new ac(T,L,p).execute();return ue&&!p&&(delete ue.user._redirectEventId,yield T._persistUserIfCurrent(ue.user),yield T._setRedirectUser(null,h)),ue})).apply(this,arguments)}class Vo{constructor(h){this.auth=h,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(h){this.consumers.add(h),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,h)&&(this.sendToConsumer(this.queuedRedirectEvent,h),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(h){this.consumers.delete(h)}onEvent(h){if(this.hasEventBeenHandled(h))return!1;let p=!1;return this.consumers.forEach(T=>{this.isEventForConsumer(h,T)&&(p=!0,this.sendToConsumer(h,T),this.saveEventToCache(h))}),this.hasHandledPotentialRedirect||!function Ja(_){switch(_.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Io(_);default:return!1}}(h)||(this.hasHandledPotentialRedirect=!0,p||(this.queuedRedirectEvent=h,p=!0)),p}sendToConsumer(h,p){var T;if(h.error&&!Io(h)){const L=(null===(T=h.error.code)||void 0===T?void 0:T.split("auth/")[1])||"internal-error";p.onError($e(this.auth,L))}else p.onAuthEvent(h)}isEventForConsumer(h,p){const T=null===p.eventId||!!h.eventId&&h.eventId===p.eventId;return p.filter.includes(h.type)&&T}hasEventBeenHandled(h){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Hi(h))}saveEventToCache(h){this.cachedEventUids.add(Hi(h)),this.lastProcessedEventTime=Date.now()}}function Hi(_){return[_.type,_.eventId,_.sessionId,_.tenantId].filter(h=>h).join("-")}function Io({type:_,error:h}){return"unknown"===_&&"auth/no-auth-event"===h?.code}function Ra(){return(Ra=(0,Q.A)(function*(_,h={}){return _t(_,"GET","/v1/projects",h)})).apply(this,arguments)}const ia=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,wo=/^https?/;function eu(){return eu=(0,Q.A)(function*(_){if(_.config.emulator)return;const{authorizedDomains:h}=yield function Bo(_){return Ra.apply(this,arguments)}(_);for(const p of h)try{if(Rl(p))return}catch{}Ge(_,"unauthorized-domain")}),eu.apply(this,arguments)}function Rl(_){const h=ct(),{protocol:p,hostname:T}=new URL(h);if(_.startsWith("chrome-extension://")){const ue=new URL(_);return""===ue.hostname&&""===T?"chrome-extension:"===p&&_.replace("chrome-extension://","")===h.replace("chrome-extension://",""):"chrome-extension:"===p&&ue.hostname===T}if(!wo.test(p))return!1;if(ia.test(_))return T===_;const L=_.replace(/\./g,"\\.");return new RegExp("^(.+\\."+L+"|"+L+")$","i").test(T)}const Lc=new ye(3e4,6e4);function Tu(){const _=gi().___jsl;if(_?.H)for(const h of Object.keys(_.H))if(_.H[h].r=_.H[h].r||[],_.H[h].L=_.H[h].L||[],_.H[h].r=[..._.H[h].L],_.CP)for(let p=0;p<_.CP.length;p++)_.CP[p]=null}let sa=null;const Nd=new ye(5e3,15e3),oa="__/auth/iframe",Fc="emulator/auth/iframe",Tr={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Rd=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Fn(_){const h=_.config;et(h.authDomain,_,"auth-domain-config-required");const p=h.emulator?me(h,Fc):`https://${_.config.authDomain}/${oa}`,T={apiKey:h.apiKey,appName:_.name,v:Je.MF},L=Rd.get(_.config.apiHost);L&&(T.eid=L);const W=_._getFrameworks();return W.length&&(T.fw=W.join(",")),`${p}?${(0,Z.Am)(T).slice(1)}`}function $u(){return $u=(0,Q.A)(function*(_){const h=yield function tu(_){return sa=sa||function jo(_){return new Promise((h,p)=>{var T,L,W;function ue(){Tu(),gapi.load("gapi.iframes",{callback:()=>{h(gapi.iframes.getContext())},ontimeout:()=>{Tu(),p($e(_,"network-request-failed"))},timeout:Lc.get()})}if(null!==(L=null===(T=gi().gapi)||void 0===T?void 0:T.iframes)&&void 0!==L&&L.Iframe)h(gapi.iframes.getContext());else{if(null===(W=gi().gapi)||void 0===W||!W.load){const Ae=_i("iframefcb");return gi()[Ae]=()=>{gapi.load?ue():p($e(_,"network-request-failed"))},bi(`https://apis.google.com/js/api.js?onload=${Ae}`).catch(at=>p(at))}ue()}}).catch(h=>{throw sa=null,h})}(_),sa}(_),p=gi().gapi;return et(p,_,"internal-error"),h.open({where:document.body,url:Fn(_),messageHandlersFilter:p.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Tr,dontclear:!0},T=>new Promise(function(){var L=(0,Q.A)(function*(W,ue){yield T.restyle({setHideOnLeave:!1});const Ae=$e(_,"network-request-failed"),at=gi().setTimeout(()=>{ue(Ae)},Nd.get());function At(){gi().clearTimeout(at),W(T)}T.ping(At).then(At,()=>{ue(Ae)})});return function(W,ue){return L.apply(this,arguments)}}()))}),$u.apply(this,arguments)}const cc={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class H{constructor(h){this.window=h,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const xe="__/auth/handler",lt="emulator/auth/handler",pt=encodeURIComponent("fac");function Ot(_,h,p,T,L,W){return sn.apply(this,arguments)}function sn(){return(sn=(0,Q.A)(function*(_,h,p,T,L,W){et(_.config.authDomain,_,"auth-domain-config-required"),et(_.config.apiKey,_,"invalid-api-key");const ue={apiKey:_.config.apiKey,appName:_.name,authType:p,redirectUrl:T,v:Je.MF,eventId:L};if(h instanceof Or){h.setDefaultLanguage(_.languageCode),ue.providerId=h.providerId||"",(0,Z.Im)(h.getCustomParameters())||(ue.customParameters=JSON.stringify(h.getCustomParameters()));for(const[Lt,nn]of Object.entries(W||{}))ue[Lt]=nn}if(h instanceof rn){const Lt=h.getScopes().filter(nn=>""!==nn);Lt.length>0&&(ue.scopes=Lt.join(","))}_.tenantId&&(ue.tid=_.tenantId);const Ae=ue;for(const Lt of Object.keys(Ae))void 0===Ae[Lt]&&delete Ae[Lt];const at=yield _._getAppCheckToken(),At=at?`#${pt}=${encodeURIComponent(at)}`:"";return`${function fn({config:_}){return _.emulator?me(_,lt):`https://${_.authDomain}/${xe}`}(_)}?${(0,Z.Am)(Ae).slice(1)}${At}`})).apply(this,arguments)}const Hs="webStorageSupport",Uc=class Ji{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Mi,this._completeRedirectFn=kc,this._overrideRedirectResult=dr}_openPopup(h,p,T,L){var W=this;return(0,Q.A)(function*(){var ue;wn(null===(ue=W.eventManagers[h._key()])||void 0===ue?void 0:ue.manager,"_initialize() not called before _openPopup()");const Ae=yield Ot(h,p,T,ct(),L);return function ne(_,h,p,T=500,L=600){const W=Math.max((window.screen.availHeight-L)/2,0).toString(),ue=Math.max((window.screen.availWidth-T)/2,0).toString();let Ae="";const at=Object.assign(Object.assign({},cc),{width:T.toString(),height:L.toString(),top:W,left:ue}),At=(0,Z.ZQ)().toLowerCase();p&&(Ae=Bt(At)?"_blank":p),ht(At)&&(h=h||"http://localhost",at.scrollbars="yes");const Lt=Object.entries(at).reduce((hr,[As,Xr])=>`${hr}${As}=${Xr},`,"");if(function Ne(_=(0,Z.ZQ)()){var h;return Ti(_)&&!(null===(h=window.navigator)||void 0===h||!h.standalone)}(At)&&"_self"!==Ae)return function he(_,h){const p=document.createElement("a");p.href=_,p.target=h;const T=document.createEvent("MouseEvent");T.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),p.dispatchEvent(T)}(h||"",Ae),new H(null);const nn=window.open(h||"",Ae,Lt);et(nn,_,"popup-blocked");try{nn.focus()}catch{}return new H(nn)}(h,Ae,go())})()}_openRedirect(h,p,T,L){var W=this;return(0,Q.A)(function*(){return yield W._originValidation(h),function vu(_){gi().location.href=_}(yield Ot(h,p,T,ct(),L)),new Promise(()=>{})})()}_initialize(h){const p=h._key();if(this.eventManagers[p]){const{manager:L,promise:W}=this.eventManagers[p];return L?Promise.resolve(L):(wn(W,"If manager is not set, promise should be"),W)}const T=this.initAndGetManager(h);return this.eventManagers[p]={promise:T},T.catch(()=>{delete this.eventManagers[p]}),T}initAndGetManager(h){var p=this;return(0,Q.A)(function*(){const T=yield function Oa(_){return $u.apply(this,arguments)}(h),L=new Vo(h);return T.register("authEvent",W=>(et(W?.authEvent,h,"invalid-auth-event"),{status:L.onEvent(W.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),p.eventManagers[h._key()]={manager:L},p.iframes[h._key()]=T,L})()}_isIframeWebStorageSupported(h,p){this.iframes[h._key()].send(Hs,{type:Hs},L=>{var W;const ue=null===(W=L?.[0])||void 0===W?void 0:W[Hs];void 0!==ue&&p(!!ue),Ge(h,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(h){const p=h._key();return this.originValidationPromises[p]||(this.originValidationPromises[p]=function Nl(_){return eu.apply(this,arguments)}(h)),this.originValidationPromises[p]}get _shouldInitProactively(){return Xe()||Vt()||Ti()}};var bu="@firebase/auth";class ru{constructor(h){this.auth=h,this.internalListeners=new Map}getUid(){var h;return this.assertAuthConfigured(),(null===(h=this.auth.currentUser)||void 0===h?void 0:h.uid)||null}getToken(h){var p=this;return(0,Q.A)(function*(){return p.assertAuthConfigured(),yield p.auth._initializationPromise,p.auth.currentUser?{accessToken:yield p.auth.currentUser.getIdToken(h)}:null})()}addAuthTokenListener(h){if(this.assertAuthConfigured(),this.internalListeners.has(h))return;const p=this.auth.onIdTokenChanged(T=>{h(T?.stsTokenManager.accessToken||null)});this.internalListeners.set(h,p),this.updateProactiveRefresh()}removeAuthTokenListener(h){this.assertAuthConfigured();const p=this.internalListeners.get(h);p&&(this.internalListeners.delete(h),p(),this.updateProactiveRefresh())}assertAuthConfigured(){et(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const iu=(0,Z.XA)("authIdTokenMaxAge")||300;let Ph=null;const hc=_=>function(){var h=(0,Q.A)(function*(p){const T=p&&(yield p.getIdTokenResult()),L=T&&((new Date).getTime()-Date.parse(T.issuedAtTime))/1e3;if(L&&L>iu)return;const W=T?.token;Ph!==W&&(Ph=W,yield fetch(_,{method:W?"POST":"DELETE",headers:W?{Authorization:`Bearer ${W}`}:{}}))});return function(p){return h.apply(this,arguments)}}();function _p(_=(0,Je.Sx)()){const h=(0,Je.j6)(_,"auth");if(h.isInitialized())return h.getImmediate();const p=function we(_,h){const p=(0,Je.j6)(_,"auth");if(p.isInitialized()){const L=p.getImmediate(),W=p.getOptions();if((0,Z.bD)(W,h??{}))return L;Ge(L,"already-initialized")}return p.initialize({options:h})}(_,{popupRedirectResolver:Uc,persistence:[He,qa,Mi]}),T=(0,Z.XA)("authTokenSyncURL");if(T){const W=hc(T);(function dn(_,h,p){(0,Z.Ku)(_).beforeAuthStateChanged(h,p)})(p,W,()=>W(p.currentUser)),function $n(_,h,p,T){(0,Z.Ku)(_).onIdTokenChanged(h,p,T)}(p,ue=>W(ue))}const L=(0,Z.Tj)("auth");return L&&function rt(_,h,p){const T=se(_);et(T._canInitEmulator,T,"emulator-config-failed"),et(/^https?:\/\//.test(h),T,"invalid-emulator-scheme");const L=!!p?.disableWarnings,W=kt(h),{host:ue,port:Ae}=function mn(_){const h=kt(_),p=/(\/\/)?([^?#/]+)/.exec(_.substr(h.length));if(!p)return{host:"",port:null};const T=p[2].split("@").pop()||"",L=/^(\[[^\]]+\])(:|$)/.exec(T);if(L){const W=L[1];return{host:W,port:en(T.substr(W.length+1))}}{const[W,ue]=T.split(":");return{host:W,port:en(ue)}}}(h);T.config.emulator={url:`${W}//${ue}${null===Ae?"":`:${Ae}`}/`},T.settings.appVerificationDisabledForTesting=!0,T.emulatorConfig=Object.freeze({host:ue,port:Ae,protocol:W.replace(":",""),options:Object.freeze({disableWarnings:L})}),L||function Cn(){function _(){const h=document.createElement("p"),p=h.style;h.innerText="Running in emulator mode. Do not use with production credentials.",p.position="fixed",p.width="100%",p.backgroundColor="#ffffff",p.border=".1em solid #000000",p.color="#b50000",p.bottom="0px",p.left="0px",p.margin="0px",p.zIndex="10000",p.textAlign="center",h.classList.add("firebase-emulator-warning"),document.body.appendChild(h)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",_):_())}()}(p,`http://${L}`),p}!function Bc(_){(0,Je.om)(new ee.uA("auth",(h,{options:p})=>{const T=h.getProvider("app").getImmediate(),L=h.getProvider("heartbeat"),W=h.getProvider("app-check-internal"),{apiKey:ue,authDomain:Ae}=T.options;et(ue&&!ue.includes(":"),"invalid-api-key",{appName:T.name});const at={apiKey:ue,authDomain:Ae,clientPlatform:_,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Kt(_)},At=new Gs(T,L,W,at);return function ke(_,h){const p=h?.persistence||[],T=(Array.isArray(p)?p:[p]).map(B);h?.errorMap&&_._updateErrorMap(h.errorMap),_._initializeWithPersistence(T,h?.popupRedirectResolver)}(At,p),At},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((h,p,T)=>{h.getProvider("auth-internal").initialize()})),(0,Je.om)(new ee.uA("auth-internal",h=>{const p=se(h.getProvider("auth").getImmediate());return new ru(p)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,Je.KO)(bu,"0.23.2",function Vc(_){switch(_){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(_)),(0,Je.KO)(bu,"0.23.2","esm2017")}("Browser");class su{constructor(h){return h}}class ou{constructor(){return(0,S.CA)("auth")}}const es=new ie.nKC("angularfire2.auth-instances");function Ol(_){return(h,p)=>{const T=h.runOutsideAngular(()=>_(p));return new su(T)}}const $c={provide:ou,deps:[[new ie.Xx1,es]]},kh={provide:su,useFactory:function Od(_,h){const p=(0,S.lR)("auth",_,h);return p&&new su(p)},deps:[[new ie.Xx1,es],ce.XU]};let Pd=(()=>{class _{constructor(){(0,Te.KO)("angularfire",S.xv.full,"auth")}}return _.\u0275fac=function(p){return new(p||_)},_.\u0275mod=ie.$C({type:_}),_.\u0275inj=ie.G2t({providers:[kh,$c]}),_})();function Hc(_,...h){return{ngModule:Pd,providers:[{provide:es,useFactory:Ol(_),multi:!0,deps:[ie.SKi,ie.zZn,S.u0,ce.gL,[new ie.Xx1,fe.kR],...h]}]}}const wp=(0,S.S3)(_p,!0),vm=(0,S.S3)(wi,!0),ka=(0,S.S3)(Si,!0)},4724:(Wt,ze,K)=>{K.d(ze,{_7:()=>Cd,gS:()=>cp,rJ:()=>Jg,kd:()=>nI,H9:()=>x0,GG:()=>oI,aU:()=>Ad,hV:()=>Hy,P:()=>hI,mZ:()=>em,_M:()=>gI});var de,S=K(9126),ie=K(540),ce=K(9676),Te=K(8934),fe=K(7037),Q=K(681),Z=K(467),Je=K(2979),Be=K(8779),re=K(5398),ee=K(1401),_e=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Oe={},ut=ut||{},st=_e||self;function Gt(i){var e=typeof i;return"array"==(e="object"!=e?e:i?Array.isArray(i)?"array":e:"null")||"object"==e&&"number"==typeof i.length}function Ut(i){var e=typeof i;return"object"==e&&null!=i||"function"==e}var Un="closure_uid_"+(1e9*Math.random()>>>0),Pe=0;function Ze(i,e,n){return i.call.apply(i.bind,arguments)}function Fe(i,e,n){if(!i)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var u=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(u,o),i.apply(e,u)}}return function(){return i.apply(e,arguments)}}function it(i,e,n){return(it=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Ze:Fe).apply(null,arguments)}function gt(i,e){var n=Array.prototype.slice.call(arguments,1);return function(){var o=n.slice();return o.push.apply(o,arguments),i.apply(this,o)}}function Ge(i,e){function n(){}n.prototype=e.prototype,i.$=e.prototype,i.prototype=new n,i.prototype.constructor=i,i.ac=function(o,u,l){for(var f=Array(arguments.length-2),E=2;E<arguments.length;E++)f[E-2]=arguments[E];return e.prototype[u].apply(o,f)}}function $e(){this.s=this.s,this.o=this.o}$e.prototype.s=!1,$e.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function Bn(i){Object.prototype.hasOwnProperty.call(i,Un)&&i[Un]||(i[Un]=++Pe)}(this)},$e.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Nn=Array.prototype.indexOf?function(i,e){return Array.prototype.indexOf.call(i,e,void 0)}:function(i,e){if("string"==typeof i)return"string"!=typeof e||1!=e.length?-1:i.indexOf(e,0);for(let n=0;n<i.length;n++)if(n in i&&i[n]===e)return n;return-1};function Cr(i){const e=i.length;if(0<e){const n=Array(e);for(let o=0;o<e;o++)n[o]=i[o];return n}return[]}function et(i,e){for(let n=1;n<arguments.length;n++){const o=arguments[n];if(Gt(o)){const u=i.length||0,l=o.length||0;i.length=u+l;for(let f=0;f<l;f++)i[u+f]=o[f]}else i.push(o)}}function We(i,e){this.type=i,this.g=this.target=e,this.defaultPrevented=!1}We.prototype.h=function(){this.defaultPrevented=!0};var wn=function(){if(!st.addEventListener||!Object.defineProperty)return!1;var i=!1,e=Object.defineProperty({},"passive",{get:function(){i=!0}});try{st.addEventListener("test",()=>{},e),st.removeEventListener("test",()=>{},e)}catch{}return i}();function ct(i){return/^[\s\xa0]*$/.test(i)}function jt(){var i=st.navigator;return i&&(i=i.userAgent)?i:""}function sr(i){return-1!=jt().indexOf(i)}function Zr(i){return Zr[" "](i),i}Zr[" "]=function(){};var un,i,ye=sr("Opera"),me=sr("Trident")||sr("MSIE"),Me=sr("Edge"),Ke=Me||me,Qe=sr("Gecko")&&!(-1!=jt().toLowerCase().indexOf("webkit")&&!sr("Edge"))&&!(sr("Trident")||sr("MSIE"))&&!sr("Edge"),nt=-1!=jt().toLowerCase().indexOf("webkit")&&!sr("Edge");function _t(){var i=st.document;return i?i.documentMode:void 0}e:{var Ft="",Tn=(i=jt(),Qe?/rv:([^\);]+)(\)|;)/.exec(i):Me?/Edge\/([\d\.]+)/.exec(i):me?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):nt?/WebKit\/(\S+)/.exec(i):ye?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(Tn&&(Ft=Tn?Tn[1]:""),me){var pn=_t();if(null!=pn&&pn>parseFloat(Ft)){un=String(pn);break e}}un=Ft}var or=st.document&&me&&(_t()||parseInt(un,10))||void 0;function cn(i,e){if(We.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var n=this.type=i.type,o=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=e,e=i.relatedTarget){if(Qe){e:{try{Zr(e.nodeName);var u=!0;break e}catch{}u=!1}u||(e=null)}}else"mouseover"==n?e=i.fromElement:"mouseout"==n&&(e=i.toElement);this.relatedTarget=e,o?(this.clientX=void 0!==o.clientX?o.clientX:o.pageX,this.clientY=void 0!==o.clientY?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:xt[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&cn.$.h.call(this)}}Ge(cn,We);var xt={2:"touch",3:"pen",4:"mouse"};cn.prototype.h=function(){cn.$.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var nr="closure_listenable_"+(1e6*Math.random()|0),$t=0;function Pr(i,e,n,o,u){this.listener=i,this.proxy=null,this.src=e,this.type=n,this.capture=!!o,this.la=u,this.key=++$t,this.fa=this.ia=!1}function gn(i){i.fa=!0,i.listener=null,i.proxy=null,i.src=null,i.la=null}function Yn(i,e,n){for(const o in i)e.call(n,i[o],o,i)}function qt(i){const e={};for(const n in i)e[n]=i[n];return e}const Wn="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function _r(i,e){let n,o;for(let u=1;u<arguments.length;u++){for(n in o=arguments[u],o)i[n]=o[n];for(let l=0;l<Wn.length;l++)n=Wn[l],Object.prototype.hasOwnProperty.call(o,n)&&(i[n]=o[n])}}function br(i){this.src=i,this.g={},this.h=0}function Kn(i,e){var n=e.type;if(n in i.g){var l,o=i.g[n],u=Nn(o,e);(l=0<=u)&&Array.prototype.splice.call(o,u,1),l&&(gn(e),0==i.g[n].length&&(delete i.g[n],i.h--))}}function Jn(i,e,n,o){for(var u=0;u<i.length;++u){var l=i[u];if(!l.fa&&l.listener==e&&l.capture==!!n&&l.la==o)return u}return-1}br.prototype.add=function(i,e,n,o,u){var l=i.toString();(i=this.g[l])||(i=this.g[l]=[],this.h++);var f=Jn(i,e,o,u);return-1<f?(e=i[f],n||(e.ia=!1)):((e=new Pr(e,this.src,l,!!o,u)).ia=n,i.push(e)),e};var Ar="closure_lm_"+(1e6*Math.random()|0),bn={};function Ni(i,e,n,o,u){if(o&&o.once)return Jr(i,e,n,o,u);if(Array.isArray(e)){for(var l=0;l<e.length;l++)Ni(i,e[l],n,o,u);return null}return n=zt(n),i&&i[nr]?i.O(e,n,Ut(o)?!!o.capture:!!o,u):yt(i,e,n,!1,o,u)}function yt(i,e,n,o,u,l){if(!e)throw Error("Invalid event type");var f=Ut(u)?!!u.capture:!!u,E=kr(i);if(E||(i[Ar]=E=new br(i)),(n=E.add(e,n,o,f,l)).proxy)return n;if(o=function vi(){const e=Pt;return function i(n){return e.call(i.src,i.listener,n)}}(),n.proxy=o,o.src=i,o.listener=n,i.addEventListener)wn||(u=f),void 0===u&&(u=!1),i.addEventListener(e.toString(),o,u);else if(i.attachEvent)i.attachEvent(ei(e.toString()),o);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(o)}return n}function Jr(i,e,n,o,u){if(Array.isArray(e)){for(var l=0;l<e.length;l++)Jr(i,e[l],n,o,u);return null}return n=zt(n),i&&i[nr]?i.P(e,n,Ut(o)?!!o.capture:!!o,u):yt(i,e,n,!0,o,u)}function fr(i,e,n,o,u){if(Array.isArray(e))for(var l=0;l<e.length;l++)fr(i,e[l],n,o,u);else o=Ut(o)?!!o.capture:!!o,n=zt(n),i&&i[nr]?(i=i.i,(e=String(e).toString())in i.g&&-1<(n=Jn(l=i.g[e],n,o,u))&&(gn(l[n]),Array.prototype.splice.call(l,n,1),0==l.length&&(delete i.g[e],i.h--))):i&&(i=kr(i))&&(e=i.g[e.toString()],i=-1,e&&(i=Jn(e,n,o,u)),(n=-1<i?e[i]:null)&&Sr(n))}function Sr(i){if("number"!=typeof i&&i&&!i.fa){var e=i.src;if(e&&e[nr])Kn(e.i,i);else{var n=i.type,o=i.proxy;e.removeEventListener?e.removeEventListener(n,o,i.capture):e.detachEvent?e.detachEvent(ei(n),o):e.addListener&&e.removeListener&&e.removeListener(o),(n=kr(e))?(Kn(n,i),0==n.h&&(n.src=null,e[Ar]=null)):gn(i)}}}function ei(i){return i in bn?bn[i]:bn[i]="on"+i}function Pt(i,e){if(i.fa)i=!0;else{e=new cn(e,this);var n=i.listener,o=i.la||i.src;i.ia&&Sr(i),i=n.call(o,e)}return i}function kr(i){return(i=i[Ar])instanceof br?i:null}var oi="__closure_events_fn_"+(1e9*Math.random()>>>0);function zt(i){return"function"==typeof i?i:(i[oi]||(i[oi]=function(e){return i.handleEvent(e)}),i[oi])}function qn(){$e.call(this),this.i=new br(this),this.S=this,this.J=null}function ln(i,e){var n,o=i.J;if(o)for(n=[];o;o=o.J)n.push(o);if(i=i.S,o=e.type||e,"string"==typeof e)e=new We(e,i);else if(e instanceof We)e.target=e.target||i;else{var u=e;_r(e=new We(o,i),u)}if(u=!0,n)for(var l=n.length-1;0<=l;l--){var f=e.g=n[l];u=pr(f,o,!0,e)&&u}if(u=pr(f=e.g=i,o,!0,e)&&u,u=pr(f,o,!1,e)&&u,n)for(l=0;l<n.length;l++)u=pr(f=e.g=n[l],o,!1,e)&&u}function pr(i,e,n,o){if(!(e=i.i.g[String(e)]))return!0;e=e.concat();for(var u=!0,l=0;l<e.length;++l){var f=e[l];if(f&&!f.fa&&f.capture==n){var E=f.listener,x=f.la||f.src;f.ia&&Kn(i.i,f),u=!1!==E.call(x,o)&&u}}return u&&!o.defaultPrevented}Ge(qn,$e),qn.prototype[nr]=!0,qn.prototype.removeEventListener=function(i,e,n,o){fr(this,i,e,n,o)},qn.prototype.N=function(){if(qn.$.N.call(this),this.i){var e,i=this.i;for(e in i.g){for(var n=i.g[e],o=0;o<n.length;o++)gn(n[o]);delete i.g[e],i.h--}}this.J=null},qn.prototype.O=function(i,e,n,o){return this.i.add(String(i),e,!1,n,o)},qn.prototype.P=function(i,e,n,o){return this.i.add(String(i),e,!0,n,o)};var te=st.JSON.stringify;function $(){var i=vn;let e=null;return i.g&&(e=i.g,i.g=i.g.next,i.g||(i.h=null),e.next=null),e}var G=new class B{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new le,i=>i.reset());class le{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function je(i){var e=1;i=i.split(":");const n=[];for(;0<e&&i.length;)n.push(i.shift()),e--;return i.length&&n.push(i.join(":")),n}function ht(i){st.setTimeout(()=>{throw i},0)}let Vt,Bt=!1,vn=new class j{constructor(){this.h=this.g=null}add(e,n){const o=G.get();o.set(e,n),this.h?this.h.next=o:this.g=o,this.h=o}},tn=()=>{const i=st.Promise.resolve(void 0);Vt=()=>{i.then(ar)}};var ar=()=>{for(var i;i=$();){try{i.h.call(i.g)}catch(n){ht(n)}var e=G;e.j(i),100>e.h&&(e.h++,i.next=e.g,e.g=i)}Bt=!1};function ai(i,e){qn.call(this),this.h=i||1,this.g=e||st,this.j=it(this.qb,this),this.l=Date.now()}function Ti(i){i.ga=!1,i.T&&(i.g.clearTimeout(i.T),i.T=null)}function Ci(i,e,n){if("function"==typeof i)n&&(i=it(i,n));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=it(i.handleEvent,i)}return 2147483647<Number(e)?-1:st.setTimeout(i,e||0)}function Ne(i){i.g=Ci(()=>{i.g=null,i.i&&(i.i=!1,Ne(i))},i.j);const e=i.h;i.h=null,i.m.apply(null,e)}Ge(ai,qn),(de=ai.prototype).ga=!1,de.T=null,de.qb=function(){if(this.ga){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-i):(this.T&&(this.g.clearTimeout(this.T),this.T=null),ln(this,"tick"),this.ga&&(Ti(this),this.start()))}},de.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},de.N=function(){ai.$.N.call(this),Ti(this),delete this.g};class ve extends $e{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Ne(this)}N(){super.N(),this.g&&(st.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Xe(i){$e.call(this),this.h=i,this.g={}}Ge(Xe,$e);var vt=[];function Kt(i,e,n,o){Array.isArray(n)||(n&&(vt[0]=n.toString()),n=vt);for(var u=0;u<n.length;u++){var l=Ni(e,n[u],o||i.handleEvent,!1,i.h||i);if(!l)break;i.g[l.key]=l}}function wt(i){Yn(i.g,function(e,n){this.g.hasOwnProperty(n)&&Sr(e)},i),i.g={}}function on(){this.g=!0}function ui(i,e,n,o){i.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Ns(i,e){if(!i.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(i=0;i<n.length;i++)if(Array.isArray(n[i])){var o=n[i];if(!(2>o.length)){var u=o[1];if(Array.isArray(u)&&!(1>u.length)){var l=u[0];if("noop"!=l&&"stop"!=l&&"close"!=l)for(var f=1;f<u.length;f++)u[f]=""}}}return te(n)}catch{return e}}(i,n)+(o?" "+o:"")})}Xe.prototype.N=function(){Xe.$.N.call(this),wt(this)},Xe.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},on.prototype.Ea=function(){this.g=!1},on.prototype.info=function(){};var Lr={},bi=null;function _i(){return bi=bi||new qn}function Ii(i){We.call(this,Lr.Ta,i)}function _n(i){const e=_i();ln(e,new Ii(e))}function ds(i,e){We.call(this,Lr.STAT_EVENT,i),this.stat=e}function wr(i){const e=_i();ln(e,new ds(e,i))}function hs(i,e){We.call(this,Lr.Ua,i),this.size=e}function Wi(i,e){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return st.setTimeout(function(){i()},e)}Lr.Ta="serverreachability",Ge(Ii,We),Lr.STAT_EVENT="statevent",Ge(ds,We),Lr.Ua="timingevent",Ge(hs,We);var Ki={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Gs={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function se(){}function we(){}se.prototype.h=null;var mn,ke={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function rt(){We.call(this,"d")}function kt(){We.call(this,"c")}function en(){}function Cn(i,e,n,o){this.l=i,this.j=e,this.m=n,this.W=o||1,this.U=new Xe(this),this.P=Fr,this.V=new ai(i=Ke?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Gr}function Gr(){this.i=null,this.g="",this.h=!1}Ge(rt,We),Ge(kt,We),Ge(en,se),en.prototype.g=function(){return new XMLHttpRequest},en.prototype.i=function(){return{}},mn=new en;var Fr=45e3,Nr={},Qn={};function Ao(i,e,n){i.L=1,i.v=qi(is(e)),i.s=n,i.S=!0,Ba(i,null)}function Ba(i,e){i.G=Date.now(),fs(i),i.A=is(i.v);var n=i.A,o=i.W;Array.isArray(o)||(o=[String(o)]),di(n.i,"t",o),i.C=0,n=i.l.J,i.h=new Gr,i.g=ss(i.l,n?e:null,!i.s),0<i.O&&(i.M=new ve(it(i.Pa,i,i.g),i.O)),Kt(i.U,i.g,"readystatechange",i.nb),e=i.I?qt(i.I):{},i.s?(i.u||(i.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",i.g.ha(i.A,i.u,i.s,e)):(i.u="GET",i.g.ha(i.A,i.u,null,e)),_n(),function Ir(i,e,n,o,u,l){i.info(function(){if(i.g)if(l)for(var f="",E=l.split("&"),x=0;x<E.length;x++){var P=E[x].split("=");if(1<P.length){var z=P[0];P=P[1];var J=z.split("_");f=2<=J.length&&"type"==J[1]?f+(z+"=")+P+"&":f+(z+"=redacted&")}}else f=null;else f=l;return"XMLHTTP REQ ("+o+") [attempt "+u+"]: "+e+"\n"+n+"\n"+f})}(i.j,i.u,i.A,i.m,i.W,i.s)}function da(i){return!!i.g&&"GET"==i.u&&2!=i.L&&i.l.Ha}function Go(i,e,n){let u,o=!0;for(;!i.J&&i.C<n.length;){if(u=ja(i,n),u==Qn){4==e&&(i.o=4,wr(14),o=!1),ui(i.j,i.m,null,"[Incomplete Response]");break}if(u==Nr){i.o=4,wr(15),ui(i.j,i.m,n,"[Invalid Chunk]"),o=!1;break}ui(i.j,i.m,u,null),So(i,u)}da(i)&&u!=Qn&&u!=Nr&&(i.h.g="",i.C=0),4!=e||0!=n.length||i.h.h||(i.o=1,wr(16),o=!1),i.i=i.i&&o,o?0<n.length&&!i.ba&&(i.ba=!0,(e=i.l).g==i&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Xo(e),e.M=!0,wr(11))):(ui(i.j,i.m,n,"[Invalid Chunked Response]"),Os(i),Rs(i))}function ja(i,e){var n=i.C,o=e.indexOf("\n",n);return-1==o?Qn:(n=Number(e.substring(n,o)),isNaN(n)?Nr:(o+=1)+n>e.length?Qn:(e=e.slice(o,o+n),i.C=o+n,e))}function fs(i){i.Y=Date.now()+i.P,ha(i,i.P)}function ha(i,e){if(null!=i.B)throw Error("WatchDog timer not null");i.B=Wi(it(i.lb,i),e)}function fa(i){i.B&&(st.clearTimeout(i.B),i.B=null)}function Rs(i){0==i.l.H||i.J||_a(i.l,i)}function Os(i){fa(i);var e=i.M;e&&"function"==typeof e.sa&&e.sa(),i.M=null,Ti(i.V),wt(i.U),i.g&&(e=i.g,i.g=null,e.abort(),e.sa())}function So(i,e){try{var n=i.l;if(0!=n.H&&(n.g==i||Ks(n.i,i)))if(!i.K&&Ks(n.i,i)&&3==n.H){try{var o=n.Ja.g.parse(e)}catch{o=null}if(Array.isArray(o)&&3==o.length){var u=o;if(0==u[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<i.G))break e;vs(n),Uu(n)}pu(n),wr(18)}}else n.Fa=u[1],0<n.Fa-n.V&&37500>u[2]&&n.G&&0==n.A&&!n.v&&(n.v=Wi(it(n.ib,n),6e3));if(1>=ma(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Yo(n,11)}else if((i.K||n.g==i)&&vs(n),!ct(e))for(u=n.Ja.g.parse(e),e=0;e<u.length;e++){let P=u[e];if(n.V=P[0],P=P[1],2==n.H)if("c"==P[0]){n.K=P[1],n.pa=P[2];const z=P[3];null!=z&&(n.ra=z,n.l.info("VER="+n.ra));const J=P[4];null!=J&&(n.Ga=J,n.l.info("SVER="+n.Ga));const De=P[5];null!=De&&"number"==typeof De&&0<De&&(n.L=o=1.5*De,n.l.info("backChannelRequestTimeoutMs_="+o)),o=n;const Re=i.g;if(Re){const ot=Re.g?Re.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ot){var l=o.i;l.g||-1==ot.indexOf("spdy")&&-1==ot.indexOf("quic")&&-1==ot.indexOf("h2")||(l.j=l.l,l.g=new Set,l.h&&(Dr(l,l.h),l.h=null))}if(o.F){const Tt=Re.g?Re.g.getResponseHeader("X-HTTP-Session-Id"):null;Tt&&(o.Da=Tt,Xt(o.I,o.F,Tt))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-i.G,n.l.info("Handshake RTT: "+n.S+"ms"));var f=i;if((o=n).wa=Xs(o,o.J?o.pa:null,o.Y),f.K){co(o.i,f);var E=f,x=o.L;x&&E.setTimeout(x),E.B&&(fa(E),fs(E)),o.g=f}else ni(o);0<n.j.length&&Ro(n)}else"stop"!=P[0]&&"close"!=P[0]||Yo(n,7);else 3==n.H&&("stop"==P[0]||"close"==P[0]?"stop"==P[0]?Yo(n,7):No(n):"noop"!=P[0]&&n.h&&n.h.Aa(P),n.A=0)}_n()}catch{}}function $a(i,e){if(i.forEach&&"function"==typeof i.forEach)i.forEach(e,void 0);else if(Gt(i)||"string"==typeof i)Array.prototype.forEach.call(i,e,void 0);else for(var n=function pa(i){if(i.ta&&"function"==typeof i.ta)return i.ta();if(!i.Z||"function"!=typeof i.Z){if(typeof Map<"u"&&i instanceof Map)return Array.from(i.keys());if(!(typeof Set<"u"&&i instanceof Set)){if(Gt(i)||"string"==typeof i){var e=[];i=i.length;for(var n=0;n<i;n++)e.push(n);return e}e=[],n=0;for(const o in i)e[n++]=o;return e}}}(i),o=function Mo(i){if(i.Z&&"function"==typeof i.Z)return i.Z();if(typeof Map<"u"&&i instanceof Map||typeof Set<"u"&&i instanceof Set)return Array.from(i.values());if("string"==typeof i)return i.split("");if(Gt(i)){for(var e=[],n=i.length,o=0;o<n;o++)e.push(i[o]);return e}for(o in e=[],n=0,i)e[n++]=i[o];return e}(i),u=o.length,l=0;l<u;l++)e.call(void 0,o[l],n&&n[l],i)}(de=Cn.prototype).setTimeout=function(i){this.P=i},de.nb=function(i){i=i.target;const e=this.M;e&&3==gr(i)?e.l():this.Pa(i)},de.Pa=function(i){try{if(i==this.g)e:{const z=gr(this.g);var e=this.g.Ia();if(this.g.da(),!(3>z)&&(3!=z||Ke||this.g&&(this.h.h||this.g.ja()||qo(this.g)))){this.J||4!=z||7==e||_n(),fa(this);var n=this.g.da();this.ca=n;t:if(da(this)){var o=qo(this.g);i="";var u=o.length,l=4==gr(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Os(this),Rs(this);var f="";break t}this.h.i=new st.TextDecoder}for(e=0;e<u;e++)this.h.h=!0,i+=this.h.i.decode(o[e],{stream:l&&e==u-1});o.splice(0,u),this.h.g+=i,this.C=0,f=this.h.g}else f=this.g.ja();if(this.i=200==n,function jn(i,e,n,o,u,l,f){i.info(function(){return"XMLHTTP RESP ("+o+") [ attempt "+u+"]: "+e+"\n"+n+"\n"+l+" "+f})}(this.j,this.u,this.A,this.m,this.W,z,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var E,x=this.g;if((E=x.g?x.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ct(E)){var P=E;break t}}P=null}if(!(n=P)){this.i=!1,this.o=3,wr(12),Os(this),Rs(this);break e}ui(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,So(this,n)}this.S?(Go(this,z,f),Ke&&this.i&&3==z&&(Kt(this.U,this.V,"tick",this.mb),this.V.start())):(ui(this.j,this.m,f,null),So(this,f)),4==z&&Os(this),this.i&&!this.J&&(4==z?_a(this.l,this):(this.i=!1,fs(this)))}else(function tc(i){const e={};i=(i.g&&2<=gr(i)&&i.g.getAllResponseHeaders()||"").split("\r\n");for(let o=0;o<i.length;o++){if(ct(i[o]))continue;var n=je(i[o]);const u=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const l=e[u]||[];e[u]=l,l.push(n)}!function Jt(i,e){for(const n in i)e.call(void 0,i[n],n,i)}(e,function(o){return o.join(", ")})})(this.g),400==n&&0<f.indexOf("Unknown SID")?(this.o=3,wr(12)):(this.o=0,wr(13)),Os(this),Rs(this)}}}catch{}},de.mb=function(){if(this.g){var i=gr(this.g),e=this.g.ja();this.C<e.length&&(fa(this),Go(this,i,e),this.i&&4!=i&&fs(this))}},de.cancel=function(){this.J=!0,Os(this)},de.lb=function(){this.B=null;const i=Date.now();0<=i-this.Y?(function zs(i,e){i.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(_n(),wr(17)),Os(this),this.o=2,Rs(this)):ha(this,this.Y-i)};var ga=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ci(i){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,i instanceof ci){this.h=i.h,Ps(this,i.j),this.s=i.s,this.g=i.g,an(this,i.m),this.l=i.l;var e=i.i,n=new Yt;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),Rn(this,n),this.o=i.o}else i&&(e=String(i).match(ga))?(this.h=!1,Ps(this,e[1]||"",!0),this.s=Rr(e[2]||""),this.g=Rr(e[3]||"",!0),an(this,e[4]),this.l=Rr(e[5]||"",!0),Rn(this,e[6]||"",!0),this.o=Rr(e[7]||"")):(this.h=!1,this.i=new Yt(null,this.h))}function is(i){return new ci(i)}function Ps(i,e,n){i.j=n?Rr(e,!0):e,i.j&&(i.j=i.j.replace(/:$/,""))}function an(i,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);i.m=e}else i.m=null}function Rn(i,e,n){e instanceof Yt?(i.i=e,function Er(i,e){e&&!i.j&&(On(i),i.i=null,i.g.forEach(function(n,o){var u=o.toLowerCase();o!=u&&(li(this,o),di(this,u,n))},i)),i.j=e}(i.i,i.h)):(n||(e=Wo(e,Xn)),i.i=new Yt(e,i.h))}function Xt(i,e,n){i.i.set(e,n)}function qi(i){return Xt(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function Rr(i,e){return i?e?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function Wo(i,e,n){return"string"==typeof i?(i=encodeURI(i).replace(e,ks),n&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function ks(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}ci.prototype.toString=function(){var i=[],e=this.j;e&&i.push(Wo(e,oo,!0),":");var n=this.g;return(n||"file"==e)&&(i.push("//"),(e=this.s)&&i.push(Wo(e,oo,!0),"@"),i.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&i.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&i.push("/"),i.push(Wo(n,"/"==n.charAt(0)?ao:Ha,!0))),(n=this.i.toString())&&i.push("?",n),(n=this.o)&&i.push("#",Wo(n,It)),i.join("")};var oo=/[#\/\?@]/g,Ha=/[#\?:]/g,ao=/[#\?]/g,Xn=/[#\?@]/g,It=/#/g;function Yt(i,e){this.h=this.g=null,this.i=i||null,this.j=!!e}function On(i){i.g||(i.g=new Map,i.h=0,i.i&&function ec(i,e){if(i){i=i.split("&");for(var n=0;n<i.length;n++){var o=i[n].indexOf("="),u=null;if(0<=o){var l=i[n].substring(0,o);u=i[n].substring(o+1)}else l=i[n];e(l,u?decodeURIComponent(u.replace(/\+/g," ")):"")}}}(i.i,function(e,n){i.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function li(i,e){On(i),e=hi(i,e),i.g.has(e)&&(i.i=null,i.h-=i.g.get(e).length,i.g.delete(e))}function uo(i,e){return On(i),e=hi(i,e),i.g.has(e)}function di(i,e,n){li(i,e),0<n.length&&(i.i=null,i.g.set(hi(i,e),Cr(n)),i.h+=n.length)}function hi(i,e){return e=String(e),i.j&&(e=e.toLowerCase()),e}function Or(i){this.l=i||rn,i=st.PerformanceNavigationTiming?0<(i=st.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(st.g&&st.g.Ka&&st.g.Ka()&&st.g.Ka().ec),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(de=Yt.prototype).add=function(i,e){On(this),this.i=null,i=hi(this,i);var n=this.g.get(i);return n||this.g.set(i,n=[]),n.push(e),this.h+=1,this},de.forEach=function(i,e){On(this),this.g.forEach(function(n,o){n.forEach(function(u){i.call(e,u,o,this)},this)},this)},de.ta=function(){On(this);const i=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let o=0;o<e.length;o++){const u=i[o];for(let l=0;l<u.length;l++)n.push(e[o])}return n},de.Z=function(i){On(this);let e=[];if("string"==typeof i)uo(this,i)&&(e=e.concat(this.g.get(hi(this,i))));else{i=Array.from(this.g.values());for(let n=0;n<i.length;n++)e=e.concat(i[n])}return e},de.set=function(i,e){return On(this),this.i=null,uo(this,i=hi(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[e]),this.h+=1,this},de.get=function(i,e){return i&&0<(i=this.Z(i)).length?String(i[0]):e},de.toString=function(){if(this.i)return this.i;if(!this.g)return"";const i=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var o=e[n];const l=encodeURIComponent(String(o)),f=this.Z(o);for(o=0;o<f.length;o++){var u=l;""!==f[o]&&(u+="="+encodeURIComponent(String(f[o]))),i.push(u)}}return this.i=i.join("&")};var rn=10;function Qi(i){return!!i.h||!!i.g&&i.g.size>=i.j}function ma(i){return i.h?1:i.g?i.g.size:0}function Ks(i,e){return i.h?i.h==e:!!i.g&&i.g.has(e)}function Dr(i,e){i.g?i.g.add(e):i.h=e}function co(i,e){i.h&&i.h==e?i.h=null:i.g&&i.g.has(e)&&i.g.delete(e)}function fi(i){if(null!=i.h)return i.i.concat(i.h.F);if(null!=i.g&&0!==i.g.size){let e=i.i;for(const n of i.g.values())e=e.concat(n.F);return e}return Cr(i.i)}Or.prototype.cancel=function(){if(this.i=fi(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const i of this.g.values())i.cancel();this.g.clear()}};var Xi=class{stringify(i){return st.JSON.stringify(i,void 0)}parse(i){return st.JSON.parse(i,void 0)}};function qs(){this.g=new Xi}function fu(i,e,n){const o=n||"";try{$a(i,function(u,l){let f=u;Ut(u)&&(f=te(u)),e.push(o+l+"="+encodeURIComponent(f))})}catch(u){throw e.push(o+"type="+encodeURIComponent("_badmap")),u}}function Yi(i,e,n,o,u){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,u(o)}catch{}}function Ur(i){this.l=i.fc||null,this.j=i.ob||!1}function Ls(i,e){qn.call(this),this.F=i,this.u=e,this.m=void 0,this.readyState=En,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ge(Ur,se),Ur.prototype.g=function(){return new Ls(this.l,this.j)},Ur.prototype.i=function(i){return function(){return i}}({}),Ge(Ls,qn);var En=0;function za(i){i.j.read().then(i.Xa.bind(i)).catch(i.ka.bind(i))}function pi(i){i.readyState=4,i.l=null,i.j=null,i.A=null,gs(i)}function gs(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(de=Ls.prototype).open=function(i,e){if(this.readyState!=En)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=e,this.readyState=1,gs(this)},de.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(e.body=i),(this.F||st).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},de.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,pi(this)),this.readyState=En},de.$a=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,gs(this)),this.g&&(this.readyState=3,gs(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof st.ReadableStream<"u"&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;za(this)}else i.text().then(this.Za.bind(this),this.ka.bind(this))},de.Xa=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var e=i.value?i.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!i.done}))&&(this.response=this.responseText+=e)}i.done?pi(this):gs(this),3==this.readyState&&za(this)}},de.Za=function(i){this.g&&(this.response=this.responseText=i,pi(this))},de.Ya=function(i){this.g&&(this.response=i,pi(this))},de.ka=function(){this.g&&pi(this)},de.setRequestHeader=function(i,e){this.v.append(i,e)},de.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},de.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],e=this.h.entries();for(var n=e.next();!n.done;)i.push((n=n.value)[0]+": "+n[1]),n=e.next();return i.join("\r\n")},Object.defineProperty(Ls.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var Mr=st.JSON.parse;function ur(i){qn.call(this),this.headers=new Map,this.u=i||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Fi,this.L=this.M=!1}Ge(ur,qn);var Fi="",Ko=/^https?$/i,Vr=["POST","PUT"];function ti(i,e){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=e,i.m=5,Br(i),ms(i)}function Br(i){i.F||(i.F=!0,ln(i,"complete"),ln(i,"error"))}function xo(i){if(i.h&&typeof ut<"u"&&(!i.C[1]||4!=gr(i)||2!=i.da()))if(i.v&&4==gr(i))Ci(i.La,0,i);else if(ln(i,"readystatechange"),4==gr(i)){i.h=!1;try{const f=i.da();e:switch(f){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var o;if(o=0===f){var u=String(i.I).match(ga)[1]||null;!u&&st.self&&st.self.location&&(u=st.self.location.protocol.slice(0,-1)),o=!Ko.test(u?u.toLowerCase():"")}n=o}if(n)ln(i,"complete"),ln(i,"success");else{i.m=6;try{var l=2<gr(i)?i.g.statusText:""}catch{l=""}i.j=l+" ["+i.da()+"]",Br(i)}}finally{ms(i)}}}function ms(i,e){if(i.g){Pn(i);const n=i.g,o=i.C[0]?()=>{}:null;i.g=null,i.C=null,e||ln(i,"ready");try{n.onreadystatechange=o}catch{}}}function Pn(i){i.g&&i.L&&(i.g.ontimeout=null),i.A&&(st.clearTimeout(i.A),i.A=null)}function gr(i){return i.g?i.g.readyState:0}function qo(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.K){case Fi:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch{return null}}function lo(i){let e="";return Yn(i,function(n,o){e+=o,e+=":",e+=n,e+="\r\n"}),e}function Qs(i,e,n){e:{for(o in n){var o=!1;break e}o=!0}o||(n=lo(n),"string"==typeof i?null!=n&&encodeURIComponent(String(n)):Xt(i,e,n))}function Ri(i,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[i]||e}function Fu(i){this.Ga=0,this.j=[],this.l=new on,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Ri("failFast",!1,i),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Ri("baseRetryDelayMs",5e3,i),this.hb=Ri("retryDelaySeedMs",1e4,i),this.eb=Ri("forwardChannelMaxRetries",2,i),this.xa=Ri("forwardChannelRequestTimeoutMs",2e4,i),this.va=i&&i.xmlHttpFactory||void 0,this.Ha=i&&i.dc||!1,this.L=void 0,this.J=i&&i.supportsCrossDomainXhr||!1,this.K="",this.i=new Or(i&&i.concurrentRequestLimit),this.Ja=new qs,this.P=i&&i.fastHandshake||!1,this.O=i&&i.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=i&&i.bc||!1,i&&i.Ea&&this.l.Ea(),i&&i.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&i&&i.detectBufferingProxy||!1,this.qa=void 0,i&&i.longPollingTimeout&&0<i.longPollingTimeout&&(this.qa=i.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function No(i){if(Ga(i),3==i.H){var e=i.W++,n=is(i.I);if(Xt(n,"SID",i.K),Xt(n,"RID",e),Xt(n,"TYPE","terminate"),ys(i,n),(e=new Cn(i,i.l,e)).L=2,e.v=qi(is(n)),n=!1,st.navigator&&st.navigator.sendBeacon)try{n=st.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&st.Image&&((new Image).src=e.v,n=!0),n||(e.g=ss(e.l,null),e.g.ha(e.v)),e.G=Date.now(),fs(e)}Oo(i)}function Uu(i){i.g&&(Xo(i),i.g.cancel(),i.g=null)}function Ga(i){Uu(i),i.u&&(st.clearTimeout(i.u),i.u=null),vs(i),i.i.cancel(),i.m&&("number"==typeof i.m&&st.clearTimeout(i.m),i.m=null)}function Ro(i){if(!Qi(i.i)&&!i.m){i.m=!0;var e=i.Na;Vt||tn(),Bt||(Vt(),Bt=!0),vn.add(e,i),i.C=0}}function Wa(i,e){var n;n=e?e.m:i.W++;const o=is(i.I);Xt(o,"SID",i.K),Xt(o,"RID",n),Xt(o,"AID",i.V),ys(i,o),i.o&&i.s&&Qs(o,i.o,i.s),n=new Cn(i,i.l,n,i.C+1),null===i.o&&(n.I=i.s),e&&(i.j=e.F.concat(i.j)),e=Qo(i,n,1e3),n.setTimeout(Math.round(.5*i.xa)+Math.round(.5*i.xa*Math.random())),Dr(i.i,n),Ao(n,o,e)}function ys(i,e){i.na&&Yn(i.na,function(n,o){Xt(e,o,n)}),i.h&&$a({},function(n,o){Xt(e,o,n)})}function Qo(i,e,n){n=Math.min(i.j.length,n);var o=i.h?it(i.h.Va,i.h,i):null;e:{var u=i.j;let l=-1;for(;;){const f=["count="+n];-1==l?0<n?(l=u[0].g,f.push("ofs="+l)):l=0:f.push("ofs="+l);let E=!0;for(let x=0;x<n;x++){let P=u[x].g;const z=u[x].map;if(P-=l,0>P)l=Math.max(0,u[x].g-100),E=!1;else try{fu(z,f,"req"+P+"_")}catch{o&&o(z)}}if(E){o=f.join("&");break e}}}return i=i.j.splice(0,n),e.F=i,o}function ni(i){if(!i.g&&!i.u){i.ba=1;var e=i.Ma;Vt||tn(),Bt||(Vt(),Bt=!0),vn.add(e,i),i.A=0}}function pu(i){return!(i.g||i.u||3<=i.A||(i.ba++,i.u=Wi(it(i.Ma,i),Ia(i,i.A)),i.A++,0))}function Xo(i){null!=i.B&&(st.clearTimeout(i.B),i.B=null)}function gu(i){i.g=new Cn(i,i.l,"rpc",i.ba),null===i.o&&(i.g.I=i.s),i.g.O=0;var e=is(i.wa);Xt(e,"RID","rpc"),Xt(e,"SID",i.K),Xt(e,"AID",i.V),Xt(e,"CI",i.G?"0":"1"),!i.G&&i.qa&&Xt(e,"TO",i.qa),Xt(e,"TYPE","xmlhttp"),ys(i,e),i.o&&i.s&&Qs(e,i.o,i.s),i.L&&i.g.setTimeout(i.L);var n=i.g;i=i.pa,n.L=1,n.v=qi(is(e)),n.s=null,n.S=!0,Ba(n,i)}function vs(i){null!=i.v&&(st.clearTimeout(i.v),i.v=null)}function _a(i,e){var n=null;if(i.g==e){vs(i),Xo(i),i.g=null;var o=2}else{if(!Ks(i.i,e))return;n=e.F,co(i.i,e),o=1}if(0!=i.H)if(e.i)if(1==o){n=e.s?e.s.length:0,e=Date.now()-e.G;var u=i.C;ln(o=_i(),new hs(o,n)),Ro(i)}else ni(i);else if(3==(u=e.o)||0==u&&0<e.ca||!(1==o&&function va(i,e){return!(ma(i.i)>=i.i.j-(i.m?1:0)||(i.m?(i.j=e.F.concat(i.j),0):1==i.H||2==i.H||i.C>=(i.cb?0:i.eb)||(i.m=Wi(it(i.Na,i,e),Ia(i,i.C)),i.C++,0)))}(i,e)||2==o&&pu(i)))switch(n&&0<n.length&&(e=i.i,e.i=e.i.concat(n)),u){case 1:Yo(i,5);break;case 4:Yo(i,10);break;case 3:Yo(i,6);break;default:Yo(i,2)}}function Ia(i,e){let n=i.ab+Math.floor(Math.random()*i.hb);return i.isActive()||(n*=2),n*e}function Yo(i,e){if(i.l.info("Error code "+e),2==e){var n=null;i.h&&(n=null);var o=it(i.pb,i);n||(n=new ci("//www.google.com/images/cleardot.gif"),st.location&&"http"==st.location.protocol||Ps(n,"https"),qi(n)),function ps(i,e){const n=new on;if(st.Image){const o=new Image;o.onload=gt(Yi,n,o,"TestLoadImage: loaded",!0,e),o.onerror=gt(Yi,n,o,"TestLoadImage: error",!1,e),o.onabort=gt(Yi,n,o,"TestLoadImage: abort",!1,e),o.ontimeout=gt(Yi,n,o,"TestLoadImage: timeout",!1,e),st.setTimeout(function(){o.ontimeout&&o.ontimeout()},1e4),o.src=i}else e(!1)}(n.toString(),o)}else wr(2);i.H=0,i.h&&i.h.za(e),Oo(i),Ga(i)}function Oo(i){if(i.H=0,i.ma=[],i.h){const e=fi(i.i);(0!=e.length||0!=i.j.length)&&(et(i.ma,e),et(i.ma,i.j),i.i.i.length=0,Cr(i.j),i.j.length=0),i.h.ya()}}function Xs(i,e,n){var o=n instanceof ci?is(n):new ci(n);if(""!=o.g)e&&(o.g=e+"."+o.g),an(o,o.m);else{var u=st.location;o=u.protocol,e=e?e+"."+u.hostname:u.hostname,u=+u.port;var l=new ci(null);o&&Ps(l,o),e&&(l.g=e),u&&an(l,u),n&&(l.l=n),o=l}return e=i.Da,(n=i.F)&&e&&Xt(o,n,e),Xt(o,"VER",i.ra),ys(i,o),o}function ss(i,e,n){if(e&&!i.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new ur(n&&i.Ha&&!i.va?new Ur({ob:!0}):i.va)).Oa(i.J),e}function wi(){}function wa(){if(me&&!(10<=Number(or)))throw Error("Environmental error: no available transport.")}function Vn(i,e){qn.call(this),this.g=new Fu(e),this.l=i,this.h=e&&e.messageUrlParams||null,i=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(i?i["X-WebChannel-Content-Type"]=e.messageContentType:i={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(i?i["X-WebChannel-Client-Profile"]=e.Ca:i={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=i,(i=e&&e.cc)&&!ct(i)&&(this.g.o=i),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!ct(e)&&(this.g.F=e,null!==(i=this.h)&&e in i&&e in(i=this.h)&&delete i[e]),this.j=new Fs(this)}function Ys(i){rt.call(this),i.__headers__&&(this.headers=i.__headers__,this.statusCode=i.__status__,delete i.__headers__,delete i.__status__);var e=i.__sm__;if(e){e:{for(const n in e){i=n;break e}i=void 0}(this.i=i)&&(i=this.i,e=null!==e&&i in e?e[i]:void 0),this.data=e}else this.data=i}function Oi(){kt.call(this),this.status=1}function Fs(i){this.g=i}function Ai(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function ho(i,e,n){n||(n=0);var o=Array(16);if("string"==typeof e)for(var u=0;16>u;++u)o[u]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(u=0;16>u;++u)o[u]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;var l=i.g[3],f=(e=i.g[0])+(l^(n=i.g[1])&((u=i.g[2])^l))+o[0]+3614090360&4294967295;f=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=n+(f<<7&4294967295|f>>>25))+((f=l+(u^e&(n^u))+o[1]+3905402710&4294967295)<<12&4294967295|f>>>20))+((f=u+(n^l&(e^n))+o[2]+606105819&4294967295)<<17&4294967295|f>>>15))+((f=n+(e^u&(l^e))+o[3]+3250441966&4294967295)<<22&4294967295|f>>>10))+((f=e+(l^n&(u^l))+o[4]+4118548399&4294967295)<<7&4294967295|f>>>25))+((f=l+(u^e&(n^u))+o[5]+1200080426&4294967295)<<12&4294967295|f>>>20))+((f=u+(n^l&(e^n))+o[6]+2821735955&4294967295)<<17&4294967295|f>>>15))+((f=n+(e^u&(l^e))+o[7]+4249261313&4294967295)<<22&4294967295|f>>>10))+((f=e+(l^n&(u^l))+o[8]+1770035416&4294967295)<<7&4294967295|f>>>25))+((f=l+(u^e&(n^u))+o[9]+2336552879&4294967295)<<12&4294967295|f>>>20))+((f=u+(n^l&(e^n))+o[10]+4294925233&4294967295)<<17&4294967295|f>>>15))+((f=n+(e^u&(l^e))+o[11]+2304563134&4294967295)<<22&4294967295|f>>>10))+((f=e+(l^n&(u^l))+o[12]+1804603682&4294967295)<<7&4294967295|f>>>25))+((f=l+(u^e&(n^u))+o[13]+4254626195&4294967295)<<12&4294967295|f>>>20))+((f=u+(n^l&(e^n))+o[14]+2792965006&4294967295)<<17&4294967295|f>>>15))+((f=n+(e^u&(l^e))+o[15]+1236535329&4294967295)<<22&4294967295|f>>>10))+((f=e+(u^l&(n^u))+o[1]+4129170786&4294967295)<<5&4294967295|f>>>27))+((f=l+(n^u&(e^n))+o[6]+3225465664&4294967295)<<9&4294967295|f>>>23))+((f=u+(e^n&(l^e))+o[11]+643717713&4294967295)<<14&4294967295|f>>>18))+((f=n+(l^e&(u^l))+o[0]+3921069994&4294967295)<<20&4294967295|f>>>12))+((f=e+(u^l&(n^u))+o[5]+3593408605&4294967295)<<5&4294967295|f>>>27))+((f=l+(n^u&(e^n))+o[10]+38016083&4294967295)<<9&4294967295|f>>>23))+((f=u+(e^n&(l^e))+o[15]+3634488961&4294967295)<<14&4294967295|f>>>18))+((f=n+(l^e&(u^l))+o[4]+3889429448&4294967295)<<20&4294967295|f>>>12))+((f=e+(u^l&(n^u))+o[9]+568446438&4294967295)<<5&4294967295|f>>>27))+((f=l+(n^u&(e^n))+o[14]+3275163606&4294967295)<<9&4294967295|f>>>23))+((f=u+(e^n&(l^e))+o[3]+4107603335&4294967295)<<14&4294967295|f>>>18))+((f=n+(l^e&(u^l))+o[8]+1163531501&4294967295)<<20&4294967295|f>>>12))+((f=e+(u^l&(n^u))+o[13]+2850285829&4294967295)<<5&4294967295|f>>>27))+((f=l+(n^u&(e^n))+o[2]+4243563512&4294967295)<<9&4294967295|f>>>23))+((f=u+(e^n&(l^e))+o[7]+1735328473&4294967295)<<14&4294967295|f>>>18))+((f=n+(l^e&(u^l))+o[12]+2368359562&4294967295)<<20&4294967295|f>>>12))+((f=e+(n^u^l)+o[5]+4294588738&4294967295)<<4&4294967295|f>>>28))+((f=l+(e^n^u)+o[8]+2272392833&4294967295)<<11&4294967295|f>>>21))+((f=u+(l^e^n)+o[11]+1839030562&4294967295)<<16&4294967295|f>>>16))+((f=n+(u^l^e)+o[14]+4259657740&4294967295)<<23&4294967295|f>>>9))+((f=e+(n^u^l)+o[1]+2763975236&4294967295)<<4&4294967295|f>>>28))+((f=l+(e^n^u)+o[4]+1272893353&4294967295)<<11&4294967295|f>>>21))+((f=u+(l^e^n)+o[7]+4139469664&4294967295)<<16&4294967295|f>>>16))+((f=n+(u^l^e)+o[10]+3200236656&4294967295)<<23&4294967295|f>>>9))+((f=e+(n^u^l)+o[13]+681279174&4294967295)<<4&4294967295|f>>>28))+((f=l+(e^n^u)+o[0]+3936430074&4294967295)<<11&4294967295|f>>>21))+((f=u+(l^e^n)+o[3]+3572445317&4294967295)<<16&4294967295|f>>>16))+((f=n+(u^l^e)+o[6]+76029189&4294967295)<<23&4294967295|f>>>9))+((f=e+(n^u^l)+o[9]+3654602809&4294967295)<<4&4294967295|f>>>28))+((f=l+(e^n^u)+o[12]+3873151461&4294967295)<<11&4294967295|f>>>21))+((f=u+(l^e^n)+o[15]+530742520&4294967295)<<16&4294967295|f>>>16))+((f=n+(u^l^e)+o[2]+3299628645&4294967295)<<23&4294967295|f>>>9))+((f=e+(u^(n|~l))+o[0]+4096336452&4294967295)<<6&4294967295|f>>>26))+((f=l+(n^(e|~u))+o[7]+1126891415&4294967295)<<10&4294967295|f>>>22))+((f=u+(e^(l|~n))+o[14]+2878612391&4294967295)<<15&4294967295|f>>>17))+((f=n+(l^(u|~e))+o[5]+4237533241&4294967295)<<21&4294967295|f>>>11))+((f=e+(u^(n|~l))+o[12]+1700485571&4294967295)<<6&4294967295|f>>>26))+((f=l+(n^(e|~u))+o[3]+2399980690&4294967295)<<10&4294967295|f>>>22))+((f=u+(e^(l|~n))+o[10]+4293915773&4294967295)<<15&4294967295|f>>>17))+((f=n+(l^(u|~e))+o[1]+2240044497&4294967295)<<21&4294967295|f>>>11))+((f=e+(u^(n|~l))+o[8]+1873313359&4294967295)<<6&4294967295|f>>>26))+((f=l+(n^(e|~u))+o[15]+4264355552&4294967295)<<10&4294967295|f>>>22))+((f=u+(e^(l|~n))+o[6]+2734768916&4294967295)<<15&4294967295|f>>>17))+((f=n+(l^(u|~e))+o[13]+1309151649&4294967295)<<21&4294967295|f>>>11))+((l=(e=n+((f=e+(u^(n|~l))+o[4]+4149444226&4294967295)<<6&4294967295|f>>>26))+((f=l+(n^(e|~u))+o[11]+3174756917&4294967295)<<10&4294967295|f>>>22))^((u=l+((f=u+(e^(l|~n))+o[2]+718787259&4294967295)<<15&4294967295|f>>>17))|~e))+o[9]+3951481745&4294967295,i.g[0]=i.g[0]+e&4294967295,i.g[1]=i.g[1]+(u+(f<<21&4294967295|f>>>11))&4294967295,i.g[2]=i.g[2]+u&4294967295,i.g[3]=i.g[3]+l&4294967295}function An(i,e){this.h=e;for(var n=[],o=!0,u=i.length-1;0<=u;u--){var l=0|i[u];o&&l==e||(n[u]=l,o=!1)}this.g=n}(de=ur.prototype).Oa=function(i){this.M=i},de.ha=function(i,e,n,o){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+i);e=e?e.toUpperCase():"GET",this.I=i,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():mn.g(),this.C=function ae(i){return i.h||(i.h=i.i())}(this.u?this.u:mn),this.g.onreadystatechange=it(this.La,this);try{this.G=!0,this.g.open(e,String(i),!0),this.G=!1}catch(l){return void ti(this,l)}if(i=n||"",n=new Map(this.headers),o)if(Object.getPrototypeOf(o)===Object.prototype)for(var u in o)n.set(u,o[u]);else{if("function"!=typeof o.keys||"function"!=typeof o.get)throw Error("Unknown input type for opt_headers: "+String(o));for(const l of o.keys())n.set(l,o.get(l))}o=Array.from(n.keys()).find(l=>"content-type"==l.toLowerCase()),u=st.FormData&&i instanceof st.FormData,!(0<=Nn(Vr,e))||o||u||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[l,f]of n)this.g.setRequestHeader(l,f);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Pn(this),0<this.B&&((this.L=function ya(i){return me&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=it(this.ua,this)):this.A=Ci(this.ua,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(l){ti(this,l)}},de.ua=function(){typeof ut<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ln(this,"timeout"),this.abort(8))},de.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,ln(this,"complete"),ln(this,"abort"),ms(this))},de.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),ms(this,!0)),ur.$.N.call(this)},de.La=function(){this.s||(this.G||this.v||this.l?xo(this):this.kb())},de.kb=function(){xo(this)},de.isActive=function(){return!!this.g},de.da=function(){try{return 2<gr(this)?this.g.status:-1}catch{return-1}},de.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},de.Wa=function(i){if(this.g){var e=this.g.responseText;return i&&0==e.indexOf(i)&&(e=e.substring(i.length)),Mr(e)}},de.Ia=function(){return this.m},de.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(de=Fu.prototype).ra=8,de.H=1,de.Na=function(i){if(this.m)if(this.m=null,1==this.H){if(!i){this.W=Math.floor(1e5*Math.random()),i=this.W++;const u=new Cn(this,this.l,i);let l=this.s;if(this.U&&(l?(l=qt(l),_r(l,this.U)):l=this.U),null!==this.o||this.O||(u.I=l,l=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){var o=this.j[n];if(void 0===(o="__data__"in o.map&&"string"==typeof(o=o.map.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=n;break e}if(4096===e||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=Qo(this,u,e),Xt(n=is(this.I),"RID",i),Xt(n,"CVER",22),this.F&&Xt(n,"X-HTTP-Session-Id",this.F),ys(this,n),l&&(this.O?e="headers="+encodeURIComponent(String(lo(l)))+"&"+e:this.o&&Qs(n,this.o,l)),Dr(this.i,u),this.bb&&Xt(n,"TYPE","init"),this.P?(Xt(n,"$req",e),Xt(n,"SID","null"),u.aa=!0,Ao(u,n,null)):Ao(u,n,e),this.H=2}}else 3==this.H&&(i?Wa(this,i):0==this.j.length||Qi(this.i)||Wa(this))},de.Ma=function(){if(this.u=null,gu(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var i=2*this.S;this.l.info("BP detection timer enabled: "+i),this.B=Wi(it(this.jb,this),i)}},de.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,wr(10),Uu(this),gu(this))},de.ib=function(){null!=this.v&&(this.v=null,Uu(this),pu(this),wr(19))},de.pb=function(i){i?(this.l.info("Successfully pinged google.com"),wr(2)):(this.l.info("Failed to ping google.com"),wr(1))},de.isActive=function(){return!!this.h&&this.h.isActive(this)},(de=wi.prototype).Ba=function(){},de.Aa=function(){},de.za=function(){},de.ya=function(){},de.isActive=function(){return!0},de.Va=function(){},wa.prototype.g=function(i,e){return new Vn(i,e)},Ge(Vn,qn),Vn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var i=this.g,e=this.l,n=this.h||void 0;wr(0),i.Y=e,i.na=n||{},i.G=i.aa,i.I=Xs(i,null,i.Y),Ro(i)},Vn.prototype.close=function(){No(this.g)},Vn.prototype.u=function(i){var e=this.g;if("string"==typeof i){var n={};n.__data__=i,i=n}else this.v&&((n={}).__data__=te(i),i=n);e.j.push(new class{constructor(i,e){this.g=i,this.map=e}}(e.fb++,i)),3==e.H&&Ro(e)},Vn.prototype.N=function(){this.g.h=null,delete this.j,No(this.g),delete this.g,Vn.$.N.call(this)},Ge(Ys,rt),Ge(Oi,kt),Ge(Fs,wi),Fs.prototype.Ba=function(){ln(this.g,"a")},Fs.prototype.Aa=function(i){ln(this.g,new Ys(i))},Fs.prototype.za=function(i){ln(this.g,new Oi)},Fs.prototype.ya=function(){ln(this.g,"b")},Ge(Ai,function Ea(){this.blockSize=-1}),Ai.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Ai.prototype.j=function(i,e){void 0===e&&(e=i.length);for(var n=e-this.blockSize,o=this.m,u=this.h,l=0;l<e;){if(0==u)for(;l<=n;)ho(this,i,l),l+=this.blockSize;if("string"==typeof i){for(;l<e;)if(o[u++]=i.charCodeAt(l++),u==this.blockSize){ho(this,o),u=0;break}}else for(;l<e;)if(o[u++]=i[l++],u==this.blockSize){ho(this,o),u=0;break}}this.h=u,this.i+=e},Ai.prototype.l=function(){var i=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);i[0]=128;for(var e=1;e<i.length-8;++e)i[e]=0;var n=8*this.i;for(e=i.length-8;e<i.length;++e)i[e]=255&n,n/=256;for(this.j(i),i=Array(16),e=n=0;4>e;++e)for(var o=0;32>o;o+=8)i[n++]=this.g[e]>>>o&255;return i};var Ka={};function fo(i){return-128<=i&&128>i?function Ie(i,e){var n=Ka;return Object.prototype.hasOwnProperty.call(n,i)?n[i]:n[i]=e(i)}(i,function(e){return new An([0|e],0>e?-1:0)}):new An([0|i],0>i?-1:0)}function _s(i){if(isNaN(i)||!isFinite(i))return Is;if(0>i)return jr(_s(-i));for(var e=[],n=1,o=0;i>=n;o++)e[o]=i/n|0,n*=Da;return new An(e,0)}var Da=4294967296,Is=fo(0),po=fo(1),Us=fo(16777216);function Ui(i){if(0!=i.h)return!1;for(var e=0;e<i.g.length;e++)if(0!=i.g[e])return!1;return!0}function Vi(i){return-1==i.h}function jr(i){for(var e=i.g.length,n=[],o=0;o<e;o++)n[o]=~i.g[o];return new An(n,~i.h).add(po)}function ko(i,e){return i.add(jr(e))}function w(i,e){for(;(65535&i[e])!=i[e];)i[e+1]+=i[e]>>>16,i[e]&=65535,e++}function F(i,e){this.g=i,this.h=e}function M(i,e){if(Ui(e))throw Error("division by zero");if(Ui(i))return new F(Is,Is);if(Vi(i))return e=M(jr(i),e),new F(jr(e.g),jr(e.h));if(Vi(e))return e=M(i,jr(e)),new F(jr(e.g),e.h);if(30<i.g.length){if(Vi(i)||Vi(e))throw Error("slowDivide_ only works with positive integers.");for(var n=po,o=e;0>=o.X(i);)n=k(n),o=k(o);var u=Y(n,1),l=Y(o,1);for(o=Y(o,2),n=Y(n,2);!Ui(o);){var f=l.add(o);0>=f.X(i)&&(u=u.add(n),l=f),o=Y(o,1),n=Y(n,1)}return e=ko(i,u.R(e)),new F(u,e)}for(u=Is;0<=i.X(e);){for(n=Math.max(1,Math.floor(i.ea()/e.ea())),o=48>=(o=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,o-48),f=(l=_s(n)).R(e);Vi(f)||0<f.X(i);)f=(l=_s(n-=o)).R(e);Ui(l)&&(l=po),u=u.add(l),i=ko(i,f)}return new F(u,i)}function k(i){for(var e=i.g.length+1,n=[],o=0;o<e;o++)n[o]=i.D(o)<<1|i.D(o-1)>>>31;return new An(n,i.h)}function Y(i,e){var n=e>>5;e%=32;for(var o=i.g.length-n,u=[],l=0;l<o;l++)u[l]=0<e?i.D(l+n)>>>e|i.D(l+n+1)<<32-e:i.D(l+n);return new An(u,i.h)}(de=An.prototype).ea=function(){if(Vi(this))return-jr(this).ea();for(var i=0,e=1,n=0;n<this.g.length;n++){var o=this.D(n);i+=(0<=o?o:Da+o)*e,e*=Da}return i},de.toString=function(i){if(2>(i=i||10)||36<i)throw Error("radix out of range: "+i);if(Ui(this))return"0";if(Vi(this))return"-"+jr(this).toString(i);for(var e=_s(Math.pow(i,6)),n=this,o="";;){var u=M(n,e).g,l=((0<(n=ko(n,u.R(e))).g.length?n.g[0]:n.h)>>>0).toString(i);if(Ui(n=u))return l+o;for(;6>l.length;)l="0"+l;o=l+o}},de.D=function(i){return 0>i?0:i<this.g.length?this.g[i]:this.h},de.X=function(i){return Vi(i=ko(this,i))?-1:Ui(i)?0:1},de.abs=function(){return Vi(this)?jr(this):this},de.add=function(i){for(var e=Math.max(this.g.length,i.g.length),n=[],o=0,u=0;u<=e;u++){var l=o+(65535&this.D(u))+(65535&i.D(u)),f=(l>>>16)+(this.D(u)>>>16)+(i.D(u)>>>16);o=f>>>16,n[u]=(f&=65535)<<16|(l&=65535)}return new An(n,-2147483648&n[n.length-1]?-1:0)},de.R=function(i){if(Ui(this)||Ui(i))return Is;if(Vi(this))return Vi(i)?jr(this).R(jr(i)):jr(jr(this).R(i));if(Vi(i))return jr(this.R(jr(i)));if(0>this.X(Us)&&0>i.X(Us))return _s(this.ea()*i.ea());for(var e=this.g.length+i.g.length,n=[],o=0;o<2*e;o++)n[o]=0;for(o=0;o<this.g.length;o++)for(var u=0;u<i.g.length;u++){var l=this.D(o)>>>16,f=65535&this.D(o),E=i.D(u)>>>16,x=65535&i.D(u);n[2*o+2*u]+=f*x,w(n,2*o+2*u),n[2*o+2*u+1]+=l*x,w(n,2*o+2*u+1),n[2*o+2*u+1]+=f*E,w(n,2*o+2*u+1),n[2*o+2*u+2]+=l*E,w(n,2*o+2*u+2)}for(o=0;o<e;o++)n[o]=n[2*o+1]<<16|n[2*o];for(o=e;o<2*e;o++)n[o]=0;return new An(n,0)},de.gb=function(i){return M(this,i).h},de.and=function(i){for(var e=Math.max(this.g.length,i.g.length),n=[],o=0;o<e;o++)n[o]=this.D(o)&i.D(o);return new An(n,this.h&i.h)},de.or=function(i){for(var e=Math.max(this.g.length,i.g.length),n=[],o=0;o<e;o++)n[o]=this.D(o)|i.D(o);return new An(n,this.h|i.h)},de.xor=function(i){for(var e=Math.max(this.g.length,i.g.length),n=[],o=0;o<e;o++)n[o]=this.D(o)^i.D(o);return new An(n,this.h^i.h)},wa.prototype.createWebChannel=wa.prototype.g,Vn.prototype.send=Vn.prototype.u,Vn.prototype.open=Vn.prototype.m,Vn.prototype.close=Vn.prototype.close,Ki.NO_ERROR=0,Ki.TIMEOUT=8,Ki.HTTP_ERROR=6,Gs.COMPLETE="complete",we.EventType=ke,ke.OPEN="a",ke.CLOSE="b",ke.ERROR="c",ke.MESSAGE="d",qn.prototype.listen=qn.prototype.O,ur.prototype.listenOnce=ur.prototype.P,ur.prototype.getLastError=ur.prototype.Sa,ur.prototype.getLastErrorCode=ur.prototype.Ia,ur.prototype.getStatus=ur.prototype.da,ur.prototype.getResponseJson=ur.prototype.Wa,ur.prototype.getResponseText=ur.prototype.ja,ur.prototype.send=ur.prototype.ha,ur.prototype.setWithCredentials=ur.prototype.Oa,Ai.prototype.digest=Ai.prototype.l,Ai.prototype.reset=Ai.prototype.reset,Ai.prototype.update=Ai.prototype.j,An.prototype.add=An.prototype.add,An.prototype.multiply=An.prototype.R,An.prototype.modulo=An.prototype.gb,An.prototype.compare=An.prototype.X,An.prototype.toNumber=An.prototype.ea,An.prototype.toString=An.prototype.toString,An.prototype.getBits=An.prototype.D,An.fromNumber=_s,An.fromString=function Po(i,e){if(0==i.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==i.charAt(0))return jr(Po(i.substring(1),e));if(0<=i.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=_s(Math.pow(e,8)),o=Is,u=0;u<i.length;u+=8){var l=Math.min(8,i.length-u),f=parseInt(i.substring(u,u+l),e);8>l?(l=_s(Math.pow(e,l)),o=o.R(l).add(_s(f))):o=(o=o.R(n)).add(_s(f))}return o};var be=Oe.createWebChannelTransport=function(){return new wa},Ue=Oe.getStatEventTarget=function(){return _i()},Nt=Oe.ErrorCode=Ki,rr=Oe.EventType=Gs,mr=Oe.Event=Lr,$n=Oe.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},dn=Oe.FetchXmlHttpFactory=Ur,cr=Oe.WebChannel=we,Hn=Oe.XhrIo=ur,Wr=Oe.Md5=Ai,Si=Oe.Integer=An;const ws="@firebase/firestore";class tr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}tr.UNAUTHENTICATED=new tr(null),tr.GOOGLE_CREDENTIALS=new tr("google-credentials-uid"),tr.FIRST_PARTY=new tr("first-party-uid"),tr.MOCK_USER=new tr("mock-user");let lr="9.23.0";const Kr=new re.Vy("@firebase/firestore");function Zs(){return Kr.logLevel}function Ye(i,...e){if(Kr.logLevel<=re.$b.DEBUG){const n=e.map(Ta);Kr.debug(`Firestore (${lr}): ${i}`,...n)}}function $r(i,...e){if(Kr.logLevel<=re.$b.ERROR){const n=e.map(Ta);Kr.error(`Firestore (${lr}): ${i}`,...n)}}function Es(i,...e){if(Kr.logLevel<=re.$b.WARN){const n=e.map(Ta);Kr.warn(`Firestore (${lr}): ${i}`,...n)}}function Ta(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch{return i}}function Et(i="Unexpected state"){const e=`FIRESTORE (${lr}) INTERNAL ASSERTION FAILED: `+i;throw $r(e),new Error(e)}function Rt(i,e){i||Et()}function ft(i,e){return i}const Se={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ve extends ee.g{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ri{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class nc{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class kn{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(tr.UNAUTHENTICATED))}shutdown(){}}class qa{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Vu{constructor(e){this.t=e,this.currentUser=tr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var o=this;let u=this.i;const l=P=>this.i!==u?(u=this.i,n(P)):Promise.resolve();let f=new ri;this.o=()=>{this.i++,this.currentUser=this.u(),f.resolve(),f=new ri,e.enqueueRetryable(()=>l(this.currentUser))};const E=()=>{const P=f;e.enqueueRetryable((0,Z.A)(function*(){yield P.promise,yield l(o.currentUser)}))},x=P=>{Ye("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=P,this.auth.addAuthTokenListener(this.o),E()};this.t.onInit(P=>x(P)),setTimeout(()=>{if(!this.auth){const P=this.t.getImmediate({optional:!0});P?x(P):(Ye("FirebaseAuthCredentialsProvider","Auth not yet detected"),f.resolve(),f=new ri)}},0),E()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(o=>this.i!==e?(Ye("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(Rt("string"==typeof o.accessToken),new nc(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Rt(null===e||"string"==typeof e),new tr(e)}}class Mi{constructor(e,n,o){this.h=e,this.l=n,this.m=o,this.type="FirstParty",this.user=tr.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class yu{constructor(e,n,o){this.h=e,this.l=n,this.m=o}getToken(){return Promise.resolve(new Mi(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(tr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Bu{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class go{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const o=l=>{null!=l.error&&Ye("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const f=l.token!==this.T;return this.T=l.token,Ye("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>o(l))};const u=l=>{Ye("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.appCheck.addTokenListener(this.o)};this.I.onInit(l=>u(l)),setTimeout(()=>{if(!this.appCheck){const l=this.I.getImmediate({optional:!0});l?u(l):Ye("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Rt("string"==typeof n.token),this.T=n.token,new Bu(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function gi(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let o=0;o<i;o++)n[o]=Math.floor(256*Math.random());return n}class vu{static A(){const n=62*Math.floor(256/62);let o="";for(;o.length<20;){const u=gi(40);for(let l=0;l<u.length;++l)o.length<20&&u[l]<n&&(o+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(u[l]%62))}return o}}function St(i,e){return i<e?-1:i>e?1:0}function Zi(i,e,n){return i.length===e.length&&i.every((o,u)=>n(o,e[u]))}class xr{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ve(Se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ve(Se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Ve(Se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ve(Se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return xr.fromMillis(Date.now())}static fromDate(e){return xr.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),o=Math.floor(1e6*(e-1e3*n));return new xr(n,o)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?St(this.nanoseconds,e.nanoseconds):St(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Ct{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ct(e)}static min(){return new Ct(new xr(0,0))}static max(){return new Ct(new xr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Jo{constructor(e,n,o){void 0===n?n=0:n>e.length&&Et(),void 0===o?o=e.length-n:o>e.length-n&&Et(),this.segments=e,this.offset=n,this.len=o}get length(){return this.len}isEqual(e){return 0===Jo.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Jo?e.forEach(o=>{n.push(o)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,o=this.limit();n<o;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const o=Math.min(e.length,n.length);for(let u=0;u<o;u++){const l=e.get(u),f=n.get(u);if(l<f)return-1;if(l>f)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class zn extends Jo{construct(e,n,o){return new zn(e,n,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const o of e){if(o.indexOf("//")>=0)throw new Ve(Se.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);n.push(...o.split("/").filter(u=>u.length>0))}return new zn(n)}static emptyPath(){return new zn([])}}const ju=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class bt extends Jo{construct(e,n,o){return new bt(e,n,o)}static isValidIdentifier(e){return ju.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),bt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new bt(["__name__"])}static fromServerFormat(e){const n=[];let o="",u=0;const l=()=>{if(0===o.length)throw new Ve(Se.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(o),o=""};let f=!1;for(;u<e.length;){const E=e[u];if("\\"===E){if(u+1===e.length)throw new Ve(Se.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const x=e[u+1];if("\\"!==x&&"."!==x&&"`"!==x)throw new Ve(Se.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=x,u+=2}else"`"===E?(f=!f,u++):"."!==E||f?(o+=E,u++):(l(),u++)}if(l(),f)throw new Ve(Se.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new bt(n)}static emptyPath(){return new bt([])}}class dt{constructor(e){this.path=e}static fromPath(e){return new dt(zn.fromString(e))}static fromName(e){return new dt(zn.fromString(e).popFirst(5))}static empty(){return new dt(zn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===zn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return zn.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new dt(new zn(e.slice()))}}function sc(i){return new Ds(i.readTime,i.key,-1)}class Ds{constructor(e,n,o){this.readTime=e,this.documentKey=n,this.largestBatchId=o}static min(){return new Ds(Ct.min(),dt.empty(),-1)}static max(){return new Ds(Ct.max(),dt.empty(),-1)}}function oc(i,e){let n=i.readTime.compareTo(e.readTime);return 0!==n?n:(n=dt.comparator(i.documentKey,e.documentKey),0!==n?n:St(i.largestBatchId,e.largestBatchId))}const He="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Ln{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Bs(i){return Qa.apply(this,arguments)}function Qa(){return Qa=(0,Z.A)(function*(i){if(i.code!==Se.FAILED_PRECONDITION||i.message!==He)throw i;Ye("LocalStore","Unexpectedly lost primary lease")}),Qa.apply(this,arguments)}class pe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Et(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new pe((o,u)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(o,u)},this.catchCallback=l=>{this.wrapFailure(n,l).next(o,u)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof pe?n:pe.resolve(n)}catch(n){return pe.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):pe.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):pe.reject(n)}static resolve(e){return new pe((n,o)=>{n(e)})}static reject(e){return new pe((n,o)=>{o(e)})}static waitFor(e){return new pe((n,o)=>{let u=0,l=0,f=!1;e.forEach(E=>{++u,E.next(()=>{++l,f&&l===u&&n()},x=>o(x))}),f=!0,l===u&&n()})}static or(e){let n=pe.resolve(!1);for(const o of e)n=n.next(u=>u?pe.resolve(u):o());return n}static forEach(e,n){const o=[];return e.forEach((u,l)=>{o.push(n.call(this,u,l))}),this.waitFor(o)}static mapArray(e,n){return new pe((o,u)=>{const l=e.length,f=new Array(l);let E=0;for(let x=0;x<l;x++){const P=x;n(e[P]).next(z=>{f[P]=z,++E,E===l&&o(f)},z=>u(z))}})}static doWhile(e,n){return new pe((o,u)=>{const l=()=>{!0===e()?n().next(()=>{l()},u):o()};l()})}}function eo(i){return"IndexedDbTransactionError"===i.name}let ii=(()=>{class i{constructor(n,o){this.previousValue=n,o&&(o.sequenceNumberHandler=u=>this.ot(u),this.ut=u=>o.writeSequenceNumber(u))}ot(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.ut&&this.ut(n),n}}return i.ct=-1,i})();function Ts(i){return null==i}function y(i){return 0===i&&1/i==-1/0}function ac(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function Lo(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function Du(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class yr{constructor(e,n){this.comparator=e,this.root=n||$i.EMPTY}insert(e,n){return new yr(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,$i.BLACK,null,null))}remove(e){return new yr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,$i.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const o=this.comparator(e,n.key);if(0===o)return n.value;o<0?n=n.left:o>0&&(n=n.right)}return null}indexOf(e){let n=0,o=this.root;for(;!o.isEmpty();){const u=this.comparator(e,o.key);if(0===u)return n+o.left.size;u<0?o=o.left:(n+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,o)=>(e(n,o),!1))}toString(){const e=[];return this.inorderTraversal((n,o)=>(e.push(`${n}:${o}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ma(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ma(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ma(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ma(this.root,e,this.comparator,!0)}}class Ma{constructor(e,n,o,u){this.isReverse=u,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?o(e.key,n):1,n&&u&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(0===l){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class $i{constructor(e,n,o,u,l){this.key=e,this.value=n,this.color=o??$i.RED,this.left=u??$i.EMPTY,this.right=l??$i.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,o,u,l){return new $i(e??this.key,n??this.value,o??this.color,u??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,o){let u=this;const l=o(e,u.key);return u=l<0?u.copy(null,null,null,u.left.insert(e,n,o),null):0===l?u.copy(null,n,null,null,null):u.copy(null,null,null,null,u.right.insert(e,n,o)),u.fixUp()}removeMin(){if(this.left.isEmpty())return $i.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let o,u=this;if(n(e,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(e,n),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),0===n(e,u.key)){if(u.right.isEmpty())return $i.EMPTY;o=u.right.min(),u=u.copy(o.key,o.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(e,n))}return u.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,$i.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,$i.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Et();const e=this.left.check();if(e!==this.right.check())throw Et();return e+(this.isRed()?0:1)}}$i.EMPTY=null,$i.RED=!0,$i.BLACK=!1,$i.EMPTY=new class{constructor(){this.size=0}get key(){throw Et()}get value(){throw Et()}get color(){throw Et()}get left(){throw Et()}get right(){throw Et()}copy(i,e,n,o,u){return this}insert(i,e,n){return new $i(i,e)}remove(i,e){return this}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class dr{constructor(e){this.comparator=e,this.data=new yr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,o)=>(e(n),!1))}forEachInRange(e,n){const o=this.data.getIteratorFrom(e[0]);for(;o.hasNext();){const u=o.getNext();if(this.comparator(u.key,e[1])>=0)return;n(u.key)}}forEachWhile(e,n){let o;for(o=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();o.hasNext();)if(!e(o.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Ya(this.data.getIterator())}getIteratorFrom(e){return new Ya(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(o=>{n=n.add(o)}),n}isEqual(e){if(!(e instanceof dr)||this.size!==e.size)return!1;const n=this.data.getIterator(),o=e.data.getIterator();for(;n.hasNext();){const u=n.getNext().key,l=o.getNext().key;if(0!==this.comparator(u,l))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new dr(this.comparator);return n.data=e,n}}class Ya{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class os{constructor(e){this.fields=e,e.sort(bt.comparator)}static empty(){return new os([])}unionWith(e){let n=new dr(bt.comparator);for(const o of this.fields)n=n.add(o);for(const o of e)n=n.add(o);return new os(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Zi(this.fields,e.fields,(n,o)=>n.isEqual(o))}}class uc extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class ki{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new uc("Invalid base64 string: "+u):u}}(e);return new ki(n)}static fromUint8Array(e){const n=function(o){let u="";for(let l=0;l<o.length;++l)u+=String.fromCharCode(o[l]);return u}(e);return new ki(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let o=0;o<e.length;o++)n[o]=e.charCodeAt(o);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return St(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ki.EMPTY_BYTE_STRING=new ki("");const Ml=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function js(i){if(Rt(!!i),"string"==typeof i){let e=0;const n=Ml.exec(i);if(Rt(!!n),n[1]){let u=n[1];u=(u+"000000000").substr(0,9),e=Number(u)}const o=new Date(i);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:mi(i.seconds),nanos:mi(i.nanos)}}function mi(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function vo(i){return"string"==typeof i?ki.fromBase64String(i):ki.fromUint8Array(i)}function Fo(i){var e,n;return"server_timestamp"===(null===(n=((null===(e=i?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function xl(i){const e=i.mapValue.fields.__previous_value__;return Fo(e)?xl(e):e}function _o(i){const e=js(i.mapValue.fields.__local_write_time__.timestampValue);return new xr(e.seconds,e.nanos)}class kc{constructor(e,n,o,u,l,f,E,x,P){this.databaseId=e,this.appId=n,this.persistenceKey=o,this.host=u,this.ssl=l,this.forceLongPolling=f,this.autoDetectLongPolling=E,this.longPollingOptions=x,this.useFetchStreams=P}}class $s{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new $s("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof $s&&e.projectId===this.projectId&&e.database===this.database}}const xa={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Uo(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Fo(i)?4:sa(i)?9007199254740991:10:Et()}function Vo(i,e){if(i===e)return!0;const n=Uo(i);if(n!==Uo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return _o(i).isEqual(_o(e));case 3:return function(o,u){if("string"==typeof o.timestampValue&&"string"==typeof u.timestampValue&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const l=js(o.timestampValue),f=js(u.timestampValue);return l.seconds===f.seconds&&l.nanos===f.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return u=e,vo(i.bytesValue).isEqual(vo(u.bytesValue));case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,u){return mi(o.geoPointValue.latitude)===mi(u.geoPointValue.latitude)&&mi(o.geoPointValue.longitude)===mi(u.geoPointValue.longitude)}(i,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return mi(o.integerValue)===mi(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const l=mi(o.doubleValue),f=mi(u.doubleValue);return l===f?y(l)===y(f):isNaN(l)&&isNaN(f)}return!1}(i,e);case 9:return Zi(i.arrayValue.values||[],e.arrayValue.values||[],Vo);case 10:return function(o,u){const l=o.mapValue.fields||{},f=u.mapValue.fields||{};if(ac(l)!==ac(f))return!1;for(const E in l)if(l.hasOwnProperty(E)&&(void 0===f[E]||!Vo(l[E],f[E])))return!1;return!0}(i,e);default:return Et()}var u}function Hi(i,e){return void 0!==(i.values||[]).find(n=>Vo(n,e))}function Io(i,e){if(i===e)return 0;const n=Uo(i),o=Uo(e);if(n!==o)return St(n,o);switch(n){case 0:case 9007199254740991:return 0;case 1:return St(i.booleanValue,e.booleanValue);case 2:return function(u,l){const f=mi(u.integerValue||u.doubleValue),E=mi(l.integerValue||l.doubleValue);return f<E?-1:f>E?1:f===E?0:isNaN(f)?isNaN(E)?0:-1:1}(i,e);case 3:return Ja(i.timestampValue,e.timestampValue);case 4:return Ja(_o(i),_o(e));case 5:return St(i.stringValue,e.stringValue);case 6:return function(u,l){const f=vo(u),E=vo(l);return f.compareTo(E)}(i.bytesValue,e.bytesValue);case 7:return function(u,l){const f=u.split("/"),E=l.split("/");for(let x=0;x<f.length&&x<E.length;x++){const P=St(f[x],E[x]);if(0!==P)return P}return St(f.length,E.length)}(i.referenceValue,e.referenceValue);case 8:return function(u,l){const f=St(mi(u.latitude),mi(l.latitude));return 0!==f?f:St(mi(u.longitude),mi(l.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return function(u,l){const f=u.values||[],E=l.values||[];for(let x=0;x<f.length&&x<E.length;++x){const P=Io(f[x],E[x]);if(P)return P}return St(f.length,E.length)}(i.arrayValue,e.arrayValue);case 10:return function(u,l){if(u===xa.mapValue&&l===xa.mapValue)return 0;if(u===xa.mapValue)return 1;if(l===xa.mapValue)return-1;const f=u.fields||{},E=Object.keys(f),x=l.fields||{},P=Object.keys(x);E.sort(),P.sort();for(let z=0;z<E.length&&z<P.length;++z){const J=St(E[z],P[z]);if(0!==J)return J;const De=Io(f[E[z]],x[P[z]]);if(0!==De)return De}return St(E.length,P.length)}(i.mapValue,e.mapValue);default:throw Et()}}function Ja(i,e){if("string"==typeof i&&"string"==typeof e&&i.length===e.length)return St(i,e);const n=js(i),o=js(e),u=St(n.seconds,o.seconds);return 0!==u?u:St(n.nanos,o.nanos)}function Bo(i){return Ra(i)}function Ra(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(o){const u=js(o);return`time(${u.seconds},${u.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?vo(i.bytesValue).toBase64():"referenceValue"in i?dt.fromName(i.referenceValue).toString():"geoPointValue"in i?`geo(${(e=i.geoPointValue).latitude},${e.longitude})`:"arrayValue"in i?function(o){let u="[",l=!0;for(const f of o.values||[])l?l=!1:u+=",",u+=Ra(f);return u+"]"}(i.arrayValue):"mapValue"in i?function(o){const u=Object.keys(o.fields||{}).sort();let l="{",f=!0;for(const E of u)f?f=!1:l+=",",l+=`${E}:${Ra(o.fields[E])}`;return l+"}"}(i.mapValue):Et();var e}function wo(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function Nl(i){return!!i&&"integerValue"in i}function eu(i){return!!i&&"arrayValue"in i}function Rl(i){return!!i&&"nullValue"in i}function Lc(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Tu(i){return!!i&&"mapValue"in i}function jo(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return Lo(i.mapValue.fields,(n,o)=>e.mapValue.fields[n]=jo(o)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=jo(i.arrayValue.values[n]);return e}return Object.assign({},i)}function sa(i){return"__max__"===(((i.mapValue||{}).fields||{}).__type__||{}).stringValue}class Tr{constructor(e){this.value=e}static empty(){return new Tr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let o=0;o<e.length-1;++o)if(n=(n.mapValue.fields||{})[e.get(o)],!Tu(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=jo(n)}setAll(e){let n=bt.emptyPath(),o={},u=[];e.forEach((f,E)=>{if(!n.isImmediateParentOf(E)){const x=this.getFieldsMap(n);this.applyChanges(x,o,u),o={},u=[],n=E.popLast()}f?o[E.lastSegment()]=jo(f):u.push(E.lastSegment())});const l=this.getFieldsMap(n);this.applyChanges(l,o,u)}delete(e){const n=this.field(e.popLast());Tu(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Vo(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let o=0;o<e.length;++o){let u=n.mapValue.fields[e.get(o)];Tu(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},n.mapValue.fields[e.get(o)]=u),n=u}return n.mapValue.fields}applyChanges(e,n,o){Lo(n,(u,l)=>e[u]=l);for(const u of o)delete e[u]}clone(){return new Tr(jo(this.value))}}function Rd(i){const e=[];return Lo(i.fields,(n,o)=>{const u=new bt([n]);if(Tu(o)){const l=Rd(o.mapValue).fields;if(0===l.length)e.push(u);else for(const f of l)e.push(u.child(f))}else e.push(u)}),new os(e)}class Fn{constructor(e,n,o,u,l,f,E){this.key=e,this.documentType=n,this.version=o,this.readTime=u,this.createTime=l,this.data=f,this.documentState=E}static newInvalidDocument(e){return new Fn(e,0,Ct.min(),Ct.min(),Ct.min(),Tr.empty(),0)}static newFoundDocument(e,n,o,u){return new Fn(e,1,n,Ct.min(),o,u,0)}static newNoDocument(e,n){return new Fn(e,2,n,Ct.min(),Ct.min(),Tr.empty(),0)}static newUnknownDocument(e,n){return new Fn(e,3,n,Ct.min(),Ct.min(),Tr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ct.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Tr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Tr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ct.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Fn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Fn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Oa{constructor(e,n){this.position=e,this.inclusive=n}}function $u(i,e,n){let o=0;for(let u=0;u<i.position.length;u++){const l=e[u],f=i.position[u];if(o=l.field.isKeyField()?dt.comparator(dt.fromName(f.referenceValue),n.key):Io(f,n.data.field(l.field)),"desc"===l.dir&&(o*=-1),0!==o)break}return o}function cc(i,e){if(null===i)return null===e;if(null===e||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!Vo(i.position[n],e.position[n]))return!1;return!0}class Cu{constructor(e,n="asc"){this.field=e,this.dir=n}}function I(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}class A{}class R extends A{constructor(e,n,o){super(),this.field=e,this.op=n,this.value=o}static create(e,n,o){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,o):new Hs(e,n,o):"array-contains"===n?new Eo(e,o):"in"===n?new Do(e,o):"not-in"===n?new nu(e,o):"array-contains-any"===n?new si(e,o):new R(e,n,o)}static createKeyFieldInFilter(e,n,o){return"in"===n?new Ji(e,o):new Uc(e,o)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(Io(n,this.value)):null!==n&&Uo(this.value)===Uo(n)&&this.matchesComparison(Io(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Et()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class H extends A{constructor(e,n){super(),this.filters=e,this.op=n,this.lt=null}static create(e,n){return new H(e,n)}matches(e){return ne(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(n=>n.isInequality());return null!==e?e.field:null}ft(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function ne(i){return"and"===i.op}function xe(i){return function lt(i){for(const e of i.filters)if(e instanceof H)return!1;return!0}(i)&&ne(i)}function pt(i){if(i instanceof R)return i.field.canonicalString()+i.op.toString()+Bo(i.value);if(xe(i))return i.filters.map(e=>pt(e)).join(",");{const e=i.filters.map(n=>pt(n)).join(",");return`${i.op}(${e})`}}function Ot(i,e){return i instanceof R?(n=i,(o=e)instanceof R&&n.op===o.op&&n.field.isEqual(o.field)&&Vo(n.value,o.value)):i instanceof H?function(n,o){return o instanceof H&&n.op===o.op&&n.filters.length===o.filters.length&&n.filters.reduce((u,l,f)=>u&&Ot(l,o.filters[f]),!0)}(i,e):void Et();var n,o}function fn(i){return i instanceof R?`${(e=i).field.canonicalString()} ${e.op} ${Bo(e.value)}`:i instanceof H?function(e){return e.op.toString()+" {"+e.getFilters().map(fn).join(" ,")+"}"}(i):"Filter";var e}class Hs extends R{constructor(e,n,o){super(e,n,o),this.key=dt.fromName(o.referenceValue)}matches(e){const n=dt.comparator(e.key,this.key);return this.matchesComparison(n)}}class Ji extends R{constructor(e,n){super(e,"in",n),this.keys=lc(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Uc extends R{constructor(e,n){super(e,"not-in",n),this.keys=lc(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function lc(i,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(o=>dt.fromName(o.referenceValue))}class Eo extends R{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return eu(n)&&Hi(n.arrayValue,this.value)}}class Do extends R{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&Hi(this.value.arrayValue,n)}}class nu extends R{constructor(e,n){super(e,"not-in",n)}matches(e){if(Hi(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!Hi(this.value.arrayValue,n)}}class si extends R{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!eu(n)||!n.arrayValue.values)&&n.arrayValue.values.some(o=>Hi(this.value.arrayValue,o))}}class Oh{constructor(e,n=null,o=[],u=[],l=null,f=null,E=null){this.path=e,this.collectionGroup=n,this.orderBy=o,this.filters=u,this.limit=l,this.startAt=f,this.endAt=E,this.dt=null}}function Pa(i,e=null,n=[],o=[],u=null,l=null,f=null){return new Oh(i,e,n,o,u,l,f)}function bu(i){const e=ft(i);if(null===e.dt){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(o=>pt(o)).join(","),n+="|ob:",n+=e.orderBy.map(o=>{return(u=o).field.canonicalString()+u.dir;var u}).join(","),Ts(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(o=>Bo(o)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(o=>Bo(o)).join(",")),e.dt=n}return e.dt}function as(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!I(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!Ot(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!cc(i.startAt,e.startAt)&&cc(i.endAt,e.endAt)}function ru(i){return dt.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}class iu{constructor(e,n=null,o=[],u=[],l=null,f="F",E=null,x=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=o,this.filters=u,this.limit=l,this.limitType=f,this.startAt=E,this.endAt=x,this.wt=null,this._t=null}}function hc(i){return new iu(i)}function _p(i){return 0===i.filters.length&&null===i.limit&&null==i.startAt&&null==i.endAt&&(0===i.explicitOrderBy.length||1===i.explicitOrderBy.length&&i.explicitOrderBy[0].field.isKeyField())}function Cs(i){return i.explicitOrderBy.length>0?i.explicitOrderBy[0].field:null}function su(i){for(const e of i.filters){const n=e.getFirstInequalityField();if(null!==n)return n}return null}function ou(i){return null!==i.collectionGroup}function jc(i){const e=ft(i);if(null===e.wt){e.wt=[];const n=su(e),o=Cs(e);if(null!==n&&null===o)n.isKeyField()||e.wt.push(new Cu(n)),e.wt.push(new Cu(bt.keyField(),"asc"));else{let u=!1;for(const l of e.explicitOrderBy)e.wt.push(l),l.field.isKeyField()&&(u=!0);if(!u){const l=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Cu(bt.keyField(),l))}}}return e.wt}function es(i){const e=ft(i);if(!e._t)if("F"===e.limitType)e._t=Pa(e.path,e.collectionGroup,jc(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const l of jc(e))n.push(new Cu(l.field,"desc"===l.dir?"asc":"desc"));const o=e.endAt?new Oa(e.endAt.position,e.endAt.inclusive):null,u=e.startAt?new Oa(e.startAt.position,e.startAt.inclusive):null;e._t=Pa(e.path,e.collectionGroup,n,e.filters,e.limit,o,u)}return e._t}function Od(i,e){e.getFirstInequalityField(),su(i);const n=i.filters.concat([e]);return new iu(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function Ol(i,e,n){return new iu(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function $c(i,e){return as(es(i),es(e))&&i.limitType===e.limitType}function kh(i){return`${bu(es(i))}|lt:${i.limitType}`}function Pd(i){return`Query(target=${function(e){let n=e.path.canonicalString();return null!==e.collectionGroup&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(o=>fn(o)).join(", ")}]`),Ts(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(o=>{return`${(u=o).field.canonicalString()} (${u.dir})`;var u}).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(o=>Bo(o)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(o=>Bo(o)).join(",")),`Target(${n})`}(es(i))}; limitType=${i.limitType})`}function Hc(i,e){return e.isFoundDocument()&&function(n,o){const u=o.key.path;return null!==n.collectionGroup?o.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(u):dt.isDocumentKey(n.path)?n.path.isEqual(u):n.path.isImmediateParentOf(u)}(i,e)&&function(n,o){for(const u of jc(n))if(!u.field.isKeyField()&&null===o.data.field(u.field))return!1;return!0}(i,e)&&function(n,o){for(const u of n.filters)if(!u.matches(o))return!1;return!0}(i,e)&&(o=e,!((n=i).startAt&&!function(u,l,f){const E=$u(u,l,f);return u.inclusive?E<=0:E<0}(n.startAt,jc(n),o)||n.endAt&&!function(u,l,f){const E=$u(u,l,f);return u.inclusive?E>=0:E>0}(n.endAt,jc(n),o)));var n,o}function Pl(i){return(e,n)=>{let o=!1;for(const u of jc(i)){const l=dm(u,e,n);if(0!==l)return l;o=o||u.field.isKeyField()}return 0}}function dm(i,e,n){const o=i.field.isKeyField()?dt.comparator(e.key,n.key):function(u,l,f){const E=l.data.field(u),x=f.data.field(u);return null!==E&&null!==x?Io(E,x):Et()}(i.field,e,n);switch(i.dir){case"asc":return o;case"desc":return-1*o;default:return Et()}}class aa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),o=this.inner[n];if(void 0!==o)for(const[u,l]of o)if(this.equalsFn(u,e))return l}has(e){return void 0!==this.get(e)}set(e,n){const o=this.mapKeyFn(e),u=this.inner[o];if(void 0===u)return this.inner[o]=[[e,n]],void this.innerSize++;for(let l=0;l<u.length;l++)if(this.equalsFn(u[l][0],e))return void(u[l]=[e,n]);u.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),o=this.inner[n];if(void 0===o)return!1;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return 1===o.length?delete this.inner[n]:o.splice(u,1),this.innerSize--,!0;return!1}forEach(e){Lo(this.inner,(n,o)=>{for(const[u,l]of o)e(u,l)})}isEmpty(){return Du(this.inner)}size(){return this.innerSize}}const hm=new yr(dt.comparator);function bs(){return hm}const Ip=new yr(dt.comparator);function zc(...i){let e=Ip;for(const n of i)e=e.insert(n.key,n);return e}function Ld(i){let e=Ip;return i.forEach((n,o)=>e=e.insert(n,o.overlayedDocument)),e}function $o(){return kl()}function Lh(){return kl()}function kl(){return new aa(i=>i.toString(),(i,e)=>i.isEqual(e))}const wp=new yr(dt.comparator),Gc=new dr(dt.comparator);function yn(...i){let e=Gc;for(const n of i)e=e.add(n);return e}const fm=new dr(St);function Fh(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:y(e)?"-0":e}}function Dp(i){return{integerValue:""+i}}function pm(i,e){return function D(i){return"number"==typeof i&&Number.isInteger(i)&&!y(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}(e)?Dp(e):Fh(i,e)}class Fd{constructor(){this._=void 0}}function gm(i,e,n){return i instanceof fc?function(o,u){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Fo(u)&&(u=xl(u)),u&&(l.fields.__previous_value__=u),{mapValue:l}}(n,e):i instanceof pc?Uh(i,e):i instanceof Wc?Vh(i,e):function(o,u){const l=Ll(o,u),f=Tp(l)+Tp(o.gt);return Nl(l)&&Nl(o.gt)?Dp(f):Fh(o.serializer,f)}(i,e)}function mm(i,e,n){return i instanceof pc?Uh(i,e):i instanceof Wc?Vh(i,e):n}function Ll(i,e){return i instanceof Fl?Nl(n=e)||(o=n)&&"doubleValue"in o?e:{integerValue:0}:null;var o,n}class fc extends Fd{}class pc extends Fd{constructor(e){super(),this.elements=e}}function Uh(i,e){const n=Cp(e);for(const o of i.elements)n.some(u=>Vo(u,o))||n.push(o);return{arrayValue:{values:n}}}class Wc extends Fd{constructor(e){super(),this.elements=e}}function Vh(i,e){let n=Cp(e);for(const o of i.elements)n=n.filter(u=>!Vo(u,o));return{arrayValue:{values:n}}}class Fl extends Fd{constructor(e,n){super(),this.serializer=e,this.gt=n}}function Tp(i){return mi(i.integerValue||i.doubleValue)}function Cp(i){return eu(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class lv{constructor(e,n){this.version=e,this.transformResults=n}}class Qr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Qr}static exists(e){return new Qr(void 0,e)}static updateTime(e){return new Qr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Bh(i,e){return void 0!==i.updateTime?e.isFoundDocument()&&e.version.isEqual(i.updateTime):void 0===i.exists||i.exists===e.isFoundDocument()}class jh{}function ym(i,e){if(!i.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return i.isNoDocument()?new yc(i.key,Qr.none()):new Au(i.key,i.data,Qr.none());{const n=i.data,o=Tr.empty();let u=new dr(bt.comparator);for(let l of e.fields)if(!u.has(l)){let f=n.field(l);null===f&&l.length>1&&(l=l.popLast(),f=n.field(l)),null===f?o.delete(l):o.set(l,f),u=u.add(l)}return new ka(i.key,o,new os(u.toArray()),Qr.none())}}function vm(i,e,n){i instanceof Au?function(o,u,l){const f=o.value.clone(),E=Hh(o.fieldTransforms,u,l.transformResults);f.setAll(E),u.convertToFoundDocument(l.version,f).setHasCommittedMutations()}(i,e,n):i instanceof ka?function(o,u,l){if(!Bh(o.precondition,u))return void u.convertToUnknownDocument(l.version);const f=Hh(o.fieldTransforms,u,l.transformResults),E=u.data;E.setAll($h(o)),E.setAll(f),u.convertToFoundDocument(l.version,E).setHasCommittedMutations()}(i,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function Ud(i,e,n,o){return i instanceof Au?function(u,l,f,E){if(!Bh(u.precondition,l))return f;const x=u.value.clone(),P=mc(u.fieldTransforms,E,l);return x.setAll(P),l.convertToFoundDocument(l.version,x).setHasLocalMutations(),null}(i,e,n,o):i instanceof ka?function(u,l,f,E){if(!Bh(u.precondition,l))return f;const x=mc(u.fieldTransforms,E,l),P=l.data;return P.setAll($h(u)),P.setAll(x),l.convertToFoundDocument(l.version,P).setHasLocalMutations(),null===f?null:f.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(z=>z.field))}(i,e,n,o):(f=n,Bh(i.precondition,l=e)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):f);var l,f}function _m(i,e){let n=null;for(const o of i.fieldTransforms){const u=e.data.field(o.field),l=Ll(o.transform,u||null);null!=l&&(null===n&&(n=Tr.empty()),n.set(o.field,l))}return n||null}function Ul(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&(o=e.fieldTransforms,!!(void 0===(n=i.fieldTransforms)&&void 0===o||n&&o&&Zi(n,o,(u,l)=>function cv(i,e){return i.field.isEqual(e.field)&&(o=e.transform,(n=i.transform)instanceof pc&&o instanceof pc||n instanceof Wc&&o instanceof Wc?Zi(n.elements,o.elements,Vo):n instanceof Fl&&o instanceof Fl?Vo(n.gt,o.gt):n instanceof fc&&o instanceof fc);var n,o}(u,l))))&&(0===i.type?i.value.isEqual(e.value):1!==i.type||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask));var n,o}class Au extends jh{constructor(e,n,o,u=[]){super(),this.key=e,this.value=n,this.precondition=o,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class ka extends jh{constructor(e,n,o,u,l=[]){super(),this.key=e,this.data=n,this.fieldMask=o,this.precondition=u,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function $h(i){const e=new Map;return i.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const o=i.data.field(n);e.set(n,o)}}),e}function Hh(i,e,n){const o=new Map;Rt(i.length===n.length);for(let u=0;u<n.length;u++){const l=i[u],f=l.transform,E=e.data.field(l.field);o.set(l.field,mm(f,E,n[u]))}return o}function mc(i,e,n){const o=new Map;for(const u of i){const l=u.transform,f=n.data.field(u.field);o.set(u.field,gm(l,f,e))}return o}class yc extends jh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Vd extends jh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Kc{constructor(e,n,o,u){this.batchId=e,this.localWriteTime=n,this.baseMutations=o,this.mutations=u}applyToRemoteDocument(e,n){const o=n.mutationResults;for(let u=0;u<this.mutations.length;u++){const l=this.mutations[u];l.key.isEqual(e.key)&&vm(l,e,o[u])}}applyToLocalView(e,n){for(const o of this.baseMutations)o.key.isEqual(e.key)&&(n=Ud(o,e,n,this.localWriteTime));for(const o of this.mutations)o.key.isEqual(e.key)&&(n=Ud(o,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const o=Lh();return this.mutations.forEach(u=>{const l=e.get(u.key),f=l.overlayedDocument;let E=this.applyToLocalView(f,l.mutatedFields);E=n.has(u.key)?null:E;const x=ym(f,E);null!==x&&o.set(u.key,x),f.isValidDocument()||f.convertToNoDocument(Ct.min())}),o}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),yn())}isEqual(e){return this.batchId===e.batchId&&Zi(this.mutations,e.mutations,(n,o)=>Ul(n,o))&&Zi(this.baseMutations,e.baseMutations,(n,o)=>Ul(n,o))}}class qc{constructor(e,n,o,u){this.batch=e,this.commitVersion=n,this.mutationResults=o,this.docVersions=u}static from(e,n,o){Rt(e.mutations.length===o.length);let u=wp;const l=e.mutations;for(let f=0;f<l.length;f++)u=u.insert(l[f].key,o[f].version);return new qc(e,n,o,u)}}class Qc{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class _{constructor(e,n){this.count=e,this.unchangedNames=n}}var h,p;function L(i){if(void 0===i)return $r("GRPC error has no .code"),Se.UNKNOWN;switch(i){case h.OK:return Se.OK;case h.CANCELLED:return Se.CANCELLED;case h.UNKNOWN:return Se.UNKNOWN;case h.DEADLINE_EXCEEDED:return Se.DEADLINE_EXCEEDED;case h.RESOURCE_EXHAUSTED:return Se.RESOURCE_EXHAUSTED;case h.INTERNAL:return Se.INTERNAL;case h.UNAVAILABLE:return Se.UNAVAILABLE;case h.UNAUTHENTICATED:return Se.UNAUTHENTICATED;case h.INVALID_ARGUMENT:return Se.INVALID_ARGUMENT;case h.NOT_FOUND:return Se.NOT_FOUND;case h.ALREADY_EXISTS:return Se.ALREADY_EXISTS;case h.PERMISSION_DENIED:return Se.PERMISSION_DENIED;case h.FAILED_PRECONDITION:return Se.FAILED_PRECONDITION;case h.ABORTED:return Se.ABORTED;case h.OUT_OF_RANGE:return Se.OUT_OF_RANGE;case h.UNIMPLEMENTED:return Se.UNIMPLEMENTED;case h.DATA_LOSS:return Se.DATA_LOSS;default:return Et()}}(p=h||(h={}))[p.OK=0]="OK",p[p.CANCELLED=1]="CANCELLED",p[p.UNKNOWN=2]="UNKNOWN",p[p.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",p[p.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",p[p.NOT_FOUND=5]="NOT_FOUND",p[p.ALREADY_EXISTS=6]="ALREADY_EXISTS",p[p.PERMISSION_DENIED=7]="PERMISSION_DENIED",p[p.UNAUTHENTICATED=16]="UNAUTHENTICATED",p[p.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",p[p.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",p[p.ABORTED=10]="ABORTED",p[p.OUT_OF_RANGE=11]="OUT_OF_RANGE",p[p.UNIMPLEMENTED=12]="UNIMPLEMENTED",p[p.INTERNAL=13]="INTERNAL",p[p.UNAVAILABLE=14]="UNAVAILABLE",p[p.DATA_LOSS=15]="DATA_LOSS";class W{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return ue}static getOrCreateInstance(){return null===ue&&(ue=new W),ue}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let ue=null;const at=new Si([4294967295,4294967295],0);function At(i){const e=function Ae(){return new TextEncoder}().encode(i),n=new Wr;return n.update(e),new Uint8Array(n.digest())}function Lt(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),o=e.getUint32(4,!0),u=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Si([n,o],0),new Si([u,l],0)]}class nn{constructor(e,n,o){if(this.bitmap=e,this.padding=n,this.hashCount=o,n<0||n>=8)throw new hr(`Invalid padding: ${n}`);if(o<0)throw new hr(`Invalid hash count: ${o}`);if(e.length>0&&0===this.hashCount)throw new hr(`Invalid hash count: ${o}`);if(0===e.length&&0!==n)throw new hr(`Invalid padding when bitmap length is 0: ${n}`);this.It=8*e.length-n,this.Tt=Si.fromNumber(this.It)}Et(e,n,o){let u=e.add(n.multiply(Si.fromNumber(o)));return 1===u.compare(at)&&(u=new Si([u.getBits(0),u.getBits(1)],0)),u.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const n=At(e),[o,u]=Lt(n);for(let l=0;l<this.hashCount;l++){const f=this.Et(o,u,l);if(!this.At(f))return!1}return!0}static create(e,n,o){const u=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),f=new nn(l,u,n);return o.forEach(E=>f.insert(E)),f}insert(e){if(0===this.It)return;const n=At(e),[o,u]=Lt(n);for(let l=0;l<this.hashCount;l++){const f=this.Et(o,u,l);this.Rt(f)}}Rt(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class hr extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class As{constructor(e,n,o,u,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=o,this.documentUpdates=u,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,o){const u=new Map;return u.set(e,Xr.createSynthesizedTargetChangeForCurrentChange(e,n,o)),new As(Ct.min(),u,new yr(St),bs(),yn())}}class Xr{constructor(e,n,o,u,l){this.resumeToken=e,this.current=n,this.addedDocuments=o,this.modifiedDocuments=u,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,o){return new Xr(o,n,yn(),yn(),yn())}}class To{constructor(e,n,o,u){this.Pt=e,this.removedTargetIds=n,this.key=o,this.bt=u}}class Xc{constructor(e,n){this.targetId=e,this.Vt=n}}class Vl{constructor(e,n,o=ki.EMPTY_BYTE_STRING,u=null){this.state=e,this.targetIds=n,this.resumeToken=o,this.cause=u}}class Bd{constructor(){this.St=0,this.Dt=jl(),this.Ct=ki.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=yn(),n=yn(),o=yn();return this.Dt.forEach((u,l)=>{switch(l){case 0:e=e.add(u);break;case 2:n=n.add(u);break;case 1:o=o.add(u);break;default:Et()}}),new Xr(this.Ct,this.xt,e,n,o)}Ft(){this.Nt=!1,this.Dt=jl()}Bt(e,n){this.Nt=!0,this.Dt=this.Dt.insert(e,n)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class Bl{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=bs(),this.zt=jd(),this.Wt=new yr(St)}Ht(e){for(const n of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(n,e.bt):this.Yt(n,e.key,e.bt);for(const n of e.removedTargetIds)this.Yt(n,e.key,e.bt)}Xt(e){this.forEachTarget(e,n=>{const o=this.Zt(n);switch(e.state){case 0:this.te(n)&&o.$t(e.resumeToken);break;case 1:o.Ut(),o.kt||o.Ft(),o.$t(e.resumeToken);break;case 2:o.Ut(),o.kt||this.removeTarget(n);break;case 3:this.te(n)&&(o.Kt(),o.$t(e.resumeToken));break;case 4:this.te(n)&&(this.ee(n),o.$t(e.resumeToken));break;default:Et()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qt.forEach((o,u)=>{this.te(u)&&n(u)})}ne(e){var n;const o=e.targetId,u=e.Vt.count,l=this.se(o);if(l){const f=l.target;if(ru(f))if(0===u){const E=new dt(f.path);this.Yt(o,E,Fn.newNoDocument(E,Ct.min()))}else Rt(1===u);else{const E=this.ie(o);if(E!==u){const x=this.re(e,E);0!==x&&(this.ee(o),this.Wt=this.Wt.insert(o,2===x?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(n=W.instance)||void 0===n||n.notifyOnExistenceFilterMismatch(function(P,z,J){var De,Re,ot,Tt,Mt,xn;const ir={localCacheCount:z,existenceFilterCount:J.count},Gn=J.unchangedNames;return Gn&&(ir.bloomFilter={applied:0===P,hashCount:null!==(De=Gn?.hashCount)&&void 0!==De?De:0,bitmapLength:null!==(Tt=null===(ot=null===(Re=Gn?.bits)||void 0===Re?void 0:Re.bitmap)||void 0===ot?void 0:ot.length)&&void 0!==Tt?Tt:0,padding:null!==(xn=null===(Mt=Gn?.bits)||void 0===Mt?void 0:Mt.padding)&&void 0!==xn?xn:0}),ir}(x,E,e.Vt))}}}}re(e,n){const{unchangedNames:o,count:u}=e.Vt;if(!o||!o.bits)return 1;const{bits:{bitmap:l="",padding:f=0},hashCount:E=0}=o;let x,P;try{x=vo(l).toUint8Array()}catch(z){if(z instanceof uc)return Es("Decoding the base64 bloom filter in existence filter failed ("+z.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw z}try{P=new nn(x,f,E)}catch(z){return Es(z instanceof hr?"BloomFilter error: ":"Applying bloom filter failed: ",z),1}return 0===P.It?1:u!==n-this.oe(e.targetId,P)?2:0}oe(e,n){const o=this.Gt.getRemoteKeysForTarget(e);let u=0;return o.forEach(l=>{const f=this.Gt.ue(),E=`projects/${f.projectId}/databases/${f.database}/documents/${l.path.canonicalString()}`;n.vt(E)||(this.Yt(e,l,null),u++)}),u}ce(e){const n=new Map;this.Qt.forEach((l,f)=>{const E=this.se(f);if(E){if(l.current&&ru(E.target)){const x=new dt(E.target.path);null!==this.jt.get(x)||this.ae(f,x)||this.Yt(f,x,Fn.newNoDocument(x,e))}l.Mt&&(n.set(f,l.Ot()),l.Ft())}});let o=yn();this.zt.forEach((l,f)=>{let E=!0;f.forEachWhile(x=>{const P=this.se(x);return!P||"TargetPurposeLimboResolution"===P.purpose||(E=!1,!1)}),E&&(o=o.add(l))}),this.jt.forEach((l,f)=>f.setReadTime(e));const u=new As(e,n,this.Wt,this.jt,o);return this.jt=bs(),this.zt=jd(),this.Wt=new yr(St),u}Jt(e,n){if(!this.te(e))return;const o=this.ae(e,n.key)?2:0;this.Zt(e).Bt(n.key,o),this.jt=this.jt.insert(n.key,n),this.zt=this.zt.insert(n.key,this.he(n.key).add(e))}Yt(e,n,o){if(!this.te(e))return;const u=this.Zt(e);this.ae(e,n)?u.Bt(n,1):u.Lt(n),this.zt=this.zt.insert(n,this.he(n).delete(e)),o&&(this.jt=this.jt.insert(n,o))}removeTarget(e){this.Qt.delete(e)}ie(e){const n=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let n=this.Qt.get(e);return n||(n=new Bd,this.Qt.set(e,n)),n}he(e){let n=this.zt.get(e);return n||(n=new dr(St),this.zt=this.zt.insert(e,n)),n}te(e){const n=null!==this.se(e);return n||Ye("WatchChangeAggregator","Detected inactive target",e),n}se(e){const n=this.Qt.get(e);return n&&n.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new Bd),this.Gt.getRemoteKeysForTarget(e).forEach(n=>{this.Yt(e,n,null)})}ae(e,n){return this.Gt.getRemoteKeysForTarget(e).has(n)}}function jd(){return new yr(dt.comparator)}function jl(){return new yr(dt.comparator)}const $d={asc:"ASCENDING",desc:"DESCENDING"},Hd={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},bp={and:"AND",or:"OR"};class zd{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Yc(i,e){return i.useProto3Json||Ts(e)?e:{value:e}}function vc(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function wm(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function Gd(i,e){return vc(i,e.toTimestamp())}function zi(i){return Rt(!!i),Ct.fromTimestamp(function(e){const n=js(e);return new xr(n.seconds,n.nanos)}(i))}function Ap(i,e){return(n=i,new zn(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}function Sp(i){const e=zn.fromString(i);return Rt(mv(e)),e}function $l(i,e){return Ap(i.databaseId,e.path)}function au(i,e){const n=Sp(e);if(n.get(1)!==i.databaseId.projectId)throw new Ve(Se.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new Ve(Se.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new dt(zh(n))}function _c(i,e){return Ap(i.databaseId,e)}function Hl(i){return new zn(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function zh(i){return Rt(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function Kd(i,e,n){return{name:$l(i,e),fields:n.value.mapValue.fields}}function xp(i,e){return{documents:[_c(i,e.path)]}}function zl(i,e){const n={structuredQuery:{}},o=e.path;null!==e.collectionGroup?(n.parent=_c(i,o),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=_c(i,o.popLast()),n.structuredQuery.from=[{collectionId:o.lastSegment()}]);const u=function(x){if(0!==x.length)return Op(H.create(x,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const l=function(x){if(0!==x.length)return x.map(P=>{return{field:Ho((z=P).field),direction:pv(z.dir)};var z})}(e.orderBy);l&&(n.structuredQuery.orderBy=l);const f=Yc(i,e.limit);var E,x;return null!==f&&(n.structuredQuery.limit=f),e.startAt&&(n.structuredQuery.startAt={before:(E=e.startAt).inclusive,values:E.position}),e.endAt&&(n.structuredQuery.endAt={before:!(x=e.endAt).inclusive,values:x.position}),n}function Gh(i){let e=function Wd(i){const e=Sp(i);return 4===e.length?zn.emptyPath():zh(e)}(i.parent);const n=i.structuredQuery,o=n.from?n.from.length:0;let u=null;if(o>0){Rt(1===o);const z=n.from[0];z.allDescendants?u=z.collectionId:e=e.child(z.collectionId)}let l=[];n.where&&(l=function(z){const J=Dm(z);return J instanceof H&&xe(J)?J.getFilters():[J]}(n.where));let f=[];n.orderBy&&(f=n.orderBy.map(z=>{return new Cu(Zc((J=z).field),function(De){switch(De){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(J.direction));var J}));let E=null;n.limit&&(E=function(z){let J;return J="object"==typeof z?z.value:z,Ts(J)?null:J}(n.limit));let x=null;var z;n.startAt&&(x=new Oa((z=n.startAt).values||[],!!z.before));let P=null;return n.endAt&&(P=function(z){return new Oa(z.values||[],!z.before)}(n.endAt)),function Ph(i,e,n,o,u,l,f,E){return new iu(i,e,n,o,u,l,f,E)}(e,u,f,l,E,"F",x,P)}function Dm(i){return void 0!==i.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=Zc(e.unaryFilter.field);return R.create(n,"==",{doubleValue:NaN});case"IS_NULL":const o=Zc(e.unaryFilter.field);return R.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Zc(e.unaryFilter.field);return R.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Zc(e.unaryFilter.field);return R.create(l,"!=",{nullValue:"NULL_VALUE"});default:return Et()}}(i):void 0!==i.fieldFilter?R.create(Zc((e=i).fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Et()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==i.compositeFilter?function(e){return H.create(e.compositeFilter.filters.map(n=>Dm(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return Et()}}(e.compositeFilter.op))}(i):Et();var e}function pv(i){return $d[i]}function Rp(i){return Hd[i]}function Tm(i){return bp[i]}function Ho(i){return{fieldPath:i.canonicalString()}}function Zc(i){return bt.fromServerFormat(i.fieldPath)}function Op(i){return i instanceof R?function(e){if("=="===e.op){if(Lc(e.value))return{unaryFilter:{field:Ho(e.field),op:"IS_NAN"}};if(Rl(e.value))return{unaryFilter:{field:Ho(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Lc(e.value))return{unaryFilter:{field:Ho(e.field),op:"IS_NOT_NAN"}};if(Rl(e.value))return{unaryFilter:{field:Ho(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ho(e.field),op:Rp(e.op),value:e.value}}}(i):i instanceof H?function(e){const n=e.getFilters().map(o=>Op(o));return 1===n.length?n[0]:{compositeFilter:{op:Tm(e.op),filters:n}}}(i):Et()}function gv(i){const e=[];return i.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function mv(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}class La{constructor(e,n,o,u,l=Ct.min(),f=Ct.min(),E=ki.EMPTY_BYTE_STRING,x=null){this.target=e,this.targetId=n,this.purpose=o,this.sequenceNumber=u,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=E,this.expectedCount=x}withSequenceNumber(e){return new La(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new La(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new La(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new La(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Cm{constructor(e){this.fe=e}}function Xd(i){const e=Gh({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?Ol(e,e.limit,"L"):e}class Jc{constructor(){}_e(e,n){this.me(e,n),n.ge()}me(e,n){if("nullValue"in e)this.ye(n,5);else if("booleanValue"in e)this.ye(n,10),n.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(n,15),n.pe(mi(e.integerValue));else if("doubleValue"in e){const o=mi(e.doubleValue);isNaN(o)?this.ye(n,13):(this.ye(n,15),y(o)?n.pe(0):n.pe(o))}else if("timestampValue"in e){const o=e.timestampValue;this.ye(n,20),"string"==typeof o?n.Ie(o):(n.Ie(`${o.seconds||""}`),n.pe(o.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,n),this.Ee(n);else if("bytesValue"in e)this.ye(n,30),n.Ae(vo(e.bytesValue)),this.Ee(n);else if("referenceValue"in e)this.ve(e.referenceValue,n);else if("geoPointValue"in e){const o=e.geoPointValue;this.ye(n,45),n.pe(o.latitude||0),n.pe(o.longitude||0)}else"mapValue"in e?sa(e)?this.ye(n,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,n),this.Ee(n)):"arrayValue"in e?(this.Pe(e.arrayValue,n),this.Ee(n)):Et()}Te(e,n){this.ye(n,25),this.be(e,n)}be(e,n){n.Ie(e)}Re(e,n){const o=e.fields||{};this.ye(n,55);for(const u of Object.keys(o))this.Te(u,n),this.me(o[u],n)}Pe(e,n){const o=e.values||[];this.ye(n,50);for(const u of o)this.me(u,n)}ve(e,n){this.ye(n,37),dt.fromName(e).path.forEach(o=>{this.ye(n,60),this.be(o,n)})}ye(e,n){e.pe(n)}Ee(e){e.pe(2)}}Jc.Ve=new Jc;class yv{constructor(){this.rn=new Hp}addToCollectionParentIndex(e,n){return this.rn.add(n),pe.resolve()}getCollectionParents(e,n){return pe.resolve(this.rn.getEntries(n))}addFieldIndex(e,n){return pe.resolve()}deleteFieldIndex(e,n){return pe.resolve()}getDocumentsMatchingTarget(e,n){return pe.resolve(null)}getIndexType(e,n){return pe.resolve(0)}getFieldIndexes(e,n){return pe.resolve([])}getNextCollectionGroupToUpdate(e){return pe.resolve(null)}getMinOffset(e,n){return pe.resolve(Ds.min())}getMinOffsetFromCollectionGroup(e,n){return pe.resolve(Ds.min())}updateCollectionGroup(e,n,o){return pe.resolve()}updateIndexEntries(e,n){return pe.resolve()}}class Hp{constructor(){this.index={}}add(e){const n=e.lastSegment(),o=e.popLast(),u=this.index[n]||new dr(zn.comparator),l=!u.has(o);return this.index[n]=u.add(o),l}has(e){const n=e.lastSegment(),o=e.popLast(),u=this.index[n];return u&&u.has(o)}getEntries(e){return(this.index[e]||new dr(zn.comparator)).toArray()}}new Uint8Array(0);class Co{constructor(e,n,o){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=o}static withCacheSize(e){return new Co(e,Co.DEFAULT_COLLECTION_PERCENTILE,Co.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Co.DEFAULT_COLLECTION_PERCENTILE=10,Co.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Co.DEFAULT=new Co(41943040,Co.DEFAULT_COLLECTION_PERCENTILE,Co.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Co.DISABLED=new Co(-1,0,0);class bo{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new bo(0)}static Mn(){return new bo(-1)}}class Kp{constructor(){this.changes=new aa(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Fn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const o=this.changes.get(n);return void 0!==o?pe.resolve(o):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class bv{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class rl{constructor(e,n,o,u){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=o,this.indexManager=u}getDocument(e,n){let o=null;return this.documentOverlayCache.getOverlay(e,n).next(u=>(o=u,this.remoteDocumentCache.getEntry(e,n))).next(u=>(null!==o&&Ud(o.mutation,u,os.empty(),xr.now()),u))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(o=>this.getLocalViewOfDocuments(e,o,yn()).next(()=>o))}getLocalViewOfDocuments(e,n,o=yn()){const u=$o();return this.populateOverlays(e,u,n).next(()=>this.computeViews(e,n,u,o).next(l=>{let f=zc();return l.forEach((E,x)=>{f=f.insert(E,x.overlayedDocument)}),f}))}getOverlayedDocuments(e,n){const o=$o();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,yn()))}populateOverlays(e,n,o){const u=[];return o.forEach(l=>{n.has(l)||u.push(l)}),this.documentOverlayCache.getOverlays(e,u).next(l=>{l.forEach((f,E)=>{n.set(f,E)})})}computeViews(e,n,o,u){let l=bs();const f=kl(),E=kl();return n.forEach((x,P)=>{const z=o.get(P.key);u.has(P.key)&&(void 0===z||z.mutation instanceof ka)?l=l.insert(P.key,P):void 0!==z?(f.set(P.key,z.mutation.getFieldMask()),Ud(z.mutation,P,z.mutation.getFieldMask(),xr.now())):f.set(P.key,os.empty())}),this.recalculateAndSaveOverlays(e,l).next(x=>(x.forEach((P,z)=>f.set(P,z)),n.forEach((P,z)=>{var J;return E.set(P,new bv(z,null!==(J=f.get(P))&&void 0!==J?J:null))}),E))}recalculateAndSaveOverlays(e,n){const o=kl();let u=new yr((f,E)=>f-E),l=yn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(f=>{for(const E of f)E.keys().forEach(x=>{const P=n.get(x);if(null===P)return;let z=o.get(x)||os.empty();z=E.applyToLocalView(P,z),o.set(x,z);const J=(u.get(E.batchId)||yn()).add(x);u=u.insert(E.batchId,J)})}).next(()=>{const f=[],E=u.getReverseIterator();for(;E.hasNext();){const x=E.getNext(),P=x.key,z=x.value,J=Lh();z.forEach(De=>{if(!l.has(De)){const Re=ym(n.get(De),o.get(De));null!==Re&&J.set(De,Re),l=l.add(De)}}),f.push(this.documentOverlayCache.saveOverlays(e,P,J))}return pe.waitFor(f)}).next(()=>o)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(o=>this.recalculateAndSaveOverlays(e,o))}getDocumentsMatchingQuery(e,n,o){return dt.isDocumentKey((u=n).path)&&null===u.collectionGroup&&0===u.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):ou(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,o):this.getDocumentsMatchingCollectionQuery(e,n,o);var u}getNextDocuments(e,n,o,u){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,o,u).next(l=>{const f=u-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,o.largestBatchId,u-l.size):pe.resolve($o());let E=-1,x=l;return f.next(P=>pe.forEach(P,(z,J)=>(E<J.largestBatchId&&(E=J.largestBatchId),l.get(z)?pe.resolve():this.remoteDocumentCache.getEntry(e,z).next(De=>{x=x.insert(z,De)}))).next(()=>this.populateOverlays(e,P,l)).next(()=>this.computeViews(e,x,P,yn())).next(z=>({batchId:E,changes:Ld(z)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new dt(n)).next(o=>{let u=zc();return o.isFoundDocument()&&(u=u.insert(o.key,o)),u})}getDocumentsMatchingCollectionGroupQuery(e,n,o){const u=n.collectionGroup;let l=zc();return this.indexManager.getCollectionParents(e,u).next(f=>pe.forEach(f,E=>{const x=(P=n,z=E.child(u),new iu(z,null,P.explicitOrderBy.slice(),P.filters.slice(),P.limit,P.limitType,P.startAt,P.endAt));var P,z;return this.getDocumentsMatchingCollectionQuery(e,x,o).next(P=>{P.forEach((z,J)=>{l=l.insert(z,J)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,n,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,o.largestBatchId).next(l=>(u=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,o,u))).next(l=>{u.forEach((E,x)=>{const P=x.getKey();null===l.get(P)&&(l=l.insert(P,Fn.newInvalidDocument(P)))});let f=zc();return l.forEach((E,x)=>{const P=u.get(E);void 0!==P&&Ud(P.mutation,x,os.empty(),xr.now()),Hc(n,x)&&(f=f.insert(E,x))}),f})}}class Av{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,n){return pe.resolve(this.cs.get(n))}saveBundleMetadata(e,n){var o;return this.cs.set(n.id,{id:(o=n).id,version:o.version,createTime:zi(o.createTime)}),pe.resolve()}getNamedQuery(e,n){return pe.resolve(this.hs.get(n))}saveNamedQuery(e,n){return this.hs.set(n.name,{name:(o=n).name,query:Xd(o.bundledQuery),readTime:zi(o.readTime)}),pe.resolve();var o}}class Sv{constructor(){this.overlays=new yr(dt.comparator),this.ls=new Map}getOverlay(e,n){return pe.resolve(this.overlays.get(n))}getOverlays(e,n){const o=$o();return pe.forEach(n,u=>this.getOverlay(e,u).next(l=>{null!==l&&o.set(u,l)})).next(()=>o)}saveOverlays(e,n,o){return o.forEach((u,l)=>{this.we(e,n,l)}),pe.resolve()}removeOverlaysForBatchId(e,n,o){const u=this.ls.get(o);return void 0!==u&&(u.forEach(l=>this.overlays=this.overlays.remove(l)),this.ls.delete(o)),pe.resolve()}getOverlaysForCollection(e,n,o){const u=$o(),l=n.length+1,f=new dt(n.child("")),E=this.overlays.getIteratorFrom(f);for(;E.hasNext();){const x=E.getNext().value,P=x.getKey();if(!n.isPrefixOf(P.path))break;P.path.length===l&&x.largestBatchId>o&&u.set(x.getKey(),x)}return pe.resolve(u)}getOverlaysForCollectionGroup(e,n,o,u){let l=new yr((P,z)=>P-z);const f=this.overlays.getIterator();for(;f.hasNext();){const P=f.getNext().value;if(P.getKey().getCollectionGroup()===n&&P.largestBatchId>o){let z=l.get(P.largestBatchId);null===z&&(z=$o(),l=l.insert(P.largestBatchId,z)),z.set(P.getKey(),P)}}const E=$o(),x=l.getIterator();for(;x.hasNext()&&(x.getNext().value.forEach((P,z)=>E.set(P,z)),!(E.size()>=u)););return pe.resolve(E)}we(e,n,o){const u=this.overlays.get(o.key);if(null!==u){const f=this.ls.get(u.largestBatchId).delete(o.key);this.ls.set(u.largestBatchId,f)}this.overlays=this.overlays.insert(o.key,new Qc(n,o));let l=this.ls.get(n);void 0===l&&(l=yn(),this.ls.set(n,l)),this.ls.set(n,l.add(o.key))}}class af{constructor(){this.fs=new dr(us.ds),this.ws=new dr(us._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,n){const o=new us(e,n);this.fs=this.fs.add(o),this.ws=this.ws.add(o)}gs(e,n){e.forEach(o=>this.addReference(o,n))}removeReference(e,n){this.ys(new us(e,n))}ps(e,n){e.forEach(o=>this.removeReference(o,n))}Is(e){const n=new dt(new zn([])),o=new us(n,e),u=new us(n,e+1),l=[];return this.ws.forEachInRange([o,u],f=>{this.ys(f),l.push(f.key)}),l}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const n=new dt(new zn([])),o=new us(n,e),u=new us(n,e+1);let l=yn();return this.ws.forEachInRange([o,u],f=>{l=l.add(f.key)}),l}containsKey(e){const n=new us(e,0),o=this.fs.firstAfterOrEqual(n);return null!==o&&e.isEqual(o.key)}}class us{constructor(e,n){this.key=e,this.As=n}static ds(e,n){return dt.comparator(e.key,n.key)||St(e.As,n.As)}static _s(e,n){return St(e.As,n.As)||dt.comparator(e.key,n.key)}}class Mv{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new dr(us.ds)}checkEmpty(e){return pe.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,o,u){const l=this.vs;this.vs++;const f=new Kc(l,n,o,u);this.mutationQueue.push(f);for(const E of u)this.Rs=this.Rs.add(new us(E.key,l)),this.indexManager.addToCollectionParentIndex(e,E.key.path.popLast());return pe.resolve(f)}lookupMutationBatch(e,n){return pe.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(e,n){const u=this.bs(n+1),l=u<0?0:u;return pe.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return pe.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return pe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const o=new us(n,0),u=new us(n,Number.POSITIVE_INFINITY),l=[];return this.Rs.forEachInRange([o,u],f=>{const E=this.Ps(f.As);l.push(E)}),pe.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let o=new dr(St);return n.forEach(u=>{const l=new us(u,0),f=new us(u,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([l,f],E=>{o=o.add(E.As)})}),pe.resolve(this.Vs(o))}getAllMutationBatchesAffectingQuery(e,n){const o=n.path,u=o.length+1;let l=o;dt.isDocumentKey(l)||(l=l.child(""));const f=new us(new dt(l),0);let E=new dr(St);return this.Rs.forEachWhile(x=>{const P=x.key.path;return!!o.isPrefixOf(P)&&(P.length===u&&(E=E.add(x.As)),!0)},f),pe.resolve(this.Vs(E))}Vs(e){const n=[];return e.forEach(o=>{const u=this.Ps(o);null!==u&&n.push(u)}),n}removeMutationBatch(e,n){Rt(0===this.Ss(n.batchId,"removed")),this.mutationQueue.shift();let o=this.Rs;return pe.forEach(n.mutations,u=>{const l=new us(u.key,n.batchId);return o=o.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,u.key)}).next(()=>{this.Rs=o})}Cn(e){}containsKey(e,n){const o=new us(n,0),u=this.Rs.firstAfterOrEqual(o);return pe.resolve(n.isEqual(u&&u.key))}performConsistencyCheck(e){return pe.resolve()}Ss(e,n){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const n=this.bs(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class xv{constructor(e){this.Ds=e,this.docs=new yr(dt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const o=n.key,u=this.docs.get(o),l=u?u.size:0,f=this.Ds(n);return this.docs=this.docs.insert(o,{document:n.mutableCopy(),size:f}),this.size+=f-l,this.indexManager.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const o=this.docs.get(n);return pe.resolve(o?o.document.mutableCopy():Fn.newInvalidDocument(n))}getEntries(e,n){let o=bs();return n.forEach(u=>{const l=this.docs.get(u);o=o.insert(u,l?l.document.mutableCopy():Fn.newInvalidDocument(u))}),pe.resolve(o)}getDocumentsMatchingQuery(e,n,o,u){let l=bs();const f=n.path,E=new dt(f.child("")),x=this.docs.getIteratorFrom(E);for(;x.hasNext();){const{key:P,value:{document:z}}=x.getNext();if(!f.isPrefixOf(P.path))break;P.path.length>f.length+1||oc(sc(z),o)<=0||(u.has(z.key)||Hc(n,z))&&(l=l.insert(z.key,z.mutableCopy()))}return pe.resolve(l)}getAllFromCollectionGroup(e,n,o,u){Et()}Cs(e,n){return pe.forEach(this.docs,o=>n(o))}newChangeBuffer(e){return new Nv(this)}getSize(e){return pe.resolve(this.size)}}class Nv extends Kp{constructor(e){super(),this.os=e}applyChanges(e){const n=[];return this.changes.forEach((o,u)=>{u.isValidDocument()?n.push(this.os.addEntry(e,u)):this.os.removeEntry(o)}),pe.waitFor(n)}getFromCache(e,n){return this.os.getEntry(e,n)}getAllFromCache(e,n){return this.os.getEntries(e,n)}}class Rv{constructor(e){this.persistence=e,this.xs=new aa(n=>bu(n),as),this.lastRemoteSnapshotVersion=Ct.min(),this.highestTargetId=0,this.Ns=0,this.ks=new af,this.targetCount=0,this.Ms=bo.kn()}forEachTarget(e,n){return this.xs.forEach((o,u)=>n(u)),pe.resolve()}getLastRemoteSnapshotVersion(e){return pe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return pe.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),pe.resolve(this.highestTargetId)}setTargetsMetadata(e,n,o){return o&&(this.lastRemoteSnapshotVersion=o),n>this.Ns&&(this.Ns=n),pe.resolve()}Fn(e){this.xs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ms=new bo(n),this.highestTargetId=n),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,n){return this.Fn(n),this.targetCount+=1,pe.resolve()}updateTargetData(e,n){return this.Fn(n),pe.resolve()}removeTargetData(e,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,pe.resolve()}removeTargets(e,n,o){let u=0;const l=[];return this.xs.forEach((f,E)=>{E.sequenceNumber<=n&&null===o.get(E.targetId)&&(this.xs.delete(f),l.push(this.removeMatchingKeysForTargetId(e,E.targetId)),u++)}),pe.waitFor(l).next(()=>u)}getTargetCount(e){return pe.resolve(this.targetCount)}getTargetData(e,n){const o=this.xs.get(n)||null;return pe.resolve(o)}addMatchingKeys(e,n,o){return this.ks.gs(n,o),pe.resolve()}removeMatchingKeys(e,n,o){this.ks.ps(n,o);const u=this.persistence.referenceDelegate,l=[];return u&&n.forEach(f=>{l.push(u.markPotentiallyOrphaned(e,f))}),pe.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this.ks.Is(n),pe.resolve()}getMatchingKeysForTargetId(e,n){const o=this.ks.Es(n);return pe.resolve(o)}containsKey(e,n){return pe.resolve(this.ks.containsKey(n))}}class uf{constructor(e,n){this.$s={},this.overlays={},this.Os=new ii(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new Rv(this),this.indexManager=new yv,this.remoteDocumentCache=new xv(o=>this.referenceDelegate.Ls(o)),this.serializer=new Cm(n),this.qs=new Av(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Sv,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let o=this.$s[e.toKey()];return o||(o=new Mv(n,this.referenceDelegate),this.$s[e.toKey()]=o),o}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,n,o){Ye("MemoryPersistence","Starting transaction:",e);const u=new n0(this.Os.next());return this.referenceDelegate.Us(),o(u).next(l=>this.referenceDelegate.Ks(u).next(()=>l)).toPromise().then(l=>(u.raiseOnCommittedEvent(),l))}Gs(e,n){return pe.or(Object.values(this.$s).map(o=>()=>o.containsKey(e,n)))}}class n0 extends Ln{constructor(e){super(),this.currentSequenceNumber=e}}class qp{constructor(e){this.persistence=e,this.Qs=new af,this.js=null}static zs(e){return new qp(e)}get Ws(){if(this.js)return this.js;throw Et()}addReference(e,n,o){return this.Qs.addReference(o,n),this.Ws.delete(o.toString()),pe.resolve()}removeReference(e,n,o){return this.Qs.removeReference(o,n),this.Ws.add(o.toString()),pe.resolve()}markPotentiallyOrphaned(e,n){return this.Ws.add(n.toString()),pe.resolve()}removeTarget(e,n){this.Qs.Is(n.targetId).forEach(u=>this.Ws.add(u.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,n.targetId).next(u=>{u.forEach(l=>this.Ws.add(l.toString()))}).next(()=>o.removeTargetData(e,n))}Us(){this.js=new Set}Ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return pe.forEach(this.Ws,o=>{const u=dt.fromPath(o);return this.Hs(e,u).next(l=>{l||n.removeEntry(u,Ct.min())})}).next(()=>(this.js=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hs(e,n).next(o=>{o?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(e){return 0}Hs(e,n){return pe.or([()=>pe.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gs(e,n)])}}class hf{constructor(e,n,o,u){this.targetId=e,this.fromCache=n,this.Fi=o,this.Bi=u}static Li(e,n){let o=yn(),u=yn();for(const l of n.docChanges)switch(l.type){case 0:o=o.add(l.doc.key);break;case 1:u=u.add(l.doc.key)}return new hf(e,n.fromCache,o,u)}}class sh{constructor(){this.qi=!1}initialize(e,n){this.Ui=e,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(e,n,o,u){return this.Ki(e,n).next(l=>l||this.Gi(e,n,u,o)).next(l=>l||this.Qi(e,n))}Ki(e,n){if(_p(n))return pe.resolve(null);let o=es(n);return this.indexManager.getIndexType(e,o).next(u=>0===u?null:(null!==n.limit&&1===u&&(n=Ol(n,null,"F"),o=es(n)),this.indexManager.getDocumentsMatchingTarget(e,o).next(l=>{const f=yn(...l);return this.Ui.getDocuments(e,f).next(E=>this.indexManager.getMinOffset(e,o).next(x=>{const P=this.ji(n,E);return this.zi(n,P,f,x.readTime)?this.Ki(e,Ol(n,null,"F")):this.Wi(e,P,n,x)}))})))}Gi(e,n,o,u){return _p(n)||u.isEqual(Ct.min())?this.Qi(e,n):this.Ui.getDocuments(e,o).next(l=>{const f=this.ji(n,l);return this.zi(n,f,o,u)?this.Qi(e,n):(Zs()<=re.$b.DEBUG&&Ye("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),Pd(n)),this.Wi(e,f,n,function ic(i,e){const n=i.toTimestamp().seconds,o=i.toTimestamp().nanoseconds+1,u=Ct.fromTimestamp(1e9===o?new xr(n+1,0):new xr(n,o));return new Ds(u,dt.empty(),e)}(u,-1)))})}ji(e,n){let o=new dr(Pl(e));return n.forEach((u,l)=>{Hc(e,l)&&(o=o.add(l))}),o}zi(e,n,o,u){if(null===e.limit)return!1;if(o.size!==n.size)return!0;const l="F"===e.limitType?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(u)>0)}Qi(e,n){return Zs()<=re.$b.DEBUG&&Ye("QueryEngine","Using full collection scan to execute query:",Pd(n)),this.Ui.getDocumentsMatchingQuery(e,n,Ds.min())}Wi(e,n,o,u){return this.Ui.getDocumentsMatchingQuery(e,o,u).next(l=>(n.forEach(f=>{l=l.insert(f.key,f)}),l))}}class r0{constructor(e,n,o,u){this.persistence=e,this.Hi=n,this.serializer=u,this.Ji=new yr(St),this.Yi=new aa(l=>bu(l),as),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(o)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new rl(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function km(i,e){return oh.apply(this,arguments)}function oh(){return oh=(0,Z.A)(function*(i,e){const n=ft(i);return yield n.persistence.runTransaction("Handle user change","readonly",o=>{let u;return n.mutationQueue.getAllMutationBatches(o).next(l=>(u=l,n.tr(e),n.mutationQueue.getAllMutationBatches(o))).next(l=>{const f=[],E=[];let x=yn();for(const P of u){f.push(P.batchId);for(const z of P.mutations)x=x.add(z.key)}for(const P of l){E.push(P.batchId);for(const z of P.mutations)x=x.add(z.key)}return n.localDocuments.getDocuments(o,x).next(P=>({er:P,removedBatchIds:f,addedBatchIds:E}))})})}),oh.apply(this,arguments)}function Xp(i){const e=ft(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Bs.getLastRemoteSnapshotVersion(n))}function Yp(i,e){const n=ft(i);return n.persistence.runTransaction("Get next mutation batch","readonly",o=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(o,e)))}function Yl(i,e,n){return ah.apply(this,arguments)}function ah(){return ah=(0,Z.A)(function*(i,e,n){const o=ft(i),u=o.Ji.get(e),l=n?"readwrite":"readwrite-primary";try{n||(yield o.persistence.runTransaction("Release target",l,f=>o.persistence.referenceDelegate.removeTarget(f,u)))}catch(f){if(!eo(f))throw f;Ye("LocalStore",`Failed to update sequence numbers for target ${e}: ${f}`)}o.Ji=o.Ji.remove(e),o.Yi.delete(u.target)}),ah.apply(this,arguments)}function sl(i,e,n){const o=ft(i);let u=Ct.min(),l=yn();return o.persistence.runTransaction("Execute query","readonly",f=>function(E,x,P){const z=ft(E),J=z.Yi.get(P);return void 0!==J?pe.resolve(z.Ji.get(J)):z.Bs.getTargetData(x,P)}(o,f,es(e)).next(E=>{if(E)return u=E.lastLimboFreeSnapshotVersion,o.Bs.getMatchingKeysForTargetId(f,E.targetId).next(x=>{l=x})}).next(()=>o.Hi.getDocumentsMatchingQuery(f,e,n?u:Ct.min(),n?l:yn())).next(E=>(function pf(i,e,n){let o=i.Xi.get(e)||Ct.min();n.forEach((u,l)=>{l.readTime.compareTo(o)>0&&(o=l.readTime)}),i.Xi.set(e,o)}(o,function kd(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}(e),E),{documents:E,ir:l})))}class uh{constructor(){this.activeTargetIds=function Ep(){return fm}()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Pv{constructor(){this.Hr=new uh,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,o){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,n,o){this.Jr[e]=n}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new uh,Promise.resolve()}handleUserChange(e,n,o){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class kv{Yr(e){}shutdown(){}}class $m{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){Ye("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){Ye("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let eg=null;function Hm(){return null===eg?eg=268435456+Math.round(2147483648*Math.random()):eg++,"0x"+eg.toString(16)}const yf={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Lv{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const Ss="WebChannelConnection";class tg extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,n,o,u,l){const f=Hm(),E=this.To(e,n);Ye("RestConnection",`Sending RPC '${e}' ${f}:`,E,o);const x={};return this.Eo(x,u,l),this.Ao(e,E,x,o).then(P=>(Ye("RestConnection",`Received RPC '${e}' ${f}: `,P),P),P=>{throw Es("RestConnection",`RPC '${e}' ${f} failed with error: `,P,"url: ",E,"request:",o),P})}vo(e,n,o,u,l,f){return this.Io(e,n,o,u,l)}Eo(e,n,o){e["X-Goog-Api-Client"]="gl-js/ fire/"+lr,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((u,l)=>e[l]=u),o&&o.headers.forEach((u,l)=>e[l]=u)}To(e,n){return`${this.mo}/v1/${n}:${yf[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,n,o,u){const l=Hm();return new Promise((f,E)=>{const x=new Hn;x.setWithCredentials(!0),x.listenOnce(rr.COMPLETE,()=>{try{switch(x.getLastErrorCode()){case Nt.NO_ERROR:const z=x.getResponseJson();Ye(Ss,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(z)),f(z);break;case Nt.TIMEOUT:Ye(Ss,`RPC '${e}' ${l} timed out`),E(new Ve(Se.DEADLINE_EXCEEDED,"Request time out"));break;case Nt.HTTP_ERROR:const J=x.getStatus();if(Ye(Ss,`RPC '${e}' ${l} failed with status:`,J,"response text:",x.getResponseText()),J>0){let De=x.getResponseJson();Array.isArray(De)&&(De=De[0]);const Re=De?.error;if(Re&&Re.status&&Re.message){const ot=function(Tt){const Mt=Tt.toLowerCase().replace(/_/g,"-");return Object.values(Se).indexOf(Mt)>=0?Mt:Se.UNKNOWN}(Re.status);E(new Ve(ot,Re.message))}else E(new Ve(Se.UNKNOWN,"Server responded with status "+x.getStatus()))}else E(new Ve(Se.UNAVAILABLE,"Connection failed."));break;default:Et()}}finally{Ye(Ss,`RPC '${e}' ${l} completed.`)}});const P=JSON.stringify(u);Ye(Ss,`RPC '${e}' ${l} sending request:`,u),x.send(n,"POST",P,o,15)})}Ro(e,n,o){const u=Hm(),l=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=be(),E=Ue(),x={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},P=this.longPollingOptions.timeoutSeconds;void 0!==P&&(x.longPollingTimeout=Math.round(1e3*P)),this.useFetchStreams&&(x.xmlHttpFactory=new dn({})),this.Eo(x.initMessageHeaders,n,o),x.encodeInitMessageHeaders=!0;const z=l.join("");Ye(Ss,`Creating RPC '${e}' stream ${u}: ${z}`,x);const J=f.createWebChannel(z,x);let De=!1,Re=!1;const ot=new Lv({ro:Mt=>{Re?Ye(Ss,`Not sending because RPC '${e}' stream ${u} is closed:`,Mt):(De||(Ye(Ss,`Opening RPC '${e}' stream ${u} transport.`),J.open(),De=!0),Ye(Ss,`RPC '${e}' stream ${u} sending:`,Mt),J.send(Mt))},oo:()=>J.close()}),Tt=(Mt,xn,ir)=>{Mt.listen(xn,Gn=>{try{ir(Gn)}catch(ns){setTimeout(()=>{throw ns},0)}})};return Tt(J,cr.EventType.OPEN,()=>{Re||Ye(Ss,`RPC '${e}' stream ${u} transport opened.`)}),Tt(J,cr.EventType.CLOSE,()=>{Re||(Re=!0,Ye(Ss,`RPC '${e}' stream ${u} transport closed`),ot.wo())}),Tt(J,cr.EventType.ERROR,Mt=>{Re||(Re=!0,Es(Ss,`RPC '${e}' stream ${u} transport errored:`,Mt),ot.wo(new Ve(Se.UNAVAILABLE,"The operation could not be completed")))}),Tt(J,cr.EventType.MESSAGE,Mt=>{var xn;if(!Re){const ir=Mt.data[0];Rt(!!ir);const ns=ir.error||(null===(xn=ir[0])||void 0===xn?void 0:xn.error);if(ns){Ye(Ss,`RPC '${e}' stream ${u} received error:`,ns);const rs=ns.status;let yi=function(Cl){const qy=h[Cl];if(void 0!==qy)return L(qy)}(rs),zo=ns.message;void 0===yi&&(yi=Se.INTERNAL,zo="Unknown error status: "+rs+" with message "+ns.message),Re=!0,ot.wo(new Ve(yi,zo)),J.close()}else Ye(Ss,`RPC '${e}' stream ${u} received:`,ir),ot._o(ir)}}),Tt(E,mr.STAT_EVENT,Mt=>{Mt.stat===$n.PROXY?Ye(Ss,`RPC '${e}' stream ${u} detected buffering proxy`):Mt.stat===$n.NOPROXY&&Ye(Ss,`RPC '${e}' stream ${u} detected no buffering proxy`)}),setTimeout(()=>{ot.fo()},0),ot}}function ed(){return typeof document<"u"?document:null}function ul(i){return new zd(i,!0)}class cl{constructor(e,n,o=1e3,u=1.5,l=6e4){this.ii=e,this.timerId=n,this.Po=o,this.bo=u,this.Vo=l,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),o=Math.max(0,Date.now()-this.Co),u=Math.max(0,n-o);u>0&&Ye("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${o} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,u,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class ch{constructor(e,n,o,u,l,f,E,x){this.ii=e,this.$o=o,this.Oo=u,this.connection=l,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=E,this.listener=x,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new cl(e,n)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,Z.A)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,Z.A)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,n){var o=this;return(0,Z.A)(function*(){o.Ho(),o.Jo(),o.qo.cancel(),o.Fo++,4!==e?o.qo.reset():n&&n.code===Se.RESOURCE_EXHAUSTED?($r(n.toString()),$r("Using maximum backoff delay to prevent overloading the backend."),o.qo.xo()):n&&n.code===Se.UNAUTHENTICATED&&3!==o.state&&(o.authCredentialsProvider.invalidateToken(),o.appCheckCredentialsProvider.invalidateToken()),null!==o.stream&&(o.Yo(),o.stream.close(),o.stream=null),o.state=e,yield o.listener.ao(n)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,u])=>{this.Fo===n&&this.Zo(o,u)},o=>{e(()=>{const u=new Ve(Se.UNKNOWN,"Fetching auth token failed: "+o.message);return this.tu(u)})})}Zo(e,n){const o=this.Xo(this.Fo);this.stream=this.eu(e,n),this.stream.uo(()=>{o(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(u=>{o(()=>this.tu(u))}),this.stream.onMessage(u=>{o(()=>this.onMessage(u))})}Go(){var e=this;this.state=5,this.qo.No((0,Z.A)(function*(){e.state=0,e.start()}))}tu(e){return Ye("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.Fo===e?n():(Ye("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class td extends ch{constructor(e,n,o,u,l,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,o,u,f),this.serializer=l}eu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.qo.reset();const n=function hv(i,e){let n;if("targetChange"in e){const o="NO_CHANGE"===(x=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===x?1:"REMOVE"===x?2:"CURRENT"===x?3:"RESET"===x?4:Et(),u=e.targetChange.targetIds||[],l=function(x,P){return x.useProto3Json?(Rt(void 0===P||"string"==typeof P),ki.fromBase64String(P||"")):(Rt(void 0===P||P instanceof Uint8Array),ki.fromUint8Array(P||new Uint8Array))}(i,e.targetChange.resumeToken),f=e.targetChange.cause,E=f&&function(x){const P=void 0===x.code?Se.UNKNOWN:L(x.code);return new Ve(P,x.message||"")}(f);n=new Vl(o,u,l,E||null)}else if("documentChange"in e){const o=e.documentChange,u=au(i,o.document.name),l=zi(o.document.updateTime),f=o.document.createTime?zi(o.document.createTime):Ct.min(),E=new Tr({mapValue:{fields:o.document.fields}}),x=Fn.newFoundDocument(u,l,f,E);n=new To(o.targetIds||[],o.removedTargetIds||[],x.key,x)}else if("documentDelete"in e){const o=e.documentDelete,u=au(i,o.document),l=o.readTime?zi(o.readTime):Ct.min(),f=Fn.newNoDocument(u,l);n=new To([],o.removedTargetIds||[],f.key,f)}else if("documentRemove"in e){const o=e.documentRemove,u=au(i,o.document);n=new To([],o.removedTargetIds||[],u,null)}else{if(!("filter"in e))return Et();{const o=e.filter,{count:u=0,unchangedNames:l}=o,f=new _(u,l);n=new Xc(o.targetId,f)}}var x;return n}(this.serializer,e),o=function(u){if(!("targetChange"in u))return Ct.min();const l=u.targetChange;return l.targetIds&&l.targetIds.length?Ct.min():l.readTime?zi(l.readTime):Ct.min()}(e);return this.listener.nu(n,o)}su(e){const n={};n.database=Hl(this.serializer),n.addTarget=function(u,l){let f;const E=l.target;if(f=ru(E)?{documents:xp(u,E)}:{query:zl(u,E)},f.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){f.resumeToken=wm(u,l.resumeToken);const x=Yc(u,l.expectedCount);null!==x&&(f.expectedCount=x)}else if(l.snapshotVersion.compareTo(Ct.min())>0){f.readTime=vc(u,l.snapshotVersion.toTimestamp());const x=Yc(u,l.expectedCount);null!==x&&(f.expectedCount=x)}return f}(this.serializer,e);const o=function Np(i,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Et()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);o&&(n.labels=o),this.Wo(n)}iu(e){const n={};n.database=Hl(this.serializer),n.removeTarget=e,this.Wo(n)}}class ng extends ch{constructor(e,n,o,u,l,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,o,u,f),this.serializer=l,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,n){return this.connection.Ro("Write",e,n)}onMessage(e){if(Rt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const n=function fv(i,e){return i&&i.length>0?(Rt(void 0!==e),i.map(n=>function(o,u){let l=zi(o.updateTime?o.updateTime:u);return l.isEqual(Ct.min())&&(l=zi(u)),new lv(l,o.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),o=zi(e.commitTime);return this.listener.cu(o,n)}return Rt(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Hl(this.serializer),this.Wo(e)}uu(e){const n={streamToken:this.lastStreamToken,writes:e.map(o=>function qd(i,e){let n;if(e instanceof Au)n={update:Kd(i,e.key,e.value)};else if(e instanceof yc)n={delete:$l(i,e.key)};else if(e instanceof ka)n={update:Kd(i,e.key,e.data),updateMask:gv(e.fieldMask)};else{if(!(e instanceof Vd))return Et();n={verify:$l(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(o=>function(u,l){const f=l.transform;if(f instanceof fc)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof pc)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof Wc)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof Fl)return{fieldPath:l.field.canonicalString(),increment:f.gt};throw Et()}(0,o))),e.precondition.isNone||(n.currentDocument=void 0!==(u=e.precondition).updateTime?{updateTime:Gd(i,u.updateTime)}:void 0!==u.exists?{exists:u.exists}:Et()),n;var u}(this.serializer,o))};this.Wo(n)}}class rg extends class{}{constructor(e,n,o,u){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=o,this.serializer=u,this.lu=!1}fu(){if(this.lu)throw new Ve(Se.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,n,o){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,l])=>this.connection.Io(e,n,o,u,l)).catch(u=>{throw"FirebaseError"===u.name?(u.code===Se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Ve(Se.UNKNOWN,u.toString())})}vo(e,n,o,u){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,f])=>this.connection.vo(e,n,o,l,f,u)).catch(l=>{throw"FirebaseError"===l.name?(l.code===Se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Ve(Se.UNKNOWN,l.toString())})}terminate(){this.lu=!0}}class ig{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?($r(n),this.mu=!1):Ye("OnlineStateTracker",n)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class lh{constructor(e,n,o,u,l){var f=this;this.localStore=e,this.datastore=n,this.asyncQueue=o,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=l,this.Pu.Yr(E=>{o.enqueueAndForget((0,Z.A)(function*(){var x;cu(f)&&(Ye("RemoteStore","Restarting streams for network reachability change."),yield(x=(0,Z.A)(function*(P){const z=ft(P);z.vu.add(4),yield nd(z),z.bu.set("Unknown"),z.vu.delete(4),yield dh(z)}),function(P){return x.apply(this,arguments)})(f))}))}),this.bu=new ig(o,u)}}function dh(i){return _f.apply(this,arguments)}function _f(){return _f=(0,Z.A)(function*(i){if(cu(i))for(const e of i.Ru)yield e(!0)}),_f.apply(this,arguments)}function nd(i){return sg.apply(this,arguments)}function sg(){return sg=(0,Z.A)(function*(i){for(const e of i.Ru)yield e(!1)}),sg.apply(this,arguments)}function rd(i,e){const n=ft(i);n.Au.has(e.targetId)||(n.Au.set(e.targetId,e),ag(n)?Wm(n):ll(n).Ko()&&og(n,e))}function id(i,e){const n=ft(i),o=ll(n);n.Au.delete(e),o.Ko()&&Gm(n,e),0===n.Au.size&&(o.Ko()?o.jo():cu(n)&&n.bu.set("Unknown"))}function og(i,e){if(i.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ct.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ll(i).su(e)}function Gm(i,e){i.Vu.qt(e),ll(i).iu(e)}function Wm(i){i.Vu=new Bl({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),le:e=>i.Au.get(e)||null,ue:()=>i.datastore.serializer.databaseId}),ll(i).start(),i.bu.gu()}function ag(i){return cu(i)&&!ll(i).Uo()&&i.Au.size>0}function cu(i){return 0===ft(i).vu.size}function If(i){i.Vu=void 0}function Fv(i){return wf.apply(this,arguments)}function wf(){return wf=(0,Z.A)(function*(i){i.Au.forEach((e,n)=>{og(i,e)})}),wf.apply(this,arguments)}function ug(i,e){return sd.apply(this,arguments)}function sd(){return sd=(0,Z.A)(function*(i,e){If(i),ag(i)?(i.bu.Iu(e),Wm(i)):i.bu.set("Unknown")}),sd.apply(this,arguments)}function Uv(i,e,n){return Ef.apply(this,arguments)}function Ef(){return Ef=(0,Z.A)(function*(i,e,n){if(i.bu.set("Online"),e instanceof Vl&&2===e.state&&e.cause)try{yield(o=(0,Z.A)(function*(u,l){const f=l.cause;for(const E of l.targetIds)u.Au.has(E)&&(yield u.remoteSyncer.rejectListen(E,f),u.Au.delete(E),u.Vu.removeTarget(E))}),function(u,l){return o.apply(this,arguments)})(i,e)}catch(o){Ye("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),o),yield Df(i,o)}else if(e instanceof To?i.Vu.Ht(e):e instanceof Xc?i.Vu.ne(e):i.Vu.Xt(e),!n.isEqual(Ct.min()))try{const o=yield Xp(i.localStore);n.compareTo(o)>=0&&(yield function(u,l){const f=u.Vu.ce(l);return f.targetChanges.forEach((E,x)=>{if(E.resumeToken.approximateByteSize()>0){const P=u.Au.get(x);P&&u.Au.set(x,P.withResumeToken(E.resumeToken,l))}}),f.targetMismatches.forEach((E,x)=>{const P=u.Au.get(E);if(!P)return;u.Au.set(E,P.withResumeToken(ki.EMPTY_BYTE_STRING,P.snapshotVersion)),Gm(u,E);const z=new La(P.target,E,x,P.sequenceNumber);og(u,z)}),u.remoteSyncer.applyRemoteEvent(f)}(i,n))}catch(o){Ye("RemoteStore","Failed to raise snapshot:",o),yield Df(i,o)}var o}),Ef.apply(this,arguments)}function Df(i,e,n){return Tf.apply(this,arguments)}function Tf(){return Tf=(0,Z.A)(function*(i,e,n){if(!eo(e))throw e;i.vu.add(1),yield nd(i),i.bu.set("Offline"),n||(n=()=>Xp(i.localStore)),i.asyncQueue.enqueueRetryable((0,Z.A)(function*(){Ye("RemoteStore","Retrying IndexedDB access"),yield n(),i.vu.delete(1),yield dh(i)}))}),Tf.apply(this,arguments)}function Vv(i,e){return e().catch(n=>Df(i,n,e))}function od(i){return ad.apply(this,arguments)}function ad(){return ad=(0,Z.A)(function*(i){const e=ft(i),n=bc(e);let o=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;Bv(e);)try{const u=yield Yp(e.localStore,o);if(null===u){0===e.Eu.length&&n.jo();break}o=u.batchId,ud(e,u)}catch(u){yield Df(e,u)}cd(e)&&Km(e)}),ad.apply(this,arguments)}function Bv(i){return cu(i)&&i.Eu.length<10}function ud(i,e){i.Eu.push(e);const n=bc(i);n.Ko()&&n.ou&&n.uu(e.mutations)}function cd(i){return cu(i)&&!bc(i).Uo()&&i.Eu.length>0}function Km(i){bc(i).start()}function qm(i){return cg.apply(this,arguments)}function cg(){return cg=(0,Z.A)(function*(i){bc(i).hu()}),cg.apply(this,arguments)}function jv(i){return lg.apply(this,arguments)}function lg(){return lg=(0,Z.A)(function*(i){const e=bc(i);for(const n of i.Eu)e.uu(n.mutations)}),lg.apply(this,arguments)}function Qm(i,e,n){return Cf.apply(this,arguments)}function Cf(){return Cf=(0,Z.A)(function*(i,e,n){const o=i.Eu.shift(),u=qc.from(o,e,n);yield Vv(i,()=>i.remoteSyncer.applySuccessfulWrite(u)),yield od(i)}),Cf.apply(this,arguments)}function dg(i,e){return Xm.apply(this,arguments)}function Xm(){return Xm=(0,Z.A)(function*(i,e){var n;e&&bc(i).ou&&(yield(n=(0,Z.A)(function*(o,u){if(function T(i){switch(i){default:return Et();case Se.CANCELLED:case Se.UNKNOWN:case Se.DEADLINE_EXCEEDED:case Se.RESOURCE_EXHAUSTED:case Se.INTERNAL:case Se.UNAVAILABLE:case Se.UNAUTHENTICATED:return!1;case Se.INVALID_ARGUMENT:case Se.NOT_FOUND:case Se.ALREADY_EXISTS:case Se.PERMISSION_DENIED:case Se.FAILED_PRECONDITION:case Se.ABORTED:case Se.OUT_OF_RANGE:case Se.UNIMPLEMENTED:case Se.DATA_LOSS:return!0}}(l=u.code)&&l!==Se.ABORTED){const f=o.Eu.shift();bc(o).Qo(),yield Vv(o,()=>o.remoteSyncer.rejectFailedWrite(f.batchId,u)),yield od(o)}var l}),function(o,u){return n.apply(this,arguments)})(i,e)),cd(i)&&Km(i)}),Xm.apply(this,arguments)}function bf(i,e){return Af.apply(this,arguments)}function Af(){return Af=(0,Z.A)(function*(i,e){const n=ft(i);n.asyncQueue.verifyOperationInProgress(),Ye("RemoteStore","RemoteStore received new credentials");const o=cu(n);n.vu.add(3),yield nd(n),o&&n.bu.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.vu.delete(3),yield dh(n)}),Af.apply(this,arguments)}function fg(){return fg=(0,Z.A)(function*(i,e){const n=ft(i);e?(n.vu.delete(2),yield dh(n)):e||(n.vu.add(2),yield nd(n),n.bu.set("Unknown"))}),fg.apply(this,arguments)}function ll(i){return i.Su||(i.Su=function(e,n,o){const u=ft(e);return u.fu(),new td(n,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{uo:Fv.bind(null,i),ao:ug.bind(null,i),nu:Uv.bind(null,i)}),i.Ru.push(function(){var e=(0,Z.A)(function*(n){n?(i.Su.Qo(),ag(i)?Wm(i):i.bu.set("Unknown")):(yield i.Su.stop(),If(i))});return function(n){return e.apply(this,arguments)}}())),i.Su}function bc(i){return i.Du||(i.Du=function(e,n,o){const u=ft(e);return u.fu(),new ng(n,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{uo:qm.bind(null,i),ao:dg.bind(null,i),au:jv.bind(null,i),cu:Qm.bind(null,i)}),i.Ru.push(function(){var e=(0,Z.A)(function*(n){n?(i.Du.Qo(),yield od(i)):(yield i.Du.stop(),i.Eu.length>0&&(Ye("RemoteStore",`Stopping write stream with ${i.Eu.length} pending writes`),i.Eu=[]))});return function(n){return e.apply(this,arguments)}}())),i.Du}class Sf{constructor(e,n,o,u,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=o,this.op=u,this.removalCallback=l,this.deferred=new ri,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}static createAndSchedule(e,n,o,u,l){const f=Date.now()+o,E=new Sf(e,n,f,u,l);return E.start(o),E}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ve(Se.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ld(i,e){if($r("AsyncQueue",`${e}: ${i}`),eo(i))return new Ve(Se.UNAVAILABLE,`${e}: ${i}`);throw i}class dd{constructor(e){this.comparator=e?(n,o)=>e(n,o)||dt.comparator(n.key,o.key):(n,o)=>dt.comparator(n.key,o.key),this.keyedMap=zc(),this.sortedSet=new yr(this.comparator)}static emptySet(e){return new dd(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,o)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof dd)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),o=e.sortedSet.getIterator();for(;n.hasNext();){const u=n.getNext().key,l=o.getNext().key;if(!u.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const o=new dd;return o.comparator=this.comparator,o.keyedMap=e,o.sortedSet=n,o}}class $v{constructor(){this.Cu=new yr(dt.comparator)}track(e){const n=e.doc.key,o=this.Cu.get(n);o?0!==e.type&&3===o.type?this.Cu=this.Cu.insert(n,e):3===e.type&&1!==o.type?this.Cu=this.Cu.insert(n,{type:o.type,doc:e.doc}):2===e.type&&2===o.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):2===e.type&&0===o.type?this.Cu=this.Cu.insert(n,{type:0,doc:e.doc}):1===e.type&&0===o.type?this.Cu=this.Cu.remove(n):1===e.type&&2===o.type?this.Cu=this.Cu.insert(n,{type:1,doc:o.doc}):0===e.type&&1===o.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):Et():this.Cu=this.Cu.insert(n,e)}xu(){const e=[];return this.Cu.inorderTraversal((n,o)=>{e.push(o)}),e}}class dl{constructor(e,n,o,u,l,f,E,x,P){this.query=e,this.docs=n,this.oldDocs=o,this.docChanges=u,this.mutatedKeys=l,this.fromCache=f,this.syncStateChanged=E,this.excludesMetadataChanges=x,this.hasCachedResults=P}static fromInitialDocuments(e,n,o,u,l){const f=[];return n.forEach(E=>{f.push({type:0,doc:E})}),new dl(e,n,dd.emptySet(n),f,o,u,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&$c(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,o=e.docChanges;if(n.length!==o.length)return!1;for(let u=0;u<n.length;u++)if(n[u].type!==o[u].type||!n[u].doc.isEqual(o[u].doc))return!1;return!0}}class Ym{constructor(){this.Nu=void 0,this.listeners=[]}}class lu{constructor(){this.queries=new aa(e=>kh(e),$c),this.onlineState="Unknown",this.ku=new Set}}function Zm(){return Zm=(0,Z.A)(function*(i,e){const n=ft(i),o=e.query;let u=!1,l=n.queries.get(o);if(l||(u=!0,l=new Ym),u)try{l.Nu=yield n.onListen(o)}catch(f){const E=ld(f,`Initialization of query '${Pd(e.query)}' failed`);return void e.onError(E)}n.queries.set(o,l),l.listeners.push(e),e.Mu(n.onlineState),l.Nu&&e.$u(l.Nu)&&pg(n)}),Zm.apply(this,arguments)}function Mu(){return Mu=(0,Z.A)(function*(i,e){const n=ft(i),o=e.query;let u=!1;const l=n.queries.get(o);if(l){const f=l.listeners.indexOf(e);f>=0&&(l.listeners.splice(f,1),u=0===l.listeners.length)}if(u)return n.queries.delete(o),n.onUnlisten(o)}),Mu.apply(this,arguments)}function xf(i,e){const n=ft(i);let o=!1;for(const u of e){const f=n.queries.get(u.query);if(f){for(const E of f.listeners)E.$u(u)&&(o=!0);f.Nu=u}}o&&pg(n)}function Hv(i,e,n){const o=ft(i),u=o.queries.get(e);if(u)for(const l of u.listeners)l.onError(n);o.queries.delete(e)}function pg(i){i.ku.forEach(e=>{e.next()})}class gg{constructor(e,n,o){this.query=e,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=o||{}}$u(e){if(!this.options.includeMetadataChanges){const o=[];for(const u of e.docChanges)3!==u.type&&o.push(u);e=new dl(e.query,e.docs,e.oldDocs,o,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),n=!0):this.qu(e,this.onlineState)&&(this.Uu(e),n=!0),this.Bu=e,n}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let n=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),n=!0),n}qu(e,n){return!e.fromCache||(!this.options.Ku||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=dl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class zv{constructor(e){this.key=e}}class cs{constructor(e){this.key=e}}class ty{constructor(e,n){this.query=e,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=yn(),this.mutatedKeys=yn(),this.tc=Pl(e),this.ec=new dd(this.tc)}get nc(){return this.Yu}sc(e,n){const o=n?n.ic:new $v,u=n?n.ec:this.ec;let l=n?n.mutatedKeys:this.mutatedKeys,f=u,E=!1;const x="F"===this.query.limitType&&u.size===this.query.limit?u.last():null,P="L"===this.query.limitType&&u.size===this.query.limit?u.first():null;if(e.inorderTraversal((z,J)=>{const De=u.get(z),Re=Hc(this.query,J)?J:null,ot=!!De&&this.mutatedKeys.has(De.key),Tt=!!Re&&(Re.hasLocalMutations||this.mutatedKeys.has(Re.key)&&Re.hasCommittedMutations);let Mt=!1;De&&Re?De.data.isEqual(Re.data)?ot!==Tt&&(o.track({type:3,doc:Re}),Mt=!0):this.rc(De,Re)||(o.track({type:2,doc:Re}),Mt=!0,(x&&this.tc(Re,x)>0||P&&this.tc(Re,P)<0)&&(E=!0)):!De&&Re?(o.track({type:0,doc:Re}),Mt=!0):De&&!Re&&(o.track({type:1,doc:De}),Mt=!0,(x||P)&&(E=!0)),Mt&&(Re?(f=f.add(Re),l=Tt?l.add(z):l.delete(z)):(f=f.delete(z),l=l.delete(z)))}),null!==this.query.limit)for(;f.size>this.query.limit;){const z="F"===this.query.limitType?f.last():f.first();f=f.delete(z.key),l=l.delete(z.key),o.track({type:1,doc:z})}return{ec:f,ic:o,zi:E,mutatedKeys:l}}rc(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,o){const u=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const l=e.ic.xu();l.sort((P,z)=>function(J,De){const Re=ot=>{switch(ot){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Et()}};return Re(J)-Re(De)}(P.type,z.type)||this.tc(P.doc,z.doc)),this.oc(o);const f=n?this.uc():[],E=0===this.Zu.size&&this.current?1:0,x=E!==this.Xu;return this.Xu=E,0!==l.length||x?{snapshot:new dl(this.query,e.ec,u,l,e.mutatedKeys,0===E,x,!1,!!o&&o.resumeToken.approximateByteSize()>0),cc:f}:{cc:f}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new $v,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(n=>this.Yu=this.Yu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Yu=this.Yu.delete(n)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=yn(),this.ec.forEach(o=>{this.ac(o.key)&&(this.Zu=this.Zu.add(o.key))});const n=[];return e.forEach(o=>{this.Zu.has(o)||n.push(new cs(o))}),this.Zu.forEach(o=>{e.has(o)||n.push(new zv(o))}),n}hc(e){this.Yu=e.ir,this.Zu=yn();const n=this.sc(e.documents);return this.applyChanges(n,!0)}lc(){return dl.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class yg{constructor(e,n,o){this.query=e,this.targetId=n,this.view=o}}class Gv{constructor(e){this.key=e,this.fc=!1}}class Wv{constructor(e,n,o,u,l,f){this.localStore=e,this.remoteStore=n,this.eventManager=o,this.sharedClientState=u,this.currentUser=l,this.maxConcurrentLimboResolutions=f,this.dc={},this.wc=new aa(E=>kh(E),$c),this._c=new Map,this.mc=new Set,this.gc=new yr(dt.comparator),this.yc=new Map,this.Ic=new af,this.Tc={},this.Ec=new Map,this.Ac=bo.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function vg(i,e){return Nf.apply(this,arguments)}function Nf(){return Nf=(0,Z.A)(function*(i,e){const n=function Sc(i){const e=ft(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=ry.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=s0.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Qu.bind(null,e),e.dc.nu=xf.bind(null,e.eventManager),e.dc.Pc=Hv.bind(null,e.eventManager),e}(i);let o,u;const l=n.wc.get(e);if(l)o=l.targetId,n.sharedClientState.addLocalQueryTarget(o),u=l.view.lc();else{const f=yield function qu(i,e){const n=ft(i);return n.persistence.runTransaction("Allocate target","readwrite",o=>{let u;return n.Bs.getTargetData(o,e).next(l=>l?(u=l,pe.resolve(u)):n.Bs.allocateTargetId(o).next(f=>(u=new La(e,f,"TargetPurposeListen",o.currentSequenceNumber),n.Bs.addTargetData(o,u).next(()=>u))))}).then(o=>{const u=n.Ji.get(o.targetId);return(null===u||o.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(o.targetId,o),n.Yi.set(e,o.targetId)),o})}(n.localStore,es(e)),E=n.sharedClientState.addLocalQueryTarget(f.targetId);o=f.targetId,u=yield function Rf(i,e,n,o,u){return _g.apply(this,arguments)}(n,e,o,"current"===E,f.resumeToken),n.isPrimaryClient&&rd(n.remoteStore,f)}return u}),Nf.apply(this,arguments)}function _g(){return _g=(0,Z.A)(function*(i,e,n,o,u){i.Rc=(J,De,Re)=>{return(ot=(0,Z.A)(function*(Tt,Mt,xn,ir){let Gn=Mt.view.sc(xn);Gn.zi&&(Gn=yield sl(Tt.localStore,Mt.query,!1).then(({documents:yi})=>Mt.view.sc(yi,Gn)));const ns=ir&&ir.targetChanges.get(Mt.targetId),rs=Mt.view.applyChanges(Gn,Tt.isPrimaryClient,ns);return Dg(Tt,Mt.targetId,rs.cc),rs.snapshot}),function(Tt,Mt,xn,ir){return ot.apply(this,arguments)})(i,J,De,Re);var ot};const l=yield sl(i.localStore,e,!0),f=new ty(e,l.ir),E=f.sc(l.documents),x=Xr.createSynthesizedTargetChangeForCurrentChange(n,o&&"Offline"!==i.onlineState,u),P=f.applyChanges(E,i.isPrimaryClient,x);Dg(i,n,P.cc);const z=new yg(e,n,f);return i.wc.set(e,z),i._c.has(n)?i._c.get(n).push(e):i._c.set(n,[e]),P.snapshot}),_g.apply(this,arguments)}function ny(i,e){return Of.apply(this,arguments)}function Of(){return Of=(0,Z.A)(function*(i,e){const n=ft(i),o=n.wc.get(e),u=n._c.get(o.targetId);if(u.length>1)return n._c.set(o.targetId,u.filter(l=>!$c(l,e))),void n.wc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(o.targetId),n.sharedClientState.isActiveQueryTarget(o.targetId)||(yield Yl(n.localStore,o.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(o.targetId),id(n.remoteStore,o.targetId),pl(n,o.targetId)}).catch(Bs))):(pl(n,o.targetId),yield Yl(n.localStore,o.targetId,!0))}),Of.apply(this,arguments)}function Ig(){return Ig=(0,Z.A)(function*(i,e,n){const o=function fh(i){const e=ft(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=qv.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=iy.bind(null,e),e}(i);try{const u=yield function(l,f){const E=ft(l),x=xr.now(),P=f.reduce((De,Re)=>De.add(Re.key),yn());let z,J;return E.persistence.runTransaction("Locally write mutations","readwrite",De=>{let Re=bs(),ot=yn();return E.Zi.getEntries(De,P).next(Tt=>{Re=Tt,Re.forEach((Mt,xn)=>{xn.isValidDocument()||(ot=ot.add(Mt))})}).next(()=>E.localDocuments.getOverlayedDocuments(De,Re)).next(Tt=>{z=Tt;const Mt=[];for(const xn of f){const ir=_m(xn,z.get(xn.key).overlayedDocument);null!=ir&&Mt.push(new ka(xn.key,ir,Rd(ir.value.mapValue),Qr.exists(!0)))}return E.mutationQueue.addMutationBatch(De,x,Mt,f)}).next(Tt=>{J=Tt;const Mt=Tt.applyToLocalDocumentSet(z,ot);return E.documentOverlayCache.saveOverlays(De,Tt.batchId,Mt)})}).then(()=>({batchId:J.batchId,changes:Ld(z)}))}(o.localStore,e);o.sharedClientState.addPendingMutation(u.batchId),function(l,f,E){let x=l.Tc[l.currentUser.toKey()];x||(x=new yr(St)),x=x.insert(f,E),l.Tc[l.currentUser.toKey()]=x}(o,u.batchId,n),yield xu(o,u.changes),yield od(o.remoteStore)}catch(u){const l=ld(u,"Failed to persist write");n.reject(l)}}),Ig.apply(this,arguments)}function ry(i,e){return Pf.apply(this,arguments)}function Pf(){return Pf=(0,Z.A)(function*(i,e){const n=ft(i);try{const o=yield function il(i,e){const n=ft(i),o=e.snapshotVersion;let u=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const f=n.Zi.newChangeBuffer({trackRemovals:!0});u=n.Ji;const E=[];e.targetChanges.forEach((z,J)=>{const De=u.get(J);if(!De)return;E.push(n.Bs.removeMatchingKeys(l,z.removedDocuments,J).next(()=>n.Bs.addMatchingKeys(l,z.addedDocuments,J)));let Re=De.withSequenceNumber(l.currentSequenceNumber);var ot,Tt,Mt;null!==e.targetMismatches.get(J)?Re=Re.withResumeToken(ki.EMPTY_BYTE_STRING,Ct.min()).withLastLimboFreeSnapshotVersion(Ct.min()):z.resumeToken.approximateByteSize()>0&&(Re=Re.withResumeToken(z.resumeToken,o)),u=u.insert(J,Re),Tt=Re,Mt=z,(0===(ot=De).resumeToken.approximateByteSize()||Tt.snapshotVersion.toMicroseconds()-ot.snapshotVersion.toMicroseconds()>=3e8||Mt.addedDocuments.size+Mt.modifiedDocuments.size+Mt.removedDocuments.size>0)&&E.push(n.Bs.updateTargetData(l,Re))});let x=bs(),P=yn();if(e.documentUpdates.forEach(z=>{e.resolvedLimboDocuments.has(z)&&E.push(n.persistence.referenceDelegate.updateLimboDocument(l,z))}),E.push(function Fm(i,e,n){let o=yn(),u=yn();return n.forEach(l=>o=o.add(l)),e.getEntries(i,o).next(l=>{let f=bs();return n.forEach((E,x)=>{const P=l.get(E);x.isFoundDocument()!==P.isFoundDocument()&&(u=u.add(E)),x.isNoDocument()&&x.version.isEqual(Ct.min())?(e.removeEntry(E,x.readTime),f=f.insert(E,x)):!P.isValidDocument()||x.version.compareTo(P.version)>0||0===x.version.compareTo(P.version)&&P.hasPendingWrites?(e.addEntry(x),f=f.insert(E,x)):Ye("LocalStore","Ignoring outdated watch update for ",E,". Current version:",P.version," Watch version:",x.version)}),{nr:f,sr:u}})}(l,f,e.documentUpdates).next(z=>{x=z.nr,P=z.sr})),!o.isEqual(Ct.min())){const z=n.Bs.getLastRemoteSnapshotVersion(l).next(J=>n.Bs.setTargetsMetadata(l,l.currentSequenceNumber,o));E.push(z)}return pe.waitFor(E).next(()=>f.apply(l)).next(()=>n.localDocuments.getLocalViewOfDocuments(l,x,P)).next(()=>x)}).then(l=>(n.Ji=u,l))}(n.localStore,e);e.targetChanges.forEach((u,l)=>{const f=n.yc.get(l);f&&(Rt(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1),u.addedDocuments.size>0?f.fc=!0:u.modifiedDocuments.size>0?Rt(f.fc):u.removedDocuments.size>0&&(Rt(f.fc),f.fc=!1))}),yield xu(n,o,e)}catch(o){yield Bs(o)}}),Pf.apply(this,arguments)}function hl(i,e,n){const o=ft(i);if(o.isPrimaryClient&&0===n||!o.isPrimaryClient&&1===n){const u=[];o.wc.forEach((l,f)=>{const E=f.view.Mu(e);E.snapshot&&u.push(E.snapshot)}),function(l,f){const E=ft(l);E.onlineState=f;let x=!1;E.queries.forEach((P,z)=>{for(const J of z.listeners)J.Mu(f)&&(x=!0)}),x&&pg(E)}(o.eventManager,e),u.length&&o.dc.nu(u),o.onlineState=e,o.isPrimaryClient&&o.sharedClientState.setOnlineState(e)}}function Qu(i,e,n){return Ac.apply(this,arguments)}function Ac(){return Ac=(0,Z.A)(function*(i,e,n){const o=ft(i);o.sharedClientState.updateQueryState(e,"rejected",n);const u=o.yc.get(e),l=u&&u.key;if(l){let f=new yr(dt.comparator);f=f.insert(l,Fn.newNoDocument(l,Ct.min()));const E=yn().add(l),x=new As(Ct.min(),new Map,new yr(St),f,E);yield ry(o,x),o.gc=o.gc.remove(l),o.yc.delete(e),Tg(o)}else yield Yl(o.localStore,e,!1).then(()=>pl(o,e,n)).catch(Bs)}),Ac.apply(this,arguments)}function qv(i,e){return wg.apply(this,arguments)}function wg(){return wg=(0,Z.A)(function*(i,e){const n=ft(i),o=e.batch.batchId;try{const u=yield function Lm(i,e){const n=ft(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const u=e.batch.keys(),l=n.Zi.newChangeBuffer({trackRemovals:!0});return function(f,E,x,P){const z=x.batch,J=z.keys();let De=pe.resolve();return J.forEach(Re=>{De=De.next(()=>P.getEntry(E,Re)).next(ot=>{const Tt=x.docVersions.get(Re);Rt(null!==Tt),ot.version.compareTo(Tt)<0&&(z.applyToRemoteDocument(ot,x),ot.isValidDocument()&&(ot.setReadTime(x.commitVersion),P.addEntry(ot)))})}),De.next(()=>f.mutationQueue.removeMutationBatch(E,z))}(n,o,e,l).next(()=>l.apply(o)).next(()=>n.mutationQueue.performConsistencyCheck(o)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(o,u,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(o,function(f){let E=yn();for(let x=0;x<f.mutationResults.length;++x)f.mutationResults[x].transformResults.length>0&&(E=E.add(f.batch.mutations[x].key));return E}(e))).next(()=>n.localDocuments.getDocuments(o,u))})}(n.localStore,e);Lf(n,o,null),hd(n,o),n.sharedClientState.updateMutationState(o,"acknowledged"),yield xu(n,u)}catch(u){yield Bs(u)}}),wg.apply(this,arguments)}function iy(i,e,n){return kf.apply(this,arguments)}function kf(){return kf=(0,Z.A)(function*(i,e,n){const o=ft(i);try{const u=yield function(l,f){const E=ft(l);return E.persistence.runTransaction("Reject batch","readwrite-primary",x=>{let P;return E.mutationQueue.lookupMutationBatch(x,f).next(z=>(Rt(null!==z),P=z.keys(),E.mutationQueue.removeMutationBatch(x,z))).next(()=>E.mutationQueue.performConsistencyCheck(x)).next(()=>E.documentOverlayCache.removeOverlaysForBatchId(x,P,f)).next(()=>E.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(x,P)).next(()=>E.localDocuments.getDocuments(x,P))})}(o.localStore,e);Lf(o,e,n),hd(o,e),o.sharedClientState.updateMutationState(e,"rejected",n),yield xu(o,u)}catch(u){yield Bs(u)}}),kf.apply(this,arguments)}function hd(i,e){(i.Ec.get(e)||[]).forEach(n=>{n.resolve()}),i.Ec.delete(e)}function Lf(i,e,n){const o=ft(i);let u=o.Tc[o.currentUser.toKey()];if(u){const l=u.get(e);l&&(n?l.reject(n):l.resolve(),u=u.remove(e)),o.Tc[o.currentUser.toKey()]=u}}function pl(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const o of i._c.get(e))i.wc.delete(o),n&&i.dc.Pc(o,n);i._c.delete(e),i.isPrimaryClient&&i.Ic.Is(e).forEach(o=>{i.Ic.containsKey(o)||sy(i,o)})}function sy(i,e){i.mc.delete(e.path.canonicalString());const n=i.gc.get(e);null!==n&&(id(i.remoteStore,n),i.gc=i.gc.remove(e),i.yc.delete(n),Tg(i))}function Dg(i,e,n){for(const o of n)o instanceof zv?(i.Ic.addReference(o.key,e),Qv(i,o)):o instanceof cs?(Ye("SyncEngine","Document no longer in limbo: "+o.key),i.Ic.removeReference(o.key,e),i.Ic.containsKey(o.key)||sy(i,o.key)):Et()}function Qv(i,e){const n=e.key,o=n.path.canonicalString();i.gc.get(n)||i.mc.has(o)||(Ye("SyncEngine","New document in limbo: "+n),i.mc.add(o),Tg(i))}function Tg(i){for(;i.mc.size>0&&i.gc.size<i.maxConcurrentLimboResolutions;){const e=i.mc.values().next().value;i.mc.delete(e);const n=new dt(zn.fromString(e)),o=i.Ac.next();i.yc.set(o,new Gv(n)),i.gc=i.gc.insert(n,o),rd(i.remoteStore,new La(es(hc(n.path)),o,"TargetPurposeLimboResolution",ii.ct))}}function xu(i,e,n){return oy.apply(this,arguments)}function oy(){return oy=(0,Z.A)(function*(i,e,n){const o=ft(i),u=[],l=[],f=[];var E;o.wc.isEmpty()||(o.wc.forEach((E,x)=>{f.push(o.Rc(x,e,n).then(P=>{if((P||n)&&o.isPrimaryClient&&o.sharedClientState.updateQueryState(x.targetId,P?.fromCache?"not-current":"current"),P){u.push(P);const z=hf.Li(x.targetId,P);l.push(z)}}))}),yield Promise.all(f),o.dc.nu(u),yield(E=(0,Z.A)(function*(x,P){const z=ft(x);try{yield z.persistence.runTransaction("notifyLocalViewChanges","readwrite",J=>pe.forEach(P,De=>pe.forEach(De.Fi,Re=>z.persistence.referenceDelegate.addReference(J,De.targetId,Re)).next(()=>pe.forEach(De.Bi,Re=>z.persistence.referenceDelegate.removeReference(J,De.targetId,Re)))))}catch(J){if(!eo(J))throw J;Ye("LocalStore","Failed to update sequence numbers: "+J)}for(const J of P){const De=J.targetId;if(!J.fromCache){const Re=z.Ji.get(De),Tt=Re.withLastLimboFreeSnapshotVersion(Re.snapshotVersion);z.Ji=z.Ji.insert(De,Tt)}}}),function(x,P){return E.apply(this,arguments)})(o.localStore,l))}),oy.apply(this,arguments)}function Xv(i,e){return ay.apply(this,arguments)}function ay(){return ay=(0,Z.A)(function*(i,e){const n=ft(i);if(!n.currentUser.isEqual(e)){Ye("SyncEngine","User change. New user:",e.toKey());const o=yield km(n.localStore,e);n.currentUser=e,(u=n).Ec.forEach(f=>{f.forEach(E=>{E.reject(new Ve(Se.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),u.Ec.clear(),n.sharedClientState.handleUserChange(e,o.removedBatchIds,o.addedBatchIds),yield xu(n,o.er)}var u}),ay.apply(this,arguments)}function s0(i,e){const n=ft(i),o=n.yc.get(e);if(o&&o.fc)return yn().add(o.key);{let u=yn();const l=n._c.get(e);if(!l)return u;for(const f of l){const E=n.wc.get(f);u=u.unionWith(E.view.nc)}return u}}class gl{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return(0,Z.A)(function*(){n.serializer=ul(e.databaseInfo.databaseId),n.sharedClientState=n.createSharedClientState(e),n.persistence=n.createPersistence(e),yield n.persistence.start(),n.localStore=n.createLocalStore(e),n.gcScheduler=n.createGarbageCollectionScheduler(e,n.localStore),n.indexBackfillerScheduler=n.createIndexBackfillerScheduler(e,n.localStore)})()}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return function ff(i,e,n,o){return new r0(i,e,n,o)}(this.persistence,new sh,e.initialUser,this.serializer)}createPersistence(e){return new uf(qp.zs,this.serializer)}createSharedClientState(e){return new Pv}terminate(){var e=this;return(0,Z.A)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class ml{initialize(e,n){var o=this;return(0,Z.A)(function*(){o.localStore||(o.localStore=e.localStore,o.sharedClientState=e.sharedClientState,o.datastore=o.createDatastore(n),o.remoteStore=o.createRemoteStore(n),o.eventManager=o.createEventManager(n),o.syncEngine=o.createSyncEngine(n,!e.synchronizeTabs),o.sharedClientState.onlineStateHandler=u=>hl(o.syncEngine,u,1),o.remoteStore.remoteSyncer.handleCredentialChange=Xv.bind(null,o.syncEngine),yield function hg(i,e){return fg.apply(this,arguments)}(o.remoteStore,o.syncEngine.isPrimaryClient))})()}createEventManager(e){return new lu}createDatastore(e){const n=ul(e.databaseInfo.databaseId),o=new tg(e.databaseInfo);return new rg(e.authCredentials,e.appCheckCredentials,o,n)}createRemoteStore(e){return n=this.localStore,o=this.datastore,u=e.asyncQueue,l=E=>hl(this.syncEngine,E,0),f=$m.D()?new $m:new kv,new lh(n,o,u,l,f);var n,o,u,l,f}createSyncEngine(e,n){return function(o,u,l,f,E,x,P){const z=new Wv(o,u,l,f,E,x);return P&&(z.vc=!0),z}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return(e=(0,Z.A)(function*(n){const o=ft(n);Ye("RemoteStore","RemoteStore shutting down."),o.vu.add(5),yield nd(o),o.Pu.shutdown(),o.bu.set("Unknown")}),function(n){return e.apply(this,arguments)})(this.remoteStore);var e}}class Hf{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):$r("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class t_{constructor(e,n,o,u){var l=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=o,this.databaseInfo=u,this.user=tr.UNAUTHENTICATED,this.clientId=vu.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(o,function(){var f=(0,Z.A)(function*(E){Ye("FirestoreClient","Received user=",E.uid),yield l.authCredentialListener(E),l.user=E});return function(E){return f.apply(this,arguments)}}()),this.appCheckCredentials.start(o,f=>(Ye("FirestoreClient","Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}getConfiguration(){var e=this;return(0,Z.A)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ve(Se.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new ri;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Z.A)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(o){const u=ld(o,"Failed to shutdown persistence");n.reject(u)}})),n.promise}}function zf(i,e){return Sg.apply(this,arguments)}function Sg(){return Sg=(0,Z.A)(function*(i,e){i.asyncQueue.verifyOperationInProgress(),Ye("FirestoreClient","Initializing OfflineComponentProvider");const n=yield i.getConfiguration();yield e.initialize(n);let o=n.initialUser;i.setCredentialChangeListener(function(){var u=(0,Z.A)(function*(l){o.isEqual(l)||(yield km(e.localStore,l),o=l)});return function(l){return u.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}),Sg.apply(this,arguments)}function Mg(i,e){return Gf.apply(this,arguments)}function Gf(){return Gf=(0,Z.A)(function*(i,e){i.asyncQueue.verifyOperationInProgress();const n=yield function Ng(i){return Rg.apply(this,arguments)}(i);Ye("FirestoreClient","Initializing OnlineComponentProvider");const o=yield i.getConfiguration();yield e.initialize(n,o),i.setCredentialChangeListener(u=>bf(e.remoteStore,u)),i.setAppCheckTokenChangeListener((u,l)=>bf(e.remoteStore,l)),i._onlineComponents=e}),Gf.apply(this,arguments)}function Rg(){return Rg=(0,Z.A)(function*(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){Ye("FirestoreClient","Using user provided OfflineComponentProvider");try{yield zf(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function xg(i){return"FirebaseError"===i.name?i.code===Se.FAILED_PRECONDITION||i.code===Se.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||22===i.code||20===i.code||11===i.code}(n))throw n;Es("Error using user provided cache. Falling back to memory cache: "+n),yield zf(i,new gl)}}else Ye("FirestoreClient","Using default OfflineComponentProvider"),yield zf(i,new gl);return i._offlineComponents}),Rg.apply(this,arguments)}function so(i){return Og.apply(this,arguments)}function Og(){return Og=(0,Z.A)(function*(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(Ye("FirestoreClient","Using user provided OnlineComponentProvider"),yield Mg(i,i._uninitializedComponentsProvider._online)):(Ye("FirestoreClient","Using default OnlineComponentProvider"),yield Mg(i,new ml))),i._onlineComponents}),Og.apply(this,arguments)}function kg(){return kg=(0,Z.A)(function*(i){const e=yield so(i),n=e.eventManager;return n.onListen=vg.bind(null,e.syncEngine),n.onUnlisten=ny.bind(null,e.syncEngine),n}),kg.apply(this,arguments)}function gy(i,e,n={}){const o=new ri;return i.asyncQueue.enqueueAndForget((0,Z.A)(function*(){return function(u,l,f,E,x){const P=new Hf({next:J=>{l.enqueueAndForget(()=>function hh(i,e){return Mu.apply(this,arguments)}(u,z)),J.fromCache&&"server"===E.source?x.reject(new Ve(Se.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):x.resolve(J)},error:J=>x.reject(J)}),z=new gg(f,P,{includeMetadataChanges:!0,Ku:!0});return function Mf(i,e){return Zm.apply(this,arguments)}(u,z)}(yield function md(i){return kg.apply(this,arguments)}(i),i.asyncQueue,e,n,o)})),o.promise}function Qf(i){const e={};return void 0!==i.timeoutSeconds&&(e.timeoutSeconds=i.timeoutSeconds),e}const my=new Map;function Xf(i,e,n){if(!n)throw new Ve(Se.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function Lg(i){if(!dt.isDocumentKey(i))throw new Ve(Se.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function Fg(i){if(dt.isDocumentKey(i))throw new Ve(Se.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function yl(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const e=(n=i).constructor?n.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var n;return"function"==typeof i?"a function":Et()}function er(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new Ve(Se.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=yl(i);throw new Ve(Se.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}class Ug{constructor(e){var n,o;if(void 0===e.host){if(void 0!==e.ssl)throw new Ve(Se.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Ve(Se.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function u_(i,e,n,o){if(!0===e&&!0===o)throw new Ve(Se.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=Qf(null!==(o=e.experimentalLongPollingOptions)&&void 0!==o?o:{}),function(u){if(void 0!==u.timeoutSeconds){if(isNaN(u.timeoutSeconds))throw new Ve(Se.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new Ve(Se.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new Ve(Se.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class yd{constructor(e,n,o,u){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=o,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ug({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Ve(Se.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Ve(Se.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ug(e),void 0!==e.credentials&&(this._authCredentials=function(n){if(!n)return new kn;switch(n.type){case"firstParty":return new yu(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Ve(Se.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=my.get(e);n&&(Ye("ComponentProvider","Removing Datastore"),my.delete(e),n.terminate())}(this),Promise.resolve()}}class Li{constructor(e,n,o){this.converter=n,this._key=o,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ms(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Li(this.firestore,e,this._key)}}class ls{constructor(e,n,o){this.converter=n,this._query=o,this.type="query",this.firestore=e}withConverter(e){return new ls(this.firestore,e,this._query)}}class Ms extends ls{constructor(e,n,o){super(e,n,hc(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Li(this.firestore,null,new dt(e))}withConverter(e){return new Ms(this.firestore,e,this._path)}}function l_(i,e,...n){if(i=(0,ee.Ku)(i),Xf("collection","path",e),i instanceof yd){const o=zn.fromString(e,...n);return Fg(o),new Ms(i,null,o)}{if(!(i instanceof Li||i instanceof Ms))throw new Ve(Se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(zn.fromString(e,...n));return Fg(o),new Ms(i.firestore,null,o)}}function Yf(i,e,...n){if(i=(0,ee.Ku)(i),1===arguments.length&&(e=vu.A()),Xf("doc","path",e),i instanceof yd){const o=zn.fromString(e,...n);return Lg(o),new Li(i,null,new dt(o))}{if(!(i instanceof Li||i instanceof Ms))throw new Ve(Se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(zn.fromString(e,...n));return Lg(o),new Li(i.firestore,i instanceof Ms?i.converter:null,new dt(o))}}class d_{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new cl(this,"async_queue_retry"),this.Xc=()=>{const n=ed();n&&Ye("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=ed();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=ed();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new ri;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,Z.A)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(n){if(!eo(n))throw n;Ye("AsyncQueue","Operation failed with retryable error: "+n)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(o=>{throw this.Wc=o,this.Hc=!1,$r("INTERNAL UNHANDLED ERROR: ",function(l){let f=l.message||"";return l.stack&&(f=l.stack.includes(l.message)?l.stack:l.message+"\n"+l.stack),f}(o)),o}).then(o=>(this.Hc=!1,o))));return this.Gc=n,n}enqueueAfterDelay(e,n,o){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const u=Sf.createAndSchedule(this,e,n,o,l=>this.na(l));return this.zc.push(u),u}Zc(){this.Wc&&Et()}verifyOperationInProgress(){}sa(){var e=this;return(0,Z.A)(function*(){let n;do{n=e.Gc,yield n}while(n!==e.Gc)})()}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,o)=>n.targetTimeMs-o.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}}class zr extends yd{constructor(e,n,o,u){super(e,n,o,u),this.type="firestore",this._queue=new d_,this._persistenceKey=u?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||Bg(this),this._firestoreClient.terminate()}}function f_(i,e){const n="object"==typeof i?i:(0,Je.Sx)(),o="string"==typeof i?i:e||"(default)",u=(0,Je.j6)(n,"firestore").getImmediate({identifier:o});if(!u._initialized){const l=(0,ee.yU)("firestore");l&&function yy(i,e,n,o={}){var u;const l=(i=er(i,yd))._getSettings(),f=`${e}:${n}`;if("firestore.googleapis.com"!==l.host&&l.host!==f&&Es("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),i._setSettings(Object.assign(Object.assign({},l),{host:f,ssl:!1})),o.mockUserToken){let E,x;if("string"==typeof o.mockUserToken)E=o.mockUserToken,x=tr.MOCK_USER;else{E=(0,ee.Fy)(o.mockUserToken,null===(u=i._app)||void 0===u?void 0:u.options.projectId);const P=o.mockUserToken.sub||o.mockUserToken.user_id;if(!P)throw new Ve(Se.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");x=new tr(P)}i._authCredentials=new qa(new nc(E,x))}}(u,...l)}return u}function Gi(i){return i._firestoreClient||Bg(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function Bg(i){var e,n,o;const u=i._freezeSettings(),l=(E=(null===(e=i._app)||void 0===e?void 0:e.options.appId)||"",new kc(i._databaseId,E,i._persistenceKey,(P=u).host,P.ssl,P.experimentalForceLongPolling,P.experimentalAutoDetectLongPolling,Qf(P.experimentalLongPollingOptions),P.useFetchStreams));var E,P;i._firestoreClient=new t_(i._authCredentials,i._appCheckCredentials,i._queue,l),null!==(n=u.cache)&&void 0!==n&&n._offlineComponentProvider&&null!==(o=u.cache)&&void 0!==o&&o._onlineComponentProvider&&(i._firestoreClient._uninitializedComponentsProvider={_offlineKind:u.cache.kind,_offline:u.cache._offlineComponentProvider,_online:u.cache._onlineComponentProvider})}class vl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new vl(ki.fromBase64String(e))}catch(n){throw new Ve(Se.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new vl(ki.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class _l{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new Ve(Se.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new bt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Id{constructor(e){this._methodName=e}}class $g{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ve(Se.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ve(Se.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return St(this._lat,e._lat)||St(this._long,e._long)}}const v_=/^__.*__$/;class vy{constructor(e,n,o){this.data=e,this.fieldMask=n,this.fieldTransforms=o}toMutation(e,n){return null!==this.fieldMask?new ka(e,this.data,this.fieldMask,n,this.fieldTransforms):new Au(e,this.data,n,this.fieldTransforms)}}class Jf{constructor(e,n,o){this.data=e,this.fieldMask=n,this.fieldTransforms=o}toMutation(e,n){return new ka(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function _y(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Et()}}class Il{constructor(e,n,o,u,l,f){this.settings=e,this.databaseId=n,this.serializer=o,this.ignoreUndefinedProperties=u,void 0===l&&this.ua(),this.fieldTransforms=l||[],this.fieldMask=f||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new Il(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var n;const o=null===(n=this.path)||void 0===n?void 0:n.child(e),u=this.aa({path:o,la:!1});return u.fa(e),u}da(e){var n;const o=null===(n=this.path)||void 0===n?void 0:n.child(e),u=this.aa({path:o,la:!1});return u.ua(),u}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return ua(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(_y(this.ca)&&v_.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class __{constructor(e,n,o){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=o||ul(e)}ya(e,n,o,u=!1){return new Il({ca:e,methodName:n,ga:o,path:bt.emptyPath(),la:!1,ma:u},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function wl(i){const e=i._freezeSettings(),n=ul(i._databaseId);return new __(i._databaseId,!!e.ignoreUndefinedProperties,n)}function ep(i,e,n,o,u,l={}){const f=i.ya(l.merge||l.mergeFields?2:0,e,n,u);Wg("Data must be an object, but it was:",f,o);const E=w_(o,f);let x,P;if(l.merge)x=new os(f.fieldMask),P=f.fieldTransforms;else if(l.mergeFields){const z=[];for(const J of l.mergeFields){const De=Ih(e,J,n);if(!f.contains(De))throw new Ve(Se.INVALID_ARGUMENT,`Field '${De}' is specified in your field mask but missing from your input data.`);wd(z,De)||z.push(De)}x=new os(z),P=f.fieldTransforms.filter(J=>x.covers(J.field))}else x=null,P=f.fieldTransforms;return new vy(new Tr(E),x,P)}class vh extends Id{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof vh}}function Mc(i,e){if(_h(i=(0,ee.Ku)(i)))return Wg("Unsupported field value:",e,i),w_(i,e);if(i instanceof Id)return function(n,o){if(!_y(o.ca))throw o._a(`${n._methodName}() can only be used with update() and set()`);if(!o.path)throw o._a(`${n._methodName}() is not currently supported inside arrays`);const u=n._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(i,e),null;if(void 0===i&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(n,o){const u=[];let l=0;for(const f of n){let E=Mc(f,o.wa(l));null==E&&(E={nullValue:"NULL_VALUE"}),u.push(E),l++}return{arrayValue:{values:u}}}(i,e)}return function(n,o){if(null===(n=(0,ee.Ku)(n)))return{nullValue:"NULL_VALUE"};if("number"==typeof n)return pm(o.serializer,n);if("boolean"==typeof n)return{booleanValue:n};if("string"==typeof n)return{stringValue:n};if(n instanceof Date){const u=xr.fromDate(n);return{timestampValue:vc(o.serializer,u)}}if(n instanceof xr){const u=new xr(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:vc(o.serializer,u)}}if(n instanceof $g)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof vl)return{bytesValue:wm(o.serializer,n._byteString)};if(n instanceof Li){const u=o.databaseId,l=n.firestore._databaseId;if(!l.isEqual(u))throw o._a(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Ap(n.firestore._databaseId||o.databaseId,n._key.path)}}throw o._a(`Unsupported field value: ${yl(n)}`)}(i,e)}function w_(i,e){const n={};return Du(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Lo(i,(o,u)=>{const l=Mc(u,e.ha(o));null!=l&&(n[o]=l)}),{mapValue:{fields:n}}}function _h(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof xr||i instanceof $g||i instanceof vl||i instanceof Li||i instanceof Id)}function Wg(i,e,n){if(!_h(n)||"object"!=typeof(o=n)||null===o||Object.getPrototypeOf(o)!==Object.prototype&&null!==Object.getPrototypeOf(o)){const o=yl(n);throw e._a("an object"===o?i+" a custom object":i+" "+o)}var o}function Ih(i,e,n){if((e=(0,ee.Ku)(e))instanceof _l)return e._internalPath;if("string"==typeof e)return tp(i,e);throw ua("Field path arguments must be of type string or ",i,!1,void 0,n)}const Kg=new RegExp("[~\\*/\\[\\]]");function tp(i,e,n){if(e.search(Kg)>=0)throw ua(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new _l(...e.split("."))._internalPath}catch{throw ua(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function ua(i,e,n,o,u){const l=o&&!o.isEmpty(),f=void 0!==u;let E=`Function ${e}() called with invalid data`;n&&(E+=" (via `toFirestore()`)"),E+=". ";let x="";return(l||f)&&(x+=" (found",l&&(x+=` in field ${o}`),f&&(x+=` in document ${u}`),x+=")"),new Ve(Se.INVALID_ARGUMENT,E+i+x)}function wd(i,e){return i.some(n=>n.isEqual(e))}class ts{constructor(e,n,o,u,l){this._firestore=e,this._userDataWriter=n,this._key=o,this._document=u,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Li(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new El(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Dl("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class El extends ts{data(){return super.data()}}function Dl(i,e){return"string"==typeof e?tp(i,e):e instanceof _l?e._internalPath:e._delegate._internalPath}class wh{}class Ru extends wh{}function Ed(i,e,...n){let o=[];e instanceof wh&&o.push(e),o=o.concat(n),function(u){const l=u.filter(E=>E instanceof hu).length,f=u.filter(E=>E instanceof Ou).length;if(l>1||l>0&&f>0)throw new Ve(Se.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(o);for(const u of o)i=u._apply(i);return i}class Ou extends Ru{constructor(e,n,o){super(),this._field=e,this._op=n,this._value=o,this.type="where"}static _create(e,n,o){return new Ou(e,n,o)}_apply(e){const n=this._parse(e);return M_(e._query,n),new ls(e.firestore,e.converter,Od(e._query,n))}_parse(e){const n=wl(e.firestore);return function(u,l,f,E,x,P,z){let J;if(x.isKeyField()){if("array-contains"===P||"array-contains-any"===P)throw new Ve(Se.INVALID_ARGUMENT,`Invalid Query. You can't perform '${P}' queries on documentId().`);if("in"===P||"not-in"===P){S_(z,P);const De=[];for(const Re of z)De.push(Ty(E,u,Re));J={arrayValue:{values:De}}}else J=Ty(E,u,z)}else"in"!==P&&"not-in"!==P&&"array-contains-any"!==P||S_(z,P),J=function Gg(i,e,n,o=!1){return Mc(n,i.ya(o?4:3,e))}(f,"where",z,"in"===P||"not-in"===P);return R.create(x,P,J)}(e._query,0,n,e.firestore._databaseId,this._field,this._op,this._value)}}function Dd(i,e,n){const o=e,u=Dl("where",i);return Ou._create(u,o,n)}class hu extends wh{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new hu(e,n)}_parse(e){const n=this._queryConstraints.map(o=>o._parse(e)).filter(o=>o.getFilters().length>0);return 1===n.length?n[0]:H.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return 0===n.getFilters().length?e:(function(o,u){let l=o;const f=u.getFlattenedFilters();for(const E of f)M_(l,E),l=Od(l,E)}(e._query,n),new ls(e.firestore,e.converter,Od(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}function Ty(i,e,n){if("string"==typeof(n=(0,ee.Ku)(n))){if(""===n)throw new Ve(Se.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ou(e)&&-1!==n.indexOf("/"))throw new Ve(Se.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const o=e.path.child(zn.fromString(n));if(!dt.isDocumentKey(o))throw new Ve(Se.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${o}' is not because it has an odd number of segments (${o.length}).`);return wo(i,new dt(o))}if(n instanceof Li)return wo(i,n._key);throw new Ve(Se.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${yl(n)}.`)}function S_(i,e){if(!Array.isArray(i)||0===i.length)throw new Ve(Se.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function M_(i,e){if(e.isInequality()){const o=su(i),u=e.field;if(null!==o&&!o.isEqual(u))throw new Ve(Se.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${o.toString()}' and '${u.toString()}'`);const l=Cs(i);null!==l&&function Cy(i,e,n){if(!n.isEqual(e))throw new Ve(Se.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}(0,u,l)}const n=function(o,u){for(const l of o)for(const f of l.getFlattenedFilters())if(u.indexOf(f.op)>=0)return f.op;return null}(i.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==n)throw new Ve(Se.INVALID_ARGUMENT,n===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class x_{convertValue(e,n="none"){switch(Uo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return mi(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(vo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw Et()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const o={};return Lo(e,(u,l)=>{o[u]=this.convertValue(l,n)}),o}convertGeoPoint(e){return new $g(mi(e.latitude),mi(e.longitude))}convertArray(e,n){return(e.values||[]).map(o=>this.convertValue(o,n))}convertServerTimestamp(e,n){switch(n){case"previous":const o=xl(e);return null==o?null:this.convertValue(o,n);case"estimate":return this.convertTimestamp(_o(e));default:return null}}convertTimestamp(e){const n=js(e);return new xr(n.seconds,n.nanos)}convertDocumentKey(e,n){const o=zn.fromString(e);Rt(mv(o));const u=new $s(o.get(1),o.get(3)),l=new dt(o.popFirst(5));return u.isEqual(n)||$r(`Document ${l} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}class Xu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Yu extends ts{constructor(e,n,o,u,l,f){super(e,n,o,u,f),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Sh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const o=this._document.data.field(Dl("DocumentSnapshot.get",e));if(null!==o)return this._userDataWriter.convertValue(o,n.serverTimestamps)}}}class Sh extends Yu{data(e={}){return super.data(e)}}class Pu{constructor(e,n,o,u){this._firestore=e,this._userDataWriter=n,this._snapshot=u,this.metadata=new Xu(u.hasPendingWrites,u.fromCache),this.query=o}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(o=>{e.call(n,new Sh(this._firestore,this._userDataWriter,o.key,o,new Xu(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ve(Se.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let l=0;return o._snapshot.docChanges.map(f=>({type:"added",doc:new Sh(o._firestore,o._userDataWriter,f.doc.key,f.doc,new Xu(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter),oldIndex:-1,newIndex:l++}))}{let l=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(f=>u||3!==f.type).map(f=>{const E=new Sh(o._firestore,o._userDataWriter,f.doc.key,f.doc,new Xu(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);let x=-1,P=-1;return 0!==f.type&&(x=l.indexOf(f.doc.key),l=l.delete(f.doc.key)),1!==f.type&&(l=l.add(f.doc),P=l.indexOf(f.doc.key)),{type:Sy(f.type),doc:E,oldIndex:x,newIndex:P}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Sy(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Et()}}class Nc extends x_{constructor(e){super(),this.firestore=e}convertBytes(e){return new vl(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Li(this.firestore,null,n)}}function R_(i){i=er(i,ls);const e=er(i.firestore,zr),n=Gi(e),o=new Nc(e);return function ca(i){if("L"===i.limitType&&0===i.explicitOrderBy.length)throw new Ve(Se.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(i._query),gy(n,i._query).then(u=>new Pu(e,o,i,u))}function w0(i,e,n,...o){i=er(i,Li);const u=er(i.firestore,zr),l=wl(u);let f;return f="string"==typeof(e=(0,ee.Ku)(e))||e instanceof _l?function Dy(i,e,n,o,u,l){const f=i.ya(1,e,n),E=[Ih(e,o,n)],x=[u];if(l.length%2!=0)throw new Ve(Se.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let De=0;De<l.length;De+=2)E.push(Ih(e,l[De])),x.push(l[De+1]);const P=[],z=Tr.empty();for(let De=E.length-1;De>=0;--De)if(!wd(P,E[De])){const Re=E[De];let ot=x[De];ot=(0,ee.Ku)(ot);const Tt=f.da(Re);if(ot instanceof vh)P.push(Re);else{const Mt=Mc(ot,Tt);null!=Mt&&(P.push(Re),z.set(Re,Mt))}}const J=new os(P);return new Jf(z,J,f.fieldTransforms)}(l,"updateDoc",i._key,e,n,o):function zg(i,e,n,o){const u=i.ya(1,e,n);Wg("Data must be an object, but it was:",u,o);const l=[],f=Tr.empty();Lo(o,(x,P)=>{const z=tp(e,x,n);P=(0,ee.Ku)(P);const J=u.da(z);if(P instanceof vh)l.push(z);else{const De=Mc(P,J);null!=De&&(l.push(z),f.set(z,De))}});const E=new os(l);return new Jf(f,E,u.fieldTransforms)}(l,"updateDoc",i._key,e),Td(u,[f.toMutation(i._key,Qr.exists(!0))])}function O_(i){return Td(er(i.firestore,zr),[new yc(i._key,Qr.none())])}function P_(i,e){const n=er(i.firestore,zr),o=Yf(i),u=function rp(i,e,n){let o;return o=i?n&&(n.merge||n.mergeFields)?i.toFirestore(e,n):i.toFirestore(e):e,o}(i.converter,e);return Td(n,[ep(wl(i.firestore),"addDoc",o._key,u,null!==i.converter,{}).toMutation(o._key,Qr.exists(!1))]).then(()=>o)}function Td(i,e){return function(n,o){const u=new ri;return n.asyncQueue.enqueueAndForget((0,Z.A)(function*(){return function Kv(i,e,n){return Ig.apply(this,arguments)}(yield function Kf(i){return so(i).then(e=>e.syncEngine)}(n),o,u)})),u.promise}(Gi(i),e)}!function(i,e=!0){lr=Je.MF,(0,Je.om)(new Be.uA("firestore",(n,{instanceIdentifier:o,options:u})=>{const l=n.getProvider("app").getImmediate(),f=new zr(new Vu(n.getProvider("auth-internal")),new go(n.getProvider("app-check-internal")),function(E,x){if(!Object.prototype.hasOwnProperty.apply(E.options,["projectId"]))throw new Ve(Se.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $s(E.options.projectId,x)}(l,o),l);return u=Object.assign({useFetchStreams:e},u),f._setSettings(u),f},"PUBLIC").setMultipleInstances(!0)),(0,Je.KO)(ws,"3.13.0",i),(0,Je.KO)(ws,"3.13.0","esm2017")}();class Cd{constructor(e){return e}}const Zg="firestore",up=new ie.nKC("angularfire2.firestore-instances");function $y(i){return(e,n)=>{const o=e.runOutsideAngular(()=>i(n));return new Cd(o)}}const G_={provide:class H_{constructor(){return(0,S.CA)(Zg)}},deps:[[new ie.Xx1,up]]},W_={provide:Cd,useFactory:function jy(i,e){const n=(0,S.lR)(Zg,i,e);return n&&new Cd(n)},deps:[[new ie.Xx1,up],Te.XU]};let K_=(()=>{class i{constructor(){(0,fe.KO)("angularfire",S.xv.full,"fst")}}return i.\u0275fac=function(n){return new(n||i)},i.\u0275mod=ie.$C({type:i}),i.\u0275inj=ie.G2t({providers:[W_,G_]}),i})();function Hy(i,...e){return{ngModule:K_,providers:[{provide:up,useFactory:$y(i),multi:!0,deps:[ie.SKi,ie.zZn,S.u0,Te.gL,[new ie.Xx1,ce.DF],[new ie.Xx1,Q.kR],...e]}]}}const cp=(0,S.S3)(P_,!0),Jg=(0,S.S3)(l_,!0),nI=(0,S.S3)(O_,!0),x0=(0,S.S3)(Yf,!0),oI=(0,S.S3)(R_,!0),Ad=(0,S.S3)(f_,!0),hI=(0,S.S3)(Ed,!0),em=(0,S.S3)(w0,!0),gI=(0,S.S3)(Dd,!0)},9126:(Wt,ze,K)=>{K.d(ze,{xv:()=>Vo,u0:()=>Nd,CA:()=>Tu,lR:()=>Lc,S3:()=>Cu});var S=K(540),ie=K(7037),ce=K(467),Te=K(2979),fe=K(1401),Q=K(8779),Z=K(5398);const Je=(I,A)=>A.some(R=>I instanceof R);let Be,re;const Oe=new WeakMap,de=new WeakMap,ut=new WeakMap,st=new WeakMap,Gt=new WeakMap;let Un={get(I,A,R){if(I instanceof IDBTransaction){if("done"===A)return de.get(I);if("objectStoreNames"===A)return I.objectStoreNames||ut.get(I);if("store"===A)return R.objectStoreNames[1]?void 0:R.objectStore(R.objectStoreNames[0])}return it(I[A])},set:(I,A,R)=>(I[A]=R,!0),has:(I,A)=>I instanceof IDBTransaction&&("done"===A||"store"===A)||A in I};function Fe(I){return"function"==typeof I?function Ze(I){return I!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function _e(){return re||(re=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(I)?function(...A){return I.apply(gt(this),A),it(Oe.get(this))}:function(...A){return it(I.apply(gt(this),A))}:function(A,...R){const H=I.call(gt(this),A,...R);return ut.set(H,A.sort?A.sort():[A]),it(H)}}(I):(I instanceof IDBTransaction&&function Bn(I){if(de.has(I))return;const A=new Promise((R,H)=>{const ne=()=>{I.removeEventListener("complete",he),I.removeEventListener("error",xe),I.removeEventListener("abort",xe)},he=()=>{R(),ne()},xe=()=>{H(I.error||new DOMException("AbortError","AbortError")),ne()};I.addEventListener("complete",he),I.addEventListener("error",xe),I.addEventListener("abort",xe)});de.set(I,A)}(I),Je(I,function ee(){return Be||(Be=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(I,Un):I)}function it(I){if(I instanceof IDBRequest)return function Ut(I){const A=new Promise((R,H)=>{const ne=()=>{I.removeEventListener("success",he),I.removeEventListener("error",xe)},he=()=>{R(it(I.result)),ne()},xe=()=>{H(I.error),ne()};I.addEventListener("success",he),I.addEventListener("error",xe)});return A.then(R=>{R instanceof IDBCursor&&Oe.set(R,I)}).catch(()=>{}),Gt.set(A,I),A}(I);if(st.has(I))return st.get(I);const A=Fe(I);return A!==I&&(st.set(I,A),Gt.set(A,I)),A}const gt=I=>Gt.get(I),hn=["get","getKey","getAll","getAllKeys","count"],Nn=["put","add","delete","clear"],Cr=new Map;function et(I,A){if(!(I instanceof IDBDatabase)||A in I||"string"!=typeof A)return;if(Cr.get(A))return Cr.get(A);const R=A.replace(/FromIndex$/,""),H=A!==R,ne=Nn.includes(R);if(!(R in(H?IDBIndex:IDBObjectStore).prototype)||!ne&&!hn.includes(R))return;const he=function(){var xe=(0,ce.A)(function*(lt,...pt){const Ot=this.transaction(lt,ne?"readwrite":"readonly");let sn=Ot.store;return H&&(sn=sn.index(pt.shift())),(yield Promise.all([sn[R](...pt),ne&&Ot.done]))[0]});return function(pt){return xe.apply(this,arguments)}}();return Cr.set(A,he),he}!function Pe(I){Un=I(Un)}(I=>({...I,get:(A,R,H)=>et(A,R)||I.get(A,R,H),has:(A,R)=>!!et(A,R)||I.has(A,R)}));const We="@firebase/installations",wn="0.6.4",ct=1e4,jt=`w:${wn}`,sr="FIS_v2",Zr="https://firebaseinstallations.googleapis.com/v1",Ie=36e5,Ke=new fe.FA("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Qe(I){return I instanceof fe.g&&I.code.includes("request-failed")}function nt({projectId:I}){return`${Zr}/projects/${I}/installations`}function _t(I){return{token:I.token,requestStatus:2,expiresIn:or(I.expiresIn),creationTime:Date.now()}}function un(I,A){return Ft.apply(this,arguments)}function Ft(){return(Ft=(0,ce.A)(function*(I,A){const H=(yield A.json()).error;return Ke.create("request-failed",{requestName:I,serverCode:H.code,serverMessage:H.message,serverStatus:H.status})})).apply(this,arguments)}function Tn({apiKey:I}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":I})}function vr(I){return Qt.apply(this,arguments)}function Qt(){return(Qt=(0,ce.A)(function*(I){const A=yield I();return A.status>=500&&A.status<600?I():A})).apply(this,arguments)}function or(I){return Number(I.replace("s","000"))}function nr(){return(nr=(0,ce.A)(function*({appConfig:I,heartbeatServiceProvider:A},{fid:R}){const H=nt(I),ne=Tn(I),he=A.getImmediate({optional:!0});if(he){const Ot=yield he.getHeartbeatsHeader();Ot&&ne.append("x-firebase-client",Ot)}const lt={method:"POST",headers:ne,body:JSON.stringify({fid:R,authVersion:sr,appId:I.appId,sdkVersion:jt})},pt=yield vr(()=>fetch(H,lt));if(pt.ok){const Ot=yield pt.json();return{fid:Ot.fid||R,registrationStatus:2,refreshToken:Ot.refreshToken,authToken:_t(Ot.authToken)}}throw yield un("Create Installation",pt)})).apply(this,arguments)}function $t(I){return new Promise(A=>{setTimeout(A,I)})}const gn=/^[cdef][\w-]{21}$/,Yn="";function Jt(){try{const I=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(I),I[0]=112+I[0]%16;const R=function qt(I){return function Pr(I){return btoa(String.fromCharCode(...I)).replace(/\+/g,"-").replace(/\//g,"_")}(I).substr(0,22)}(I);return gn.test(R)?R:Yn}catch{return Yn}}function Wn(I){return`${I.appName}!${I.appId}`}const _r=new Map;function br(I,A){const R=Wn(I);Ar(R,A),function bn(I,A){const R=function yt(){return!Ni&&"BroadcastChannel"in self&&(Ni=new BroadcastChannel("[Firebase] FID Change"),Ni.onmessage=I=>{Ar(I.data.key,I.data.fid)}),Ni}();R&&R.postMessage({key:I,fid:A}),function vi(){0===_r.size&&Ni&&(Ni.close(),Ni=null)}()}(R,A)}function Ar(I,A){const R=_r.get(I);if(R)for(const H of R)H(A)}let Ni=null;const Jr="firebase-installations-database",fr=1,Sr="firebase-installations-store";let ei=null;function Pt(){return ei||(ei=function Ge(I,A,{blocked:R,upgrade:H,blocking:ne,terminated:he}={}){const xe=indexedDB.open(I,A),lt=it(xe);return H&&xe.addEventListener("upgradeneeded",pt=>{H(it(xe.result),pt.oldVersion,pt.newVersion,it(xe.transaction))}),R&&xe.addEventListener("blocked",()=>R()),lt.then(pt=>{he&&pt.addEventListener("close",()=>he()),ne&&pt.addEventListener("versionchange",()=>ne())}).catch(()=>{}),lt}(Jr,fr,{upgrade:(I,A)=>{0===A&&I.createObjectStore(Sr)}})),ei}function kr(I,A){return oi.apply(this,arguments)}function oi(){return(oi=(0,ce.A)(function*(I,A){const R=Wn(I),ne=(yield Pt()).transaction(Sr,"readwrite"),he=ne.objectStore(Sr),xe=yield he.get(R);return yield he.put(A,R),yield ne.done,(!xe||xe.fid!==A.fid)&&br(I,A.fid),A})).apply(this,arguments)}function zt(I){return qn.apply(this,arguments)}function qn(){return(qn=(0,ce.A)(function*(I){const A=Wn(I),H=(yield Pt()).transaction(Sr,"readwrite");yield H.objectStore(Sr).delete(A),yield H.done})).apply(this,arguments)}function ln(I,A){return pr.apply(this,arguments)}function pr(){return(pr=(0,ce.A)(function*(I,A){const R=Wn(I),ne=(yield Pt()).transaction(Sr,"readwrite"),he=ne.objectStore(Sr),xe=yield he.get(R),lt=A(xe);return void 0===lt?yield he.delete(R):yield he.put(lt,R),yield ne.done,lt&&(!xe||xe.fid!==lt.fid)&&br(I,lt.fid),lt})).apply(this,arguments)}function te(I){return B.apply(this,arguments)}function B(){return B=(0,ce.A)(function*(I){let A;const R=yield ln(I.appConfig,H=>{const ne=function $(I){return Bt(I||{fid:Jt(),registrationStatus:0})}(H),he=function j(I,A){if(0===A.registrationStatus){if(!navigator.onLine)return{installationEntry:A,registrationPromise:Promise.reject(Ke.create("app-offline"))};const R={fid:A.fid,registrationStatus:1,registrationTime:Date.now()},H=function G(I,A){return le.apply(this,arguments)}(I,R);return{installationEntry:R,registrationPromise:H}}return 1===A.registrationStatus?{installationEntry:A,registrationPromise:je(I)}:{installationEntry:A}}(I,ne);return A=he.registrationPromise,he.installationEntry});return R.fid===Yn?{installationEntry:yield A}:{installationEntry:R,registrationPromise:A}}),B.apply(this,arguments)}function le(){return le=(0,ce.A)(function*(I,A){try{const R=yield function xt(I,A){return nr.apply(this,arguments)}(I,A);return kr(I.appConfig,R)}catch(R){throw Qe(R)&&409===R.customData.serverCode?yield zt(I.appConfig):yield kr(I.appConfig,{fid:A.fid,registrationStatus:0}),R}}),le.apply(this,arguments)}function je(I){return ht.apply(this,arguments)}function ht(){return(ht=(0,ce.A)(function*(I){let A=yield Vt(I.appConfig);for(;1===A.registrationStatus;)yield $t(100),A=yield Vt(I.appConfig);if(0===A.registrationStatus){const{installationEntry:R,registrationPromise:H}=yield te(I);return H||R}return A})).apply(this,arguments)}function Vt(I){return ln(I,A=>{if(!A)throw Ke.create("installation-not-found");return Bt(A)})}function Bt(I){return function vn(I){return 1===I.registrationStatus&&I.registrationTime+ct<Date.now()}(I)?{fid:I.fid,registrationStatus:0}:I}function ar(){return(ar=(0,ce.A)(function*({appConfig:I,heartbeatServiceProvider:A},R){const H=function ai(I,{fid:A}){return`${nt(I)}/${A}/authTokens:generate`}(I,R),ne=function pn(I,{refreshToken:A}){const R=Tn(I);return R.append("Authorization",function cn(I){return`${sr} ${I}`}(A)),R}(I,R),he=A.getImmediate({optional:!0});if(he){const Ot=yield he.getHeartbeatsHeader();Ot&&ne.append("x-firebase-client",Ot)}const lt={method:"POST",headers:ne,body:JSON.stringify({installation:{sdkVersion:jt,appId:I.appId}})},pt=yield vr(()=>fetch(H,lt));if(pt.ok)return _t(yield pt.json());throw yield un("Generate Auth Token",pt)})).apply(this,arguments)}function Ti(I){return Ci.apply(this,arguments)}function Ci(){return Ci=(0,ce.A)(function*(I,A=!1){let R;const H=yield ln(I.appConfig,he=>{if(!wt(he))throw Ke.create("not-registered");const xe=he.authToken;if(!A&&function on(I){return 2===I.requestStatus&&!function Ir(I){const A=Date.now();return A<I.creationTime||I.creationTime+I.expiresIn<A+Ie}(I)}(xe))return he;if(1===xe.requestStatus)return R=function Ne(I,A){return ve.apply(this,arguments)}(I,A),he;{if(!navigator.onLine)throw Ke.create("app-offline");const lt=function jn(I){const A={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},I),{authToken:A})}(he);return R=function vt(I,A){return Kt.apply(this,arguments)}(I,lt),lt}});return R?yield R:H.authToken}),Ci.apply(this,arguments)}function ve(){return(ve=(0,ce.A)(function*(I,A){let R=yield Xe(I.appConfig);for(;1===R.authToken.requestStatus;)yield $t(100),R=yield Xe(I.appConfig);const H=R.authToken;return 0===H.requestStatus?Ti(I,A):H})).apply(this,arguments)}function Xe(I){return ln(I,A=>{if(!wt(A))throw Ke.create("not-registered");return function ui(I){return 1===I.requestStatus&&I.requestTime+ct<Date.now()}(A.authToken)?Object.assign(Object.assign({},A),{authToken:{requestStatus:0}}):A})}function Kt(){return Kt=(0,ce.A)(function*(I,A){try{const R=yield function tn(I,A){return ar.apply(this,arguments)}(I,A),H=Object.assign(Object.assign({},A),{authToken:R});return yield kr(I.appConfig,H),R}catch(R){if(!Qe(R)||401!==R.customData.serverCode&&404!==R.customData.serverCode){const H=Object.assign(Object.assign({},A),{authToken:{requestStatus:0}});yield kr(I.appConfig,H)}else yield zt(I.appConfig);throw R}}),Kt.apply(this,arguments)}function wt(I){return void 0!==I&&2===I.registrationStatus}function Ns(){return(Ns=(0,ce.A)(function*(I){const A=I,{installationEntry:R,registrationPromise:H}=yield te(A);return H?H.catch(console.error):Ti(A).catch(console.error),R.fid})).apply(this,arguments)}function bi(){return bi=(0,ce.A)(function*(I,A=!1){const R=I;return yield function _i(I){return Ii.apply(this,arguments)}(R),(yield Ti(R,A)).token}),bi.apply(this,arguments)}function Ii(){return(Ii=(0,ce.A)(function*(I){const{registrationPromise:A}=yield te(I);A&&(yield A)})).apply(this,arguments)}function ae(I){return Ke.create("missing-app-config-values",{valueName:I})}const we="installations",rt=I=>{const A=I.getProvider("app").getImmediate(),R=function se(I){if(!I||!I.options)throw ae("App Configuration");if(!I.name)throw ae("App Name");const A=["projectId","apiKey","appId"];for(const R of A)if(!I.options[R])throw ae(R);return{appName:I.name,projectId:I.options.projectId,apiKey:I.options.apiKey,appId:I.options.appId}}(A);return{app:A,appConfig:R,heartbeatServiceProvider:(0,Te.j6)(A,"heartbeat"),_delete:()=>Promise.resolve()}},kt=I=>{const A=I.getProvider("app").getImmediate(),R=(0,Te.j6)(A,we).getImmediate();return{getId:()=>function zs(I){return Ns.apply(this,arguments)}(R),getToken:ne=>function Lr(I){return bi.apply(this,arguments)}(R,ne)}};(function mn(){(0,Te.om)(new Q.uA(we,rt,"PUBLIC")),(0,Te.om)(new Q.uA("installations-internal",kt,"PRIVATE"))})(),(0,Te.KO)(We,wn),(0,Te.KO)(We,wn,"esm2017");const en="@firebase/remote-config",Qn=new fe.FA("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class an{constructor(A,R,H,ne){this.client=A,this.storage=R,this.storageCache=H,this.logger=ne}isCachedDataFresh(A,R){if(!R)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const H=Date.now()-R,ne=H<=A;return this.logger.debug(`Config fetch cache check. Cache age millis: ${H}. Cache max age millis (minimumFetchIntervalMillis setting): ${A}. Is cache hit: ${ne}.`),ne}fetch(A){var R=this;return(0,ce.A)(function*(){const[H,ne]=yield Promise.all([R.storage.getLastSuccessfulFetchTimestampMillis(),R.storage.getLastSuccessfulFetchResponse()]);if(ne&&R.isCachedDataFresh(A.cacheMaxAgeMillis,H))return ne;A.eTag=ne&&ne.eTag;const he=yield R.client.fetch(A),xe=[R.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===he.status&&xe.push(R.storage.setLastSuccessfulFetchResponse(he)),yield Promise.all(xe),he})()}}function Rn(I=navigator){return I.languages&&I.languages[0]||I.language}class Xt{constructor(A,R,H,ne,he,xe){this.firebaseInstallations=A,this.sdkVersion=R,this.namespace=H,this.projectId=ne,this.apiKey=he,this.appId=xe}fetch(A){var R=this;return(0,ce.A)(function*(){const[H,ne]=yield Promise.all([R.firebaseInstallations.getId(),R.firebaseInstallations.getToken()]),xe=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${R.projectId}/namespaces/${R.namespace}:fetch?key=${R.apiKey}`,lt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":A.eTag||"*"},pt={sdk_version:R.sdkVersion,app_instance_id:H,app_instance_id_token:ne,app_id:R.appId,language_code:Rn()},Ot={method:"POST",headers:lt,body:JSON.stringify(pt)},sn=fetch(xe,Ot),fn=new Promise((Do,nu)=>{A.signal.addEventListener(()=>{const si=new Error("The operation was aborted.");si.name="AbortError",nu(si)})});let Hs;try{yield Promise.race([sn,fn]),Hs=yield sn}catch(Do){let nu="fetch-client-network";throw"AbortError"===Do?.name&&(nu="fetch-timeout"),Qn.create(nu,{originalErrorMessage:Do?.message})}let Ji=Hs.status;const Uc=Hs.headers.get("ETag")||void 0;let lc,Eo;if(200===Hs.status){let Do;try{Do=yield Hs.json()}catch(nu){throw Qn.create("fetch-client-parse",{originalErrorMessage:nu?.message})}lc=Do.entries,Eo=Do.state}if("INSTANCE_STATE_UNSPECIFIED"===Eo?Ji=500:"NO_CHANGE"===Eo?Ji=304:("NO_TEMPLATE"===Eo||"EMPTY_CONFIG"===Eo)&&(lc={}),304!==Ji&&200!==Ji)throw Qn.create("fetch-status",{httpStatus:Ji});return{status:Ji,eTag:Uc,config:lc}})()}}class Wo{constructor(A,R){this.client=A,this.storage=R}fetch(A){var R=this;return(0,ce.A)(function*(){const H=(yield R.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return R.attemptFetch(A,H)})()}attemptFetch(A,R){var H=this;return(0,ce.A)(function*(ne,{throttleEndTimeMillis:he,backoffCount:xe}){yield function qi(I,A){return new Promise((R,H)=>{const ne=Math.max(A-Date.now(),0),he=setTimeout(R,ne);I.addEventListener(()=>{clearTimeout(he),H(Qn.create("fetch-throttle",{throttleEndTimeMillis:A}))})})}(ne.signal,he);try{const lt=yield H.client.fetch(ne);return yield H.storage.deleteThrottleMetadata(),lt}catch(lt){if(!function Rr(I){if(!(I instanceof fe.g&&I.customData))return!1;const A=Number(I.customData.httpStatus);return 429===A||500===A||503===A||504===A}(lt))throw lt;const pt={throttleEndTimeMillis:Date.now()+(0,fe.p9)(xe),backoffCount:xe+1};return yield H.storage.setThrottleMetadata(pt),H.attemptFetch(ne,pt)}}).apply(this,arguments)}}class Ha{constructor(A,R,H,ne,he){this.app=A,this._client=R,this._storageCache=H,this._storage=ne,this._logger=he,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function ao(I,A){const R=I.target.error||void 0;return Qn.create(A,{originalErrorMessage:R&&R?.message})}const Xn="app_namespace_store";class li{constructor(A,R,H,ne=function On(){return new Promise((I,A)=>{try{const R=indexedDB.open("firebase_remote_config",1);R.onerror=H=>{A(ao(H,"storage-open"))},R.onsuccess=H=>{I(H.target.result)},R.onupgradeneeded=H=>{0===H.oldVersion&&H.target.result.createObjectStore(Xn,{keyPath:"compositeKey"})}}catch(R){A(Qn.create("storage-open",{originalErrorMessage:R?.message}))}})}()){this.appId=A,this.appName=R,this.namespace=H,this.openDbPromise=ne}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(A){return this.set("last_fetch_status",A)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(A){return this.set("last_successful_fetch_timestamp_millis",A)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(A){return this.set("last_successful_fetch_response",A)}getActiveConfig(){return this.get("active_config")}setActiveConfig(A){return this.set("active_config",A)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(A){return this.set("active_config_etag",A)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(A){return this.set("throttle_metadata",A)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(A){var R=this;return(0,ce.A)(function*(){const H=yield R.openDbPromise;return new Promise((ne,he)=>{const lt=H.transaction([Xn],"readonly").objectStore(Xn),pt=R.createCompositeKey(A);try{const Ot=lt.get(pt);Ot.onerror=sn=>{he(ao(sn,"storage-get"))},Ot.onsuccess=sn=>{const fn=sn.target.result;ne(fn?fn.value:void 0)}}catch(Ot){he(Qn.create("storage-get",{originalErrorMessage:Ot?.message}))}})})()}set(A,R){var H=this;return(0,ce.A)(function*(){const ne=yield H.openDbPromise;return new Promise((he,xe)=>{const pt=ne.transaction([Xn],"readwrite").objectStore(Xn),Ot=H.createCompositeKey(A);try{const sn=pt.put({compositeKey:Ot,value:R});sn.onerror=fn=>{xe(ao(fn,"storage-set"))},sn.onsuccess=()=>{he()}}catch(sn){xe(Qn.create("storage-set",{originalErrorMessage:sn?.message}))}})})()}delete(A){var R=this;return(0,ce.A)(function*(){const H=yield R.openDbPromise;return new Promise((ne,he)=>{const lt=H.transaction([Xn],"readwrite").objectStore(Xn),pt=R.createCompositeKey(A);try{const Ot=lt.delete(pt);Ot.onerror=sn=>{he(ao(sn,"storage-delete"))},Ot.onsuccess=()=>{ne()}}catch(Ot){he(Qn.create("storage-delete",{originalErrorMessage:Ot?.message}))}})})()}createCompositeKey(A){return[this.appId,this.appName,this.namespace,A].join()}}class uo{constructor(A){this.storage=A}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var A=this;return(0,ce.A)(function*(){const R=A.storage.getLastFetchStatus(),H=A.storage.getLastSuccessfulFetchTimestampMillis(),ne=A.storage.getActiveConfig(),he=yield R;he&&(A.lastFetchStatus=he);const xe=yield H;xe&&(A.lastSuccessfulFetchTimestampMillis=xe);const lt=yield ne;lt&&(A.activeConfig=lt)})()}setLastFetchStatus(A){return this.lastFetchStatus=A,this.storage.setLastFetchStatus(A)}setLastSuccessfulFetchTimestampMillis(A){return this.lastSuccessfulFetchTimestampMillis=A,this.storage.setLastSuccessfulFetchTimestampMillis(A)}setActiveConfig(A){return this.activeConfig=A,this.storage.setActiveConfig(A)}}function Ws(){return Or.apply(this,arguments)}function Or(){return(Or=(0,ce.A)(function*(){if(!(0,fe.zW)())return!1;try{return yield(0,fe.eX)()}catch{return!1}})).apply(this,arguments)}!function di(){(0,Te.om)(new Q.uA("remote-config",function I(A,{instanceIdentifier:R}){const H=A.getProvider("app").getImmediate(),ne=A.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Qn.create("registration-window");if(!(0,fe.zW)())throw Qn.create("indexed-db-unavailable");const{projectId:he,apiKey:xe,appId:lt}=H.options;if(!he)throw Qn.create("registration-project-id");if(!xe)throw Qn.create("registration-api-key");if(!lt)throw Qn.create("registration-app-id");const pt=new li(lt,H.name,R=R||"firebase"),Ot=new uo(pt),sn=new Z.Vy(en);sn.logLevel=Z.$b.ERROR;const fn=new Xt(ne,Te.MF,R,he,xe,lt),Hs=new Wo(fn,pt),Ji=new an(Hs,pt,Ot,sn),Uc=new Ha(H,Ji,Ot,pt,sn);return function Os(I){const A=(0,fe.Ku)(I);A._initializePromise||(A._initializePromise=A._storageCache.loadFromStorage().then(()=>{A._isInitializationComplete=!0}))}(Uc),Uc},"PUBLIC").setMultipleInstances(!0)),(0,Te.KO)(en,"0.4.4"),(0,Te.KO)(en,"0.4.4","esm2017")}();const rn=(I,A)=>A.some(R=>I instanceof R);let Qi,ma;const co=new WeakMap,fi=new WeakMap,Xi=new WeakMap,qs=new WeakMap,fu=new WeakMap;let Ur={get(I,A,R){if(I instanceof IDBTransaction){if("done"===A)return fi.get(I);if("objectStoreNames"===A)return I.objectStoreNames||Xi.get(I);if("store"===A)return R.objectStoreNames[1]?void 0:R.objectStore(R.objectStoreNames[0])}return pi(I[A])},set:(I,A,R)=>(I[A]=R,!0),has:(I,A)=>I instanceof IDBTransaction&&("done"===A||"store"===A)||A in I};function za(I){return"function"==typeof I?function En(I){return I!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Dr(){return ma||(ma=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(I)?function(...A){return I.apply(gs(this),A),pi(co.get(this))}:function(...A){return pi(I.apply(gs(this),A))}:function(A,...R){const H=I.call(gs(this),A,...R);return Xi.set(H,A.sort?A.sort():[A]),pi(H)}}(I):(I instanceof IDBTransaction&&function Yi(I){if(fi.has(I))return;const A=new Promise((R,H)=>{const ne=()=>{I.removeEventListener("complete",he),I.removeEventListener("error",xe),I.removeEventListener("abort",xe)},he=()=>{R(),ne()},xe=()=>{H(I.error||new DOMException("AbortError","AbortError")),ne()};I.addEventListener("complete",he),I.addEventListener("error",xe),I.addEventListener("abort",xe)});fi.set(I,A)}(I),rn(I,function Ks(){return Qi||(Qi=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(I,Ur):I)}function pi(I){if(I instanceof IDBRequest)return function ps(I){const A=new Promise((R,H)=>{const ne=()=>{I.removeEventListener("success",he),I.removeEventListener("error",xe)},he=()=>{R(pi(I.result)),ne()},xe=()=>{H(I.error),ne()};I.addEventListener("success",he),I.addEventListener("error",xe)});return A.then(R=>{R instanceof IDBCursor&&co.set(R,I)}).catch(()=>{}),fu.set(A,I),A}(I);if(qs.has(I))return qs.get(I);const A=za(I);return A!==I&&(qs.set(I,A),fu.set(A,I)),A}const gs=I=>fu.get(I);function Mr(I,A,{blocked:R,upgrade:H,blocking:ne,terminated:he}={}){const xe=indexedDB.open(I,A),lt=pi(xe);return H&&xe.addEventListener("upgradeneeded",pt=>{H(pi(xe.result),pt.oldVersion,pt.newVersion,pi(xe.transaction))}),R&&xe.addEventListener("blocked",()=>R()),lt.then(pt=>{he&&pt.addEventListener("close",()=>he()),ne&&pt.addEventListener("versionchange",()=>ne())}).catch(()=>{}),lt}function ur(I,{blocked:A}={}){const R=indexedDB.deleteDatabase(I);return A&&R.addEventListener("blocked",()=>A()),pi(R).then(()=>{})}const Fi=["get","getKey","getAll","getAllKeys","count"],Ko=["put","add","delete","clear"],Vr=new Map;function ya(I,A){if(!(I instanceof IDBDatabase)||A in I||"string"!=typeof A)return;if(Vr.get(A))return Vr.get(A);const R=A.replace(/FromIndex$/,""),H=A!==R,ne=Ko.includes(R);if(!(R in(H?IDBIndex:IDBObjectStore).prototype)||!ne&&!Fi.includes(R))return;const he=function(){var xe=(0,ce.A)(function*(lt,...pt){const Ot=this.transaction(lt,ne?"readwrite":"readonly");let sn=Ot.store;return H&&(sn=sn.index(pt.shift())),(yield Promise.all([sn[R](...pt),ne&&Ot.done]))[0]});return function(pt){return xe.apply(this,arguments)}}();return Vr.set(A,he),he}!function Ls(I){Ur=I(Ur)}(I=>({...I,get:(A,R,H)=>ya(A,R)||I.get(A,R,H),has:(A,R)=>!!ya(A,R)||I.has(A,R)}));const ti="/firebase-messaging-sw.js",Br="/firebase-cloud-messaging-push-scope",xo="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",ms="https://fcmregistrations.googleapis.com/v1",Pn="google.c.a.c_id",gr="google.c.a.c_l",qo="google.c.a.ts";var Qs=function(I){return I.PUSH_RECEIVED="push-received",I.NOTIFICATION_CLICKED="notification-clicked",I}(Qs||{});function Ri(I){const A=new Uint8Array(I);return btoa(String.fromCharCode(...A)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Fu(I){const R=(I+"=".repeat((4-I.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),H=atob(R),ne=new Uint8Array(H.length);for(let he=0;he<H.length;++he)ne[he]=H.charCodeAt(he);return ne}const No="fcm_token_details_db",Uu=5,Ga="fcm_token_object_Store";function va(){return va=(0,ce.A)(function*(I){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(he=>he.name).includes(No))return null;let A=null;return(yield Mr(No,Uu,{upgrade:(H=(0,ce.A)(function*(ne,he,xe,lt){var pt;if(he<2||!ne.objectStoreNames.contains(Ga))return;const Ot=lt.objectStore(Ga),sn=yield Ot.index("fcmSenderId").get(I);if(yield Ot.clear(),sn)if(2===he){const fn=sn;if(!fn.auth||!fn.p256dh||!fn.endpoint)return;A={token:fn.fcmToken,createTime:null!==(pt=fn.createTime)&&void 0!==pt?pt:Date.now(),subscriptionOptions:{auth:fn.auth,p256dh:fn.p256dh,endpoint:fn.endpoint,swScope:fn.swScope,vapidKey:"string"==typeof fn.vapidKey?fn.vapidKey:Ri(fn.vapidKey)}}}else if(3===he){const fn=sn;A={token:fn.fcmToken,createTime:fn.createTime,subscriptionOptions:{auth:Ri(fn.auth),p256dh:Ri(fn.p256dh),endpoint:fn.endpoint,swScope:fn.swScope,vapidKey:Ri(fn.vapidKey)}}}else if(4===he){const fn=sn;A={token:fn.fcmToken,createTime:fn.createTime,subscriptionOptions:{auth:Ri(fn.auth),p256dh:Ri(fn.p256dh),endpoint:fn.endpoint,swScope:fn.swScope,vapidKey:Ri(fn.vapidKey)}}}}),function(he,xe,lt,pt){return H.apply(this,arguments)})})).close(),yield ur(No),yield ur("fcm_vapid_details_db"),yield ur("undefined"),function Wa(I){if(!I||!I.subscriptionOptions)return!1;const{subscriptionOptions:A}=I;return"number"==typeof I.createTime&&I.createTime>0&&"string"==typeof I.token&&I.token.length>0&&"string"==typeof A.auth&&A.auth.length>0&&"string"==typeof A.p256dh&&A.p256dh.length>0&&"string"==typeof A.endpoint&&A.endpoint.length>0&&"string"==typeof A.swScope&&A.swScope.length>0&&"string"==typeof A.vapidKey&&A.vapidKey.length>0}(A)?A:null;var H}),va.apply(this,arguments)}const ys="firebase-messaging-database",Qo=1,ni="firebase-messaging-store";let pu=null;function Xo(){return pu||(pu=Mr(ys,Qo,{upgrade:(I,A)=>{0===A&&I.createObjectStore(ni)}})),pu}function gu(I){return vs.apply(this,arguments)}function vs(){return vs=(0,ce.A)(function*(I){const A=Xs(I),H=yield(yield Xo()).transaction(ni).objectStore(ni).get(A);if(H)return H;{const ne=yield function Ro(I){return va.apply(this,arguments)}(I.appConfig.senderId);if(ne)return yield _a(I,ne),ne}}),vs.apply(this,arguments)}function _a(I,A){return Ia.apply(this,arguments)}function Ia(){return(Ia=(0,ce.A)(function*(I,A){const R=Xs(I),ne=(yield Xo()).transaction(ni,"readwrite");return yield ne.objectStore(ni).put(A,R),yield ne.done,A})).apply(this,arguments)}function Oo(){return(Oo=(0,ce.A)(function*(I){const A=Xs(I),H=(yield Xo()).transaction(ni,"readwrite");yield H.objectStore(ni).delete(A),yield H.done})).apply(this,arguments)}function Xs({appConfig:I}){return I.appId}const wi=new fe.FA("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function wa(I,A){return Vn.apply(this,arguments)}function Vn(){return(Vn=(0,ce.A)(function*(I,A){const R=yield ho(I),H=Ka(A),ne={method:"POST",headers:R,body:JSON.stringify(H)};let he;try{he=yield(yield fetch(Ai(I.appConfig),ne)).json()}catch(xe){throw wi.create("token-subscribe-failed",{errorInfo:xe?.toString()})}if(he.error)throw wi.create("token-subscribe-failed",{errorInfo:he.error.message});if(!he.token)throw wi.create("token-subscribe-no-token");return he.token})).apply(this,arguments)}function Oi(){return(Oi=(0,ce.A)(function*(I,A){const R=yield ho(I),H=Ka(A.subscriptionOptions),ne={method:"PATCH",headers:R,body:JSON.stringify(H)};let he;try{he=yield(yield fetch(`${Ai(I.appConfig)}/${A.token}`,ne)).json()}catch(xe){throw wi.create("token-update-failed",{errorInfo:xe?.toString()})}if(he.error)throw wi.create("token-update-failed",{errorInfo:he.error.message});if(!he.token)throw wi.create("token-update-no-token");return he.token})).apply(this,arguments)}function Fs(I,A){return Ea.apply(this,arguments)}function Ea(){return(Ea=(0,ce.A)(function*(I,A){const H={method:"DELETE",headers:yield ho(I)};try{const he=yield(yield fetch(`${Ai(I.appConfig)}/${A}`,H)).json();if(he.error)throw wi.create("token-unsubscribe-failed",{errorInfo:he.error.message})}catch(ne){throw wi.create("token-unsubscribe-failed",{errorInfo:ne?.toString()})}})).apply(this,arguments)}function Ai({projectId:I}){return`${ms}/projects/${I}/registrations`}function ho(I){return An.apply(this,arguments)}function An(){return(An=(0,ce.A)(function*({appConfig:I,installations:A}){const R=yield A.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":I.apiKey,"x-goog-firebase-installations-auth":`FIS ${R}`})})).apply(this,arguments)}function Ka({p256dh:I,auth:A,endpoint:R,vapidKey:H}){const ne={web:{endpoint:R,auth:A,p256dh:I}};return H!==xo&&(ne.web.applicationPubKey=H),ne}const fo=6048e5;function Po(){return Po=(0,ce.A)(function*(I){const A=yield function jr(I,A){return ko.apply(this,arguments)}(I.swRegistration,I.vapidKey),R={vapidKey:I.vapidKey,swScope:I.swRegistration.scope,endpoint:A.endpoint,auth:Ri(A.getKey("auth")),p256dh:Ri(A.getKey("p256dh"))},H=yield gu(I.firebaseDependencies);if(H){if(function w(I,A){return A.vapidKey===I.vapidKey&&A.endpoint===I.endpoint&&A.auth===I.auth&&A.p256dh===I.p256dh}(H.subscriptionOptions,R))return Date.now()>=H.createTime+fo?function po(I,A){return Us.apply(this,arguments)}(I,{token:H.token,createTime:Date.now(),subscriptionOptions:R}):H.token;try{yield Fs(I.firebaseDependencies,H.token)}catch(ne){console.warn(ne)}return Ui(I.firebaseDependencies,R)}return Ui(I.firebaseDependencies,R)}),Po.apply(this,arguments)}function Is(){return Is=(0,ce.A)(function*(I){const A=yield gu(I.firebaseDependencies);A&&(yield Fs(I.firebaseDependencies,A.token),yield function Yo(I){return Oo.apply(this,arguments)}(I.firebaseDependencies));const R=yield I.swRegistration.pushManager.getSubscription();return!R||R.unsubscribe()}),Is.apply(this,arguments)}function Us(){return Us=(0,ce.A)(function*(I,A){try{const R=yield function Ys(I,A){return Oi.apply(this,arguments)}(I.firebaseDependencies,A),H=Object.assign(Object.assign({},A),{token:R,createTime:Date.now()});return yield _a(I.firebaseDependencies,H),R}catch(R){throw yield function Da(I){return Is.apply(this,arguments)}(I),R}}),Us.apply(this,arguments)}function Ui(I,A){return Vi.apply(this,arguments)}function Vi(){return(Vi=(0,ce.A)(function*(I,A){const H={token:yield wa(I,A),createTime:Date.now(),subscriptionOptions:A};return yield _a(I,H),H.token})).apply(this,arguments)}function ko(){return(ko=(0,ce.A)(function*(I,A){return(yield I.pushManager.getSubscription())||I.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Fu(A)})})).apply(this,arguments)}function F(I){const A={from:I.from,collapseKey:I.collapse_key,messageId:I.fcmMessageId};return function M(I,A){if(!A.notification)return;I.notification={};const R=A.notification.title;R&&(I.notification.title=R);const H=A.notification.body;H&&(I.notification.body=H);const ne=A.notification.image;ne&&(I.notification.image=ne);const he=A.notification.icon;he&&(I.notification.icon=he)}(A,I),function k(I,A){A.data&&(I.data=A.data)}(A,I),function Y(I,A){var R,H,ne,he,xe;if(!(A.fcmOptions||null!==(R=A.notification)&&void 0!==R&&R.click_action))return;I.fcmOptions={};const lt=null!==(ne=null===(H=A.fcmOptions)||void 0===H?void 0:H.link)&&void 0!==ne?ne:null===(he=A.notification)||void 0===he?void 0:he.click_action;lt&&(I.fcmOptions.link=lt);const pt=null===(xe=A.fcmOptions)||void 0===xe?void 0:xe.analytics_label;pt&&(I.fcmOptions.analyticsLabel=pt)}(A,I),A}function Ue(I,A){const R=[];for(let H=0;H<I.length;H++)R.push(I.charAt(H)),H<A.length&&R.push(A.charAt(H));return R.join("")}function rr(I){return wi.create("missing-app-config-values",{valueName:I})}Ue("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Ue("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class mr{constructor(A,R,H){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const ne=function Nt(I){if(!I||!I.options)throw rr("App Configuration Object");if(!I.name)throw rr("App Name");const A=["projectId","apiKey","appId","messagingSenderId"],{options:R}=I;for(const H of A)if(!R[H])throw rr(H);return{appName:I.name,projectId:R.projectId,apiKey:R.apiKey,appId:R.appId,senderId:R.messagingSenderId}}(A);this.firebaseDependencies={app:A,appConfig:ne,installations:R,analyticsProvider:H}}_delete(){return Promise.resolve()}}function dn(){return(dn=(0,ce.A)(function*(I){try{I.swRegistration=yield navigator.serviceWorker.register(ti,{scope:Br}),I.swRegistration.update().catch(()=>{})}catch(A){throw wi.create("failed-service-worker-registration",{browserErrorMessage:A?.message})}})).apply(this,arguments)}function Hn(){return(Hn=(0,ce.A)(function*(I,A){if(!A&&!I.swRegistration&&(yield function $n(I){return dn.apply(this,arguments)}(I)),A||!I.swRegistration){if(!(A instanceof ServiceWorkerRegistration))throw wi.create("invalid-sw-registration");I.swRegistration=A}})).apply(this,arguments)}function Si(){return(Si=(0,ce.A)(function*(I,A){A?I.vapidKey=A:I.vapidKey||(I.vapidKey=xo)})).apply(this,arguments)}function tr(){return tr=(0,ce.A)(function*(I,A){if(!navigator)throw wi.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw wi.create("permission-blocked");return yield function Wr(I,A){return Si.apply(this,arguments)}(I,A?.vapidKey),yield function cr(I,A){return Hn.apply(this,arguments)}(I,A?.serviceWorkerRegistration),function _s(I){return Po.apply(this,arguments)}(I)}),tr.apply(this,arguments)}function Kr(){return(Kr=(0,ce.A)(function*(I,A,R){const H=function Zs(I){switch(I){case Qs.NOTIFICATION_CLICKED:return"notification_open";case Qs.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(A);(yield I.firebaseDependencies.analyticsProvider.get()).logEvent(H,{message_id:R[Pn],message_name:R[gr],message_time:R[qo],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Ye(){return Ye=(0,ce.A)(function*(I,A){const R=A.data;if(!R.isFirebaseMessaging)return;I.onMessageHandler&&R.messageType===Qs.PUSH_RECEIVED&&("function"==typeof I.onMessageHandler?I.onMessageHandler(F(R)):I.onMessageHandler.next(F(R)));const H=R.data;(function be(I){return"object"==typeof I&&!!I&&Pn in I})(H)&&"1"===H["google.c.a.e"]&&(yield function lr(I,A,R){return Kr.apply(this,arguments)}(I,R.messageType,H))}),Ye.apply(this,arguments)}const $r="@firebase/messaging",Ta=I=>{const A=new mr(I.getProvider("app").getImmediate(),I.getProvider("installations-internal").getImmediate(),I.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",R=>function Zo(I,A){return Ye.apply(this,arguments)}(A,R)),A},Et=I=>{const A=I.getProvider("messaging").getImmediate();return{getToken:H=>function ws(I,A){return tr.apply(this,arguments)}(A,H)}};function mu(){return ft.apply(this,arguments)}function ft(){return(ft=(0,ce.A)(function*(){try{yield(0,fe.eX)()}catch{return!1}return typeof window<"u"&&(0,fe.zW)()&&(0,fe.dM)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Rt(){(0,Te.om)(new Q.uA("messaging",Ta,"PUBLIC")),(0,Te.om)(new Q.uA("messaging-internal",Et,"PRIVATE")),(0,Te.KO)($r,"0.12.4"),(0,Te.KO)($r,"0.12.4","esm2017")}();const yu="analytics",Bu="firebase_id",go="origin",Vs=6e4,gi="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",vu="https://www.googletagmanager.com/gtag/js",St=new Z.Vy("@firebase/analytics"),Ei=new fe.FA("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function xr(I){if(!I.startsWith(vu)){const A=Ei.create("invalid-gtag-resource",{gtagURL:I});return St.warn(A.message),""}return I}function Ct(I){return Promise.all(I.map(A=>A.catch(R=>R)))}function dt(){return(dt=(0,ce.A)(function*(I,A,R,H,ne,he){const xe=H[ne];try{if(xe)yield A[xe];else{const pt=(yield Ct(R)).find(Ot=>Ot.measurementId===ne);pt&&(yield A[pt.appId])}}catch(lt){St.error(lt)}I("config",ne,he)})).apply(this,arguments)}function ta(){return(ta=(0,ce.A)(function*(I,A,R,H,ne){try{let he=[];if(ne&&ne.send_to){let xe=ne.send_to;Array.isArray(xe)||(xe=[xe]);const lt=yield Ct(R);for(const pt of xe){const Ot=lt.find(fn=>fn.measurementId===pt),sn=Ot&&A[Ot.appId];if(!sn){he=[];break}he.push(sn)}}0===he.length&&(he=Object.values(A)),yield Promise.all(he),I("event",H,ne||{})}catch(he){St.error(he)}})).apply(this,arguments)}const na=30,sc=new class ic{constructor(A={},R=1e3){this.throttleMetadata=A,this.intervalMillis=R}getThrottleMetadata(A){return this.throttleMetadata[A]}setThrottleMetadata(A,R){this.throttleMetadata[A]=R}deleteThrottleMetadata(A){delete this.throttleMetadata[A]}};function Ds(I){return new Headers({Accept:"application/json","x-goog-api-key":I})}function He(){return(He=(0,ce.A)(function*(I){var A;const{appId:R,apiKey:H}=I,ne={method:"GET",headers:Ds(H)},he=gi.replace("{app-id}",R),xe=yield fetch(he,ne);if(200!==xe.status&&304!==xe.status){let lt="";try{const pt=yield xe.json();null!==(A=pt.error)&&void 0!==A&&A.message&&(lt=pt.error.message)}catch{}throw Ei.create("config-fetch-failed",{httpStatus:xe.status,responseMessage:lt})}return xe.json()})).apply(this,arguments)}function Bs(){return(Bs=(0,ce.A)(function*(I,A=sc,R){const{appId:H,apiKey:ne,measurementId:he}=I.options;if(!H)throw Ei.create("no-app-id");if(!ne){if(he)return{measurementId:he,appId:H};throw Ei.create("no-api-key")}const xe=A.getThrottleMetadata(H)||{backoffCount:0,throttleEndTimeMillis:Date.now()},lt=new Js;return setTimeout((0,ce.A)(function*(){lt.abort()}),void 0!==R?R:Vs),Qa({appId:H,apiKey:ne,measurementId:he},xe,lt,A)})).apply(this,arguments)}function Qa(I,A,R){return pe.apply(this,arguments)}function pe(){return pe=(0,ce.A)(function*(I,{throttleEndTimeMillis:A,backoffCount:R},H,ne=sc){var he;const{appId:xe,measurementId:lt}=I;try{yield function Xa(I,A){return new Promise((R,H)=>{const ne=Math.max(A-Date.now(),0),he=setTimeout(R,ne);I.addEventListener(()=>{clearTimeout(he),H(Ei.create("fetch-throttle",{throttleEndTimeMillis:A}))})})}(H,A)}catch(pt){if(lt)return St.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${lt} provided in the "measurementId" field in the local Firebase config. [${pt?.message}]`),{appId:xe,measurementId:lt};throw pt}try{const pt=yield function oc(I){return He.apply(this,arguments)}(I);return ne.deleteThrottleMetadata(xe),pt}catch(pt){const Ot=pt;if(!function Di(I){if(!(I instanceof fe.g&&I.customData))return!1;const A=Number(I.customData.httpStatus);return 429===A||500===A||503===A||504===A}(Ot)){if(ne.deleteThrottleMetadata(xe),lt)return St.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${lt} provided in the "measurementId" field in the local Firebase config. [${Ot?.message}]`),{appId:xe,measurementId:lt};throw pt}const sn=503===Number(null===(he=Ot?.customData)||void 0===he?void 0:he.httpStatus)?(0,fe.p9)(R,ne.intervalMillis,na):(0,fe.p9)(R,ne.intervalMillis),fn={throttleEndTimeMillis:Date.now()+sn,backoffCount:R+1};return ne.setThrottleMetadata(xe,fn),St.debug(`Calling attemptFetch again in ${sn} millis`),Qa(I,fn,H,ne)}}),pe.apply(this,arguments)}class Js{constructor(){this.listeners=[]}addEventListener(A){this.listeners.push(A)}abort(){this.listeners.forEach(A=>A())}}let yo,C;function ba(){return(ba=(0,ce.A)(function*(I,A,R,H,ne){if(ne&&ne.global)I("event",R,H);else{const he=yield A;I("event",R,Object.assign(Object.assign({},H),{send_to:he}))}})).apply(this,arguments)}function Ce(){return(Ce=(0,ce.A)(function*(){if(!(0,fe.zW)())return St.warn(Ei.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,fe.eX)()}catch(I){return St.warn(Ei.create("indexeddb-unavailable",{errorInfo:I?.toString()}).message),!1}return!0})).apply(this,arguments)}function mt(){return mt=(0,ce.A)(function*(I,A,R,H,ne,he,xe){var lt;const pt=function Ln(I){return Bs.apply(this,arguments)}(I);pt.then(Ji=>{R[Ji.measurementId]=Ji.appId,I.options.measurementId&&Ji.measurementId!==I.options.measurementId&&St.warn(`The measurement ID in the local Firebase config (${I.options.measurementId}) does not match the measurement ID fetched from the server (${Ji.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Ji=>St.error(Ji)),A.push(pt);const Ot=function X(){return Ce.apply(this,arguments)}().then(Ji=>{if(Ji)return H.getId()}),[sn,fn]=yield Promise.all([pt,Ot]);(function Ca(I){const A=window.document.getElementsByTagName("script");for(const R of Object.values(A))if(R.src&&R.src.includes(vu)&&R.src.includes(I))return R;return null})(he)||function zn(I,A){const R=function Jo(I,A){let R;return window.trustedTypes&&(R=window.trustedTypes.createPolicy(I,A)),R}("firebase-js-sdk-policy",{createScriptURL:xr}),H=document.createElement("script"),ne=`${vu}?l=${I}&id=${A}`;H.src=R?R?.createScriptURL(ne):ne,H.async=!0,document.head.appendChild(H)}(he,sn.measurementId),C&&(ne("consent","default",C),function N(I){C=I}(void 0)),ne("js",new Date);const Hs=null!==(lt=xe?.config)&&void 0!==lt?lt:{};return Hs[go]="firebase",Hs.update=!0,null!=fn&&(Hs[Bu]=fn),ne("config",sn.measurementId,Hs),yo&&(ne("set",yo),function U(I){yo=I}(void 0)),sn.measurementId}),mt.apply(this,arguments)}class Zt{constructor(A){this.app=A}_delete(){return delete Sn[this.app.options.appId],Promise.resolve()}}let Sn={},Mn=[];const no={};let Iu,ji,Bi="dataLayer",xi=!1;function Rh(I,A,R){!function qr(){const I=[];if((0,fe.sr)()&&I.push("This is a browser extension environment."),(0,fe.dM)()||I.push("Cookies are not available."),I.length>0){const A=I.map((H,ne)=>`(${ne+1}) ${H}`).join(" "),R=Ei.create("invalid-analytics-context",{errorInfo:A});St.warn(R.message)}}();const H=I.options.appId;if(!H)throw Ei.create("no-app-id");if(!I.options.apiKey){if(!I.options.measurementId)throw Ei.create("no-api-key");St.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${I.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Sn[H])throw Ei.create("already-exists",{id:H});if(!xi){!function ju(I){let A=[];Array.isArray(window[I])?A=window[I]:window[I]=A}(Bi);const{wrappedGtag:he,gtagCore:xe}=function rc(I,A,R,H,ne){let he=function(...xe){window[H].push(arguments)};return window[ne]&&"function"==typeof window[ne]&&(he=window[ne]),window[ne]=function mo(I,A,R,H){function he(){return he=(0,ce.A)(function*(xe,...lt){try{if("event"===xe){const[pt,Ot]=lt;yield function ea(I,A,R,H,ne){return ta.apply(this,arguments)}(I,A,R,pt,Ot)}else if("config"===xe){const[pt,Ot]=lt;yield function bt(I,A,R,H,ne,he){return dt.apply(this,arguments)}(I,A,R,H,pt,Ot)}else if("consent"===xe){const[pt]=lt;I("consent","update",pt)}else if("get"===xe){const[pt,Ot,sn]=lt;I("get",pt,Ot,sn)}else if("set"===xe){const[pt]=lt;I("set",pt)}else I(xe,...lt)}catch(pt){St.error(pt)}}),he.apply(this,arguments)}return function ne(xe){return he.apply(this,arguments)}}(he,I,A,R),{gtagCore:he,wrappedGtag:window[ne]}}(Sn,Mn,no,Bi,"gtag");ji=he,Iu=xe,xi=!0}return Sn[H]=function Ee(I,A,R,H,ne,he,xe){return mt.apply(this,arguments)}(I,Mn,no,A,Iu,Bi,R),new Zt(I)}function Md(){return wu.apply(this,arguments)}function wu(){return(wu=(0,ce.A)(function*(){if((0,fe.sr)()||!(0,fe.dM)()||!(0,fe.zW)())return!1;try{return yield(0,fe.eX)()}catch{return!1}})).apply(this,arguments)}const Ma="@firebase/analytics";!function dr(){(0,Te.om)(new Q.uA(yu,(A,{options:R})=>Rh(A.getProvider("app").getImmediate(),A.getProvider("installations-internal").getImmediate(),R),"PUBLIC")),(0,Te.om)(new Q.uA("analytics-internal",function I(A){try{const R=A.getProvider(yu).getImmediate();return{logEvent:(H,ne,he)=>function Du(I,A,R,H){I=(0,fe.Ku)(I),function eo(I,A,R,H,ne){return ba.apply(this,arguments)}(ji,Sn[I.app.options.appId],A,R,H).catch(ne=>St.error(ne))}(R,H,ne,he)}}catch(R){throw Ei.create("interop-component-reg-failed",{reason:R})}},"PRIVATE")),(0,Te.KO)(Ma,"0.10.0"),(0,Te.KO)(Ma,"0.10.0","esm2017")}();var Ya=K(8359);class Za extends Ya.yU{constructor(A,R){super()}schedule(A,R=0){return this}}const os={setInterval(I,A,...R){const{delegate:H}=os;return H?.setInterval?H.setInterval(I,A,...R):setInterval(I,A,...R)},clearInterval(I){const{delegate:A}=os;return(A?.clearInterval||clearInterval)(I)},delegate:void 0};var uc=K(7908);class Sl extends Za{constructor(A,R){super(A,R),this.scheduler=A,this.work=R,this.pending=!1}schedule(A,R=0){var H;if(this.closed)return this;this.state=A;const ne=this.id,he=this.scheduler;return null!=ne&&(this.id=this.recycleAsyncId(he,ne,R)),this.pending=!0,this.delay=R,this.id=null!==(H=this.id)&&void 0!==H?H:this.requestAsyncId(he,this.id,R),this}requestAsyncId(A,R,H=0){return os.setInterval(A.flush.bind(A,this),H)}recycleAsyncId(A,R,H=0){if(null!=H&&this.delay===H&&!1===this.pending)return R;null!=R&&os.clearInterval(R)}execute(A,R){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const H=this._execute(A,R);if(H)return H;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(A,R){let ne,H=!1;try{this.work(A)}catch(he){H=!0,ne=he||new Error("Scheduled action threw falsy error")}if(H)return this.unsubscribe(),ne}unsubscribe(){if(!this.closed){const{id:A,scheduler:R}=this,{actions:H}=R;this.work=this.state=this.scheduler=null,this.pending=!1,(0,uc.o)(H,this),null!=A&&(this.id=this.recycleAsyncId(R,A,null)),this.delay=null,super.unsubscribe()}}}const Ml={now:()=>(Ml.delegate||Date).now(),delegate:void 0};class js{constructor(A,R=js.now){this.schedulerActionCtor=A,this.now=R}schedule(A,R=0,H){return new this.schedulerActionCtor(this,A).schedule(H,R)}}js.now=Ml.now;class mi extends js{constructor(A,R=js.now){super(A,R),this.actions=[],this._active=!1}flush(A){const{actions:R}=this;if(this._active)return void R.push(A);let H;this._active=!0;do{if(H=A.execute(A.state,A.delay))break}while(A=R.shift());if(this._active=!1,H){for(;A=R.shift();)A.unsubscribe();throw H}}}const Fo=new class vo extends mi{}(class ki extends Sl{constructor(A,R){super(A,R),this.scheduler=A,this.work=R}schedule(A,R=0){return R>0?super.schedule(A,R):(this.delay=R,this.state=A,this.scheduler.flush(this),this)}execute(A,R){return R>0||this.closed?super.execute(A,R):this._execute(A,R)}requestAsyncId(A,R,H=0){return null!=H&&H>0||null==H&&this.delay>0?super.requestAsyncId(A,R,H):(A.flush(this),0)}}),_o=new mi(Sl);var $s=K(1985),xa=K(8141),Na=K(6745),Uo=K(941);const Vo=new S.RxE("7.6.1"),Hi="__angularfire_symbol__analyticsIsSupportedValue",Io="__angularfire_symbol__analyticsIsSupported",Ja="__angularfire_symbol__remoteConfigIsSupportedValue",Bo="__angularfire_symbol__remoteConfigIsSupported",Ra="__angularfire_symbol__messagingIsSupportedValue",ia="__angularfire_symbol__messagingIsSupported";function Lc(I,A,R){if(A){if(1===A.length)return A[0];const he=A.filter(xe=>xe.app===R);if(1===he.length)return he[0]}return R.container.getProvider(I).getImmediate({optional:!0})}globalThis[Io]||(globalThis[Io]=Md().then(I=>globalThis[Hi]=I).catch(()=>globalThis[Hi]=!1)),globalThis[ia]||(globalThis[ia]=mu().then(I=>globalThis[Ra]=I).catch(()=>globalThis[Ra]=!1)),globalThis[Bo]||(globalThis[Bo]=Ws().then(I=>globalThis[Ja]=I).catch(()=>globalThis[Ja]=!1));const Tu=(I,A)=>{const R=A?[A]:(0,ie.Dk)(),H=[];return R.forEach(ne=>{ne.container.getProvider(I).instances.forEach(xe=>{H.includes(xe)||H.push(xe)})}),H};function jo(){}class sa{constructor(A,R=Fo){this.zone=A,this.delegate=R}now(){return this.delegate.now()}schedule(A,R,H){const ne=this.zone;return this.delegate.schedule(function(xe){ne.runGuarded(()=>{A.apply(this,[xe])})},R,H)}}class tu{constructor(A){this.zone=A,this.task=null}call(A,R){const H=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",jo,{},jo,jo)),R.pipe((0,xa.M)({next:H,complete:H,error:H})).subscribe(A).add(H)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Nd=(()=>{class I{constructor(R){this.ngZone=R,this.outsideAngular=R.runOutsideAngular(()=>new sa(Zone.current)),this.insideAngular=R.run(()=>new sa(Zone.current,_o)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return I.\u0275fac=function(R){return new(R||I)(S.KVO(S.SKi))},I.\u0275prov=S.jDH({token:I,factory:I.\u0275fac,providedIn:"root"}),I})();function oa(){const I=globalThis.\u0275AngularFireScheduler;if(!I)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return I}function Tr(I){return oa().ngZone.run(()=>I())}function Oa(I){return oa(),function $u(I){return function(R){return(R=R.lift(new tu(I.ngZone))).pipe((0,Na._)(I.outsideAngular),(0,Uo.Q)(I.insideAngular))}}(oa())(I)}const cc=(I,A)=>function(){const H=arguments;return A&&setTimeout(()=>{"scheduled"===A.state&&A.invoke()},10),Tr(()=>I.apply(void 0,H))},Cu=(I,A)=>function(){let R;const H=arguments;for(let he=0;he<arguments.length;he++)"function"==typeof H[he]&&(A&&(R||(R=Tr(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",jo,{},jo,jo)))),H[he]=cc(H[he],R));const ne=function Fc(I){return oa().ngZone.runOutsideAngular(()=>I())}(()=>I.apply(this,H));if(!A){if(ne instanceof $s.c){const he=oa();return ne.pipe((0,Na._)(he.outsideAngular),(0,Uo.Q)(he.insideAngular))}return Tr(()=>ne)}return ne instanceof $s.c?ne.pipe(Oa):ne instanceof Promise?Tr(()=>new Promise((he,xe)=>ne.then(lt=>Tr(()=>he(lt)),lt=>Tr(()=>xe(lt))))):"function"==typeof ne&&R?function(){return setTimeout(()=>{R&&"scheduled"===R.state&&R.invoke()},10),ne.apply(this,arguments)}:Tr(()=>ne)}},1401:(Wt,ze,K)=>{K.d(ze,{Am:()=>gn,FA:()=>Me,Fy:()=>it,I9:()=>Yn,Im:()=>cn,K3:()=>Q,Ku:()=>pr,T9:()=>Pe,Tj:()=>Bn,Uj:()=>Be,XA:()=>Ze,ZQ:()=>gt,bD:()=>nr,cY:()=>Fe,dM:()=>Ie,eX:()=>Zr,g:()=>me,hp:()=>Jt,jZ:()=>Ge,lT:()=>We,lV:()=>Cr,nr:()=>jt,p9:()=>zt,sr:()=>Nn,tD:()=>Wn,u:()=>re,yU:()=>Un,zW:()=>sr});const Te=function(te){const B=[];let $=0;for(let j=0;j<te.length;j++){let G=te.charCodeAt(j);G<128?B[$++]=G:G<2048?(B[$++]=G>>6|192,B[$++]=63&G|128):55296==(64512&G)&&j+1<te.length&&56320==(64512&te.charCodeAt(j+1))?(G=65536+((1023&G)<<10)+(1023&te.charCodeAt(++j)),B[$++]=G>>18|240,B[$++]=G>>12&63|128,B[$++]=G>>6&63|128,B[$++]=63&G|128):(B[$++]=G>>12|224,B[$++]=G>>6&63|128,B[$++]=63&G|128)}return B},Q={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(te,B){if(!Array.isArray(te))throw Error("encodeByteArray takes an array as a parameter");this.init_();const $=B?this.byteToCharMapWebSafe_:this.byteToCharMap_,j=[];for(let G=0;G<te.length;G+=3){const le=te[G],je=G+1<te.length,ht=je?te[G+1]:0,Vt=G+2<te.length,Bt=Vt?te[G+2]:0;let ar=(15&ht)<<2|Bt>>6,ai=63&Bt;Vt||(ai=64,je||(ar=64)),j.push($[le>>2],$[(3&le)<<4|ht>>4],$[ar],$[ai])}return j.join("")},encodeString(te,B){return this.HAS_NATIVE_SUPPORT&&!B?btoa(te):this.encodeByteArray(Te(te),B)},decodeString(te,B){return this.HAS_NATIVE_SUPPORT&&!B?atob(te):function(te){const B=[];let $=0,j=0;for(;$<te.length;){const G=te[$++];if(G<128)B[j++]=String.fromCharCode(G);else if(G>191&&G<224){const le=te[$++];B[j++]=String.fromCharCode((31&G)<<6|63&le)}else if(G>239&&G<365){const Vt=((7&G)<<18|(63&te[$++])<<12|(63&te[$++])<<6|63&te[$++])-65536;B[j++]=String.fromCharCode(55296+(Vt>>10)),B[j++]=String.fromCharCode(56320+(1023&Vt))}else{const le=te[$++],je=te[$++];B[j++]=String.fromCharCode((15&G)<<12|(63&le)<<6|63&je)}}return B.join("")}(this.decodeStringToByteArray(te,B))},decodeStringToByteArray(te,B){this.init_();const $=B?this.charToByteMapWebSafe_:this.charToByteMap_,j=[];for(let G=0;G<te.length;){const le=$[te.charAt(G++)],ht=G<te.length?$[te.charAt(G)]:0;++G;const Bt=G<te.length?$[te.charAt(G)]:64;++G;const tn=G<te.length?$[te.charAt(G)]:64;if(++G,null==le||null==ht||null==Bt||null==tn)throw new Z;j.push(le<<2|ht>>4),64!==Bt&&(j.push(ht<<4&240|Bt>>2),64!==tn&&j.push(Bt<<6&192|tn))}return j},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let te=0;te<this.ENCODED_VALS.length;te++)this.byteToCharMap_[te]=this.ENCODED_VALS.charAt(te),this.charToByteMap_[this.byteToCharMap_[te]]=te,this.byteToCharMapWebSafe_[te]=this.ENCODED_VALS_WEBSAFE.charAt(te),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[te]]=te,te>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(te)]=te,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(te)]=te)}}};class Z extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Be=function(te){return function(te){const B=Te(te);return Q.encodeByteArray(B,!0)}(te).replace(/\./g,"")},re=function(te){try{return Q.decodeString(te,!0)}catch(B){console.error("base64Decode failed: ",B)}return null},Ut=()=>{try{return function de(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const te=process.env.__FIREBASE_DEFAULTS__;return te?JSON.parse(te):void 0})()||(()=>{if(typeof document>"u")return;let te;try{te=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const B=te&&re(te[1]);return B&&JSON.parse(B)})()}catch(te){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${te}`)}},Bn=te=>{var B,$;return null===($=null===(B=Ut())||void 0===B?void 0:B.emulatorHosts)||void 0===$?void 0:$[te]},Un=te=>{const B=Bn(te);if(!B)return;const $=B.lastIndexOf(":");if($<=0||$+1===B.length)throw new Error(`Invalid host ${B} with no separate hostname and port!`);const j=parseInt(B.substring($+1),10);return"["===B[0]?[B.substring(1,$-1),j]:[B.substring(0,$),j]},Pe=()=>{var te;return null===(te=Ut())||void 0===te?void 0:te.config},Ze=te=>{var B;return null===(B=Ut())||void 0===B?void 0:B[`_${te}`]};class Fe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((B,$)=>{this.resolve=B,this.reject=$})}wrapCallback(B){return($,j)=>{$?this.reject($):this.resolve(j),"function"==typeof B&&(this.promise.catch(()=>{}),1===B.length?B($):B($,j))}}}function it(te,B){if(te.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const j=B||"demo-project",G=te.iat||0,le=te.sub||te.user_id;if(!le)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const je=Object.assign({iss:`https://securetoken.google.com/${j}`,aud:j,iat:G,exp:G+3600,auth_time:G,sub:le,user_id:le,firebase:{sign_in_provider:"custom",identities:{}}},te);return[Be(JSON.stringify({alg:"none",type:"JWT"})),Be(JSON.stringify(je)),""].join(".")}function gt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ge(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(gt())}function Nn(){const te="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof te&&void 0!==te.id}function Cr(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function We(){const te=gt();return te.indexOf("MSIE ")>=0||te.indexOf("Trident/")>=0}function jt(){return!function $e(){var te;const B=null===(te=Ut())||void 0===te?void 0:te.forceEnvironment;if("node"===B)return!0;if("browser"===B)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function sr(){try{return"object"==typeof indexedDB}catch{return!1}}function Zr(){return new Promise((te,B)=>{try{let $=!0;const j="validate-browser-context-for-indexeddb-analytics-module",G=self.indexedDB.open(j);G.onsuccess=()=>{G.result.close(),$||self.indexedDB.deleteDatabase(j),te(!0)},G.onupgradeneeded=()=>{$=!1},G.onerror=()=>{var le;B((null===(le=G.error)||void 0===le?void 0:le.message)||"")}}catch($){B($)}})}function Ie(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class me extends Error{constructor(B,$,j){super($),this.code=B,this.customData=j,this.name="FirebaseError",Object.setPrototypeOf(this,me.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Me.prototype.create)}}class Me{constructor(B,$,j){this.service=B,this.serviceName=$,this.errors=j}create(B,...$){const j=$[0]||{},G=`${this.service}/${B}`,le=this.errors[B],je=le?function Ke(te,B){return te.replace(Qe,($,j)=>{const G=B[j];return null!=G?String(G):`<${j}?>`})}(le,j):"Error";return new me(G,`${this.serviceName}: ${je} (${G}).`,j)}}const Qe=/\{\$([^}]+)}/g;function cn(te){for(const B in te)if(Object.prototype.hasOwnProperty.call(te,B))return!1;return!0}function nr(te,B){if(te===B)return!0;const $=Object.keys(te),j=Object.keys(B);for(const G of $){if(!j.includes(G))return!1;const le=te[G],je=B[G];if($t(le)&&$t(je)){if(!nr(le,je))return!1}else if(le!==je)return!1}for(const G of j)if(!$.includes(G))return!1;return!0}function $t(te){return null!==te&&"object"==typeof te}function gn(te){const B=[];for(const[$,j]of Object.entries(te))Array.isArray(j)?j.forEach(G=>{B.push(encodeURIComponent($)+"="+encodeURIComponent(G))}):B.push(encodeURIComponent($)+"="+encodeURIComponent(j));return B.length?"&"+B.join("&"):""}function Yn(te){const B={};return te.replace(/^\?/,"").split("&").forEach(j=>{if(j){const[G,le]=j.split("=");B[decodeURIComponent(G)]=decodeURIComponent(le)}}),B}function Jt(te){const B=te.indexOf("?");if(!B)return"";const $=te.indexOf("#",B);return te.substring(B,$>0?$:void 0)}function Wn(te,B){const $=new _r(te,B);return $.subscribe.bind($)}class _r{constructor(B,$){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=$,this.task.then(()=>{B(this)}).catch(j=>{this.error(j)})}next(B){this.forEachObserver($=>{$.next(B)})}error(B){this.forEachObserver($=>{$.error(B)}),this.close(B)}complete(){this.forEachObserver(B=>{B.complete()}),this.close()}subscribe(B,$,j){let G;if(void 0===B&&void 0===$&&void 0===j)throw new Error("Missing Observer.");G=function Kn(te,B){if("object"!=typeof te||null===te)return!1;for(const $ of B)if($ in te&&"function"==typeof te[$])return!0;return!1}(B,["next","error","complete"])?B:{next:B,error:$,complete:j},void 0===G.next&&(G.next=Jn),void 0===G.error&&(G.error=Jn),void 0===G.complete&&(G.complete=Jn);const le=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?G.error(this.finalError):G.complete()}catch{}}),this.observers.push(G),le}unsubscribeOne(B){void 0===this.observers||void 0===this.observers[B]||(delete this.observers[B],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(B){if(!this.finalized)for(let $=0;$<this.observers.length;$++)this.sendOne($,B)}sendOne(B,$){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[B])try{$(this.observers[B])}catch(j){typeof console<"u"&&console.error&&console.error(j)}})}close(B){this.finalized||(this.finalized=!0,void 0!==B&&(this.finalError=B),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Jn(){}const ei=1e3,Pt=2,kr=144e5,oi=.5;function zt(te,B=ei,$=Pt){const j=B*Math.pow($,te),G=Math.round(oi*j*(Math.random()-.5)*2);return Math.min(kr,j+G)}function pr(te){return te&&te._delegate?te._delegate:te}},226:(Wt,ze,K)=>{var S=K(345),ie=K(6143),ce=K(540);const Te=[{path:"",redirectTo:"auth/login",pathMatch:"full"},{path:"auth",loadChildren:()=>Promise.all([K.e(341),K.e(384)]).then(K.bind(K,5384)).then(_e=>_e.AuthModule)},{path:"dashboard",loadChildren:()=>Promise.all([K.e(341),K.e(814)]).then(K.bind(K,8814)).then(_e=>_e.DashboardModule)}];let fe=(()=>{class _e{static{this.\u0275fac=function(ut){return new(ut||_e)}}static{this.\u0275mod=ce.$C({type:_e})}static{this.\u0275inj=ce.G2t({imports:[ie.iI.forRoot(Te),ie.iI]})}}return _e})(),Q=(()=>{class _e{constructor(){this.title="coop-app"}static{this.\u0275fac=function(ut){return new(ut||_e)}}static{this.\u0275cmp=ce.VBU({type:_e,selectors:[["app-root"]],decls:1,vars:0,template:function(ut,st){1&ut&&ce.nrm(0,"router-outlet")},dependencies:[ie.n3]})}}return _e})();const Z_firebase={apiKey:"AIzaSyCbw8b_ag8QyunuIJIXl24SCepm439uzVU",authDomain:"coop-pro.firebaseapp.com",projectId:"coop-pro",storageBucket:"coop-pro.firebasestorage.app",messagingSenderId:"770543345465",appId:"1:770543345465:web:33089459f3d6eba9b992e8",measurementId:"G-T4463ZST23"};var Je=K(8934),Be=K(4724),re=K(9676);let ee=(()=>{class _e{static{this.\u0275fac=function(ut){return new(ut||_e)}}static{this.\u0275mod=ce.$C({type:_e,bootstrap:[Q]})}static{this.\u0275inj=ce.G2t({imports:[(0,re._q)(()=>(0,re.xI)()),S.Bb,fe,(0,Je.MW)(()=>(0,Je.Wp)(Z_firebase)),(0,Be.hV)(()=>(0,Be.aU)())]})}}return _e})();S.sG().bootstrapModule(ee).catch(_e=>console.error(_e))},4412:(Wt,ze,K)=>{K.d(ze,{t:()=>ie});var S=K(1413);class ie extends S.B{constructor(Te){super(),this._value=Te}get value(){return this.getValue()}_subscribe(Te){const fe=super._subscribe(Te);return!fe.closed&&Te.next(this._value),fe}getValue(){const{hasError:Te,thrownError:fe,_value:Q}=this;if(Te)throw fe;return this._throwIfClosed(),Q}next(Te){super.next(this._value=Te)}}},1985:(Wt,ze,K)=>{K.d(ze,{c:()=>Je});var S=K(7707),ie=K(8359),ce=K(3494),Te=K(1203),fe=K(1026),Q=K(8071),Z=K(9786);let Je=(()=>{class _e{constructor(de){de&&(this._subscribe=de)}lift(de){const ut=new _e;return ut.source=this,ut.operator=de,ut}subscribe(de,ut,st){const Gt=function ee(_e){return _e&&_e instanceof S.vU||function re(_e){return _e&&(0,Q.T)(_e.next)&&(0,Q.T)(_e.error)&&(0,Q.T)(_e.complete)}(_e)&&(0,ie.Uv)(_e)}(de)?de:new S.Ms(de,ut,st);return(0,Z.Y)(()=>{const{operator:Ut,source:Bn}=this;Gt.add(Ut?Ut.call(Gt,Bn):Bn?this._subscribe(Gt):this._trySubscribe(Gt))}),Gt}_trySubscribe(de){try{return this._subscribe(de)}catch(ut){de.error(ut)}}forEach(de,ut){return new(ut=Be(ut))((st,Gt)=>{const Ut=new S.Ms({next:Bn=>{try{de(Bn)}catch(Un){Gt(Un),Ut.unsubscribe()}},error:Gt,complete:st});this.subscribe(Ut)})}_subscribe(de){var ut;return null===(ut=this.source)||void 0===ut?void 0:ut.subscribe(de)}[ce.s](){return this}pipe(...de){return(0,Te.m)(de)(this)}toPromise(de){return new(de=Be(de))((ut,st)=>{let Gt;this.subscribe(Ut=>Gt=Ut,Ut=>st(Ut),()=>ut(Gt))})}}return _e.create=Oe=>new _e(Oe),_e})();function Be(_e){var Oe;return null!==(Oe=_e??fe.$.Promise)&&void 0!==Oe?Oe:Promise}},1413:(Wt,ze,K)=>{K.d(ze,{B:()=>Z});var S=K(1985),ie=K(8359);const Te=(0,K(1853).L)(Be=>function(){Be(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var fe=K(7908),Q=K(9786);let Z=(()=>{class Be extends S.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ee){const _e=new Je(this,this);return _e.operator=ee,_e}_throwIfClosed(){if(this.closed)throw new Te}next(ee){(0,Q.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const _e of this.currentObservers)_e.next(ee)}})}error(ee){(0,Q.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ee;const{observers:_e}=this;for(;_e.length;)_e.shift().error(ee)}})}complete(){(0,Q.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ee}=this;for(;ee.length;)ee.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var ee;return(null===(ee=this.observers)||void 0===ee?void 0:ee.length)>0}_trySubscribe(ee){return this._throwIfClosed(),super._trySubscribe(ee)}_subscribe(ee){return this._throwIfClosed(),this._checkFinalizedStatuses(ee),this._innerSubscribe(ee)}_innerSubscribe(ee){const{hasError:_e,isStopped:Oe,observers:de}=this;return _e||Oe?ie.Kn:(this.currentObservers=null,de.push(ee),new ie.yU(()=>{this.currentObservers=null,(0,fe.o)(de,ee)}))}_checkFinalizedStatuses(ee){const{hasError:_e,thrownError:Oe,isStopped:de}=this;_e?ee.error(Oe):de&&ee.complete()}asObservable(){const ee=new S.c;return ee.source=this,ee}}return Be.create=(re,ee)=>new Je(re,ee),Be})();class Je extends Z{constructor(re,ee){super(),this.destination=re,this.source=ee}next(re){var ee,_e;null===(_e=null===(ee=this.destination)||void 0===ee?void 0:ee.next)||void 0===_e||_e.call(ee,re)}error(re){var ee,_e;null===(_e=null===(ee=this.destination)||void 0===ee?void 0:ee.error)||void 0===_e||_e.call(ee,re)}complete(){var re,ee;null===(ee=null===(re=this.destination)||void 0===re?void 0:re.complete)||void 0===ee||ee.call(re)}_subscribe(re){var ee,_e;return null!==(_e=null===(ee=this.source)||void 0===ee?void 0:ee.subscribe(re))&&void 0!==_e?_e:ie.Kn}}},7707:(Wt,ze,K)=>{K.d(ze,{Ms:()=>st,vU:()=>_e});var S=K(8071),ie=K(8359),ce=K(1026),Te=K(5334),fe=K(5343);const Q=Be("C",void 0,void 0);function Be(Pe,Ze,Fe){return{kind:Pe,value:Ze,error:Fe}}var re=K(9270),ee=K(9786);class _e extends ie.yU{constructor(Ze){super(),this.isStopped=!1,Ze?(this.destination=Ze,(0,ie.Uv)(Ze)&&Ze.add(this)):this.destination=Un}static create(Ze,Fe,it){return new st(Ze,Fe,it)}next(Ze){this.isStopped?Bn(function Je(Pe){return Be("N",Pe,void 0)}(Ze),this):this._next(Ze)}error(Ze){this.isStopped?Bn(function Z(Pe){return Be("E",void 0,Pe)}(Ze),this):(this.isStopped=!0,this._error(Ze))}complete(){this.isStopped?Bn(Q,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ze){this.destination.next(Ze)}_error(Ze){try{this.destination.error(Ze)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Oe=Function.prototype.bind;function de(Pe,Ze){return Oe.call(Pe,Ze)}class ut{constructor(Ze){this.partialObserver=Ze}next(Ze){const{partialObserver:Fe}=this;if(Fe.next)try{Fe.next(Ze)}catch(it){Gt(it)}}error(Ze){const{partialObserver:Fe}=this;if(Fe.error)try{Fe.error(Ze)}catch(it){Gt(it)}else Gt(Ze)}complete(){const{partialObserver:Ze}=this;if(Ze.complete)try{Ze.complete()}catch(Fe){Gt(Fe)}}}class st extends _e{constructor(Ze,Fe,it){let gt;if(super(),(0,S.T)(Ze)||!Ze)gt={next:Ze??void 0,error:Fe??void 0,complete:it??void 0};else{let Ge;this&&ce.$.useDeprecatedNextContext?(Ge=Object.create(Ze),Ge.unsubscribe=()=>this.unsubscribe(),gt={next:Ze.next&&de(Ze.next,Ge),error:Ze.error&&de(Ze.error,Ge),complete:Ze.complete&&de(Ze.complete,Ge)}):gt=Ze}this.destination=new ut(gt)}}function Gt(Pe){ce.$.useDeprecatedSynchronousErrorHandling?(0,ee.l)(Pe):(0,Te.m)(Pe)}function Bn(Pe,Ze){const{onStoppedNotification:Fe}=ce.$;Fe&&re.f.setTimeout(()=>Fe(Pe,Ze))}const Un={closed:!0,next:fe.l,error:function Ut(Pe){throw Pe},complete:fe.l}},8359:(Wt,ze,K)=>{K.d(ze,{Kn:()=>Q,yU:()=>fe,Uv:()=>Z});var S=K(8071);const ce=(0,K(1853).L)(Be=>function(ee){Be(this),this.message=ee?`${ee.length} errors occurred during unsubscription:\n${ee.map((_e,Oe)=>`${Oe+1}) ${_e.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ee});var Te=K(7908);class fe{constructor(re){this.initialTeardown=re,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let re;if(!this.closed){this.closed=!0;const{_parentage:ee}=this;if(ee)if(this._parentage=null,Array.isArray(ee))for(const de of ee)de.remove(this);else ee.remove(this);const{initialTeardown:_e}=this;if((0,S.T)(_e))try{_e()}catch(de){re=de instanceof ce?de.errors:[de]}const{_finalizers:Oe}=this;if(Oe){this._finalizers=null;for(const de of Oe)try{Je(de)}catch(ut){re=re??[],ut instanceof ce?re=[...re,...ut.errors]:re.push(ut)}}if(re)throw new ce(re)}}add(re){var ee;if(re&&re!==this)if(this.closed)Je(re);else{if(re instanceof fe){if(re.closed||re._hasParent(this))return;re._addParent(this)}(this._finalizers=null!==(ee=this._finalizers)&&void 0!==ee?ee:[]).push(re)}}_hasParent(re){const{_parentage:ee}=this;return ee===re||Array.isArray(ee)&&ee.includes(re)}_addParent(re){const{_parentage:ee}=this;this._parentage=Array.isArray(ee)?(ee.push(re),ee):ee?[ee,re]:re}_removeParent(re){const{_parentage:ee}=this;ee===re?this._parentage=null:Array.isArray(ee)&&(0,Te.o)(ee,re)}remove(re){const{_finalizers:ee}=this;ee&&(0,Te.o)(ee,re),re instanceof fe&&re._removeParent(this)}}fe.EMPTY=(()=>{const Be=new fe;return Be.closed=!0,Be})();const Q=fe.EMPTY;function Z(Be){return Be instanceof fe||Be&&"closed"in Be&&(0,S.T)(Be.remove)&&(0,S.T)(Be.add)&&(0,S.T)(Be.unsubscribe)}function Je(Be){(0,S.T)(Be)?Be():Be.unsubscribe()}},1026:(Wt,ze,K)=>{K.d(ze,{$:()=>S});const S={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},983:(Wt,ze,K)=>{K.d(ze,{w:()=>ie});const ie=new(K(1985).c)(fe=>fe.complete())},8455:(Wt,ze,K)=>{K.d(ze,{H:()=>Ze});var S=K(8750),ie=K(941),ce=K(6745),Q=K(1985),Je=K(4761),Be=K(8071),re=K(5225);function _e(Fe,it){if(!Fe)throw new Error("Iterable cannot be null");return new Q.c(gt=>{(0,re.N)(gt,it,()=>{const Ge=Fe[Symbol.asyncIterator]();(0,re.N)(gt,it,()=>{Ge.next().then($e=>{$e.done?gt.complete():gt.next($e.value)})},0,!0)})})}var Oe=K(5055),de=K(9858),ut=K(7441),st=K(5397),Gt=K(7953),Ut=K(591),Bn=K(5196);function Ze(Fe,it){return it?function Pe(Fe,it){if(null!=Fe){if((0,Oe.l)(Fe))return function Te(Fe,it){return(0,S.Tg)(Fe).pipe((0,ce._)(it),(0,ie.Q)(it))}(Fe,it);if((0,ut.X)(Fe))return function Z(Fe,it){return new Q.c(gt=>{let Ge=0;return it.schedule(function(){Ge===Fe.length?gt.complete():(gt.next(Fe[Ge++]),gt.closed||this.schedule())})})}(Fe,it);if((0,de.y)(Fe))return function fe(Fe,it){return(0,S.Tg)(Fe).pipe((0,ce._)(it),(0,ie.Q)(it))}(Fe,it);if((0,Gt.T)(Fe))return _e(Fe,it);if((0,st.x)(Fe))return function ee(Fe,it){return new Q.c(gt=>{let Ge;return(0,re.N)(gt,it,()=>{Ge=Fe[Je.l](),(0,re.N)(gt,it,()=>{let $e,hn;try{({value:$e,done:hn}=Ge.next())}catch(Nn){return void gt.error(Nn)}hn?gt.complete():gt.next($e)},0,!0)}),()=>(0,Be.T)(Ge?.return)&&Ge.return()})}(Fe,it);if((0,Bn.U)(Fe))return function Un(Fe,it){return _e((0,Bn.C)(Fe),it)}(Fe,it)}throw(0,Ut.L)(Fe)}(Fe,it):(0,S.Tg)(Fe)}},8750:(Wt,ze,K)=>{K.d(ze,{Tg:()=>Oe});var S=K(1635),ie=K(7441),ce=K(9858),Te=K(1985),fe=K(5055),Q=K(7953),Z=K(591),Je=K(5397),Be=K(5196),re=K(8071),ee=K(5334),_e=K(3494);function Oe(Pe){if(Pe instanceof Te.c)return Pe;if(null!=Pe){if((0,fe.l)(Pe))return function de(Pe){return new Te.c(Ze=>{const Fe=Pe[_e.s]();if((0,re.T)(Fe.subscribe))return Fe.subscribe(Ze);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Pe);if((0,ie.X)(Pe))return function ut(Pe){return new Te.c(Ze=>{for(let Fe=0;Fe<Pe.length&&!Ze.closed;Fe++)Ze.next(Pe[Fe]);Ze.complete()})}(Pe);if((0,ce.y)(Pe))return function st(Pe){return new Te.c(Ze=>{Pe.then(Fe=>{Ze.closed||(Ze.next(Fe),Ze.complete())},Fe=>Ze.error(Fe)).then(null,ee.m)})}(Pe);if((0,Q.T)(Pe))return Ut(Pe);if((0,Je.x)(Pe))return function Gt(Pe){return new Te.c(Ze=>{for(const Fe of Pe)if(Ze.next(Fe),Ze.closed)return;Ze.complete()})}(Pe);if((0,Be.U)(Pe))return function Bn(Pe){return Ut((0,Be.C)(Pe))}(Pe)}throw(0,Z.L)(Pe)}function Ut(Pe){return new Te.c(Ze=>{(function Un(Pe,Ze){var Fe,it,gt,Ge;return(0,S.sH)(this,void 0,void 0,function*(){try{for(Fe=(0,S.xN)(Pe);!(it=yield Fe.next()).done;)if(Ze.next(it.value),Ze.closed)return}catch($e){gt={error:$e}}finally{try{it&&!it.done&&(Ge=Fe.return)&&(yield Ge.call(Fe))}finally{if(gt)throw gt.error}}Ze.complete()})})(Pe,Ze).catch(Fe=>Ze.error(Fe))})}},7673:(Wt,ze,K)=>{K.d(ze,{of:()=>ce});var S=K(3794),ie=K(8455);function ce(...Te){const fe=(0,S.lI)(Te);return(0,ie.H)(Te,fe)}},4360:(Wt,ze,K)=>{K.d(ze,{_:()=>ie});var S=K(7707);function ie(Te,fe,Q,Z,Je){return new ce(Te,fe,Q,Z,Je)}class ce extends S.vU{constructor(fe,Q,Z,Je,Be,re){super(fe),this.onFinalize=Be,this.shouldUnsubscribe=re,this._next=Q?function(ee){try{Q(ee)}catch(_e){fe.error(_e)}}:super._next,this._error=Je?function(ee){try{Je(ee)}catch(_e){fe.error(_e)}finally{this.unsubscribe()}}:super._error,this._complete=Z?function(){try{Z()}catch(ee){fe.error(ee)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var fe;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Q}=this;super.unsubscribe(),!Q&&(null===(fe=this.onFinalize)||void 0===fe||fe.call(this))}}}},6354:(Wt,ze,K)=>{K.d(ze,{T:()=>ce});var S=K(9974),ie=K(4360);function ce(Te,fe){return(0,S.N)((Q,Z)=>{let Je=0;Q.subscribe((0,ie._)(Z,Be=>{Z.next(Te.call(fe,Be,Je++))}))})}},6365:(Wt,ze,K)=>{K.d(ze,{U:()=>ce});var S=K(1397),ie=K(3669);function ce(Te=1/0){return(0,S.Z)(ie.D,Te)}},1397:(Wt,ze,K)=>{K.d(ze,{Z:()=>Je});var S=K(6354),ie=K(8750),ce=K(9974),Te=K(5225),fe=K(4360),Z=K(8071);function Je(Be,re,ee=1/0){return(0,Z.T)(re)?Je((_e,Oe)=>(0,S.T)((de,ut)=>re(_e,de,Oe,ut))((0,ie.Tg)(Be(_e,Oe))),ee):("number"==typeof re&&(ee=re),(0,ce.N)((_e,Oe)=>function Q(Be,re,ee,_e,Oe,de,ut,st){const Gt=[];let Ut=0,Bn=0,Un=!1;const Pe=()=>{Un&&!Gt.length&&!Ut&&re.complete()},Ze=it=>Ut<_e?Fe(it):Gt.push(it),Fe=it=>{de&&re.next(it),Ut++;let gt=!1;(0,ie.Tg)(ee(it,Bn++)).subscribe((0,fe._)(re,Ge=>{Oe?.(Ge),de?Ze(Ge):re.next(Ge)},()=>{gt=!0},void 0,()=>{if(gt)try{for(Ut--;Gt.length&&Ut<_e;){const Ge=Gt.shift();ut?(0,Te.N)(re,ut,()=>Fe(Ge)):Fe(Ge)}Pe()}catch(Ge){re.error(Ge)}}))};return Be.subscribe((0,fe._)(re,Ze,()=>{Un=!0,Pe()})),()=>{st?.()}}(_e,Oe,Be,ee)))}},941:(Wt,ze,K)=>{K.d(ze,{Q:()=>Te});var S=K(5225),ie=K(9974),ce=K(4360);function Te(fe,Q=0){return(0,ie.N)((Z,Je)=>{Z.subscribe((0,ce._)(Je,Be=>(0,S.N)(Je,fe,()=>Je.next(Be),Q),()=>(0,S.N)(Je,fe,()=>Je.complete(),Q),Be=>(0,S.N)(Je,fe,()=>Je.error(Be),Q)))})}},6745:(Wt,ze,K)=>{K.d(ze,{_:()=>ie});var S=K(9974);function ie(ce,Te=0){return(0,S.N)((fe,Q)=>{Q.add(ce.schedule(()=>fe.subscribe(Q),Te))})}},5558:(Wt,ze,K)=>{K.d(ze,{n:()=>Te});var S=K(8750),ie=K(9974),ce=K(4360);function Te(fe,Q){return(0,ie.N)((Z,Je)=>{let Be=null,re=0,ee=!1;const _e=()=>ee&&!Be&&Je.complete();Z.subscribe((0,ce._)(Je,Oe=>{Be?.unsubscribe();let de=0;const ut=re++;(0,S.Tg)(fe(Oe,ut)).subscribe(Be=(0,ce._)(Je,st=>Je.next(Q?Q(Oe,st,ut,de++):st),()=>{Be=null,_e()}))},()=>{ee=!0,_e()}))})}},8141:(Wt,ze,K)=>{K.d(ze,{M:()=>fe});var S=K(8071),ie=K(9974),ce=K(4360),Te=K(3669);function fe(Q,Z,Je){const Be=(0,S.T)(Q)||Z||Je?{next:Q,error:Z,complete:Je}:Q;return Be?(0,ie.N)((re,ee)=>{var _e;null===(_e=Be.subscribe)||void 0===_e||_e.call(Be);let Oe=!0;re.subscribe((0,ce._)(ee,de=>{var ut;null===(ut=Be.next)||void 0===ut||ut.call(Be,de),ee.next(de)},()=>{var de;Oe=!1,null===(de=Be.complete)||void 0===de||de.call(Be),ee.complete()},de=>{var ut;Oe=!1,null===(ut=Be.error)||void 0===ut||ut.call(Be,de),ee.error(de)},()=>{var de,ut;Oe&&(null===(de=Be.unsubscribe)||void 0===de||de.call(Be)),null===(ut=Be.finalize)||void 0===ut||ut.call(Be)}))}):Te.D}},9270:(Wt,ze,K)=>{K.d(ze,{f:()=>S});const S={setTimeout(ie,ce,...Te){const{delegate:fe}=S;return fe?.setTimeout?fe.setTimeout(ie,ce,...Te):setTimeout(ie,ce,...Te)},clearTimeout(ie){const{delegate:ce}=S;return(ce?.clearTimeout||clearTimeout)(ie)},delegate:void 0}},4761:(Wt,ze,K)=>{K.d(ze,{l:()=>ie});const ie=function S(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3494:(Wt,ze,K)=>{K.d(ze,{s:()=>S});const S="function"==typeof Symbol&&Symbol.observable||"@@observable"},3794:(Wt,ze,K)=>{K.d(ze,{R0:()=>Q,ms:()=>Te,lI:()=>fe});var S=K(8071);function ce(Z){return Z[Z.length-1]}function Te(Z){return(0,S.T)(ce(Z))?Z.pop():void 0}function fe(Z){return function ie(Z){return Z&&(0,S.T)(Z.schedule)}(ce(Z))?Z.pop():void 0}function Q(Z,Je){return"number"==typeof ce(Z)?Z.pop():Je}},3073:(Wt,ze,K)=>{K.d(ze,{D:()=>fe});const{isArray:S}=Array,{getPrototypeOf:ie,prototype:ce,keys:Te}=Object;function fe(Z){if(1===Z.length){const Je=Z[0];if(S(Je))return{args:Je,keys:null};if(function Q(Z){return Z&&"object"==typeof Z&&ie(Z)===ce}(Je)){const Be=Te(Je);return{args:Be.map(re=>Je[re]),keys:Be}}}return{args:Z,keys:null}}},7908:(Wt,ze,K)=>{function S(ie,ce){if(ie){const Te=ie.indexOf(ce);0<=Te&&ie.splice(Te,1)}}K.d(ze,{o:()=>S})},1853:(Wt,ze,K)=>{function S(ie){const Te=ie(fe=>{Error.call(fe),fe.stack=(new Error).stack});return Te.prototype=Object.create(Error.prototype),Te.prototype.constructor=Te,Te}K.d(ze,{L:()=>S})},8496:(Wt,ze,K)=>{function S(ie,ce){return ie.reduce((Te,fe,Q)=>(Te[fe]=ce[Q],Te),{})}K.d(ze,{e:()=>S})},9786:(Wt,ze,K)=>{K.d(ze,{Y:()=>ce,l:()=>Te});var S=K(1026);let ie=null;function ce(fe){if(S.$.useDeprecatedSynchronousErrorHandling){const Q=!ie;if(Q&&(ie={errorThrown:!1,error:null}),fe(),Q){const{errorThrown:Z,error:Je}=ie;if(ie=null,Z)throw Je}}else fe()}function Te(fe){S.$.useDeprecatedSynchronousErrorHandling&&ie&&(ie.errorThrown=!0,ie.error=fe)}},5225:(Wt,ze,K)=>{function S(ie,ce,Te,fe=0,Q=!1){const Z=ce.schedule(function(){Te(),Q?ie.add(this.schedule(null,fe)):this.unsubscribe()},fe);if(ie.add(Z),!Q)return Z}K.d(ze,{N:()=>S})},3669:(Wt,ze,K)=>{function S(ie){return ie}K.d(ze,{D:()=>S})},7441:(Wt,ze,K)=>{K.d(ze,{X:()=>S});const S=ie=>ie&&"number"==typeof ie.length&&"function"!=typeof ie},7953:(Wt,ze,K)=>{K.d(ze,{T:()=>ie});var S=K(8071);function ie(ce){return Symbol.asyncIterator&&(0,S.T)(ce?.[Symbol.asyncIterator])}},8071:(Wt,ze,K)=>{function S(ie){return"function"==typeof ie}K.d(ze,{T:()=>S})},5055:(Wt,ze,K)=>{K.d(ze,{l:()=>ce});var S=K(3494),ie=K(8071);function ce(Te){return(0,ie.T)(Te[S.s])}},5397:(Wt,ze,K)=>{K.d(ze,{x:()=>ce});var S=K(4761),ie=K(8071);function ce(Te){return(0,ie.T)(Te?.[S.l])}},9858:(Wt,ze,K)=>{K.d(ze,{y:()=>ie});var S=K(8071);function ie(ce){return(0,S.T)(ce?.then)}},5196:(Wt,ze,K)=>{K.d(ze,{C:()=>ce,U:()=>Te});var S=K(1635),ie=K(8071);function ce(fe){return(0,S.AQ)(this,arguments,function*(){const Z=fe.getReader();try{for(;;){const{value:Je,done:Be}=yield(0,S.N3)(Z.read());if(Be)return yield(0,S.N3)(void 0);yield yield(0,S.N3)(Je)}}finally{Z.releaseLock()}})}function Te(fe){return(0,ie.T)(fe?.getReader)}},9974:(Wt,ze,K)=>{K.d(ze,{N:()=>ce,S:()=>ie});var S=K(8071);function ie(Te){return(0,S.T)(Te?.lift)}function ce(Te){return fe=>{if(ie(fe))return fe.lift(function(Q){try{return Te(Q,this)}catch(Z){this.error(Z)}});throw new TypeError("Unable to lift unknown Observable type")}}},6450:(Wt,ze,K)=>{K.d(ze,{I:()=>Te});var S=K(6354);const{isArray:ie}=Array;function Te(fe){return(0,S.T)(Q=>function ce(fe,Q){return ie(Q)?fe(...Q):fe(Q)}(fe,Q))}},5343:(Wt,ze,K)=>{function S(){}K.d(ze,{l:()=>S})},1203:(Wt,ze,K)=>{K.d(ze,{F:()=>ie,m:()=>ce});var S=K(3669);function ie(...Te){return ce(Te)}function ce(Te){return 0===Te.length?S.D:1===Te.length?Te[0]:function(Q){return Te.reduce((Z,Je)=>Je(Z),Q)}}},5334:(Wt,ze,K)=>{K.d(ze,{m:()=>ce});var S=K(1026),ie=K(9270);function ce(Te){ie.f.setTimeout(()=>{const{onUnhandledError:fe}=S.$;if(!fe)throw Te;fe(Te)})}},591:(Wt,ze,K)=>{function S(ie){return new TypeError(`You provided ${null!==ie&&"object"==typeof ie?"an invalid object":`'${ie}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}K.d(ze,{L:()=>S})},177:(Wt,ze,K)=>{K.d(ze,{AJ:()=>oo,MD:()=>ks,N0:()=>Or,QT:()=>ce,Sm:()=>ut,Sq:()=>ds,VF:()=>fe,Vy:()=>Yt,Xr:()=>di,ZD:()=>Te,_b:()=>zs,aZ:()=>Gt,bT:()=>Wi,fw:()=>st,hb:()=>Oe,hj:()=>Je,qQ:()=>Q});var S=K(540);let ie=null;function ce(){return ie}function Te(w){ie||(ie=w)}class fe{}const Q=new S.nKC("DocumentToken");let Z=(()=>{class w{historyGo(M){throw new Error("Not implemented")}static{this.\u0275fac=function(k){return new(k||w)}}static{this.\u0275prov=S.jDH({token:w,factory:function(){return(0,S.WQX)(Be)},providedIn:"platform"})}}return w})();const Je=new S.nKC("Location Initialized");let Be=(()=>{class w extends Z{constructor(){super(),this._doc=(0,S.WQX)(Q),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ce().getBaseHref(this._doc)}onPopState(M){const k=ce().getGlobalEventTarget(this._doc,"window");return k.addEventListener("popstate",M,!1),()=>k.removeEventListener("popstate",M)}onHashChange(M){const k=ce().getGlobalEventTarget(this._doc,"window");return k.addEventListener("hashchange",M,!1),()=>k.removeEventListener("hashchange",M)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(M){this._location.pathname=M}pushState(M,k,Y){this._history.pushState(M,k,Y)}replaceState(M,k,Y){this._history.replaceState(M,k,Y)}forward(){this._history.forward()}back(){this._history.back()}historyGo(M=0){this._history.go(M)}getState(){return this._history.state}static{this.\u0275fac=function(k){return new(k||w)}}static{this.\u0275prov=S.jDH({token:w,factory:function(){return new w},providedIn:"platform"})}}return w})();function re(w,F){if(0==w.length)return F;if(0==F.length)return w;let M=0;return w.endsWith("/")&&M++,F.startsWith("/")&&M++,2==M?w+F.substring(1):1==M?w+F:w+"/"+F}function ee(w){const F=w.match(/#|\?|$/),M=F&&F.index||w.length;return w.slice(0,M-("/"===w[M-1]?1:0))+w.slice(M)}function _e(w){return w&&"?"!==w[0]?"?"+w:w}let Oe=(()=>{class w{historyGo(M){throw new Error("Not implemented")}static{this.\u0275fac=function(k){return new(k||w)}}static{this.\u0275prov=S.jDH({token:w,factory:function(){return(0,S.WQX)(ut)},providedIn:"root"})}}return w})();const de=new S.nKC("appBaseHref");let ut=(()=>{class w extends Oe{constructor(M,k){super(),this._platformLocation=M,this._removeListenerFns=[],this._baseHref=k??this._platformLocation.getBaseHrefFromDOM()??(0,S.WQX)(Q).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(M){this._removeListenerFns.push(this._platformLocation.onPopState(M),this._platformLocation.onHashChange(M))}getBaseHref(){return this._baseHref}prepareExternalUrl(M){return re(this._baseHref,M)}path(M=!1){const k=this._platformLocation.pathname+_e(this._platformLocation.search),Y=this._platformLocation.hash;return Y&&M?`${k}${Y}`:k}pushState(M,k,Y,be){const Ue=this.prepareExternalUrl(Y+_e(be));this._platformLocation.pushState(M,k,Ue)}replaceState(M,k,Y,be){const Ue=this.prepareExternalUrl(Y+_e(be));this._platformLocation.replaceState(M,k,Ue)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(M=0){this._platformLocation.historyGo?.(M)}static{this.\u0275fac=function(k){return new(k||w)(S.KVO(Z),S.KVO(de,8))}}static{this.\u0275prov=S.jDH({token:w,factory:w.\u0275fac,providedIn:"root"})}}return w})(),st=(()=>{class w extends Oe{constructor(M,k){super(),this._platformLocation=M,this._baseHref="",this._removeListenerFns=[],null!=k&&(this._baseHref=k)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(M){this._removeListenerFns.push(this._platformLocation.onPopState(M),this._platformLocation.onHashChange(M))}getBaseHref(){return this._baseHref}path(M=!1){let k=this._platformLocation.hash;return null==k&&(k="#"),k.length>0?k.substring(1):k}prepareExternalUrl(M){const k=re(this._baseHref,M);return k.length>0?"#"+k:k}pushState(M,k,Y,be){let Ue=this.prepareExternalUrl(Y+_e(be));0==Ue.length&&(Ue=this._platformLocation.pathname),this._platformLocation.pushState(M,k,Ue)}replaceState(M,k,Y,be){let Ue=this.prepareExternalUrl(Y+_e(be));0==Ue.length&&(Ue=this._platformLocation.pathname),this._platformLocation.replaceState(M,k,Ue)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(M=0){this._platformLocation.historyGo?.(M)}static{this.\u0275fac=function(k){return new(k||w)(S.KVO(Z),S.KVO(de,8))}}static{this.\u0275prov=S.jDH({token:w,factory:w.\u0275fac})}}return w})(),Gt=(()=>{class w{constructor(M){this._subject=new S.bkB,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=M;const k=this._locationStrategy.getBaseHref();this._basePath=function Pe(w){if(new RegExp("^(https?:)?//").test(w)){const[,M]=w.split(/\/\/[^\/]+/);return M}return w}(ee(Un(k))),this._locationStrategy.onPopState(Y=>{this._subject.emit({url:this.path(!0),pop:!0,state:Y.state,type:Y.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(M=!1){return this.normalize(this._locationStrategy.path(M))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(M,k=""){return this.path()==this.normalize(M+_e(k))}normalize(M){return w.stripTrailingSlash(function Bn(w,F){if(!w||!F.startsWith(w))return F;const M=F.substring(w.length);return""===M||["/",";","?","#"].includes(M[0])?M:F}(this._basePath,Un(M)))}prepareExternalUrl(M){return M&&"/"!==M[0]&&(M="/"+M),this._locationStrategy.prepareExternalUrl(M)}go(M,k="",Y=null){this._locationStrategy.pushState(Y,"",M,k),this._notifyUrlChangeListeners(this.prepareExternalUrl(M+_e(k)),Y)}replaceState(M,k="",Y=null){this._locationStrategy.replaceState(Y,"",M,k),this._notifyUrlChangeListeners(this.prepareExternalUrl(M+_e(k)),Y)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(M=0){this._locationStrategy.historyGo?.(M)}onUrlChange(M){return this._urlChangeListeners.push(M),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(k=>{this._notifyUrlChangeListeners(k.url,k.state)})),()=>{const k=this._urlChangeListeners.indexOf(M);this._urlChangeListeners.splice(k,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(M="",k){this._urlChangeListeners.forEach(Y=>Y(M,k))}subscribe(M,k,Y){return this._subject.subscribe({next:M,error:k,complete:Y})}static{this.normalizeQueryParams=_e}static{this.joinWithSlash=re}static{this.stripTrailingSlash=ee}static{this.\u0275fac=function(k){return new(k||w)(S.KVO(Oe))}}static{this.\u0275prov=S.jDH({token:w,factory:function(){return function Ut(){return new Gt((0,S.KVO)(Oe))}()},providedIn:"root"})}}return w})();function Un(w){return w.replace(/\/index.html$/,"")}function zs(w,F){F=encodeURIComponent(F);for(const M of w.split(";")){const k=M.indexOf("="),[Y,be]=-1==k?[M,""]:[M.slice(0,k),M.slice(k+1)];if(Y.trim()===F)return decodeURIComponent(be)}return null}class _n{constructor(F,M,k,Y){this.$implicit=F,this.ngForOf=M,this.index=k,this.count=Y}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ds=(()=>{class w{set ngForOf(M){this._ngForOf=M,this._ngForOfDirty=!0}set ngForTrackBy(M){this._trackByFn=M}get ngForTrackBy(){return this._trackByFn}constructor(M,k,Y){this._viewContainer=M,this._template=k,this._differs=Y,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(M){M&&(this._template=M)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const M=this._ngForOf;!this._differ&&M&&(this._differ=this._differs.find(M).create(this.ngForTrackBy))}if(this._differ){const M=this._differ.diff(this._ngForOf);M&&this._applyChanges(M)}}_applyChanges(M){const k=this._viewContainer;M.forEachOperation((Y,be,Ue)=>{if(null==Y.previousIndex)k.createEmbeddedView(this._template,new _n(Y.item,this._ngForOf,-1,-1),null===Ue?void 0:Ue);else if(null==Ue)k.remove(null===be?void 0:be);else if(null!==be){const Nt=k.get(be);k.move(Nt,Ue),wr(Nt,Y)}});for(let Y=0,be=k.length;Y<be;Y++){const Nt=k.get(Y).context;Nt.index=Y,Nt.count=be,Nt.ngForOf=this._ngForOf}M.forEachIdentityChange(Y=>{wr(k.get(Y.currentIndex),Y)})}static ngTemplateContextGuard(M,k){return!0}static{this.\u0275fac=function(k){return new(k||w)(S.rXU(S.c1b),S.rXU(S.C4Q),S.rXU(S._q3))}}static{this.\u0275dir=S.FsC({type:w,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return w})();function wr(w,F){w.context.$implicit=F.item}let Wi=(()=>{class w{constructor(M,k){this._viewContainer=M,this._context=new Ki,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=k}set ngIf(M){this._context.$implicit=this._context.ngIf=M,this._updateView()}set ngIfThen(M){Gs("ngIfThen",M),this._thenTemplateRef=M,this._thenViewRef=null,this._updateView()}set ngIfElse(M){Gs("ngIfElse",M),this._elseTemplateRef=M,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(M,k){return!0}static{this.\u0275fac=function(k){return new(k||w)(S.rXU(S.c1b),S.rXU(S.C4Q))}}static{this.\u0275dir=S.FsC({type:w,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return w})();class Ki{constructor(){this.$implicit=null,this.ngIf=null}}function Gs(w,F){if(F&&!F.createEmbeddedView)throw new Error(`${w} must be a TemplateRef, but received '${(0,S.Tbb)(F)}'.`)}let ks=(()=>{class w{static{this.\u0275fac=function(k){return new(k||w)}}static{this.\u0275mod=S.$C({type:w})}static{this.\u0275inj=S.G2t({})}}return w})();const oo="browser",Ha="server";function Yt(w){return w===Ha}let di=(()=>{class w{static{this.\u0275prov=(0,S.jDH)({token:w,providedIn:"root",factory:()=>new hi((0,S.KVO)(Q),window)})}}return w})();class hi{constructor(F,M){this.document=F,this.window=M,this.offset=()=>[0,0]}setOffset(F){this.offset=Array.isArray(F)?()=>F:F}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(F){this.supportsScrolling()&&this.window.scrollTo(F[0],F[1])}scrollToAnchor(F){if(!this.supportsScrolling())return;const M=function Er(w,F){const M=w.getElementById(F)||w.getElementsByName(F)[0];if(M)return M;if("function"==typeof w.createTreeWalker&&w.body&&"function"==typeof w.body.attachShadow){const k=w.createTreeWalker(w.body,NodeFilter.SHOW_ELEMENT);let Y=k.currentNode;for(;Y;){const be=Y.shadowRoot;if(be){const Ue=be.getElementById(F)||be.querySelector(`[name="${F}"]`);if(Ue)return Ue}Y=k.nextNode()}}return null}(this.document,F);M&&(this.scrollToElement(M),M.focus())}setHistoryScrollRestoration(F){this.supportsScrolling()&&(this.window.history.scrollRestoration=F)}scrollToElement(F){const M=F.getBoundingClientRect(),k=M.left+this.window.pageXOffset,Y=M.top+this.window.pageYOffset,be=this.offset();this.window.scrollTo(k-be[0],Y-be[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class Or{}},540:(Wt,ze,K)=>{K.d(ze,{iLQ:()=>zI,sZ2:()=>Jl,hnV:()=>TE,Hbi:()=>Hb,o8S:()=>mp,BIS:()=>kv,gRc:()=>Sb,Ql9:()=>qC,Ocv:()=>GC,Z63:()=>rh,aKT:()=>cd,uvJ:()=>uu,zcH:()=>Mu,bkB:()=>du,$GK:()=>yt,nKC:()=>zt,zZn:()=>lu,_q3:()=>XI,MKu:()=>YI,xe9:()=>rv,Co$:()=>xw,Vns:()=>xh,NEm:()=>Ib,SKi:()=>cs,Xx1:()=>aa,Agw:()=>uh,PLl:()=>mf,sFG:()=>cg,_9s:()=>qm,czy:()=>Qc,kdw:()=>bs,C4Q:()=>um,NYb:()=>mb,giA:()=>RE,xvI:()=>Cf,RxE:()=>Qm,c1b:()=>tv,gXe:()=>_i,L39:()=>eA,Ol2:()=>Rw,w6W:()=>bT,oH4:()=>LE,Rfq:()=>Ge,WQX:()=>wt,QuC:()=>qi,fpN:()=>$b,HJs:()=>nA,O8t:()=>ws,H3F:()=>CE,H8p:()=>Yp,$K3:()=>bE,KH2:()=>hp,wOt:()=>We,WHO:()=>xE,e01:()=>NE,H5H:()=>yI,mq5:()=>tw,JZv:()=>Pt,LfX:()=>Wn,plB:()=>PI,jNT:()=>By,zjR:()=>Yg,TL$:()=>xm,Tbb:()=>Fe,Vt3:()=>Jf,GFd:()=>Mc,OA$:()=>Ye,Jv_:()=>Mw,aNF:()=>Ow,R7$:()=>bg,BMQ:()=>wh,AVh:()=>Ky,wni:()=>rE,VBU:()=>So,FsC:()=>is,jDH:()=>gn,G2t:()=>Jt,$C:()=>ga,EJ8:()=>Ps,rXU:()=>pd,nrm:()=>Ly,k0s:()=>ap,j41:()=>op,RV6:()=>$_,xGo:()=>$u,KVO:()=>vt,kS0:()=>A,QTQ:()=>Bf,bIt:()=>Cd,lsd:()=>iE,XpG:()=>$y,Y8G:()=>Py,mGM:()=>nE,Njj:()=>Qa,eBV:()=>Bs,n$t:()=>uf,DNE:()=>Ny,EFF:()=>E,JRh:()=>J,SpI:()=>De,Lme:()=>Re,E5c:()=>ot});var S=K(1413),ie=K(8359),ce=K(1985),Te=K(6365),fe=K(8750),Q=K(983),Z=K(3794),Je=K(8455),re=K(4412),ee=K(7673),_e=K(7707),Oe=K(9974);function de(t={}){const{connector:r=(()=>new S.B),resetOnError:s=!0,resetOnComplete:a=!0,resetOnRefCountZero:c=!0}=t;return d=>{let g,v,b,O=0,V=!1,q=!1;const oe=()=>{v?.unsubscribe(),v=void 0},ge=()=>{oe(),g=b=void 0,V=q=!1},Le=()=>{const tt=g;ge(),tt?.unsubscribe()};return(0,Oe.N)((tt,Dt)=>{O++,!q&&!V&&oe();const Ht=b=b??r();Dt.add(()=>{O--,0===O&&!q&&!V&&(v=ut(Le,c))}),Ht.subscribe(Dt),!g&&O>0&&(g=new _e.Ms({next:qe=>Ht.next(qe),error:qe=>{q=!0,oe(),v=ut(ge,s,qe),Ht.error(qe)},complete:()=>{V=!0,oe(),v=ut(ge,a),Ht.complete()}}),(0,fe.Tg)(tt).subscribe(g))})(d)}}function ut(t,r,...s){if(!0===r)return void t();if(!1===r)return;const a=new _e.Ms({next:()=>{a.unsubscribe(),t()}});return(0,fe.Tg)(r(...s)).subscribe(a)}var st=K(5558),Gt=K(3669),Ut=K(4360);function Un(t,r){return t===r}function Pe(t){for(let r in t)if(t[r]===Pe)return r;throw Error("Could not find renamed property on target object.")}function Ze(t,r){for(const s in r)r.hasOwnProperty(s)&&!t.hasOwnProperty(s)&&(t[s]=r[s])}function Fe(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Fe).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const r=t.toString();if(null==r)return""+r;const s=r.indexOf("\n");return-1===s?r:r.substring(0,s)}function it(t,r){return null==t||""===t?null===r?"":r:null==r||""===r?t:t+" "+r}const gt=Pe({__forward_ref__:Pe});function Ge(t){return t.__forward_ref__=Ge,t.toString=function(){return Fe(this())},t}function $e(t){return hn(t)?t():t}function hn(t){return"function"==typeof t&&t.hasOwnProperty(gt)&&t.__forward_ref__===Ge}function Nn(t){return t&&!!t.\u0275providers}const et="https://g.co/ng/security#xss";class We extends Error{constructor(r,s){super(function wn(t,r){return`NG0${Math.abs(t)}${r?": "+r:""}`}(r,s)),this.code=r}}function ct(t){return"string"==typeof t?t:null==t?"":String(t)}function ye(t,r){throw new We(-201,!1)}function cn(t,r){null==t&&function xt(t,r,s,a){throw new Error(`ASSERTION ERROR: ${t}`+(null==a?"":` [Expected=> ${s} ${a} ${r} <=Actual]`))}(r,t,null,"!=")}function gn(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Jt(t){return{providers:t.providers||[],imports:t.imports||[]}}function qt(t){return _r(t,Jn)||_r(t,bn)}function Wn(t){return null!==qt(t)}function _r(t,r){return t.hasOwnProperty(r)?t[r]:null}function Kn(t){return t&&(t.hasOwnProperty(Ar)||t.hasOwnProperty(Ni))?t[Ar]:null}const Jn=Pe({\u0275prov:Pe}),Ar=Pe({\u0275inj:Pe}),bn=Pe({ngInjectableDef:Pe}),Ni=Pe({ngInjectorDef:Pe});var yt=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(yt||{});let vi;function fr(t){const r=vi;return vi=t,r}function Sr(t,r,s){const a=qt(t);return a&&"root"==a.providedIn?void 0===a.value?a.value=a.factory():a.value:s&yt.Optional?null:void 0!==r?r:void ye(Fe(t))}const Pt=globalThis;class zt{constructor(r,s){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=gn({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Vt={},Bt="__NG_DI_FLAG__",vn="ngTempTokenPath",ar=/\n/gm,Ti="__source";let Ci;function ve(t){const r=Ci;return Ci=t,r}function Xe(t,r=yt.Default){if(void 0===Ci)throw new We(-203,!1);return null===Ci?Sr(t,void 0,r):Ci.get(t,r&yt.Optional?null:void 0,r)}function vt(t,r=yt.Default){return(function Jr(){return vi}()||Xe)($e(t),r)}function wt(t,r=yt.Default){return vt(t,on(r))}function on(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Ir(t){const r=[];for(let s=0;s<t.length;s++){const a=$e(t[s]);if(Array.isArray(a)){if(0===a.length)throw new We(900,!1);let c,d=yt.Default;for(let g=0;g<a.length;g++){const v=a[g],b=ui(v);"number"==typeof b?-1===b?c=v.token:d|=b:c=v}r.push(vt(c,d))}else r.push(vt(a))}return r}function jn(t,r){return t[Bt]=r,t.prototype[Bt]=r,t}function ui(t){return t[Bt]}function Lr(t){return{toString:t}.toString()}var bi=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(bi||{}),_i=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(_i||{});const Ii={},_n=[],ds=Pe({\u0275cmp:Pe}),wr=Pe({\u0275dir:Pe}),hs=Pe({\u0275pipe:Pe}),Wi=Pe({\u0275mod:Pe}),Ki=Pe({\u0275fac:Pe}),Gs=Pe({__NG_ELEMENT_ID__:Pe}),se=Pe({__NG_ENV_ID__:Pe});function ae(t,r,s){let a=t.length;for(;;){const c=t.indexOf(r,s);if(-1===c)return c;if(0===c||t.charCodeAt(c-1)<=32){const d=r.length;if(c+d===a||t.charCodeAt(c+d)<=32)return c}s=c+1}}function we(t,r,s){let a=0;for(;a<s.length;){const c=s[a];if("number"==typeof c){if(0!==c)break;a++;const d=s[a++],g=s[a++],v=s[a++];t.setAttribute(r,g,v,d)}else{const d=c,g=s[++a];rt(d)?t.setProperty(r,d,g):t.setAttribute(r,d,g),a++}}return a}function ke(t){return 3===t||4===t||6===t}function rt(t){return 64===t.charCodeAt(0)}function kt(t,r){if(null!==r&&0!==r.length)if(null===t||0===t.length)t=r.slice();else{let s=-1;for(let a=0;a<r.length;a++){const c=r[a];"number"==typeof c?s=c:0===s||mn(t,s,c,null,-1===s||2===s?r[++a]:null)}}return t}function mn(t,r,s,a,c){let d=0,g=t.length;if(-1===r)g=-1;else for(;d<t.length;){const v=t[d++];if("number"==typeof v){if(v===r){g=-1;break}if(v>r){g=d-1;break}}}for(;d<t.length;){const v=t[d];if("number"==typeof v)break;if(v===s){if(null===a)return void(null!==c&&(t[d+1]=c));if(a===t[d+1])return void(t[d+2]=c)}d++,null!==a&&d++,null!==c&&d++}-1!==g&&(t.splice(g,0,r),d=g+1),t.splice(d++,0,s),null!==a&&t.splice(d++,0,a),null!==c&&t.splice(d++,0,c)}const en="ng-template";function Cn(t,r,s){let a=0,c=!0;for(;a<t.length;){let d=t[a++];if("string"==typeof d&&c){const g=t[a++];if(s&&"class"===d&&-1!==ae(g.toLowerCase(),r,0))return!0}else{if(1===d){for(;a<t.length&&"string"==typeof(d=t[a++]);)if(d.toLowerCase()===r)return!0;return!1}"number"==typeof d&&(c=!1)}}return!1}function Gr(t){return 4===t.type&&t.value!==en}function Fr(t,r,s){return r===(4!==t.type||s?t.value:en)}function Nr(t,r,s){let a=4;const c=t.attrs||[],d=function Go(t){for(let r=0;r<t.length;r++)if(ke(t[r]))return r;return t.length}(c);let g=!1;for(let v=0;v<r.length;v++){const b=r[v];if("number"!=typeof b){if(!g)if(4&a){if(a=2|1&a,""!==b&&!Fr(t,b,s)||""===b&&1===r.length){if(Qn(a))return!1;g=!0}}else{const O=8&a?b:r[++v];if(8&a&&null!==t.attrs){if(!Cn(t.attrs,O,s)){if(Qn(a))return!1;g=!0}continue}const q=Ao(8&a?"class":b,c,Gr(t),s);if(-1===q){if(Qn(a))return!1;g=!0;continue}if(""!==O){let oe;oe=q>d?"":c[q+1].toLowerCase();const ge=8&a?oe:null;if(ge&&-1!==ae(ge,O,0)||2&a&&O!==oe){if(Qn(a))return!1;g=!0}}}}else{if(!g&&!Qn(a)&&!Qn(b))return!1;if(g&&Qn(b))continue;g=!1,a=b|1&a}}return Qn(a)||g}function Qn(t){return 0==(1&t)}function Ao(t,r,s,a){if(null===r)return-1;let c=0;if(a||!s){let d=!1;for(;c<r.length;){const g=r[c];if(g===t)return c;if(3===g||6===g)d=!0;else{if(1===g||2===g){let v=r[++c];for(;"string"==typeof v;)v=r[++c];continue}if(4===g)break;if(0===g){c+=4;continue}}c+=d?1:2}return-1}return function ja(t,r){let s=t.indexOf(4);if(s>-1)for(s++;s<t.length;){const a=t[s];if("number"==typeof a)return-1;if(a===r)return s;s++}return-1}(r,t)}function Ba(t,r,s=!1){for(let a=0;a<r.length;a++)if(Nr(t,r[a],s))return!0;return!1}function ha(t,r){return t?":not("+r.trim()+")":r}function fa(t){let r=t[0],s=1,a=2,c="",d=!1;for(;s<t.length;){let g=t[s];if("string"==typeof g)if(2&a){const v=t[++s];c+="["+g+(v.length>0?'="'+v+'"':"")+"]"}else 8&a?c+="."+g:4&a&&(c+=" "+g);else""!==c&&!Qn(g)&&(r+=ha(d,c),c=""),a=g,d=d||!Qn(a);s++}return""!==c&&(r+=ha(d,c)),r}function So(t){return Lr(()=>{const r=Wo(t),s={...r,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===bi.OnPush,directiveDefs:null,pipeDefs:null,dependencies:r.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||_i.Emulated,styles:t.styles||_n,_:null,schemas:t.schemas||null,tView:null,id:""};ks(s);const a=t.dependencies;return s.directiveDefs=oo(a,!1),s.pipeDefs=oo(a,!0),s.id=function ao(t){let r=0;const s=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const c of s)r=Math.imul(31,r)+c.charCodeAt(0)<<0;return r+=2147483648,"c"+r}(s),s})}function pa(t){return an(t)||Rn(t)}function $a(t){return null!==t}function ga(t){return Lr(()=>({type:t.type,bootstrap:t.bootstrap||_n,declarations:t.declarations||_n,imports:t.imports||_n,exports:t.exports||_n,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function ci(t,r){if(null==t)return Ii;const s={};for(const a in t)if(t.hasOwnProperty(a)){let c=t[a],d=c;Array.isArray(c)&&(d=c[1],c=c[0]),s[c]=a,r&&(r[c]=d)}return s}function is(t){return Lr(()=>{const r=Wo(t);return ks(r),r})}function Ps(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function an(t){return t[ds]||null}function Rn(t){return t[wr]||null}function Xt(t){return t[hs]||null}function qi(t){const r=an(t)||Rn(t)||Xt(t);return null!==r&&r.standalone}function Rr(t,r){const s=t[Wi]||null;if(!s&&!0===r)throw new Error(`Type ${Fe(t)} does not have '\u0275mod' property.`);return s}function Wo(t){const r={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:r,inputTransforms:null,inputConfig:t.inputs||Ii,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||_n,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:ci(t.inputs,r),outputs:ci(t.outputs)}}function ks(t){t.features?.forEach(r=>r(t))}function oo(t,r){if(!t)return null;const s=r?Xt:pa;return()=>("function"==typeof t?t():t).map(a=>s(a)).filter($a)}const Xn=0,It=1,Yt=2,On=3,li=4,uo=5,di=6,hi=7,Er=8,Ws=9,Or=10,rn=11,Qi=12,ma=13,Ks=14,Dr=15,co=16,fi=17,Xi=18,qs=19,fu=20,ps=21,Yi=22,Ur=23,Ls=24,En=25,pi=1,gs=2,Mr=7,Fi=9,Vr=11;function ti(t){return Array.isArray(t)&&"object"==typeof t[pi]}function Br(t){return Array.isArray(t)&&!0===t[pi]}function xo(t){return 0!=(4&t.flags)}function ms(t){return t.componentOffset>-1}function Pn(t){return 1==(1&t.flags)}function gr(t){return!!t.template}function qo(t){return 0!=(512&t[Yt])}function Xs(t,r){return t.hasOwnProperty(Ki)?t[Ki]:null}let Vn=null,Ys=!1;function Oi(t){const r=Vn;return Vn=t,r}const Fs={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function Ai(t){if(!Us(t)||t.dirty){if(!t.producerMustRecompute(t)&&!Po(t))return void(t.dirty=!1);t.producerRecomputeValue(t),t.dirty=!1}}function Ka(t){t.dirty=!0,function ho(t){if(void 0===t.liveConsumerNode)return;const r=Ys;Ys=!0;try{for(const s of t.liveConsumerNode)s.dirty||Ka(s)}finally{Ys=r}}(t),t.consumerMarkedDirty?.(t)}function fo(t){return t&&(t.nextProducerIndex=0),Oi(t)}function _s(t,r){if(Oi(r),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(Us(t))for(let s=t.nextProducerIndex;s<t.producerNode.length;s++)po(t.producerNode[s],t.producerIndexOfThis[s]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Po(t){Ui(t);for(let r=0;r<t.producerNode.length;r++){const s=t.producerNode[r],a=t.producerLastReadVersion[r];if(a!==s.version||(Ai(s),a!==s.version))return!0}return!1}function Da(t){if(Ui(t),Us(t))for(let r=0;r<t.producerNode.length;r++)po(t.producerNode[r],t.producerIndexOfThis[r]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function po(t,r){if(function Vi(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),Ui(t),1===t.liveConsumerNode.length)for(let a=0;a<t.producerNode.length;a++)po(t.producerNode[a],t.producerIndexOfThis[a]);const s=t.liveConsumerNode.length-1;if(t.liveConsumerNode[r]=t.liveConsumerNode[s],t.liveConsumerIndexOfThis[r]=t.liveConsumerIndexOfThis[s],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,r<t.liveConsumerNode.length){const a=t.liveConsumerIndexOfThis[r],c=t.liveConsumerNode[r];Ui(c),c.producerIndexOfThis[a]=r}}function Us(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Ui(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let Y=null;function ws(t){const r=Oi(null);try{return t()}finally{Oi(r)}}const lr=()=>{},Kr=(()=>({...Fs,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule(t.ref)},hasRun:!1,cleanupFn:lr}))();class Zo{constructor(r,s,a){this.previousValue=r,this.currentValue=s,this.firstChange=a}isFirstChange(){return this.firstChange}}function Ye(){return $r}function $r(t){return t.type.prototype.ngOnChanges&&(t.setInput=Ta),Es}function Es(){const t=Rt(this),r=t?.current;if(r){const s=t.previous;if(s===Ii)t.previous=r;else for(let a in r)s[a]=r[a];t.current=null,this.ngOnChanges(r)}}function Ta(t,r,s,a){const c=this.declaredInputs[s],d=Rt(t)||function mu(t,r){return t[Et]=r}(t,{previous:Ii,current:null}),g=d.current||(d.current={}),v=d.previous,b=v[c];g[c]=new Zo(b&&b.currentValue,r,v===Ii),t[a]=r}Ye.ngInherit=!0;const Et="__ngSimpleChanges__";function Rt(t){return t[Et]||null}const Ve=function(t,r,s){};function kn(t){for(;Array.isArray(t);)t=t[Xn];return t}function Vu(t,r){return kn(r[t])}function Mi(t,r){return kn(r[t.index])}function Bu(t,r){return t.data[r]}function Vs(t,r){const s=r[t];return ti(s)?s:s[Xn]}function Zi(t,r){return null==r?null:t[r]}function Ei(t){t[fi]=0}function xr(t){1024&t[Yt]||(t[Yt]|=1024,Jo(t,1))}function Ct(t){1024&t[Yt]&&(t[Yt]&=-1025,Jo(t,-1))}function Jo(t,r){let s=t[On];if(null===s)return;s[uo]+=r;let a=s;for(s=s[On];null!==s&&(1===r&&1===a[uo]||-1===r&&0===a[uo]);)s[uo]+=r,a=s,s=s[On]}const bt={lFrame:Mn(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Ca(){return bt.bindingsEnabled}function He(){return bt.lFrame.lView}function Ln(){return bt.lFrame.tView}function Bs(t){return bt.lFrame.contextLView=t,t[Er]}function Qa(t){return bt.lFrame.contextLView=null,t}function pe(){let t=Xa();for(;null!==t&&64===t.type;)t=t.parent;return t}function Xa(){return bt.lFrame.currentTNode}function Js(t,r){const s=bt.lFrame;s.currentTNode=t,s.isParent=r}function yo(){return bt.lFrame.isParent}function to(){return bt.lFrame.bindingIndex}function ii(){return bt.lFrame.bindingIndex++}function Ts(t){const r=bt.lFrame,s=r.bindingIndex;return r.bindingIndex=r.bindingIndex+t,s}function m(t,r){const s=bt.lFrame;s.bindingIndex=s.bindingRootIndex=t,N(r)}function N(t){bt.lFrame.currentDirectiveIndex=t}function X(){return bt.lFrame.currentQueryIndex}function Ce(t){bt.lFrame.currentQueryIndex=t}function Ee(t){const r=t[It];return 2===r.type?r.declTNode:1===r.type?t[di]:null}function mt(t,r,s){if(s&yt.SkipSelf){let c=r,d=t;for(;!(c=c.parent,null!==c||s&yt.Host||(c=Ee(d),null===c||(d=d[Ks],10&c.type))););if(null===c)return!1;r=c,t=d}const a=bt.lFrame=Sn();return a.currentTNode=r,a.lView=t,!0}function Zt(t){const r=Sn(),s=t[It];bt.lFrame=r,r.currentTNode=s.firstChild,r.lView=t,r.tView=s,r.contextLView=t,r.bindingIndex=s.bindingStartIndex,r.inI18n=!1}function Sn(){const t=bt.lFrame,r=null===t?null:t.child;return null===r?Mn(t):r}function Mn(t){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=r),r}function no(){const t=bt.lFrame;return bt.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const Bi=no;function ro(){const t=no();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function xi(){return bt.lFrame.selectedIndex}function Sa(t){bt.lFrame.selectedIndex=t}function qr(){const t=bt.lFrame;return Bu(t.tView,t.selectedIndex)}let xd=!0;function Eu(){return xd}function io(t){xd=t}function Hr(t,r){for(let s=r.directiveStart,a=r.directiveEnd;s<a;s++){const d=t.data[s].type.prototype,{ngAfterContentInit:g,ngAfterContentChecked:v,ngAfterViewInit:b,ngAfterViewChecked:O,ngOnDestroy:V}=d;g&&(t.contentHooks??=[]).push(-s,g),v&&((t.contentHooks??=[]).push(s,v),(t.contentCheckHooks??=[]).push(s,v)),b&&(t.viewHooks??=[]).push(-s,b),O&&((t.viewHooks??=[]).push(s,O),(t.viewCheckHooks??=[]).push(s,O)),null!=V&&(t.destroyHooks??=[]).push(s,V)}}function ac(t,r,s){yr(t,r,3,s)}function Lo(t,r,s,a){(3&t[Yt])===s&&yr(t,r,s,a)}function Du(t,r){let s=t[Yt];(3&s)===r&&(s&=8191,s+=1,t[Yt]=s)}function yr(t,r,s,a){const d=a??-1,g=r.length-1;let v=0;for(let b=void 0!==a?65535&t[fi]:0;b<g;b++)if("number"==typeof r[b+1]){if(v=r[b],null!=a&&v>=a)break}else r[b]<0&&(t[fi]+=65536),(v<d||-1==d)&&($i(t,s,r,b),t[fi]=(4294901760&t[fi])+b+2),b++}function Ma(t,r){Ve(4,t,r);const s=Oi(null);try{r.call(t)}finally{Oi(s),Ve(5,t,r)}}function $i(t,r,s,a){const c=s[a]<0,d=s[a+1],v=t[c?-s[a]:s[a]];c?t[Yt]>>13<t[fi]>>16&&(3&t[Yt])===r&&(t[Yt]+=8192,Ma(v,d)):Ma(v,d)}const dr=-1;class Ya{constructor(r,s,a){this.factory=r,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=a}}function vo(t){return t!==dr}function Fo(t){return 32767&t}function _o(t,r){let s=function xl(t){return t>>16}(t),a=r;for(;s>0;)a=a[Ks],s--;return a}let kc=!0;function $s(t){const r=kc;return kc=t,r}const Na=255,Uo=5;let Vo=0;const Hi={};function Ja(t,r){const s=Ra(t,r);if(-1!==s)return s;const a=r[It];a.firstCreatePass&&(t.injectorIndex=r.length,Bo(a.data,t),Bo(r,null),Bo(a.blueprint,null));const c=ia(t,r),d=t.injectorIndex;if(vo(c)){const g=Fo(c),v=_o(c,r),b=v[It].data;for(let O=0;O<8;O++)r[d+O]=v[g+O]|b[g+O]}return r[d+8]=c,d}function Bo(t,r){t.push(0,0,0,0,0,0,0,0,r)}function Ra(t,r){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===r[t.injectorIndex+8]?-1:t.injectorIndex}function ia(t,r){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let s=0,a=null,c=r;for(;null!==c;){if(a=I(c),null===a)return dr;if(s++,c=c[Ks],-1!==a.injectorIndex)return a.injectorIndex|s<<16}return dr}function wo(t,r,s){!function Io(t,r,s){let a;"string"==typeof s?a=s.charCodeAt(0)||0:s.hasOwnProperty(Gs)&&(a=s[Gs]),null==a&&(a=s[Gs]=Vo++);const c=a&Na;r.data[t+(c>>Uo)]|=1<<c}(t,r,s)}function eu(t,r,s){if(s&yt.Optional||void 0!==t)return t;ye()}function Rl(t,r,s,a){if(s&yt.Optional&&void 0===a&&(a=null),!(s&(yt.Self|yt.Host))){const c=t[Ws],d=fr(void 0);try{return c?c.get(r,a,s&yt.Optional):Sr(r,a,s&yt.Optional)}finally{fr(d)}}return eu(a,0,s)}function Lc(t,r,s,a=yt.Default,c){if(null!==t){if(2048&r[Yt]&&!(a&yt.Self)){const g=function Cu(t,r,s,a,c){let d=t,g=r;for(;null!==d&&null!==g&&2048&g[Yt]&&!(512&g[Yt]);){const v=Tu(d,g,s,a|yt.Self,Hi);if(v!==Hi)return v;let b=d.parent;if(!b){const O=g[fu];if(O){const V=O.get(s,Hi,a);if(V!==Hi)return V}b=I(g),g=g[Ks]}d=b}return c}(t,r,s,a,Hi);if(g!==Hi)return g}const d=Tu(t,r,s,a,Hi);if(d!==Hi)return d}return Rl(r,s,a,c)}function Tu(t,r,s,a,c){const d=function Nd(t){if("string"==typeof t)return t.charCodeAt(0)||0;const r=t.hasOwnProperty(Gs)?t[Gs]:void 0;return"number"==typeof r?r>=0?r&Na:Oa:r}(s);if("function"==typeof d){if(!mt(r,t,a))return a&yt.Host?eu(c,0,a):Rl(r,s,a,c);try{let g;if(g=d(a),null!=g||a&yt.Optional)return g;ye()}finally{Bi()}}else if("number"==typeof d){let g=null,v=Ra(t,r),b=dr,O=a&yt.Host?r[Dr][di]:null;for((-1===v||a&yt.SkipSelf)&&(b=-1===v?ia(t,r):r[v+8],b!==dr&&Fc(a,!1)?(g=r[It],v=Fo(b),r=_o(b,r)):v=-1);-1!==v;){const V=r[It];if(oa(d,v,V.data)){const q=jo(v,r,s,g,a,O);if(q!==Hi)return q}b=r[v+8],b!==dr&&Fc(a,r[It].data[v+8]===O)&&oa(d,v,r)?(g=V,v=Fo(b),r=_o(b,r)):v=-1}}return c}function jo(t,r,s,a,c,d){const g=r[It],v=g.data[t+8],V=sa(v,g,s,null==a?ms(v)&&kc:a!=g&&0!=(3&v.type),c&yt.Host&&d===v);return null!==V?tu(r,g,V,v):Hi}function sa(t,r,s,a,c){const d=t.providerIndexes,g=r.data,v=1048575&d,b=t.directiveStart,V=d>>20,oe=c?v+V:t.directiveEnd;for(let ge=a?v:v+V;ge<oe;ge++){const Le=g[ge];if(ge<b&&s===Le||ge>=b&&Le.type===s)return ge}if(c){const ge=g[b];if(ge&&gr(ge)&&ge.type===s)return b}return null}function tu(t,r,s,a){let c=t[s];const d=r.data;if(function Za(t){return t instanceof Ya}(c)){const g=c;g.resolving&&function sr(t,r){const s=r?`. Dependency path: ${r.join(" > ")} > ${t}`:"";throw new We(-200,`Circular dependency in DI detected for ${t}${s}`)}(function jt(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():ct(t)}(d[s]));const v=$s(g.canSeeViewProviders);g.resolving=!0;const O=g.injectImpl?fr(g.injectImpl):null;mt(t,a,yt.Default);try{c=t[s]=g.factory(void 0,d,t,a),r.firstCreatePass&&s>=a.directiveStart&&function Al(t,r,s){const{ngOnChanges:a,ngOnInit:c,ngDoCheck:d}=r.type.prototype;if(a){const g=$r(r);(s.preOrderHooks??=[]).push(t,g),(s.preOrderCheckHooks??=[]).push(t,g)}c&&(s.preOrderHooks??=[]).push(0-t,c),d&&((s.preOrderHooks??=[]).push(t,d),(s.preOrderCheckHooks??=[]).push(t,d))}(s,d[s],r)}finally{null!==O&&fr(O),$s(v),g.resolving=!1,Bi()}}return c}function oa(t,r,s){return!!(s[r+(t>>Uo)]&1<<t)}function Fc(t,r){return!(t&yt.Self||t&yt.Host&&r)}class Fn{constructor(r,s){this._tNode=r,this._lView=s}get(r,s,a){return Lc(this._tNode,this._lView,r,on(a),s)}}function Oa(){return new Fn(pe(),He())}function $u(t){return Lr(()=>{const r=t.prototype.constructor,s=r[Ki]||cc(r),a=Object.prototype;let c=Object.getPrototypeOf(t.prototype).constructor;for(;c&&c!==a;){const d=c[Ki]||cc(c);if(d&&d!==s)return d;c=Object.getPrototypeOf(c)}return d=>new d})}function cc(t){return hn(t)?()=>{const r=cc($e(t));return r&&r()}:Xs(t)}function I(t){const r=t[It],s=r.type;return 2===s?r.declTNode:1===s?t[di]:null}function A(t){return function Nl(t,r){if("class"===r)return t.classes;if("style"===r)return t.styles;const s=t.attrs;if(s){const a=s.length;let c=0;for(;c<a;){const d=s[c];if(ke(d))break;if(0===d)c+=2;else if("number"==typeof d)for(c++;c<a&&"string"==typeof s[c];)c++;else{if(d===r)return s[c+1];c+=2}}}return null}(pe(),t)}const H="__parameters__";function lt(t,r,s){return Lr(()=>{const a=function xe(t){return function(...s){if(t){const a=t(...s);for(const c in a)this[c]=a[c]}}}(r);function c(...d){if(this instanceof c)return a.apply(this,d),this;const g=new c(...d);return v.annotation=g,v;function v(b,O,V){const q=b.hasOwnProperty(H)?b[H]:Object.defineProperty(b,H,{value:[]})[H];for(;q.length<=V;)q.push(null);return(q[V]=q[V]||[]).push(g),b}}return s&&(c.prototype=Object.create(s.prototype)),c.prototype.ngMetadataName=t,c.annotationCls=c,c})}function ru(t,r){t.forEach(s=>Array.isArray(s)?ru(s,r):r(s))}function Vc(t,r,s){r>=t.length?t.push(s):t.splice(r,0,s)}function Bc(t,r){return r>=t.length-1?t.pop():t.splice(r,1)[0]}function Cs(t,r,s){let a=ou(t,r);return a>=0?t[1|a]=s:(a=~a,function hc(t,r,s,a){let c=t.length;if(c==r)t.push(s,a);else if(1===c)t.push(a,t[0]),t[0]=s;else{for(c--,t.push(t[c-1],t[c]);c>r;)t[c]=t[c-2],c--;t[r]=s,t[r+1]=a}}(t,a,r,s)),a}function su(t,r){const s=ou(t,r);if(s>=0)return t[1|s]}function ou(t,r){return function es(t,r,s){let a=0,c=t.length>>s;for(;c!==a;){const d=a+(c-a>>1),g=t[d<<s];if(r===g)return d<<s;g>r?c=d:a=d+1}return~(c<<s)}(t,r,1)}const aa=jn(lt("Optional"),8),bs=jn(lt("SkipSelf"),4);function Kc(t){return 128==(128&t.flags)}var Qc=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Qc||{});const T=new Map;let L=0;const As="__ngContext__";function Xr(t,r){ti(r)?(t[As]=r[qs],function ue(t){T.set(t[qs],t)}(r)):t[As]=r}let Yc;function vc(t,r){return Yc(t,r)}function Gd(t){const r=t[On];return Br(r)?r[On]:r}function Sp(t){return au(t[Qi])}function $l(t){return au(t[li])}function au(t){for(;null!==t&&!Br(t);)t=t[li];return t}function _c(t,r,s,a,c){if(null!=a){let d,g=!1;Br(a)?d=a:ti(a)&&(g=!0,a=a[Xn]);const v=kn(a);0===t&&null!==s?null==c?Zc(r,s,v):Ho(r,s,v,c||null,!0):1===t&&null!==s?Ho(r,s,v,c||null,!0):2===t?function Gl(t,r,s){const a=La(t,r);a&&function gv(t,r,s,a){t.removeChild(r,s,a)}(t,a,r,s)}(r,v,g):3===t&&r.destroyNode(v),null!=d&&function Kh(t,r,s,a,c){const d=s[Mr];d!==kn(s)&&_c(r,t,a,d,c);for(let v=Vr;v<s.length;v++){const b=s[v];Yd(b[It],b,t,r,a,d)}}(r,t,d,s,c)}}function Kd(t,r,s){return t.createElement(r,s)}function xp(t,r){const s=t[Fi],a=s.indexOf(r);Ct(r),s.splice(a,1)}function zl(t,r){if(t.length<=Vr)return;const s=Vr+r,a=t[s];if(a){const c=a[co];null!==c&&c!==t&&xp(c,a),r>0&&(t[s-1][li]=a[li]);const d=Bc(t,Vr+r);!function Em(t,r){Yd(t,r,r[rn],2,null,null),r[Xn]=null,r[di]=null}(a[It],a);const g=d[Xi];null!==g&&g.detachView(d[It]),a[On]=null,a[li]=null,a[Yt]&=-129}return a}function Gh(t,r){if(!(256&r[Yt])){const s=r[rn];r[Ur]&&Da(r[Ur]),r[Ls]&&Da(r[Ls]),s.destroyNode&&Yd(t,r,s,3,null,null),function qd(t){let r=t[Qi];if(!r)return Np(t[It],t);for(;r;){let s=null;if(ti(r))s=r[Qi];else{const a=r[Vr];a&&(s=a)}if(!s){for(;r&&!r[li]&&r!==t;)ti(r)&&Np(r[It],r),r=r[On];null===r&&(r=t),ti(r)&&Np(r[It],r),s=r&&r[li]}r=s}}(r)}}function Np(t,r){if(!(256&r[Yt])){r[Yt]&=-129,r[Yt]|=256,function pv(t,r){let s;if(null!=t&&null!=(s=t.destroyHooks))for(let a=0;a<s.length;a+=2){const c=r[s[a]];if(!(c instanceof Ya)){const d=s[a+1];if(Array.isArray(d))for(let g=0;g<d.length;g+=2){const v=c[d[g]],b=d[g+1];Ve(4,v,b);try{b.call(v)}finally{Ve(5,v,b)}}else{Ve(4,c,d);try{d.call(c)}finally{Ve(5,c,d)}}}}}(t,r),function Dm(t,r){const s=t.cleanup,a=r[hi];if(null!==s)for(let d=0;d<s.length-1;d+=2)if("string"==typeof s[d]){const g=s[d+3];g>=0?a[g]():a[-g].unsubscribe(),d+=2}else s[d].call(a[s[d+1]]);null!==a&&(r[hi]=null);const c=r[ps];if(null!==c){r[ps]=null;for(let d=0;d<c.length;d++)(0,c[d])()}}(t,r),1===r[It].type&&r[rn].destroy();const s=r[co];if(null!==s&&Br(r[On])){s!==r[On]&&xp(s,r);const a=r[Xi];null!==a&&a.detachView(t)}!function at(t){T.delete(t[qs])}(r)}}function Rp(t,r,s){return function Tm(t,r,s){let a=r;for(;null!==a&&40&a.type;)a=(r=a).parent;if(null===a)return s[Xn];{const{componentOffset:c}=a;if(c>-1){const{encapsulation:d}=t.data[a.directiveStart+c];if(d===_i.None||d===_i.Emulated)return null}return Mi(a,s)}}(t,r.parent,s)}function Ho(t,r,s,a,c){t.insertBefore(r,s,a,c)}function Zc(t,r,s){t.appendChild(r,s)}function Op(t,r,s,a,c){null!==a?Ho(t,r,s,a,c):Zc(t,r,s)}function La(t,r){return t.parentNode(r)}let Hu,Bp,ql,Qd=function Pp(t,r,s){return 40&t.type?Mi(t,s):null};function Su(t,r,s,a){const c=Rp(t,a,r),d=r[rn],v=function bm(t,r,s){return Qd(t,r,s)}(a.parent||r[di],a,r);if(null!=c)if(Array.isArray(s))for(let b=0;b<s.length;b++)Op(d,c,s[b],v,!1);else Op(d,c,s,v,!1);void 0!==Hu&&Hu(d,a,r,s,c)}function zu(t,r){if(null!==r){const s=r.type;if(3&s)return Mi(r,t);if(4&s)return Xd(-1,t[r.index]);if(8&s){const a=r.child;if(null!==a)return zu(t,a);{const c=t[r.index];return Br(c)?Xd(-1,c):kn(c)}}if(32&s)return vc(r,t)()||kn(t[r.index]);{const a=kp(t,r);return null!==a?Array.isArray(a)?a[0]:zu(Gd(t[Dr]),a):zu(t,r.next)}}return null}function kp(t,r){return null!==r?t[Dr][di].projection[r.projection]:null}function Xd(t,r){const s=Vr+t+1;if(s<r.length){const a=r[s],c=a[It].firstChild;if(null!==c)return zu(a,c)}return r[Mr]}function Wh(t,r,s,a,c,d,g){for(;null!=s;){const v=a[s.index],b=s.type;if(g&&0===r&&(v&&Xr(kn(v),a),s.flags|=2),32!=(32&s.flags))if(8&b)Wh(t,r,s.child,a,c,d,!1),_c(r,t,c,v,d);else if(32&b){const O=vc(s,a);let V;for(;V=O();)_c(r,t,c,V,d);_c(r,t,c,v,d)}else 16&b?Fp(t,r,a,s,c,d):_c(r,t,c,v,d);s=g?s.projectionNext:s.next}}function Yd(t,r,s,a,c,d){Wh(s,a,t.firstChild,r,c,d,!1)}function Fp(t,r,s,a,c,d){const g=s[Dr],b=g[di].projection[a.projection];if(Array.isArray(b))for(let O=0;O<b.length;O++)_c(r,t,c,b[O],d);else{let O=b;const V=g[On];Kc(a)&&(O.flags|=128),Wh(t,r,O,V,c,d,!0)}}function Sm(t,r,s){""===s?t.removeAttribute(r,"class"):t.setAttribute(r,"class",s)}function Up(t,r,s){const{mergedAttrs:a,classes:c,styles:d}=s;null!==a&&we(t,r,a),null!==c&&Sm(t,r,c),null!==d&&function Jc(t,r,s){t.setAttribute(r,"style",s)}(t,r,d)}function xm(t){Bp=t}function Xh(t){return function eh(){if(void 0===ql&&(ql=null,Pt.trustedTypes))try{ql=Pt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return ql}()?.createScriptURL(t)||t}class $p{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${et})`}}function Gu(t){return t instanceof $p?t.changingThisBreaksApplicationSecurity:t}function Wu(t,r){const s=function Jh(t){return t instanceof $p&&t.getTypeName()||null}(t);if(null!=s&&s!==r){if("ResourceURL"===s&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${s} (see ${et})`)}return s===r}const Ql=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var rl=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(rl||{});function af(t){const r=Tc();return r?r.sanitize(rl.URL,t)||"":Wu(t,"URL")?Gu(t):function nf(t){return(t=String(t)).match(Ql)?t:"unsafe:"+t}(ct(t))}function us(t){const r=Tc();if(r)return Xh(r.sanitize(rl.RESOURCE_URL,t)||"");if(Wu(t,"ResourceURL"))return Xh(Gu(t));throw new We(904,!1)}function uf(t,r,s){return function Rv(t,r){return"src"===r&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===r&&("base"===t||"link"===t)?us:af}(r,s)(t)}function Tc(){const t=He();return t&&t[Or].sanitizer}const rh=new zt("ENVIRONMENT_INITIALIZER"),Qp=new zt("INJECTOR",-1),cf=new zt("INJECTOR_DEF_TYPES");class ih{get(r,s=Vt){if(s===Vt){const a=new Error(`NullInjectorError: No provider for ${Fe(r)}!`);throw a.name="NullInjectorError",a}return s}}function lf(...t){return{\u0275providers:df(0,t),\u0275fromNgModule:!0}}function df(t,...r){const s=[],a=new Set;let c;const d=g=>{s.push(g)};return ru(r,g=>{const v=g;sh(v,d,[],a)&&(c||=[],c.push(v))}),void 0!==c&&hf(c,d),s}function hf(t,r){for(let s=0;s<t.length;s++){const{ngModule:a,providers:c}=t[s];ff(c,d=>{r(d,a)})}}function sh(t,r,s,a){if(!(t=$e(t)))return!1;let c=null,d=Kn(t);const g=!d&&an(t);if(d||g){if(g&&!g.standalone)return!1;c=t}else{const b=t.ngModule;if(d=Kn(b),!d)return!1;c=b}const v=a.has(c);if(g){if(v)return!1;if(a.add(c),g.dependencies){const b="function"==typeof g.dependencies?g.dependencies():g.dependencies;for(const O of b)sh(O,r,s,a)}}else{if(!d)return!1;{if(null!=d.imports&&!v){let O;a.add(c);try{ru(d.imports,V=>{sh(V,r,s,a)&&(O||=[],O.push(V))})}finally{}void 0!==O&&hf(O,r)}if(!v){const O=Xs(c)||(()=>new c);r({provide:c,useFactory:O,deps:_n},c),r({provide:cf,useValue:c,multi:!0},c),r({provide:rh,useValue:()=>vt(c),multi:!0},c)}const b=d.providers;if(null!=b&&!v){const O=t;ff(b,V=>{r(V,O)})}}}return c!==t&&void 0!==t.providers}function ff(t,r){for(let s of t)Nn(s)&&(s=s.\u0275providers),Array.isArray(s)?ff(s,r):r(s)}const km=Pe({provide:String,useValue:Pe});function oh(t){return null!==t&&"object"==typeof t&&km in t}function il(t){return"function"==typeof t}const Yp=new zt("Set Injector scope."),qu={},Yl={};let ah;function sl(){return void 0===ah&&(ah=new ih),ah}class uu{}class ol extends uu{get destroyed(){return this._destroyed}constructor(r,s,a,c){super(),this.parent=s,this.source=a,this.scopes=c,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Zl(r,g=>this.processProvider(g)),this.records.set(Qp,Cc(void 0,this)),c.has("environment")&&this.records.set(uu,Cc(void 0,this));const d=this.records.get(Yp);null!=d&&"string"==typeof d.value&&this.scopes.add(d.value),this.injectorDefTypes=new Set(this.get(cf.multi,_n,yt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const s of this._ngOnDestroyHooks)s.ngOnDestroy();const r=this._onDestroyHooks;this._onDestroyHooks=[];for(const s of r)s()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(r){return this.assertNotDestroyed(),this._onDestroyHooks.push(r),()=>this.removeOnDestroy(r)}runInContext(r){this.assertNotDestroyed();const s=ve(this),a=fr(void 0);try{return r()}finally{ve(s),fr(a)}}get(r,s=Vt,a=yt.Default){if(this.assertNotDestroyed(),r.hasOwnProperty(se))return r[se](this);a=on(a);const d=ve(this),g=fr(void 0);try{if(!(a&yt.SkipSelf)){let b=this.records.get(r);if(void 0===b){const O=function Jp(t){return"function"==typeof t||"object"==typeof t&&t instanceof zt}(r)&&qt(r);b=O&&this.injectableDefInScope(O)?Cc(pf(r),qu):null,this.records.set(r,b)}if(null!=b)return this.hydrate(r,b)}return(a&yt.Self?sl():this.parent).get(r,s=a&yt.Optional&&s===Vt?null:s)}catch(v){if("NullInjectorError"===v.name){if((v[vn]=v[vn]||[]).unshift(Fe(r)),d)throw v;return function zs(t,r,s,a){const c=t[vn];throw r[Ti]&&c.unshift(r[Ti]),t.message=function Ns(t,r,s,a=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let c=Fe(r);if(Array.isArray(r))c=r.map(Fe).join(" -> ");else if("object"==typeof r){let d=[];for(let g in r)if(r.hasOwnProperty(g)){let v=r[g];d.push(g+":"+("string"==typeof v?JSON.stringify(v):Fe(v)))}c=`{${d.join(", ")}}`}return`${s}${a?"("+a+")":""}[${c}]: ${t.replace(ar,"\n  ")}`}("\n"+t.message,c,s,a),t.ngTokenPath=c,t[vn]=null,t}(v,r,"R3InjectorError",this.source)}throw v}finally{fr(g),ve(d)}}resolveInjectorInitializers(){const r=ve(this),s=fr(void 0);try{const c=this.get(rh.multi,_n,yt.Self);for(const d of c)d()}finally{ve(r),fr(s)}}toString(){const r=[],s=this.records;for(const a of s.keys())r.push(Fe(a));return`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new We(205,!1)}processProvider(r){let s=il(r=$e(r))?r:$e(r&&r.provide);const a=function Zp(t){return oh(t)?Cc(void 0,t.useValue):Cc(Um(t),qu)}(r);if(il(r)||!0!==r.multi)this.records.get(s);else{let c=this.records.get(s);c||(c=Cc(void 0,qu,!0),c.factory=()=>Ir(c.multi),this.records.set(s,c)),s=r,c.multi.push(r)}this.records.set(s,a)}hydrate(r,s){return s.value===qu&&(s.value=Yl,s.value=s.factory()),"object"==typeof s.value&&s.value&&function Bm(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(s.value)&&this._ngOnDestroyHooks.add(s.value),s.value}injectableDefInScope(r){if(!r.providedIn)return!1;const s=$e(r.providedIn);return"string"==typeof s?"any"===s||this.scopes.has(s):this.injectorDefTypes.has(s)}removeOnDestroy(r){const s=this._onDestroyHooks.indexOf(r);-1!==s&&this._onDestroyHooks.splice(s,1)}}function pf(t){const r=qt(t),s=null!==r?r.factory:Xs(t);if(null!==s)return s;if(t instanceof zt)throw new We(204,!1);if(t instanceof Function)return function Ov(t){const r=t.length;if(r>0)throw function dc(t,r){const s=[];for(let a=0;a<t;a++)s.push(r);return s}(r,"?"),new We(204,!1);const s=function br(t){return t&&(t[Jn]||t[bn])||null}(t);return null!==s?()=>s.factory(t):()=>new t}(t);throw new We(204,!1)}function Um(t,r,s){let a;if(il(t)){const c=$e(t);return Xs(c)||pf(c)}if(oh(t))a=()=>$e(t.useValue);else if(function Xp(t){return!(!t||!t.useFactory)}(t))a=()=>t.useFactory(...Ir(t.deps||[]));else if(function Lm(t){return!(!t||!t.useExisting)}(t))a=()=>vt($e(t.useExisting));else{const c=$e(t&&(t.useClass||t.provide));if(!function Vm(t){return!!t.deps}(t))return Xs(c)||pf(c);a=()=>new c(...Ir(t.deps))}return a}function Cc(t,r,s=!1){return{factory:t,value:r,multi:s?[]:void 0}}function Zl(t,r){for(const s of t)Array.isArray(s)?Zl(s,r):s&&Nn(s)?Zl(s.\u0275providers,r):r(s)}const Jl=new zt("AppId",{providedIn:"root",factory:()=>gf}),gf="ng",mf=new zt("Platform Initializer"),uh=new zt("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),kv=new zt("CSP nonce",{providedIn:"root",factory:()=>function Kl(){if(void 0!==Bp)return Bp;if(typeof document<"u")return document;throw new We(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let _f=(t,r,s)=>null;function rd(t,r,s=!1){return _f(t,r,s)}class Uv{}class Ef{}class od{resolveComponentFactory(r){throw function Df(t){const r=Error(`No component factory found for ${Fe(t)}.`);return r.ngComponent=t,r}(r)}}let ad=(()=>{class t{static{this.NULL=new od}}return t})();function Bv(){return ud(pe(),He())}function ud(t,r){return new cd(Mi(t,r))}let cd=(()=>{class t{constructor(s){this.nativeElement=s}static{this.__NG_ELEMENT_ID__=Bv}}return t})();function Km(t){return t instanceof cd?t.nativeElement:t}class qm{}let cg=(()=>{class t{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>function jv(){const t=He(),s=Vs(pe().index,t);return(ti(s)?s:t)[rn]}()}}return t})(),lg=(()=>{class t{static{this.\u0275prov=gn({token:t,providedIn:"root",factory:()=>null})}}return t})();class Qm{constructor(r){this.full=r,this.major=r.split(".")[0],this.minor=r.split(".")[1],this.patch=r.split(".").slice(2).join(".")}}const Cf=new Qm("16.2.12"),dg={};function dl(t,r=null,s=null,a){const c=Ym(t,r,s,a);return c.resolveInjectorInitializers(),c}function Ym(t,r=null,s=null,a,c=new Set){const d=[s||_n,lf(t)];return a=a||("object"==typeof t?void 0:Fe(t)),new ol(d,r||sl(),a||null,c)}let lu=(()=>{class t{static{this.THROW_IF_NOT_FOUND=Vt}static{this.NULL=new ih}static create(s,a){if(Array.isArray(s))return dl({name:""},a,s,"");{const c=s.name??"";return dl({name:c},s.parent,s.providers,c)}}static{this.\u0275prov=gn({token:t,providedIn:"any",factory:()=>vt(Qp)})}static{this.__NG_ELEMENT_ID__=-1}}return t})();function hh(t){return t.ngOriginalError}class Mu{constructor(){this._console=console}handleError(r){const s=this._findOriginalError(r);this._console.error("ERROR",r),s&&this._console.error("ORIGINAL ERROR",s)}_findOriginalError(r){let s=r&&hh(r);for(;s&&hh(s);)s=hh(s);return s||null}}function mg(t){return r=>{setTimeout(t,void 0,r)}}const du=class gg extends S.B{constructor(r=!1){super(),this.__isAsync=r}emit(r){super.next(r)}subscribe(r,s,a){let c=r,d=s||(()=>null),g=a;if(r&&"object"==typeof r){const b=r;c=b.next?.bind(b),d=b.error?.bind(b),g=b.complete?.bind(b)}this.__isAsync&&(d=mg(d),c&&(c=mg(c)),g&&(g=mg(g)));const v=super.subscribe({next:c,error:d,complete:g});return r instanceof ie.yU&&r.add(v),v}};function Jm(...t){}class cs{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:a=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new du(!1),this.onMicrotaskEmpty=new du(!1),this.onStable=new du(!1),this.onError=new du(!1),typeof Zone>"u")throw new We(908,!1);Zone.assertZonePatched();const c=this;c._nesting=0,c._outer=c._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(c._inner=c._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(c._inner=c._inner.fork(Zone.longStackTraceZoneSpec)),c.shouldCoalesceEventChangeDetection=!a&&s,c.shouldCoalesceRunChangeDetection=a,c.lastRequestAnimationFrameId=-1,c.nativeRequestAnimationFrame=function ey(){const t="function"==typeof Pt.requestAnimationFrame;let r=Pt[t?"requestAnimationFrame":"setTimeout"],s=Pt[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&r&&s){const a=r[Zone.__symbol__("OriginalDelegate")];a&&(r=a);const c=s[Zone.__symbol__("OriginalDelegate")];c&&(s=c)}return{nativeRequestAnimationFrame:r,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function Wv(t){const r=()=>{!function Gv(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Pt,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,vg(t),t.isCheckStableRunning=!0,yg(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),vg(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,a,c,d,g,v)=>{if(function Kv(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(v))return s.invokeTask(c,d,g,v);try{return Nf(t),s.invokeTask(c,d,g,v)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===d.type||t.shouldCoalesceRunChangeDetection)&&r(),Rf(t)}},onInvoke:(s,a,c,d,g,v,b)=>{try{return Nf(t),s.invoke(c,d,g,v,b)}finally{t.shouldCoalesceRunChangeDetection&&r(),Rf(t)}},onHasTask:(s,a,c,d)=>{s.hasTask(c,d),a===c&&("microTask"==d.change?(t._hasPendingMicrotasks=d.microTask,vg(t),yg(t)):"macroTask"==d.change&&(t.hasPendingMacrotasks=d.macroTask))},onHandleError:(s,a,c,d)=>(s.handleError(c,d),t.runOutsideAngular(()=>t.onError.emit(d)),!1)})}(c)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!cs.isInAngularZone())throw new We(909,!1)}static assertNotInAngularZone(){if(cs.isInAngularZone())throw new We(909,!1)}run(r,s,a){return this._inner.run(r,s,a)}runTask(r,s,a,c){const d=this._inner,g=d.scheduleEventTask("NgZoneEvent: "+c,r,ty,Jm,Jm);try{return d.runTask(g,s,a)}finally{d.cancelTask(g)}}runGuarded(r,s,a){return this._inner.runGuarded(r,s,a)}runOutsideAngular(r){return this._outer.run(r)}}const ty={};function yg(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function vg(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function Nf(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Rf(t){t._nesting--,yg(t)}class _g{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new du,this.onMicrotaskEmpty=new du,this.onStable=new du,this.onError=new du}run(r,s,a){return r.apply(s,a)}runGuarded(r,s,a){return r.apply(s,a)}runOutsideAngular(r){return r()}runTask(r,s,a,c){return r.apply(s,a)}}const ny=new zt("",{providedIn:"root",factory:Of});function Of(){const t=wt(cs);let r=!0;return function Be(...t){const r=(0,Z.lI)(t),s=(0,Z.R0)(t,1/0),a=t;return a.length?1===a.length?(0,fe.Tg)(a[0]):(0,Te.U)(s)((0,Je.H)(a,r)):Q.w}(new ce.c(c=>{r=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{c.next(r),c.complete()})}),new ce.c(c=>{let d;t.runOutsideAngular(()=>{d=t.onStable.subscribe(()=>{cs.assertNotInAngularZone(),queueMicrotask(()=>{!r&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(r=!0,c.next(!0))})})});const g=t.onUnstable.subscribe(()=>{cs.assertInAngularZone(),r&&(r=!1,t.runOutsideAngular(()=>{c.next(!1)}))});return()=>{d.unsubscribe(),g.unsubscribe()}}).pipe(de()))}function Qu(t){return t instanceof Function?t():t}let Eg=(()=>{class t{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static{this.\u0275prov=gn({token:t,providedIn:"root",factory:()=>new t})}}return t})();function fl(t){for(;t;){t[Yt]|=64;const r=Gd(t);if(qo(t)&&!r)return t;t=r}return null}const pl=new zt("",{providedIn:"root",factory:()=>!1});let fd=null;function cy(t,r){return t[r]??Cg()}function Uf(t,r){const s=Cg();s.producerNode?.length&&(t[r]=fd,s.lView=t,fd=Vf())}const Yv={...Fs,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{fl(t.lView)},lView:null};function Vf(){return Object.create(Yv)}function Cg(){return fd??=Vf(),fd}const In={};function bg(t){ly(Ln(),He(),xi()+t,!1)}function ly(t,r,s,a){if(!a)if(3==(3&r[Yt])){const d=t.preOrderCheckHooks;null!==d&&ac(r,d,s)}else{const d=t.preOrderHooks;null!==d&&Lo(r,d,0,s)}Sa(s)}function pd(t,r=yt.Default){const s=He();return null===s?vt(t,r):Lc(pe(),s,$e(t),r)}function Bf(){throw new Error("invalid")}function gd(t,r,s,a,c,d,g,v,b,O,V){const q=r.blueprint.slice();return q[Xn]=c,q[Yt]=140|a,(null!==O||t&&2048&t[Yt])&&(q[Yt]|=2048),Ei(q),q[On]=q[Ks]=t,q[Er]=s,q[Or]=g||t&&t[Or],q[rn]=v||t&&t[rn],q[Ws]=b||t&&t[Ws]||null,q[di]=d,q[qs]=function W(){return L++}(),q[Yi]=V,q[fu]=O,q[Dr]=2==r.type?t[Dr]:q,q}function Sc(t,r,s,a,c){let d=t.data[r];if(null===d)d=function fh(t,r,s,a,c){const d=Xa(),g=yo(),b=t.data[r]=function Mg(t,r,s,a,c,d){let g=r?r.injectorIndex:-1,v=0;return function na(){return null!==bt.skipHydrationRootTNode}()&&(v|=128),{type:s,index:a,insertBeforeIndex:null,injectorIndex:g,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:v,providerIndexes:0,value:c,attrs:d,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,g?d:d&&d.parent,s,r,a,c);return null===t.firstChild&&(t.firstChild=b),null!==d&&(g?null==d.child&&null!==b.parent&&(d.child=b):null===d.next&&(d.next=b,b.prev=d)),b}(t,r,s,a,c),function y(){return bt.lFrame.inI18n}()&&(d.flags|=32);else if(64&d.type){d.type=s,d.value=a,d.attrs=c;const g=function Di(){const t=bt.lFrame,r=t.currentTNode;return t.isParent?r:r.parent}();d.injectorIndex=null===g?-1:g.injectorIndex}return Js(d,!0),d}function ph(t,r,s,a){if(0===s)return-1;const c=r.length;for(let d=0;d<s;d++)r.push(a),t.blueprint.push(a),t.data.push(null);return c}function gl(t,r,s,a,c){const d=cy(r,Ur),g=xi(),v=2&a;try{Sa(-1),v&&r.length>En&&ly(t,r,En,!1),Ve(v?2:0,c);const O=v?d:null,V=fo(O);try{null!==O&&(O.dirty=!1),s(a,c)}finally{_s(O,V)}}finally{v&&null===r[Ur]&&Uf(r,Ur),Sa(g),Ve(v?3:1,c)}}function Ag(t,r,s){if(xo(r)){const a=Oi(null);try{const d=r.directiveEnd;for(let g=r.directiveStart;g<d;g++){const v=t.data[g];v.contentQueries&&v.contentQueries(1,s[g],g)}}finally{Oi(a)}}}function gh(t,r,s){Ca()&&(function kg(t,r,s,a){const c=s.directiveStart,d=s.directiveEnd;ms(s)&&function a_(t,r,s){const a=Mi(r,t),c=ml(s);let g=16;s.signals?g=4096:s.onPush&&(g=64);const v=yl(t,gd(t,c,null,g,a,r,null,t[Or].rendererFactory.createRenderer(a,s),null,null,null));t[r.index]=v}(r,s,t.data[c+s.componentOffset]),t.firstCreatePass||Ja(s,r),Xr(a,r);const g=s.initialInputs;for(let v=c;v<d;v++){const b=t.data[v],O=tu(r,t,v,s);Xr(O,r),null!==g&&my(0,v-c,O,b,0,g),gr(b)&&(Vs(s.index,r)[Er]=tu(r,t,v,s))}}(t,r,s,Mi(s,r)),64==(64&s.flags)&&py(t,r,s))}function jf(t,r,s=Mi){const a=r.localNames;if(null!==a){let c=r.index+1;for(let d=0;d<a.length;d+=2){const g=a[d+1],v=-1===g?s(r,t):t[g];t[c++]=v}}}function ml(t){const r=t.tView;return null===r||r.incompleteFirstPass?t.tView=$f(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):r}function $f(t,r,s,a,c,d,g,v,b,O,V){const q=En+a,oe=q+c,ge=function Hf(t,r){const s=[];for(let a=0;a<r;a++)s.push(a<t?null:In);return s}(q,oe),Le="function"==typeof O?O():O;return ge[It]={type:t,blueprint:ge,template:s,queries:null,viewQuery:v,declTNode:r,data:ge.slice().fill(null,q),bindingStartIndex:q,expandoStartIndex:oe,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof d?d():d,pipeRegistry:"function"==typeof g?g():g,firstChild:null,schemas:b,consts:Le,incompleteFirstPass:!1,ssrId:V}}let dy=t=>null;function Gf(t,r,s,a){for(let c in t)if(t.hasOwnProperty(c)){s=null===s?{}:s;const d=t[c];null===a?xg(s,r,c,d):a.hasOwnProperty(c)&&xg(s,r,a[c],d)}return s}function xg(t,r,s,a){t.hasOwnProperty(s)?t[s].push(r,a):t[s]=[r,a]}function Wf(t,r,s,a){if(Ca()){const c=null===a?null:{"":-1},d=function r_(t,r){const s=t.directiveRegistry;let a=null,c=null;if(s)for(let d=0;d<s.length;d++){const g=s[d];if(Ba(r,g.selectors,!1))if(a||(a=[]),gr(g))if(null!==g.findHostDirectiveDefs){const v=[];c=c||new Map,g.findHostDirectiveDefs(g,v,c),a.unshift(...v,g),qf(t,r,v.length)}else a.unshift(g),qf(t,r,0);else c=c||new Map,g.findHostDirectiveDefs?.(g,a,c),a.push(g)}return null===a?null:[a,c]}(t,s);let g,v;null===d?g=v=null:[g,v]=d,null!==g&&Kf(t,r,s,g,c,v),c&&function i_(t,r,s){if(r){const a=t.localNames=[];for(let c=0;c<r.length;c+=2){const d=s[r[c+1]];if(null==d)throw new We(-301,!1);a.push(r[c],d)}}}(s,a,c)}s.mergedAttrs=kt(s.mergedAttrs,s.attrs)}function Kf(t,r,s,a,c,d){for(let O=0;O<a.length;O++)wo(Ja(s,r),t,a[O].type);!function s_(t,r,s){t.flags|=1,t.directiveStart=r,t.directiveEnd=r+s,t.providerIndexes=r}(s,t.data.length,a.length);for(let O=0;O<a.length;O++){const V=a[O];V.providersResolver&&V.providersResolver(V)}let g=!1,v=!1,b=ph(t,r,a.length,null);for(let O=0;O<a.length;O++){const V=a[O];s.mergedAttrs=kt(s.mergedAttrs,V.hostAttrs),o_(t,s,r,b,V),gy(b,V,c),null!==V.contentQueries&&(s.flags|=4),(null!==V.hostBindings||null!==V.hostAttrs||0!==V.hostVars)&&(s.flags|=64);const q=V.type.prototype;!g&&(q.ngOnChanges||q.ngOnInit||q.ngDoCheck)&&((t.preOrderHooks??=[]).push(s.index),g=!0),!v&&(q.ngOnChanges||q.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(s.index),v=!0),b++}!function Ng(t,r,s){const c=r.directiveEnd,d=t.data,g=r.attrs,v=[];let b=null,O=null;for(let V=r.directiveStart;V<c;V++){const q=d[V],oe=s?s.get(q):null,Le=oe?oe.outputs:null;b=Gf(q.inputs,V,b,oe?oe.inputs:null),O=Gf(q.outputs,V,O,Le);const tt=null===b||null===g||Gr(r)?null:u_(b,V,g);v.push(tt)}null!==b&&(b.hasOwnProperty("class")&&(r.flags|=8),b.hasOwnProperty("style")&&(r.flags|=16)),r.initialInputs=v,r.inputs=b,r.outputs=O}(t,s,d)}function py(t,r,s){const a=s.directiveStart,c=s.directiveEnd,d=s.index,g=function C(){return bt.lFrame.currentDirectiveIndex}();try{Sa(d);for(let v=a;v<c;v++){const b=t.data[v],O=r[v];N(v),(null!==b.hostBindings||0!==b.hostVars||null!==b.hostAttrs)&&n_(b,O)}}finally{Sa(-1),N(g)}}function n_(t,r){null!==t.hostBindings&&t.hostBindings(1,r)}function qf(t,r,s){r.componentOffset=s,(t.components??=[]).push(r.index)}function gy(t,r,s){if(s){if(r.exportAs)for(let a=0;a<r.exportAs.length;a++)s[r.exportAs[a]]=t;gr(r)&&(s[""]=t)}}function o_(t,r,s,a,c){t.data[a]=c;const d=c.factory||(c.factory=Xs(c.type)),g=new Ya(d,gr(c),pd);t.blueprint[a]=g,s[a]=g,function fy(t,r,s,a,c){const d=c.hostBindings;if(d){let g=t.hostBindingOpCodes;null===g&&(g=t.hostBindingOpCodes=[]);const v=~r.index;(function md(t){let r=t.length;for(;r>0;){const s=t[--r];if("number"==typeof s&&s<0)return s}return 0})(g)!=v&&g.push(v),g.push(s,a,d)}}(t,r,a,ph(t,s,c.hostVars,In),c)}function Nu(t,r,s,a,c,d){const g=Mi(t,r);!function Qf(t,r,s,a,c,d,g){if(null==d)t.removeAttribute(r,c,s);else{const v=null==g?ct(d):g(d,a||"",c);t.setAttribute(r,c,v,s)}}(r[rn],g,d,t.value,s,a,c)}function my(t,r,s,a,c,d){const g=d[r];if(null!==g)for(let v=0;v<g.length;)Xf(a,s,g[v++],g[v++],g[v++])}function Xf(t,r,s,a,c){const d=Oi(null);try{const g=t.inputTransforms;null!==g&&g.hasOwnProperty(a)&&(c=g[a].call(r,c)),null!==t.setInput?t.setInput(r,c,s,a):r[a]=c}finally{Oi(d)}}function u_(t,r,s){let a=null,c=0;for(;c<s.length;){const d=s[c];if(0!==d)if(5!==d){if("number"==typeof d)break;if(t.hasOwnProperty(d)){null===a&&(a=[]);const g=t[d];for(let v=0;v<g.length;v+=2)if(g[v]===r){a.push(d,g[v+1],s[c+1]);break}}c+=2}else c+=2;else c+=4}return a}function Lg(t,r,s,a){return[t,!0,!1,r,null,0,a,s,null,null,null]}function Fg(t,r){const s=t.contentQueries;if(null!==s)for(let a=0;a<s.length;a+=2){const d=s[a+1];if(-1!==d){const g=t.data[d];Ce(s[a]),g.contentQueries(2,r[d],d)}}}function yl(t,r){return t[Qi]?t[ma][li]=r:t[Qi]=r,t[ma]=r,r}function er(t,r,s){Ce(0);const a=Oi(null);try{r(t,s)}finally{Oi(a)}}function Ug(t){return t[hi]||(t[hi]=[])}function yd(t){return t.cleanup||(t.cleanup=[])}function Li(t,r){const s=t[Ws],a=s?s.get(Mu,null):null;a&&a.handleError(r)}function ls(t,r,s,a,c){for(let d=0;d<s.length;){const g=s[d++],v=s[d++];Xf(t.data[g],r[g],a,v,c)}}function Ms(t,r,s){const a=Vu(r,t);!function Hl(t,r,s){t.setValue(r,s)}(t[rn],a,s)}function l_(t,r){const s=Vs(r,t),a=s[It];!function a0(t,r){for(let s=r.length;s<t.blueprint.length;s++)r.push(t.blueprint[s])}(a,s);const c=s[Xn];null!==c&&null===s[Yi]&&(s[Yi]=rd(c,s[Ws])),Yf(a,s,s[Er])}function Yf(t,r,s){Zt(r);try{const a=t.viewQuery;null!==a&&er(1,a,s);const c=t.template;null!==c&&gl(t,r,c,1,s),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Fg(t,r),t.staticViewQueries&&er(2,t.viewQuery,s);const d=t.components;null!==d&&function u0(t,r){for(let s=0;s<r.length;s++)l_(t,r[s])}(r,d)}catch(a){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),a}finally{r[Yt]&=-5,ro()}}let Vg=(()=>{class t{constructor(){this.all=new Set,this.queue=new Map}create(s,a,c){const d=typeof Zone>"u"?null:Zone.current,g=function tr(t,r,s){const a=Object.create(Kr);s&&(a.consumerAllowSignalWrites=!0),a.fn=t,a.schedule=r;const c=g=>{a.cleanupFn=g};return a.ref={notify:()=>Ka(a),run:()=>{if(a.dirty=!1,a.hasRun&&!Po(a))return;a.hasRun=!0;const g=fo(a);try{a.cleanupFn(),a.cleanupFn=lr,a.fn(c)}finally{_s(a,g)}},cleanup:()=>a.cleanupFn()},a.ref}(s,O=>{this.all.has(O)&&this.queue.set(O,d)},c);let v;this.all.add(g),g.notify();const b=()=>{g.cleanup(),v?.(),this.all.delete(g),this.queue.delete(g)};return v=a?.onDestroy(b),{destroy:b}}flush(){if(0!==this.queue.size)for(const[s,a]of this.queue)this.queue.delete(s),a?a.run(()=>s.run()):s.run()}get isQueueEmpty(){return 0===this.queue.size}static{this.\u0275prov=gn({token:t,providedIn:"root",factory:()=>new t})}}return t})();function vd(t,r,s){let a=s?t.styles:null,c=s?t.classes:null,d=0;if(null!==r)for(let g=0;g<r.length;g++){const v=r[g];"number"==typeof v?d=v:1==d?c=it(c,v):2==d&&(a=it(a,v+": "+r[++g]+";"))}s?t.styles=a:t.stylesWithoutHost=a,s?t.classes=c:t.classesWithoutHost=c}function mh(t,r,s,a,c=!1){for(;null!==s;){const d=r[s.index];null!==d&&a.push(kn(d)),Br(d)&&h_(d,a);const g=s.type;if(8&g)mh(t,r,s.child,a);else if(32&g){const v=vc(s,r);let b;for(;b=v();)a.push(b)}else if(16&g){const v=kp(r,s);if(Array.isArray(v))a.push(...v);else{const b=Gd(r[Dr]);mh(b[It],b,v,a,!0)}}s=c?s.projectionNext:s.next}return a}function h_(t,r){for(let s=Vr;s<t.length;s++){const a=t[s],c=a[It].firstChild;null!==c&&mh(a[It],a,c,r)}t[Mr]!==t[Xn]&&r.push(t[Mr])}function zr(t,r,s,a=!0){const c=r[Or],d=c.rendererFactory,g=c.afterRenderEventManager;d.begin?.(),g?.begin();try{Gi(t,r,t.template,s)}catch(b){throw a&&Li(r,b),b}finally{d.end?.(),c.effectManager?.flush(),g?.end()}}function Gi(t,r,s,a){const c=r[Yt];if(256!=(256&c)){r[Or].effectManager?.flush(),Zt(r);try{Ei(r),function Oc(t){return bt.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==s&&gl(t,r,s,2,a);const g=3==(3&c);if(g){const O=t.preOrderCheckHooks;null!==O&&ac(r,O,null)}else{const O=t.preOrderHooks;null!==O&&Lo(r,O,0,null),Du(r,0)}if(function c0(t){for(let r=Sp(t);null!==r;r=$l(r)){if(!r[gs])continue;const s=r[Fi];for(let a=0;a<s.length;a++){xr(s[a])}}}(r),Bg(r,2),null!==t.contentQueries&&Fg(t,r),g){const O=t.contentCheckHooks;null!==O&&ac(r,O)}else{const O=t.contentHooks;null!==O&&Lo(r,O,1),Du(r,1)}!function Zv(t,r){const s=t.hostBindingOpCodes;if(null===s)return;const a=cy(r,Ls);try{for(let c=0;c<s.length;c++){const d=s[c];if(d<0)Sa(~d);else{const g=d,v=s[++c],b=s[++c];m(v,g),a.dirty=!1;const O=fo(a);try{b(2,r[g])}finally{_s(a,O)}}}}finally{null===r[Ls]&&Uf(r,Ls),Sa(-1)}}(t,r);const v=t.components;null!==v&&p_(r,v,0);const b=t.viewQuery;if(null!==b&&er(2,b,a),g){const O=t.viewCheckHooks;null!==O&&ac(r,O)}else{const O=t.viewHooks;null!==O&&Lo(r,O,2),Du(r,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),r[Yt]&=-73,Ct(r)}finally{ro()}}}function Bg(t,r){for(let s=Sp(t);null!==s;s=$l(s))for(let a=Vr;a<s.length;a++)jg(s[a],r)}function l0(t,r,s){jg(Vs(r,t),s)}function jg(t,r){if(!function vu(t){return 128==(128&t[Yt])}(t))return;const s=t[It],a=t[Yt];if(80&a&&0===r||1024&a||2===r)Gi(s,t,s.template,t[Er]);else if(t[uo]>0){Bg(t,1);const c=s.components;null!==c&&p_(t,c,1)}}function p_(t,r,s){for(let a=0;a<r.length;a++)l0(t,r[a],s)}class Zf{get rootNodes(){const r=this._lView,s=r[It];return mh(s,r,s.firstChild,[])}constructor(r,s){this._lView=r,this._cdRefInjectingView=s,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Er]}set context(r){this._lView[Er]=r}get destroyed(){return 256==(256&this._lView[Yt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[On];if(Br(r)){const s=r[8],a=s?s.indexOf(this):-1;a>-1&&(zl(r,a),Bc(s,a))}this._attachedToViewContainer=!1}Gh(this._lView[It],this._lView)}onDestroy(r){!function zn(t,r){if(256==(256&t[Yt]))throw new We(911,!1);null===t[ps]&&(t[ps]=[]),t[ps].push(r)}(this._lView,r)}markForCheck(){fl(this._cdRefInjectingView||this._lView)}detach(){this._lView[Yt]&=-129}reattach(){this._lView[Yt]|=128}detectChanges(){zr(this._lView[It],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new We(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function hv(t,r){Yd(t,r,r[rn],2,null,null)}(this._lView[It],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new We(902,!1);this._appRef=r}}class d0 extends Zf{constructor(r){super(r),this._view=r}detectChanges(){const r=this._view;zr(r[It],r,r[Er],!1)}checkNoChanges(){}get context(){return null}}class g_ extends ad{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const s=an(r);return new _d(s,this.ngModule)}}function m_(t){const r=[];for(let s in t)t.hasOwnProperty(s)&&r.push({propName:t[s],templateName:s});return r}class f0{constructor(r,s){this.injector=r,this.parentInjector=s}get(r,s,a){a=on(a);const c=this.injector.get(r,dg,a);return c!==dg||s===dg?c:this.parentInjector.get(r,s,a)}}class _d extends Ef{get inputs(){const r=this.componentDef,s=r.inputTransforms,a=m_(r.inputs);if(null!==s)for(const c of a)s.hasOwnProperty(c.propName)&&(c.transform=s[c.propName]);return a}get outputs(){return m_(this.componentDef.outputs)}constructor(r,s){super(),this.componentDef=r,this.ngModule=s,this.componentType=r.type,this.selector=function Rs(t){return t.map(fa).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!s}create(r,s,a,c){let d=(c=c||this.ngModule)instanceof uu?c:c?.injector;d&&null!==this.componentDef.getStandaloneInjector&&(d=this.componentDef.getStandaloneInjector(d)||d);const g=d?new f0(r,d):r,v=g.get(qm,null);if(null===v)throw new We(407,!1);const q={rendererFactory:v,sanitizer:g.get(lg,null),effectManager:g.get(Vg,null),afterRenderEventManager:g.get(Eg,null)},oe=v.createRenderer(null,this.componentDef),ge=this.componentDef.selectors[0][0]||"div",Le=a?function Jv(t,r,s,a){const d=a.get(pl,!1)||s===_i.ShadowDom,g=t.selectRootElement(r,d);return function e_(t){dy(t)}(g),g}(oe,a,this.componentDef.encapsulation,g):Kd(oe,ge,function h0(t){const r=t.toLowerCase();return"svg"===r?"svg":"math"===r?"math":null}(ge)),Ht=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let qe=null;null!==Le&&(qe=rd(Le,g,!0));const Dn=$f(0,null,null,1,0,null,null,null,null,null,null),Zn=gd(null,Dn,null,Ht,null,null,q,oe,g,null,qe);let Yr,Va;Zt(Zn);try{const bl=this.componentDef;let yp,JI=null;bl.findHostDirectiveDefs?(yp=[],JI=new Map,bl.findHostDirectiveDefs(bl,yp,JI),yp.push(bl)):yp=[bl];const rA=function y_(t,r){const s=t[It],a=En;return t[a]=r,Sc(s,a,2,"#host",null)}(Zn,Le),iA=function vl(t,r,s,a,c,d,g){const v=c[It];!function _l(t,r,s,a){for(const c of t)r.mergedAttrs=kt(r.mergedAttrs,c.hostAttrs);null!==r.mergedAttrs&&(vd(r,r.mergedAttrs,!0),null!==s&&Up(a,s,r))}(a,t,r,g);let b=null;null!==r&&(b=rd(r,c[Ws]));const O=d.rendererFactory.createRenderer(r,s);let V=16;s.signals?V=4096:s.onPush&&(V=64);const q=gd(c,ml(s),null,V,c[t.index],t,d,O,null,null,b);return v.firstCreatePass&&qf(v,t,a.length-1),yl(c,q),c[t.index]=q}(rA,Le,bl,yp,Zn,q,oe);Va=Bu(Dn,En),Le&&function Id(t,r,s,a){if(a)we(t,s,["ng-version",Cf.full]);else{const{attrs:c,classes:d}=function Os(t){const r=[],s=[];let a=1,c=2;for(;a<t.length;){let d=t[a];if("string"==typeof d)2===c?""!==d&&r.push(d,t[++a]):8===c&&s.push(d);else{if(!Qn(c))break;c=d}a++}return{attrs:r,classes:s}}(r.selectors[0]);c&&we(t,s,c),d&&d.length>0&&Sm(t,s,d.join(" "))}}(oe,bl,Le,a),void 0!==s&&function $g(t,r,s){const a=t.projection=[];for(let c=0;c<r.length;c++){const d=s[c];a.push(null!=d?Array.from(d):null)}}(Va,this.ngContentSelectors,s),Yr=function p0(t,r,s,a,c,d){const g=pe(),v=c[It],b=Mi(g,c);Kf(v,c,g,s,null,a);for(let V=0;V<s.length;V++)Xr(tu(c,v,g.directiveStart+V,g),c);py(v,c,g),b&&Xr(b,c);const O=tu(c,v,g.directiveStart+g.componentOffset,g);if(t[Er]=c[Er]=O,null!==d)for(const V of d)V(O,r);return Ag(v,g,t),O}(iA,bl,yp,JI,Zn,[v_]),Yf(Dn,Zn,null)}finally{ro()}return new yh(this.componentType,Yr,ud(Va,Zn),Zn,Va)}}class yh extends Uv{constructor(r,s,a,c,d){super(),this.location=a,this._rootLView=c,this._tNode=d,this.previousInputValues=null,this.instance=s,this.hostView=this.changeDetectorRef=new d0(c),this.componentType=r}setInput(r,s){const a=this._tNode.inputs;let c;if(null!==a&&(c=a[r])){if(this.previousInputValues??=new Map,this.previousInputValues.has(r)&&Object.is(this.previousInputValues.get(r),s))return;const d=this._rootLView;ls(d[It],d,c,r,s),this.previousInputValues.set(r,s),fl(Vs(this._tNode.index,d))}}get injector(){return new Fn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}function v_(){const t=pe();Hr(He()[It],t)}function Jf(t){let r=function vy(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),s=!0;const a=[t];for(;r;){let c;if(gr(t))c=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new We(903,!1);c=r.\u0275dir}if(c){if(s){a.push(c);const g=t;g.inputs=Il(t.inputs),g.inputTransforms=Il(t.inputTransforms),g.declaredInputs=Il(t.declaredInputs),g.outputs=Il(t.outputs);const v=c.hostBindings;v&&ep(t,v);const b=c.viewQuery,O=c.contentQueries;if(b&&__(t,b),O&&wl(t,O),Ze(t.inputs,c.inputs),Ze(t.declaredInputs,c.declaredInputs),Ze(t.outputs,c.outputs),null!==c.inputTransforms&&(null===g.inputTransforms&&(g.inputTransforms={}),Ze(g.inputTransforms,c.inputTransforms)),gr(c)&&c.data.animation){const V=t.data;V.animation=(V.animation||[]).concat(c.data.animation)}}const d=c.features;if(d)for(let g=0;g<d.length;g++){const v=d[g];v&&v.ngInherit&&v(t),v===Jf&&(s=!1)}}r=Object.getPrototypeOf(r)}!function _y(t){let r=0,s=null;for(let a=t.length-1;a>=0;a--){const c=t[a];c.hostVars=r+=c.hostVars,c.hostAttrs=kt(c.hostAttrs,s=kt(s,c.hostAttrs))}}(a)}function Il(t){return t===Ii?{}:t===_n?[]:t}function __(t,r){const s=t.viewQuery;t.viewQuery=s?(a,c)=>{r(a,c),s(a,c)}:r}function wl(t,r){const s=t.contentQueries;t.contentQueries=s?(a,c,d)=>{r(a,c,d),s(a,c,d)}:r}function ep(t,r){const s=t.hostBindings;t.hostBindings=s?(a,c)=>{r(a,c),s(a,c)}:r}function Mc(t){const r=t.inputConfig,s={};for(const a in r)if(r.hasOwnProperty(a)){const c=r[a];Array.isArray(c)&&c[2]&&(s[a]=c[2])}t.inputTransforms=s}function _h(t){return!!Kg(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function Kg(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function ts(t,r,s){return!Object.is(t[r],s)&&(t[r]=s,!0)}function El(t,r,s,a){const c=ts(t,r,s);return ts(t,r+1,a)||c}function wh(t,r,s,a){const c=He();return ts(c,ii(),r)&&(Ln(),Nu(qr(),c,t,r,s,a)),wh}function Dd(t,r,s,a,c,d,g,v){const O=function Dl(t,r,s,a,c){const d=El(t,r,s,a);return ts(t,r+2,c)||d}(t,to(),s,c,g);return Ts(3),O?r+ct(s)+a+ct(c)+d+ct(g)+v:In}function Ny(t,r,s,a,c,d,g,v){const b=He(),O=Ln(),V=t+En,q=O.firstCreatePass?function D0(t,r,s,a,c,d,g,v,b){const O=r.consts,V=Sc(r,t,4,g||null,Zi(O,v));Wf(r,s,V,Zi(O,b)),Hr(r,V);const q=V.tView=$f(2,V,a,c,d,r.directiveRegistry,r.pipeRegistry,null,r.schemas,O,null);return null!==r.queries&&(r.queries.template(r,V),q.queries=r.queries.embeddedTView(V)),V}(V,O,b,r,s,a,c,d,g):O.data[V];Js(q,!1);const oe=Ry(O,b,q,t);Eu()&&Su(O,b,oe,q),Xr(oe,b),yl(b,b[V]=Lg(oe,b,oe,q)),Pn(q)&&gh(O,b,q),null!=g&&jf(b,q,v)}let Ry=function Oy(t,r,s,a){return io(!0),r[rn].createComment("")};function Py(t,r,s){const a=He();return ts(a,ii(),r)&&function so(t,r,s,a,c,d,g,v){const b=Mi(r,s);let V,O=r.inputs;!v&&null!=O&&(V=O[a])?(ls(t,s,V,a,c),ms(r)&&function Og(t,r){const s=Vs(r,t);16&s[Yt]||(s[Yt]|=64)}(s,r.index)):3&r.type&&(a=function Rg(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(a),c=null!=g?g(c,r.value||"",a):c,d.setProperty(b,a,c))}(Ln(),qr(),a,t,r,a[rn],s,!1),Py}function ky(t,r,s,a,c){const g=c?"class":"style";ls(t,s,r.inputs[g],g,a)}function op(t,r,s,a){const c=He(),d=Ln(),g=En+t,v=c[rn],b=d.firstCreatePass?function F_(t,r,s,a,c,d){const g=r.consts,b=Sc(r,t,2,a,Zi(g,c));return Wf(r,s,b,Zi(g,d)),null!==b.attrs&&vd(b,b.attrs,!1),null!==b.mergedAttrs&&vd(b,b.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,b),b}(g,d,c,r,s,a):d.data[g],O=Fy(d,c,b,v,r,t);c[g]=O;const V=Pn(b);return Js(b,!0),Up(v,O,b),32!=(32&b.flags)&&Eu()&&Su(d,c,O,b),0===function ta(){return bt.lFrame.elementDepthCount}()&&Xr(O,c),function mo(){bt.lFrame.elementDepthCount++}(),V&&(gh(d,c,b),Ag(d,b,c)),null!==a&&jf(c,b),op}function ap(){let t=pe();yo()?function eo(){bt.lFrame.isParent=!1}():(t=t.parent,Js(t,!1));const r=t;(function ra(t){return bt.skipHydrationRootTNode===t})(r)&&function oc(){bt.skipHydrationRootTNode=null}(),function rc(){bt.lFrame.elementDepthCount--}();const s=Ln();return s.firstCreatePass&&(Hr(s,t),xo(t)&&s.queries.elementEnd(t)),null!=r.classesWithoutHost&&function ki(t){return 0!=(8&t.flags)}(r)&&ky(s,r,He(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function Ml(t){return 0!=(16&t.flags)}(r)&&ky(s,r,He(),r.stylesWithoutHost,!1),ap}function Ly(t,r,s,a){return op(t,r,s,a),ap(),Ly}let Fy=(t,r,s,a,c,d)=>(io(!0),Kd(a,c,function wu(){return bt.lFrame.currentNamespace}()));function $_(){return He()}function By(t){return!!t&&"function"==typeof t.then}function Yg(t){return!!t&&"function"==typeof t.subscribe}function Cd(t,r,s,a){const c=He(),d=Ln(),g=pe();return function z_(t,r,s,a,c,d,g){const v=Pn(a),O=t.firstCreatePass&&yd(t),V=r[Er],q=Ug(r);let oe=!0;if(3&a.type||g){const tt=Mi(a,r),Dt=g?g(tt):tt,Ht=q.length,qe=g?Zn=>g(kn(Zn[a.index])):a.index;let Dn=null;if(!g&&v&&(Dn=function H_(t,r,s,a){const c=t.cleanup;if(null!=c)for(let d=0;d<c.length-1;d+=2){const g=c[d];if(g===s&&c[d+1]===a){const v=r[hi],b=c[d+2];return v.length>b?v[b]:null}"string"==typeof g&&(d+=2)}return null}(t,r,c,a.index)),null!==Dn)(Dn.__ngLastListenerFn__||Dn).__ngNextListenerFn__=d,Dn.__ngLastListenerFn__=d,oe=!1;else{d=jy(a,r,V,d,!1);const Zn=s.listen(Dt,c,d);q.push(d,Zn),O&&O.push(c,qe,Ht,Ht+1)}}else d=jy(a,r,V,d,!1);const ge=a.outputs;let Le;if(oe&&null!==ge&&(Le=ge[c])){const tt=Le.length;if(tt)for(let Dt=0;Dt<tt;Dt+=2){const Yr=r[Le[Dt]][Le[Dt+1]].subscribe(d),Va=q.length;q.push(d,Yr),O&&O.push(c,a.index,Va,-(Va+1))}}}(d,c,c[rn],g,t,r,a),Cd}function up(t,r,s,a){try{return Ve(6,r,s),!1!==s(a)}catch(c){return Li(t,c),!1}finally{Ve(7,r,s)}}function jy(t,r,s,a,c){return function d(g){if(g===Function)return a;fl(t.componentOffset>-1?Vs(t.index,r):r);let b=up(r,s,a,g),O=d.__ngNextListenerFn__;for(;O;)b=up(r,s,O,g)&&b,O=O.__ngNextListenerFn__;return c&&!1===b&&g.preventDefault(),b}}function $y(t=1){return function Iu(t){return(bt.lFrame.contextLView=function ji(t,r){for(;t>0;)r=r[Ks],t--;return r}(t,bt.lFrame.contextLView))[Er]}(t)}function cp(t,r){return t<<17|r<<2}function Tl(t){return t>>17&32767}function Jg(t){return 2|t}function bd(t){return(131068&t)>>2}function Gy(t,r){return-131069&t|r<<2}function Wy(t){return 1|t}function rI(t,r,s,a,c){const d=t[s+1],g=null===r;let v=a?Tl(d):bd(d),b=!1;for(;0!==v&&(!1===b||g);){const V=t[v+1];O0(t[v],r)&&(b=!0,t[v+1]=a?Wy(V):Jg(V)),v=a?Tl(V):bd(V)}b&&(t[s+1]=a?Jg(d):Wy(d))}function O0(t,r){return null===t||null==r||(Array.isArray(t)?t[1]:t)===r||!(!Array.isArray(t)||"string"!=typeof r)&&ou(t,r)>=0}function Ky(t,r){return function ku(t,r,s,a){const c=He(),d=Ln(),g=Ts(2);d.firstUpdatePass&&function pI(t,r,s,a){const c=t.data;if(null===c[s+1]){const d=c[xi()],g=function fI(t,r){return r>=t.expandoStartIndex}(t,s);(function f(t,r){return 0!=(t.flags&(r?8:16))})(d,a)&&null===r&&!g&&(r=!1),r=function B0(t,r,s,a){const c=function U(t){const r=bt.lFrame.currentDirectiveIndex;return-1===r?null:t[r]}(t);let d=a?r.residualClasses:r.residualStyles;if(null===c)0===(a?r.classBindings:r.styleBindings)&&(s=lp(s=em(null,t,r,s,a),r.attrs,a),d=null);else{const g=r.directiveStylingLast;if(-1===g||t[g]!==c)if(s=em(c,t,r,s,a),null===d){let b=function j0(t,r,s){const a=s?r.classBindings:r.styleBindings;if(0!==bd(a))return t[Tl(a)]}(t,r,a);void 0!==b&&Array.isArray(b)&&(b=em(null,t,r,b[1],a),b=lp(b,r.attrs,a),function $0(t,r,s,a){t[Tl(s?r.classBindings:r.styleBindings)]=a}(t,r,a,b))}else d=function H0(t,r,s){let a;const c=r.directiveEnd;for(let d=1+r.directiveStylingLast;d<c;d++)a=lp(a,t[d].hostAttrs,s);return lp(a,r.attrs,s)}(t,r,a)}return void 0!==d&&(a?r.residualClasses=d:r.residualStyles=d),s}(c,d,r,a),function N0(t,r,s,a,c,d){let g=d?r.classBindings:r.styleBindings,v=Tl(g),b=bd(g);t[a]=s;let V,O=!1;if(Array.isArray(s)?(V=s[1],(null===V||ou(s,V)>0)&&(O=!0)):V=s,c)if(0!==b){const oe=Tl(t[v+1]);t[a+1]=cp(oe,v),0!==oe&&(t[oe+1]=Gy(t[oe+1],a)),t[v+1]=function M0(t,r){return 131071&t|r<<17}(t[v+1],a)}else t[a+1]=cp(v,0),0!==v&&(t[v+1]=Gy(t[v+1],a)),v=a;else t[a+1]=cp(b,0),0===v?v=a:t[b+1]=Gy(t[b+1],a),b=a;O&&(t[a+1]=Jg(t[a+1])),rI(t,V,a,!0),rI(t,V,a,!1),function R0(t,r,s,a,c){const d=c?t.residualClasses:t.residualStyles;null!=d&&"string"==typeof r&&ou(d,r)>=0&&(s[a+1]=Wy(s[a+1]))}(r,V,t,a,d),g=cp(v,b),d?r.classBindings=g:r.styleBindings=g}(c,d,r,s,g,a)}}(d,t,g,a),r!==In&&ts(c,g,r)&&function n(t,r,s,a,c,d,g,v){if(!(3&r.type))return;const b=t.data,O=b[v+1],V=function nI(t){return 1==(1&t)}(O)?o(b,r,s,c,bd(O),g):void 0;u(V)||(u(d)||function S0(t){return 2==(2&t)}(O)&&(d=o(b,null,s,c,v,g)),function Zd(t,r,s,a,c){if(r)c?t.addClass(s,a):t.removeClass(s,a);else{let d=-1===a.indexOf("-")?void 0:Qc.DashCase;null==c?t.removeStyle(s,a,d):("string"==typeof c&&c.endsWith("!important")&&(c=c.slice(0,-10),d|=Qc.Important),t.setStyle(s,a,c,d))}}(a,g,Vu(xi(),s),c,d))}(d,d.data[xi()],c,c[rn],t,c[g+1]=function l(t,r){return null==t||""===t||("string"==typeof r?t+=r:"object"==typeof t&&(t=Fe(Gu(t)))),t}(r,s),a,g)}(t,r,null,!0),Ky}function em(t,r,s,a,c){let d=null;const g=s.directiveEnd;let v=s.directiveStylingLast;for(-1===v?v=s.directiveStart:v++;v<g&&(d=r[v],a=lp(a,d.hostAttrs,c),d!==t);)v++;return null!==t&&(s.directiveStylingLast=v),a}function lp(t,r,s){const a=s?1:2;let c=-1;if(null!==r)for(let d=0;d<r.length;d++){const g=r[d];"number"==typeof g?c=g:c===a&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Cs(t,g,!!s||r[++d]))}return void 0===t?null:t}function o(t,r,s,a,c,d){const g=null===r;let v;for(;c>0;){const b=t[c],O=Array.isArray(b),V=O?b[1]:b,q=null===V;let oe=s[c+1];oe===In&&(oe=q?_n:void 0);let ge=q?su(oe,a):V===a?oe:void 0;if(O&&!u(ge)&&(ge=su(b,a)),u(ge)&&(v=ge,g))return v;const Le=t[c+1];c=g?Tl(Le):bd(Le)}if(null!==r){let b=d?r.residualClasses:r.residualStyles;null!=b&&(v=su(b,a))}return v}function u(t){return void 0!==t}function E(t,r=""){const s=He(),a=Ln(),c=t+En,d=a.firstCreatePass?Sc(a,c,1,r,null):a.data[c],g=x(a,s,d,r,t);s[c]=g,Eu()&&Su(a,s,g,d),Js(d,!1)}let x=(t,r,s,a,c)=>(io(!0),function Wd(t,r){return t.createText(r)}(r[rn],a));function J(t){return De("",t,""),J}function De(t,r,s){const a=He(),c=function Ed(t,r,s,a){return ts(t,ii(),s)?r+ct(s)+a:In}(a,t,r,s);return c!==In&&Ms(a,xi(),c),De}function Re(t,r,s,a,c){const d=He(),g=function Ou(t,r,s,a,c,d){const v=El(t,to(),s,c);return Ts(2),v?r+ct(s)+a+ct(c)+d:In}(d,t,r,s,a,c);return g!==In&&Ms(d,xi(),g),Re}function ot(t,r,s,a,c,d,g){const v=He(),b=Dd(v,t,r,s,a,c,d,g);return b!==In&&Ms(v,xi(),b),ot}const Mh=void 0;var bD=["en",[["a","p"],["AM","PM"],Mh],[["AM","PM"],Mh,Mh],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Mh,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Mh,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Mh,"{1} 'at' {0}",Mh],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function CD(t){const s=Math.floor(Math.abs(t)),a=t.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===a?1:5}];let dp={};function yI(t){const r=function AD(t){return t.toLowerCase().replace(/_/g,"-")}(t);let s=nw(r);if(s)return s;const a=r.split("-")[0];if(s=nw(a),s)return s;if("en"===a)return bD;throw new We(701,!1)}function tw(t){return yI(t)[hp.PluralCase]}function nw(t){return t in dp||(dp[t]=Pt.ng&&Pt.ng.common&&Pt.ng.common.locales&&Pt.ng.common.locales[t]),dp[t]}var hp=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(hp||{});const fp="en-US";let rw=fp;function II(t,r,s,a,c){if(t=$e(t),Array.isArray(t))for(let d=0;d<t.length;d++)II(t[d],r,s,a,c);else{const d=Ln(),g=He(),v=pe();let b=il(t)?t:$e(t.provide);const O=Um(t),V=1048575&v.providerIndexes,q=v.directiveStart,oe=v.providerIndexes>>20;if(il(t)||!t.multi){const ge=new Ya(O,c,pd),Le=EI(b,r,c?V:V+oe,q);-1===Le?(wo(Ja(v,g),d,b),wI(d,t,r.length),r.push(b),v.directiveStart++,v.directiveEnd++,c&&(v.providerIndexes+=1048576),s.push(ge),g.push(ge)):(s[Le]=ge,g[Le]=ge)}else{const ge=EI(b,r,V+oe,q),Le=EI(b,r,V,V+oe),Dt=Le>=0&&s[Le];if(c&&!Dt||!c&&!(ge>=0&&s[ge])){wo(Ja(v,g),d,b);const Ht=function CT(t,r,s,a,c){const d=new Ya(t,s,pd);return d.multi=[],d.index=r,d.componentProviders=0,Sw(d,c,a&&!s),d}(c?TT:DT,s.length,c,a,O);!c&&Dt&&(s[Le].providerFactory=Ht),wI(d,t,r.length,0),r.push(b),v.directiveStart++,v.directiveEnd++,c&&(v.providerIndexes+=1048576),s.push(Ht),g.push(Ht)}else wI(d,t,ge>-1?ge:Le,Sw(s[c?Le:ge],O,!c&&a));!c&&a&&Dt&&s[Le].componentProviders++}}}function wI(t,r,s,a){const c=il(r),d=function Fm(t){return!!t.useClass}(r);if(c||d){const b=(d?$e(r.useClass):r).prototype.ngOnDestroy;if(b){const O=t.destroyHooks||(t.destroyHooks=[]);if(!c&&r.multi){const V=O.indexOf(s);-1===V?O.push(s,[a,b]):O[V+1].push(a,b)}else O.push(s,b)}}}function Sw(t,r,s){return s&&t.componentProviders++,t.multi.push(r)-1}function EI(t,r,s,a){for(let c=s;c<a;c++)if(r[c]===t)return c;return-1}function DT(t,r,s,a){return DI(this.multi,[])}function TT(t,r,s,a){const c=this.multi;let d;if(this.providerFactory){const g=this.providerFactory.componentProviders,v=tu(s,s[It],this.providerFactory.index,a);d=v.slice(0,g),DI(c,d);for(let b=g;b<v.length;b++)d.push(v[b])}else d=[],DI(c,d);return d}function DI(t,r){for(let s=0;s<t.length;s++)r.push((0,t[s])());return r}function Mw(t,r=[]){return s=>{s.providersResolver=(a,c)=>function ET(t,r,s){const a=Ln();if(a.firstCreatePass){const c=gr(t);II(s,a.data,a.blueprint,c,!0),II(r,a.data,a.blueprint,c,!1)}}(a,c?c(t):t,r)}}class xh{}class xw{}function bT(t,r){return new TI(t,r??null,[])}class TI extends xh{constructor(r,s,a){super(),this._parent=s,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new g_(this);const c=Rr(r);this._bootstrapComponents=Qu(c.bootstrap),this._r3Injector=Ym(r,s,[{provide:xh,useValue:this},{provide:ad,useValue:this.componentFactoryResolver},...a],Fe(r),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(r)}get injector(){return this._r3Injector}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class CI extends xw{constructor(r){super(),this.moduleType=r}create(r){return new TI(this.moduleType,r,[])}}class Nw extends xh{constructor(r){super(),this.componentFactoryResolver=new g_(this),this.instance=null;const s=new ol([...r.providers,{provide:xh,useValue:this},{provide:ad,useValue:this.componentFactoryResolver}],r.parent||sl(),r.debugName,new Set(["environment"]));this.injector=s,r.runEnvironmentInitializers&&s.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(r){this.injector.onDestroy(r)}}function Rw(t,r,s=null){return new Nw({providers:t,parent:r,debugName:s,runEnvironmentInitializers:!0}).injector}let ST=(()=>{class t{constructor(s){this._injector=s,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(s){if(!s.standalone)return null;if(!this.cachedInjectors.has(s)){const a=df(0,s.type),c=a.length>0?Rw([a],this._injector,`Standalone[${s.type.name}]`):null;this.cachedInjectors.set(s,c)}return this.cachedInjectors.get(s)}ngOnDestroy(){try{for(const s of this.cachedInjectors.values())null!==s&&s.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=gn({token:t,providedIn:"environment",factory:()=>new t(vt(uu))})}}return t})();function Ow(t){t.getStandaloneInjector=r=>r.get(ST).getOrCreateStandaloneInjector(t)}function eC(){return this._results[Symbol.iterator]()}class AI{get changes(){return this._changes||(this._changes=new du)}constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const s=AI.prototype;s[Symbol.iterator]||(s[Symbol.iterator]=eC)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,s){return this._results.reduce(r,s)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,s){const a=this;a.dirty=!1;const c=function as(t){return t.flat(Number.POSITIVE_INFINITY)}(r);(this._changesDetected=!function bu(t,r,s){if(t.length!==r.length)return!1;for(let a=0;a<t.length;a++){let c=t[a],d=r[a];if(s&&(c=s(c),d=s(d)),d!==c)return!1}return!0}(a._results,c,s))&&(a._results=c,a.length=c.length,a.last=c[this.length-1],a.first=c[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function nC(t,r,s,a=!0){const c=r[It];if(function Mp(t,r,s,a){const c=Vr+a,d=s.length;a>0&&(s[c-1][li]=r),a<d-Vr?(r[li]=s[c],Vc(s,Vr+a,r)):(s.push(r),r[li]=null),r[On]=s;const g=r[co];null!==g&&s!==g&&function fv(t,r){const s=t[Fi];r[Dr]!==r[On][On][Dr]&&(t[gs]=!0),null===s?t[Fi]=[r]:s.push(r)}(g,r);const v=r[Xi];null!==v&&v.insertView(t),r[Yt]|=128}(c,r,t,s),a){const d=Xd(s,t),g=r[rn],v=La(g,t[Mr]);null!==v&&function dv(t,r,s,a,c,d){a[Xn]=c,a[di]=r,Yd(t,a,s,1,c,d)}(c,t[di],g,r,v,d)}}let um=(()=>{class t{static{this.__NG_ELEMENT_ID__=sC}}return t})();const rC=um,iC=class extends rC{constructor(r,s,a){super(),this._declarationLView=r,this._declarationTContainer=s,this.elementRef=a}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(r,s){return this.createEmbeddedViewImpl(r,s)}createEmbeddedViewImpl(r,s,a){const c=function tC(t,r,s,a){const c=r.tView,v=gd(t,c,s,4096&t[Yt]?4096:16,null,r,null,null,null,a?.injector??null,a?.hydrationInfo??null);v[co]=t[r.index];const O=t[Xi];return null!==O&&(v[Xi]=O.createEmbeddedView(c)),Yf(c,v,s),v}(this._declarationLView,this._declarationTContainer,r,{injector:s,hydrationInfo:a});return new Zf(c)}};function sC(){return Jy(pe(),He())}function Jy(t,r){return 4&t.type?new iC(r,t,ud(t,r)):null}let tv=(()=>{class t{static{this.__NG_ELEMENT_ID__=dC}}return t})();function dC(){return Yw(pe(),He())}const hC=tv,Qw=class extends hC{constructor(r,s,a){super(),this._lContainer=r,this._hostTNode=s,this._hostLView=a}get element(){return ud(this._hostTNode,this._hostLView)}get injector(){return new Fn(this._hostTNode,this._hostLView)}get parentInjector(){const r=ia(this._hostTNode,this._hostLView);if(vo(r)){const s=_o(r,this._hostLView),a=Fo(r);return new Fn(s[It].data[a+8],s)}return new Fn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const s=Xw(this._lContainer);return null!==s&&s[r]||null}get length(){return this._lContainer.length-Vr}createEmbeddedView(r,s,a){let c,d;"number"==typeof a?c=a:null!=a&&(c=a.index,d=a.injector);const v=r.createEmbeddedViewImpl(s||{},d,null);return this.insertImpl(v,c,false),v}createComponent(r,s,a,c,d){const g=r&&!function Pa(t){return"function"==typeof t}(r);let v;if(g)v=s;else{const tt=s||{};v=tt.index,a=tt.injector,c=tt.projectableNodes,d=tt.environmentInjector||tt.ngModuleRef}const b=g?r:new _d(an(r)),O=a||this.parentInjector;if(!d&&null==b.ngModule){const Dt=(g?O:this.parentInjector).get(uu,null);Dt&&(d=Dt)}an(b.componentType??{});const ge=b.create(O,c,null,d);return this.insertImpl(ge.hostView,v,false),ge}insert(r,s){return this.insertImpl(r,s,!1)}insertImpl(r,s,a){const c=r._lView;if(function St(t){return Br(t[On])}(c)){const b=this.indexOf(r);if(-1!==b)this.detach(b);else{const O=c[On],V=new Qw(O,O[di],O[On]);V.detach(V.indexOf(r))}}const g=this._adjustIndex(s),v=this._lContainer;return nC(v,c,g,!a),r.attachToViewContainerRef(),Vc(SI(v),g,r),r}move(r,s){return this.insert(r,s)}indexOf(r){const s=Xw(this._lContainer);return null!==s?s.indexOf(r):-1}remove(r){const s=this._adjustIndex(r,-1),a=zl(this._lContainer,s);a&&(Bc(SI(this._lContainer),s),Gh(a[It],a))}detach(r){const s=this._adjustIndex(r,-1),a=zl(this._lContainer,s);return a&&null!=Bc(SI(this._lContainer),s)?new Zf(a):null}_adjustIndex(r,s=0){return r??this.length+s}};function Xw(t){return t[8]}function SI(t){return t[8]||(t[8]=[])}function Yw(t,r){let s;const a=r[t.index];return Br(a)?s=a:(s=Lg(a,r,null,t),r[t.index]=s,yl(r,s)),Zw(s,r,t,a),new Qw(s,t,r)}let Zw=function Jw(t,r,s,a){if(t[Mr])return;let c;c=8&s.type?kn(a):function fC(t,r){const s=t[rn],a=s.createComment(""),c=Mi(r,t);return Ho(s,La(s,c),a,function Cm(t,r){return t.nextSibling(r)}(s,c),!1),a}(r,s),t[Mr]=c};class MI{constructor(r){this.queryList=r,this.matches=null}clone(){return new MI(this.queryList)}setDirty(){this.queryList.setDirty()}}class xI{constructor(r=[]){this.queries=r}createEmbeddedView(r){const s=r.queries;if(null!==s){const a=null!==r.contentQueries?r.contentQueries[0]:s.length,c=[];for(let d=0;d<a;d++){const g=s.getByIndex(d);c.push(this.queries[g.indexInDeclarationView].clone())}return new xI(c)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let s=0;s<this.queries.length;s++)null!==aE(r,s).matches&&this.queries[s].setDirty()}}class eE{constructor(r,s,a=null){this.predicate=r,this.flags=s,this.read=a}}class NI{constructor(r=[]){this.queries=r}elementStart(r,s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementStart(r,s)}elementEnd(r){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(r)}embeddedTView(r){let s=null;for(let a=0;a<this.length;a++){const c=null!==s?s.length:0,d=this.getByIndex(a).embeddedTView(r,c);d&&(d.indexInDeclarationView=a,null!==s?s.push(d):s=[d])}return null!==s?new NI(s):null}template(r,s){for(let a=0;a<this.queries.length;a++)this.queries[a].template(r,s)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class RI{constructor(r,s=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(r,s){this.isApplyingToNode(s)&&this.matchTNode(r,s)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,s){this.elementStart(r,s)}embeddedTView(r,s){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,s),new RI(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const s=this._declarationNodeIndex;let a=r.parent;for(;null!==a&&8&a.type&&a.index!==s;)a=a.parent;return s===(null!==a?a.index:-1)}return this._appliesToNextNode}matchTNode(r,s){const a=this.metadata.predicate;if(Array.isArray(a))for(let c=0;c<a.length;c++){const d=a[c];this.matchTNodeWithReadOption(r,s,mC(s,d)),this.matchTNodeWithReadOption(r,s,sa(s,r,d,!1,!1))}else a===um?4&s.type&&this.matchTNodeWithReadOption(r,s,-1):this.matchTNodeWithReadOption(r,s,sa(s,r,a,!1,!1))}matchTNodeWithReadOption(r,s,a){if(null!==a){const c=this.metadata.read;if(null!==c)if(c===cd||c===tv||c===um&&4&s.type)this.addMatch(s.index,-2);else{const d=sa(s,r,c,!1,!1);null!==d&&this.addMatch(s.index,d)}else this.addMatch(s.index,a)}}addMatch(r,s){null===this.matches?this.matches=[r,s]:this.matches.push(r,s)}}function mC(t,r){const s=t.localNames;if(null!==s)for(let a=0;a<s.length;a+=2)if(s[a]===r)return s[a+1];return null}function vC(t,r,s,a){return-1===s?function yC(t,r){return 11&t.type?ud(t,r):4&t.type?Jy(t,r):null}(r,t):-2===s?function _C(t,r,s){return s===cd?ud(r,t):s===um?Jy(r,t):s===tv?Yw(r,t):void 0}(t,r,a):tu(t,t[It],s,r)}function tE(t,r,s,a){const c=r[Xi].queries[a];if(null===c.matches){const d=t.data,g=s.matches,v=[];for(let b=0;b<g.length;b+=2){const O=g[b];v.push(O<0?null:vC(r,d[O],g[b+1],s.metadata.read))}c.matches=v}return c.matches}function OI(t,r,s,a){const c=t.queries.getByIndex(s),d=c.matches;if(null!==d){const g=tE(t,r,c,s);for(let v=0;v<d.length;v+=2){const b=d[v];if(b>0)a.push(g[v/2]);else{const O=d[v+1],V=r[-b];for(let q=Vr;q<V.length;q++){const oe=V[q];oe[co]===oe[On]&&OI(oe[It],oe,O,a)}if(null!==V[Fi]){const q=V[Fi];for(let oe=0;oe<q.length;oe++){const ge=q[oe];OI(ge[It],ge,O,a)}}}}}return a}function nE(t){const r=He(),s=Ln(),a=X();Ce(a+1);const c=aE(s,a);if(t.dirty&&function gi(t){return 4==(4&t[Yt])}(r)===(2==(2&c.metadata.flags))){if(null===c.matches)t.reset([]);else{const d=c.crossesNgTemplate?OI(s,r,a,[]):tE(s,r,c,a);t.reset(d,Km),t.notifyOnChanges()}return!0}return!1}function rE(t,r,s,a){const c=Ln();if(c.firstCreatePass){const d=pe();(function oE(t,r,s){null===t.queries&&(t.queries=new NI),t.queries.track(new RI(r,s))})(c,new eE(r,s,a),d.index),function EC(t,r){const s=t.contentQueries||(t.contentQueries=[]);r!==(s.length?s[s.length-1]:-1)&&s.push(t.queries.length-1,r)}(c,t),2==(2&s)&&(c.staticContentQueries=!0)}!function sE(t,r,s){const a=new AI(4==(4&s));(function Sg(t,r,s,a){const c=Ug(r);c.push(s),t.firstCreatePass&&yd(t).push(a,c.length-1)})(t,r,a,a.destroy),null===r[Xi]&&(r[Xi]=new xI),r[Xi].queries.push(new MI(a))}(c,He(),s)}function iE(){return function wC(t,r){return t[Xi].queries[r].queryList}(He(),X())}function aE(t,r){return t.queries.getByIndex(r)}function PI(t){return!!Rr(t)}const TE=new zt("Application Initializer");let VI=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((s,a)=>{this.resolve=s,this.reject=a}),this.appInits=wt(TE,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const s=[];for(const c of this.appInits){const d=c();if(By(d))s.push(d);else if(Yg(d)){const g=new Promise((v,b)=>{d.subscribe({complete:v,error:b})});s.push(g)}}const a=()=>{this.done=!0,this.resolve()};Promise.all(s).then(()=>{a()}).catch(c=>{this.reject(c)}),0===s.length&&a(),this.initialized=!0}static{this.\u0275fac=function(a){return new(a||t)}}static{this.\u0275prov=gn({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),CE=(()=>{class t{log(s){console.log(s)}warn(s){console.warn(s)}static{this.\u0275fac=function(a){return new(a||t)}}static{this.\u0275prov=gn({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();const rv=new zt("LocaleId",{providedIn:"root",factory:()=>wt(rv,yt.Optional|yt.SkipSelf)||function zC(){return typeof $localize<"u"&&$localize.locale||fp}()}),GC=new zt("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let bE=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new re.t(!1)}add(){this.hasPendingTasks.next(!0);const s=this.taskId++;return this.pendingTasks.add(s),s}remove(s){this.pendingTasks.delete(s),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static{this.\u0275fac=function(a){return new(a||t)}}static{this.\u0275prov=gn({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();class KC{constructor(r,s){this.ngModuleFactory=r,this.componentFactories=s}}let qC=(()=>{class t{compileModuleSync(s){return new CI(s)}compileModuleAsync(s){return Promise.resolve(this.compileModuleSync(s))}compileModuleAndAllComponentsSync(s){const a=this.compileModuleSync(s),d=Qu(Rr(s).declarations).reduce((g,v)=>{const b=an(v);return b&&g.push(new _d(b)),g},[]);return new KC(a,d)}compileModuleAndAllComponentsAsync(s){return Promise.resolve(this.compileModuleAndAllComponentsSync(s))}clearCache(){}clearCacheFor(s){}getModuleId(s){}static{this.\u0275fac=function(a){return new(a||t)}}static{this.\u0275prov=gn({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();const xE=new zt(""),NE=new zt("");let $I,mb=(()=>{class t{constructor(s,a,c){this._ngZone=s,this.registry=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,$I||(function yb(t){$I=t}(c),c.addToWindow(a)),this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{cs.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb(this._didWork)}this._didWork=!1});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(a=>!a.updateCb||!a.updateCb(s)||(clearTimeout(a.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,a,c){let d=-1;a&&a>0&&(d=setTimeout(()=>{this._callbacks=this._callbacks.filter(g=>g.timeoutId!==d),s(this._didWork,this.getPendingTasks())},a)),this._callbacks.push({doneCb:s,timeoutId:d,updateCb:c})}whenStable(s,a,c){if(c&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,a,c),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(s){this.registry.registerApplication(s,this)}unregisterApplication(s){this.registry.unregisterApplication(s)}findProviders(s,a,c){return[]}static{this.\u0275fac=function(a){return new(a||t)(vt(cs),vt(RE),vt(NE))}}static{this.\u0275prov=gn({token:t,factory:t.\u0275fac})}}return t})(),RE=(()=>{class t{constructor(){this._applications=new Map}registerApplication(s,a){this._applications.set(s,a)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,a=!0){return $I?.findTestabilityInTree(this,s,a)??null}static{this.\u0275fac=function(a){return new(a||t)}}static{this.\u0275prov=gn({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})(),Sd=null;const OE=new zt("AllowMultipleToken"),HI=new zt("PlatformDestroyListeners"),zI=new zt("appBootstrapListener");class Ib{constructor(r,s){this.name=r,this.token=s}}function LE(t,r,s=[]){const a=`Platform: ${r}`,c=new zt(a);return(d=[])=>{let g=GI();if(!g||g.injector.get(OE,!1)){const v=[...s,...d,{provide:c,useValue:!0}];t?t(v):function wb(t){if(Sd&&!Sd.get(OE,!1))throw new We(400,!1);(function PE(){!function Ue(t){Y=t}(()=>{throw new We(600,!1)})})(),Sd=t;const r=t.get(UE);(function kE(t){t.get(mf,null)?.forEach(s=>s())})(t)}(function FE(t=[],r){return lu.create({name:r,providers:[{provide:Yp,useValue:"platform"},{provide:HI,useValue:new Set([()=>Sd=null])},...t]})}(v,a))}return function Db(t){const r=GI();if(!r)throw new We(401,!1);return r}()}}function GI(){return Sd?.get(UE)??null}let UE=(()=>{class t{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,a){const c=function Tb(t="zone.js",r){return"noop"===t?new _g:"zone.js"===t?new cs(r):t}(a?.ngZone,function VE(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:a?.ngZoneEventCoalescing,runCoalescing:a?.ngZoneRunCoalescing}));return c.run(()=>{const d=function AT(t,r,s){return new TI(t,r,s)}(s.moduleType,this.injector,function zE(t){return[{provide:cs,useFactory:t},{provide:rh,multi:!0,useFactory:()=>{const r=wt(bb,{optional:!0});return()=>r.initialize()}},{provide:HE,useFactory:Cb},{provide:ny,useFactory:Of}]}(()=>c)),g=d.injector.get(Mu,null);return c.runOutsideAngular(()=>{const v=c.onError.subscribe({next:b=>{g.handleError(b)}});d.onDestroy(()=>{sv(this._modules,d),v.unsubscribe()})}),function BE(t,r,s){try{const a=s();return By(a)?a.catch(c=>{throw r.runOutsideAngular(()=>t.handleError(c)),c}):a}catch(a){throw r.runOutsideAngular(()=>t.handleError(a)),a}}(g,c,()=>{const v=d.injector.get(VI);return v.runInitializers(),v.donePromise.then(()=>(function iw(t){cn(t,"Expected localeId to be defined"),"string"==typeof t&&(rw=t.toLowerCase().replace(/_/g,"-"))}(d.injector.get(rv,fp)||fp),this._moduleDoBootstrap(d),d))})})}bootstrapModule(s,a=[]){const c=jE({},a);return function vb(t,r,s){const a=new CI(s);return Promise.resolve(a)}(0,0,s).then(d=>this.bootstrapModuleFactory(d,c))}_moduleDoBootstrap(s){const a=s.injector.get(mp);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(c=>a.bootstrap(c));else{if(!s.instance.ngDoBootstrap)throw new We(-403,!1);s.instance.ngDoBootstrap(a)}this._modules.push(s)}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new We(404,!1);this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a());const s=this._injector.get(HI,null);s&&(s.forEach(a=>a()),s.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static{this.\u0275fac=function(a){return new(a||t)(vt(lu))}}static{this.\u0275prov=gn({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();function jE(t,r){return Array.isArray(r)?r.reduce(jE,t):{...t,...r}}let mp=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=wt(HE),this.zoneIsStable=wt(ny),this.componentTypes=[],this.components=[],this.isStable=wt(bE).hasPendingTasks.pipe((0,st.n)(s=>s?(0,ee.of)(!1):this.zoneIsStable),function Bn(t,r=Gt.D){return t=t??Un,(0,Oe.N)((s,a)=>{let c,d=!0;s.subscribe((0,Ut._)(a,g=>{const v=r(g);(d||!t(c,v))&&(d=!1,c=v,a.next(g))}))})}(),de()),this._injector=wt(uu)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(s,a){const c=s instanceof Ef;if(!this._injector.get(VI).done)throw!c&&qi(s),new We(405,!1);let g;g=c?s:this._injector.get(ad).resolveComponentFactory(s),this.componentTypes.push(g.componentType);const v=function _b(t){return t.isBoundToModule}(g)?void 0:this._injector.get(xh),O=g.create(lu.NULL,[],a||g.selector,v),V=O.location.nativeElement,q=O.injector.get(xE,null);return q?.registerApplication(V),O.onDestroy(()=>{this.detachView(O.hostView),sv(this.components,O),q?.unregisterApplication(V)}),this._loadComponent(O),O}tick(){if(this._runningTick)throw new We(101,!1);try{this._runningTick=!0;for(let s of this._views)s.detectChanges()}catch(s){this.internalErrorHandler(s)}finally{this._runningTick=!1}}attachView(s){const a=s;this._views.push(a),a.attachToAppRef(this)}detachView(s){const a=s;sv(this._views,a),a.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s);const a=this._injector.get(zI,[]);a.push(...this._bootstrapListeners),a.forEach(c=>c(s))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(s=>s()),this._views.slice().forEach(s=>s.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(s){return this._destroyListeners.push(s),()=>sv(this._destroyListeners,s)}destroy(){if(this._destroyed)throw new We(406,!1);const s=this._injector;s.destroy&&!s.destroyed&&s.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(a){return new(a||t)}}static{this.\u0275prov=gn({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function sv(t,r){const s=t.indexOf(r);s>-1&&t.splice(s,1)}const HE=new zt("",{providedIn:"root",factory:()=>wt(Mu).handleError.bind(void 0)});function Cb(){const t=wt(cs),r=wt(Mu);return s=>t.runOutsideAngular(()=>r.handleError(s))}let bb=(()=>{class t{constructor(){this.zone=wt(cs),this.applicationRef=wt(mp)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(a){return new(a||t)}}static{this.\u0275prov=gn({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();let Sb=(()=>{class t{static{this.__NG_ELEMENT_ID__=Mb}}return t})();function Mb(t){return function xb(t,r,s){if(ms(t)&&!s){const a=Vs(t.index,r);return new Zf(a,a)}return 47&t.type?new Zf(r[Dr],r):null}(pe(),He(),16==(16&t))}class QE{constructor(){}supports(r){return _h(r)}create(r){return new kb(r)}}const Pb=(t,r)=>r;class kb{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||Pb}forEachItem(r){let s;for(s=this._itHead;null!==s;s=s._next)r(s)}forEachOperation(r){let s=this._itHead,a=this._removalsHead,c=0,d=null;for(;s||a;){const g=!a||s&&s.currentIndex<YE(a,c,d)?s:a,v=YE(g,c,d),b=g.currentIndex;if(g===a)c--,a=a._nextRemoved;else if(s=s._next,null==g.previousIndex)c++;else{d||(d=[]);const O=v-c,V=b-c;if(O!=V){for(let oe=0;oe<O;oe++){const ge=oe<d.length?d[oe]:d[oe]=0,Le=ge+oe;V<=Le&&Le<O&&(d[oe]=ge+1)}d[g.previousIndex]=V-O}}v!==b&&r(g,v,b)}}forEachPreviousItem(r){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachMovedItem(r){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}forEachIdentityChange(r){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)r(s)}diff(r){if(null==r&&(r=[]),!_h(r))throw new We(900,!1);return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let c,d,g,s=this._itHead,a=!1;if(Array.isArray(r)){this.length=r.length;for(let v=0;v<this.length;v++)d=r[v],g=this._trackByFn(v,d),null!==s&&Object.is(s.trackById,g)?(a&&(s=this._verifyReinsertion(s,d,g,v)),Object.is(s.item,d)||this._addIdentityChange(s,d)):(s=this._mismatch(s,d,g,v),a=!0),s=s._next}else c=0,function Ih(t,r){if(Array.isArray(t))for(let s=0;s<t.length;s++)r(t[s]);else{const s=t[Symbol.iterator]();let a;for(;!(a=s.next()).done;)r(a.value)}}(r,v=>{g=this._trackByFn(c,v),null!==s&&Object.is(s.trackById,g)?(a&&(s=this._verifyReinsertion(s,v,g,c)),Object.is(s.item,v)||this._addIdentityChange(s,v)):(s=this._mismatch(s,v,g,c),a=!0),s=s._next,c++}),this.length=c;return this._truncate(s),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,s,a,c){let d;return null===r?d=this._itTail:(d=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._reinsertAfter(r,d,c)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(a,c))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._moveAfter(r,d,c)):r=this._addAfter(new Lb(s,a),d,c),r}_verifyReinsertion(r,s,a,c){let d=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null);return null!==d?r=this._reinsertAfter(d,r._prev,c):r.currentIndex!=c&&(r.currentIndex=c,this._addToMoves(r,c)),r}_truncate(r){for(;null!==r;){const s=r._next;this._addToRemovals(this._unlink(r)),r=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,s,a){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const c=r._prevRemoved,d=r._nextRemoved;return null===c?this._removalsHead=d:c._nextRemoved=d,null===d?this._removalsTail=c:d._prevRemoved=c,this._insertAfter(r,s,a),this._addToMoves(r,a),r}_moveAfter(r,s,a){return this._unlink(r),this._insertAfter(r,s,a),this._addToMoves(r,a),r}_addAfter(r,s,a){return this._insertAfter(r,s,a),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,s,a){const c=null===s?this._itHead:s._next;return r._next=c,r._prev=s,null===c?this._itTail=r:c._prev=r,null===s?this._itHead=r:s._next=r,null===this._linkedRecords&&(this._linkedRecords=new XE),this._linkedRecords.put(r),r.currentIndex=a,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const s=r._prev,a=r._next;return null===s?this._itHead=a:s._next=a,null===a?this._itTail=s:a._prev=s,r}_addToMoves(r,s){return r.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new XE),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,s){return r.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class Lb{constructor(r,s){this.item=r,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Fb{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,s){let a;for(a=this._head;null!==a;a=a._nextDup)if((null===s||s<=a.currentIndex)&&Object.is(a.trackById,r))return a;return null}remove(r){const s=r._prevDup,a=r._nextDup;return null===s?this._head=a:s._nextDup=a,null===a?this._tail=s:a._prevDup=s,null===this._head}}class XE{constructor(){this.map=new Map}put(r){const s=r.trackById;let a=this.map.get(s);a||(a=new Fb,this.map.set(s,a)),a.add(r)}get(r,s){const c=this.map.get(r);return c?c.get(r,s):null}remove(r){const s=r.trackById;return this.map.get(s).remove(r)&&this.map.delete(s),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function YE(t,r,s){const a=t.previousIndex;if(null===a)return a;let c=0;return s&&a<s.length&&(c=s[a]),a+r+c}class ZE{constructor(){}supports(r){return r instanceof Map||Kg(r)}create(){return new Ub}}class Ub{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let s;for(s=this._mapHead;null!==s;s=s._next)r(s)}forEachPreviousItem(r){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)r(s)}forEachChangedItem(r){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}diff(r){if(r){if(!(r instanceof Map||Kg(r)))throw new We(900,!1)}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(r,(a,c)=>{if(s&&s.key===c)this._maybeAddToChanges(s,a),this._appendAfter=s,s=s._next;else{const d=this._getOrCreateRecordForKey(c,a);s=this._insertBeforeOrAppend(s,d)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let a=s;null!==a;a=a._nextRemoved)a===this._mapHead&&(this._mapHead=null),this._records.delete(a.key),a._nextRemoved=a._next,a.previousValue=a.currentValue,a.currentValue=null,a._prev=null,a._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,s){if(r){const a=r._prev;return s._next=r,s._prev=a,r._prev=s,a&&(a._next=s),r===this._mapHead&&(this._mapHead=s),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(r,s){if(this._records.has(r)){const c=this._records.get(r);this._maybeAddToChanges(c,s);const d=c._prev,g=c._next;return d&&(d._next=g),g&&(g._prev=d),c._next=null,c._prev=null,c}const a=new Vb(r);return this._records.set(r,a),a.currentValue=s,this._addToAdditions(a),a}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,s){Object.is(s,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=s,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,s){r instanceof Map?r.forEach(s):Object.keys(r).forEach(a=>s(r[a],a))}}class Vb{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function JE(){return new XI([new QE])}let XI=(()=>{class t{static{this.\u0275prov=gn({token:t,providedIn:"root",factory:JE})}constructor(s){this.factories=s}static create(s,a){if(null!=a){const c=a.factories.slice();s=s.concat(c)}return new t(s)}static extend(s){return{provide:t,useFactory:a=>t.create(s,a||JE()),deps:[[t,new bs,new aa]]}}find(s){const a=this.factories.find(c=>c.supports(s));if(null!=a)return a;throw new We(901,!1)}}return t})();function eD(){return new YI([new ZE])}let YI=(()=>{class t{static{this.\u0275prov=gn({token:t,providedIn:"root",factory:eD})}constructor(s){this.factories=s}static create(s,a){if(a){const c=a.factories.slice();s=s.concat(c)}return new t(s)}static extend(s){return{provide:t,useFactory:a=>t.create(s,a||eD()),deps:[[t,new bs,new aa]]}}find(s){const a=this.factories.find(c=>c.supports(s));if(a)return a;throw new We(901,!1)}}return t})();const $b=LE(null,"core",[]);let Hb=(()=>{class t{constructor(s){}static{this.\u0275fac=function(a){return new(a||t)(vt(mp))}}static{this.\u0275mod=ga({type:t})}static{this.\u0275inj=Jt({})}}return t})();function eA(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function nA(t){const r=an(t);if(!r)return null;const s=new _d(r);return{get selector(){return s.selector},get type(){return s.componentType},get inputs(){return s.inputs},get outputs(){return s.outputs},get ngContentSelectors(){return s.ngContentSelectors},get isStandalone(){return r.standalone},get isSignal(){return r.signals}}}},2979:(Wt,ze,K)=>{K.d(ze,{MF:()=>Jr,j6:()=>Jn,om:()=>Kn,Sx:()=>Sr,Dk:()=>ei,Wp:()=>fr,KO:()=>oi});var S=K(467),ie=K(8779),ce=K(5398),Te=K(1401);const fe=(Ne,ve)=>ve.some(Xe=>Ne instanceof Xe);let Q,Z;const re=new WeakMap,ee=new WeakMap,_e=new WeakMap,Oe=new WeakMap,de=new WeakMap;let Gt={get(Ne,ve,Xe){if(Ne instanceof IDBTransaction){if("done"===ve)return ee.get(Ne);if("objectStoreNames"===ve)return Ne.objectStoreNames||_e.get(Ne);if("store"===ve)return Xe.objectStoreNames[1]?void 0:Xe.objectStore(Xe.objectStoreNames[0])}return Pe(Ne[ve])},set:(Ne,ve,Xe)=>(Ne[ve]=Xe,!0),has:(Ne,ve)=>Ne instanceof IDBTransaction&&("done"===ve||"store"===ve)||ve in Ne};function Un(Ne){return"function"==typeof Ne?function Bn(Ne){return Ne!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Be(){return Z||(Z=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Ne)?function(...ve){return Ne.apply(Ze(this),ve),Pe(re.get(this))}:function(...ve){return Pe(Ne.apply(Ze(this),ve))}:function(ve,...Xe){const vt=Ne.call(Ze(this),ve,...Xe);return _e.set(vt,ve.sort?ve.sort():[ve]),Pe(vt)}}(Ne):(Ne instanceof IDBTransaction&&function st(Ne){if(ee.has(Ne))return;const ve=new Promise((Xe,vt)=>{const Kt=()=>{Ne.removeEventListener("complete",wt),Ne.removeEventListener("error",on),Ne.removeEventListener("abort",on)},wt=()=>{Xe(),Kt()},on=()=>{vt(Ne.error||new DOMException("AbortError","AbortError")),Kt()};Ne.addEventListener("complete",wt),Ne.addEventListener("error",on),Ne.addEventListener("abort",on)});ee.set(Ne,ve)}(Ne),fe(Ne,function Je(){return Q||(Q=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Ne,Gt):Ne)}function Pe(Ne){if(Ne instanceof IDBRequest)return function ut(Ne){const ve=new Promise((Xe,vt)=>{const Kt=()=>{Ne.removeEventListener("success",wt),Ne.removeEventListener("error",on)},wt=()=>{Xe(Pe(Ne.result)),Kt()},on=()=>{vt(Ne.error),Kt()};Ne.addEventListener("success",wt),Ne.addEventListener("error",on)});return ve.then(Xe=>{Xe instanceof IDBCursor&&re.set(Xe,Ne)}).catch(()=>{}),de.set(ve,Ne),ve}(Ne);if(Oe.has(Ne))return Oe.get(Ne);const ve=Un(Ne);return ve!==Ne&&(Oe.set(Ne,ve),de.set(ve,Ne)),ve}const Ze=Ne=>de.get(Ne),gt=["get","getKey","getAll","getAllKeys","count"],Ge=["put","add","delete","clear"],$e=new Map;function hn(Ne,ve){if(!(Ne instanceof IDBDatabase)||ve in Ne||"string"!=typeof ve)return;if($e.get(ve))return $e.get(ve);const Xe=ve.replace(/FromIndex$/,""),vt=ve!==Xe,Kt=Ge.includes(Xe);if(!(Xe in(vt?IDBIndex:IDBObjectStore).prototype)||!Kt&&!gt.includes(Xe))return;const wt=function(){var on=(0,S.A)(function*(Ir,...jn){const ui=this.transaction(Ir,Kt?"readwrite":"readonly");let zs=ui.store;return vt&&(zs=zs.index(jn.shift())),(yield Promise.all([zs[Xe](...jn),Kt&&ui.done]))[0]});return function(jn){return on.apply(this,arguments)}}();return $e.set(ve,wt),wt}!function Ut(Ne){Gt=Ne(Gt)}(Ne=>({...Ne,get:(ve,Xe,vt)=>hn(ve,Xe)||Ne.get(ve,Xe,vt),has:(ve,Xe)=>!!hn(ve,Xe)||Ne.has(ve,Xe)}));class Nn{constructor(ve){this.container=ve}getPlatformInfoString(){return this.container.getProviders().map(Xe=>{if(function Cr(Ne){const ve=Ne.getComponent();return"VERSION"===ve?.type}(Xe)){const vt=Xe.getImmediate();return`${vt.library}/${vt.version}`}return null}).filter(Xe=>Xe).join(" ")}}const et="@firebase/app",wn=new ce.Vy("@firebase/app"),Yn="[DEFAULT]",Jt={[et]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},qt=new Map,Wn=new Map;function _r(Ne,ve){try{Ne.container.addComponent(ve)}catch(Xe){wn.debug(`Component ${ve.name} failed to register with FirebaseApp ${Ne.name}`,Xe)}}function Kn(Ne){const ve=Ne.name;if(Wn.has(ve))return wn.debug(`There were multiple attempts to register component ${ve}.`),!1;Wn.set(ve,Ne);for(const Xe of qt.values())_r(Xe,Ne);return!0}function Jn(Ne,ve){const Xe=Ne.container.getProvider("heartbeat").getImmediate({optional:!0});return Xe&&Xe.triggerHeartbeat(),Ne.container.getProvider(ve)}const yt=new Te.FA("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class vi{constructor(ve,Xe,vt){this._isDeleted=!1,this._options=Object.assign({},ve),this._config=Object.assign({},Xe),this._name=Xe.name,this._automaticDataCollectionEnabled=Xe.automaticDataCollectionEnabled,this._container=vt,this.container.addComponent(new ie.uA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ve){this.checkDestroyed(),this._automaticDataCollectionEnabled=ve}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(ve){this._isDeleted=ve}checkDestroyed(){if(this.isDeleted)throw yt.create("app-deleted",{appName:this._name})}}const Jr="9.23.0";function fr(Ne,ve={}){let Xe=Ne;"object"!=typeof ve&&(ve={name:ve});const vt=Object.assign({name:Yn,automaticDataCollectionEnabled:!1},ve),Kt=vt.name;if("string"!=typeof Kt||!Kt)throw yt.create("bad-app-name",{appName:String(Kt)});if(Xe||(Xe=(0,Te.T9)()),!Xe)throw yt.create("no-options");const wt=qt.get(Kt);if(wt){if((0,Te.bD)(Xe,wt.options)&&(0,Te.bD)(vt,wt.config))return wt;throw yt.create("duplicate-app",{appName:Kt})}const on=new ie.h1(Kt);for(const jn of Wn.values())on.addComponent(jn);const Ir=new vi(Xe,vt,on);return qt.set(Kt,Ir),Ir}function Sr(Ne=Yn){const ve=qt.get(Ne);if(!ve&&Ne===Yn&&(0,Te.T9)())return fr();if(!ve)throw yt.create("no-app",{appName:Ne});return ve}function ei(){return Array.from(qt.values())}function oi(Ne,ve,Xe){var vt;let Kt=null!==(vt=Jt[Ne])&&void 0!==vt?vt:Ne;Xe&&(Kt+=`-${Xe}`);const wt=Kt.match(/\s|\//),on=ve.match(/\s|\//);if(wt||on){const Ir=[`Unable to register library "${Kt}" with version "${ve}":`];return wt&&Ir.push(`library name "${Kt}" contains illegal characters (whitespace or "/")`),wt&&on&&Ir.push("and"),on&&Ir.push(`version name "${ve}" contains illegal characters (whitespace or "/")`),void wn.warn(Ir.join(" "))}Kn(new ie.uA(`${Kt}-version`,()=>({library:Kt,version:ve}),"VERSION"))}const ln="firebase-heartbeat-database",pr=1,te="firebase-heartbeat-store";let B=null;function $(){return B||(B=function Fe(Ne,ve,{blocked:Xe,upgrade:vt,blocking:Kt,terminated:wt}={}){const on=indexedDB.open(Ne,ve),Ir=Pe(on);return vt&&on.addEventListener("upgradeneeded",jn=>{vt(Pe(on.result),jn.oldVersion,jn.newVersion,Pe(on.transaction),jn)}),Xe&&on.addEventListener("blocked",jn=>Xe(jn.oldVersion,jn.newVersion,jn)),Ir.then(jn=>{wt&&jn.addEventListener("close",()=>wt()),Kt&&jn.addEventListener("versionchange",ui=>Kt(ui.oldVersion,ui.newVersion,ui))}).catch(()=>{}),Ir}(ln,pr,{upgrade:(Ne,ve)=>{0===ve&&Ne.createObjectStore(te)}}).catch(Ne=>{throw yt.create("idb-open",{originalErrorMessage:Ne.message})})),B}function G(){return(G=(0,S.A)(function*(Ne){try{return yield(yield $()).transaction(te).objectStore(te).get(ht(Ne))}catch(ve){if(ve instanceof Te.g)wn.warn(ve.message);else{const Xe=yt.create("idb-get",{originalErrorMessage:ve?.message});wn.warn(Xe.message)}}})).apply(this,arguments)}function le(Ne,ve){return je.apply(this,arguments)}function je(){return(je=(0,S.A)(function*(Ne,ve){try{const vt=(yield $()).transaction(te,"readwrite");yield vt.objectStore(te).put(ve,ht(Ne)),yield vt.done}catch(Xe){if(Xe instanceof Te.g)wn.warn(Xe.message);else{const vt=yt.create("idb-set",{originalErrorMessage:Xe?.message});wn.warn(vt.message)}}})).apply(this,arguments)}function ht(Ne){return`${Ne.name}!${Ne.options.appId}`}class vn{constructor(ve){this.container=ve,this._heartbeatsCache=null;const Xe=this.container.getProvider("app").getImmediate();this._storage=new ai(Xe),this._heartbeatsCachePromise=this._storage.read().then(vt=>(this._heartbeatsCache=vt,vt))}triggerHeartbeat(){var ve=this;return(0,S.A)(function*(){const vt=ve.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Kt=tn();if(null===ve._heartbeatsCache&&(ve._heartbeatsCache=yield ve._heartbeatsCachePromise),ve._heartbeatsCache.lastSentHeartbeatDate!==Kt&&!ve._heartbeatsCache.heartbeats.some(wt=>wt.date===Kt))return ve._heartbeatsCache.heartbeats.push({date:Kt,agent:vt}),ve._heartbeatsCache.heartbeats=ve._heartbeatsCache.heartbeats.filter(wt=>{const on=new Date(wt.date).valueOf();return Date.now()-on<=2592e6}),ve._storage.overwrite(ve._heartbeatsCache)})()}getHeartbeatsHeader(){var ve=this;return(0,S.A)(function*(){if(null===ve._heartbeatsCache&&(yield ve._heartbeatsCachePromise),null===ve._heartbeatsCache||0===ve._heartbeatsCache.heartbeats.length)return"";const Xe=tn(),{heartbeatsToSend:vt,unsentEntries:Kt}=function ar(Ne,ve=1024){const Xe=[];let vt=Ne.slice();for(const Kt of Ne){const wt=Xe.find(on=>on.agent===Kt.agent);if(wt){if(wt.dates.push(Kt.date),Ti(Xe)>ve){wt.dates.pop();break}}else if(Xe.push({agent:Kt.agent,dates:[Kt.date]}),Ti(Xe)>ve){Xe.pop();break}vt=vt.slice(1)}return{heartbeatsToSend:Xe,unsentEntries:vt}}(ve._heartbeatsCache.heartbeats),wt=(0,Te.Uj)(JSON.stringify({version:2,heartbeats:vt}));return ve._heartbeatsCache.lastSentHeartbeatDate=Xe,Kt.length>0?(ve._heartbeatsCache.heartbeats=Kt,yield ve._storage.overwrite(ve._heartbeatsCache)):(ve._heartbeatsCache.heartbeats=[],ve._storage.overwrite(ve._heartbeatsCache)),wt})()}}function tn(){return(new Date).toISOString().substring(0,10)}class ai{constructor(ve){this.app=ve,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,S.A)(function*(){return!!(0,Te.zW)()&&(0,Te.eX)().then(()=>!0).catch(()=>!1)})()}read(){var ve=this;return(0,S.A)(function*(){return(yield ve._canUseIndexedDBPromise)&&(yield function j(Ne){return G.apply(this,arguments)}(ve.app))||{heartbeats:[]}})()}overwrite(ve){var Xe=this;return(0,S.A)(function*(){var vt;if(yield Xe._canUseIndexedDBPromise){const wt=yield Xe.read();return le(Xe.app,{lastSentHeartbeatDate:null!==(vt=ve.lastSentHeartbeatDate)&&void 0!==vt?vt:wt.lastSentHeartbeatDate,heartbeats:ve.heartbeats})}})()}add(ve){var Xe=this;return(0,S.A)(function*(){var vt;if(yield Xe._canUseIndexedDBPromise){const wt=yield Xe.read();return le(Xe.app,{lastSentHeartbeatDate:null!==(vt=ve.lastSentHeartbeatDate)&&void 0!==vt?vt:wt.lastSentHeartbeatDate,heartbeats:[...wt.heartbeats,...ve.heartbeats]})}})()}}function Ti(Ne){return(0,Te.Uj)(JSON.stringify({version:2,heartbeats:Ne})).length}!function Ci(Ne){Kn(new ie.uA("platform-logger",ve=>new Nn(ve),"PRIVATE")),Kn(new ie.uA("heartbeat",ve=>new vn(ve),"PRIVATE")),oi(et,"0.9.13",Ne),oi(et,"0.9.13","esm2017"),oi("fire-js","")}("")},8779:(Wt,ze,K)=>{K.d(ze,{h1:()=>Je,uA:()=>ce});var S=K(467),ie=K(1401);class ce{constructor(re,ee,_e){this.name=re,this.instanceFactory=ee,this.type=_e,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(re){return this.instantiationMode=re,this}setMultipleInstances(re){return this.multipleInstances=re,this}setServiceProps(re){return this.serviceProps=re,this}setInstanceCreatedCallback(re){return this.onInstanceCreated=re,this}}const Te="[DEFAULT]";class fe{constructor(re,ee){this.name=re,this.container=ee,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(re){const ee=this.normalizeInstanceIdentifier(re);if(!this.instancesDeferred.has(ee)){const _e=new ie.cY;if(this.instancesDeferred.set(ee,_e),this.isInitialized(ee)||this.shouldAutoInitialize())try{const Oe=this.getOrInitializeService({instanceIdentifier:ee});Oe&&_e.resolve(Oe)}catch{}}return this.instancesDeferred.get(ee).promise}getImmediate(re){var ee;const _e=this.normalizeInstanceIdentifier(re?.identifier),Oe=null!==(ee=re?.optional)&&void 0!==ee&&ee;if(!this.isInitialized(_e)&&!this.shouldAutoInitialize()){if(Oe)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:_e})}catch(de){if(Oe)return null;throw de}}getComponent(){return this.component}setComponent(re){if(re.name!==this.name)throw Error(`Mismatching Component ${re.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=re,this.shouldAutoInitialize()){if(function Z(Be){return"EAGER"===Be.instantiationMode}(re))try{this.getOrInitializeService({instanceIdentifier:Te})}catch{}for(const[ee,_e]of this.instancesDeferred.entries()){const Oe=this.normalizeInstanceIdentifier(ee);try{const de=this.getOrInitializeService({instanceIdentifier:Oe});_e.resolve(de)}catch{}}}}clearInstance(re=Te){this.instancesDeferred.delete(re),this.instancesOptions.delete(re),this.instances.delete(re)}delete(){var re=this;return(0,S.A)(function*(){const ee=Array.from(re.instances.values());yield Promise.all([...ee.filter(_e=>"INTERNAL"in _e).map(_e=>_e.INTERNAL.delete()),...ee.filter(_e=>"_delete"in _e).map(_e=>_e._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(re=Te){return this.instances.has(re)}getOptions(re=Te){return this.instancesOptions.get(re)||{}}initialize(re={}){const{options:ee={}}=re,_e=this.normalizeInstanceIdentifier(re.instanceIdentifier);if(this.isInitialized(_e))throw Error(`${this.name}(${_e}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Oe=this.getOrInitializeService({instanceIdentifier:_e,options:ee});for(const[de,ut]of this.instancesDeferred.entries())_e===this.normalizeInstanceIdentifier(de)&&ut.resolve(Oe);return Oe}onInit(re,ee){var _e;const Oe=this.normalizeInstanceIdentifier(ee),de=null!==(_e=this.onInitCallbacks.get(Oe))&&void 0!==_e?_e:new Set;de.add(re),this.onInitCallbacks.set(Oe,de);const ut=this.instances.get(Oe);return ut&&re(ut,Oe),()=>{de.delete(re)}}invokeOnInitCallbacks(re,ee){const _e=this.onInitCallbacks.get(ee);if(_e)for(const Oe of _e)try{Oe(re,ee)}catch{}}getOrInitializeService({instanceIdentifier:re,options:ee={}}){let _e=this.instances.get(re);if(!_e&&this.component&&(_e=this.component.instanceFactory(this.container,{instanceIdentifier:(Be=re,Be===Te?void 0:Be),options:ee}),this.instances.set(re,_e),this.instancesOptions.set(re,ee),this.invokeOnInitCallbacks(_e,re),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,re,_e)}catch{}var Be;return _e||null}normalizeInstanceIdentifier(re=Te){return this.component?this.component.multipleInstances?re:Te:re}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Je{constructor(re){this.name=re,this.providers=new Map}addComponent(re){const ee=this.getProvider(re.name);if(ee.isComponentSet())throw new Error(`Component ${re.name} has already been registered with ${this.name}`);ee.setComponent(re)}addOrOverwriteComponent(re){this.getProvider(re.name).isComponentSet()&&this.providers.delete(re.name),this.addComponent(re)}getProvider(re){if(this.providers.has(re))return this.providers.get(re);const ee=new fe(re,this);return this.providers.set(re,ee),ee}getProviders(){return Array.from(this.providers.values())}}},5398:(Wt,ze,K)=>{K.d(ze,{$b:()=>ie,Vy:()=>Z});const S=[];var ie=function(re){return re[re.DEBUG=0]="DEBUG",re[re.VERBOSE=1]="VERBOSE",re[re.INFO=2]="INFO",re[re.WARN=3]="WARN",re[re.ERROR=4]="ERROR",re[re.SILENT=5]="SILENT",re}(ie||{});const ce={debug:ie.DEBUG,verbose:ie.VERBOSE,info:ie.INFO,warn:ie.WARN,error:ie.ERROR,silent:ie.SILENT},Te=ie.INFO,fe={[ie.DEBUG]:"log",[ie.VERBOSE]:"log",[ie.INFO]:"info",[ie.WARN]:"warn",[ie.ERROR]:"error"},Q=(re,ee,..._e)=>{if(ee<re.logLevel)return;const Oe=(new Date).toISOString(),de=fe[ee];if(!de)throw new Error(`Attempted to log a message with an invalid logType (value: ${ee})`);console[de](`[${Oe}]  ${re.name}:`,..._e)};class Z{constructor(ee){this.name=ee,this._logLevel=Te,this._logHandler=Q,this._userLogHandler=null,S.push(this)}get logLevel(){return this._logLevel}set logLevel(ee){if(!(ee in ie))throw new TypeError(`Invalid value "${ee}" assigned to \`logLevel\``);this._logLevel=ee}setLogLevel(ee){this._logLevel="string"==typeof ee?ce[ee]:ee}get logHandler(){return this._logHandler}set logHandler(ee){if("function"!=typeof ee)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ee}get userLogHandler(){return this._userLogHandler}set userLogHandler(ee){this._userLogHandler=ee}debug(...ee){this._userLogHandler&&this._userLogHandler(this,ie.DEBUG,...ee),this._logHandler(this,ie.DEBUG,...ee)}log(...ee){this._userLogHandler&&this._userLogHandler(this,ie.VERBOSE,...ee),this._logHandler(this,ie.VERBOSE,...ee)}info(...ee){this._userLogHandler&&this._userLogHandler(this,ie.INFO,...ee),this._logHandler(this,ie.INFO,...ee)}warn(...ee){this._userLogHandler&&this._userLogHandler(this,ie.WARN,...ee),this._logHandler(this,ie.WARN,...ee)}error(...ee){this._userLogHandler&&this._userLogHandler(this,ie.ERROR,...ee),this._logHandler(this,ie.ERROR,...ee)}}},7037:(Wt,ze,K)=>{K.d(ze,{Dk:()=>S.Dk,KO:()=>S.KO,Sx:()=>S.Sx,Wp:()=>S.Wp});var S=K(2979);(0,S.KO)("firebase","9.23.0","app")},345:(Wt,ze,K)=>{K.d(ze,{Bb:()=>Qt,hE:()=>$t,sG:()=>Ft});var S=K(540),ie=K(177);class ce extends ie.VF{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Te extends ce{static makeCurrent(){(0,ie.ZD)(new Te)}onAndCancel($,j,G){return $.addEventListener(j,G),()=>{$.removeEventListener(j,G)}}dispatchEvent($,j){$.dispatchEvent(j)}remove($){$.parentNode&&$.parentNode.removeChild($)}createElement($,j){return(j=j||this.getDefaultDocument()).createElement($)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode($){return $.nodeType===Node.ELEMENT_NODE}isShadowRoot($){return $ instanceof DocumentFragment}getGlobalEventTarget($,j){return"window"===j?window:"document"===j?$:"body"===j?$.body:null}getBaseHref($){const j=function Q(){return fe=fe||document.querySelector("base"),fe?fe.getAttribute("href"):null}();return null==j?null:function Je(B){Z=Z||document.createElement("a"),Z.setAttribute("href",B);const $=Z.pathname;return"/"===$.charAt(0)?$:`/${$}`}(j)}resetBaseElement(){fe=null}getUserAgent(){return window.navigator.userAgent}getCookie($){return(0,ie._b)(document.cookie,$)}}let Z,fe=null,re=(()=>{class B{build(){return new XMLHttpRequest}static{this.\u0275fac=function(G){return new(G||B)}}static{this.\u0275prov=S.jDH({token:B,factory:B.\u0275fac})}}return B})();const ee=new S.nKC("EventManagerPlugins");let _e=(()=>{class B{constructor(j,G){this._zone=G,this._eventNameToPlugin=new Map,j.forEach(le=>{le.manager=this}),this._plugins=j.slice().reverse()}addEventListener(j,G,le){return this._findPluginFor(G).addEventListener(j,G,le)}getZone(){return this._zone}_findPluginFor(j){let G=this._eventNameToPlugin.get(j);if(G)return G;if(G=this._plugins.find(je=>je.supports(j)),!G)throw new S.wOt(5101,!1);return this._eventNameToPlugin.set(j,G),G}static{this.\u0275fac=function(G){return new(G||B)(S.KVO(ee),S.KVO(S.SKi))}}static{this.\u0275prov=S.jDH({token:B,factory:B.\u0275fac})}}return B})();class Oe{constructor($){this._doc=$}}const de="ng-app-id";let ut=(()=>{class B{constructor(j,G,le,je={}){this.doc=j,this.appId=G,this.nonce=le,this.platformId=je,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,ie.Vy)(je),this.resetHostNodes()}addStyles(j){for(const G of j)1===this.changeUsageCount(G,1)&&this.onStyleAdded(G)}removeStyles(j){for(const G of j)this.changeUsageCount(G,-1)<=0&&this.onStyleRemoved(G)}ngOnDestroy(){const j=this.styleNodesInDOM;j&&(j.forEach(G=>G.remove()),j.clear());for(const G of this.getAllStyles())this.onStyleRemoved(G);this.resetHostNodes()}addHost(j){this.hostNodes.add(j);for(const G of this.getAllStyles())this.addStyleToHost(j,G)}removeHost(j){this.hostNodes.delete(j)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(j){for(const G of this.hostNodes)this.addStyleToHost(G,j)}onStyleRemoved(j){const G=this.styleRef;G.get(j)?.elements?.forEach(le=>le.remove()),G.delete(j)}collectServerRenderedStyles(){const j=this.doc.head?.querySelectorAll(`style[${de}="${this.appId}"]`);if(j?.length){const G=new Map;return j.forEach(le=>{null!=le.textContent&&G.set(le.textContent,le)}),G}return null}changeUsageCount(j,G){const le=this.styleRef;if(le.has(j)){const je=le.get(j);return je.usage+=G,je.usage}return le.set(j,{usage:G,elements:[]}),G}getStyleElement(j,G){const le=this.styleNodesInDOM,je=le?.get(G);if(je?.parentNode===j)return le.delete(G),je.removeAttribute(de),je;{const ht=this.doc.createElement("style");return this.nonce&&ht.setAttribute("nonce",this.nonce),ht.textContent=G,this.platformIsServer&&ht.setAttribute(de,this.appId),ht}}addStyleToHost(j,G){const le=this.getStyleElement(j,G);j.appendChild(le);const je=this.styleRef,ht=je.get(G)?.elements;ht?ht.push(le):je.set(G,{elements:[le],usage:1})}resetHostNodes(){const j=this.hostNodes;j.clear(),j.add(this.doc.head)}static{this.\u0275fac=function(G){return new(G||B)(S.KVO(ie.qQ),S.KVO(S.sZ2),S.KVO(S.BIS,8),S.KVO(S.Agw))}}static{this.\u0275prov=S.jDH({token:B,factory:B.\u0275fac})}}return B})();const st={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Gt=/%COMP%/g,Ze=new S.nKC("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function gt(B,$){return $.map(j=>j.replace(Gt,B))}let Ge=(()=>{class B{constructor(j,G,le,je,ht,Vt,Bt,vn=null){this.eventManager=j,this.sharedStylesHost=G,this.appId=le,this.removeStylesOnCompDestroy=je,this.doc=ht,this.platformId=Vt,this.ngZone=Bt,this.nonce=vn,this.rendererByCompId=new Map,this.platformIsServer=(0,ie.Vy)(Vt),this.defaultRenderer=new $e(j,ht,Bt,this.platformIsServer)}createRenderer(j,G){if(!j||!G)return this.defaultRenderer;this.platformIsServer&&G.encapsulation===S.gXe.ShadowDom&&(G={...G,encapsulation:S.gXe.Emulated});const le=this.getOrCreateRenderer(j,G);return le instanceof wn?le.applyToHost(j):le instanceof We&&le.applyStyles(),le}getOrCreateRenderer(j,G){const le=this.rendererByCompId;let je=le.get(G.id);if(!je){const ht=this.doc,Vt=this.ngZone,Bt=this.eventManager,vn=this.sharedStylesHost,tn=this.removeStylesOnCompDestroy,ar=this.platformIsServer;switch(G.encapsulation){case S.gXe.Emulated:je=new wn(Bt,vn,G,this.appId,tn,ht,Vt,ar);break;case S.gXe.ShadowDom:return new et(Bt,vn,j,G,ht,Vt,this.nonce,ar);default:je=new We(Bt,vn,G,tn,ht,Vt,ar)}le.set(G.id,je)}return je}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(G){return new(G||B)(S.KVO(_e),S.KVO(ut),S.KVO(S.sZ2),S.KVO(Ze),S.KVO(ie.qQ),S.KVO(S.Agw),S.KVO(S.SKi),S.KVO(S.BIS))}}static{this.\u0275prov=S.jDH({token:B,factory:B.\u0275fac})}}return B})();class $e{constructor($,j,G,le){this.eventManager=$,this.doc=j,this.ngZone=G,this.platformIsServer=le,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement($,j){return j?this.doc.createElementNS(st[j]||j,$):this.doc.createElement($)}createComment($){return this.doc.createComment($)}createText($){return this.doc.createTextNode($)}appendChild($,j){(Cr($)?$.content:$).appendChild(j)}insertBefore($,j,G){$&&(Cr($)?$.content:$).insertBefore(j,G)}removeChild($,j){$&&$.removeChild(j)}selectRootElement($,j){let G="string"==typeof $?this.doc.querySelector($):$;if(!G)throw new S.wOt(-5104,!1);return j||(G.textContent=""),G}parentNode($){return $.parentNode}nextSibling($){return $.nextSibling}setAttribute($,j,G,le){if(le){j=le+":"+j;const je=st[le];je?$.setAttributeNS(je,j,G):$.setAttribute(j,G)}else $.setAttribute(j,G)}removeAttribute($,j,G){if(G){const le=st[G];le?$.removeAttributeNS(le,j):$.removeAttribute(`${G}:${j}`)}else $.removeAttribute(j)}addClass($,j){$.classList.add(j)}removeClass($,j){$.classList.remove(j)}setStyle($,j,G,le){le&(S.czy.DashCase|S.czy.Important)?$.style.setProperty(j,G,le&S.czy.Important?"important":""):$.style[j]=G}removeStyle($,j,G){G&S.czy.DashCase?$.style.removeProperty(j):$.style[j]=""}setProperty($,j,G){$[j]=G}setValue($,j){$.nodeValue=j}listen($,j,G){if("string"==typeof $&&!($=(0,ie.QT)().getGlobalEventTarget(this.doc,$)))throw new Error(`Unsupported event target ${$} for event ${j}`);return this.eventManager.addEventListener($,j,this.decoratePreventDefault(G))}decoratePreventDefault($){return j=>{if("__ngUnwrap__"===j)return $;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>$(j)):$(j))&&j.preventDefault()}}}function Cr(B){return"TEMPLATE"===B.tagName&&void 0!==B.content}class et extends $e{constructor($,j,G,le,je,ht,Vt,Bt){super($,je,ht,Bt),this.sharedStylesHost=j,this.hostEl=G,this.shadowRoot=G.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const vn=gt(le.id,le.styles);for(const tn of vn){const ar=document.createElement("style");Vt&&ar.setAttribute("nonce",Vt),ar.textContent=tn,this.shadowRoot.appendChild(ar)}}nodeOrShadowRoot($){return $===this.hostEl?this.shadowRoot:$}appendChild($,j){return super.appendChild(this.nodeOrShadowRoot($),j)}insertBefore($,j,G){return super.insertBefore(this.nodeOrShadowRoot($),j,G)}removeChild($,j){return super.removeChild(this.nodeOrShadowRoot($),j)}parentNode($){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot($)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class We extends $e{constructor($,j,G,le,je,ht,Vt,Bt){super($,je,ht,Vt),this.sharedStylesHost=j,this.removeStylesOnCompDestroy=le,this.styles=Bt?gt(Bt,G.styles):G.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class wn extends We{constructor($,j,G,le,je,ht,Vt,Bt){const vn=le+"-"+G.id;super($,j,G,je,ht,Vt,Bt,vn),this.contentAttr=function Fe(B){return"_ngcontent-%COMP%".replace(Gt,B)}(vn),this.hostAttr=function it(B){return"_nghost-%COMP%".replace(Gt,B)}(vn)}applyToHost($){this.applyStyles(),this.setAttribute($,this.hostAttr,"")}createElement($,j){const G=super.createElement($,j);return super.setAttribute(G,this.contentAttr,""),G}}let ct=(()=>{class B extends Oe{constructor(j){super(j)}supports(j){return!0}addEventListener(j,G,le){return j.addEventListener(G,le,!1),()=>this.removeEventListener(j,G,le)}removeEventListener(j,G,le){return j.removeEventListener(G,le)}static{this.\u0275fac=function(G){return new(G||B)(S.KVO(ie.qQ))}}static{this.\u0275prov=S.jDH({token:B,factory:B.\u0275fac})}}return B})();const jt=["alt","control","meta","shift"],sr={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Zr={alt:B=>B.altKey,control:B=>B.ctrlKey,meta:B=>B.metaKey,shift:B=>B.shiftKey};let Ie=(()=>{class B extends Oe{constructor(j){super(j)}supports(j){return null!=B.parseEventName(j)}addEventListener(j,G,le){const je=B.parseEventName(G),ht=B.eventCallback(je.fullKey,le,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,ie.QT)().onAndCancel(j,je.domEventName,ht))}static parseEventName(j){const G=j.toLowerCase().split("."),le=G.shift();if(0===G.length||"keydown"!==le&&"keyup"!==le)return null;const je=B._normalizeKey(G.pop());let ht="",Vt=G.indexOf("code");if(Vt>-1&&(G.splice(Vt,1),ht="code."),jt.forEach(vn=>{const tn=G.indexOf(vn);tn>-1&&(G.splice(tn,1),ht+=vn+".")}),ht+=je,0!=G.length||0===je.length)return null;const Bt={};return Bt.domEventName=le,Bt.fullKey=ht,Bt}static matchEventFullKeyCode(j,G){let le=sr[j.key]||j.key,je="";return G.indexOf("code.")>-1&&(le=j.code,je="code."),!(null==le||!le)&&(le=le.toLowerCase()," "===le?le="space":"."===le&&(le="dot"),jt.forEach(ht=>{ht!==le&&(0,Zr[ht])(j)&&(je+=ht+".")}),je+=le,je===G)}static eventCallback(j,G,le){return je=>{B.matchEventFullKeyCode(je,j)&&le.runGuarded(()=>G(je))}}static _normalizeKey(j){return"esc"===j?"escape":j}static{this.\u0275fac=function(G){return new(G||B)(S.KVO(ie.qQ))}}static{this.\u0275prov=S.jDH({token:B,factory:B.\u0275fac})}}return B})();const Ft=(0,S.oH4)(S.fpN,"browser",[{provide:S.Agw,useValue:ie.AJ},{provide:S.PLl,useValue:function Qe(){Te.makeCurrent()},multi:!0},{provide:ie.qQ,useFactory:function _t(){return(0,S.TL$)(document),document},deps:[]}]),Tn=new S.nKC(""),pn=[{provide:S.e01,useClass:class Be{addToWindow($){S.JZv.getAngularTestability=(G,le=!0)=>{const je=$.findTestabilityInTree(G,le);if(null==je)throw new S.wOt(5103,!1);return je},S.JZv.getAllAngularTestabilities=()=>$.getAllTestabilities(),S.JZv.getAllAngularRootElements=()=>$.getAllRootElements(),S.JZv.frameworkStabilizers||(S.JZv.frameworkStabilizers=[]),S.JZv.frameworkStabilizers.push(G=>{const le=S.JZv.getAllAngularTestabilities();let je=le.length,ht=!1;const Vt=function(Bt){ht=ht||Bt,je--,0==je&&G(ht)};le.forEach(Bt=>{Bt.whenStable(Vt)})})}findTestabilityInTree($,j,G){return null==j?null:$.getTestability(j)??(G?(0,ie.QT)().isShadowRoot(j)?this.findTestabilityInTree($,j.host,!0):this.findTestabilityInTree($,j.parentElement,!0):null)}},deps:[]},{provide:S.WHO,useClass:S.NYb,deps:[S.SKi,S.giA,S.e01]},{provide:S.NYb,useClass:S.NYb,deps:[S.SKi,S.giA,S.e01]}],vr=[{provide:S.H8p,useValue:"root"},{provide:S.zcH,useFactory:function nt(){return new S.zcH},deps:[]},{provide:ee,useClass:ct,multi:!0,deps:[ie.qQ,S.SKi,S.Agw]},{provide:ee,useClass:Ie,multi:!0,deps:[ie.qQ]},Ge,ut,_e,{provide:S._9s,useExisting:Ge},{provide:ie.N0,useClass:re,deps:[]},[]];let Qt=(()=>{class B{constructor(j){}static withServerTransition(j){return{ngModule:B,providers:[{provide:S.sZ2,useValue:j.appId}]}}static{this.\u0275fac=function(G){return new(G||B)(S.KVO(Tn,12))}}static{this.\u0275mod=S.$C({type:B})}static{this.\u0275inj=S.G2t({providers:[...vr,...pn],imports:[ie.MD,S.Hbi]})}}return B})(),$t=(()=>{class B{constructor(j){this._doc=j}getTitle(){return this._doc.title}setTitle(j){this._doc.title=j||""}static{this.\u0275fac=function(G){return new(G||B)(S.KVO(ie.qQ))}}static{this.\u0275prov=S.jDH({token:B,factory:function(G){let le=null;return le=G?new G:function nr(){return new $t((0,S.KVO)(ie.qQ))}(),le},providedIn:"root"})}}return B})();typeof window<"u"&&window},6143:(Wt,ze,K)=>{K.d(ze,{Ix:()=>kn,Wk:()=>Mi,iI:()=>pe,n3:()=>uo});var S=K(540),ie=K(1985),ce=K(8071),fe=K(8455),Q=K(7673),Z=K(4412),Je=K(3073),Be=K(3669),re=K(6450),ee=K(3794),_e=K(8496),Oe=K(4360),de=K(5225);function ut(...y){const D=(0,ee.lI)(y),m=(0,ee.ms)(y),{args:C,keys:N}=(0,Je.D)(y);if(0===C.length)return(0,fe.H)([],D);const U=new ie.c(function st(y,D,m=Be.D){return C=>{Gt(D,()=>{const{length:N}=y,U=new Array(N);let X=N,Ce=N;for(let Ee=0;Ee<N;Ee++)Gt(D,()=>{const mt=(0,fe.H)(y[Ee],D);let Zt=!1;mt.subscribe((0,Oe._)(C,Sn=>{U[Ee]=Sn,Zt||(Zt=!0,Ce--),Ce||C.next(m(U.slice()))},()=>{--X||C.complete()}))},C)},C)}}(C,D,N?X=>(0,_e.e)(N,X):Be.D));return m?U.pipe((0,re.I)(m)):U}function Gt(y,D,m){y?(0,de.N)(m,y,D):D()}const Bn=(0,K(1853).L)(y=>function(){y(this),this.name="EmptyError",this.message="no elements in sequence"});var Un=K(6365);function Ze(...y){return function Pe(){return(0,Un.U)(1)}()((0,fe.H)(y,(0,ee.lI)(y)))}var Fe=K(8750);function it(y){return new ie.c(D=>{(0,Fe.Tg)(y()).subscribe(D)})}var gt=K(1203);function Ge(y,D){const m=(0,ce.T)(y)?y:()=>y,C=N=>N.error(m());return new ie.c(D?N=>D.schedule(C,0,N):C)}var $e=K(983),hn=K(8359),Nn=K(9974);function Cr(){return(0,Nn.N)((y,D)=>{let m=null;y._refCount++;const C=(0,Oe._)(D,void 0,void 0,void 0,()=>{if(!y||y._refCount<=0||0<--y._refCount)return void(m=null);const N=y._connection,U=m;m=null,N&&(!U||N===U)&&N.unsubscribe(),D.unsubscribe()});y.subscribe(C),C.closed||(m=y.connect())})}class et extends ie.c{constructor(D,m){super(),this.source=D,this.subjectFactory=m,this._subject=null,this._refCount=0,this._connection=null,(0,Nn.S)(D)&&(this.lift=D.lift)}_subscribe(D){return this.getSubject().subscribe(D)}getSubject(){const D=this._subject;return(!D||D.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:D}=this;this._subject=this._connection=null,D?.unsubscribe()}connect(){let D=this._connection;if(!D){D=this._connection=new hn.yU;const m=this.getSubject();D.add(this.source.subscribe((0,Oe._)(m,void 0,()=>{this._teardown(),m.complete()},C=>{this._teardown(),m.error(C)},()=>this._teardown()))),D.closed&&(this._connection=null,D=hn.yU.EMPTY)}return D}refCount(){return Cr()(this)}}var We=K(1413),wn=K(177),ct=K(6354),jt=K(5558);function sr(y){return y<=0?()=>$e.w:(0,Nn.N)((D,m)=>{let C=0;D.subscribe((0,Oe._)(m,N=>{++C<=y&&(m.next(N),y<=C&&m.complete())}))})}function Ie(y,D){return(0,Nn.N)((m,C)=>{let N=0;m.subscribe((0,Oe._)(C,U=>y.call(D,U,N++)&&C.next(U)))})}var ye=K(1397);function me(y){return(0,Nn.N)((D,m)=>{let C=!1;D.subscribe((0,Oe._)(m,N=>{C=!0,m.next(N)},()=>{C||m.next(y),m.complete()}))})}function Me(y=Ke){return(0,Nn.N)((D,m)=>{let C=!1;D.subscribe((0,Oe._)(m,N=>{C=!0,m.next(N)},()=>C?m.complete():m.error(y())))})}function Ke(){return new Bn}function Qe(y,D){const m=arguments.length>=2;return C=>C.pipe(y?Ie((N,U)=>y(N,U,C)):Be.D,sr(1),m?me(D):Me(()=>new Bn))}function nt(y,D){return(0,ce.T)(D)?(0,ye.Z)(y,D,1):(0,ye.Z)(y,1)}var _t=K(8141);function un(y){return(0,Nn.N)((D,m)=>{let U,C=null,N=!1;C=D.subscribe((0,Oe._)(m,void 0,void 0,X=>{U=(0,Fe.Tg)(y(X,un(y)(D))),C?(C.unsubscribe(),C=null,U.subscribe(m)):N=!0})),N&&(C.unsubscribe(),C=null,U.subscribe(m))})}function pn(y){return y<=0?()=>$e.w:(0,Nn.N)((D,m)=>{let C=[];D.subscribe((0,Oe._)(m,N=>{C.push(N),y<C.length&&C.shift()},()=>{for(const N of C)m.next(N);m.complete()},void 0,()=>{C=null}))})}function or(y){return(0,Nn.N)((D,m)=>{try{D.subscribe(m)}finally{m.add(y)}})}var cn=K(5343),nr=K(345);const $t="primary",Pr=Symbol("RouteTitle");class gn{constructor(D){this.params=D||{}}has(D){return Object.prototype.hasOwnProperty.call(this.params,D)}get(D){if(this.has(D)){const m=this.params[D];return Array.isArray(m)?m[0]:m}return null}getAll(D){if(this.has(D)){const m=this.params[D];return Array.isArray(m)?m:[m]}return[]}get keys(){return Object.keys(this.params)}}function Yn(y){return new gn(y)}function Jt(y,D,m){const C=m.path.split("/");if(C.length>y.length||"full"===m.pathMatch&&(D.hasChildren()||C.length<y.length))return null;const N={};for(let U=0;U<C.length;U++){const X=C[U],Ce=y[U];if(X.startsWith(":"))N[X.substring(1)]=Ce;else if(X!==Ce.path)return null}return{consumed:y.slice(0,C.length),posParams:N}}function Wn(y,D){const m=y?Object.keys(y):void 0,C=D?Object.keys(D):void 0;if(!m||!C||m.length!=C.length)return!1;let N;for(let U=0;U<m.length;U++)if(N=m[U],!_r(y[N],D[N]))return!1;return!0}function _r(y,D){if(Array.isArray(y)&&Array.isArray(D)){if(y.length!==D.length)return!1;const m=[...y].sort(),C=[...D].sort();return m.every((N,U)=>C[U]===N)}return y===D}function br(y){return y.length>0?y[y.length-1]:null}function Kn(y){return function Te(y){return!!y&&(y instanceof ie.c||(0,ce.T)(y.lift)&&(0,ce.T)(y.subscribe))}(y)?y:(0,S.jNT)(y)?(0,fe.H)(Promise.resolve(y)):(0,Q.of)(y)}const Jn={exact:function yt(y,D,m){if(!zt(y.segments,D.segments)||!Sr(y.segments,D.segments,m)||y.numberOfChildren!==D.numberOfChildren)return!1;for(const C in D.children)if(!y.children[C]||!yt(y.children[C],D.children[C],m))return!1;return!0},subset:Jr},Ar={exact:function Ni(y,D){return Wn(y,D)},subset:function vi(y,D){return Object.keys(D).length<=Object.keys(y).length&&Object.keys(D).every(m=>_r(y[m],D[m]))},ignored:()=>!0};function bn(y,D,m){return Jn[m.paths](y.root,D.root,m.matrixParams)&&Ar[m.queryParams](y.queryParams,D.queryParams)&&!("exact"===m.fragment&&y.fragment!==D.fragment)}function Jr(y,D,m){return fr(y,D,D.segments,m)}function fr(y,D,m,C){if(y.segments.length>m.length){const N=y.segments.slice(0,m.length);return!(!zt(N,m)||D.hasChildren()||!Sr(N,m,C))}if(y.segments.length===m.length){if(!zt(y.segments,m)||!Sr(y.segments,m,C))return!1;for(const N in D.children)if(!y.children[N]||!Jr(y.children[N],D.children[N],C))return!1;return!0}{const N=m.slice(0,y.segments.length),U=m.slice(y.segments.length);return!!(zt(y.segments,N)&&Sr(y.segments,N,C)&&y.children[$t])&&fr(y.children[$t],D,U,C)}}function Sr(y,D,m){return D.every((C,N)=>Ar[m](y[N].parameters,C.parameters))}class ei{constructor(D=new Pt([],{}),m={},C=null){this.root=D,this.queryParams=m,this.fragment=C}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Yn(this.queryParams)),this._queryParamMap}toString(){return te.serialize(this)}}class Pt{constructor(D,m){this.segments=D,this.children=m,this.parent=null,Object.values(m).forEach(C=>C.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return B(this)}}class kr{constructor(D,m){this.path=D,this.parameters=m}get parameterMap(){return this._parameterMap||(this._parameterMap=Yn(this.parameters)),this._parameterMap}toString(){return Bt(this)}}function zt(y,D){return y.length===D.length&&y.every((m,C)=>m.path===D[C].path)}let ln=(()=>{class y{static{this.\u0275fac=function(C){return new(C||y)}}static{this.\u0275prov=S.jDH({token:y,factory:function(){return new pr},providedIn:"root"})}}return y})();class pr{parse(D){const m=new Kt(D);return new ei(m.parseRootSegment(),m.parseQueryParams(),m.parseFragment())}serialize(D){const m=`/${$(D.root,!0)}`,C=function tn(y){const D=Object.keys(y).map(m=>{const C=y[m];return Array.isArray(C)?C.map(N=>`${G(m)}=${G(N)}`).join("&"):`${G(m)}=${G(C)}`}).filter(m=>!!m);return D.length?`?${D.join("&")}`:""}(D.queryParams);return`${m}${C}${"string"==typeof D.fragment?`#${function le(y){return encodeURI(y)}(D.fragment)}`:""}`}}const te=new pr;function B(y){return y.segments.map(D=>Bt(D)).join("/")}function $(y,D){if(!y.hasChildren())return B(y);if(D){const m=y.children[$t]?$(y.children[$t],!1):"",C=[];return Object.entries(y.children).forEach(([N,U])=>{N!==$t&&C.push(`${N}:${$(U,!1)}`)}),C.length>0?`${m}(${C.join("//")})`:m}{const m=function qn(y,D){let m=[];return Object.entries(y.children).forEach(([C,N])=>{C===$t&&(m=m.concat(D(N,C)))}),Object.entries(y.children).forEach(([C,N])=>{C!==$t&&(m=m.concat(D(N,C)))}),m}(y,(C,N)=>N===$t?[$(y.children[$t],!1)]:[`${N}:${$(C,!1)}`]);return 1===Object.keys(y.children).length&&null!=y.children[$t]?`${B(y)}/${m[0]}`:`${B(y)}/(${m.join("//")})`}}function j(y){return encodeURIComponent(y).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function G(y){return j(y).replace(/%3B/gi,";")}function je(y){return j(y).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ht(y){return decodeURIComponent(y)}function Vt(y){return ht(y.replace(/\+/g,"%20"))}function Bt(y){return`${je(y.path)}${function vn(y){return Object.keys(y).map(D=>`;${je(D)}=${je(y[D])}`).join("")}(y.parameters)}`}const ar=/^[^\/()?;#]+/;function ai(y){const D=y.match(ar);return D?D[0]:""}const Ti=/^[^\/()?;=#]+/,Ne=/^[^=?&#]+/,Xe=/^[^&#]+/;class Kt{constructor(D){this.url=D,this.remaining=D}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Pt([],{}):new Pt([],this.parseChildren())}parseQueryParams(){const D={};if(this.consumeOptional("?"))do{this.parseQueryParam(D)}while(this.consumeOptional("&"));return D}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const D=[];for(this.peekStartsWith("(")||D.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),D.push(this.parseSegment());let m={};this.peekStartsWith("/(")&&(this.capture("/"),m=this.parseParens(!0));let C={};return this.peekStartsWith("(")&&(C=this.parseParens(!1)),(D.length>0||Object.keys(m).length>0)&&(C[$t]=new Pt(D,m)),C}parseSegment(){const D=ai(this.remaining);if(""===D&&this.peekStartsWith(";"))throw new S.wOt(4009,!1);return this.capture(D),new kr(ht(D),this.parseMatrixParams())}parseMatrixParams(){const D={};for(;this.consumeOptional(";");)this.parseParam(D);return D}parseParam(D){const m=function Ci(y){const D=y.match(Ti);return D?D[0]:""}(this.remaining);if(!m)return;this.capture(m);let C="";if(this.consumeOptional("=")){const N=ai(this.remaining);N&&(C=N,this.capture(C))}D[ht(m)]=ht(C)}parseQueryParam(D){const m=function ve(y){const D=y.match(Ne);return D?D[0]:""}(this.remaining);if(!m)return;this.capture(m);let C="";if(this.consumeOptional("=")){const X=function vt(y){const D=y.match(Xe);return D?D[0]:""}(this.remaining);X&&(C=X,this.capture(C))}const N=Vt(m),U=Vt(C);if(D.hasOwnProperty(N)){let X=D[N];Array.isArray(X)||(X=[X],D[N]=X),X.push(U)}else D[N]=U}parseParens(D){const m={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const C=ai(this.remaining),N=this.remaining[C.length];if("/"!==N&&")"!==N&&";"!==N)throw new S.wOt(4010,!1);let U;C.indexOf(":")>-1?(U=C.slice(0,C.indexOf(":")),this.capture(U),this.capture(":")):D&&(U=$t);const X=this.parseChildren();m[U]=1===Object.keys(X).length?X[$t]:new Pt([],X),this.consumeOptional("//")}return m}peekStartsWith(D){return this.remaining.startsWith(D)}consumeOptional(D){return!!this.peekStartsWith(D)&&(this.remaining=this.remaining.substring(D.length),!0)}capture(D){if(!this.consumeOptional(D))throw new S.wOt(4011,!1)}}function wt(y){return y.segments.length>0?new Pt([],{[$t]:y}):y}function on(y){const D={};for(const C of Object.keys(y.children)){const U=on(y.children[C]);if(C===$t&&0===U.segments.length&&U.hasChildren())for(const[X,Ce]of Object.entries(U.children))D[X]=Ce;else(U.segments.length>0||U.hasChildren())&&(D[C]=U)}return function Ir(y){if(1===y.numberOfChildren&&y.children[$t]){const D=y.children[$t];return new Pt(y.segments.concat(D.segments),D.children)}return y}(new Pt(y.segments,D))}function jn(y){return y instanceof ei}function zs(y){let D;const N=wt(function m(U){const X={};for(const Ee of U.children){const mt=m(Ee);X[Ee.outlet]=mt}const Ce=new Pt(U.url,X);return U===y&&(D=Ce),Ce}(y.root));return D??N}function Ns(y,D,m,C){let N=y;for(;N.parent;)N=N.parent;if(0===D.length)return _i(N,N,N,m,C);const U=function ds(y){if("string"==typeof y[0]&&1===y.length&&"/"===y[0])return new _n(!0,0,y);let D=0,m=!1;const C=y.reduce((N,U,X)=>{if("object"==typeof U&&null!=U){if(U.outlets){const Ce={};return Object.entries(U.outlets).forEach(([Ee,mt])=>{Ce[Ee]="string"==typeof mt?mt.split("/"):mt}),[...N,{outlets:Ce}]}if(U.segmentPath)return[...N,U.segmentPath]}return"string"!=typeof U?[...N,U]:0===X?(U.split("/").forEach((Ce,Ee)=>{0==Ee&&"."===Ce||(0==Ee&&""===Ce?m=!0:".."===Ce?D++:""!=Ce&&N.push(Ce))}),N):[...N,U]},[]);return new _n(m,D,C)}(D);if(U.toRoot())return _i(N,N,new Pt([],{}),m,C);const X=function hs(y,D,m){if(y.isAbsolute)return new wr(D,!0,0);if(!m)return new wr(D,!1,NaN);if(null===m.parent)return new wr(m,!0,0);const C=Lr(y.commands[0])?0:1;return function Wi(y,D,m){let C=y,N=D,U=m;for(;U>N;){if(U-=N,C=C.parent,!C)throw new S.wOt(4005,!1);N=C.segments.length}return new wr(C,!1,N-U)}(m,m.segments.length-1+C,y.numberOfDoubleDots)}(U,N,y),Ce=X.processChildren?se(X.segmentGroup,X.index,U.commands):Gs(X.segmentGroup,X.index,U.commands);return _i(N,X.segmentGroup,Ce,m,C)}function Lr(y){return"object"==typeof y&&null!=y&&!y.outlets&&!y.segmentPath}function bi(y){return"object"==typeof y&&null!=y&&y.outlets}function _i(y,D,m,C,N){let X,U={};C&&Object.entries(C).forEach(([Ee,mt])=>{U[Ee]=Array.isArray(mt)?mt.map(Zt=>`${Zt}`):`${mt}`}),X=y===D?m:Ii(y,D,m);const Ce=wt(on(X));return new ei(Ce,U,N)}function Ii(y,D,m){const C={};return Object.entries(y.children).forEach(([N,U])=>{C[N]=U===D?m:Ii(U,D,m)}),new Pt(y.segments,C)}class _n{constructor(D,m,C){if(this.isAbsolute=D,this.numberOfDoubleDots=m,this.commands=C,D&&C.length>0&&Lr(C[0]))throw new S.wOt(4003,!1);const N=C.find(bi);if(N&&N!==br(C))throw new S.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class wr{constructor(D,m,C){this.segmentGroup=D,this.processChildren=m,this.index=C}}function Gs(y,D,m){if(y||(y=new Pt([],{})),0===y.segments.length&&y.hasChildren())return se(y,D,m);const C=function ae(y,D,m){let C=0,N=D;const U={match:!1,pathIndex:0,commandIndex:0};for(;N<y.segments.length;){if(C>=m.length)return U;const X=y.segments[N],Ce=m[C];if(bi(Ce))break;const Ee=`${Ce}`,mt=C<m.length-1?m[C+1]:null;if(N>0&&void 0===Ee)break;if(Ee&&mt&&"object"==typeof mt&&void 0===mt.outlets){if(!kt(Ee,mt,X))return U;C+=2}else{if(!kt(Ee,{},X))return U;C++}N++}return{match:!0,pathIndex:N,commandIndex:C}}(y,D,m),N=m.slice(C.commandIndex);if(C.match&&C.pathIndex<y.segments.length){const U=new Pt(y.segments.slice(0,C.pathIndex),{});return U.children[$t]=new Pt(y.segments.slice(C.pathIndex),y.children),se(U,0,N)}return C.match&&0===N.length?new Pt(y.segments,{}):C.match&&!y.hasChildren()?we(y,D,m):C.match?se(y,0,N):we(y,D,m)}function se(y,D,m){if(0===m.length)return new Pt(y.segments,{});{const C=function Ki(y){return bi(y[0])?y[0].outlets:{[$t]:y}}(m),N={};if(Object.keys(C).some(U=>U!==$t)&&y.children[$t]&&1===y.numberOfChildren&&0===y.children[$t].segments.length){const U=se(y.children[$t],D,m);return new Pt(y.segments,U.children)}return Object.entries(C).forEach(([U,X])=>{"string"==typeof X&&(X=[X]),null!==X&&(N[U]=Gs(y.children[U],D,X))}),Object.entries(y.children).forEach(([U,X])=>{void 0===C[U]&&(N[U]=X)}),new Pt(y.segments,N)}}function we(y,D,m){const C=y.segments.slice(0,D);let N=0;for(;N<m.length;){const U=m[N];if(bi(U)){const Ee=ke(U.outlets);return new Pt(C,Ee)}if(0===N&&Lr(m[0])){C.push(new kr(y.segments[D].path,rt(m[0]))),N++;continue}const X=bi(U)?U.outlets[$t]:`${U}`,Ce=N<m.length-1?m[N+1]:null;X&&Ce&&Lr(Ce)?(C.push(new kr(X,rt(Ce))),N+=2):(C.push(new kr(X,{})),N++)}return new Pt(C,{})}function ke(y){const D={};return Object.entries(y).forEach(([m,C])=>{"string"==typeof C&&(C=[C]),null!==C&&(D[m]=we(new Pt([],{}),0,C))}),D}function rt(y){const D={};return Object.entries(y).forEach(([m,C])=>D[m]=`${C}`),D}function kt(y,D,m){return y==m.path&&Wn(D,m.parameters)}const mn="imperative";class en{constructor(D,m){this.id=D,this.url=m}}class Cn extends en{constructor(D,m,C="imperative",N=null){super(D,m),this.type=0,this.navigationTrigger=C,this.restoredState=N}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Gr extends en{constructor(D,m,C){super(D,m),this.urlAfterRedirects=C,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Fr extends en{constructor(D,m,C,N){super(D,m),this.reason=C,this.code=N,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Nr extends en{constructor(D,m,C,N){super(D,m),this.reason=C,this.code=N,this.type=16}}class Qn extends en{constructor(D,m,C,N){super(D,m),this.error=C,this.target=N,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Ao extends en{constructor(D,m,C,N){super(D,m),this.urlAfterRedirects=C,this.state=N,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ba extends en{constructor(D,m,C,N){super(D,m),this.urlAfterRedirects=C,this.state=N,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class da extends en{constructor(D,m,C,N,U){super(D,m),this.urlAfterRedirects=C,this.state=N,this.shouldActivate=U,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Go extends en{constructor(D,m,C,N){super(D,m),this.urlAfterRedirects=C,this.state=N,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ja extends en{constructor(D,m,C,N){super(D,m),this.urlAfterRedirects=C,this.state=N,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class fs{constructor(D){this.route=D,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class ha{constructor(D){this.route=D,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class fa{constructor(D){this.snapshot=D,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Rs{constructor(D){this.snapshot=D,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Os{constructor(D){this.snapshot=D,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class So{constructor(D){this.snapshot=D,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Mo{constructor(D,m,C){this.routerEvent=D,this.position=m,this.anchor=C,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class pa{}class $a{constructor(D){this.url=D}}class ec{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new ci,this.attachRef=null}}let ci=(()=>{class y{constructor(){this.contexts=new Map}onChildOutletCreated(m,C){const N=this.getOrCreateContext(m);N.outlet=C,this.contexts.set(m,N)}onChildOutletDestroyed(m){const C=this.getContext(m);C&&(C.outlet=null,C.attachRef=null)}onOutletDeactivated(){const m=this.contexts;return this.contexts=new Map,m}onOutletReAttached(m){this.contexts=m}getOrCreateContext(m){let C=this.getContext(m);return C||(C=new ec,this.contexts.set(m,C)),C}getContext(m){return this.contexts.get(m)||null}static{this.\u0275fac=function(C){return new(C||y)}}static{this.\u0275prov=S.jDH({token:y,factory:y.\u0275fac,providedIn:"root"})}}return y})();class is{constructor(D){this._root=D}get root(){return this._root.value}parent(D){const m=this.pathFromRoot(D);return m.length>1?m[m.length-2]:null}children(D){const m=Ps(D,this._root);return m?m.children.map(C=>C.value):[]}firstChild(D){const m=Ps(D,this._root);return m&&m.children.length>0?m.children[0].value:null}siblings(D){const m=an(D,this._root);return m.length<2?[]:m[m.length-2].children.map(N=>N.value).filter(N=>N!==D)}pathFromRoot(D){return an(D,this._root).map(m=>m.value)}}function Ps(y,D){if(y===D.value)return D;for(const m of D.children){const C=Ps(y,m);if(C)return C}return null}function an(y,D){if(y===D.value)return[D];for(const m of D.children){const C=an(y,m);if(C.length)return C.unshift(D),C}return[]}class Rn{constructor(D,m){this.value=D,this.children=m}toString(){return`TreeNode(${this.value})`}}function Xt(y){const D={};return y&&y.children.forEach(m=>D[m.value.outlet]=m),D}class qi extends is{constructor(D,m){super(D),this.snapshot=m,It(this,D)}toString(){return this.snapshot.toString()}}function Rr(y,D){const m=function Wo(y,D){const X=new ao([],{},{},"",{},$t,D,null,{});return new Xn("",new Rn(X,[]))}(0,D),C=new Z.t([new kr("",{})]),N=new Z.t({}),U=new Z.t({}),X=new Z.t({}),Ce=new Z.t(""),Ee=new ks(C,N,X,Ce,U,$t,D,m.root);return Ee.snapshot=m.root,new qi(new Rn(Ee,[]),m)}class ks{constructor(D,m,C,N,U,X,Ce,Ee){this.urlSubject=D,this.paramsSubject=m,this.queryParamsSubject=C,this.fragmentSubject=N,this.dataSubject=U,this.outlet=X,this.component=Ce,this._futureSnapshot=Ee,this.title=this.dataSubject?.pipe((0,ct.T)(mt=>mt[Pr]))??(0,Q.of)(void 0),this.url=D,this.params=m,this.queryParams=C,this.fragment=N,this.data=U}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,ct.T)(D=>Yn(D)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,ct.T)(D=>Yn(D)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function oo(y,D="emptyOnly"){const m=y.pathFromRoot;let C=0;if("always"!==D)for(C=m.length-1;C>=1;){const N=m[C],U=m[C-1];if(N.routeConfig&&""===N.routeConfig.path)C--;else{if(U.component)break;C--}}return function Ha(y){return y.reduce((D,m)=>({params:{...D.params,...m.params},data:{...D.data,...m.data},resolve:{...m.data,...D.resolve,...m.routeConfig?.data,...m._resolvedData}}),{params:{},data:{},resolve:{}})}(m.slice(C))}class ao{get title(){return this.data?.[Pr]}constructor(D,m,C,N,U,X,Ce,Ee,mt){this.url=D,this.params=m,this.queryParams=C,this.fragment=N,this.data=U,this.outlet=X,this.component=Ce,this.routeConfig=Ee,this._resolve=mt}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Yn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Yn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(C=>C.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Xn extends is{constructor(D,m){super(m),this.url=D,It(this,m)}toString(){return Yt(this._root)}}function It(y,D){D.value._routerState=y,D.children.forEach(m=>It(y,m))}function Yt(y){const D=y.children.length>0?` { ${y.children.map(Yt).join(", ")} } `:"";return`${y.value}${D}`}function On(y){if(y.snapshot){const D=y.snapshot,m=y._futureSnapshot;y.snapshot=m,Wn(D.queryParams,m.queryParams)||y.queryParamsSubject.next(m.queryParams),D.fragment!==m.fragment&&y.fragmentSubject.next(m.fragment),Wn(D.params,m.params)||y.paramsSubject.next(m.params),function qt(y,D){if(y.length!==D.length)return!1;for(let m=0;m<y.length;++m)if(!Wn(y[m],D[m]))return!1;return!0}(D.url,m.url)||y.urlSubject.next(m.url),Wn(D.data,m.data)||y.dataSubject.next(m.data)}else y.snapshot=y._futureSnapshot,y.dataSubject.next(y._futureSnapshot.data)}function li(y,D){const m=Wn(y.params,D.params)&&function oi(y,D){return zt(y,D)&&y.every((m,C)=>Wn(m.parameters,D[C].parameters))}(y.url,D.url);return m&&!(!y.parent!=!D.parent)&&(!y.parent||li(y.parent,D.parent))}let uo=(()=>{class y{constructor(){this.activated=null,this._activatedRoute=null,this.name=$t,this.activateEvents=new S.bkB,this.deactivateEvents=new S.bkB,this.attachEvents=new S.bkB,this.detachEvents=new S.bkB,this.parentContexts=(0,S.WQX)(ci),this.location=(0,S.WQX)(S.c1b),this.changeDetector=(0,S.WQX)(S.gRc),this.environmentInjector=(0,S.WQX)(S.uvJ),this.inputBinder=(0,S.WQX)(hi,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(m){if(m.name){const{firstChange:C,previousValue:N}=m.name;if(C)return;this.isTrackedInParentContexts(N)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(N)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(m){return this.parentContexts.getContext(m)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const m=this.parentContexts.getContext(this.name);m?.route&&(m.attachRef?this.attach(m.attachRef,m.route):this.activateWith(m.route,m.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new S.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new S.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new S.wOt(4012,!1);this.location.detach();const m=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(m.instance),m}attach(m,C){this.activated=m,this._activatedRoute=C,this.location.insert(m.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(m.instance)}deactivate(){if(this.activated){const m=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(m)}}activateWith(m,C){if(this.isActivated)throw new S.wOt(4013,!1);this._activatedRoute=m;const N=this.location,X=m.snapshot.component,Ce=this.parentContexts.getOrCreateContext(this.name).children,Ee=new di(m,Ce,N.injector);this.activated=N.createComponent(X,{index:N.length,injector:Ee,environmentInjector:C??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(C){return new(C||y)}}static{this.\u0275dir=S.FsC({type:y,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[S.OA$]})}}return y})();class di{constructor(D,m,C){this.route=D,this.childContexts=m,this.parent=C}get(D,m){return D===ks?this.route:D===ci?this.childContexts:this.parent.get(D,m)}}const hi=new S.nKC("");let Er=(()=>{class y{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(m){this.unsubscribeFromRouteData(m),this.subscribeToRouteData(m)}unsubscribeFromRouteData(m){this.outletDataSubscriptions.get(m)?.unsubscribe(),this.outletDataSubscriptions.delete(m)}subscribeToRouteData(m){const{activatedRoute:C}=m,N=ut([C.queryParams,C.params,C.data]).pipe((0,jt.n)(([U,X,Ce],Ee)=>(Ce={...U,...X,...Ce},0===Ee?(0,Q.of)(Ce):Promise.resolve(Ce)))).subscribe(U=>{if(!m.isActivated||!m.activatedComponentRef||m.activatedRoute!==C||null===C.component)return void this.unsubscribeFromRouteData(m);const X=(0,S.HJs)(C.component);if(X)for(const{templateName:Ce}of X.inputs)m.activatedComponentRef.setInput(Ce,U[Ce]);else this.unsubscribeFromRouteData(m)});this.outletDataSubscriptions.set(m,N)}static{this.\u0275fac=function(C){return new(C||y)}}static{this.\u0275prov=S.jDH({token:y,factory:y.\u0275fac})}}return y})();function Or(y,D,m){if(m&&y.shouldReuseRoute(D.value,m.value.snapshot)){const C=m.value;C._futureSnapshot=D.value;const N=function rn(y,D,m){return D.children.map(C=>{for(const N of m.children)if(y.shouldReuseRoute(C.value,N.value.snapshot))return Or(y,C,N);return Or(y,C)})}(y,D,m);return new Rn(C,N)}{if(y.shouldAttach(D.value)){const U=y.retrieve(D.value);if(null!==U){const X=U.route;return X.value._futureSnapshot=D.value,X.children=D.children.map(Ce=>Or(y,Ce)),X}}const C=function Qi(y){return new ks(new Z.t(y.url),new Z.t(y.params),new Z.t(y.queryParams),new Z.t(y.fragment),new Z.t(y.data),y.outlet,y.component,y)}(D.value),N=D.children.map(U=>Or(y,U));return new Rn(C,N)}}const ma="ngNavigationCancelingError";function Ks(y,D){const{redirectTo:m,navigationBehaviorOptions:C}=jn(D)?{redirectTo:D,navigationBehaviorOptions:void 0}:D,N=Dr(!1,0,D);return N.url=m,N.navigationBehaviorOptions=C,N}function Dr(y,D,m){const C=new Error("NavigationCancelingError: "+(y||""));return C[ma]=!0,C.cancellationCode=D,m&&(C.url=m),C}function fi(y){return y&&y[ma]}let Xi=(()=>{class y{static{this.\u0275fac=function(C){return new(C||y)}}static{this.\u0275cmp=S.VBU({type:y,selectors:[["ng-component"]],standalone:!0,features:[S.aNF],decls:1,vars:0,template:function(C,N){1&C&&S.nrm(0,"router-outlet")},dependencies:[uo],encapsulation:2})}}return y})();function gs(y){const D=y.children&&y.children.map(gs),m=D?{...y,children:D}:{...y};return!m.component&&!m.loadComponent&&(D||m.loadChildren)&&m.outlet&&m.outlet!==$t&&(m.component=Xi),m}function Mr(y){return y.outlet||$t}function Fi(y){if(!y)return null;if(y.routeConfig?._injector)return y.routeConfig._injector;for(let D=y.parent;D;D=D.parent){const m=D.routeConfig;if(m?._loadedInjector)return m._loadedInjector;if(m?._injector)return m._injector}return null}class ya{constructor(D,m,C,N,U){this.routeReuseStrategy=D,this.futureState=m,this.currState=C,this.forwardEvent=N,this.inputBindingEnabled=U}activate(D){const m=this.futureState._root,C=this.currState?this.currState._root:null;this.deactivateChildRoutes(m,C,D),On(this.futureState.root),this.activateChildRoutes(m,C,D)}deactivateChildRoutes(D,m,C){const N=Xt(m);D.children.forEach(U=>{const X=U.value.outlet;this.deactivateRoutes(U,N[X],C),delete N[X]}),Object.values(N).forEach(U=>{this.deactivateRouteAndItsChildren(U,C)})}deactivateRoutes(D,m,C){const N=D.value,U=m?m.value:null;if(N===U)if(N.component){const X=C.getContext(N.outlet);X&&this.deactivateChildRoutes(D,m,X.children)}else this.deactivateChildRoutes(D,m,C);else U&&this.deactivateRouteAndItsChildren(m,C)}deactivateRouteAndItsChildren(D,m){D.value.component&&this.routeReuseStrategy.shouldDetach(D.value.snapshot)?this.detachAndStoreRouteSubtree(D,m):this.deactivateRouteAndOutlet(D,m)}detachAndStoreRouteSubtree(D,m){const C=m.getContext(D.value.outlet),N=C&&D.value.component?C.children:m,U=Xt(D);for(const X of Object.keys(U))this.deactivateRouteAndItsChildren(U[X],N);if(C&&C.outlet){const X=C.outlet.detach(),Ce=C.children.onOutletDeactivated();this.routeReuseStrategy.store(D.value.snapshot,{componentRef:X,route:D,contexts:Ce})}}deactivateRouteAndOutlet(D,m){const C=m.getContext(D.value.outlet),N=C&&D.value.component?C.children:m,U=Xt(D);for(const X of Object.keys(U))this.deactivateRouteAndItsChildren(U[X],N);C&&(C.outlet&&(C.outlet.deactivate(),C.children.onOutletDeactivated()),C.attachRef=null,C.route=null)}activateChildRoutes(D,m,C){const N=Xt(m);D.children.forEach(U=>{this.activateRoutes(U,N[U.value.outlet],C),this.forwardEvent(new So(U.value.snapshot))}),D.children.length&&this.forwardEvent(new Rs(D.value.snapshot))}activateRoutes(D,m,C){const N=D.value,U=m?m.value:null;if(On(N),N===U)if(N.component){const X=C.getOrCreateContext(N.outlet);this.activateChildRoutes(D,m,X.children)}else this.activateChildRoutes(D,m,C);else if(N.component){const X=C.getOrCreateContext(N.outlet);if(this.routeReuseStrategy.shouldAttach(N.snapshot)){const Ce=this.routeReuseStrategy.retrieve(N.snapshot);this.routeReuseStrategy.store(N.snapshot,null),X.children.onOutletReAttached(Ce.contexts),X.attachRef=Ce.componentRef,X.route=Ce.route.value,X.outlet&&X.outlet.attach(Ce.componentRef,Ce.route.value),On(Ce.route.value),this.activateChildRoutes(D,null,X.children)}else{const Ce=Fi(N.snapshot);X.attachRef=null,X.route=N,X.injector=Ce,X.outlet&&X.outlet.activateWith(N,X.injector),this.activateChildRoutes(D,null,X.children)}}else this.activateChildRoutes(D,null,C)}}class ti{constructor(D){this.path=D,this.route=this.path[this.path.length-1]}}class Br{constructor(D,m){this.component=D,this.route=m}}function xo(y,D,m){const C=y._root;return gr(C,D?D._root:null,m,[C.value])}function Pn(y,D){const m=Symbol(),C=D.get(y,m);return C===m?"function"!=typeof y||(0,S.LfX)(y)?D.get(y):y:C}function gr(y,D,m,C,N={canDeactivateChecks:[],canActivateChecks:[]}){const U=Xt(D);return y.children.forEach(X=>{(function qo(y,D,m,C,N={canDeactivateChecks:[],canActivateChecks:[]}){const U=y.value,X=D?D.value:null,Ce=m?m.getContext(y.value.outlet):null;if(X&&U.routeConfig===X.routeConfig){const Ee=function tc(y,D,m){if("function"==typeof m)return m(y,D);switch(m){case"pathParamsChange":return!zt(y.url,D.url);case"pathParamsOrQueryParamsChange":return!zt(y.url,D.url)||!Wn(y.queryParams,D.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!li(y,D)||!Wn(y.queryParams,D.queryParams);default:return!li(y,D)}}(X,U,U.routeConfig.runGuardsAndResolvers);Ee?N.canActivateChecks.push(new ti(C)):(U.data=X.data,U._resolvedData=X._resolvedData),gr(y,D,U.component?Ce?Ce.children:null:m,C,N),Ee&&Ce&&Ce.outlet&&Ce.outlet.isActivated&&N.canDeactivateChecks.push(new Br(Ce.outlet.component,X))}else X&&lo(D,Ce,N),N.canActivateChecks.push(new ti(C)),gr(y,null,U.component?Ce?Ce.children:null:m,C,N)})(X,U[X.value.outlet],m,C.concat([X.value]),N),delete U[X.value.outlet]}),Object.entries(U).forEach(([X,Ce])=>lo(Ce,m.getContext(X),N)),N}function lo(y,D,m){const C=Xt(y),N=y.value;Object.entries(C).forEach(([U,X])=>{lo(X,N.component?D?D.children.getContext(U):null:D,m)}),m.canDeactivateChecks.push(new Br(N.component&&D&&D.outlet&&D.outlet.isActivated?D.outlet.component:null,N))}function Qs(y){return"function"==typeof y}function ys(y){return y instanceof Bn||"EmptyError"===y?.name}const Qo=Symbol("INITIAL_VALUE");function ni(){return(0,jt.n)(y=>ut(y.map(D=>D.pipe(sr(1),function Zr(...y){const D=(0,ee.lI)(y);return(0,Nn.N)((m,C)=>{(D?Ze(y,m,D):Ze(y,m)).subscribe(C)})}(Qo)))).pipe((0,ct.T)(D=>{for(const m of D)if(!0!==m){if(m===Qo)return Qo;if(!1===m||m instanceof ei)return m}return!0}),Ie(D=>D!==Qo),sr(1)))}function ss(y){return(0,gt.F)((0,_t.M)(D=>{if(jn(D))throw Ks(0,D)}),(0,ct.T)(D=>!0===D))}class wa{constructor(D){this.segmentGroup=D||null}}class Vn{constructor(D){this.urlTree=D}}function Ys(y){return Ge(new wa(y))}function Oi(y){return Ge(new Vn(y))}class Ai{constructor(D,m){this.urlSerializer=D,this.urlTree=m}noMatchError(D){return new S.wOt(4002,!1)}lineralizeSegments(D,m){let C=[],N=m.root;for(;;){if(C=C.concat(N.segments),0===N.numberOfChildren)return(0,Q.of)(C);if(N.numberOfChildren>1||!N.children[$t])return Ge(new S.wOt(4e3,!1));N=N.children[$t]}}applyRedirectCommands(D,m,C){return this.applyRedirectCreateUrlTree(m,this.urlSerializer.parse(m),D,C)}applyRedirectCreateUrlTree(D,m,C,N){const U=this.createSegmentGroup(D,m.root,C,N);return new ei(U,this.createQueryParams(m.queryParams,this.urlTree.queryParams),m.fragment)}createQueryParams(D,m){const C={};return Object.entries(D).forEach(([N,U])=>{if("string"==typeof U&&U.startsWith(":")){const Ce=U.substring(1);C[N]=m[Ce]}else C[N]=U}),C}createSegmentGroup(D,m,C,N){const U=this.createSegments(D,m.segments,C,N);let X={};return Object.entries(m.children).forEach(([Ce,Ee])=>{X[Ce]=this.createSegmentGroup(D,Ee,C,N)}),new Pt(U,X)}createSegments(D,m,C,N){return m.map(U=>U.path.startsWith(":")?this.findPosParam(D,U,N):this.findOrReturn(U,C))}findPosParam(D,m,C){const N=C[m.path.substring(1)];if(!N)throw new S.wOt(4001,!1);return N}findOrReturn(D,m){let C=0;for(const N of m){if(N.path===D.path)return m.splice(C),N;C++}return D}}const ho={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function An(y,D,m,C,N){const U=Ka(y,D,m);return U.matched?(C=function qs(y,D){return y.providers&&!y._injector&&(y._injector=(0,S.Ol2)(y.providers,D,`Route: ${y.path}`)),y._injector??D}(D,C),function wi(y,D,m,C){const N=D.canMatch;if(!N||0===N.length)return(0,Q.of)(!0);const U=N.map(X=>{const Ce=Pn(X,y);return Kn(function Ro(y){return y&&Qs(y.canMatch)}(Ce)?Ce.canMatch(D,m):y.runInContext(()=>Ce(D,m)))});return(0,Q.of)(U).pipe(ni(),ss())}(C,D,m).pipe((0,ct.T)(X=>!0===X?U:{...ho}))):(0,Q.of)(U)}function Ka(y,D,m){if(""===D.path)return"full"===D.pathMatch&&(y.hasChildren()||m.length>0)?{...ho}:{matched:!0,consumedSegments:[],remainingSegments:m,parameters:{},positionalParamSegments:{}};const N=(D.matcher||Jt)(m,y,D);if(!N)return{...ho};const U={};Object.entries(N.posParams??{}).forEach(([Ce,Ee])=>{U[Ce]=Ee.path});const X=N.consumed.length>0?{...U,...N.consumed[N.consumed.length-1].parameters}:U;return{matched:!0,consumedSegments:N.consumed,remainingSegments:m.slice(N.consumed.length),parameters:X,positionalParamSegments:N.posParams??{}}}function fo(y,D,m,C){return m.length>0&&function Da(y,D,m){return m.some(C=>po(y,D,C)&&Mr(C)!==$t)}(y,m,C)?{segmentGroup:new Pt(D,Po(C,new Pt(m,y.children))),slicedSegments:[]}:0===m.length&&function Is(y,D,m){return m.some(C=>po(y,D,C))}(y,m,C)?{segmentGroup:new Pt(y.segments,_s(y,0,m,C,y.children)),slicedSegments:m}:{segmentGroup:new Pt(y.segments,y.children),slicedSegments:m}}function _s(y,D,m,C,N){const U={};for(const X of C)if(po(y,m,X)&&!N[Mr(X)]){const Ce=new Pt([],{});U[Mr(X)]=Ce}return{...N,...U}}function Po(y,D){const m={};m[$t]=D;for(const C of y)if(""===C.path&&Mr(C)!==$t){const N=new Pt([],{});m[Mr(C)]=N}return m}function po(y,D,m){return(!(y.hasChildren()||D.length>0)||"full"!==m.pathMatch)&&""===m.path}class jr{constructor(D,m,C,N,U,X,Ce){this.injector=D,this.configLoader=m,this.rootComponentType=C,this.config=N,this.urlTree=U,this.paramsInheritanceStrategy=X,this.urlSerializer=Ce,this.allowRedirects=!0,this.applyRedirects=new Ai(this.urlSerializer,this.urlTree)}noMatchError(D){return new S.wOt(4002,!1)}recognize(){const D=fo(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,D,$t).pipe(un(m=>{if(m instanceof Vn)return this.allowRedirects=!1,this.urlTree=m.urlTree,this.match(m.urlTree);throw m instanceof wa?this.noMatchError(m):m}),(0,ct.T)(m=>{const C=new ao([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},$t,this.rootComponentType,null,{}),N=new Rn(C,m),U=new Xn("",N),X=function ui(y,D,m=null,C=null){return Ns(zs(y),D,m,C)}(C,[],this.urlTree.queryParams,this.urlTree.fragment);return X.queryParams=this.urlTree.queryParams,U.url=this.urlSerializer.serialize(X),this.inheritParamsAndData(U._root),{state:U,tree:X}}))}match(D){return this.processSegmentGroup(this.injector,this.config,D.root,$t).pipe(un(C=>{throw C instanceof wa?this.noMatchError(C):C}))}inheritParamsAndData(D){const m=D.value,C=oo(m,this.paramsInheritanceStrategy);m.params=Object.freeze(C.params),m.data=Object.freeze(C.data),D.children.forEach(N=>this.inheritParamsAndData(N))}processSegmentGroup(D,m,C,N){return 0===C.segments.length&&C.hasChildren()?this.processChildren(D,m,C):this.processSegment(D,m,C,C.segments,N,!0)}processChildren(D,m,C){const N=[];for(const U of Object.keys(C.children))"primary"===U?N.unshift(U):N.push(U);return(0,fe.H)(N).pipe(nt(U=>{const X=C.children[U],Ce=function ur(y,D){const m=y.filter(C=>Mr(C)===D);return m.push(...y.filter(C=>Mr(C)!==D)),m}(m,U);return this.processSegmentGroup(D,Ce,X,U)}),function Tn(y,D){return(0,Nn.N)(function Ft(y,D,m,C,N){return(U,X)=>{let Ce=m,Ee=D,mt=0;U.subscribe((0,Oe._)(X,Zt=>{const Sn=mt++;Ee=Ce?y(Ee,Zt,Sn):(Ce=!0,Zt),C&&X.next(Ee)},N&&(()=>{Ce&&X.next(Ee),X.complete()})))}}(y,D,arguments.length>=2,!0))}((U,X)=>(U.push(...X),U)),me(null),function vr(y,D){const m=arguments.length>=2;return C=>C.pipe(y?Ie((N,U)=>y(N,U,C)):Be.D,pn(1),m?me(D):Me(()=>new Bn))}(),(0,ye.Z)(U=>{if(null===U)return Ys(C);const X=F(U);return function ko(y){y.sort((D,m)=>D.value.outlet===$t?-1:m.value.outlet===$t?1:D.value.outlet.localeCompare(m.value.outlet))}(X),(0,Q.of)(X)}))}processSegment(D,m,C,N,U,X){return(0,fe.H)(m).pipe(nt(Ce=>this.processSegmentAgainstRoute(Ce._injector??D,m,Ce,C,N,U,X).pipe(un(Ee=>{if(Ee instanceof wa)return(0,Q.of)(null);throw Ee}))),Qe(Ce=>!!Ce),un(Ce=>{if(ys(Ce))return function Ui(y,D,m){return 0===D.length&&!y.children[m]}(C,N,U)?(0,Q.of)([]):Ys(C);throw Ce}))}processSegmentAgainstRoute(D,m,C,N,U,X,Ce){return function Us(y,D,m,C){return!!(Mr(y)===C||C!==$t&&po(D,m,y))&&("**"===y.path||Ka(D,y,m).matched)}(C,N,U,X)?void 0===C.redirectTo?this.matchSegmentAgainstRoute(D,N,C,U,X,Ce):Ce&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(D,N,m,C,U,X):Ys(N):Ys(N)}expandSegmentAgainstRouteUsingRedirect(D,m,C,N,U,X){return"**"===N.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(D,C,N,X):this.expandRegularSegmentAgainstRouteUsingRedirect(D,m,C,N,U,X)}expandWildCardWithParamsAgainstRouteUsingRedirect(D,m,C,N){const U=this.applyRedirects.applyRedirectCommands([],C.redirectTo,{});return C.redirectTo.startsWith("/")?Oi(U):this.applyRedirects.lineralizeSegments(C,U).pipe((0,ye.Z)(X=>{const Ce=new Pt(X,{});return this.processSegment(D,m,Ce,X,N,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(D,m,C,N,U,X){const{matched:Ce,consumedSegments:Ee,remainingSegments:mt,positionalParamSegments:Zt}=Ka(m,N,U);if(!Ce)return Ys(m);const Sn=this.applyRedirects.applyRedirectCommands(Ee,N.redirectTo,Zt);return N.redirectTo.startsWith("/")?Oi(Sn):this.applyRedirects.lineralizeSegments(N,Sn).pipe((0,ye.Z)(Mn=>this.processSegment(D,C,m,Mn.concat(mt),X,!1)))}matchSegmentAgainstRoute(D,m,C,N,U,X){let Ce;if("**"===C.path){const Ee=N.length>0?br(N).parameters:{},mt=new ao(N,Ee,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,k(C),Mr(C),C.component??C._loadedComponent??null,C,Y(C));Ce=(0,Q.of)({snapshot:mt,consumedSegments:[],remainingSegments:[]}),m.children={}}else Ce=An(m,C,N,D).pipe((0,ct.T)(({matched:Ee,consumedSegments:mt,remainingSegments:Zt,parameters:Sn})=>Ee?{snapshot:new ao(mt,Sn,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,k(C),Mr(C),C.component??C._loadedComponent??null,C,Y(C)),consumedSegments:mt,remainingSegments:Zt}:null));return Ce.pipe((0,jt.n)(Ee=>null===Ee?Ys(m):this.getChildConfig(D=C._injector??D,C,N).pipe((0,jt.n)(({routes:mt})=>{const Zt=C._loadedInjector??D,{snapshot:Sn,consumedSegments:Mn,remainingSegments:no}=Ee,{segmentGroup:Bi,slicedSegments:ro}=fo(m,Mn,no,mt);if(0===ro.length&&Bi.hasChildren())return this.processChildren(Zt,mt,Bi).pipe((0,ct.T)(ji=>null===ji?null:[new Rn(Sn,ji)]));if(0===mt.length&&0===ro.length)return(0,Q.of)([new Rn(Sn,[])]);const Iu=Mr(C)===U;return this.processSegment(Zt,mt,Bi,ro,Iu?$t:U,!0).pipe((0,ct.T)(ji=>[new Rn(Sn,ji)]))}))))}getChildConfig(D,m,C){return m.children?(0,Q.of)({routes:m.children,injector:D}):m.loadChildren?void 0!==m._loadedRoutes?(0,Q.of)({routes:m._loadedRoutes,injector:m._loadedInjector}):function Xs(y,D,m,C){const N=D.canLoad;if(void 0===N||0===N.length)return(0,Q.of)(!0);const U=N.map(X=>{const Ce=Pn(X,y);return Kn(function Fu(y){return y&&Qs(y.canLoad)}(Ce)?Ce.canLoad(D,m):y.runInContext(()=>Ce(D,m)))});return(0,Q.of)(U).pipe(ni(),ss())}(D,m,C).pipe((0,ye.Z)(N=>N?this.configLoader.loadChildren(D,m).pipe((0,_t.M)(U=>{m._loadedRoutes=U.routes,m._loadedInjector=U.injector})):function Ea(y){return Ge(Dr(!1,3))}())):(0,Q.of)({routes:[],injector:D})}}function w(y){const D=y.value.routeConfig;return D&&""===D.path}function F(y){const D=[],m=new Set;for(const C of y){if(!w(C)){D.push(C);continue}const N=D.find(U=>C.value.routeConfig===U.value.routeConfig);void 0!==N?(N.children.push(...C.children),m.add(N)):D.push(C)}for(const C of m){const N=F(C.children);D.push(new Rn(C.value,N))}return D.filter(C=>!m.has(C))}function k(y){return y.data||{}}function Y(y){return y.resolve||{}}function dn(y){return"string"==typeof y.title||null===y.title}function cr(y){return(0,jt.n)(D=>{const m=y(D);return m?(0,fe.H)(m).pipe((0,ct.T)(()=>D)):(0,Q.of)(D)})}const Hn=new S.nKC("ROUTES");let Wr=(()=>{class y{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,S.WQX)(S.Ql9)}loadComponent(m){if(this.componentLoaders.get(m))return this.componentLoaders.get(m);if(m._loadedComponent)return(0,Q.of)(m._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(m);const C=Kn(m.loadComponent()).pipe((0,ct.T)(tr),(0,_t.M)(U=>{this.onLoadEndListener&&this.onLoadEndListener(m),m._loadedComponent=U}),or(()=>{this.componentLoaders.delete(m)})),N=new et(C,()=>new We.B).pipe(Cr());return this.componentLoaders.set(m,N),N}loadChildren(m,C){if(this.childrenLoaders.get(C))return this.childrenLoaders.get(C);if(C._loadedRoutes)return(0,Q.of)({routes:C._loadedRoutes,injector:C._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(C);const U=function Si(y,D,m,C){return Kn(y.loadChildren()).pipe((0,ct.T)(tr),(0,ye.Z)(N=>N instanceof S.Co$||Array.isArray(N)?(0,Q.of)(N):(0,fe.H)(D.compileModuleAsync(N))),(0,ct.T)(N=>{C&&C(y);let U,X,Ce=!1;return Array.isArray(N)?(X=N,!0):(U=N.create(m).injector,X=U.get(Hn,[],{optional:!0,self:!0}).flat()),{routes:X.map(gs),injector:U}}))}(C,this.compiler,m,this.onLoadEndListener).pipe(or(()=>{this.childrenLoaders.delete(C)})),X=new et(U,()=>new We.B).pipe(Cr());return this.childrenLoaders.set(C,X),X}static{this.\u0275fac=function(C){return new(C||y)}}static{this.\u0275prov=S.jDH({token:y,factory:y.\u0275fac,providedIn:"root"})}}return y})();function tr(y){return function ws(y){return y&&"object"==typeof y&&"default"in y}(y)?y.default:y}let lr=(()=>{class y{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new We.B,this.transitionAbortSubject=new We.B,this.configLoader=(0,S.WQX)(Wr),this.environmentInjector=(0,S.WQX)(S.uvJ),this.urlSerializer=(0,S.WQX)(ln),this.rootContexts=(0,S.WQX)(ci),this.inputBindingEnabled=null!==(0,S.WQX)(hi,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,Q.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=N=>this.events.next(new ha(N)),this.configLoader.onLoadStartListener=N=>this.events.next(new fs(N))}complete(){this.transitions?.complete()}handleNavigationRequest(m){const C=++this.navigationId;this.transitions?.next({...this.transitions.value,...m,id:C})}setupNavigations(m,C,N){return this.transitions=new Z.t({id:0,currentUrlTree:C,currentRawUrl:C,currentBrowserUrl:C,extractedUrl:m.urlHandlingStrategy.extract(C),urlAfterRedirects:m.urlHandlingStrategy.extract(C),rawUrl:C,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:mn,restoredState:null,currentSnapshot:N.snapshot,targetSnapshot:null,currentRouterState:N,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Ie(U=>0!==U.id),(0,ct.T)(U=>({...U,extractedUrl:m.urlHandlingStrategy.extract(U.rawUrl)})),(0,jt.n)(U=>{this.currentTransition=U;let X=!1,Ce=!1;return(0,Q.of)(U).pipe((0,_t.M)(Ee=>{this.currentNavigation={id:Ee.id,initialUrl:Ee.rawUrl,extractedUrl:Ee.extractedUrl,trigger:Ee.source,extras:Ee.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,jt.n)(Ee=>{const mt=Ee.currentBrowserUrl.toString(),Zt=!m.navigated||Ee.extractedUrl.toString()!==mt||mt!==Ee.currentUrlTree.toString();if(!Zt&&"reload"!==(Ee.extras.onSameUrlNavigation??m.onSameUrlNavigation)){const Mn="";return this.events.next(new Nr(Ee.id,this.urlSerializer.serialize(Ee.rawUrl),Mn,0)),Ee.resolve(null),$e.w}if(m.urlHandlingStrategy.shouldProcessUrl(Ee.rawUrl))return(0,Q.of)(Ee).pipe((0,jt.n)(Mn=>{const no=this.transitions?.getValue();return this.events.next(new Cn(Mn.id,this.urlSerializer.serialize(Mn.extractedUrl),Mn.source,Mn.restoredState)),no!==this.transitions?.getValue()?$e.w:Promise.resolve(Mn)}),function be(y,D,m,C,N,U){return(0,ye.Z)(X=>function Vi(y,D,m,C,N,U,X="emptyOnly"){return new jr(y,D,m,C,N,X,U).recognize()}(y,D,m,C,X.extractedUrl,N,U).pipe((0,ct.T)(({state:Ce,tree:Ee})=>({...X,targetSnapshot:Ce,urlAfterRedirects:Ee}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,m.config,this.urlSerializer,m.paramsInheritanceStrategy),(0,_t.M)(Mn=>{U.targetSnapshot=Mn.targetSnapshot,U.urlAfterRedirects=Mn.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:Mn.urlAfterRedirects};const no=new Ao(Mn.id,this.urlSerializer.serialize(Mn.extractedUrl),this.urlSerializer.serialize(Mn.urlAfterRedirects),Mn.targetSnapshot);this.events.next(no)}));if(Zt&&m.urlHandlingStrategy.shouldProcessUrl(Ee.currentRawUrl)){const{id:Mn,extractedUrl:no,source:Bi,restoredState:ro,extras:Iu}=Ee,ji=new Cn(Mn,this.urlSerializer.serialize(no),Bi,ro);this.events.next(ji);const xi=Rr(0,this.rootComponentType).snapshot;return this.currentTransition=U={...Ee,targetSnapshot:xi,urlAfterRedirects:no,extras:{...Iu,skipLocationChange:!1,replaceUrl:!1}},(0,Q.of)(U)}{const Mn="";return this.events.next(new Nr(Ee.id,this.urlSerializer.serialize(Ee.extractedUrl),Mn,1)),Ee.resolve(null),$e.w}}),(0,_t.M)(Ee=>{const mt=new Ba(Ee.id,this.urlSerializer.serialize(Ee.extractedUrl),this.urlSerializer.serialize(Ee.urlAfterRedirects),Ee.targetSnapshot);this.events.next(mt)}),(0,ct.T)(Ee=>(this.currentTransition=U={...Ee,guards:xo(Ee.targetSnapshot,Ee.currentSnapshot,this.rootContexts)},U)),function pu(y,D){return(0,ye.Z)(m=>{const{targetSnapshot:C,currentSnapshot:N,guards:{canActivateChecks:U,canDeactivateChecks:X}}=m;return 0===X.length&&0===U.length?(0,Q.of)({...m,guardsResult:!0}):function Xo(y,D,m,C){return(0,fe.H)(y).pipe((0,ye.Z)(N=>function Oo(y,D,m,C,N){const U=D&&D.routeConfig?D.routeConfig.canDeactivate:null;if(!U||0===U.length)return(0,Q.of)(!0);const X=U.map(Ce=>{const Ee=Fi(D)??N,mt=Pn(Ce,Ee);return Kn(function Ga(y){return y&&Qs(y.canDeactivate)}(mt)?mt.canDeactivate(y,D,m,C):Ee.runInContext(()=>mt(y,D,m,C))).pipe(Qe())});return(0,Q.of)(X).pipe(ni())}(N.component,N.route,m,D,C)),Qe(N=>!0!==N,!0))}(X,C,N,y).pipe((0,ye.Z)(Ce=>Ce&&function Ri(y){return"boolean"==typeof y}(Ce)?function gu(y,D,m,C){return(0,fe.H)(D).pipe(nt(N=>Ze(function _a(y,D){return null!==y&&D&&D(new fa(y)),(0,Q.of)(!0)}(N.route.parent,C),function vs(y,D){return null!==y&&D&&D(new Os(y)),(0,Q.of)(!0)}(N.route,C),function Yo(y,D,m){const C=D[D.length-1],U=D.slice(0,D.length-1).reverse().map(X=>function ms(y){const D=y.routeConfig?y.routeConfig.canActivateChild:null;return D&&0!==D.length?{node:y,guards:D}:null}(X)).filter(X=>null!==X).map(X=>it(()=>{const Ce=X.guards.map(Ee=>{const mt=Fi(X.node)??m,Zt=Pn(Ee,mt);return Kn(function Uu(y){return y&&Qs(y.canActivateChild)}(Zt)?Zt.canActivateChild(C,y):mt.runInContext(()=>Zt(C,y))).pipe(Qe())});return(0,Q.of)(Ce).pipe(ni())}));return(0,Q.of)(U).pipe(ni())}(y,N.path,m),function Ia(y,D,m){const C=D.routeConfig?D.routeConfig.canActivate:null;if(!C||0===C.length)return(0,Q.of)(!0);const N=C.map(U=>it(()=>{const X=Fi(D)??m,Ce=Pn(U,X);return Kn(function No(y){return y&&Qs(y.canActivate)}(Ce)?Ce.canActivate(D,y):X.runInContext(()=>Ce(D,y))).pipe(Qe())}));return(0,Q.of)(N).pipe(ni())}(y,N.route,m))),Qe(N=>!0!==N,!0))}(C,U,y,D):(0,Q.of)(Ce)),(0,ct.T)(Ce=>({...m,guardsResult:Ce})))})}(this.environmentInjector,Ee=>this.events.next(Ee)),(0,_t.M)(Ee=>{if(U.guardsResult=Ee.guardsResult,jn(Ee.guardsResult))throw Ks(0,Ee.guardsResult);const mt=new da(Ee.id,this.urlSerializer.serialize(Ee.extractedUrl),this.urlSerializer.serialize(Ee.urlAfterRedirects),Ee.targetSnapshot,!!Ee.guardsResult);this.events.next(mt)}),Ie(Ee=>!!Ee.guardsResult||(this.cancelNavigationTransition(Ee,"",3),!1)),cr(Ee=>{if(Ee.guards.canActivateChecks.length)return(0,Q.of)(Ee).pipe((0,_t.M)(mt=>{const Zt=new Go(mt.id,this.urlSerializer.serialize(mt.extractedUrl),this.urlSerializer.serialize(mt.urlAfterRedirects),mt.targetSnapshot);this.events.next(Zt)}),(0,jt.n)(mt=>{let Zt=!1;return(0,Q.of)(mt).pipe(function Ue(y,D){return(0,ye.Z)(m=>{const{targetSnapshot:C,guards:{canActivateChecks:N}}=m;if(!N.length)return(0,Q.of)(m);let U=0;return(0,fe.H)(N).pipe(nt(X=>function Nt(y,D,m,C){const N=y.routeConfig,U=y._resolve;return void 0!==N?.title&&!dn(N)&&(U[Pr]=N.title),function rr(y,D,m,C){const N=function mr(y){return[...Object.keys(y),...Object.getOwnPropertySymbols(y)]}(y);if(0===N.length)return(0,Q.of)({});const U={};return(0,fe.H)(N).pipe((0,ye.Z)(X=>function $n(y,D,m,C){const N=Fi(D)??C,U=Pn(y,N);return Kn(U.resolve?U.resolve(D,m):N.runInContext(()=>U(D,m)))}(y[X],D,m,C).pipe(Qe(),(0,_t.M)(Ce=>{U[X]=Ce}))),pn(1),function Qt(y){return(0,ct.T)(()=>y)}(U),un(X=>ys(X)?$e.w:Ge(X)))}(U,y,D,C).pipe((0,ct.T)(X=>(y._resolvedData=X,y.data=oo(y,m).resolve,N&&dn(N)&&(y.data[Pr]=N.title),null)))}(X.route,C,y,D)),(0,_t.M)(()=>U++),pn(1),(0,ye.Z)(X=>U===N.length?(0,Q.of)(m):$e.w))})}(m.paramsInheritanceStrategy,this.environmentInjector),(0,_t.M)({next:()=>Zt=!0,complete:()=>{Zt||this.cancelNavigationTransition(mt,"",2)}}))}),(0,_t.M)(mt=>{const Zt=new ja(mt.id,this.urlSerializer.serialize(mt.extractedUrl),this.urlSerializer.serialize(mt.urlAfterRedirects),mt.targetSnapshot);this.events.next(Zt)}))}),cr(Ee=>{const mt=Zt=>{const Sn=[];Zt.routeConfig?.loadComponent&&!Zt.routeConfig._loadedComponent&&Sn.push(this.configLoader.loadComponent(Zt.routeConfig).pipe((0,_t.M)(Mn=>{Zt.component=Mn}),(0,ct.T)(()=>{})));for(const Mn of Zt.children)Sn.push(...mt(Mn));return Sn};return ut(mt(Ee.targetSnapshot.root)).pipe(me(),sr(1))}),cr(()=>this.afterPreactivation()),(0,ct.T)(Ee=>{const mt=function Ws(y,D,m){const C=Or(y,D._root,m?m._root:void 0);return new qi(C,D)}(m.routeReuseStrategy,Ee.targetSnapshot,Ee.currentRouterState);return this.currentTransition=U={...Ee,targetRouterState:mt},U}),(0,_t.M)(()=>{this.events.next(new pa)}),((y,D,m,C)=>(0,ct.T)(N=>(new ya(D,N.targetRouterState,N.currentRouterState,m,C).activate(y),N)))(this.rootContexts,m.routeReuseStrategy,Ee=>this.events.next(Ee),this.inputBindingEnabled),sr(1),(0,_t.M)({next:Ee=>{X=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Gr(Ee.id,this.urlSerializer.serialize(Ee.extractedUrl),this.urlSerializer.serialize(Ee.urlAfterRedirects))),m.titleStrategy?.updateTitle(Ee.targetRouterState.snapshot),Ee.resolve(!0)},complete:()=>{X=!0}}),function xt(y){return(0,Nn.N)((D,m)=>{(0,Fe.Tg)(y).subscribe((0,Oe._)(m,()=>m.complete(),cn.l)),!m.closed&&D.subscribe(m)})}(this.transitionAbortSubject.pipe((0,_t.M)(Ee=>{throw Ee}))),or(()=>{X||Ce||this.cancelNavigationTransition(U,"",1),this.currentNavigation?.id===U.id&&(this.currentNavigation=null)}),un(Ee=>{if(Ce=!0,fi(Ee))this.events.next(new Fr(U.id,this.urlSerializer.serialize(U.extractedUrl),Ee.message,Ee.cancellationCode)),function co(y){return fi(y)&&jn(y.url)}(Ee)?this.events.next(new $a(Ee.url)):U.resolve(!1);else{this.events.next(new Qn(U.id,this.urlSerializer.serialize(U.extractedUrl),Ee,U.targetSnapshot??void 0));try{U.resolve(m.errorHandler(Ee))}catch(mt){U.reject(mt)}}return $e.w}))}))}cancelNavigationTransition(m,C,N){const U=new Fr(m.id,this.urlSerializer.serialize(m.extractedUrl),C,N);this.events.next(U),m.resolve(!1)}static{this.\u0275fac=function(C){return new(C||y)}}static{this.\u0275prov=S.jDH({token:y,factory:y.\u0275fac,providedIn:"root"})}}return y})();function Kr(y){return y!==mn}let Zs=(()=>{class y{buildTitle(m){let C,N=m.root;for(;void 0!==N;)C=this.getResolvedTitleForRoute(N)??C,N=N.children.find(U=>U.outlet===$t);return C}getResolvedTitleForRoute(m){return m.data[Pr]}static{this.\u0275fac=function(C){return new(C||y)}}static{this.\u0275prov=S.jDH({token:y,factory:function(){return(0,S.WQX)(Zo)},providedIn:"root"})}}return y})(),Zo=(()=>{class y extends Zs{constructor(m){super(),this.title=m}updateTitle(m){const C=this.buildTitle(m);void 0!==C&&this.title.setTitle(C)}static{this.\u0275fac=function(C){return new(C||y)(S.KVO(nr.hE))}}static{this.\u0275prov=S.jDH({token:y,factory:y.\u0275fac,providedIn:"root"})}}return y})(),Ye=(()=>{class y{static{this.\u0275fac=function(C){return new(C||y)}}static{this.\u0275prov=S.jDH({token:y,factory:function(){return(0,S.WQX)(Es)},providedIn:"root"})}}return y})();class $r{shouldDetach(D){return!1}store(D,m){}shouldAttach(D){return!1}retrieve(D){return null}shouldReuseRoute(D,m){return D.routeConfig===m.routeConfig}}let Es=(()=>{class y extends $r{static{this.\u0275fac=function(){let m;return function(N){return(m||(m=S.xGo(y)))(N||y)}}()}static{this.\u0275prov=S.jDH({token:y,factory:y.\u0275fac,providedIn:"root"})}}return y})();const Ta=new S.nKC("",{providedIn:"root",factory:()=>({})});let Et=(()=>{class y{static{this.\u0275fac=function(C){return new(C||y)}}static{this.\u0275prov=S.jDH({token:y,factory:function(){return(0,S.WQX)(Rt)},providedIn:"root"})}}return y})(),Rt=(()=>{class y{shouldProcessUrl(m){return!0}extract(m){return m}merge(m,C){return m}static{this.\u0275fac=function(C){return new(C||y)}}static{this.\u0275prov=S.jDH({token:y,factory:y.\u0275fac,providedIn:"root"})}}return y})();var mu=function(y){return y[y.COMPLETE=0]="COMPLETE",y[y.FAILED=1]="FAILED",y[y.REDIRECTING=2]="REDIRECTING",y}(mu||{});function ft(y,D){y.events.pipe(Ie(m=>m instanceof Gr||m instanceof Fr||m instanceof Qn||m instanceof Nr),(0,ct.T)(m=>m instanceof Gr||m instanceof Nr?mu.COMPLETE:m instanceof Fr&&(0===m.code||1===m.code)?mu.REDIRECTING:mu.FAILED),Ie(m=>m!==mu.REDIRECTING),sr(1)).subscribe(()=>{D()})}function Se(y){throw y}function Ve(y,D,m){return D.parse("/")}const ri={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},nc={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let kn=(()=>{class y{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,S.WQX)(S.H3F),this.isNgZoneEnabled=!1,this._events=new We.B,this.options=(0,S.WQX)(Ta,{optional:!0})||{},this.pendingTasks=(0,S.WQX)(S.$K3),this.errorHandler=this.options.errorHandler||Se,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Ve,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,S.WQX)(Et),this.routeReuseStrategy=(0,S.WQX)(Ye),this.titleStrategy=(0,S.WQX)(Zs),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,S.WQX)(Hn,{optional:!0})?.flat()??[],this.navigationTransitions=(0,S.WQX)(lr),this.urlSerializer=(0,S.WQX)(ln),this.location=(0,S.WQX)(wn.aZ),this.componentInputBindingEnabled=!!(0,S.WQX)(hi,{optional:!0}),this.eventsSubscription=new hn.yU,this.isNgZoneEnabled=(0,S.WQX)(S.SKi)instanceof S.SKi&&S.SKi.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new ei,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Rr(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(m=>{this.lastSuccessfulId=m.id,this.currentPageId=this.browserPageId},m=>{this.console.warn(`Unhandled Navigation Error: ${m}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const m=this.navigationTransitions.events.subscribe(C=>{try{const{currentTransition:N}=this.navigationTransitions;if(null===N)return void(Vu(C)&&this._events.next(C));if(C instanceof Cn)Kr(N.source)&&(this.browserUrlTree=N.extractedUrl);else if(C instanceof Nr)this.rawUrlTree=N.rawUrl;else if(C instanceof Ao){if("eager"===this.urlUpdateStrategy){if(!N.extras.skipLocationChange){const U=this.urlHandlingStrategy.merge(N.urlAfterRedirects,N.rawUrl);this.setBrowserUrl(U,N)}this.browserUrlTree=N.urlAfterRedirects}}else if(C instanceof pa)this.currentUrlTree=N.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(N.urlAfterRedirects,N.rawUrl),this.routerState=N.targetRouterState,"deferred"===this.urlUpdateStrategy&&(N.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,N),this.browserUrlTree=N.urlAfterRedirects);else if(C instanceof Fr)0!==C.code&&1!==C.code&&(this.navigated=!0),(3===C.code||2===C.code)&&this.restoreHistory(N);else if(C instanceof $a){const U=this.urlHandlingStrategy.merge(C.url,N.currentRawUrl),X={skipLocationChange:N.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Kr(N.source)};this.scheduleNavigation(U,mn,null,X,{resolve:N.resolve,reject:N.reject,promise:N.promise})}C instanceof Qn&&this.restoreHistory(N,!0),C instanceof Gr&&(this.navigated=!0),Vu(C)&&this._events.next(C)}catch(N){this.navigationTransitions.transitionAbortSubject.next(N)}});this.eventsSubscription.add(m)}resetRootComponentType(m){this.routerState.root.component=m,this.navigationTransitions.rootComponentType=m}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const m=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),mn,m)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(m=>{const C="popstate"===m.type?"popstate":"hashchange";"popstate"===C&&setTimeout(()=>{this.navigateToSyncWithBrowser(m.url,C,m.state)},0)}))}navigateToSyncWithBrowser(m,C,N){const U={replaceUrl:!0},X=N?.navigationId?N:null;if(N){const Ee={...N};delete Ee.navigationId,delete Ee.\u0275routerPageId,0!==Object.keys(Ee).length&&(U.state=Ee)}const Ce=this.parseUrl(m);this.scheduleNavigation(Ce,C,X,U)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(m){this.config=m.map(gs),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(m,C={}){const{relativeTo:N,queryParams:U,fragment:X,queryParamsHandling:Ce,preserveFragment:Ee}=C,mt=Ee?this.currentUrlTree.fragment:X;let Sn,Zt=null;switch(Ce){case"merge":Zt={...this.currentUrlTree.queryParams,...U};break;case"preserve":Zt=this.currentUrlTree.queryParams;break;default:Zt=U||null}null!==Zt&&(Zt=this.removeEmptyProps(Zt));try{Sn=zs(N?N.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof m[0]||!m[0].startsWith("/"))&&(m=[]),Sn=this.currentUrlTree.root}return Ns(Sn,m,Zt,mt??null)}navigateByUrl(m,C={skipLocationChange:!1}){const N=jn(m)?m:this.parseUrl(m),U=this.urlHandlingStrategy.merge(N,this.rawUrlTree);return this.scheduleNavigation(U,mn,null,C)}navigate(m,C={skipLocationChange:!1}){return function qa(y){for(let D=0;D<y.length;D++)if(null==y[D])throw new S.wOt(4008,!1)}(m),this.navigateByUrl(this.createUrlTree(m,C),C)}serializeUrl(m){return this.urlSerializer.serialize(m)}parseUrl(m){let C;try{C=this.urlSerializer.parse(m)}catch(N){C=this.malformedUriErrorHandler(N,this.urlSerializer,m)}return C}isActive(m,C){let N;if(N=!0===C?{...ri}:!1===C?{...nc}:C,jn(m))return bn(this.currentUrlTree,m,N);const U=this.parseUrl(m);return bn(this.currentUrlTree,U,N)}removeEmptyProps(m){return Object.keys(m).reduce((C,N)=>{const U=m[N];return null!=U&&(C[N]=U),C},{})}scheduleNavigation(m,C,N,U,X){if(this.disposed)return Promise.resolve(!1);let Ce,Ee,mt;X?(Ce=X.resolve,Ee=X.reject,mt=X.promise):mt=new Promise((Sn,Mn)=>{Ce=Sn,Ee=Mn});const Zt=this.pendingTasks.add();return ft(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(Zt))}),this.navigationTransitions.handleNavigationRequest({source:C,restoredState:N,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:m,extras:U,resolve:Ce,reject:Ee,promise:mt,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),mt.catch(Sn=>Promise.reject(Sn))}setBrowserUrl(m,C){const N=this.urlSerializer.serialize(m);if(this.location.isCurrentPathEqualTo(N)||C.extras.replaceUrl){const X={...C.extras.state,...this.generateNgRouterState(C.id,this.browserPageId)};this.location.replaceState(N,"",X)}else{const U={...C.extras.state,...this.generateNgRouterState(C.id,this.browserPageId+1)};this.location.go(N,"",U)}}restoreHistory(m,C=!1){if("computed"===this.canceledNavigationResolution){const U=this.currentPageId-this.browserPageId;0!==U?this.location.historyGo(U):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===U&&(this.resetState(m),this.browserUrlTree=m.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(C&&this.resetState(m),this.resetUrlToCurrentUrlTree())}resetState(m){this.routerState=m.currentRouterState,this.currentUrlTree=m.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,m.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(m,C){return"computed"===this.canceledNavigationResolution?{navigationId:m,\u0275routerPageId:C}:{navigationId:m}}static{this.\u0275fac=function(C){return new(C||y)}}static{this.\u0275prov=S.jDH({token:y,factory:y.\u0275fac,providedIn:"root"})}}return y})();function Vu(y){return!(y instanceof pa||y instanceof $a)}let Mi=(()=>{class y{constructor(m,C,N,U,X,Ce){this.router=m,this.route=C,this.tabIndexAttribute=N,this.renderer=U,this.el=X,this.locationStrategy=Ce,this.href=null,this.commands=null,this.onChanges=new We.B,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const Ee=X.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===Ee||"area"===Ee,this.isAnchorElement?this.subscription=m.events.subscribe(mt=>{mt instanceof Gr&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(m){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",m)}ngOnChanges(m){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(m){null!=m?(this.commands=Array.isArray(m)?m:[m],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(m,C,N,U,X){return!!(null===this.urlTree||this.isAnchorElement&&(0!==m||C||N||U||X||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const m=null===this.href?null:(0,S.n$t)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",m)}applyAttributeValue(m,C){const N=this.renderer,U=this.el.nativeElement;null!==C?N.setAttribute(U,m,C):N.removeAttribute(U,m)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(C){return new(C||y)(S.rXU(kn),S.rXU(ks),S.kS0("tabindex"),S.rXU(S.sFG),S.rXU(S.aKT),S.rXU(wn.hb))}}static{this.\u0275dir=S.FsC({type:y,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(C,N){1&C&&S.bIt("click",function(X){return N.onClick(X.button,X.ctrlKey,X.shiftKey,X.altKey,X.metaKey)}),2&C&&S.BMQ("target",N.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",S.L39],skipLocationChange:["skipLocationChange","skipLocationChange",S.L39],replaceUrl:["replaceUrl","replaceUrl",S.L39],routerLink:"routerLink"},standalone:!0,features:[S.GFd,S.OA$]})}}return y})();class go{}let vu=(()=>{class y{constructor(m,C,N,U,X){this.router=m,this.injector=N,this.preloadingStrategy=U,this.loader=X}setUpPreloading(){this.subscription=this.router.events.pipe(Ie(m=>m instanceof Gr),nt(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(m,C){const N=[];for(const U of C){U.providers&&!U._injector&&(U._injector=(0,S.Ol2)(U.providers,m,`Route: ${U.path}`));const X=U._injector??m,Ce=U._loadedInjector??X;(U.loadChildren&&!U._loadedRoutes&&void 0===U.canLoad||U.loadComponent&&!U._loadedComponent)&&N.push(this.preloadConfig(X,U)),(U.children||U._loadedRoutes)&&N.push(this.processRoutes(Ce,U.children??U._loadedRoutes))}return(0,fe.H)(N).pipe((0,Un.U)())}preloadConfig(m,C){return this.preloadingStrategy.preload(C,()=>{let N;N=C.loadChildren&&void 0===C.canLoad?this.loader.loadChildren(m,C):(0,Q.of)(null);const U=N.pipe((0,ye.Z)(X=>null===X?(0,Q.of)(void 0):(C._loadedRoutes=X.routes,C._loadedInjector=X.injector,this.processRoutes(X.injector??m,X.routes))));if(C.loadComponent&&!C._loadedComponent){const X=this.loader.loadComponent(C);return(0,fe.H)([U,X]).pipe((0,Un.U)())}return U})}static{this.\u0275fac=function(C){return new(C||y)(S.KVO(kn),S.KVO(S.Ql9),S.KVO(S.uvJ),S.KVO(go),S.KVO(Wr))}}static{this.\u0275prov=S.jDH({token:y,factory:y.\u0275fac,providedIn:"root"})}}return y})();const St=new S.nKC("");let Zi=(()=>{class y{constructor(m,C,N,U,X={}){this.urlSerializer=m,this.transitions=C,this.viewportScroller=N,this.zone=U,this.options=X,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},X.scrollPositionRestoration=X.scrollPositionRestoration||"disabled",X.anchorScrolling=X.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(m=>{m instanceof Cn?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=m.navigationTrigger,this.restoredId=m.restoredState?m.restoredState.navigationId:0):m instanceof Gr?(this.lastId=m.id,this.scheduleScrollEvent(m,this.urlSerializer.parse(m.urlAfterRedirects).fragment)):m instanceof Nr&&0===m.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(m,this.urlSerializer.parse(m.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(m=>{m instanceof Mo&&(m.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(m.position):m.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(m.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(m,C){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Mo(m,"popstate"===this.lastSource?this.store[this.restoredId]:null,C))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(C){S.QTQ()}}static{this.\u0275prov=S.jDH({token:y,factory:y.\u0275fac})}}return y})();function Ct(y,D){return{\u0275kind:y,\u0275providers:D}}function dt(){const y=(0,S.WQX)(S.zZn);return D=>{const m=y.get(S.o8S);if(D!==m.components[0])return;const C=y.get(kn),N=y.get(ea);1===y.get(ta)&&C.initialNavigation(),y.get(na,null,S.$GK.Optional)?.setUpPreloading(),y.get(St,null,S.$GK.Optional)?.init(),C.resetRootComponentType(m.componentTypes[0]),N.closed||(N.next(),N.complete(),N.unsubscribe())}}const ea=new S.nKC("",{factory:()=>new We.B}),ta=new S.nKC("",{providedIn:"root",factory:()=>1}),na=new S.nKC("");function ra(y){return Ct(0,[{provide:na,useExisting:vu},{provide:go,useExisting:y}])}const Ln=new S.nKC("ROUTER_FORROOT_GUARD"),Bs=[wn.aZ,{provide:ln,useClass:pr},kn,ci,{provide:ks,useFactory:function xr(y){return y.routerState.root},deps:[kn]},Wr,[]];function Qa(){return new S.NEm("Router",kn)}let pe=(()=>{class y{constructor(m){}static forRoot(m,C){return{ngModule:y,providers:[Bs,[],{provide:Hn,multi:!0,useValue:m},{provide:Ln,useFactory:yo,deps:[[kn,new S.Xx1,new S.kdw]]},{provide:Ta,useValue:C||{}},C?.useHash?{provide:wn.hb,useClass:wn.fw}:{provide:wn.hb,useClass:wn.Sm},{provide:St,useFactory:()=>{const y=(0,S.WQX)(wn.Xr),D=(0,S.WQX)(S.SKi),m=(0,S.WQX)(Ta),C=(0,S.WQX)(lr),N=(0,S.WQX)(ln);return m.scrollOffset&&y.setOffset(m.scrollOffset),new Zi(N,C,y,D,m)}},C?.preloadingStrategy?ra(C.preloadingStrategy).\u0275providers:[],{provide:S.NEm,multi:!0,useFactory:Qa},C?.initialNavigation?eo(C):[],C?.bindToComponentInputs?Ct(8,[Er,{provide:hi,useExisting:Er}]).\u0275providers:[],[{provide:ba,useFactory:dt},{provide:S.iLQ,multi:!0,useExisting:ba}]]}}static forChild(m){return{ngModule:y,providers:[{provide:Hn,multi:!0,useValue:m}]}}static{this.\u0275fac=function(C){return new(C||y)(S.KVO(Ln,8))}}static{this.\u0275mod=S.$C({type:y})}static{this.\u0275inj=S.G2t({})}}return y})();function yo(y){return"guarded"}function eo(y){return["disabled"===y.initialNavigation?Ct(3,[{provide:S.hnV,multi:!0,useFactory:()=>{const D=(0,S.WQX)(kn);return()=>{D.setUpLocationChangeListener()}}},{provide:ta,useValue:2}]).\u0275providers:[],"enabledBlocking"===y.initialNavigation?Ct(2,[{provide:ta,useValue:0},{provide:S.hnV,multi:!0,deps:[S.zZn],useFactory:D=>{const m=D.get(wn.hj,Promise.resolve());return()=>m.then(()=>new Promise(C=>{const N=D.get(kn),U=D.get(ea);ft(N,()=>{C(!0)}),D.get(lr).afterPreactivation=()=>(C(!0),U.closed?(0,Q.of)(void 0):U),N.initialNavigation()}))}}]).\u0275providers:[]]}const ba=new S.nKC("")},467:(Wt,ze,K)=>{function S(ce,Te,fe,Q,Z,Je,Be){try{var re=ce[Je](Be),ee=re.value}catch(_e){return void fe(_e)}re.done?Te(ee):Promise.resolve(ee).then(Q,Z)}function ie(ce){return function(){var Te=this,fe=arguments;return new Promise(function(Q,Z){var Je=ce.apply(Te,fe);function Be(ee){S(Je,Q,Z,Be,re,"next",ee)}function re(ee){S(Je,Q,Z,Be,re,"throw",ee)}Be(void 0)})}}K.d(ze,{A:()=>ie})},1635:(Wt,ze,K)=>{function Te(Ie,ye){var me={};for(var Me in Ie)Object.prototype.hasOwnProperty.call(Ie,Me)&&ye.indexOf(Me)<0&&(me[Me]=Ie[Me]);if(null!=Ie&&"function"==typeof Object.getOwnPropertySymbols){var Ke=0;for(Me=Object.getOwnPropertySymbols(Ie);Ke<Me.length;Ke++)ye.indexOf(Me[Ke])<0&&Object.prototype.propertyIsEnumerable.call(Ie,Me[Ke])&&(me[Me[Ke]]=Ie[Me[Ke]])}return me}function _e(Ie,ye,me,Me){return new(me||(me=Promise))(function(Qe,nt){function _t(Tn){try{Ft(Me.next(Tn))}catch(pn){nt(pn)}}function un(Tn){try{Ft(Me.throw(Tn))}catch(pn){nt(pn)}}function Ft(Tn){Tn.done?Qe(Tn.value):function Ke(Qe){return Qe instanceof me?Qe:new me(function(nt){nt(Qe)})}(Tn.value).then(_t,un)}Ft((Me=Me.apply(Ie,ye||[])).next())})}function Pe(Ie){return this instanceof Pe?(this.v=Ie,this):new Pe(Ie)}function Ze(Ie,ye,me){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ke,Me=me.apply(Ie,ye||[]),Qe=[];return Ke=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),_t("next"),_t("throw"),_t("return",function nt(Qt){return function(or){return Promise.resolve(or).then(Qt,pn)}}),Ke[Symbol.asyncIterator]=function(){return this},Ke;function _t(Qt,or){Me[Qt]&&(Ke[Qt]=function(cn){return new Promise(function(xt,nr){Qe.push([Qt,cn,xt,nr])>1||un(Qt,cn)})},or&&(Ke[Qt]=or(Ke[Qt])))}function un(Qt,or){try{!function Ft(Qt){Qt.value instanceof Pe?Promise.resolve(Qt.value.v).then(Tn,pn):vr(Qe[0][2],Qt)}(Me[Qt](or))}catch(cn){vr(Qe[0][3],cn)}}function Tn(Qt){un("next",Qt)}function pn(Qt){un("throw",Qt)}function vr(Qt,or){Qt(or),Qe.shift(),Qe.length&&un(Qe[0][0],Qe[0][1])}}function it(Ie){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var me,ye=Ie[Symbol.asyncIterator];return ye?ye.call(Ie):(Ie=function st(Ie){var ye="function"==typeof Symbol&&Symbol.iterator,me=ye&&Ie[ye],Me=0;if(me)return me.call(Ie);if(Ie&&"number"==typeof Ie.length)return{next:function(){return Ie&&Me>=Ie.length&&(Ie=void 0),{value:Ie&&Ie[Me++],done:!Ie}}};throw new TypeError(ye?"Object is not iterable.":"Symbol.iterator is not defined.")}(Ie),me={},Me("next"),Me("throw"),Me("return"),me[Symbol.asyncIterator]=function(){return this},me);function Me(Qe){me[Qe]=Ie[Qe]&&function(nt){return new Promise(function(_t,un){!function Ke(Qe,nt,_t,un){Promise.resolve(un).then(function(Ft){Qe({value:Ft,done:_t})},nt)}(_t,un,(nt=Ie[Qe](nt)).done,nt.value)})}}}K.d(ze,{AQ:()=>Ze,N3:()=>Pe,Tt:()=>Te,sH:()=>_e,xN:()=>it}),"function"==typeof SuppressedError&&SuppressedError}},Wt=>{Wt(Wt.s=226)}]);