"use strict";(self.webpackChunkcoop_app=self.webpackChunkcoop_app||[]).push([[792],{681:(jt,He,K)=>{K.d(He,{kR:()=>Pr});var S=K(9126),fe=(K(6276),K(8934),K(7037),K(467)),q=K(2979),Z=K(8779),Xe=K(1401),je=K(5398);const re=new Map,ee={activated:!1,tokenObservers:[]},ge={initialized:!1,enabled:!1};function Le(se){return re.get(se)||Object.assign({},ee)}function ut(){return ge}const st="https://content-firebaseappcheck.googleapis.com/v1",bn="exchangeDebugToken",Gt={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class Je{constructor(ae,_e,Ue,rt,Ft){if(this.operation=ae,this.retryPolicy=_e,this.getWaitDuration=Ue,this.lowerBound=rt,this.upperBound=Ft,this.pending=null,this.nextErrorWaitInterval=rt,rt>Ft)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(ae){var _e=this;return(0,fe.A)(function*(){_e.stop();try{_e.pending=new Xe.cY,yield function Qe(se){return new Promise(ae=>{setTimeout(ae,se)})}(_e.getNextRun(ae)),_e.pending.resolve(),yield _e.pending.promise,_e.pending=new Xe.cY,yield _e.operation(),_e.pending.resolve(),yield _e.pending.promise,_e.process(!0).catch(()=>{})}catch(Ue){_e.retryPolicy(Ue)?_e.process(!1).catch(()=>{}):_e.stop()}})()}getNextRun(ae){if(ae)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const _e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),_e}}}const dt=new Xe.FA("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Mt(se){if(!Le(se).activated)throw dt.create("use-before-activation",{appName:se.name})}function ur(se,ae){return Ne.apply(this,arguments)}function Ne(){return(Ne=(0,fe.A)(function*({url:se,body:ae},_e){const Ue={"Content-Type":"application/json"},rt=_e.getImmediate({optional:!0});if(rt){const Mr=yield rt.getHeartbeatsHeader();Mr&&(Ue["X-Firebase-Client"]=Mr)}const Ft={method:"POST",body:JSON.stringify(ae),headers:Ue};let yn,nn;try{yn=yield fetch(se,Ft)}catch(Mr){throw dt.create("fetch-network-error",{originalErrorMessage:Mr?.message})}if(200!==yn.status)throw dt.create("fetch-status-error",{httpStatus:yn.status});try{nn=yield yn.json()}catch(Mr){throw dt.create("fetch-parse-error",{originalErrorMessage:Mr?.message})}const En=nn.ttl.match(/^([\d.]+)(s)$/);if(!En||!En[2]||isNaN(Number(En[1])))throw dt.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${nn.ttl}`});const nr=1e3*Number(En[1]),jr=Date.now();return{token:nn.token,expireTimeMillis:jr+nr,issuedAtTimeMillis:jr}})).apply(this,arguments)}function cn(se,ae){const{projectId:_e,appId:Ue,apiKey:rt}=se.options;return{url:`${st}/projects/${_e}/apps/${Ue}:${bn}?key=${rt}`,body:{debug_token:ae}}}const gr="firebase-app-check-database",er=1,Bn="firebase-app-check-store";let ye=null;function on(){return(on=(0,fe.A)(function*(se,ae){const Ue=(yield function be(){return ye||(ye=new Promise((se,ae)=>{try{const _e=indexedDB.open(gr,er);_e.onsuccess=Ue=>{se(Ue.target.result)},_e.onerror=Ue=>{var rt;ae(dt.create("storage-open",{originalErrorMessage:null===(rt=Ue.target.error)||void 0===rt?void 0:rt.message}))},_e.onupgradeneeded=Ue=>{0===Ue.oldVersion&&Ue.target.result.createObjectStore(Bn,{keyPath:"compositeKey"})}}catch(_e){ae(dt.create("storage-open",{originalErrorMessage:_e?.message}))}}),ye)}()).transaction(Bn,"readwrite"),Ft=Ue.objectStore(Bn).put({compositeKey:se,value:ae});return new Promise((yn,nn)=>{Ft.onsuccess=En=>{yn()},Ue.onerror=En=>{var nr;nn(dt.create("storage-set",{originalErrorMessage:null===(nr=En.target.error)||void 0===nr?void 0:nr.message}))}})})).apply(this,arguments)}const An=new je.Vy("@firebase/app-check");function Kn(se,ae){return(0,Xe.zW)()?function Ke(se,ae){return function _t(se,ae){return on.apply(this,arguments)}(function mn(se){return`${se.options.appId}-${se.name}`}(se),ae)}(se,ae).catch(_e=>{An.warn(`Failed to write token to IndexedDB. Error: ${_e}`)}):Promise.resolve()}function Ut(){return ut().enabled}function wr(){return Er.apply(this,arguments)}function Er(){return(Er=(0,fe.A)(function*(){const se=ut();if(se.enabled&&se.token)return se.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const rn={error:"UNKNOWN_ERROR"};function en(se){return Xe.K3.encodeString(JSON.stringify(se),!1)}function kn(se){return mr.apply(this,arguments)}function mr(){return(mr=(0,fe.A)(function*(se,ae=!1){const _e=se.app;Mt(_e);const Ue=Le(_e);let Ft,rt=Ue.token;if(rt&&!Di(rt)&&(Ue.token=void 0,rt=void 0),!rt){const En=yield Ue.cachedTokenPromise;En&&(Di(En)?rt=En:yield Kn(_e,void 0))}if(!ae&&rt&&Di(rt))return{token:rt.token};let nn,yn=!1;if(Ut()){Ue.exchangeTokenPromise||(Ue.exchangeTokenPromise=ur(cn(_e,yield wr()),se.heartbeatServiceProvider).finally(()=>{Ue.exchangeTokenPromise=void 0}),yn=!0);const En=yield Ue.exchangeTokenPromise;return yield Kn(_e,En),Ue.token=En,{token:En.token}}try{Ue.exchangeTokenPromise||(Ue.exchangeTokenPromise=Ue.provider.getToken().finally(()=>{Ue.exchangeTokenPromise=void 0}),yn=!0),rt=yield Le(_e).exchangeTokenPromise}catch(En){"appCheck/throttled"===En.code?An.warn(En.message):An.error(En),Ft=En}return rt?Ft?nn=Di(rt)?{token:rt.token,internalError:Ft}:mi(Ft):(nn={token:rt.token},Ue.token=rt,yield Kn(_e,rt)):nn=mi(Ft),yn&&function kt(se,ae){const _e=Le(se).tokenObservers;for(const Ue of _e)try{"EXTERNAL"===Ue.type&&null!=ae.error?Ue.error(ae.error):Ue.next(ae)}catch{}}(_e,nn),nn})).apply(this,arguments)}function Dr(se){return Xn.apply(this,arguments)}function Xn(){return(Xn=(0,fe.A)(function*(se){const ae=se.app;Mt(ae);const{provider:_e}=Le(ae);if(Ut()){const Ue=yield wr(),{token:rt}=yield ur(cn(ae,Ue),se.heartbeatServiceProvider);return{token:rt}}{const{token:Ue}=yield _e.getToken();return{token:Ue}}})).apply(this,arguments)}function Lt(se,ae){const _e=Le(se),Ue=_e.tokenObservers.filter(rt=>rt.next!==ae);0===Ue.length&&_e.tokenRefresher&&_e.tokenRefresher.isRunning()&&_e.tokenRefresher.stop(),_e.tokenObservers=Ue}function wn(se){const{app:ae}=se,_e=Le(ae);let Ue=_e.tokenRefresher;Ue||(Ue=function Ei(se){const{app:ae}=se;return new Je((0,fe.A)(function*(){let Ue;if(Ue=Le(ae).token?yield kn(se,!0):yield kn(se),Ue.error)throw Ue.error;if(Ue.internalError)throw Ue.internalError}),()=>!0,()=>{const _e=Le(ae);if(_e.token){let Ue=_e.token.issuedAtTimeMillis+.5*(_e.token.expireTimeMillis-_e.token.issuedAtTimeMillis)+3e5;return Ue=Math.min(Ue,_e.token.expireTimeMillis-3e5),Math.max(0,Ue-Date.now())}return 0},Gt.RETRIAL_MIN_WAIT,Gt.RETRIAL_MAX_WAIT)}(se),_e.tokenRefresher=Ue),!Ue.isRunning()&&_e.isTokenAutoRefreshEnabled&&Ue.start()}function Di(se){return se.expireTimeMillis-Date.now()>0}function mi(se){return{token:en(rn),error:se}}class $n{constructor(ae,_e){this.app=ae,this.heartbeatServiceProvider=_e}_delete(){const{tokenObservers:ae}=Le(this.app);for(const _e of ae)Lt(this.app,_e.next);return Promise.resolve()}}const St="app-check-internal";!function zt(){(0,q.om)(new Z.uA("app-check",se=>function Vr(se,ae){return new $n(se,ae)}(se.getProvider("app").getImmediate(),se.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((se,ae,_e)=>{se.getProvider(St).initialize()})),(0,q.om)(new Z.uA(St,se=>function ei(se){return{getToken:ae=>kn(se,ae),getLimitedUseToken:()=>Dr(se),addTokenListener:ae=>function lr(se,ae,_e,Ue){const{app:rt}=se,Ft=Le(rt);if(Ft.tokenObservers=[...Ft.tokenObservers,{next:_e,error:Ue,type:ae}],Ft.token&&Di(Ft.token)){const nn=Ft.token;Promise.resolve().then(()=>{_e({token:nn.token}),wn(se)}).catch(()=>{})}Ft.cachedTokenPromise.then(()=>wn(se))}(se,"INTERNAL",ae),removeTokenListener:ae=>Lt(se.app,ae)}}(se.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,q.KO)("@firebase/app-check","0.8.0")}();class Pr{constructor(){return(0,S.CA)("app-check")}}typeof window<"u"&&window},8934:(jt,He,K)=>{K.d(He,{MW:()=>Le,Wp:()=>$t,XU:()=>we,gL:()=>fe});var S=K(7037),ie=K(6276),ce=K(9126);class we{constructor(Je){return Je}}class fe{constructor(){return(0,S.Dk)()}}const Xe=new ie.nKC("angularfire2._apps"),je={provide:we,useFactory:function Z(Ze){return Ze&&1===Ze.length?Ze[0]:new we((0,S.Sx)())},deps:[[new ie.Xx1,Xe]]},re={provide:fe,deps:[[new ie.Xx1,Xe]]};function ee(Ze){return(Je,Qe)=>{const Re=Je.runOutsideAngular(()=>Ze(Qe));return new we(Re)}}let ge=(()=>{class Ze{constructor(Qe){(0,S.KO)("angularfire",ce.xv.full,"core"),(0,S.KO)("angularfire",ce.xv.full,"app"),(0,S.KO)("angular",ie.xvI.full,Qe.toString())}}return Ze.\u0275fac=function(Qe){return new(Qe||Ze)(ie.KVO(ie.Agw))},Ze.\u0275mod=ie.$C({type:Ze}),Ze.\u0275inj=ie.G2t({providers:[je,re]}),Ze})();function Le(Ze,...Je){return{ngModule:ge,providers:[{provide:Xe,useFactory:ee(Ze),multi:!0,deps:[ie.SKi,ie.zZn,ce.u0,...Je]}]}}const $t=(0,ce.S3)(S.Wp,!0)},9676:(jt,He,K)=>{K.d(He,{Nj:()=>yu,DF:()=>Bl,xI:()=>up,_q:()=>Zc,x9:()=>Wl,CI:()=>to});var S=K(9126),ie=K(6276),ce=K(8934),we=K(7037),fe=K(681),q=K(467),Z=K(1401),Xe=K(2979),je=K(1635),re=K(5398),ee=K(8779);const Gt=function lt(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Ze=new Z.FA("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Qe=new re.Vy("@firebase/auth");function dt(_,...h){Qe.logLevel<=re.$b.ERROR&&Qe.error(`Auth (${Xe.MF}): ${_}`,...h)}function Ge(_,...h){throw ur(_,...h)}function Mt(_,...h){return ur(_,...h)}function ur(_,...h){if("string"!=typeof _){const p=h[0],T=[...h.slice(1)];return T[0]&&(T[0].appName=_.name),_._errorFactory.create(p,...T)}return Ze.create(_,...h)}function Ne(_,h,...p){if(!_)throw ur(h,...p)}function vt(_){const h="INTERNAL ASSERTION FAILED: "+_;throw dt(h),new Error(h)}function Pn(_,h){_||vt(h)}function cn(){var _;return typeof self<"u"&&(null===(_=self.location)||void 0===_?void 0:_.href)||""}function er(){var _;return typeof self<"u"&&(null===(_=self.location)||void 0===_?void 0:_.protocol)||null}class ye{constructor(h,p){this.shortDelay=h,this.longDelay=p,Pn(p>h,"Short delay should be less than long delay!"),this.isMobile=(0,Z.jZ)()||(0,Z.lV)()}get(){return function Bn(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function gr(){return"http:"===er()||"https:"===er()}()||(0,Z.sr)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function be(_,h){Pn(_.emulator,"Emulator should always be set here");const{url:p}=_.emulator;return h?`${p}${h.startsWith("/")?h.slice(1):h}`:p}class Se{static initialize(h,p,T){this.fetchImpl=h,p&&(this.headersImpl=p),T&&(this.responseImpl=T)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void vt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void vt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void vt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Ke={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},qe=new ye(3e4,6e4);function ot(_,h){return _.tenantId&&!h.tenantId?Object.assign(Object.assign({},h),{tenantId:_.tenantId}):h}function _t(_,h,p,T){return on.apply(this,arguments)}function on(){return(on=(0,q.A)(function*(_,h,p,T,L={}){return Pt(_,L,(0,q.A)(function*(){let W={},ue={};T&&("GET"===h?ue=T:W={body:JSON.stringify(T)});const De=(0,Z.Am)(Object.assign({key:_.config.apiKey},ue)).slice(1),it=yield _._getAdditionalHeaders();return it["Content-Type"]="application/json",_.languageCode&&(it["X-Firebase-Locale"]=_.languageCode),Se.fetch()(tt(_,_.config.apiHost,p,De),Object.assign({method:h,headers:it,referrerPolicy:"no-referrer"},W))}))})).apply(this,arguments)}function Pt(_,h,p){return _n.apply(this,arguments)}function _n(){return(_n=(0,q.A)(function*(_,h,p){_._canInitEmulator=!1;const T=Object.assign(Object.assign({},Ke),h);try{const L=new cr(_),W=yield Promise.race([p(),L.promise]);L.clearNetworkTimeout();const ue=yield W.json();if("needConfirmation"in ue)throw Kn(_,"account-exists-with-different-credential",ue);if(W.ok&&!("errorMessage"in ue))return ue;{const De=W.ok?ue.errorMessage:ue.error.message,[it,Tt]=De.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===it)throw Kn(_,"credential-already-in-use",ue);if("EMAIL_EXISTS"===it)throw Kn(_,"email-already-in-use",ue);if("USER_DISABLED"===it)throw Kn(_,"user-disabled",ue);const Jt=T[it]||it.toLowerCase().replace(/[_\s]+/g,"-");if(Tt)throw function hn(_,h,p){const T=Object.assign(Object.assign({},Gt()),{[h]:p});return new Z.FA("auth","Firebase",T).create(h,{appName:_.name})}(_,Jt,Tt);Ge(_,Jt)}}catch(L){if(L instanceof Z.g)throw L;Ge(_,"network-request-failed",{message:String(L)})}})).apply(this,arguments)}function mn(_,h,p,T){return An.apply(this,arguments)}function An(){return(An=(0,q.A)(function*(_,h,p,T,L={}){const W=yield _t(_,h,p,T,L);return"mfaPendingCredential"in W&&Ge(_,"multi-factor-auth-required",{_serverResponse:W}),W})).apply(this,arguments)}function tt(_,h,p,T){const L=`${h}${p}?${T}`;return _.config.emulator?be(_.config,L):`${_.config.apiScheme}://${L}`}class cr{constructor(h){this.auth=h,this.timer=null,this.promise=new Promise((p,T)=>{this.timer=setTimeout(()=>T(Mt(this.auth,"network-request-failed")),qe.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Kn(_,h,p){const T={appName:_.name};p.email&&(T.email=p.email),p.phoneNumber&&(T.phoneNumber=p.phoneNumber);const L=Mt(_,h,T);return L.customData._tokenResponse=p,L}function Xt(){return(Xt=(0,q.A)(function*(_,h){return _t(_,"POST","/v1/accounts:delete",h)})).apply(this,arguments)}function jn(){return(jn=(0,q.A)(function*(_,h){return _t(_,"POST","/v1/accounts:lookup",h)})).apply(this,arguments)}function rn(_){if(_)try{const h=new Date(Number(_));if(!isNaN(h.getTime()))return h.toUTCString()}catch{}}function mr(){return(mr=(0,q.A)(function*(_,h=!1){const p=(0,Z.Ku)(_),T=yield p.getIdToken(h),L=Xn(T);Ne(L&&L.exp&&L.auth_time&&L.iat,p.auth,"internal-error");const W="object"==typeof L.firebase?L.firebase:void 0,ue=W?.sign_in_provider;return{claims:L,token:T,authTime:rn(Dr(L.auth_time)),issuedAtTime:rn(Dr(L.iat)),expirationTime:rn(Dr(L.exp)),signInProvider:ue||null,signInSecondFactor:W?.sign_in_second_factor||null}})).apply(this,arguments)}function Dr(_){return 1e3*Number(_)}function Xn(_){const[h,p,T]=_.split(".");if(void 0===h||void 0===p||void 0===T)return dt("JWT malformed, contained fewer than 3 sections"),null;try{const L=(0,Z.u)(p);return L?JSON.parse(L):(dt("Failed to decode base64 JWT payload"),null)}catch(L){return dt("Caught error parsing JWT payload as JSON",L?.toString()),null}}function Lt(_,h){return wn.apply(this,arguments)}function wn(){return(wn=(0,q.A)(function*(_,h,p=!1){if(p)return h;try{return yield h}catch(T){throw T instanceof Z.g&&function Ei({code:_}){return"auth/user-disabled"===_||"auth/user-token-expired"===_}(T)&&_.auth.currentUser===_&&(yield _.auth.signOut()),T}})).apply(this,arguments)}class kt{constructor(h){this.user=h,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(h){var p;if(h){const T=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),T}{this.errorBackoff=3e4;const L=(null!==(p=this.user.stsTokenManager.expirationTime)&&void 0!==p?p:0)-Date.now()-3e5;return Math.max(0,L)}}schedule(h=!1){var p=this;if(!this.isRunning)return;const T=this.getInterval(h);this.timerId=setTimeout((0,q.A)(function*(){yield p.iteration()}),T)}iteration(){var h=this;return(0,q.A)(function*(){try{yield h.user.getIdToken(!0)}catch(p){return void("auth/network-request-failed"===p?.code&&h.schedule(!0))}h.schedule()})()}}class Di{constructor(h,p){this.createdAt=h,this.lastLoginAt=p,this._initializeTime()}_initializeTime(){this.lastSignInTime=rn(this.lastLoginAt),this.creationTime=rn(this.createdAt)}_copy(h){this.createdAt=h.createdAt,this.lastLoginAt=h.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function mi(_){return $n.apply(this,arguments)}function $n(){return $n=(0,q.A)(function*(_){var h;const p=_.auth,T=yield _.getIdToken(),L=yield Lt(_,function Er(_,h){return jn.apply(this,arguments)}(p,{idToken:T}));Ne(L?.users.length,p,"internal-error");const W=L.users[0];_._notifyReloadListener(W);const ue=null!==(h=W.providerUserInfo)&&void 0!==h&&h.length?function Cr(_){return _.map(h=>{var{providerId:p}=h,T=(0,je.Tt)(h,["providerId"]);return{providerId:p,uid:T.rawId||"",displayName:T.displayName||null,email:T.email||null,phoneNumber:T.phoneNumber||null,photoURL:T.photoUrl||null}})}(W.providerUserInfo):[],De=function It(_,h){return[..._.filter(T=>!h.some(L=>L.providerId===T.providerId)),...h]}(_.providerData,ue),Jt=!!_.isAnonymous&&!(_.email&&W.passwordHash||De?.length),Ot={uid:W.localId,displayName:W.displayName||null,photoURL:W.photoUrl||null,email:W.email||null,emailVerified:W.emailVerified||!1,phoneNumber:W.phoneNumber||null,tenantId:W.tenantId||null,providerData:De,metadata:new Di(W.createdAt,W.lastLoginAt),isAnonymous:Jt};Object.assign(_,Ot)}),$n.apply(this,arguments)}function ei(){return(ei=(0,q.A)(function*(_){const h=(0,Z.Ku)(_);yield mi(h),yield h.auth._persistUserIfCurrent(h),h.auth._notifyListenersIfCurrent(h)})).apply(this,arguments)}function Sr(){return(Sr=(0,q.A)(function*(_,h){const p=yield Pt(_,{},(0,q.A)(function*(){const T=(0,Z.Am)({grant_type:"refresh_token",refresh_token:h}).slice(1),{tokenApiHost:L,apiKey:W}=_.config,ue=tt(_,L,"/v1/token",`key=${W}`),De=yield _._getAdditionalHeaders();return De["Content-Type"]="application/x-www-form-urlencoded",Se.fetch()(ue,{method:"POST",headers:De,body:T})}));return{accessToken:p.access_token,expiresIn:p.expires_in,refreshToken:p.refresh_token}})).apply(this,arguments)}class Hn{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(h){Ne(h.idToken,"internal-error"),Ne(typeof h.idToken<"u","internal-error"),Ne(typeof h.refreshToken<"u","internal-error");const p="expiresIn"in h&&typeof h.expiresIn<"u"?Number(h.expiresIn):function lr(_){const h=Xn(_);return Ne(h,"internal-error"),Ne(typeof h.exp<"u","internal-error"),Ne(typeof h.iat<"u","internal-error"),Number(h.exp)-Number(h.iat)}(h.idToken);this.updateTokensAndExpiration(h.idToken,h.refreshToken,p)}getToken(h){var p=this;return(0,q.A)(function*(T,L=!1){return Ne(!p.accessToken||p.refreshToken,T,"user-token-expired"),L||!p.accessToken||p.isExpired?p.refreshToken?(yield p.refresh(T,p.refreshToken),p.accessToken):null:p.accessToken}).apply(this,arguments)}clearRefreshToken(){this.refreshToken=null}refresh(h,p){var T=this;return(0,q.A)(function*(){const{accessToken:L,refreshToken:W,expiresIn:ue}=yield function Br(_,h){return Sr.apply(this,arguments)}(h,p);T.updateTokensAndExpiration(L,W,Number(ue))})()}updateTokensAndExpiration(h,p,T){this.refreshToken=p||null,this.accessToken=h||null,this.expirationTime=Date.now()+1e3*T}static fromJSON(h,p){const{refreshToken:T,accessToken:L,expirationTime:W}=p,ue=new Hn;return T&&(Ne("string"==typeof T,"internal-error",{appName:h}),ue.refreshToken=T),L&&(Ne("string"==typeof L,"internal-error",{appName:h}),ue.accessToken=L),W&&(Ne("number"==typeof W,"internal-error",{appName:h}),ue.expirationTime=W),ue}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(h){this.accessToken=h.accessToken,this.refreshToken=h.refreshToken,this.expirationTime=h.expirationTime}_clone(){return Object.assign(new Hn,this.toJSON())}_performRefresh(){return vt("not implemented")}}function fn(_,h){Ne("string"==typeof _||typeof _>"u","internal-error",{appName:h})}class dr{constructor(h){var{uid:p,auth:T,stsTokenManager:L}=h,W=(0,je.Tt)(h,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new kt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=p,this.auth=T,this.stsTokenManager=L,this.accessToken=L.accessToken,this.displayName=W.displayName||null,this.email=W.email||null,this.emailVerified=W.emailVerified||!1,this.phoneNumber=W.phoneNumber||null,this.photoURL=W.photoURL||null,this.isAnonymous=W.isAnonymous||!1,this.tenantId=W.tenantId||null,this.providerData=W.providerData?[...W.providerData]:[],this.metadata=new Di(W.createdAt||void 0,W.lastLoginAt||void 0)}getIdToken(h){var p=this;return(0,q.A)(function*(){const T=yield Lt(p,p.stsTokenManager.getToken(p.auth,h));return Ne(T,p.auth,"internal-error"),p.accessToken!==T&&(p.accessToken=T,yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)),T})()}getIdTokenResult(h){return function kn(_){return mr.apply(this,arguments)}(this,h)}reload(){return function Vr(_){return ei.apply(this,arguments)}(this)}_assign(h){this!==h&&(Ne(this.uid===h.uid,this.auth,"internal-error"),this.displayName=h.displayName,this.photoURL=h.photoURL,this.email=h.email,this.emailVerified=h.emailVerified,this.phoneNumber=h.phoneNumber,this.isAnonymous=h.isAnonymous,this.tenantId=h.tenantId,this.providerData=h.providerData.map(p=>Object.assign({},p)),this.metadata._copy(h.metadata),this.stsTokenManager._assign(h.stsTokenManager))}_clone(h){const p=new dr(Object.assign(Object.assign({},this),{auth:h,stsTokenManager:this.stsTokenManager._clone()}));return p.metadata._copy(this.metadata),p}_onReload(h){Ne(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=h,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(h){this.reloadListener?this.reloadListener(h):this.reloadUserInfo=h}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(h){var p=this;return(0,q.A)(function*(T,L=!1){let W=!1;T.idToken&&T.idToken!==p.stsTokenManager.accessToken&&(p.stsTokenManager.updateFromServerResponse(T),W=!0),L&&(yield mi(p)),yield p.auth._persistUserIfCurrent(p),W&&p.auth._notifyListenersIfCurrent(p)}).apply(this,arguments)}delete(){var h=this;return(0,q.A)(function*(){const p=yield h.getIdToken();return yield Lt(h,function gi(_,h){return Xt.apply(this,arguments)}(h.auth,{idToken:p})),h.stsTokenManager.clearRefreshToken(),h.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(h=>Object.assign({},h)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(h,p){var T,L,W,ue,De,it,Tt,Jt;const Ot=null!==(T=p.displayName)&&void 0!==T?T:void 0,Jn=null!==(L=p.email)&&void 0!==L?L:void 0,Bs=null!==(W=p.phoneNumber)&&void 0!==W?W:void 0,ca=null!==(ue=p.photoURL)&&void 0!==ue?ue:void 0,Qa=null!==(De=p.tenantId)&&void 0!==De?De:void 0,tl=null!==(it=p._redirectEventId)&&void 0!==it?it:void 0,Sd=null!==(Tt=p.createdAt)&&void 0!==Tt?Tt:void 0,ql=null!==(Jt=p.lastLoginAt)&&void 0!==Jt?Jt:void 0,{uid:Md,emailVerified:Ql,isAnonymous:xd,providerData:Nd,stsTokenManager:Xl}=p;Ne(Md&&Xl,h,"internal-error");const Rd=Hn.fromJSON(this.name,Xl);Ne("string"==typeof Md,h,"internal-error"),fn(Ot,h.name),fn(Jn,h.name),Ne("boolean"==typeof Ql,h,"internal-error"),Ne("boolean"==typeof xd,h,"internal-error"),fn(Bs,h.name),fn(ca,h.name),fn(Qa,h.name),fn(tl,h.name),fn(Sd,h.name),fn(ql,h.name);const Od=new dr({uid:Md,auth:h,email:Jn,emailVerified:Ql,displayName:Ot,isAnonymous:xd,photoURL:ca,phoneNumber:Bs,tenantId:Qa,stsTokenManager:Rd,createdAt:Sd,lastLoginAt:ql});return Nd&&Array.isArray(Nd)&&(Od.providerData=Nd.map(Zu=>Object.assign({},Zu))),tl&&(Od._redirectEventId=tl),Od}static _fromIdTokenResponse(h,p){return(0,q.A)(function*(T,L,W=!1){const ue=new Hn;ue.updateFromServerResponse(L);const De=new dr({uid:L.localId,auth:T,stsTokenManager:ue,isAnonymous:W});return yield mi(De),De}).apply(this,arguments)}}const te=new Map;function B(_){Pn(_ instanceof Function,"Expected a class definition");let h=te.get(_);return h?(Pn(h instanceof _,"Instance stored in cache mismatched with class"),h):(h=new _,te.set(_,h),h)}const j=(()=>{class _{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,q.A)(function*(){return!0})()}_set(p,T){var L=this;return(0,q.A)(function*(){L.storage[p]=T})()}_get(p){var T=this;return(0,q.A)(function*(){const L=T.storage[p];return void 0===L?null:L})()}_remove(p){var T=this;return(0,q.A)(function*(){delete T.storage[p]})()}_addListener(p,T){}_removeListener(p,T){}}return _.type="NONE",_})();function G(_,h,p){return`firebase:${_}:${h}:${p}`}class le{constructor(h,p,T){this.persistence=h,this.auth=p,this.userKey=T;const{config:L,name:W}=this.auth;this.fullUserKey=G(this.userKey,L.apiKey,W),this.fullPersistenceKey=G("persistence",L.apiKey,W),this.boundEventHandler=p._onStorageEvent.bind(p),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(h){return this.persistence._set(this.fullUserKey,h.toJSON())}getCurrentUser(){var h=this;return(0,q.A)(function*(){const p=yield h.persistence._get(h.fullUserKey);return p?dr._fromJSON(h.auth,p):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(h){var p=this;return(0,q.A)(function*(){if(p.persistence===h)return;const T=yield p.getCurrentUser();return yield p.removeCurrentUser(),p.persistence=h,T?p.setCurrentUser(T):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(h,p){return(0,q.A)(function*(T,L,W="authUser"){if(!L.length)return new le(B(j),T,W);const ue=(yield Promise.all(L.map(function(){var Ot=(0,q.A)(function*(Jn){if(yield Jn._isAvailable())return Jn});return function(Jn){return Ot.apply(this,arguments)}}()))).filter(Ot=>Ot);let De=ue[0]||B(j);const it=G(W,T.config.apiKey,T.name);let Tt=null;for(const Ot of L)try{const Jn=yield Ot._get(it);if(Jn){const Bs=dr._fromJSON(T,Jn);Ot!==De&&(Tt=Bs),De=Ot;break}}catch{}const Jt=ue.filter(Ot=>Ot._shouldAllowMigration);return De._shouldAllowMigration&&Jt.length?(De=Jt[0],Tt&&(yield De._set(it,Tt.toJSON())),yield Promise.all(L.map(function(){var Ot=(0,q.A)(function*(Jn){if(Jn!==De)try{yield Jn._remove(it)}catch{}});return function(Jn){return Ot.apply(this,arguments)}}())),new le(De,T,W)):new le(De,T,W)}).apply(this,arguments)}}function $e(_){const h=_.toLowerCase();if(h.includes("opera/")||h.includes("opr/")||h.includes("opios/"))return"Opera";if(Sn(h))return"IEMobile";if(h.includes("msie")||h.includes("trident/"))return"IE";if(h.includes("edge/"))return"Edge";if(ct(h))return"Firefox";if(h.includes("silk/"))return"Silk";if(zn(h))return"Blackberry";if(ci(h))return"Webos";if(Ht(h))return"Safari";if((h.includes("chrome/")||Vt(h))&&!h.includes("edge/"))return"Chrome";if(tn(h))return"Android";{const T=_.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===T?.length)return T[1]}return"Other"}function ct(_=(0,Z.ZQ)()){return/firefox\//i.test(_)}function Ht(_=(0,Z.ZQ)()){const h=_.toLowerCase();return h.includes("safari/")&&!h.includes("chrome/")&&!h.includes("crios/")&&!h.includes("android")}function Vt(_=(0,Z.ZQ)()){return/crios\//i.test(_)}function Sn(_=(0,Z.ZQ)()){return/iemobile/i.test(_)}function tn(_=(0,Z.ZQ)()){return/android/i.test(_)}function zn(_=(0,Z.ZQ)()){return/blackberry/i.test(_)}function ci(_=(0,Z.ZQ)()){return/webos/i.test(_)}function Or(_=(0,Z.ZQ)()){return/iphone|ipad|ipod/i.test(_)||/macintosh/i.test(_)&&/mobile/i.test(_)}function ke(_=(0,Z.ZQ)()){return Or(_)||tn(_)||ci(_)||zn(_)||/windows phone/i.test(_)||Sn(_)}function zt(_,h=[]){let p;switch(_){case"Browser":p=$e((0,Z.ZQ)());break;case"Worker":p=`${$e((0,Z.ZQ)())}-${_}`;break;default:p=_}const T=h.length?h.join(","):"FirebaseCore-web";return`${p}/JsCore/${Xe.MF}/${T}`}function Pr(_,h){return tr.apply(this,arguments)}function tr(){return(tr=(0,q.A)(function*(_,h){return _t(_,"GET","/v2/recaptchaConfig",ot(_,h))})).apply(this,arguments)}function os(_){return void 0!==_&&void 0!==_.enterprise}class yi{constructor(h){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===h.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=h.recaptchaKey.split("/")[3],this.emailPasswordEnabled=h.recaptchaEnforcementState.some(p=>"EMAIL_PASSWORD_PROVIDER"===p.provider&&"OFF"!==p.enforcementState)}}function an(_){return new Promise((h,p)=>{const T=document.createElement("script");T.setAttribute("src",_),T.onload=h,T.onerror=L=>{const W=Mt("internal-error");W.customData=L,p(W)},T.type="text/javascript",T.charset="UTF-8",function kr(){var _,h;return null!==(h=null===(_=document.getElementsByTagName("head"))||void 0===_?void 0:_[0])&&void 0!==h?h:document}().appendChild(T)})}function Gi(_){return`__${_}${Math.floor(1e6*Math.random())}`}class Yn{constructor(h){this.type="recaptcha-enterprise",this.auth=se(h)}verify(){var h=this;return(0,q.A)(function*(p="verify",T=!1){function W(){return W=(0,q.A)(function*(De){if(!T){if(null==De.tenantId&&null!=De._agentRecaptchaConfig)return De._agentRecaptchaConfig.siteKey;if(null!=De.tenantId&&void 0!==De._tenantRecaptchaConfigs[De.tenantId])return De._tenantRecaptchaConfigs[De.tenantId].siteKey}return new Promise(function(){var it=(0,q.A)(function*(Tt,Jt){Pr(De,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Ot=>{if(void 0!==Ot.recaptchaKey){const Jn=new yi(Ot);return null==De.tenantId?De._agentRecaptchaConfig=Jn:De._tenantRecaptchaConfigs[De.tenantId]=Jn,Tt(Jn.siteKey)}Jt(new Error("recaptcha Enterprise site key undefined"))}).catch(Ot=>{Jt(Ot)})});return function(Tt,Jt){return it.apply(this,arguments)}}())}),W.apply(this,arguments)}function ue(De,it,Tt){const Jt=window.grecaptcha;os(Jt)?Jt.enterprise.ready(()=>{Jt.enterprise.execute(De,{action:p}).then(Ot=>{it(Ot)}).catch(()=>{it("NO_RECAPTCHA")})}):Tt(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((De,it)=>{(function L(De){return W.apply(this,arguments)})(h.auth).then(Tt=>{if(!T&&os(window.grecaptcha))ue(Tt,De,it);else{if(typeof window>"u")return void it(new Error("RecaptchaVerifier is only supported in browser"));an("https://www.google.com/recaptcha/enterprise.js?render="+Tt).then(()=>{ue(Tt,De,it)}).catch(Jt=>{it(Jt)})}}).catch(Tt=>{it(Tt)})})}).apply(this,arguments)}}function Wi(_,h,p){return Ki.apply(this,arguments)}function Ki(){return(Ki=(0,q.A)(function*(_,h,p,T=!1){const L=new Yn(_);let W;try{W=yield L.verify(p)}catch{W=yield L.verify(p,!0)}const ue=Object.assign({},h);return Object.assign(ue,T?{captchaResp:W}:{captchaResponse:W}),Object.assign(ue,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(ue,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),ue})).apply(this,arguments)}class qo{constructor(h){this.auth=h,this.queue=[]}pushCallback(h,p){const T=W=>new Promise((ue,De)=>{try{ue(h(W))}catch(it){De(it)}});T.onAbort=p,this.queue.push(T);const L=this.queue.length-1;return()=>{this.queue[L]=()=>Promise.resolve()}}runMiddleware(h){var p=this;return(0,q.A)(function*(){if(p.auth.currentUser===h)return;const T=[];try{for(const L of p.queue)yield L(h),L.onAbort&&T.push(L.onAbort)}catch(L){T.reverse();for(const W of T)try{W()}catch{}throw p.auth._errorFactory.create("login-blocked",{originalMessage:L?.message})}})()}}class So{constructor(h,p,T,L){this.app=h,this.heartbeatServiceProvider=p,this.appCheckServiceProvider=T,this.config=L,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ae(this),this.idTokenSubscription=new ae(this),this.beforeStateQueue=new qo(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ze,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=h.name,this.clientVersion=L.sdkClientVersion}_initializeWithPersistence(h,p){var T=this;return p&&(this._popupRedirectResolver=B(p)),this._initializationPromise=this.queue((0,q.A)(function*(){var L,W;if(!T._deleted&&(T.persistenceManager=yield le.create(T,h),!T._deleted)){if(null!==(L=T._popupRedirectResolver)&&void 0!==L&&L._shouldInitProactively)try{yield T._popupRedirectResolver._initialize(T)}catch{}yield T.initializeCurrentUser(p),T.lastNotifiedUid=(null===(W=T.currentUser)||void 0===W?void 0:W.uid)||null,!T._deleted&&(T._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var h=this;return(0,q.A)(function*(){if(h._deleted)return;const p=yield h.assertedPersistence.getCurrentUser();if(h.currentUser||p){if(h.currentUser&&p&&h.currentUser.uid===p.uid)return h._currentUser._assign(p),void(yield h.currentUser.getIdToken());yield h._updateCurrentUser(p,!0)}})()}initializeCurrentUser(h){var p=this;return(0,q.A)(function*(){var T;const L=yield p.assertedPersistence.getCurrentUser();let W=L,ue=!1;if(h&&p.config.authDomain){yield p.getOrInitRedirectPersistenceManager();const De=null===(T=p.redirectUser)||void 0===T?void 0:T._redirectEventId,it=W?._redirectEventId,Tt=yield p.tryRedirectSignIn(h);(!De||De===it)&&Tt?.user&&(W=Tt.user,ue=!0)}if(!W)return p.directlySetCurrentUser(null);if(!W._redirectEventId){if(ue)try{yield p.beforeStateQueue.runMiddleware(W)}catch(De){W=L,p._popupRedirectResolver._overrideRedirectResult(p,()=>Promise.reject(De))}return W?p.reloadAndSetCurrentUserOrClear(W):p.directlySetCurrentUser(null)}return Ne(p._popupRedirectResolver,p,"argument-error"),yield p.getOrInitRedirectPersistenceManager(),p.redirectUser&&p.redirectUser._redirectEventId===W._redirectEventId?p.directlySetCurrentUser(W):p.reloadAndSetCurrentUserOrClear(W)})()}tryRedirectSignIn(h){var p=this;return(0,q.A)(function*(){let T=null;try{T=yield p._popupRedirectResolver._completeRedirectFn(p,h,!0)}catch{yield p._setRedirectUser(null)}return T})()}reloadAndSetCurrentUserOrClear(h){var p=this;return(0,q.A)(function*(){try{yield mi(h)}catch(T){if("auth/network-request-failed"!==T?.code)return p.directlySetCurrentUser(null)}return p.directlySetCurrentUser(h)})()}useDeviceLanguage(){this.languageCode=function ve(){if(typeof navigator>"u")return null;const _=navigator;return _.languages&&_.languages[0]||_.language||null}()}_delete(){var h=this;return(0,q.A)(function*(){h._deleted=!0})()}updateCurrentUser(h){var p=this;return(0,q.A)(function*(){const T=h?(0,Z.Ku)(h):null;return T&&Ne(T.auth.config.apiKey===p.config.apiKey,p,"invalid-user-token"),p._updateCurrentUser(T&&T._clone(p))})()}_updateCurrentUser(h){var p=this;return(0,q.A)(function*(T,L=!1){if(!p._deleted)return T&&Ne(p.tenantId===T.tenantId,p,"tenant-id-mismatch"),L||(yield p.beforeStateQueue.runMiddleware(T)),p.queue((0,q.A)(function*(){yield p.directlySetCurrentUser(T),p.notifyAuthListeners()}))}).apply(this,arguments)}signOut(){var h=this;return(0,q.A)(function*(){return yield h.beforeStateQueue.runMiddleware(null),(h.redirectPersistenceManager||h._popupRedirectResolver)&&(yield h._setRedirectUser(null)),h._updateCurrentUser(null,!0)})()}setPersistence(h){var p=this;return this.queue((0,q.A)(function*(){yield p.assertedPersistence.setPersistence(B(h))}))}initializeRecaptchaConfig(){var h=this;return(0,q.A)(function*(){const p=yield Pr(h,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),T=new yi(p);null==h.tenantId?h._agentRecaptchaConfig=T:h._tenantRecaptchaConfigs[h.tenantId]=T,T.emailPasswordEnabled&&new Yn(h).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(h){this._errorFactory=new Z.FA("auth","Firebase",h())}onAuthStateChanged(h,p,T){return this.registerStateListener(this.authStateSubscription,h,p,T)}beforeAuthStateChanged(h,p){return this.beforeStateQueue.pushCallback(h,p)}onIdTokenChanged(h,p,T){return this.registerStateListener(this.idTokenSubscription,h,p,T)}toJSON(){var h;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(h=this._currentUser)||void 0===h?void 0:h.toJSON()}}_setRedirectUser(h,p){var T=this;return(0,q.A)(function*(){const L=yield T.getOrInitRedirectPersistenceManager(p);return null===h?L.removeCurrentUser():L.setCurrentUser(h)})()}getOrInitRedirectPersistenceManager(h){var p=this;return(0,q.A)(function*(){if(!p.redirectPersistenceManager){const T=h&&B(h)||p._popupRedirectResolver;Ne(T,p,"argument-error"),p.redirectPersistenceManager=yield le.create(p,[B(T._redirectPersistence)],"redirectUser"),p.redirectUser=yield p.redirectPersistenceManager.getCurrentUser()}return p.redirectPersistenceManager})()}_redirectUserForId(h){var p=this;return(0,q.A)(function*(){var T,L;return p._isInitialized&&(yield p.queue((0,q.A)(function*(){}))),(null===(T=p._currentUser)||void 0===T?void 0:T._redirectEventId)===h?p._currentUser:(null===(L=p.redirectUser)||void 0===L?void 0:L._redirectEventId)===h?p.redirectUser:null})()}_persistUserIfCurrent(h){var p=this;return(0,q.A)(function*(){if(h===p.currentUser)return p.queue((0,q.A)(function*(){return p.directlySetCurrentUser(h)}))})()}_notifyListenersIfCurrent(h){h===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var h,p;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const T=null!==(p=null===(h=this.currentUser)||void 0===h?void 0:h.uid)&&void 0!==p?p:null;this.lastNotifiedUid!==T&&(this.lastNotifiedUid=T,this.authStateSubscription.next(this.currentUser))}registerStateListener(h,p,T,L){if(this._deleted)return()=>{};const W="function"==typeof p?p:p.next.bind(p),ue=this._isInitialized?Promise.resolve():this._initializationPromise;return Ne(ue,this,"internal-error"),ue.then(()=>W(this.currentUser)),"function"==typeof p?h.addObserver(p,T,L):h.addObserver(p)}directlySetCurrentUser(h){var p=this;return(0,q.A)(function*(){p.currentUser&&p.currentUser!==h&&p._currentUser._stopProactiveRefresh(),h&&p.isProactiveRefreshEnabled&&h._startProactiveRefresh(),p.currentUser=h,h?yield p.assertedPersistence.setCurrentUser(h):yield p.assertedPersistence.removeCurrentUser()})()}queue(h){return this.operations=this.operations.then(h,h),this.operations}get assertedPersistence(){return Ne(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(h){!h||this.frameworks.includes(h)||(this.frameworks.push(h),this.frameworks.sort(),this.clientVersion=zt(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var h=this;return(0,q.A)(function*(){var p;const T={"X-Client-Version":h.clientVersion};h.app.options.appId&&(T["X-Firebase-gmpid"]=h.app.options.appId);const L=yield null===(p=h.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===p?void 0:p.getHeartbeatsHeader();L&&(T["X-Firebase-Client"]=L);const W=yield h._getAppCheckToken();return W&&(T["X-Firebase-AppCheck"]=W),T})()}_getAppCheckToken(){var h=this;return(0,q.A)(function*(){var p;const T=yield null===(p=h.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===p?void 0:p.getToken();return T?.error&&function Re(_,...h){Qe.logLevel<=re.$b.WARN&&Qe.warn(`Auth (${Xe.MF}): ${_}`,...h)}(`Error while retrieving App Check token: ${T.error}`),T?.token})()}}function se(_){return(0,Z.Ku)(_)}class ae{constructor(h){this.auth=h,this.observer=null,this.addObserver=(0,Z.tD)(p=>this.observer=p)}get next(){return Ne(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Ft(_){const h=_.indexOf(":");return h<0?"":_.substr(0,h+1)}function nn(_){if(!_)return null;const h=Number(_);return isNaN(h)?null:h}class nr{constructor(h,p){this.providerId=h,this.signInMethod=p}toJSON(){return vt("not implemented")}_getIdTokenResponse(h){return vt("not implemented")}_linkToIdToken(h,p){return vt("not implemented")}_getReauthenticationResolver(h){return vt("not implemented")}}function Lr(_,h){return Mo.apply(this,arguments)}function Mo(){return(Mo=(0,q.A)(function*(_,h){return _t(_,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function xo(_,h){return Oa.apply(this,arguments)}function Oa(){return(Oa=(0,q.A)(function*(_,h){return mn(_,"POST","/v1/accounts:signInWithPassword",ot(_,h))})).apply(this,arguments)}function qt(){return(qt=(0,q.A)(function*(_,h){return mn(_,"POST","/v1/accounts:signInWithEmailLink",ot(_,h))})).apply(this,arguments)}function xr(){return(xr=(0,q.A)(function*(_,h){return mn(_,"POST","/v1/accounts:signInWithEmailLink",ot(_,h))})).apply(this,arguments)}class Ti extends nr{constructor(h,p,T,L=null){super("password",T),this._email=h,this._password=p,this._tenantId=L}static _fromEmailAndPassword(h,p){return new Ti(h,p,"password")}static _fromEmailAndCode(h,p,T=null){return new Ti(h,p,"emailLink",T)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(h){const p="string"==typeof h?JSON.parse(h):h;if(p?.email&&p?.password){if("password"===p.signInMethod)return this._fromEmailAndPassword(p.email,p.password);if("emailLink"===p.signInMethod)return this._fromEmailAndCode(p.email,p.password,p.tenantId)}return null}_getIdTokenResponse(h){var p=this;return(0,q.A)(function*(){var T;switch(p.signInMethod){case"password":const L={returnSecureToken:!0,email:p._email,password:p._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(T=h._getRecaptchaConfig())&&void 0!==T&&T.emailPasswordEnabled){const W=yield Wi(h,L,"signInWithPassword");return xo(h,W)}return xo(h,L).catch(function(){var W=(0,q.A)(function*(ue){if("auth/missing-recaptcha-token"===ue.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const De=yield Wi(h,L,"signInWithPassword");return xo(h,De)}return Promise.reject(ue)});return function(ue){return W.apply(this,arguments)}}());case"emailLink":return function ku(_,h){return qt.apply(this,arguments)}(h,{email:p._email,oobCode:p._password});default:Ge(h,"internal-error")}})()}_linkToIdToken(h,p){var T=this;return(0,q.A)(function*(){switch(T.signInMethod){case"password":return Lr(h,{idToken:p,returnSecureToken:!0,email:T._email,password:T._password});case"emailLink":return function hr(_,h){return xr.apply(this,arguments)}(h,{idToken:p,email:T._email,oobCode:T._password});default:Ge(h,"internal-error")}})()}_getReauthenticationResolver(h){return this._getIdTokenResponse(h)}}function qn(_,h){return Mn.apply(this,arguments)}function Mn(){return(Mn=(0,q.A)(function*(_,h){return mn(_,"POST","/v1/accounts:signInWithIdp",ot(_,h))})).apply(this,arguments)}class li{constructor(h){var p,T,L,W,ue,De;const it=(0,Z.I9)((0,Z.hp)(h)),Tt=null!==(p=it.apiKey)&&void 0!==p?p:null,Jt=null!==(T=it.oobCode)&&void 0!==T?T:null,Ot=function br(_){switch(_){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(L=it.mode)&&void 0!==L?L:null);Ne(Tt&&Jt&&Ot,"argument-error"),this.apiKey=Tt,this.operation=Ot,this.code=Jt,this.continueUrl=null!==(W=it.continueUrl)&&void 0!==W?W:null,this.languageCode=null!==(ue=it.languageCode)&&void 0!==ue?ue:null,this.tenantId=null!==(De=it.tenantId)&&void 0!==De?De:null}static parseLink(h){const p=function xs(_){const h=(0,Z.I9)((0,Z.hp)(_)).link,p=h?(0,Z.I9)((0,Z.hp)(h)).deep_link_id:null,T=(0,Z.I9)((0,Z.hp)(_)).deep_link_id;return(T?(0,Z.I9)((0,Z.hp)(T)).link:null)||T||p||h||_}(h);try{return new li(p)}catch{return null}}}let Yo=(()=>{class _{constructor(){this.providerId=_.PROVIDER_ID}static credential(p,T){return Ti._fromEmailAndPassword(p,T)}static credentialWithLink(p,T){const L=li.parseLink(T);return Ne(L,"argument-error"),Ti._fromEmailAndCode(p,L.code,L.tenantId)}}return _.PROVIDER_ID="password",_.EMAIL_PASSWORD_SIGN_IN_METHOD="password",_.EMAIL_LINK_SIGN_IN_METHOD="emailLink",_})();class di{constructor(h){this.providerId=h,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(h){this.defaultLanguageCode=h}setCustomParameters(h){return this.customParameters=h,this}getCustomParameters(){return this.customParameters}}class Zo extends di{constructor(){super(...arguments),this.scopes=[]}addScope(h){return this.scopes.includes(h)||this.scopes.push(h),this}getScopes(){return[...this.scopes]}}class Ci{constructor(h){this.user=h.user,this.providerId=h.providerId,this._tokenResponse=h._tokenResponse,this.operationType=h.operationType}static _fromIdTokenResponse(h,p,T){return(0,q.A)(function*(L,W,ue,De=!1){const it=yield dr._fromIdTokenResponse(L,ue,De),Tt=uo(ue);return new Ci({user:it,providerId:Tt,_tokenResponse:ue,operationType:W})}).apply(this,arguments)}static _forOperation(h,p,T){return(0,q.A)(function*(){yield h._updateTokensIfNecessary(T,!0);const L=uo(T);return new Ci({user:h,providerId:L,_tokenResponse:T,operationType:p})})()}}function uo(_){return _.providerId?_.providerId:"phoneNumber"in _?"phone":null}class ti extends Z.g{constructor(h,p,T,L){var W;super(p.code,p.message),this.operationType=T,this.user=L,Object.setPrototypeOf(this,ti.prototype),this.customData={appName:h.name,tenantId:null!==(W=h.tenantId)&&void 0!==W?W:void 0,_serverResponse:p.customData._serverResponse,operationType:T}}static _fromErrorAndOperation(h,p,T,L){return new ti(h,p,T,L)}}function Si(_,h,p,T){return("reauthenticate"===h?p._getReauthenticationResolver(_):p._getIdTokenResponse(_)).catch(W=>{throw"auth/multi-factor-auth-required"===W.code?ti._fromErrorAndOperation(_,W,h,T):W})}function ni(){return(ni=(0,q.A)(function*(_,h,p=!1){const T=yield Lt(_,h._linkToIdToken(_.auth,yield _.getIdToken()),p);return Ci._forOperation(_,"link",T)})).apply(this,arguments)}function xi(){return(xi=(0,q.A)(function*(_,h,p=!1){const{auth:T}=_,L="reauthenticate";try{const W=yield Lt(_,Si(T,L,h,_),p);Ne(W.idToken,T,"internal-error");const ue=Xn(W.idToken);Ne(ue,T,"internal-error");const{sub:De}=ue;return Ne(_.uid===De,T,"user-mismatch"),Ci._forOperation(_,L,W)}catch(W){throw"auth/user-not-found"===W?.code&&Ge(T,"user-mismatch"),W}})).apply(this,arguments)}function No(_,h){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,q.A)(function*(_,h,p=!1){const T="signIn",L=yield Si(_,T,h),W=yield Ci._fromIdTokenResponse(_,T,L);return p||(yield _._updateCurrentUser(W.user)),W})).apply(this,arguments)}function iu(){return(iu=(0,q.A)(function*(_,h){return No(se(_),h)})).apply(this,arguments)}function Hr(_,h,p){return function bi(_,h){return iu.apply(this,arguments)}((0,Z.Ku)(_),Yo.credential(h,p))}function _i(_){return(0,Z.Ku)(_).signOut()}const pt="__sak";class Me{constructor(h,p){this.storageRetriever=h,this.type=p}_isAvailable(){try{return this.storage?(this.storage.setItem(pt,"1"),this.storage.removeItem(pt),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(h,p){return this.storage.setItem(h,JSON.stringify(p)),Promise.resolve()}_get(h){const p=this.storage.getItem(h);return Promise.resolve(p?JSON.parse(p):null)}_remove(h){return this.storage.removeItem(h),Promise.resolve()}get storage(){return this.storageRetriever()}}const Uu=(()=>{class _ extends Me{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(p,T)=>this.onStorageEvent(p,T),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Pe(){const _=(0,Z.ZQ)();return Ht(_)||Or(_)}()&&function St(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=ke(),this._shouldAllowMigration=!0}forAllChangedKeys(p){for(const T of Object.keys(this.listeners)){const L=this.storage.getItem(T),W=this.localCache[T];L!==W&&p(T,W,L)}}onStorageEvent(p,T=!1){if(!p.key)return void this.forAllChangedKeys((De,it,Tt)=>{this.notifyListeners(De,Tt)});const L=p.key;if(T?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const De=this.storage.getItem(L);if(p.newValue!==De)null!==p.newValue?this.storage.setItem(L,p.newValue):this.storage.removeItem(L);else if(this.localCache[L]===p.newValue&&!T)return}const W=()=>{const De=this.storage.getItem(L);!T&&this.localCache[L]===De||this.notifyListeners(L,De)},ue=this.storage.getItem(L);!function Ee(){return(0,Z.lT)()&&10===document.documentMode}()||ue===p.newValue||p.newValue===p.oldValue?W():setTimeout(W,10)}notifyListeners(p,T){this.localCache[p]=T;const L=this.listeners[p];if(L)for(const W of Array.from(L))W(T&&JSON.parse(T))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((p,T,L)=>{this.onStorageEvent(new StorageEvent("storage",{key:p,oldValue:T,newValue:L}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(p,T){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[p]||(this.listeners[p]=new Set,this.localCache[p]=this.storage.getItem(p)),this.listeners[p].add(T)}_removeListener(p,T){this.listeners[p]&&(this.listeners[p].delete(T),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(p,T){var L=()=>super._set,W=this;return(0,q.A)(function*(){yield L().call(W,p,T),W.localCache[p]=JSON.stringify(T)})()}_get(p){var T=()=>super._get,L=this;return(0,q.A)(function*(){const W=yield T().call(L,p);return L.localCache[p]=JSON.stringify(W),W})()}_remove(p){var T=()=>super._remove,L=this;return(0,q.A)(function*(){yield T().call(L,p),delete L.localCache[p]})()}}return _.type="LOCAL",_})(),yo=(()=>{class _ extends Me{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(p,T){}_removeListener(p,T){}}return _.type="SESSION",_})();let dc=(()=>{class _{constructor(p){this.eventTarget=p,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(p){const T=this.receivers.find(W=>W.isListeningto(p));if(T)return T;const L=new _(p);return this.receivers.push(L),L}isListeningto(p){return this.eventTarget===p}handleEvent(p){var T=this;return(0,q.A)(function*(){const L=p,{eventId:W,eventType:ue,data:De}=L.data,it=T.handlersMap[ue];if(!it?.size)return;L.ports[0].postMessage({status:"ack",eventId:W,eventType:ue});const Tt=Array.from(it).map(function(){var Ot=(0,q.A)(function*(Jn){return Jn(L.origin,De)});return function(Jn){return Ot.apply(this,arguments)}}()),Jt=yield function Ri(_){return Promise.all(_.map(function(){var h=(0,q.A)(function*(p){try{return{fulfilled:!0,value:yield p}}catch(T){return{fulfilled:!1,reason:T}}});return function(p){return h.apply(this,arguments)}}()))}(Tt);L.ports[0].postMessage({status:"done",eventId:W,eventType:ue,response:Jt})})()}_subscribe(p,T){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[p]||(this.handlersMap[p]=new Set),this.handlersMap[p].add(T)}_unsubscribe(p,T){this.handlersMap[p]&&T&&this.handlersMap[p].delete(T),(!T||0===this.handlersMap[p].size)&&delete this.handlersMap[p],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return _.receivers=[],_})();function uu(_="",h=10){let p="";for(let T=0;T<h;T++)p+=Math.floor(10*Math.random());return _+p}class Ed{constructor(h){this.target=h,this.handlers=new Set}removeMessageHandler(h){h.messageChannel&&(h.messageChannel.port1.removeEventListener("message",h.onMessage),h.messageChannel.port1.close()),this.handlers.delete(h)}_send(h,p){var T=this;return(0,q.A)(function*(L,W,ue=50){const De=typeof MessageChannel<"u"?new MessageChannel:null;if(!De)throw new Error("connection_unavailable");let it,Tt;return new Promise((Jt,Ot)=>{const Jn=uu("",20);De.port1.start();const Bs=setTimeout(()=>{Ot(new Error("unsupported_event"))},ue);Tt={messageChannel:De,onMessage(ca){const Qa=ca;if(Qa.data.eventId===Jn)switch(Qa.data.status){case"ack":clearTimeout(Bs),it=setTimeout(()=>{Ot(new Error("timeout"))},3e3);break;case"done":clearTimeout(it),Jt(Qa.data.response);break;default:clearTimeout(Bs),clearTimeout(it),Ot(new Error("invalid_response"))}}},T.handlers.add(Tt),De.port1.addEventListener("message",Tt.onMessage),T.target.postMessage({eventType:L,eventId:Jn,data:W},[De.port2])}).finally(()=>{Tt&&T.removeMessageHandler(Tt)})}).apply(this,arguments)}}function Tr(){return window}function bt(){return typeof Tr().WorkerGlobalScope<"u"&&"function"==typeof Tr().importScripts}function Ii(){return(Ii=(0,q.A)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Wt="firebaseLocalStorageDb",hc="firebaseLocalStorage",Xr="fbase_key";class ht{constructor(h){this.request=h}toPromise(){return new Promise((h,p)=>{this.request.addEventListener("success",()=>{h(this.request.result)}),this.request.addEventListener("error",()=>{p(this.request.error)})})}}function Uo(_,h){return _.transaction([hc],h?"readwrite":"readonly").objectStore(hc)}function Ji(){const _=indexedDB.open(Wt,1);return new Promise((h,p)=>{_.addEventListener("error",()=>{p(_.error)}),_.addEventListener("upgradeneeded",()=>{const T=_.result;try{T.createObjectStore(hc,{keyPath:Xr})}catch(L){p(L)}}),_.addEventListener("success",(0,q.A)(function*(){const T=_.result;T.objectStoreNames.contains(hc)?h(T):(T.close(),yield function Vo(){const _=indexedDB.deleteDatabase(Wt);return new ht(_).toPromise()}(),h(yield Ji()))}))})}function fc(_,h,p){return Ba.apply(this,arguments)}function Ba(){return(Ba=(0,q.A)(function*(_,h,p){const T=Uo(_,!0).put({[Xr]:h,value:p});return new ht(T).toPromise()})).apply(this,arguments)}function ia(){return(ia=(0,q.A)(function*(_,h){const p=Uo(_,!1).get(h),T=yield new ht(p).toPromise();return void 0===T?null:T.value})).apply(this,arguments)}function gc(_,h){const p=Uo(_,!0).delete(h);return new ht(p).toPromise()}const Vu=(()=>{class _{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var p=this;return(0,q.A)(function*(){return p.db||(p.db=yield Ji()),p.db})()}_withRetries(p){var T=this;return(0,q.A)(function*(){let L=0;for(;;)try{const W=yield T._openDb();return yield p(W)}catch(W){if(L++>3)throw W;T.db&&(T.db.close(),T.db=void 0)}})()}initializeServiceWorkerMessaging(){var p=this;return(0,q.A)(function*(){return bt()?p.initializeReceiver():p.initializeSender()})()}initializeReceiver(){var p=this;return(0,q.A)(function*(){p.receiver=dc._getInstance(function Ct(){return bt()?self:null}()),p.receiver._subscribe("keyChanged",function(){var T=(0,q.A)(function*(L,W){return{keyProcessed:(yield p._poll()).includes(W.key)}});return function(L,W){return T.apply(this,arguments)}}()),p.receiver._subscribe("ping",function(){var T=(0,q.A)(function*(L,W){return["keyChanged"]});return function(L,W){return T.apply(this,arguments)}}())})()}initializeSender(){var p=this;return(0,q.A)(function*(){var T,L;if(p.activeServiceWorker=yield function Fo(){return Ii.apply(this,arguments)}(),!p.activeServiceWorker)return;p.sender=new Ed(p.activeServiceWorker);const W=yield p.sender._send("ping",{},800);W&&null!==(T=W[0])&&void 0!==T&&T.fulfilled&&null!==(L=W[0])&&void 0!==L&&L.value.includes("keyChanged")&&(p.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(p){var T=this;return(0,q.A)(function*(){if(T.sender&&T.activeServiceWorker&&function Ar(){var _;return(null===(_=navigator?.serviceWorker)||void 0===_?void 0:_.controller)||null}()===T.activeServiceWorker)try{yield T.sender._send("keyChanged",{key:p},T.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,q.A)(function*(){try{if(!indexedDB)return!1;const p=yield Ji();return yield fc(p,pt,"1"),yield gc(p,pt),!0}catch{}return!1})()}_withPendingWrite(p){var T=this;return(0,q.A)(function*(){T.pendingWrites++;try{yield p()}finally{T.pendingWrites--}})()}_set(p,T){var L=this;return(0,q.A)(function*(){return L._withPendingWrite((0,q.A)(function*(){return yield L._withRetries(W=>fc(W,p,T)),L.localCache[p]=T,L.notifyServiceWorker(p)}))})()}_get(p){var T=this;return(0,q.A)(function*(){const L=yield T._withRetries(W=>function pc(_,h){return ia.apply(this,arguments)}(W,p));return T.localCache[p]=L,L})()}_remove(p){var T=this;return(0,q.A)(function*(){return T._withPendingWrite((0,q.A)(function*(){return yield T._withRetries(L=>gc(L,p)),delete T.localCache[p],T.notifyServiceWorker(p)}))})()}_poll(){var p=this;return(0,q.A)(function*(){const T=yield p._withRetries(ue=>{const De=Uo(ue,!1).getAll();return new ht(De).toPromise()});if(!T)return[];if(0!==p.pendingWrites)return[];const L=[],W=new Set;for(const{fbase_key:ue,value:De}of T)W.add(ue),JSON.stringify(p.localCache[ue])!==JSON.stringify(De)&&(p.notifyListeners(ue,De),L.push(ue));for(const ue of Object.keys(p.localCache))p.localCache[ue]&&!W.has(ue)&&(p.notifyListeners(ue,null),L.push(ue));return L})()}notifyListeners(p,T){this.localCache[p]=T;const L=this.listeners[p];if(L)for(const W of Array.from(L))W(T)}startPolling(){var p=this;this.stopPolling(),this.pollTimer=setInterval((0,q.A)(function*(){return p._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(p,T){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[p]||(this.listeners[p]=new Set,this._get(p)),this.listeners[p].add(T)}_removeListener(p,T){this.listeners[p]&&(this.listeners[p].delete(T),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return _.type="LOCAL",_})();Gi("rcb"),new ye(3e4,6e4);class Gr extends nr{constructor(h){super("custom","custom"),this.params=h}_getIdTokenResponse(h){return qn(h,this._buildIdpRequest())}_linkToIdToken(h,p){return qn(h,this._buildIdpRequest(p))}_getReauthenticationResolver(h){return qn(h,this._buildIdpRequest())}_buildIdpRequest(h){const p={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return h&&(p.idToken=h),p}}function Zs(_){return No(_.auth,new Gr(_),_.bypassAuthState)}function Rn(_){const{auth:h,user:p}=_;return Ne(p,h,"internal-error"),function Ns(_,h){return xi.apply(this,arguments)}(p,new Gr(_),_.bypassAuthState)}function Bu(_){return Rl.apply(this,arguments)}function Rl(){return(Rl=(0,q.A)(function*(_){const{auth:h,user:p}=_;return Ne(p,h,"internal-error"),function Mi(_,h){return ni.apply(this,arguments)}(p,new Gr(_),_.bypassAuthState)})).apply(this,arguments)}class Dd{constructor(h,p,T,L,W=!1){this.auth=h,this.resolver=T,this.user=L,this.bypassAuthState=W,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(p)?p:[p]}execute(){var h=this;return new Promise(function(){var p=(0,q.A)(function*(T,L){h.pendingPromise={resolve:T,reject:L};try{h.eventManager=yield h.resolver._initialize(h.auth),yield h.onExecution(),h.eventManager.registerConsumer(h)}catch(W){h.reject(W)}});return function(T,L){return p.apply(this,arguments)}}())}onAuthEvent(h){var p=this;return(0,q.A)(function*(){const{urlResponse:T,sessionId:L,postBody:W,tenantId:ue,error:De,type:it}=h;if(De)return void p.reject(De);const Tt={auth:p.auth,requestUri:T,sessionId:L,tenantId:ue||void 0,postBody:W||void 0,user:p.user,bypassAuthState:p.bypassAuthState};try{p.resolve(yield p.getIdpTask(it)(Tt))}catch(Jt){p.reject(Jt)}})()}onError(h){this.reject(h)}getIdpTask(h){switch(h){case"signInViaPopup":case"signInViaRedirect":return Zs;case"linkViaPopup":case"linkViaRedirect":return Bu;case"reauthViaPopup":case"reauthViaRedirect":return Rn;default:Ge(this.auth,"internal-error")}}resolve(h){Pn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(h),this.unregisterAndCleanUp()}reject(h){Pn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(h),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}new ye(2e3,1e4);const ju="pendingRedirect",Yr=new Map;class Ol extends Dd{constructor(h,p,T=!1){super(h,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],p,void 0,T),this.eventId=null}execute(){var h=()=>super.execute,p=this;return(0,q.A)(function*(){let T=Yr.get(p.auth._key());if(!T){try{const W=(yield function Da(_,h){return _c.apply(this,arguments)}(p.resolver,p.auth))?yield h().call(p):null;T=()=>Promise.resolve(W)}catch(L){T=()=>Promise.reject(L)}Yr.set(p.auth._key(),T)}return p.bypassAuthState||Yr.set(p.auth._key(),()=>Promise.resolve(null)),T()})()}onAuthEvent(h){var p=()=>super.onAuthEvent,T=this;return(0,q.A)(function*(){if("signInViaRedirect"===h.type)return p().call(T,h);if("unknown"!==h.type){if(h.eventId){const L=yield T.auth._redirectUserForId(h.eventId);if(L)return T.user=L,p().call(T,h);T.resolve(null)}}else T.resolve(null)})()}onExecution(){return(0,q.A)(function*(){})()}cleanUp(){}}function _c(){return(_c=(0,q.A)(function*(_,h){const p=function hu(_){return G(ju,_.config.apiKey,_.name)}(h),T=function $u(_){return B(_._redirectPersistence)}(_);if(!(yield T._isAvailable()))return!1;const L="true"===(yield T._get(p));return yield T._remove(p),L})).apply(this,arguments)}function Wr(_,h){Yr.set(_._key(),h)}function Ll(_,h){return wo.apply(this,arguments)}function wo(){return(wo=(0,q.A)(function*(_,h,p=!1){const T=se(_),L=function es(_,h){return h?B(h):(Ne(_._popupRedirectResolver,_,"argument-error"),_._popupRedirectResolver)}(T,h),ue=yield new Ol(T,L,p).execute();return ue&&!p&&(delete ue.user._redirectEventId,yield T._persistUserIfCurrent(ue.user),yield T._setRedirectUser(null,h)),ue})).apply(this,arguments)}class Ls{constructor(h){this.auth=h,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(h){this.consumers.add(h),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,h)&&(this.sendToConsumer(this.queuedRedirectEvent,h),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(h){this.consumers.delete(h)}onEvent(h){if(this.hasEventBeenHandled(h))return!1;let p=!1;return this.consumers.forEach(T=>{this.isEventForConsumer(h,T)&&(p=!0,this.sendToConsumer(h,T),this.saveEventToCache(h))}),this.hasHandledPotentialRedirect||!function ja(_){switch(_.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return eo(_);default:return!1}}(h)||(this.hasHandledPotentialRedirect=!0,p||(this.queuedRedirectEvent=h,p=!0)),p}sendToConsumer(h,p){var T;if(h.error&&!eo(h)){const L=(null===(T=h.error.code)||void 0===T?void 0:T.split("auth/")[1])||"internal-error";p.onError(Mt(this.auth,L))}else p.onAuthEvent(h)}isEventForConsumer(h,p){const T=null===p.eventId||!!h.eventId&&h.eventId===p.eventId;return p.filter.includes(h.type)&&T}hasEventBeenHandled(h){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(jo(h))}saveEventToCache(h){this.cachedEventUids.add(jo(h)),this.lastProcessedEventTime=Date.now()}}function jo(_){return[_.type,_.eventId,_.sessionId,_.tenantId].filter(h=>h).join("-")}function eo({type:_,error:h}){return"unknown"===_&&"auth/no-auth-event"===h?.code}function $a(){return($a=(0,q.A)(function*(_,h={}){return _t(_,"GET","/v1/projects",h)})).apply(this,arguments)}const Ha=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ho=/^https?/;function za(){return za=(0,q.A)(function*(_){if(_.config.emulator)return;const{authorizedDomains:h}=yield function $o(_){return $a.apply(this,arguments)}(_);for(const p of h)try{if(Td(p))return}catch{}Ge(_,"unauthorized-domain")}),za.apply(this,arguments)}function Td(_){const h=cn(),{protocol:p,hostname:T}=new URL(h);if(_.startsWith("chrome-extension://")){const ue=new URL(_);return""===ue.hostname&&""===T?"chrome-extension:"===p&&_.replace("chrome-extension://","")===h.replace("chrome-extension://",""):"chrome-extension:"===p&&ue.hostname===T}if(!Ho.test(p))return!1;if(Ha.test(_))return T===_;const L=_.replace(/\./g,"\\.");return new RegExp("^(.+\\."+L+"|"+L+")$","i").test(T)}const zu=new ye(3e4,6e4);function Eo(){const _=Tr().___jsl;if(_?.H)for(const h of Object.keys(_.H))if(_.H[h].r=_.H[h].r||[],_.H[h].L=_.H[h].L||[],_.H[h].r=[..._.H[h].L],_.CP)for(let p=0;p<_.CP.length;p++)_.CP[p]=null}let Ga=null;const Gu=new ye(5e3,15e3),Ca="__/auth/iframe",rs="emulator/auth/iframe",Zr={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ul=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Rr(_){const h=_.config;Ne(h.authDomain,_,"auth-domain-config-required");const p=h.emulator?be(h,rs):`https://${_.config.authDomain}/${Ca}`,T={apiKey:h.apiKey,appName:_.name,v:Xe.MF},L=Ul.get(_.config.apiHost);L&&(T.eid=L);const W=_._getFrameworks();return W.length&&(T.fw=W.join(",")),`${p}?${(0,Z.Am)(T).slice(1)}`}function Wu(){return Wu=(0,q.A)(function*(_){const h=yield function Fl(_){return Ga=Ga||function zo(_){return new Promise((h,p)=>{var T,L,W;function ue(){Eo(),gapi.load("gapi.iframes",{callback:()=>{h(gapi.iframes.getContext())},ontimeout:()=>{Eo(),p(Mt(_,"network-request-failed"))},timeout:zu.get()})}if(null!==(L=null===(T=Tr().gapi)||void 0===T?void 0:T.iframes)&&void 0!==L&&L.Iframe)h(gapi.iframes.getContext());else{if(null===(W=Tr().gapi)||void 0===W||!W.load){const De=Gi("iframefcb");return Tr()[De]=()=>{gapi.load?ue():p(Mt(_,"network-request-failed"))},an(`https://apis.google.com/js/api.js?onload=${De}`).catch(it=>p(it))}ue()}}).catch(h=>{throw Ga=null,h})}(_),Ga}(_),p=Tr().gapi;return Ne(p,_,"internal-error"),h.open({where:document.body,url:Rr(_),messageHandlersFilter:p.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Zr,dontclear:!0},T=>new Promise(function(){var L=(0,q.A)(function*(W,ue){yield T.restyle({setHideOnLeave:!1});const De=Mt(_,"network-request-failed"),it=Tr().setTimeout(()=>{ue(De)},Gu.get());function Tt(){Tr().clearTimeout(it),W(T)}T.ping(Tt).then(Tt,()=>{ue(De)})});return function(W,ue){return L.apply(this,arguments)}}()))}),Wu.apply(this,arguments)}const wc={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class z{constructor(h){this.window=h,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Oe="__/auth/handler",mt="emulator/auth/handler",ft=encodeURIComponent("fac");function Rt(_,h,p,T,L,W){return sn.apply(this,arguments)}function sn(){return(sn=(0,q.A)(function*(_,h,p,T,L,W){Ne(_.config.authDomain,_,"auth-domain-config-required"),Ne(_.config.apiKey,_,"invalid-api-key");const ue={apiKey:_.config.apiKey,appName:_.name,authType:p,redirectUrl:T,v:Xe.MF,eventId:L};if(h instanceof di){h.setDefaultLanguage(_.languageCode),ue.providerId=h.providerId||"",(0,Z.Im)(h.getCustomParameters())||(ue.customParameters=JSON.stringify(h.getCustomParameters()));for(const[Jt,Ot]of Object.entries(W||{}))ue[Jt]=Ot}if(h instanceof Zo){const Jt=h.getScopes().filter(Ot=>""!==Ot);Jt.length>0&&(ue.scopes=Jt.join(","))}_.tenantId&&(ue.tid=_.tenantId);const De=ue;for(const Jt of Object.keys(De))void 0===De[Jt]&&delete De[Jt];const it=yield _._getAppCheckToken(),Tt=it?`#${ft}=${encodeURIComponent(it)}`:"";return`${function dn({config:_}){return _.emulator?be(_,mt):`https://${_.authDomain}/${Oe}`}(_)}?${(0,Z.Am)(De).slice(1)}${Tt}`})).apply(this,arguments)}const Fs="webStorageSupport",Ec=class ai{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=yo,this._completeRedirectFn=Ll,this._overrideRedirectResult=Wr}_openPopup(h,p,T,L){var W=this;return(0,q.A)(function*(){var ue;Pn(null===(ue=W.eventManagers[h._key()])||void 0===ue?void 0:ue.manager,"_initialize() not called before _openPopup()");const De=yield Rt(h,p,T,cn(),L);return function ne(_,h,p,T=500,L=600){const W=Math.max((window.screen.availHeight-L)/2,0).toString(),ue=Math.max((window.screen.availWidth-T)/2,0).toString();let De="";const it=Object.assign(Object.assign({},wc),{width:T.toString(),height:L.toString(),top:W,left:ue}),Tt=(0,Z.ZQ)().toLowerCase();p&&(De=Vt(Tt)?"_blank":p),ct(Tt)&&(h=h||"http://localhost",it.scrollbars="yes");const Jt=Object.entries(it).reduce((Jn,[Bs,ca])=>`${Jn}${Bs}=${ca},`,"");if(function Ae(_=(0,Z.ZQ)()){var h;return Or(_)&&!(null===(h=window.navigator)||void 0===h||!h.standalone)}(Tt)&&"_self"!==De)return function he(_,h){const p=document.createElement("a");p.href=_,p.target=h;const T=document.createEvent("MouseEvent");T.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),p.dispatchEvent(T)}(h||"",De),new z(null);const Ot=window.open(h||"",De,Jt);Ne(Ot,_,"popup-blocked");try{Ot.focus()}catch{}return new z(Ot)}(h,De,uu())})()}_openRedirect(h,p,T,L){var W=this;return(0,q.A)(function*(){return yield W._originValidation(h),function Va(_){Tr().location.href=_}(yield Rt(h,p,T,cn(),L)),new Promise(()=>{})})()}_initialize(h){const p=h._key();if(this.eventManagers[p]){const{manager:L,promise:W}=this.eventManagers[p];return L?Promise.resolve(L):(Pn(W,"If manager is not set, promise should be"),W)}const T=this.initAndGetManager(h);return this.eventManagers[p]={promise:T},T.catch(()=>{delete this.eventManagers[p]}),T}initAndGetManager(h){var p=this;return(0,q.A)(function*(){const T=yield function ba(_){return Wu.apply(this,arguments)}(h),L=new Ls(h);return T.register("authEvent",W=>(Ne(W?.authEvent,h,"invalid-auth-event"),{status:L.onEvent(W.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),p.eventManagers[h._key()]={manager:L},p.iframes[h._key()]=T,L})()}_isIframeWebStorageSupported(h,p){this.iframes[h._key()].send(Fs,{type:Fs},L=>{var W;const ue=null===(W=L?.[0])||void 0===W?void 0:W[Fs];void 0!==ue&&p(!!ue),Ge(h,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(h){const p=h._key();return this.originValidationPromises[p]||(this.originValidationPromises[p]=function Xc(_){return za.apply(this,arguments)}(h)),this.originValidationPromises[p]}get _shouldInitProactively(){return ke()||Ht()||Or()}};var Wa="@firebase/auth";class pu{constructor(h){this.auth=h,this.internalListeners=new Map}getUid(){var h;return this.assertAuthConfigured(),(null===(h=this.auth.currentUser)||void 0===h?void 0:h.uid)||null}getToken(h){var p=this;return(0,q.A)(function*(){return p.assertAuthConfigured(),yield p.auth._initializationPromise,p.auth.currentUser?{accessToken:yield p.auth.currentUser.getIdToken(h)}:null})()}addAuthTokenListener(h){if(this.assertAuthConfigured(),this.internalListeners.has(h))return;const p=this.auth.onIdTokenChanged(T=>{h(T?.stsTokenManager.accessToken||null)});this.internalListeners.set(h,p),this.updateProactiveRefresh()}removeAuthTokenListener(h){this.assertAuthConfigured();const p=this.internalListeners.get(h);p&&(this.internalListeners.delete(h),p(),this.updateProactiveRefresh())}assertAuthConfigured(){Ne(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const gu=(0,Z.XA)("authIdTokenMaxAge")||300;let Us=null;const mu=_=>function(){var h=(0,q.A)(function*(p){const T=p&&(yield p.getIdTokenResult()),L=T&&((new Date).getTime()-Date.parse(T.issuedAtTime))/1e3;if(L&&L>gu)return;const W=T?.token;Us!==W&&(Us=W,yield fetch(_,{method:W?"POST":"DELETE",headers:W?{Authorization:`Bearer ${W}`}:{}}))});return function(p){return h.apply(this,arguments)}}();function qu(_=(0,Xe.Sx)()){const h=(0,Xe.j6)(_,"auth");if(h.isInitialized())return h.getImmediate();const p=function _e(_,h){const p=(0,Xe.j6)(_,"auth");if(p.isInitialized()){const L=p.getImmediate(),W=p.getOptions();if((0,Z.bD)(W,h??{}))return L;Ge(L,"already-initialized")}return p.initialize({options:h})}(_,{popupRedirectResolver:Ec,persistence:[Vu,Uu,yo]}),T=(0,Z.XA)("authTokenSyncURL");if(T){const W=mu(T);(function ln(_,h,p){(0,Z.Ku)(_).beforeAuthStateChanged(h,p)})(p,W,()=>W(p.currentUser)),function Fn(_,h,p,T){(0,Z.Ku)(_).onIdTokenChanged(h,p,T)}(p,ue=>W(ue))}const L=(0,Z.Tj)("auth");return L&&function rt(_,h,p){const T=se(_);Ne(T._canInitEmulator,T,"emulator-config-failed"),Ne(/^https?:\/\//.test(h),T,"invalid-emulator-scheme");const L=!!p?.disableWarnings,W=Ft(h),{host:ue,port:De}=function yn(_){const h=Ft(_),p=/(\/\/)?([^?#/]+)/.exec(_.substr(h.length));if(!p)return{host:"",port:null};const T=p[2].split("@").pop()||"",L=/^(\[[^\]]+\])(:|$)/.exec(T);if(L){const W=L[1];return{host:W,port:nn(T.substr(W.length+1))}}{const[W,ue]=T.split(":");return{host:W,port:nn(ue)}}}(h);T.config.emulator={url:`${W}//${ue}${null===De?"":`:${De}`}/`},T.settings.appVerificationDisabledForTesting=!0,T.emulatorConfig=Object.freeze({host:ue,port:De,protocol:W.replace(":",""),options:Object.freeze({disableWarnings:L})}),L||function En(){function _(){const h=document.createElement("p"),p=h.style;h.innerText="Running in emulator mode. Do not use with production credentials.",p.position="fixed",p.width="100%",p.backgroundColor="#ffffff",p.border=".1em solid #000000",p.color="#b50000",p.bottom="0px",p.left="0px",p.margin="0px",p.zIndex="10000",p.textAlign="center",h.classList.add("firebase-emulator-warning"),document.body.appendChild(h)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",_):_())}()}(p,`http://${L}`),p}!function ip(_){(0,Xe.om)(new ee.uA("auth",(h,{options:p})=>{const T=h.getProvider("app").getImmediate(),L=h.getProvider("heartbeat"),W=h.getProvider("app-check-internal"),{apiKey:ue,authDomain:De}=T.options;Ne(ue&&!ue.includes(":"),"invalid-api-key",{appName:T.name});const it={apiKey:ue,authDomain:De,clientPlatform:_,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:zt(_)},Tt=new So(T,L,W,it);return function Ue(_,h){const p=h?.persistence||[],T=(Array.isArray(p)?p:[p]).map(B);h?.errorMap&&_._updateErrorMap(h.errorMap),_._initializeWithPersistence(T,h?.popupRedirectResolver)}(Tt,p),Tt},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((h,p,T)=>{h.getProvider("auth-internal").initialize()})),(0,Xe.om)(new ee.uA("auth-internal",h=>{const p=se(h.getProvider("auth").getImmediate());return new pu(p)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,Xe.KO)(Wa,"0.23.2",function Vl(_){switch(_){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(_)),(0,Xe.KO)(Wa,"0.23.2","esm2017")}("Browser");class yu{constructor(h){return h}}class Bl{constructor(){return(0,S.CA)("auth")}}const hs=new ie.nKC("angularfire2.auth-instances");function jl(_){return(h,p)=>{const T=h.runOutsideAngular(()=>_(p));return new yu(T)}}const Yc={provide:Bl,deps:[[new ie.Xx1,hs]]},$l={provide:yu,useFactory:function bd(_,h){const p=(0,S.lR)("auth",_,h);return p&&new yu(p)},deps:[[new ie.Xx1,hs],ce.XU]};let Cc=(()=>{class _{constructor(){(0,we.KO)("angularfire",S.xv.full,"auth")}}return _.\u0275fac=function(p){return new(p||_)},_.\u0275mod=ie.$C({type:_}),_.\u0275inj=ie.G2t({providers:[$l,Yc]}),_})();function Zc(_,...h){return{ngModule:Cc,providers:[{provide:hs,useFactory:jl(_),multi:!0,deps:[ie.SKi,ie.zZn,S.u0,ce.gL,[new ie.Xx1,fe.kR],...h]}]}}const up=(0,S.S3)(qu,!0),Wl=(0,S.S3)(Hr,!0),to=(0,S.S3)(_i,!0)},4724:(jt,He,K)=>{K.d(He,{_7:()=>Eh,gS:()=>Q_,rJ:()=>X_,GG:()=>Id,aU:()=>ev,hV:()=>Xy,P:()=>tu,_M:()=>aI});var de,S=K(9126),ie=K(6276),ce=K(9676),we=K(8934),fe=K(7037),q=K(681),Z=K(467),Xe=K(2979),je=K(8779),re=K(5398),ee=K(1401),ge=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Le={},ut=ut||{},st=ge||self;function $t(i){var e=typeof i;return"array"==(e="object"!=e?e:i?Array.isArray(i)?"array":e:"null")||"object"==e&&"number"==typeof i.length}function lt(i){var e=typeof i;return"object"==e&&null!=i||"function"==e}var Gt="closure_uid_"+(1e9*Math.random()>>>0),Ze=0;function Je(i,e,n){return i.call.apply(i.bind,arguments)}function Qe(i,e,n){if(!i)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var u=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(u,o),i.apply(e,u)}}return function(){return i.apply(e,arguments)}}function Re(i,e,n){return(Re=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Je:Qe).apply(null,arguments)}function dt(i,e){var n=Array.prototype.slice.call(arguments,1);return function(){var o=n.slice();return o.push.apply(o,arguments),i.apply(this,o)}}function Ge(i,e){function n(){}n.prototype=e.prototype,i.$=e.prototype,i.prototype=new n,i.prototype.constructor=i,i.ac=function(o,u,l){for(var f=Array(arguments.length-2),E=2;E<arguments.length;E++)f[E-2]=arguments[E];return e.prototype[u].apply(o,f)}}function Mt(){this.s=this.s,this.o=this.o}Mt.prototype.s=!1,Mt.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function bn(i){Object.prototype.hasOwnProperty.call(i,Gt)&&i[Gt]||(i[Gt]=++Ze)}(this)},Mt.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const nt=Array.prototype.indexOf?function(i,e){return Array.prototype.indexOf.call(i,e,void 0)}:function(i,e){if("string"==typeof i)return"string"!=typeof e||1!=e.length?-1:i.indexOf(e,0);for(let n=0;n<i.length;n++)if(n in i&&i[n]===e)return n;return-1};function ur(i){const e=i.length;if(0<e){const n=Array(e);for(let o=0;o<e;o++)n[o]=i[o];return n}return[]}function Ne(i,e){for(let n=1;n<arguments.length;n++){const o=arguments[n];if($t(o)){const u=i.length||0,l=o.length||0;i.length=u+l;for(let f=0;f<l;f++)i[u+f]=o[f]}else i.push(o)}}function vt(i,e){this.type=i,this.g=this.target=e,this.defaultPrevented=!1}vt.prototype.h=function(){this.defaultPrevented=!0};var Pn=function(){if(!st.addEventListener||!Object.defineProperty)return!1;var i=!1,e=Object.defineProperty({},"passive",{get:function(){i=!0}});try{st.addEventListener("test",()=>{},e),st.removeEventListener("test",()=>{},e)}catch{}return i}();function cn(i){return/^[\s\xa0]*$/.test(i)}function gr(){var i=st.navigator;return i&&(i=i.userAgent)?i:""}function er(i){return-1!=gr().indexOf(i)}function Bn(i){return Bn[" "](i),i}Bn[" "]=function(){};var on,i,ye=er("Opera"),be=er("Trident")||er("MSIE"),Se=er("Edge"),Ke=Se||be,qe=er("Gecko")&&!(-1!=gr().toLowerCase().indexOf("webkit")&&!er("Edge"))&&!(er("Trident")||er("MSIE"))&&!er("Edge"),ot=-1!=gr().toLowerCase().indexOf("webkit")&&!er("Edge");function _t(){var i=st.document;return i?i.documentMode:void 0}e:{var Pt="",_n=(i=gr(),qe?/rv:([^\);]+)(\)|;)/.exec(i):Se?/Edge\/([\d\.]+)/.exec(i):be?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):ot?/WebKit\/(\S+)/.exec(i):ye?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(_n&&(Pt=_n?_n[1]:""),be){var mn=_t();if(null!=mn&&mn>parseFloat(Pt)){on=String(mn);break e}}on=Pt}var cr=st.document&&be&&(_t()||parseInt(on,10))||void 0;function Kn(i,e){if(vt.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var n=this.type=i.type,o=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=e,e=i.relatedTarget){if(qe){e:{try{Bn(e.nodeName);var u=!0;break e}catch{}u=!1}u||(e=null)}}else"mouseover"==n?e=i.fromElement:"mouseout"==n&&(e=i.toElement);this.relatedTarget=e,o?(this.clientX=void 0!==o.clientX?o.clientX:o.pageX,this.clientY=void 0!==o.clientY?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:gi[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&Kn.$.h.call(this)}}Ge(Kn,vt);var gi={2:"touch",3:"pen",4:"mouse"};Kn.prototype.h=function(){Kn.$.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var Xt="closure_listenable_"+(1e6*Math.random()|0),Ut=0;function wr(i,e,n,o,u){this.listener=i,this.proxy=null,this.src=e,this.type=n,this.capture=!!o,this.la=u,this.key=++Ut,this.fa=this.ia=!1}function Er(i){i.fa=!0,i.listener=null,i.proxy=null,i.src=null,i.la=null}function jn(i,e,n){for(const o in i)e.call(n,i[o],o,i)}function en(i){const e={};for(const n in i)e[n]=i[n];return e}const kn="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function mr(i,e){let n,o;for(let u=1;u<arguments.length;u++){for(n in o=arguments[u],o)i[n]=o[n];for(let l=0;l<kn.length;l++)n=kn[l],Object.prototype.hasOwnProperty.call(o,n)&&(i[n]=o[n])}}function Dr(i){this.src=i,this.g={},this.h=0}function Xn(i,e){var n=e.type;if(n in i.g){var l,o=i.g[n],u=nt(o,e);(l=0<=u)&&Array.prototype.splice.call(o,u,1),l&&(Er(e),0==i.g[n].length&&(delete i.g[n],i.h--))}}function lr(i,e,n,o){for(var u=0;u<i.length;++u){var l=i[u];if(!l.fa&&l.listener==e&&l.capture==!!n&&l.la==o)return u}return-1}Dr.prototype.add=function(i,e,n,o,u){var l=i.toString();(i=this.g[l])||(i=this.g[l]=[],this.h++);var f=lr(i,e,o,u);return-1<f?(e=i[f],n||(e.ia=!1)):((e=new wr(e,this.src,l,!!o,u)).ia=n,i.push(e)),e};var Lt="closure_lm_"+(1e6*Math.random()|0),wn={};function Ei(i,e,n,o,u){if(o&&o.once)return mi(i,e,n,o,u);if(Array.isArray(e)){for(var l=0;l<e.length;l++)Ei(i,e[l],n,o,u);return null}return n=Sr(n),i&&i[Xt]?i.O(e,n,lt(o)?!!o.capture:!!o,u):kt(i,e,n,!1,o,u)}function kt(i,e,n,o,u,l){if(!e)throw Error("Invalid event type");var f=lt(u)?!!u.capture:!!u,E=Cr(i);if(E||(i[Lt]=E=new Dr(i)),(n=E.add(e,n,o,f,l)).proxy)return n;if(o=function Di(){const e=It;return function i(n){return e.call(i.src,i.listener,n)}}(),n.proxy=o,o.src=i,o.listener=n,i.addEventListener)Pn||(u=f),void 0===u&&(u=!1),i.addEventListener(e.toString(),o,u);else if(i.attachEvent)i.attachEvent(ei(e.toString()),o);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(o)}return n}function mi(i,e,n,o,u){if(Array.isArray(e)){for(var l=0;l<e.length;l++)mi(i,e[l],n,o,u);return null}return n=Sr(n),i&&i[Xt]?i.P(e,n,lt(o)?!!o.capture:!!o,u):kt(i,e,n,!0,o,u)}function $n(i,e,n,o,u){if(Array.isArray(e))for(var l=0;l<e.length;l++)$n(i,e[l],n,o,u);else o=lt(o)?!!o.capture:!!o,n=Sr(n),i&&i[Xt]?(i=i.i,(e=String(e).toString())in i.g&&-1<(n=lr(l=i.g[e],n,o,u))&&(Er(l[n]),Array.prototype.splice.call(l,n,1),0==l.length&&(delete i.g[e],i.h--))):i&&(i=Cr(i))&&(e=i.g[e.toString()],i=-1,e&&(i=lr(e,n,o,u)),(n=-1<i?e[i]:null)&&Vr(n))}function Vr(i){if("number"!=typeof i&&i&&!i.fa){var e=i.src;if(e&&e[Xt])Xn(e.i,i);else{var n=i.type,o=i.proxy;e.removeEventListener?e.removeEventListener(n,o,i.capture):e.detachEvent?e.detachEvent(ei(n),o):e.addListener&&e.removeListener&&e.removeListener(o),(n=Cr(e))?(Xn(n,i),0==n.h&&(n.src=null,e[Lt]=null)):Er(i)}}}function ei(i){return i in wn?wn[i]:wn[i]="on"+i}function It(i,e){if(i.fa)i=!0;else{e=new Kn(e,this);var n=i.listener,o=i.la||i.src;i.ia&&Vr(i),i=n.call(o,e)}return i}function Cr(i){return(i=i[Lt])instanceof Dr?i:null}var Br="__closure_events_fn_"+(1e9*Math.random()>>>0);function Sr(i){return"function"==typeof i?i:(i[Br]||(i[Br]=function(e){return i.handleEvent(e)}),i[Br])}function Hn(){Mt.call(this),this.i=new Dr(this),this.S=this,this.J=null}function fn(i,e){var n,o=i.J;if(o)for(n=[];o;o=o.J)n.push(o);if(i=i.S,o=e.type||e,"string"==typeof e)e=new vt(e,i);else if(e instanceof vt)e.target=e.target||i;else{var u=e;mr(e=new vt(o,i),u)}if(u=!0,n)for(var l=n.length-1;0<=l;l--){var f=e.g=n[l];u=dr(f,o,!0,e)&&u}if(u=dr(f=e.g=i,o,!0,e)&&u,u=dr(f,o,!1,e)&&u,n)for(l=0;l<n.length;l++)u=dr(f=e.g=n[l],o,!1,e)&&u}function dr(i,e,n,o){if(!(e=i.i.g[String(e)]))return!0;e=e.concat();for(var u=!0,l=0;l<e.length;++l){var f=e[l];if(f&&!f.fa&&f.capture==n){var E=f.listener,x=f.la||f.src;f.ia&&Xn(i.i,f),u=!1!==E.call(x,o)&&u}}return u&&!o.defaultPrevented}Ge(Hn,Mt),Hn.prototype[Xt]=!0,Hn.prototype.removeEventListener=function(i,e,n,o){$n(this,i,e,n,o)},Hn.prototype.N=function(){if(Hn.$.N.call(this),this.i){var e,i=this.i;for(e in i.g){for(var n=i.g[e],o=0;o<n.length;o++)Er(n[o]);delete i.g[e],i.h--}}this.J=null},Hn.prototype.O=function(i,e,n,o){return this.i.add(String(i),e,!1,n,o)},Hn.prototype.P=function(i,e,n,o){return this.i.add(String(i),e,!0,n,o)};var te=st.JSON.stringify;function H(){var i=Sn;let e=null;return i.g&&(e=i.g,i.g=i.g.next,i.g||(i.h=null),e.next=null),e}var G=new class B{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new le,i=>i.reset());class le{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function $e(i){var e=1;i=i.split(":");const n=[];for(;0<e&&i.length;)n.push(i.shift()),e--;return i.length&&n.push(i.join(":")),n}function ct(i){st.setTimeout(()=>{throw i},0)}let Ht,Vt=!1,Sn=new class j{constructor(){this.h=this.g=null}add(e,n){const o=G.get();o.set(e,n),this.h?this.h.next=o:this.g=o,this.h=o}},tn=()=>{const i=st.Promise.resolve(void 0);Ht=()=>{i.then(zn)}};var zn=()=>{for(var i;i=H();){try{i.h.call(i.g)}catch(n){ct(n)}var e=G;e.j(i),100>e.h&&(e.h++,i.next=e.g,e.g=i)}Vt=!1};function ci(i,e){Hn.call(this),this.h=i||1,this.g=e||st,this.j=Re(this.qb,this),this.l=Date.now()}function Or(i){i.ga=!1,i.T&&(i.g.clearTimeout(i.T),i.T=null)}function gs(i,e,n){if("function"==typeof i)n&&(i=Re(i,n));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=Re(i.handleEvent,i)}return 2147483647<Number(e)?-1:st.setTimeout(i,e||0)}function Ae(i){i.g=gs(()=>{i.g=null,i.i&&(i.i=!1,Ae(i))},i.j);const e=i.h;i.h=null,i.m.apply(null,e)}Ge(ci,Hn),(de=ci.prototype).ga=!1,de.T=null,de.qb=function(){if(this.ga){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-i):(this.T&&(this.g.clearTimeout(this.T),this.T=null),fn(this,"tick"),this.ga&&(Or(this),this.start()))}},de.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},de.N=function(){ci.$.N.call(this),Or(this),delete this.g};class Ee extends Mt{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Ae(this)}N(){super.N(),this.g&&(st.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ke(i){Mt.call(this),this.h=i,this.g={}}Ge(ke,Mt);var St=[];function zt(i,e,n,o){Array.isArray(n)||(n&&(St[0]=n.toString()),n=St);for(var u=0;u<n.length;u++){var l=Ei(e,n[u],o||i.handleEvent,!1,i.h||i);if(!l)break;i.g[l.key]=l}}function Kt(i){jn(i.g,function(e,n){this.g.hasOwnProperty(n)&&Vr(e)},i),i.g={}}function pn(){this.g=!0}function yr(i,e,n,o){i.info(function(){return"XMLHTTP TEXT ("+e+"): "+function yi(i,e){if(!i.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(i=0;i<n.length;i++)if(Array.isArray(n[i])){var o=n[i];if(!(2>o.length)){var u=o[1];if(Array.isArray(u)&&!(1>u.length)){var l=u[0];if("noop"!=l&&"stop"!=l&&"close"!=l)for(var f=1;f<u.length;f++)u[f]=""}}}return te(n)}catch{return e}}(i,n)+(o?" "+o:"")})}ke.prototype.N=function(){ke.$.N.call(this),Kt(this)},ke.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},pn.prototype.Ea=function(){this.g=!1},pn.prototype.info=function(){};var kr={},an=null;function Gi(){return an=an||new Hn}function bs(i){vt.call(this,kr.Ta,i)}function As(i){const e=Gi();fn(e,new bs(e))}function $s(i,e){vt.call(this,kr.STAT_EVENT,i),this.stat=e}function Yn(i){const e=Gi();fn(e,new $s(e,i))}function Wi(i,e){vt.call(this,kr.Ua,i),this.size=e}function Ki(i,e){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return st.setTimeout(function(){i()},e)}kr.Ta="serverreachability",Ge(bs,vt),kr.STAT_EVENT="statevent",Ge($s,vt),kr.Ua="timingevent",Ge(Wi,vt);var qo={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},So={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function se(){}function _e(){}se.prototype.h=null;var yn,Ue={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function rt(){vt.call(this,"d")}function Ft(){vt.call(this,"c")}function nn(){}function En(i,e,n,o){this.l=i,this.j=e,this.m=n,this.W=o||1,this.U=new ke(this),this.P=jr,this.V=new ci(i=Ke?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new nr}function nr(){this.i=null,this.g="",this.h=!1}Ge(rt,vt),Ge(Ft,vt),Ge(nn,se),nn.prototype.g=function(){return new XMLHttpRequest},nn.prototype.i=function(){return{}},yn=new nn;var jr=45e3,Mr={},Lr={};function Mo(i,e,n){i.L=1,i.v=zs(hr(e)),i.s=n,i.S=!0,nu(i,null)}function nu(i,e){i.G=Date.now(),ms(i),i.A=hr(i.v);var n=i.A,o=i.W;Array.isArray(o)||(o=[String(o)]),xs(n.i,"t",o),i.C=0,n=i.l.J,i.h=new nr,i.g=$r(i.l,n?e:null,!i.s),0<i.O&&(i.M=new Ee(Re(i.Pa,i,i.g),i.O)),zt(i.U,i.g,"readystatechange",i.nb),e=i.I?en(i.I):{},i.s?(i.u||(i.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",i.g.ha(i.A,i.u,i.s,e)):(i.u="GET",i.g.ha(i.A,i.u,null,e)),As(),function Pr(i,e,n,o,u,l){i.info(function(){if(i.g)if(l)for(var f="",E=l.split("&"),x=0;x<E.length;x++){var P=E[x].split("=");if(1<P.length){var $=P[0];P=P[1];var J=$.split("_");f=2<=J.length&&"type"==J[1]?f+($+"=")+P+"&":f+($+"=redacted&")}}else f=null;else f=l;return"XMLHTTP REQ ("+o+") [attempt "+u+"]: "+e+"\n"+n+"\n"+f})}(i.j,i.u,i.A,i.m,i.W,i.s)}function da(i){return!!i.g&&"GET"==i.u&&2!=i.L&&i.l.Ha}function xo(i,e,n){let u,o=!0;for(;!i.J&&i.C<n.length;){if(u=Oa(i,n),u==Lr){4==e&&(i.o=4,Yn(14),o=!1),yr(i.j,i.m,null,"[Incomplete Response]");break}if(u==Mr){i.o=4,Yn(15),yr(i.j,i.m,n,"[Invalid Chunk]"),o=!1;break}yr(i.j,i.m,u,null),Xo(i,u)}da(i)&&u!=Lr&&u!=Mr&&(i.h.g="",i.C=0),4!=e||0!=n.length||i.h.h||(i.o=1,Yn(16),o=!1),i.i=i.i&&o,o?0<n.length&&!i.ba&&(i.ba=!0,(e=i.l).g==i&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),fo(e),e.M=!0,Yn(11))):(yr(i.j,i.m,n,"[Invalid Chunked Response]"),Ms(i),Ss(i))}function Oa(i,e){var n=i.C,o=e.indexOf("\n",n);return-1==o?Lr:(n=Number(e.substring(n,o)),isNaN(n)?Mr:(o+=1)+n>e.length?Lr:(e=e.slice(o,o+n),i.C=o+n,e))}function ms(i){i.Y=Date.now()+i.P,Pa(i,i.P)}function Pa(i,e){if(null!=i.B)throw Error("WatchDog timer not null");i.B=Ki(Re(i.lb,i),e)}function Qo(i){i.B&&(st.clearTimeout(i.B),i.B=null)}function Ss(i){0==i.l.H||i.J||ou(i.l,i)}function Ms(i){Qo(i);var e=i.M;e&&"function"==typeof e.sa&&e.sa(),i.M=null,Or(i.V),Kt(i.U),i.g&&(e=i.g,i.g=null,e.abort(),e.sa())}function Xo(i,e){try{var n=i.l;if(0!=n.H&&(n.g==i||Ws(n.i,i)))if(!i.K&&Ws(n.i,i)&&3==n.H){try{var o=n.Ja.g.parse(e)}catch{o=null}if(Array.isArray(o)&&3==o.length){var u=o;if(0==u[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<i.G))break e;qs(n),Lu(n)}ma(n),Yn(18)}}else n.Fa=u[1],0<n.Fa-n.V&&37500>u[2]&&n.G&&0==n.A&&!n.v&&(n.v=Ki(Re(n.ib,n),6e3));if(1>=so(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Bi(n,11)}else if((i.K||n.g==i)&&qs(n),!cn(e))for(u=n.Ja.g.parse(e),e=0;e<u.length;e++){let P=u[e];if(n.V=P[0],P=P[1],2==n.H)if("c"==P[0]){n.K=P[1],n.pa=P[2];const $=P[3];null!=$&&(n.ra=$,n.l.info("VER="+n.ra));const J=P[4];null!=J&&(n.Ga=J,n.l.info("SVER="+n.Ga));const Te=P[5];null!=Te&&"number"==typeof Te&&0<Te&&(n.L=o=1.5*Te,n.l.info("backChannelRequestTimeoutMs_="+o)),o=n;const Fe=i.g;if(Fe){const at=Fe.g?Fe.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(at){var l=o.i;l.g||-1==at.indexOf("spdy")&&-1==at.indexOf("quic")&&-1==at.indexOf("h2")||(l.j=l.l,l.g=new Set,l.h&&(Yi(l,l.h),l.h=null))}if(o.F){const Dt=Fe.g?Fe.g.getResponseHeader("X-HTTP-Session-Id"):null;Dt&&(o.Da=Dt,Mn(o.I,o.F,Dt))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-i.G,n.l.info("Handshake RTT: "+n.S+"ms"));var f=i;if((o=n).wa=Fu(o,o.J?o.pa:null,o.Y),f.K){oo(o.i,f);var E=f,x=o.L;x&&E.setTimeout(x),E.B&&(Qo(E),ms(E)),o.g=f}else ri(o);0<n.j.length&&Oo(n)}else"stop"!=P[0]&&"close"!=P[0]||Bi(n,7);else 3==n.H&&("stop"==P[0]||"close"==P[0]?"stop"==P[0]?Bi(n,7):Ro(n):"noop"!=P[0]&&n.h&&n.h.Aa(P),n.A=0)}As()}catch{}}function fa(i,e){if(i.forEach&&"function"==typeof i.forEach)i.forEach(e,void 0);else if($t(i)||"string"==typeof i)Array.prototype.forEach.call(i,e,void 0);else for(var n=function ha(i){if(i.ta&&"function"==typeof i.ta)return i.ta();if(!i.Z||"function"!=typeof i.Z){if(typeof Map<"u"&&i instanceof Map)return Array.from(i.keys());if(!(typeof Set<"u"&&i instanceof Set)){if($t(i)||"string"==typeof i){var e=[];i=i.length;for(var n=0;n<i;n++)e.push(n);return e}e=[],n=0;for(const o in i)e[n++]=o;return e}}}(i),o=function Hs(i){if(i.Z&&"function"==typeof i.Z)return i.Z();if(typeof Map<"u"&&i instanceof Map||typeof Set<"u"&&i instanceof Set)return Array.from(i.values());if("string"==typeof i)return i.split("");if($t(i)){for(var e=[],n=i.length,o=0;o<n;o++)e.push(i[o]);return e}for(o in e=[],n=0,i)e[n++]=i[o];return e}(i),u=o.length,l=0;l<u;l++)e.call(void 0,o[l],n&&n[l],i)}(de=En.prototype).setTimeout=function(i){this.P=i},de.nb=function(i){i=i.target;const e=this.M;e&&3==bi(i)?e.l():this.Pa(i)},de.Pa=function(i){try{if(i==this.g)e:{const $=bi(this.g);var e=this.g.Ia();if(this.g.da(),!(3>$)&&(3!=$||Ke||this.g&&(this.h.h||this.g.ja()||iu(this.g)))){this.J||4!=$||7==e||As(),Qo(this);var n=this.g.da();this.ca=n;t:if(da(this)){var o=iu(this.g);i="";var u=o.length,l=4==bi(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Ms(this),Ss(this);var f="";break t}this.h.i=new st.TextDecoder}for(e=0;e<u;e++)this.h.h=!0,i+=this.h.i.decode(o[e],{stream:l&&e==u-1});o.splice(0,u),this.h.g+=i,this.C=0,f=this.h.g}else f=this.g.ja();if(this.i=200==n,function tr(i,e,n,o,u,l,f){i.info(function(){return"XMLHTTP RESP ("+o+") [ attempt "+u+"]: "+e+"\n"+n+"\n"+l+" "+f})}(this.j,this.u,this.A,this.m,this.W,$,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var E,x=this.g;if((E=x.g?x.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!cn(E)){var P=E;break t}}P=null}if(!(n=P)){this.i=!1,this.o=3,Yn(12),Ms(this),Ss(this);break e}yr(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Xo(this,n)}this.S?(xo(this,$,f),Ke&&this.i&&3==$&&(zt(this.U,this.V,"tick",this.mb),this.V.start())):(yr(this.j,this.m,f,null),Xo(this,f)),4==$&&Ms(this),this.i&&!this.J&&(4==$?ou(this.l,this):(this.i=!1,ms(this)))}else(function cc(i){const e={};i=(i.g&&2<=bi(i)&&i.g.getAllResponseHeaders()||"").split("\r\n");for(let o=0;o<i.length;o++){if(cn(i[o]))continue;var n=$e(i[o]);const u=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const l=e[u]||[];e[u]=l,l.push(n)}!function rn(i,e){for(const n in i)e.call(void 0,i[n],n,i)}(e,function(o){return o.join(", ")})})(this.g),400==n&&0<f.indexOf("Unknown SID")?(this.o=3,Yn(12)):(this.o=0,Yn(13)),Ms(this),Ss(this)}}}catch{}},de.mb=function(){if(this.g){var i=bi(this.g),e=this.g.ja();this.C<e.length&&(Qo(this),xo(this,i,e),this.i&&4!=i&&ms(this))}},de.cancel=function(){this.J=!0,Ms(this)},de.lb=function(){this.B=null;const i=Date.now();0<=i-this.Y?(function os(i,e){i.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(As(),Yn(17)),Ms(this),this.o=2,Ss(this)):Pa(this,this.Y-i)};var ka=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function qt(i){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,i instanceof qt){this.h=i.h,xr(this,i.j),this.s=i.s,this.g=i.g,Ti(this,i.m),this.l=i.l;var e=i.i,n=new ys;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),qn(this,n),this.o=i.o}else i&&(e=String(i).match(ka))?(this.h=!1,xr(this,e[1]||"",!0),this.s=qi(e[2]||""),this.g=qi(e[3]||"",!0),Ti(this,e[4]),this.l=qi(e[5]||"",!0),qn(this,e[6]||"",!0),this.o=qi(e[7]||"")):(this.h=!1,this.i=new ys(null,this.h))}function hr(i){return new qt(i)}function xr(i,e,n){i.j=n?qi(e,!0):e,i.j&&(i.j=i.j.replace(/:$/,""))}function Ti(i,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);i.m=e}else i.m=null}function qn(i,e,n){e instanceof ys?(i.i=e,function Yt(i,e){e&&!i.j&&(fr(i),i.i=null,i.g.forEach(function(n,o){var u=o.toLowerCase();o!=u&&(Xi(this,o),xs(this,u,n))},i)),i.j=e}(i.i,i.h)):(n||(e=pa(e,Ln)),i.i=new ys(e,i.h))}function Mn(i,e,n){i.i.set(e,n)}function zs(i){return Mn(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function qi(i,e){return i?e?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function pa(i,e,n){return"string"==typeof i?(i=encodeURI(i).replace(e,Gs),n&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function Gs(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}qt.prototype.toString=function(){var i=[],e=this.j;e&&i.push(pa(e,vr,!0),":");var n=this.g;return(n||"file"==e)&&(i.push("//"),(e=this.s)&&i.push(pa(e,vr,!0),"@"),i.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&i.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&i.push("/"),i.push(pa(n,"/"==n.charAt(0)?Qt:yt,!0))),(n=this.i.toString())&&i.push("?",n),(n=this.o)&&i.push("#",pa(n,Qi)),i.join("")};var vr=/[#\/\?@]/g,yt=/[#\?:]/g,Qt=/[#\?]/g,Ln=/[#\?@]/g,Qi=/#/g;function ys(i,e){this.h=this.g=null,this.i=i||null,this.j=!!e}function fr(i){i.g||(i.g=new Map,i.h=0,i.i&&function ku(i,e){if(i){i=i.split("&");for(var n=0;n<i.length;n++){var o=i[n].indexOf("="),u=null;if(0<=o){var l=i[n].substring(0,o);u=i[n].substring(o+1)}else l=i[n];e(l,u?decodeURIComponent(u.replace(/\+/g," ")):"")}}}(i.i,function(e,n){i.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function Xi(i,e){fr(i),e=li(i,e),i.g.has(e)&&(i.i=null,i.h-=i.g.get(e).length,i.g.delete(e))}function br(i,e){return fr(i),e=li(i,e),i.g.has(e)}function xs(i,e,n){Xi(i,e),0<n.length&&(i.i=null,i.g.set(li(i,e),ur(n)),i.h+=n.length)}function li(i,e){return e=String(e),i.j&&(e=e.toLowerCase()),e}function di(i){this.l=i||Zo,i=st.PerformanceNavigationTiming?0<(i=st.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(st.g&&st.g.Ka&&st.g.Ka()&&st.g.Ka().ec),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(de=ys.prototype).add=function(i,e){fr(this),this.i=null,i=li(this,i);var n=this.g.get(i);return n||this.g.set(i,n=[]),n.push(e),this.h+=1,this},de.forEach=function(i,e){fr(this),this.g.forEach(function(n,o){n.forEach(function(u){i.call(e,u,o,this)},this)},this)},de.ta=function(){fr(this);const i=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let o=0;o<e.length;o++){const u=i[o];for(let l=0;l<u.length;l++)n.push(e[o])}return n},de.Z=function(i){fr(this);let e=[];if("string"==typeof i)br(this,i)&&(e=e.concat(this.g.get(li(this,i))));else{i=Array.from(this.g.values());for(let n=0;n<i.length;n++)e=e.concat(i[n])}return e},de.set=function(i,e){return fr(this),this.i=null,br(this,i=li(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[e]),this.h+=1,this},de.get=function(i,e){return i&&0<(i=this.Z(i)).length?String(i[0]):e},de.toString=function(){if(this.i)return this.i;if(!this.g)return"";const i=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var o=e[n];const l=encodeURIComponent(String(o)),f=this.Z(o);for(o=0;o<f.length;o++){var u=l;""!==f[o]&&(u+="="+encodeURIComponent(String(f[o]))),i.push(u)}}return this.i=i.join("&")};var Zo=10;function rr(i){return!!i.h||!!i.g&&i.g.size>=i.j}function so(i){return i.h?1:i.g?i.g.size:0}function Ws(i,e){return i.h?i.h==e:!!i.g&&i.g.has(e)}function Yi(i,e){i.g?i.g.add(e):i.h=e}function oo(i,e){i.h&&i.h==e?i.h=null:i.g&&i.g.has(e)&&i.g.delete(e)}function Fi(i){if(null!=i.h)return i.i.concat(i.h.F);if(null!=i.g&&0!==i.g.size){let e=i.i;for(const n of i.g.values())e=e.concat(n.F);return e}return ur(i.i)}di.prototype.cancel=function(){if(this.i=Fi(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const i of this.g.values())i.cancel();this.g.clear()}};var vs=class{stringify(i){return st.JSON.stringify(i,void 0)}parse(i){return st.JSON.parse(i,void 0)}};function Zi(){this.g=new vs}function Jo(i,e,n){const o=n||"";try{fa(i,function(u,l){let f=u;lt(u)&&(f=te(u)),e.push(o+l+"="+encodeURIComponent(f))})}catch(u){throw e.push(o+"type="+encodeURIComponent("_badmap")),u}}function gn(i,e,n,o,u){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,u(o)}catch{}}function Ci(i){this.l=i.fc||null,this.j=i.ob||!1}function uo(i,e){Hn.call(this),this.F=i,this.u=e,this.m=void 0,this.readyState=ru,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ge(Ci,se),Ci.prototype.g=function(){return new uo(this.l,this.j)},Ci.prototype.i=function(i){return function(){return i}}({}),Ge(uo,Hn);var ru=0;function Ui(i){i.j.read().then(i.Xa.bind(i)).catch(i.ka.bind(i))}function ti(i){i.readyState=4,i.l=null,i.j=null,i.A=null,Si(i)}function Si(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(de=uo.prototype).open=function(i,e){if(this.readyState!=ru)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=e,this.readyState=1,Si(this)},de.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(e.body=i),(this.F||st).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},de.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,ti(this)),this.readyState=ru},de.$a=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,Si(this)),this.g&&(this.readyState=3,Si(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof st.ReadableStream<"u"&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Ui(this)}else i.text().then(this.Za.bind(this),this.ka.bind(this))},de.Xa=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var e=i.value?i.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!i.done}))&&(this.response=this.responseText+=e)}i.done?ti(this):Si(this),3==this.readyState&&Ui(this)}},de.Za=function(i){this.g&&(this.response=this.responseText=i,ti(this))},de.Ya=function(i){this.g&&(this.response=i,ti(this))},de.ka=function(){this.g&&ti(this)},de.setRequestHeader=function(i,e){this.v.append(i,e)},de.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},de.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],e=this.h.entries();for(var n=e.next();!n.done;)i.push((n=n.value)[0]+": "+n[1]),n=e.next();return i.join("\r\n")},Object.defineProperty(uo.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var hi=st.JSON.parse;function vn(i){Hn.call(this),this.headers=new Map,this.u=i||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=co,this.L=this.M=!1}Ge(vn,Hn);var co="",Mi=/^https?$/i,ni=["POST","PUT"];function as(i,e){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=e,i.m=5,Ns(i),No(i)}function Ns(i){i.F||(i.F=!0,fn(i,"complete"),fn(i,"error"))}function xi(i){if(i.h&&typeof ut<"u"&&(!i.C[1]||4!=bi(i)||2!=i.da()))if(i.v&&4==bi(i))gs(i.La,0,i);else if(fn(i,"readystatechange"),4==bi(i)){i.h=!1;try{const f=i.da();e:switch(f){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var o;if(o=0===f){var u=String(i.I).match(ka)[1]||null;!u&&st.self&&st.self.location&&(u=st.self.location.protocol.slice(0,-1)),o=!Mi.test(u?u.toLowerCase():"")}n=o}if(n)fn(i,"complete"),fn(i,"success");else{i.m=6;try{var l=2<bi(i)?i.g.statusText:""}catch{l=""}i.j=l+" ["+i.da()+"]",Ns(i)}}finally{No(i)}}}function No(i,e){if(i.g){Gn(i);const n=i.g,o=i.C[0]?()=>{}:null;i.g=null,i.C=null,e||fn(i,"ready");try{n.onreadystatechange=o}catch{}}}function Gn(i){i.g&&i.L&&(i.g.ontimeout=null),i.A&&(st.clearTimeout(i.A),i.A=null)}function bi(i){return i.g?i.g.readyState:0}function iu(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.K){case co:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch{return null}}function ho(i){let e="";return jn(i,function(n,o){e+=o,e+=":",e+=n,e+="\r\n"}),e}function Ks(i,e,n){e:{for(o in n){var o=!1;break e}o=!0}o||(n=ho(n),"string"==typeof i?null!=n&&encodeURIComponent(String(n)):Mn(i,e,n))}function Vi(i,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[i]||e}function lc(i){this.Ga=0,this.j=[],this.l=new pn,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Vi("failFast",!1,i),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Vi("baseRetryDelayMs",5e3,i),this.hb=Vi("retryDelaySeedMs",1e4,i),this.eb=Vi("forwardChannelMaxRetries",2,i),this.xa=Vi("forwardChannelRequestTimeoutMs",2e4,i),this.va=i&&i.xmlHttpFactory||void 0,this.Ha=i&&i.dc||!1,this.L=void 0,this.J=i&&i.supportsCrossDomainXhr||!1,this.K="",this.i=new di(i&&i.concurrentRequestLimit),this.Ja=new Zi,this.P=i&&i.fastHandshake||!1,this.O=i&&i.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=i&&i.bc||!1,i&&i.Ea&&this.l.Ea(),i&&i.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&i&&i.detectBufferingProxy||!1,this.qa=void 0,i&&i.longPollingTimeout&&0<i.longPollingTimeout&&(this.qa=i.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function Ro(i){if(La(i),3==i.H){var e=i.W++,n=hr(i.I);if(Mn(n,"SID",i.K),Mn(n,"RID",e),Mn(n,"TYPE","terminate"),_s(i,n),(e=new En(i,i.l,e)).L=2,e.v=zs(hr(n)),n=!1,st.navigator&&st.navigator.sendBeacon)try{n=st.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&st.Image&&((new Image).src=e.v,n=!0),n||(e.g=$r(e.l,null),e.g.ha(e.v)),e.G=Date.now(),ms(e)}Po(i)}function Lu(i){i.g&&(fo(i),i.g.cancel(),i.g=null)}function La(i){Lu(i),i.u&&(st.clearTimeout(i.u),i.u=null),qs(i),i.i.cancel(),i.m&&("number"==typeof i.m&&st.clearTimeout(i.m),i.m=null)}function Oo(i){if(!rr(i.i)&&!i.m){i.m=!0;var e=i.Na;Ht||tn(),Vt||(Ht(),Vt=!0),Sn.add(e,i),i.C=0}}function Fa(i,e){var n;n=e?e.m:i.W++;const o=hr(i.I);Mn(o,"SID",i.K),Mn(o,"RID",n),Mn(o,"AID",i.V),_s(i,o),i.o&&i.s&&Ks(o,i.o,i.s),n=new En(i,i.l,n,i.C+1),null===i.o&&(n.I=i.s),e&&(i.j=e.F.concat(i.j)),e=ea(i,n,1e3),n.setTimeout(Math.round(.5*i.xa)+Math.round(.5*i.xa*Math.random())),Yi(i.i,n),Mo(n,o,e)}function _s(i,e){i.na&&jn(i.na,function(n,o){Mn(e,o,n)}),i.h&&fa({},function(n,o){Mn(e,o,n)})}function ea(i,e,n){n=Math.min(i.j.length,n);var o=i.h?Re(i.h.Va,i.h,i):null;e:{var u=i.j;let l=-1;for(;;){const f=["count="+n];-1==l?0<n?(l=u[0].g,f.push("ofs="+l)):l=0:f.push("ofs="+l);let E=!0;for(let x=0;x<n;x++){let P=u[x].g;const $=u[x].map;if(P-=l,0>P)l=Math.max(0,u[x].g-100),E=!1;else try{Jo($,f,"req"+P+"_")}catch{o&&o($)}}if(E){o=f.join("&");break e}}}return i=i.j.splice(0,n),e.F=i,o}function ri(i){if(!i.g&&!i.u){i.ba=1;var e=i.Ma;Ht||tn(),Vt||(Ht(),Vt=!0),Sn.add(e,i),i.A=0}}function ma(i){return!(i.g||i.u||3<=i.A||(i.ba++,i.u=Ki(Re(i.Ma,i),us(i,i.A)),i.A++,0))}function fo(i){null!=i.B&&(st.clearTimeout(i.B),i.B=null)}function su(i){i.g=new En(i,i.l,"rpc",i.ba),null===i.o&&(i.g.I=i.s),i.g.O=0;var e=hr(i.wa);Mn(e,"RID","rpc"),Mn(e,"SID",i.K),Mn(e,"AID",i.V),Mn(e,"CI",i.G?"0":"1"),!i.G&&i.qa&&Mn(e,"TO",i.qa),Mn(e,"TYPE","xmlhttp"),_s(i,e),i.o&&i.s&&Ks(e,i.o,i.s),i.L&&i.g.setTimeout(i.L);var n=i.g;i=i.pa,n.L=1,n.v=zs(hr(e)),n.s=null,n.S=!0,nu(n,i)}function qs(i){null!=i.v&&(st.clearTimeout(i.v),i.v=null)}function ou(i,e){var n=null;if(i.g==e){qs(i),fo(i),i.g=null;var o=2}else{if(!Ws(i.i,e))return;n=e.F,oo(i.i,e),o=1}if(0!=i.H)if(e.i)if(1==o){n=e.s?e.s.length:0,e=Date.now()-e.G;var u=i.C;fn(o=Gi(),new Wi(o,n)),Oo(i)}else ri(i);else if(3==(u=e.o)||0==u&&0<e.ca||!(1==o&&function ga(i,e){return!(so(i.i)>=i.i.j-(i.m?1:0)||(i.m?(i.j=e.F.concat(i.j),0):1==i.H||2==i.H||i.C>=(i.cb?0:i.eb)||(i.m=Ki(Re(i.Na,i,e),us(i,i.C)),i.C++,0)))}(i,e)||2==o&&ma(i)))switch(n&&0<n.length&&(e=i.i,e.i=e.i.concat(n)),u){case 1:Bi(i,5);break;case 4:Bi(i,10);break;case 3:Bi(i,6);break;default:Bi(i,2)}}function us(i,e){let n=i.ab+Math.floor(Math.random()*i.hb);return i.isActive()||(n*=2),n*e}function Bi(i,e){if(i.l.info("Error code "+e),2==e){var n=null;i.h&&(n=null);var o=Re(i.pb,i);n||(n=new qt("//www.google.com/images/cleardot.gif"),st.location&&"http"==st.location.protocol||xr(n,"https"),zs(n)),function ao(i,e){const n=new pn;if(st.Image){const o=new Image;o.onload=dt(gn,n,o,"TestLoadImage: loaded",!0,e),o.onerror=dt(gn,n,o,"TestLoadImage: error",!1,e),o.onabort=dt(gn,n,o,"TestLoadImage: abort",!1,e),o.ontimeout=dt(gn,n,o,"TestLoadImage: timeout",!1,e),st.setTimeout(function(){o.ontimeout&&o.ontimeout()},1e4),o.src=i}else e(!1)}(n.toString(),o)}else Yn(2);i.H=0,i.h&&i.h.za(e),Po(i),La(i)}function Po(i){if(i.H=0,i.ma=[],i.h){const e=Fi(i.i);(0!=e.length||0!=i.j.length)&&(Ne(i.ma,e),Ne(i.ma,i.j),i.i.i.length=0,ur(i.j),i.j.length=0),i.h.ya()}}function Fu(i,e,n){var o=n instanceof qt?hr(n):new qt(n);if(""!=o.g)e&&(o.g=e+"."+o.g),Ti(o,o.m);else{var u=st.location;o=u.protocol,e=e?e+"."+u.hostname:u.hostname,u=+u.port;var l=new qt(null);o&&xr(l,o),e&&(l.g=e),u&&Ti(l,u),n&&(l.l=n),o=l}return e=i.Da,(n=i.F)&&e&&Mn(o,n,e),Mn(o,"VER",i.ra),_s(i,o),o}function $r(i,e,n){if(e&&!i.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new vn(n&&i.Ha&&!i.va?new Ci({ob:!0}):i.va)).Oa(i.J),e}function Hr(){}function vi(){if(be&&!(10<=Number(cr)))throw Error("Environmental error: no available transport.")}function ii(i,e){Hn.call(this),this.g=new lc(e),this.l=i,this.h=e&&e.messageUrlParams||null,i=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(i?i["X-WebChannel-Content-Type"]=e.messageContentType:i={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(i?i["X-WebChannel-Client-Profile"]=e.Ca:i={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=i,(i=e&&e.cc)&&!cn(i)&&(this.g.o=i),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!cn(e)&&(this.g.F=e,null!==(i=this.h)&&e in i&&e in(i=this.h)&&delete i[e]),this.j=new Rs(this)}function ko(i){rt.call(this),i.__headers__&&(this.headers=i.__headers__,this.statusCode=i.__status__,delete i.__headers__,delete i.__status__);var e=i.__sm__;if(e){e:{for(const n in e){i=n;break e}i=void 0}(this.i=i)&&(i=this.i,e=null!==e&&i in e?e[i]:void 0),this.data=e}else this.data=i}function ya(){Ft.call(this),this.status=1}function Rs(i){this.g=i}function Ai(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Qs(i,e,n){n||(n=0);var o=Array(16);if("string"==typeof e)for(var u=0;16>u;++u)o[u]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(u=0;16>u;++u)o[u]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;var l=i.g[3],f=(e=i.g[0])+(l^(n=i.g[1])&((u=i.g[2])^l))+o[0]+3614090360&4294967295;f=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=n+(f<<7&4294967295|f>>>25))+((f=l+(u^e&(n^u))+o[1]+3905402710&4294967295)<<12&4294967295|f>>>20))+((f=u+(n^l&(e^n))+o[2]+606105819&4294967295)<<17&4294967295|f>>>15))+((f=n+(e^u&(l^e))+o[3]+3250441966&4294967295)<<22&4294967295|f>>>10))+((f=e+(l^n&(u^l))+o[4]+4118548399&4294967295)<<7&4294967295|f>>>25))+((f=l+(u^e&(n^u))+o[5]+1200080426&4294967295)<<12&4294967295|f>>>20))+((f=u+(n^l&(e^n))+o[6]+2821735955&4294967295)<<17&4294967295|f>>>15))+((f=n+(e^u&(l^e))+o[7]+4249261313&4294967295)<<22&4294967295|f>>>10))+((f=e+(l^n&(u^l))+o[8]+1770035416&4294967295)<<7&4294967295|f>>>25))+((f=l+(u^e&(n^u))+o[9]+2336552879&4294967295)<<12&4294967295|f>>>20))+((f=u+(n^l&(e^n))+o[10]+4294925233&4294967295)<<17&4294967295|f>>>15))+((f=n+(e^u&(l^e))+o[11]+2304563134&4294967295)<<22&4294967295|f>>>10))+((f=e+(l^n&(u^l))+o[12]+1804603682&4294967295)<<7&4294967295|f>>>25))+((f=l+(u^e&(n^u))+o[13]+4254626195&4294967295)<<12&4294967295|f>>>20))+((f=u+(n^l&(e^n))+o[14]+2792965006&4294967295)<<17&4294967295|f>>>15))+((f=n+(e^u&(l^e))+o[15]+1236535329&4294967295)<<22&4294967295|f>>>10))+((f=e+(u^l&(n^u))+o[1]+4129170786&4294967295)<<5&4294967295|f>>>27))+((f=l+(n^u&(e^n))+o[6]+3225465664&4294967295)<<9&4294967295|f>>>23))+((f=u+(e^n&(l^e))+o[11]+643717713&4294967295)<<14&4294967295|f>>>18))+((f=n+(l^e&(u^l))+o[0]+3921069994&4294967295)<<20&4294967295|f>>>12))+((f=e+(u^l&(n^u))+o[5]+3593408605&4294967295)<<5&4294967295|f>>>27))+((f=l+(n^u&(e^n))+o[10]+38016083&4294967295)<<9&4294967295|f>>>23))+((f=u+(e^n&(l^e))+o[15]+3634488961&4294967295)<<14&4294967295|f>>>18))+((f=n+(l^e&(u^l))+o[4]+3889429448&4294967295)<<20&4294967295|f>>>12))+((f=e+(u^l&(n^u))+o[9]+568446438&4294967295)<<5&4294967295|f>>>27))+((f=l+(n^u&(e^n))+o[14]+3275163606&4294967295)<<9&4294967295|f>>>23))+((f=u+(e^n&(l^e))+o[3]+4107603335&4294967295)<<14&4294967295|f>>>18))+((f=n+(l^e&(u^l))+o[8]+1163531501&4294967295)<<20&4294967295|f>>>12))+((f=e+(u^l&(n^u))+o[13]+2850285829&4294967295)<<5&4294967295|f>>>27))+((f=l+(n^u&(e^n))+o[2]+4243563512&4294967295)<<9&4294967295|f>>>23))+((f=u+(e^n&(l^e))+o[7]+1735328473&4294967295)<<14&4294967295|f>>>18))+((f=n+(l^e&(u^l))+o[12]+2368359562&4294967295)<<20&4294967295|f>>>12))+((f=e+(n^u^l)+o[5]+4294588738&4294967295)<<4&4294967295|f>>>28))+((f=l+(e^n^u)+o[8]+2272392833&4294967295)<<11&4294967295|f>>>21))+((f=u+(l^e^n)+o[11]+1839030562&4294967295)<<16&4294967295|f>>>16))+((f=n+(u^l^e)+o[14]+4259657740&4294967295)<<23&4294967295|f>>>9))+((f=e+(n^u^l)+o[1]+2763975236&4294967295)<<4&4294967295|f>>>28))+((f=l+(e^n^u)+o[4]+1272893353&4294967295)<<11&4294967295|f>>>21))+((f=u+(l^e^n)+o[7]+4139469664&4294967295)<<16&4294967295|f>>>16))+((f=n+(u^l^e)+o[10]+3200236656&4294967295)<<23&4294967295|f>>>9))+((f=e+(n^u^l)+o[13]+681279174&4294967295)<<4&4294967295|f>>>28))+((f=l+(e^n^u)+o[0]+3936430074&4294967295)<<11&4294967295|f>>>21))+((f=u+(l^e^n)+o[3]+3572445317&4294967295)<<16&4294967295|f>>>16))+((f=n+(u^l^e)+o[6]+76029189&4294967295)<<23&4294967295|f>>>9))+((f=e+(n^u^l)+o[9]+3654602809&4294967295)<<4&4294967295|f>>>28))+((f=l+(e^n^u)+o[12]+3873151461&4294967295)<<11&4294967295|f>>>21))+((f=u+(l^e^n)+o[15]+530742520&4294967295)<<16&4294967295|f>>>16))+((f=n+(u^l^e)+o[2]+3299628645&4294967295)<<23&4294967295|f>>>9))+((f=e+(u^(n|~l))+o[0]+4096336452&4294967295)<<6&4294967295|f>>>26))+((f=l+(n^(e|~u))+o[7]+1126891415&4294967295)<<10&4294967295|f>>>22))+((f=u+(e^(l|~n))+o[14]+2878612391&4294967295)<<15&4294967295|f>>>17))+((f=n+(l^(u|~e))+o[5]+4237533241&4294967295)<<21&4294967295|f>>>11))+((f=e+(u^(n|~l))+o[12]+1700485571&4294967295)<<6&4294967295|f>>>26))+((f=l+(n^(e|~u))+o[3]+2399980690&4294967295)<<10&4294967295|f>>>22))+((f=u+(e^(l|~n))+o[10]+4293915773&4294967295)<<15&4294967295|f>>>17))+((f=n+(l^(u|~e))+o[1]+2240044497&4294967295)<<21&4294967295|f>>>11))+((f=e+(u^(n|~l))+o[8]+1873313359&4294967295)<<6&4294967295|f>>>26))+((f=l+(n^(e|~u))+o[15]+4264355552&4294967295)<<10&4294967295|f>>>22))+((f=u+(e^(l|~n))+o[6]+2734768916&4294967295)<<15&4294967295|f>>>17))+((f=n+(l^(u|~e))+o[13]+1309151649&4294967295)<<21&4294967295|f>>>11))+((l=(e=n+((f=e+(u^(n|~l))+o[4]+4149444226&4294967295)<<6&4294967295|f>>>26))+((f=l+(n^(e|~u))+o[11]+3174756917&4294967295)<<10&4294967295|f>>>22))^((u=l+((f=u+(e^(l|~n))+o[2]+718787259&4294967295)<<15&4294967295|f>>>17))|~e))+o[9]+3951481745&4294967295,i.g[0]=i.g[0]+e&4294967295,i.g[1]=i.g[1]+(u+(f<<21&4294967295|f>>>11))&4294967295,i.g[2]=i.g[2]+u&4294967295,i.g[3]=i.g[3]+l&4294967295}function xn(i,e){this.h=e;for(var n=[],o=!0,u=i.length-1;0<=u;u--){var l=0|i[u];o&&l==e||(n[u]=l,o=!1)}this.g=n}(de=vn.prototype).Oa=function(i){this.M=i},de.ha=function(i,e,n,o){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+i);e=e?e.toUpperCase():"GET",this.I=i,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():yn.g(),this.C=function ae(i){return i.h||(i.h=i.i())}(this.u?this.u:yn),this.g.onreadystatechange=Re(this.La,this);try{this.G=!0,this.g.open(e,String(i),!0),this.G=!1}catch(l){return void as(this,l)}if(i=n||"",n=new Map(this.headers),o)if(Object.getPrototypeOf(o)===Object.prototype)for(var u in o)n.set(u,o[u]);else{if("function"!=typeof o.keys||"function"!=typeof o.get)throw Error("Unknown input type for opt_headers: "+String(o));for(const l of o.keys())n.set(l,o.get(l))}o=Array.from(n.keys()).find(l=>"content-type"==l.toLowerCase()),u=st.FormData&&i instanceof st.FormData,!(0<=nt(ni,e))||o||u||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[l,f]of n)this.g.setRequestHeader(l,f);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Gn(this),0<this.B&&((this.L=function lo(i){return be&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Re(this.ua,this)):this.A=gs(this.ua,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(l){as(this,l)}},de.ua=function(){typeof ut<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,fn(this,"timeout"),this.abort(8))},de.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,fn(this,"complete"),fn(this,"abort"),No(this))},de.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),No(this,!0)),vn.$.N.call(this)},de.La=function(){this.s||(this.G||this.v||this.l?xi(this):this.kb())},de.kb=function(){xi(this)},de.isActive=function(){return!!this.g},de.da=function(){try{return 2<bi(this)?this.g.status:-1}catch{return-1}},de.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},de.Wa=function(i){if(this.g){var e=this.g.responseText;return i&&0==e.indexOf(i)&&(e=e.substring(i.length)),hi(e)}},de.Ia=function(){return this.m},de.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(de=lc.prototype).ra=8,de.H=1,de.Na=function(i){if(this.m)if(this.m=null,1==this.H){if(!i){this.W=Math.floor(1e5*Math.random()),i=this.W++;const u=new En(this,this.l,i);let l=this.s;if(this.U&&(l?(l=en(l),mr(l,this.U)):l=this.U),null!==this.o||this.O||(u.I=l,l=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){var o=this.j[n];if(void 0===(o="__data__"in o.map&&"string"==typeof(o=o.map.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=n;break e}if(4096===e||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=ea(this,u,e),Mn(n=hr(this.I),"RID",i),Mn(n,"CVER",22),this.F&&Mn(n,"X-HTTP-Session-Id",this.F),_s(this,n),l&&(this.O?e="headers="+encodeURIComponent(String(ho(l)))+"&"+e:this.o&&Ks(n,this.o,l)),Yi(this.i,u),this.bb&&Mn(n,"TYPE","init"),this.P?(Mn(n,"$req",e),Mn(n,"SID","null"),u.aa=!0,Mo(u,n,null)):Mo(u,n,e),this.H=2}}else 3==this.H&&(i?Fa(this,i):0==this.j.length||rr(this.i)||Fa(this))},de.Ma=function(){if(this.u=null,su(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var i=2*this.S;this.l.info("BP detection timer enabled: "+i),this.B=Ki(Re(this.jb,this),i)}},de.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Yn(10),Lu(this),su(this))},de.ib=function(){null!=this.v&&(this.v=null,Lu(this),ma(this),Yn(19))},de.pb=function(i){i?(this.l.info("Successfully pinged google.com"),Yn(2)):(this.l.info("Failed to ping google.com"),Yn(1))},de.isActive=function(){return!!this.h&&this.h.isActive(this)},(de=Hr.prototype).Ba=function(){},de.Aa=function(){},de.za=function(){},de.ya=function(){},de.isActive=function(){return!0},de.Va=function(){},vi.prototype.g=function(i,e){return new ii(i,e)},Ge(ii,Hn),ii.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var i=this.g,e=this.l,n=this.h||void 0;Yn(0),i.Y=e,i.na=n||{},i.G=i.aa,i.I=Fu(i,null,i.Y),Oo(i)},ii.prototype.close=function(){Ro(this.g)},ii.prototype.u=function(i){var e=this.g;if("string"==typeof i){var n={};n.__data__=i,i=n}else this.v&&((n={}).__data__=te(i),i=n);e.j.push(new class{constructor(i,e){this.g=i,this.map=e}}(e.fb++,i)),3==e.H&&Oo(e)},ii.prototype.N=function(){this.g.h=null,delete this.j,Ro(this.g),delete this.g,ii.$.N.call(this)},Ge(ko,rt),Ge(ya,Ft),Ge(Rs,Hr),Rs.prototype.Ba=function(){fn(this.g,"a")},Rs.prototype.Aa=function(i){fn(this.g,new ko(i))},Rs.prototype.za=function(i){fn(this.g,new ya)},Rs.prototype.ya=function(){fn(this.g,"b")},Ge(Ai,function ta(){this.blockSize=-1}),Ai.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Ai.prototype.j=function(i,e){void 0===e&&(e=i.length);for(var n=e-this.blockSize,o=this.m,u=this.h,l=0;l<e;){if(0==u)for(;l<=n;)Qs(this,i,l),l+=this.blockSize;if("string"==typeof i){for(;l<e;)if(o[u++]=i.charCodeAt(l++),u==this.blockSize){Qs(this,o),u=0;break}}else for(;l<e;)if(o[u++]=i[l++],u==this.blockSize){Qs(this,o),u=0;break}}this.h=u,this.i+=e},Ai.prototype.l=function(){var i=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);i[0]=128;for(var e=1;e<i.length-8;++e)i[e]=0;var n=8*this.i;for(e=i.length-8;e<i.length;++e)i[e]=255&n,n/=256;for(this.j(i),i=Array(16),e=n=0;4>e;++e)for(var o=0;32>o;o+=8)i[n++]=this.g[e]>>>o&255;return i};var Ua={};function Lo(i){return-128<=i&&128>i?function ve(i,e){var n=Ua;return Object.prototype.hasOwnProperty.call(n,i)?n[i]:n[i]=e(i)}(i,function(e){return new xn([0|e],0>e?-1:0)}):new xn([0|i],0>i?-1:0)}function Os(i){if(isNaN(i)||!isFinite(i))return Ni;if(0>i)return Fr(Os(-i));for(var e=[],n=1,o=0;i>=n;o++)e[o]=i/n|0,n*=po;return new xn(e,0)}var po=4294967296,Ni=Lo(0),na=Lo(1),va=Lo(16777216);function go(i){if(0!=i.h)return!1;for(var e=0;e<i.g.length;e++)if(0!=i.g[e])return!1;return!0}function cs(i){return-1==i.h}function Fr(i){for(var e=i.g.length,n=[],o=0;o<e;o++)n[o]=~i.g[o];return new xn(n,~i.h).add(na)}function mo(i,e){return i.add(Fr(e))}function w(i,e){for(;(65535&i[e])!=i[e];)i[e+1]+=i[e]>>>16,i[e]&=65535,e++}function F(i,e){this.g=i,this.h=e}function M(i,e){if(go(e))throw Error("division by zero");if(go(i))return new F(Ni,Ni);if(cs(i))return e=M(Fr(i),e),new F(Fr(e.g),Fr(e.h));if(cs(e))return e=M(i,Fr(e)),new F(Fr(e.g),e.h);if(30<i.g.length){if(cs(i)||cs(e))throw Error("slowDivide_ only works with positive integers.");for(var n=na,o=e;0>=o.X(i);)n=k(n),o=k(o);var u=Y(n,1),l=Y(o,1);for(o=Y(o,2),n=Y(n,2);!go(o);){var f=l.add(o);0>=f.X(i)&&(u=u.add(n),l=f),o=Y(o,1),n=Y(n,1)}return e=mo(i,u.R(e)),new F(u,e)}for(u=Ni;0<=i.X(e);){for(n=Math.max(1,Math.floor(i.ea()/e.ea())),o=48>=(o=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,o-48),f=(l=Os(n)).R(e);cs(f)||0<f.X(i);)f=(l=Os(n-=o)).R(e);go(l)&&(l=na),u=u.add(l),i=mo(i,f)}return new F(u,i)}function k(i){for(var e=i.g.length+1,n=[],o=0;o<e;o++)n[o]=i.D(o)<<1|i.D(o-1)>>>31;return new xn(n,i.h)}function Y(i,e){var n=e>>5;e%=32;for(var o=i.g.length-n,u=[],l=0;l<o;l++)u[l]=0<e?i.D(l+n)>>>e|i.D(l+n+1)<<32-e:i.D(l+n);return new xn(u,i.h)}(de=xn.prototype).ea=function(){if(cs(this))return-Fr(this).ea();for(var i=0,e=1,n=0;n<this.g.length;n++){var o=this.D(n);i+=(0<=o?o:po+o)*e,e*=po}return i},de.toString=function(i){if(2>(i=i||10)||36<i)throw Error("radix out of range: "+i);if(go(this))return"0";if(cs(this))return"-"+Fr(this).toString(i);for(var e=Os(Math.pow(i,6)),n=this,o="";;){var u=M(n,e).g,l=((0<(n=mo(n,u.R(e))).g.length?n.g[0]:n.h)>>>0).toString(i);if(go(n=u))return l+o;for(;6>l.length;)l="0"+l;o=l+o}},de.D=function(i){return 0>i?0:i<this.g.length?this.g[i]:this.h},de.X=function(i){return cs(i=mo(this,i))?-1:go(i)?0:1},de.abs=function(){return cs(this)?Fr(this):this},de.add=function(i){for(var e=Math.max(this.g.length,i.g.length),n=[],o=0,u=0;u<=e;u++){var l=o+(65535&this.D(u))+(65535&i.D(u)),f=(l>>>16)+(this.D(u)>>>16)+(i.D(u)>>>16);o=f>>>16,n[u]=(f&=65535)<<16|(l&=65535)}return new xn(n,-2147483648&n[n.length-1]?-1:0)},de.R=function(i){if(go(this)||go(i))return Ni;if(cs(this))return cs(i)?Fr(this).R(Fr(i)):Fr(Fr(this).R(i));if(cs(i))return Fr(this.R(Fr(i)));if(0>this.X(va)&&0>i.X(va))return Os(this.ea()*i.ea());for(var e=this.g.length+i.g.length,n=[],o=0;o<2*e;o++)n[o]=0;for(o=0;o<this.g.length;o++)for(var u=0;u<i.g.length;u++){var l=this.D(o)>>>16,f=65535&this.D(o),E=i.D(u)>>>16,x=65535&i.D(u);n[2*o+2*u]+=f*x,w(n,2*o+2*u),n[2*o+2*u+1]+=l*x,w(n,2*o+2*u+1),n[2*o+2*u+1]+=f*E,w(n,2*o+2*u+1),n[2*o+2*u+2]+=l*E,w(n,2*o+2*u+2)}for(o=0;o<e;o++)n[o]=n[2*o+1]<<16|n[2*o];for(o=e;o<2*e;o++)n[o]=0;return new xn(n,0)},de.gb=function(i){return M(this,i).h},de.and=function(i){for(var e=Math.max(this.g.length,i.g.length),n=[],o=0;o<e;o++)n[o]=this.D(o)&i.D(o);return new xn(n,this.h&i.h)},de.or=function(i){for(var e=Math.max(this.g.length,i.g.length),n=[],o=0;o<e;o++)n[o]=this.D(o)|i.D(o);return new xn(n,this.h|i.h)},de.xor=function(i){for(var e=Math.max(this.g.length,i.g.length),n=[],o=0;o<e;o++)n[o]=this.D(o)^i.D(o);return new xn(n,this.h^i.h)},vi.prototype.createWebChannel=vi.prototype.g,ii.prototype.send=ii.prototype.u,ii.prototype.open=ii.prototype.m,ii.prototype.close=ii.prototype.close,qo.NO_ERROR=0,qo.TIMEOUT=8,qo.HTTP_ERROR=6,So.COMPLETE="complete",_e.EventType=Ue,Ue.OPEN="a",Ue.CLOSE="b",Ue.ERROR="c",Ue.MESSAGE="d",Hn.prototype.listen=Hn.prototype.O,vn.prototype.listenOnce=vn.prototype.P,vn.prototype.getLastError=vn.prototype.Sa,vn.prototype.getLastErrorCode=vn.prototype.Ia,vn.prototype.getStatus=vn.prototype.da,vn.prototype.getResponseJson=vn.prototype.Wa,vn.prototype.getResponseText=vn.prototype.ja,vn.prototype.send=vn.prototype.ha,vn.prototype.setWithCredentials=vn.prototype.Oa,Ai.prototype.digest=Ai.prototype.l,Ai.prototype.reset=Ai.prototype.reset,Ai.prototype.update=Ai.prototype.j,xn.prototype.add=xn.prototype.add,xn.prototype.multiply=xn.prototype.R,xn.prototype.modulo=xn.prototype.gb,xn.prototype.compare=xn.prototype.X,xn.prototype.toNumber=xn.prototype.ea,xn.prototype.toString=xn.prototype.toString,xn.prototype.getBits=xn.prototype.D,xn.fromNumber=Os,xn.fromString=function Xs(i,e){if(0==i.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==i.charAt(0))return Fr(Xs(i.substring(1),e));if(0<=i.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Os(Math.pow(e,8)),o=Ni,u=0;u<i.length;u+=8){var l=Math.min(8,i.length-u),f=parseInt(i.substring(u,u+l),e);8>l?(l=Os(Math.pow(e,l)),o=o.R(l).add(Os(f))):o=(o=o.R(n)).add(Os(f))}return o};var xe=Le.createWebChannelTransport=function(){return new vi},Be=Le.getStatEventTarget=function(){return Gi()},xt=Le.ErrorCode=qo,Zn=Le.EventType=So,or=Le.Event=kr,Fn=Le.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},ln=Le.FetchXmlHttpFactory=Ci,_r=Le.WebChannel=_e,Un=Le.XhrIo=vn,qr=Le.Md5=Ai,_i=Le.Integer=xn;const Is="@firebase/firestore";class ar{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ar.UNAUTHENTICATED=new ar(null),ar.GOOGLE_CREDENTIALS=new ar("google-credentials-uid"),ar.FIRST_PARTY=new ar("first-party-uid"),ar.MOCK_USER=new ar("mock-user");let Ir="9.23.0";const Ur=new re.Vy("@firebase/firestore");function ws(){return Ur.logLevel}function Ye(i,...e){if(Ur.logLevel<=re.$b.DEBUG){const n=e.map(_a);Ur.debug(`Firestore (${Ir}): ${i}`,...n)}}function zr(i,...e){if(Ur.logLevel<=re.$b.ERROR){const n=e.map(_a);Ur.error(`Firestore (${Ir}): ${i}`,...n)}}function ls(i,...e){if(Ur.logLevel<=re.$b.WARN){const n=e.map(_a);Ur.warn(`Firestore (${Ir}): ${i}`,...n)}}function _a(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch{return i}}function wt(i="Unexpected state"){const e=`FIRESTORE (${Ir}) INTERNAL ASSERTION FAILED: `+i;throw zr(e),new Error(e)}function Nt(i,e){i||wt()}function pt(i,e){return i}const Me={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Pe extends ee.g{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Qr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class au{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Nr{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(ar.UNAUTHENTICATED))}shutdown(){}}class Uu{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class qc{constructor(e){this.t=e,this.currentUser=ar.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var o=this;let u=this.i;const l=P=>this.i!==u?(u=this.i,n(P)):Promise.resolve();let f=new Qr;this.o=()=>{this.i++,this.currentUser=this.u(),f.resolve(),f=new Qr,e.enqueueRetryable(()=>l(this.currentUser))};const E=()=>{const P=f;e.enqueueRetryable((0,Z.A)(function*(){yield P.promise,yield l(o.currentUser)}))},x=P=>{Ye("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=P,this.auth.addAuthTokenListener(this.o),E()};this.t.onInit(P=>x(P)),setTimeout(()=>{if(!this.auth){const P=this.t.getImmediate({optional:!0});P?x(P):(Ye("FirebaseAuthCredentialsProvider","Auth not yet detected"),f.resolve(),f=new Qr)}},0),E()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(o=>this.i!==e?(Ye("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(Nt("string"==typeof o.accessToken),new au(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Nt(null===e||"string"==typeof e),new ar(e)}}class yo{constructor(e,n,o){this.h=e,this.l=n,this.m=o,this.type="FirstParty",this.user=ar.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class Ri{constructor(e,n,o){this.h=e,this.l=n,this.m=o}getToken(){return Promise.resolve(new yo(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(ar.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class dc{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class uu{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const o=l=>{null!=l.error&&Ye("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const f=l.token!==this.T;return this.T=l.token,Ye("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>o(l))};const u=l=>{Ye("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.appCheck.addTokenListener(this.o)};this.I.onInit(l=>u(l)),setTimeout(()=>{if(!this.appCheck){const l=this.I.getImmediate({optional:!0});l?u(l):Ye("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Nt("string"==typeof n.token),this.T=n.token,new dc(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Tr(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let o=0;o<i;o++)n[o]=Math.floor(256*Math.random());return n}class Va{static A(){const n=62*Math.floor(256/62);let o="";for(;o.length<20;){const u=Tr(40);for(let l=0;l<u.length;++l)o.length<20&&u[l]<n&&(o+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(u[l]%62))}return o}}function bt(i,e){return i<e?-1:i>e?1:0}function Fo(i,e,n){return i.length===e.length&&i.every((o,u)=>n(o,e[u]))}class Ar{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Pe(Me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Pe(Me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Pe(Me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Pe(Me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ar.fromMillis(Date.now())}static fromDate(e){return Ar.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),o=Math.floor(1e6*(e-1e3*n));return new Ar(n,o)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?bt(this.nanoseconds,e.nanoseconds):bt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Ct{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ct(e)}static min(){return new Ct(new Ar(0,0))}static max(){return new Ct(new Ar(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Wt{constructor(e,n,o){void 0===n?n=0:n>e.length&&wt(),void 0===o?o=e.length-n:o>e.length-n&&wt(),this.segments=e,this.offset=n,this.len=o}get length(){return this.len}isEqual(e){return 0===Wt.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Wt?e.forEach(o=>{n.push(o)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,o=this.limit();n<o;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const o=Math.min(e.length,n.length);for(let u=0;u<o;u++){const l=e.get(u),f=n.get(u);if(l<f)return-1;if(l>f)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Vn extends Wt{construct(e,n,o){return new Vn(e,n,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const o of e){if(o.indexOf("//")>=0)throw new Pe(Me.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);n.push(...o.split("/").filter(u=>u.length>0))}return new Vn(n)}static emptyPath(){return new Vn([])}}const hc=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Xr extends Wt{construct(e,n,o){return new Xr(e,n,o)}static isValidIdentifier(e){return hc.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Xr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Xr(["__name__"])}static fromServerFormat(e){const n=[];let o="",u=0;const l=()=>{if(0===o.length)throw new Pe(Me.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(o),o=""};let f=!1;for(;u<e.length;){const E=e[u];if("\\"===E){if(u+1===e.length)throw new Pe(Me.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const x=e[u+1];if("\\"!==x&&"."!==x&&"`"!==x)throw new Pe(Me.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=x,u+=2}else"`"===E?(f=!f,u++):"."!==E||f?(o+=E,u++):(l(),u++)}if(l(),f)throw new Pe(Me.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Xr(n)}static emptyPath(){return new Xr([])}}class ht{constructor(e){this.path=e}static fromPath(e){return new ht(Vn.fromString(e))}static fromName(e){return new ht(Vn.fromString(e).popFirst(5))}static empty(){return new ht(Vn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Vn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return Vn.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ht(new Vn(e.slice()))}}function ze(i){return new un(i.readTime,i.key,-1)}class un{constructor(e,n,o){this.readTime=e,this.documentKey=n,this.largestBatchId=o}static min(){return new un(Ct.min(),ht.empty(),-1)}static max(){return new un(Ct.max(),ht.empty(),-1)}}function mc(i,e){let n=i.readTime.compareTo(e.readTime);return 0!==n?n:(n=ht.comparator(i.documentKey,e.documentKey),0!==n?n:bt(i.largestBatchId,e.largestBatchId))}const Vu="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class fi{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Ps(i){return Bo.apply(this,arguments)}function Bo(){return Bo=(0,Z.A)(function*(i){if(i.code!==Me.FAILED_PRECONDITION||i.message!==Vu)throw i;Ye("LocalStore","Unexpectedly lost primary lease")}),Bo.apply(this,arguments)}class me{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&wt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new me((o,u)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(o,u)},this.catchCallback=l=>{this.wrapFailure(n,l).next(o,u)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof me?n:me.resolve(n)}catch(n){return me.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):me.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):me.reject(n)}static resolve(e){return new me((n,o)=>{n(e)})}static reject(e){return new me((n,o)=>{o(e)})}static waitFor(e){return new me((n,o)=>{let u=0,l=0,f=!1;e.forEach(E=>{++u,E.next(()=>{++l,f&&l===u&&n()},x=>o(x))}),f=!0,l===u&&n()})}static or(e){let n=me.resolve(!1);for(const o of e)n=n.next(u=>u?me.resolve(u):o());return n}static forEach(e,n){const o=[];return e.forEach((u,l)=>{o.push(n.call(this,u,l))}),this.waitFor(o)}static mapArray(e,n){return new me((o,u)=>{const l=e.length,f=new Array(l);let E=0;for(let x=0;x<l;x++){const P=x;n(e[P]).next($=>{f[P]=$,++E,E===l&&o(f)},$=>u($))}})}static doWhile(e,n){return new me((o,u)=>{const l=()=>{!0===e()?n().next(()=>{l()},u):o()};l()})}}function vo(i){return"IndexedDbTransactionError"===i.name}let Pi=(()=>{class i{constructor(n,o){this.previousValue=n,o&&(o.sequenceNumberHandler=u=>this.ot(u),this.ut=u=>o.writeSequenceNumber(u))}ot(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.ut&&this.ut(n),n}}return i.ct=-1,i})();function lu(i){return null==i}function y(i){return 0===i&&1/i==-1/0}function Ol(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function Da(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function _c(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class ir{constructor(e,n){this.comparator=e,this.root=n||$i.EMPTY}insert(e,n){return new ir(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,$i.BLACK,null,null))}remove(e){return new ir(this.comparator,this.root.remove(e,this.comparator).copy(null,null,$i.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const o=this.comparator(e,n.key);if(0===o)return n.value;o<0?n=n.left:o>0&&(n=n.right)}return null}indexOf(e){let n=0,o=this.root;for(;!o.isEmpty();){const u=this.comparator(e,o.key);if(0===u)return n+o.left.size;u<0?o=o.left:(n+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,o)=>(e(n,o),!1))}toString(){const e=[];return this.inorderTraversal((n,o)=>(e.push(`${n}:${o}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Io(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Io(this.root,e,this.comparator,!1)}getReverseIterator(){return new Io(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Io(this.root,e,this.comparator,!0)}}class Io{constructor(e,n,o,u){this.isReverse=u,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?o(e.key,n):1,n&&u&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(0===l){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class $i{constructor(e,n,o,u,l){this.key=e,this.value=n,this.color=o??$i.RED,this.left=u??$i.EMPTY,this.right=l??$i.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,o,u,l){return new $i(e??this.key,n??this.value,o??this.color,u??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,o){let u=this;const l=o(e,u.key);return u=l<0?u.copy(null,null,null,u.left.insert(e,n,o),null):0===l?u.copy(null,n,null,null,null):u.copy(null,null,null,null,u.right.insert(e,n,o)),u.fixUp()}removeMin(){if(this.left.isEmpty())return $i.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let o,u=this;if(n(e,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(e,n),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),0===n(e,u.key)){if(u.right.isEmpty())return $i.EMPTY;o=u.right.min(),u=u.copy(o.key,o.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(e,n))}return u.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,$i.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,$i.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw wt();const e=this.left.check();if(e!==this.right.check())throw wt();return e+(this.isRed()?0:1)}}$i.EMPTY=null,$i.RED=!0,$i.BLACK=!1,$i.EMPTY=new class{constructor(){this.size=0}get key(){throw wt()}get value(){throw wt()}get color(){throw wt()}get left(){throw wt()}get right(){throw wt()}copy(i,e,n,o,u){return this}insert(i,e,n){return new $i(i,e)}remove(i,e){return this}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Wr{constructor(e){this.comparator=e,this.data=new ir(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,o)=>(e(n),!1))}forEachInRange(e,n){const o=this.data.getIteratorFrom(e[0]);for(;o.hasNext();){const u=o.getNext();if(this.comparator(u.key,e[1])>=0)return;n(u.key)}}forEachWhile(e,n){let o;for(o=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();o.hasNext();)if(!e(o.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new $u(this.data.getIterator())}getIteratorFrom(e){return new $u(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(o=>{n=n.add(o)}),n}isEqual(e){if(!(e instanceof Wr)||this.size!==e.size)return!1;const n=this.data.getIterator(),o=e.data.getIterator();for(;n.hasNext();){const u=n.getNext().key,l=o.getNext().key;if(0!==this.comparator(u,l))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Wr(this.comparator);return n.data=e,n}}class $u{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ts{constructor(e){this.fields=e,e.sort(Xr.comparator)}static empty(){return new ts([])}unionWith(e){let n=new Wr(Xr.comparator);for(const o of this.fields)n=n.add(o);for(const o of e)n=n.add(o);return new ts(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Fo(this.fields,e.fields,(n,o)=>n.isEqual(o))}}class Pl extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Hi{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new Pl("Invalid base64 string: "+u):u}}(e);return new Hi(n)}static fromUint8Array(e){const n=function(o){let u="";for(let l=0;l<o.length;++l)u+=String.fromCharCode(o[l]);return u}(e);return new Hi(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let o=0;o<e.length;o++)n[o]=e.charCodeAt(o);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return bt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Hi.EMPTY_BYTE_STRING=new Hi("");const Ic=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ki(i){if(Nt(!!i),"string"==typeof i){let e=0;const n=Ic.exec(i);if(Nt(!!n),n[1]){let u=n[1];u=(u+"000000000").substr(0,9),e=Number(u)}const o=new Date(i);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:oi(i.seconds),nanos:oi(i.nanos)}}function oi(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function ks(i){return"string"==typeof i?Hi.fromBase64String(i):Hi.fromUint8Array(i)}function Ta(i){var e,n;return"server_timestamp"===(null===(n=((null===(e=i?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Hu(i){const e=i.mapValue.fields.__previous_value__;return Ta(e)?Hu(e):e}function fu(i){const e=ki(i.mapValue.fields.__local_write_time__.timestampValue);return new Ar(e.seconds,e.nanos)}class Ll{constructor(e,n,o,u,l,f,E,x,P){this.databaseId=e,this.appId=n,this.persistenceKey=o,this.host=u,this.ssl=l,this.forceLongPolling=f,this.autoDetectLongPolling=E,this.longPollingOptions=x,this.useFetchStreams=P}}class wo{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new wo("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof wo&&e.projectId===this.projectId&&e.database===this.database}}const oa={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function aa(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Ta(i)?4:Ga(i)?9007199254740991:10:wt()}function Ls(i,e){if(i===e)return!0;const n=aa(i);if(n!==aa(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return fu(i).isEqual(fu(e));case 3:return function(o,u){if("string"==typeof o.timestampValue&&"string"==typeof u.timestampValue&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const l=ki(o.timestampValue),f=ki(u.timestampValue);return l.seconds===f.seconds&&l.nanos===f.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return u=e,ks(i.bytesValue).isEqual(ks(u.bytesValue));case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,u){return oi(o.geoPointValue.latitude)===oi(u.geoPointValue.latitude)&&oi(o.geoPointValue.longitude)===oi(u.geoPointValue.longitude)}(i,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return oi(o.integerValue)===oi(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const l=oi(o.doubleValue),f=oi(u.doubleValue);return l===f?y(l)===y(f):isNaN(l)&&isNaN(f)}return!1}(i,e);case 9:return Fo(i.arrayValue.values||[],e.arrayValue.values||[],Ls);case 10:return function(o,u){const l=o.mapValue.fields||{},f=u.mapValue.fields||{};if(Ol(l)!==Ol(f))return!1;for(const E in l)if(l.hasOwnProperty(E)&&(void 0===f[E]||!Ls(l[E],f[E])))return!1;return!0}(i,e);default:return wt()}var u}function jo(i,e){return void 0!==(i.values||[]).find(n=>Ls(n,e))}function eo(i,e){if(i===e)return 0;const n=aa(i),o=aa(e);if(n!==o)return bt(n,o);switch(n){case 0:case 9007199254740991:return 0;case 1:return bt(i.booleanValue,e.booleanValue);case 2:return function(u,l){const f=oi(u.integerValue||u.doubleValue),E=oi(l.integerValue||l.doubleValue);return f<E?-1:f>E?1:f===E?0:isNaN(f)?isNaN(E)?0:-1:1}(i,e);case 3:return ja(i.timestampValue,e.timestampValue);case 4:return ja(fu(i),fu(e));case 5:return bt(i.stringValue,e.stringValue);case 6:return function(u,l){const f=ks(u),E=ks(l);return f.compareTo(E)}(i.bytesValue,e.bytesValue);case 7:return function(u,l){const f=u.split("/"),E=l.split("/");for(let x=0;x<f.length&&x<E.length;x++){const P=bt(f[x],E[x]);if(0!==P)return P}return bt(f.length,E.length)}(i.referenceValue,e.referenceValue);case 8:return function(u,l){const f=bt(oi(u.latitude),oi(l.latitude));return 0!==f?f:bt(oi(u.longitude),oi(l.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return function(u,l){const f=u.values||[],E=l.values||[];for(let x=0;x<f.length&&x<E.length;++x){const P=eo(f[x],E[x]);if(P)return P}return bt(f.length,E.length)}(i.arrayValue,e.arrayValue);case 10:return function(u,l){if(u===oa.mapValue&&l===oa.mapValue)return 0;if(u===oa.mapValue)return 1;if(l===oa.mapValue)return-1;const f=u.fields||{},E=Object.keys(f),x=l.fields||{},P=Object.keys(x);E.sort(),P.sort();for(let $=0;$<E.length&&$<P.length;++$){const J=bt(E[$],P[$]);if(0!==J)return J;const Te=eo(f[E[$]],x[P[$]]);if(0!==Te)return Te}return bt(E.length,P.length)}(i.mapValue,e.mapValue);default:throw wt()}}function ja(i,e){if("string"==typeof i&&"string"==typeof e&&i.length===e.length)return bt(i,e);const n=ki(i),o=ki(e),u=bt(n.seconds,o.seconds);return 0!==u?u:bt(n.nanos,o.nanos)}function $o(i){return $a(i)}function $a(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(o){const u=ki(o);return`time(${u.seconds},${u.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?ks(i.bytesValue).toBase64():"referenceValue"in i?ht.fromName(i.referenceValue).toString():"geoPointValue"in i?`geo(${(e=i.geoPointValue).latitude},${e.longitude})`:"arrayValue"in i?function(o){let u="[",l=!0;for(const f of o.values||[])l?l=!1:u+=",",u+=$a(f);return u+"]"}(i.arrayValue):"mapValue"in i?function(o){const u=Object.keys(o.fields||{}).sort();let l="{",f=!0;for(const E of u)f?f=!1:l+=",",l+=`${E}:${$a(o.fields[E])}`;return l+"}"}(i.mapValue):wt();var e}function Ho(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function Xc(i){return!!i&&"integerValue"in i}function za(i){return!!i&&"arrayValue"in i}function Td(i){return!!i&&"nullValue"in i}function zu(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Eo(i){return!!i&&"mapValue"in i}function zo(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return Da(i.mapValue.fields,(n,o)=>e.mapValue.fields[n]=zo(o)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=zo(i.arrayValue.values[n]);return e}return Object.assign({},i)}function Ga(i){return"__max__"===(((i.mapValue||{}).fields||{}).__type__||{}).stringValue}class Zr{constructor(e){this.value=e}static empty(){return new Zr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let o=0;o<e.length-1;++o)if(n=(n.mapValue.fields||{})[e.get(o)],!Eo(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=zo(n)}setAll(e){let n=Xr.emptyPath(),o={},u=[];e.forEach((f,E)=>{if(!n.isImmediateParentOf(E)){const x=this.getFieldsMap(n);this.applyChanges(x,o,u),o={},u=[],n=E.popLast()}f?o[E.lastSegment()]=zo(f):u.push(E.lastSegment())});const l=this.getFieldsMap(n);this.applyChanges(l,o,u)}delete(e){const n=this.field(e.popLast());Eo(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ls(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let o=0;o<e.length;++o){let u=n.mapValue.fields[e.get(o)];Eo(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},n.mapValue.fields[e.get(o)]=u),n=u}return n.mapValue.fields}applyChanges(e,n,o){Da(n,(u,l)=>e[u]=l);for(const u of o)delete e[u]}clone(){return new Zr(zo(this.value))}}function Ul(i){const e=[];return Da(i.fields,(n,o)=>{const u=new Xr([n]);if(Eo(o)){const l=Ul(o.mapValue).fields;if(0===l.length)e.push(u);else for(const f of l)e.push(u.child(f))}else e.push(u)}),new ts(e)}class Rr{constructor(e,n,o,u,l,f,E){this.key=e,this.documentType=n,this.version=o,this.readTime=u,this.createTime=l,this.data=f,this.documentState=E}static newInvalidDocument(e){return new Rr(e,0,Ct.min(),Ct.min(),Ct.min(),Zr.empty(),0)}static newFoundDocument(e,n,o,u){return new Rr(e,1,n,Ct.min(),o,u,0)}static newNoDocument(e,n){return new Rr(e,2,n,Ct.min(),Ct.min(),Zr.empty(),0)}static newUnknownDocument(e,n){return new Rr(e,3,n,Ct.min(),Ct.min(),Zr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ct.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Zr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Zr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ct.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Rr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Rr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ba{constructor(e,n){this.position=e,this.inclusive=n}}function Wu(i,e,n){let o=0;for(let u=0;u<i.position.length;u++){const l=e[u],f=i.position[u];if(o=l.field.isKeyField()?ht.comparator(ht.fromName(f.referenceValue),n.key):eo(f,n.data.field(l.field)),"desc"===l.dir&&(o*=-1),0!==o)break}return o}function wc(i,e){if(null===i)return null===e;if(null===e||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!Ls(i.position[n],e.position[n]))return!1;return!0}class Do{constructor(e,n="asc"){this.field=e,this.dir=n}}function I(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}class A{}class R extends A{constructor(e,n,o){super(),this.field=e,this.op=n,this.value=o}static create(e,n,o){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,o):new Fs(e,n,o):"array-contains"===n?new Kr(e,o):"in"===n?new To(e,o):"not-in"===n?new Co(e,o):"array-contains-any"===n?new Dc(e,o):new R(e,n,o)}static createKeyFieldInFilter(e,n,o){return"in"===n?new ai(e,o):new Ec(e,o)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(eo(n,this.value)):null!==n&&aa(this.value)===aa(n)&&this.matchesComparison(eo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return wt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class z extends A{constructor(e,n){super(),this.filters=e,this.op=n,this.lt=null}static create(e,n){return new z(e,n)}matches(e){return ne(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(n=>n.isInequality());return null!==e?e.field:null}ft(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function ne(i){return"and"===i.op}function Oe(i){return function mt(i){for(const e of i.filters)if(e instanceof z)return!1;return!0}(i)&&ne(i)}function ft(i){if(i instanceof R)return i.field.canonicalString()+i.op.toString()+$o(i.value);if(Oe(i))return i.filters.map(e=>ft(e)).join(",");{const e=i.filters.map(n=>ft(n)).join(",");return`${i.op}(${e})`}}function Rt(i,e){return i instanceof R?(n=i,(o=e)instanceof R&&n.op===o.op&&n.field.isEqual(o.field)&&Ls(n.value,o.value)):i instanceof z?function(n,o){return o instanceof z&&n.op===o.op&&n.filters.length===o.filters.length&&n.filters.reduce((u,l,f)=>u&&Rt(l,o.filters[f]),!0)}(i,e):void wt();var n,o}function dn(i){return i instanceof R?`${(e=i).field.canonicalString()} ${e.op} ${$o(e.value)}`:i instanceof z?function(e){return e.op.toString()+" {"+e.getFilters().map(dn).join(" ,")+"}"}(i):"Filter";var e}class Fs extends R{constructor(e,n,o){super(e,n,o),this.key=ht.fromName(o.referenceValue)}matches(e){const n=ht.comparator(e.key,this.key);return this.matchesComparison(n)}}class ai extends R{constructor(e,n){super(e,"in",n),this.keys=Ku(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Ec extends R{constructor(e,n){super(e,"not-in",n),this.keys=Ku(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Ku(i,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(o=>ht.fromName(o.referenceValue))}class Kr extends R{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return za(n)&&jo(n.arrayValue,this.value)}}class To extends R{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&jo(this.value.arrayValue,n)}}class Co extends R{constructor(e,n){super(e,"not-in",n)}matches(e){if(jo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!jo(this.value.arrayValue,n)}}class Dc extends R{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!za(n)||!n.arrayValue.values)&&n.arrayValue.values.some(o=>jo(this.value.arrayValue,o))}}class bo{constructor(e,n=null,o=[],u=[],l=null,f=null,E=null){this.path=e,this.collectionGroup=n,this.orderBy=o,this.filters=u,this.limit=l,this.startAt=f,this.endAt=E,this.dt=null}}function ua(i,e=null,n=[],o=[],u=null,l=null,f=null){return new bo(i,e,n,o,u,l,f)}function Wa(i){const e=pt(i);if(null===e.dt){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(o=>ft(o)).join(","),n+="|ob:",n+=e.orderBy.map(o=>{return(u=o).field.canonicalString()+u.dir;var u}).join(","),lu(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(o=>$o(o)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(o=>$o(o)).join(",")),e.dt=n}return e.dt}function Ka(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!I(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!Rt(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!wc(i.startAt,e.startAt)&&wc(i.endAt,e.endAt)}function pu(i){return ht.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}class gu{constructor(e,n=null,o=[],u=[],l=null,f="F",E=null,x=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=o,this.filters=u,this.limit=l,this.limitType=f,this.startAt=E,this.endAt=x,this.wt=null,this._t=null}}function mu(i){return new gu(i)}function qu(i){return 0===i.filters.length&&null===i.limit&&null==i.startAt&&null==i.endAt&&(0===i.explicitOrderBy.length||1===i.explicitOrderBy.length&&i.explicitOrderBy[0].field.isKeyField())}function Cd(i){return i.explicitOrderBy.length>0?i.explicitOrderBy[0].field:null}function yu(i){for(const e of i.filters){const n=e.getFirstInequalityField();if(null!==n)return n}return null}function Bl(i){return null!==i.collectionGroup}function Tc(i){const e=pt(i);if(null===e.wt){e.wt=[];const n=yu(e),o=Cd(e);if(null!==n&&null===o)n.isKeyField()||e.wt.push(new Do(n)),e.wt.push(new Do(Xr.keyField(),"asc"));else{let u=!1;for(const l of e.explicitOrderBy)e.wt.push(l),l.field.isKeyField()&&(u=!0);if(!u){const l=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Do(Xr.keyField(),l))}}}return e.wt}function hs(i){const e=pt(i);if(!e._t)if("F"===e.limitType)e._t=ua(e.path,e.collectionGroup,Tc(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const l of Tc(e))n.push(new Do(l.field,"desc"===l.dir?"asc":"desc"));const o=e.endAt?new ba(e.endAt.position,e.endAt.inclusive):null,u=e.startAt?new ba(e.startAt.position,e.startAt.inclusive):null;e._t=ua(e.path,e.collectionGroup,n,e.filters,e.limit,o,u)}return e._t}function bd(i,e){e.getFirstInequalityField(),yu(i);const n=i.filters.concat([e]);return new gu(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function jl(i,e,n){return new gu(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function Yc(i,e){return Ka(hs(i),hs(e))&&i.limitType===e.limitType}function $l(i){return`${Wa(hs(i))}|lt:${i.limitType}`}function Cc(i){return`Query(target=${function(e){let n=e.path.canonicalString();return null!==e.collectionGroup&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(o=>dn(o)).join(", ")}]`),lu(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(o=>{return`${(u=o).field.canonicalString()} (${u.dir})`;var u}).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(o=>$o(o)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(o=>$o(o)).join(",")),`Target(${n})`}(hs(i))}; limitType=${i.limitType})`}function Zc(i,e){return e.isFoundDocument()&&function(n,o){const u=o.key.path;return null!==n.collectionGroup?o.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(u):ht.isDocumentKey(n.path)?n.path.isEqual(u):n.path.isImmediateParentOf(u)}(i,e)&&function(n,o){for(const u of Tc(n))if(!u.field.isKeyField()&&null===o.data.field(u.field))return!1;return!0}(i,e)&&function(n,o){for(const u of n.filters)if(!u.matches(o))return!1;return!0}(i,e)&&(o=e,!((n=i).startAt&&!function(u,l,f){const E=Wu(u,l,f);return u.inclusive?E<=0:E<0}(n.startAt,Tc(n),o)||n.endAt&&!function(u,l,f){const E=Wu(u,l,f);return u.inclusive?E>=0:E>0}(n.endAt,Tc(n),o)));var n,o}function sp(i){return(e,n)=>{let o=!1;for(const u of Tc(i)){const l=Ad(u,e,n);if(0!==l)return l;o=o||u.field.isKeyField()}return 0}}function Ad(i,e,n){const o=i.field.isKeyField()?ht.comparator(e.key,n.key):function(u,l,f){const E=l.data.field(u),x=f.data.field(u);return null!==E&&null!==x?eo(E,x):wt()}(i.field,e,n);switch(i.dir){case"asc":return o;case"desc":return-1*o;default:return wt()}}class vu{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),o=this.inner[n];if(void 0!==o)for(const[u,l]of o)if(this.equalsFn(u,e))return l}has(e){return void 0!==this.get(e)}set(e,n){const o=this.mapKeyFn(e),u=this.inner[o];if(void 0===u)return this.inner[o]=[[e,n]],void this.innerSize++;for(let l=0;l<u.length;l++)if(this.equalsFn(u[l][0],e))return void(u[l]=[e,n]);u.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),o=this.inner[n];if(void 0===o)return!1;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return 1===o.length?delete this.inner[n]:o.splice(u,1),this.innerSize--,!0;return!1}forEach(e){Da(this.inner,(n,o)=>{for(const[u,l]of o)e(u,l)})}isEmpty(){return _c(this.inner)}size(){return this.innerSize}}const op=new ir(ht.comparator);function Vs(){return op}const zl=new ir(ht.comparator);function Jc(...i){let e=zl;for(const n of i)e=e.insert(n.key,n);return e}function ap(i){let e=zl;return i.forEach((n,o)=>e=e.insert(n,o.overlayedDocument)),e}function qa(){return _u()}function bc(){return _u()}function _u(){return new vu(i=>i.toString(),(i,e)=>i.isEqual(e))}const up=new ir(ht.comparator),vv=new Wr(ht.comparator);function Tn(...i){let e=vv;for(const n of i)e=e.add(n);return e}const pm=new Wr(bt);function lp(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:y(e)?"-0":e}}function dp(i){return{integerValue:""+i}}function hp(i,e){return function D(i){return"number"==typeof i&&Number.isInteger(i)&&!y(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}(e)?dp(e):lp(i,e)}class Ac{constructor(){this._=void 0}}function fp(i,e,n){return i instanceof Gl?function(o,u){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Ta(u)&&(u=Hu(u)),u&&(l.fields.__previous_value__=u),{mapValue:l}}(n,e):i instanceof Qu?mm(i,e):i instanceof Sc?pp(i,e):function(o,u){const l=xh(o,u),f=ym(l)+ym(o.gt);return Xc(l)&&Xc(o.gt)?dp(f):lp(o.serializer,f)}(i,e)}function gm(i,e,n){return i instanceof Qu?mm(i,e):i instanceof Sc?pp(i,e):n}function xh(i,e){return i instanceof Xu?Xc(n=e)||(o=n)&&"doubleValue"in o?e:{integerValue:0}:null;var o,n}class Gl extends Ac{}class Qu extends Ac{constructor(e){super(),this.elements=e}}function mm(i,e){const n=vm(e);for(const o of i.elements)n.some(u=>Ls(u,o))||n.push(o);return{arrayValue:{values:n}}}class Sc extends Ac{constructor(e){super(),this.elements=e}}function pp(i,e){let n=vm(e);for(const o of i.elements)n=n.filter(u=>!Ls(u,o));return{arrayValue:{values:n}}}class Xu extends Ac{constructor(e,n){super(),this.serializer=e,this.gt=n}}function ym(i){return oi(i.integerValue||i.doubleValue)}function vm(i){return za(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class Iv{constructor(e,n){this.version=e,this.transformResults=n}}class wi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new wi}static exists(e){return new wi(void 0,e)}static updateTime(e){return new wi(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Nh(i,e){return void 0!==i.updateTime?e.isFoundDocument()&&e.version.isEqual(i.updateTime):void 0===i.exists||i.exists===e.isFoundDocument()}class Rh{}function gp(i,e){if(!i.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return i.isNoDocument()?new Iu(i.key,wi.none()):new xc(i.key,i.data,wi.none());{const n=i.data,o=Zr.empty();let u=new Wr(Xr.comparator);for(let l of e.fields)if(!u.has(l)){let f=n.field(l);null===f&&l.length>1&&(l=l.popLast(),f=n.field(l)),null===f?o.delete(l):o.set(l,f),u=u.add(l)}return new to(i.key,o,new ts(u.toArray()),wi.none())}}function Wl(i,e,n){i instanceof xc?function(o,u,l){const f=o.value.clone(),E=kh(o.fieldTransforms,u,l.transformResults);f.setAll(E),u.convertToFoundDocument(l.version,f).setHasCommittedMutations()}(i,e,n):i instanceof to?function(o,u,l){if(!Nh(o.precondition,u))return void u.convertToUnknownDocument(l.version);const f=kh(o.fieldTransforms,u,l.transformResults),E=u.data;E.setAll(Ph(o)),E.setAll(f),u.convertToFoundDocument(l.version,E).setHasCommittedMutations()}(i,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function Yu(i,e,n,o){return i instanceof xc?function(u,l,f,E){if(!Nh(u.precondition,l))return f;const x=u.value.clone(),P=Kl(u.fieldTransforms,E,l);return x.setAll(P),l.convertToFoundDocument(l.version,x).setHasLocalMutations(),null}(i,e,n,o):i instanceof to?function(u,l,f,E){if(!Nh(u.precondition,l))return f;const x=Kl(u.fieldTransforms,E,l),P=l.data;return P.setAll(Ph(u)),P.setAll(x),l.convertToFoundDocument(l.version,P).setHasLocalMutations(),null===f?null:f.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map($=>$.field))}(i,e,n,o):(f=n,Nh(i.precondition,l=e)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):f);var l,f}function mp(i,e){let n=null;for(const o of i.fieldTransforms){const u=e.data.field(o.field),l=xh(o.transform,u||null);null!=l&&(null===n&&(n=Zr.empty()),n.set(o.field,l))}return n||null}function Oh(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&(o=e.fieldTransforms,!!(void 0===(n=i.fieldTransforms)&&void 0===o||n&&o&&Fo(n,o,(u,l)=>function _v(i,e){return i.field.isEqual(e.field)&&(o=e.transform,(n=i.transform)instanceof Qu&&o instanceof Qu||n instanceof Sc&&o instanceof Sc?Fo(n.elements,o.elements,Ls):n instanceof Xu&&o instanceof Xu?Ls(n.gt,o.gt):n instanceof Gl&&o instanceof Gl);var n,o}(u,l))))&&(0===i.type?i.value.isEqual(e.value):1!==i.type||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask));var n,o}class xc extends Rh{constructor(e,n,o,u=[]){super(),this.key=e,this.value=n,this.precondition=o,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class to extends Rh{constructor(e,n,o,u,l=[]){super(),this.key=e,this.data=n,this.fieldMask=o,this.precondition=u,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function Ph(i){const e=new Map;return i.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const o=i.data.field(n);e.set(n,o)}}),e}function kh(i,e,n){const o=new Map;Nt(i.length===n.length);for(let u=0;u<n.length;u++){const l=i[u],f=l.transform,E=e.data.field(l.field);o.set(l.field,gm(f,E,n[u]))}return o}function Kl(i,e,n){const o=new Map;for(const u of i){const l=u.transform,f=n.data.field(u.field);o.set(u.field,fp(l,f,e))}return o}class Iu extends Rh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class el extends Rh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Lh{constructor(e,n,o,u){this.batchId=e,this.localWriteTime=n,this.baseMutations=o,this.mutations=u}applyToRemoteDocument(e,n){const o=n.mutationResults;for(let u=0;u<this.mutations.length;u++){const l=this.mutations[u];l.key.isEqual(e.key)&&Wl(l,e,o[u])}}applyToLocalView(e,n){for(const o of this.baseMutations)o.key.isEqual(e.key)&&(n=Yu(o,e,n,this.localWriteTime));for(const o of this.mutations)o.key.isEqual(e.key)&&(n=Yu(o,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const o=bc();return this.mutations.forEach(u=>{const l=e.get(u.key),f=l.overlayedDocument;let E=this.applyToLocalView(f,l.mutatedFields);E=n.has(u.key)?null:E;const x=gp(f,E);null!==x&&o.set(u.key,x),f.isValidDocument()||f.convertToNoDocument(Ct.min())}),o}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Tn())}isEqual(e){return this.batchId===e.batchId&&Fo(this.mutations,e.mutations,(n,o)=>Oh(n,o))&&Fo(this.baseMutations,e.baseMutations,(n,o)=>Oh(n,o))}}class Fh{constructor(e,n,o,u){this.batch=e,this.commitVersion=n,this.mutationResults=o,this.docVersions=u}static from(e,n,o){Nt(e.mutations.length===o.length);let u=up;const l=e.mutations;for(let f=0;f<l.length;f++)u=u.insert(l[f].key,o[f].version);return new Fh(e,n,o,u)}}class Uh{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class _{constructor(e,n){this.count=e,this.unchangedNames=n}}var h,p;function L(i){if(void 0===i)return zr("GRPC error has no .code"),Me.UNKNOWN;switch(i){case h.OK:return Me.OK;case h.CANCELLED:return Me.CANCELLED;case h.UNKNOWN:return Me.UNKNOWN;case h.DEADLINE_EXCEEDED:return Me.DEADLINE_EXCEEDED;case h.RESOURCE_EXHAUSTED:return Me.RESOURCE_EXHAUSTED;case h.INTERNAL:return Me.INTERNAL;case h.UNAVAILABLE:return Me.UNAVAILABLE;case h.UNAUTHENTICATED:return Me.UNAUTHENTICATED;case h.INVALID_ARGUMENT:return Me.INVALID_ARGUMENT;case h.NOT_FOUND:return Me.NOT_FOUND;case h.ALREADY_EXISTS:return Me.ALREADY_EXISTS;case h.PERMISSION_DENIED:return Me.PERMISSION_DENIED;case h.FAILED_PRECONDITION:return Me.FAILED_PRECONDITION;case h.ABORTED:return Me.ABORTED;case h.OUT_OF_RANGE:return Me.OUT_OF_RANGE;case h.UNIMPLEMENTED:return Me.UNIMPLEMENTED;case h.DATA_LOSS:return Me.DATA_LOSS;default:return wt()}}(p=h||(h={}))[p.OK=0]="OK",p[p.CANCELLED=1]="CANCELLED",p[p.UNKNOWN=2]="UNKNOWN",p[p.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",p[p.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",p[p.NOT_FOUND=5]="NOT_FOUND",p[p.ALREADY_EXISTS=6]="ALREADY_EXISTS",p[p.PERMISSION_DENIED=7]="PERMISSION_DENIED",p[p.UNAUTHENTICATED=16]="UNAUTHENTICATED",p[p.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",p[p.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",p[p.ABORTED=10]="ABORTED",p[p.OUT_OF_RANGE=11]="OUT_OF_RANGE",p[p.UNIMPLEMENTED=12]="UNIMPLEMENTED",p[p.INTERNAL=13]="INTERNAL",p[p.UNAVAILABLE=14]="UNAVAILABLE",p[p.DATA_LOSS=15]="DATA_LOSS";class W{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return ue}static getOrCreateInstance(){return null===ue&&(ue=new W),ue}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let ue=null;const it=new _i([4294967295,4294967295],0);function Tt(i){const e=function De(){return new TextEncoder}().encode(i),n=new qr;return n.update(e),new Uint8Array(n.digest())}function Jt(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),o=e.getUint32(4,!0),u=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new _i([n,o],0),new _i([u,l],0)]}class Ot{constructor(e,n,o){if(this.bitmap=e,this.padding=n,this.hashCount=o,n<0||n>=8)throw new Jn(`Invalid padding: ${n}`);if(o<0)throw new Jn(`Invalid hash count: ${o}`);if(e.length>0&&0===this.hashCount)throw new Jn(`Invalid hash count: ${o}`);if(0===e.length&&0!==n)throw new Jn(`Invalid padding when bitmap length is 0: ${n}`);this.It=8*e.length-n,this.Tt=_i.fromNumber(this.It)}Et(e,n,o){let u=e.add(n.multiply(_i.fromNumber(o)));return 1===u.compare(it)&&(u=new _i([u.getBits(0),u.getBits(1)],0)),u.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const n=Tt(e),[o,u]=Jt(n);for(let l=0;l<this.hashCount;l++){const f=this.Et(o,u,l);if(!this.At(f))return!1}return!0}static create(e,n,o){const u=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),f=new Ot(l,u,n);return o.forEach(E=>f.insert(E)),f}insert(e){if(0===this.It)return;const n=Tt(e),[o,u]=Jt(n);for(let l=0;l<this.hashCount;l++){const f=this.Et(o,u,l);this.Rt(f)}}Rt(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class Jn extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Bs{constructor(e,n,o,u,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=o,this.documentUpdates=u,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,o){const u=new Map;return u.set(e,ca.createSynthesizedTargetChangeForCurrentChange(e,n,o)),new Bs(Ct.min(),u,new ir(bt),Vs(),Tn())}}class ca{constructor(e,n,o,u,l){this.resumeToken=e,this.current=n,this.addedDocuments=o,this.modifiedDocuments=u,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,o){return new ca(o,n,Tn(),Tn(),Tn())}}class Qa{constructor(e,n,o,u){this.Pt=e,this.removedTargetIds=n,this.key=o,this.bt=u}}class tl{constructor(e,n){this.targetId=e,this.Vt=n}}class Sd{constructor(e,n,o=Hi.EMPTY_BYTE_STRING,u=null){this.state=e,this.targetIds=n,this.resumeToken=o,this.cause=u}}class ql{constructor(){this.St=0,this.Dt=xd(),this.Ct=Hi.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=Tn(),n=Tn(),o=Tn();return this.Dt.forEach((u,l)=>{switch(l){case 0:e=e.add(u);break;case 2:n=n.add(u);break;case 1:o=o.add(u);break;default:wt()}}),new ca(this.Ct,this.xt,e,n,o)}Ft(){this.Nt=!1,this.Dt=xd()}Bt(e,n){this.Nt=!0,this.Dt=this.Dt.insert(e,n)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class Md{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=Vs(),this.zt=Ql(),this.Wt=new ir(bt)}Ht(e){for(const n of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(n,e.bt):this.Yt(n,e.key,e.bt);for(const n of e.removedTargetIds)this.Yt(n,e.key,e.bt)}Xt(e){this.forEachTarget(e,n=>{const o=this.Zt(n);switch(e.state){case 0:this.te(n)&&o.$t(e.resumeToken);break;case 1:o.Ut(),o.kt||o.Ft(),o.$t(e.resumeToken);break;case 2:o.Ut(),o.kt||this.removeTarget(n);break;case 3:this.te(n)&&(o.Kt(),o.$t(e.resumeToken));break;case 4:this.te(n)&&(this.ee(n),o.$t(e.resumeToken));break;default:wt()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qt.forEach((o,u)=>{this.te(u)&&n(u)})}ne(e){var n;const o=e.targetId,u=e.Vt.count,l=this.se(o);if(l){const f=l.target;if(pu(f))if(0===u){const E=new ht(f.path);this.Yt(o,E,Rr.newNoDocument(E,Ct.min()))}else Nt(1===u);else{const E=this.ie(o);if(E!==u){const x=this.re(e,E);0!==x&&(this.ee(o),this.Wt=this.Wt.insert(o,2===x?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(n=W.instance)||void 0===n||n.notifyOnExistenceFilterMismatch(function(P,$,J){var Te,Fe,at,Dt,At,On;const pr={localCacheCount:$,existenceFilterCount:J.count},Wn=J.unchangedNames;return Wn&&(pr.bloomFilter={applied:0===P,hashCount:null!==(Te=Wn?.hashCount)&&void 0!==Te?Te:0,bitmapLength:null!==(Dt=null===(at=null===(Fe=Wn?.bits)||void 0===Fe?void 0:Fe.bitmap)||void 0===at?void 0:at.length)&&void 0!==Dt?Dt:0,padding:null!==(On=null===(At=Wn?.bits)||void 0===At?void 0:At.padding)&&void 0!==On?On:0}),pr}(x,E,e.Vt))}}}}re(e,n){const{unchangedNames:o,count:u}=e.Vt;if(!o||!o.bits)return 1;const{bits:{bitmap:l="",padding:f=0},hashCount:E=0}=o;let x,P;try{x=ks(l).toUint8Array()}catch($){if($ instanceof Pl)return ls("Decoding the base64 bloom filter in existence filter failed ("+$.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw $}try{P=new Ot(x,f,E)}catch($){return ls($ instanceof Jn?"BloomFilter error: ":"Applying bloom filter failed: ",$),1}return 0===P.It?1:u!==n-this.oe(e.targetId,P)?2:0}oe(e,n){const o=this.Gt.getRemoteKeysForTarget(e);let u=0;return o.forEach(l=>{const f=this.Gt.ue(),E=`projects/${f.projectId}/databases/${f.database}/documents/${l.path.canonicalString()}`;n.vt(E)||(this.Yt(e,l,null),u++)}),u}ce(e){const n=new Map;this.Qt.forEach((l,f)=>{const E=this.se(f);if(E){if(l.current&&pu(E.target)){const x=new ht(E.target.path);null!==this.jt.get(x)||this.ae(f,x)||this.Yt(f,x,Rr.newNoDocument(x,e))}l.Mt&&(n.set(f,l.Ot()),l.Ft())}});let o=Tn();this.zt.forEach((l,f)=>{let E=!0;f.forEachWhile(x=>{const P=this.se(x);return!P||"TargetPurposeLimboResolution"===P.purpose||(E=!1,!1)}),E&&(o=o.add(l))}),this.jt.forEach((l,f)=>f.setReadTime(e));const u=new Bs(e,n,this.Wt,this.jt,o);return this.jt=Vs(),this.zt=Ql(),this.Wt=new ir(bt),u}Jt(e,n){if(!this.te(e))return;const o=this.ae(e,n.key)?2:0;this.Zt(e).Bt(n.key,o),this.jt=this.jt.insert(n.key,n),this.zt=this.zt.insert(n.key,this.he(n.key).add(e))}Yt(e,n,o){if(!this.te(e))return;const u=this.Zt(e);this.ae(e,n)?u.Bt(n,1):u.Lt(n),this.zt=this.zt.insert(n,this.he(n).delete(e)),o&&(this.jt=this.jt.insert(n,o))}removeTarget(e){this.Qt.delete(e)}ie(e){const n=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let n=this.Qt.get(e);return n||(n=new ql,this.Qt.set(e,n)),n}he(e){let n=this.zt.get(e);return n||(n=new Wr(bt),this.zt=this.zt.insert(e,n)),n}te(e){const n=null!==this.se(e);return n||Ye("WatchChangeAggregator","Detected inactive target",e),n}se(e){const n=this.Qt.get(e);return n&&n.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new ql),this.Gt.getRemoteKeysForTarget(e).forEach(n=>{this.Yt(e,n,null)})}ae(e,n){return this.Gt.getRemoteKeysForTarget(e).has(n)}}function Ql(){return new ir(ht.comparator)}function xd(){return new ir(ht.comparator)}const Nd={asc:"ASCENDING",desc:"DESCENDING"},Xl={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Rd={and:"AND",or:"OR"};class Od{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Zu(i,e){return i.useProto3Json||lu(e)?e:{value:e}}function Yl(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function _m(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function Im(i,e){return Yl(i,e.toTimestamp())}function Li(i){return Nt(!!i),Ct.fromTimestamp(function(e){const n=ki(e);return new Ar(n.seconds,n.nanos)}(i))}function Vh(i,e){return(n=i,new Vn(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}function nl(i){const e=Vn.fromString(i);return Nt(Ep(e)),e}function Nc(i,e){return Vh(i.databaseId,e.path)}function Xa(i,e){const n=nl(e);if(n.get(1)!==i.databaseId.projectId)throw new Pe(Me.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new Pe(Me.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new ht(wm(n))}function Pd(i,e){return Vh(i.databaseId,e)}function Ld(i){return new Vn(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function wm(i){return Nt(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function Em(i,e,n){return{name:Nc(i,e),fields:n.value.mapValue.fields}}function Bh(i,e){return{documents:[Pd(i,e.path)]}}function _p(i,e){const n={structuredQuery:{}},o=e.path;null!==e.collectionGroup?(n.parent=Pd(i,o),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Pd(i,o.popLast()),n.structuredQuery.from=[{collectionId:o.lastSegment()}]);const u=function(x){if(0!==x.length)return Ud(z.create(x,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const l=function(x){if(0!==x.length)return x.map(P=>{return{field:Rc(($=P).field),direction:rl($.dir)};var $})}(e.orderBy);l&&(n.structuredQuery.orderBy=l);const f=Zu(i,e.limit);var E,x;return null!==f&&(n.structuredQuery.limit=f),e.startAt&&(n.structuredQuery.startAt={before:(E=e.startAt).inclusive,values:E.position}),e.endAt&&(n.structuredQuery.endAt={before:!(x=e.endAt).inclusive,values:x.position}),n}function Tm(i){let e=function kd(i){const e=nl(i);return 4===e.length?Vn.emptyPath():wm(e)}(i.parent);const n=i.structuredQuery,o=n.from?n.from.length:0;let u=null;if(o>0){Nt(1===o);const $=n.from[0];$.allDescendants?u=$.collectionId:e=e.child($.collectionId)}let l=[];n.where&&(l=function($){const J=wp($);return J instanceof z&&Oe(J)?J.getFilters():[J]}(n.where));let f=[];n.orderBy&&(f=n.orderBy.map($=>{return new Do(Fd((J=$).field),function(Te){switch(Te){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(J.direction));var J}));let E=null;n.limit&&(E=function($){let J;return J="object"==typeof $?$.value:$,lu(J)?null:J}(n.limit));let x=null;var $;n.startAt&&(x=new ba(($=n.startAt).values||[],!!$.before));let P=null;return n.endAt&&(P=function($){return new ba($.values||[],!$.before)}(n.endAt)),function Us(i,e,n,o,u,l,f,E){return new gu(i,e,n,o,u,l,f,E)}(e,u,f,l,E,"F",x,P)}function wp(i){return void 0!==i.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=Fd(e.unaryFilter.field);return R.create(n,"==",{doubleValue:NaN});case"IS_NULL":const o=Fd(e.unaryFilter.field);return R.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Fd(e.unaryFilter.field);return R.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Fd(e.unaryFilter.field);return R.create(l,"!=",{nullValue:"NULL_VALUE"});default:return wt()}}(i):void 0!==i.fieldFilter?R.create(Fd((e=i).fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return wt()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==i.compositeFilter?function(e){return z.create(e.compositeFilter.filters.map(n=>wp(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return wt()}}(e.compositeFilter.op))}(i):wt();var e}function rl(i){return Nd[i]}function Cm(i){return Xl[i]}function bm(i){return Rd[i]}function Rc(i){return{fieldPath:i.canonicalString()}}function Fd(i){return Xr.fromServerFormat(i.fieldPath)}function Ud(i){return i instanceof R?function(e){if("=="===e.op){if(zu(e.value))return{unaryFilter:{field:Rc(e.field),op:"IS_NAN"}};if(Td(e.value))return{unaryFilter:{field:Rc(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(zu(e.value))return{unaryFilter:{field:Rc(e.field),op:"IS_NOT_NAN"}};if(Td(e.value))return{unaryFilter:{field:Rc(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Rc(e.field),op:Cm(e.op),value:e.value}}}(i):i instanceof z?function(e){const n=e.getFilters().map(o=>Ud(o));return 1===n.length?n[0]:{compositeFilter:{op:bm(e.op),filters:n}}}(i):wt()}function Dv(i){const e=[];return i.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Ep(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}class wu{constructor(e,n,o,u,l=Ct.min(),f=Ct.min(),E=Hi.EMPTY_BYTE_STRING,x=null){this.target=e,this.targetId=n,this.purpose=o,this.sequenceNumber=u,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=E,this.expectedCount=x}withSequenceNumber(e){return new wu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new wu(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new wu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new wu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Dp{constructor(e){this.fe=e}}function Vd(i){const e=Tm({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?jl(e,e.limit,"L"):e}class Eu{constructor(){}_e(e,n){this.me(e,n),n.ge()}me(e,n){if("nullValue"in e)this.ye(n,5);else if("booleanValue"in e)this.ye(n,10),n.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(n,15),n.pe(oi(e.integerValue));else if("doubleValue"in e){const o=oi(e.doubleValue);isNaN(o)?this.ye(n,13):(this.ye(n,15),y(o)?n.pe(0):n.pe(o))}else if("timestampValue"in e){const o=e.timestampValue;this.ye(n,20),"string"==typeof o?n.Ie(o):(n.Ie(`${o.seconds||""}`),n.pe(o.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,n),this.Ee(n);else if("bytesValue"in e)this.ye(n,30),n.Ae(ks(e.bytesValue)),this.Ee(n);else if("referenceValue"in e)this.ve(e.referenceValue,n);else if("geoPointValue"in e){const o=e.geoPointValue;this.ye(n,45),n.pe(o.latitude||0),n.pe(o.longitude||0)}else"mapValue"in e?Ga(e)?this.ye(n,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,n),this.Ee(n)):"arrayValue"in e?(this.Pe(e.arrayValue,n),this.Ee(n)):wt()}Te(e,n){this.ye(n,25),this.be(e,n)}be(e,n){n.Ie(e)}Re(e,n){const o=e.fields||{};this.ye(n,55);for(const u of Object.keys(o))this.Te(u,n),this.me(o[u],n)}Pe(e,n){const o=e.values||[];this.ye(n,50);for(const u of o)this.me(u,n)}ve(e,n){this.ye(n,37),ht.fromName(e).path.forEach(o=>{this.ye(n,60),this.be(o,n)})}ye(e,n){e.pe(n)}Ee(e){e.pe(2)}}Eu.Ve=new Eu;class Av{constructor(){this.rn=new Du}addToCollectionParentIndex(e,n){return this.rn.add(n),me.resolve()}getCollectionParents(e,n){return me.resolve(this.rn.getEntries(n))}addFieldIndex(e,n){return me.resolve()}deleteFieldIndex(e,n){return me.resolve()}getDocumentsMatchingTarget(e,n){return me.resolve(null)}getIndexType(e,n){return me.resolve(0)}getFieldIndexes(e,n){return me.resolve([])}getNextCollectionGroupToUpdate(e){return me.resolve(null)}getMinOffset(e,n){return me.resolve(un.min())}getMinOffsetFromCollectionGroup(e,n){return me.resolve(un.min())}updateCollectionGroup(e,n,o){return me.resolve()}updateIndexEntries(e,n){return me.resolve()}}class Du{constructor(){this.index={}}add(e){const n=e.lastSegment(),o=e.popLast(),u=this.index[n]||new Wr(Vn.comparator),l=!u.has(o);return this.index[n]=u.add(o),l}has(e){const n=e.lastSegment(),o=e.popLast(),u=this.index[n];return u&&u.has(o)}getEntries(e){return(this.index[e]||new Wr(Vn.comparator)).toArray()}}new Uint8Array(0);class no{constructor(e,n,o){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=o}static withCacheSize(e){return new no(e,no.DEFAULT_COLLECTION_PERCENTILE,no.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}no.DEFAULT_COLLECTION_PERCENTILE=10,no.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,no.DEFAULT=new no(41943040,no.DEFAULT_COLLECTION_PERCENTILE,no.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),no.DISABLED=new no(-1,0,0);class Fc{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Fc(0)}static Mn(){return new Fc(-1)}}class Pm{constructor(){this.changes=new vu(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Rr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const o=this.changes.get(n);return void 0!==o?me.resolve(o):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class kv{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class Up{constructor(e,n,o,u){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=o,this.indexManager=u}getDocument(e,n){let o=null;return this.documentOverlayCache.getOverlay(e,n).next(u=>(o=u,this.remoteDocumentCache.getEntry(e,n))).next(u=>(null!==o&&Yu(o.mutation,u,ts.empty(),Ar.now()),u))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(o=>this.getLocalViewOfDocuments(e,o,Tn()).next(()=>o))}getLocalViewOfDocuments(e,n,o=Tn()){const u=qa();return this.populateOverlays(e,u,n).next(()=>this.computeViews(e,n,u,o).next(l=>{let f=Jc();return l.forEach((E,x)=>{f=f.insert(E,x.overlayedDocument)}),f}))}getOverlayedDocuments(e,n){const o=qa();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,Tn()))}populateOverlays(e,n,o){const u=[];return o.forEach(l=>{n.has(l)||u.push(l)}),this.documentOverlayCache.getOverlays(e,u).next(l=>{l.forEach((f,E)=>{n.set(f,E)})})}computeViews(e,n,o,u){let l=Vs();const f=_u(),E=_u();return n.forEach((x,P)=>{const $=o.get(P.key);u.has(P.key)&&(void 0===$||$.mutation instanceof to)?l=l.insert(P.key,P):void 0!==$?(f.set(P.key,$.mutation.getFieldMask()),Yu($.mutation,P,$.mutation.getFieldMask(),Ar.now())):f.set(P.key,ts.empty())}),this.recalculateAndSaveOverlays(e,l).next(x=>(x.forEach((P,$)=>f.set(P,$)),n.forEach((P,$)=>{var J;return E.set(P,new kv($,null!==(J=f.get(P))&&void 0!==J?J:null))}),E))}recalculateAndSaveOverlays(e,n){const o=_u();let u=new ir((f,E)=>f-E),l=Tn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(f=>{for(const E of f)E.keys().forEach(x=>{const P=n.get(x);if(null===P)return;let $=o.get(x)||ts.empty();$=E.applyToLocalView(P,$),o.set(x,$);const J=(u.get(E.batchId)||Tn()).add(x);u=u.insert(E.batchId,J)})}).next(()=>{const f=[],E=u.getReverseIterator();for(;E.hasNext();){const x=E.getNext(),P=x.key,$=x.value,J=bc();$.forEach(Te=>{if(!l.has(Te)){const Fe=gp(n.get(Te),o.get(Te));null!==Fe&&J.set(Te,Fe),l=l.add(Te)}}),f.push(this.documentOverlayCache.saveOverlays(e,P,J))}return me.waitFor(f)}).next(()=>o)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(o=>this.recalculateAndSaveOverlays(e,o))}getDocumentsMatchingQuery(e,n,o){return ht.isDocumentKey((u=n).path)&&null===u.collectionGroup&&0===u.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):Bl(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,o):this.getDocumentsMatchingCollectionQuery(e,n,o);var u}getNextDocuments(e,n,o,u){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,o,u).next(l=>{const f=u-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,o.largestBatchId,u-l.size):me.resolve(qa());let E=-1,x=l;return f.next(P=>me.forEach(P,($,J)=>(E<J.largestBatchId&&(E=J.largestBatchId),l.get($)?me.resolve():this.remoteDocumentCache.getEntry(e,$).next(Te=>{x=x.insert($,Te)}))).next(()=>this.populateOverlays(e,P,l)).next(()=>this.computeViews(e,x,P,Tn())).next($=>({batchId:E,changes:ap($)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ht(n)).next(o=>{let u=Jc();return o.isFoundDocument()&&(u=u.insert(o.key,o)),u})}getDocumentsMatchingCollectionGroupQuery(e,n,o){const u=n.collectionGroup;let l=Jc();return this.indexManager.getCollectionParents(e,u).next(f=>me.forEach(f,E=>{const x=(P=n,$=E.child(u),new gu($,null,P.explicitOrderBy.slice(),P.filters.slice(),P.limit,P.limitType,P.startAt,P.endAt));var P,$;return this.getDocumentsMatchingCollectionQuery(e,x,o).next(P=>{P.forEach(($,J)=>{l=l.insert($,J)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,n,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,o.largestBatchId).next(l=>(u=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,o,u))).next(l=>{u.forEach((E,x)=>{const P=x.getKey();null===l.get(P)&&(l=l.insert(P,Rr.newInvalidDocument(P)))});let f=Jc();return l.forEach((E,x)=>{const P=u.get(E);void 0!==P&&Yu(P.mutation,x,ts.empty(),Ar.now()),Zc(n,x)&&(f=f.insert(E,x))}),f})}}class Fm{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,n){return me.resolve(this.cs.get(n))}saveBundleMetadata(e,n){var o;return this.cs.set(n.id,{id:(o=n).id,version:o.version,createTime:Li(o.createTime)}),me.resolve()}getNamedQuery(e,n){return me.resolve(this.hs.get(n))}saveNamedQuery(e,n){return this.hs.set(n.name,{name:(o=n).name,query:Vd(o.bundledQuery),readTime:Li(o.readTime)}),me.resolve();var o}}class Lv{constructor(){this.overlays=new ir(ht.comparator),this.ls=new Map}getOverlay(e,n){return me.resolve(this.overlays.get(n))}getOverlays(e,n){const o=qa();return me.forEach(n,u=>this.getOverlay(e,u).next(l=>{null!==l&&o.set(u,l)})).next(()=>o)}saveOverlays(e,n,o){return o.forEach((u,l)=>{this.we(e,n,l)}),me.resolve()}removeOverlaysForBatchId(e,n,o){const u=this.ls.get(o);return void 0!==u&&(u.forEach(l=>this.overlays=this.overlays.remove(l)),this.ls.delete(o)),me.resolve()}getOverlaysForCollection(e,n,o){const u=qa(),l=n.length+1,f=new ht(n.child("")),E=this.overlays.getIteratorFrom(f);for(;E.hasNext();){const x=E.getNext().value,P=x.getKey();if(!n.isPrefixOf(P.path))break;P.path.length===l&&x.largestBatchId>o&&u.set(x.getKey(),x)}return me.resolve(u)}getOverlaysForCollectionGroup(e,n,o,u){let l=new ir((P,$)=>P-$);const f=this.overlays.getIterator();for(;f.hasNext();){const P=f.getNext().value;if(P.getKey().getCollectionGroup()===n&&P.largestBatchId>o){let $=l.get(P.largestBatchId);null===$&&($=qa(),l=l.insert(P.largestBatchId,$)),$.set(P.getKey(),P)}}const E=qa(),x=l.getIterator();for(;x.hasNext()&&(x.getNext().value.forEach((P,$)=>E.set(P,$)),!(E.size()>=u)););return me.resolve(E)}we(e,n,o){const u=this.overlays.get(o.key);if(null!==u){const f=this.ls.get(u.largestBatchId).delete(o.key);this.ls.set(u.largestBatchId,f)}this.overlays=this.overlays.insert(o.key,new Uh(n,o));let l=this.ls.get(n);void 0===l&&(l=Tn(),this.ls.set(n,l)),this.ls.set(n,l.add(o.key))}}class Vp{constructor(){this.fs=new Wr(Es.ds),this.ws=new Wr(Es._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,n){const o=new Es(e,n);this.fs=this.fs.add(o),this.ws=this.ws.add(o)}gs(e,n){e.forEach(o=>this.addReference(o,n))}removeReference(e,n){this.ys(new Es(e,n))}ps(e,n){e.forEach(o=>this.removeReference(o,n))}Is(e){const n=new ht(new Vn([])),o=new Es(n,e),u=new Es(n,e+1),l=[];return this.ws.forEachInRange([o,u],f=>{this.ys(f),l.push(f.key)}),l}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const n=new ht(new Vn([])),o=new Es(n,e),u=new Es(n,e+1);let l=Tn();return this.ws.forEachInRange([o,u],f=>{l=l.add(f.key)}),l}containsKey(e){const n=new Es(e,0),o=this.fs.firstAfterOrEqual(n);return null!==o&&e.isEqual(o.key)}}class Es{constructor(e,n){this.key=e,this.As=n}static ds(e,n){return ht.comparator(e.key,n.key)||bt(e.As,n.As)}static _s(e,n){return bt(e.As,n.As)||ht.comparator(e.key,n.key)}}class Fv{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new Wr(Es.ds)}checkEmpty(e){return me.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,o,u){const l=this.vs;this.vs++;const f=new Lh(l,n,o,u);this.mutationQueue.push(f);for(const E of u)this.Rs=this.Rs.add(new Es(E.key,l)),this.indexManager.addToCollectionParentIndex(e,E.key.path.popLast());return me.resolve(f)}lookupMutationBatch(e,n){return me.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(e,n){const u=this.bs(n+1),l=u<0?0:u;return me.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return me.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return me.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const o=new Es(n,0),u=new Es(n,Number.POSITIVE_INFINITY),l=[];return this.Rs.forEachInRange([o,u],f=>{const E=this.Ps(f.As);l.push(E)}),me.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let o=new Wr(bt);return n.forEach(u=>{const l=new Es(u,0),f=new Es(u,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([l,f],E=>{o=o.add(E.As)})}),me.resolve(this.Vs(o))}getAllMutationBatchesAffectingQuery(e,n){const o=n.path,u=o.length+1;let l=o;ht.isDocumentKey(l)||(l=l.child(""));const f=new Es(new ht(l),0);let E=new Wr(bt);return this.Rs.forEachWhile(x=>{const P=x.key.path;return!!o.isPrefixOf(P)&&(P.length===u&&(E=E.add(x.As)),!0)},f),me.resolve(this.Vs(E))}Vs(e){const n=[];return e.forEach(o=>{const u=this.Ps(o);null!==u&&n.push(u)}),n}removeMutationBatch(e,n){Nt(0===this.Ss(n.batchId,"removed")),this.mutationQueue.shift();let o=this.Rs;return me.forEach(n.mutations,u=>{const l=new Es(u.key,n.batchId);return o=o.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,u.key)}).next(()=>{this.Rs=o})}Cn(e){}containsKey(e,n){const o=new Es(n,0),u=this.Rs.firstAfterOrEqual(o);return me.resolve(n.isEqual(u&&u.key))}performConsistencyCheck(e){return me.resolve()}Ss(e,n){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const n=this.bs(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class Um{constructor(e){this.Ds=e,this.docs=new ir(ht.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const o=n.key,u=this.docs.get(o),l=u?u.size:0,f=this.Ds(n);return this.docs=this.docs.insert(o,{document:n.mutableCopy(),size:f}),this.size+=f-l,this.indexManager.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const o=this.docs.get(n);return me.resolve(o?o.document.mutableCopy():Rr.newInvalidDocument(n))}getEntries(e,n){let o=Vs();return n.forEach(u=>{const l=this.docs.get(u);o=o.insert(u,l?l.document.mutableCopy():Rr.newInvalidDocument(u))}),me.resolve(o)}getDocumentsMatchingQuery(e,n,o,u){let l=Vs();const f=n.path,E=new ht(f.child("")),x=this.docs.getIteratorFrom(E);for(;x.hasNext();){const{key:P,value:{document:$}}=x.getNext();if(!f.isPrefixOf(P.path))break;P.path.length>f.length+1||mc(ze($),o)<=0||(u.has($.key)||Zc(n,$))&&(l=l.insert($.key,$.mutableCopy()))}return me.resolve(l)}getAllFromCollectionGroup(e,n,o,u){wt()}Cs(e,n){return me.forEach(this.docs,o=>n(o))}newChangeBuffer(e){return new qI(this)}getSize(e){return me.resolve(this.size)}}class qI extends Pm{constructor(e){super(),this.os=e}applyChanges(e){const n=[];return this.changes.forEach((o,u)=>{u.isValidDocument()?n.push(this.os.addEntry(e,u)):this.os.removeEntry(o)}),me.waitFor(n)}getFromCache(e,n){return this.os.getEntry(e,n)}getAllFromCache(e,n){return this.os.getEntries(e,n)}}class QI{constructor(e){this.persistence=e,this.xs=new vu(n=>Wa(n),Ka),this.lastRemoteSnapshotVersion=Ct.min(),this.highestTargetId=0,this.Ns=0,this.ks=new Vp,this.targetCount=0,this.Ms=Fc.kn()}forEachTarget(e,n){return this.xs.forEach((o,u)=>n(u)),me.resolve()}getLastRemoteSnapshotVersion(e){return me.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return me.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),me.resolve(this.highestTargetId)}setTargetsMetadata(e,n,o){return o&&(this.lastRemoteSnapshotVersion=o),n>this.Ns&&(this.Ns=n),me.resolve()}Fn(e){this.xs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ms=new Fc(n),this.highestTargetId=n),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,n){return this.Fn(n),this.targetCount+=1,me.resolve()}updateTargetData(e,n){return this.Fn(n),me.resolve()}removeTargetData(e,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,me.resolve()}removeTargets(e,n,o){let u=0;const l=[];return this.xs.forEach((f,E)=>{E.sequenceNumber<=n&&null===o.get(E.targetId)&&(this.xs.delete(f),l.push(this.removeMatchingKeysForTargetId(e,E.targetId)),u++)}),me.waitFor(l).next(()=>u)}getTargetCount(e){return me.resolve(this.targetCount)}getTargetData(e,n){const o=this.xs.get(n)||null;return me.resolve(o)}addMatchingKeys(e,n,o){return this.ks.gs(n,o),me.resolve()}removeMatchingKeys(e,n,o){this.ks.ps(n,o);const u=this.persistence.referenceDelegate,l=[];return u&&n.forEach(f=>{l.push(u.markPotentiallyOrphaned(e,f))}),me.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this.ks.Is(n),me.resolve()}getMatchingKeysForTargetId(e,n){const o=this.ks.Es(n);return me.resolve(o)}containsKey(e,n){return me.resolve(this.ks.containsKey(n))}}class ll{constructor(e,n){this.$s={},this.overlays={},this.Os=new Pi(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new QI(this),this.indexManager=new Av,this.remoteDocumentCache=new Um(o=>this.referenceDelegate.Ls(o)),this.serializer=new Dp(n),this.qs=new Fm(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Lv,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let o=this.$s[e.toKey()];return o||(o=new Fv(n,this.referenceDelegate),this.$s[e.toKey()]=o),o}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,n,o){Ye("MemoryPersistence","Starting transaction:",e);const u=new zd(this.Os.next());return this.referenceDelegate.Us(),o(u).next(l=>this.referenceDelegate.Ks(u).next(()=>l)).toPromise().then(l=>(u.raiseOnCommittedEvent(),l))}Gs(e,n){return me.or(Object.values(this.$s).map(o=>()=>o.containsKey(e,n)))}}class zd extends fi{constructor(e){super(),this.currentSequenceNumber=e}}class Gd{constructor(e){this.persistence=e,this.Qs=new Vp,this.js=null}static zs(e){return new Gd(e)}get Ws(){if(this.js)return this.js;throw wt()}addReference(e,n,o){return this.Qs.addReference(o,n),this.Ws.delete(o.toString()),me.resolve()}removeReference(e,n,o){return this.Qs.removeReference(o,n),this.Ws.add(o.toString()),me.resolve()}markPotentiallyOrphaned(e,n){return this.Ws.add(n.toString()),me.resolve()}removeTarget(e,n){this.Qs.Is(n.targetId).forEach(u=>this.Ws.add(u.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,n.targetId).next(u=>{u.forEach(l=>this.Ws.add(l.toString()))}).next(()=>o.removeTargetData(e,n))}Us(){this.js=new Set}Ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return me.forEach(this.Ws,o=>{const u=ht.fromPath(o);return this.Hs(e,u).next(l=>{l||n.removeEntry(u,Ct.min())})}).next(()=>(this.js=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hs(e,n).next(o=>{o?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(e){return 0}Hs(e,n){return me.or([()=>me.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gs(e,n)])}}class Kd{constructor(e,n,o,u){this.targetId=e,this.fromCache=n,this.Fi=o,this.Bi=u}static Li(e,n){let o=Tn(),u=Tn();for(const l of n.docChanges)switch(l.type){case 0:o=o.add(l.doc.key);break;case 1:u=u.add(l.doc.key)}return new Kd(e,n.fromCache,o,u)}}class Bm{constructor(){this.qi=!1}initialize(e,n){this.Ui=e,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(e,n,o,u){return this.Ki(e,n).next(l=>l||this.Gi(e,n,u,o)).next(l=>l||this.Qi(e,n))}Ki(e,n){if(qu(n))return me.resolve(null);let o=hs(n);return this.indexManager.getIndexType(e,o).next(u=>0===u?null:(null!==n.limit&&1===u&&(n=jl(n,null,"F"),o=hs(n)),this.indexManager.getDocumentsMatchingTarget(e,o).next(l=>{const f=Tn(...l);return this.Ui.getDocuments(e,f).next(E=>this.indexManager.getMinOffset(e,o).next(x=>{const P=this.ji(n,E);return this.zi(n,P,f,x.readTime)?this.Ki(e,jl(n,null,"F")):this.Wi(e,P,n,x)}))})))}Gi(e,n,o,u){return qu(n)||u.isEqual(Ct.min())?this.Qi(e,n):this.Ui.getDocuments(e,o).next(l=>{const f=this.ji(n,l);return this.zi(n,f,o,u)?this.Qi(e,n):(ws()<=re.$b.DEBUG&&Ye("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),Cc(n)),this.Wi(e,f,n,function gc(i,e){const n=i.toTimestamp().seconds,o=i.toTimestamp().nanoseconds+1,u=Ct.fromTimestamp(1e9===o?new Ar(n+1,0):new Ar(n,o));return new un(u,ht.empty(),e)}(u,-1)))})}ji(e,n){let o=new Wr(sp(e));return n.forEach((u,l)=>{Zc(e,l)&&(o=o.add(l))}),o}zi(e,n,o,u){if(null===e.limit)return!1;if(o.size!==n.size)return!0;const l="F"===e.limitType?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(u)>0)}Qi(e,n){return ws()<=re.$b.DEBUG&&Ye("QueryEngine","Using full collection scan to execute query:",Cc(n)),this.Ui.getDocumentsMatchingQuery(e,n,un.min())}Wi(e,n,o,u){return this.Ui.getDocumentsMatchingQuery(e,o,u).next(l=>(n.forEach(f=>{l=l.insert(f.key,f)}),l))}}class Hp{constructor(e,n,o,u){this.persistence=e,this.Hi=n,this.serializer=u,this.Ji=new ir(bt),this.Yi=new vu(l=>Wa(l),Ka),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(o)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Up(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function Gp(i,e){return nc.apply(this,arguments)}function nc(){return nc=(0,Z.A)(function*(i,e){const n=pt(i);return yield n.persistence.runTransaction("Handle user change","readonly",o=>{let u;return n.mutationQueue.getAllMutationBatches(o).next(l=>(u=l,n.tr(e),n.mutationQueue.getAllMutationBatches(o))).next(l=>{const f=[],E=[];let x=Tn();for(const P of u){f.push(P.batchId);for(const $ of P.mutations)x=x.add($.key)}for(const P of l){E.push(P.batchId);for(const $ of P.mutations)x=x.add($.key)}return n.localDocuments.getDocuments(o,x).next(P=>({er:P,removedBatchIds:f,addedBatchIds:E}))})})}),nc.apply(this,arguments)}function tf(i){const e=pt(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Bs.getLastRemoteSnapshotVersion(n))}function Wp(i,e){const n=pt(i);return n.persistence.runTransaction("Get next mutation batch","readonly",o=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(o,e)))}function Ao(i,e,n){return Uc.apply(this,arguments)}function Uc(){return Uc=(0,Z.A)(function*(i,e,n){const o=pt(i),u=o.Ji.get(e),l=n?"readwrite":"readwrite-primary";try{n||(yield o.persistence.runTransaction("Release target",l,f=>o.persistence.referenceDelegate.removeTarget(f,u)))}catch(f){if(!vo(f))throw f;Ye("LocalStore",`Failed to update sequence numbers for target ${e}: ${f}`)}o.Ji=o.Ji.remove(e),o.Yi.delete(u.target)}),Uc.apply(this,arguments)}function nd(i,e,n){const o=pt(i);let u=Ct.min(),l=Tn();return o.persistence.runTransaction("Execute query","readonly",f=>function(E,x,P){const $=pt(E),J=$.Yi.get(P);return void 0!==J?me.resolve($.Ji.get(J)):$.Bs.getTargetData(x,P)}(o,f,hs(e)).next(E=>{if(E)return u=E.lastLimboFreeSnapshotVersion,o.Bs.getMatchingKeysForTargetId(f,E.targetId).next(x=>{l=x})}).next(()=>o.Hi.getDocumentsMatchingQuery(f,e,n?u:Ct.min(),n?l:Tn())).next(E=>(function Kp(i,e,n){let o=i.Xi.get(e)||Ct.min();n.forEach((u,l)=>{l.readTime.compareTo(o)>0&&(o=l.readTime)}),i.Xi.set(e,o)}(o,function Hl(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}(e),E),{documents:E,ir:l})))}class Jp{constructor(){this.activeTargetIds=function cp(){return pm}()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Bv{constructor(){this.Hr=new Jp,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,o){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,n,o){this.Jr[e]=n}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new Jp,Promise.resolve()}handleUserChange(e,n,o){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class XI{Yr(e){}shutdown(){}}class Qd{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){Ye("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){Ye("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let sf=null;function Xd(){return null===sf?sf=268435456+Math.round(2147483648*Math.random()):sf++,"0x"+sf.toString(16)}const tg={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class id{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const Ds="WebChannelConnection";class ng extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,n,o,u,l){const f=Xd(),E=this.To(e,n);Ye("RestConnection",`Sending RPC '${e}' ${f}:`,E,o);const x={};return this.Eo(x,u,l),this.Ao(e,E,x,o).then(P=>(Ye("RestConnection",`Received RPC '${e}' ${f}: `,P),P),P=>{throw ls("RestConnection",`RPC '${e}' ${f} failed with error: `,P,"url: ",E,"request:",o),P})}vo(e,n,o,u,l,f){return this.Io(e,n,o,u,l)}Eo(e,n,o){e["X-Goog-Api-Client"]="gl-js/ fire/"+Ir,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((u,l)=>e[l]=u),o&&o.headers.forEach((u,l)=>e[l]=u)}To(e,n){return`${this.mo}/v1/${n}:${tg[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,n,o,u){const l=Xd();return new Promise((f,E)=>{const x=new Un;x.setWithCredentials(!0),x.listenOnce(Zn.COMPLETE,()=>{try{switch(x.getLastErrorCode()){case xt.NO_ERROR:const $=x.getResponseJson();Ye(Ds,`XHR for RPC '${e}' ${l} received:`,JSON.stringify($)),f($);break;case xt.TIMEOUT:Ye(Ds,`RPC '${e}' ${l} timed out`),E(new Pe(Me.DEADLINE_EXCEEDED,"Request time out"));break;case xt.HTTP_ERROR:const J=x.getStatus();if(Ye(Ds,`RPC '${e}' ${l} failed with status:`,J,"response text:",x.getResponseText()),J>0){let Te=x.getResponseJson();Array.isArray(Te)&&(Te=Te[0]);const Fe=Te?.error;if(Fe&&Fe.status&&Fe.message){const at=function(Dt){const At=Dt.toLowerCase().replace(/_/g,"-");return Object.values(Me).indexOf(At)>=0?At:Me.UNKNOWN}(Fe.status);E(new Pe(at,Fe.message))}else E(new Pe(Me.UNKNOWN,"Server responded with status "+x.getStatus()))}else E(new Pe(Me.UNAVAILABLE,"Connection failed."));break;default:wt()}}finally{Ye(Ds,`RPC '${e}' ${l} completed.`)}});const P=JSON.stringify(u);Ye(Ds,`RPC '${e}' ${l} sending request:`,u),x.send(n,"POST",P,o,15)})}Ro(e,n,o){const u=Xd(),l=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=xe(),E=Be(),x={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},P=this.longPollingOptions.timeoutSeconds;void 0!==P&&(x.longPollingTimeout=Math.round(1e3*P)),this.useFetchStreams&&(x.xmlHttpFactory=new ln({})),this.Eo(x.initMessageHeaders,n,o),x.encodeInitMessageHeaders=!0;const $=l.join("");Ye(Ds,`Creating RPC '${e}' stream ${u}: ${$}`,x);const J=f.createWebChannel($,x);let Te=!1,Fe=!1;const at=new id({ro:At=>{Fe?Ye(Ds,`Not sending because RPC '${e}' stream ${u} is closed:`,At):(Te||(Ye(Ds,`Opening RPC '${e}' stream ${u} transport.`),J.open(),Te=!0),Ye(Ds,`RPC '${e}' stream ${u} sending:`,At),J.send(At))},oo:()=>J.close()}),Dt=(At,On,pr)=>{At.listen(On,Wn=>{try{pr(Wn)}catch(ps){setTimeout(()=>{throw ps},0)}})};return Dt(J,_r.EventType.OPEN,()=>{Fe||Ye(Ds,`RPC '${e}' stream ${u} transport opened.`)}),Dt(J,_r.EventType.CLOSE,()=>{Fe||(Fe=!0,Ye(Ds,`RPC '${e}' stream ${u} transport closed`),at.wo())}),Dt(J,_r.EventType.ERROR,At=>{Fe||(Fe=!0,ls(Ds,`RPC '${e}' stream ${u} transport errored:`,At),at.wo(new Pe(Me.UNAVAILABLE,"The operation could not be completed")))}),Dt(J,_r.EventType.MESSAGE,At=>{var On;if(!Fe){const pr=At.data[0];Nt(!!pr);const ps=pr.error||(null===(On=pr[0])||void 0===On?void 0:On.error);if(ps){Ye(Ds,`RPC '${e}' stream ${u} received error:`,ps);const ss=ps.status;let pi=function(Ml){const rv=h[Ml];if(void 0!==rv)return L(rv)}(ss),Ko=ps.message;void 0===pi&&(pi=Me.INTERNAL,Ko="Unknown error status: "+ss+" with message "+ps.message),Fe=!0,at.wo(new Pe(pi,Ko)),J.close()}else Ye(Ds,`RPC '${e}' stream ${u} received:`,pr),at._o(pr)}}),Dt(E,or.STAT_EVENT,At=>{At.stat===Fn.PROXY?Ye(Ds,`RPC '${e}' stream ${u} detected buffering proxy`):At.stat===Fn.NOPROXY&&Ye(Ds,`RPC '${e}' stream ${u} detected no buffering proxy`)}),setTimeout(()=>{at.fo()},0),at}}function fl(){return typeof document<"u"?document:null}function Cu(i){return new Od(i,!0)}class Yd{constructor(e,n,o=1e3,u=1.5,l=6e4){this.ii=e,this.timerId=n,this.Po=o,this.bo=u,this.Vo=l,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),o=Math.max(0,Date.now()-this.Co),u=Math.max(0,n-o);u>0&&Ye("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${o} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,u,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class af{constructor(e,n,o,u,l,f,E,x){this.ii=e,this.$o=o,this.Oo=u,this.connection=l,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=E,this.listener=x,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new Yd(e,n)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,Z.A)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,Z.A)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,n){var o=this;return(0,Z.A)(function*(){o.Ho(),o.Jo(),o.qo.cancel(),o.Fo++,4!==e?o.qo.reset():n&&n.code===Me.RESOURCE_EXHAUSTED?(zr(n.toString()),zr("Using maximum backoff delay to prevent overloading the backend."),o.qo.xo()):n&&n.code===Me.UNAUTHENTICATED&&3!==o.state&&(o.authCredentialsProvider.invalidateToken(),o.appCheckCredentialsProvider.invalidateToken()),null!==o.stream&&(o.Yo(),o.stream.close(),o.stream=null),o.state=e,yield o.listener.ao(n)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,u])=>{this.Fo===n&&this.Zo(o,u)},o=>{e(()=>{const u=new Pe(Me.UNKNOWN,"Fetching auth token failed: "+o.message);return this.tu(u)})})}Zo(e,n){const o=this.Xo(this.Fo);this.stream=this.eu(e,n),this.stream.uo(()=>{o(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(u=>{o(()=>this.tu(u))}),this.stream.onMessage(u=>{o(()=>this.onMessage(u))})}Go(){var e=this;this.state=5,this.qo.No((0,Z.A)(function*(){e.state=0,e.start()}))}tu(e){return Ye("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.Fo===e?n():(Ye("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class uf extends af{constructor(e,n,o,u,l,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,o,u,f),this.serializer=l}eu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.qo.reset();const n=function Ev(i,e){let n;if("targetChange"in e){const o="NO_CHANGE"===(x=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===x?1:"REMOVE"===x?2:"CURRENT"===x?3:"RESET"===x?4:wt(),u=e.targetChange.targetIds||[],l=function(x,P){return x.useProto3Json?(Nt(void 0===P||"string"==typeof P),Hi.fromBase64String(P||"")):(Nt(void 0===P||P instanceof Uint8Array),Hi.fromUint8Array(P||new Uint8Array))}(i,e.targetChange.resumeToken),f=e.targetChange.cause,E=f&&function(x){const P=void 0===x.code?Me.UNKNOWN:L(x.code);return new Pe(P,x.message||"")}(f);n=new Sd(o,u,l,E||null)}else if("documentChange"in e){const o=e.documentChange,u=Xa(i,o.document.name),l=Li(o.document.updateTime),f=o.document.createTime?Li(o.document.createTime):Ct.min(),E=new Zr({mapValue:{fields:o.document.fields}}),x=Rr.newFoundDocument(u,l,f,E);n=new Qa(o.targetIds||[],o.removedTargetIds||[],x.key,x)}else if("documentDelete"in e){const o=e.documentDelete,u=Xa(i,o.document),l=o.readTime?Li(o.readTime):Ct.min(),f=Rr.newNoDocument(u,l);n=new Qa([],o.removedTargetIds||[],f.key,f)}else if("documentRemove"in e){const o=e.documentRemove,u=Xa(i,o.document);n=new Qa([],o.removedTargetIds||[],u,null)}else{if(!("filter"in e))return wt();{const o=e.filter,{count:u=0,unchangedNames:l}=o,f=new _(u,l);n=new tl(o.targetId,f)}}var x;return n}(this.serializer,e),o=function(u){if(!("targetChange"in u))return Ct.min();const l=u.targetChange;return l.targetIds&&l.targetIds.length?Ct.min():l.readTime?Li(l.readTime):Ct.min()}(e);return this.listener.nu(n,o)}su(e){const n={};n.database=Ld(this.serializer),n.addTarget=function(u,l){let f;const E=l.target;if(f=pu(E)?{documents:Bh(u,E)}:{query:_p(u,E)},f.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){f.resumeToken=_m(u,l.resumeToken);const x=Zu(u,l.expectedCount);null!==x&&(f.expectedCount=x)}else if(l.snapshotVersion.compareTo(Ct.min())>0){f.readTime=Yl(u,l.snapshotVersion.toTimestamp());const x=Zu(u,l.expectedCount);null!==x&&(f.expectedCount=x)}return f}(this.serializer,e);const o=function Ip(i,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return wt()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);o&&(n.labels=o),this.Wo(n)}iu(e){const n={};n.database=Ld(this.serializer),n.removeTarget=e,this.Wo(n)}}class YI extends af{constructor(e,n,o,u,l,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,o,u,f),this.serializer=l,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,n){return this.connection.Ro("Write",e,n)}onMessage(e){if(Nt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const n=function vp(i,e){return i&&i.length>0?(Nt(void 0!==e),i.map(n=>function(o,u){let l=Li(o.updateTime?o.updateTime:u);return l.isEqual(Ct.min())&&(l=Li(u)),new Iv(l,o.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),o=Li(e.commitTime);return this.listener.cu(o,n)}return Nt(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Ld(this.serializer),this.Wo(e)}uu(e){const n={streamToken:this.lastStreamToken,writes:e.map(o=>function Zl(i,e){let n;if(e instanceof xc)n={update:Em(i,e.key,e.value)};else if(e instanceof Iu)n={delete:Nc(i,e.key)};else if(e instanceof to)n={update:Em(i,e.key,e.data),updateMask:Dv(e.fieldMask)};else{if(!(e instanceof el))return wt();n={verify:Nc(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(o=>function(u,l){const f=l.transform;if(f instanceof Gl)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof Qu)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof Sc)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof Xu)return{fieldPath:l.field.canonicalString(),increment:f.gt};throw wt()}(0,o))),e.precondition.isNone||(n.currentDocument=void 0!==(u=e.precondition).updateTime?{updateTime:Im(i,u.updateTime)}:void 0!==u.exists?{exists:u.exists}:wt()),n;var u}(this.serializer,o))};this.Wo(n)}}class rg extends class{}{constructor(e,n,o,u){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=o,this.serializer=u,this.lu=!1}fu(){if(this.lu)throw new Pe(Me.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,n,o){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,l])=>this.connection.Io(e,n,o,u,l)).catch(u=>{throw"FirebaseError"===u.name?(u.code===Me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Pe(Me.UNKNOWN,u.toString())})}vo(e,n,o,u){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,f])=>this.connection.vo(e,n,o,l,f,u)).catch(l=>{throw"FirebaseError"===l.name?(l.code===Me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Pe(Me.UNKNOWN,l.toString())})}terminate(){this.lu=!0}}class Gm{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(zr(n),this.mu=!1):Ye("OnlineStateTracker",n)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class jv{constructor(e,n,o,u,l){var f=this;this.localStore=e,this.datastore=n,this.asyncQueue=o,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=l,this.Pu.Yr(E=>{o.enqueueAndForget((0,Z.A)(function*(){var x;ic(f)&&(Ye("RemoteStore","Restarting streams for network reachability change."),yield(x=(0,Z.A)(function*(P){const $=pt(P);$.vu.add(4),yield pl($),$.bu.set("Unknown"),$.vu.delete(4),yield Jd($)}),function(P){return x.apply(this,arguments)})(f))}))}),this.bu=new Gm(o,u)}}function Jd(i){return eh.apply(this,arguments)}function eh(){return eh=(0,Z.A)(function*(i){if(ic(i))for(const e of i.Ru)yield e(!0)}),eh.apply(this,arguments)}function pl(i){return sg.apply(this,arguments)}function sg(){return sg=(0,Z.A)(function*(i){for(const e of i.Ru)yield e(!1)}),sg.apply(this,arguments)}function cf(i,e){const n=pt(i);n.Au.has(e.targetId)||(n.Au.set(e.targetId,e),ag(n)?nh(n):ad(n).Ko()&&og(n,e))}function lf(i,e){const n=pt(i),o=ad(n);n.Au.delete(e),o.Ko()&&th(n,e),0===n.Au.size&&(o.Ko()?o.jo():ic(n)&&n.bu.set("Unknown"))}function og(i,e){if(i.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ct.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ad(i).su(e)}function th(i,e){i.Vu.qt(e),ad(i).iu(e)}function nh(i){i.Vu=new Md({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),le:e=>i.Au.get(e)||null,ue:()=>i.datastore.serializer.databaseId}),ad(i).start(),i.bu.gu()}function ag(i){return ic(i)&&!ad(i).Uo()&&i.Au.size>0}function ic(i){return 0===pt(i).vu.size}function df(i){i.Vu=void 0}function hf(i){return ug.apply(this,arguments)}function ug(){return ug=(0,Z.A)(function*(i){i.Au.forEach((e,n)=>{og(i,e)})}),ug.apply(this,arguments)}function Wm(i,e){return cg.apply(this,arguments)}function cg(){return cg=(0,Z.A)(function*(i,e){df(i),ag(i)?(i.bu.Iu(e),nh(i)):i.bu.set("Unknown")}),cg.apply(this,arguments)}function Km(i,e,n){return qm.apply(this,arguments)}function qm(){return qm=(0,Z.A)(function*(i,e,n){if(i.bu.set("Online"),e instanceof Sd&&2===e.state&&e.cause)try{yield(o=(0,Z.A)(function*(u,l){const f=l.cause;for(const E of l.targetIds)u.Au.has(E)&&(yield u.remoteSyncer.rejectListen(E,f),u.Au.delete(E),u.Vu.removeTarget(E))}),function(u,l){return o.apply(this,arguments)})(i,e)}catch(o){Ye("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),o),yield ff(i,o)}else if(e instanceof Qa?i.Vu.Ht(e):e instanceof tl?i.Vu.ne(e):i.Vu.Xt(e),!n.isEqual(Ct.min()))try{const o=yield tf(i.localStore);n.compareTo(o)>=0&&(yield function(u,l){const f=u.Vu.ce(l);return f.targetChanges.forEach((E,x)=>{if(E.resumeToken.approximateByteSize()>0){const P=u.Au.get(x);P&&u.Au.set(x,P.withResumeToken(E.resumeToken,l))}}),f.targetMismatches.forEach((E,x)=>{const P=u.Au.get(E);if(!P)return;u.Au.set(E,P.withResumeToken(Hi.EMPTY_BYTE_STRING,P.snapshotVersion)),th(u,E);const $=new wu(P.target,E,x,P.sequenceNumber);og(u,$)}),u.remoteSyncer.applyRemoteEvent(f)}(i,n))}catch(o){Ye("RemoteStore","Failed to raise snapshot:",o),yield ff(i,o)}var o}),qm.apply(this,arguments)}function ff(i,e,n){return od.apply(this,arguments)}function od(){return od=(0,Z.A)(function*(i,e,n){if(!vo(e))throw e;i.vu.add(1),yield pl(i),i.bu.set("Offline"),n||(n=()=>tf(i.localStore)),i.asyncQueue.enqueueRetryable((0,Z.A)(function*(){Ye("RemoteStore","Retrying IndexedDB access"),yield n(),i.vu.delete(1),yield Jd(i)}))}),od.apply(this,arguments)}function Qm(i,e){return e().catch(n=>ff(i,n,e))}function Za(i){return gl.apply(this,arguments)}function gl(){return gl=(0,Z.A)(function*(i){const e=pt(i),n=Vc(e);let o=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;$v(e);)try{const u=yield Wp(e.localStore,o);if(null===u){0===e.Eu.length&&n.jo();break}o=u.batchId,Xm(e,u)}catch(u){yield ff(e,u)}Ym(e)&&Zm(e)}),gl.apply(this,arguments)}function $v(i){return ic(i)&&i.Eu.length<10}function Xm(i,e){i.Eu.push(e);const n=Vc(i);n.Ko()&&n.ou&&n.uu(e.mutations)}function Ym(i){return ic(i)&&!Vc(i).Uo()&&i.Eu.length>0}function Zm(i){Vc(i).start()}function Hv(i){return pf.apply(this,arguments)}function pf(){return pf=(0,Z.A)(function*(i){Vc(i).hu()}),pf.apply(this,arguments)}function Jm(i){return rh.apply(this,arguments)}function rh(){return rh=(0,Z.A)(function*(i){const e=Vc(i);for(const n of i.Eu)e.uu(n.mutations)}),rh.apply(this,arguments)}function ZI(i,e,n){return ih.apply(this,arguments)}function ih(){return ih=(0,Z.A)(function*(i,e,n){const o=i.Eu.shift(),u=Fh.from(o,e,n);yield Qm(i,()=>i.remoteSyncer.applySuccessfulWrite(u)),yield Za(i)}),ih.apply(this,arguments)}function ey(i,e){return lg.apply(this,arguments)}function lg(){return lg=(0,Z.A)(function*(i,e){var n;e&&Vc(i).ou&&(yield(n=(0,Z.A)(function*(o,u){if(function T(i){switch(i){default:return wt();case Me.CANCELLED:case Me.UNKNOWN:case Me.DEADLINE_EXCEEDED:case Me.RESOURCE_EXHAUSTED:case Me.INTERNAL:case Me.UNAVAILABLE:case Me.UNAUTHENTICATED:return!1;case Me.INVALID_ARGUMENT:case Me.NOT_FOUND:case Me.ALREADY_EXISTS:case Me.PERMISSION_DENIED:case Me.FAILED_PRECONDITION:case Me.ABORTED:case Me.OUT_OF_RANGE:case Me.UNIMPLEMENTED:case Me.DATA_LOSS:return!0}}(l=u.code)&&l!==Me.ABORTED){const f=o.Eu.shift();Vc(o).Qo(),yield Qm(o,()=>o.remoteSyncer.rejectFailedWrite(f.batchId,u)),yield Za(o)}var l}),function(o,u){return n.apply(this,arguments)})(i,e)),Ym(i)&&Zm(i)}),lg.apply(this,arguments)}function ty(i,e){return gf.apply(this,arguments)}function gf(){return gf=(0,Z.A)(function*(i,e){const n=pt(i);n.asyncQueue.verifyOperationInProgress(),Ye("RemoteStore","RemoteStore received new credentials");const o=ic(n);n.vu.add(3),yield pl(n),o&&n.bu.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.vu.delete(3),yield Jd(n)}),gf.apply(this,arguments)}function mf(){return mf=(0,Z.A)(function*(i,e){const n=pt(i);e?(n.vu.delete(2),yield Jd(n)):e||(n.vu.add(2),yield pl(n),n.bu.set("Unknown"))}),mf.apply(this,arguments)}function ad(i){return i.Su||(i.Su=function(e,n,o){const u=pt(e);return u.fu(),new uf(n,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{uo:hf.bind(null,i),ao:Wm.bind(null,i),nu:Km.bind(null,i)}),i.Ru.push(function(){var e=(0,Z.A)(function*(n){n?(i.Su.Qo(),ag(i)?nh(i):i.bu.set("Unknown")):(yield i.Su.stop(),df(i))});return function(n){return e.apply(this,arguments)}}())),i.Su}function Vc(i){return i.Du||(i.Du=function(e,n,o){const u=pt(e);return u.fu(),new YI(n,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{uo:Hv.bind(null,i),ao:ey.bind(null,i),au:Jm.bind(null,i),cu:ZI.bind(null,i)}),i.Ru.push(function(){var e=(0,Z.A)(function*(n){n?(i.Du.Qo(),yield Za(i)):(yield i.Du.stop(),i.Eu.length>0&&(Ye("RemoteStore",`Stopping write stream with ${i.Eu.length} pending writes`),i.Eu=[]))});return function(n){return e.apply(this,arguments)}}())),i.Du}class ny{constructor(e,n,o,u,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=o,this.op=u,this.removalCallback=l,this.deferred=new Qr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}static createAndSchedule(e,n,o,u,l){const f=Date.now()+o,E=new ny(e,n,f,u,l);return E.start(o),E}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Pe(Me.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ml(i,e){if(zr("AsyncQueue",`${e}: ${i}`),vo(i))return new Pe(Me.UNAVAILABLE,`${e}: ${i}`);throw i}class yl{constructor(e){this.comparator=e?(n,o)=>e(n,o)||ht.comparator(n.key,o.key):(n,o)=>ht.comparator(n.key,o.key),this.keyedMap=Jc(),this.sortedSet=new ir(this.comparator)}static emptySet(e){return new yl(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,o)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof yl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),o=e.sortedSet.getIterator();for(;n.hasNext();){const u=n.getNext().key,l=o.getNext().key;if(!u.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const o=new yl;return o.comparator=this.comparator,o.keyedMap=e,o.sortedSet=n,o}}class Aa{constructor(){this.Cu=new ir(ht.comparator)}track(e){const n=e.doc.key,o=this.Cu.get(n);o?0!==e.type&&3===o.type?this.Cu=this.Cu.insert(n,e):3===e.type&&1!==o.type?this.Cu=this.Cu.insert(n,{type:o.type,doc:e.doc}):2===e.type&&2===o.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):2===e.type&&0===o.type?this.Cu=this.Cu.insert(n,{type:0,doc:e.doc}):1===e.type&&0===o.type?this.Cu=this.Cu.remove(n):1===e.type&&2===o.type?this.Cu=this.Cu.insert(n,{type:1,doc:o.doc}):0===e.type&&1===o.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):wt():this.Cu=this.Cu.insert(n,e)}xu(){const e=[];return this.Cu.inorderTraversal((n,o)=>{e.push(o)}),e}}class vl{constructor(e,n,o,u,l,f,E,x,P){this.query=e,this.docs=n,this.oldDocs=o,this.docChanges=u,this.mutatedKeys=l,this.fromCache=f,this.syncStateChanged=E,this.excludesMetadataChanges=x,this.hasCachedResults=P}static fromInitialDocuments(e,n,o,u,l){const f=[];return n.forEach(E=>{f.push({type:0,doc:E})}),new vl(e,n,yl.emptySet(n),f,o,u,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Yc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,o=e.docChanges;if(n.length!==o.length)return!1;for(let u=0;u<n.length;u++)if(n[u].type!==o[u].type||!n[u].doc.isEqual(o[u].doc))return!1;return!0}}class JI{constructor(){this.Nu=void 0,this.listeners=[]}}class hg{constructor(){this.queries=new vu(e=>$l(e),Yc),this.onlineState="Unknown",this.ku=new Set}}function ud(){return ud=(0,Z.A)(function*(i,e){const n=pt(i),o=e.query;let u=!1,l=n.queries.get(o);if(l||(u=!0,l=new JI),u)try{l.Nu=yield n.onListen(o)}catch(f){const E=ml(f,`Initialization of query '${Cc(e.query)}' failed`);return void e.onError(E)}n.queries.set(o,l),l.listeners.push(e),e.Mu(n.onlineState),l.Nu&&e.$u(l.Nu)&&Sa(n)}),ud.apply(this,arguments)}function pg(){return pg=(0,Z.A)(function*(i,e){const n=pt(i),o=e.query;let u=!1;const l=n.queries.get(o);if(l){const f=l.listeners.indexOf(e);f>=0&&(l.listeners.splice(f,1),u=0===l.listeners.length)}if(u)return n.queries.delete(o),n.onUnlisten(o)}),pg.apply(this,arguments)}function zv(i,e){const n=pt(i);let o=!1;for(const u of e){const f=n.queries.get(u.query);if(f){for(const E of f.listeners)E.$u(u)&&(o=!0);f.Nu=u}}o&&Sa(n)}function gg(i,e,n){const o=pt(i),u=o.queries.get(e);if(u)for(const l of u.listeners)l.onError(n);o.queries.delete(e)}function Sa(i){i.ku.forEach(e=>{e.next()})}class yf{constructor(e,n,o){this.query=e,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=o||{}}$u(e){if(!this.options.includeMetadataChanges){const o=[];for(const u of e.docChanges)3!==u.type&&o.push(u);e=new vl(e.query,e.docs,e.oldDocs,o,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),n=!0):this.qu(e,this.onlineState)&&(this.Uu(e),n=!0),this.Bu=e,n}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let n=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),n=!0),n}qu(e,n){return!e.fromCache||(!this.options.Ku||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=vl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class vf{constructor(e){this.key=e}}class iy{constructor(e){this.key=e}}class sy{constructor(e,n){this.query=e,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=Tn(),this.mutatedKeys=Tn(),this.tc=sp(e),this.ec=new yl(this.tc)}get nc(){return this.Yu}sc(e,n){const o=n?n.ic:new Aa,u=n?n.ec:this.ec;let l=n?n.mutatedKeys:this.mutatedKeys,f=u,E=!1;const x="F"===this.query.limitType&&u.size===this.query.limit?u.last():null,P="L"===this.query.limitType&&u.size===this.query.limit?u.first():null;if(e.inorderTraversal(($,J)=>{const Te=u.get($),Fe=Zc(this.query,J)?J:null,at=!!Te&&this.mutatedKeys.has(Te.key),Dt=!!Fe&&(Fe.hasLocalMutations||this.mutatedKeys.has(Fe.key)&&Fe.hasCommittedMutations);let At=!1;Te&&Fe?Te.data.isEqual(Fe.data)?at!==Dt&&(o.track({type:3,doc:Fe}),At=!0):this.rc(Te,Fe)||(o.track({type:2,doc:Fe}),At=!0,(x&&this.tc(Fe,x)>0||P&&this.tc(Fe,P)<0)&&(E=!0)):!Te&&Fe?(o.track({type:0,doc:Fe}),At=!0):Te&&!Fe&&(o.track({type:1,doc:Te}),At=!0,(x||P)&&(E=!0)),At&&(Fe?(f=f.add(Fe),l=Dt?l.add($):l.delete($)):(f=f.delete($),l=l.delete($)))}),null!==this.query.limit)for(;f.size>this.query.limit;){const $="F"===this.query.limitType?f.last():f.first();f=f.delete($.key),l=l.delete($.key),o.track({type:1,doc:$})}return{ec:f,ic:o,zi:E,mutatedKeys:l}}rc(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,o){const u=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const l=e.ic.xu();l.sort((P,$)=>function(J,Te){const Fe=at=>{switch(at){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return wt()}};return Fe(J)-Fe(Te)}(P.type,$.type)||this.tc(P.doc,$.doc)),this.oc(o);const f=n?this.uc():[],E=0===this.Zu.size&&this.current?1:0,x=E!==this.Xu;return this.Xu=E,0!==l.length||x?{snapshot:new vl(this.query,e.ec,u,l,e.mutatedKeys,0===E,x,!1,!!o&&o.resumeToken.approximateByteSize()>0),cc:f}:{cc:f}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new Aa,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(n=>this.Yu=this.Yu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Yu=this.Yu.delete(n)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=Tn(),this.ec.forEach(o=>{this.ac(o.key)&&(this.Zu=this.Zu.add(o.key))});const n=[];return e.forEach(o=>{this.Zu.has(o)||n.push(new iy(o))}),this.Zu.forEach(o=>{e.has(o)||n.push(new vf(o))}),n}hc(e){this.Yu=e.ir,this.Zu=Tn();const n=this.sc(e.documents);return this.applyChanges(n,!0)}lc(){return vl.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class mg{constructor(e,n,o){this.query=e,this.targetId=n,this.view=o}}class oy{constructor(e){this.key=e,this.fc=!1}}class ay{constructor(e,n,o,u,l,f){this.localStore=e,this.remoteStore=n,this.eventManager=o,this.sharedClientState=u,this.currentUser=l,this.maxConcurrentLimboResolutions=f,this.dc={},this.wc=new vu(E=>$l(E),Yc),this._c=new Map,this.mc=new Set,this.gc=new ir(ht.comparator),this.yc=new Map,this.Ic=new Vp,this.Tc={},this.Ec=new Map,this.Ac=Fc.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function Kv(i,e){return _f.apply(this,arguments)}function _f(){return _f=(0,Z.A)(function*(i,e){const n=function xf(i){const e=pt(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=Au.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=t0.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Qv.bind(null,e),e.dc.nu=zv.bind(null,e.eventManager),e.dc.Pc=gg.bind(null,e.eventManager),e}(i);let o,u;const l=n.wc.get(e);if(l)o=l.targetId,n.sharedClientState.addLocalQueryTarget(o),u=l.view.lc();else{const f=yield function rc(i,e){const n=pt(i);return n.persistence.runTransaction("Allocate target","readwrite",o=>{let u;return n.Bs.getTargetData(o,e).next(l=>l?(u=l,me.resolve(u)):n.Bs.allocateTargetId(o).next(f=>(u=new wu(e,f,"TargetPurposeListen",o.currentSequenceNumber),n.Bs.addTargetData(o,u).next(()=>u))))}).then(o=>{const u=n.Ji.get(o.targetId);return(null===u||o.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(o.targetId,o),n.Yi.set(e,o.targetId)),o})}(n.localStore,hs(e)),E=n.sharedClientState.addLocalQueryTarget(f.targetId);o=f.targetId,u=yield function If(i,e,n,o,u){return yg.apply(this,arguments)}(n,e,o,"current"===E,f.resumeToken),n.isPrimaryClient&&cf(n.remoteStore,f)}return u}),_f.apply(this,arguments)}function yg(){return yg=(0,Z.A)(function*(i,e,n,o,u){i.Rc=(J,Te,Fe)=>{return(at=(0,Z.A)(function*(Dt,At,On,pr){let Wn=At.view.sc(On);Wn.zi&&(Wn=yield nd(Dt.localStore,At.query,!1).then(({documents:pi})=>At.view.sc(pi,Wn)));const ps=pr&&pr.targetChanges.get(At.targetId),ss=At.view.applyChanges(Wn,Dt.isPrimaryClient,ps);return Df(Dt,At.targetId,ss.cc),ss.snapshot}),function(Dt,At,On,pr){return at.apply(this,arguments)})(i,J,Te,Fe);var at};const l=yield nd(i.localStore,e,!0),f=new sy(e,l.ir),E=f.sc(l.documents),x=ca.createSynthesizedTargetChangeForCurrentChange(n,o&&"Offline"!==i.onlineState,u),P=f.applyChanges(E,i.isPrimaryClient,x);Df(i,n,P.cc);const $=new mg(e,n,f);return i.wc.set(e,$),i._c.has(n)?i._c.get(n).push(e):i._c.set(n,[e]),P.snapshot}),yg.apply(this,arguments)}function qv(i,e){return vg.apply(this,arguments)}function vg(){return vg=(0,Z.A)(function*(i,e){const n=pt(i),o=n.wc.get(e),u=n._c.get(o.targetId);if(u.length>1)return n._c.set(o.targetId,u.filter(l=>!Yc(l,e))),void n.wc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(o.targetId),n.sharedClientState.isActiveQueryTarget(o.targetId)||(yield Ao(n.localStore,o.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(o.targetId),lf(n.remoteStore,o.targetId),ld(n,o.targetId)}).catch(Ps))):(ld(n,o.targetId),yield Ao(n.localStore,o.targetId,!0))}),vg.apply(this,arguments)}function Bc(){return Bc=(0,Z.A)(function*(i,e,n){const o=function ah(i){const e=pt(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=ly.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=oh.bind(null,e),e}(i);try{const u=yield function(l,f){const E=pt(l),x=Ar.now(),P=f.reduce((Te,Fe)=>Te.add(Fe.key),Tn());let $,J;return E.persistence.runTransaction("Locally write mutations","readwrite",Te=>{let Fe=Vs(),at=Tn();return E.Zi.getEntries(Te,P).next(Dt=>{Fe=Dt,Fe.forEach((At,On)=>{On.isValidDocument()||(at=at.add(At))})}).next(()=>E.localDocuments.getOverlayedDocuments(Te,Fe)).next(Dt=>{$=Dt;const At=[];for(const On of f){const pr=mp(On,$.get(On.key).overlayedDocument);null!=pr&&At.push(new to(On.key,pr,Ul(pr.value.mapValue),wi.exists(!0)))}return E.mutationQueue.addMutationBatch(Te,x,At,f)}).next(Dt=>{J=Dt;const At=Dt.applyToLocalDocumentSet($,at);return E.documentOverlayCache.saveOverlays(Te,Dt.batchId,At)})}).then(()=>({batchId:J.batchId,changes:ap($)}))}(o.localStore,e);o.sharedClientState.addPendingMutation(u.batchId),function(l,f,E){let x=l.Tc[l.currentUser.toKey()];x||(x=new ir(bt)),x=x.insert(f,E),l.Tc[l.currentUser.toKey()]=x}(o,u.batchId,n),yield $c(o,u.changes),yield Za(o.remoteStore)}catch(u){const l=ml(u,"Failed to persist write");n.reject(l)}}),Bc.apply(this,arguments)}function Au(i,e){return jc.apply(this,arguments)}function jc(){return jc=(0,Z.A)(function*(i,e){const n=pt(i);try{const o=yield function nf(i,e){const n=pt(i),o=e.snapshotVersion;let u=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const f=n.Zi.newChangeBuffer({trackRemovals:!0});u=n.Ji;const E=[];e.targetChanges.forEach(($,J)=>{const Te=u.get(J);if(!Te)return;E.push(n.Bs.removeMatchingKeys(l,$.removedDocuments,J).next(()=>n.Bs.addMatchingKeys(l,$.addedDocuments,J)));let Fe=Te.withSequenceNumber(l.currentSequenceNumber);var at,Dt,At;null!==e.targetMismatches.get(J)?Fe=Fe.withResumeToken(Hi.EMPTY_BYTE_STRING,Ct.min()).withLastLimboFreeSnapshotVersion(Ct.min()):$.resumeToken.approximateByteSize()>0&&(Fe=Fe.withResumeToken($.resumeToken,o)),u=u.insert(J,Fe),Dt=Fe,At=$,(0===(at=Te).resumeToken.approximateByteSize()||Dt.snapshotVersion.toMicroseconds()-at.snapshotVersion.toMicroseconds()>=3e8||At.addedDocuments.size+At.modifiedDocuments.size+At.removedDocuments.size>0)&&E.push(n.Bs.updateTargetData(l,Fe))});let x=Vs(),P=Tn();if(e.documentUpdates.forEach($=>{e.resolvedLimboDocuments.has($)&&E.push(n.persistence.referenceDelegate.updateLimboDocument(l,$))}),E.push(function jm(i,e,n){let o=Tn(),u=Tn();return n.forEach(l=>o=o.add(l)),e.getEntries(i,o).next(l=>{let f=Vs();return n.forEach((E,x)=>{const P=l.get(E);x.isFoundDocument()!==P.isFoundDocument()&&(u=u.add(E)),x.isNoDocument()&&x.version.isEqual(Ct.min())?(e.removeEntry(E,x.readTime),f=f.insert(E,x)):!P.isValidDocument()||x.version.compareTo(P.version)>0||0===x.version.compareTo(P.version)&&P.hasPendingWrites?(e.addEntry(x),f=f.insert(E,x)):Ye("LocalStore","Ignoring outdated watch update for ",E,". Current version:",P.version," Watch version:",x.version)}),{nr:f,sr:u}})}(l,f,e.documentUpdates).next($=>{x=$.nr,P=$.sr})),!o.isEqual(Ct.min())){const $=n.Bs.getLastRemoteSnapshotVersion(l).next(J=>n.Bs.setTargetsMetadata(l,l.currentSequenceNumber,o));E.push($)}return me.waitFor(E).next(()=>f.apply(l)).next(()=>n.localDocuments.getLocalViewOfDocuments(l,x,P)).next(()=>x)}).then(l=>(n.Ji=u,l))}(n.localStore,e);e.targetChanges.forEach((u,l)=>{const f=n.yc.get(l);f&&(Nt(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1),u.addedDocuments.size>0?f.fc=!0:u.modifiedDocuments.size>0?Nt(f.fc):u.removedDocuments.size>0&&(Nt(f.fc),f.fc=!1))}),yield $c(n,o,e)}catch(o){yield Ps(o)}}),jc.apply(this,arguments)}function cy(i,e,n){const o=pt(i);if(o.isPrimaryClient&&0===n||!o.isPrimaryClient&&1===n){const u=[];o.wc.forEach((l,f)=>{const E=f.view.Mu(e);E.snapshot&&u.push(E.snapshot)}),function(l,f){const E=pt(l);E.onlineState=f;let x=!1;E.queries.forEach((P,$)=>{for(const J of $.listeners)J.Mu(f)&&(x=!0)}),x&&Sa(E)}(o.eventManager,e),u.length&&o.dc.nu(u),o.onlineState=e,o.isPrimaryClient&&o.sharedClientState.setOnlineState(e)}}function Qv(i,e,n){return wf.apply(this,arguments)}function wf(){return wf=(0,Z.A)(function*(i,e,n){const o=pt(i);o.sharedClientState.updateQueryState(e,"rejected",n);const u=o.yc.get(e),l=u&&u.key;if(l){let f=new ir(ht.comparator);f=f.insert(l,Rr.newNoDocument(l,Ct.min()));const E=Tn().add(l),x=new Bs(Ct.min(),new Map,new ir(bt),f,E);yield Au(o,x),o.gc=o.gc.remove(l),o.yc.delete(e),wg(o)}else yield Ao(o.localStore,e,!1).then(()=>ld(o,e,n)).catch(Ps)}),wf.apply(this,arguments)}function ly(i,e){return sh.apply(this,arguments)}function sh(){return sh=(0,Z.A)(function*(i,e){const n=pt(i),o=e.batch.batchId;try{const u=yield function Uv(i,e){const n=pt(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const u=e.batch.keys(),l=n.Zi.newChangeBuffer({trackRemovals:!0});return function(f,E,x,P){const $=x.batch,J=$.keys();let Te=me.resolve();return J.forEach(Fe=>{Te=Te.next(()=>P.getEntry(E,Fe)).next(at=>{const Dt=x.docVersions.get(Fe);Nt(null!==Dt),at.version.compareTo(Dt)<0&&($.applyToRemoteDocument(at,x),at.isValidDocument()&&(at.setReadTime(x.commitVersion),P.addEntry(at)))})}),Te.next(()=>f.mutationQueue.removeMutationBatch(E,$))}(n,o,e,l).next(()=>l.apply(o)).next(()=>n.mutationQueue.performConsistencyCheck(o)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(o,u,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(o,function(f){let E=Tn();for(let x=0;x<f.mutationResults.length;++x)f.mutationResults[x].transformResults.length>0&&(E=E.add(f.batch.mutations[x].key));return E}(e))).next(()=>n.localDocuments.getDocuments(o,u))})}(n.localStore,e);Ig(n,o,null),_g(n,o),n.sharedClientState.updateMutationState(o,"acknowledged"),yield $c(n,u)}catch(u){yield Ps(u)}}),sh.apply(this,arguments)}function oh(i,e,n){return cd.apply(this,arguments)}function cd(){return cd=(0,Z.A)(function*(i,e,n){const o=pt(i);try{const u=yield function(l,f){const E=pt(l);return E.persistence.runTransaction("Reject batch","readwrite-primary",x=>{let P;return E.mutationQueue.lookupMutationBatch(x,f).next($=>(Nt(null!==$),P=$.keys(),E.mutationQueue.removeMutationBatch(x,$))).next(()=>E.mutationQueue.performConsistencyCheck(x)).next(()=>E.documentOverlayCache.removeOverlaysForBatchId(x,P,f)).next(()=>E.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(x,P)).next(()=>E.localDocuments.getDocuments(x,P))})}(o.localStore,e);Ig(o,e,n),_g(o,e),o.sharedClientState.updateMutationState(e,"rejected",n),yield $c(o,u)}catch(u){yield Ps(u)}}),cd.apply(this,arguments)}function _g(i,e){(i.Ec.get(e)||[]).forEach(n=>{n.resolve()}),i.Ec.delete(e)}function Ig(i,e,n){const o=pt(i);let u=o.Tc[o.currentUser.toKey()];if(u){const l=u.get(e);l&&(n?l.reject(n):l.resolve(),u=u.remove(e)),o.Tc[o.currentUser.toKey()]=u}}function ld(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const o of i._c.get(e))i.wc.delete(o),n&&i.dc.Pc(o,n);i._c.delete(e),i.isPrimaryClient&&i.Ic.Is(e).forEach(o=>{i.Ic.containsKey(o)||hy(i,o)})}function hy(i,e){i.mc.delete(e.path.canonicalString());const n=i.gc.get(e);null!==n&&(lf(i.remoteStore,n),i.gc=i.gc.remove(e),i.yc.delete(n),wg(i))}function Df(i,e,n){for(const o of n)o instanceof vf?(i.Ic.addReference(o.key,e),e0(i,o)):o instanceof iy?(Ye("SyncEngine","Document no longer in limbo: "+o.key),i.Ic.removeReference(o.key,e),i.Ic.containsKey(o.key)||hy(i,o.key)):wt()}function e0(i,e){const n=e.key,o=n.path.canonicalString();i.gc.get(n)||i.mc.has(o)||(Ye("SyncEngine","New document in limbo: "+n),i.mc.add(o),wg(i))}function wg(i){for(;i.mc.size>0&&i.gc.size<i.maxConcurrentLimboResolutions;){const e=i.mc.values().next().value;i.mc.delete(e);const n=new ht(Vn.fromString(e)),o=i.Ac.next();i.yc.set(o,new oy(n)),i.gc=i.gc.insert(n,o),cf(i.remoteStore,new wu(hs(mu(n.path)),o,"TargetPurposeLimboResolution",Pi.ct))}}function $c(i,e,n){return fy.apply(this,arguments)}function fy(){return fy=(0,Z.A)(function*(i,e,n){const o=pt(i),u=[],l=[],f=[];var E;o.wc.isEmpty()||(o.wc.forEach((E,x)=>{f.push(o.Rc(x,e,n).then(P=>{if((P||n)&&o.isPrimaryClient&&o.sharedClientState.updateQueryState(x.targetId,P?.fromCache?"not-current":"current"),P){u.push(P);const $=Kd.Li(x.targetId,P);l.push($)}}))}),yield Promise.all(f),o.dc.nu(u),yield(E=(0,Z.A)(function*(x,P){const $=pt(x);try{yield $.persistence.runTransaction("notifyLocalViewChanges","readwrite",J=>me.forEach(P,Te=>me.forEach(Te.Fi,Fe=>$.persistence.referenceDelegate.addReference(J,Te.targetId,Fe)).next(()=>me.forEach(Te.Bi,Fe=>$.persistence.referenceDelegate.removeReference(J,Te.targetId,Fe)))))}catch(J){if(!vo(J))throw J;Ye("LocalStore","Failed to update sequence numbers: "+J)}for(const J of P){const Te=J.targetId;if(!J.fromCache){const Fe=$.Ji.get(Te),Dt=Fe.withLastLimboFreeSnapshotVersion(Fe.snapshotVersion);$.Ji=$.Ji.insert(Te,Dt)}}}),function(x,P){return E.apply(this,arguments)})(o.localStore,l))}),fy.apply(this,arguments)}function py(i,e){return Tf.apply(this,arguments)}function Tf(){return Tf=(0,Z.A)(function*(i,e){const n=pt(i);if(!n.currentUser.isEqual(e)){Ye("SyncEngine","User change. New user:",e.toKey());const o=yield Gp(n.localStore,e);n.currentUser=e,(u=n).Ec.forEach(f=>{f.forEach(E=>{E.reject(new Pe(Me.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),u.Ec.clear(),n.sharedClientState.handleUserChange(e,o.removedBatchIds,o.addedBatchIds),yield $c(n,o.er)}var u}),Tf.apply(this,arguments)}function t0(i,e){const n=pt(i),o=n.yc.get(e);if(o&&o.fc)return Tn().add(o.key);{let u=Tn();const l=n._c.get(e);if(!l)return u;for(const f of l){const E=n.wc.get(f);u=u.unionWith(E.view.nc)}return u}}class Gc{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return(0,Z.A)(function*(){n.serializer=Cu(e.databaseInfo.databaseId),n.sharedClientState=n.createSharedClientState(e),n.persistence=n.createPersistence(e),yield n.persistence.start(),n.localStore=n.createLocalStore(e),n.gcScheduler=n.createGarbageCollectionScheduler(e,n.localStore),n.indexBackfillerScheduler=n.createIndexBackfillerScheduler(e,n.localStore)})()}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return function zp(i,e,n,o){return new Hp(i,e,n,o)}(this.persistence,new Bm,e.initialUser,this.serializer)}createPersistence(e){return new ll(Gd.zs,this.serializer)}createSharedClientState(e){return new Bv}terminate(){var e=this;return(0,Z.A)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class dd{initialize(e,n){var o=this;return(0,Z.A)(function*(){o.localStore||(o.localStore=e.localStore,o.sharedClientState=e.sharedClientState,o.datastore=o.createDatastore(n),o.remoteStore=o.createRemoteStore(n),o.eventManager=o.createEventManager(n),o.syncEngine=o.createSyncEngine(n,!e.synchronizeTabs),o.sharedClientState.onlineStateHandler=u=>cy(o.syncEngine,u,1),o.remoteStore.remoteSyncer.handleCredentialChange=py.bind(null,o.syncEngine),yield function dg(i,e){return mf.apply(this,arguments)}(o.remoteStore,o.syncEngine.isPrimaryClient))})()}createEventManager(e){return new hg}createDatastore(e){const n=Cu(e.databaseInfo.databaseId),o=new ng(e.databaseInfo);return new rg(e.authCredentials,e.appCheckCredentials,o,n)}createRemoteStore(e){return n=this.localStore,o=this.datastore,u=e.asyncQueue,l=E=>cy(this.syncEngine,E,0),f=Qd.D()?new Qd:new XI,new jv(n,o,u,l,f);var n,o,u,l,f}createSyncEngine(e,n){return function(o,u,l,f,E,x,P){const $=new ay(o,u,l,f,E,x);return P&&($.vc=!0),$}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return(e=(0,Z.A)(function*(n){const o=pt(n);Ye("RemoteStore","RemoteStore shutting down."),o.vu.add(5),yield pl(o),o.Pu.shutdown(),o.bu.set("Unknown")}),function(n){return e.apply(this,arguments)})(this.remoteStore);var e}}class ch{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):zr("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class e_{constructor(e,n,o,u){var l=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=o,this.databaseInfo=u,this.user=ar.UNAUTHENTICATED,this.clientId=Va.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(o,function(){var f=(0,Z.A)(function*(E){Ye("FirestoreClient","Received user=",E.uid),yield l.authCredentialListener(E),l.user=E});return function(E){return f.apply(this,arguments)}}()),this.appCheckCredentials.start(o,f=>(Ye("FirestoreClient","Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}getConfiguration(){var e=this;return(0,Z.A)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Pe(Me.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new Qr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Z.A)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(o){const u=ml(o,"Failed to shutdown persistence");n.reject(u)}})),n.promise}}function lh(i,e){return Nf.apply(this,arguments)}function Nf(){return Nf=(0,Z.A)(function*(i,e){i.asyncQueue.verifyOperationInProgress(),Ye("FirestoreClient","Initializing OfflineComponentProvider");const n=yield i.getConfiguration();yield e.initialize(n);let o=n.initialUser;i.setCredentialChangeListener(function(){var u=(0,Z.A)(function*(l){o.isEqual(l)||(yield Gp(e.localStore,l),o=l)});return function(l){return u.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}),Nf.apply(this,arguments)}function Ag(i,e){return Sg.apply(this,arguments)}function Sg(){return Sg=(0,Z.A)(function*(i,e){i.asyncQueue.verifyOperationInProgress();const n=yield function Mg(i){return xg.apply(this,arguments)}(i);Ye("FirestoreClient","Initializing OnlineComponentProvider");const o=yield i.getConfiguration();yield e.initialize(n,o),i.setCredentialChangeListener(u=>ty(e.remoteStore,u)),i.setAppCheckTokenChangeListener((u,l)=>ty(e.remoteStore,l)),i._onlineComponents=e}),Sg.apply(this,arguments)}function xg(){return xg=(0,Z.A)(function*(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){Ye("FirestoreClient","Using user provided OfflineComponentProvider");try{yield lh(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function Go(i){return"FirebaseError"===i.name?i.code===Me.FAILED_PRECONDITION||i.code===Me.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||22===i.code||20===i.code||11===i.code}(n))throw n;ls("Error using user provided cache. Falling back to memory cache: "+n),yield lh(i,new Gc)}}else Ye("FirestoreClient","Using default OfflineComponentProvider"),yield lh(i,new Gc);return i._offlineComponents}),xg.apply(this,arguments)}function Ng(i){return dh.apply(this,arguments)}function dh(){return dh=(0,Z.A)(function*(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(Ye("FirestoreClient","Using user provided OnlineComponentProvider"),yield Ag(i,i._uninitializedComponentsProvider._online)):(Ye("FirestoreClient","Using default OnlineComponentProvider"),yield Ag(i,new dd))),i._onlineComponents}),dh.apply(this,arguments)}function kg(){return kg=(0,Z.A)(function*(i){const e=yield Ng(i),n=e.eventManager;return n.onListen=Kv.bind(null,e.syncEngine),n.onUnlisten=qv.bind(null,e.syncEngine),n}),kg.apply(this,arguments)}function Ey(i,e,n={}){const o=new Qr;return i.asyncQueue.enqueueAndForget((0,Z.A)(function*(){return function(u,l,f,E,x){const P=new ch({next:J=>{l.enqueueAndForget(()=>function fg(i,e){return pg.apply(this,arguments)}(u,$)),J.fromCache&&"server"===E.source?x.reject(new Pe(Me.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):x.resolve(J)},error:J=>x.reject(J)}),$=new yf(f,P,{includeMetadataChanges:!0,Ku:!0});return function bu(i,e){return ud.apply(this,arguments)}(u,$)}(yield function hd(i){return kg.apply(this,arguments)}(i),i.asyncQueue,e,n,o)})),o.promise}function Ty(i){const e={};return void 0!==i.timeoutSeconds&&(e.timeoutSeconds=i.timeoutSeconds),e}const Ug=new Map;function Of(i,e,n){if(!n)throw new Pe(Me.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function kf(i){if(!ht.isDocumentKey(i))throw new Pe(Me.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function s_(i){if(ht.isDocumentKey(i))throw new Pe(Me.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function hh(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const e=(n=i).constructor?n.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var n;return"function"==typeof i?"a function":wt()}function sr(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new Pe(Me.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=hh(i);throw new Pe(Me.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}class Bg{constructor(e){var n,o;if(void 0===e.host){if(void 0!==e.ssl)throw new Pe(Me.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Pe(Me.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function Pf(i,e,n,o){if(!0===e&&!0===o)throw new Pe(Me.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=Ty(null!==(o=e.experimentalLongPollingOptions)&&void 0!==o?o:{}),function(u){if(void 0!==u.timeoutSeconds){if(isNaN(u.timeoutSeconds))throw new Pe(Me.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new Pe(Me.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new Pe(Me.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Il{constructor(e,n,o,u){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=o,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Bg({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Pe(Me.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Pe(Me.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Bg(e),void 0!==e.credentials&&(this._authCredentials=function(n){if(!n)return new Nr;switch(n.type){case"firstParty":return new Ri(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Pe(Me.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=Ug.get(e);n&&(Ye("ComponentProvider","Removing Datastore"),Ug.delete(e),n.terminate())}(this),Promise.resolve()}}class zi{constructor(e,n,o){this.converter=n,this._key=o,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ma(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new zi(this.firestore,e,this._key)}}class js{constructor(e,n,o){this.converter=n,this._query=o,this.type="query",this.firestore=e}withConverter(e){return new js(this.firestore,e,this._query)}}class Ma extends js{constructor(e,n,o){super(e,n,mu(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new zi(this.firestore,null,new ht(e))}withConverter(e){return new Ma(this.firestore,e,this._path)}}function o_(i,e,...n){if(i=(0,ee.Ku)(i),Of("collection","path",e),i instanceof Il){const o=Vn.fromString(e,...n);return s_(o),new Ma(i,null,o)}{if(!(i instanceof zi||i instanceof Ma))throw new Pe(Me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(Vn.fromString(e,...n));return s_(o),new Ma(i.firestore,null,o)}}class Cy{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new Yd(this,"async_queue_retry"),this.Xc=()=>{const n=fl();n&&Ye("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=fl();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=fl();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new Qr;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,Z.A)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(n){if(!vo(n))throw n;Ye("AsyncQueue","Operation failed with retryable error: "+n)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(o=>{throw this.Wc=o,this.Hc=!1,zr("INTERNAL UNHANDLED ERROR: ",function(l){let f=l.message||"";return l.stack&&(f=l.stack.includes(l.message)?l.stack:l.message+"\n"+l.stack),f}(o)),o}).then(o=>(this.Hc=!1,o))));return this.Gc=n,n}enqueueAfterDelay(e,n,o){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const u=ny.createAndSchedule(this,e,n,o,l=>this.na(l));return this.zc.push(u),u}Zc(){this.Wc&&wt()}verifyOperationInProgress(){}sa(){var e=this;return(0,Z.A)(function*(){let n;do{n=e.Gc,yield n}while(n!==e.Gc)})()}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,o)=>n.targetTimeMs-o.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}}class ui extends Il{constructor(e,n,o,u){super(e,n,o,u),this.type="firestore",this._queue=new Cy,this._persistenceKey=u?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||$g(this),this._firestoreClient.terminate()}}function l_(i,e){const n="object"==typeof i?i:(0,Xe.Sx)(),o="string"==typeof i?i:e||"(default)",u=(0,Xe.j6)(n,"firestore").getImmediate({identifier:o});if(!u._initialized){const l=(0,ee.yU)("firestore");l&&function sc(i,e,n,o={}){var u;const l=(i=sr(i,Il))._getSettings(),f=`${e}:${n}`;if("firestore.googleapis.com"!==l.host&&l.host!==f&&ls("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),i._setSettings(Object.assign(Object.assign({},l),{host:f,ssl:!1})),o.mockUserToken){let E,x;if("string"==typeof o.mockUserToken)E=o.mockUserToken,x=ar.MOCK_USER;else{E=(0,ee.Fy)(o.mockUserToken,null===(u=i._app)||void 0===u?void 0:u.options.projectId);const P=o.mockUserToken.sub||o.mockUserToken.user_id;if(!P)throw new Pe(Me.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");x=new ar(P)}i._authCredentials=new Uu(new au(E,x))}}(u,...l)}return u}function is(i){return i._firestoreClient||$g(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function $g(i){var e,n,o;const u=i._freezeSettings(),l=(E=(null===(e=i._app)||void 0===e?void 0:e.options.appId)||"",new Ll(i._databaseId,E,i._persistenceKey,(P=u).host,P.ssl,P.experimentalForceLongPolling,P.experimentalAutoDetectLongPolling,Ty(P.experimentalLongPollingOptions),P.useFetchStreams));var E,P;i._firestoreClient=new e_(i._authCredentials,i._appCheckCredentials,i._queue,l),null!==(n=u.cache)&&void 0!==n&&n._offlineComponentProvider&&null!==(o=u.cache)&&void 0!==o&&o._onlineComponentProvider&&(i._firestoreClient._uninitializedComponentsProvider={_offlineKind:u.cache.kind,_offline:u.cache._offlineComponentProvider,_online:u.cache._onlineComponentProvider})}class wl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new wl(Hi.fromBase64String(e))}catch(n){throw new Pe(Me.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new wl(Hi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class El{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new Pe(Me.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Dl{constructor(e){this._methodName=e}}class ph{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Pe(Me.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Pe(Me.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return bt(this._lat,e._lat)||bt(this._long,e._long)}}const g_=/^__.*__$/;class Uf{constructor(e,n,o){this.data=e,this.fieldMask=n,this.fieldTransforms=o}toMutation(e,n){return null!==this.fieldMask?new to(e,this.data,this.fieldMask,n,this.fieldTransforms):new xc(e,this.data,n,this.fieldTransforms)}}function My(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw wt()}}class Vf{constructor(e,n,o,u,l,f){this.settings=e,this.databaseId=n,this.serializer=o,this.ignoreUndefinedProperties=u,void 0===l&&this.ua(),this.fieldTransforms=l||[],this.fieldMask=f||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new Vf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var n;const o=null===(n=this.path)||void 0===n?void 0:n.child(e),u=this.aa({path:o,la:!1});return u.fa(e),u}da(e){var n;const o=null===(n=this.path)||void 0===n?void 0:n.child(e),u=this.aa({path:o,la:!1});return u.ua(),u}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return Mu(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(My(this.ca)&&g_.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class m_{constructor(e,n,o){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=o||Cu(e)}ya(e,n,o,u=!1){return new Vf({ca:e,methodName:n,ga:o,path:Xr.emptyPath(),la:!1,ma:u},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Tl(i){const e=i._freezeSettings(),n=Cu(i._databaseId);return new m_(i._databaseId,!!e.ignoreUndefinedProperties,n)}function Bf(i,e,n,o,u,l={}){const f=i.ya(l.merge||l.mergeFields?2:0,e,n,u);zg("Data must be an object, but it was:",f,o);const E=Ry(o,f);let x,P;if(l.merge)x=new ts(f.fieldMask),P=f.fieldTransforms;else if(l.mergeFields){const $=[];for(const J of l.mergeFields){const Te=Wo(e,J,n);if(!f.contains(Te))throw new Pe(Me.INVALID_ARGUMENT,`Field '${Te}' is specified in your field mask but missing from your input data.`);vh($,Te)||$.push(Te)}x=new ts($),P=f.fieldTransforms.filter(J=>x.covers(J.field))}else x=null,P=f.fieldTransforms;return new Uf(new Zr(E),x,P)}function Cl(i,e){if(Hf(i=(0,ee.Ku)(i)))return zg("Unsupported field value:",e,i),Ry(i,e);if(i instanceof Dl)return function(n,o){if(!My(o.ca))throw o._a(`${n._methodName}() can only be used with update() and set()`);if(!o.path)throw o._a(`${n._methodName}() is not currently supported inside arrays`);const u=n._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(i,e),null;if(void 0===i&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(n,o){const u=[];let l=0;for(const f of n){let E=Cl(f,o.wa(l));null==E&&(E={nullValue:"NULL_VALUE"}),u.push(E),l++}return{arrayValue:{values:u}}}(i,e)}return function(n,o){if(null===(n=(0,ee.Ku)(n)))return{nullValue:"NULL_VALUE"};if("number"==typeof n)return hp(o.serializer,n);if("boolean"==typeof n)return{booleanValue:n};if("string"==typeof n)return{stringValue:n};if(n instanceof Date){const u=Ar.fromDate(n);return{timestampValue:Yl(o.serializer,u)}}if(n instanceof Ar){const u=new Ar(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Yl(o.serializer,u)}}if(n instanceof ph)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof wl)return{bytesValue:_m(o.serializer,n._byteString)};if(n instanceof zi){const u=o.databaseId,l=n.firestore._databaseId;if(!l.isEqual(u))throw o._a(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Vh(n.firestore._databaseId||o.databaseId,n._key.path)}}throw o._a(`Unsupported field value: ${hh(n)}`)}(i,e)}function Ry(i,e){const n={};return _c(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Da(i,(o,u)=>{const l=Cl(u,e.ha(o));null!=l&&(n[o]=l)}),{mapValue:{fields:n}}}function Hf(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof Ar||i instanceof ph||i instanceof wl||i instanceof zi||i instanceof Dl)}function zg(i,e,n){if(!Hf(n)||"object"!=typeof(o=n)||null===o||Object.getPrototypeOf(o)!==Object.prototype&&null!==Object.getPrototypeOf(o)){const o=hh(n);throw e._a("an object"===o?i+" a custom object":i+" "+o)}var o}function Wo(i,e,n){if((e=(0,ee.Ku)(e))instanceof El)return e._internalPath;if("string"==typeof e)return fs(i,e);throw Mu("Field path arguments must be of type string or ",i,!1,void 0,n)}const yh=new RegExp("[~\\*/\\[\\]]");function fs(i,e,n){if(e.search(yh)>=0)throw Mu(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new El(...e.split("."))._internalPath}catch{throw Mu(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function Mu(i,e,n,o,u){const l=o&&!o.isEmpty(),f=void 0!==u;let E=`Function ${e}() called with invalid data`;n&&(E+=" (via `toFirestore()`)"),E+=". ";let x="";return(l||f)&&(x+=" (found",l&&(x+=` in field ${o}`),f&&(x+=` in document ${u}`),x+=")"),new Pe(Me.INVALID_ARGUMENT,E+i+x)}function vh(i,e){return i.some(n=>n.isEqual(e))}class io{constructor(e,n,o,u,l){this._firestore=e,this._userDataWriter=n,this._key=o,this._document=u,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new zi(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Gg(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(oc("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class Gg extends io{data(){return super.data()}}function oc(i,e){return"string"==typeof e?fs(i,e):e instanceof El?e._internalPath:e._delegate._internalPath}class Wc{}class xu extends Wc{}function gd(i,e,...n){let o=[];e instanceof Wc&&o.push(e),o=o.concat(n),function(u){const l=u.filter(E=>E instanceof Ja).length,f=u.filter(E=>E instanceof Nu).length;if(l>1||l>0&&f>0)throw new Pe(Me.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(o);for(const u of o)i=u._apply(i);return i}class Nu extends xu{constructor(e,n,o){super(),this._field=e,this._op=n,this._value=o,this.type="where"}static _create(e,n,o){return new Nu(e,n,o)}_apply(e){const n=this._parse(e);return C_(e._query,n),new js(e.firestore,e.converter,bd(e._query,n))}_parse(e){const n=Tl(e.firestore);return function(u,l,f,E,x,P,$){let J;if(x.isKeyField()){if("array-contains"===P||"array-contains-any"===P)throw new Pe(Me.INVALID_ARGUMENT,`Invalid Query. You can't perform '${P}' queries on documentId().`);if("in"===P||"not-in"===P){Py($,P);const Te=[];for(const Fe of $)Te.push(Oy(E,u,Fe));J={arrayValue:{values:Te}}}else J=Oy(E,u,$)}else"in"!==P&&"not-in"!==P&&"array-contains-any"!==P||Py($,P),J=function mh(i,e,n,o=!1){return Cl(n,i.ya(o?4:3,e))}(f,"where",$,"in"===P||"not-in"===P);return R.create(x,P,J)}(e._query,0,n,e.firestore._databaseId,this._field,this._op,this._value)}}function md(i,e,n){const o=e,u=oc("where",i);return Nu._create(u,o,n)}class Ja extends Wc{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Ja(e,n)}_parse(e){const n=this._queryConstraints.map(o=>o._parse(e)).filter(o=>o.getFilters().length>0);return 1===n.length?n[0]:z.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return 0===n.getFilters().length?e:(function(o,u){let l=o;const f=u.getFlattenedFilters();for(const E of f)C_(l,E),l=bd(l,E)}(e._query,n),new js(e.firestore,e.converter,bd(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}function Oy(i,e,n){if("string"==typeof(n=(0,ee.Ku)(n))){if(""===n)throw new Pe(Me.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Bl(e)&&-1!==n.indexOf("/"))throw new Pe(Me.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const o=e.path.child(Vn.fromString(n));if(!ht.isDocumentKey(o))throw new Pe(Me.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${o}' is not because it has an odd number of segments (${o.length}).`);return Ho(i,new ht(o))}if(n instanceof zi)return Ho(i,n._key);throw new Pe(Me.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${hh(n)}.`)}function Py(i,e){if(!Array.isArray(i)||0===i.length)throw new Pe(Me.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function C_(i,e){if(e.isInequality()){const o=yu(i),u=e.field;if(null!==o&&!o.isEqual(u))throw new Pe(Me.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${o.toString()}' and '${u.toString()}'`);const l=Cd(i);null!==l&&function ky(i,e,n){if(!n.isEqual(e))throw new Pe(Me.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}(0,u,l)}const n=function(o,u){for(const l of o)for(const f of l.getFlattenedFilters())if(u.indexOf(f.op)>=0)return f.op;return null}(i.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==n)throw new Pe(Me.INVALID_ARGUMENT,n===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class Ly{convertValue(e,n="none"){switch(aa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return oi(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ks(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw wt()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const o={};return Da(e,(u,l)=>{o[u]=this.convertValue(l,n)}),o}convertGeoPoint(e){return new ph(oi(e.latitude),oi(e.longitude))}convertArray(e,n){return(e.values||[]).map(o=>this.convertValue(o,n))}convertServerTimestamp(e,n){switch(n){case"previous":const o=Hu(e);return null==o?null:this.convertValue(o,n);case"estimate":return this.convertTimestamp(fu(e));default:return null}}convertTimestamp(e){const n=ki(e);return new Ar(n.seconds,n.nanos)}convertDocumentKey(e,n){const o=Vn.fromString(e);Nt(Ep(o));const u=new wo(o.get(1),o.get(3)),l=new ht(o.popFirst(5));return u.isEqual(n)||zr(`Document ${l} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}class eu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Al extends io{constructor(e,n,o,u,l,f){super(e,n,o,u,f),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Kf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const o=this._document.data.field(oc("DocumentSnapshot.get",e));if(null!==o)return this._userDataWriter.convertValue(o,n.serverTimestamps)}}}class Kf extends Al{data(e={}){return super.data(e)}}class Ru{constructor(e,n,o,u){this._firestore=e,this._userDataWriter=n,this._snapshot=u,this.metadata=new eu(u.hasPendingWrites,u.fromCache),this.query=o}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(o=>{e.call(n,new Kf(this._firestore,this._userDataWriter,o.key,o,new eu(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Pe(Me.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let l=0;return o._snapshot.docChanges.map(f=>({type:"added",doc:new Kf(o._firestore,o._userDataWriter,f.doc.key,f.doc,new eu(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter),oldIndex:-1,newIndex:l++}))}{let l=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(f=>u||3!==f.type).map(f=>{const E=new Kf(o._firestore,o._userDataWriter,f.doc.key,f.doc,new eu(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);let x=-1,P=-1;return 0!==f.type&&(x=l.indexOf(f.doc.key),l=l.delete(f.doc.key)),1!==f.type&&(l=l.add(f.doc),P=l.indexOf(f.doc.key)),{type:M_(f.type),doc:E,oldIndex:x,newIndex:P}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function M_(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return wt()}}class Kc extends Ly{constructor(e){super(),this.firestore=e}convertBytes(e){return new wl(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new zi(this.firestore,null,n)}}function qf(i){i=sr(i,js);const e=sr(i.firestore,ui),n=is(e),o=new Kc(e);return function bl(i){if("L"===i.limitType&&0===i.explicitOrderBy.length)throw new Pe(Me.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(i._query),Ey(n,i._query).then(u=>new Ru(e,o,i,u))}function By(i,e){const n=sr(i.firestore,ui),o=function u_(i,e,...n){if(i=(0,ee.Ku)(i),1===arguments.length&&(e=Va.A()),Of("doc","path",e),i instanceof Il){const o=Vn.fromString(e,...n);return kf(o),new zi(i,null,new ht(o))}{if(!(i instanceof zi||i instanceof Ma))throw new Pe(Me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(Vn.fromString(e,...n));return kf(o),new zi(i.firestore,i instanceof Ma?i.converter:null,new ht(o))}}(i),u=function Gf(i,e,n){let o;return o=i?n&&(n.merge||n.mergeFields)?i.toFirestore(e,n):i.toFirestore(e):e,o}(i.converter,e);return function vd(i,e){return function(n,o){const u=new Qr;return n.asyncQueue.enqueueAndForget((0,Z.A)(function*(){return function uy(i,e,n){return Bc.apply(this,arguments)}(yield function Og(i){return Ng(i).then(e=>e.syncEngine)}(n),o,u)})),u.promise}(is(i),e)}(n,[Bf(Tl(i.firestore),"addDoc",o._key,u,null!==i.converter,{}).toMutation(o._key,wi.exists(!1))]).then(()=>o)}!function(i,e=!0){Ir=Xe.MF,(0,Xe.om)(new je.uA("firestore",(n,{instanceIdentifier:o,options:u})=>{const l=n.getProvider("app").getImmediate(),f=new ui(new qc(n.getProvider("auth-internal")),new uu(n.getProvider("app-check-internal")),function(E,x){if(!Object.prototype.hasOwnProperty.apply(E.options,["projectId"]))throw new Pe(Me.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new wo(E.options.projectId,x)}(l,o),l);return u=Object.assign({useFetchStreams:e},u),f._setSettings(u),f},"PUBLIC").setMultipleInstances(!0)),(0,Xe.KO)(Is,"3.13.0",i),(0,Xe.KO)(Is,"3.13.0","esm2017")}();class Eh{constructor(e){return e}}const em="firestore",tm=new ie.nKC("angularfire2.firestore-instances");function $_(i){return(e,n)=>{const o=e.runOutsideAngular(()=>i(n));return new Eh(o)}}const qy={provide:class Ky{constructor(){return(0,S.CA)(em)}},deps:[[new ie.Xx1,tm]]},nm={provide:Eh,useFactory:function j_(i,e){const n=(0,S.lR)(em,i,e);return n&&new Eh(n)},deps:[[new ie.Xx1,tm],we.XU]};let Qy=(()=>{class i{constructor(){(0,fe.KO)("angularfire",S.xv.full,"fst")}}return i.\u0275fac=function(n){return new(n||i)},i.\u0275mod=ie.$C({type:i}),i.\u0275inj=ie.G2t({providers:[nm,qy]}),i})();function Xy(i,...e){return{ngModule:Qy,providers:[{provide:tm,useFactory:$_(i),multi:!0,deps:[ie.SKi,ie.zZn,S.u0,we.gL,[new ie.Xx1,ce.DF],[new ie.Xx1,q.kR],...e]}]}}const Q_=(0,S.S3)(By,!0),X_=(0,S.S3)(o_,!0),Id=(0,S.S3)(qf,!0),ev=(0,S.S3)(l_,!0),tu=(0,S.S3)(gd,!0),aI=(0,S.S3)(md,!0)},9126:(jt,He,K)=>{K.d(He,{xv:()=>Ls,u0:()=>Gu,CA:()=>Eo,lR:()=>zu,S3:()=>Do});var S=K(6276),ie=K(7037),ce=K(467),we=K(2979),fe=K(1401),q=K(8779),Z=K(5398);const Xe=(I,A)=>A.some(R=>I instanceof R);let je,re;const Le=new WeakMap,de=new WeakMap,ut=new WeakMap,st=new WeakMap,$t=new WeakMap;let Gt={get(I,A,R){if(I instanceof IDBTransaction){if("done"===A)return de.get(I);if("objectStoreNames"===A)return I.objectStoreNames||ut.get(I);if("store"===A)return R.objectStoreNames[1]?void 0:R.objectStore(R.objectStoreNames[0])}return Re(I[A])},set:(I,A,R)=>(I[A]=R,!0),has:(I,A)=>I instanceof IDBTransaction&&("done"===A||"store"===A)||A in I};function Qe(I){return"function"==typeof I?function Je(I){return I!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ge(){return re||(re=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(I)?function(...A){return I.apply(dt(this),A),Re(Le.get(this))}:function(...A){return Re(I.apply(dt(this),A))}:function(A,...R){const z=I.call(dt(this),A,...R);return ut.set(z,A.sort?A.sort():[A]),Re(z)}}(I):(I instanceof IDBTransaction&&function bn(I){if(de.has(I))return;const A=new Promise((R,z)=>{const ne=()=>{I.removeEventListener("complete",he),I.removeEventListener("error",Oe),I.removeEventListener("abort",Oe)},he=()=>{R(),ne()},Oe=()=>{z(I.error||new DOMException("AbortError","AbortError")),ne()};I.addEventListener("complete",he),I.addEventListener("error",Oe),I.addEventListener("abort",Oe)});de.set(I,A)}(I),Xe(I,function ee(){return je||(je=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(I,Gt):I)}function Re(I){if(I instanceof IDBRequest)return function lt(I){const A=new Promise((R,z)=>{const ne=()=>{I.removeEventListener("success",he),I.removeEventListener("error",Oe)},he=()=>{R(Re(I.result)),ne()},Oe=()=>{z(I.error),ne()};I.addEventListener("success",he),I.addEventListener("error",Oe)});return A.then(R=>{R instanceof IDBCursor&&Le.set(R,I)}).catch(()=>{}),$t.set(A,I),A}(I);if(st.has(I))return st.get(I);const A=Qe(I);return A!==I&&(st.set(I,A),$t.set(A,I)),A}const dt=I=>$t.get(I),hn=["get","getKey","getAll","getAllKeys","count"],nt=["put","add","delete","clear"],ur=new Map;function Ne(I,A){if(!(I instanceof IDBDatabase)||A in I||"string"!=typeof A)return;if(ur.get(A))return ur.get(A);const R=A.replace(/FromIndex$/,""),z=A!==R,ne=nt.includes(R);if(!(R in(z?IDBIndex:IDBObjectStore).prototype)||!ne&&!hn.includes(R))return;const he=function(){var Oe=(0,ce.A)(function*(mt,...ft){const Rt=this.transaction(mt,ne?"readwrite":"readonly");let sn=Rt.store;return z&&(sn=sn.index(ft.shift())),(yield Promise.all([sn[R](...ft),ne&&Rt.done]))[0]});return function(ft){return Oe.apply(this,arguments)}}();return ur.set(A,he),he}!function Ze(I){Gt=I(Gt)}(I=>({...I,get:(A,R,z)=>Ne(A,R)||I.get(A,R,z),has:(A,R)=>!!Ne(A,R)||I.has(A,R)}));const vt="@firebase/installations",Pn="0.6.4",cn=1e4,gr=`w:${Pn}`,er="FIS_v2",Bn="https://firebaseinstallations.googleapis.com/v1",ve=36e5,Ke=new fe.FA("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function qe(I){return I instanceof fe.g&&I.code.includes("request-failed")}function ot({projectId:I}){return`${Bn}/projects/${I}/installations`}function _t(I){return{token:I.token,requestStatus:2,expiresIn:cr(I.expiresIn),creationTime:Date.now()}}function on(I,A){return Pt.apply(this,arguments)}function Pt(){return(Pt=(0,ce.A)(function*(I,A){const z=(yield A.json()).error;return Ke.create("request-failed",{requestName:I,serverCode:z.code,serverMessage:z.message,serverStatus:z.status})})).apply(this,arguments)}function _n({apiKey:I}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":I})}function An(I){return tt.apply(this,arguments)}function tt(){return(tt=(0,ce.A)(function*(I){const A=yield I();return A.status>=500&&A.status<600?I():A})).apply(this,arguments)}function cr(I){return Number(I.replace("s","000"))}function Xt(){return(Xt=(0,ce.A)(function*({appConfig:I,heartbeatServiceProvider:A},{fid:R}){const z=ot(I),ne=_n(I),he=A.getImmediate({optional:!0});if(he){const Rt=yield he.getHeartbeatsHeader();Rt&&ne.append("x-firebase-client",Rt)}const mt={method:"POST",headers:ne,body:JSON.stringify({fid:R,authVersion:er,appId:I.appId,sdkVersion:gr})},ft=yield An(()=>fetch(z,mt));if(ft.ok){const Rt=yield ft.json();return{fid:Rt.fid||R,registrationStatus:2,refreshToken:Rt.refreshToken,authToken:_t(Rt.authToken)}}throw yield on("Create Installation",ft)})).apply(this,arguments)}function Ut(I){return new Promise(A=>{setTimeout(A,I)})}const Er=/^[cdef][\w-]{21}$/,jn="";function rn(){try{const I=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(I),I[0]=112+I[0]%16;const R=function en(I){return function wr(I){return btoa(String.fromCharCode(...I)).replace(/\+/g,"-").replace(/\//g,"_")}(I).substr(0,22)}(I);return Er.test(R)?R:jn}catch{return jn}}function kn(I){return`${I.appName}!${I.appId}`}const mr=new Map;function Dr(I,A){const R=kn(I);Lt(R,A),function wn(I,A){const R=function kt(){return!Ei&&"BroadcastChannel"in self&&(Ei=new BroadcastChannel("[Firebase] FID Change"),Ei.onmessage=I=>{Lt(I.data.key,I.data.fid)}),Ei}();R&&R.postMessage({key:I,fid:A}),function Di(){0===mr.size&&Ei&&(Ei.close(),Ei=null)}()}(R,A)}function Lt(I,A){const R=mr.get(I);if(R)for(const z of R)z(A)}let Ei=null;const mi="firebase-installations-database",$n=1,Vr="firebase-installations-store";let ei=null;function It(){return ei||(ei=function Ge(I,A,{blocked:R,upgrade:z,blocking:ne,terminated:he}={}){const Oe=indexedDB.open(I,A),mt=Re(Oe);return z&&Oe.addEventListener("upgradeneeded",ft=>{z(Re(Oe.result),ft.oldVersion,ft.newVersion,Re(Oe.transaction))}),R&&Oe.addEventListener("blocked",()=>R()),mt.then(ft=>{he&&ft.addEventListener("close",()=>he()),ne&&ft.addEventListener("versionchange",()=>ne())}).catch(()=>{}),mt}(mi,$n,{upgrade:(I,A)=>{0===A&&I.createObjectStore(Vr)}})),ei}function Cr(I,A){return Br.apply(this,arguments)}function Br(){return(Br=(0,ce.A)(function*(I,A){const R=kn(I),ne=(yield It()).transaction(Vr,"readwrite"),he=ne.objectStore(Vr),Oe=yield he.get(R);return yield he.put(A,R),yield ne.done,(!Oe||Oe.fid!==A.fid)&&Dr(I,A.fid),A})).apply(this,arguments)}function Sr(I){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,ce.A)(function*(I){const A=kn(I),z=(yield It()).transaction(Vr,"readwrite");yield z.objectStore(Vr).delete(A),yield z.done})).apply(this,arguments)}function fn(I,A){return dr.apply(this,arguments)}function dr(){return(dr=(0,ce.A)(function*(I,A){const R=kn(I),ne=(yield It()).transaction(Vr,"readwrite"),he=ne.objectStore(Vr),Oe=yield he.get(R),mt=A(Oe);return void 0===mt?yield he.delete(R):yield he.put(mt,R),yield ne.done,mt&&(!Oe||Oe.fid!==mt.fid)&&Dr(I,mt.fid),mt})).apply(this,arguments)}function te(I){return B.apply(this,arguments)}function B(){return B=(0,ce.A)(function*(I){let A;const R=yield fn(I.appConfig,z=>{const ne=function H(I){return Vt(I||{fid:rn(),registrationStatus:0})}(z),he=function j(I,A){if(0===A.registrationStatus){if(!navigator.onLine)return{installationEntry:A,registrationPromise:Promise.reject(Ke.create("app-offline"))};const R={fid:A.fid,registrationStatus:1,registrationTime:Date.now()},z=function G(I,A){return le.apply(this,arguments)}(I,R);return{installationEntry:R,registrationPromise:z}}return 1===A.registrationStatus?{installationEntry:A,registrationPromise:$e(I)}:{installationEntry:A}}(I,ne);return A=he.registrationPromise,he.installationEntry});return R.fid===jn?{installationEntry:yield A}:{installationEntry:R,registrationPromise:A}}),B.apply(this,arguments)}function le(){return le=(0,ce.A)(function*(I,A){try{const R=yield function gi(I,A){return Xt.apply(this,arguments)}(I,A);return Cr(I.appConfig,R)}catch(R){throw qe(R)&&409===R.customData.serverCode?yield Sr(I.appConfig):yield Cr(I.appConfig,{fid:A.fid,registrationStatus:0}),R}}),le.apply(this,arguments)}function $e(I){return ct.apply(this,arguments)}function ct(){return(ct=(0,ce.A)(function*(I){let A=yield Ht(I.appConfig);for(;1===A.registrationStatus;)yield Ut(100),A=yield Ht(I.appConfig);if(0===A.registrationStatus){const{installationEntry:R,registrationPromise:z}=yield te(I);return z||R}return A})).apply(this,arguments)}function Ht(I){return fn(I,A=>{if(!A)throw Ke.create("installation-not-found");return Vt(A)})}function Vt(I){return function Sn(I){return 1===I.registrationStatus&&I.registrationTime+cn<Date.now()}(I)?{fid:I.fid,registrationStatus:0}:I}function zn(){return(zn=(0,ce.A)(function*({appConfig:I,heartbeatServiceProvider:A},R){const z=function ci(I,{fid:A}){return`${ot(I)}/${A}/authTokens:generate`}(I,R),ne=function mn(I,{refreshToken:A}){const R=_n(I);return R.append("Authorization",function Kn(I){return`${er} ${I}`}(A)),R}(I,R),he=A.getImmediate({optional:!0});if(he){const Rt=yield he.getHeartbeatsHeader();Rt&&ne.append("x-firebase-client",Rt)}const mt={method:"POST",headers:ne,body:JSON.stringify({installation:{sdkVersion:gr,appId:I.appId}})},ft=yield An(()=>fetch(z,mt));if(ft.ok)return _t(yield ft.json());throw yield on("Generate Auth Token",ft)})).apply(this,arguments)}function Or(I){return gs.apply(this,arguments)}function gs(){return gs=(0,ce.A)(function*(I,A=!1){let R;const z=yield fn(I.appConfig,he=>{if(!Kt(he))throw Ke.create("not-registered");const Oe=he.authToken;if(!A&&function pn(I){return 2===I.requestStatus&&!function Pr(I){const A=Date.now();return A<I.creationTime||I.creationTime+I.expiresIn<A+ve}(I)}(Oe))return he;if(1===Oe.requestStatus)return R=function Ae(I,A){return Ee.apply(this,arguments)}(I,A),he;{if(!navigator.onLine)throw Ke.create("app-offline");const mt=function tr(I){const A={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},I),{authToken:A})}(he);return R=function St(I,A){return zt.apply(this,arguments)}(I,mt),mt}});return R?yield R:z.authToken}),gs.apply(this,arguments)}function Ee(){return(Ee=(0,ce.A)(function*(I,A){let R=yield ke(I.appConfig);for(;1===R.authToken.requestStatus;)yield Ut(100),R=yield ke(I.appConfig);const z=R.authToken;return 0===z.requestStatus?Or(I,A):z})).apply(this,arguments)}function ke(I){return fn(I,A=>{if(!Kt(A))throw Ke.create("not-registered");return function yr(I){return 1===I.requestStatus&&I.requestTime+cn<Date.now()}(A.authToken)?Object.assign(Object.assign({},A),{authToken:{requestStatus:0}}):A})}function zt(){return zt=(0,ce.A)(function*(I,A){try{const R=yield function tn(I,A){return zn.apply(this,arguments)}(I,A),z=Object.assign(Object.assign({},A),{authToken:R});return yield Cr(I.appConfig,z),R}catch(R){if(!qe(R)||401!==R.customData.serverCode&&404!==R.customData.serverCode){const z=Object.assign(Object.assign({},A),{authToken:{requestStatus:0}});yield Cr(I.appConfig,z)}else yield Sr(I.appConfig);throw R}}),zt.apply(this,arguments)}function Kt(I){return void 0!==I&&2===I.registrationStatus}function yi(){return(yi=(0,ce.A)(function*(I){const A=I,{installationEntry:R,registrationPromise:z}=yield te(A);return z?z.catch(console.error):Or(A).catch(console.error),R.fid})).apply(this,arguments)}function an(){return an=(0,ce.A)(function*(I,A=!1){const R=I;return yield function Gi(I){return bs.apply(this,arguments)}(R),(yield Or(R,A)).token}),an.apply(this,arguments)}function bs(){return(bs=(0,ce.A)(function*(I){const{registrationPromise:A}=yield te(I);A&&(yield A)})).apply(this,arguments)}function ae(I){return Ke.create("missing-app-config-values",{valueName:I})}const _e="installations",rt=I=>{const A=I.getProvider("app").getImmediate(),R=function se(I){if(!I||!I.options)throw ae("App Configuration");if(!I.name)throw ae("App Name");const A=["projectId","apiKey","appId"];for(const R of A)if(!I.options[R])throw ae(R);return{appName:I.name,projectId:I.options.projectId,apiKey:I.options.apiKey,appId:I.options.appId}}(A);return{app:A,appConfig:R,heartbeatServiceProvider:(0,we.j6)(A,"heartbeat"),_delete:()=>Promise.resolve()}},Ft=I=>{const A=I.getProvider("app").getImmediate(),R=(0,we.j6)(A,_e).getImmediate();return{getId:()=>function os(I){return yi.apply(this,arguments)}(R),getToken:ne=>function kr(I){return an.apply(this,arguments)}(R,ne)}};(function yn(){(0,we.om)(new q.uA(_e,rt,"PUBLIC")),(0,we.om)(new q.uA("installations-internal",Ft,"PRIVATE"))})(),(0,we.KO)(vt,Pn),(0,we.KO)(vt,Pn,"esm2017");const nn="@firebase/remote-config",Lr=new fe.FA("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Ti{constructor(A,R,z,ne){this.client=A,this.storage=R,this.storageCache=z,this.logger=ne}isCachedDataFresh(A,R){if(!R)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const z=Date.now()-R,ne=z<=A;return this.logger.debug(`Config fetch cache check. Cache age millis: ${z}. Cache max age millis (minimumFetchIntervalMillis setting): ${A}. Is cache hit: ${ne}.`),ne}fetch(A){var R=this;return(0,ce.A)(function*(){const[z,ne]=yield Promise.all([R.storage.getLastSuccessfulFetchTimestampMillis(),R.storage.getLastSuccessfulFetchResponse()]);if(ne&&R.isCachedDataFresh(A.cacheMaxAgeMillis,z))return ne;A.eTag=ne&&ne.eTag;const he=yield R.client.fetch(A),Oe=[R.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===he.status&&Oe.push(R.storage.setLastSuccessfulFetchResponse(he)),yield Promise.all(Oe),he})()}}function qn(I=navigator){return I.languages&&I.languages[0]||I.language}class Mn{constructor(A,R,z,ne,he,Oe){this.firebaseInstallations=A,this.sdkVersion=R,this.namespace=z,this.projectId=ne,this.apiKey=he,this.appId=Oe}fetch(A){var R=this;return(0,ce.A)(function*(){const[z,ne]=yield Promise.all([R.firebaseInstallations.getId(),R.firebaseInstallations.getToken()]),Oe=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${R.projectId}/namespaces/${R.namespace}:fetch?key=${R.apiKey}`,mt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":A.eTag||"*"},ft={sdk_version:R.sdkVersion,app_instance_id:z,app_instance_id_token:ne,app_id:R.appId,language_code:qn()},Rt={method:"POST",headers:mt,body:JSON.stringify(ft)},sn=fetch(Oe,Rt),dn=new Promise((To,Co)=>{A.signal.addEventListener(()=>{const Dc=new Error("The operation was aborted.");Dc.name="AbortError",Co(Dc)})});let Fs;try{yield Promise.race([sn,dn]),Fs=yield sn}catch(To){let Co="fetch-client-network";throw"AbortError"===To?.name&&(Co="fetch-timeout"),Lr.create(Co,{originalErrorMessage:To?.message})}let ai=Fs.status;const Ec=Fs.headers.get("ETag")||void 0;let Ku,Kr;if(200===Fs.status){let To;try{To=yield Fs.json()}catch(Co){throw Lr.create("fetch-client-parse",{originalErrorMessage:Co?.message})}Ku=To.entries,Kr=To.state}if("INSTANCE_STATE_UNSPECIFIED"===Kr?ai=500:"NO_CHANGE"===Kr?ai=304:("NO_TEMPLATE"===Kr||"EMPTY_CONFIG"===Kr)&&(Ku={}),304!==ai&&200!==ai)throw Lr.create("fetch-status",{httpStatus:ai});return{status:ai,eTag:Ec,config:Ku}})()}}class pa{constructor(A,R){this.client=A,this.storage=R}fetch(A){var R=this;return(0,ce.A)(function*(){const z=(yield R.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return R.attemptFetch(A,z)})()}attemptFetch(A,R){var z=this;return(0,ce.A)(function*(ne,{throttleEndTimeMillis:he,backoffCount:Oe}){yield function zs(I,A){return new Promise((R,z)=>{const ne=Math.max(A-Date.now(),0),he=setTimeout(R,ne);I.addEventListener(()=>{clearTimeout(he),z(Lr.create("fetch-throttle",{throttleEndTimeMillis:A}))})})}(ne.signal,he);try{const mt=yield z.client.fetch(ne);return yield z.storage.deleteThrottleMetadata(),mt}catch(mt){if(!function qi(I){if(!(I instanceof fe.g&&I.customData))return!1;const A=Number(I.customData.httpStatus);return 429===A||500===A||503===A||504===A}(mt))throw mt;const ft={throttleEndTimeMillis:Date.now()+(0,fe.p9)(Oe),backoffCount:Oe+1};return yield z.storage.setThrottleMetadata(ft),z.attemptFetch(ne,ft)}}).apply(this,arguments)}}class yt{constructor(A,R,z,ne,he){this.app=A,this._client=R,this._storageCache=z,this._storage=ne,this._logger=he,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Qt(I,A){const R=I.target.error||void 0;return Lr.create(A,{originalErrorMessage:R&&R?.message})}const Ln="app_namespace_store";class Xi{constructor(A,R,z,ne=function fr(){return new Promise((I,A)=>{try{const R=indexedDB.open("firebase_remote_config",1);R.onerror=z=>{A(Qt(z,"storage-open"))},R.onsuccess=z=>{I(z.target.result)},R.onupgradeneeded=z=>{0===z.oldVersion&&z.target.result.createObjectStore(Ln,{keyPath:"compositeKey"})}}catch(R){A(Lr.create("storage-open",{originalErrorMessage:R?.message}))}})}()){this.appId=A,this.appName=R,this.namespace=z,this.openDbPromise=ne}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(A){return this.set("last_fetch_status",A)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(A){return this.set("last_successful_fetch_timestamp_millis",A)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(A){return this.set("last_successful_fetch_response",A)}getActiveConfig(){return this.get("active_config")}setActiveConfig(A){return this.set("active_config",A)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(A){return this.set("active_config_etag",A)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(A){return this.set("throttle_metadata",A)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(A){var R=this;return(0,ce.A)(function*(){const z=yield R.openDbPromise;return new Promise((ne,he)=>{const mt=z.transaction([Ln],"readonly").objectStore(Ln),ft=R.createCompositeKey(A);try{const Rt=mt.get(ft);Rt.onerror=sn=>{he(Qt(sn,"storage-get"))},Rt.onsuccess=sn=>{const dn=sn.target.result;ne(dn?dn.value:void 0)}}catch(Rt){he(Lr.create("storage-get",{originalErrorMessage:Rt?.message}))}})})()}set(A,R){var z=this;return(0,ce.A)(function*(){const ne=yield z.openDbPromise;return new Promise((he,Oe)=>{const ft=ne.transaction([Ln],"readwrite").objectStore(Ln),Rt=z.createCompositeKey(A);try{const sn=ft.put({compositeKey:Rt,value:R});sn.onerror=dn=>{Oe(Qt(dn,"storage-set"))},sn.onsuccess=()=>{he()}}catch(sn){Oe(Lr.create("storage-set",{originalErrorMessage:sn?.message}))}})})()}delete(A){var R=this;return(0,ce.A)(function*(){const z=yield R.openDbPromise;return new Promise((ne,he)=>{const mt=z.transaction([Ln],"readwrite").objectStore(Ln),ft=R.createCompositeKey(A);try{const Rt=mt.delete(ft);Rt.onerror=sn=>{he(Qt(sn,"storage-delete"))},Rt.onsuccess=()=>{ne()}}catch(Rt){he(Lr.create("storage-delete",{originalErrorMessage:Rt?.message}))}})})()}createCompositeKey(A){return[this.appId,this.appName,this.namespace,A].join()}}class br{constructor(A){this.storage=A}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var A=this;return(0,ce.A)(function*(){const R=A.storage.getLastFetchStatus(),z=A.storage.getLastSuccessfulFetchTimestampMillis(),ne=A.storage.getActiveConfig(),he=yield R;he&&(A.lastFetchStatus=he);const Oe=yield z;Oe&&(A.lastSuccessfulFetchTimestampMillis=Oe);const mt=yield ne;mt&&(A.activeConfig=mt)})()}setLastFetchStatus(A){return this.lastFetchStatus=A,this.storage.setLastFetchStatus(A)}setLastSuccessfulFetchTimestampMillis(A){return this.lastSuccessfulFetchTimestampMillis=A,this.storage.setLastSuccessfulFetchTimestampMillis(A)}setActiveConfig(A){return this.activeConfig=A,this.storage.setActiveConfig(A)}}function Yo(){return di.apply(this,arguments)}function di(){return(di=(0,ce.A)(function*(){if(!(0,fe.zW)())return!1;try{return yield(0,fe.eX)()}catch{return!1}})).apply(this,arguments)}!function xs(){(0,we.om)(new q.uA("remote-config",function I(A,{instanceIdentifier:R}){const z=A.getProvider("app").getImmediate(),ne=A.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Lr.create("registration-window");if(!(0,fe.zW)())throw Lr.create("indexed-db-unavailable");const{projectId:he,apiKey:Oe,appId:mt}=z.options;if(!he)throw Lr.create("registration-project-id");if(!Oe)throw Lr.create("registration-api-key");if(!mt)throw Lr.create("registration-app-id");const ft=new Xi(mt,z.name,R=R||"firebase"),Rt=new br(ft),sn=new Z.Vy(nn);sn.logLevel=Z.$b.ERROR;const dn=new Mn(ne,we.MF,R,he,Oe,mt),Fs=new pa(dn,ft),ai=new Ti(Fs,ft,Rt,sn),Ec=new yt(z,ai,Rt,ft,sn);return function Ms(I){const A=(0,fe.Ku)(I);A._initializePromise||(A._initializePromise=A._storageCache.loadFromStorage().then(()=>{A._isInitializationComplete=!0}))}(Ec),Ec},"PUBLIC").setMultipleInstances(!0)),(0,we.KO)(nn,"0.4.4"),(0,we.KO)(nn,"0.4.4","esm2017")}();const Zo=(I,A)=>A.some(R=>I instanceof R);let rr,so;const oo=new WeakMap,Fi=new WeakMap,vs=new WeakMap,Zi=new WeakMap,Jo=new WeakMap;let Ci={get(I,A,R){if(I instanceof IDBTransaction){if("done"===A)return Fi.get(I);if("objectStoreNames"===A)return I.objectStoreNames||vs.get(I);if("store"===A)return R.objectStoreNames[1]?void 0:R.objectStore(R.objectStoreNames[0])}return ti(I[A])},set:(I,A,R)=>(I[A]=R,!0),has:(I,A)=>I instanceof IDBTransaction&&("done"===A||"store"===A)||A in I};function Ui(I){return"function"==typeof I?function ru(I){return I!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Yi(){return so||(so=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(I)?function(...A){return I.apply(Si(this),A),ti(oo.get(this))}:function(...A){return ti(I.apply(Si(this),A))}:function(A,...R){const z=I.call(Si(this),A,...R);return vs.set(z,A.sort?A.sort():[A]),ti(z)}}(I):(I instanceof IDBTransaction&&function gn(I){if(Fi.has(I))return;const A=new Promise((R,z)=>{const ne=()=>{I.removeEventListener("complete",he),I.removeEventListener("error",Oe),I.removeEventListener("abort",Oe)},he=()=>{R(),ne()},Oe=()=>{z(I.error||new DOMException("AbortError","AbortError")),ne()};I.addEventListener("complete",he),I.addEventListener("error",Oe),I.addEventListener("abort",Oe)});Fi.set(I,A)}(I),Zo(I,function Ws(){return rr||(rr=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(I,Ci):I)}function ti(I){if(I instanceof IDBRequest)return function ao(I){const A=new Promise((R,z)=>{const ne=()=>{I.removeEventListener("success",he),I.removeEventListener("error",Oe)},he=()=>{R(ti(I.result)),ne()},Oe=()=>{z(I.error),ne()};I.addEventListener("success",he),I.addEventListener("error",Oe)});return A.then(R=>{R instanceof IDBCursor&&oo.set(R,I)}).catch(()=>{}),Jo.set(A,I),A}(I);if(Zi.has(I))return Zi.get(I);const A=Ui(I);return A!==I&&(Zi.set(I,A),Jo.set(A,I)),A}const Si=I=>Jo.get(I);function hi(I,A,{blocked:R,upgrade:z,blocking:ne,terminated:he}={}){const Oe=indexedDB.open(I,A),mt=ti(Oe);return z&&Oe.addEventListener("upgradeneeded",ft=>{z(ti(Oe.result),ft.oldVersion,ft.newVersion,ti(Oe.transaction))}),R&&Oe.addEventListener("blocked",()=>R()),mt.then(ft=>{he&&ft.addEventListener("close",()=>he()),ne&&ft.addEventListener("versionchange",()=>ne())}).catch(()=>{}),mt}function vn(I,{blocked:A}={}){const R=indexedDB.deleteDatabase(I);return A&&R.addEventListener("blocked",()=>A()),ti(R).then(()=>{})}const co=["get","getKey","getAll","getAllKeys","count"],Mi=["put","add","delete","clear"],ni=new Map;function lo(I,A){if(!(I instanceof IDBDatabase)||A in I||"string"!=typeof A)return;if(ni.get(A))return ni.get(A);const R=A.replace(/FromIndex$/,""),z=A!==R,ne=Mi.includes(R);if(!(R in(z?IDBIndex:IDBObjectStore).prototype)||!ne&&!co.includes(R))return;const he=function(){var Oe=(0,ce.A)(function*(mt,...ft){const Rt=this.transaction(mt,ne?"readwrite":"readonly");let sn=Rt.store;return z&&(sn=sn.index(ft.shift())),(yield Promise.all([sn[R](...ft),ne&&Rt.done]))[0]});return function(ft){return Oe.apply(this,arguments)}}();return ni.set(A,he),he}!function uo(I){Ci=I(Ci)}(I=>({...I,get:(A,R,z)=>lo(A,R)||I.get(A,R,z),has:(A,R)=>!!lo(A,R)||I.has(A,R)}));const as="/firebase-messaging-sw.js",Ns="/firebase-cloud-messaging-push-scope",xi="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",No="https://fcmregistrations.googleapis.com/v1",Gn="google.c.a.c_id",bi="google.c.a.c_l",iu="google.c.a.ts";var Ks=function(I){return I.PUSH_RECEIVED="push-received",I.NOTIFICATION_CLICKED="notification-clicked",I}(Ks||{});function Vi(I){const A=new Uint8Array(I);return btoa(String.fromCharCode(...A)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function lc(I){const R=(I+"=".repeat((4-I.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),z=atob(R),ne=new Uint8Array(z.length);for(let he=0;he<z.length;++he)ne[he]=z.charCodeAt(he);return ne}const Ro="fcm_token_details_db",Lu=5,La="fcm_token_object_Store";function ga(){return ga=(0,ce.A)(function*(I){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(he=>he.name).includes(Ro))return null;let A=null;return(yield hi(Ro,Lu,{upgrade:(z=(0,ce.A)(function*(ne,he,Oe,mt){var ft;if(he<2||!ne.objectStoreNames.contains(La))return;const Rt=mt.objectStore(La),sn=yield Rt.index("fcmSenderId").get(I);if(yield Rt.clear(),sn)if(2===he){const dn=sn;if(!dn.auth||!dn.p256dh||!dn.endpoint)return;A={token:dn.fcmToken,createTime:null!==(ft=dn.createTime)&&void 0!==ft?ft:Date.now(),subscriptionOptions:{auth:dn.auth,p256dh:dn.p256dh,endpoint:dn.endpoint,swScope:dn.swScope,vapidKey:"string"==typeof dn.vapidKey?dn.vapidKey:Vi(dn.vapidKey)}}}else if(3===he){const dn=sn;A={token:dn.fcmToken,createTime:dn.createTime,subscriptionOptions:{auth:Vi(dn.auth),p256dh:Vi(dn.p256dh),endpoint:dn.endpoint,swScope:dn.swScope,vapidKey:Vi(dn.vapidKey)}}}else if(4===he){const dn=sn;A={token:dn.fcmToken,createTime:dn.createTime,subscriptionOptions:{auth:Vi(dn.auth),p256dh:Vi(dn.p256dh),endpoint:dn.endpoint,swScope:dn.swScope,vapidKey:Vi(dn.vapidKey)}}}}),function(he,Oe,mt,ft){return z.apply(this,arguments)})})).close(),yield vn(Ro),yield vn("fcm_vapid_details_db"),yield vn("undefined"),function Fa(I){if(!I||!I.subscriptionOptions)return!1;const{subscriptionOptions:A}=I;return"number"==typeof I.createTime&&I.createTime>0&&"string"==typeof I.token&&I.token.length>0&&"string"==typeof A.auth&&A.auth.length>0&&"string"==typeof A.p256dh&&A.p256dh.length>0&&"string"==typeof A.endpoint&&A.endpoint.length>0&&"string"==typeof A.swScope&&A.swScope.length>0&&"string"==typeof A.vapidKey&&A.vapidKey.length>0}(A)?A:null;var z}),ga.apply(this,arguments)}const _s="firebase-messaging-database",ea=1,ri="firebase-messaging-store";let ma=null;function fo(){return ma||(ma=hi(_s,ea,{upgrade:(I,A)=>{0===A&&I.createObjectStore(ri)}})),ma}function su(I){return qs.apply(this,arguments)}function qs(){return qs=(0,ce.A)(function*(I){const A=Fu(I),z=yield(yield fo()).transaction(ri).objectStore(ri).get(A);if(z)return z;{const ne=yield function Oo(I){return ga.apply(this,arguments)}(I.appConfig.senderId);if(ne)return yield ou(I,ne),ne}}),qs.apply(this,arguments)}function ou(I,A){return us.apply(this,arguments)}function us(){return(us=(0,ce.A)(function*(I,A){const R=Fu(I),ne=(yield fo()).transaction(ri,"readwrite");return yield ne.objectStore(ri).put(A,R),yield ne.done,A})).apply(this,arguments)}function Po(){return(Po=(0,ce.A)(function*(I){const A=Fu(I),z=(yield fo()).transaction(ri,"readwrite");yield z.objectStore(ri).delete(A),yield z.done})).apply(this,arguments)}function Fu({appConfig:I}){return I.appId}const Hr=new fe.FA("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function vi(I,A){return ii.apply(this,arguments)}function ii(){return(ii=(0,ce.A)(function*(I,A){const R=yield Qs(I),z=Ua(A),ne={method:"POST",headers:R,body:JSON.stringify(z)};let he;try{he=yield(yield fetch(Ai(I.appConfig),ne)).json()}catch(Oe){throw Hr.create("token-subscribe-failed",{errorInfo:Oe?.toString()})}if(he.error)throw Hr.create("token-subscribe-failed",{errorInfo:he.error.message});if(!he.token)throw Hr.create("token-subscribe-no-token");return he.token})).apply(this,arguments)}function ya(){return(ya=(0,ce.A)(function*(I,A){const R=yield Qs(I),z=Ua(A.subscriptionOptions),ne={method:"PATCH",headers:R,body:JSON.stringify(z)};let he;try{he=yield(yield fetch(`${Ai(I.appConfig)}/${A.token}`,ne)).json()}catch(Oe){throw Hr.create("token-update-failed",{errorInfo:Oe?.toString()})}if(he.error)throw Hr.create("token-update-failed",{errorInfo:he.error.message});if(!he.token)throw Hr.create("token-update-no-token");return he.token})).apply(this,arguments)}function Rs(I,A){return ta.apply(this,arguments)}function ta(){return(ta=(0,ce.A)(function*(I,A){const z={method:"DELETE",headers:yield Qs(I)};try{const he=yield(yield fetch(`${Ai(I.appConfig)}/${A}`,z)).json();if(he.error)throw Hr.create("token-unsubscribe-failed",{errorInfo:he.error.message})}catch(ne){throw Hr.create("token-unsubscribe-failed",{errorInfo:ne?.toString()})}})).apply(this,arguments)}function Ai({projectId:I}){return`${No}/projects/${I}/registrations`}function Qs(I){return xn.apply(this,arguments)}function xn(){return(xn=(0,ce.A)(function*({appConfig:I,installations:A}){const R=yield A.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":I.apiKey,"x-goog-firebase-installations-auth":`FIS ${R}`})})).apply(this,arguments)}function Ua({p256dh:I,auth:A,endpoint:R,vapidKey:z}){const ne={web:{endpoint:R,auth:A,p256dh:I}};return z!==xi&&(ne.web.applicationPubKey=z),ne}const Lo=6048e5;function Xs(){return Xs=(0,ce.A)(function*(I){const A=yield function Fr(I,A){return mo.apply(this,arguments)}(I.swRegistration,I.vapidKey),R={vapidKey:I.vapidKey,swScope:I.swRegistration.scope,endpoint:A.endpoint,auth:Vi(A.getKey("auth")),p256dh:Vi(A.getKey("p256dh"))},z=yield su(I.firebaseDependencies);if(z){if(function w(I,A){return A.vapidKey===I.vapidKey&&A.endpoint===I.endpoint&&A.auth===I.auth&&A.p256dh===I.p256dh}(z.subscriptionOptions,R))return Date.now()>=z.createTime+Lo?function na(I,A){return va.apply(this,arguments)}(I,{token:z.token,createTime:Date.now(),subscriptionOptions:R}):z.token;try{yield Rs(I.firebaseDependencies,z.token)}catch(ne){console.warn(ne)}return go(I.firebaseDependencies,R)}return go(I.firebaseDependencies,R)}),Xs.apply(this,arguments)}function Ni(){return Ni=(0,ce.A)(function*(I){const A=yield su(I.firebaseDependencies);A&&(yield Rs(I.firebaseDependencies,A.token),yield function Bi(I){return Po.apply(this,arguments)}(I.firebaseDependencies));const R=yield I.swRegistration.pushManager.getSubscription();return!R||R.unsubscribe()}),Ni.apply(this,arguments)}function va(){return va=(0,ce.A)(function*(I,A){try{const R=yield function ko(I,A){return ya.apply(this,arguments)}(I.firebaseDependencies,A),z=Object.assign(Object.assign({},A),{token:R,createTime:Date.now()});return yield ou(I.firebaseDependencies,z),R}catch(R){throw yield function po(I){return Ni.apply(this,arguments)}(I),R}}),va.apply(this,arguments)}function go(I,A){return cs.apply(this,arguments)}function cs(){return(cs=(0,ce.A)(function*(I,A){const z={token:yield vi(I,A),createTime:Date.now(),subscriptionOptions:A};return yield ou(I,z),z.token})).apply(this,arguments)}function mo(){return(mo=(0,ce.A)(function*(I,A){return(yield I.pushManager.getSubscription())||I.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:lc(A)})})).apply(this,arguments)}function F(I){const A={from:I.from,collapseKey:I.collapse_key,messageId:I.fcmMessageId};return function M(I,A){if(!A.notification)return;I.notification={};const R=A.notification.title;R&&(I.notification.title=R);const z=A.notification.body;z&&(I.notification.body=z);const ne=A.notification.image;ne&&(I.notification.image=ne);const he=A.notification.icon;he&&(I.notification.icon=he)}(A,I),function k(I,A){A.data&&(I.data=A.data)}(A,I),function Y(I,A){var R,z,ne,he,Oe;if(!(A.fcmOptions||null!==(R=A.notification)&&void 0!==R&&R.click_action))return;I.fcmOptions={};const mt=null!==(ne=null===(z=A.fcmOptions)||void 0===z?void 0:z.link)&&void 0!==ne?ne:null===(he=A.notification)||void 0===he?void 0:he.click_action;mt&&(I.fcmOptions.link=mt);const ft=null===(Oe=A.fcmOptions)||void 0===Oe?void 0:Oe.analytics_label;ft&&(I.fcmOptions.analyticsLabel=ft)}(A,I),A}function Be(I,A){const R=[];for(let z=0;z<I.length;z++)R.push(I.charAt(z)),z<A.length&&R.push(A.charAt(z));return R.join("")}function Zn(I){return Hr.create("missing-app-config-values",{valueName:I})}Be("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Be("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class or{constructor(A,R,z){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const ne=function xt(I){if(!I||!I.options)throw Zn("App Configuration Object");if(!I.name)throw Zn("App Name");const A=["projectId","apiKey","appId","messagingSenderId"],{options:R}=I;for(const z of A)if(!R[z])throw Zn(z);return{appName:I.name,projectId:R.projectId,apiKey:R.apiKey,appId:R.appId,senderId:R.messagingSenderId}}(A);this.firebaseDependencies={app:A,appConfig:ne,installations:R,analyticsProvider:z}}_delete(){return Promise.resolve()}}function ln(){return(ln=(0,ce.A)(function*(I){try{I.swRegistration=yield navigator.serviceWorker.register(as,{scope:Ns}),I.swRegistration.update().catch(()=>{})}catch(A){throw Hr.create("failed-service-worker-registration",{browserErrorMessage:A?.message})}})).apply(this,arguments)}function Un(){return(Un=(0,ce.A)(function*(I,A){if(!A&&!I.swRegistration&&(yield function Fn(I){return ln.apply(this,arguments)}(I)),A||!I.swRegistration){if(!(A instanceof ServiceWorkerRegistration))throw Hr.create("invalid-sw-registration");I.swRegistration=A}})).apply(this,arguments)}function _i(){return(_i=(0,ce.A)(function*(I,A){A?I.vapidKey=A:I.vapidKey||(I.vapidKey=xi)})).apply(this,arguments)}function ar(){return ar=(0,ce.A)(function*(I,A){if(!navigator)throw Hr.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Hr.create("permission-blocked");return yield function qr(I,A){return _i.apply(this,arguments)}(I,A?.vapidKey),yield function _r(I,A){return Un.apply(this,arguments)}(I,A?.serviceWorkerRegistration),function Os(I){return Xs.apply(this,arguments)}(I)}),ar.apply(this,arguments)}function Ur(){return(Ur=(0,ce.A)(function*(I,A,R){const z=function ws(I){switch(I){case Ks.NOTIFICATION_CLICKED:return"notification_open";case Ks.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(A);(yield I.firebaseDependencies.analyticsProvider.get()).logEvent(z,{message_id:R[Gn],message_name:R[bi],message_time:R[iu],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Ye(){return Ye=(0,ce.A)(function*(I,A){const R=A.data;if(!R.isFirebaseMessaging)return;I.onMessageHandler&&R.messageType===Ks.PUSH_RECEIVED&&("function"==typeof I.onMessageHandler?I.onMessageHandler(F(R)):I.onMessageHandler.next(F(R)));const z=R.data;(function xe(I){return"object"==typeof I&&!!I&&Gn in I})(z)&&"1"===z["google.c.a.e"]&&(yield function Ir(I,A,R){return Ur.apply(this,arguments)}(I,R.messageType,z))}),Ye.apply(this,arguments)}const zr="@firebase/messaging",_a=I=>{const A=new or(I.getProvider("app").getImmediate(),I.getProvider("installations-internal").getImmediate(),I.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",R=>function ra(I,A){return Ye.apply(this,arguments)}(A,R)),A},wt=I=>{const A=I.getProvider("messaging").getImmediate();return{getToken:z=>function Is(I,A){return ar.apply(this,arguments)}(A,z)}};function ds(){return pt.apply(this,arguments)}function pt(){return(pt=(0,ce.A)(function*(){try{yield(0,fe.eX)()}catch{return!1}return typeof window<"u"&&(0,fe.zW)()&&(0,fe.dM)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Nt(){(0,we.om)(new q.uA("messaging",_a,"PUBLIC")),(0,we.om)(new q.uA("messaging-internal",wt,"PRIVATE")),(0,we.KO)(zr,"0.12.4"),(0,we.KO)(zr,"0.12.4","esm2017")}();const Ri="analytics",dc="firebase_id",uu="origin",Ed=6e4,Tr="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Va="https://www.googletagmanager.com/gtag/js",bt=new Z.Vy("@firebase/analytics"),Ii=new fe.FA("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Ar(I){if(!I.startsWith(Va)){const A=Ii.create("invalid-gtag-resource",{gtagURL:I});return bt.warn(A.message),""}return I}function Ct(I){return Promise.all(I.map(A=>A.catch(R=>R)))}function ht(){return(ht=(0,ce.A)(function*(I,A,R,z,ne,he){const Oe=z[ne];try{if(Oe)yield A[Oe];else{const ft=(yield Ct(R)).find(Rt=>Rt.measurementId===ne);ft&&(yield A[ft.appId])}}catch(mt){bt.error(mt)}I("config",ne,he)})).apply(this,arguments)}function Vo(){return(Vo=(0,ce.A)(function*(I,A,R,z,ne){try{let he=[];if(ne&&ne.send_to){let Oe=ne.send_to;Array.isArray(Oe)||(Oe=[Oe]);const mt=yield Ct(R);for(const ft of Oe){const Rt=mt.find(dn=>dn.measurementId===ft),sn=Rt&&A[Rt.appId];if(!sn){he=[];break}he.push(sn)}}0===he.length&&(he=Object.values(A)),yield Promise.all(he),I("event",z,ne||{})}catch(he){bt.error(he)}})).apply(this,arguments)}const pc=30,ze=new class gc{constructor(A={},R=1e3){this.throttleMetadata=A,this.intervalMillis=R}getThrottleMetadata(A){return this.throttleMetadata[A]}setThrottleMetadata(A,R){this.throttleMetadata[A]=R}deleteThrottleMetadata(A){delete this.throttleMetadata[A]}};function un(I){return new Headers({Accept:"application/json","x-goog-api-key":I})}function Vu(){return(Vu=(0,ce.A)(function*(I){var A;const{appId:R,apiKey:z}=I,ne={method:"GET",headers:un(z)},he=Tr.replace("{app-id}",R),Oe=yield fetch(he,ne);if(200!==Oe.status&&304!==Oe.status){let mt="";try{const ft=yield Oe.json();null!==(A=ft.error)&&void 0!==A&&A.message&&(mt=ft.error.message)}catch{}throw Ii.create("config-fetch-failed",{httpStatus:Oe.status,responseMessage:mt})}return Oe.json()})).apply(this,arguments)}function Ps(){return(Ps=(0,ce.A)(function*(I,A=ze,R){const{appId:z,apiKey:ne,measurementId:he}=I.options;if(!z)throw Ii.create("no-app-id");if(!ne){if(he)return{measurementId:he,appId:z};throw Ii.create("no-api-key")}const Oe=A.getThrottleMetadata(z)||{backoffCount:0,throttleEndTimeMillis:Date.now()},mt=new Qc;return setTimeout((0,ce.A)(function*(){mt.abort()}),void 0!==R?R:Ed),Bo({appId:z,apiKey:ne,measurementId:he},Oe,mt,A)})).apply(this,arguments)}function Bo(I,A,R){return me.apply(this,arguments)}function me(){return me=(0,ce.A)(function*(I,{throttleEndTimeMillis:A,backoffCount:R},z,ne=ze){var he;const{appId:Oe,measurementId:mt}=I;try{yield function Ia(I,A){return new Promise((R,z)=>{const ne=Math.max(A-Date.now(),0),he=setTimeout(R,ne);I.addEventListener(()=>{clearTimeout(he),z(Ii.create("fetch-throttle",{throttleEndTimeMillis:A}))})})}(z,A)}catch(ft){if(mt)return bt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${mt} provided in the "measurementId" field in the local Firebase config. [${ft?.message}]`),{appId:Oe,measurementId:mt};throw ft}try{const ft=yield function mc(I){return Vu.apply(this,arguments)}(I);return ne.deleteThrottleMetadata(Oe),ft}catch(ft){const Rt=ft;if(!function Oi(I){if(!(I instanceof fe.g&&I.customData))return!1;const A=Number(I.customData.httpStatus);return 429===A||500===A||503===A||504===A}(Rt)){if(ne.deleteThrottleMetadata(Oe),mt)return bt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${mt} provided in the "measurementId" field in the local Firebase config. [${Rt?.message}]`),{appId:Oe,measurementId:mt};throw ft}const sn=503===Number(null===(he=Rt?.customData)||void 0===he?void 0:he.httpStatus)?(0,fe.p9)(R,ne.intervalMillis,pc):(0,fe.p9)(R,ne.intervalMillis),dn={throttleEndTimeMillis:Date.now()+sn,backoffCount:R+1};return ne.setThrottleMetadata(Oe,dn),bt.debug(`Calling attemptFetch again in ${sn} millis`),Bo(I,dn,z,ne)}}),me.apply(this,arguments)}class Qc{constructor(){this.listeners=[]}addEventListener(A){this.listeners.push(A)}abort(){this.listeners.forEach(A=>A())}}let wa,C;function si(){return(si=(0,ce.A)(function*(I,A,R,z,ne){if(ne&&ne.global)I("event",R,z);else{const he=yield A;I("event",R,Object.assign(Object.assign({},z),{send_to:he}))}})).apply(this,arguments)}function Ce(){return(Ce=(0,ce.A)(function*(){if(!(0,fe.zW)())return bt.warn(Ii.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,fe.eX)()}catch(I){return bt.warn(Ii.create("indexeddb-unavailable",{errorInfo:I?.toString()}).message),!1}return!0})).apply(this,arguments)}function gt(){return gt=(0,ce.A)(function*(I,A,R,z,ne,he,Oe){var mt;const ft=function fi(I){return Ps.apply(this,arguments)}(I);ft.then(ai=>{R[ai.measurementId]=ai.appId,I.options.measurementId&&ai.measurementId!==I.options.measurementId&&bt.warn(`The measurement ID in the local Firebase config (${I.options.measurementId}) does not match the measurement ID fetched from the server (${ai.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(ai=>bt.error(ai)),A.push(ft);const Rt=function X(){return Ce.apply(this,arguments)}().then(ai=>{if(ai)return z.getId()}),[sn,dn]=yield Promise.all([ft,Rt]);(function Ba(I){const A=window.document.getElementsByTagName("script");for(const R of Object.values(A))if(R.src&&R.src.includes(Va)&&R.src.includes(I))return R;return null})(he)||function Vn(I,A){const R=function Wt(I,A){let R;return window.trustedTypes&&(R=window.trustedTypes.createPolicy(I,A)),R}("firebase-js-sdk-policy",{createScriptURL:Ar}),z=document.createElement("script"),ne=`${Va}?l=${I}&id=${A}`;z.src=R?R?.createScriptURL(ne):ne,z.async=!0,document.head.appendChild(z)}(he,sn.measurementId),C&&(ne("consent","default",C),function N(I){C=I}(void 0)),ne("js",new Date);const Fs=null!==(mt=Oe?.config)&&void 0!==mt?mt:{};return Fs[uu]="firebase",Fs.update=!0,null!=dn&&(Fs[dc]=dn),ne("config",sn.measurementId,Fs),wa&&(ne("set",wa),function U(I){wa=I}(void 0)),sn.measurementId}),gt.apply(this,arguments)}class Zt{constructor(A){this.app=A}_delete(){return delete Nn[this.app.options.appId],Promise.resolve()}}let Nn={},Dn=[];const _o={};let Zs,Rn,es="dataLayer",Bu=!1;function bh(I,A,R){!function Dd(){const I=[];if((0,fe.sr)()&&I.push("This is a browser extension environment."),(0,fe.dM)()||I.push("Cookies are not available."),I.length>0){const A=I.map((z,ne)=>`(${ne+1}) ${z}`).join(" "),R=Ii.create("invalid-analytics-context",{errorInfo:A});bt.warn(R.message)}}();const z=I.options.appId;if(!z)throw Ii.create("no-app-id");if(!I.options.apiKey){if(!I.options.measurementId)throw Ii.create("no-api-key");bt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${I.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Nn[z])throw Ii.create("already-exists",{id:z});if(!Bu){!function hc(I){let A=[];Array.isArray(window[I])?A=window[I]:window[I]=A}(es);const{wrappedGtag:he,gtagCore:Oe}=function fc(I,A,R,z,ne){let he=function(...Oe){window[z].push(arguments)};return window[ne]&&"function"==typeof window[ne]&&(he=window[ne]),window[ne]=function Ji(I,A,R,z){function he(){return he=(0,ce.A)(function*(Oe,...mt){try{if("event"===Oe){const[ft,Rt]=mt;yield function Uo(I,A,R,z,ne){return Vo.apply(this,arguments)}(I,A,R,ft,Rt)}else if("config"===Oe){const[ft,Rt]=mt;yield function Xr(I,A,R,z,ne,he){return ht.apply(this,arguments)}(I,A,R,z,ft,Rt)}else if("consent"===Oe){const[ft]=mt;I("consent","update",ft)}else if("get"===Oe){const[ft,Rt,sn]=mt;I("get",ft,Rt,sn)}else if("set"===Oe){const[ft]=mt;I("set",ft)}else I(Oe,...mt)}catch(ft){bt.error(ft)}}),he.apply(this,arguments)}return function ne(Oe){return he.apply(this,arguments)}}(he,I,A,R),{gtagCore:he,wrappedGtag:window[ne]}}(Nn,Dn,_o,es,"gtag");Rn=he,Zs=Oe,Bu=!0}return Nn[z]=function Ie(I,A,R,z,ne,he,Oe){return gt.apply(this,arguments)}(I,Dn,_o,A,Zs,es,R),new Zt(I)}function vc(){return Js.apply(this,arguments)}function Js(){return(Js=(0,ce.A)(function*(){if((0,fe.sr)()||!(0,fe.dM)()||!(0,fe.zW)())return!1;try{return yield(0,fe.eX)()}catch{return!1}})).apply(this,arguments)}const Io="@firebase/analytics";!function Wr(){(0,we.om)(new q.uA(Ri,(A,{options:R})=>bh(A.getProvider("app").getImmediate(),A.getProvider("installations-internal").getImmediate(),R),"PUBLIC")),(0,we.om)(new q.uA("analytics-internal",function I(A){try{const R=A.getProvider(Ri).getImmediate();return{logEvent:(z,ne,he)=>function _c(I,A,R,z){I=(0,fe.Ku)(I),function vo(I,A,R,z,ne){return si.apply(this,arguments)}(Rn,Nn[I.app.options.appId],A,R,z).catch(ne=>bt.error(ne))}(R,z,ne,he)}}catch(R){throw Ii.create("interop-component-reg-failed",{reason:R})}},"PRIVATE")),(0,we.KO)(Io,"0.10.0"),(0,we.KO)(Io,"0.10.0","esm2017")}();var $u=K(8359);class hu extends $u.yU{constructor(A,R){super()}schedule(A,R=0){return this}}const ts={setInterval(I,A,...R){const{delegate:z}=ts;return z?.setInterval?z.setInterval(I,A,...R):setInterval(I,A,...R)},clearInterval(I){const{delegate:A}=ts;return(A?.clearInterval||clearInterval)(I)},delegate:void 0};var Pl=K(7908);class kl extends hu{constructor(A,R){super(A,R),this.scheduler=A,this.work=R,this.pending=!1}schedule(A,R=0){var z;if(this.closed)return this;this.state=A;const ne=this.id,he=this.scheduler;return null!=ne&&(this.id=this.recycleAsyncId(he,ne,R)),this.pending=!0,this.delay=R,this.id=null!==(z=this.id)&&void 0!==z?z:this.requestAsyncId(he,this.id,R),this}requestAsyncId(A,R,z=0){return ts.setInterval(A.flush.bind(A,this),z)}recycleAsyncId(A,R,z=0){if(null!=z&&this.delay===z&&!1===this.pending)return R;null!=R&&ts.clearInterval(R)}execute(A,R){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const z=this._execute(A,R);if(z)return z;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(A,R){let ne,z=!1;try{this.work(A)}catch(he){z=!0,ne=he||new Error("Scheduled action threw falsy error")}if(z)return this.unsubscribe(),ne}unsubscribe(){if(!this.closed){const{id:A,scheduler:R}=this,{actions:z}=R;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Pl.o)(z,this),null!=A&&(this.id=this.recycleAsyncId(R,A,null)),this.delay=null,super.unsubscribe()}}}const Ic={now:()=>(Ic.delegate||Date).now(),delegate:void 0};class ki{constructor(A,R=ki.now){this.schedulerActionCtor=A,this.now=R}schedule(A,R=0,z){return new this.schedulerActionCtor(this,A).schedule(z,R)}}ki.now=Ic.now;class oi extends ki{constructor(A,R=ki.now){super(A,R),this.actions=[],this._active=!1}flush(A){const{actions:R}=this;if(this._active)return void R.push(A);let z;this._active=!0;do{if(z=A.execute(A.state,A.delay))break}while(A=R.shift());if(this._active=!1,z){for(;A=R.shift();)A.unsubscribe();throw z}}}const Ta=new class ks extends oi{}(class Hi extends kl{constructor(A,R){super(A,R),this.scheduler=A,this.work=R}schedule(A,R=0){return R>0?super.schedule(A,R):(this.delay=R,this.state=A,this.scheduler.flush(this),this)}execute(A,R){return R>0||this.closed?super.execute(A,R):this._execute(A,R)}requestAsyncId(A,R,z=0){return null!=z&&z>0||null==z&&this.delay>0?super.requestAsyncId(A,R,z):(A.flush(this),0)}}),fu=new oi(kl);var wo=K(1985),oa=K(8141),ns=K(6745),aa=K(941);const Ls=new S.RxE("7.6.1"),jo="__angularfire_symbol__analyticsIsSupportedValue",eo="__angularfire_symbol__analyticsIsSupported",ja="__angularfire_symbol__remoteConfigIsSupportedValue",$o="__angularfire_symbol__remoteConfigIsSupported",$a="__angularfire_symbol__messagingIsSupportedValue",Ha="__angularfire_symbol__messagingIsSupported";function zu(I,A,R){if(A){if(1===A.length)return A[0];const he=A.filter(Oe=>Oe.app===R);if(1===he.length)return he[0]}return R.container.getProvider(I).getImmediate({optional:!0})}globalThis[eo]||(globalThis[eo]=vc().then(I=>globalThis[jo]=I).catch(()=>globalThis[jo]=!1)),globalThis[Ha]||(globalThis[Ha]=ds().then(I=>globalThis[$a]=I).catch(()=>globalThis[$a]=!1)),globalThis[$o]||(globalThis[$o]=Yo().then(I=>globalThis[ja]=I).catch(()=>globalThis[ja]=!1));const Eo=(I,A)=>{const R=A?[A]:(0,ie.Dk)(),z=[];return R.forEach(ne=>{ne.container.getProvider(I).instances.forEach(Oe=>{z.includes(Oe)||z.push(Oe)})}),z};function zo(){}class Ga{constructor(A,R=Ta){this.zone=A,this.delegate=R}now(){return this.delegate.now()}schedule(A,R,z){const ne=this.zone;return this.delegate.schedule(function(Oe){ne.runGuarded(()=>{A.apply(this,[Oe])})},R,z)}}class Fl{constructor(A){this.zone=A,this.task=null}call(A,R){const z=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",zo,{},zo,zo)),R.pipe((0,oa.M)({next:z,complete:z,error:z})).subscribe(A).add(z)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Gu=(()=>{class I{constructor(R){this.ngZone=R,this.outsideAngular=R.runOutsideAngular(()=>new Ga(Zone.current)),this.insideAngular=R.run(()=>new Ga(Zone.current,fu)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return I.\u0275fac=function(R){return new(R||I)(S.KVO(S.SKi))},I.\u0275prov=S.jDH({token:I,factory:I.\u0275fac,providedIn:"root"}),I})();function Ca(){const I=globalThis.\u0275AngularFireScheduler;if(!I)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return I}function Zr(I){return Ca().ngZone.run(()=>I())}function ba(I){return Ca(),function Wu(I){return function(R){return(R=R.lift(new Fl(I.ngZone))).pipe((0,ns._)(I.outsideAngular),(0,aa.Q)(I.insideAngular))}}(Ca())(I)}const wc=(I,A)=>function(){const z=arguments;return A&&setTimeout(()=>{"scheduled"===A.state&&A.invoke()},10),Zr(()=>I.apply(void 0,z))},Do=(I,A)=>function(){let R;const z=arguments;for(let he=0;he<arguments.length;he++)"function"==typeof z[he]&&(A&&(R||(R=Zr(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",zo,{},zo,zo)))),z[he]=wc(z[he],R));const ne=function rs(I){return Ca().ngZone.runOutsideAngular(()=>I())}(()=>I.apply(this,z));if(!A){if(ne instanceof wo.c){const he=Ca();return ne.pipe((0,ns._)(he.outsideAngular),(0,aa.Q)(he.insideAngular))}return Zr(()=>ne)}return ne instanceof wo.c?ne.pipe(ba):ne instanceof Promise?Zr(()=>new Promise((he,Oe)=>ne.then(mt=>Zr(()=>he(mt)),mt=>Zr(()=>Oe(mt))))):"function"==typeof ne&&R?function(){return setTimeout(()=>{R&&"scheduled"===R.state&&R.invoke()},10),ne.apply(this,arguments)}:Zr(()=>ne)}},1401:(jt,He,K)=>{K.d(He,{Am:()=>Er,FA:()=>Se,Fy:()=>Re,I9:()=>jn,Im:()=>Kn,K3:()=>q,Ku:()=>dr,T9:()=>Ze,Tj:()=>bn,Uj:()=>je,XA:()=>Je,ZQ:()=>dt,bD:()=>Xt,cY:()=>Qe,dM:()=>ve,eX:()=>Bn,g:()=>be,hp:()=>rn,jZ:()=>Ge,lT:()=>vt,lV:()=>ur,nr:()=>gr,p9:()=>Sr,sr:()=>nt,tD:()=>kn,u:()=>re,yU:()=>Gt,zW:()=>er});const we=function(te){const B=[];let H=0;for(let j=0;j<te.length;j++){let G=te.charCodeAt(j);G<128?B[H++]=G:G<2048?(B[H++]=G>>6|192,B[H++]=63&G|128):55296==(64512&G)&&j+1<te.length&&56320==(64512&te.charCodeAt(j+1))?(G=65536+((1023&G)<<10)+(1023&te.charCodeAt(++j)),B[H++]=G>>18|240,B[H++]=G>>12&63|128,B[H++]=G>>6&63|128,B[H++]=63&G|128):(B[H++]=G>>12|224,B[H++]=G>>6&63|128,B[H++]=63&G|128)}return B},q={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(te,B){if(!Array.isArray(te))throw Error("encodeByteArray takes an array as a parameter");this.init_();const H=B?this.byteToCharMapWebSafe_:this.byteToCharMap_,j=[];for(let G=0;G<te.length;G+=3){const le=te[G],$e=G+1<te.length,ct=$e?te[G+1]:0,Ht=G+2<te.length,Vt=Ht?te[G+2]:0;let zn=(15&ct)<<2|Vt>>6,ci=63&Vt;Ht||(ci=64,$e||(zn=64)),j.push(H[le>>2],H[(3&le)<<4|ct>>4],H[zn],H[ci])}return j.join("")},encodeString(te,B){return this.HAS_NATIVE_SUPPORT&&!B?btoa(te):this.encodeByteArray(we(te),B)},decodeString(te,B){return this.HAS_NATIVE_SUPPORT&&!B?atob(te):function(te){const B=[];let H=0,j=0;for(;H<te.length;){const G=te[H++];if(G<128)B[j++]=String.fromCharCode(G);else if(G>191&&G<224){const le=te[H++];B[j++]=String.fromCharCode((31&G)<<6|63&le)}else if(G>239&&G<365){const Ht=((7&G)<<18|(63&te[H++])<<12|(63&te[H++])<<6|63&te[H++])-65536;B[j++]=String.fromCharCode(55296+(Ht>>10)),B[j++]=String.fromCharCode(56320+(1023&Ht))}else{const le=te[H++],$e=te[H++];B[j++]=String.fromCharCode((15&G)<<12|(63&le)<<6|63&$e)}}return B.join("")}(this.decodeStringToByteArray(te,B))},decodeStringToByteArray(te,B){this.init_();const H=B?this.charToByteMapWebSafe_:this.charToByteMap_,j=[];for(let G=0;G<te.length;){const le=H[te.charAt(G++)],ct=G<te.length?H[te.charAt(G)]:0;++G;const Vt=G<te.length?H[te.charAt(G)]:64;++G;const tn=G<te.length?H[te.charAt(G)]:64;if(++G,null==le||null==ct||null==Vt||null==tn)throw new Z;j.push(le<<2|ct>>4),64!==Vt&&(j.push(ct<<4&240|Vt>>2),64!==tn&&j.push(Vt<<6&192|tn))}return j},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let te=0;te<this.ENCODED_VALS.length;te++)this.byteToCharMap_[te]=this.ENCODED_VALS.charAt(te),this.charToByteMap_[this.byteToCharMap_[te]]=te,this.byteToCharMapWebSafe_[te]=this.ENCODED_VALS_WEBSAFE.charAt(te),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[te]]=te,te>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(te)]=te,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(te)]=te)}}};class Z extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const je=function(te){return function(te){const B=we(te);return q.encodeByteArray(B,!0)}(te).replace(/\./g,"")},re=function(te){try{return q.decodeString(te,!0)}catch(B){console.error("base64Decode failed: ",B)}return null},lt=()=>{try{return function de(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const te=process.env.__FIREBASE_DEFAULTS__;return te?JSON.parse(te):void 0})()||(()=>{if(typeof document>"u")return;let te;try{te=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const B=te&&re(te[1]);return B&&JSON.parse(B)})()}catch(te){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${te}`)}},bn=te=>{var B,H;return null===(H=null===(B=lt())||void 0===B?void 0:B.emulatorHosts)||void 0===H?void 0:H[te]},Gt=te=>{const B=bn(te);if(!B)return;const H=B.lastIndexOf(":");if(H<=0||H+1===B.length)throw new Error(`Invalid host ${B} with no separate hostname and port!`);const j=parseInt(B.substring(H+1),10);return"["===B[0]?[B.substring(1,H-1),j]:[B.substring(0,H),j]},Ze=()=>{var te;return null===(te=lt())||void 0===te?void 0:te.config},Je=te=>{var B;return null===(B=lt())||void 0===B?void 0:B[`_${te}`]};class Qe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((B,H)=>{this.resolve=B,this.reject=H})}wrapCallback(B){return(H,j)=>{H?this.reject(H):this.resolve(j),"function"==typeof B&&(this.promise.catch(()=>{}),1===B.length?B(H):B(H,j))}}}function Re(te,B){if(te.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const j=B||"demo-project",G=te.iat||0,le=te.sub||te.user_id;if(!le)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const $e=Object.assign({iss:`https://securetoken.google.com/${j}`,aud:j,iat:G,exp:G+3600,auth_time:G,sub:le,user_id:le,firebase:{sign_in_provider:"custom",identities:{}}},te);return[je(JSON.stringify({alg:"none",type:"JWT"})),je(JSON.stringify($e)),""].join(".")}function dt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ge(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(dt())}function nt(){const te="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof te&&void 0!==te.id}function ur(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function vt(){const te=dt();return te.indexOf("MSIE ")>=0||te.indexOf("Trident/")>=0}function gr(){return!function Mt(){var te;const B=null===(te=lt())||void 0===te?void 0:te.forceEnvironment;if("node"===B)return!0;if("browser"===B)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function er(){try{return"object"==typeof indexedDB}catch{return!1}}function Bn(){return new Promise((te,B)=>{try{let H=!0;const j="validate-browser-context-for-indexeddb-analytics-module",G=self.indexedDB.open(j);G.onsuccess=()=>{G.result.close(),H||self.indexedDB.deleteDatabase(j),te(!0)},G.onupgradeneeded=()=>{H=!1},G.onerror=()=>{var le;B((null===(le=G.error)||void 0===le?void 0:le.message)||"")}}catch(H){B(H)}})}function ve(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class be extends Error{constructor(B,H,j){super(H),this.code=B,this.customData=j,this.name="FirebaseError",Object.setPrototypeOf(this,be.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Se.prototype.create)}}class Se{constructor(B,H,j){this.service=B,this.serviceName=H,this.errors=j}create(B,...H){const j=H[0]||{},G=`${this.service}/${B}`,le=this.errors[B],$e=le?function Ke(te,B){return te.replace(qe,(H,j)=>{const G=B[j];return null!=G?String(G):`<${j}?>`})}(le,j):"Error";return new be(G,`${this.serviceName}: ${$e} (${G}).`,j)}}const qe=/\{\$([^}]+)}/g;function Kn(te){for(const B in te)if(Object.prototype.hasOwnProperty.call(te,B))return!1;return!0}function Xt(te,B){if(te===B)return!0;const H=Object.keys(te),j=Object.keys(B);for(const G of H){if(!j.includes(G))return!1;const le=te[G],$e=B[G];if(Ut(le)&&Ut($e)){if(!Xt(le,$e))return!1}else if(le!==$e)return!1}for(const G of j)if(!H.includes(G))return!1;return!0}function Ut(te){return null!==te&&"object"==typeof te}function Er(te){const B=[];for(const[H,j]of Object.entries(te))Array.isArray(j)?j.forEach(G=>{B.push(encodeURIComponent(H)+"="+encodeURIComponent(G))}):B.push(encodeURIComponent(H)+"="+encodeURIComponent(j));return B.length?"&"+B.join("&"):""}function jn(te){const B={};return te.replace(/^\?/,"").split("&").forEach(j=>{if(j){const[G,le]=j.split("=");B[decodeURIComponent(G)]=decodeURIComponent(le)}}),B}function rn(te){const B=te.indexOf("?");if(!B)return"";const H=te.indexOf("#",B);return te.substring(B,H>0?H:void 0)}function kn(te,B){const H=new mr(te,B);return H.subscribe.bind(H)}class mr{constructor(B,H){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=H,this.task.then(()=>{B(this)}).catch(j=>{this.error(j)})}next(B){this.forEachObserver(H=>{H.next(B)})}error(B){this.forEachObserver(H=>{H.error(B)}),this.close(B)}complete(){this.forEachObserver(B=>{B.complete()}),this.close()}subscribe(B,H,j){let G;if(void 0===B&&void 0===H&&void 0===j)throw new Error("Missing Observer.");G=function Xn(te,B){if("object"!=typeof te||null===te)return!1;for(const H of B)if(H in te&&"function"==typeof te[H])return!0;return!1}(B,["next","error","complete"])?B:{next:B,error:H,complete:j},void 0===G.next&&(G.next=lr),void 0===G.error&&(G.error=lr),void 0===G.complete&&(G.complete=lr);const le=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?G.error(this.finalError):G.complete()}catch{}}),this.observers.push(G),le}unsubscribeOne(B){void 0===this.observers||void 0===this.observers[B]||(delete this.observers[B],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(B){if(!this.finalized)for(let H=0;H<this.observers.length;H++)this.sendOne(H,B)}sendOne(B,H){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[B])try{H(this.observers[B])}catch(j){typeof console<"u"&&console.error&&console.error(j)}})}close(B){this.finalized||(this.finalized=!0,void 0!==B&&(this.finalError=B),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function lr(){}const ei=1e3,It=2,Cr=144e5,Br=.5;function Sr(te,B=ei,H=It){const j=B*Math.pow(H,te),G=Math.round(Br*j*(Math.random()-.5)*2);return Math.min(Cr,j+G)}function dr(te){return te&&te._delegate?te._delegate:te}},226:(jt,He,K)=>{var S=K(345),ie=K(6143),ce=K(6276);const we=[{path:"",redirectTo:"auth/login",pathMatch:"full"},{path:"auth",loadChildren:()=>Promise.all([K.e(341),K.e(384)]).then(K.bind(K,5384)).then(ge=>ge.AuthModule)},{path:"dashboard",loadChildren:()=>Promise.all([K.e(341),K.e(134)]).then(K.bind(K,2134)).then(ge=>ge.DashboardModule)}];let fe=(()=>{class ge{static{this.\u0275fac=function(ut){return new(ut||ge)}}static{this.\u0275mod=ce.$C({type:ge})}static{this.\u0275inj=ce.G2t({imports:[ie.iI.forRoot(we),ie.iI]})}}return ge})(),q=(()=>{class ge{constructor(){this.title="coop-app"}static{this.\u0275fac=function(ut){return new(ut||ge)}}static{this.\u0275cmp=ce.VBU({type:ge,selectors:[["app-root"]],decls:1,vars:0,template:function(ut,st){1&ut&&ce.nrm(0,"router-outlet")},dependencies:[ie.n3]})}}return ge})();const Z_firebase={apiKey:"AIzaSyCbw8b_ag8QyunuIJIXl24SCepm439uzVU",authDomain:"coop-pro.firebaseapp.com",projectId:"coop-pro",storageBucket:"coop-pro.firebasestorage.app",messagingSenderId:"770543345465",appId:"1:770543345465:web:33089459f3d6eba9b992e8",measurementId:"G-T4463ZST23"};var Xe=K(8934),je=K(4724),re=K(9676);let ee=(()=>{class ge{static{this.\u0275fac=function(ut){return new(ut||ge)}}static{this.\u0275mod=ce.$C({type:ge,bootstrap:[q]})}static{this.\u0275inj=ce.G2t({imports:[(0,re._q)(()=>(0,re.xI)()),S.Bb,fe,(0,Xe.MW)(()=>(0,Xe.Wp)(Z_firebase)),(0,je.hV)(()=>(0,je.aU)())]})}}return ge})();S.sG().bootstrapModule(ee).catch(ge=>console.error(ge))},4412:(jt,He,K)=>{K.d(He,{t:()=>ie});var S=K(1413);class ie extends S.B{constructor(we){super(),this._value=we}get value(){return this.getValue()}_subscribe(we){const fe=super._subscribe(we);return!fe.closed&&we.next(this._value),fe}getValue(){const{hasError:we,thrownError:fe,_value:q}=this;if(we)throw fe;return this._throwIfClosed(),q}next(we){super.next(this._value=we)}}},1985:(jt,He,K)=>{K.d(He,{c:()=>Xe});var S=K(7707),ie=K(8359),ce=K(3494),we=K(1203),fe=K(1026),q=K(8071),Z=K(9786);let Xe=(()=>{class ge{constructor(de){de&&(this._subscribe=de)}lift(de){const ut=new ge;return ut.source=this,ut.operator=de,ut}subscribe(de,ut,st){const $t=function ee(ge){return ge&&ge instanceof S.vU||function re(ge){return ge&&(0,q.T)(ge.next)&&(0,q.T)(ge.error)&&(0,q.T)(ge.complete)}(ge)&&(0,ie.Uv)(ge)}(de)?de:new S.Ms(de,ut,st);return(0,Z.Y)(()=>{const{operator:lt,source:bn}=this;$t.add(lt?lt.call($t,bn):bn?this._subscribe($t):this._trySubscribe($t))}),$t}_trySubscribe(de){try{return this._subscribe(de)}catch(ut){de.error(ut)}}forEach(de,ut){return new(ut=je(ut))((st,$t)=>{const lt=new S.Ms({next:bn=>{try{de(bn)}catch(Gt){$t(Gt),lt.unsubscribe()}},error:$t,complete:st});this.subscribe(lt)})}_subscribe(de){var ut;return null===(ut=this.source)||void 0===ut?void 0:ut.subscribe(de)}[ce.s](){return this}pipe(...de){return(0,we.m)(de)(this)}toPromise(de){return new(de=je(de))((ut,st)=>{let $t;this.subscribe(lt=>$t=lt,lt=>st(lt),()=>ut($t))})}}return ge.create=Le=>new ge(Le),ge})();function je(ge){var Le;return null!==(Le=ge??fe.$.Promise)&&void 0!==Le?Le:Promise}},1413:(jt,He,K)=>{K.d(He,{B:()=>Z});var S=K(1985),ie=K(8359);const we=(0,K(1853).L)(je=>function(){je(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var fe=K(7908),q=K(9786);let Z=(()=>{class je extends S.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ee){const ge=new Xe(this,this);return ge.operator=ee,ge}_throwIfClosed(){if(this.closed)throw new we}next(ee){(0,q.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ge of this.currentObservers)ge.next(ee)}})}error(ee){(0,q.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ee;const{observers:ge}=this;for(;ge.length;)ge.shift().error(ee)}})}complete(){(0,q.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ee}=this;for(;ee.length;)ee.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var ee;return(null===(ee=this.observers)||void 0===ee?void 0:ee.length)>0}_trySubscribe(ee){return this._throwIfClosed(),super._trySubscribe(ee)}_subscribe(ee){return this._throwIfClosed(),this._checkFinalizedStatuses(ee),this._innerSubscribe(ee)}_innerSubscribe(ee){const{hasError:ge,isStopped:Le,observers:de}=this;return ge||Le?ie.Kn:(this.currentObservers=null,de.push(ee),new ie.yU(()=>{this.currentObservers=null,(0,fe.o)(de,ee)}))}_checkFinalizedStatuses(ee){const{hasError:ge,thrownError:Le,isStopped:de}=this;ge?ee.error(Le):de&&ee.complete()}asObservable(){const ee=new S.c;return ee.source=this,ee}}return je.create=(re,ee)=>new Xe(re,ee),je})();class Xe extends Z{constructor(re,ee){super(),this.destination=re,this.source=ee}next(re){var ee,ge;null===(ge=null===(ee=this.destination)||void 0===ee?void 0:ee.next)||void 0===ge||ge.call(ee,re)}error(re){var ee,ge;null===(ge=null===(ee=this.destination)||void 0===ee?void 0:ee.error)||void 0===ge||ge.call(ee,re)}complete(){var re,ee;null===(ee=null===(re=this.destination)||void 0===re?void 0:re.complete)||void 0===ee||ee.call(re)}_subscribe(re){var ee,ge;return null!==(ge=null===(ee=this.source)||void 0===ee?void 0:ee.subscribe(re))&&void 0!==ge?ge:ie.Kn}}},7707:(jt,He,K)=>{K.d(He,{Ms:()=>st,vU:()=>ge});var S=K(8071),ie=K(8359),ce=K(1026),we=K(5334),fe=K(5343);const q=je("C",void 0,void 0);function je(Ze,Je,Qe){return{kind:Ze,value:Je,error:Qe}}var re=K(9270),ee=K(9786);class ge extends ie.yU{constructor(Je){super(),this.isStopped=!1,Je?(this.destination=Je,(0,ie.Uv)(Je)&&Je.add(this)):this.destination=Gt}static create(Je,Qe,Re){return new st(Je,Qe,Re)}next(Je){this.isStopped?bn(function Xe(Ze){return je("N",Ze,void 0)}(Je),this):this._next(Je)}error(Je){this.isStopped?bn(function Z(Ze){return je("E",void 0,Ze)}(Je),this):(this.isStopped=!0,this._error(Je))}complete(){this.isStopped?bn(q,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Je){this.destination.next(Je)}_error(Je){try{this.destination.error(Je)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Le=Function.prototype.bind;function de(Ze,Je){return Le.call(Ze,Je)}class ut{constructor(Je){this.partialObserver=Je}next(Je){const{partialObserver:Qe}=this;if(Qe.next)try{Qe.next(Je)}catch(Re){$t(Re)}}error(Je){const{partialObserver:Qe}=this;if(Qe.error)try{Qe.error(Je)}catch(Re){$t(Re)}else $t(Je)}complete(){const{partialObserver:Je}=this;if(Je.complete)try{Je.complete()}catch(Qe){$t(Qe)}}}class st extends ge{constructor(Je,Qe,Re){let dt;if(super(),(0,S.T)(Je)||!Je)dt={next:Je??void 0,error:Qe??void 0,complete:Re??void 0};else{let Ge;this&&ce.$.useDeprecatedNextContext?(Ge=Object.create(Je),Ge.unsubscribe=()=>this.unsubscribe(),dt={next:Je.next&&de(Je.next,Ge),error:Je.error&&de(Je.error,Ge),complete:Je.complete&&de(Je.complete,Ge)}):dt=Je}this.destination=new ut(dt)}}function $t(Ze){ce.$.useDeprecatedSynchronousErrorHandling?(0,ee.l)(Ze):(0,we.m)(Ze)}function bn(Ze,Je){const{onStoppedNotification:Qe}=ce.$;Qe&&re.f.setTimeout(()=>Qe(Ze,Je))}const Gt={closed:!0,next:fe.l,error:function lt(Ze){throw Ze},complete:fe.l}},8359:(jt,He,K)=>{K.d(He,{Kn:()=>q,yU:()=>fe,Uv:()=>Z});var S=K(8071);const ce=(0,K(1853).L)(je=>function(ee){je(this),this.message=ee?`${ee.length} errors occurred during unsubscription:\n${ee.map((ge,Le)=>`${Le+1}) ${ge.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ee});var we=K(7908);class fe{constructor(re){this.initialTeardown=re,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let re;if(!this.closed){this.closed=!0;const{_parentage:ee}=this;if(ee)if(this._parentage=null,Array.isArray(ee))for(const de of ee)de.remove(this);else ee.remove(this);const{initialTeardown:ge}=this;if((0,S.T)(ge))try{ge()}catch(de){re=de instanceof ce?de.errors:[de]}const{_finalizers:Le}=this;if(Le){this._finalizers=null;for(const de of Le)try{Xe(de)}catch(ut){re=re??[],ut instanceof ce?re=[...re,...ut.errors]:re.push(ut)}}if(re)throw new ce(re)}}add(re){var ee;if(re&&re!==this)if(this.closed)Xe(re);else{if(re instanceof fe){if(re.closed||re._hasParent(this))return;re._addParent(this)}(this._finalizers=null!==(ee=this._finalizers)&&void 0!==ee?ee:[]).push(re)}}_hasParent(re){const{_parentage:ee}=this;return ee===re||Array.isArray(ee)&&ee.includes(re)}_addParent(re){const{_parentage:ee}=this;this._parentage=Array.isArray(ee)?(ee.push(re),ee):ee?[ee,re]:re}_removeParent(re){const{_parentage:ee}=this;ee===re?this._parentage=null:Array.isArray(ee)&&(0,we.o)(ee,re)}remove(re){const{_finalizers:ee}=this;ee&&(0,we.o)(ee,re),re instanceof fe&&re._removeParent(this)}}fe.EMPTY=(()=>{const je=new fe;return je.closed=!0,je})();const q=fe.EMPTY;function Z(je){return je instanceof fe||je&&"closed"in je&&(0,S.T)(je.remove)&&(0,S.T)(je.add)&&(0,S.T)(je.unsubscribe)}function Xe(je){(0,S.T)(je)?je():je.unsubscribe()}},1026:(jt,He,K)=>{K.d(He,{$:()=>S});const S={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},983:(jt,He,K)=>{K.d(He,{w:()=>ie});const ie=new(K(1985).c)(fe=>fe.complete())},8455:(jt,He,K)=>{K.d(He,{H:()=>Je});var S=K(8750),ie=K(941),ce=K(6745),q=K(1985),Xe=K(4761),je=K(8071),re=K(5225);function ge(Qe,Re){if(!Qe)throw new Error("Iterable cannot be null");return new q.c(dt=>{(0,re.N)(dt,Re,()=>{const Ge=Qe[Symbol.asyncIterator]();(0,re.N)(dt,Re,()=>{Ge.next().then(Mt=>{Mt.done?dt.complete():dt.next(Mt.value)})},0,!0)})})}var Le=K(5055),de=K(9858),ut=K(7441),st=K(5397),$t=K(7953),lt=K(591),bn=K(5196);function Je(Qe,Re){return Re?function Ze(Qe,Re){if(null!=Qe){if((0,Le.l)(Qe))return function we(Qe,Re){return(0,S.Tg)(Qe).pipe((0,ce._)(Re),(0,ie.Q)(Re))}(Qe,Re);if((0,ut.X)(Qe))return function Z(Qe,Re){return new q.c(dt=>{let Ge=0;return Re.schedule(function(){Ge===Qe.length?dt.complete():(dt.next(Qe[Ge++]),dt.closed||this.schedule())})})}(Qe,Re);if((0,de.y)(Qe))return function fe(Qe,Re){return(0,S.Tg)(Qe).pipe((0,ce._)(Re),(0,ie.Q)(Re))}(Qe,Re);if((0,$t.T)(Qe))return ge(Qe,Re);if((0,st.x)(Qe))return function ee(Qe,Re){return new q.c(dt=>{let Ge;return(0,re.N)(dt,Re,()=>{Ge=Qe[Xe.l](),(0,re.N)(dt,Re,()=>{let Mt,hn;try{({value:Mt,done:hn}=Ge.next())}catch(nt){return void dt.error(nt)}hn?dt.complete():dt.next(Mt)},0,!0)}),()=>(0,je.T)(Ge?.return)&&Ge.return()})}(Qe,Re);if((0,bn.U)(Qe))return function Gt(Qe,Re){return ge((0,bn.C)(Qe),Re)}(Qe,Re)}throw(0,lt.L)(Qe)}(Qe,Re):(0,S.Tg)(Qe)}},8750:(jt,He,K)=>{K.d(He,{Tg:()=>Le});var S=K(1635),ie=K(7441),ce=K(9858),we=K(1985),fe=K(5055),q=K(7953),Z=K(591),Xe=K(5397),je=K(5196),re=K(8071),ee=K(5334),ge=K(3494);function Le(Ze){if(Ze instanceof we.c)return Ze;if(null!=Ze){if((0,fe.l)(Ze))return function de(Ze){return new we.c(Je=>{const Qe=Ze[ge.s]();if((0,re.T)(Qe.subscribe))return Qe.subscribe(Je);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ze);if((0,ie.X)(Ze))return function ut(Ze){return new we.c(Je=>{for(let Qe=0;Qe<Ze.length&&!Je.closed;Qe++)Je.next(Ze[Qe]);Je.complete()})}(Ze);if((0,ce.y)(Ze))return function st(Ze){return new we.c(Je=>{Ze.then(Qe=>{Je.closed||(Je.next(Qe),Je.complete())},Qe=>Je.error(Qe)).then(null,ee.m)})}(Ze);if((0,q.T)(Ze))return lt(Ze);if((0,Xe.x)(Ze))return function $t(Ze){return new we.c(Je=>{for(const Qe of Ze)if(Je.next(Qe),Je.closed)return;Je.complete()})}(Ze);if((0,je.U)(Ze))return function bn(Ze){return lt((0,je.C)(Ze))}(Ze)}throw(0,Z.L)(Ze)}function lt(Ze){return new we.c(Je=>{(function Gt(Ze,Je){var Qe,Re,dt,Ge;return(0,S.sH)(this,void 0,void 0,function*(){try{for(Qe=(0,S.xN)(Ze);!(Re=yield Qe.next()).done;)if(Je.next(Re.value),Je.closed)return}catch(Mt){dt={error:Mt}}finally{try{Re&&!Re.done&&(Ge=Qe.return)&&(yield Ge.call(Qe))}finally{if(dt)throw dt.error}}Je.complete()})})(Ze,Je).catch(Qe=>Je.error(Qe))})}},7673:(jt,He,K)=>{K.d(He,{of:()=>ce});var S=K(3794),ie=K(8455);function ce(...we){const fe=(0,S.lI)(we);return(0,ie.H)(we,fe)}},4360:(jt,He,K)=>{K.d(He,{_:()=>ie});var S=K(7707);function ie(we,fe,q,Z,Xe){return new ce(we,fe,q,Z,Xe)}class ce extends S.vU{constructor(fe,q,Z,Xe,je,re){super(fe),this.onFinalize=je,this.shouldUnsubscribe=re,this._next=q?function(ee){try{q(ee)}catch(ge){fe.error(ge)}}:super._next,this._error=Xe?function(ee){try{Xe(ee)}catch(ge){fe.error(ge)}finally{this.unsubscribe()}}:super._error,this._complete=Z?function(){try{Z()}catch(ee){fe.error(ee)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var fe;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:q}=this;super.unsubscribe(),!q&&(null===(fe=this.onFinalize)||void 0===fe||fe.call(this))}}}},3294:(jt,He,K)=>{K.d(He,{F:()=>we});var S=K(3669),ie=K(9974),ce=K(4360);function we(q,Z=S.D){return q=q??fe,(0,ie.N)((Xe,je)=>{let re,ee=!0;Xe.subscribe((0,ce._)(je,ge=>{const Le=Z(ge);(ee||!q(re,Le))&&(ee=!1,re=Le,je.next(ge))}))})}function fe(q,Z){return q===Z}},6354:(jt,He,K)=>{K.d(He,{T:()=>ce});var S=K(9974),ie=K(4360);function ce(we,fe){return(0,S.N)((q,Z)=>{let Xe=0;q.subscribe((0,ie._)(Z,je=>{Z.next(we.call(fe,je,Xe++))}))})}},6365:(jt,He,K)=>{K.d(He,{U:()=>ce});var S=K(1397),ie=K(3669);function ce(we=1/0){return(0,S.Z)(ie.D,we)}},1397:(jt,He,K)=>{K.d(He,{Z:()=>Xe});var S=K(6354),ie=K(8750),ce=K(9974),we=K(5225),fe=K(4360),Z=K(8071);function Xe(je,re,ee=1/0){return(0,Z.T)(re)?Xe((ge,Le)=>(0,S.T)((de,ut)=>re(ge,de,Le,ut))((0,ie.Tg)(je(ge,Le))),ee):("number"==typeof re&&(ee=re),(0,ce.N)((ge,Le)=>function q(je,re,ee,ge,Le,de,ut,st){const $t=[];let lt=0,bn=0,Gt=!1;const Ze=()=>{Gt&&!$t.length&&!lt&&re.complete()},Je=Re=>lt<ge?Qe(Re):$t.push(Re),Qe=Re=>{de&&re.next(Re),lt++;let dt=!1;(0,ie.Tg)(ee(Re,bn++)).subscribe((0,fe._)(re,Ge=>{Le?.(Ge),de?Je(Ge):re.next(Ge)},()=>{dt=!0},void 0,()=>{if(dt)try{for(lt--;$t.length&&lt<ge;){const Ge=$t.shift();ut?(0,we.N)(re,ut,()=>Qe(Ge)):Qe(Ge)}Ze()}catch(Ge){re.error(Ge)}}))};return je.subscribe((0,fe._)(re,Je,()=>{Gt=!0,Ze()})),()=>{st?.()}}(ge,Le,je,ee)))}},941:(jt,He,K)=>{K.d(He,{Q:()=>we});var S=K(5225),ie=K(9974),ce=K(4360);function we(fe,q=0){return(0,ie.N)((Z,Xe)=>{Z.subscribe((0,ce._)(Xe,je=>(0,S.N)(Xe,fe,()=>Xe.next(je),q),()=>(0,S.N)(Xe,fe,()=>Xe.complete(),q),je=>(0,S.N)(Xe,fe,()=>Xe.error(je),q)))})}},6745:(jt,He,K)=>{K.d(He,{_:()=>ie});var S=K(9974);function ie(ce,we=0){return(0,S.N)((fe,q)=>{q.add(ce.schedule(()=>fe.subscribe(q),we))})}},5558:(jt,He,K)=>{K.d(He,{n:()=>we});var S=K(8750),ie=K(9974),ce=K(4360);function we(fe,q){return(0,ie.N)((Z,Xe)=>{let je=null,re=0,ee=!1;const ge=()=>ee&&!je&&Xe.complete();Z.subscribe((0,ce._)(Xe,Le=>{je?.unsubscribe();let de=0;const ut=re++;(0,S.Tg)(fe(Le,ut)).subscribe(je=(0,ce._)(Xe,st=>Xe.next(q?q(Le,st,ut,de++):st),()=>{je=null,ge()}))},()=>{ee=!0,ge()}))})}},8141:(jt,He,K)=>{K.d(He,{M:()=>fe});var S=K(8071),ie=K(9974),ce=K(4360),we=K(3669);function fe(q,Z,Xe){const je=(0,S.T)(q)||Z||Xe?{next:q,error:Z,complete:Xe}:q;return je?(0,ie.N)((re,ee)=>{var ge;null===(ge=je.subscribe)||void 0===ge||ge.call(je);let Le=!0;re.subscribe((0,ce._)(ee,de=>{var ut;null===(ut=je.next)||void 0===ut||ut.call(je,de),ee.next(de)},()=>{var de;Le=!1,null===(de=je.complete)||void 0===de||de.call(je),ee.complete()},de=>{var ut;Le=!1,null===(ut=je.error)||void 0===ut||ut.call(je,de),ee.error(de)},()=>{var de,ut;Le&&(null===(de=je.unsubscribe)||void 0===de||de.call(je)),null===(ut=je.finalize)||void 0===ut||ut.call(je)}))}):we.D}},9270:(jt,He,K)=>{K.d(He,{f:()=>S});const S={setTimeout(ie,ce,...we){const{delegate:fe}=S;return fe?.setTimeout?fe.setTimeout(ie,ce,...we):setTimeout(ie,ce,...we)},clearTimeout(ie){const{delegate:ce}=S;return(ce?.clearTimeout||clearTimeout)(ie)},delegate:void 0}},4761:(jt,He,K)=>{K.d(He,{l:()=>ie});const ie=function S(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3494:(jt,He,K)=>{K.d(He,{s:()=>S});const S="function"==typeof Symbol&&Symbol.observable||"@@observable"},3794:(jt,He,K)=>{K.d(He,{R0:()=>q,ms:()=>we,lI:()=>fe});var S=K(8071);function ce(Z){return Z[Z.length-1]}function we(Z){return(0,S.T)(ce(Z))?Z.pop():void 0}function fe(Z){return function ie(Z){return Z&&(0,S.T)(Z.schedule)}(ce(Z))?Z.pop():void 0}function q(Z,Xe){return"number"==typeof ce(Z)?Z.pop():Xe}},3073:(jt,He,K)=>{K.d(He,{D:()=>fe});const{isArray:S}=Array,{getPrototypeOf:ie,prototype:ce,keys:we}=Object;function fe(Z){if(1===Z.length){const Xe=Z[0];if(S(Xe))return{args:Xe,keys:null};if(function q(Z){return Z&&"object"==typeof Z&&ie(Z)===ce}(Xe)){const je=we(Xe);return{args:je.map(re=>Xe[re]),keys:je}}}return{args:Z,keys:null}}},7908:(jt,He,K)=>{function S(ie,ce){if(ie){const we=ie.indexOf(ce);0<=we&&ie.splice(we,1)}}K.d(He,{o:()=>S})},1853:(jt,He,K)=>{function S(ie){const we=ie(fe=>{Error.call(fe),fe.stack=(new Error).stack});return we.prototype=Object.create(Error.prototype),we.prototype.constructor=we,we}K.d(He,{L:()=>S})},8496:(jt,He,K)=>{function S(ie,ce){return ie.reduce((we,fe,q)=>(we[fe]=ce[q],we),{})}K.d(He,{e:()=>S})},9786:(jt,He,K)=>{K.d(He,{Y:()=>ce,l:()=>we});var S=K(1026);let ie=null;function ce(fe){if(S.$.useDeprecatedSynchronousErrorHandling){const q=!ie;if(q&&(ie={errorThrown:!1,error:null}),fe(),q){const{errorThrown:Z,error:Xe}=ie;if(ie=null,Z)throw Xe}}else fe()}function we(fe){S.$.useDeprecatedSynchronousErrorHandling&&ie&&(ie.errorThrown=!0,ie.error=fe)}},5225:(jt,He,K)=>{function S(ie,ce,we,fe=0,q=!1){const Z=ce.schedule(function(){we(),q?ie.add(this.schedule(null,fe)):this.unsubscribe()},fe);if(ie.add(Z),!q)return Z}K.d(He,{N:()=>S})},3669:(jt,He,K)=>{function S(ie){return ie}K.d(He,{D:()=>S})},7441:(jt,He,K)=>{K.d(He,{X:()=>S});const S=ie=>ie&&"number"==typeof ie.length&&"function"!=typeof ie},7953:(jt,He,K)=>{K.d(He,{T:()=>ie});var S=K(8071);function ie(ce){return Symbol.asyncIterator&&(0,S.T)(ce?.[Symbol.asyncIterator])}},8071:(jt,He,K)=>{function S(ie){return"function"==typeof ie}K.d(He,{T:()=>S})},5055:(jt,He,K)=>{K.d(He,{l:()=>ce});var S=K(3494),ie=K(8071);function ce(we){return(0,ie.T)(we[S.s])}},5397:(jt,He,K)=>{K.d(He,{x:()=>ce});var S=K(4761),ie=K(8071);function ce(we){return(0,ie.T)(we?.[S.l])}},9858:(jt,He,K)=>{K.d(He,{y:()=>ie});var S=K(8071);function ie(ce){return(0,S.T)(ce?.then)}},5196:(jt,He,K)=>{K.d(He,{C:()=>ce,U:()=>we});var S=K(1635),ie=K(8071);function ce(fe){return(0,S.AQ)(this,arguments,function*(){const Z=fe.getReader();try{for(;;){const{value:Xe,done:je}=yield(0,S.N3)(Z.read());if(je)return yield(0,S.N3)(void 0);yield yield(0,S.N3)(Xe)}}finally{Z.releaseLock()}})}function we(fe){return(0,ie.T)(fe?.getReader)}},9974:(jt,He,K)=>{K.d(He,{N:()=>ce,S:()=>ie});var S=K(8071);function ie(we){return(0,S.T)(we?.lift)}function ce(we){return fe=>{if(ie(fe))return fe.lift(function(q){try{return we(q,this)}catch(Z){this.error(Z)}});throw new TypeError("Unable to lift unknown Observable type")}}},6450:(jt,He,K)=>{K.d(He,{I:()=>we});var S=K(6354);const{isArray:ie}=Array;function we(fe){return(0,S.T)(q=>function ce(fe,q){return ie(q)?fe(...q):fe(q)}(fe,q))}},5343:(jt,He,K)=>{function S(){}K.d(He,{l:()=>S})},1203:(jt,He,K)=>{K.d(He,{F:()=>ie,m:()=>ce});var S=K(3669);function ie(...we){return ce(we)}function ce(we){return 0===we.length?S.D:1===we.length?we[0]:function(q){return we.reduce((Z,Xe)=>Xe(Z),q)}}},5334:(jt,He,K)=>{K.d(He,{m:()=>ce});var S=K(1026),ie=K(9270);function ce(we){ie.f.setTimeout(()=>{const{onUnhandledError:fe}=S.$;if(!fe)throw we;fe(we)})}},591:(jt,He,K)=>{function S(ie){return new TypeError(`You provided ${null!==ie&&"object"==typeof ie?"an invalid object":`'${ie}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}K.d(He,{L:()=>S})},177:(jt,He,K)=>{K.d(He,{AJ:()=>vr,MD:()=>Gs,N0:()=>di,QT:()=>ce,Sm:()=>ut,Sq:()=>$s,VF:()=>fe,Vy:()=>ys,Xr:()=>xs,ZD:()=>we,_b:()=>os,aZ:()=>$t,bT:()=>Ki,fw:()=>st,hb:()=>Le,hj:()=>Xe,qQ:()=>q});var S=K(6276);let ie=null;function ce(){return ie}function we(w){ie||(ie=w)}class fe{}const q=new S.nKC("DocumentToken");let Z=(()=>{class w{historyGo(M){throw new Error("Not implemented")}static{this.\u0275fac=function(k){return new(k||w)}}static{this.\u0275prov=S.jDH({token:w,factory:function(){return(0,S.WQX)(je)},providedIn:"platform"})}}return w})();const Xe=new S.nKC("Location Initialized");let je=(()=>{class w extends Z{constructor(){super(),this._doc=(0,S.WQX)(q),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ce().getBaseHref(this._doc)}onPopState(M){const k=ce().getGlobalEventTarget(this._doc,"window");return k.addEventListener("popstate",M,!1),()=>k.removeEventListener("popstate",M)}onHashChange(M){const k=ce().getGlobalEventTarget(this._doc,"window");return k.addEventListener("hashchange",M,!1),()=>k.removeEventListener("hashchange",M)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(M){this._location.pathname=M}pushState(M,k,Y){this._history.pushState(M,k,Y)}replaceState(M,k,Y){this._history.replaceState(M,k,Y)}forward(){this._history.forward()}back(){this._history.back()}historyGo(M=0){this._history.go(M)}getState(){return this._history.state}static{this.\u0275fac=function(k){return new(k||w)}}static{this.\u0275prov=S.jDH({token:w,factory:function(){return new w},providedIn:"platform"})}}return w})();function re(w,F){if(0==w.length)return F;if(0==F.length)return w;let M=0;return w.endsWith("/")&&M++,F.startsWith("/")&&M++,2==M?w+F.substring(1):1==M?w+F:w+"/"+F}function ee(w){const F=w.match(/#|\?|$/),M=F&&F.index||w.length;return w.slice(0,M-("/"===w[M-1]?1:0))+w.slice(M)}function ge(w){return w&&"?"!==w[0]?"?"+w:w}let Le=(()=>{class w{historyGo(M){throw new Error("Not implemented")}static{this.\u0275fac=function(k){return new(k||w)}}static{this.\u0275prov=S.jDH({token:w,factory:function(){return(0,S.WQX)(ut)},providedIn:"root"})}}return w})();const de=new S.nKC("appBaseHref");let ut=(()=>{class w extends Le{constructor(M,k){super(),this._platformLocation=M,this._removeListenerFns=[],this._baseHref=k??this._platformLocation.getBaseHrefFromDOM()??(0,S.WQX)(q).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(M){this._removeListenerFns.push(this._platformLocation.onPopState(M),this._platformLocation.onHashChange(M))}getBaseHref(){return this._baseHref}prepareExternalUrl(M){return re(this._baseHref,M)}path(M=!1){const k=this._platformLocation.pathname+ge(this._platformLocation.search),Y=this._platformLocation.hash;return Y&&M?`${k}${Y}`:k}pushState(M,k,Y,xe){const Be=this.prepareExternalUrl(Y+ge(xe));this._platformLocation.pushState(M,k,Be)}replaceState(M,k,Y,xe){const Be=this.prepareExternalUrl(Y+ge(xe));this._platformLocation.replaceState(M,k,Be)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(M=0){this._platformLocation.historyGo?.(M)}static{this.\u0275fac=function(k){return new(k||w)(S.KVO(Z),S.KVO(de,8))}}static{this.\u0275prov=S.jDH({token:w,factory:w.\u0275fac,providedIn:"root"})}}return w})(),st=(()=>{class w extends Le{constructor(M,k){super(),this._platformLocation=M,this._baseHref="",this._removeListenerFns=[],null!=k&&(this._baseHref=k)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(M){this._removeListenerFns.push(this._platformLocation.onPopState(M),this._platformLocation.onHashChange(M))}getBaseHref(){return this._baseHref}path(M=!1){let k=this._platformLocation.hash;return null==k&&(k="#"),k.length>0?k.substring(1):k}prepareExternalUrl(M){const k=re(this._baseHref,M);return k.length>0?"#"+k:k}pushState(M,k,Y,xe){let Be=this.prepareExternalUrl(Y+ge(xe));0==Be.length&&(Be=this._platformLocation.pathname),this._platformLocation.pushState(M,k,Be)}replaceState(M,k,Y,xe){let Be=this.prepareExternalUrl(Y+ge(xe));0==Be.length&&(Be=this._platformLocation.pathname),this._platformLocation.replaceState(M,k,Be)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(M=0){this._platformLocation.historyGo?.(M)}static{this.\u0275fac=function(k){return new(k||w)(S.KVO(Z),S.KVO(de,8))}}static{this.\u0275prov=S.jDH({token:w,factory:w.\u0275fac})}}return w})(),$t=(()=>{class w{constructor(M){this._subject=new S.bkB,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=M;const k=this._locationStrategy.getBaseHref();this._basePath=function Ze(w){if(new RegExp("^(https?:)?//").test(w)){const[,M]=w.split(/\/\/[^\/]+/);return M}return w}(ee(Gt(k))),this._locationStrategy.onPopState(Y=>{this._subject.emit({url:this.path(!0),pop:!0,state:Y.state,type:Y.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(M=!1){return this.normalize(this._locationStrategy.path(M))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(M,k=""){return this.path()==this.normalize(M+ge(k))}normalize(M){return w.stripTrailingSlash(function bn(w,F){if(!w||!F.startsWith(w))return F;const M=F.substring(w.length);return""===M||["/",";","?","#"].includes(M[0])?M:F}(this._basePath,Gt(M)))}prepareExternalUrl(M){return M&&"/"!==M[0]&&(M="/"+M),this._locationStrategy.prepareExternalUrl(M)}go(M,k="",Y=null){this._locationStrategy.pushState(Y,"",M,k),this._notifyUrlChangeListeners(this.prepareExternalUrl(M+ge(k)),Y)}replaceState(M,k="",Y=null){this._locationStrategy.replaceState(Y,"",M,k),this._notifyUrlChangeListeners(this.prepareExternalUrl(M+ge(k)),Y)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(M=0){this._locationStrategy.historyGo?.(M)}onUrlChange(M){return this._urlChangeListeners.push(M),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(k=>{this._notifyUrlChangeListeners(k.url,k.state)})),()=>{const k=this._urlChangeListeners.indexOf(M);this._urlChangeListeners.splice(k,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(M="",k){this._urlChangeListeners.forEach(Y=>Y(M,k))}subscribe(M,k,Y){return this._subject.subscribe({next:M,error:k,complete:Y})}static{this.normalizeQueryParams=ge}static{this.joinWithSlash=re}static{this.stripTrailingSlash=ee}static{this.\u0275fac=function(k){return new(k||w)(S.KVO(Le))}}static{this.\u0275prov=S.jDH({token:w,factory:function(){return function lt(){return new $t((0,S.KVO)(Le))}()},providedIn:"root"})}}return w})();function Gt(w){return w.replace(/\/index.html$/,"")}function os(w,F){F=encodeURIComponent(F);for(const M of w.split(";")){const k=M.indexOf("="),[Y,xe]=-1==k?[M,""]:[M.slice(0,k),M.slice(k+1)];if(Y.trim()===F)return decodeURIComponent(xe)}return null}class As{constructor(F,M,k,Y){this.$implicit=F,this.ngForOf=M,this.index=k,this.count=Y}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let $s=(()=>{class w{set ngForOf(M){this._ngForOf=M,this._ngForOfDirty=!0}set ngForTrackBy(M){this._trackByFn=M}get ngForTrackBy(){return this._trackByFn}constructor(M,k,Y){this._viewContainer=M,this._template=k,this._differs=Y,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(M){M&&(this._template=M)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const M=this._ngForOf;!this._differ&&M&&(this._differ=this._differs.find(M).create(this.ngForTrackBy))}if(this._differ){const M=this._differ.diff(this._ngForOf);M&&this._applyChanges(M)}}_applyChanges(M){const k=this._viewContainer;M.forEachOperation((Y,xe,Be)=>{if(null==Y.previousIndex)k.createEmbeddedView(this._template,new As(Y.item,this._ngForOf,-1,-1),null===Be?void 0:Be);else if(null==Be)k.remove(null===xe?void 0:xe);else if(null!==xe){const xt=k.get(xe);k.move(xt,Be),Yn(xt,Y)}});for(let Y=0,xe=k.length;Y<xe;Y++){const xt=k.get(Y).context;xt.index=Y,xt.count=xe,xt.ngForOf=this._ngForOf}M.forEachIdentityChange(Y=>{Yn(k.get(Y.currentIndex),Y)})}static ngTemplateContextGuard(M,k){return!0}static{this.\u0275fac=function(k){return new(k||w)(S.rXU(S.c1b),S.rXU(S.C4Q),S.rXU(S._q3))}}static{this.\u0275dir=S.FsC({type:w,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return w})();function Yn(w,F){w.context.$implicit=F.item}let Ki=(()=>{class w{constructor(M,k){this._viewContainer=M,this._context=new qo,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=k}set ngIf(M){this._context.$implicit=this._context.ngIf=M,this._updateView()}set ngIfThen(M){So("ngIfThen",M),this._thenTemplateRef=M,this._thenViewRef=null,this._updateView()}set ngIfElse(M){So("ngIfElse",M),this._elseTemplateRef=M,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(M,k){return!0}static{this.\u0275fac=function(k){return new(k||w)(S.rXU(S.c1b),S.rXU(S.C4Q))}}static{this.\u0275dir=S.FsC({type:w,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return w})();class qo{constructor(){this.$implicit=null,this.ngIf=null}}function So(w,F){if(F&&!F.createEmbeddedView)throw new Error(`${w} must be a TemplateRef, but received '${(0,S.Tbb)(F)}'.`)}let Gs=(()=>{class w{static{this.\u0275fac=function(k){return new(k||w)}}static{this.\u0275mod=S.$C({type:w})}static{this.\u0275inj=S.G2t({})}}return w})();const vr="browser",yt="server";function ys(w){return w===yt}let xs=(()=>{class w{static{this.\u0275prov=(0,S.jDH)({token:w,providedIn:"root",factory:()=>new li((0,S.KVO)(q),window)})}}return w})();class li{constructor(F,M){this.document=F,this.window=M,this.offset=()=>[0,0]}setOffset(F){this.offset=Array.isArray(F)?()=>F:F}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(F){this.supportsScrolling()&&this.window.scrollTo(F[0],F[1])}scrollToAnchor(F){if(!this.supportsScrolling())return;const M=function Yt(w,F){const M=w.getElementById(F)||w.getElementsByName(F)[0];if(M)return M;if("function"==typeof w.createTreeWalker&&w.body&&"function"==typeof w.body.attachShadow){const k=w.createTreeWalker(w.body,NodeFilter.SHOW_ELEMENT);let Y=k.currentNode;for(;Y;){const xe=Y.shadowRoot;if(xe){const Be=xe.getElementById(F)||xe.querySelector(`[name="${F}"]`);if(Be)return Be}Y=k.nextNode()}}return null}(this.document,F);M&&(this.scrollToElement(M),M.focus())}setHistoryScrollRestoration(F){this.supportsScrolling()&&(this.window.history.scrollRestoration=F)}scrollToElement(F){const M=F.getBoundingClientRect(),k=M.left+this.window.pageXOffset,Y=M.top+this.window.pageYOffset,xe=this.offset();this.window.scrollTo(k-xe[0],Y-xe[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class di{}},6276:(jt,He,K)=>{K.d(He,{iLQ:()=>LI,sZ2:()=>Xp,hnV:()=>EE,Hbi:()=>Bb,o8S:()=>np,BIS:()=>Jp,gRc:()=>Cb,Ql9:()=>GC,Ocv:()=>$C,Z63:()=>zd,aKT:()=>gl,uvJ:()=>Ao,zcH:()=>bu,bkB:()=>Sa,$GK:()=>Lt,nKC:()=>It,zZn:()=>Aa,_q3:()=>$I,MKu:()=>HI,xe9:()=>hv,Co$:()=>Sw,Vns:()=>Th,NEm:()=>yb,SKi:()=>Ts,Xx1:()=>Hl,Agw:()=>hl,PLl:()=>qd,sFG:()=>Ym,_9s:()=>Xm,czy:()=>el,kdw:()=>Ad,C4Q:()=>dm,NYb:()=>fb,giA:()=>xE,xvI:()=>Jm,RxE:()=>pf,c1b:()=>lv,gXe:()=>yi,L39:()=>Yb,Ol2:()=>xw,w6W:()=>DT,oH4:()=>PE,Rfq:()=>Qe,WQX:()=>ke,QuC:()=>Ti,fpN:()=>Vb,HJs:()=>Jb,O8t:()=>Un,H3F:()=>DE,H8p:()=>tf,$K3:()=>TE,KH2:()=>Zf,wOt:()=>nt,WHO:()=>SE,e01:()=>ME,H5H:()=>cI,mq5:()=>J0,JZv:()=>$n,LfX:()=>jn,plB:()=>bI,jNT:()=>zy,zjR:()=>U_,TL$:()=>kc,Tbb:()=>Gt,Vt3:()=>ph,GFd:()=>$f,OA$:()=>Ur,Jv_:()=>Aw,aNF:()=>Nw,R7$:()=>Sf,BMQ:()=>Gg,AVh:()=>tv,wni:()=>tE,VBU:()=>Qo,FsC:()=>ka,jDH:()=>Xt,G2t:()=>wr,$C:()=>Hs,EJ8:()=>ku,rXU:()=>Hc,nrm:()=>Zg,k0s:()=>Yg,j41:()=>Xg,xGo:()=>Ul,KVO:()=>Ae,kS0:()=>wc,QTQ:()=>Tg,bIt:()=>Gy,lsd:()=>nE,XpG:()=>B_,Y8G:()=>Qg,mGM:()=>eE,n$t:()=>Um,DNE:()=>vd,EFF:()=>u,JRh:()=>x,SpI:()=>P,Lme:()=>$,E5c:()=>J});var S=K(1413),ie=K(8359),ce=K(1985),we=K(6365),fe=K(8750),q=K(983),Z=K(3794),Xe=K(8455),re=K(4412),ee=K(7673),ge=K(7707),Le=K(9974);function de(t={}){const{connector:r=(()=>new S.B),resetOnError:s=!0,resetOnComplete:a=!0,resetOnRefCountZero:c=!0}=t;return d=>{let g,v,b,O=0,V=!1,Q=!1;const oe=()=>{v?.unsubscribe(),v=void 0},pe=()=>{oe(),g=b=void 0,V=Q=!1},Ve=()=>{const et=g;pe(),et?.unsubscribe()};return(0,Le.N)((et,Et)=>{O++,!Q&&!V&&oe();const Bt=b=b??r();Et.add(()=>{O--,0===O&&!Q&&!V&&(v=ut(Ve,c))}),Bt.subscribe(Et),!g&&O>0&&(g=new ge.Ms({next:We=>Bt.next(We),error:We=>{Q=!0,oe(),v=ut(pe,s,We),Bt.error(We)},complete:()=>{V=!0,oe(),v=ut(pe,a),Bt.complete()}}),(0,fe.Tg)(et).subscribe(g))})(d)}}function ut(t,r,...s){if(!0===r)return void t();if(!1===r)return;const a=new ge.Ms({next:()=>{a.unsubscribe(),t()}});return(0,fe.Tg)(r(...s)).subscribe(a)}var st=K(5558),$t=K(3294);function lt(t){for(let r in t)if(t[r]===lt)return r;throw Error("Could not find renamed property on target object.")}function bn(t,r){for(const s in r)r.hasOwnProperty(s)&&!t.hasOwnProperty(s)&&(t[s]=r[s])}function Gt(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Gt).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const r=t.toString();if(null==r)return""+r;const s=r.indexOf("\n");return-1===s?r:r.substring(0,s)}function Ze(t,r){return null==t||""===t?null===r?"":r:null==r||""===r?t:t+" "+r}const Je=lt({__forward_ref__:lt});function Qe(t){return t.__forward_ref__=Qe,t.toString=function(){return Gt(this())},t}function Re(t){return dt(t)?t():t}function dt(t){return"function"==typeof t&&t.hasOwnProperty(Je)&&t.__forward_ref__===Qe}function Ge(t){return t&&!!t.\u0275providers}const hn="https://g.co/ng/security#xss";class nt extends Error{constructor(r,s){super(function ur(t,r){return`NG0${Math.abs(t)}${r?": "+r:""}`}(r,s)),this.code=r}}function Ne(t){return"string"==typeof t?t:null==t?"":String(t)}function er(t,r){throw new nt(-201,!1)}function An(t,r){null==t&&function tt(t,r,s,a){throw new Error(`ASSERTION ERROR: ${t}`+(null==a?"":` [Expected=> ${s} ${a} ${r} <=Actual]`))}(r,t,null,"!=")}function Xt(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function wr(t){return{providers:t.providers||[],imports:t.imports||[]}}function Er(t){return rn(t,mr)||rn(t,Xn)}function jn(t){return null!==Er(t)}function rn(t,r){return t.hasOwnProperty(r)?t[r]:null}function kn(t){return t&&(t.hasOwnProperty(Dr)||t.hasOwnProperty(lr))?t[Dr]:null}const mr=lt({\u0275prov:lt}),Dr=lt({\u0275inj:lt}),Xn=lt({ngInjectableDef:lt}),lr=lt({ngInjectorDef:lt});var Lt=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(Lt||{});let wn;function kt(t){const r=wn;return wn=t,r}function Di(t,r,s){const a=Er(t);return a&&"root"==a.providedIn?void 0===a.value?a.value=a.factory():a.value:s&Lt.Optional?null:void 0!==r?r:void er(Gt(t))}const $n=globalThis;class It{constructor(r,s){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=Xt({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const le={},$e="__NG_DI_FLAG__",ct="ngTempTokenPath",Vt=/\n/gm,tn="__source";let zn;function Or(t){const r=zn;return zn=t,r}function gs(t,r=Lt.Default){if(void 0===zn)throw new nt(-203,!1);return null===zn?Di(t,void 0,r):zn.get(t,r&Lt.Optional?null:void 0,r)}function Ae(t,r=Lt.Default){return(function Ei(){return wn}()||gs)(Re(t),r)}function ke(t,r=Lt.Default){return Ae(t,St(r))}function St(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function zt(t){const r=[];for(let s=0;s<t.length;s++){const a=Re(t[s]);if(Array.isArray(a)){if(0===a.length)throw new nt(900,!1);let c,d=Lt.Default;for(let g=0;g<a.length;g++){const v=a[g],b=pn(v);"number"==typeof b?-1===b?c=v.token:d|=b:c=v}r.push(Ae(c,d))}else r.push(Ae(a))}return r}function Kt(t,r){return t[$e]=r,t.prototype[$e]=r,t}function pn(t){return t[$e]}function yr(t){return{toString:t}.toString()}var os=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(os||{}),yi=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(yi||{});const kr={},an=[],Gi=lt({\u0275cmp:lt}),bs=lt({\u0275dir:lt}),As=lt({\u0275pipe:lt}),$s=lt({\u0275mod:lt}),Yn=lt({\u0275fac:lt}),Wi=lt({__NG_ELEMENT_ID__:lt}),Ki=lt({__NG_ENV_ID__:lt});function qo(t,r,s){let a=t.length;for(;;){const c=t.indexOf(r,s);if(-1===c)return c;if(0===c||t.charCodeAt(c-1)<=32){const d=r.length;if(c+d===a||t.charCodeAt(c+d)<=32)return c}s=c+1}}function So(t,r,s){let a=0;for(;a<s.length;){const c=s[a];if("number"==typeof c){if(0!==c)break;a++;const d=s[a++],g=s[a++],v=s[a++];t.setAttribute(r,g,v,d)}else{const d=c,g=s[++a];ae(d)?t.setProperty(r,d,g):t.setAttribute(r,d,g),a++}}return a}function se(t){return 3===t||4===t||6===t}function ae(t){return 64===t.charCodeAt(0)}function _e(t,r){if(null!==r&&0!==r.length)if(null===t||0===t.length)t=r.slice();else{let s=-1;for(let a=0;a<r.length;a++){const c=r[a];"number"==typeof c?s=c:0===s||Ue(t,s,c,null,-1===s||2===s?r[++a]:null)}}return t}function Ue(t,r,s,a,c){let d=0,g=t.length;if(-1===r)g=-1;else for(;d<t.length;){const v=t[d++];if("number"==typeof v){if(v===r){g=-1;break}if(v>r){g=d-1;break}}}for(;d<t.length;){const v=t[d];if("number"==typeof v)break;if(v===s){if(null===a)return void(null!==c&&(t[d+1]=c));if(a===t[d+1])return void(t[d+2]=c)}d++,null!==a&&d++,null!==c&&d++}-1!==g&&(t.splice(g,0,r),d=g+1),t.splice(d++,0,s),null!==a&&t.splice(d++,0,a),null!==c&&t.splice(d++,0,c)}const rt="ng-template";function Ft(t,r,s){let a=0,c=!0;for(;a<t.length;){let d=t[a++];if("string"==typeof d&&c){const g=t[a++];if(s&&"class"===d&&-1!==qo(g.toLowerCase(),r,0))return!0}else{if(1===d){for(;a<t.length&&"string"==typeof(d=t[a++]);)if(d.toLowerCase()===r)return!0;return!1}"number"==typeof d&&(c=!1)}}return!1}function yn(t){return 4===t.type&&t.value!==rt}function nn(t,r,s){return r===(4!==t.type||s?t.value:rt)}function En(t,r,s){let a=4;const c=t.attrs||[],d=function Mo(t){for(let r=0;r<t.length;r++)if(se(t[r]))return r;return t.length}(c);let g=!1;for(let v=0;v<r.length;v++){const b=r[v];if("number"!=typeof b){if(!g)if(4&a){if(a=2|1&a,""!==b&&!nn(t,b,s)||""===b&&1===r.length){if(nr(a))return!1;g=!0}}else{const O=8&a?b:r[++v];if(8&a&&null!==t.attrs){if(!Ft(t.attrs,O,s)){if(nr(a))return!1;g=!0}continue}const Q=jr(8&a?"class":b,c,yn(t),s);if(-1===Q){if(nr(a))return!1;g=!0;continue}if(""!==O){let oe;oe=Q>d?"":c[Q+1].toLowerCase();const pe=8&a?oe:null;if(pe&&-1!==qo(pe,O,0)||2&a&&O!==oe){if(nr(a))return!1;g=!0}}}}else{if(!g&&!nr(a)&&!nr(b))return!1;if(g&&nr(b))continue;g=!1,a=b|1&a}}return nr(a)||g}function nr(t){return 0==(1&t)}function jr(t,r,s,a){if(null===r)return-1;let c=0;if(a||!s){let d=!1;for(;c<r.length;){const g=r[c];if(g===t)return c;if(3===g||6===g)d=!0;else{if(1===g||2===g){let v=r[++c];for(;"string"==typeof v;)v=r[++c];continue}if(4===g)break;if(0===g){c+=4;continue}}c+=d?1:2}return-1}return function nu(t,r){let s=t.indexOf(4);if(s>-1)for(s++;s<t.length;){const a=t[s];if("number"==typeof a)return-1;if(a===r)return s;s++}return-1}(r,t)}function Mr(t,r,s=!1){for(let a=0;a<r.length;a++)if(En(t,r[a],s))return!0;return!1}function xo(t,r){return t?":not("+r.trim()+")":r}function Oa(t){let r=t[0],s=1,a=2,c="",d=!1;for(;s<t.length;){let g=t[s];if("string"==typeof g)if(2&a){const v=t[++s];c+="["+g+(v.length>0?'="'+v+'"':"")+"]"}else 8&a?c+="."+g:4&a&&(c+=" "+g);else""!==c&&!nr(g)&&(r+=xo(d,c),c=""),a=g,d=d||!nr(a);s++}return""!==c&&(r+=xo(d,c)),r}function Qo(t){return yr(()=>{const r=Mn(t),s={...r,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===os.OnPush,directiveDefs:null,pipeDefs:null,dependencies:r.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||yi.Emulated,styles:t.styles||an,_:null,schemas:t.schemas||null,tView:null,id:""};zs(s);const a=t.dependencies;return s.directiveDefs=qi(a,!1),s.pipeDefs=qi(a,!0),s.id=function Gs(t){let r=0;const s=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const c of s)r=Math.imul(31,r)+c.charCodeAt(0)<<0;return r+=2147483648,"c"+r}(s),s})}function Ms(t){return qt(t)||hr(t)}function Xo(t){return null!==t}function Hs(t){return yr(()=>({type:t.type,bootstrap:t.bootstrap||an,declarations:t.declarations||an,imports:t.imports||an,exports:t.exports||an,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function fa(t,r){if(null==t)return kr;const s={};for(const a in t)if(t.hasOwnProperty(a)){let c=t[a],d=c;Array.isArray(c)&&(d=c[1],c=c[0]),s[c]=a,r&&(r[c]=d)}return s}function ka(t){return yr(()=>{const r=Mn(t);return zs(r),r})}function ku(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function qt(t){return t[Gi]||null}function hr(t){return t[bs]||null}function xr(t){return t[As]||null}function Ti(t){const r=qt(t)||hr(t)||xr(t);return null!==r&&r.standalone}function qn(t,r){const s=t[$s]||null;if(!s&&!0===r)throw new Error(`Type ${Gt(t)} does not have '\u0275mod' property.`);return s}function Mn(t){const r={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:r,inputTransforms:null,inputConfig:t.inputs||kr,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||an,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:fa(t.inputs,r),outputs:fa(t.outputs)}}function zs(t){t.features?.forEach(r=>r(t))}function qi(t,r){if(!t)return null;const s=r?xr:Ms;return()=>("function"==typeof t?t():t).map(a=>s(a)).filter(Xo)}const vr=0,yt=1,Qt=2,Ln=3,Qi=4,ys=5,fr=6,Xi=7,br=8,xs=9,li=10,Yt=11,Yo=12,di=13,Zo=14,rr=15,so=16,Ws=17,Yi=18,oo=19,Fi=20,vs=21,Zi=22,Jo=23,ao=24,gn=25,uo=1,ru=2,Ui=7,Si=9,vn=11;function Mi(t){return Array.isArray(t)&&"object"==typeof t[uo]}function ni(t){return Array.isArray(t)&&!0===t[uo]}function lo(t){return 0!=(4&t.flags)}function as(t){return t.componentOffset>-1}function Ns(t){return 1==(1&t.flags)}function xi(t){return!!t.template}function No(t){return 0!=(512&t[Qt])}function us(t,r){return t.hasOwnProperty(Yn)?t[Yn]:null}let $r=null,Hr=!1;function vi(t){const r=$r;return $r=t,r}const ii={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function ya(t){if(!po(t)||t.dirty){if(!t.producerMustRecompute(t)&&!Ua(t))return void(t.dirty=!1);t.producerRecomputeValue(t),t.dirty=!1}}function Ai(t){t.dirty=!0,function Rs(t){if(void 0===t.liveConsumerNode)return;const r=Hr;Hr=!0;try{for(const s of t.liveConsumerNode)s.dirty||Ai(s)}finally{Hr=r}}(t),t.consumerMarkedDirty?.(t)}function Qs(t){return t&&(t.nextProducerIndex=0),vi(t)}function xn(t,r){if(vi(r),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(po(t))for(let s=t.nextProducerIndex;s<t.producerNode.length;s++)Xs(t.producerNode[s],t.producerIndexOfThis[s]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Ua(t){Ni(t);for(let r=0;r<t.producerNode.length;r++){const s=t.producerNode[r],a=t.producerLastReadVersion[r];if(a!==s.version||(ya(s),a!==s.version))return!0}return!1}function Lo(t){if(Ni(t),po(t))for(let r=0;r<t.producerNode.length;r++)Xs(t.producerNode[r],t.producerIndexOfThis[r]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Xs(t,r){if(function na(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),Ni(t),1===t.liveConsumerNode.length)for(let a=0;a<t.producerNode.length;a++)Xs(t.producerNode[a],t.producerIndexOfThis[a]);const s=t.liveConsumerNode.length-1;if(t.liveConsumerNode[r]=t.liveConsumerNode[s],t.liveConsumerIndexOfThis[r]=t.liveConsumerIndexOfThis[s],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,r<t.liveConsumerNode.length){const a=t.liveConsumerIndexOfThis[r],c=t.liveConsumerNode[r];Ni(c),c.producerIndexOfThis[a]=r}}function po(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Ni(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let F=null;function Un(t){const r=vi(null);try{return t()}finally{vi(r)}}const _i=()=>{},Is=(()=>({...ii,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule(t.ref)},hasRun:!1,cleanupFn:_i}))();class Ir{constructor(r,s,a){this.previousValue=r,this.currentValue=s,this.firstChange=a}isFirstChange(){return this.firstChange}}function Ur(){return ws}function ws(t){return t.type.prototype.ngOnChanges&&(t.setInput=Ye),ra}function ra(){const t=ls(this),r=t?.current;if(r){const s=t.previous;if(s===kr)t.previous=r;else for(let a in r)s[a]=r[a];t.current=null,this.ngOnChanges(r)}}function Ye(t,r,s,a){const c=this.declaredInputs[s],d=ls(t)||function _a(t,r){return t[zr]=r}(t,{previous:kr,current:null}),g=d.current||(d.current={}),v=d.previous,b=v[c];g[c]=new Ir(b&&b.currentValue,r,v===kr),t[a]=r}Ur.ngInherit=!0;const zr="__ngSimpleChanges__";function ls(t){return t[zr]||null}const ds=function(t,r,s){};function Pe(t){for(;Array.isArray(t);)t=t[vr];return t}function au(t,r){return Pe(r[t])}function Nr(t,r){return Pe(r[t.index])}function qc(t,r){return t.data[r]}function Ri(t,r){const s=r[t];return Mi(s)?s:s[vr]}function Tr(t,r){return null==r?null:t[r]}function Va(t){t[Ws]=0}function bt(t){1024&t[Qt]||(t[Qt]|=1024,Ii(t,1))}function Fo(t){1024&t[Qt]&&(t[Qt]&=-1025,Ii(t,-1))}function Ii(t,r){let s=t[Ln];if(null===s)return;s[ys]+=r;let a=s;for(s=s[Ln];null!==s&&(1===r&&1===a[ys]||-1===r&&0===a[ys]);)s[ys]+=r,a=s,s=s[Ln]}const Wt={lFrame:gt(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Vo(){return Wt.bindingsEnabled}function ze(){return Wt.lFrame.lView}function un(){return Wt.lFrame.tView}function fi(){let t=Ps();for(;null!==t&&64===t.type;)t=t.parent;return t}function Ps(){return Wt.lFrame.currentTNode}function me(t,r){const s=Wt.lFrame;s.currentTNode=t,s.isParent=r}function Ia(){return Wt.lFrame.isParent}function ji(){return Wt.lFrame.bindingIndex}function sa(){return Wt.lFrame.bindingIndex++}function Ys(t){const r=Wt.lFrame,s=r.bindingIndex;return r.bindingIndex=r.bindingIndex+t,s}function lu(t,r){const s=Wt.lFrame;s.bindingIndex=s.bindingRootIndex=t,D(r)}function D(t){Wt.lFrame.currentDirectiveIndex=t}function C(){return Wt.lFrame.currentQueryIndex}function N(t){Wt.lFrame.currentQueryIndex=t}function U(t){const r=t[yt];return 2===r.type?r.declTNode:1===r.type?t[fr]:null}function X(t,r,s){if(s&Lt.SkipSelf){let c=r,d=t;for(;!(c=c.parent,null!==c||s&Lt.Host||(c=U(d),null===c||(d=d[Zo],10&c.type))););if(null===c)return!1;r=c,t=d}const a=Wt.lFrame=Ie();return a.currentTNode=r,a.lView=t,!0}function Ce(t){const r=Ie(),s=t[yt];Wt.lFrame=r,r.currentTNode=s.firstChild,r.lView=t,r.tView=s,r.contextLView=t,r.bindingIndex=s.bindingStartIndex,r.inI18n=!1}function Ie(){const t=Wt.lFrame,r=null===t?null:t.child;return null===r?gt(t):r}function gt(t){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=r),r}function Zt(){const t=Wt.lFrame;return Wt.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const Nn=Zt;function Dn(){const t=Zt();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Gr(){return Wt.lFrame.selectedIndex}function Zs(t){Wt.lFrame.selectedIndex=t}function Rn(){const t=Wt.lFrame;return qc(t.tView,t.selectedIndex)}let yc=!0;function vc(){return yc}function Js(t){yc=t}function du(t,r){for(let s=r.directiveStart,a=r.directiveEnd;s<a;s++){const d=t.data[s].type.prototype,{ngAfterContentInit:g,ngAfterContentChecked:v,ngAfterViewInit:b,ngAfterViewChecked:O,ngOnDestroy:V}=d;g&&(t.contentHooks??=[]).push(-s,g),v&&((t.contentHooks??=[]).push(s,v),(t.contentCheckHooks??=[]).push(s,v)),b&&(t.viewHooks??=[]).push(-s,b),O&&((t.viewHooks??=[]).push(s,O),(t.viewCheckHooks??=[]).push(s,O)),null!=V&&(t.destroyHooks??=[]).push(s,V)}}function Ea(t,r,s){Ol(t,r,3,s)}function ju(t,r,s,a){(3&t[Qt])===s&&Ol(t,r,s,a)}function Yr(t,r){let s=t[Qt];(3&s)===r&&(s&=8191,s+=1,t[Qt]=s)}function Ol(t,r,s,a){const d=a??-1,g=r.length-1;let v=0;for(let b=void 0!==a?65535&t[Ws]:0;b<g;b++)if("number"==typeof r[b+1]){if(v=r[b],null!=a&&v>=a)break}else r[b]<0&&(t[Ws]+=65536),(v<d||-1==d)&&(_c(t,s,r,b),t[Ws]=(4294901760&t[Ws])+b+2),b++}function Da(t,r){ds(4,t,r);const s=vi(null);try{r.call(t)}finally{vi(s),ds(5,t,r)}}function _c(t,r,s,a){const c=s[a]<0,d=s[a+1],v=t[c?-s[a]:s[a]];c?t[Qt]>>13<t[Ws]>>16&&(3&t[Qt])===r&&(t[Qt]+=8192,Da(v,d)):Da(v,d)}const ir=-1;class Io{constructor(r,s,a){this.factory=r,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=a}}function Ic(t){return t!==ir}function ki(t){return 32767&t}function ks(t,r){let s=function oi(t){return t>>16}(t),a=r;for(;s>0;)a=a[Zo],s--;return a}let Ta=!0;function Hu(t){const r=Ta;return Ta=t,r}const Ll=255,wo=5;let oa=0;const ns={};function Ls(t,r){const s=eo(t,r);if(-1!==s)return s;const a=r[yt];a.firstCreatePass&&(t.injectorIndex=r.length,jo(a.data,t),jo(r,null),jo(a.blueprint,null));const c=ja(t,r),d=t.injectorIndex;if(Ic(c)){const g=ki(c),v=ks(c,r),b=v[yt].data;for(let O=0;O<8;O++)r[d+O]=v[g+O]|b[g+O]}return r[d+8]=c,d}function jo(t,r){t.push(0,0,0,0,0,0,0,0,r)}function eo(t,r){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===r[t.injectorIndex+8]?-1:t.injectorIndex}function ja(t,r){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let s=0,a=null,c=r;for(;null!==c;){if(a=Wu(c),null===a)return ir;if(s++,c=c[Zo],-1!==a.injectorIndex)return a.injectorIndex|s<<16}return ir}function $o(t,r,s){!function aa(t,r,s){let a;"string"==typeof s?a=s.charCodeAt(0)||0:s.hasOwnProperty(Wi)&&(a=s[Wi]),null==a&&(a=s[Wi]=oa++);const c=a&Ll;r.data[t+(c>>wo)]|=1<<c}(t,r,s)}function Ha(t,r,s){if(s&Lt.Optional||void 0!==t)return t;er()}function Ho(t,r,s,a){if(s&Lt.Optional&&void 0===a&&(a=null),!(s&(Lt.Self|Lt.Host))){const c=t[xs],d=kt(void 0);try{return c?c.get(r,a,s&Lt.Optional):Di(r,a,s&Lt.Optional)}finally{kt(d)}}return Ha(a,0,s)}function Xc(t,r,s,a=Lt.Default,c){if(null!==t){if(2048&r[Qt]&&!(a&Lt.Self)){const g=function ba(t,r,s,a,c){let d=t,g=r;for(;null!==d&&null!==g&&2048&g[Qt]&&!(512&g[Qt]);){const v=za(d,g,s,a|Lt.Self,ns);if(v!==ns)return v;let b=d.parent;if(!b){const O=g[Fi];if(O){const V=O.get(s,ns,a);if(V!==ns)return V}b=Wu(g),g=g[Zo]}d=b}return c}(t,r,s,a,ns);if(g!==ns)return g}const d=za(t,r,s,a,ns);if(d!==ns)return d}return Ho(r,s,a,c)}function za(t,r,s,a,c){const d=function zo(t){if("string"==typeof t)return t.charCodeAt(0)||0;const r=t.hasOwnProperty(Wi)?t[Wi]:void 0;return"number"==typeof r?r>=0?r&Ll:Zr:r}(s);if("function"==typeof d){if(!X(r,t,a))return a&Lt.Host?Ha(c,0,a):Ho(r,s,a,c);try{let g;if(g=d(a),null!=g||a&Lt.Optional)return g;er()}finally{Nn()}}else if("number"==typeof d){let g=null,v=eo(t,r),b=ir,O=a&Lt.Host?r[rr][fr]:null;for((-1===v||a&Lt.SkipSelf)&&(b=-1===v?ja(t,r):r[v+8],b!==ir&&Fl(a,!1)?(g=r[yt],v=ki(b),r=ks(b,r)):v=-1);-1!==v;){const V=r[yt];if(Ga(d,v,V.data)){const Q=Td(v,r,s,g,a,O);if(Q!==ns)return Q}b=r[v+8],b!==ir&&Fl(a,r[yt].data[v+8]===O)&&Ga(d,v,r)?(g=V,v=ki(b),r=ks(b,r)):v=-1}}return c}function Td(t,r,s,a,c,d){const g=r[yt],v=g.data[t+8],V=zu(v,g,s,null==a?as(v)&&Ta:a!=g&&0!=(3&v.type),c&Lt.Host&&d===v);return null!==V?Eo(r,g,V,v):ns}function zu(t,r,s,a,c){const d=t.providerIndexes,g=r.data,v=1048575&d,b=t.directiveStart,V=d>>20,oe=c?v+V:t.directiveEnd;for(let pe=a?v:v+V;pe<oe;pe++){const Ve=g[pe];if(pe<b&&s===Ve||pe>=b&&Ve.type===s)return pe}if(c){const pe=g[b];if(pe&&xi(pe)&&pe.type===s)return b}return null}function Eo(t,r,s,a){let c=t[s];const d=r.data;if(function $i(t){return t instanceof Io}(c)){const g=c;g.resolving&&function Pn(t,r){const s=r?`. Dependency path: ${r.join(" > ")} > ${t}`:"";throw new nt(-200,`Circular dependency in DI detected for ${t}${s}`)}(function vt(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Ne(t)}(d[s]));const v=Hu(g.canSeeViewProviders);g.resolving=!0;const O=g.injectImpl?kt(g.injectImpl):null;X(t,a,Lt.Default);try{c=t[s]=g.factory(void 0,d,t,a),r.firstCreatePass&&s>=a.directiveStart&&function Sh(t,r,s){const{ngOnChanges:a,ngOnInit:c,ngDoCheck:d}=r.type.prototype;if(a){const g=ws(r);(s.preOrderHooks??=[]).push(t,g),(s.preOrderCheckHooks??=[]).push(t,g)}c&&(s.preOrderHooks??=[]).push(0-t,c),d&&((s.preOrderHooks??=[]).push(t,d),(s.preOrderCheckHooks??=[]).push(t,d))}(s,d[s],r)}finally{null!==O&&kt(O),Hu(v),g.resolving=!1,Nn()}}return c}function Ga(t,r,s){return!!(s[r+(t>>wo)]&1<<t)}function Fl(t,r){return!(t&Lt.Self||t&Lt.Host&&r)}class rs{constructor(r,s){this._tNode=r,this._lView=s}get(r,s,a){return Xc(this._tNode,this._lView,r,St(a),s)}}function Zr(){return new rs(fi(),ze())}function Ul(t){return yr(()=>{const r=t.prototype.constructor,s=r[Yn]||Rr(r),a=Object.prototype;let c=Object.getPrototypeOf(t.prototype).constructor;for(;c&&c!==a;){const d=c[Yn]||Rr(c);if(d&&d!==s)return d;c=Object.getPrototypeOf(c)}return d=>new d})}function Rr(t){return dt(t)?()=>{const r=Rr(Re(t));return r&&r()}:us(t)}function Wu(t){const r=t[yt],s=r.type;return 2===s?r.declTNode:1===s?t[fr]:null}function wc(t){return function $a(t,r){if("class"===r)return t.classes;if("style"===r)return t.styles;const s=t.attrs;if(s){const a=s.length;let c=0;for(;c<a;){const d=s[c];if(se(d))break;if(0===d)c+=2;else if("number"==typeof d)for(c++;c<a&&"string"==typeof s[c];)c++;else{if(d===r)return s[c+1];c+=2}}}return null}(fi(),t)}const I="__parameters__";function ne(t,r,s){return yr(()=>{const a=function z(t){return function(...s){if(t){const a=t(...s);for(const c in a)this[c]=a[c]}}}(r);function c(...d){if(this instanceof c)return a.apply(this,d),this;const g=new c(...d);return v.annotation=g,v;function v(b,O,V){const Q=b.hasOwnProperty(I)?b[I]:Object.defineProperty(b,I,{value:[]})[I];for(;Q.length<=V;)Q.push(null);return(Q[V]=Q[V]||[]).push(g),b}}return s&&(c.prototype=Object.create(s.prototype)),c.prototype.ngMetadataName=t,c.annotationCls=c,c})}function ua(t,r){t.forEach(s=>Array.isArray(s)?ua(s,r):r(s))}function Wa(t,r,s){r>=t.length?t.push(s):t.splice(r,0,s)}function Ka(t,r){return r>=t.length-1?t.pop():t.splice(r,1)[0]}function Us(t,r,s){let a=qu(t,r);return a>=0?t[1|a]=s:(a=~a,function Mh(t,r,s,a){let c=t.length;if(c==r)t.push(s,a);else if(1===c)t.push(a,t[0]),t[0]=s;else{for(c--,t.push(t[c-1],t[c]);c>r;)t[c]=t[c-2],c--;t[r]=s,t[r+1]=a}}(t,a,r,s)),a}function mu(t,r){const s=qu(t,r);if(s>=0)return t[1|s]}function qu(t,r){return function yu(t,r,s){let a=0,c=t.length>>s;for(;c!==a;){const d=a+(c-a>>1),g=t[d<<s];if(r===g)return d<<s;g>r?c=d:a=d+1}return~(c<<s)}(t,r,1)}const Hl=Kt(ne("Optional"),8),Ad=Kt(ne("SkipSelf"),4);function Kl(t){return 128==(128&t.flags)}var el=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(el||{});const _=new Map;let h=0;const Jt="__ngContext__";function Ot(t,r){Mi(r)?(t[Jt]=r[oo],function T(t){_.set(t[oo],t)}(r)):t[Jt]=r}let Xl;function Rd(t,r){return Xl(t,r)}function Zu(t){const r=t[Ln];return ni(r)?r[Ln]:r}function Im(t){return Vh(t[Yo])}function Li(t){return Vh(t[Qi])}function Vh(t){for(;null!==t&&!ni(t);)t=t[Qi];return t}function nl(t,r,s,a,c){if(null!=a){let d,g=!1;ni(a)?d=a:Mi(a)&&(g=!0,a=a[vr]);const v=Pe(a);0===t&&null!==s?null==c?Cm(r,s,v):rl(r,s,v,c||null,!0):1===t&&null!==s?rl(r,s,v,c||null,!0):2===t?function Pc(t,r,s){const a=Ud(t,r);a&&function Rc(t,r,s,a){t.removeChild(r,s,a)}(t,a,r,s)}(r,v,g):3===t&&r.destroyNode(v),null!=d&&function Tv(t,r,s,a,c){const d=s[Ui];d!==Pe(s)&&nl(r,t,a,d,c);for(let v=vn;v<s.length;v++){const b=s[v];sl(b[yt],b,t,r,a,d)}}(r,t,d,s,c)}}function kd(t,r,s){return t.createElement(r,s)}function Zl(t,r){const s=t[Si],a=s.indexOf(r);Fo(r),s.splice(a,1)}function Jl(t,r){if(t.length<=vn)return;const s=vn+r,a=t[s];if(a){const c=a[so];null!==c&&c!==t&&Zl(c,a),r>0&&(t[s-1][Qi]=a[Qi]);const d=Ka(t,vn+r);!function Ld(t,r){sl(t,r,r[Yt],2,null,null),r[vr]=null,r[fr]=null}(a[yt],a);const g=d[Yi];null!==g&&g.detachView(d[yt]),a[Ln]=null,a[Qi]=null,a[Qt]&=-129}return a}function vp(t,r){if(!(256&r[Qt])){const s=r[Yt];r[Jo]&&Lo(r[Jo]),r[ao]&&Lo(r[ao]),s.destroyNode&&sl(t,r,s,3,null,null),function Dm(t){let r=t[Yo];if(!r)return Bh(t[yt],t);for(;r;){let s=null;if(Mi(r))s=r[Yo];else{const a=r[vn];a&&(s=a)}if(!s){for(;r&&!r[Qi]&&r!==t;)Mi(r)&&Bh(r[yt],r),r=r[Ln];null===r&&(r=t),Mi(r)&&Bh(r[yt],r),s=r&&r[Qi]}r=s}}(r)}}function Bh(t,r){if(!(256&r[Qt])){r[Qt]&=-129,r[Qt]|=256,function Tm(t,r){let s;if(null!=t&&null!=(s=t.destroyHooks))for(let a=0;a<s.length;a+=2){const c=r[s[a]];if(!(c instanceof Io)){const d=s[a+1];if(Array.isArray(d))for(let g=0;g<d.length;g+=2){const v=c[d[g]],b=d[g+1];ds(4,v,b);try{b.call(v)}finally{ds(5,v,b)}}else{ds(4,c,d);try{d.call(c)}finally{ds(5,c,d)}}}}}(t,r),function _p(t,r){const s=t.cleanup,a=r[Xi];if(null!==s)for(let d=0;d<s.length-1;d+=2)if("string"==typeof s[d]){const g=s[d+3];g>=0?a[g]():a[-g].unsubscribe(),d+=2}else s[d].call(a[s[d+1]]);null!==a&&(r[Xi]=null);const c=r[vs];if(null!==c){r[vs]=null;for(let d=0;d<c.length;d++)(0,c[d])()}}(t,r),1===r[yt].type&&r[Yt].destroy();const s=r[so];if(null!==s&&ni(r[Ln])){s!==r[Ln]&&Zl(s,r);const a=r[Yi];null!==a&&a.detachView(t)}!function W(t){_.delete(t[oo])}(r)}}function Ip(t,r,s){return function wp(t,r,s){let a=r;for(;null!==a&&40&a.type;)a=(r=a).parent;if(null===a)return s[vr];{const{componentOffset:c}=a;if(c>-1){const{encapsulation:d}=t.data[a.directiveStart+c];if(d===yi.None||d===yi.Emulated)return null}return Nr(a,s)}}(t,r.parent,s)}function rl(t,r,s,a,c){t.insertBefore(r,s,a,c)}function Cm(t,r,s){t.appendChild(r,s)}function bm(t,r,s,a,c){null!==a?rl(t,r,s,a,c):Cm(t,r,s)}function Ud(t,r){return t.parentNode(r)}let Tp,ec,jh,Dp=function wu(t,r,s){return 40&t.type?Nr(t,s):null};function il(t,r,s,a){const c=Ip(t,a,r),d=r[Yt],v=function Ep(t,r,s){return Dp(t,r,s)}(a.parent||r[fr],a,r);if(null!=c)if(Array.isArray(s))for(let b=0;b<s.length;b++)bm(d,c,s[b],v,!1);else bm(d,c,s,v,!1);void 0!==Tp&&Tp(d,a,r,s,c)}function Ya(t,r){if(null!==r){const s=r.type;if(3&s)return Nr(r,t);if(4&s)return Ju(-1,t[r.index]);if(8&s){const a=r.child;if(null!==a)return Ya(t,a);{const c=t[r.index];return ni(c)?Ju(-1,c):Pe(c)}}if(32&s)return Rd(r,t)()||Pe(t[r.index]);{const a=Oc(t,r);return null!==a?Array.isArray(a)?a[0]:Ya(Zu(t[rr]),a):Ya(t,r.next)}}return null}function Oc(t,r){return null!==r?t[rr][fr].projection[r.projection]:null}function Ju(t,r){const s=vn+t+1;if(s<r.length){const a=r[s],c=a[yt].firstChild;if(null!==c)return Ya(a,c)}return r[Ui]}function Vd(t,r,s,a,c,d,g){for(;null!=s;){const v=a[s.index],b=s.type;if(g&&0===r&&(v&&Ot(Pe(v),a),s.flags|=2),32!=(32&s.flags))if(8&b)Vd(t,r,s.child,a,c,d,!1),nl(r,t,c,v,d);else if(32&b){const O=Rd(s,a);let V;for(;V=O();)nl(r,t,c,V,d);nl(r,t,c,v,d)}else 16&b?Ap(t,r,a,s,c,d):nl(r,t,c,v,d);s=g?s.projectionNext:s.next}}function sl(t,r,s,a,c,d){Vd(s,a,t.firstChild,r,c,d,!1)}function Ap(t,r,s,a,c,d){const g=s[rr],b=g[fr].projection[a.projection];if(Array.isArray(b))for(let O=0;O<b.length;O++)nl(r,t,c,b[O],d);else{let O=b;const V=g[Ln];Kl(a)&&(O.flags|=128),Vd(t,r,O,V,c,d,!0)}}function Bd(t,r,s){""===s?t.removeAttribute(r,"class"):t.setAttribute(r,"class",s)}function ed(t,r,s){const{mergedAttrs:a,classes:c,styles:d}=s;null!==a&&So(t,r,a),null!==c&&Bd(t,r,c),null!==d&&function Mm(t,r,s){t.setAttribute(r,"style",s)}(t,r,d)}function kc(t){ec=t}function zh(t){return function $h(){if(void 0===jh&&(jh=null,$n.trustedTypes))try{jh=$n.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return jh}()?.createScriptURL(t)||t}class Mp{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${hn})`}}function Du(t){return t instanceof Mp?t.changingThisBreaksApplicationSecurity:t}function Lc(t,r){const s=function Sv(t){return t instanceof Mp&&t.getTypeName()||null}(t);if(null!=s&&s!==r){if("ResourceURL"===s&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${s} (see ${hn})`)}return s===r}const Qh=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var cl=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(cl||{});function Up(t){const r=ll();return r?r.sanitize(cl.URL,t)||"":Lc(t,"URL")?Du(t):function Xh(t){return(t=String(t)).match(Qh)?t:"unsafe:"+t}(Ne(t))}function Fm(t){const r=ll();if(r)return zh(r.sanitize(cl.RESOURCE_URL,t)||"");if(Lc(t,"ResourceURL"))return zh(Du(t));throw new nt(904,!1)}function Um(t,r,s){return function Fv(t,r){return"src"===r&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===r&&("base"===t||"link"===t)?Fm:Up}(r,s)(t)}function ll(){const t=ze();return t&&t[li].sanitizer}const zd=new It("ENVIRONMENT_INITIALIZER"),Gd=new It("INJECTOR",-1),Wd=new It("INJECTOR_DEF_TYPES");class Bp{get(r,s=le){if(s===le){const a=new Error(`NullInjectorError: No provider for ${Gt(r)}!`);throw a.name="NullInjectorError",a}return s}}function $p(...t){return{\u0275providers:ef(0,t),\u0275fromNgModule:!0}}function ef(t,...r){const s=[],a=new Set;let c;const d=g=>{s.push(g)};return ua(r,g=>{const v=g;dl(v,d,[],a)&&(c||=[],c.push(v))}),void 0!==c&&td(c,d),s}function td(t,r){for(let s=0;s<t.length;s++){const{ngModule:a,providers:c}=t[s];Kd(c,d=>{r(d,a)})}}function dl(t,r,s,a){if(!(t=Re(t)))return!1;let c=null,d=kn(t);const g=!d&&qt(t);if(d||g){if(g&&!g.standalone)return!1;c=t}else{const b=t.ngModule;if(d=kn(b),!d)return!1;c=b}const v=a.has(c);if(g){if(v)return!1;if(a.add(c),g.dependencies){const b="function"==typeof g.dependencies?g.dependencies():g.dependencies;for(const O of b)dl(O,r,s,a)}}else{if(!d)return!1;{if(null!=d.imports&&!v){let O;a.add(c);try{ua(d.imports,V=>{dl(V,r,s,a)&&(O||=[],O.push(V))})}finally{}void 0!==O&&td(O,r)}if(!v){const O=us(c)||(()=>new c);r({provide:c,useFactory:O,deps:an},c),r({provide:Wd,useValue:c,multi:!0},c),r({provide:zd,useValue:()=>Ae(c),multi:!0},c)}const b=d.providers;if(null!=b&&!v){const O=t;Kd(b,V=>{r(V,O)})}}}return c!==t&&void 0!==t.providers}function Kd(t,r){for(let s of t)Ge(s)&&(s=s.\u0275providers),Array.isArray(s)?Kd(s,r):r(s)}const Bm=lt({provide:String,useValue:lt});function Hp(t){return null!==t&&"object"==typeof t&&Bm in t}function nc(t){return"function"==typeof t}const tf=new It("Set Injector scope."),nf={},jm={};let Wp;function rc(){return void 0===Wp&&(Wp=new Bp),Wp}class Ao{}class Uc extends Ao{get destroyed(){return this._destroyed}constructor(r,s,a,c){super(),this.parent=s,this.source=a,this.scopes=c,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,rf(r,g=>this.processProvider(g)),this.records.set(Gd,rd(void 0,this)),c.has("environment")&&this.records.set(Ao,rd(void 0,this));const d=this.records.get(tf);null!=d&&"string"==typeof d.value&&this.scopes.add(d.value),this.injectorDefTypes=new Set(this.get(Wd.multi,an,Lt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const s of this._ngOnDestroyHooks)s.ngOnDestroy();const r=this._onDestroyHooks;this._onDestroyHooks=[];for(const s of r)s()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(r){return this.assertNotDestroyed(),this._onDestroyHooks.push(r),()=>this.removeOnDestroy(r)}runInContext(r){this.assertNotDestroyed();const s=Or(this),a=kt(void 0);try{return r()}finally{Or(s),kt(a)}}get(r,s=le,a=Lt.Default){if(this.assertNotDestroyed(),r.hasOwnProperty(Ki))return r[Ki](this);a=St(a);const d=Or(this),g=kt(void 0);try{if(!(a&Lt.SkipSelf)){let b=this.records.get(r);if(void 0===b){const O=function Qp(t){return"function"==typeof t||"object"==typeof t&&t instanceof It}(r)&&Er(r);b=O&&this.injectableDefInScope(O)?rd(nd(r),nf):null,this.records.set(r,b)}if(null!=b)return this.hydrate(r,b)}return(a&Lt.Self?rc():this.parent).get(r,s=a&Lt.Optional&&s===le?null:s)}catch(v){if("NullInjectorError"===v.name){if((v[ct]=v[ct]||[]).unshift(Gt(r)),d)throw v;return function Pr(t,r,s,a){const c=t[ct];throw r[tn]&&c.unshift(r[tn]),t.message=function tr(t,r,s,a=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let c=Gt(r);if(Array.isArray(r))c=r.map(Gt).join(" -> ");else if("object"==typeof r){let d=[];for(let g in r)if(r.hasOwnProperty(g)){let v=r[g];d.push(g+":"+("string"==typeof v?JSON.stringify(v):Gt(v)))}c=`{${d.join(", ")}}`}return`${s}${a?"("+a+")":""}[${c}]: ${t.replace(Vt,"\n  ")}`}("\n"+t.message,c,s,a),t.ngTokenPath=c,t[ct]=null,t}(v,r,"R3InjectorError",this.source)}throw v}finally{kt(g),Or(d)}}resolveInjectorInitializers(){const r=Or(this),s=kt(void 0);try{const c=this.get(zd.multi,an,Lt.Self);for(const d of c)d()}finally{Or(r),kt(s)}}toString(){const r=[],s=this.records;for(const a of s.keys())r.push(Gt(a));return`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new nt(205,!1)}processProvider(r){let s=nc(r=Re(r))?r:Re(r&&r.provide);const a=function Hm(t){return Hp(t)?rd(void 0,t.useValue):rd(Kp(t),nf)}(r);if(nc(r)||!0!==r.multi)this.records.get(s);else{let c=this.records.get(s);c||(c=rd(void 0,nf,!0),c.factory=()=>zt(c.multi),this.records.set(s,c)),s=r,c.multi.push(r)}this.records.set(s,a)}hydrate(r,s){return s.value===nf&&(s.value=jm,s.value=s.factory()),"object"==typeof s.value&&s.value&&function Vv(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(s.value)&&this._ngOnDestroyHooks.add(s.value),s.value}injectableDefInScope(r){if(!r.providedIn)return!1;const s=Re(r.providedIn);return"string"==typeof s?"any"===s||this.scopes.has(s):this.injectorDefTypes.has(s)}removeOnDestroy(r){const s=this._onDestroyHooks.indexOf(r);-1!==s&&this._onDestroyHooks.splice(s,1)}}function nd(t){const r=Er(t),s=null!==r?r.factory:us(t);if(null!==s)return s;if(t instanceof It)throw new nt(204,!1);if(t instanceof Function)return function $m(t){const r=t.length;if(r>0)throw function pu(t,r){const s=[];for(let a=0;a<t;a++)s.push(r);return s}(r,"?"),new nt(204,!1);const s=function en(t){return t&&(t[mr]||t[Xn])||null}(t);return null!==s?()=>s.factory(t):()=>new t}(t);throw new nt(204,!1)}function Kp(t,r,s){let a;if(nc(t)){const c=Re(t);return us(c)||nd(c)}if(Hp(t))a=()=>Re(t.useValue);else if(function Gp(t){return!(!t||!t.useFactory)}(t))a=()=>t.useFactory(...zt(t.deps||[]));else if(function zp(t){return!(!t||!t.useExisting)}(t))a=()=>Ae(Re(t.useExisting));else{const c=Re(t&&(t.useClass||t.provide));if(!function qp(t){return!!t.deps}(t))return us(c)||nd(c);a=()=>new c(...zt(t.deps))}return a}function rd(t,r,s=!1){return{factory:t,value:r,multi:s?[]:void 0}}function rf(t,r){for(const s of t)Array.isArray(s)?rf(s,r):s&&Ge(s)?rf(s.\u0275providers,r):r(s)}const Xp=new It("AppId",{providedIn:"root",factory:()=>Yp}),Yp="ng",qd=new It("Platform Initializer"),hl=new It("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Jp=new It("CSP nonce",{providedIn:"root",factory:()=>function al(){if(void 0!==ec)return ec;if(typeof document<"u")return document;throw new nt(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let Gm=(t,r,s)=>null;function eh(t,r,s=!1){return Gm(t,r,s)}class ug{}class Wm{}class ff{resolveComponentFactory(r){throw function cg(t){const r=Error(`No component factory found for ${Gt(t)}.`);return r.ngComponent=t,r}(r)}}let od=(()=>{class t{static{this.NULL=new ff}}return t})();function Qm(){return Za(fi(),ze())}function Za(t,r){return new gl(Nr(t,r))}let gl=(()=>{class t{constructor(s){this.nativeElement=s}static{this.__NG_ELEMENT_ID__=Qm}}return t})();function $v(t){return t instanceof gl?t.nativeElement:t}class Xm{}let Ym=(()=>{class t{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>function Zm(){const t=ze(),s=Ri(fi().index,t);return(Mi(s)?s:t)[Yt]}()}}return t})(),Hv=(()=>{class t{static{this.\u0275prov=Xt({token:t,providedIn:"root",factory:()=>null})}}return t})();class pf{constructor(r){this.full=r,this.major=r.split(".")[0],this.minor=r.split(".")[1],this.patch=r.split(".").slice(2).join(".")}}const Jm=new pf("16.2.12"),rh={};function ml(t,r=null,s=null,a){const c=yl(t,r,s,a);return c.resolveInjectorInitializers(),c}function yl(t,r=null,s=null,a,c=new Set){const d=[s||an,$p(t)];return a=a||("object"==typeof t?void 0:Gt(t)),new Uc(d,r||rc(),a||null,c)}let Aa=(()=>{class t{static{this.THROW_IF_NOT_FOUND=le}static{this.NULL=new Bp}static create(s,a){if(Array.isArray(s))return ml({name:""},a,s,"");{const c=s.name??"";return ml({name:c},s.parent,s.providers,c)}}static{this.\u0275prov=Xt({token:t,providedIn:"any",factory:()=>Ae(Gd)})}static{this.__NG_ELEMENT_ID__=-1}}return t})();function hg(t){return t.ngOriginalError}class bu{constructor(){this._console=console}handleError(r){const s=this._findOriginalError(r);this._console.error("ERROR",r),s&&this._console.error("ORIGINAL ERROR",s)}_findOriginalError(r){let s=r&&hg(r);for(;s&&hg(s);)s=hg(s);return s||null}}function gg(t){return r=>{setTimeout(t,void 0,r)}}const Sa=class zv extends S.B{constructor(r=!1){super(),this.__isAsync=r}emit(r){super.next(r)}subscribe(r,s,a){let c=r,d=s||(()=>null),g=a;if(r&&"object"==typeof r){const b=r;c=b.next?.bind(b),d=b.error?.bind(b),g=b.complete?.bind(b)}this.__isAsync&&(d=gg(d),c&&(c=gg(c)),g&&(g=gg(g)));const v=super.subscribe({next:c,error:d,complete:g});return r instanceof ie.yU&&r.add(v),v}};function yf(...t){}class Ts{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:a=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Sa(!1),this.onMicrotaskEmpty=new Sa(!1),this.onStable=new Sa(!1),this.onError=new Sa(!1),typeof Zone>"u")throw new nt(908,!1);Zone.assertZonePatched();const c=this;c._nesting=0,c._outer=c._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(c._inner=c._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(c._inner=c._inner.fork(Zone.longStackTraceZoneSpec)),c.shouldCoalesceEventChangeDetection=!a&&s,c.shouldCoalesceRunChangeDetection=a,c.lastRequestAnimationFrameId=-1,c.nativeRequestAnimationFrame=function Gv(){const t="function"==typeof $n.requestAnimationFrame;let r=$n[t?"requestAnimationFrame":"setTimeout"],s=$n[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&r&&s){const a=r[Zone.__symbol__("OriginalDelegate")];a&&(r=a);const c=s[Zone.__symbol__("OriginalDelegate")];c&&(s=c)}return{nativeRequestAnimationFrame:r,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function sy(t){const r=()=>{!function iy(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call($n,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,mg(t),t.isCheckStableRunning=!0,vf(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),mg(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,a,c,d,g,v)=>{if(function yg(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(v))return s.invokeTask(c,d,g,v);try{return oy(t),s.invokeTask(c,d,g,v)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===d.type||t.shouldCoalesceRunChangeDetection)&&r(),ay(t)}},onInvoke:(s,a,c,d,g,v,b)=>{try{return oy(t),s.invoke(c,d,g,v,b)}finally{t.shouldCoalesceRunChangeDetection&&r(),ay(t)}},onHasTask:(s,a,c,d)=>{s.hasTask(c,d),a===c&&("microTask"==d.change?(t._hasPendingMicrotasks=d.microTask,mg(t),vf(t)):"macroTask"==d.change&&(t.hasPendingMacrotasks=d.macroTask))},onHandleError:(s,a,c,d)=>(s.handleError(c,d),t.runOutsideAngular(()=>t.onError.emit(d)),!1)})}(c)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ts.isInAngularZone())throw new nt(909,!1)}static assertNotInAngularZone(){if(Ts.isInAngularZone())throw new nt(909,!1)}run(r,s,a){return this._inner.run(r,s,a)}runTask(r,s,a,c){const d=this._inner,g=d.scheduleEventTask("NgZoneEvent: "+c,r,ry,yf,yf);try{return d.runTask(g,s,a)}finally{d.cancelTask(g)}}runGuarded(r,s,a){return this._inner.runGuarded(r,s,a)}runOutsideAngular(r){return this._outer.run(r)}}const ry={};function vf(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function mg(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function oy(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function ay(t){t._nesting--,vf(t)}class Kv{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Sa,this.onMicrotaskEmpty=new Sa,this.onStable=new Sa,this.onError=new Sa}run(r,s,a){return r.apply(s,a)}runGuarded(r,s,a){return r.apply(s,a)}runOutsideAngular(r){return r()}runTask(r,s,a,c){return r.apply(s,a)}}const _f=new It("",{providedIn:"root",factory:If});function If(){const t=ke(Ts);let r=!0;return function je(...t){const r=(0,Z.lI)(t),s=(0,Z.R0)(t,1/0),a=t;return a.length?1===a.length?(0,fe.Tg)(a[0]):(0,we.U)(s)((0,Xe.H)(a,r)):q.w}(new ce.c(c=>{r=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{c.next(r),c.complete()})}),new ce.c(c=>{let d;t.runOutsideAngular(()=>{d=t.onStable.subscribe(()=>{Ts.assertNotInAngularZone(),queueMicrotask(()=>{!r&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(r=!0,c.next(!0))})})});const g=t.onUnstable.subscribe(()=>{Ts.assertInAngularZone(),r&&(r=!1,t.runOutsideAngular(()=>{c.next(!1)}))});return()=>{d.unsubscribe(),g.unsubscribe()}}).pipe(de()))}function Au(t){return t instanceof Function?t():t}let sh=(()=>{class t{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static{this.\u0275prov=Xt({token:t,providedIn:"root",factory:()=>new t})}}return t})();function oh(t){for(;t;){t[Qt]|=64;const r=Zu(t);if(No(t)&&!r)return t;t=r}return null}const Ef=new It("",{providedIn:"root",factory:()=>!1});let Cf=null;function bf(t,r){return t[r]??Af()}function gy(t,r){const s=Af();s.producerNode?.length&&(t[r]=Cf,s.lView=t,Cf=my())}const Eg={...ii,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{oh(t.lView)},lView:null};function my(){return Object.create(Eg)}function Af(){return Cf??=my(),Cf}const Cn={};function Sf(t){Dg(un(),ze(),Gr()+t,!1)}function Dg(t,r,s,a){if(!a)if(3==(3&r[Qt])){const d=t.preOrderCheckHooks;null!==d&&Ea(r,d,s)}else{const d=t.preOrderHooks;null!==d&&ju(r,d,0,s)}Zs(s)}function Hc(t,r=Lt.Default){const s=ze();return null===s?Ae(t,r):Xc(fi(),s,Re(t),r)}function Tg(){throw new Error("invalid")}function Mf(t,r,s,a,c,d,g,v,b,O,V){const Q=r.blueprint.slice();return Q[vr]=c,Q[Qt]=140|a,(null!==O||t&&2048&t[Qt])&&(Q[Qt]|=2048),Va(Q),Q[Ln]=Q[Zo]=t,Q[br]=s,Q[li]=g||t&&t[li],Q[Yt]=v||t&&t[Yt],Q[xs]=b||t&&t[xs]||null,Q[fr]=d,Q[oo]=function p(){return h++}(),Q[Zi]=V,Q[Fi]=O,Q[rr]=2==r.type?t[rr]:Q,Q}function zc(t,r,s,a,c){let d=t.data[r];if(null===d)d=function Cg(t,r,s,a,c){const d=Ps(),g=Ia(),b=t.data[r]=function e_(t,r,s,a,c,d){let g=r?r.injectorIndex:-1,v=0;return function Ji(){return null!==Wt.skipHydrationRootTNode}()&&(v|=128),{type:s,index:a,insertBeforeIndex:null,injectorIndex:g,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:v,providerIndexes:0,value:c,attrs:d,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,g?d:d&&d.parent,s,r,a,c);return null===t.firstChild&&(t.firstChild=b),null!==d&&(g?null==d.child&&null!==b.parent&&(d.child=b):null===d.next&&(d.next=b,b.prev=d)),b}(t,r,s,a,c),function Nl(){return Wt.lFrame.inI18n}()&&(d.flags|=32);else if(64&d.type){d.type=s,d.value=a,d.attrs=c;const g=function Bo(){const t=Wt.lFrame,r=t.currentTNode;return t.isParent?r:r.parent}();d.injectorIndex=null===g?-1:g.injectorIndex}return me(d,!0),d}function _l(t,r,s,a){if(0===s)return-1;const c=r.length;for(let d=0;d<s;d++)r.push(a),t.blueprint.push(a),t.data.push(null);return c}function xf(t,r,s,a,c){const d=bf(r,Jo),g=Gr(),v=2&a;try{Zs(-1),v&&r.length>gn&&Dg(t,r,gn,!1),ds(v?2:0,c);const O=v?d:null,V=Qs(O);try{null!==O&&(O.dirty=!1),s(a,c)}finally{xn(O,V)}}finally{v&&null===r[Jo]&&gy(r,Jo),Zs(g),ds(v?3:1,c)}}function ah(t,r,s){if(lo(r)){const a=vi(null);try{const d=r.directiveEnd;for(let g=r.directiveStart;g<d;g++){const v=t.data[g];v.contentQueries&&v.contentQueries(1,s[g],g)}}finally{vi(a)}}}function bg(t,r,s){Vo()&&(function Og(t,r,s,a){const c=s.directiveStart,d=s.directiveEnd;as(s)&&function Ey(t,r,s){const a=Nr(r,t),c=yy(s);let g=16;s.signals?g=4096:s.onPush&&(g=64);const v=Pf(t,Mf(t,c,null,g,a,r,null,t[li].rendererFactory.createRenderer(a,s),null,null,null));t[r.index]=v}(r,s,t.data[c+s.componentOffset]),t.firstCreatePass||Ls(s,r),Ot(a,r);const g=s.initialInputs;for(let v=c;v<d;v++){const b=t.data[v],O=Eo(r,t,v,s);Ot(O,r),null!==g&&i_(0,v-c,O,b,0,g),xi(b)&&(Ri(s.index,r)[br]=Eo(r,t,v,s))}}(t,r,s,Nr(s,r)),64==(64&s.flags)&&Pg(t,r,s))}function Gc(t,r,s=Nr){const a=r.localNames;if(null!==a){let c=r.index+1;for(let d=0;d<a.length;d+=2){const g=a[d+1],v=-1===g?s(r,t):t[g];t[c++]=v}}}function yy(t){const r=t.tView;return null===r||r.incompleteFirstPass?t.tView=uh(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):r}function uh(t,r,s,a,c,d,g,v,b,O,V){const Q=gn+a,oe=Q+c,pe=function vy(t,r){const s=[];for(let a=0;a<r;a++)s.push(a<t?null:Cn);return s}(Q,oe),Ve="function"==typeof O?O():O;return pe[yt]={type:t,blueprint:pe,template:s,queries:null,viewQuery:v,declTNode:r,data:pe.slice().fill(null,Q),bindingStartIndex:Q,expandoStartIndex:oe,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof d?d():d,pipeRegistry:"function"==typeof g?g():g,firstChild:null,schemas:b,consts:Ve,incompleteFirstPass:!1,ssrId:V}}let ch=t=>null;function lh(t,r,s,a){for(let c in t)if(t.hasOwnProperty(c)){s=null===s?{}:s;const d=t[c];null===a?Nf(s,r,c,d):a.hasOwnProperty(c)&&Nf(s,r,a[c],d)}return s}function Nf(t,r,s,a){t.hasOwnProperty(s)?t[s].push(r,a):t[s]=[r,a]}function dh(t,r,s,a){if(Vo()){const c=null===a?null:{"":-1},d=function kg(t,r){const s=t.directiveRegistry;let a=null,c=null;if(s)for(let d=0;d<s.length;d++){const g=s[d];if(Mr(r,g.selectors,!1))if(a||(a=[]),xi(g))if(null!==g.findHostDirectiveDefs){const v=[];c=c||new Map,g.findHostDirectiveDefs(g,v,c),a.unshift(...v,g),Lg(t,r,v.length)}else a.unshift(g),Lg(t,r,0);else c=c||new Map,g.findHostDirectiveDefs?.(g,a,c),a.push(g)}return null===a?null:[a,c]}(t,s);let g,v;null===d?g=v=null:[g,v]=d,null!==g&&Rg(t,r,s,g,c,v),c&&function t_(t,r,s){if(r){const a=t.localNames=[];for(let c=0;c<r.length;c+=2){const d=s[r[c+1]];if(null==d)throw new nt(-301,!1);a.push(r[c],d)}}}(s,a,c)}s.mergedAttrs=_e(s.mergedAttrs,s.attrs)}function Rg(t,r,s,a,c,d){for(let O=0;O<a.length;O++)$o(Ls(s,r),t,a[O].type);!function wy(t,r,s){t.flags|=1,t.directiveStart=r,t.directiveEnd=r+s,t.providerIndexes=r}(s,t.data.length,a.length);for(let O=0;O<a.length;O++){const V=a[O];V.providersResolver&&V.providersResolver(V)}let g=!1,v=!1,b=_l(t,r,a.length,null);for(let O=0;O<a.length;O++){const V=a[O];s.mergedAttrs=_e(s.mergedAttrs,V.hostAttrs),r_(t,s,r,b,V),n_(b,V,c),null!==V.contentQueries&&(s.flags|=4),(null!==V.hostBindings||null!==V.hostAttrs||0!==V.hostVars)&&(s.flags|=64);const Q=V.type.prototype;!g&&(Q.ngOnChanges||Q.ngOnInit||Q.ngDoCheck)&&((t.preOrderHooks??=[]).push(s.index),g=!0),!v&&(Q.ngOnChanges||Q.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(s.index),v=!0),b++}!function Ag(t,r,s){const c=r.directiveEnd,d=t.data,g=r.attrs,v=[];let b=null,O=null;for(let V=r.directiveStart;V<c;V++){const Q=d[V],oe=s?s.get(Q):null,Ve=oe?oe.outputs:null;b=lh(Q.inputs,V,b,oe?oe.inputs:null),O=lh(Q.outputs,V,O,Ve);const et=null===b||null===g||yn(r)?null:Ty(b,V,g);v.push(et)}null!==b&&(b.hasOwnProperty("class")&&(r.flags|=8),b.hasOwnProperty("style")&&(r.flags|=16)),r.initialInputs=v,r.inputs=b,r.outputs=O}(t,s,d)}function Pg(t,r,s){const a=s.directiveStart,c=s.directiveEnd,d=s.index,g=function y(){return Wt.lFrame.currentDirectiveIndex}();try{Zs(d);for(let v=a;v<c;v++){const b=t.data[v],O=r[v];D(v),(null!==b.hostBindings||0!==b.hostVars||null!==b.hostAttrs)&&hd(b,O)}}finally{Zs(-1),D(g)}}function hd(t,r){null!==t.hostBindings&&t.hostBindings(1,r)}function Lg(t,r,s){r.componentOffset=s,(t.components??=[]).push(r.index)}function n_(t,r,s){if(s){if(r.exportAs)for(let a=0;a<r.exportAs.length;a++)s[r.exportAs[a]]=t;xi(r)&&(s[""]=t)}}function r_(t,r,s,a,c){t.data[a]=c;const d=c.factory||(c.factory=us(c.type)),g=new Io(d,xi(c),Hc);t.blueprint[a]=g,s[a]=g,function Rf(t,r,s,a,c){const d=c.hostBindings;if(d){let g=t.hostBindingOpCodes;null===g&&(g=t.hostBindingOpCodes=[]);const v=~r.index;(function Iy(t){let r=t.length;for(;r>0;){const s=t[--r];if("number"==typeof s&&s<0)return s}return 0})(g)!=v&&g.push(v),g.push(s,a,d)}}(t,r,a,_l(t,s,c.hostVars,Cn),c)}function Su(t,r,s,a,c,d){const g=Nr(t,r);!function Fg(t,r,s,a,c,d,g){if(null==d)t.removeAttribute(r,c,s);else{const v=null==g?Ne(d):g(d,a||"",c);t.setAttribute(r,c,v,s)}}(r[Yt],g,d,t.value,s,a,c)}function i_(t,r,s,a,c,d){const g=d[r];if(null!==g)for(let v=0;v<g.length;)Dy(a,s,g[v++],g[v++],g[v++])}function Dy(t,r,s,a,c){const d=vi(null);try{const g=t.inputTransforms;null!==g&&g.hasOwnProperty(a)&&(c=g[a].call(r,c)),null!==t.setInput?t.setInput(r,c,s,a):r[a]=c}finally{vi(d)}}function Ty(t,r,s){let a=null,c=0;for(;c<s.length;){const d=s[c];if(0!==d)if(5!==d){if("number"==typeof d)break;if(t.hasOwnProperty(d)){null===a&&(a=[]);const g=t[d];for(let v=0;v<g.length;v+=2)if(g[v]===r){a.push(d,g[v+1],s[c+1]);break}}c+=2}else c+=2;else c+=4}return a}function Ug(t,r,s,a){return[t,!0,!1,r,null,0,a,s,null,null,null]}function Of(t,r){const s=t.contentQueries;if(null!==s)for(let a=0;a<s.length;a+=2){const d=s[a+1];if(-1!==d){const g=t.data[d];N(s[a]),g.contentQueries(2,r[d],d)}}}function Pf(t,r){return t[Yo]?t[di][Qi]=r:t[Yo]=r,t[di]=r,r}function kf(t,r,s){N(0);const a=vi(null);try{r(t,s)}finally{vi(a)}}function hh(t){return t[Xi]||(t[Xi]=[])}function sr(t){return t.cleanup||(t.cleanup=[])}function Bg(t,r){const s=t[xs],a=s?s.get(bu,null):null;a&&a.handleError(r)}function Il(t,r,s,a,c){for(let d=0;d<s.length;){const g=s[d++],v=s[d++];Dy(t.data[g],r[g],a,v,c)}}function sc(t,r,s){const a=au(r,t);!function Xa(t,r,s){t.setValue(r,s)}(t[Yt],a,s)}function zi(t,r){const s=Ri(r,t),a=s[yt];!function js(t,r){for(let s=r.length;s<t.blueprint.length;s++)r.push(t.blueprint[s])}(a,s);const c=s[vr];null!==c&&null===s[Zi]&&(s[Zi]=eh(c,s[xs])),Ma(a,s,s[br])}function Ma(t,r,s){Ce(r);try{const a=t.viewQuery;null!==a&&kf(1,a,s);const c=t.template;null!==c&&xf(t,r,c,1,s),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Of(t,r),t.staticViewQueries&&kf(2,t.viewQuery,s);const d=t.components;null!==d&&function o_(t,r){for(let s=0;s<r.length;s++)zi(t,r[s])}(r,d)}catch(a){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),a}finally{r[Qt]&=-5,Dn()}}let a_=(()=>{class t{constructor(){this.all=new Set,this.queue=new Map}create(s,a,c){const d=typeof Zone>"u"?null:Zone.current,g=function qr(t,r,s){const a=Object.create(Is);s&&(a.consumerAllowSignalWrites=!0),a.fn=t,a.schedule=r;const c=g=>{a.cleanupFn=g};return a.ref={notify:()=>Ai(a),run:()=>{if(a.dirty=!1,a.hasRun&&!Ua(a))return;a.hasRun=!0;const g=Qs(a);try{a.cleanupFn(),a.cleanupFn=_i,a.fn(c)}finally{xn(a,g)}},cleanup:()=>a.cleanupFn()},a.ref}(s,O=>{this.all.has(O)&&this.queue.set(O,d)},c);let v;this.all.add(g),g.notify();const b=()=>{g.cleanup(),v?.(),this.all.delete(g),this.queue.delete(g)};return v=a?.onDestroy(b),{destroy:b}}flush(){if(0!==this.queue.size)for(const[s,a]of this.queue)this.queue.delete(s),a?a.run(()=>s.run()):s.run()}get isQueueEmpty(){return 0===this.queue.size}static{this.\u0275prov=Xt({token:t,providedIn:"root",factory:()=>new t})}}return t})();function jg(t,r,s){let a=s?t.styles:null,c=s?t.classes:null,d=0;if(null!==r)for(let g=0;g<r.length;g++){const v=r[g];"number"==typeof v?d=v:1==d?c=Ze(c,v):2==d&&(a=Ze(a,v+": "+r[++g]+";"))}s?t.styles=a:t.stylesWithoutHost=a,s?t.classes=c:t.classesWithoutHost=c}function fd(t,r,s,a,c=!1){for(;null!==s;){const d=r[s.index];null!==d&&a.push(Pe(d)),ni(d)&&Cy(d,a);const g=s.type;if(8&g)fd(t,r,s.child,a);else if(32&g){const v=Rd(s,r);let b;for(;b=v();)a.push(b)}else if(16&g){const v=Oc(r,s);if(Array.isArray(v))a.push(...v);else{const b=Zu(r[rr]);fd(b[yt],b,v,a,!0)}}s=c?s.projectionNext:s.next}return a}function Cy(t,r){for(let s=vn;s<t.length;s++){const a=t[s],c=a[yt].firstChild;null!==c&&fd(a[yt],a,c,r)}t[Ui]!==t[vr]&&r.push(t[Ui])}function pd(t,r,s,a=!0){const c=r[li],d=c.rendererFactory,g=c.afterRenderEventManager;d.begin?.(),g?.begin();try{ui(t,r,t.template,s)}catch(b){throw a&&Bg(r,b),b}finally{d.end?.(),c.effectManager?.flush(),g?.end()}}function ui(t,r,s,a){const c=r[Qt];if(256!=(256&c)){r[li].effectManager?.flush(),Ce(r);try{Va(r),function cu(t){return Wt.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==s&&xf(t,r,s,2,a);const g=3==(3&c);if(g){const O=t.preOrderCheckHooks;null!==O&&Ea(r,O,null)}else{const O=t.preOrderHooks;null!==O&&ju(r,O,0,null),Yr(r,0)}if(function l_(t){for(let r=Im(t);null!==r;r=Li(r)){if(!r[ru])continue;const s=r[Si];for(let a=0;a<s.length;a++){bt(s[a])}}}(r),c_(r,2),null!==t.contentQueries&&Of(t,r),g){const O=t.contentCheckHooks;null!==O&&Ea(r,O)}else{const O=t.contentHooks;null!==O&&ju(r,O,1),Yr(r,1)}!function Xv(t,r){const s=t.hostBindingOpCodes;if(null===s)return;const a=bf(r,ao);try{for(let c=0;c<s.length;c++){const d=s[c];if(d<0)Zs(~d);else{const g=d,v=s[++c],b=s[++c];lu(v,g),a.dirty=!1;const O=Qs(a);try{b(2,r[g])}finally{xn(a,O)}}}}finally{null===r[ao]&&gy(r,ao),Zs(-1)}}(t,r);const v=t.components;null!==v&&d_(r,v,0);const b=t.viewQuery;if(null!==b&&kf(2,b,a),g){const O=t.viewCheckHooks;null!==O&&Ea(r,O)}else{const O=t.viewHooks;null!==O&&ju(r,O,2),Yr(r,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),r[Qt]&=-73,Fo(r)}finally{Dn()}}}function c_(t,r){for(let s=Im(t);null!==s;s=Li(s))for(let a=vn;a<s.length;a++)$g(s[a],r)}function is(t,r,s){$g(Ri(r,t),s)}function $g(t,r){if(!function uu(t){return 128==(128&t[Qt])}(t))return;const s=t[yt],a=t[Qt];if(80&a&&0===r||1024&a||2===r)ui(s,t,s.template,t[br]);else if(t[ys]>0){c_(t,1);const c=s.components;null!==c&&d_(t,c,1)}}function d_(t,r,s){for(let a=0;a<r.length;a++)is(t,r[a],s)}class Lf{get rootNodes(){const r=this._lView,s=r[yt];return fd(s,r,s.firstChild,[])}constructor(r,s){this._lView=r,this._cdRefInjectingView=s,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[br]}set context(r){this._lView[br]=r}get destroyed(){return 256==(256&this._lView[Qt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[Ln];if(ni(r)){const s=r[8],a=s?s.indexOf(this):-1;a>-1&&(Jl(r,a),Ka(s,a))}this._attachedToViewContainer=!1}vp(this._lView[yt],this._lView)}onDestroy(r){!function Ar(t,r){if(256==(256&t[Qt]))throw new nt(911,!1);null===t[vs]&&(t[vs]=[]),t[vs].push(r)}(this._lView,r)}markForCheck(){oh(this._cdRefInjectingView||this._lView)}detach(){this._lView[Qt]&=-129}reattach(){this._lView[Qt]|=128}detectChanges(){pd(this._lView[yt],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new nt(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Em(t,r){sl(t,r,r[Yt],2,null,null)}(this._lView[yt],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new nt(902,!1);this._appRef=r}}class by extends Lf{constructor(r){super(r),this._view=r}detectChanges(){const r=this._view;pd(r[yt],r,r[br],!1)}checkNoChanges(){}get context(){return null}}class h_ extends od{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const s=qt(r);return new Ff(s,this.ngModule)}}function f_(t){const r=[];for(let s in t)t.hasOwnProperty(s)&&r.push({propName:t[s],templateName:s});return r}class o0{constructor(r,s){this.injector=r,this.parentInjector=s}get(r,s,a){a=St(a);const c=this.injector.get(r,rh,a);return c!==rh||s===rh?c:this.parentInjector.get(r,s,a)}}class Ff extends Wm{get inputs(){const r=this.componentDef,s=r.inputTransforms,a=f_(r.inputs);if(null!==s)for(const c of a)s.hasOwnProperty(c.propName)&&(c.transform=s[c.propName]);return a}get outputs(){return f_(this.componentDef.outputs)}constructor(r,s){super(),this.componentDef=r,this.ngModule=s,this.componentType=r.type,this.selector=function ms(t){return t.map(Oa).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!s}create(r,s,a,c){let d=(c=c||this.ngModule)instanceof Ao?c:c?.injector;d&&null!==this.componentDef.getStandaloneInjector&&(d=this.componentDef.getStandaloneInjector(d)||d);const g=d?new o0(r,d):r,v=g.get(Xm,null);if(null===v)throw new nt(407,!1);const Q={rendererFactory:v,sanitizer:g.get(Hv,null),effectManager:g.get(a_,null),afterRenderEventManager:g.get(sh,null)},oe=v.createRenderer(null,this.componentDef),pe=this.componentDef.selectors[0][0]||"div",Ve=a?function dd(t,r,s,a){const d=a.get(Ef,!1)||s===yi.ShadowDom,g=t.selectRootElement(r,d);return function _y(t){ch(t)}(g),g}(oe,a,this.componentDef.encapsulation,g):kd(oe,pe,function s0(t){const r=t.toLowerCase();return"svg"===r?"svg":"math"===r?"math":null}(pe)),Bt=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let We=null;null!==Ve&&(We=eh(Ve,g,!0));const In=uh(0,null,null,1,0,null,null,null,null,null,null),Qn=Mf(null,In,null,Bt,null,null,Q,oe,g,null,We);let Jr,Ra;Ce(Qn);try{const xl=this.componentDef;let rp,GI=null;xl.findHostDirectiveDefs?(rp=[],GI=new Map,xl.findHostDirectiveDefs(xl,rp,GI),rp.push(xl)):rp=[xl];const eA=function u0(t,r){const s=t[yt],a=gn;return t[a]=r,zc(s,a,2,"#host",null)}(Qn,Ve),tA=function Ay(t,r,s,a,c,d,g){const v=c[yt];!function fh(t,r,s,a){for(const c of t)r.mergedAttrs=_e(r.mergedAttrs,c.hostAttrs);null!==r.mergedAttrs&&(jg(r,r.mergedAttrs,!0),null!==s&&ed(a,s,r))}(a,t,r,g);let b=null;null!==r&&(b=eh(r,c[xs]));const O=d.rendererFactory.createRenderer(r,s);let V=16;s.signals?V=4096:s.onPush&&(V=64);const Q=Mf(c,yy(s),null,V,c[t.index],t,d,O,null,null,b);return v.firstCreatePass&&Lg(v,t,a.length-1),Pf(c,Q),c[t.index]=Q}(eA,Ve,xl,rp,Qn,Q,oe);Ra=qc(In,gn),Ve&&function wl(t,r,s,a){if(a)So(t,s,["ng-version",Jm.full]);else{const{attrs:c,classes:d}=function Pa(t){const r=[],s=[];let a=1,c=2;for(;a<t.length;){let d=t[a];if("string"==typeof d)2===c?""!==d&&r.push(d,t[++a]):8===c&&s.push(d);else{if(!nr(c))break;c=d}a++}return{attrs:r,classes:s}}(r.selectors[0]);c&&So(t,s,c),d&&d.length>0&&Bd(t,s,d.join(" "))}}(oe,xl,Ve,a),void 0!==s&&function El(t,r,s){const a=t.projection=[];for(let c=0;c<r.length;c++){const d=s[c];a.push(null!=d?Array.from(d):null)}}(Ra,this.ngContentSelectors,s),Jr=function p_(t,r,s,a,c,d){const g=fi(),v=c[yt],b=Nr(g,c);Rg(v,c,g,s,null,a);for(let V=0;V<s.length;V++)Ot(Eo(c,v,g.directiveStart+V,g),c);Pg(v,c,g),b&&Ot(b,c);const O=Eo(c,v,g.directiveStart+g.componentOffset,g);if(t[br]=c[br]=O,null!==d)for(const V of d)V(O,r);return ah(v,g,t),O}(tA,xl,rp,GI,Qn,[c0]),Ma(In,Qn,null)}finally{Dn()}return new a0(this.componentType,Jr,Za(Ra,Qn),Qn,Ra)}}class a0 extends ug{constructor(r,s,a,c,d){super(),this.location=a,this._rootLView=c,this._tNode=d,this.previousInputValues=null,this.instance=s,this.hostView=this.changeDetectorRef=new by(c),this.componentType=r}setInput(r,s){const a=this._tNode.inputs;let c;if(null!==a&&(c=a[r])){if(this.previousInputValues??=new Map,this.previousInputValues.has(r)&&Object.is(this.previousInputValues.get(r),s))return;const d=this._rootLView;Il(d[yt],d,c,r,s),this.previousInputValues.set(r,s),oh(Ri(this._tNode.index,d))}}get injector(){return new rs(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}function c0(){const t=fi();du(ze()[yt],t)}function ph(t){let r=function Dl(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),s=!0;const a=[t];for(;r;){let c;if(xi(t))c=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new nt(903,!1);c=r.\u0275dir}if(c){if(s){a.push(c);const g=t;g.inputs=Uf(t.inputs),g.inputTransforms=Uf(t.inputTransforms),g.declaredInputs=Uf(t.declaredInputs),g.outputs=Uf(t.outputs);const v=c.hostBindings;v&&Vf(t,v);const b=c.viewQuery,O=c.contentQueries;if(b&&Sy(t,b),O&&My(t,O),bn(t.inputs,c.inputs),bn(t.declaredInputs,c.declaredInputs),bn(t.outputs,c.outputs),null!==c.inputTransforms&&(null===g.inputTransforms&&(g.inputTransforms={}),bn(g.inputTransforms,c.inputTransforms)),xi(c)&&c.data.animation){const V=t.data;V.animation=(V.animation||[]).concat(c.data.animation)}}const d=c.features;if(d)for(let g=0;g<d.length;g++){const v=d[g];v&&v.ngInherit&&v(t),v===ph&&(s=!1)}}r=Object.getPrototypeOf(r)}!function g_(t){let r=0,s=null;for(let a=t.length-1;a>=0;a--){const c=t[a];c.hostVars=r+=c.hostVars,c.hostAttrs=_e(c.hostAttrs,s=_e(s,c.hostAttrs))}}(a)}function Uf(t){return t===kr?{}:t===an?[]:t}function Sy(t,r){const s=t.viewQuery;t.viewQuery=s?(a,c)=>{r(a,c),s(a,c)}:r}function My(t,r){const s=t.contentQueries;t.contentQueries=s?(a,c,d)=>{r(a,c,d),s(a,c,d)}:r}function Vf(t,r){const s=t.hostBindings;t.hostBindings=s?(a,c)=>{r(a,c),s(a,c)}:r}function $f(t){const r=t.inputConfig,s={};for(const a in r)if(r.hasOwnProperty(a)){const c=r[a];Array.isArray(c)&&c[2]&&(s[a]=c[2])}t.inputTransforms=s}function mh(t){return!!Hf(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function Hf(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function fs(t,r,s){return!Object.is(t[r],s)&&(t[r]=s,!0)}function Mu(t,r,s,a){const c=fs(t,r,s);return fs(t,r+1,a)||c}function Gg(t,r,s,a){const c=ze();return fs(c,sa(),r)&&(un(),Su(Rn(),c,t,r,s,a)),Gg}function xu(t,r,s,a,c,d,g,v){const O=function vh(t,r,s,a,c){const d=Mu(t,r,s,a);return fs(t,r+2,c)||d}(t,ji(),s,c,g);return Ys(3),O?r+Ne(s)+a+Ne(c)+d+Ne(g)+v:Cn}function vd(t,r,s,a,c,d,g,v){const b=ze(),O=un(),V=t+gn,Q=O.firstCreatePass?function v0(t,r,s,a,c,d,g,v,b){const O=r.consts,V=zc(r,t,4,g||null,Tr(O,v));dh(r,s,V,Tr(O,b)),du(r,V);const Q=V.tView=uh(2,V,a,c,d,r.directiveRegistry,r.pipeRegistry,null,r.schemas,O,null);return null!==r.queries&&(r.queries.template(r,V),Q.queries=r.queries.embeddedTView(V)),V}(V,O,b,r,s,a,c,d,g):O.data[V];me(Q,!1);const oe=Qf(O,b,Q,t);vc()&&il(O,b,oe,Q),Ot(oe,b),Pf(b,b[V]=Ug(oe,b,oe,Q)),Ns(Q)&&bg(O,b,Q),null!=g&&Gc(b,Q,v)}let Qf=function x_(t,r,s,a){return Js(!0),r[Yt].createComment("")};function Qg(t,r,s){const a=ze();return fs(a,sa(),r)&&function Go(t,r,s,a,c,d,g,v){const b=Nr(r,s);let V,O=r.inputs;!v&&null!=O&&(V=O[a])?(Il(t,s,V,a,c),as(r)&&function Mg(t,r){const s=Ri(r,t);16&s[Qt]||(s[Qt]|=64)}(s,r.index)):3&r.type&&(a=function Sg(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(a),c=null!=g?g(c,r.value||"",a):c,d.setProperty(b,a,c))}(un(),Rn(),a,t,r,a[Yt],s,!1),Qg}function jy(t,r,s,a,c){const g=c?"class":"style";Il(t,s,r.inputs[g],g,a)}function Xg(t,r,s,a){const c=ze(),d=un(),g=gn+t,v=c[Yt],b=d.firstCreatePass?function _0(t,r,s,a,c,d){const g=r.consts,b=zc(r,t,2,a,Tr(g,c));return dh(r,s,b,Tr(g,d)),null!==b.attrs&&jg(b,b.attrs,!1),null!==b.mergedAttrs&&jg(b,b.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,b),b}(g,d,c,r,s,a):d.data[g],O=$y(d,c,b,v,r,t);c[g]=O;const V=Ns(b);return me(b,!0),ed(v,O,b),32!=(32&b.flags)&&vc()&&il(d,c,O,b),0===function Xr(){return Wt.lFrame.elementDepthCount}()&&Ot(O,c),function ht(){Wt.lFrame.elementDepthCount++}(),V&&(bg(d,c,b),ah(d,b,c)),null!==a&&Gc(c,b),Xg}function Yg(){let t=fi();Ia()?function Oi(){Wt.lFrame.isParent=!1}():(t=t.parent,me(t,!1));const r=t;(function fc(t){return Wt.skipHydrationRootTNode===t})(r)&&function gc(){Wt.skipHydrationRootTNode=null}(),function Uo(){Wt.lFrame.elementDepthCount--}();const s=un();return s.firstCreatePass&&(du(s,t),lo(t)&&s.queries.elementEnd(t)),null!=r.classesWithoutHost&&function ts(t){return 0!=(8&t.flags)}(r)&&jy(s,r,ze(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function Pl(t){return 0!=(16&t.flags)}(r)&&jy(s,r,ze(),r.stylesWithoutHost,!1),Yg}function Zg(t,r,s,a){return Xg(t,r,s,a),Yg(),Zg}let $y=(t,r,s,a,c,d)=>(Js(!0),kd(a,c,function Ah(){return Wt.lFrame.currentNamespace}()));function zy(t){return!!t&&"function"==typeof t.then}function U_(t){return!!t&&"function"==typeof t.subscribe}function Gy(t,r,s,a){const c=ze(),d=un(),g=fi();return function Eh(t,r,s,a,c,d,g){const v=Ns(a),O=t.firstCreatePass&&sr(t),V=r[br],Q=hh(r);let oe=!0;if(3&a.type||g){const et=Nr(a,r),Et=g?g(et):et,Bt=Q.length,We=g?Qn=>g(Pe(Qn[a.index])):a.index;let In=null;if(!g&&v&&(In=function Wy(t,r,s,a){const c=t.cleanup;if(null!=c)for(let d=0;d<c.length-1;d+=2){const g=c[d];if(g===s&&c[d+1]===a){const v=r[Xi],b=c[d+2];return v.length>b?v[b]:null}"string"==typeof g&&(d+=2)}return null}(t,r,c,a.index)),null!==In)(In.__ngLastListenerFn__||In).__ngNextListenerFn__=d,In.__ngLastListenerFn__=d,oe=!1;else{d=Ky(a,r,V,d,!1);const Qn=s.listen(Et,c,d);Q.push(d,Qn),O&&O.push(c,We,Bt,Bt+1)}}else d=Ky(a,r,V,d,!1);const pe=a.outputs;let Ve;if(oe&&null!==pe&&(Ve=pe[c])){const et=Ve.length;if(et)for(let Et=0;Et<et;Et+=2){const Jr=r[Ve[Et]][Ve[Et+1]].subscribe(d),Ra=Q.length;Q.push(d,Jr),O&&O.push(c,a.index,Ra,-(Ra+1))}}}(d,c,c[Yt],g,t,r,a),Gy}function em(t,r,s,a){try{return ds(6,r,s),!1!==s(a)}catch(c){return Bg(t,c),!1}finally{ds(7,r,s)}}function Ky(t,r,s,a,c){return function d(g){if(g===Function)return a;oh(t.componentOffset>-1?Ri(t.index,r):r);let b=em(r,s,a,g),O=d.__ngNextListenerFn__;for(;O;)b=em(r,s,O,g)&&b,O=O.__ngNextListenerFn__;return c&&!1===b&&g.preventDefault(),b}}function B_(t=1){return function _o(t){return(Wt.lFrame.contextLView=function es(t,r){for(;t>0;)r=r[Zo],t--;return r}(t,Wt.lFrame.contextLView))[br]}(t)}function rm(t,r){return t<<17|r<<2}function Sl(t){return t>>17&32767}function Yy(t){return 2|t}function _d(t){return(131068&t)>>2}function Zy(t,r){return-131069&t|r<<2}function Jy(t){return 1|t}function Y_(t,r,s,a,c){const d=t[s+1],g=null===r;let v=a?Sl(d):_d(d),b=!1;for(;0!==v&&(!1===b||g);){const V=t[v+1];A0(t[v],r)&&(b=!0,t[v+1]=a?Jy(V):Yy(V)),v=a?Sl(V):_d(V)}b&&(t[s+1]=a?Yy(d):Jy(d))}function A0(t,r){return null===t||null==r||(Array.isArray(t)?t[1]:t)===r||!(!Array.isArray(t)||"string"!=typeof r)&&qu(t,r)>=0}function tv(t,r){return function tu(t,r,s,a){const c=ze(),d=un(),g=Ys(2);d.firstUpdatePass&&function sI(t,r,s,a){const c=t.data;if(null===c[s+1]){const d=c[Gr()],g=function iI(t,r){return r>=t.expandoStartIndex}(t,s);(function o(t,r){return 0!=(t.flags&(r?8:16))})(d,a)&&null===r&&!g&&(r=!1),r=function L0(t,r,s,a){const c=function m(t){const r=Wt.lFrame.currentDirectiveIndex;return-1===r?null:t[r]}(t);let d=a?r.residualClasses:r.residualStyles;if(null===c)0===(a?r.classBindings:r.styleBindings)&&(s=Xf(s=nv(null,t,r,s,a),r.attrs,a),d=null);else{const g=r.directiveStylingLast;if(-1===g||t[g]!==c)if(s=nv(c,t,r,s,a),null===d){let b=function F0(t,r,s){const a=s?r.classBindings:r.styleBindings;if(0!==_d(a))return t[Sl(a)]}(t,r,a);void 0!==b&&Array.isArray(b)&&(b=nv(null,t,r,b[1],a),b=Xf(b,r.attrs,a),function U0(t,r,s,a){t[Sl(s?r.classBindings:r.styleBindings)]=a}(t,r,a,b))}else d=function V0(t,r,s){let a;const c=r.directiveEnd;for(let d=1+r.directiveStylingLast;d<c;d++)a=Xf(a,t[d].hostAttrs,s);return Xf(a,r.attrs,s)}(t,r,a)}return void 0!==d&&(a?r.residualClasses=d:r.residualStyles=d),s}(c,d,r,a),function C0(t,r,s,a,c,d){let g=d?r.classBindings:r.styleBindings,v=Sl(g),b=_d(g);t[a]=s;let V,O=!1;if(Array.isArray(s)?(V=s[1],(null===V||qu(s,V)>0)&&(O=!0)):V=s,c)if(0!==b){const oe=Sl(t[v+1]);t[a+1]=rm(oe,v),0!==oe&&(t[oe+1]=Zy(t[oe+1],a)),t[v+1]=function Q_(t,r){return 131071&t|r<<17}(t[v+1],a)}else t[a+1]=rm(v,0),0!==v&&(t[v+1]=Zy(t[v+1],a)),v=a;else t[a+1]=rm(b,0),0===v?v=a:t[b+1]=Zy(t[b+1],a),b=a;O&&(t[a+1]=Yy(t[a+1])),Y_(t,V,a,!0),Y_(t,V,a,!1),function b0(t,r,s,a,c){const d=c?t.residualClasses:t.residualStyles;null!=d&&"string"==typeof r&&qu(d,r)>=0&&(s[a+1]=Jy(s[a+1]))}(r,V,t,a,d),g=rm(v,b),d?r.classBindings=g:r.styleBindings=g}(c,d,r,s,g,a)}}(d,t,g,a),r!==Cn&&fs(c,g,r)&&function uI(t,r,s,a,c,d,g,v){if(!(3&r.type))return;const b=t.data,O=b[v+1],V=function X_(t){return 1==(1&t)}(O)?i(b,r,s,c,_d(O),g):void 0;e(V)||(e(d)||function T0(t){return 2==(2&t)}(O)&&(d=i(b,null,s,c,v,g)),function Sm(t,r,s,a,c){if(r)c?t.addClass(s,a):t.removeClass(s,a);else{let d=-1===a.indexOf("-")?void 0:el.DashCase;null==c?t.removeStyle(s,a,d):("string"==typeof c&&c.endsWith("!important")&&(c=c.slice(0,-10),d|=el.Important),t.setStyle(s,a,c,d))}}(a,g,au(Gr(),s),c,d))}(d,d.data[Gr()],c,c[Yt],t,c[g+1]=function n(t,r){return null==t||""===t||("string"==typeof r?t+=r:"object"==typeof t&&(t=Gt(Du(t)))),t}(r,s),a,g)}(t,r,null,!0),tv}function nv(t,r,s,a,c){let d=null;const g=s.directiveEnd;let v=s.directiveStylingLast;for(-1===v?v=s.directiveStart:v++;v<g&&(d=r[v],a=Xf(a,d.hostAttrs,c),d!==t);)v++;return null!==t&&(s.directiveStylingLast=v),a}function Xf(t,r,s){const a=s?1:2;let c=-1;if(null!==r)for(let d=0;d<r.length;d++){const g=r[d];"number"==typeof g?c=g:c===a&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Us(t,g,!!s||r[++d]))}return void 0===t?null:t}function i(t,r,s,a,c,d){const g=null===r;let v;for(;c>0;){const b=t[c],O=Array.isArray(b),V=O?b[1]:b,Q=null===V;let oe=s[c+1];oe===Cn&&(oe=Q?an:void 0);let pe=Q?mu(oe,a):V===a?oe:void 0;if(O&&!e(pe)&&(pe=mu(b,a)),e(pe)&&(v=pe,g))return v;const Ve=t[c+1];c=g?Sl(Ve):_d(Ve)}if(null!==r){let b=d?r.residualClasses:r.residualStyles;null!=b&&(v=mu(b,a))}return v}function e(t){return void 0!==t}function u(t,r=""){const s=ze(),a=un(),c=t+gn,d=a.firstCreatePass?zc(a,c,1,r,null):a.data[c],g=l(a,s,d,r,t);s[c]=g,vc()&&il(a,s,g,d),me(d,!1)}let l=(t,r,s,a,c)=>(Js(!0),function Nc(t,r){return t.createText(r)}(r[Yt],a));function x(t){return P("",t,""),x}function P(t,r,s){const a=ze(),c=function bl(t,r,s,a){return fs(t,sa(),s)?r+Ne(s)+a:Cn}(a,t,r,s);return c!==Cn&&sc(a,Gr(),c),P}function $(t,r,s,a,c){const d=ze(),g=function Wc(t,r,s,a,c,d){const v=Mu(t,ji(),s,c);return Ys(2),v?r+Ne(s)+a+Ne(c)+d:Cn}(d,t,r,s,a,c);return g!==Cn&&sc(d,Gr(),g),$}function J(t,r,s,a,c,d,g){const v=ze(),b=xu(v,t,r,s,a,c,d,g);return b!==Cn&&sc(v,Gr(),b),J}const Dh=void 0;var DD=["en",[["a","p"],["AM","PM"],Dh],[["AM","PM"],Dh,Dh],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Dh,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Dh,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Dh,"{1} 'at' {0}",Dh],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function ED(t){const s=Math.floor(Math.abs(t)),a=t.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===a?1:5}];let Yf={};function cI(t){const r=function TD(t){return t.toLowerCase().replace(/_/g,"-")}(t);let s=ew(r);if(s)return s;const a=r.split("-")[0];if(s=ew(a),s)return s;if("en"===a)return DD;throw new nt(701,!1)}function J0(t){return cI(t)[Zf.PluralCase]}function ew(t){return t in Yf||(Yf[t]=$n.ng&&$n.ng.common&&$n.ng.common.locales&&$n.ng.common.locales[t]),Yf[t]}var Zf=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(Zf||{});const Jf="en-US";let tw=Jf;function hI(t,r,s,a,c){if(t=Re(t),Array.isArray(t))for(let d=0;d<t.length;d++)hI(t[d],r,s,a,c);else{const d=un(),g=ze(),v=fi();let b=nc(t)?t:Re(t.provide);const O=Kp(t),V=1048575&v.providerIndexes,Q=v.directiveStart,oe=v.providerIndexes>>20;if(nc(t)||!t.multi){const pe=new Io(O,c,Hc),Ve=pI(b,r,c?V:V+oe,Q);-1===Ve?($o(Ls(v,g),d,b),fI(d,t,r.length),r.push(b),v.directiveStart++,v.directiveEnd++,c&&(v.providerIndexes+=1048576),s.push(pe),g.push(pe)):(s[Ve]=pe,g[Ve]=pe)}else{const pe=pI(b,r,V+oe,Q),Ve=pI(b,r,V,V+oe),Et=Ve>=0&&s[Ve];if(c&&!Et||!c&&!(pe>=0&&s[pe])){$o(Ls(v,g),d,b);const Bt=function ET(t,r,s,a,c){const d=new Io(t,s,Hc);return d.multi=[],d.index=r,d.componentProviders=0,bw(d,c,a&&!s),d}(c?wT:IT,s.length,c,a,O);!c&&Et&&(s[Ve].providerFactory=Bt),fI(d,t,r.length,0),r.push(b),v.directiveStart++,v.directiveEnd++,c&&(v.providerIndexes+=1048576),s.push(Bt),g.push(Bt)}else fI(d,t,pe>-1?pe:Ve,bw(s[c?Ve:pe],O,!c&&a));!c&&a&&Et&&s[Ve].componentProviders++}}}function fI(t,r,s,a){const c=nc(r),d=function Uv(t){return!!t.useClass}(r);if(c||d){const b=(d?Re(r.useClass):r).prototype.ngOnDestroy;if(b){const O=t.destroyHooks||(t.destroyHooks=[]);if(!c&&r.multi){const V=O.indexOf(s);-1===V?O.push(s,[a,b]):O[V+1].push(a,b)}else O.push(s,b)}}}function bw(t,r,s){return s&&t.componentProviders++,t.multi.push(r)-1}function pI(t,r,s,a){for(let c=s;c<a;c++)if(r[c]===t)return c;return-1}function IT(t,r,s,a){return gI(this.multi,[])}function wT(t,r,s,a){const c=this.multi;let d;if(this.providerFactory){const g=this.providerFactory.componentProviders,v=Eo(s,s[yt],this.providerFactory.index,a);d=v.slice(0,g),gI(c,d);for(let b=g;b<v.length;b++)d.push(v[b])}else d=[],gI(c,d);return d}function gI(t,r){for(let s=0;s<t.length;s++)r.push((0,t[s])());return r}function Aw(t,r=[]){return s=>{s.providersResolver=(a,c)=>function _T(t,r,s){const a=un();if(a.firstCreatePass){const c=xi(t);hI(s,a.data,a.blueprint,c,!0),hI(r,a.data,a.blueprint,c,!1)}}(a,c?c(t):t,r)}}class Th{}class Sw{}function DT(t,r){return new mI(t,r??null,[])}class mI extends Th{constructor(r,s,a){super(),this._parent=s,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new h_(this);const c=qn(r);this._bootstrapComponents=Au(c.bootstrap),this._r3Injector=yl(r,s,[{provide:Th,useValue:this},{provide:od,useValue:this.componentFactoryResolver},...a],Gt(r),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(r)}get injector(){return this._r3Injector}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class yI extends Sw{constructor(r){super(),this.moduleType=r}create(r){return new mI(this.moduleType,r,[])}}class Mw extends Th{constructor(r){super(),this.componentFactoryResolver=new h_(this),this.instance=null;const s=new Uc([...r.providers,{provide:Th,useValue:this},{provide:od,useValue:this.componentFactoryResolver}],r.parent||rc(),r.debugName,new Set(["environment"]));this.injector=s,r.runEnvironmentInitializers&&s.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(r){this.injector.onDestroy(r)}}function xw(t,r,s=null){return new Mw({providers:t,parent:r,debugName:s,runEnvironmentInitializers:!0}).injector}let CT=(()=>{class t{constructor(s){this._injector=s,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(s){if(!s.standalone)return null;if(!this.cachedInjectors.has(s)){const a=ef(0,s.type),c=a.length>0?xw([a],this._injector,`Standalone[${s.type.name}]`):null;this.cachedInjectors.set(s,c)}return this.cachedInjectors.get(s)}ngOnDestroy(){try{for(const s of this.cachedInjectors.values())null!==s&&s.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=Xt({token:t,providedIn:"environment",factory:()=>new t(Ae(Ao))})}}return t})();function Nw(t){t.getStandaloneInjector=r=>r.get(CT).getOrCreateStandaloneInjector(t)}function YT(){return this._results[Symbol.iterator]()}class _I{get changes(){return this._changes||(this._changes=new Sa)}constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const s=_I.prototype;s[Symbol.iterator]||(s[Symbol.iterator]=YT)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,s){return this._results.reduce(r,s)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,s){const a=this;a.dirty=!1;const c=function bo(t){return t.flat(Number.POSITIVE_INFINITY)}(r);(this._changesDetected=!function Dc(t,r,s){if(t.length!==r.length)return!1;for(let a=0;a<t.length;a++){let c=t[a],d=r[a];if(s&&(c=s(c),d=s(d)),d!==c)return!1}return!0}(a._results,c,s))&&(a._results=c,a.length=c.length,a.last=c[this.length-1],a.first=c[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function JT(t,r,s,a=!0){const c=r[yt];if(function wv(t,r,s,a){const c=vn+a,d=s.length;a>0&&(s[c-1][Qi]=r),a<d-vn?(r[Qi]=s[c],Wa(s,vn+a,r)):(s.push(r),r[Qi]=null),r[Ln]=s;const g=r[so];null!==g&&s!==g&&function Ev(t,r){const s=t[Si];r[rr]!==r[Ln][Ln][rr]&&(t[ru]=!0),null===s?t[Si]=[r]:s.push(r)}(g,r);const v=r[Yi];null!==v&&v.insertView(t),r[Qt]|=128}(c,r,t,s),a){const d=Ju(s,t),g=r[Yt],v=Ud(g,t[Ui]);null!==v&&function wm(t,r,s,a,c,d){a[vr]=c,a[fr]=r,sl(t,a,s,1,c,d)}(c,t[fr],g,r,v,d)}}let dm=(()=>{class t{static{this.__NG_ELEMENT_ID__=nC}}return t})();const eC=dm,tC=class extends eC{constructor(r,s,a){super(),this._declarationLView=r,this._declarationTContainer=s,this.elementRef=a}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(r,s){return this.createEmbeddedViewImpl(r,s)}createEmbeddedViewImpl(r,s,a){const c=function ZT(t,r,s,a){const c=r.tView,v=Mf(t,c,s,4096&t[Qt]?4096:16,null,r,null,null,null,a?.injector??null,a?.hydrationInfo??null);v[so]=t[r.index];const O=t[Yi];return null!==O&&(v[Yi]=O.createEmbeddedView(c)),Ma(c,v,s),v}(this._declarationLView,this._declarationTContainer,r,{injector:s,hydrationInfo:a});return new Lf(c)}};function nC(){return uv(fi(),ze())}function uv(t,r){return 4&t.type?new tC(r,t,Za(t,r)):null}let lv=(()=>{class t{static{this.__NG_ELEMENT_ID__=uC}}return t})();function uC(){return Qw(fi(),ze())}const cC=lv,Kw=class extends cC{constructor(r,s,a){super(),this._lContainer=r,this._hostTNode=s,this._hostLView=a}get element(){return Za(this._hostTNode,this._hostLView)}get injector(){return new rs(this._hostTNode,this._hostLView)}get parentInjector(){const r=ja(this._hostTNode,this._hostLView);if(Ic(r)){const s=ks(r,this._hostLView),a=ki(r);return new rs(s[yt].data[a+8],s)}return new rs(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const s=qw(this._lContainer);return null!==s&&s[r]||null}get length(){return this._lContainer.length-vn}createEmbeddedView(r,s,a){let c,d;"number"==typeof a?c=a:null!=a&&(c=a.index,d=a.injector);const v=r.createEmbeddedViewImpl(s||{},d,null);return this.insertImpl(v,c,false),v}createComponent(r,s,a,c,d){const g=r&&!function Co(t){return"function"==typeof t}(r);let v;if(g)v=s;else{const et=s||{};v=et.index,a=et.injector,c=et.projectableNodes,d=et.environmentInjector||et.ngModuleRef}const b=g?r:new Ff(qt(r)),O=a||this.parentInjector;if(!d&&null==b.ngModule){const Et=(g?O:this.parentInjector).get(Ao,null);Et&&(d=Et)}qt(b.componentType??{});const pe=b.create(O,c,null,d);return this.insertImpl(pe.hostView,v,false),pe}insert(r,s){return this.insertImpl(r,s,!1)}insertImpl(r,s,a){const c=r._lView;if(function Ed(t){return ni(t[Ln])}(c)){const b=this.indexOf(r);if(-1!==b)this.detach(b);else{const O=c[Ln],V=new Kw(O,O[fr],O[Ln]);V.detach(V.indexOf(r))}}const g=this._adjustIndex(s),v=this._lContainer;return JT(v,c,g,!a),r.attachToViewContainerRef(),Wa(II(v),g,r),r}move(r,s){return this.insert(r,s)}indexOf(r){const s=qw(this._lContainer);return null!==s?s.indexOf(r):-1}remove(r){const s=this._adjustIndex(r,-1),a=Jl(this._lContainer,s);a&&(Ka(II(this._lContainer),s),vp(a[yt],a))}detach(r){const s=this._adjustIndex(r,-1),a=Jl(this._lContainer,s);return a&&null!=Ka(II(this._lContainer),s)?new Lf(a):null}_adjustIndex(r,s=0){return r??this.length+s}};function qw(t){return t[8]}function II(t){return t[8]||(t[8]=[])}function Qw(t,r){let s;const a=r[t.index];return ni(a)?s=a:(s=Ug(a,r,null,t),r[t.index]=s,Pf(r,s)),Xw(s,r,t,a),new Kw(s,t,r)}let Xw=function Yw(t,r,s,a){if(t[Ui])return;let c;c=8&s.type?Pe(a):function lC(t,r){const s=t[Yt],a=s.createComment(""),c=Nr(r,t);return rl(s,Ud(s,c),a,function Dv(t,r){return t.nextSibling(r)}(s,c),!1),a}(r,s),t[Ui]=c};class wI{constructor(r){this.queryList=r,this.matches=null}clone(){return new wI(this.queryList)}setDirty(){this.queryList.setDirty()}}class EI{constructor(r=[]){this.queries=r}createEmbeddedView(r){const s=r.queries;if(null!==s){const a=null!==r.contentQueries?r.contentQueries[0]:s.length,c=[];for(let d=0;d<a;d++){const g=s.getByIndex(d);c.push(this.queries[g.indexInDeclarationView].clone())}return new EI(c)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let s=0;s<this.queries.length;s++)null!==sE(r,s).matches&&this.queries[s].setDirty()}}class Zw{constructor(r,s,a=null){this.predicate=r,this.flags=s,this.read=a}}class DI{constructor(r=[]){this.queries=r}elementStart(r,s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementStart(r,s)}elementEnd(r){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(r)}embeddedTView(r){let s=null;for(let a=0;a<this.length;a++){const c=null!==s?s.length:0,d=this.getByIndex(a).embeddedTView(r,c);d&&(d.indexInDeclarationView=a,null!==s?s.push(d):s=[d])}return null!==s?new DI(s):null}template(r,s){for(let a=0;a<this.queries.length;a++)this.queries[a].template(r,s)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class TI{constructor(r,s=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(r,s){this.isApplyingToNode(s)&&this.matchTNode(r,s)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,s){this.elementStart(r,s)}embeddedTView(r,s){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,s),new TI(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const s=this._declarationNodeIndex;let a=r.parent;for(;null!==a&&8&a.type&&a.index!==s;)a=a.parent;return s===(null!==a?a.index:-1)}return this._appliesToNextNode}matchTNode(r,s){const a=this.metadata.predicate;if(Array.isArray(a))for(let c=0;c<a.length;c++){const d=a[c];this.matchTNodeWithReadOption(r,s,fC(s,d)),this.matchTNodeWithReadOption(r,s,zu(s,r,d,!1,!1))}else a===dm?4&s.type&&this.matchTNodeWithReadOption(r,s,-1):this.matchTNodeWithReadOption(r,s,zu(s,r,a,!1,!1))}matchTNodeWithReadOption(r,s,a){if(null!==a){const c=this.metadata.read;if(null!==c)if(c===gl||c===lv||c===dm&&4&s.type)this.addMatch(s.index,-2);else{const d=zu(s,r,c,!1,!1);null!==d&&this.addMatch(s.index,d)}else this.addMatch(s.index,a)}}addMatch(r,s){null===this.matches?this.matches=[r,s]:this.matches.push(r,s)}}function fC(t,r){const s=t.localNames;if(null!==s)for(let a=0;a<s.length;a+=2)if(s[a]===r)return s[a+1];return null}function gC(t,r,s,a){return-1===s?function pC(t,r){return 11&t.type?Za(t,r):4&t.type?uv(t,r):null}(r,t):-2===s?function mC(t,r,s){return s===gl?Za(r,t):s===dm?uv(r,t):s===lv?Qw(r,t):void 0}(t,r,a):Eo(t,t[yt],s,r)}function Jw(t,r,s,a){const c=r[Yi].queries[a];if(null===c.matches){const d=t.data,g=s.matches,v=[];for(let b=0;b<g.length;b+=2){const O=g[b];v.push(O<0?null:gC(r,d[O],g[b+1],s.metadata.read))}c.matches=v}return c.matches}function CI(t,r,s,a){const c=t.queries.getByIndex(s),d=c.matches;if(null!==d){const g=Jw(t,r,c,s);for(let v=0;v<d.length;v+=2){const b=d[v];if(b>0)a.push(g[v/2]);else{const O=d[v+1],V=r[-b];for(let Q=vn;Q<V.length;Q++){const oe=V[Q];oe[so]===oe[Ln]&&CI(oe[yt],oe,O,a)}if(null!==V[Si]){const Q=V[Si];for(let oe=0;oe<Q.length;oe++){const pe=Q[oe];CI(pe[yt],pe,O,a)}}}}}return a}function eE(t){const r=ze(),s=un(),a=C();N(a+1);const c=sE(s,a);if(t.dirty&&function dc(t){return 4==(4&t[Qt])}(r)===(2==(2&c.metadata.flags))){if(null===c.matches)t.reset([]);else{const d=c.crossesNgTemplate?CI(s,r,a,[]):Jw(s,r,c,a);t.reset(d,$v),t.notifyOnChanges()}return!0}return!1}function tE(t,r,s,a){const c=un();if(c.firstCreatePass){const d=fi();(function iE(t,r,s){null===t.queries&&(t.queries=new DI),t.queries.track(new TI(r,s))})(c,new Zw(r,s,a),d.index),function _C(t,r){const s=t.contentQueries||(t.contentQueries=[]);r!==(s.length?s[s.length-1]:-1)&&s.push(t.queries.length-1,r)}(c,t),2==(2&s)&&(c.staticContentQueries=!0)}!function rE(t,r,s){const a=new _I(4==(4&s));(function Jv(t,r,s,a){const c=hh(r);c.push(s),t.firstCreatePass&&sr(t).push(a,c.length-1)})(t,r,a,a.destroy),null===r[Yi]&&(r[Yi]=new EI),r[Yi].queries.push(new wI(a))}(c,ze(),s)}function nE(){return function vC(t,r){return t[Yi].queries[r].queryList}(ze(),C())}function sE(t,r){return t.queries.getByIndex(r)}function bI(t){return!!qn(t)}const EE=new It("Application Initializer");let NI=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((s,a)=>{this.resolve=s,this.reject=a}),this.appInits=ke(EE,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const s=[];for(const c of this.appInits){const d=c();if(zy(d))s.push(d);else if(U_(d)){const g=new Promise((v,b)=>{d.subscribe({complete:v,error:b})});s.push(g)}}const a=()=>{this.done=!0,this.resolve()};Promise.all(s).then(()=>{a()}).catch(c=>{this.reject(c)}),0===s.length&&a(),this.initialized=!0}static{this.\u0275fac=function(a){return new(a||t)}}static{this.\u0275prov=Xt({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),DE=(()=>{class t{log(s){console.log(s)}warn(s){console.warn(s)}static{this.\u0275fac=function(a){return new(a||t)}}static{this.\u0275prov=Xt({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();const hv=new It("LocaleId",{providedIn:"root",factory:()=>ke(hv,Lt.Optional|Lt.SkipSelf)||function jC(){return typeof $localize<"u"&&$localize.locale||Jf}()}),$C=new It("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let TE=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new re.t(!1)}add(){this.hasPendingTasks.next(!0);const s=this.taskId++;return this.pendingTasks.add(s),s}remove(s){this.pendingTasks.delete(s),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static{this.\u0275fac=function(a){return new(a||t)}}static{this.\u0275prov=Xt({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();class zC{constructor(r,s){this.ngModuleFactory=r,this.componentFactories=s}}let GC=(()=>{class t{compileModuleSync(s){return new yI(s)}compileModuleAsync(s){return Promise.resolve(this.compileModuleSync(s))}compileModuleAndAllComponentsSync(s){const a=this.compileModuleSync(s),d=Au(qn(s).declarations).reduce((g,v)=>{const b=qt(v);return b&&g.push(new Ff(b)),g},[]);return new zC(a,d)}compileModuleAndAllComponentsAsync(s){return Promise.resolve(this.compileModuleAndAllComponentsSync(s))}clearCache(){}clearCacheFor(s){}getModuleId(s){}static{this.\u0275fac=function(a){return new(a||t)}}static{this.\u0275prov=Xt({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();const SE=new It(""),ME=new It("");let PI,fb=(()=>{class t{constructor(s,a,c){this._ngZone=s,this.registry=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,PI||(function pb(t){PI=t}(c),c.addToWindow(a)),this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ts.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb(this._didWork)}this._didWork=!1});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(a=>!a.updateCb||!a.updateCb(s)||(clearTimeout(a.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,a,c){let d=-1;a&&a>0&&(d=setTimeout(()=>{this._callbacks=this._callbacks.filter(g=>g.timeoutId!==d),s(this._didWork,this.getPendingTasks())},a)),this._callbacks.push({doneCb:s,timeoutId:d,updateCb:c})}whenStable(s,a,c){if(c&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,a,c),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(s){this.registry.registerApplication(s,this)}unregisterApplication(s){this.registry.unregisterApplication(s)}findProviders(s,a,c){return[]}static{this.\u0275fac=function(a){return new(a||t)(Ae(Ts),Ae(xE),Ae(ME))}}static{this.\u0275prov=Xt({token:t,factory:t.\u0275fac})}}return t})(),xE=(()=>{class t{constructor(){this._applications=new Map}registerApplication(s,a){this._applications.set(s,a)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,a=!0){return PI?.findTestabilityInTree(this,s,a)??null}static{this.\u0275fac=function(a){return new(a||t)}}static{this.\u0275prov=Xt({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})(),wd=null;const NE=new It("AllowMultipleToken"),kI=new It("PlatformDestroyListeners"),LI=new It("appBootstrapListener");class yb{constructor(r,s){this.name=r,this.token=s}}function PE(t,r,s=[]){const a=`Platform: ${r}`,c=new It(a);return(d=[])=>{let g=FI();if(!g||g.injector.get(NE,!1)){const v=[...s,...d,{provide:c,useValue:!0}];t?t(v):function vb(t){if(wd&&!wd.get(NE,!1))throw new nt(400,!1);(function RE(){!function k(t){F=t}(()=>{throw new nt(600,!1)})})(),wd=t;const r=t.get(LE);(function OE(t){t.get(qd,null)?.forEach(s=>s())})(t)}(function kE(t=[],r){return Aa.create({name:r,providers:[{provide:tf,useValue:"platform"},{provide:kI,useValue:new Set([()=>wd=null])},...t]})}(v,a))}return function Ib(t){const r=FI();if(!r)throw new nt(401,!1);return r}()}}function FI(){return wd?.get(LE)??null}let LE=(()=>{class t{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,a){const c=function wb(t="zone.js",r){return"noop"===t?new Kv:"zone.js"===t?new Ts(r):t}(a?.ngZone,function FE(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:a?.ngZoneEventCoalescing,runCoalescing:a?.ngZoneRunCoalescing}));return c.run(()=>{const d=function TT(t,r,s){return new mI(t,r,s)}(s.moduleType,this.injector,function $E(t){return[{provide:Ts,useFactory:t},{provide:zd,multi:!0,useFactory:()=>{const r=ke(Db,{optional:!0});return()=>r.initialize()}},{provide:jE,useFactory:Eb},{provide:_f,useFactory:If}]}(()=>c)),g=d.injector.get(bu,null);return c.runOutsideAngular(()=>{const v=c.onError.subscribe({next:b=>{g.handleError(b)}});d.onDestroy(()=>{pv(this._modules,d),v.unsubscribe()})}),function UE(t,r,s){try{const a=s();return zy(a)?a.catch(c=>{throw r.runOutsideAngular(()=>t.handleError(c)),c}):a}catch(a){throw r.runOutsideAngular(()=>t.handleError(a)),a}}(g,c,()=>{const v=d.injector.get(NI);return v.runInitializers(),v.donePromise.then(()=>(function nw(t){An(t,"Expected localeId to be defined"),"string"==typeof t&&(tw=t.toLowerCase().replace(/_/g,"-"))}(d.injector.get(hv,Jf)||Jf),this._moduleDoBootstrap(d),d))})})}bootstrapModule(s,a=[]){const c=VE({},a);return function gb(t,r,s){const a=new yI(s);return Promise.resolve(a)}(0,0,s).then(d=>this.bootstrapModuleFactory(d,c))}_moduleDoBootstrap(s){const a=s.injector.get(np);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(c=>a.bootstrap(c));else{if(!s.instance.ngDoBootstrap)throw new nt(-403,!1);s.instance.ngDoBootstrap(a)}this._modules.push(s)}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new nt(404,!1);this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a());const s=this._injector.get(kI,null);s&&(s.forEach(a=>a()),s.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static{this.\u0275fac=function(a){return new(a||t)(Ae(Aa))}}static{this.\u0275prov=Xt({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();function VE(t,r){return Array.isArray(r)?r.reduce(VE,t):{...t,...r}}let np=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=ke(jE),this.zoneIsStable=ke(_f),this.componentTypes=[],this.components=[],this.isStable=ke(TE).hasPendingTasks.pipe((0,st.n)(s=>s?(0,ee.of)(!1):this.zoneIsStable),(0,$t.F)(),de()),this._injector=ke(Ao)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(s,a){const c=s instanceof Wm;if(!this._injector.get(NI).done)throw!c&&Ti(s),new nt(405,!1);let g;g=c?s:this._injector.get(od).resolveComponentFactory(s),this.componentTypes.push(g.componentType);const v=function mb(t){return t.isBoundToModule}(g)?void 0:this._injector.get(Th),O=g.create(Aa.NULL,[],a||g.selector,v),V=O.location.nativeElement,Q=O.injector.get(SE,null);return Q?.registerApplication(V),O.onDestroy(()=>{this.detachView(O.hostView),pv(this.components,O),Q?.unregisterApplication(V)}),this._loadComponent(O),O}tick(){if(this._runningTick)throw new nt(101,!1);try{this._runningTick=!0;for(let s of this._views)s.detectChanges()}catch(s){this.internalErrorHandler(s)}finally{this._runningTick=!1}}attachView(s){const a=s;this._views.push(a),a.attachToAppRef(this)}detachView(s){const a=s;pv(this._views,a),a.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s);const a=this._injector.get(LI,[]);a.push(...this._bootstrapListeners),a.forEach(c=>c(s))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(s=>s()),this._views.slice().forEach(s=>s.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(s){return this._destroyListeners.push(s),()=>pv(this._destroyListeners,s)}destroy(){if(this._destroyed)throw new nt(406,!1);const s=this._injector;s.destroy&&!s.destroyed&&s.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(a){return new(a||t)}}static{this.\u0275prov=Xt({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function pv(t,r){const s=t.indexOf(r);s>-1&&t.splice(s,1)}const jE=new It("",{providedIn:"root",factory:()=>ke(bu).handleError.bind(void 0)});function Eb(){const t=ke(Ts),r=ke(bu);return s=>t.runOutsideAngular(()=>r.handleError(s))}let Db=(()=>{class t{constructor(){this.zone=ke(Ts),this.applicationRef=ke(np)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(a){return new(a||t)}}static{this.\u0275prov=Xt({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();let Cb=(()=>{class t{static{this.__NG_ELEMENT_ID__=bb}}return t})();function bb(t){return function Ab(t,r,s){if(as(t)&&!s){const a=Ri(t.index,r);return new Lf(a,a)}return 47&t.type?new Lf(r[rr],r):null}(fi(),ze(),16==(16&t))}class KE{constructor(){}supports(r){return mh(r)}create(r){return new Rb(r)}}const Nb=(t,r)=>r;class Rb{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||Nb}forEachItem(r){let s;for(s=this._itHead;null!==s;s=s._next)r(s)}forEachOperation(r){let s=this._itHead,a=this._removalsHead,c=0,d=null;for(;s||a;){const g=!a||s&&s.currentIndex<QE(a,c,d)?s:a,v=QE(g,c,d),b=g.currentIndex;if(g===a)c--,a=a._nextRemoved;else if(s=s._next,null==g.previousIndex)c++;else{d||(d=[]);const O=v-c,V=b-c;if(O!=V){for(let oe=0;oe<O;oe++){const pe=oe<d.length?d[oe]:d[oe]=0,Ve=pe+oe;V<=Ve&&Ve<O&&(d[oe]=pe+1)}d[g.previousIndex]=V-O}}v!==b&&r(g,v,b)}}forEachPreviousItem(r){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachMovedItem(r){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}forEachIdentityChange(r){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)r(s)}diff(r){if(null==r&&(r=[]),!mh(r))throw new nt(900,!1);return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let c,d,g,s=this._itHead,a=!1;if(Array.isArray(r)){this.length=r.length;for(let v=0;v<this.length;v++)d=r[v],g=this._trackByFn(v,d),null!==s&&Object.is(s.trackById,g)?(a&&(s=this._verifyReinsertion(s,d,g,v)),Object.is(s.item,d)||this._addIdentityChange(s,d)):(s=this._mismatch(s,d,g,v),a=!0),s=s._next}else c=0,function Ry(t,r){if(Array.isArray(t))for(let s=0;s<t.length;s++)r(t[s]);else{const s=t[Symbol.iterator]();let a;for(;!(a=s.next()).done;)r(a.value)}}(r,v=>{g=this._trackByFn(c,v),null!==s&&Object.is(s.trackById,g)?(a&&(s=this._verifyReinsertion(s,v,g,c)),Object.is(s.item,v)||this._addIdentityChange(s,v)):(s=this._mismatch(s,v,g,c),a=!0),s=s._next,c++}),this.length=c;return this._truncate(s),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,s,a,c){let d;return null===r?d=this._itTail:(d=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._reinsertAfter(r,d,c)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(a,c))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._moveAfter(r,d,c)):r=this._addAfter(new Ob(s,a),d,c),r}_verifyReinsertion(r,s,a,c){let d=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null);return null!==d?r=this._reinsertAfter(d,r._prev,c):r.currentIndex!=c&&(r.currentIndex=c,this._addToMoves(r,c)),r}_truncate(r){for(;null!==r;){const s=r._next;this._addToRemovals(this._unlink(r)),r=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,s,a){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const c=r._prevRemoved,d=r._nextRemoved;return null===c?this._removalsHead=d:c._nextRemoved=d,null===d?this._removalsTail=c:d._prevRemoved=c,this._insertAfter(r,s,a),this._addToMoves(r,a),r}_moveAfter(r,s,a){return this._unlink(r),this._insertAfter(r,s,a),this._addToMoves(r,a),r}_addAfter(r,s,a){return this._insertAfter(r,s,a),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,s,a){const c=null===s?this._itHead:s._next;return r._next=c,r._prev=s,null===c?this._itTail=r:c._prev=r,null===s?this._itHead=r:s._next=r,null===this._linkedRecords&&(this._linkedRecords=new qE),this._linkedRecords.put(r),r.currentIndex=a,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const s=r._prev,a=r._next;return null===s?this._itHead=a:s._next=a,null===a?this._itTail=s:a._prev=s,r}_addToMoves(r,s){return r.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new qE),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,s){return r.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class Ob{constructor(r,s){this.item=r,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Pb{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,s){let a;for(a=this._head;null!==a;a=a._nextDup)if((null===s||s<=a.currentIndex)&&Object.is(a.trackById,r))return a;return null}remove(r){const s=r._prevDup,a=r._nextDup;return null===s?this._head=a:s._nextDup=a,null===a?this._tail=s:a._prevDup=s,null===this._head}}class qE{constructor(){this.map=new Map}put(r){const s=r.trackById;let a=this.map.get(s);a||(a=new Pb,this.map.set(s,a)),a.add(r)}get(r,s){const c=this.map.get(r);return c?c.get(r,s):null}remove(r){const s=r.trackById;return this.map.get(s).remove(r)&&this.map.delete(s),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function QE(t,r,s){const a=t.previousIndex;if(null===a)return a;let c=0;return s&&a<s.length&&(c=s[a]),a+r+c}class XE{constructor(){}supports(r){return r instanceof Map||Hf(r)}create(){return new kb}}class kb{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let s;for(s=this._mapHead;null!==s;s=s._next)r(s)}forEachPreviousItem(r){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)r(s)}forEachChangedItem(r){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}diff(r){if(r){if(!(r instanceof Map||Hf(r)))throw new nt(900,!1)}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(r,(a,c)=>{if(s&&s.key===c)this._maybeAddToChanges(s,a),this._appendAfter=s,s=s._next;else{const d=this._getOrCreateRecordForKey(c,a);s=this._insertBeforeOrAppend(s,d)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let a=s;null!==a;a=a._nextRemoved)a===this._mapHead&&(this._mapHead=null),this._records.delete(a.key),a._nextRemoved=a._next,a.previousValue=a.currentValue,a.currentValue=null,a._prev=null,a._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,s){if(r){const a=r._prev;return s._next=r,s._prev=a,r._prev=s,a&&(a._next=s),r===this._mapHead&&(this._mapHead=s),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(r,s){if(this._records.has(r)){const c=this._records.get(r);this._maybeAddToChanges(c,s);const d=c._prev,g=c._next;return d&&(d._next=g),g&&(g._prev=d),c._next=null,c._prev=null,c}const a=new Lb(r);return this._records.set(r,a),a.currentValue=s,this._addToAdditions(a),a}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,s){Object.is(s,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=s,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,s){r instanceof Map?r.forEach(s):Object.keys(r).forEach(a=>s(r[a],a))}}class Lb{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function YE(){return new $I([new KE])}let $I=(()=>{class t{static{this.\u0275prov=Xt({token:t,providedIn:"root",factory:YE})}constructor(s){this.factories=s}static create(s,a){if(null!=a){const c=a.factories.slice();s=s.concat(c)}return new t(s)}static extend(s){return{provide:t,useFactory:a=>t.create(s,a||YE()),deps:[[t,new Ad,new Hl]]}}find(s){const a=this.factories.find(c=>c.supports(s));if(null!=a)return a;throw new nt(901,!1)}}return t})();function ZE(){return new HI([new XE])}let HI=(()=>{class t{static{this.\u0275prov=Xt({token:t,providedIn:"root",factory:ZE})}constructor(s){this.factories=s}static create(s,a){if(a){const c=a.factories.slice();s=s.concat(c)}return new t(s)}static extend(s){return{provide:t,useFactory:a=>t.create(s,a||ZE()),deps:[[t,new Ad,new Hl]]}}find(s){const a=this.factories.find(c=>c.supports(s));if(a)return a;throw new nt(901,!1)}}return t})();const Vb=PE(null,"core",[]);let Bb=(()=>{class t{constructor(s){}static{this.\u0275fac=function(a){return new(a||t)(Ae(np))}}static{this.\u0275mod=Hs({type:t})}static{this.\u0275inj=wr({})}}return t})();function Yb(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function Jb(t){const r=qt(t);if(!r)return null;const s=new Ff(r);return{get selector(){return s.selector},get type(){return s.componentType},get inputs(){return s.inputs},get outputs(){return s.outputs},get ngContentSelectors(){return s.ngContentSelectors},get isStandalone(){return r.standalone},get isSignal(){return r.signals}}}},2979:(jt,He,K)=>{K.d(He,{MF:()=>mi,j6:()=>lr,om:()=>Xn,Sx:()=>Vr,Dk:()=>ei,Wp:()=>$n,KO:()=>Br});var S=K(467),ie=K(8779),ce=K(5398),we=K(1401);const fe=(Ae,Ee)=>Ee.some(ke=>Ae instanceof ke);let q,Z;const re=new WeakMap,ee=new WeakMap,ge=new WeakMap,Le=new WeakMap,de=new WeakMap;let $t={get(Ae,Ee,ke){if(Ae instanceof IDBTransaction){if("done"===Ee)return ee.get(Ae);if("objectStoreNames"===Ee)return Ae.objectStoreNames||ge.get(Ae);if("store"===Ee)return ke.objectStoreNames[1]?void 0:ke.objectStore(ke.objectStoreNames[0])}return Ze(Ae[Ee])},set:(Ae,Ee,ke)=>(Ae[Ee]=ke,!0),has:(Ae,Ee)=>Ae instanceof IDBTransaction&&("done"===Ee||"store"===Ee)||Ee in Ae};function Gt(Ae){return"function"==typeof Ae?function bn(Ae){return Ae!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function je(){return Z||(Z=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Ae)?function(...Ee){return Ae.apply(Je(this),Ee),Ze(re.get(this))}:function(...Ee){return Ze(Ae.apply(Je(this),Ee))}:function(Ee,...ke){const St=Ae.call(Je(this),Ee,...ke);return ge.set(St,Ee.sort?Ee.sort():[Ee]),Ze(St)}}(Ae):(Ae instanceof IDBTransaction&&function st(Ae){if(ee.has(Ae))return;const Ee=new Promise((ke,St)=>{const zt=()=>{Ae.removeEventListener("complete",Kt),Ae.removeEventListener("error",pn),Ae.removeEventListener("abort",pn)},Kt=()=>{ke(),zt()},pn=()=>{St(Ae.error||new DOMException("AbortError","AbortError")),zt()};Ae.addEventListener("complete",Kt),Ae.addEventListener("error",pn),Ae.addEventListener("abort",pn)});ee.set(Ae,Ee)}(Ae),fe(Ae,function Xe(){return q||(q=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Ae,$t):Ae)}function Ze(Ae){if(Ae instanceof IDBRequest)return function ut(Ae){const Ee=new Promise((ke,St)=>{const zt=()=>{Ae.removeEventListener("success",Kt),Ae.removeEventListener("error",pn)},Kt=()=>{ke(Ze(Ae.result)),zt()},pn=()=>{St(Ae.error),zt()};Ae.addEventListener("success",Kt),Ae.addEventListener("error",pn)});return Ee.then(ke=>{ke instanceof IDBCursor&&re.set(ke,Ae)}).catch(()=>{}),de.set(Ee,Ae),Ee}(Ae);if(Le.has(Ae))return Le.get(Ae);const Ee=Gt(Ae);return Ee!==Ae&&(Le.set(Ae,Ee),de.set(Ee,Ae)),Ee}const Je=Ae=>de.get(Ae),dt=["get","getKey","getAll","getAllKeys","count"],Ge=["put","add","delete","clear"],Mt=new Map;function hn(Ae,Ee){if(!(Ae instanceof IDBDatabase)||Ee in Ae||"string"!=typeof Ee)return;if(Mt.get(Ee))return Mt.get(Ee);const ke=Ee.replace(/FromIndex$/,""),St=Ee!==ke,zt=Ge.includes(ke);if(!(ke in(St?IDBIndex:IDBObjectStore).prototype)||!zt&&!dt.includes(ke))return;const Kt=function(){var pn=(0,S.A)(function*(Pr,...tr){const yr=this.transaction(Pr,zt?"readwrite":"readonly");let os=yr.store;return St&&(os=os.index(tr.shift())),(yield Promise.all([os[ke](...tr),zt&&yr.done]))[0]});return function(tr){return pn.apply(this,arguments)}}();return Mt.set(Ee,Kt),Kt}!function lt(Ae){$t=Ae($t)}(Ae=>({...Ae,get:(Ee,ke,St)=>hn(Ee,ke)||Ae.get(Ee,ke,St),has:(Ee,ke)=>!!hn(Ee,ke)||Ae.has(Ee,ke)}));class nt{constructor(Ee){this.container=Ee}getPlatformInfoString(){return this.container.getProviders().map(ke=>{if(function ur(Ae){const Ee=Ae.getComponent();return"VERSION"===Ee?.type}(ke)){const St=ke.getImmediate();return`${St.library}/${St.version}`}return null}).filter(ke=>ke).join(" ")}}const Ne="@firebase/app",Pn=new ce.Vy("@firebase/app"),jn="[DEFAULT]",rn={[Ne]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},en=new Map,kn=new Map;function mr(Ae,Ee){try{Ae.container.addComponent(Ee)}catch(ke){Pn.debug(`Component ${Ee.name} failed to register with FirebaseApp ${Ae.name}`,ke)}}function Xn(Ae){const Ee=Ae.name;if(kn.has(Ee))return Pn.debug(`There were multiple attempts to register component ${Ee}.`),!1;kn.set(Ee,Ae);for(const ke of en.values())mr(ke,Ae);return!0}function lr(Ae,Ee){const ke=Ae.container.getProvider("heartbeat").getImmediate({optional:!0});return ke&&ke.triggerHeartbeat(),Ae.container.getProvider(Ee)}const kt=new we.FA("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Di{constructor(Ee,ke,St){this._isDeleted=!1,this._options=Object.assign({},Ee),this._config=Object.assign({},ke),this._name=ke.name,this._automaticDataCollectionEnabled=ke.automaticDataCollectionEnabled,this._container=St,this.container.addComponent(new ie.uA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ee){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ee}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ee){this._isDeleted=Ee}checkDestroyed(){if(this.isDeleted)throw kt.create("app-deleted",{appName:this._name})}}const mi="9.23.0";function $n(Ae,Ee={}){let ke=Ae;"object"!=typeof Ee&&(Ee={name:Ee});const St=Object.assign({name:jn,automaticDataCollectionEnabled:!1},Ee),zt=St.name;if("string"!=typeof zt||!zt)throw kt.create("bad-app-name",{appName:String(zt)});if(ke||(ke=(0,we.T9)()),!ke)throw kt.create("no-options");const Kt=en.get(zt);if(Kt){if((0,we.bD)(ke,Kt.options)&&(0,we.bD)(St,Kt.config))return Kt;throw kt.create("duplicate-app",{appName:zt})}const pn=new ie.h1(zt);for(const tr of kn.values())pn.addComponent(tr);const Pr=new Di(ke,St,pn);return en.set(zt,Pr),Pr}function Vr(Ae=jn){const Ee=en.get(Ae);if(!Ee&&Ae===jn&&(0,we.T9)())return $n();if(!Ee)throw kt.create("no-app",{appName:Ae});return Ee}function ei(){return Array.from(en.values())}function Br(Ae,Ee,ke){var St;let zt=null!==(St=rn[Ae])&&void 0!==St?St:Ae;ke&&(zt+=`-${ke}`);const Kt=zt.match(/\s|\//),pn=Ee.match(/\s|\//);if(Kt||pn){const Pr=[`Unable to register library "${zt}" with version "${Ee}":`];return Kt&&Pr.push(`library name "${zt}" contains illegal characters (whitespace or "/")`),Kt&&pn&&Pr.push("and"),pn&&Pr.push(`version name "${Ee}" contains illegal characters (whitespace or "/")`),void Pn.warn(Pr.join(" "))}Xn(new ie.uA(`${zt}-version`,()=>({library:zt,version:Ee}),"VERSION"))}const fn="firebase-heartbeat-database",dr=1,te="firebase-heartbeat-store";let B=null;function H(){return B||(B=function Qe(Ae,Ee,{blocked:ke,upgrade:St,blocking:zt,terminated:Kt}={}){const pn=indexedDB.open(Ae,Ee),Pr=Ze(pn);return St&&pn.addEventListener("upgradeneeded",tr=>{St(Ze(pn.result),tr.oldVersion,tr.newVersion,Ze(pn.transaction),tr)}),ke&&pn.addEventListener("blocked",tr=>ke(tr.oldVersion,tr.newVersion,tr)),Pr.then(tr=>{Kt&&tr.addEventListener("close",()=>Kt()),zt&&tr.addEventListener("versionchange",yr=>zt(yr.oldVersion,yr.newVersion,yr))}).catch(()=>{}),Pr}(fn,dr,{upgrade:(Ae,Ee)=>{0===Ee&&Ae.createObjectStore(te)}}).catch(Ae=>{throw kt.create("idb-open",{originalErrorMessage:Ae.message})})),B}function G(){return(G=(0,S.A)(function*(Ae){try{return yield(yield H()).transaction(te).objectStore(te).get(ct(Ae))}catch(Ee){if(Ee instanceof we.g)Pn.warn(Ee.message);else{const ke=kt.create("idb-get",{originalErrorMessage:Ee?.message});Pn.warn(ke.message)}}})).apply(this,arguments)}function le(Ae,Ee){return $e.apply(this,arguments)}function $e(){return($e=(0,S.A)(function*(Ae,Ee){try{const St=(yield H()).transaction(te,"readwrite");yield St.objectStore(te).put(Ee,ct(Ae)),yield St.done}catch(ke){if(ke instanceof we.g)Pn.warn(ke.message);else{const St=kt.create("idb-set",{originalErrorMessage:ke?.message});Pn.warn(St.message)}}})).apply(this,arguments)}function ct(Ae){return`${Ae.name}!${Ae.options.appId}`}class Sn{constructor(Ee){this.container=Ee,this._heartbeatsCache=null;const ke=this.container.getProvider("app").getImmediate();this._storage=new ci(ke),this._heartbeatsCachePromise=this._storage.read().then(St=>(this._heartbeatsCache=St,St))}triggerHeartbeat(){var Ee=this;return(0,S.A)(function*(){const St=Ee.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),zt=tn();if(null===Ee._heartbeatsCache&&(Ee._heartbeatsCache=yield Ee._heartbeatsCachePromise),Ee._heartbeatsCache.lastSentHeartbeatDate!==zt&&!Ee._heartbeatsCache.heartbeats.some(Kt=>Kt.date===zt))return Ee._heartbeatsCache.heartbeats.push({date:zt,agent:St}),Ee._heartbeatsCache.heartbeats=Ee._heartbeatsCache.heartbeats.filter(Kt=>{const pn=new Date(Kt.date).valueOf();return Date.now()-pn<=2592e6}),Ee._storage.overwrite(Ee._heartbeatsCache)})()}getHeartbeatsHeader(){var Ee=this;return(0,S.A)(function*(){if(null===Ee._heartbeatsCache&&(yield Ee._heartbeatsCachePromise),null===Ee._heartbeatsCache||0===Ee._heartbeatsCache.heartbeats.length)return"";const ke=tn(),{heartbeatsToSend:St,unsentEntries:zt}=function zn(Ae,Ee=1024){const ke=[];let St=Ae.slice();for(const zt of Ae){const Kt=ke.find(pn=>pn.agent===zt.agent);if(Kt){if(Kt.dates.push(zt.date),Or(ke)>Ee){Kt.dates.pop();break}}else if(ke.push({agent:zt.agent,dates:[zt.date]}),Or(ke)>Ee){ke.pop();break}St=St.slice(1)}return{heartbeatsToSend:ke,unsentEntries:St}}(Ee._heartbeatsCache.heartbeats),Kt=(0,we.Uj)(JSON.stringify({version:2,heartbeats:St}));return Ee._heartbeatsCache.lastSentHeartbeatDate=ke,zt.length>0?(Ee._heartbeatsCache.heartbeats=zt,yield Ee._storage.overwrite(Ee._heartbeatsCache)):(Ee._heartbeatsCache.heartbeats=[],Ee._storage.overwrite(Ee._heartbeatsCache)),Kt})()}}function tn(){return(new Date).toISOString().substring(0,10)}class ci{constructor(Ee){this.app=Ee,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,S.A)(function*(){return!!(0,we.zW)()&&(0,we.eX)().then(()=>!0).catch(()=>!1)})()}read(){var Ee=this;return(0,S.A)(function*(){return(yield Ee._canUseIndexedDBPromise)&&(yield function j(Ae){return G.apply(this,arguments)}(Ee.app))||{heartbeats:[]}})()}overwrite(Ee){var ke=this;return(0,S.A)(function*(){var St;if(yield ke._canUseIndexedDBPromise){const Kt=yield ke.read();return le(ke.app,{lastSentHeartbeatDate:null!==(St=Ee.lastSentHeartbeatDate)&&void 0!==St?St:Kt.lastSentHeartbeatDate,heartbeats:Ee.heartbeats})}})()}add(Ee){var ke=this;return(0,S.A)(function*(){var St;if(yield ke._canUseIndexedDBPromise){const Kt=yield ke.read();return le(ke.app,{lastSentHeartbeatDate:null!==(St=Ee.lastSentHeartbeatDate)&&void 0!==St?St:Kt.lastSentHeartbeatDate,heartbeats:[...Kt.heartbeats,...Ee.heartbeats]})}})()}}function Or(Ae){return(0,we.Uj)(JSON.stringify({version:2,heartbeats:Ae})).length}!function gs(Ae){Xn(new ie.uA("platform-logger",Ee=>new nt(Ee),"PRIVATE")),Xn(new ie.uA("heartbeat",Ee=>new Sn(Ee),"PRIVATE")),Br(Ne,"0.9.13",Ae),Br(Ne,"0.9.13","esm2017"),Br("fire-js","")}("")},8779:(jt,He,K)=>{K.d(He,{h1:()=>Xe,uA:()=>ce});var S=K(467),ie=K(1401);class ce{constructor(re,ee,ge){this.name=re,this.instanceFactory=ee,this.type=ge,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(re){return this.instantiationMode=re,this}setMultipleInstances(re){return this.multipleInstances=re,this}setServiceProps(re){return this.serviceProps=re,this}setInstanceCreatedCallback(re){return this.onInstanceCreated=re,this}}const we="[DEFAULT]";class fe{constructor(re,ee){this.name=re,this.container=ee,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(re){const ee=this.normalizeInstanceIdentifier(re);if(!this.instancesDeferred.has(ee)){const ge=new ie.cY;if(this.instancesDeferred.set(ee,ge),this.isInitialized(ee)||this.shouldAutoInitialize())try{const Le=this.getOrInitializeService({instanceIdentifier:ee});Le&&ge.resolve(Le)}catch{}}return this.instancesDeferred.get(ee).promise}getImmediate(re){var ee;const ge=this.normalizeInstanceIdentifier(re?.identifier),Le=null!==(ee=re?.optional)&&void 0!==ee&&ee;if(!this.isInitialized(ge)&&!this.shouldAutoInitialize()){if(Le)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ge})}catch(de){if(Le)return null;throw de}}getComponent(){return this.component}setComponent(re){if(re.name!==this.name)throw Error(`Mismatching Component ${re.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=re,this.shouldAutoInitialize()){if(function Z(je){return"EAGER"===je.instantiationMode}(re))try{this.getOrInitializeService({instanceIdentifier:we})}catch{}for(const[ee,ge]of this.instancesDeferred.entries()){const Le=this.normalizeInstanceIdentifier(ee);try{const de=this.getOrInitializeService({instanceIdentifier:Le});ge.resolve(de)}catch{}}}}clearInstance(re=we){this.instancesDeferred.delete(re),this.instancesOptions.delete(re),this.instances.delete(re)}delete(){var re=this;return(0,S.A)(function*(){const ee=Array.from(re.instances.values());yield Promise.all([...ee.filter(ge=>"INTERNAL"in ge).map(ge=>ge.INTERNAL.delete()),...ee.filter(ge=>"_delete"in ge).map(ge=>ge._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(re=we){return this.instances.has(re)}getOptions(re=we){return this.instancesOptions.get(re)||{}}initialize(re={}){const{options:ee={}}=re,ge=this.normalizeInstanceIdentifier(re.instanceIdentifier);if(this.isInitialized(ge))throw Error(`${this.name}(${ge}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Le=this.getOrInitializeService({instanceIdentifier:ge,options:ee});for(const[de,ut]of this.instancesDeferred.entries())ge===this.normalizeInstanceIdentifier(de)&&ut.resolve(Le);return Le}onInit(re,ee){var ge;const Le=this.normalizeInstanceIdentifier(ee),de=null!==(ge=this.onInitCallbacks.get(Le))&&void 0!==ge?ge:new Set;de.add(re),this.onInitCallbacks.set(Le,de);const ut=this.instances.get(Le);return ut&&re(ut,Le),()=>{de.delete(re)}}invokeOnInitCallbacks(re,ee){const ge=this.onInitCallbacks.get(ee);if(ge)for(const Le of ge)try{Le(re,ee)}catch{}}getOrInitializeService({instanceIdentifier:re,options:ee={}}){let ge=this.instances.get(re);if(!ge&&this.component&&(ge=this.component.instanceFactory(this.container,{instanceIdentifier:(je=re,je===we?void 0:je),options:ee}),this.instances.set(re,ge),this.instancesOptions.set(re,ee),this.invokeOnInitCallbacks(ge,re),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,re,ge)}catch{}var je;return ge||null}normalizeInstanceIdentifier(re=we){return this.component?this.component.multipleInstances?re:we:re}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Xe{constructor(re){this.name=re,this.providers=new Map}addComponent(re){const ee=this.getProvider(re.name);if(ee.isComponentSet())throw new Error(`Component ${re.name} has already been registered with ${this.name}`);ee.setComponent(re)}addOrOverwriteComponent(re){this.getProvider(re.name).isComponentSet()&&this.providers.delete(re.name),this.addComponent(re)}getProvider(re){if(this.providers.has(re))return this.providers.get(re);const ee=new fe(re,this);return this.providers.set(re,ee),ee}getProviders(){return Array.from(this.providers.values())}}},5398:(jt,He,K)=>{K.d(He,{$b:()=>ie,Vy:()=>Z});const S=[];var ie=function(re){return re[re.DEBUG=0]="DEBUG",re[re.VERBOSE=1]="VERBOSE",re[re.INFO=2]="INFO",re[re.WARN=3]="WARN",re[re.ERROR=4]="ERROR",re[re.SILENT=5]="SILENT",re}(ie||{});const ce={debug:ie.DEBUG,verbose:ie.VERBOSE,info:ie.INFO,warn:ie.WARN,error:ie.ERROR,silent:ie.SILENT},we=ie.INFO,fe={[ie.DEBUG]:"log",[ie.VERBOSE]:"log",[ie.INFO]:"info",[ie.WARN]:"warn",[ie.ERROR]:"error"},q=(re,ee,...ge)=>{if(ee<re.logLevel)return;const Le=(new Date).toISOString(),de=fe[ee];if(!de)throw new Error(`Attempted to log a message with an invalid logType (value: ${ee})`);console[de](`[${Le}]  ${re.name}:`,...ge)};class Z{constructor(ee){this.name=ee,this._logLevel=we,this._logHandler=q,this._userLogHandler=null,S.push(this)}get logLevel(){return this._logLevel}set logLevel(ee){if(!(ee in ie))throw new TypeError(`Invalid value "${ee}" assigned to \`logLevel\``);this._logLevel=ee}setLogLevel(ee){this._logLevel="string"==typeof ee?ce[ee]:ee}get logHandler(){return this._logHandler}set logHandler(ee){if("function"!=typeof ee)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ee}get userLogHandler(){return this._userLogHandler}set userLogHandler(ee){this._userLogHandler=ee}debug(...ee){this._userLogHandler&&this._userLogHandler(this,ie.DEBUG,...ee),this._logHandler(this,ie.DEBUG,...ee)}log(...ee){this._userLogHandler&&this._userLogHandler(this,ie.VERBOSE,...ee),this._logHandler(this,ie.VERBOSE,...ee)}info(...ee){this._userLogHandler&&this._userLogHandler(this,ie.INFO,...ee),this._logHandler(this,ie.INFO,...ee)}warn(...ee){this._userLogHandler&&this._userLogHandler(this,ie.WARN,...ee),this._logHandler(this,ie.WARN,...ee)}error(...ee){this._userLogHandler&&this._userLogHandler(this,ie.ERROR,...ee),this._logHandler(this,ie.ERROR,...ee)}}},7037:(jt,He,K)=>{K.d(He,{Dk:()=>S.Dk,KO:()=>S.KO,Sx:()=>S.Sx,Wp:()=>S.Wp});var S=K(2979);(0,S.KO)("firebase","9.23.0","app")},345:(jt,He,K)=>{K.d(He,{Bb:()=>tt,hE:()=>Ut,sG:()=>Pt});var S=K(6276),ie=K(177);class ce extends ie.VF{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class we extends ce{static makeCurrent(){(0,ie.ZD)(new we)}onAndCancel(H,j,G){return H.addEventListener(j,G),()=>{H.removeEventListener(j,G)}}dispatchEvent(H,j){H.dispatchEvent(j)}remove(H){H.parentNode&&H.parentNode.removeChild(H)}createElement(H,j){return(j=j||this.getDefaultDocument()).createElement(H)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(H){return H.nodeType===Node.ELEMENT_NODE}isShadowRoot(H){return H instanceof DocumentFragment}getGlobalEventTarget(H,j){return"window"===j?window:"document"===j?H:"body"===j?H.body:null}getBaseHref(H){const j=function q(){return fe=fe||document.querySelector("base"),fe?fe.getAttribute("href"):null}();return null==j?null:function Xe(B){Z=Z||document.createElement("a"),Z.setAttribute("href",B);const H=Z.pathname;return"/"===H.charAt(0)?H:`/${H}`}(j)}resetBaseElement(){fe=null}getUserAgent(){return window.navigator.userAgent}getCookie(H){return(0,ie._b)(document.cookie,H)}}let Z,fe=null,re=(()=>{class B{build(){return new XMLHttpRequest}static{this.\u0275fac=function(G){return new(G||B)}}static{this.\u0275prov=S.jDH({token:B,factory:B.\u0275fac})}}return B})();const ee=new S.nKC("EventManagerPlugins");let ge=(()=>{class B{constructor(j,G){this._zone=G,this._eventNameToPlugin=new Map,j.forEach(le=>{le.manager=this}),this._plugins=j.slice().reverse()}addEventListener(j,G,le){return this._findPluginFor(G).addEventListener(j,G,le)}getZone(){return this._zone}_findPluginFor(j){let G=this._eventNameToPlugin.get(j);if(G)return G;if(G=this._plugins.find($e=>$e.supports(j)),!G)throw new S.wOt(5101,!1);return this._eventNameToPlugin.set(j,G),G}static{this.\u0275fac=function(G){return new(G||B)(S.KVO(ee),S.KVO(S.SKi))}}static{this.\u0275prov=S.jDH({token:B,factory:B.\u0275fac})}}return B})();class Le{constructor(H){this._doc=H}}const de="ng-app-id";let ut=(()=>{class B{constructor(j,G,le,$e={}){this.doc=j,this.appId=G,this.nonce=le,this.platformId=$e,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,ie.Vy)($e),this.resetHostNodes()}addStyles(j){for(const G of j)1===this.changeUsageCount(G,1)&&this.onStyleAdded(G)}removeStyles(j){for(const G of j)this.changeUsageCount(G,-1)<=0&&this.onStyleRemoved(G)}ngOnDestroy(){const j=this.styleNodesInDOM;j&&(j.forEach(G=>G.remove()),j.clear());for(const G of this.getAllStyles())this.onStyleRemoved(G);this.resetHostNodes()}addHost(j){this.hostNodes.add(j);for(const G of this.getAllStyles())this.addStyleToHost(j,G)}removeHost(j){this.hostNodes.delete(j)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(j){for(const G of this.hostNodes)this.addStyleToHost(G,j)}onStyleRemoved(j){const G=this.styleRef;G.get(j)?.elements?.forEach(le=>le.remove()),G.delete(j)}collectServerRenderedStyles(){const j=this.doc.head?.querySelectorAll(`style[${de}="${this.appId}"]`);if(j?.length){const G=new Map;return j.forEach(le=>{null!=le.textContent&&G.set(le.textContent,le)}),G}return null}changeUsageCount(j,G){const le=this.styleRef;if(le.has(j)){const $e=le.get(j);return $e.usage+=G,$e.usage}return le.set(j,{usage:G,elements:[]}),G}getStyleElement(j,G){const le=this.styleNodesInDOM,$e=le?.get(G);if($e?.parentNode===j)return le.delete(G),$e.removeAttribute(de),$e;{const ct=this.doc.createElement("style");return this.nonce&&ct.setAttribute("nonce",this.nonce),ct.textContent=G,this.platformIsServer&&ct.setAttribute(de,this.appId),ct}}addStyleToHost(j,G){const le=this.getStyleElement(j,G);j.appendChild(le);const $e=this.styleRef,ct=$e.get(G)?.elements;ct?ct.push(le):$e.set(G,{elements:[le],usage:1})}resetHostNodes(){const j=this.hostNodes;j.clear(),j.add(this.doc.head)}static{this.\u0275fac=function(G){return new(G||B)(S.KVO(ie.qQ),S.KVO(S.sZ2),S.KVO(S.BIS,8),S.KVO(S.Agw))}}static{this.\u0275prov=S.jDH({token:B,factory:B.\u0275fac})}}return B})();const st={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},$t=/%COMP%/g,Je=new S.nKC("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function dt(B,H){return H.map(j=>j.replace($t,B))}let Ge=(()=>{class B{constructor(j,G,le,$e,ct,Ht,Vt,Sn=null){this.eventManager=j,this.sharedStylesHost=G,this.appId=le,this.removeStylesOnCompDestroy=$e,this.doc=ct,this.platformId=Ht,this.ngZone=Vt,this.nonce=Sn,this.rendererByCompId=new Map,this.platformIsServer=(0,ie.Vy)(Ht),this.defaultRenderer=new Mt(j,ct,Vt,this.platformIsServer)}createRenderer(j,G){if(!j||!G)return this.defaultRenderer;this.platformIsServer&&G.encapsulation===S.gXe.ShadowDom&&(G={...G,encapsulation:S.gXe.Emulated});const le=this.getOrCreateRenderer(j,G);return le instanceof Pn?le.applyToHost(j):le instanceof vt&&le.applyStyles(),le}getOrCreateRenderer(j,G){const le=this.rendererByCompId;let $e=le.get(G.id);if(!$e){const ct=this.doc,Ht=this.ngZone,Vt=this.eventManager,Sn=this.sharedStylesHost,tn=this.removeStylesOnCompDestroy,zn=this.platformIsServer;switch(G.encapsulation){case S.gXe.Emulated:$e=new Pn(Vt,Sn,G,this.appId,tn,ct,Ht,zn);break;case S.gXe.ShadowDom:return new Ne(Vt,Sn,j,G,ct,Ht,this.nonce,zn);default:$e=new vt(Vt,Sn,G,tn,ct,Ht,zn)}le.set(G.id,$e)}return $e}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(G){return new(G||B)(S.KVO(ge),S.KVO(ut),S.KVO(S.sZ2),S.KVO(Je),S.KVO(ie.qQ),S.KVO(S.Agw),S.KVO(S.SKi),S.KVO(S.BIS))}}static{this.\u0275prov=S.jDH({token:B,factory:B.\u0275fac})}}return B})();class Mt{constructor(H,j,G,le){this.eventManager=H,this.doc=j,this.ngZone=G,this.platformIsServer=le,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(H,j){return j?this.doc.createElementNS(st[j]||j,H):this.doc.createElement(H)}createComment(H){return this.doc.createComment(H)}createText(H){return this.doc.createTextNode(H)}appendChild(H,j){(ur(H)?H.content:H).appendChild(j)}insertBefore(H,j,G){H&&(ur(H)?H.content:H).insertBefore(j,G)}removeChild(H,j){H&&H.removeChild(j)}selectRootElement(H,j){let G="string"==typeof H?this.doc.querySelector(H):H;if(!G)throw new S.wOt(-5104,!1);return j||(G.textContent=""),G}parentNode(H){return H.parentNode}nextSibling(H){return H.nextSibling}setAttribute(H,j,G,le){if(le){j=le+":"+j;const $e=st[le];$e?H.setAttributeNS($e,j,G):H.setAttribute(j,G)}else H.setAttribute(j,G)}removeAttribute(H,j,G){if(G){const le=st[G];le?H.removeAttributeNS(le,j):H.removeAttribute(`${G}:${j}`)}else H.removeAttribute(j)}addClass(H,j){H.classList.add(j)}removeClass(H,j){H.classList.remove(j)}setStyle(H,j,G,le){le&(S.czy.DashCase|S.czy.Important)?H.style.setProperty(j,G,le&S.czy.Important?"important":""):H.style[j]=G}removeStyle(H,j,G){G&S.czy.DashCase?H.style.removeProperty(j):H.style[j]=""}setProperty(H,j,G){H[j]=G}setValue(H,j){H.nodeValue=j}listen(H,j,G){if("string"==typeof H&&!(H=(0,ie.QT)().getGlobalEventTarget(this.doc,H)))throw new Error(`Unsupported event target ${H} for event ${j}`);return this.eventManager.addEventListener(H,j,this.decoratePreventDefault(G))}decoratePreventDefault(H){return j=>{if("__ngUnwrap__"===j)return H;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>H(j)):H(j))&&j.preventDefault()}}}function ur(B){return"TEMPLATE"===B.tagName&&void 0!==B.content}class Ne extends Mt{constructor(H,j,G,le,$e,ct,Ht,Vt){super(H,$e,ct,Vt),this.sharedStylesHost=j,this.hostEl=G,this.shadowRoot=G.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Sn=dt(le.id,le.styles);for(const tn of Sn){const zn=document.createElement("style");Ht&&zn.setAttribute("nonce",Ht),zn.textContent=tn,this.shadowRoot.appendChild(zn)}}nodeOrShadowRoot(H){return H===this.hostEl?this.shadowRoot:H}appendChild(H,j){return super.appendChild(this.nodeOrShadowRoot(H),j)}insertBefore(H,j,G){return super.insertBefore(this.nodeOrShadowRoot(H),j,G)}removeChild(H,j){return super.removeChild(this.nodeOrShadowRoot(H),j)}parentNode(H){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(H)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class vt extends Mt{constructor(H,j,G,le,$e,ct,Ht,Vt){super(H,$e,ct,Ht),this.sharedStylesHost=j,this.removeStylesOnCompDestroy=le,this.styles=Vt?dt(Vt,G.styles):G.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Pn extends vt{constructor(H,j,G,le,$e,ct,Ht,Vt){const Sn=le+"-"+G.id;super(H,j,G,$e,ct,Ht,Vt,Sn),this.contentAttr=function Qe(B){return"_ngcontent-%COMP%".replace($t,B)}(Sn),this.hostAttr=function Re(B){return"_nghost-%COMP%".replace($t,B)}(Sn)}applyToHost(H){this.applyStyles(),this.setAttribute(H,this.hostAttr,"")}createElement(H,j){const G=super.createElement(H,j);return super.setAttribute(G,this.contentAttr,""),G}}let cn=(()=>{class B extends Le{constructor(j){super(j)}supports(j){return!0}addEventListener(j,G,le){return j.addEventListener(G,le,!1),()=>this.removeEventListener(j,G,le)}removeEventListener(j,G,le){return j.removeEventListener(G,le)}static{this.\u0275fac=function(G){return new(G||B)(S.KVO(ie.qQ))}}static{this.\u0275prov=S.jDH({token:B,factory:B.\u0275fac})}}return B})();const gr=["alt","control","meta","shift"],er={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Bn={alt:B=>B.altKey,control:B=>B.ctrlKey,meta:B=>B.metaKey,shift:B=>B.shiftKey};let ve=(()=>{class B extends Le{constructor(j){super(j)}supports(j){return null!=B.parseEventName(j)}addEventListener(j,G,le){const $e=B.parseEventName(G),ct=B.eventCallback($e.fullKey,le,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,ie.QT)().onAndCancel(j,$e.domEventName,ct))}static parseEventName(j){const G=j.toLowerCase().split("."),le=G.shift();if(0===G.length||"keydown"!==le&&"keyup"!==le)return null;const $e=B._normalizeKey(G.pop());let ct="",Ht=G.indexOf("code");if(Ht>-1&&(G.splice(Ht,1),ct="code."),gr.forEach(Sn=>{const tn=G.indexOf(Sn);tn>-1&&(G.splice(tn,1),ct+=Sn+".")}),ct+=$e,0!=G.length||0===$e.length)return null;const Vt={};return Vt.domEventName=le,Vt.fullKey=ct,Vt}static matchEventFullKeyCode(j,G){let le=er[j.key]||j.key,$e="";return G.indexOf("code.")>-1&&(le=j.code,$e="code."),!(null==le||!le)&&(le=le.toLowerCase()," "===le?le="space":"."===le&&(le="dot"),gr.forEach(ct=>{ct!==le&&(0,Bn[ct])(j)&&($e+=ct+".")}),$e+=le,$e===G)}static eventCallback(j,G,le){return $e=>{B.matchEventFullKeyCode($e,j)&&le.runGuarded(()=>G($e))}}static _normalizeKey(j){return"esc"===j?"escape":j}static{this.\u0275fac=function(G){return new(G||B)(S.KVO(ie.qQ))}}static{this.\u0275prov=S.jDH({token:B,factory:B.\u0275fac})}}return B})();const Pt=(0,S.oH4)(S.fpN,"browser",[{provide:S.Agw,useValue:ie.AJ},{provide:S.PLl,useValue:function qe(){we.makeCurrent()},multi:!0},{provide:ie.qQ,useFactory:function _t(){return(0,S.TL$)(document),document},deps:[]}]),_n=new S.nKC(""),mn=[{provide:S.e01,useClass:class je{addToWindow(H){S.JZv.getAngularTestability=(G,le=!0)=>{const $e=H.findTestabilityInTree(G,le);if(null==$e)throw new S.wOt(5103,!1);return $e},S.JZv.getAllAngularTestabilities=()=>H.getAllTestabilities(),S.JZv.getAllAngularRootElements=()=>H.getAllRootElements(),S.JZv.frameworkStabilizers||(S.JZv.frameworkStabilizers=[]),S.JZv.frameworkStabilizers.push(G=>{const le=S.JZv.getAllAngularTestabilities();let $e=le.length,ct=!1;const Ht=function(Vt){ct=ct||Vt,$e--,0==$e&&G(ct)};le.forEach(Vt=>{Vt.whenStable(Ht)})})}findTestabilityInTree(H,j,G){return null==j?null:H.getTestability(j)??(G?(0,ie.QT)().isShadowRoot(j)?this.findTestabilityInTree(H,j.host,!0):this.findTestabilityInTree(H,j.parentElement,!0):null)}},deps:[]},{provide:S.WHO,useClass:S.NYb,deps:[S.SKi,S.giA,S.e01]},{provide:S.NYb,useClass:S.NYb,deps:[S.SKi,S.giA,S.e01]}],An=[{provide:S.H8p,useValue:"root"},{provide:S.zcH,useFactory:function ot(){return new S.zcH},deps:[]},{provide:ee,useClass:cn,multi:!0,deps:[ie.qQ,S.SKi,S.Agw]},{provide:ee,useClass:ve,multi:!0,deps:[ie.qQ]},Ge,ut,ge,{provide:S._9s,useExisting:Ge},{provide:ie.N0,useClass:re,deps:[]},[]];let tt=(()=>{class B{constructor(j){}static withServerTransition(j){return{ngModule:B,providers:[{provide:S.sZ2,useValue:j.appId}]}}static{this.\u0275fac=function(G){return new(G||B)(S.KVO(_n,12))}}static{this.\u0275mod=S.$C({type:B})}static{this.\u0275inj=S.G2t({providers:[...An,...mn],imports:[ie.MD,S.Hbi]})}}return B})(),Ut=(()=>{class B{constructor(j){this._doc=j}getTitle(){return this._doc.title}setTitle(j){this._doc.title=j||""}static{this.\u0275fac=function(G){return new(G||B)(S.KVO(ie.qQ))}}static{this.\u0275prov=S.jDH({token:B,factory:function(G){let le=null;return le=G?new G:function Xt(){return new Ut((0,S.KVO)(ie.qQ))}(),le},providedIn:"root"})}}return B})();typeof window<"u"&&window},6143:(jt,He,K)=>{K.d(He,{Ix:()=>Nr,Wk:()=>yo,iI:()=>me,n3:()=>br});var S=K(6276),ie=K(1985),ce=K(8071),fe=K(8455),q=K(7673),Z=K(4412),Xe=K(3073),je=K(3669),re=K(6450),ee=K(3794),ge=K(8496),Le=K(4360),de=K(5225);function ut(...y){const D=(0,ee.lI)(y),m=(0,ee.ms)(y),{args:C,keys:N}=(0,Xe.D)(y);if(0===C.length)return(0,fe.H)([],D);const U=new ie.c(function st(y,D,m=je.D){return C=>{$t(D,()=>{const{length:N}=y,U=new Array(N);let X=N,Ce=N;for(let Ie=0;Ie<N;Ie++)$t(D,()=>{const gt=(0,fe.H)(y[Ie],D);let Zt=!1;gt.subscribe((0,Le._)(C,Nn=>{U[Ie]=Nn,Zt||(Zt=!0,Ce--),Ce||C.next(m(U.slice()))},()=>{--X||C.complete()}))},C)},C)}}(C,D,N?X=>(0,ge.e)(N,X):je.D));return m?U.pipe((0,re.I)(m)):U}function $t(y,D,m){y?(0,de.N)(m,y,D):D()}const bn=(0,K(1853).L)(y=>function(){y(this),this.name="EmptyError",this.message="no elements in sequence"});var Gt=K(6365);function Je(...y){return function Ze(){return(0,Gt.U)(1)}()((0,fe.H)(y,(0,ee.lI)(y)))}var Qe=K(8750);function Re(y){return new ie.c(D=>{(0,Qe.Tg)(y()).subscribe(D)})}var dt=K(1203);function Ge(y,D){const m=(0,ce.T)(y)?y:()=>y,C=N=>N.error(m());return new ie.c(D?N=>D.schedule(C,0,N):C)}var Mt=K(983),hn=K(8359),nt=K(9974);function ur(){return(0,nt.N)((y,D)=>{let m=null;y._refCount++;const C=(0,Le._)(D,void 0,void 0,void 0,()=>{if(!y||y._refCount<=0||0<--y._refCount)return void(m=null);const N=y._connection,U=m;m=null,N&&(!U||N===U)&&N.unsubscribe(),D.unsubscribe()});y.subscribe(C),C.closed||(m=y.connect())})}class Ne extends ie.c{constructor(D,m){super(),this.source=D,this.subjectFactory=m,this._subject=null,this._refCount=0,this._connection=null,(0,nt.S)(D)&&(this.lift=D.lift)}_subscribe(D){return this.getSubject().subscribe(D)}getSubject(){const D=this._subject;return(!D||D.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:D}=this;this._subject=this._connection=null,D?.unsubscribe()}connect(){let D=this._connection;if(!D){D=this._connection=new hn.yU;const m=this.getSubject();D.add(this.source.subscribe((0,Le._)(m,void 0,()=>{this._teardown(),m.complete()},C=>{this._teardown(),m.error(C)},()=>this._teardown()))),D.closed&&(this._connection=null,D=hn.yU.EMPTY)}return D}refCount(){return ur()(this)}}var vt=K(1413),Pn=K(177),cn=K(6354),gr=K(5558);function er(y){return y<=0?()=>Mt.w:(0,nt.N)((D,m)=>{let C=0;D.subscribe((0,Le._)(m,N=>{++C<=y&&(m.next(N),y<=C&&m.complete())}))})}function ve(y,D){return(0,nt.N)((m,C)=>{let N=0;m.subscribe((0,Le._)(C,U=>y.call(D,U,N++)&&C.next(U)))})}var ye=K(1397);function be(y){return(0,nt.N)((D,m)=>{let C=!1;D.subscribe((0,Le._)(m,N=>{C=!0,m.next(N)},()=>{C||m.next(y),m.complete()}))})}function Se(y=Ke){return(0,nt.N)((D,m)=>{let C=!1;D.subscribe((0,Le._)(m,N=>{C=!0,m.next(N)},()=>C?m.complete():m.error(y())))})}function Ke(){return new bn}function qe(y,D){const m=arguments.length>=2;return C=>C.pipe(y?ve((N,U)=>y(N,U,C)):je.D,er(1),m?be(D):Se(()=>new bn))}function ot(y,D){return(0,ce.T)(D)?(0,ye.Z)(y,D,1):(0,ye.Z)(y,1)}var _t=K(8141);function on(y){return(0,nt.N)((D,m)=>{let U,C=null,N=!1;C=D.subscribe((0,Le._)(m,void 0,void 0,X=>{U=(0,Qe.Tg)(y(X,on(y)(D))),C?(C.unsubscribe(),C=null,U.subscribe(m)):N=!0})),N&&(C.unsubscribe(),C=null,U.subscribe(m))})}function mn(y){return y<=0?()=>Mt.w:(0,nt.N)((D,m)=>{let C=[];D.subscribe((0,Le._)(m,N=>{C.push(N),y<C.length&&C.shift()},()=>{for(const N of C)m.next(N);m.complete()},void 0,()=>{C=null}))})}function cr(y){return(0,nt.N)((D,m)=>{try{D.subscribe(m)}finally{m.add(y)}})}var Kn=K(5343),Xt=K(345);const Ut="primary",wr=Symbol("RouteTitle");class Er{constructor(D){this.params=D||{}}has(D){return Object.prototype.hasOwnProperty.call(this.params,D)}get(D){if(this.has(D)){const m=this.params[D];return Array.isArray(m)?m[0]:m}return null}getAll(D){if(this.has(D)){const m=this.params[D];return Array.isArray(m)?m:[m]}return[]}get keys(){return Object.keys(this.params)}}function jn(y){return new Er(y)}function rn(y,D,m){const C=m.path.split("/");if(C.length>y.length||"full"===m.pathMatch&&(D.hasChildren()||C.length<y.length))return null;const N={};for(let U=0;U<C.length;U++){const X=C[U],Ce=y[U];if(X.startsWith(":"))N[X.substring(1)]=Ce;else if(X!==Ce.path)return null}return{consumed:y.slice(0,C.length),posParams:N}}function kn(y,D){const m=y?Object.keys(y):void 0,C=D?Object.keys(D):void 0;if(!m||!C||m.length!=C.length)return!1;let N;for(let U=0;U<m.length;U++)if(N=m[U],!mr(y[N],D[N]))return!1;return!0}function mr(y,D){if(Array.isArray(y)&&Array.isArray(D)){if(y.length!==D.length)return!1;const m=[...y].sort(),C=[...D].sort();return m.every((N,U)=>C[U]===N)}return y===D}function Dr(y){return y.length>0?y[y.length-1]:null}function Xn(y){return function we(y){return!!y&&(y instanceof ie.c||(0,ce.T)(y.lift)&&(0,ce.T)(y.subscribe))}(y)?y:(0,S.jNT)(y)?(0,fe.H)(Promise.resolve(y)):(0,q.of)(y)}const lr={exact:function kt(y,D,m){if(!Sr(y.segments,D.segments)||!Vr(y.segments,D.segments,m)||y.numberOfChildren!==D.numberOfChildren)return!1;for(const C in D.children)if(!y.children[C]||!kt(y.children[C],D.children[C],m))return!1;return!0},subset:mi},Lt={exact:function Ei(y,D){return kn(y,D)},subset:function Di(y,D){return Object.keys(D).length<=Object.keys(y).length&&Object.keys(D).every(m=>mr(y[m],D[m]))},ignored:()=>!0};function wn(y,D,m){return lr[m.paths](y.root,D.root,m.matrixParams)&&Lt[m.queryParams](y.queryParams,D.queryParams)&&!("exact"===m.fragment&&y.fragment!==D.fragment)}function mi(y,D,m){return $n(y,D,D.segments,m)}function $n(y,D,m,C){if(y.segments.length>m.length){const N=y.segments.slice(0,m.length);return!(!Sr(N,m)||D.hasChildren()||!Vr(N,m,C))}if(y.segments.length===m.length){if(!Sr(y.segments,m)||!Vr(y.segments,m,C))return!1;for(const N in D.children)if(!y.children[N]||!mi(y.children[N],D.children[N],C))return!1;return!0}{const N=m.slice(0,y.segments.length),U=m.slice(y.segments.length);return!!(Sr(y.segments,N)&&Vr(y.segments,N,C)&&y.children[Ut])&&$n(y.children[Ut],D,U,C)}}function Vr(y,D,m){return D.every((C,N)=>Lt[m](y[N].parameters,C.parameters))}class ei{constructor(D=new It([],{}),m={},C=null){this.root=D,this.queryParams=m,this.fragment=C}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=jn(this.queryParams)),this._queryParamMap}toString(){return te.serialize(this)}}class It{constructor(D,m){this.segments=D,this.children=m,this.parent=null,Object.values(m).forEach(C=>C.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return B(this)}}class Cr{constructor(D,m){this.path=D,this.parameters=m}get parameterMap(){return this._parameterMap||(this._parameterMap=jn(this.parameters)),this._parameterMap}toString(){return Vt(this)}}function Sr(y,D){return y.length===D.length&&y.every((m,C)=>m.path===D[C].path)}let fn=(()=>{class y{static{this.\u0275fac=function(C){return new(C||y)}}static{this.\u0275prov=S.jDH({token:y,factory:function(){return new dr},providedIn:"root"})}}return y})();class dr{parse(D){const m=new zt(D);return new ei(m.parseRootSegment(),m.parseQueryParams(),m.parseFragment())}serialize(D){const m=`/${H(D.root,!0)}`,C=function tn(y){const D=Object.keys(y).map(m=>{const C=y[m];return Array.isArray(C)?C.map(N=>`${G(m)}=${G(N)}`).join("&"):`${G(m)}=${G(C)}`}).filter(m=>!!m);return D.length?`?${D.join("&")}`:""}(D.queryParams);return`${m}${C}${"string"==typeof D.fragment?`#${function le(y){return encodeURI(y)}(D.fragment)}`:""}`}}const te=new dr;function B(y){return y.segments.map(D=>Vt(D)).join("/")}function H(y,D){if(!y.hasChildren())return B(y);if(D){const m=y.children[Ut]?H(y.children[Ut],!1):"",C=[];return Object.entries(y.children).forEach(([N,U])=>{N!==Ut&&C.push(`${N}:${H(U,!1)}`)}),C.length>0?`${m}(${C.join("//")})`:m}{const m=function Hn(y,D){let m=[];return Object.entries(y.children).forEach(([C,N])=>{C===Ut&&(m=m.concat(D(N,C)))}),Object.entries(y.children).forEach(([C,N])=>{C!==Ut&&(m=m.concat(D(N,C)))}),m}(y,(C,N)=>N===Ut?[H(y.children[Ut],!1)]:[`${N}:${H(C,!1)}`]);return 1===Object.keys(y.children).length&&null!=y.children[Ut]?`${B(y)}/${m[0]}`:`${B(y)}/(${m.join("//")})`}}function j(y){return encodeURIComponent(y).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function G(y){return j(y).replace(/%3B/gi,";")}function $e(y){return j(y).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ct(y){return decodeURIComponent(y)}function Ht(y){return ct(y.replace(/\+/g,"%20"))}function Vt(y){return`${$e(y.path)}${function Sn(y){return Object.keys(y).map(D=>`;${$e(D)}=${$e(y[D])}`).join("")}(y.parameters)}`}const zn=/^[^\/()?;#]+/;function ci(y){const D=y.match(zn);return D?D[0]:""}const Or=/^[^\/()?;=#]+/,Ae=/^[^=?&#]+/,ke=/^[^&#]+/;class zt{constructor(D){this.url=D,this.remaining=D}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new It([],{}):new It([],this.parseChildren())}parseQueryParams(){const D={};if(this.consumeOptional("?"))do{this.parseQueryParam(D)}while(this.consumeOptional("&"));return D}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const D=[];for(this.peekStartsWith("(")||D.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),D.push(this.parseSegment());let m={};this.peekStartsWith("/(")&&(this.capture("/"),m=this.parseParens(!0));let C={};return this.peekStartsWith("(")&&(C=this.parseParens(!1)),(D.length>0||Object.keys(m).length>0)&&(C[Ut]=new It(D,m)),C}parseSegment(){const D=ci(this.remaining);if(""===D&&this.peekStartsWith(";"))throw new S.wOt(4009,!1);return this.capture(D),new Cr(ct(D),this.parseMatrixParams())}parseMatrixParams(){const D={};for(;this.consumeOptional(";");)this.parseParam(D);return D}parseParam(D){const m=function gs(y){const D=y.match(Or);return D?D[0]:""}(this.remaining);if(!m)return;this.capture(m);let C="";if(this.consumeOptional("=")){const N=ci(this.remaining);N&&(C=N,this.capture(C))}D[ct(m)]=ct(C)}parseQueryParam(D){const m=function Ee(y){const D=y.match(Ae);return D?D[0]:""}(this.remaining);if(!m)return;this.capture(m);let C="";if(this.consumeOptional("=")){const X=function St(y){const D=y.match(ke);return D?D[0]:""}(this.remaining);X&&(C=X,this.capture(C))}const N=Ht(m),U=Ht(C);if(D.hasOwnProperty(N)){let X=D[N];Array.isArray(X)||(X=[X],D[N]=X),X.push(U)}else D[N]=U}parseParens(D){const m={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const C=ci(this.remaining),N=this.remaining[C.length];if("/"!==N&&")"!==N&&";"!==N)throw new S.wOt(4010,!1);let U;C.indexOf(":")>-1?(U=C.slice(0,C.indexOf(":")),this.capture(U),this.capture(":")):D&&(U=Ut);const X=this.parseChildren();m[U]=1===Object.keys(X).length?X[Ut]:new It([],X),this.consumeOptional("//")}return m}peekStartsWith(D){return this.remaining.startsWith(D)}consumeOptional(D){return!!this.peekStartsWith(D)&&(this.remaining=this.remaining.substring(D.length),!0)}capture(D){if(!this.consumeOptional(D))throw new S.wOt(4011,!1)}}function Kt(y){return y.segments.length>0?new It([],{[Ut]:y}):y}function pn(y){const D={};for(const C of Object.keys(y.children)){const U=pn(y.children[C]);if(C===Ut&&0===U.segments.length&&U.hasChildren())for(const[X,Ce]of Object.entries(U.children))D[X]=Ce;else(U.segments.length>0||U.hasChildren())&&(D[C]=U)}return function Pr(y){if(1===y.numberOfChildren&&y.children[Ut]){const D=y.children[Ut];return new It(y.segments.concat(D.segments),D.children)}return y}(new It(y.segments,D))}function tr(y){return y instanceof ei}function os(y){let D;const N=Kt(function m(U){const X={};for(const Ie of U.children){const gt=m(Ie);X[Ie.outlet]=gt}const Ce=new It(U.url,X);return U===y&&(D=Ce),Ce}(y.root));return D??N}function yi(y,D,m,C){let N=y;for(;N.parent;)N=N.parent;if(0===D.length)return Gi(N,N,N,m,C);const U=function $s(y){if("string"==typeof y[0]&&1===y.length&&"/"===y[0])return new As(!0,0,y);let D=0,m=!1;const C=y.reduce((N,U,X)=>{if("object"==typeof U&&null!=U){if(U.outlets){const Ce={};return Object.entries(U.outlets).forEach(([Ie,gt])=>{Ce[Ie]="string"==typeof gt?gt.split("/"):gt}),[...N,{outlets:Ce}]}if(U.segmentPath)return[...N,U.segmentPath]}return"string"!=typeof U?[...N,U]:0===X?(U.split("/").forEach((Ce,Ie)=>{0==Ie&&"."===Ce||(0==Ie&&""===Ce?m=!0:".."===Ce?D++:""!=Ce&&N.push(Ce))}),N):[...N,U]},[]);return new As(m,D,C)}(D);if(U.toRoot())return Gi(N,N,new It([],{}),m,C);const X=function Wi(y,D,m){if(y.isAbsolute)return new Yn(D,!0,0);if(!m)return new Yn(D,!1,NaN);if(null===m.parent)return new Yn(m,!0,0);const C=kr(y.commands[0])?0:1;return function Ki(y,D,m){let C=y,N=D,U=m;for(;U>N;){if(U-=N,C=C.parent,!C)throw new S.wOt(4005,!1);N=C.segments.length}return new Yn(C,!1,N-U)}(m,m.segments.length-1+C,y.numberOfDoubleDots)}(U,N,y),Ce=X.processChildren?se(X.segmentGroup,X.index,U.commands):So(X.segmentGroup,X.index,U.commands);return Gi(N,X.segmentGroup,Ce,m,C)}function kr(y){return"object"==typeof y&&null!=y&&!y.outlets&&!y.segmentPath}function an(y){return"object"==typeof y&&null!=y&&y.outlets}function Gi(y,D,m,C,N){let X,U={};C&&Object.entries(C).forEach(([Ie,gt])=>{U[Ie]=Array.isArray(gt)?gt.map(Zt=>`${Zt}`):`${gt}`}),X=y===D?m:bs(y,D,m);const Ce=Kt(pn(X));return new ei(Ce,U,N)}function bs(y,D,m){const C={};return Object.entries(y.children).forEach(([N,U])=>{C[N]=U===D?m:bs(U,D,m)}),new It(y.segments,C)}class As{constructor(D,m,C){if(this.isAbsolute=D,this.numberOfDoubleDots=m,this.commands=C,D&&C.length>0&&kr(C[0]))throw new S.wOt(4003,!1);const N=C.find(an);if(N&&N!==Dr(C))throw new S.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Yn{constructor(D,m,C){this.segmentGroup=D,this.processChildren=m,this.index=C}}function So(y,D,m){if(y||(y=new It([],{})),0===y.segments.length&&y.hasChildren())return se(y,D,m);const C=function ae(y,D,m){let C=0,N=D;const U={match:!1,pathIndex:0,commandIndex:0};for(;N<y.segments.length;){if(C>=m.length)return U;const X=y.segments[N],Ce=m[C];if(an(Ce))break;const Ie=`${Ce}`,gt=C<m.length-1?m[C+1]:null;if(N>0&&void 0===Ie)break;if(Ie&&gt&&"object"==typeof gt&&void 0===gt.outlets){if(!Ft(Ie,gt,X))return U;C+=2}else{if(!Ft(Ie,{},X))return U;C++}N++}return{match:!0,pathIndex:N,commandIndex:C}}(y,D,m),N=m.slice(C.commandIndex);if(C.match&&C.pathIndex<y.segments.length){const U=new It(y.segments.slice(0,C.pathIndex),{});return U.children[Ut]=new It(y.segments.slice(C.pathIndex),y.children),se(U,0,N)}return C.match&&0===N.length?new It(y.segments,{}):C.match&&!y.hasChildren()?_e(y,D,m):C.match?se(y,0,N):_e(y,D,m)}function se(y,D,m){if(0===m.length)return new It(y.segments,{});{const C=function qo(y){return an(y[0])?y[0].outlets:{[Ut]:y}}(m),N={};if(Object.keys(C).some(U=>U!==Ut)&&y.children[Ut]&&1===y.numberOfChildren&&0===y.children[Ut].segments.length){const U=se(y.children[Ut],D,m);return new It(y.segments,U.children)}return Object.entries(C).forEach(([U,X])=>{"string"==typeof X&&(X=[X]),null!==X&&(N[U]=So(y.children[U],D,X))}),Object.entries(y.children).forEach(([U,X])=>{void 0===C[U]&&(N[U]=X)}),new It(y.segments,N)}}function _e(y,D,m){const C=y.segments.slice(0,D);let N=0;for(;N<m.length;){const U=m[N];if(an(U)){const Ie=Ue(U.outlets);return new It(C,Ie)}if(0===N&&kr(m[0])){C.push(new Cr(y.segments[D].path,rt(m[0]))),N++;continue}const X=an(U)?U.outlets[Ut]:`${U}`,Ce=N<m.length-1?m[N+1]:null;X&&Ce&&kr(Ce)?(C.push(new Cr(X,rt(Ce))),N+=2):(C.push(new Cr(X,{})),N++)}return new It(C,{})}function Ue(y){const D={};return Object.entries(y).forEach(([m,C])=>{"string"==typeof C&&(C=[C]),null!==C&&(D[m]=_e(new It([],{}),0,C))}),D}function rt(y){const D={};return Object.entries(y).forEach(([m,C])=>D[m]=`${C}`),D}function Ft(y,D,m){return y==m.path&&kn(D,m.parameters)}const yn="imperative";class nn{constructor(D,m){this.id=D,this.url=m}}class En extends nn{constructor(D,m,C="imperative",N=null){super(D,m),this.type=0,this.navigationTrigger=C,this.restoredState=N}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class nr extends nn{constructor(D,m,C){super(D,m),this.urlAfterRedirects=C,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class jr extends nn{constructor(D,m,C,N){super(D,m),this.reason=C,this.code=N,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Mr extends nn{constructor(D,m,C,N){super(D,m),this.reason=C,this.code=N,this.type=16}}class Lr extends nn{constructor(D,m,C,N){super(D,m),this.error=C,this.target=N,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Mo extends nn{constructor(D,m,C,N){super(D,m),this.urlAfterRedirects=C,this.state=N,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class nu extends nn{constructor(D,m,C,N){super(D,m),this.urlAfterRedirects=C,this.state=N,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class da extends nn{constructor(D,m,C,N,U){super(D,m),this.urlAfterRedirects=C,this.state=N,this.shouldActivate=U,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class xo extends nn{constructor(D,m,C,N){super(D,m),this.urlAfterRedirects=C,this.state=N,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Oa extends nn{constructor(D,m,C,N){super(D,m),this.urlAfterRedirects=C,this.state=N,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ms{constructor(D){this.route=D,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Pa{constructor(D){this.route=D,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Qo{constructor(D){this.snapshot=D,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ss{constructor(D){this.snapshot=D,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ms{constructor(D){this.snapshot=D,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Xo{constructor(D){this.snapshot=D,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Hs{constructor(D,m,C){this.routerEvent=D,this.position=m,this.anchor=C,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class ha{}class fa{constructor(D){this.url=D}}class ku{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new qt,this.attachRef=null}}let qt=(()=>{class y{constructor(){this.contexts=new Map}onChildOutletCreated(m,C){const N=this.getOrCreateContext(m);N.outlet=C,this.contexts.set(m,N)}onChildOutletDestroyed(m){const C=this.getContext(m);C&&(C.outlet=null,C.attachRef=null)}onOutletDeactivated(){const m=this.contexts;return this.contexts=new Map,m}onOutletReAttached(m){this.contexts=m}getOrCreateContext(m){let C=this.getContext(m);return C||(C=new ku,this.contexts.set(m,C)),C}getContext(m){return this.contexts.get(m)||null}static{this.\u0275fac=function(C){return new(C||y)}}static{this.\u0275prov=S.jDH({token:y,factory:y.\u0275fac,providedIn:"root"})}}return y})();class hr{constructor(D){this._root=D}get root(){return this._root.value}parent(D){const m=this.pathFromRoot(D);return m.length>1?m[m.length-2]:null}children(D){const m=xr(D,this._root);return m?m.children.map(C=>C.value):[]}firstChild(D){const m=xr(D,this._root);return m&&m.children.length>0?m.children[0].value:null}siblings(D){const m=Ti(D,this._root);return m.length<2?[]:m[m.length-2].children.map(N=>N.value).filter(N=>N!==D)}pathFromRoot(D){return Ti(D,this._root).map(m=>m.value)}}function xr(y,D){if(y===D.value)return D;for(const m of D.children){const C=xr(y,m);if(C)return C}return null}function Ti(y,D){if(y===D.value)return[D];for(const m of D.children){const C=Ti(y,m);if(C.length)return C.unshift(D),C}return[]}class qn{constructor(D,m){this.value=D,this.children=m}toString(){return`TreeNode(${this.value})`}}function Mn(y){const D={};return y&&y.children.forEach(m=>D[m.value.outlet]=m),D}class zs extends hr{constructor(D,m){super(D),this.snapshot=m,Qi(this,D)}toString(){return this.snapshot.toString()}}function qi(y,D){const m=function pa(y,D){const X=new Qt([],{},{},"",{},Ut,D,null,{});return new Ln("",new qn(X,[]))}(0,D),C=new Z.t([new Cr("",{})]),N=new Z.t({}),U=new Z.t({}),X=new Z.t({}),Ce=new Z.t(""),Ie=new Gs(C,N,X,Ce,U,Ut,D,m.root);return Ie.snapshot=m.root,new zs(new qn(Ie,[]),m)}class Gs{constructor(D,m,C,N,U,X,Ce,Ie){this.urlSubject=D,this.paramsSubject=m,this.queryParamsSubject=C,this.fragmentSubject=N,this.dataSubject=U,this.outlet=X,this.component=Ce,this._futureSnapshot=Ie,this.title=this.dataSubject?.pipe((0,cn.T)(gt=>gt[wr]))??(0,q.of)(void 0),this.url=D,this.params=m,this.queryParams=C,this.fragment=N,this.data=U}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,cn.T)(D=>jn(D)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,cn.T)(D=>jn(D)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function vr(y,D="emptyOnly"){const m=y.pathFromRoot;let C=0;if("always"!==D)for(C=m.length-1;C>=1;){const N=m[C],U=m[C-1];if(N.routeConfig&&""===N.routeConfig.path)C--;else{if(U.component)break;C--}}return function yt(y){return y.reduce((D,m)=>({params:{...D.params,...m.params},data:{...D.data,...m.data},resolve:{...m.data,...D.resolve,...m.routeConfig?.data,...m._resolvedData}}),{params:{},data:{},resolve:{}})}(m.slice(C))}class Qt{get title(){return this.data?.[wr]}constructor(D,m,C,N,U,X,Ce,Ie,gt){this.url=D,this.params=m,this.queryParams=C,this.fragment=N,this.data=U,this.outlet=X,this.component=Ce,this.routeConfig=Ie,this._resolve=gt}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=jn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=jn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(C=>C.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Ln extends hr{constructor(D,m){super(m),this.url=D,Qi(this,m)}toString(){return ys(this._root)}}function Qi(y,D){D.value._routerState=y,D.children.forEach(m=>Qi(y,m))}function ys(y){const D=y.children.length>0?` { ${y.children.map(ys).join(", ")} } `:"";return`${y.value}${D}`}function fr(y){if(y.snapshot){const D=y.snapshot,m=y._futureSnapshot;y.snapshot=m,kn(D.queryParams,m.queryParams)||y.queryParamsSubject.next(m.queryParams),D.fragment!==m.fragment&&y.fragmentSubject.next(m.fragment),kn(D.params,m.params)||y.paramsSubject.next(m.params),function en(y,D){if(y.length!==D.length)return!1;for(let m=0;m<y.length;++m)if(!kn(y[m],D[m]))return!1;return!0}(D.url,m.url)||y.urlSubject.next(m.url),kn(D.data,m.data)||y.dataSubject.next(m.data)}else y.snapshot=y._futureSnapshot,y.dataSubject.next(y._futureSnapshot.data)}function Xi(y,D){const m=kn(y.params,D.params)&&function Br(y,D){return Sr(y,D)&&y.every((m,C)=>kn(m.parameters,D[C].parameters))}(y.url,D.url);return m&&!(!y.parent!=!D.parent)&&(!y.parent||Xi(y.parent,D.parent))}let br=(()=>{class y{constructor(){this.activated=null,this._activatedRoute=null,this.name=Ut,this.activateEvents=new S.bkB,this.deactivateEvents=new S.bkB,this.attachEvents=new S.bkB,this.detachEvents=new S.bkB,this.parentContexts=(0,S.WQX)(qt),this.location=(0,S.WQX)(S.c1b),this.changeDetector=(0,S.WQX)(S.gRc),this.environmentInjector=(0,S.WQX)(S.uvJ),this.inputBinder=(0,S.WQX)(li,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(m){if(m.name){const{firstChange:C,previousValue:N}=m.name;if(C)return;this.isTrackedInParentContexts(N)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(N)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(m){return this.parentContexts.getContext(m)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const m=this.parentContexts.getContext(this.name);m?.route&&(m.attachRef?this.attach(m.attachRef,m.route):this.activateWith(m.route,m.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new S.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new S.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new S.wOt(4012,!1);this.location.detach();const m=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(m.instance),m}attach(m,C){this.activated=m,this._activatedRoute=C,this.location.insert(m.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(m.instance)}deactivate(){if(this.activated){const m=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(m)}}activateWith(m,C){if(this.isActivated)throw new S.wOt(4013,!1);this._activatedRoute=m;const N=this.location,X=m.snapshot.component,Ce=this.parentContexts.getOrCreateContext(this.name).children,Ie=new xs(m,Ce,N.injector);this.activated=N.createComponent(X,{index:N.length,injector:Ie,environmentInjector:C??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(C){return new(C||y)}}static{this.\u0275dir=S.FsC({type:y,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[S.OA$]})}}return y})();class xs{constructor(D,m,C){this.route=D,this.childContexts=m,this.parent=C}get(D,m){return D===Gs?this.route:D===qt?this.childContexts:this.parent.get(D,m)}}const li=new S.nKC("");let Yt=(()=>{class y{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(m){this.unsubscribeFromRouteData(m),this.subscribeToRouteData(m)}unsubscribeFromRouteData(m){this.outletDataSubscriptions.get(m)?.unsubscribe(),this.outletDataSubscriptions.delete(m)}subscribeToRouteData(m){const{activatedRoute:C}=m,N=ut([C.queryParams,C.params,C.data]).pipe((0,gr.n)(([U,X,Ce],Ie)=>(Ce={...U,...X,...Ce},0===Ie?(0,q.of)(Ce):Promise.resolve(Ce)))).subscribe(U=>{if(!m.isActivated||!m.activatedComponentRef||m.activatedRoute!==C||null===C.component)return void this.unsubscribeFromRouteData(m);const X=(0,S.HJs)(C.component);if(X)for(const{templateName:Ce}of X.inputs)m.activatedComponentRef.setInput(Ce,U[Ce]);else this.unsubscribeFromRouteData(m)});this.outletDataSubscriptions.set(m,N)}static{this.\u0275fac=function(C){return new(C||y)}}static{this.\u0275prov=S.jDH({token:y,factory:y.\u0275fac})}}return y})();function di(y,D,m){if(m&&y.shouldReuseRoute(D.value,m.value.snapshot)){const C=m.value;C._futureSnapshot=D.value;const N=function Zo(y,D,m){return D.children.map(C=>{for(const N of m.children)if(y.shouldReuseRoute(C.value,N.value.snapshot))return di(y,C,N);return di(y,C)})}(y,D,m);return new qn(C,N)}{if(y.shouldAttach(D.value)){const U=y.retrieve(D.value);if(null!==U){const X=U.route;return X.value._futureSnapshot=D.value,X.children=D.children.map(Ce=>di(y,Ce)),X}}const C=function rr(y){return new Gs(new Z.t(y.url),new Z.t(y.params),new Z.t(y.queryParams),new Z.t(y.fragment),new Z.t(y.data),y.outlet,y.component,y)}(D.value),N=D.children.map(U=>di(y,U));return new qn(C,N)}}const so="ngNavigationCancelingError";function Ws(y,D){const{redirectTo:m,navigationBehaviorOptions:C}=tr(D)?{redirectTo:D,navigationBehaviorOptions:void 0}:D,N=Yi(!1,0,D);return N.url=m,N.navigationBehaviorOptions=C,N}function Yi(y,D,m){const C=new Error("NavigationCancelingError: "+(y||""));return C[so]=!0,C.cancellationCode=D,m&&(C.url=m),C}function Fi(y){return y&&y[so]}let vs=(()=>{class y{static{this.\u0275fac=function(C){return new(C||y)}}static{this.\u0275cmp=S.VBU({type:y,selectors:[["ng-component"]],standalone:!0,features:[S.aNF],decls:1,vars:0,template:function(C,N){1&C&&S.nrm(0,"router-outlet")},dependencies:[br],encapsulation:2})}}return y})();function Si(y){const D=y.children&&y.children.map(Si),m=D?{...y,children:D}:{...y};return!m.component&&!m.loadComponent&&(D||m.loadChildren)&&m.outlet&&m.outlet!==Ut&&(m.component=vs),m}function hi(y){return y.outlet||Ut}function co(y){if(!y)return null;if(y.routeConfig?._injector)return y.routeConfig._injector;for(let D=y.parent;D;D=D.parent){const m=D.routeConfig;if(m?._loadedInjector)return m._loadedInjector;if(m?._injector)return m._injector}return null}class lo{constructor(D,m,C,N,U){this.routeReuseStrategy=D,this.futureState=m,this.currState=C,this.forwardEvent=N,this.inputBindingEnabled=U}activate(D){const m=this.futureState._root,C=this.currState?this.currState._root:null;this.deactivateChildRoutes(m,C,D),fr(this.futureState.root),this.activateChildRoutes(m,C,D)}deactivateChildRoutes(D,m,C){const N=Mn(m);D.children.forEach(U=>{const X=U.value.outlet;this.deactivateRoutes(U,N[X],C),delete N[X]}),Object.values(N).forEach(U=>{this.deactivateRouteAndItsChildren(U,C)})}deactivateRoutes(D,m,C){const N=D.value,U=m?m.value:null;if(N===U)if(N.component){const X=C.getContext(N.outlet);X&&this.deactivateChildRoutes(D,m,X.children)}else this.deactivateChildRoutes(D,m,C);else U&&this.deactivateRouteAndItsChildren(m,C)}deactivateRouteAndItsChildren(D,m){D.value.component&&this.routeReuseStrategy.shouldDetach(D.value.snapshot)?this.detachAndStoreRouteSubtree(D,m):this.deactivateRouteAndOutlet(D,m)}detachAndStoreRouteSubtree(D,m){const C=m.getContext(D.value.outlet),N=C&&D.value.component?C.children:m,U=Mn(D);for(const X of Object.keys(U))this.deactivateRouteAndItsChildren(U[X],N);if(C&&C.outlet){const X=C.outlet.detach(),Ce=C.children.onOutletDeactivated();this.routeReuseStrategy.store(D.value.snapshot,{componentRef:X,route:D,contexts:Ce})}}deactivateRouteAndOutlet(D,m){const C=m.getContext(D.value.outlet),N=C&&D.value.component?C.children:m,U=Mn(D);for(const X of Object.keys(U))this.deactivateRouteAndItsChildren(U[X],N);C&&(C.outlet&&(C.outlet.deactivate(),C.children.onOutletDeactivated()),C.attachRef=null,C.route=null)}activateChildRoutes(D,m,C){const N=Mn(m);D.children.forEach(U=>{this.activateRoutes(U,N[U.value.outlet],C),this.forwardEvent(new Xo(U.value.snapshot))}),D.children.length&&this.forwardEvent(new Ss(D.value.snapshot))}activateRoutes(D,m,C){const N=D.value,U=m?m.value:null;if(fr(N),N===U)if(N.component){const X=C.getOrCreateContext(N.outlet);this.activateChildRoutes(D,m,X.children)}else this.activateChildRoutes(D,m,C);else if(N.component){const X=C.getOrCreateContext(N.outlet);if(this.routeReuseStrategy.shouldAttach(N.snapshot)){const Ce=this.routeReuseStrategy.retrieve(N.snapshot);this.routeReuseStrategy.store(N.snapshot,null),X.children.onOutletReAttached(Ce.contexts),X.attachRef=Ce.componentRef,X.route=Ce.route.value,X.outlet&&X.outlet.attach(Ce.componentRef,Ce.route.value),fr(Ce.route.value),this.activateChildRoutes(D,null,X.children)}else{const Ce=co(N.snapshot);X.attachRef=null,X.route=N,X.injector=Ce,X.outlet&&X.outlet.activateWith(N,X.injector),this.activateChildRoutes(D,null,X.children)}}else this.activateChildRoutes(D,null,C)}}class as{constructor(D){this.path=D,this.route=this.path[this.path.length-1]}}class Ns{constructor(D,m){this.component=D,this.route=m}}function xi(y,D,m){const C=y._root;return bi(C,D?D._root:null,m,[C.value])}function Gn(y,D){const m=Symbol(),C=D.get(y,m);return C===m?"function"!=typeof y||(0,S.LfX)(y)?D.get(y):y:C}function bi(y,D,m,C,N={canDeactivateChecks:[],canActivateChecks:[]}){const U=Mn(D);return y.children.forEach(X=>{(function iu(y,D,m,C,N={canDeactivateChecks:[],canActivateChecks:[]}){const U=y.value,X=D?D.value:null,Ce=m?m.getContext(y.value.outlet):null;if(X&&U.routeConfig===X.routeConfig){const Ie=function cc(y,D,m){if("function"==typeof m)return m(y,D);switch(m){case"pathParamsChange":return!Sr(y.url,D.url);case"pathParamsOrQueryParamsChange":return!Sr(y.url,D.url)||!kn(y.queryParams,D.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Xi(y,D)||!kn(y.queryParams,D.queryParams);default:return!Xi(y,D)}}(X,U,U.routeConfig.runGuardsAndResolvers);Ie?N.canActivateChecks.push(new as(C)):(U.data=X.data,U._resolvedData=X._resolvedData),bi(y,D,U.component?Ce?Ce.children:null:m,C,N),Ie&&Ce&&Ce.outlet&&Ce.outlet.isActivated&&N.canDeactivateChecks.push(new Ns(Ce.outlet.component,X))}else X&&ho(D,Ce,N),N.canActivateChecks.push(new as(C)),bi(y,null,U.component?Ce?Ce.children:null:m,C,N)})(X,U[X.value.outlet],m,C.concat([X.value]),N),delete U[X.value.outlet]}),Object.entries(U).forEach(([X,Ce])=>ho(Ce,m.getContext(X),N)),N}function ho(y,D,m){const C=Mn(y),N=y.value;Object.entries(C).forEach(([U,X])=>{ho(X,N.component?D?D.children.getContext(U):null:D,m)}),m.canDeactivateChecks.push(new Ns(N.component&&D&&D.outlet&&D.outlet.isActivated?D.outlet.component:null,N))}function Ks(y){return"function"==typeof y}function _s(y){return y instanceof bn||"EmptyError"===y?.name}const ea=Symbol("INITIAL_VALUE");function ri(){return(0,gr.n)(y=>ut(y.map(D=>D.pipe(er(1),function Bn(...y){const D=(0,ee.lI)(y);return(0,nt.N)((m,C)=>{(D?Je(y,m,D):Je(y,m)).subscribe(C)})}(ea)))).pipe((0,cn.T)(D=>{for(const m of D)if(!0!==m){if(m===ea)return ea;if(!1===m||m instanceof ei)return m}return!0}),ve(D=>D!==ea),er(1)))}function $r(y){return(0,dt.F)((0,_t.M)(D=>{if(tr(D))throw Ws(0,D)}),(0,cn.T)(D=>!0===D))}class vi{constructor(D){this.segmentGroup=D||null}}class ii{constructor(D){this.urlTree=D}}function ko(y){return Ge(new vi(y))}function ya(y){return Ge(new ii(y))}class Ai{constructor(D,m){this.urlSerializer=D,this.urlTree=m}noMatchError(D){return new S.wOt(4002,!1)}lineralizeSegments(D,m){let C=[],N=m.root;for(;;){if(C=C.concat(N.segments),0===N.numberOfChildren)return(0,q.of)(C);if(N.numberOfChildren>1||!N.children[Ut])return Ge(new S.wOt(4e3,!1));N=N.children[Ut]}}applyRedirectCommands(D,m,C){return this.applyRedirectCreateUrlTree(m,this.urlSerializer.parse(m),D,C)}applyRedirectCreateUrlTree(D,m,C,N){const U=this.createSegmentGroup(D,m.root,C,N);return new ei(U,this.createQueryParams(m.queryParams,this.urlTree.queryParams),m.fragment)}createQueryParams(D,m){const C={};return Object.entries(D).forEach(([N,U])=>{if("string"==typeof U&&U.startsWith(":")){const Ce=U.substring(1);C[N]=m[Ce]}else C[N]=U}),C}createSegmentGroup(D,m,C,N){const U=this.createSegments(D,m.segments,C,N);let X={};return Object.entries(m.children).forEach(([Ce,Ie])=>{X[Ce]=this.createSegmentGroup(D,Ie,C,N)}),new It(U,X)}createSegments(D,m,C,N){return m.map(U=>U.path.startsWith(":")?this.findPosParam(D,U,N):this.findOrReturn(U,C))}findPosParam(D,m,C){const N=C[m.path.substring(1)];if(!N)throw new S.wOt(4001,!1);return N}findOrReturn(D,m){let C=0;for(const N of m){if(N.path===D.path)return m.splice(C),N;C++}return D}}const Qs={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function xn(y,D,m,C,N){const U=Ua(y,D,m);return U.matched?(C=function Zi(y,D){return y.providers&&!y._injector&&(y._injector=(0,S.Ol2)(y.providers,D,`Route: ${y.path}`)),y._injector??D}(D,C),function Hr(y,D,m,C){const N=D.canMatch;if(!N||0===N.length)return(0,q.of)(!0);const U=N.map(X=>{const Ce=Gn(X,y);return Xn(function Oo(y){return y&&Ks(y.canMatch)}(Ce)?Ce.canMatch(D,m):y.runInContext(()=>Ce(D,m)))});return(0,q.of)(U).pipe(ri(),$r())}(C,D,m).pipe((0,cn.T)(X=>!0===X?U:{...Qs}))):(0,q.of)(U)}function Ua(y,D,m){if(""===D.path)return"full"===D.pathMatch&&(y.hasChildren()||m.length>0)?{...Qs}:{matched:!0,consumedSegments:[],remainingSegments:m,parameters:{},positionalParamSegments:{}};const N=(D.matcher||rn)(m,y,D);if(!N)return{...Qs};const U={};Object.entries(N.posParams??{}).forEach(([Ce,Ie])=>{U[Ce]=Ie.path});const X=N.consumed.length>0?{...U,...N.consumed[N.consumed.length-1].parameters}:U;return{matched:!0,consumedSegments:N.consumed,remainingSegments:m.slice(N.consumed.length),parameters:X,positionalParamSegments:N.posParams??{}}}function Lo(y,D,m,C){return m.length>0&&function po(y,D,m){return m.some(C=>na(y,D,C)&&hi(C)!==Ut)}(y,m,C)?{segmentGroup:new It(D,Xs(C,new It(m,y.children))),slicedSegments:[]}:0===m.length&&function Ni(y,D,m){return m.some(C=>na(y,D,C))}(y,m,C)?{segmentGroup:new It(y.segments,Os(y,0,m,C,y.children)),slicedSegments:m}:{segmentGroup:new It(y.segments,y.children),slicedSegments:m}}function Os(y,D,m,C,N){const U={};for(const X of C)if(na(y,m,X)&&!N[hi(X)]){const Ce=new It([],{});U[hi(X)]=Ce}return{...N,...U}}function Xs(y,D){const m={};m[Ut]=D;for(const C of y)if(""===C.path&&hi(C)!==Ut){const N=new It([],{});m[hi(C)]=N}return m}function na(y,D,m){return(!(y.hasChildren()||D.length>0)||"full"!==m.pathMatch)&&""===m.path}class Fr{constructor(D,m,C,N,U,X,Ce){this.injector=D,this.configLoader=m,this.rootComponentType=C,this.config=N,this.urlTree=U,this.paramsInheritanceStrategy=X,this.urlSerializer=Ce,this.allowRedirects=!0,this.applyRedirects=new Ai(this.urlSerializer,this.urlTree)}noMatchError(D){return new S.wOt(4002,!1)}recognize(){const D=Lo(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,D,Ut).pipe(on(m=>{if(m instanceof ii)return this.allowRedirects=!1,this.urlTree=m.urlTree,this.match(m.urlTree);throw m instanceof vi?this.noMatchError(m):m}),(0,cn.T)(m=>{const C=new Qt([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Ut,this.rootComponentType,null,{}),N=new qn(C,m),U=new Ln("",N),X=function yr(y,D,m=null,C=null){return yi(os(y),D,m,C)}(C,[],this.urlTree.queryParams,this.urlTree.fragment);return X.queryParams=this.urlTree.queryParams,U.url=this.urlSerializer.serialize(X),this.inheritParamsAndData(U._root),{state:U,tree:X}}))}match(D){return this.processSegmentGroup(this.injector,this.config,D.root,Ut).pipe(on(C=>{throw C instanceof vi?this.noMatchError(C):C}))}inheritParamsAndData(D){const m=D.value,C=vr(m,this.paramsInheritanceStrategy);m.params=Object.freeze(C.params),m.data=Object.freeze(C.data),D.children.forEach(N=>this.inheritParamsAndData(N))}processSegmentGroup(D,m,C,N){return 0===C.segments.length&&C.hasChildren()?this.processChildren(D,m,C):this.processSegment(D,m,C,C.segments,N,!0)}processChildren(D,m,C){const N=[];for(const U of Object.keys(C.children))"primary"===U?N.unshift(U):N.push(U);return(0,fe.H)(N).pipe(ot(U=>{const X=C.children[U],Ce=function vn(y,D){const m=y.filter(C=>hi(C)===D);return m.push(...y.filter(C=>hi(C)!==D)),m}(m,U);return this.processSegmentGroup(D,Ce,X,U)}),function _n(y,D){return(0,nt.N)(function Pt(y,D,m,C,N){return(U,X)=>{let Ce=m,Ie=D,gt=0;U.subscribe((0,Le._)(X,Zt=>{const Nn=gt++;Ie=Ce?y(Ie,Zt,Nn):(Ce=!0,Zt),C&&X.next(Ie)},N&&(()=>{Ce&&X.next(Ie),X.complete()})))}}(y,D,arguments.length>=2,!0))}((U,X)=>(U.push(...X),U)),be(null),function An(y,D){const m=arguments.length>=2;return C=>C.pipe(y?ve((N,U)=>y(N,U,C)):je.D,mn(1),m?be(D):Se(()=>new bn))}(),(0,ye.Z)(U=>{if(null===U)return ko(C);const X=F(U);return function mo(y){y.sort((D,m)=>D.value.outlet===Ut?-1:m.value.outlet===Ut?1:D.value.outlet.localeCompare(m.value.outlet))}(X),(0,q.of)(X)}))}processSegment(D,m,C,N,U,X){return(0,fe.H)(m).pipe(ot(Ce=>this.processSegmentAgainstRoute(Ce._injector??D,m,Ce,C,N,U,X).pipe(on(Ie=>{if(Ie instanceof vi)return(0,q.of)(null);throw Ie}))),qe(Ce=>!!Ce),on(Ce=>{if(_s(Ce))return function go(y,D,m){return 0===D.length&&!y.children[m]}(C,N,U)?(0,q.of)([]):ko(C);throw Ce}))}processSegmentAgainstRoute(D,m,C,N,U,X,Ce){return function va(y,D,m,C){return!!(hi(y)===C||C!==Ut&&na(D,m,y))&&("**"===y.path||Ua(D,y,m).matched)}(C,N,U,X)?void 0===C.redirectTo?this.matchSegmentAgainstRoute(D,N,C,U,X,Ce):Ce&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(D,N,m,C,U,X):ko(N):ko(N)}expandSegmentAgainstRouteUsingRedirect(D,m,C,N,U,X){return"**"===N.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(D,C,N,X):this.expandRegularSegmentAgainstRouteUsingRedirect(D,m,C,N,U,X)}expandWildCardWithParamsAgainstRouteUsingRedirect(D,m,C,N){const U=this.applyRedirects.applyRedirectCommands([],C.redirectTo,{});return C.redirectTo.startsWith("/")?ya(U):this.applyRedirects.lineralizeSegments(C,U).pipe((0,ye.Z)(X=>{const Ce=new It(X,{});return this.processSegment(D,m,Ce,X,N,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(D,m,C,N,U,X){const{matched:Ce,consumedSegments:Ie,remainingSegments:gt,positionalParamSegments:Zt}=Ua(m,N,U);if(!Ce)return ko(m);const Nn=this.applyRedirects.applyRedirectCommands(Ie,N.redirectTo,Zt);return N.redirectTo.startsWith("/")?ya(Nn):this.applyRedirects.lineralizeSegments(N,Nn).pipe((0,ye.Z)(Dn=>this.processSegment(D,C,m,Dn.concat(gt),X,!1)))}matchSegmentAgainstRoute(D,m,C,N,U,X){let Ce;if("**"===C.path){const Ie=N.length>0?Dr(N).parameters:{},gt=new Qt(N,Ie,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,k(C),hi(C),C.component??C._loadedComponent??null,C,Y(C));Ce=(0,q.of)({snapshot:gt,consumedSegments:[],remainingSegments:[]}),m.children={}}else Ce=xn(m,C,N,D).pipe((0,cn.T)(({matched:Ie,consumedSegments:gt,remainingSegments:Zt,parameters:Nn})=>Ie?{snapshot:new Qt(gt,Nn,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,k(C),hi(C),C.component??C._loadedComponent??null,C,Y(C)),consumedSegments:gt,remainingSegments:Zt}:null));return Ce.pipe((0,gr.n)(Ie=>null===Ie?ko(m):this.getChildConfig(D=C._injector??D,C,N).pipe((0,gr.n)(({routes:gt})=>{const Zt=C._loadedInjector??D,{snapshot:Nn,consumedSegments:Dn,remainingSegments:_o}=Ie,{segmentGroup:es,slicedSegments:Gr}=Lo(m,Dn,_o,gt);if(0===Gr.length&&es.hasChildren())return this.processChildren(Zt,gt,es).pipe((0,cn.T)(Rn=>null===Rn?null:[new qn(Nn,Rn)]));if(0===gt.length&&0===Gr.length)return(0,q.of)([new qn(Nn,[])]);const Zs=hi(C)===U;return this.processSegment(Zt,gt,es,Gr,Zs?Ut:U,!0).pipe((0,cn.T)(Rn=>[new qn(Nn,Rn)]))}))))}getChildConfig(D,m,C){return m.children?(0,q.of)({routes:m.children,injector:D}):m.loadChildren?void 0!==m._loadedRoutes?(0,q.of)({routes:m._loadedRoutes,injector:m._loadedInjector}):function Fu(y,D,m,C){const N=D.canLoad;if(void 0===N||0===N.length)return(0,q.of)(!0);const U=N.map(X=>{const Ce=Gn(X,y);return Xn(function lc(y){return y&&Ks(y.canLoad)}(Ce)?Ce.canLoad(D,m):y.runInContext(()=>Ce(D,m)))});return(0,q.of)(U).pipe(ri(),$r())}(D,m,C).pipe((0,ye.Z)(N=>N?this.configLoader.loadChildren(D,m).pipe((0,_t.M)(U=>{m._loadedRoutes=U.routes,m._loadedInjector=U.injector})):function ta(y){return Ge(Yi(!1,3))}())):(0,q.of)({routes:[],injector:D})}}function w(y){const D=y.value.routeConfig;return D&&""===D.path}function F(y){const D=[],m=new Set;for(const C of y){if(!w(C)){D.push(C);continue}const N=D.find(U=>C.value.routeConfig===U.value.routeConfig);void 0!==N?(N.children.push(...C.children),m.add(N)):D.push(C)}for(const C of m){const N=F(C.children);D.push(new qn(C.value,N))}return D.filter(C=>!m.has(C))}function k(y){return y.data||{}}function Y(y){return y.resolve||{}}function ln(y){return"string"==typeof y.title||null===y.title}function _r(y){return(0,gr.n)(D=>{const m=y(D);return m?(0,fe.H)(m).pipe((0,cn.T)(()=>D)):(0,q.of)(D)})}const Un=new S.nKC("ROUTES");let qr=(()=>{class y{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,S.WQX)(S.Ql9)}loadComponent(m){if(this.componentLoaders.get(m))return this.componentLoaders.get(m);if(m._loadedComponent)return(0,q.of)(m._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(m);const C=Xn(m.loadComponent()).pipe((0,cn.T)(ar),(0,_t.M)(U=>{this.onLoadEndListener&&this.onLoadEndListener(m),m._loadedComponent=U}),cr(()=>{this.componentLoaders.delete(m)})),N=new Ne(C,()=>new vt.B).pipe(ur());return this.componentLoaders.set(m,N),N}loadChildren(m,C){if(this.childrenLoaders.get(C))return this.childrenLoaders.get(C);if(C._loadedRoutes)return(0,q.of)({routes:C._loadedRoutes,injector:C._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(C);const U=function _i(y,D,m,C){return Xn(y.loadChildren()).pipe((0,cn.T)(ar),(0,ye.Z)(N=>N instanceof S.Co$||Array.isArray(N)?(0,q.of)(N):(0,fe.H)(D.compileModuleAsync(N))),(0,cn.T)(N=>{C&&C(y);let U,X,Ce=!1;return Array.isArray(N)?(X=N,!0):(U=N.create(m).injector,X=U.get(Un,[],{optional:!0,self:!0}).flat()),{routes:X.map(Si),injector:U}}))}(C,this.compiler,m,this.onLoadEndListener).pipe(cr(()=>{this.childrenLoaders.delete(C)})),X=new Ne(U,()=>new vt.B).pipe(ur());return this.childrenLoaders.set(C,X),X}static{this.\u0275fac=function(C){return new(C||y)}}static{this.\u0275prov=S.jDH({token:y,factory:y.\u0275fac,providedIn:"root"})}}return y})();function ar(y){return function Is(y){return y&&"object"==typeof y&&"default"in y}(y)?y.default:y}let Ir=(()=>{class y{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new vt.B,this.transitionAbortSubject=new vt.B,this.configLoader=(0,S.WQX)(qr),this.environmentInjector=(0,S.WQX)(S.uvJ),this.urlSerializer=(0,S.WQX)(fn),this.rootContexts=(0,S.WQX)(qt),this.inputBindingEnabled=null!==(0,S.WQX)(li,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,q.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=N=>this.events.next(new Pa(N)),this.configLoader.onLoadStartListener=N=>this.events.next(new ms(N))}complete(){this.transitions?.complete()}handleNavigationRequest(m){const C=++this.navigationId;this.transitions?.next({...this.transitions.value,...m,id:C})}setupNavigations(m,C,N){return this.transitions=new Z.t({id:0,currentUrlTree:C,currentRawUrl:C,currentBrowserUrl:C,extractedUrl:m.urlHandlingStrategy.extract(C),urlAfterRedirects:m.urlHandlingStrategy.extract(C),rawUrl:C,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:yn,restoredState:null,currentSnapshot:N.snapshot,targetSnapshot:null,currentRouterState:N,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(ve(U=>0!==U.id),(0,cn.T)(U=>({...U,extractedUrl:m.urlHandlingStrategy.extract(U.rawUrl)})),(0,gr.n)(U=>{this.currentTransition=U;let X=!1,Ce=!1;return(0,q.of)(U).pipe((0,_t.M)(Ie=>{this.currentNavigation={id:Ie.id,initialUrl:Ie.rawUrl,extractedUrl:Ie.extractedUrl,trigger:Ie.source,extras:Ie.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,gr.n)(Ie=>{const gt=Ie.currentBrowserUrl.toString(),Zt=!m.navigated||Ie.extractedUrl.toString()!==gt||gt!==Ie.currentUrlTree.toString();if(!Zt&&"reload"!==(Ie.extras.onSameUrlNavigation??m.onSameUrlNavigation)){const Dn="";return this.events.next(new Mr(Ie.id,this.urlSerializer.serialize(Ie.rawUrl),Dn,0)),Ie.resolve(null),Mt.w}if(m.urlHandlingStrategy.shouldProcessUrl(Ie.rawUrl))return(0,q.of)(Ie).pipe((0,gr.n)(Dn=>{const _o=this.transitions?.getValue();return this.events.next(new En(Dn.id,this.urlSerializer.serialize(Dn.extractedUrl),Dn.source,Dn.restoredState)),_o!==this.transitions?.getValue()?Mt.w:Promise.resolve(Dn)}),function xe(y,D,m,C,N,U){return(0,ye.Z)(X=>function cs(y,D,m,C,N,U,X="emptyOnly"){return new Fr(y,D,m,C,N,X,U).recognize()}(y,D,m,C,X.extractedUrl,N,U).pipe((0,cn.T)(({state:Ce,tree:Ie})=>({...X,targetSnapshot:Ce,urlAfterRedirects:Ie}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,m.config,this.urlSerializer,m.paramsInheritanceStrategy),(0,_t.M)(Dn=>{U.targetSnapshot=Dn.targetSnapshot,U.urlAfterRedirects=Dn.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:Dn.urlAfterRedirects};const _o=new Mo(Dn.id,this.urlSerializer.serialize(Dn.extractedUrl),this.urlSerializer.serialize(Dn.urlAfterRedirects),Dn.targetSnapshot);this.events.next(_o)}));if(Zt&&m.urlHandlingStrategy.shouldProcessUrl(Ie.currentRawUrl)){const{id:Dn,extractedUrl:_o,source:es,restoredState:Gr,extras:Zs}=Ie,Rn=new En(Dn,this.urlSerializer.serialize(_o),es,Gr);this.events.next(Rn);const Bu=qi(0,this.rootComponentType).snapshot;return this.currentTransition=U={...Ie,targetSnapshot:Bu,urlAfterRedirects:_o,extras:{...Zs,skipLocationChange:!1,replaceUrl:!1}},(0,q.of)(U)}{const Dn="";return this.events.next(new Mr(Ie.id,this.urlSerializer.serialize(Ie.extractedUrl),Dn,1)),Ie.resolve(null),Mt.w}}),(0,_t.M)(Ie=>{const gt=new nu(Ie.id,this.urlSerializer.serialize(Ie.extractedUrl),this.urlSerializer.serialize(Ie.urlAfterRedirects),Ie.targetSnapshot);this.events.next(gt)}),(0,cn.T)(Ie=>(this.currentTransition=U={...Ie,guards:xi(Ie.targetSnapshot,Ie.currentSnapshot,this.rootContexts)},U)),function ma(y,D){return(0,ye.Z)(m=>{const{targetSnapshot:C,currentSnapshot:N,guards:{canActivateChecks:U,canDeactivateChecks:X}}=m;return 0===X.length&&0===U.length?(0,q.of)({...m,guardsResult:!0}):function fo(y,D,m,C){return(0,fe.H)(y).pipe((0,ye.Z)(N=>function Po(y,D,m,C,N){const U=D&&D.routeConfig?D.routeConfig.canDeactivate:null;if(!U||0===U.length)return(0,q.of)(!0);const X=U.map(Ce=>{const Ie=co(D)??N,gt=Gn(Ce,Ie);return Xn(function La(y){return y&&Ks(y.canDeactivate)}(gt)?gt.canDeactivate(y,D,m,C):Ie.runInContext(()=>gt(y,D,m,C))).pipe(qe())});return(0,q.of)(X).pipe(ri())}(N.component,N.route,m,D,C)),qe(N=>!0!==N,!0))}(X,C,N,y).pipe((0,ye.Z)(Ce=>Ce&&function Vi(y){return"boolean"==typeof y}(Ce)?function su(y,D,m,C){return(0,fe.H)(D).pipe(ot(N=>Je(function ou(y,D){return null!==y&&D&&D(new Qo(y)),(0,q.of)(!0)}(N.route.parent,C),function qs(y,D){return null!==y&&D&&D(new Ms(y)),(0,q.of)(!0)}(N.route,C),function Bi(y,D,m){const C=D[D.length-1],U=D.slice(0,D.length-1).reverse().map(X=>function No(y){const D=y.routeConfig?y.routeConfig.canActivateChild:null;return D&&0!==D.length?{node:y,guards:D}:null}(X)).filter(X=>null!==X).map(X=>Re(()=>{const Ce=X.guards.map(Ie=>{const gt=co(X.node)??m,Zt=Gn(Ie,gt);return Xn(function Lu(y){return y&&Ks(y.canActivateChild)}(Zt)?Zt.canActivateChild(C,y):gt.runInContext(()=>Zt(C,y))).pipe(qe())});return(0,q.of)(Ce).pipe(ri())}));return(0,q.of)(U).pipe(ri())}(y,N.path,m),function us(y,D,m){const C=D.routeConfig?D.routeConfig.canActivate:null;if(!C||0===C.length)return(0,q.of)(!0);const N=C.map(U=>Re(()=>{const X=co(D)??m,Ce=Gn(U,X);return Xn(function Ro(y){return y&&Ks(y.canActivate)}(Ce)?Ce.canActivate(D,y):X.runInContext(()=>Ce(D,y))).pipe(qe())}));return(0,q.of)(N).pipe(ri())}(y,N.route,m))),qe(N=>!0!==N,!0))}(C,U,y,D):(0,q.of)(Ce)),(0,cn.T)(Ce=>({...m,guardsResult:Ce})))})}(this.environmentInjector,Ie=>this.events.next(Ie)),(0,_t.M)(Ie=>{if(U.guardsResult=Ie.guardsResult,tr(Ie.guardsResult))throw Ws(0,Ie.guardsResult);const gt=new da(Ie.id,this.urlSerializer.serialize(Ie.extractedUrl),this.urlSerializer.serialize(Ie.urlAfterRedirects),Ie.targetSnapshot,!!Ie.guardsResult);this.events.next(gt)}),ve(Ie=>!!Ie.guardsResult||(this.cancelNavigationTransition(Ie,"",3),!1)),_r(Ie=>{if(Ie.guards.canActivateChecks.length)return(0,q.of)(Ie).pipe((0,_t.M)(gt=>{const Zt=new xo(gt.id,this.urlSerializer.serialize(gt.extractedUrl),this.urlSerializer.serialize(gt.urlAfterRedirects),gt.targetSnapshot);this.events.next(Zt)}),(0,gr.n)(gt=>{let Zt=!1;return(0,q.of)(gt).pipe(function Be(y,D){return(0,ye.Z)(m=>{const{targetSnapshot:C,guards:{canActivateChecks:N}}=m;if(!N.length)return(0,q.of)(m);let U=0;return(0,fe.H)(N).pipe(ot(X=>function xt(y,D,m,C){const N=y.routeConfig,U=y._resolve;return void 0!==N?.title&&!ln(N)&&(U[wr]=N.title),function Zn(y,D,m,C){const N=function or(y){return[...Object.keys(y),...Object.getOwnPropertySymbols(y)]}(y);if(0===N.length)return(0,q.of)({});const U={};return(0,fe.H)(N).pipe((0,ye.Z)(X=>function Fn(y,D,m,C){const N=co(D)??C,U=Gn(y,N);return Xn(U.resolve?U.resolve(D,m):N.runInContext(()=>U(D,m)))}(y[X],D,m,C).pipe(qe(),(0,_t.M)(Ce=>{U[X]=Ce}))),mn(1),function tt(y){return(0,cn.T)(()=>y)}(U),on(X=>_s(X)?Mt.w:Ge(X)))}(U,y,D,C).pipe((0,cn.T)(X=>(y._resolvedData=X,y.data=vr(y,m).resolve,N&&ln(N)&&(y.data[wr]=N.title),null)))}(X.route,C,y,D)),(0,_t.M)(()=>U++),mn(1),(0,ye.Z)(X=>U===N.length?(0,q.of)(m):Mt.w))})}(m.paramsInheritanceStrategy,this.environmentInjector),(0,_t.M)({next:()=>Zt=!0,complete:()=>{Zt||this.cancelNavigationTransition(gt,"",2)}}))}),(0,_t.M)(gt=>{const Zt=new Oa(gt.id,this.urlSerializer.serialize(gt.extractedUrl),this.urlSerializer.serialize(gt.urlAfterRedirects),gt.targetSnapshot);this.events.next(Zt)}))}),_r(Ie=>{const gt=Zt=>{const Nn=[];Zt.routeConfig?.loadComponent&&!Zt.routeConfig._loadedComponent&&Nn.push(this.configLoader.loadComponent(Zt.routeConfig).pipe((0,_t.M)(Dn=>{Zt.component=Dn}),(0,cn.T)(()=>{})));for(const Dn of Zt.children)Nn.push(...gt(Dn));return Nn};return ut(gt(Ie.targetSnapshot.root)).pipe(be(),er(1))}),_r(()=>this.afterPreactivation()),(0,cn.T)(Ie=>{const gt=function Yo(y,D,m){const C=di(y,D._root,m?m._root:void 0);return new zs(C,D)}(m.routeReuseStrategy,Ie.targetSnapshot,Ie.currentRouterState);return this.currentTransition=U={...Ie,targetRouterState:gt},U}),(0,_t.M)(()=>{this.events.next(new ha)}),((y,D,m,C)=>(0,cn.T)(N=>(new lo(D,N.targetRouterState,N.currentRouterState,m,C).activate(y),N)))(this.rootContexts,m.routeReuseStrategy,Ie=>this.events.next(Ie),this.inputBindingEnabled),er(1),(0,_t.M)({next:Ie=>{X=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new nr(Ie.id,this.urlSerializer.serialize(Ie.extractedUrl),this.urlSerializer.serialize(Ie.urlAfterRedirects))),m.titleStrategy?.updateTitle(Ie.targetRouterState.snapshot),Ie.resolve(!0)},complete:()=>{X=!0}}),function gi(y){return(0,nt.N)((D,m)=>{(0,Qe.Tg)(y).subscribe((0,Le._)(m,()=>m.complete(),Kn.l)),!m.closed&&D.subscribe(m)})}(this.transitionAbortSubject.pipe((0,_t.M)(Ie=>{throw Ie}))),cr(()=>{X||Ce||this.cancelNavigationTransition(U,"",1),this.currentNavigation?.id===U.id&&(this.currentNavigation=null)}),on(Ie=>{if(Ce=!0,Fi(Ie))this.events.next(new jr(U.id,this.urlSerializer.serialize(U.extractedUrl),Ie.message,Ie.cancellationCode)),function oo(y){return Fi(y)&&tr(y.url)}(Ie)?this.events.next(new fa(Ie.url)):U.resolve(!1);else{this.events.next(new Lr(U.id,this.urlSerializer.serialize(U.extractedUrl),Ie,U.targetSnapshot??void 0));try{U.resolve(m.errorHandler(Ie))}catch(gt){U.reject(gt)}}return Mt.w}))}))}cancelNavigationTransition(m,C,N){const U=new jr(m.id,this.urlSerializer.serialize(m.extractedUrl),C,N);this.events.next(U),m.resolve(!1)}static{this.\u0275fac=function(C){return new(C||y)}}static{this.\u0275prov=S.jDH({token:y,factory:y.\u0275fac,providedIn:"root"})}}return y})();function Ur(y){return y!==yn}let ws=(()=>{class y{buildTitle(m){let C,N=m.root;for(;void 0!==N;)C=this.getResolvedTitleForRoute(N)??C,N=N.children.find(U=>U.outlet===Ut);return C}getResolvedTitleForRoute(m){return m.data[wr]}static{this.\u0275fac=function(C){return new(C||y)}}static{this.\u0275prov=S.jDH({token:y,factory:function(){return(0,S.WQX)(ra)},providedIn:"root"})}}return y})(),ra=(()=>{class y extends ws{constructor(m){super(),this.title=m}updateTitle(m){const C=this.buildTitle(m);void 0!==C&&this.title.setTitle(C)}static{this.\u0275fac=function(C){return new(C||y)(S.KVO(Xt.hE))}}static{this.\u0275prov=S.jDH({token:y,factory:y.\u0275fac,providedIn:"root"})}}return y})(),Ye=(()=>{class y{static{this.\u0275fac=function(C){return new(C||y)}}static{this.\u0275prov=S.jDH({token:y,factory:function(){return(0,S.WQX)(ls)},providedIn:"root"})}}return y})();class zr{shouldDetach(D){return!1}store(D,m){}shouldAttach(D){return!1}retrieve(D){return null}shouldReuseRoute(D,m){return D.routeConfig===m.routeConfig}}let ls=(()=>{class y extends zr{static{this.\u0275fac=function(){let m;return function(N){return(m||(m=S.xGo(y)))(N||y)}}()}static{this.\u0275prov=S.jDH({token:y,factory:y.\u0275fac,providedIn:"root"})}}return y})();const _a=new S.nKC("",{providedIn:"root",factory:()=>({})});let wt=(()=>{class y{static{this.\u0275fac=function(C){return new(C||y)}}static{this.\u0275prov=S.jDH({token:y,factory:function(){return(0,S.WQX)(Nt)},providedIn:"root"})}}return y})(),Nt=(()=>{class y{shouldProcessUrl(m){return!0}extract(m){return m}merge(m,C){return m}static{this.\u0275fac=function(C){return new(C||y)}}static{this.\u0275prov=S.jDH({token:y,factory:y.\u0275fac,providedIn:"root"})}}return y})();var ds=function(y){return y[y.COMPLETE=0]="COMPLETE",y[y.FAILED=1]="FAILED",y[y.REDIRECTING=2]="REDIRECTING",y}(ds||{});function pt(y,D){y.events.pipe(ve(m=>m instanceof nr||m instanceof jr||m instanceof Lr||m instanceof Mr),(0,cn.T)(m=>m instanceof nr||m instanceof Mr?ds.COMPLETE:m instanceof jr&&(0===m.code||1===m.code)?ds.REDIRECTING:ds.FAILED),ve(m=>m!==ds.REDIRECTING),er(1)).subscribe(()=>{D()})}function Me(y){throw y}function Pe(y,D,m){return D.parse("/")}const Qr={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},au={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Nr=(()=>{class y{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,S.WQX)(S.H3F),this.isNgZoneEnabled=!1,this._events=new vt.B,this.options=(0,S.WQX)(_a,{optional:!0})||{},this.pendingTasks=(0,S.WQX)(S.$K3),this.errorHandler=this.options.errorHandler||Me,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Pe,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,S.WQX)(wt),this.routeReuseStrategy=(0,S.WQX)(Ye),this.titleStrategy=(0,S.WQX)(ws),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,S.WQX)(Un,{optional:!0})?.flat()??[],this.navigationTransitions=(0,S.WQX)(Ir),this.urlSerializer=(0,S.WQX)(fn),this.location=(0,S.WQX)(Pn.aZ),this.componentInputBindingEnabled=!!(0,S.WQX)(li,{optional:!0}),this.eventsSubscription=new hn.yU,this.isNgZoneEnabled=(0,S.WQX)(S.SKi)instanceof S.SKi&&S.SKi.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new ei,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=qi(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(m=>{this.lastSuccessfulId=m.id,this.currentPageId=this.browserPageId},m=>{this.console.warn(`Unhandled Navigation Error: ${m}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const m=this.navigationTransitions.events.subscribe(C=>{try{const{currentTransition:N}=this.navigationTransitions;if(null===N)return void(qc(C)&&this._events.next(C));if(C instanceof En)Ur(N.source)&&(this.browserUrlTree=N.extractedUrl);else if(C instanceof Mr)this.rawUrlTree=N.rawUrl;else if(C instanceof Mo){if("eager"===this.urlUpdateStrategy){if(!N.extras.skipLocationChange){const U=this.urlHandlingStrategy.merge(N.urlAfterRedirects,N.rawUrl);this.setBrowserUrl(U,N)}this.browserUrlTree=N.urlAfterRedirects}}else if(C instanceof ha)this.currentUrlTree=N.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(N.urlAfterRedirects,N.rawUrl),this.routerState=N.targetRouterState,"deferred"===this.urlUpdateStrategy&&(N.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,N),this.browserUrlTree=N.urlAfterRedirects);else if(C instanceof jr)0!==C.code&&1!==C.code&&(this.navigated=!0),(3===C.code||2===C.code)&&this.restoreHistory(N);else if(C instanceof fa){const U=this.urlHandlingStrategy.merge(C.url,N.currentRawUrl),X={skipLocationChange:N.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Ur(N.source)};this.scheduleNavigation(U,yn,null,X,{resolve:N.resolve,reject:N.reject,promise:N.promise})}C instanceof Lr&&this.restoreHistory(N,!0),C instanceof nr&&(this.navigated=!0),qc(C)&&this._events.next(C)}catch(N){this.navigationTransitions.transitionAbortSubject.next(N)}});this.eventsSubscription.add(m)}resetRootComponentType(m){this.routerState.root.component=m,this.navigationTransitions.rootComponentType=m}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const m=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),yn,m)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(m=>{const C="popstate"===m.type?"popstate":"hashchange";"popstate"===C&&setTimeout(()=>{this.navigateToSyncWithBrowser(m.url,C,m.state)},0)}))}navigateToSyncWithBrowser(m,C,N){const U={replaceUrl:!0},X=N?.navigationId?N:null;if(N){const Ie={...N};delete Ie.navigationId,delete Ie.\u0275routerPageId,0!==Object.keys(Ie).length&&(U.state=Ie)}const Ce=this.parseUrl(m);this.scheduleNavigation(Ce,C,X,U)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(m){this.config=m.map(Si),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(m,C={}){const{relativeTo:N,queryParams:U,fragment:X,queryParamsHandling:Ce,preserveFragment:Ie}=C,gt=Ie?this.currentUrlTree.fragment:X;let Nn,Zt=null;switch(Ce){case"merge":Zt={...this.currentUrlTree.queryParams,...U};break;case"preserve":Zt=this.currentUrlTree.queryParams;break;default:Zt=U||null}null!==Zt&&(Zt=this.removeEmptyProps(Zt));try{Nn=os(N?N.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof m[0]||!m[0].startsWith("/"))&&(m=[]),Nn=this.currentUrlTree.root}return yi(Nn,m,Zt,gt??null)}navigateByUrl(m,C={skipLocationChange:!1}){const N=tr(m)?m:this.parseUrl(m),U=this.urlHandlingStrategy.merge(N,this.rawUrlTree);return this.scheduleNavigation(U,yn,null,C)}navigate(m,C={skipLocationChange:!1}){return function Uu(y){for(let D=0;D<y.length;D++)if(null==y[D])throw new S.wOt(4008,!1)}(m),this.navigateByUrl(this.createUrlTree(m,C),C)}serializeUrl(m){return this.urlSerializer.serialize(m)}parseUrl(m){let C;try{C=this.urlSerializer.parse(m)}catch(N){C=this.malformedUriErrorHandler(N,this.urlSerializer,m)}return C}isActive(m,C){let N;if(N=!0===C?{...Qr}:!1===C?{...au}:C,tr(m))return wn(this.currentUrlTree,m,N);const U=this.parseUrl(m);return wn(this.currentUrlTree,U,N)}removeEmptyProps(m){return Object.keys(m).reduce((C,N)=>{const U=m[N];return null!=U&&(C[N]=U),C},{})}scheduleNavigation(m,C,N,U,X){if(this.disposed)return Promise.resolve(!1);let Ce,Ie,gt;X?(Ce=X.resolve,Ie=X.reject,gt=X.promise):gt=new Promise((Nn,Dn)=>{Ce=Nn,Ie=Dn});const Zt=this.pendingTasks.add();return pt(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(Zt))}),this.navigationTransitions.handleNavigationRequest({source:C,restoredState:N,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:m,extras:U,resolve:Ce,reject:Ie,promise:gt,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),gt.catch(Nn=>Promise.reject(Nn))}setBrowserUrl(m,C){const N=this.urlSerializer.serialize(m);if(this.location.isCurrentPathEqualTo(N)||C.extras.replaceUrl){const X={...C.extras.state,...this.generateNgRouterState(C.id,this.browserPageId)};this.location.replaceState(N,"",X)}else{const U={...C.extras.state,...this.generateNgRouterState(C.id,this.browserPageId+1)};this.location.go(N,"",U)}}restoreHistory(m,C=!1){if("computed"===this.canceledNavigationResolution){const U=this.currentPageId-this.browserPageId;0!==U?this.location.historyGo(U):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===U&&(this.resetState(m),this.browserUrlTree=m.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(C&&this.resetState(m),this.resetUrlToCurrentUrlTree())}resetState(m){this.routerState=m.currentRouterState,this.currentUrlTree=m.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,m.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(m,C){return"computed"===this.canceledNavigationResolution?{navigationId:m,\u0275routerPageId:C}:{navigationId:m}}static{this.\u0275fac=function(C){return new(C||y)}}static{this.\u0275prov=S.jDH({token:y,factory:y.\u0275fac,providedIn:"root"})}}return y})();function qc(y){return!(y instanceof ha||y instanceof fa)}let yo=(()=>{class y{constructor(m,C,N,U,X,Ce){this.router=m,this.route=C,this.tabIndexAttribute=N,this.renderer=U,this.el=X,this.locationStrategy=Ce,this.href=null,this.commands=null,this.onChanges=new vt.B,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const Ie=X.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===Ie||"area"===Ie,this.isAnchorElement?this.subscription=m.events.subscribe(gt=>{gt instanceof nr&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(m){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",m)}ngOnChanges(m){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(m){null!=m?(this.commands=Array.isArray(m)?m:[m],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(m,C,N,U,X){return!!(null===this.urlTree||this.isAnchorElement&&(0!==m||C||N||U||X||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const m=null===this.href?null:(0,S.n$t)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",m)}applyAttributeValue(m,C){const N=this.renderer,U=this.el.nativeElement;null!==C?N.setAttribute(U,m,C):N.removeAttribute(U,m)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(C){return new(C||y)(S.rXU(Nr),S.rXU(Gs),S.kS0("tabindex"),S.rXU(S.sFG),S.rXU(S.aKT),S.rXU(Pn.hb))}}static{this.\u0275dir=S.FsC({type:y,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(C,N){1&C&&S.bIt("click",function(X){return N.onClick(X.button,X.ctrlKey,X.shiftKey,X.altKey,X.metaKey)}),2&C&&S.BMQ("target",N.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",S.L39],skipLocationChange:["skipLocationChange","skipLocationChange",S.L39],replaceUrl:["replaceUrl","replaceUrl",S.L39],routerLink:"routerLink"},standalone:!0,features:[S.GFd,S.OA$]})}}return y})();class uu{}let Va=(()=>{class y{constructor(m,C,N,U,X){this.router=m,this.injector=N,this.preloadingStrategy=U,this.loader=X}setUpPreloading(){this.subscription=this.router.events.pipe(ve(m=>m instanceof nr),ot(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(m,C){const N=[];for(const U of C){U.providers&&!U._injector&&(U._injector=(0,S.Ol2)(U.providers,m,`Route: ${U.path}`));const X=U._injector??m,Ce=U._loadedInjector??X;(U.loadChildren&&!U._loadedRoutes&&void 0===U.canLoad||U.loadComponent&&!U._loadedComponent)&&N.push(this.preloadConfig(X,U)),(U.children||U._loadedRoutes)&&N.push(this.processRoutes(Ce,U.children??U._loadedRoutes))}return(0,fe.H)(N).pipe((0,Gt.U)())}preloadConfig(m,C){return this.preloadingStrategy.preload(C,()=>{let N;N=C.loadChildren&&void 0===C.canLoad?this.loader.loadChildren(m,C):(0,q.of)(null);const U=N.pipe((0,ye.Z)(X=>null===X?(0,q.of)(void 0):(C._loadedRoutes=X.routes,C._loadedInjector=X.injector,this.processRoutes(X.injector??m,X.routes))));if(C.loadComponent&&!C._loadedComponent){const X=this.loader.loadComponent(C);return(0,fe.H)([U,X]).pipe((0,Gt.U)())}return U})}static{this.\u0275fac=function(C){return new(C||y)(S.KVO(Nr),S.KVO(S.Ql9),S.KVO(S.uvJ),S.KVO(uu),S.KVO(qr))}}static{this.\u0275prov=S.jDH({token:y,factory:y.\u0275fac,providedIn:"root"})}}return y})();const bt=new S.nKC("");let Fo=(()=>{class y{constructor(m,C,N,U,X={}){this.urlSerializer=m,this.transitions=C,this.viewportScroller=N,this.zone=U,this.options=X,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},X.scrollPositionRestoration=X.scrollPositionRestoration||"disabled",X.anchorScrolling=X.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(m=>{m instanceof En?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=m.navigationTrigger,this.restoredId=m.restoredState?m.restoredState.navigationId:0):m instanceof nr?(this.lastId=m.id,this.scheduleScrollEvent(m,this.urlSerializer.parse(m.urlAfterRedirects).fragment)):m instanceof Mr&&0===m.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(m,this.urlSerializer.parse(m.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(m=>{m instanceof Hs&&(m.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(m.position):m.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(m.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(m,C){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Hs(m,"popstate"===this.lastSource?this.store[this.restoredId]:null,C))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(C){S.QTQ()}}static{this.\u0275prov=S.jDH({token:y,factory:y.\u0275fac})}}return y})();function Ct(y,D){return{\u0275kind:y,\u0275providers:D}}function ht(){const y=(0,S.WQX)(S.zZn);return D=>{const m=y.get(S.o8S);if(D!==m.components[0])return;const C=y.get(Nr),N=y.get(Uo);1===y.get(Vo)&&C.initialNavigation(),y.get(pc,null,S.$GK.Optional)?.setUpPreloading(),y.get(bt,null,S.$GK.Optional)?.init(),C.resetRootComponentType(m.componentTypes[0]),N.closed||(N.next(),N.complete(),N.unsubscribe())}}const Uo=new S.nKC("",{factory:()=>new vt.B}),Vo=new S.nKC("",{providedIn:"root",factory:()=>1}),pc=new S.nKC("");function ia(y){return Ct(0,[{provide:pc,useExisting:Va},{provide:uu,useExisting:y}])}const fi=new S.nKC("ROUTER_FORROOT_GUARD"),Ps=[Pn.aZ,{provide:fn,useClass:dr},Nr,qt,{provide:Gs,useFactory:function Ar(y){return y.routerState.root},deps:[Nr]},qr,[]];function Bo(){return new S.NEm("Router",Nr)}let me=(()=>{class y{constructor(m){}static forRoot(m,C){return{ngModule:y,providers:[Ps,[],{provide:Un,multi:!0,useValue:m},{provide:fi,useFactory:wa,deps:[[Nr,new S.Xx1,new S.kdw]]},{provide:_a,useValue:C||{}},C?.useHash?{provide:Pn.hb,useClass:Pn.fw}:{provide:Pn.hb,useClass:Pn.Sm},{provide:bt,useFactory:()=>{const y=(0,S.WQX)(Pn.Xr),D=(0,S.WQX)(S.SKi),m=(0,S.WQX)(_a),C=(0,S.WQX)(Ir),N=(0,S.WQX)(fn);return m.scrollOffset&&y.setOffset(m.scrollOffset),new Fo(N,C,y,D,m)}},C?.preloadingStrategy?ia(C.preloadingStrategy).\u0275providers:[],{provide:S.NEm,multi:!0,useFactory:Bo},C?.initialNavigation?vo(C):[],C?.bindToComponentInputs?Ct(8,[Yt,{provide:li,useExisting:Yt}]).\u0275providers:[],[{provide:si,useFactory:ht},{provide:S.iLQ,multi:!0,useExisting:si}]]}}static forChild(m){return{ngModule:y,providers:[{provide:Un,multi:!0,useValue:m}]}}static{this.\u0275fac=function(C){return new(C||y)(S.KVO(fi,8))}}static{this.\u0275mod=S.$C({type:y})}static{this.\u0275inj=S.G2t({})}}return y})();function wa(y){return"guarded"}function vo(y){return["disabled"===y.initialNavigation?Ct(3,[{provide:S.hnV,multi:!0,useFactory:()=>{const D=(0,S.WQX)(Nr);return()=>{D.setUpLocationChangeListener()}}},{provide:Vo,useValue:2}]).\u0275providers:[],"enabledBlocking"===y.initialNavigation?Ct(2,[{provide:Vo,useValue:0},{provide:S.hnV,multi:!0,deps:[S.zZn],useFactory:D=>{const m=D.get(Pn.hj,Promise.resolve());return()=>m.then(()=>new Promise(C=>{const N=D.get(Nr),U=D.get(Uo);pt(N,()=>{C(!0)}),D.get(Ir).afterPreactivation=()=>(C(!0),U.closed?(0,q.of)(void 0):U),N.initialNavigation()}))}}]).\u0275providers:[]]}const si=new S.nKC("")},467:(jt,He,K)=>{function S(ce,we,fe,q,Z,Xe,je){try{var re=ce[Xe](je),ee=re.value}catch(ge){return void fe(ge)}re.done?we(ee):Promise.resolve(ee).then(q,Z)}function ie(ce){return function(){var we=this,fe=arguments;return new Promise(function(q,Z){var Xe=ce.apply(we,fe);function je(ee){S(Xe,q,Z,je,re,"next",ee)}function re(ee){S(Xe,q,Z,je,re,"throw",ee)}je(void 0)})}}K.d(He,{A:()=>ie})},1635:(jt,He,K)=>{function we(ve,ye){var be={};for(var Se in ve)Object.prototype.hasOwnProperty.call(ve,Se)&&ye.indexOf(Se)<0&&(be[Se]=ve[Se]);if(null!=ve&&"function"==typeof Object.getOwnPropertySymbols){var Ke=0;for(Se=Object.getOwnPropertySymbols(ve);Ke<Se.length;Ke++)ye.indexOf(Se[Ke])<0&&Object.prototype.propertyIsEnumerable.call(ve,Se[Ke])&&(be[Se[Ke]]=ve[Se[Ke]])}return be}function ge(ve,ye,be,Se){return new(be||(be=Promise))(function(qe,ot){function _t(_n){try{Pt(Se.next(_n))}catch(mn){ot(mn)}}function on(_n){try{Pt(Se.throw(_n))}catch(mn){ot(mn)}}function Pt(_n){_n.done?qe(_n.value):function Ke(qe){return qe instanceof be?qe:new be(function(ot){ot(qe)})}(_n.value).then(_t,on)}Pt((Se=Se.apply(ve,ye||[])).next())})}function Ze(ve){return this instanceof Ze?(this.v=ve,this):new Ze(ve)}function Je(ve,ye,be){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ke,Se=be.apply(ve,ye||[]),qe=[];return Ke=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),_t("next"),_t("throw"),_t("return",function ot(tt){return function(cr){return Promise.resolve(cr).then(tt,mn)}}),Ke[Symbol.asyncIterator]=function(){return this},Ke;function _t(tt,cr){Se[tt]&&(Ke[tt]=function(Kn){return new Promise(function(gi,Xt){qe.push([tt,Kn,gi,Xt])>1||on(tt,Kn)})},cr&&(Ke[tt]=cr(Ke[tt])))}function on(tt,cr){try{!function Pt(tt){tt.value instanceof Ze?Promise.resolve(tt.value.v).then(_n,mn):An(qe[0][2],tt)}(Se[tt](cr))}catch(Kn){An(qe[0][3],Kn)}}function _n(tt){on("next",tt)}function mn(tt){on("throw",tt)}function An(tt,cr){tt(cr),qe.shift(),qe.length&&on(qe[0][0],qe[0][1])}}function Re(ve){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var be,ye=ve[Symbol.asyncIterator];return ye?ye.call(ve):(ve=function st(ve){var ye="function"==typeof Symbol&&Symbol.iterator,be=ye&&ve[ye],Se=0;if(be)return be.call(ve);if(ve&&"number"==typeof ve.length)return{next:function(){return ve&&Se>=ve.length&&(ve=void 0),{value:ve&&ve[Se++],done:!ve}}};throw new TypeError(ye?"Object is not iterable.":"Symbol.iterator is not defined.")}(ve),be={},Se("next"),Se("throw"),Se("return"),be[Symbol.asyncIterator]=function(){return this},be);function Se(qe){be[qe]=ve[qe]&&function(ot){return new Promise(function(_t,on){!function Ke(qe,ot,_t,on){Promise.resolve(on).then(function(Pt){qe({value:Pt,done:_t})},ot)}(_t,on,(ot=ve[qe](ot)).done,ot.value)})}}}K.d(He,{AQ:()=>Je,N3:()=>Ze,Tt:()=>we,sH:()=>ge,xN:()=>Re}),"function"==typeof SuppressedError&&SuppressedError}},jt=>{jt(jt.s=226)}]);