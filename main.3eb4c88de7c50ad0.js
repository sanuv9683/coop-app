"use strict";(self.webpackChunkcoop_app=self.webpackChunkcoop_app||[]).push([[792],{8934:(It,Ne,H)=>{H.d(Ne,{MW:()=>Le,Wp:()=>Dt,XU:()=>le,gL:()=>V});var C=H(7037),Z=H(540),te=H(9126);class le{constructor(Re){return Re}}class V{constructor(){return(0,C.Dk)()}}const qe=new Z.nKC("angularfire2._apps"),Te={provide:le,useFactory:function Ee(De){return De&&1===De.length?De[0]:new le((0,C.Sx)())},deps:[[new Z.Xx1,qe]]},X={provide:V,deps:[[new Z.Xx1,qe]]};function K(De){return(Re,be)=>{const Ye=Re.runOutsideAngular(()=>De(be));return new le(Ye)}}let pe=(()=>{class De{constructor(be){(0,C.KO)("angularfire",te.xv.full,"core"),(0,C.KO)("angularfire",te.xv.full,"app"),(0,C.KO)("angular",Z.xvI.full,be.toString())}}return De.\u0275fac=function(be){return new(be||De)(Z.KVO(Z.Agw))},De.\u0275mod=Z.$C({type:De}),De.\u0275inj=Z.G2t({providers:[Te,X]}),De})();function Le(De,...Re){return{ngModule:pe,providers:[{provide:qe,useFactory:K(De),multi:!0,deps:[Z.SKi,Z.zZn,te.u0,...Re]}]}}const Dt=(0,te.S3)(C.Wp,!0)},5510:(It,Ne,H)=>{H.d(Ne,{_7:()=>TT,gS:()=>cM,rJ:()=>lM,GG:()=>dM,aU:()=>hM,hV:()=>uM,P:()=>fM,_M:()=>pM});var C=H(9126),Z=H(540),te=H(8934),le=H(7037),V=H(467),J=H(1401),Ee=H(2979),qe=H(1635),Te=H(5398),X=H(8779);const pn=function Dt(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},yn=new J.FA("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Re=new Te.Vy("@firebase/auth");function Ye(n,...e){Re.logLevel<=Te.$b.ERROR&&Re.error(`Auth (${Ee.MF}): ${n}`,...e)}function at(n,...e){throw Ln(n,...e)}function Ge(n,...e){return Ln(n,...e)}function Ln(n,...e){if("string"!=typeof n){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return yn.create(n,...e)}function Be(n,e,...t){if(!n)throw Ln(e,...t)}function Gn(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Ye(e),new Error(e)}function He(n,e){n||Gn(e)}function bt(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.protocol)||null}class se{constructor(e,t){this.shortDelay=e,this.longDelay=t,He(t>e,"Short delay should be less than long delay!"),this.isMobile=(0,J.jZ)()||(0,J.lV)()}get(){return function zr(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function Xe(){return"http:"===bt()||"https:"===bt()}()||(0,J.sr)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}class ue{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Gn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Gn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Gn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const me={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Oe=new se(3e4,6e4);function je(n,e,t,i){return wt.apply(this,arguments)}function wt(){return(wt=(0,V.A)(function*(n,e,t,i,a={}){return Zt(n,a,(0,V.A)(function*(){let c={},d={};i&&("GET"===e?d=i:c={body:JSON.stringify(i)});const p=(0,J.Am)(Object.assign({key:n.config.apiKey},d)).slice(1),T=yield n._getAdditionalHeaders();return T["Content-Type"]="application/json",n.languageCode&&(T["X-Firebase-Locale"]=n.languageCode),ue.fetch()(Gr(n,n.config.apiHost,t,p),Object.assign({method:e,headers:T,referrerPolicy:"no-referrer"},c))}))})).apply(this,arguments)}function Zt(n,e,t){return vt.apply(this,arguments)}function vt(){return(vt=(0,V.A)(function*(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},me),e);try{const a=new Pt(n),c=yield Promise.race([t(),a.promise]);a.clearNetworkTimeout();const d=yield c.json();if("needConfirmation"in d)throw On(n,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[T,A]=p.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===T)throw On(n,"credential-already-in-use",d);if("EMAIL_EXISTS"===T)throw On(n,"email-already-in-use",d);if("USER_DISABLED"===T)throw On(n,"user-disabled",d);const R=i[T]||T.toLowerCase().replace(/[_\s]+/g,"-");if(A)throw function $e(n,e,t){const i=Object.assign(Object.assign({},pn()),{[e]:t});return new J.FA("auth","Firebase",i).create(e,{appName:n.name})}(n,R,A);at(n,R)}}catch(a){if(a instanceof J.g)throw a;at(n,"network-request-failed",{message:String(a)})}})).apply(this,arguments)}function Gr(n,e,t,i){const a=`${e}${t}?${i}`;return n.config.emulator?function ae(n,e){He(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}(n.config,a):`${n.config.apiScheme}://${a}`}class Pt{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(Ge(this.auth,"network-request-failed")),Oe.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function On(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const a=Ge(n,e,i);return a.customData._tokenResponse=t,a}function dt(){return(dt=(0,V.A)(function*(n,e){return je(n,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function Jt(){return(Jt=(0,V.A)(function*(n,e){return je(n,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function Mn(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function xn(){return(xn=(0,V.A)(function*(n,e=!1){const t=(0,J.Ku)(n),i=yield t.getIdToken(e),a=_r(i);Be(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const c="object"==typeof a.firebase?a.firebase:void 0,d=c?.sign_in_provider;return{claims:a,token:i,authTime:Mn(lr(a.auth_time)),issuedAtTime:Mn(lr(a.iat)),expirationTime:Mn(lr(a.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}})).apply(this,arguments)}function lr(n){return 1e3*Number(n)}function _r(n){const[e,t,i]=n.split(".");if(void 0===e||void 0===t||void 0===i)return Ye("JWT malformed, contained fewer than 3 sections"),null;try{const a=(0,J.u)(t);return a?JSON.parse(a):(Ye("Failed to decode base64 JWT payload"),null)}catch(a){return Ye("Caught error parsing JWT payload as JSON",a?.toString()),null}}function hn(n,e){return Bi.apply(this,arguments)}function Bi(){return(Bi=(0,V.A)(function*(n,e,t=!1){if(t)return e;try{return yield e}catch(i){throw i instanceof J.g&&function bn({code:n}){return"auth/user-disabled"===n||"auth/user-token-expired"===n}(i)&&n.auth.currentUser===n&&(yield n.auth.signOut()),i}})).apply(this,arguments)}class Ni{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),i}{this.errorBackoff=3e4;const a=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){var t=this;if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout((0,V.A)(function*(){yield t.iteration()}),i)}iteration(){var e=this;return(0,V.A)(function*(){try{yield e.user.getIdToken(!0)}catch(t){return void("auth/network-request-failed"===t?.code&&e.schedule(!0))}e.schedule()})()}}class Ze{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Mn(this.lastLoginAt),this.creationTime=Mn(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function hi(n){return fi.apply(this,arguments)}function fi(){return fi=(0,V.A)(function*(n){var e;const t=n.auth,i=yield n.getIdToken(),a=yield hn(n,function Wr(n,e){return Jt.apply(this,arguments)}(t,{idToken:i}));Be(a?.users.length,t,"internal-error");const c=a.users[0];n._notifyReloadListener(c);const d=null!==(e=c.providerUserInfo)&&void 0!==e&&e.length?function gt(n){return n.map(e=>{var{providerId:t}=e,i=(0,qe.Tt)(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}(c.providerUserInfo):[],p=function ii(n,e){return[...n.filter(i=>!e.some(a=>a.providerId===i.providerId)),...e]}(n.providerData,d),R=!!n.isAnonymous&&!(n.email&&c.passwordHash||p?.length),$={uid:c.localId,displayName:c.displayName||null,photoURL:c.photoUrl||null,email:c.email||null,emailVerified:c.emailVerified||!1,phoneNumber:c.phoneNumber||null,tenantId:c.tenantId||null,providerData:p,metadata:new Ze(c.createdAt,c.lastLoginAt),isAnonymous:R};Object.assign(n,$)}),fi.apply(this,arguments)}function tr(){return(tr=(0,V.A)(function*(n){const e=(0,J.Ku)(n);yield hi(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function Or(){return(Or=(0,V.A)(function*(n,e){const t=yield Zt(n,{},(0,V.A)(function*(){const i=(0,J.Am)({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:c}=n.config,d=Gr(n,a,"/v1/token",`key=${c}`),p=yield n._getAdditionalHeaders();return p["Content-Type"]="application/x-www-form-urlencoded",ue.fetch()(d,{method:"POST",headers:p,body:i})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})).apply(this,arguments)}class Et{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Be(e.idToken,"internal-error"),Be(typeof e.idToken<"u","internal-error"),Be(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function Wn(n){const e=_r(n);return Be(e,"internal-error"),Be(typeof e.exp<"u","internal-error"),Be(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}getToken(e){var t=this;return(0,V.A)(function*(i,a=!1){return Be(!t.accessToken||t.refreshToken,i,"user-token-expired"),a||!t.accessToken||t.isExpired?t.refreshToken?(yield t.refresh(i,t.refreshToken),t.accessToken):null:t.accessToken}).apply(this,arguments)}clearRefreshToken(){this.refreshToken=null}refresh(e,t){var i=this;return(0,V.A)(function*(){const{accessToken:a,refreshToken:c,expiresIn:d}=yield function Ar(n,e){return Or.apply(this,arguments)}(e,t);i.updateTokensAndExpiration(a,c,Number(d))})()}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*i}static fromJSON(e,t){const{refreshToken:i,accessToken:a,expirationTime:c}=t,d=new Et;return i&&(Be("string"==typeof i,"internal-error",{appName:e}),d.refreshToken=i),a&&(Be("string"==typeof a,"internal-error",{appName:e}),d.accessToken=a),c&&(Be("number"==typeof c,"internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Et,this.toJSON())}_performRefresh(){return Gn("not implemented")}}function kr(n,e){Be("string"==typeof n||typeof n>"u","internal-error",{appName:e})}class jn{constructor(e){var{uid:t,auth:i,stsTokenManager:a}=e,c=(0,qe.Tt)(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ni(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=c.displayName||null,this.email=c.email||null,this.emailVerified=c.emailVerified||!1,this.phoneNumber=c.phoneNumber||null,this.photoURL=c.photoURL||null,this.isAnonymous=c.isAnonymous||!1,this.tenantId=c.tenantId||null,this.providerData=c.providerData?[...c.providerData]:[],this.metadata=new Ze(c.createdAt||void 0,c.lastLoginAt||void 0)}getIdToken(e){var t=this;return(0,V.A)(function*(){const i=yield hn(t,t.stsTokenManager.getToken(t.auth,e));return Be(i,t.auth,"internal-error"),t.accessToken!==i&&(t.accessToken=i,yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)),i})()}getIdTokenResult(e){return function Mt(n){return xn.apply(this,arguments)}(this,e)}reload(){return function er(n){return tr.apply(this,arguments)}(this)}_assign(e){this!==e&&(Be(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new jn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Be(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e){var t=this;return(0,V.A)(function*(i,a=!1){let c=!1;i.idToken&&i.idToken!==t.stsTokenManager.accessToken&&(t.stsTokenManager.updateFromServerResponse(i),c=!0),a&&(yield hi(t)),yield t.auth._persistUserIfCurrent(t),c&&t.auth._notifyListenersIfCurrent(t)}).apply(this,arguments)}delete(){var e=this;return(0,V.A)(function*(){const t=yield e.getIdToken();return yield hn(e,function _n(n,e){return dt.apply(this,arguments)}(e.auth,{idToken:t})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,a,c,d,p,T,A,R;const $=null!==(i=t.displayName)&&void 0!==i?i:void 0,ee=null!==(a=t.email)&&void 0!==a?a:void 0,ye=null!==(c=t.phoneNumber)&&void 0!==c?c:void 0,Ve=null!==(d=t.photoURL)&&void 0!==d?d:void 0,Je=null!==(p=t.tenantId)&&void 0!==p?p:void 0,lt=null!==(T=t._redirectEventId)&&void 0!==T?T:void 0,Xt=null!==(A=t.createdAt)&&void 0!==A?A:void 0,Cn=null!==(R=t.lastLoginAt)&&void 0!==R?R:void 0,{uid:nn,emailVerified:ri,isAnonymous:Hr,providerData:Jn,stsTokenManager:ms}=t;Be(nn&&ms,e,"internal-error");const xl=Et.fromJSON(this.name,ms);Be("string"==typeof nn,e,"internal-error"),kr($,e.name),kr(ee,e.name),Be("boolean"==typeof ri,e,"internal-error"),Be("boolean"==typeof Hr,e,"internal-error"),kr(ye,e.name),kr(Ve,e.name),kr(Je,e.name),kr(lt,e.name),kr(Xt,e.name),kr(Cn,e.name);const Cy=new jn({uid:nn,auth:e,email:ee,emailVerified:ri,displayName:$,isAnonymous:Hr,photoURL:Ve,phoneNumber:ye,tenantId:Je,stsTokenManager:xl,createdAt:Xt,lastLoginAt:Cn});return Jn&&Array.isArray(Jn)&&(Cy.providerData=Jn.map(gM=>Object.assign({},gM))),lt&&(Cy._redirectEventId=lt),Cy}static _fromIdTokenResponse(e,t){return(0,V.A)(function*(i,a,c=!1){const d=new Et;d.updateFromServerResponse(a);const p=new jn({uid:a.localId,auth:i,stsTokenManager:d,isAnonymous:c});return yield hi(p),p}).apply(this,arguments)}}const pi=new Map;function q(n){He(n instanceof Function,"Expected a class definition");let e=pi.get(n);return e?(He(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,pi.set(n,e),e)}const U=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,V.A)(function*(){return!0})()}_set(t,i){var a=this;return(0,V.A)(function*(){a.storage[t]=i})()}_get(t){var i=this;return(0,V.A)(function*(){const a=i.storage[t];return void 0===a?null:a})()}_remove(t){var i=this;return(0,V.A)(function*(){delete i.storage[t]})()}_addListener(t,i){}_removeListener(t,i){}}return n.type="NONE",n})();function F(n,e,t){return`firebase:${n}:${e}:${t}`}class B{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:a,name:c}=this.auth;this.fullUserKey=F(this.userKey,a.apiKey,c),this.fullPersistenceKey=F("persistence",a.apiKey,c),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return(0,V.A)(function*(){const t=yield e.persistence._get(e.fullUserKey);return t?jn._fromJSON(e.auth,t):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var t=this;return(0,V.A)(function*(){if(t.persistence===e)return;const i=yield t.getCurrentUser();return yield t.removeCurrentUser(),t.persistence=e,i?t.setCurrentUser(i):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t){return(0,V.A)(function*(i,a,c="authUser"){if(!a.length)return new B(q(U),i,c);const d=(yield Promise.all(a.map(function(){var $=(0,V.A)(function*(ee){if(yield ee._isAvailable())return ee});return function(ee){return $.apply(this,arguments)}}()))).filter($=>$);let p=d[0]||q(U);const T=F(c,i.config.apiKey,i.name);let A=null;for(const $ of a)try{const ee=yield $._get(T);if(ee){const ye=jn._fromJSON(i,ee);$!==p&&(A=ye),p=$;break}}catch{}const R=d.filter($=>$._shouldAllowMigration);return p._shouldAllowMigration&&R.length?(p=R[0],A&&(yield p._set(T,A.toJSON())),yield Promise.all(a.map(function(){var $=(0,V.A)(function*(ee){if(ee!==p)try{yield ee._remove(T)}catch{}});return function(ee){return $.apply(this,arguments)}}())),new B(p,i,c)):new B(p,i,c)}).apply(this,arguments)}}function re(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(function Tt(n=(0,J.ZQ)()){return/iemobile/i.test(n)}(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(function Se(n=(0,J.ZQ)()){return/firefox\//i.test(n)}(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(function Ft(n=(0,J.ZQ)()){return/blackberry/i.test(n)}(e))return"Blackberry";if(function Bn(n=(0,J.ZQ)()){return/webos/i.test(n)}(e))return"Webos";if(function Ke(n=(0,J.ZQ)()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}(e))return"Safari";if((e.includes("chrome/")||function At(n=(0,J.ZQ)()){return/crios\//i.test(n)}(e))&&!e.includes("edge/"))return"Chrome";if(function rn(n=(0,J.ZQ)()){return/android/i.test(n)}(e))return"Android";{const i=n.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===i?.length)return i[1]}return"Other"}function rt(n,e=[]){let t;switch(n){case"Browser":t=re((0,J.ZQ)());break;case"Worker":t=`${re((0,J.ZQ)())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Ee.MF}/${i}`}function en(n,e){return Xn.apply(this,arguments)}function Xn(){return(Xn=(0,V.A)(function*(n,e){return je(n,"GET","/v2/recaptchaConfig",function Ie(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}(n,e))})).apply(this,arguments)}function vs(n){return void 0!==n&&void 0!==n.enterprise}class Ls{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(t=>"EMAIL_PASSWORD_PROVIDER"===t.provider&&"OFF"!==t.enforcementState)}}class _s{constructor(e){this.type="recaptcha-enterprise",this.auth=$n(e)}verify(){var e=this;return(0,V.A)(function*(t="verify",i=!1){function c(){return c=(0,V.A)(function*(p){if(!i){if(null==p.tenantId&&null!=p._agentRecaptchaConfig)return p._agentRecaptchaConfig.siteKey;if(null!=p.tenantId&&void 0!==p._tenantRecaptchaConfigs[p.tenantId])return p._tenantRecaptchaConfigs[p.tenantId].siteKey}return new Promise(function(){var T=(0,V.A)(function*(A,R){en(p,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then($=>{if(void 0!==$.recaptchaKey){const ee=new Ls($);return null==p.tenantId?p._agentRecaptchaConfig=ee:p._tenantRecaptchaConfigs[p.tenantId]=ee,A(ee.siteKey)}R(new Error("recaptcha Enterprise site key undefined"))}).catch($=>{R($)})});return function(A,R){return T.apply(this,arguments)}}())}),c.apply(this,arguments)}function d(p,T,A){const R=window.grecaptcha;vs(R)?R.enterprise.ready(()=>{R.enterprise.execute(p,{action:t}).then($=>{T($)}).catch(()=>{T("NO_RECAPTCHA")})}):A(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((p,T)=>{(function a(p){return c.apply(this,arguments)})(e.auth).then(A=>{if(!i&&vs(window.grecaptcha))d(A,p,T);else{if(typeof window>"u")return void T(new Error("RecaptchaVerifier is only supported in browser"));(function Lr(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=a=>{const c=Ge("internal-error");c.customData=a,t(c)},i.type="text/javascript",i.charset="UTF-8",function qs(){var n,e;return null!==(e=null===(n=document.getElementsByTagName("head"))||void 0===n?void 0:n[0])&&void 0!==e?e:document}().appendChild(i)})})("https://www.google.com/recaptcha/enterprise.js?render="+A).then(()=>{d(A,p,T)}).catch(R=>{T(R)})}}).catch(A=>{T(A)})})}).apply(this,arguments)}}class bo{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=c=>new Promise((d,p)=>{try{d(e(c))}catch(T){p(T)}});i.onAbort=t,this.queue.push(i);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}runMiddleware(e){var t=this;return(0,V.A)(function*(){if(t.auth.currentUser===e)return;const i=[];try{for(const a of t.queue)yield a(e),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const c of i)try{c()}catch{}throw t.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}})()}}class Is{constructor(e,t,i,a){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Zi(this),this.idTokenSubscription=new Zi(this),this.beforeStateQueue=new bo(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=yn,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion}_initializeWithPersistence(e,t){var i=this;return t&&(this._popupRedirectResolver=q(t)),this._initializationPromise=this.queue((0,V.A)(function*(){var a,c;if(!i._deleted&&(i.persistenceManager=yield B.create(i,e),!i._deleted)){if(null!==(a=i._popupRedirectResolver)&&void 0!==a&&a._shouldInitProactively)try{yield i._popupRedirectResolver._initialize(i)}catch{}yield i.initializeCurrentUser(t),i.lastNotifiedUid=(null===(c=i.currentUser)||void 0===c?void 0:c.uid)||null,!i._deleted&&(i._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return(0,V.A)(function*(){if(e._deleted)return;const t=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||t){if(e.currentUser&&t&&e.currentUser.uid===t.uid)return e._currentUser._assign(t),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(t,!0)}})()}initializeCurrentUser(e){var t=this;return(0,V.A)(function*(){var i;const a=yield t.assertedPersistence.getCurrentUser();let c=a,d=!1;if(e&&t.config.authDomain){yield t.getOrInitRedirectPersistenceManager();const p=null===(i=t.redirectUser)||void 0===i?void 0:i._redirectEventId,T=c?._redirectEventId,A=yield t.tryRedirectSignIn(e);(!p||p===T)&&A?.user&&(c=A.user,d=!0)}if(!c)return t.directlySetCurrentUser(null);if(!c._redirectEventId){if(d)try{yield t.beforeStateQueue.runMiddleware(c)}catch(p){c=a,t._popupRedirectResolver._overrideRedirectResult(t,()=>Promise.reject(p))}return c?t.reloadAndSetCurrentUserOrClear(c):t.directlySetCurrentUser(null)}return Be(t._popupRedirectResolver,t,"argument-error"),yield t.getOrInitRedirectPersistenceManager(),t.redirectUser&&t.redirectUser._redirectEventId===c._redirectEventId?t.directlySetCurrentUser(c):t.reloadAndSetCurrentUserOrClear(c)})()}tryRedirectSignIn(e){var t=this;return(0,V.A)(function*(){let i=null;try{i=yield t._popupRedirectResolver._completeRedirectFn(t,e,!0)}catch{yield t._setRedirectUser(null)}return i})()}reloadAndSetCurrentUserOrClear(e){var t=this;return(0,V.A)(function*(){try{yield hi(e)}catch(i){if("auth/network-request-failed"!==i?.code)return t.directlySetCurrentUser(null)}return t.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function Vi(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}()}_delete(){var e=this;return(0,V.A)(function*(){e._deleted=!0})()}updateCurrentUser(e){var t=this;return(0,V.A)(function*(){const i=e?(0,J.Ku)(e):null;return i&&Be(i.auth.config.apiKey===t.config.apiKey,t,"invalid-user-token"),t._updateCurrentUser(i&&i._clone(t))})()}_updateCurrentUser(e){var t=this;return(0,V.A)(function*(i,a=!1){if(!t._deleted)return i&&Be(t.tenantId===i.tenantId,t,"tenant-id-mismatch"),a||(yield t.beforeStateQueue.runMiddleware(i)),t.queue((0,V.A)(function*(){yield t.directlySetCurrentUser(i),t.notifyAuthListeners()}))}).apply(this,arguments)}signOut(){var e=this;return(0,V.A)(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var t=this;return this.queue((0,V.A)(function*(){yield t.assertedPersistence.setPersistence(q(e))}))}initializeRecaptchaConfig(){var e=this;return(0,V.A)(function*(){const t=yield en(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),i=new Ls(t);null==e.tenantId?e._agentRecaptchaConfig=i:e._tenantRecaptchaConfigs[e.tenantId]=i,i.emailPasswordEnabled&&new _s(e).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new J.FA("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,t){var i=this;return(0,V.A)(function*(){const a=yield i.getOrInitRedirectPersistenceManager(t);return null===e?a.removeCurrentUser():a.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var t=this;return(0,V.A)(function*(){if(!t.redirectPersistenceManager){const i=e&&q(e)||t._popupRedirectResolver;Be(i,t,"argument-error"),t.redirectPersistenceManager=yield B.create(t,[q(i._redirectPersistence)],"redirectUser"),t.redirectUser=yield t.redirectPersistenceManager.getCurrentUser()}return t.redirectPersistenceManager})()}_redirectUserForId(e){var t=this;return(0,V.A)(function*(){var i,a;return t._isInitialized&&(yield t.queue((0,V.A)(function*(){}))),(null===(i=t._currentUser)||void 0===i?void 0:i._redirectEventId)===e?t._currentUser:(null===(a=t.redirectUser)||void 0===a?void 0:a._redirectEventId)===e?t.redirectUser:null})()}_persistUserIfCurrent(e){var t=this;return(0,V.A)(function*(){if(e===t.currentUser)return t.queue((0,V.A)(function*(){return t.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,a){if(this._deleted)return()=>{};const c="function"==typeof t?t:t.next.bind(t),d=this._isInitialized?Promise.resolve():this._initializationPromise;return Be(d,this,"internal-error"),d.then(()=>c(this.currentUser)),"function"==typeof t?e.addObserver(t,i,a):e.addObserver(t)}directlySetCurrentUser(e){var t=this;return(0,V.A)(function*(){t.currentUser&&t.currentUser!==e&&t._currentUser._stopProactiveRefresh(),e&&t.isProactiveRefreshEnabled&&e._startProactiveRefresh(),t.currentUser=e,e?yield t.assertedPersistence.setCurrentUser(e):yield t.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Be(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=rt(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return(0,V.A)(function*(){var t;const i={"X-Client-Version":e.clientVersion};e.app.options.appId&&(i["X-Firebase-gmpid"]=e.app.options.appId);const a=yield null===(t=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();a&&(i["X-Firebase-Client"]=a);const c=yield e._getAppCheckToken();return c&&(i["X-Firebase-AppCheck"]=c),i})()}_getAppCheckToken(){var e=this;return(0,V.A)(function*(){var t;const i=yield null===(t=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken();return i?.error&&function be(n,...e){Re.logLevel<=Te.$b.WARN&&Re.warn(`Auth (${Ee.MF}): ${n}`,...e)}(`Error while retrieving App Check token: ${i.error}`),i?.token})()}}function $n(n){return(0,J.Ku)(n)}class Zi{constructor(e){this.auth=e,this.observer=null,this.addObserver=(0,J.tD)(t=>this.observer=t)}get next(){return Be(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}(function Ri(n){return`__${n}${Math.floor(1e6*Math.random())}`})("rcb"),new se(3e4,6e4),new se(2e3,1e4),new se(3e4,6e4),new se(5e3,15e3),encodeURIComponent("fac");var zl="@firebase/auth";class po{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var t=this;return(0,V.A)(function*(){return t.assertAuthConfigured(),yield t.auth._initializationPromise,t.auth.currentUser?{accessToken:yield t.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Be(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,J.XA)("authIdTokenMaxAge"),function Nw(n){(0,Ee.om)(new X.uA("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=i.options;Be(d&&!d.includes(":"),"invalid-api-key",{appName:i.name});const T={apiKey:d,authDomain:p,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:rt(n)},A=new Is(i,a,c,T);return function Xs(n,e){const t=e?.persistence||[],i=(Array.isArray(t)?t:[t]).map(q);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e?.popupRedirectResolver)}(A,t),A},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),(0,Ee.om)(new X.uA("auth-internal",e=>{const t=$n(e.getProvider("auth").getImmediate());return new po(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,Ee.KO)(zl,"0.23.2",function Gl(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(n)),(0,Ee.KO)(zl,"0.23.2","esm2017")}("Browser");class Bp{constructor(){return(0,C.CA)("auth")}}const zy=new Map,Vw={activated:!1,tokenObservers:[]},VT={initialized:!1,enabled:!1};function Cr(n){return zy.get(n)||Object.assign({},Vw)}function $p(){return VT}const Wy="https://content-firebaseappcheck.googleapis.com/v1",jT="exchangeDebugToken",jw={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class Ky{constructor(e,t,i,a,c){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=i,this.lowerBound=a,this.upperBound=c,this.pending=null,this.nextErrorWaitInterval=a,a>c)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,V.A)(function*(){t.stop();try{t.pending=new J.cY,yield function $w(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new J.cY,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(i){t.retryPolicy(i)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Pn=new J.FA("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Hp(n){if(!Cr(n).activated)throw Pn.create("use-before-activation",{appName:n.name})}function Vh(n,e){return Qy.apply(this,arguments)}function Qy(){return(Qy=(0,V.A)(function*({url:n,body:e},t){const i={"Content-Type":"application/json"},a=t.getImmediate({optional:!0});if(a){const $=yield a.getHeartbeatsHeader();$&&(i["X-Firebase-Client"]=$)}const c={method:"POST",body:JSON.stringify(e),headers:i};let d,p;try{d=yield fetch(n,c)}catch($){throw Pn.create("fetch-network-error",{originalErrorMessage:$?.message})}if(200!==d.status)throw Pn.create("fetch-status-error",{httpStatus:d.status});try{p=yield d.json()}catch($){throw Pn.create("fetch-parse-error",{originalErrorMessage:$?.message})}const T=p.ttl.match(/^([\d.]+)(s)$/);if(!T||!T[2]||isNaN(Number(T[1])))throw Pn.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${p.ttl}`});const A=1e3*Number(T[1]),R=Date.now();return{token:p.token,expireTimeMillis:R+A,issuedAtTimeMillis:R}})).apply(this,arguments)}function Xy(n,e){const{projectId:t,appId:i,apiKey:a}=n.options;return{url:`${Wy}/projects/${t}/apps/${i}:${jT}?key=${a}`,body:{debug_token:e}}}const HT="firebase-app-check-database",zT=1,$c="firebase-app-check-store";let Kp=null;function Ku(){return(Ku=(0,V.A)(function*(n,e){const i=(yield function Wl(){return Kp||(Kp=new Promise((n,e)=>{try{const t=indexedDB.open(HT,zT);t.onsuccess=i=>{n(i.target.result)},t.onerror=i=>{var a;e(Pn.create("storage-open",{originalErrorMessage:null===(a=i.target.error)||void 0===a?void 0:a.message}))},t.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore($c,{keyPath:"compositeKey"})}}catch(t){e(Pn.create("storage-open",{originalErrorMessage:t?.message}))}}),Kp)}()).transaction($c,"readwrite"),c=i.objectStore($c).put({compositeKey:n,value:e});return new Promise((d,p)=>{c.onsuccess=T=>{d()},i.onerror=T=>{var A;p(Pn.create("storage-set",{originalErrorMessage:null===(A=T.target.error)||void 0===A?void 0:A.message}))}})})).apply(this,arguments)}const qu=new Te.Vy("@firebase/app-check");function Jy(n,e){return(0,J.zW)()?function WT(n,e){return function Yy(n,e){return Ku.apply(this,arguments)}(function Qp(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{qu.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function tv(){return $p().enabled}function Xp(){return Kl.apply(this,arguments)}function Kl(){return(Kl=(0,V.A)(function*(){const n=$p();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const rv={error:"UNKNOWN_ERROR"};function QT(n){return J.K3.encodeString(JSON.stringify(n),!1)}function Yp(n){return jh.apply(this,arguments)}function jh(){return(jh=(0,V.A)(function*(n,e=!1){const t=n.app;Hp(t);const i=Cr(t);let c,a=i.token;if(a&&!ql(a)&&(i.token=void 0,a=void 0),!a){const T=yield i.cachedTokenPromise;T&&(ql(T)?a=T:yield Jy(t,void 0))}if(!e&&a&&ql(a))return{token:a.token};let p,d=!1;if(tv()){i.exchangeTokenPromise||(i.exchangeTokenPromise=Vh(Xy(t,yield Xp()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),d=!0);const T=yield i.exchangeTokenPromise;return yield Jy(t,T),i.token=T,{token:T.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),d=!0),a=yield Cr(t).exchangeTokenPromise}catch(T){"appCheck/throttled"===T.code?qu.warn(T.message):qu.error(T),c=T}return a?c?p=ql(a)?{token:a.token,internalError:c}:sv(c):(p={token:a.token},i.token=a,yield Jy(t,a)):p=sv(c),d&&function $h(n,e){const t=Cr(n).tokenObservers;for(const i of t)try{"EXTERNAL"===i.type&&null!=e.error?i.error(e.error):i.next(e)}catch{}}(t,p),p})).apply(this,arguments)}function iv(n){return tu.apply(this,arguments)}function tu(){return(tu=(0,V.A)(function*(n){const e=n.app;Hp(e);const{provider:t}=Cr(e);if(tv()){const i=yield Xp(),{token:a}=yield Vh(Xy(e,i),n.heartbeatServiceProvider);return{token:a}}{const{token:i}=yield t.getToken();return{token:i}}})).apply(this,arguments)}function Jp(n,e){const t=Cr(n),i=t.tokenObservers.filter(a=>a.next!==e);0===i.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=i}function Ww(n){const{app:e}=n,t=Cr(e);let i=t.tokenRefresher;i||(i=function MA(n){const{app:e}=n;return new Ky((0,V.A)(function*(){let i;if(i=Cr(e).token?yield Yp(n,!0):yield Yp(n),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{const t=Cr(e);if(t.token){let i=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,t.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},jw.RETRIAL_MIN_WAIT,jw.RETRIAL_MAX_WAIT)}(n),t.tokenRefresher=i),!i.isRunning()&&t.isTokenAutoRefreshEnabled&&i.start()}function ql(n){return n.expireTimeMillis-Date.now()>0}function sv(n){return{token:QT(rv),error:n}}class Kw{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Cr(this.app);for(const t of e)Jp(this.app,t.next);return Promise.resolve()}}const Kh="app-check-internal";!function hv(){(0,Ee.om)(new X.uA("app-check",n=>function qw(n,e){return new Kw(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(Kh).initialize()})),(0,Ee.om)(new X.uA(Kh,n=>function ov(n){return{getToken:e=>Yp(n,e),getLimitedUseToken:()=>iv(n),addTokenListener:e=>function Zp(n,e,t,i){const{app:a}=n,c=Cr(a);if(c.tokenObservers=[...c.tokenObservers,{next:t,error:i,type:e}],c.token&&ql(c.token)){const p=c.token;Promise.resolve().then(()=>{t({token:p.token}),Ww(n)}).catch(()=>{})}c.cachedTokenPromise.then(()=>Ww(n))}(n,"INTERNAL",e),removeTokenListener:e=>Jp(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Ee.KO)("@firebase/app-check","0.8.0")}();class pv{constructor(){return(0,C.CA)("app-check")}}typeof window<"u"&&window;var ct,rC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},zo={},mv=mv||{},Ht=rC||self;function go(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function nu(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var og="closure_uid_"+(1e9*Math.random()>>>0),tE=0;function LA(n,e,t){return n.call.apply(n.bind,arguments)}function FA(n,e,t){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var a=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(a,i),n.apply(e,a)}}return function(){return n.apply(e,arguments)}}function ls(n,e,t){return(ls=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?LA:FA).apply(null,arguments)}function Yl(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var i=t.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function Zr(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(i,a,c){for(var d=Array(arguments.length-2),p=2;p<arguments.length;p++)d[p-2]=arguments[p];return e.prototype[a].apply(i,d)}}function Hc(){this.s=this.s,this.o=this.o}Hc.prototype.s=!1,Hc.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function eE(n){Object.prototype.hasOwnProperty.call(n,og)&&n[og]||(n[og]=++tE)}(this)},Hc.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const yv=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function vv(n){const e=n.length;if(0<e){const t=Array(e);for(let i=0;i<e;i++)t[i]=n[i];return t}return[]}function nE(n,e){for(let t=1;t<arguments.length;t++){const i=arguments[t];if(go(i)){const a=n.length||0,c=i.length||0;n.length=a+c;for(let d=0;d<c;d++)n[a+d]=i[d]}else n.push(i)}}function Ki(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}Ki.prototype.h=function(){this.defaultPrevented=!0};var iC=function(){if(!Ht.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Ht.addEventListener("test",()=>{},e),Ht.removeEventListener("test",()=>{},e)}catch{}return n}();function Zl(n){return/^[\s\xa0]*$/.test(n)}function zc(){var n=Ht.navigator;return n&&(n=n.userAgent)?n:""}function wa(n){return-1!=zc().indexOf(n)}function qh(n){return qh[" "](n),n}qh[" "]=function(){};var Iv,n,Jl=wa("Opera"),ed=wa("Trident")||wa("MSIE"),rE=wa("Edge"),ag=rE||ed,_v=wa("Gecko")&&!(-1!=zc().toLowerCase().indexOf("webkit")&&!wa("Edge"))&&!(wa("Trident")||wa("MSIE"))&&!wa("Edge"),oC=-1!=zc().toLowerCase().indexOf("webkit")&&!wa("Edge");function iE(){var n=Ht.document;return n?n.documentMode:void 0}e:{var wv="",ug=(n=zc(),_v?/rv:([^\);]+)(\)|;)/.exec(n):rE?/Edge\/([\d\.]+)/.exec(n):ed?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):oC?/WebKit\/(\S+)/.exec(n):Jl?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(ug&&(wv=ug?ug[1]:""),ed){var sE=iE();if(null!=sE&&sE>parseFloat(wv)){Iv=String(sE);break e}}Iv=wv}var Qh=Ht.document&&ed&&(iE()||parseInt(Iv,10))||void 0;function nd(n,e){if(Ki.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(_v){e:{try{qh(e.nodeName);var a=!0;break e}catch{}a=!1}a||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:aE[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&nd.$.h.call(this)}}Zr(nd,Ki);var aE={2:"touch",3:"pen",4:"mouse"};nd.prototype.h=function(){nd.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Gc="closure_listenable_"+(1e6*Math.random()|0),uE=0;function aC(n,e,t,i,a){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!i,this.la=a,this.key=++uE,this.fa=this.ia=!1}function Xh(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function cg(n,e,t){for(const i in n)e.call(t,n[i],i,n)}function uC(n){const e={};for(const t in n)e[t]=n[t];return e}const dg="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function cE(n,e){let t,i;for(let a=1;a<arguments.length;a++){for(t in i=arguments[a],i)n[t]=i[t];for(let c=0;c<dg.length;c++)t=dg[c],Object.prototype.hasOwnProperty.call(i,t)&&(n[t]=i[t])}}function rd(n){this.src=n,this.g={},this.h=0}function hg(n,e){var t=e.type;if(t in n.g){var c,i=n.g[t],a=yv(i,e);(c=0<=a)&&Array.prototype.splice.call(i,a,1),c&&(Xh(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function fg(n,e,t,i){for(var a=0;a<n.length;++a){var c=n[a];if(!c.fa&&c.listener==e&&c.capture==!!t&&c.la==i)return a}return-1}rd.prototype.add=function(n,e,t,i,a){var c=n.toString();(n=this.g[c])||(n=this.g[c]=[],this.h++);var d=fg(n,e,i,a);return-1<d?(e=n[d],t||(e.ia=!1)):((e=new aC(e,this.src,c,!!i,a)).ia=t,n.push(e)),e};var ru="closure_lm_"+(1e6*Math.random()|0),Ev={};function pg(n,e,t,i,a){if(i&&i.once)return gg(n,e,t,i,a);if(Array.isArray(e)){for(var c=0;c<e.length;c++)pg(n,e[c],t,i,a);return null}return t=mg(t),n&&n[Gc]?n.O(e,t,nu(i)?!!i.capture:!!i,a):Yh(n,e,t,!1,i,a)}function Yh(n,e,t,i,a,c){if(!e)throw Error("Invalid event type");var d=nu(a)?!!a.capture:!!a,p=Tv(n);if(p||(n[ru]=p=new rd(n)),(t=p.add(e,t,i,d,c)).proxy)return t;if(i=function cC(){const e=Dv;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=i,i.src=n,i.listener=t,n.addEventListener)iC||(a=d),void 0===a&&(a=!1),n.addEventListener(e.toString(),i,a);else if(n.attachEvent)n.attachEvent(Wc(e.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return t}function gg(n,e,t,i,a){if(Array.isArray(e)){for(var c=0;c<e.length;c++)gg(n,e[c],t,i,a);return null}return t=mg(t),n&&n[Gc]?n.P(e,t,nu(i)?!!i.capture:!!i,a):Yh(n,e,t,!0,i,a)}function Zh(n,e,t,i,a){if(Array.isArray(e))for(var c=0;c<e.length;c++)Zh(n,e[c],t,i,a);else i=nu(i)?!!i.capture:!!i,t=mg(t),n&&n[Gc]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=fg(c=n.g[e],t,i,a))&&(Xh(c[t]),Array.prototype.splice.call(c,t,1),0==c.length&&(delete n.g[e],n.h--))):n&&(n=Tv(n))&&(e=n.g[e.toString()],n=-1,e&&(n=fg(e,t,i,a)),(t=-1<n?e[n]:null)&&mo(t))}function mo(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[Gc])hg(e.i,n);else{var t=n.type,i=n.proxy;e.removeEventListener?e.removeEventListener(t,i,n.capture):e.detachEvent?e.detachEvent(Wc(t),i):e.addListener&&e.removeListener&&e.removeListener(i),(t=Tv(e))?(hg(t,n),0==t.h&&(t.src=null,e[ru]=null)):Xh(n)}}}function Wc(n){return n in Ev?Ev[n]:Ev[n]="on"+n}function Dv(n,e){if(n.fa)n=!0;else{e=new nd(e,this);var t=n.listener,i=n.la||n.src;n.ia&&mo(n),n=t.call(i,e)}return n}function Tv(n){return(n=n[ru])instanceof rd?n:null}var Cv="__closure_events_fn_"+(1e9*Math.random()>>>0);function mg(n){return"function"==typeof n?n:(n[Cv]||(n[Cv]=function(e){return n.handleEvent(e)}),n[Cv])}function br(){Hc.call(this),this.i=new rd(this),this.S=this,this.J=null}function ki(n,e){var t,i=n.J;if(i)for(t=[];i;i=i.J)t.push(i);if(n=n.S,i=e.type||e,"string"==typeof e)e=new Ki(e,n);else if(e instanceof Ki)e.target=e.target||n;else{var a=e;cE(e=new Ki(i,n),a)}if(a=!0,t)for(var c=t.length-1;0<=c;c--){var d=e.g=t[c];a=yg(d,i,!0,e)&&a}if(a=yg(d=e.g=n,i,!0,e)&&a,a=yg(d,i,!1,e)&&a,t)for(c=0;c<t.length;c++)a=yg(d=e.g=t[c],i,!1,e)&&a}function yg(n,e,t,i){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var a=!0,c=0;c<e.length;++c){var d=e[c];if(d&&!d.fa&&d.capture==t){var p=d.listener,T=d.la||d.src;d.ia&&hg(n.i,d),a=!1!==p.call(T,i)&&a}}return a&&!i.defaultPrevented}Zr(br,Hc),br.prototype[Gc]=!0,br.prototype.removeEventListener=function(n,e,t,i){Zh(this,n,e,t,i)},br.prototype.N=function(){if(br.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],i=0;i<t.length;i++)Xh(t[i]);delete n.g[e],n.h--}}this.J=null},br.prototype.O=function(n,e,t,i){return this.i.add(String(n),e,!1,t,i)},br.prototype.P=function(n,e,t,i){return this.i.add(String(n),e,!0,t,i)};var bv=Ht.JSON.stringify;function lE(){var n=dE;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var Sv=new class Av{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new Mv,n=>n.reset());class Mv{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function VA(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function BA(n){Ht.setTimeout(()=>{throw n},0)}let Jh,ef=!1,dE=new class lC{constructor(){this.h=this.g=null}add(e,t){const i=Sv.get();i.set(e,t),this.h?this.h.next=i:this.g=i,this.h=i}},dC=()=>{const n=Ht.Promise.resolve(void 0);Jh=()=>{n.then(vg)}};var vg=()=>{for(var n;n=lE();){try{n.h.call(n.g)}catch(t){BA(t)}var e=Sv;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}ef=!1};function _g(n,e){br.call(this),this.h=n||1,this.g=e||Ht,this.j=ls(this.qb,this),this.l=Date.now()}function tf(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function nf(n,e,t){if("function"==typeof n)t&&(n=ls(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=ls(n.handleEvent,n)}return 2147483647<Number(e)?-1:Ht.setTimeout(n,e||0)}function Kc(n){n.g=nf(()=>{n.g=null,n.i&&(n.i=!1,Kc(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Zr(_g,br),(ct=_g.prototype).ga=!1,ct.T=null,ct.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),ki(this,"tick"),this.ga&&(tf(this),this.start()))}},ct.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ct.N=function(){_g.$.N.call(this),tf(this),delete this.g};class xv extends Hc{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Kc(this)}N(){super.N(),this.g&&(Ht.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function qc(n){Hc.call(this),this.h=n,this.g={}}Zr(qc,Hc);var id=[];function rf(n,e,t,i){Array.isArray(t)||(t&&(id[0]=t.toString()),t=id);for(var a=0;a<t.length;a++){var c=pg(e,t[a],i||n.handleEvent,!1,n.h||n);if(!c)break;n.g[c.key]=c}}function Qc(n){cg(n.g,function(e,t){this.g.hasOwnProperty(t)&&mo(e)},n),n.g={}}function sd(){this.g=!0}function sf(n,e,t,i){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function af(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var i=t[n];if(!(2>i.length)){var a=i[1];if(Array.isArray(a)&&!(1>a.length)){var c=a[0];if("noop"!=c&&"stop"!=c&&"close"!=c)for(var d=1;d<a.length;d++)a[d]=""}}}return bv(t)}catch{return e}}(n,t)+(i?" "+i:"")})}qc.prototype.N=function(){qc.$.N.call(this),Qc(this)},qc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},sd.prototype.Ea=function(){this.g=!1},sd.prototype.info=function(){};var Xc={},Ov=null;function wg(){return Ov=Ov||new br}function hE(n){Ki.call(this,Xc.Ta,n)}function Yc(n){const e=wg();ki(e,new hE(e))}function kv(n,e){Ki.call(this,Xc.STAT_EVENT,n),this.stat=e}function ds(n){const e=wg();ki(e,new kv(e,n))}function fE(n,e){Ki.call(this,Xc.Ua,n),this.size=e}function Eg(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Ht.setTimeout(function(){n()},e)}Xc.Ta="serverreachability",Zr(hE,Ki),Xc.STAT_EVENT="statevent",Zr(kv,Ki),Xc.Ua="timingevent",Zr(fE,Ki);var Dg={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},uf={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function cf(){}function Pv(){}cf.prototype.h=null;var Tg,Zc={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function od(){Ki.call(this,"d")}function Lv(){Ki.call(this,"c")}function Cg(){}function ad(n,e,t,i){this.l=n,this.j=e,this.m=t,this.W=i||1,this.U=new qc(this),this.P=fC,this.V=new _g(n=ag?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new hC}function hC(){this.i=null,this.g="",this.h=!1}Zr(od,Ki),Zr(Lv,Ki),Zr(Cg,cf),Cg.prototype.g=function(){return new XMLHttpRequest},Cg.prototype.i=function(){return{}},Tg=new Cg;var fC=45e3,ud={},bg={};function Xu(n,e,t){n.L=1,n.v=hf(Ea(e)),n.s=t,n.S=!0,cd(n,null)}function cd(n,e){n.G=Date.now(),lf(n),n.A=Ea(n.v);var t=n.A,i=n.W;Array.isArray(i)||(i=[String(i)]),EE(t.i,"t",i),n.C=0,t=n.l.J,n.h=new hC,n.g=$g(n.l,t?e:null,!n.s),0<n.O&&(n.M=new xv(ls(n.Pa,n,n.g),n.O)),rf(n.U,n.g,"readystatechange",n.nb),e=n.I?uC(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),Yc(),function Nv(n,e,t,i,a,c){n.info(function(){if(n.g)if(c)for(var d="",p=c.split("&"),T=0;T<p.length;T++){var A=p[T].split("=");if(1<A.length){var R=A[0];A=A[1];var $=R.split("_");d=2<=$.length&&"type"==$[1]?d+(R+"=")+A+"&":d+(R+"=redacted&")}}else d=null;else d=c;return"XMLHTTP REQ ("+i+") [attempt "+a+"]: "+e+"\n"+t+"\n"+d})}(n.j,n.u,n.A,n.m,n.W,n.s)}function gE(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function Fv(n,e,t){let a,i=!0;for(;!n.J&&n.C<t.length;){if(a=pC(n,t),a==bg){4==e&&(n.o=4,ds(14),i=!1),sf(n.j,n.m,null,"[Incomplete Response]");break}if(a==ud){n.o=4,ds(15),sf(n.j,n.m,t,"[Invalid Chunk]"),i=!1;break}sf(n.j,n.m,a,null),yE(n,a)}gE(n)&&a!=bg&&a!=ud&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,ds(16),i=!1),n.i=n.i&&i,i?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),Vg(e),e.M=!0,ds(11))):(sf(n.j,n.m,t,"[Invalid Chunked Response]"),iu(n),ld(n))}function pC(n,e){var t=n.C,i=e.indexOf("\n",t);return-1==i?bg:(t=Number(e.substring(t,i)),isNaN(t)?ud:(i+=1)+t>e.length?bg:(e=e.slice(i,i+t),n.C=i+t,e))}function lf(n){n.Y=Date.now()+n.P,mE(n,n.P)}function mE(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Eg(ls(n.lb,n),e)}function df(n){n.B&&(Ht.clearTimeout(n.B),n.B=null)}function ld(n){0==n.l.H||n.J||tl(n.l,n)}function iu(n){df(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,tf(n.V),Qc(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function yE(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||Og(t.i,n)))if(!n.K&&Og(t.i,n)&&3==t.H){try{var i=t.Ja.g.parse(e)}catch{i=null}if(Array.isArray(i)&&3==i.length){var a=i;if(0==a[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;el(t),yf(t)}Ju(t),ds(18)}}else t.Fa=a[1],0<t.Fa-t.V&&37500>a[2]&&t.G&&0==t.A&&!t.v&&(t.v=Eg(ls(t.ib,t),6e3));if(1>=Rg(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else Wo(t,11)}else if((n.K||t.g==n)&&el(t),!Zl(e))for(a=t.Ja.g.parse(e),e=0;e<a.length;e++){let A=a[e];if(t.V=A[0],A=A[1],2==t.H)if("c"==A[0]){t.K=A[1],t.pa=A[2];const R=A[3];null!=R&&(t.ra=R,t.l.info("VER="+t.ra));const $=A[4];null!=$&&(t.Ga=$,t.l.info("SVER="+t.Ga));const ee=A[5];null!=ee&&"number"==typeof ee&&0<ee&&(t.L=i=1.5*ee,t.l.info("backChannelRequestTimeoutMs_="+i)),i=t;const ye=n.g;if(ye){const Ve=ye.g?ye.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ve){var c=i.i;c.g||-1==Ve.indexOf("spdy")&&-1==Ve.indexOf("quic")&&-1==Ve.indexOf("h2")||(c.j=c.l,c.g=new Set,c.h&&(kg(c,c.h),c.h=null))}if(i.F){const Je=ye.g?ye.g.getResponseHeader("X-HTTP-Session-Id"):null;Je&&(i.Da=Je,ir(i.I,i.F,Je))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var d=n;if((i=t).wa=jg(i,i.J?i.pa:null,i.Y),d.K){TE(i.i,d);var p=d,T=i.L;T&&p.setTimeout(T),p.B&&(df(p),lf(p)),i.g=d}else Gv(i);0<t.j.length&&Ug(t)}else"stop"!=A[0]&&"close"!=A[0]||Wo(t,7);else 3==t.H&&("stop"==A[0]||"close"==A[0]?"stop"==A[0]?Wo(t,7):gd(t):"noop"!=A[0]&&t.h&&t.h.Aa(A),t.A=0)}Yc()}catch{}}function _E(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(go(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function vE(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(go(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const i in n)e[t++]=i;return e}}}(n),i=function Uv(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(go(n)){for(var e=[],t=n.length,i=0;i<t;i++)e.push(n[i]);return e}for(i in e=[],t=0,n)e[t++]=n[i];return e}(n),a=i.length,c=0;c<a;c++)e.call(void 0,i[c],t&&t[c],n)}(ct=ad.prototype).setTimeout=function(n){this.P=n},ct.nb=function(n){n=n.target;const e=this.M;e&&3==su(n)?e.l():this.Pa(n)},ct.Pa=function(n){try{if(n==this.g)e:{const R=su(this.g);var e=this.g.Ia();if(this.g.da(),!(3>R)&&(3!=R||ag||this.g&&(this.h.h||this.g.ja()||OE(this.g)))){this.J||4!=R||7==e||Yc(),df(this);var t=this.g.da();this.ca=t;t:if(gE(this)){var i=OE(this.g);n="";var a=i.length,c=4==su(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){iu(this),ld(this);var d="";break t}this.h.i=new Ht.TextDecoder}for(e=0;e<a;e++)this.h.h=!0,n+=this.h.i.decode(i[e],{stream:c&&e==a-1});i.splice(0,a),this.h.g+=n,this.C=0,d=this.h.g}else d=this.g.ja();if(this.i=200==t,function Ig(n,e,t,i,a,c,d){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+a+"]: "+e+"\n"+t+"\n"+c+" "+d})}(this.j,this.u,this.A,this.m,this.W,R,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var p,T=this.g;if((p=T.g?T.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Zl(p)){var A=p;break t}}A=null}if(!(t=A)){this.i=!1,this.o=3,ds(12),iu(this),ld(this);break e}sf(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,yE(this,t)}this.S?(Fv(this,R,d),ag&&this.i&&3==R&&(rf(this.U,this.V,"tick",this.mb),this.V.start())):(sf(this.j,this.m,d,null),yE(this,d)),4==R&&iu(this),this.i&&!this.J&&(4==R?tl(this.l,this):(this.i=!1,lf(this)))}else(function $A(n){const e={};n=(n.g&&2<=su(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let i=0;i<n.length;i++){if(Zl(n[i]))continue;var t=VA(n[i]);const a=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const c=e[a]||[];e[a]=c,c.push(t)}!function lg(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(i){return i.join(", ")})})(this.g),400==t&&0<d.indexOf("Unknown SID")?(this.o=3,ds(12)):(this.o=0,ds(13)),iu(this),ld(this)}}}catch{}},ct.mb=function(){if(this.g){var n=su(this.g),e=this.g.ja();this.C<e.length&&(df(this),Fv(this,n,e),this.i&&4!=n&&lf(this))}},ct.cancel=function(){this.J=!0,iu(this)},ct.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function Rv(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Yc(),ds(17)),iu(this),this.o=2,ld(this)):mE(this,this.Y-n)};var IE=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Jc(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Jc){this.h=n.h,Ag(this,n.j),this.s=n.s,this.g=n.g,Sg(this,n.m),this.l=n.l;var e=n.i,t=new ff;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),gC(this,t),this.o=n.o}else n&&(e=String(n).match(IE))?(this.h=!1,Ag(this,e[1]||"",!0),this.s=hs(e[2]||""),this.g=hs(e[3]||"",!0),Sg(this,e[4]),this.l=hs(e[5]||"",!0),gC(this,e[6]||"",!0),this.o=hs(e[7]||"")):(this.h=!1,this.i=new ff(null,this.h))}function Ea(n){return new Jc(n)}function Ag(n,e,t){n.j=t?hs(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Sg(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function gC(n,e,t){e instanceof ff?(n.i=e,function Ci(n,e){e&&!n.j&&(Da(n),n.i=null,n.g.forEach(function(t,i){var a=i.toLowerCase();i!=a&&(Go(this,i),EE(this,a,t))},n)),n.j=e}(n.i,n.h)):(t||(e=dd(e,mC)),n.i=new ff(e,n.h))}function ir(n,e,t){n.i.set(e,t)}function hf(n){return ir(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function hs(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function dd(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,jA),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function jA(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Jc.prototype.toString=function(){var n=[],e=this.j;e&&n.push(dd(e,Mg,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(dd(e,Mg,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(dd(t,"/"==t.charAt(0)?xg:Yu,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",dd(t,yC)),n.join("")};var Mg=/[#\/\?@]/g,Yu=/[#\?:]/g,xg=/[#\?]/g,mC=/[#\?@]/g,yC=/#/g;function ff(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Da(n){n.g||(n.g=new Map,n.h=0,n.i&&function wE(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var i=n[t].indexOf("="),a=null;if(0<=i){var c=n[t].substring(0,i);a=n[t].substring(i+1)}else c=n[t];e(c,a?decodeURIComponent(a.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Go(n,e){Da(n),e=pf(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function Vv(n,e){return Da(n),e=pf(n,e),n.g.has(e)}function EE(n,e,t){Go(n,e),0<t.length&&(n.i=null,n.g.set(pf(n,e),vv(t)),n.h+=t.length)}function pf(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function Ng(n){this.l=n||_C,n=Ht.PerformanceNavigationTiming?0<(n=Ht.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Ht.g&&Ht.g.Ka&&Ht.g.Ka()&&Ht.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(ct=ff.prototype).add=function(n,e){Da(this),this.i=null,n=pf(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},ct.forEach=function(n,e){Da(this),this.g.forEach(function(t,i){t.forEach(function(a){n.call(e,a,i,this)},this)},this)},ct.ta=function(){Da(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let i=0;i<e.length;i++){const a=n[i];for(let c=0;c<a.length;c++)t.push(e[i])}return t},ct.Z=function(n){Da(this);let e=[];if("string"==typeof n)Vv(this,n)&&(e=e.concat(this.g.get(pf(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},ct.set=function(n,e){return Da(this),this.i=null,Vv(this,n=pf(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},ct.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},ct.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var i=e[t];const c=encodeURIComponent(String(i)),d=this.Z(i);for(i=0;i<d.length;i++){var a=c;""!==d[i]&&(a+="="+encodeURIComponent(String(d[i]))),n.push(a)}}return this.i=n.join("&")};var _C=10;function DE(n){return!!n.h||!!n.g&&n.g.size>=n.j}function Rg(n){return n.h?1:n.g?n.g.size:0}function Og(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function kg(n,e){n.g?n.g.add(e):n.h=e}function TE(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function Bv(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return vv(n.i)}Ng.prototype.cancel=function(){if(this.i=Bv(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var CE=class{stringify(n){return Ht.JSON.stringify(n,void 0)}parse(n){return Ht.JSON.parse(n,void 0)}};function IC(){this.g=new CE}function wC(n,e,t){const i=t||"";try{_E(n,function(a,c){let d=a;nu(a)&&(d=bv(a)),e.push(i+c+"="+encodeURIComponent(d))})}catch(a){throw e.push(i+"type="+encodeURIComponent("_badmap")),a}}function gf(n,e,t,i,a){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,a(i)}catch{}}function Ta(n){this.l=n.fc||null,this.j=n.ob||!1}function yo(n,e){br.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=Zu,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Zr(Ta,cf),Ta.prototype.g=function(){return new yo(this.l,this.j)},Ta.prototype.i=function(n){return function(){return n}}({}),Zr(yo,br);var Zu=0;function bE(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function mf(n){n.readyState=4,n.l=null,n.j=null,n.A=null,hd(n)}function hd(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(ct=yo.prototype).open=function(n,e){if(this.readyState!=Zu)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,hd(this)},ct.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||Ht).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},ct.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,mf(this)),this.readyState=Zu},ct.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,hd(this)),this.g&&(this.readyState=3,hd(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Ht.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;bE(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},ct.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?mf(this):hd(this),3==this.readyState&&bE(this)}},ct.Za=function(n){this.g&&(this.response=this.responseText=n,mf(this))},ct.Ya=function(n){this.g&&(this.response=n,mf(this))},ct.ka=function(){this.g&&mf(this)},ct.setRequestHeader=function(n,e){this.v.append(n,e)},ct.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},ct.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(yo.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var AE=Ht.JSON.parse;function gr(n){br.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=fd,this.L=this.M=!1}Zr(gr,br);var fd="",Pg=/^https?$/i,SE=["POST","PUT"];function xE(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,NE(n),Lg(n)}function NE(n){n.F||(n.F=!0,ki(n,"complete"),ki(n,"error"))}function RE(n){if(n.h&&typeof mv<"u"&&(!n.C[1]||4!=su(n)||2!=n.da()))if(n.v&&4==su(n))nf(n.La,0,n);else if(ki(n,"readystatechange"),4==su(n)){n.h=!1;try{const d=n.da();e:switch(d){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var i;if(i=0===d){var a=String(n.I).match(IE)[1]||null;!a&&Ht.self&&Ht.self.location&&(a=Ht.self.location.protocol.slice(0,-1)),i=!Pg.test(a?a.toLowerCase():"")}t=i}if(t)ki(n,"complete"),ki(n,"success");else{n.m=6;try{var c=2<su(n)?n.g.statusText:""}catch{c=""}n.j=c+" ["+n.da()+"]",NE(n)}}finally{Lg(n)}}}function Lg(n,e){if(n.g){jv(n);const t=n.g,i=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||ki(n,"ready");try{t.onreadystatechange=i}catch{}}}function jv(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(Ht.clearTimeout(n.A),n.A=null)}function su(n){return n.g?n.g.readyState:0}function OE(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case fd:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function DC(n){let e="";return cg(n,function(t,i){e+=i,e+=":",e+=t,e+="\r\n"}),e}function Fg(n,e,t){e:{for(i in t){var i=!1;break e}i=!0}i||(t=DC(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):ir(n,e,t))}function pd(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function TC(n){this.Ga=0,this.j=[],this.l=new sd,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=pd("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=pd("baseRetryDelayMs",5e3,n),this.hb=pd("retryDelaySeedMs",1e4,n),this.eb=pd("forwardChannelMaxRetries",2,n),this.xa=pd("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new Ng(n&&n.concurrentRequestLimit),this.Ja=new IC,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function gd(n){if($v(n),3==n.H){var e=n.W++,t=Ea(n.I);if(ir(t,"SID",n.K),ir(t,"RID",e),ir(t,"TYPE","terminate"),Vt(n,t),(e=new ad(n,n.l,e)).L=2,e.v=hf(Ea(t)),t=!1,Ht.navigator&&Ht.navigator.sendBeacon)try{t=Ht.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&Ht.Image&&((new Image).src=e.v,t=!0),t||(e.g=$g(e.l,null),e.g.ha(e.v)),e.G=Date.now(),lf(e)}Wv(n)}function yf(n){n.g&&(Vg(n),n.g.cancel(),n.g=null)}function $v(n){yf(n),n.u&&(Ht.clearTimeout(n.u),n.u=null),el(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Ht.clearTimeout(n.m),n.m=null)}function Ug(n){if(!DE(n.i)&&!n.m){n.m=!0;var e=n.Na;Jh||dC(),ef||(Jh(),ef=!0),dE.add(e,n),n.C=0}}function Hv(n,e){var t;t=e?e.m:n.W++;const i=Ea(n.I);ir(i,"SID",n.K),ir(i,"RID",t),ir(i,"AID",n.V),Vt(n,i),n.o&&n.s&&Fg(i,n.o,n.s),t=new ad(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=zv(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),kg(n.i,t),Xu(t,i,e)}function Vt(n,e){n.na&&cg(n.na,function(t,i){ir(e,i,t)}),n.h&&_E({},function(t,i){ir(e,i,t)})}function zv(n,e,t){t=Math.min(n.j.length,t);var i=n.h?ls(n.h.Va,n.h,n):null;e:{var a=n.j;let c=-1;for(;;){const d=["count="+t];-1==c?0<t?(c=a[0].g,d.push("ofs="+c)):c=0:d.push("ofs="+c);let p=!0;for(let T=0;T<t;T++){let A=a[T].g;const R=a[T].map;if(A-=c,0>A)c=Math.max(0,a[T].g-100),p=!1;else try{wC(R,d,"req"+A+"_")}catch{i&&i(R)}}if(p){i=d.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,i}function Gv(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;Jh||dC(),ef||(Jh(),ef=!0),dE.add(e,n),n.A=0}}function Ju(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=Eg(ls(n.Ma,n),Bg(n,n.A)),n.A++,0))}function Vg(n){null!=n.B&&(Ht.clearTimeout(n.B),n.B=null)}function PE(n){n.g=new ad(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=Ea(n.wa);ir(e,"RID","rpc"),ir(e,"SID",n.K),ir(e,"AID",n.V),ir(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&ir(e,"TO",n.qa),ir(e,"TYPE","xmlhttp"),Vt(n,e),n.o&&n.s&&Fg(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.v=hf(Ea(e)),t.s=null,t.S=!0,cd(t,n)}function el(n){null!=n.v&&(Ht.clearTimeout(n.v),n.v=null)}function tl(n,e){var t=null;if(n.g==e){el(n),Vg(n),n.g=null;var i=2}else{if(!Og(n.i,e))return;t=e.F,TE(n.i,e),i=1}if(0!=n.H)if(e.i)if(1==i){t=e.s?e.s.length:0,e=Date.now()-e.G;var a=n.C;ki(i=wg(),new fE(i,t)),Ug(n)}else Gv(n);else if(3==(a=e.o)||0==a&&0<e.ca||!(1==i&&function kE(n,e){return!(Rg(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=Eg(ls(n.Na,n,e),Bg(n,n.C)),n.C++,0)))}(n,e)||2==i&&Ju(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),a){case 1:Wo(n,5);break;case 4:Wo(n,10);break;case 3:Wo(n,6);break;default:Wo(n,2)}}function Bg(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function Wo(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var i=ls(n.pb,n);t||(t=new Jc("//www.google.com/images/cleardot.gif"),Ht.location&&"http"==Ht.location.protocol||Ag(t,"https"),hf(t)),function EC(n,e){const t=new sd;if(Ht.Image){const i=new Image;i.onload=Yl(gf,t,i,"TestLoadImage: loaded",!0,e),i.onerror=Yl(gf,t,i,"TestLoadImage: error",!1,e),i.onabort=Yl(gf,t,i,"TestLoadImage: abort",!1,e),i.ontimeout=Yl(gf,t,i,"TestLoadImage: timeout",!1,e),Ht.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else e(!1)}(t.toString(),i)}else ds(2);n.H=0,n.h&&n.h.za(e),Wv(n),$v(n)}function Wv(n){if(n.H=0,n.ma=[],n.h){const e=Bv(n.i);(0!=e.length||0!=n.j.length)&&(nE(n.ma,e),nE(n.ma,n.j),n.i.i.length=0,vv(n.j),n.j.length=0),n.h.ya()}}function jg(n,e,t){var i=t instanceof Jc?Ea(t):new Jc(t);if(""!=i.g)e&&(i.g=e+"."+i.g),Sg(i,i.m);else{var a=Ht.location;i=a.protocol,e=e?e+"."+a.hostname:a.hostname,a=+a.port;var c=new Jc(null);i&&Ag(c,i),e&&(c.g=e),a&&Sg(c,a),t&&(c.l=t),i=c}return e=n.Da,(t=n.F)&&e&&ir(i,t,e),ir(i,"VER",n.ra),Vt(n,i),i}function $g(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new gr(t&&n.Ha&&!n.va?new Ta({ob:!0}):n.va)).Oa(n.J),e}function Hg(){}function vf(){if(ed&&!(10<=Number(Qh)))throw Error("Environmental error: no available transport.")}function fs(n,e){br.call(this),this.g=new TC(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!Zl(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Zl(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new md(this)}function LE(n){od.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function FE(){Lv.call(this),this.status=1}function md(n){this.g=n}function Ko(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Kv(n,e,t){t||(t=0);var i=Array(16);if("string"==typeof e)for(var a=0;16>a;++a)i[a]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(a=0;16>a;++a)i[a]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var c=n.g[3],d=(e=n.g[0])+(c^(t=n.g[1])&((a=n.g[2])^c))+i[0]+3614090360&4294967295;d=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=t+(d<<7&4294967295|d>>>25))+((d=c+(a^e&(t^a))+i[1]+3905402710&4294967295)<<12&4294967295|d>>>20))+((d=a+(t^c&(e^t))+i[2]+606105819&4294967295)<<17&4294967295|d>>>15))+((d=t+(e^a&(c^e))+i[3]+3250441966&4294967295)<<22&4294967295|d>>>10))+((d=e+(c^t&(a^c))+i[4]+4118548399&4294967295)<<7&4294967295|d>>>25))+((d=c+(a^e&(t^a))+i[5]+1200080426&4294967295)<<12&4294967295|d>>>20))+((d=a+(t^c&(e^t))+i[6]+2821735955&4294967295)<<17&4294967295|d>>>15))+((d=t+(e^a&(c^e))+i[7]+4249261313&4294967295)<<22&4294967295|d>>>10))+((d=e+(c^t&(a^c))+i[8]+1770035416&4294967295)<<7&4294967295|d>>>25))+((d=c+(a^e&(t^a))+i[9]+2336552879&4294967295)<<12&4294967295|d>>>20))+((d=a+(t^c&(e^t))+i[10]+4294925233&4294967295)<<17&4294967295|d>>>15))+((d=t+(e^a&(c^e))+i[11]+2304563134&4294967295)<<22&4294967295|d>>>10))+((d=e+(c^t&(a^c))+i[12]+1804603682&4294967295)<<7&4294967295|d>>>25))+((d=c+(a^e&(t^a))+i[13]+4254626195&4294967295)<<12&4294967295|d>>>20))+((d=a+(t^c&(e^t))+i[14]+2792965006&4294967295)<<17&4294967295|d>>>15))+((d=t+(e^a&(c^e))+i[15]+1236535329&4294967295)<<22&4294967295|d>>>10))+((d=e+(a^c&(t^a))+i[1]+4129170786&4294967295)<<5&4294967295|d>>>27))+((d=c+(t^a&(e^t))+i[6]+3225465664&4294967295)<<9&4294967295|d>>>23))+((d=a+(e^t&(c^e))+i[11]+643717713&4294967295)<<14&4294967295|d>>>18))+((d=t+(c^e&(a^c))+i[0]+3921069994&4294967295)<<20&4294967295|d>>>12))+((d=e+(a^c&(t^a))+i[5]+3593408605&4294967295)<<5&4294967295|d>>>27))+((d=c+(t^a&(e^t))+i[10]+38016083&4294967295)<<9&4294967295|d>>>23))+((d=a+(e^t&(c^e))+i[15]+3634488961&4294967295)<<14&4294967295|d>>>18))+((d=t+(c^e&(a^c))+i[4]+3889429448&4294967295)<<20&4294967295|d>>>12))+((d=e+(a^c&(t^a))+i[9]+568446438&4294967295)<<5&4294967295|d>>>27))+((d=c+(t^a&(e^t))+i[14]+3275163606&4294967295)<<9&4294967295|d>>>23))+((d=a+(e^t&(c^e))+i[3]+4107603335&4294967295)<<14&4294967295|d>>>18))+((d=t+(c^e&(a^c))+i[8]+1163531501&4294967295)<<20&4294967295|d>>>12))+((d=e+(a^c&(t^a))+i[13]+2850285829&4294967295)<<5&4294967295|d>>>27))+((d=c+(t^a&(e^t))+i[2]+4243563512&4294967295)<<9&4294967295|d>>>23))+((d=a+(e^t&(c^e))+i[7]+1735328473&4294967295)<<14&4294967295|d>>>18))+((d=t+(c^e&(a^c))+i[12]+2368359562&4294967295)<<20&4294967295|d>>>12))+((d=e+(t^a^c)+i[5]+4294588738&4294967295)<<4&4294967295|d>>>28))+((d=c+(e^t^a)+i[8]+2272392833&4294967295)<<11&4294967295|d>>>21))+((d=a+(c^e^t)+i[11]+1839030562&4294967295)<<16&4294967295|d>>>16))+((d=t+(a^c^e)+i[14]+4259657740&4294967295)<<23&4294967295|d>>>9))+((d=e+(t^a^c)+i[1]+2763975236&4294967295)<<4&4294967295|d>>>28))+((d=c+(e^t^a)+i[4]+1272893353&4294967295)<<11&4294967295|d>>>21))+((d=a+(c^e^t)+i[7]+4139469664&4294967295)<<16&4294967295|d>>>16))+((d=t+(a^c^e)+i[10]+3200236656&4294967295)<<23&4294967295|d>>>9))+((d=e+(t^a^c)+i[13]+681279174&4294967295)<<4&4294967295|d>>>28))+((d=c+(e^t^a)+i[0]+3936430074&4294967295)<<11&4294967295|d>>>21))+((d=a+(c^e^t)+i[3]+3572445317&4294967295)<<16&4294967295|d>>>16))+((d=t+(a^c^e)+i[6]+76029189&4294967295)<<23&4294967295|d>>>9))+((d=e+(t^a^c)+i[9]+3654602809&4294967295)<<4&4294967295|d>>>28))+((d=c+(e^t^a)+i[12]+3873151461&4294967295)<<11&4294967295|d>>>21))+((d=a+(c^e^t)+i[15]+530742520&4294967295)<<16&4294967295|d>>>16))+((d=t+(a^c^e)+i[2]+3299628645&4294967295)<<23&4294967295|d>>>9))+((d=e+(a^(t|~c))+i[0]+4096336452&4294967295)<<6&4294967295|d>>>26))+((d=c+(t^(e|~a))+i[7]+1126891415&4294967295)<<10&4294967295|d>>>22))+((d=a+(e^(c|~t))+i[14]+2878612391&4294967295)<<15&4294967295|d>>>17))+((d=t+(c^(a|~e))+i[5]+4237533241&4294967295)<<21&4294967295|d>>>11))+((d=e+(a^(t|~c))+i[12]+1700485571&4294967295)<<6&4294967295|d>>>26))+((d=c+(t^(e|~a))+i[3]+2399980690&4294967295)<<10&4294967295|d>>>22))+((d=a+(e^(c|~t))+i[10]+4293915773&4294967295)<<15&4294967295|d>>>17))+((d=t+(c^(a|~e))+i[1]+2240044497&4294967295)<<21&4294967295|d>>>11))+((d=e+(a^(t|~c))+i[8]+1873313359&4294967295)<<6&4294967295|d>>>26))+((d=c+(t^(e|~a))+i[15]+4264355552&4294967295)<<10&4294967295|d>>>22))+((d=a+(e^(c|~t))+i[6]+2734768916&4294967295)<<15&4294967295|d>>>17))+((d=t+(c^(a|~e))+i[13]+1309151649&4294967295)<<21&4294967295|d>>>11))+((c=(e=t+((d=e+(a^(t|~c))+i[4]+4149444226&4294967295)<<6&4294967295|d>>>26))+((d=c+(t^(e|~a))+i[11]+3174756917&4294967295)<<10&4294967295|d>>>22))^((a=c+((d=a+(e^(c|~t))+i[2]+718787259&4294967295)<<15&4294967295|d>>>17))|~e))+i[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(a+(d<<21&4294967295|d>>>11))&4294967295,n.g[2]=n.g[2]+a&4294967295,n.g[3]=n.g[3]+c&4294967295}function zn(n,e){this.h=e;for(var t=[],i=!0,a=n.length-1;0<=a;a--){var c=0|n[a];i&&c==e||(t[a]=c,i=!1)}this.g=t}(ct=gr.prototype).Oa=function(n){this.M=n},ct.ha=function(n,e,t,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Tg.g(),this.C=function pE(n){return n.h||(n.h=n.i())}(this.u?this.u:Tg),this.g.onreadystatechange=ls(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(c){return void xE(this,c)}if(n=t||"",t=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var a in i)t.set(a,i[a]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const c of i.keys())t.set(c,i.get(c))}i=Array.from(t.keys()).find(c=>"content-type"==c.toLowerCase()),a=Ht.FormData&&n instanceof Ht.FormData,!(0<=yv(SE,e))||i||a||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[c,d]of t)this.g.setRequestHeader(c,d);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{jv(this),0<this.B&&((this.L=function ME(n){return ed&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ls(this.ua,this)):this.A=nf(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(c){xE(this,c)}},ct.ua=function(){typeof mv<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ki(this,"timeout"),this.abort(8))},ct.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,ki(this,"complete"),ki(this,"abort"),Lg(this))},ct.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Lg(this,!0)),gr.$.N.call(this)},ct.La=function(){this.s||(this.G||this.v||this.l?RE(this):this.kb())},ct.kb=function(){RE(this)},ct.isActive=function(){return!!this.g},ct.da=function(){try{return 2<su(this)?this.g.status:-1}catch{return-1}},ct.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},ct.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),AE(e)}},ct.Ia=function(){return this.m},ct.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(ct=TC.prototype).ra=8,ct.H=1,ct.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const a=new ad(this,this.l,n);let c=this.s;if(this.U&&(c?(c=uC(c),cE(c,this.U)):c=this.U),null!==this.o||this.O||(a.I=c,c=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var i=this.j[t];if(void 0===(i="__data__"in i.map&&"string"==typeof(i=i.map.__data__)?i.length:void 0))break;if(4096<(e+=i)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=zv(this,a,e),ir(t=Ea(this.I),"RID",n),ir(t,"CVER",22),this.F&&ir(t,"X-HTTP-Session-Id",this.F),Vt(this,t),c&&(this.O?e="headers="+encodeURIComponent(String(DC(c)))+"&"+e:this.o&&Fg(t,this.o,c)),kg(this.i,a),this.bb&&ir(t,"TYPE","init"),this.P?(ir(t,"$req",e),ir(t,"SID","null"),a.aa=!0,Xu(a,t,null)):Xu(a,t,e),this.H=2}}else 3==this.H&&(n?Hv(this,n):0==this.j.length||DE(this.i)||Hv(this))},ct.Ma=function(){if(this.u=null,PE(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=Eg(ls(this.jb,this),n)}},ct.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,ds(10),yf(this),PE(this))},ct.ib=function(){null!=this.v&&(this.v=null,yf(this),Ju(this),ds(19))},ct.pb=function(n){n?(this.l.info("Successfully pinged google.com"),ds(2)):(this.l.info("Failed to ping google.com"),ds(1))},ct.isActive=function(){return!!this.h&&this.h.isActive(this)},(ct=Hg.prototype).Ba=function(){},ct.Aa=function(){},ct.za=function(){},ct.ya=function(){},ct.isActive=function(){return!0},ct.Va=function(){},vf.prototype.g=function(n,e){return new fs(n,e)},Zr(fs,br),fs.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;ds(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=jg(n,null,n.Y),Ug(n)},fs.prototype.close=function(){gd(this.g)},fs.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=bv(n),n=t);e.j.push(new class{constructor(n,e){this.g=n,this.map=e}}(e.fb++,n)),3==e.H&&Ug(e)},fs.prototype.N=function(){this.g.h=null,delete this.j,gd(this.g),delete this.g,fs.$.N.call(this)},Zr(LE,od),Zr(FE,Lv),Zr(md,Hg),md.prototype.Ba=function(){ki(this.g,"a")},md.prototype.Aa=function(n){ki(this.g,new LE(n))},md.prototype.za=function(n){ki(this.g,new FE)},md.prototype.ya=function(){ki(this.g,"b")},Zr(Ko,function UE(){this.blockSize=-1}),Ko.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Ko.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,i=this.m,a=this.h,c=0;c<e;){if(0==a)for(;c<=t;)Kv(this,n,c),c+=this.blockSize;if("string"==typeof n){for(;c<e;)if(i[a++]=n.charCodeAt(c++),a==this.blockSize){Kv(this,i),a=0;break}}else for(;c<e;)if(i[a++]=n[c++],a==this.blockSize){Kv(this,i),a=0;break}}this.h=a,this.i+=e},Ko.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var i=0;32>i;i+=8)n[t++]=this.g[e]>>>i&255;return n};var CC={};function zg(n){return-128<=n&&128>n?function sC(n,e){var t=CC;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new zn([0|e],0>e?-1:0)}):new zn([0|n],0>n?-1:0)}function qo(n){if(isNaN(n)||!isFinite(n))return bi;if(0>n)return Ai(qo(-n));for(var e=[],t=1,i=0;n>=t;i++)e[i]=n/t|0,t*=qv;return new zn(e,0)}var qv=4294967296,bi=zg(0),Qv=zg(1),BE=zg(16777216);function ec(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function Rs(n){return-1==n.h}function Ai(n){for(var e=n.g.length,t=[],i=0;i<e;i++)t[i]=~n.g[i];return new zn(t,~n.h).add(Qv)}function Gg(n,e){return n.add(Ai(e))}function Wg(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function _f(n,e){this.g=n,this.h=e}function If(n,e){if(ec(e))throw Error("division by zero");if(ec(n))return new _f(bi,bi);if(Rs(n))return e=If(Ai(n),e),new _f(Ai(e.g),Ai(e.h));if(Rs(e))return e=If(n,Ai(e)),new _f(Ai(e.g),e.h);if(30<n.g.length){if(Rs(n)||Rs(e))throw Error("slowDivide_ only works with positive integers.");for(var t=Qv,i=e;0>=i.X(n);)t=jE(t),i=jE(i);var a=yd(t,1),c=yd(i,1);for(i=yd(i,2),t=yd(t,2);!ec(i);){var d=c.add(i);0>=d.X(n)&&(a=a.add(t),c=d),i=yd(i,1),t=yd(t,1)}return e=Gg(n,a.R(e)),new _f(a,e)}for(a=bi;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),i=48>=(i=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,i-48),d=(c=qo(t)).R(e);Rs(d)||0<d.X(n);)d=(c=qo(t-=i)).R(e);ec(c)&&(c=Qv),a=a.add(c),n=Gg(n,d)}return new _f(a,n)}function jE(n){for(var e=n.g.length+1,t=[],i=0;i<e;i++)t[i]=n.D(i)<<1|n.D(i-1)>>>31;return new zn(t,n.h)}function yd(n,e){var t=e>>5;e%=32;for(var i=n.g.length-t,a=[],c=0;c<i;c++)a[c]=0<e?n.D(c+t)>>>e|n.D(c+t+1)<<32-e:n.D(c+t);return new zn(a,n.h)}(ct=zn.prototype).ea=function(){if(Rs(this))return-Ai(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var i=this.D(t);n+=(0<=i?i:qv+i)*e,e*=qv}return n},ct.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(ec(this))return"0";if(Rs(this))return"-"+Ai(this).toString(n);for(var e=qo(Math.pow(n,6)),t=this,i="";;){var a=If(t,e).g,c=((0<(t=Gg(t,a.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(ec(t=a))return c+i;for(;6>c.length;)c="0"+c;i=c+i}},ct.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},ct.X=function(n){return Rs(n=Gg(this,n))?-1:ec(n)?0:1},ct.abs=function(){return Rs(this)?Ai(this):this},ct.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0,a=0;a<=e;a++){var c=i+(65535&this.D(a))+(65535&n.D(a)),d=(c>>>16)+(this.D(a)>>>16)+(n.D(a)>>>16);i=d>>>16,t[a]=(d&=65535)<<16|(c&=65535)}return new zn(t,-2147483648&t[t.length-1]?-1:0)},ct.R=function(n){if(ec(this)||ec(n))return bi;if(Rs(this))return Rs(n)?Ai(this).R(Ai(n)):Ai(Ai(this).R(n));if(Rs(n))return Ai(this.R(Ai(n)));if(0>this.X(BE)&&0>n.X(BE))return qo(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],i=0;i<2*e;i++)t[i]=0;for(i=0;i<this.g.length;i++)for(var a=0;a<n.g.length;a++){var c=this.D(i)>>>16,d=65535&this.D(i),p=n.D(a)>>>16,T=65535&n.D(a);t[2*i+2*a]+=d*T,Wg(t,2*i+2*a),t[2*i+2*a+1]+=c*T,Wg(t,2*i+2*a+1),t[2*i+2*a+1]+=d*p,Wg(t,2*i+2*a+1),t[2*i+2*a+2]+=c*p,Wg(t,2*i+2*a+2)}for(i=0;i<e;i++)t[i]=t[2*i+1]<<16|t[2*i];for(i=e;i<2*e;i++)t[i]=0;return new zn(t,0)},ct.gb=function(n){return If(this,n).h},ct.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)&n.D(i);return new zn(t,this.h&n.h)},ct.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)|n.D(i);return new zn(t,this.h|n.h)},ct.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)^n.D(i);return new zn(t,this.h^n.h)},vf.prototype.createWebChannel=vf.prototype.g,fs.prototype.send=fs.prototype.u,fs.prototype.open=fs.prototype.m,fs.prototype.close=fs.prototype.close,Dg.NO_ERROR=0,Dg.TIMEOUT=8,Dg.HTTP_ERROR=6,uf.COMPLETE="complete",Pv.EventType=Zc,Zc.OPEN="a",Zc.CLOSE="b",Zc.ERROR="c",Zc.MESSAGE="d",br.prototype.listen=br.prototype.O,gr.prototype.listenOnce=gr.prototype.P,gr.prototype.getLastError=gr.prototype.Sa,gr.prototype.getLastErrorCode=gr.prototype.Ia,gr.prototype.getStatus=gr.prototype.da,gr.prototype.getResponseJson=gr.prototype.Wa,gr.prototype.getResponseText=gr.prototype.ja,gr.prototype.send=gr.prototype.ha,gr.prototype.setWithCredentials=gr.prototype.Oa,Ko.prototype.digest=Ko.prototype.l,Ko.prototype.reset=Ko.prototype.reset,Ko.prototype.update=Ko.prototype.j,zn.prototype.add=zn.prototype.add,zn.prototype.multiply=zn.prototype.R,zn.prototype.modulo=zn.prototype.gb,zn.prototype.compare=zn.prototype.X,zn.prototype.toNumber=zn.prototype.ea,zn.prototype.toString=zn.prototype.toString,zn.prototype.getBits=zn.prototype.D,zn.fromNumber=qo,zn.fromString=function VE(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return Ai(VE(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=qo(Math.pow(e,8)),i=bi,a=0;a<n.length;a+=8){var c=Math.min(8,n.length-a),d=parseInt(n.substring(a,a+c),e);8>c?(c=qo(Math.pow(e,c)),i=i.R(c).add(qo(d))):i=(i=i.R(t)).add(qo(d))}return i};var Xv=zo.createWebChannelTransport=function(){return new vf},bC=zo.getStatEventTarget=function(){return wg()},Yv=zo.ErrorCode=Dg,AC=zo.EventType=uf,SC=zo.Event=Xc,$E=zo.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Ca=zo.FetchXmlHttpFactory=Ta,vd=zo.WebChannel=Pv,MC=zo.XhrIo=gr,HE=zo.Md5=Ko,_d=zo.Integer=zn;const Zv="@firebase/firestore";class ui{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ui.UNAUTHENTICATED=new ui(null),ui.GOOGLE_CREDENTIALS=new ui("google-credentials-uid"),ui.FIRST_PARTY=new ui("first-party-uid"),ui.MOCK_USER=new ui("mock-user");let ou="9.23.0";const ba=new Te.Vy("@firebase/firestore");function zE(){return ba.logLevel}function Ue(n,...e){if(ba.logLevel<=Te.$b.DEBUG){const t=e.map(wf);ba.debug(`Firestore (${ou}): ${n}`,...t)}}function Nr(n,...e){if(ba.logLevel<=Te.$b.ERROR){const t=e.map(wf);ba.error(`Firestore (${ou}): ${n}`,...t)}}function vo(n,...e){if(ba.logLevel<=Te.$b.WARN){const t=e.map(wf);ba.warn(`Firestore (${ou}): ${n}`,...t)}}function wf(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function ot(n="Unexpected state"){const e=`FIRESTORE (${ou}) INTERNAL ASSERTION FAILED: `+n;throw Nr(e),new Error(e)}function mt(n,e){n||ot()}function it(n,e){return n}const ge={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ke extends J.g{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ci{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Ef{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Df{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(ui.UNAUTHENTICATED))}shutdown(){}}class GE{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Kg{constructor(e){this.t=e,this.currentUser=ui.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var i=this;let a=this.i;const c=A=>this.i!==a?(a=this.i,t(A)):Promise.resolve();let d=new ci;this.o=()=>{this.i++,this.currentUser=this.u(),d.resolve(),d=new ci,e.enqueueRetryable(()=>c(this.currentUser))};const p=()=>{const A=d;e.enqueueRetryable((0,V.A)(function*(){yield A.promise,yield c(i.currentUser)}))},T=A=>{Ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=A,this.auth.addAuthTokenListener(this.o),p()};this.t.onInit(A=>T(A)),setTimeout(()=>{if(!this.auth){const A=this.t.getImmediate({optional:!0});A?T(A):(Ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),d.resolve(),d=new ci)}},0),p()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(Ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(mt("string"==typeof i.accessToken),new Ef(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return mt(null===e||"string"==typeof e),new ui(e)}}class zA{constructor(e,t,i){this.h=e,this.l=t,this.m=i,this.type="FirstParty",this.user=ui.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class NC{constructor(e,t,i){this.h=e,this.l=t,this.m=i}getToken(){return Promise.resolve(new zA(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(ui.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Jv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class WE{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const i=c=>{null!=c.error&&Ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.T;return this.T=c.token,Ue("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?t(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable(()=>i(c))};const a=c=>{Ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.appCheck.addTokenListener(this.o)};this.I.onInit(c=>a(c)),setTimeout(()=>{if(!this.appCheck){const c=this.I.getImmediate({optional:!0});c?a(c):Ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(mt("string"==typeof t.token),this.T=t.token,new Jv(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function RC(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}class e_{static A(){const t=62*Math.floor(256/62);let i="";for(;i.length<20;){const a=RC(40);for(let c=0;c<a.length;++c)i.length<20&&a[c]<t&&(i+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(a[c]%62))}return i}}function zt(n,e){return n<e?-1:n>e?1:0}function Aa(n,e,t){return n.length===e.length&&n.every((i,a)=>t(i,e[a]))}class mr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ke(ge.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ke(ge.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new ke(ge.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ke(ge.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return mr.fromMillis(Date.now())}static fromDate(e){return mr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new mr(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?zt(this.nanoseconds,e.nanoseconds):zt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class yt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new yt(e)}static min(){return new yt(new mr(0,0))}static max(){return new yt(new mr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Tf{constructor(e,t,i){void 0===t?t=0:t>e.length&&ot(),void 0===i?i=e.length-t:i>e.length-t&&ot(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return 0===Tf.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Tf?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let a=0;a<i;a++){const c=e.get(a),d=t.get(a);if(c<d)return-1;if(c>d)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class An extends Tf{construct(e,t,i){return new An(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new ke(ge.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(a=>a.length>0))}return new An(t)}static emptyPath(){return new An([])}}const Cf=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Br extends Tf{construct(e,t,i){return new Br(e,t,i)}static isValidIdentifier(e){return Cf.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Br.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Br(["__name__"])}static fromServerFormat(e){const t=[];let i="",a=0;const c=()=>{if(0===i.length)throw new ke(ge.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let d=!1;for(;a<e.length;){const p=e[a];if("\\"===p){if(a+1===e.length)throw new ke(ge.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const T=e[a+1];if("\\"!==T&&"."!==T&&"`"!==T)throw new ke(ge.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=T,a+=2}else"`"===p?(d=!d,a++):"."!==p||d?(i+=p,a++):(c(),a++)}if(c(),d)throw new ke(ge.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Br(t)}static emptyPath(){return new Br([])}}class st{constructor(e){this.path=e}static fromPath(e){return new st(An.fromString(e))}static fromName(e){return new st(An.fromString(e).popFirst(5))}static empty(){return new st(An.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===An.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return An.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new st(new An(e.slice()))}}function qE(n){return new qi(n.readTime,n.key,-1)}class qi{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new qi(yt.min(),st.empty(),-1)}static max(){return new qi(yt.max(),st.empty(),-1)}}function n_(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=st.comparator(n.documentKey,e.documentKey),0!==t?t:zt(n.largestBatchId,e.largestBatchId))}const QE="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class XE{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function tc(n){return r_.apply(this,arguments)}function r_(){return r_=(0,V.A)(function*(n){if(n.code!==ge.FAILED_PRECONDITION||n.message!==QE)throw n;Ue("LocalStore","Unexpectedly lost primary lease")}),r_.apply(this,arguments)}class he{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ot(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new he((i,a)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(i,a)},this.catchCallback=c=>{this.wrapFailure(t,c).next(i,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof he?t:he.resolve(t)}catch(t){return he.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):he.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):he.reject(t)}static resolve(e){return new he((t,i)=>{t(e)})}static reject(e){return new he((t,i)=>{i(e)})}static waitFor(e){return new he((t,i)=>{let a=0,c=0,d=!1;e.forEach(p=>{++a,p.next(()=>{++c,d&&c===a&&t()},T=>i(T))}),d=!0,c===a&&t()})}static or(e){let t=he.resolve(!1);for(const i of e)t=t.next(a=>a?he.resolve(a):i());return t}static forEach(e,t){const i=[];return e.forEach((a,c)=>{i.push(t.call(this,a,c))}),this.waitFor(i)}static mapArray(e,t){return new he((i,a)=>{const c=e.length,d=new Array(c);let p=0;for(let T=0;T<c;T++){const A=T;t(e[A]).next(R=>{d[A]=R,++p,p===c&&i(d)},R=>a(R))}})}static doWhile(e,t){return new he((i,a)=>{const c=()=>{!0===e()?t().next(()=>{c()},a):i()};c()})}}function rl(n){return"IndexedDbTransactionError"===n.name}let ps=(()=>{class n{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=a=>this.ot(a),this.ut=a=>i.writeSequenceNumber(a))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return n.ct=-1,n})();function Af(n){return null==n}function Os(n){return 0===n&&1/n==-1/0}function VC(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function rc(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function BC(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class sr{constructor(e,t){this.comparator=e,this.root=t||Pi.EMPTY}insert(e,t){return new sr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Pi.BLACK,null,null))}remove(e){return new sr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Pi.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(0===i)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(0===a)return t+i.left.size;a<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Jg(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Jg(this.root,e,this.comparator,!1)}getReverseIterator(){return new Jg(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Jg(this.root,e,this.comparator,!0)}}class Jg{constructor(e,t,i,a){this.isReverse=a,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=t?i(e.key,t):1,t&&a&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(0===c){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Pi{constructor(e,t,i,a,c){this.key=e,this.value=t,this.color=i??Pi.RED,this.left=a??Pi.EMPTY,this.right=c??Pi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,a,c){return new Pi(e??this.key,t??this.value,i??this.color,a??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let a=this;const c=i(e,a.key);return a=c<0?a.copy(null,null,null,a.left.insert(e,t,i),null):0===c?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Pi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),0===t(e,a.key)){if(a.right.isEmpty())return Pi.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Pi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Pi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ot();const e=this.left.check();if(e!==this.right.check())throw ot();return e+(this.isRed()?0:1)}}Pi.EMPTY=null,Pi.RED=!0,Pi.BLACK=!1,Pi.EMPTY=new class{constructor(){this.size=0}get key(){throw ot()}get value(){throw ot()}get color(){throw ot()}get left(){throw ot()}get right(){throw ot()}copy(n,e,t,i,a){return this}insert(n,e,t){return new Pi(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Zn{constructor(e){this.comparator=e,this.data=new sr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let i;for(i=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new xd(this.data.getIterator())}getIteratorFrom(e){return new xd(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof Zn)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,c=i.getNext().key;if(0!==this.comparator(a,c))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Zn(this.comparator);return t.data=e,t}}class xd{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Li{constructor(e){this.fields=e,e.sort(Br.comparator)}static empty(){return new Li([])}unionWith(e){let t=new Zn(Br.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Li(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Aa(this.fields,e.fields,(t,i)=>t.isEqual(i))}}class a_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Jr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new a_("Invalid base64 string: "+a):a}}(e);return new Jr(t)}static fromUint8Array(e){const t=function(i){let a="";for(let c=0;c<i.length;++c)a+=String.fromCharCode(i[c]);return a}(e);return new Jr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let i=0;i<e.length;i++)t[i]=e.charCodeAt(i);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return zt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Jr.EMPTY_BYTE_STRING=new Jr("");const jC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Io(n){if(mt(!!n),"string"==typeof n){let e=0;const t=jC.exec(n);if(mt(!!t),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Rr(n.seconds),nanos:Rr(n.nanos)}}function Rr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function uu(n){return"string"==typeof n?Jr.fromBase64String(n):Jr.fromUint8Array(n)}function tm(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function nm(n){const e=n.mapValue.fields.__previous_value__;return tm(e)?nm(e):e}function ol(n){const e=Io(n.mapValue.fields.__local_write_time__.timestampValue);return new mr(e.seconds,e.nanos)}class rm{constructor(e,t,i,a,c,d,p,T,A){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=a,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=T,this.useFetchStreams=A}}class Sa{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Sa("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Sa&&e.projectId===this.projectId&&e.database===this.database}}const al={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function sc(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?tm(n)?4:h0(n)?9007199254740991:10:ot()}function wo(n,e){if(n===e)return!0;const t=sc(n);if(t!==sc(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return ol(n).isEqual(ol(e));case 3:return function(i,a){if("string"==typeof i.timestampValue&&"string"==typeof a.timestampValue&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const c=Io(i.timestampValue),d=Io(a.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return a=e,uu(n.bytesValue).isEqual(uu(a.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,a){return Rr(i.geoPointValue.latitude)===Rr(a.geoPointValue.latitude)&&Rr(i.geoPointValue.longitude)===Rr(a.geoPointValue.longitude)}(n,e);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return Rr(i.integerValue)===Rr(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const c=Rr(i.doubleValue),d=Rr(a.doubleValue);return c===d?Os(c)===Os(d):isNaN(c)&&isNaN(d)}return!1}(n,e);case 9:return Aa(n.arrayValue.values||[],e.arrayValue.values||[],wo);case 10:return function(i,a){const c=i.mapValue.fields||{},d=a.mapValue.fields||{};if(VC(c)!==VC(d))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(void 0===d[p]||!wo(c[p],d[p])))return!1;return!0}(n,e);default:return ot()}var a}function Mf(n,e){return void 0!==(n.values||[]).find(t=>wo(t,e))}function cu(n,e){if(n===e)return 0;const t=sc(n),i=sc(e);if(t!==i)return zt(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return zt(n.booleanValue,e.booleanValue);case 2:return function(a,c){const d=Rr(a.integerValue||a.doubleValue),p=Rr(c.integerValue||c.doubleValue);return d<p?-1:d>p?1:d===p?0:isNaN(d)?isNaN(p)?0:-1:1}(n,e);case 3:return c0(n.timestampValue,e.timestampValue);case 4:return c0(ol(n),ol(e));case 5:return zt(n.stringValue,e.stringValue);case 6:return function(a,c){const d=uu(a),p=uu(c);return d.compareTo(p)}(n.bytesValue,e.bytesValue);case 7:return function(a,c){const d=a.split("/"),p=c.split("/");for(let T=0;T<d.length&&T<p.length;T++){const A=zt(d[T],p[T]);if(0!==A)return A}return zt(d.length,p.length)}(n.referenceValue,e.referenceValue);case 8:return function(a,c){const d=zt(Rr(a.latitude),Rr(c.latitude));return 0!==d?d:zt(Rr(a.longitude),Rr(c.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(a,c){const d=a.values||[],p=c.values||[];for(let T=0;T<d.length&&T<p.length;++T){const A=cu(d[T],p[T]);if(A)return A}return zt(d.length,p.length)}(n.arrayValue,e.arrayValue);case 10:return function(a,c){if(a===al.mapValue&&c===al.mapValue)return 0;if(a===al.mapValue)return 1;if(c===al.mapValue)return-1;const d=a.fields||{},p=Object.keys(d),T=c.fields||{},A=Object.keys(T);p.sort(),A.sort();for(let R=0;R<p.length&&R<A.length;++R){const $=zt(p[R],A[R]);if(0!==$)return $;const ee=cu(d[p[R]],T[A[R]]);if(0!==ee)return ee}return zt(p.length,A.length)}(n.mapValue,e.mapValue);default:throw ot()}}function c0(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return zt(n,e);const t=Io(n),i=Io(e),a=zt(t.seconds,i.seconds);return 0!==a?a:zt(t.nanos,i.nanos)}function Nd(n){return sm(n)}function sm(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const a=Io(i);return`time(${a.seconds},${a.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?uu(n.bytesValue).toBase64():"referenceValue"in n?st.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(i){let a="[",c=!0;for(const d of i.values||[])c?c=!1:a+=",",a+=sm(d);return a+"]"}(n.arrayValue):"mapValue"in n?function(i){const a=Object.keys(i.fields||{}).sort();let c="{",d=!0;for(const p of a)d?d=!1:c+=",",c+=`${p}:${sm(i.fields[p])}`;return c+"}"}(n.mapValue):ot();var e}function oc(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function u_(n){return!!n&&"integerValue"in n}function Nf(n){return!!n&&"arrayValue"in n}function l0(n){return!!n&&"nullValue"in n}function d0(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Rd(n){return!!n&&"mapValue"in n}function ul(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return rc(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=ul(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=ul(n.arrayValue.values[t]);return e}return Object.assign({},n)}function h0(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}class Fi{constructor(e){this.value=e}static empty(){return new Fi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!Rd(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ul(t)}setAll(e){let t=Br.emptyPath(),i={},a=[];e.forEach((d,p)=>{if(!t.isImmediateParentOf(p)){const T=this.getFieldsMap(t);this.applyChanges(T,i,a),i={},a=[],t=p.popLast()}d?i[p.lastSegment()]=ul(d):a.push(p.lastSegment())});const c=this.getFieldsMap(t);this.applyChanges(c,i,a)}delete(e){const t=this.field(e.popLast());Rd(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return wo(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let a=t.mapValue.fields[e.get(i)];Rd(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,i){rc(t,(a,c)=>e[a]=c);for(const a of i)delete e[a]}clone(){return new Fi(ul(this.value))}}function f0(n){const e=[];return rc(n.fields,(t,i)=>{const a=new Br([t]);if(Rd(i)){const c=f0(i.mapValue).fields;if(0===c.length)e.push(a);else for(const d of c)e.push(a.child(d))}else e.push(a)}),new Li(e)}class cr{constructor(e,t,i,a,c,d,p){this.key=e,this.documentType=t,this.version=i,this.readTime=a,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(e){return new cr(e,0,yt.min(),yt.min(),yt.min(),Fi.empty(),0)}static newFoundDocument(e,t,i,a){return new cr(e,1,t,yt.min(),i,a,0)}static newNoDocument(e,t){return new cr(e,2,t,yt.min(),yt.min(),Fi.empty(),0)}static newUnknownDocument(e,t){return new cr(e,3,t,yt.min(),yt.min(),Fi.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(yt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Fi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Fi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=yt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof cr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new cr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ma{constructor(e,t){this.position=e,this.inclusive=t}}function cm(n,e,t){let i=0;for(let a=0;a<n.position.length;a++){const c=e[a],d=n.position[a];if(i=c.field.isKeyField()?st.comparator(st.fromName(d.referenceValue),t.key):cu(d,t.data.field(c.field)),"desc"===c.dir&&(i*=-1),0!==i)break}return i}function l_(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!wo(n.position[t],e.position[t]))return!1;return!0}class cl{constructor(e,t="asc"){this.field=e,this.dir=t}}function $C(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class p0{}class mn extends p0{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,i):new HC(e,t,i):"array-contains"===t?new g_(e,i):"in"===t?new m_(e,i):"not-in"===t?new m0(e,i):"array-contains-any"===t?new y0(e,i):new mn(e,t,i)}static createKeyFieldInFilter(e,t,i){return"in"===t?new zC(e,i):new GC(e,i)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(cu(t,this.value)):null!==t&&sc(this.value)===sc(t)&&this.matchesComparison(cu(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return ot()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Vn extends p0{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new Vn(e,t)}matches(e){return ll(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function ll(n){return"and"===n.op}function lm(n){return function g0(n){for(const e of n.filters)if(e instanceof Vn)return!1;return!0}(n)&&ll(n)}function dm(n){if(n instanceof mn)return n.field.canonicalString()+n.op.toString()+Nd(n.value);if(lm(n))return n.filters.map(e=>dm(e)).join(",");{const e=n.filters.map(t=>dm(t)).join(",");return`${n.op}(${e})`}}function d_(n,e){return n instanceof mn?(t=n,(i=e)instanceof mn&&t.op===i.op&&t.field.isEqual(i.field)&&wo(t.value,i.value)):n instanceof Vn?function(t,i){return i instanceof Vn&&t.op===i.op&&t.filters.length===i.filters.length&&t.filters.reduce((a,c,d)=>a&&d_(c,i.filters[d]),!0)}(n,e):void ot();var t,i}function f_(n){return n instanceof mn?`${(e=n).field.canonicalString()} ${e.op} ${Nd(e.value)}`:n instanceof Vn?function(e){return e.op.toString()+" {"+e.getFilters().map(f_).join(" ,")+"}"}(n):"Filter";var e}class HC extends mn{constructor(e,t,i){super(e,t,i),this.key=st.fromName(i.referenceValue)}matches(e){const t=st.comparator(e.key,this.key);return this.matchesComparison(t)}}class zC extends mn{constructor(e,t){super(e,"in",t),this.keys=p_(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class GC extends mn{constructor(e,t){super(e,"not-in",t),this.keys=p_(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function p_(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(i=>st.fromName(i.referenceValue))}class g_ extends mn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Nf(t)&&Mf(t.arrayValue,this.value)}}class m_ extends mn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Mf(this.value.arrayValue,t)}}class m0 extends mn{constructor(e,t){super(e,"not-in",t)}matches(e){if(Mf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Mf(this.value.arrayValue,t)}}class y0 extends mn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Nf(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>Mf(this.value.arrayValue,i))}}class v0{constructor(e,t=null,i=[],a=[],c=null,d=null,p=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=a,this.limit=c,this.startAt=d,this.endAt=p,this.dt=null}}function hm(n,e=null,t=[],i=[],a=null,c=null,d=null){return new v0(n,e,t,i,a,c,d)}function ac(n){const e=it(n);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>dm(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>{return(a=i).field.canonicalString()+a.dir;var a}).join(","),Af(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Nd(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Nd(i)).join(",")),e.dt=t}return e.dt}function Od(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!$C(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!d_(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!l_(n.startAt,e.startAt)&&l_(n.endAt,e.endAt)}function Of(n){return st.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class du{constructor(e,t=null,i=[],a=[],c=null,d="F",p=null,T=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=a,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=T,this.wt=null,this._t=null}}function Eo(n){return new du(n)}function pm(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function y_(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function kd(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function I0(n){return null!==n.collectionGroup}function Pd(n){const e=it(n);if(null===e.wt){e.wt=[];const t=kd(e),i=y_(e);if(null!==t&&null===i)t.isKeyField()||e.wt.push(new cl(t)),e.wt.push(new cl(Br.keyField(),"asc"));else{let a=!1;for(const c of e.explicitOrderBy)e.wt.push(c),c.field.isKeyField()&&(a=!0);if(!a){const c=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new cl(Br.keyField(),c))}}}return e.wt}function gs(n){const e=it(n);if(!e._t)if("F"===e.limitType)e._t=hm(e.path,e.collectionGroup,Pd(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const c of Pd(e))t.push(new cl(c.field,"desc"===c.dir?"asc":"desc"));const i=e.endAt?new Ma(e.endAt.position,e.endAt.inclusive):null,a=e.startAt?new Ma(e.startAt.position,e.startAt.inclusive):null;e._t=hm(e.path,e.collectionGroup,t,e.filters,e.limit,i,a)}return e._t}function v_(n,e){e.getFirstInequalityField(),kd(n);const t=n.filters.concat([e]);return new du(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function kf(n,e,t){return new du(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Pf(n,e){return Od(gs(n),gs(e))&&n.limitType===e.limitType}function ei(n){return`${ac(gs(n))}|lt:${n.limitType}`}function gm(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(i=>f_(i)).join(", ")}]`),Af(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(i=>{return`${(a=i).field.canonicalString()} (${a.dir})`;var a}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Nd(i)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Nd(i)).join(",")),`Target(${t})`}(gs(n))}; limitType=${n.limitType})`}function Lf(n,e){return e.isFoundDocument()&&function(t,i){const a=i.key.path;return null!==t.collectionGroup?i.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(a):st.isDocumentKey(t.path)?t.path.isEqual(a):t.path.isImmediateParentOf(a)}(n,e)&&function(t,i){for(const a of Pd(t))if(!a.field.isKeyField()&&null===i.data.field(a.field))return!1;return!0}(n,e)&&function(t,i){for(const a of t.filters)if(!a.matches(i))return!1;return!0}(n,e)&&(i=e,!((t=n).startAt&&!function(a,c,d){const p=cm(a,c,d);return a.inclusive?p<=0:p<0}(t.startAt,Pd(t),i)||t.endAt&&!function(a,c,d){const p=cm(a,c,d);return a.inclusive?p>=0:p>0}(t.endAt,Pd(t),i)));var t,i}function __(n){return(e,t)=>{let i=!1;for(const a of Pd(n)){const c=WC(a,e,t);if(0!==c)return c;i=i||a.field.isKeyField()}return 0}}function WC(n,e,t){const i=n.field.isKeyField()?st.comparator(e.key,t.key):function(a,c,d){const p=c.data.field(a),T=d.data.field(a);return null!==p&&null!==T?cu(p,T):ot()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return ot()}}class xa{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0!==i)for(const[a,c]of i)if(this.equalsFn(a,e))return c}has(e){return void 0!==this.get(e)}set(e,t){const i=this.mapKeyFn(e),a=this.inner[i];if(void 0===a)return this.inner[i]=[[e,t]],void this.innerSize++;for(let c=0;c<a.length;c++)if(this.equalsFn(a[c][0],e))return void(a[c]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0===i)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return 1===i.length?delete this.inner[t]:i.splice(a,1),this.innerSize--,!0;return!1}forEach(e){rc(this.inner,(t,i)=>{for(const[a,c]of i)e(a,c)})}isEmpty(){return BC(this.inner)}size(){return this.innerSize}}const E0=new sr(st.comparator);function li(){return E0}const D0=new sr(st.comparator);function Ff(...n){let e=D0;for(const t of n)e=e.insert(t.key,t);return e}function I_(n){let e=D0;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function Na(){return mm()}function w_(){return mm()}function mm(){return new xa(n=>n.toString(),(n,e)=>n.isEqual(e))}const T0=new sr(st.comparator),E_=new Zn(st.comparator);function kt(...n){let e=E_;for(const t of n)e=e.add(t);return e}const KC=new Zn(zt);function Qo(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Os(e)?"-0":e}}function Do(n){return{integerValue:""+n}}function To(n,e){return function Ed(n){return"number"==typeof n&&Number.isInteger(n)&&!Os(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}(e)?Do(e):Qo(n,e)}class Uf{constructor(){this._=void 0}}function C0(n,e,t){return n instanceof Ld?function(i,a){const c={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&tm(a)&&(a=nm(a)),a&&(c.fields.__previous_value__=a),{mapValue:c}}(t,e):n instanceof hl?ym(n,e):n instanceof Xo?A0(n,e):function(i,a){const c=b0(i,a),d=S0(c)+S0(i.gt);return u_(c)&&u_(i.gt)?Do(d):Qo(i.serializer,d)}(n,e)}function qC(n,e,t){return n instanceof hl?ym(n,e):n instanceof Xo?A0(n,e):t}function b0(n,e){return n instanceof fl?u_(t=e)||(i=t)&&"doubleValue"in i?e:{integerValue:0}:null;var i,t}class Ld extends Uf{}class hl extends Uf{constructor(e){super(),this.elements=e}}function ym(n,e){const t=M0(e);for(const i of n.elements)t.some(a=>wo(a,i))||t.push(i);return{arrayValue:{values:t}}}class Xo extends Uf{constructor(e){super(),this.elements=e}}function A0(n,e){let t=M0(e);for(const i of n.elements)t=t.filter(a=>!wo(a,i));return{arrayValue:{values:t}}}class fl extends Uf{constructor(e,t){super(),this.serializer=e,this.gt=t}}function S0(n){return Rr(n.integerValue||n.doubleValue)}function M0(n){return Nf(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class vm{constructor(e,t){this.version=e,this.transformResults=t}}class yr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new yr}static exists(e){return new yr(void 0,e)}static updateTime(e){return new yr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Vf(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class Bf{}function T_(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new gl(n.key,yr.none()):new pl(n.key,n.data,yr.none());{const t=n.data,i=Fi.empty();let a=new Zn(Br.comparator);for(let c of e.fields)if(!a.has(c)){let d=t.field(c);null===d&&c.length>1&&(c=c.popLast(),d=t.field(c)),null===d?i.delete(c):i.set(c,d),a=a.add(c)}return new Yo(n.key,i,new Li(a.toArray()),yr.none())}}function QC(n,e,t){n instanceof pl?function(i,a,c){const d=i.value.clone(),p=A_(i.fieldTransforms,a,c.transformResults);d.setAll(p),a.convertToFoundDocument(c.version,d).setHasCommittedMutations()}(n,e,t):n instanceof Yo?function(i,a,c){if(!Vf(i.precondition,a))return void a.convertToUnknownDocument(c.version);const d=A_(i.fieldTransforms,a,c.transformResults),p=a.data;p.setAll(b_(i)),p.setAll(d),a.convertToFoundDocument(c.version,p).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function jf(n,e,t,i){return n instanceof pl?function(a,c,d,p){if(!Vf(a.precondition,c))return d;const T=a.value.clone(),A=S_(a.fieldTransforms,p,c);return T.setAll(A),c.convertToFoundDocument(c.version,T).setHasLocalMutations(),null}(n,e,t,i):n instanceof Yo?function(a,c,d,p){if(!Vf(a.precondition,c))return d;const T=S_(a.fieldTransforms,p,c),A=c.data;return A.setAll(b_(a)),A.setAll(T),c.convertToFoundDocument(c.version,A).setHasLocalMutations(),null===d?null:d.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(R=>R.field))}(n,e,t,i):(d=t,Vf(n.precondition,c=e)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d);var c,d}function C_(n,e){let t=null;for(const i of n.fieldTransforms){const a=e.data.field(i.field),c=b0(i.transform,a||null);null!=c&&(null===t&&(t=Fi.empty()),t.set(i.field,c))}return t||null}function _m(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===i||t&&i&&Aa(t,i,(a,c)=>function x0(n,e){return n.field.isEqual(e.field)&&(i=e.transform,(t=n.transform)instanceof hl&&i instanceof hl||t instanceof Xo&&i instanceof Xo?Aa(t.elements,i.elements,wo):t instanceof fl&&i instanceof fl?wo(t.gt,i.gt):t instanceof Ld&&i instanceof Ld);var t,i}(a,c))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,i}class pl extends Bf{constructor(e,t,i,a=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Yo extends Bf{constructor(e,t,i,a,c=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=a,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function b_(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function A_(n,e,t){const i=new Map;mt(n.length===t.length);for(let a=0;a<t.length;a++){const c=n[a],d=c.transform,p=e.data.field(c.field);i.set(c.field,qC(d,p,t[a]))}return i}function S_(n,e,t){const i=new Map;for(const a of n){const c=a.transform,d=t.data.field(a.field);i.set(a.field,C0(c,d,e))}return i}class gl extends Bf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Im extends Bf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class wm{constructor(e,t,i,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const c=this.mutations[a];c.key.isEqual(e.key)&&QC(c,e,i[a])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=jf(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=jf(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=w_();return this.mutations.forEach(a=>{const c=e.get(a.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=t.has(a.key)?null:p;const T=T_(d,p);null!==T&&i.set(a.key,T),d.isValidDocument()||d.convertToNoDocument(yt.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),kt())}isEqual(e){return this.batchId===e.batchId&&Aa(this.mutations,e.mutations,(t,i)=>_m(t,i))&&Aa(this.baseMutations,e.baseMutations,(t,i)=>_m(t,i))}}class M_{constructor(e,t,i,a){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=a}static from(e,t,i){mt(e.mutations.length===i.length);let a=T0;const c=e.mutations;for(let d=0;d<c.length;d++)a=a.insert(c[d].key,i[d].version);return new M_(e,t,i,a)}}class x_{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class YC{constructor(e,t){this.count=e,this.unchangedNames=t}}var ti,Sn;function R0(n){if(void 0===n)return Nr("GRPC error has no .code"),ge.UNKNOWN;switch(n){case ti.OK:return ge.OK;case ti.CANCELLED:return ge.CANCELLED;case ti.UNKNOWN:return ge.UNKNOWN;case ti.DEADLINE_EXCEEDED:return ge.DEADLINE_EXCEEDED;case ti.RESOURCE_EXHAUSTED:return ge.RESOURCE_EXHAUSTED;case ti.INTERNAL:return ge.INTERNAL;case ti.UNAVAILABLE:return ge.UNAVAILABLE;case ti.UNAUTHENTICATED:return ge.UNAUTHENTICATED;case ti.INVALID_ARGUMENT:return ge.INVALID_ARGUMENT;case ti.NOT_FOUND:return ge.NOT_FOUND;case ti.ALREADY_EXISTS:return ge.ALREADY_EXISTS;case ti.PERMISSION_DENIED:return ge.PERMISSION_DENIED;case ti.FAILED_PRECONDITION:return ge.FAILED_PRECONDITION;case ti.ABORTED:return ge.ABORTED;case ti.OUT_OF_RANGE:return ge.OUT_OF_RANGE;case ti.UNIMPLEMENTED:return ge.UNIMPLEMENTED;case ti.DATA_LOSS:return ge.DATA_LOSS;default:return ot()}}(Sn=ti||(ti={}))[Sn.OK=0]="OK",Sn[Sn.CANCELLED=1]="CANCELLED",Sn[Sn.UNKNOWN=2]="UNKNOWN",Sn[Sn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Sn[Sn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Sn[Sn.NOT_FOUND=5]="NOT_FOUND",Sn[Sn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Sn[Sn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Sn[Sn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Sn[Sn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Sn[Sn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Sn[Sn.ABORTED=10]="ABORTED",Sn[Sn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Sn[Sn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Sn[Sn.INTERNAL=13]="INTERNAL",Sn[Sn.UNAVAILABLE=14]="UNAVAILABLE",Sn[Sn.DATA_LOSS=15]="DATA_LOSS";class N_{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Em}static getOrCreateInstance(){return null===Em&&(Em=new N_),Em}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let Em=null;const ZC=new _d([4294967295,4294967295],0);function k0(n){const e=function O0(){return new TextEncoder}().encode(n),t=new HE;return t.update(e),new Uint8Array(t.digest())}function P0(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),a=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new _d([t,i],0),new _d([a,c],0)]}class R_{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new $f(`Invalid padding: ${t}`);if(i<0)throw new $f(`Invalid hash count: ${i}`);if(e.length>0&&0===this.hashCount)throw new $f(`Invalid hash count: ${i}`);if(0===e.length&&0!==t)throw new $f(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=_d.fromNumber(this.It)}Et(e,t,i){let a=e.add(t.multiply(_d.fromNumber(i)));return 1===a.compare(ZC)&&(a=new _d([a.getBits(0),a.getBits(1)],0)),a.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=k0(e),[i,a]=P0(t);for(let c=0;c<this.hashCount;c++){const d=this.Et(i,a,c);if(!this.At(d))return!1}return!0}static create(e,t,i){const a=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new R_(c,a,t);return i.forEach(p=>d.insert(p)),d}insert(e){if(0===this.It)return;const t=k0(e),[i,a]=P0(t);for(let c=0;c<this.hashCount;c++){const d=this.Et(i,a,c);this.Rt(d)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class $f extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Hf{constructor(e,t,i,a,c){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const a=new Map;return a.set(e,zf.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Hf(yt.min(),a,new sr(zt),li(),kt())}}class zf{constructor(e,t,i,a,c){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new zf(i,t,kt(),kt(),kt())}}class Gf{constructor(e,t,i,a){this.Pt=e,this.removedTargetIds=t,this.key=i,this.bt=a}}class O_{constructor(e,t){this.targetId=e,this.Vt=t}}class k_{constructor(e,t,i=Jr.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=a}}class P_{constructor(){this.St=0,this.Dt=F_(),this.Ct=Jr.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=kt(),t=kt(),i=kt();return this.Dt.forEach((a,c)=>{switch(c){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:i=i.add(a);break;default:ot()}}),new zf(this.Ct,this.xt,e,t,i)}Ft(){this.Nt=!1,this.Dt=F_()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class L0{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=li(),this.zt=L_(),this.Wt=new sr(zt)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const i=this.Zt(t);switch(e.state){case 0:this.te(t)&&i.$t(e.resumeToken);break;case 1:i.Ut(),i.kt||i.Ft(),i.$t(e.resumeToken);break;case 2:i.Ut(),i.kt||this.removeTarget(t);break;case 3:this.te(t)&&(i.Kt(),i.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),i.$t(e.resumeToken));break;default:ot()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((i,a)=>{this.te(a)&&t(a)})}ne(e){var t;const i=e.targetId,a=e.Vt.count,c=this.se(i);if(c){const d=c.target;if(Of(d))if(0===a){const p=new st(d.path);this.Yt(i,p,cr.newNoDocument(p,yt.min()))}else mt(1===a);else{const p=this.ie(i);if(p!==a){const T=this.re(e,p);0!==T&&(this.ee(i),this.Wt=this.Wt.insert(i,2===T?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=N_.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(A,R,$){var ee,ye,Ve,Je,lt,Xt;const Cn={localCacheCount:R,existenceFilterCount:$.count},nn=$.unchangedNames;return nn&&(Cn.bloomFilter={applied:0===A,hashCount:null!==(ee=nn?.hashCount)&&void 0!==ee?ee:0,bitmapLength:null!==(Je=null===(Ve=null===(ye=nn?.bits)||void 0===ye?void 0:ye.bitmap)||void 0===Ve?void 0:Ve.length)&&void 0!==Je?Je:0,padding:null!==(Xt=null===(lt=nn?.bits)||void 0===lt?void 0:lt.padding)&&void 0!==Xt?Xt:0}),Cn}(T,p,e.Vt))}}}}re(e,t){const{unchangedNames:i,count:a}=e.Vt;if(!i||!i.bits)return 1;const{bits:{bitmap:c="",padding:d=0},hashCount:p=0}=i;let T,A;try{T=uu(c).toUint8Array()}catch(R){if(R instanceof a_)return vo("Decoding the base64 bloom filter in existence filter failed ("+R.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw R}try{A=new R_(T,d,p)}catch(R){return vo(R instanceof $f?"BloomFilter error: ":"Applying bloom filter failed: ",R),1}return 0===A.It?1:a!==t-this.oe(e.targetId,A)?2:0}oe(e,t){const i=this.Gt.getRemoteKeysForTarget(e);let a=0;return i.forEach(c=>{const d=this.Gt.ue(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.vt(p)||(this.Yt(e,c,null),a++)}),a}ce(e){const t=new Map;this.Qt.forEach((c,d)=>{const p=this.se(d);if(p){if(c.current&&Of(p.target)){const T=new st(p.target.path);null!==this.jt.get(T)||this.ae(d,T)||this.Yt(d,T,cr.newNoDocument(T,e))}c.Mt&&(t.set(d,c.Ot()),c.Ft())}});let i=kt();this.zt.forEach((c,d)=>{let p=!0;d.forEachWhile(T=>{const A=this.se(T);return!A||"TargetPurposeLimboResolution"===A.purpose||(p=!1,!1)}),p&&(i=i.add(c))}),this.jt.forEach((c,d)=>d.setReadTime(e));const a=new Hf(e,t,this.Wt,this.jt,i);return this.jt=li(),this.zt=L_(),this.Wt=new sr(zt),a}Jt(e,t){if(!this.te(e))return;const i=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,i),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,i){if(!this.te(e))return;const a=this.Zt(e);this.ae(e,t)?a.Bt(t,1):a.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),i&&(this.jt=this.jt.insert(t,i))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new P_,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new Zn(zt),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||Ue("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new P_),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function L_(){return new sr(st.comparator)}function F_(){return new sr(st.comparator)}const F0={asc:"ASCENDING",desc:"DESCENDING"},U0={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},V0={and:"AND",or:"OR"};class B0{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function hu(n,e){return n.useProto3Json||Af(e)?e:{value:e}}function Ud(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function j0(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function Vd(n,e){return Ud(n,e.toTimestamp())}function ni(n){return mt(!!n),yt.fromTimestamp(function(e){const t=Io(e);return new mr(t.seconds,t.nanos)}(n))}function Wf(n,e){return(t=n,new An(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function JC(n){const e=An.fromString(n);return mt(Q0(e)),e}function Bd(n,e){return Wf(n.databaseId,e.path)}function Zo(n,e){const t=JC(e);if(t.get(1)!==n.databaseId.projectId)throw new ke(ge.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ke(ge.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new st(H0(t))}function $0(n,e){return Wf(n.databaseId,e)}function Kf(n){return new An(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function H0(n){return mt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function z0(n,e,t){return{name:Bd(n,e),fields:t.value.mapValue.fields}}function U_(n,e){return{documents:[$0(n,e.path)]}}function Tm(n,e){const t={structuredQuery:{}},i=e.path;null!==e.collectionGroup?(t.parent=$0(n,i),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=$0(n,i.popLast()),t.structuredQuery.from=[{collectionId:i.lastSegment()}]);const a=function(T){if(0!==T.length)return $d(Vn.create(T,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const c=function(T){if(0!==T.length)return T.map(A=>{return{field:cc((R=A).field),direction:K0(R.dir)};var R})}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const d=hu(n,e.limit);var p,T;return null!==d&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt={before:(p=e.startAt).inclusive,values:p.position}),e.endAt&&(t.structuredQuery.endAt={before:!(T=e.endAt).inclusive,values:T.position}),t}function G0(n){let e=function ml(n){const e=JC(n);return 4===e.length?An.emptyPath():H0(e)}(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let a=null;if(i>0){mt(1===i);const R=t.from[0];R.allDescendants?a=R.collectionId:e=e.child(R.collectionId)}let c=[];t.where&&(c=function(R){const $=V_(R);return $ instanceof Vn&&lm($)?$.getFilters():[$]}(t.where));let d=[];t.orderBy&&(d=t.orderBy.map(R=>{return new cl(jd(($=R).field),function(ee){switch(ee){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}($.direction));var $}));let p=null;t.limit&&(p=function(R){let $;return $="object"==typeof R?R.value:R,Af($)?null:$}(t.limit));let T=null;var R;t.startAt&&(T=new Ma((R=t.startAt).values||[],!!R.before));let A=null;return t.endAt&&(A=function(R){return new Ma(R.values||[],!R.before)}(t.endAt)),function fm(n,e,t,i,a,c,d,p){return new du(n,e,t,i,a,c,d,p)}(e,a,d,c,p,"F",T,A)}function V_(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=jd(e.unaryFilter.field);return mn.create(t,"==",{doubleValue:NaN});case"IS_NULL":const i=jd(e.unaryFilter.field);return mn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=jd(e.unaryFilter.field);return mn.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=jd(e.unaryFilter.field);return mn.create(c,"!=",{nullValue:"NULL_VALUE"});default:return ot()}}(n):void 0!==n.fieldFilter?mn.create(jd((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ot()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return Vn.create(e.compositeFilter.filters.map(t=>V_(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return ot()}}(e.compositeFilter.op))}(n):ot();var e}function K0(n){return F0[n]}function q0(n){return U0[n]}function tb(n){return V0[n]}function cc(n){return{fieldPath:n.canonicalString()}}function jd(n){return Br.fromServerFormat(n.fieldPath)}function $d(n){return n instanceof mn?function(e){if("=="===e.op){if(d0(e.value))return{unaryFilter:{field:cc(e.field),op:"IS_NAN"}};if(l0(e.value))return{unaryFilter:{field:cc(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(d0(e.value))return{unaryFilter:{field:cc(e.field),op:"IS_NOT_NAN"}};if(l0(e.value))return{unaryFilter:{field:cc(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:cc(e.field),op:q0(e.op),value:e.value}}}(n):n instanceof Vn?function(e){const t=e.getFilters().map(i=>$d(i));return 1===t.length?t[0]:{compositeFilter:{op:tb(e.op),filters:t}}}(n):ot()}function nb(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Q0(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class fu{constructor(e,t,i,a,c=yt.min(),d=yt.min(),p=Jr.EMPTY_BYTE_STRING,T=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=T}withSequenceNumber(e){return new fu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new fu(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new fu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new fu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class qf{constructor(e){this.fe=e}}function j_(n){const e=G0({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?kf(e,e.limit,"L"):e}class Hd{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(Rr(e.integerValue));else if("doubleValue"in e){const i=Rr(e.doubleValue);isNaN(i)?this.ye(t,13):(this.ye(t,15),Os(i)?t.pe(0):t.pe(i))}else if("timestampValue"in e){const i=e.timestampValue;this.ye(t,20),"string"==typeof i?t.Ie(i):(t.Ie(`${i.seconds||""}`),t.pe(i.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(uu(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const i=e.geoPointValue;this.ye(t,45),t.pe(i.latitude||0),t.pe(i.longitude||0)}else"mapValue"in e?h0(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):ot()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const i=e.fields||{};this.ye(t,55);for(const a of Object.keys(i))this.Te(a,t),this.me(i[a],t)}Pe(e,t){const i=e.values||[];this.ye(t,50);for(const a of i)this.me(a,t)}ve(e,t){this.ye(t,37),st.fromName(e).path.forEach(i=>{this.ye(t,60),this.be(i,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}Hd.Ve=new Hd;class rD{constructor(){this.rn=new Q_}addToCollectionParentIndex(e,t){return this.rn.add(t),he.resolve()}getCollectionParents(e,t){return he.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return he.resolve()}deleteFieldIndex(e,t){return he.resolve()}getDocumentsMatchingTarget(e,t){return he.resolve(null)}getIndexType(e,t){return he.resolve(0)}getFieldIndexes(e,t){return he.resolve([])}getNextCollectionGroupToUpdate(e){return he.resolve(null)}getMinOffset(e,t){return he.resolve(qi.min())}getMinOffsetFromCollectionGroup(e,t){return he.resolve(qi.min())}updateCollectionGroup(e,t,i){return he.resolve()}updateIndexEntries(e,t){return he.resolve()}}class Q_{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),a=this.index[t]||new Zn(An.comparator),c=!a.has(i);return this.index[t]=a.add(i),c}has(e){const t=e.lastSegment(),i=e.popLast(),a=this.index[t];return a&&a.has(i)}getEntries(e){return(this.index[e]||new Zn(An.comparator)).toArray()}}new Uint8Array(0);class Xi{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new Xi(e,Xi.DEFAULT_COLLECTION_PERCENTILE,Xi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Xi.DEFAULT_COLLECTION_PERCENTILE=10,Xi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Xi.DEFAULT=new Xi(41943040,Xi.DEFAULT_COLLECTION_PERCENTILE,Xi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Xi.DISABLED=new Xi(-1,0,0);class _l{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new _l(0)}static Mn(){return new _l(-1)}}class hD{constructor(){this.changes=new xa(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,cr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return void 0!==i?he.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class tI{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class mD{constructor(e,t,i,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=a}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(a=>(i=a,this.remoteDocumentCache.getEntry(e,t))).next(a=>(null!==i&&jf(i.mutation,a,Li.empty(),mr.now()),a))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,kt()).next(()=>i))}getLocalViewOfDocuments(e,t,i=kt()){const a=Na();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,i).next(c=>{let d=Ff();return c.forEach((p,T)=>{d=d.insert(p,T.overlayedDocument)}),d}))}getOverlayedDocuments(e,t){const i=Na();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,kt()))}populateOverlays(e,t,i){const a=[];return i.forEach(c=>{t.has(c)||a.push(c)}),this.documentOverlayCache.getOverlays(e,a).next(c=>{c.forEach((d,p)=>{t.set(d,p)})})}computeViews(e,t,i,a){let c=li();const d=mm(),p=mm();return t.forEach((T,A)=>{const R=i.get(A.key);a.has(A.key)&&(void 0===R||R.mutation instanceof Yo)?c=c.insert(A.key,A):void 0!==R?(d.set(A.key,R.mutation.getFieldMask()),jf(R.mutation,A,R.mutation.getFieldMask(),mr.now())):d.set(A.key,Li.empty())}),this.recalculateAndSaveOverlays(e,c).next(T=>(T.forEach((A,R)=>d.set(A,R)),t.forEach((A,R)=>{var $;return p.set(A,new tI(R,null!==($=d.get(A))&&void 0!==$?$:null))}),p))}recalculateAndSaveOverlays(e,t){const i=mm();let a=new sr((d,p)=>d-p),c=kt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(d=>{for(const p of d)p.keys().forEach(T=>{const A=t.get(T);if(null===A)return;let R=i.get(T)||Li.empty();R=p.applyToLocalView(A,R),i.set(T,R);const $=(a.get(p.batchId)||kt()).add(T);a=a.insert(p.batchId,$)})}).next(()=>{const d=[],p=a.getReverseIterator();for(;p.hasNext();){const T=p.getNext(),A=T.key,R=T.value,$=w_();R.forEach(ee=>{if(!c.has(ee)){const ye=T_(t.get(ee),i.get(ee));null!==ye&&$.set(ee,ye),c=c.add(ee)}}),d.push(this.documentOverlayCache.saveOverlays(e,A,$))}return he.waitFor(d)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i){return st.isDocumentKey((a=t).path)&&null===a.collectionGroup&&0===a.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):I0(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i):this.getDocumentsMatchingCollectionQuery(e,t,i);var a}getNextDocuments(e,t,i,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,a).next(c=>{const d=a-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,a-c.size):he.resolve(Na());let p=-1,T=c;return d.next(A=>he.forEach(A,(R,$)=>(p<$.largestBatchId&&(p=$.largestBatchId),c.get(R)?he.resolve():this.remoteDocumentCache.getEntry(e,R).next(ee=>{T=T.insert(R,ee)}))).next(()=>this.populateOverlays(e,A,c)).next(()=>this.computeViews(e,T,A,kt())).next(R=>({batchId:p,changes:I_(R)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new st(t)).next(i=>{let a=Ff();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a})}getDocumentsMatchingCollectionGroupQuery(e,t,i){const a=t.collectionGroup;let c=Ff();return this.indexManager.getCollectionParents(e,a).next(d=>he.forEach(d,p=>{const T=(A=t,R=p.child(a),new du(R,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt));var A,R;return this.getDocumentsMatchingCollectionQuery(e,T,i).next(A=>{A.forEach((R,$)=>{c=c.insert(R,$)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,t,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(c=>(a=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,a))).next(c=>{a.forEach((p,T)=>{const A=T.getKey();null===c.get(A)&&(c=c.insert(A,cr.newInvalidDocument(A)))});let d=Ff();return c.forEach((p,T)=>{const A=a.get(p);void 0!==A&&jf(A.mutation,T,Li.empty(),mr.now()),Lf(t,T)&&(d=d.insert(p,T))}),d})}}class yD{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return he.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var i;return this.cs.set(t.id,{id:(i=t).id,version:i.version,createTime:ni(i.createTime)}),he.resolve()}getNamedQuery(e,t){return he.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(i=t).name,query:j_(i.bundledQuery),readTime:ni(i.readTime)}),he.resolve();var i}}class wl{constructor(){this.overlays=new sr(st.comparator),this.ls=new Map}getOverlay(e,t){return he.resolve(this.overlays.get(t))}getOverlays(e,t){const i=Na();return he.forEach(t,a=>this.getOverlay(e,a).next(c=>{null!==c&&i.set(a,c)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((a,c)=>{this.we(e,t,c)}),he.resolve()}removeOverlaysForBatchId(e,t,i){const a=this.ls.get(i);return void 0!==a&&(a.forEach(c=>this.overlays=this.overlays.remove(c)),this.ls.delete(i)),he.resolve()}getOverlaysForCollection(e,t,i){const a=Na(),c=t.length+1,d=new st(t.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const T=p.getNext().value,A=T.getKey();if(!t.isPrefixOf(A.path))break;A.path.length===c&&T.largestBatchId>i&&a.set(T.getKey(),T)}return he.resolve(a)}getOverlaysForCollectionGroup(e,t,i,a){let c=new sr((A,R)=>A-R);const d=this.overlays.getIterator();for(;d.hasNext();){const A=d.getNext().value;if(A.getKey().getCollectionGroup()===t&&A.largestBatchId>i){let R=c.get(A.largestBatchId);null===R&&(R=Na(),c=c.insert(A.largestBatchId,R)),R.set(A.getKey(),A)}}const p=Na(),T=c.getIterator();for(;T.hasNext()&&(T.getNext().value.forEach((A,R)=>p.set(A,R)),!(p.size()>=a)););return he.resolve(p)}we(e,t,i){const a=this.overlays.get(i.key);if(null!==a){const d=this.ls.get(a.largestBatchId).delete(i.key);this.ls.set(a.largestBatchId,d)}this.overlays=this.overlays.insert(i.key,new x_(t,i));let c=this.ls.get(t);void 0===c&&(c=kt(),this.ls.set(t,c)),this.ls.set(t,c.add(i.key))}}class Om{constructor(){this.fs=new Zn(Mi.ds),this.ws=new Zn(Mi._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const i=new Mi(e,t);this.fs=this.fs.add(i),this.ws=this.ws.add(i)}gs(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.ys(new Mi(e,t))}ps(e,t){e.forEach(i=>this.removeReference(i,t))}Is(e){const t=new st(new An([])),i=new Mi(t,e),a=new Mi(t,e+1),c=[];return this.ws.forEachInRange([i,a],d=>{this.ys(d),c.push(d.key)}),c}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new st(new An([])),i=new Mi(t,e),a=new Mi(t,e+1);let c=kt();return this.ws.forEachInRange([i,a],d=>{c=c.add(d.key)}),c}containsKey(e){const t=new Mi(e,0),i=this.fs.firstAfterOrEqual(t);return null!==i&&e.isEqual(i.key)}}class Mi{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return st.comparator(e.key,t.key)||zt(e.As,t.As)}static _s(e,t){return zt(e.As,t.As)||st.comparator(e.key,t.key)}}class QA{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new Zn(Mi.ds)}checkEmpty(e){return he.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,i,a){const c=this.vs;this.vs++;const d=new wm(c,t,i,a);this.mutationQueue.push(d);for(const p of a)this.Rs=this.Rs.add(new Mi(p.key,c)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return he.resolve(d)}lookupMutationBatch(e,t){return he.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const a=this.bs(t+1),c=a<0?0:a;return he.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return he.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return he.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Mi(t,0),a=new Mi(t,Number.POSITIVE_INFINITY),c=[];return this.Rs.forEachInRange([i,a],d=>{const p=this.Ps(d.As);c.push(p)}),he.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Zn(zt);return t.forEach(a=>{const c=new Mi(a,0),d=new Mi(a,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([c,d],p=>{i=i.add(p.As)})}),he.resolve(this.Vs(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,a=i.length+1;let c=i;st.isDocumentKey(c)||(c=c.child(""));const d=new Mi(new st(c),0);let p=new Zn(zt);return this.Rs.forEachWhile(T=>{const A=T.key.path;return!!i.isPrefixOf(A)&&(A.length===a&&(p=p.add(T.As)),!0)},d),he.resolve(this.Vs(p))}Vs(e){const t=[];return e.forEach(i=>{const a=this.Ps(i);null!==a&&t.push(a)}),t}removeMutationBatch(e,t){mt(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let i=this.Rs;return he.forEach(t.mutations,a=>{const c=new Mi(a.key,t.batchId);return i=i.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Rs=i})}Cn(e){}containsKey(e,t){const i=new Mi(t,0),a=this.Rs.firstAfterOrEqual(i);return he.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return he.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class nI{constructor(e){this.Ds=e,this.docs=new sr(st.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,a=this.docs.get(i),c=a?a.size:0,d=this.Ds(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return he.resolve(i?i.document.mutableCopy():cr.newInvalidDocument(t))}getEntries(e,t){let i=li();return t.forEach(a=>{const c=this.docs.get(a);i=i.insert(a,c?c.document.mutableCopy():cr.newInvalidDocument(a))}),he.resolve(i)}getDocumentsMatchingQuery(e,t,i,a){let c=li();const d=t.path,p=new st(d.child("")),T=this.docs.getIteratorFrom(p);for(;T.hasNext();){const{key:A,value:{document:R}}=T.getNext();if(!d.isPrefixOf(A.path))break;A.path.length>d.length+1||n_(qE(R),i)<=0||(a.has(R.key)||Lf(t,R))&&(c=c.insert(R.key,R.mutableCopy()))}return he.resolve(c)}getAllFromCollectionGroup(e,t,i,a){ot()}Cs(e,t){return he.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new rI(this)}getSize(e){return he.resolve(this.size)}}class rI extends hD{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((i,a)=>{a.isValidDocument()?t.push(this.os.addEntry(e,a)):this.os.removeEntry(i)}),he.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class hb{constructor(e){this.persistence=e,this.xs=new xa(t=>ac(t),Od),this.lastRemoteSnapshotVersion=yt.min(),this.highestTargetId=0,this.Ns=0,this.ks=new Om,this.targetCount=0,this.Ms=_l.kn()}forEachTarget(e,t){return this.xs.forEach((i,a)=>t(a)),he.resolve()}getLastRemoteSnapshotVersion(e){return he.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return he.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),he.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.Ns&&(this.Ns=t),he.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new _l(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,he.resolve()}updateTargetData(e,t){return this.Fn(t),he.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,he.resolve()}removeTargets(e,t,i){let a=0;const c=[];return this.xs.forEach((d,p)=>{p.sequenceNumber<=t&&null===i.get(p.targetId)&&(this.xs.delete(d),c.push(this.removeMatchingKeysForTargetId(e,p.targetId)),a++)}),he.waitFor(c).next(()=>a)}getTargetCount(e){return he.resolve(this.targetCount)}getTargetData(e,t){const i=this.xs.get(t)||null;return he.resolve(i)}addMatchingKeys(e,t,i){return this.ks.gs(t,i),he.resolve()}removeMatchingKeys(e,t,i){this.ks.ps(t,i);const a=this.persistence.referenceDelegate,c=[];return a&&t.forEach(d=>{c.push(a.markPotentiallyOrphaned(e,d))}),he.waitFor(c)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),he.resolve()}getMatchingKeysForTargetId(e,t){const i=this.ks.Es(t);return he.resolve(i)}containsKey(e,t){return he.resolve(this.ks.containsKey(t))}}class km{constructor(e,t){this.$s={},this.overlays={},this.Os=new ps(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new hb(this),this.indexManager=new rD,this.remoteDocumentCache=new nI(i=>this.referenceDelegate.Ls(i)),this.serializer=new qf(t),this.qs=new yD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new wl,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.$s[e.toKey()];return i||(i=new QA(t,this.referenceDelegate),this.$s[e.toKey()]=i),i}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,i){Ue("MemoryPersistence","Starting transaction:",e);const a=new vD(this.Os.next());return this.referenceDelegate.Us(),i(a).next(c=>this.referenceDelegate.Ks(a).next(()=>c)).toPromise().then(c=>(a.raiseOnCommittedEvent(),c))}Gs(e,t){return he.or(Object.values(this.$s).map(i=>()=>i.containsKey(e,t)))}}class vD extends XE{constructor(e){super(),this.currentSequenceNumber=e}}class Pm{constructor(e){this.persistence=e,this.Qs=new Om,this.js=null}static zs(e){return new Pm(e)}get Ws(){if(this.js)return this.js;throw ot()}addReference(e,t,i){return this.Qs.addReference(i,t),this.Ws.delete(i.toString()),he.resolve()}removeReference(e,t,i){return this.Qs.removeReference(i,t),this.Ws.add(i.toString()),he.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),he.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(a=>this.Ws.add(a.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(c=>this.Ws.add(c.toString()))}).next(()=>i.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return he.forEach(this.Ws,i=>{const a=st.fromPath(i);return this.Hs(e,a).next(c=>{c||t.removeEntry(a,yt.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(i=>{i?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return he.or([()=>he.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class aI{constructor(e,t,i,a){this.targetId=e,this.fromCache=t,this.Fi=i,this.Bi=a}static Li(e,t){let i=kt(),a=kt();for(const c of t.docChanges)switch(c.type){case 0:i=i.add(c.doc.key);break;case 1:a=a.add(c.doc.key)}return new aI(e,t.fromCache,i,a)}}class _D{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,i,a){return this.Ki(e,t).next(c=>c||this.Gi(e,t,a,i)).next(c=>c||this.Qi(e,t))}Ki(e,t){if(pm(t))return he.resolve(null);let i=gs(t);return this.indexManager.getIndexType(e,i).next(a=>0===a?null:(null!==t.limit&&1===a&&(t=kf(t,null,"F"),i=gs(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(c=>{const d=kt(...c);return this.Ui.getDocuments(e,d).next(p=>this.indexManager.getMinOffset(e,i).next(T=>{const A=this.ji(t,p);return this.zi(t,A,d,T.readTime)?this.Ki(e,kf(t,null,"F")):this.Wi(e,A,t,T)}))})))}Gi(e,t,i,a){return pm(t)||a.isEqual(yt.min())?this.Qi(e,t):this.Ui.getDocuments(e,i).next(c=>{const d=this.ji(t,c);return this.zi(t,d,i,a)?this.Qi(e,t):(zE()<=Te.$b.DEBUG&&Ue("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),gm(t)),this.Wi(e,d,t,function Xg(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,a=yt.fromTimestamp(1e9===i?new mr(t+1,0):new mr(t,i));return new qi(a,st.empty(),e)}(a,-1)))})}ji(e,t){let i=new Zn(__(e));return t.forEach((a,c)=>{Lf(e,c)&&(i=i.add(c))}),i}zi(e,t,i,a){if(null===e.limit)return!1;if(i.size!==t.size)return!0;const c="F"===e.limitType?t.last():t.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(a)>0)}Qi(e,t){return zE()<=Te.$b.DEBUG&&Ue("QueryEngine","Using full collection scan to execute query:",gm(t)),this.Ui.getDocumentsMatchingQuery(e,t,qi.min())}Wi(e,t,i,a){return this.Ui.getDocumentsMatchingQuery(e,i,a).next(c=>(t.forEach(d=>{c=c.insert(d.key,d)}),c))}}class ID{constructor(e,t,i,a){this.persistence=e,this.Hi=t,this.serializer=a,this.Ji=new sr(zt),this.Yi=new xa(c=>ac(c),Od),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(i)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new mD(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function uI(n,e){return cI.apply(this,arguments)}function cI(){return cI=(0,V.A)(function*(n,e){const t=it(n);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let a;return t.mutationQueue.getAllMutationBatches(i).next(c=>(a=c,t.tr(e),t.mutationQueue.getAllMutationBatches(i))).next(c=>{const d=[],p=[];let T=kt();for(const A of a){d.push(A.batchId);for(const R of A.mutations)T=T.add(R.key)}for(const A of c){p.push(A.batchId);for(const R of A.mutations)T=T.add(R.key)}return t.localDocuments.getDocuments(i,T).next(A=>({er:A,removedBatchIds:d,addedBatchIds:p}))})})}),cI.apply(this,arguments)}function gb(n){const e=it(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function yb(n,e){const t=it(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function Yd(n,e,t){return lI.apply(this,arguments)}function lI(){return lI=(0,V.A)(function*(n,e,t){const i=it(n),a=i.Ji.get(e),c=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",c,d=>i.persistence.referenceDelegate.removeTarget(d,a)))}catch(d){if(!rl(d))throw d;Ue("LocalStore",`Failed to update sequence numbers for target ${e}: ${d}`)}i.Ji=i.Ji.remove(e),i.Yi.delete(a.target)}),lI.apply(this,arguments)}function Vm(n,e,t){const i=it(n);let a=yt.min(),c=kt();return i.persistence.runTransaction("Execute query","readonly",d=>function(p,T,A){const R=it(p),$=R.Yi.get(A);return void 0!==$?he.resolve(R.Ji.get($)):R.Bs.getTargetData(T,A)}(i,d,gs(e)).next(p=>{if(p)return a=p.lastLimboFreeSnapshotVersion,i.Bs.getMatchingKeysForTargetId(d,p.targetId).next(T=>{c=T})}).next(()=>i.Hi.getDocumentsMatchingQuery(d,e,t?a:yt.min(),t?c:kt())).next(p=>(function TD(n,e,t){let i=n.Xi.get(e)||yt.min();t.forEach((a,c)=>{c.readTime.compareTo(i)>0&&(i=c.readTime)}),n.Xi.set(e,i)}(i,function w0(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}(e),p),{documents:p,ir:c})))}class bD{constructor(){this.activeTargetIds=function D_(){return KC}()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class AD{constructor(){this.Hr=new bD,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,i){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new bD,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class _b{Yr(e){}shutdown(){}}class SD{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){Ue("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){Ue("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Hm=null;function El(){return null===Hm?Hm=268435456+Math.round(2147483648*Math.random()):Hm++,"0x"+Hm.toString(16)}const Ib={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class gI{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const Yi="WebChannelConnection";class XA extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,i,a,c){const d=El(),p=this.To(e,t);Ue("RestConnection",`Sending RPC '${e}' ${d}:`,p,i);const T={};return this.Eo(T,a,c),this.Ao(e,p,T,i).then(A=>(Ue("RestConnection",`Received RPC '${e}' ${d}: `,A),A),A=>{throw vo("RestConnection",`RPC '${e}' ${d} failed with error: `,A,"url: ",p,"request:",i),A})}vo(e,t,i,a,c,d){return this.Io(e,t,i,a,c)}Eo(e,t,i){e["X-Goog-Api-Client"]="gl-js/ fire/"+ou,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((a,c)=>e[c]=a),i&&i.headers.forEach((a,c)=>e[c]=a)}To(e,t){return`${this.mo}/v1/${t}:${Ib[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,i,a){const c=El();return new Promise((d,p)=>{const T=new MC;T.setWithCredentials(!0),T.listenOnce(AC.COMPLETE,()=>{try{switch(T.getLastErrorCode()){case Yv.NO_ERROR:const R=T.getResponseJson();Ue(Yi,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(R)),d(R);break;case Yv.TIMEOUT:Ue(Yi,`RPC '${e}' ${c} timed out`),p(new ke(ge.DEADLINE_EXCEEDED,"Request time out"));break;case Yv.HTTP_ERROR:const $=T.getStatus();if(Ue(Yi,`RPC '${e}' ${c} failed with status:`,$,"response text:",T.getResponseText()),$>0){let ee=T.getResponseJson();Array.isArray(ee)&&(ee=ee[0]);const ye=ee?.error;if(ye&&ye.status&&ye.message){const Ve=function(Je){const lt=Je.toLowerCase().replace(/_/g,"-");return Object.values(ge).indexOf(lt)>=0?lt:ge.UNKNOWN}(ye.status);p(new ke(Ve,ye.message))}else p(new ke(ge.UNKNOWN,"Server responded with status "+T.getStatus()))}else p(new ke(ge.UNAVAILABLE,"Connection failed."));break;default:ot()}}finally{Ue(Yi,`RPC '${e}' ${c} completed.`)}});const A=JSON.stringify(a);Ue(Yi,`RPC '${e}' ${c} sending request:`,a),T.send(t,"POST",A,i,15)})}Ro(e,t,i){const a=El(),c=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=Xv(),p=bC(),T={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},A=this.longPollingOptions.timeoutSeconds;void 0!==A&&(T.longPollingTimeout=Math.round(1e3*A)),this.useFetchStreams&&(T.xmlHttpFactory=new Ca({})),this.Eo(T.initMessageHeaders,t,i),T.encodeInitMessageHeaders=!0;const R=c.join("");Ue(Yi,`Creating RPC '${e}' stream ${a}: ${R}`,T);const $=d.createWebChannel(R,T);let ee=!1,ye=!1;const Ve=new gI({ro:lt=>{ye?Ue(Yi,`Not sending because RPC '${e}' stream ${a} is closed:`,lt):(ee||(Ue(Yi,`Opening RPC '${e}' stream ${a} transport.`),$.open(),ee=!0),Ue(Yi,`RPC '${e}' stream ${a} sending:`,lt),$.send(lt))},oo:()=>$.close()}),Je=(lt,Xt,Cn)=>{lt.listen(Xt,nn=>{try{Cn(nn)}catch(ri){setTimeout(()=>{throw ri},0)}})};return Je($,vd.EventType.OPEN,()=>{ye||Ue(Yi,`RPC '${e}' stream ${a} transport opened.`)}),Je($,vd.EventType.CLOSE,()=>{ye||(ye=!0,Ue(Yi,`RPC '${e}' stream ${a} transport closed`),Ve.wo())}),Je($,vd.EventType.ERROR,lt=>{ye||(ye=!0,vo(Yi,`RPC '${e}' stream ${a} transport errored:`,lt),Ve.wo(new ke(ge.UNAVAILABLE,"The operation could not be completed")))}),Je($,vd.EventType.MESSAGE,lt=>{var Xt;if(!ye){const Cn=lt.data[0];mt(!!Cn);const ri=Cn.error||(null===(Xt=Cn[0])||void 0===Xt?void 0:Xt.error);if(ri){Ue(Yi,`RPC '${e}' stream ${a} received error:`,ri);const Hr=ri.status;let Jn=function(xl){const Cy=ti[xl];if(void 0!==Cy)return R0(Cy)}(Hr),ms=ri.message;void 0===Jn&&(Jn=ge.INTERNAL,ms="Unknown error status: "+Hr+" with message "+ri.message),ye=!0,Ve.wo(new ke(Jn,ms)),$.close()}else Ue(Yi,`RPC '${e}' stream ${a} received:`,Cn),Ve._o(Cn)}}),Je(p,SC.STAT_EVENT,lt=>{lt.stat===$E.PROXY?Ue(Yi,`RPC '${e}' stream ${a} detected buffering proxy`):lt.stat===$E.NOPROXY&&Ue(Yi,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{Ve.fo()},0),Ve}}function mI(){return typeof document<"u"?document:null}function gu(n){return new B0(n,!0)}class yI{constructor(e,t,i=1e3,a=1.5,c=6e4){this.ii=e,this.timerId=t,this.Po=i,this.bo=a,this.Vo=c,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),i=Math.max(0,Date.now()-this.Co),a=Math.max(0,t-i);a>0&&Ue("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,a,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class xD{constructor(e,t,i,a,c,d,p,T){this.ii=e,this.$o=i,this.Oo=a,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=T,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new yI(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,V.A)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,V.A)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var i=this;return(0,V.A)(function*(){i.Ho(),i.Jo(),i.qo.cancel(),i.Fo++,4!==e?i.qo.reset():t&&t.code===ge.RESOURCE_EXHAUSTED?(Nr(t.toString()),Nr("Using maximum backoff delay to prevent overloading the backend."),i.qo.xo()):t&&t.code===ge.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.Yo(),i.stream.close(),i.stream=null),i.state=e,yield i.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,a])=>{this.Fo===t&&this.Zo(i,a)},i=>{e(()=>{const a=new ke(ge.UNKNOWN,"Fetching auth token failed: "+i.message);return this.tu(a)})})}Zo(e,t){const i=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{i(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(a=>{i(()=>this.tu(a))}),this.stream.onMessage(a=>{i(()=>this.onMessage(a))})}Go(){var e=this;this.state=5,this.qo.No((0,V.A)(function*(){e.state=0,e.start()}))}tu(e){return Ue("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(Ue("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class wb extends xD{constructor(e,t,i,a,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,a,d),this.serializer=c}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function Dm(n,e){let t;if("targetChange"in e){const i="NO_CHANGE"===(T=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===T?1:"REMOVE"===T?2:"CURRENT"===T?3:"RESET"===T?4:ot(),a=e.targetChange.targetIds||[],c=function(T,A){return T.useProto3Json?(mt(void 0===A||"string"==typeof A),Jr.fromBase64String(A||"")):(mt(void 0===A||A instanceof Uint8Array),Jr.fromUint8Array(A||new Uint8Array))}(n,e.targetChange.resumeToken),d=e.targetChange.cause,p=d&&function(T){const A=void 0===T.code?ge.UNKNOWN:R0(T.code);return new ke(A,T.message||"")}(d);t=new k_(i,a,c,p||null)}else if("documentChange"in e){const i=e.documentChange,a=Zo(n,i.document.name),c=ni(i.document.updateTime),d=i.document.createTime?ni(i.document.createTime):yt.min(),p=new Fi({mapValue:{fields:i.document.fields}}),T=cr.newFoundDocument(a,c,d,p);t=new Gf(i.targetIds||[],i.removedTargetIds||[],T.key,T)}else if("documentDelete"in e){const i=e.documentDelete,a=Zo(n,i.document),c=i.readTime?ni(i.readTime):yt.min(),d=cr.newNoDocument(a,c);t=new Gf([],i.removedTargetIds||[],d.key,d)}else if("documentRemove"in e){const i=e.documentRemove,a=Zo(n,i.document);t=new Gf([],i.removedTargetIds||[],a,null)}else{if(!("filter"in e))return ot();{const i=e.filter,{count:a=0,unchangedNames:c}=i,d=new YC(a,c);t=new O_(i.targetId,d)}}var T;return t}(this.serializer,e),i=function(a){if(!("targetChange"in a))return yt.min();const c=a.targetChange;return c.targetIds&&c.targetIds.length?yt.min():c.readTime?ni(c.readTime):yt.min()}(e);return this.listener.nu(t,i)}su(e){const t={};t.database=Kf(this.serializer),t.addTarget=function(a,c){let d;const p=c.target;if(d=Of(p)?{documents:U_(a,p)}:{query:Tm(a,p)},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=j0(a,c.resumeToken);const T=hu(a,c.expectedCount);null!==T&&(d.expectedCount=T)}else if(c.snapshotVersion.compareTo(yt.min())>0){d.readTime=Ud(a,c.snapshotVersion.toTimestamp());const T=hu(a,c.expectedCount);null!==T&&(d.expectedCount=T)}return d}(this.serializer,e);const i=function W0(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ot()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);i&&(t.labels=i),this.Wo(t)}iu(e){const t={};t.database=Kf(this.serializer),t.removeTarget=e,this.Wo(t)}}class zm extends xD{constructor(e,t,i,a,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,a,d),this.serializer=c,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(mt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function KA(n,e){return n&&n.length>0?(mt(void 0!==e),n.map(t=>function(i,a){let c=ni(i.updateTime?i.updateTime:a);return c.isEqual(yt.min())&&(c=ni(a)),new vm(c,i.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),i=ni(e.commitTime);return this.listener.cu(i,t)}return mt(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Kf(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>function uc(n,e){let t;if(e instanceof pl)t={update:z0(n,e.key,e.value)};else if(e instanceof gl)t={delete:Bd(n,e.key)};else if(e instanceof Yo)t={update:z0(n,e.key,e.data),updateMask:nb(e.fieldMask)};else{if(!(e instanceof Im))return ot();t={verify:Bd(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(a,c){const d=c.transform;if(d instanceof Ld)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof hl)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Xo)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof fl)return{fieldPath:c.field.canonicalString(),increment:d.gt};throw ot()}(0,i))),e.precondition.isNone||(t.currentDocument=void 0!==(a=e.precondition).updateTime?{updateTime:Vd(n,a.updateTime)}:void 0!==a.exists?{exists:a.exists}:ot()),t;var a}(this.serializer,i))};this.Wo(t)}}class ND extends class{}{constructor(e,t,i,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=a,this.lu=!1}fu(){if(this.lu)throw new ke(ge.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,c])=>this.connection.Io(e,t,i,a,c)).catch(a=>{throw"FirebaseError"===a.name?(a.code===ge.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new ke(ge.UNKNOWN,a.toString())})}vo(e,t,i,a){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.vo(e,t,i,c,d,a)).catch(c=>{throw"FirebaseError"===c.name?(c.code===ge.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ke(ge.UNKNOWN,c.toString())})}terminate(){this.lu=!0}}class Wm{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Nr(t),this.mu=!1):Ue("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class Db{constructor(e,t,i,a,c){var d=this;this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=c,this.Pu.Yr(p=>{i.enqueueAndForget((0,V.A)(function*(){var T;Ra(d)&&(Ue("RemoteStore","Restarting streams for network reachability change."),yield(T=(0,V.A)(function*(A){const R=it(A);R.vu.add(4),yield Zd(R),R.bu.set("Unknown"),R.vu.delete(4),yield sp(R)}),function(A){return T.apply(this,arguments)})(d))}))}),this.bu=new Wm(i,a)}}function sp(n){return Km.apply(this,arguments)}function Km(){return Km=(0,V.A)(function*(n){if(Ra(n))for(const e of n.Ru)yield e(!0)}),Km.apply(this,arguments)}function Zd(n){return vI.apply(this,arguments)}function vI(){return vI=(0,V.A)(function*(n){for(const e of n.Ru)yield e(!1)}),vI.apply(this,arguments)}function op(n,e){const t=it(n);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),Qm(t)?qm(t):ta(t).Ko()&&_I(t,e))}function fc(n,e){const t=it(n),i=ta(t);t.Au.delete(e),i.Ko()&&RD(t,e),0===t.Au.size&&(i.Ko()?i.jo():Ra(t)&&t.bu.set("Unknown"))}function _I(n,e){if(n.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(yt.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}ta(n).su(e)}function RD(n,e){n.Vu.qt(e),ta(n).iu(e)}function qm(n){n.Vu=new L0({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),le:e=>n.Au.get(e)||null,ue:()=>n.datastore.serializer.databaseId}),ta(n).start(),n.bu.gu()}function Qm(n){return Ra(n)&&!ta(n).Uo()&&n.Au.size>0}function Ra(n){return 0===it(n).vu.size}function II(n){n.Vu=void 0}function Tb(n){return Xm.apply(this,arguments)}function Xm(){return Xm=(0,V.A)(function*(n){n.Au.forEach((e,t)=>{_I(n,e)})}),Xm.apply(this,arguments)}function OD(n,e){return wI.apply(this,arguments)}function wI(){return wI=(0,V.A)(function*(n,e){II(n),Qm(n)?(n.bu.Iu(e),qm(n)):n.bu.set("Unknown")}),wI.apply(this,arguments)}function Cb(n,e,t){return ap.apply(this,arguments)}function ap(){return ap=(0,V.A)(function*(n,e,t){if(n.bu.set("Online"),e instanceof k_&&2===e.state&&e.cause)try{yield(i=(0,V.A)(function*(a,c){const d=c.cause;for(const p of c.targetIds)a.Au.has(p)&&(yield a.remoteSyncer.rejectListen(p,d),a.Au.delete(p),a.Vu.removeTarget(p))}),function(a,c){return i.apply(this,arguments)})(n,e)}catch(i){Ue("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield Jd(n,i)}else if(e instanceof Gf?n.Vu.Ht(e):e instanceof O_?n.Vu.ne(e):n.Vu.Xt(e),!t.isEqual(yt.min()))try{const i=yield gb(n.localStore);t.compareTo(i)>=0&&(yield function(a,c){const d=a.Vu.ce(c);return d.targetChanges.forEach((p,T)=>{if(p.resumeToken.approximateByteSize()>0){const A=a.Au.get(T);A&&a.Au.set(T,A.withResumeToken(p.resumeToken,c))}}),d.targetMismatches.forEach((p,T)=>{const A=a.Au.get(p);if(!A)return;a.Au.set(p,A.withResumeToken(Jr.EMPTY_BYTE_STRING,A.snapshotVersion)),RD(a,p);const R=new fu(A.target,p,T,A.sequenceNumber);_I(a,R)}),a.remoteSyncer.applyRemoteEvent(d)}(n,t))}catch(i){Ue("RemoteStore","Failed to raise snapshot:",i),yield Jd(n,i)}var i}),ap.apply(this,arguments)}function Jd(n,e,t){return Ym.apply(this,arguments)}function Ym(){return Ym=(0,V.A)(function*(n,e,t){if(!rl(e))throw e;n.vu.add(1),yield Zd(n),n.bu.set("Offline"),t||(t=()=>gb(n.localStore)),n.asyncQueue.enqueueRetryable((0,V.A)(function*(){Ue("RemoteStore","Retrying IndexedDB access"),yield t(),n.vu.delete(1),yield sp(n)}))}),Ym.apply(this,arguments)}function Zm(n,e){return e().catch(t=>Jd(n,t,e))}function pc(n){return EI.apply(this,arguments)}function EI(){return EI=(0,V.A)(function*(n){const e=it(n),t=gc(e);let i=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;bb(e);)try{const a=yield yb(e.localStore,i);if(null===a){0===e.Eu.length&&t.jo();break}i=a.batchId,Ab(e,a)}catch(a){yield Jd(e,a)}kD(e)&&DI(e)}),EI.apply(this,arguments)}function bb(n){return Ra(n)&&n.Eu.length<10}function Ab(n,e){n.Eu.push(e);const t=gc(n);t.Ko()&&t.ou&&t.uu(e.mutations)}function kD(n){return Ra(n)&&!gc(n).Uo()&&n.Eu.length>0}function DI(n){gc(n).start()}function TI(n){return Jm.apply(this,arguments)}function Jm(){return Jm=(0,V.A)(function*(n){gc(n).hu()}),Jm.apply(this,arguments)}function Sb(n){return ey.apply(this,arguments)}function ey(){return ey=(0,V.A)(function*(n){const e=gc(n);for(const t of n.Eu)e.uu(t.mutations)}),ey.apply(this,arguments)}function PD(n,e,t){return CI.apply(this,arguments)}function CI(){return CI=(0,V.A)(function*(n,e,t){const i=n.Eu.shift(),a=M_.from(i,e,t);yield Zm(n,()=>n.remoteSyncer.applySuccessfulWrite(a)),yield pc(n)}),CI.apply(this,arguments)}function LD(n,e){return ty.apply(this,arguments)}function ty(){return ty=(0,V.A)(function*(n,e){var t;e&&gc(n).ou&&(yield(t=(0,V.A)(function*(i,a){if(function N0(n){switch(n){default:return ot();case ge.CANCELLED:case ge.UNKNOWN:case ge.DEADLINE_EXCEEDED:case ge.RESOURCE_EXHAUSTED:case ge.INTERNAL:case ge.UNAVAILABLE:case ge.UNAUTHENTICATED:return!1;case ge.INVALID_ARGUMENT:case ge.NOT_FOUND:case ge.ALREADY_EXISTS:case ge.PERMISSION_DENIED:case ge.FAILED_PRECONDITION:case ge.ABORTED:case ge.OUT_OF_RANGE:case ge.UNIMPLEMENTED:case ge.DATA_LOSS:return!0}}(c=a.code)&&c!==ge.ABORTED){const d=i.Eu.shift();gc(i).Qo(),yield Zm(i,()=>i.remoteSyncer.rejectFailedWrite(d.batchId,a)),yield pc(i)}var c}),function(i,a){return t.apply(this,arguments)})(n,e)),kD(n)&&DI(n)}),ty.apply(this,arguments)}function FD(n,e){return ny.apply(this,arguments)}function ny(){return ny=(0,V.A)(function*(n,e){const t=it(n);t.asyncQueue.verifyOperationInProgress(),Ue("RemoteStore","RemoteStore received new credentials");const i=Ra(t);t.vu.add(3),yield Zd(t),i&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield sp(t)}),ny.apply(this,arguments)}function Ui(){return Ui=(0,V.A)(function*(n,e){const t=it(n);e?(t.vu.delete(2),yield sp(t)):e||(t.vu.add(2),yield Zd(t),t.bu.set("Unknown"))}),Ui.apply(this,arguments)}function ta(n){return n.Su||(n.Su=function(e,t,i){const a=it(e);return a.fu(),new wb(t,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(n.datastore,n.asyncQueue,{uo:Tb.bind(null,n),ao:OD.bind(null,n),nu:Cb.bind(null,n)}),n.Ru.push(function(){var e=(0,V.A)(function*(t){t?(n.Su.Qo(),Qm(n)?qm(n):n.bu.set("Unknown")):(yield n.Su.stop(),II(n))});return function(t){return e.apply(this,arguments)}}())),n.Su}function gc(n){return n.Du||(n.Du=function(e,t,i){const a=it(e);return a.fu(),new zm(t,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(n.datastore,n.asyncQueue,{uo:TI.bind(null,n),ao:LD.bind(null,n),au:Sb.bind(null,n),cu:PD.bind(null,n)}),n.Ru.push(function(){var e=(0,V.A)(function*(t){t?(n.Du.Qo(),yield pc(n)):(yield n.Du.stop(),n.Eu.length>0&&(Ue("RemoteStore",`Stopping write stream with ${n.Eu.length} pending writes`),n.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Du}class AI{constructor(e,t,i,a,c){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=a,this.removalCallback=c,this.deferred=new ci,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}static createAndSchedule(e,t,i,a,c){const d=Date.now()+i,p=new AI(e,t,d,a,c);return p.start(i),p}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ke(ge.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function up(n,e){if(Nr("AsyncQueue",`${e}: ${n}`),rl(n))return new ke(ge.UNAVAILABLE,`${e}: ${n}`);throw n}class cp{constructor(e){this.comparator=e?(t,i)=>e(t,i)||st.comparator(t.key,i.key):(t,i)=>st.comparator(t.key,i.key),this.keyedMap=Ff(),this.sortedSet=new sr(this.comparator)}static emptySet(e){return new cp(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof cp)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,c=i.getNext().key;if(!a.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const i=new cp;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class SI{constructor(){this.Cu=new sr(st.comparator)}track(e){const t=e.doc.key,i=this.Cu.get(t);i?0!==e.type&&3===i.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==i.type?this.Cu=this.Cu.insert(t,{type:i.type,doc:e.doc}):2===e.type&&2===i.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===i.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===i.type?this.Cu=this.Cu.remove(t):1===e.type&&2===i.type?this.Cu=this.Cu.insert(t,{type:1,doc:i.doc}):0===e.type&&1===i.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):ot():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,i)=>{e.push(i)}),e}}class mc{constructor(e,t,i,a,c,d,p,T,A){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=T,this.hasCachedResults=A}static fromInitialDocuments(e,t,i,a,c){const d=[];return t.forEach(p=>{d.push({type:0,doc:p})}),new mc(e,t,cp.emptySet(t),d,i,a,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Pf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==i[a].type||!t[a].doc.isEqual(i[a].doc))return!1;return!0}}class YA{constructor(){this.Nu=void 0,this.listeners=[]}}class ZA{constructor(){this.queries=new xa(e=>ei(e),Pf),this.onlineState="Unknown",this.ku=new Set}}function Dl(){return Dl=(0,V.A)(function*(n,e){const t=it(n),i=e.query;let a=!1,c=t.queries.get(i);if(c||(a=!0,c=new YA),a)try{c.Nu=yield t.onListen(i)}catch(d){const p=up(d,`Initialization of query '${gm(e.query)}' failed`);return void e.onError(p)}t.queries.set(i,c),c.listeners.push(e),e.Mu(t.onlineState),c.Nu&&e.$u(c.Nu)&&xI(t)}),Dl.apply(this,arguments)}function lp(){return lp=(0,V.A)(function*(n,e){const t=it(n),i=e.query;let a=!1;const c=t.queries.get(i);if(c){const d=c.listeners.indexOf(e);d>=0&&(c.listeners.splice(d,1),a=0===c.listeners.length)}if(a)return t.queries.delete(i),t.onUnlisten(i)}),lp.apply(this,arguments)}function Mb(n,e){const t=it(n);let i=!1;for(const a of e){const d=t.queries.get(a.query);if(d){for(const p of d.listeners)p.$u(a)&&(i=!0);d.Nu=a}}i&&xI(t)}function VD(n,e,t){const i=it(n),a=i.queries.get(e);if(a)for(const c of a.listeners)c.onError(t);i.queries.delete(e)}function xI(n){n.ku.forEach(e=>{e.next()})}class NI{constructor(e,t,i){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=i||{}}$u(e){if(!this.options.includeMetadataChanges){const i=[];for(const a of e.docChanges)3!==a.type&&i.push(a);e=new mc(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=mc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class dp{constructor(e){this.key=e}}class iy{constructor(e){this.key=e}}class Nb{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=kt(),this.mutatedKeys=kt(),this.tc=__(e),this.ec=new cp(this.tc)}get nc(){return this.Yu}sc(e,t){const i=t?t.ic:new SI,a=t?t.ec:this.ec;let c=t?t.mutatedKeys:this.mutatedKeys,d=a,p=!1;const T="F"===this.query.limitType&&a.size===this.query.limit?a.last():null,A="L"===this.query.limitType&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((R,$)=>{const ee=a.get(R),ye=Lf(this.query,$)?$:null,Ve=!!ee&&this.mutatedKeys.has(ee.key),Je=!!ye&&(ye.hasLocalMutations||this.mutatedKeys.has(ye.key)&&ye.hasCommittedMutations);let lt=!1;ee&&ye?ee.data.isEqual(ye.data)?Ve!==Je&&(i.track({type:3,doc:ye}),lt=!0):this.rc(ee,ye)||(i.track({type:2,doc:ye}),lt=!0,(T&&this.tc(ye,T)>0||A&&this.tc(ye,A)<0)&&(p=!0)):!ee&&ye?(i.track({type:0,doc:ye}),lt=!0):ee&&!ye&&(i.track({type:1,doc:ee}),lt=!0,(T||A)&&(p=!0)),lt&&(ye?(d=d.add(ye),c=Je?c.add(R):c.delete(R)):(d=d.delete(R),c=c.delete(R)))}),null!==this.query.limit)for(;d.size>this.query.limit;){const R="F"===this.query.limitType?d.last():d.first();d=d.delete(R.key),c=c.delete(R.key),i.track({type:1,doc:R})}return{ec:d,ic:i,zi:p,mutatedKeys:c}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i){const a=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const c=e.ic.xu();c.sort((A,R)=>function($,ee){const ye=Ve=>{switch(Ve){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ot()}};return ye($)-ye(ee)}(A.type,R.type)||this.tc(A.doc,R.doc)),this.oc(i);const d=t?this.uc():[],p=0===this.Zu.size&&this.current?1:0,T=p!==this.Xu;return this.Xu=p,0!==c.length||T?{snapshot:new mc(this.query,e.ec,a,c,e.mutatedKeys,0===p,T,!1,!!i&&i.resumeToken.approximateByteSize()>0),cc:d}:{cc:d}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new SI,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=kt(),this.ec.forEach(i=>{this.ac(i.key)&&(this.Zu=this.Zu.add(i.key))});const t=[];return e.forEach(i=>{this.Zu.has(i)||t.push(new iy(i))}),this.Zu.forEach(i=>{e.has(i)||t.push(new dp(i))}),t}hc(e){this.Yu=e.ir,this.Zu=kt();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return mc.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class $D{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class Rb{constructor(e){this.key=e,this.fc=!1}}class HD{constructor(e,t,i,a,c,d){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=a,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.dc={},this.wc=new xa(p=>ei(p),Pf),this._c=new Map,this.mc=new Set,this.gc=new sr(st.comparator),this.yc=new Map,this.Ic=new Om,this.Tc={},this.Ec=new Map,this.Ac=_l.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function eh(n,e){return RI.apply(this,arguments)}function RI(){return RI=(0,V.A)(function*(n,e){const t=function GI(n){const e=it(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=zD.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=nS.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=GD.bind(null,e),e.dc.nu=Mb.bind(null,e.eventManager),e.dc.Pc=VD.bind(null,e.eventManager),e}(n);let i,a;const c=t.wc.get(e);if(c)i=c.targetId,t.sharedClientState.addLocalQueryTarget(i),a=c.view.lc();else{const d=yield function Xd(n,e){const t=it(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let a;return t.Bs.getTargetData(i,e).next(c=>c?(a=c,he.resolve(a)):t.Bs.allocateTargetId(i).next(d=>(a=new fu(e,d,"TargetPurposeListen",i.currentSequenceNumber),t.Bs.addTargetData(i,a).next(()=>a))))}).then(i=>{const a=t.Ji.get(i.targetId);return(null===a||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(i.targetId,i),t.Yi.set(e,i.targetId)),i})}(t.localStore,gs(e)),p=t.sharedClientState.addLocalQueryTarget(d.targetId);i=d.targetId,a=yield function sy(n,e,t,i,a){return hp.apply(this,arguments)}(t,e,i,"current"===p,d.resumeToken),t.isPrimaryClient&&op(t.remoteStore,d)}return a}),RI.apply(this,arguments)}function hp(){return hp=(0,V.A)(function*(n,e,t,i,a){n.Rc=($,ee,ye)=>{return(Ve=(0,V.A)(function*(Je,lt,Xt,Cn){let nn=lt.view.sc(Xt);nn.zi&&(nn=yield Vm(Je.localStore,lt.query,!1).then(({documents:Jn})=>lt.view.sc(Jn,nn)));const ri=Cn&&Cn.targetChanges.get(lt.targetId),Hr=lt.view.applyChanges(nn,Je.isPrimaryClient,ri);return jI(Je,lt.targetId,Hr.cc),Hr.snapshot}),function(Je,lt,Xt,Cn){return Ve.apply(this,arguments)})(n,$,ee,ye);var Ve};const c=yield Vm(n.localStore,e,!0),d=new Nb(e,c.ir),p=d.sc(c.documents),T=zf.createSynthesizedTargetChangeForCurrentChange(t,i&&"Offline"!==n.onlineState,a),A=d.applyChanges(p,n.isPrimaryClient,T);jI(n,t,A.cc);const R=new $D(e,t,d);return n.wc.set(e,R),n._c.has(t)?n._c.get(t).push(e):n._c.set(t,[e]),A.snapshot}),hp.apply(this,arguments)}function JA(n,e){return OI.apply(this,arguments)}function OI(){return OI=(0,V.A)(function*(n,e){const t=it(n),i=t.wc.get(e),a=t._c.get(i.targetId);if(a.length>1)return t._c.set(i.targetId,a.filter(c=>!Pf(c,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(i.targetId),t.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Yd(t.localStore,i.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(i.targetId),fc(t.remoteStore,i.targetId),Tl(t,i.targetId)}).catch(tc))):(Tl(t,i.targetId),yield Yd(t.localStore,i.targetId,!0))}),OI.apply(this,arguments)}function kI(){return kI=(0,V.A)(function*(n,e,t){const i=function WI(n){const e=it(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=WD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Ob.bind(null,e),e}(n);try{const a=yield function(c,d){const p=it(c),T=mr.now(),A=d.reduce((ee,ye)=>ee.add(ye.key),kt());let R,$;return p.persistence.runTransaction("Locally write mutations","readwrite",ee=>{let ye=li(),Ve=kt();return p.Zi.getEntries(ee,A).next(Je=>{ye=Je,ye.forEach((lt,Xt)=>{Xt.isValidDocument()||(Ve=Ve.add(lt))})}).next(()=>p.localDocuments.getOverlayedDocuments(ee,ye)).next(Je=>{R=Je;const lt=[];for(const Xt of d){const Cn=C_(Xt,R.get(Xt.key).overlayedDocument);null!=Cn&&lt.push(new Yo(Xt.key,Cn,f0(Cn.value.mapValue),yr.exists(!0)))}return p.mutationQueue.addMutationBatch(ee,T,lt,d)}).next(Je=>{$=Je;const lt=Je.applyToLocalDocumentSet(R,Ve);return p.documentOverlayCache.saveOverlays(ee,Je.batchId,lt)})}).then(()=>({batchId:$.batchId,changes:I_(R)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(a.batchId),function(c,d,p){let T=c.Tc[c.currentUser.toKey()];T||(T=new sr(zt)),T=T.insert(d,p),c.Tc[c.currentUser.toKey()]=T}(i,a.batchId,t),yield Oa(i,a.changes),yield pc(i.remoteStore)}catch(a){const c=up(a,"Failed to persist write");t.reject(c)}}),kI.apply(this,arguments)}function zD(n,e){return PI.apply(this,arguments)}function PI(){return PI=(0,V.A)(function*(n,e){const t=it(n);try{const i=yield function mb(n,e){const t=it(n),i=e.snapshotVersion;let a=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const d=t.Zi.newChangeBuffer({trackRemovals:!0});a=t.Ji;const p=[];e.targetChanges.forEach((R,$)=>{const ee=a.get($);if(!ee)return;p.push(t.Bs.removeMatchingKeys(c,R.removedDocuments,$).next(()=>t.Bs.addMatchingKeys(c,R.addedDocuments,$)));let ye=ee.withSequenceNumber(c.currentSequenceNumber);var Ve,Je,lt;null!==e.targetMismatches.get($)?ye=ye.withResumeToken(Jr.EMPTY_BYTE_STRING,yt.min()).withLastLimboFreeSnapshotVersion(yt.min()):R.resumeToken.approximateByteSize()>0&&(ye=ye.withResumeToken(R.resumeToken,i)),a=a.insert($,ye),Je=ye,lt=R,(0===(Ve=ee).resumeToken.approximateByteSize()||Je.snapshotVersion.toMicroseconds()-Ve.snapshotVersion.toMicroseconds()>=3e8||lt.addedDocuments.size+lt.modifiedDocuments.size+lt.removedDocuments.size>0)&&p.push(t.Bs.updateTargetData(c,ye))});let T=li(),A=kt();if(e.documentUpdates.forEach(R=>{e.resolvedLimboDocuments.has(R)&&p.push(t.persistence.referenceDelegate.updateLimboDocument(c,R))}),p.push(function wD(n,e,t){let i=kt(),a=kt();return t.forEach(c=>i=i.add(c)),e.getEntries(n,i).next(c=>{let d=li();return t.forEach((p,T)=>{const A=c.get(p);T.isFoundDocument()!==A.isFoundDocument()&&(a=a.add(p)),T.isNoDocument()&&T.version.isEqual(yt.min())?(e.removeEntry(p,T.readTime),d=d.insert(p,T)):!A.isValidDocument()||T.version.compareTo(A.version)>0||0===T.version.compareTo(A.version)&&A.hasPendingWrites?(e.addEntry(T),d=d.insert(p,T)):Ue("LocalStore","Ignoring outdated watch update for ",p,". Current version:",A.version," Watch version:",T.version)}),{nr:d,sr:a}})}(c,d,e.documentUpdates).next(R=>{T=R.nr,A=R.sr})),!i.isEqual(yt.min())){const R=t.Bs.getLastRemoteSnapshotVersion(c).next($=>t.Bs.setTargetsMetadata(c,c.currentSequenceNumber,i));p.push(R)}return he.waitFor(p).next(()=>d.apply(c)).next(()=>t.localDocuments.getLocalViewOfDocuments(c,T,A)).next(()=>T)}).then(c=>(t.Ji=a,c))}(t.localStore,e);e.targetChanges.forEach((a,c)=>{const d=t.yc.get(c);d&&(mt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?d.fc=!0:a.modifiedDocuments.size>0?mt(d.fc):a.removedDocuments.size>0&&(mt(d.fc),d.fc=!1))}),yield Oa(t,i,e)}catch(i){yield tc(i)}}),PI.apply(this,arguments)}function LI(n,e,t){const i=it(n);if(i.isPrimaryClient&&0===t||!i.isPrimaryClient&&1===t){const a=[];i.wc.forEach((c,d)=>{const p=d.view.Mu(e);p.snapshot&&a.push(p.snapshot)}),function(c,d){const p=it(c);p.onlineState=d;let T=!1;p.queries.forEach((A,R)=>{for(const $ of R.listeners)$.Mu(d)&&(T=!0)}),T&&xI(p)}(i.eventManager,e),a.length&&i.dc.nu(a),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function GD(n,e,t){return FI.apply(this,arguments)}function FI(){return FI=(0,V.A)(function*(n,e,t){const i=it(n);i.sharedClientState.updateQueryState(e,"rejected",t);const a=i.yc.get(e),c=a&&a.key;if(c){let d=new sr(st.comparator);d=d.insert(c,cr.newNoDocument(c,yt.min()));const p=kt().add(c),T=new Hf(yt.min(),new Map,new sr(zt),d,p);yield zD(i,T),i.gc=i.gc.remove(c),i.yc.delete(e),qD(i)}else yield Yd(i.localStore,e,!1).then(()=>Tl(i,e,t)).catch(tc)}),FI.apply(this,arguments)}function WD(n,e){return oy.apply(this,arguments)}function oy(){return oy=(0,V.A)(function*(n,e){const t=it(n),i=e.batch.batchId;try{const a=yield function pb(n,e){const t=it(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const a=e.batch.keys(),c=t.Zi.newChangeBuffer({trackRemovals:!0});return function(d,p,T,A){const R=T.batch,$=R.keys();let ee=he.resolve();return $.forEach(ye=>{ee=ee.next(()=>A.getEntry(p,ye)).next(Ve=>{const Je=T.docVersions.get(ye);mt(null!==Je),Ve.version.compareTo(Je)<0&&(R.applyToRemoteDocument(Ve,T),Ve.isValidDocument()&&(Ve.setReadTime(T.commitVersion),A.addEntry(Ve)))})}),ee.next(()=>d.mutationQueue.removeMutationBatch(p,R))}(t,i,e,c).next(()=>c.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,a,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(d){let p=kt();for(let T=0;T<d.mutationResults.length;++T)d.mutationResults[T].transformResults.length>0&&(p=p.add(d.batch.mutations[T].key));return p}(e))).next(()=>t.localDocuments.getDocuments(i,a))})}(t.localStore,e);uy(t,i,null),ay(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield Oa(t,a)}catch(a){yield tc(a)}}),oy.apply(this,arguments)}function Ob(n,e,t){return UI.apply(this,arguments)}function UI(){return UI=(0,V.A)(function*(n,e,t){const i=it(n);try{const a=yield function(c,d){const p=it(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",T=>{let A;return p.mutationQueue.lookupMutationBatch(T,d).next(R=>(mt(null!==R),A=R.keys(),p.mutationQueue.removeMutationBatch(T,R))).next(()=>p.mutationQueue.performConsistencyCheck(T)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(T,A,d)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(T,A)).next(()=>p.localDocuments.getDocuments(T,A))})}(i.localStore,e);uy(i,e,t),ay(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),yield Oa(i,a)}catch(a){yield tc(a)}}),UI.apply(this,arguments)}function ay(n,e){(n.Ec.get(e)||[]).forEach(t=>{t.resolve()}),n.Ec.delete(e)}function uy(n,e,t){const i=it(n);let a=i.Tc[i.currentUser.toKey()];if(a){const c=a.get(e);c&&(t?c.reject(t):c.resolve(),a=a.remove(e)),i.Tc[i.currentUser.toKey()]=a}}function Tl(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n._c.get(e))n.wc.delete(i),t&&n.dc.Pc(i,t);n._c.delete(e),n.isPrimaryClient&&n.Ic.Is(e).forEach(i=>{n.Ic.containsKey(i)||BI(n,i)})}function BI(n,e){n.mc.delete(e.path.canonicalString());const t=n.gc.get(e);null!==t&&(fc(n.remoteStore,t),n.gc=n.gc.remove(e),n.yc.delete(t),qD(n))}function jI(n,e,t){for(const i of t)i instanceof dp?(n.Ic.addReference(i.key,e),kb(n,i)):i instanceof iy?(Ue("SyncEngine","Document no longer in limbo: "+i.key),n.Ic.removeReference(i.key,e),n.Ic.containsKey(i.key)||BI(n,i.key)):ot()}function kb(n,e){const t=e.key,i=t.path.canonicalString();n.gc.get(t)||n.mc.has(i)||(Ue("SyncEngine","New document in limbo: "+t),n.mc.add(i),qD(n))}function qD(n){for(;n.mc.size>0&&n.gc.size<n.maxConcurrentLimboResolutions;){const e=n.mc.values().next().value;n.mc.delete(e);const t=new st(An.fromString(e)),i=n.Ac.next();n.yc.set(i,new Rb(t)),n.gc=n.gc.insert(t,i),op(n.remoteStore,new fu(gs(Eo(t.path)),i,"TargetPurposeLimboResolution",ps.ct))}}function Oa(n,e,t){return QD.apply(this,arguments)}function QD(){return QD=(0,V.A)(function*(n,e,t){const i=it(n),a=[],c=[],d=[];var p;i.wc.isEmpty()||(i.wc.forEach((p,T)=>{d.push(i.Rc(T,e,t).then(A=>{if((A||t)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(T.targetId,A?.fromCache?"not-current":"current"),A){a.push(A);const R=aI.Li(T.targetId,A);c.push(R)}}))}),yield Promise.all(d),i.dc.nu(a),yield(p=(0,V.A)(function*(T,A){const R=it(T);try{yield R.persistence.runTransaction("notifyLocalViewChanges","readwrite",$=>he.forEach(A,ee=>he.forEach(ee.Fi,ye=>R.persistence.referenceDelegate.addReference($,ee.targetId,ye)).next(()=>he.forEach(ee.Bi,ye=>R.persistence.referenceDelegate.removeReference($,ee.targetId,ye)))))}catch($){if(!rl($))throw $;Ue("LocalStore","Failed to update sequence numbers: "+$)}for(const $ of A){const ee=$.targetId;if(!$.fromCache){const ye=R.Ji.get(ee),Je=ye.withLastLimboFreeSnapshotVersion(ye.snapshotVersion);R.Ji=R.Ji.insert(ee,Je)}}}),function(T,A){return p.apply(this,arguments)})(i.localStore,c))}),QD.apply(this,arguments)}function tS(n,e){return XD.apply(this,arguments)}function XD(){return XD=(0,V.A)(function*(n,e){const t=it(n);if(!t.currentUser.isEqual(e)){Ue("SyncEngine","User change. New user:",e.toKey());const i=yield uI(t.localStore,e);t.currentUser=e,(a=t).Ec.forEach(d=>{d.forEach(p=>{p.reject(new ke(ge.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),a.Ec.clear(),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield Oa(t,i.er)}var a}),XD.apply(this,arguments)}function nS(n,e){const t=it(n),i=t.yc.get(e);if(i&&i.fc)return kt().add(i.key);{let a=kt();const c=t._c.get(e);if(!c)return a;for(const d of c){const p=t.wc.get(d);a=a.unionWith(p.view.nc)}return a}}class nh{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,V.A)(function*(){t.serializer=gu(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return function fb(n,e,t,i){return new ID(n,e,t,i)}(this.persistence,new _D,e.initialUser,this.serializer)}createPersistence(e){return new km(Pm.zs,this.serializer)}createSharedClientState(e){return new AD}terminate(){var e=this;return(0,V.A)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class ih{initialize(e,t){var i=this;return(0,V.A)(function*(){i.localStore||(i.localStore=e.localStore,i.sharedClientState=e.sharedClientState,i.datastore=i.createDatastore(t),i.remoteStore=i.createRemoteStore(t),i.eventManager=i.createEventManager(t),i.syncEngine=i.createSyncEngine(t,!e.synchronizeTabs),i.sharedClientState.onlineStateHandler=a=>LI(i.syncEngine,a,1),i.remoteStore.remoteSyncer.handleCredentialChange=tS.bind(null,i.syncEngine),yield function bI(n,e){return Ui.apply(this,arguments)}(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(e){return new ZA}createDatastore(e){const t=gu(e.databaseInfo.databaseId),i=new XA(e.databaseInfo);return new ND(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return t=this.localStore,i=this.datastore,a=e.asyncQueue,c=p=>LI(this.syncEngine,p,0),d=SD.D()?new SD:new _b,new Db(t,i,a,c,d);var t,i,a,c,d}createSyncEngine(e,t){return function(i,a,c,d,p,T,A){const R=new HD(i,a,c,d,p,T);return A&&(R.vc=!0),R}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,V.A)(function*(t){const i=it(t);Ue("RemoteStore","RemoteStore shutting down."),i.vu.add(5),yield Zd(i),i.Pu.shutdown(),i.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}class dy{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):Nr("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class Fb{constructor(e,t,i,a){var c=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=a,this.user=ui.UNAUTHENTICATED,this.clientId=e_.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var d=(0,V.A)(function*(p){Ue("FirestoreClient","Received user=",p.uid),yield c.authCredentialListener(p),c.user=p});return function(p){return d.apply(this,arguments)}}()),this.appCheckCredentials.start(i,d=>(Ue("FirestoreClient","Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}getConfiguration(){var e=this;return(0,V.A)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ke(ge.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new ci;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,V.A)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(i){const a=up(i,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}function hy(n,e){return qI.apply(this,arguments)}function qI(){return qI=(0,V.A)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Ue("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(function(){var a=(0,V.A)(function*(c){i.isEqual(c)||(yield uI(e.localStore,c),i=c)});return function(c){return a.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),qI.apply(this,arguments)}function QI(n,e){return XI.apply(this,arguments)}function XI(){return XI=(0,V.A)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield function YI(n){return ZI.apply(this,arguments)}(n);Ue("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield e.initialize(t,i),n.setCredentialChangeListener(a=>FD(e.remoteStore,a)),n.setAppCheckTokenChangeListener((a,c)=>FD(e.remoteStore,c)),n._onlineComponents=e}),XI.apply(this,arguments)}function ZI(){return ZI=(0,V.A)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Ue("FirestoreClient","Using user provided OfflineComponentProvider");try{yield hy(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function iT(n){return"FirebaseError"===n.name?n.code===ge.FAILED_PRECONDITION||n.code===ge.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}(t))throw t;vo("Error using user provided cache. Falling back to memory cache: "+t),yield hy(n,new nh)}}else Ue("FirestoreClient","Using default OfflineComponentProvider"),yield hy(n,new nh);return n._offlineComponents}),ZI.apply(this,arguments)}function fy(n){return JI.apply(this,arguments)}function JI(){return JI=(0,V.A)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Ue("FirestoreClient","Using user provided OnlineComponentProvider"),yield QI(n,n._uninitializedComponentsProvider._online)):(Ue("FirestoreClient","Using default OnlineComponentProvider"),yield QI(n,new ih))),n._onlineComponents}),JI.apply(this,arguments)}function gy(){return gy=(0,V.A)(function*(n){const e=yield fy(n),t=e.eventManager;return t.onListen=eh.bind(null,e.syncEngine),t.onUnlisten=JA.bind(null,e.syncEngine),t}),gy.apply(this,arguments)}function nw(n,e,t={}){const i=new ci;return n.asyncQueue.enqueueAndForget((0,V.A)(function*(){return function(a,c,d,p,T){const A=new dy({next:$=>{c.enqueueAndForget(()=>function MI(n,e){return lp.apply(this,arguments)}(a,R)),$.fromCache&&"server"===p.source?T.reject(new ke(ge.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):T.resolve($)},error:$=>T.reject($)}),R=new NI(d,A,{includeMetadataChanges:!0,Ku:!0});return function UD(n,e){return Dl.apply(this,arguments)}(a,R)}(yield function Cl(n){return gy.apply(this,arguments)}(n),n.asyncQueue,e,t,i)})),i.promise}function my(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const yy=new Map;function iw(n,e,t){if(!t)throw new ke(ge.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function sw(n){if(!st.isDocumentKey(n))throw new ke(ge.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function cT(n){if(st.isDocumentKey(n))throw new ke(ge.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function vy(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":ot()}function Tn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ke(ge.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=vy(n);throw new ke(ge.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}class ow{constructor(e){var t,i;if(void 0===e.host){if(void 0!==e.ssl)throw new ke(ge.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new ke(ge.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function lS(n,e,t,i){if(!0===e&&!0===i)throw new ke(ge.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=my(null!==(i=e.experimentalLongPollingOptions)&&void 0!==i?i:{}),function(a){if(void 0!==a.timeoutSeconds){if(isNaN(a.timeoutSeconds))throw new ke(ge.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ke(ge.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ke(ge.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class _y{constructor(e,t,i,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ow({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ke(ge.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new ke(ge.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ow(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new Df;switch(t.type){case"firstParty":return new NC(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new ke(ge.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=yy.get(e);t&&(Ue("ComponentProvider","Removing Datastore"),yy.delete(e),t.terminate())}(this),Promise.resolve()}}class $r{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new mu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new $r(this.firestore,e,this._key)}}class xi{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new xi(this.firestore,e,this._query)}}class mu extends xi{constructor(e,t,i){super(e,t,Eo(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new $r(this.firestore,null,new st(e))}withConverter(e){return new mu(this.firestore,e,this._path)}}function aw(n,e,...t){if(n=(0,J.Ku)(n),iw("collection","path",e),n instanceof _y){const i=An.fromString(e,...t);return cT(i),new mu(n,null,i)}{if(!(n instanceof $r||n instanceof mu))throw new ke(ge.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(An.fromString(e,...t));return cT(i),new mu(n.firestore,null,i)}}class fT{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new yI(this,"async_queue_retry"),this.Xc=()=>{const t=mI();t&&Ue("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=mI();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=mI();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new ci;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,V.A)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!rl(t))throw t;Ue("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(i=>{throw this.Wc=i,this.Hc=!1,Nr("INTERNAL UNHANDLED ERROR: ",function(c){let d=c.message||"";return c.stack&&(d=c.stack.includes(c.message)?c.stack:c.message+"\n"+c.stack),d}(i)),i}).then(i=>(this.Hc=!1,i))));return this.Gc=t,t}enqueueAfterDelay(e,t,i){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const a=AI.createAndSchedule(this,e,t,i,c=>this.na(c));return this.zc.push(a),a}Zc(){this.Wc&&ot()}verifyOperationInProgress(){}sa(){var e=this;return(0,V.A)(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}class or extends _y{constructor(e,t,i,a){super(e,t,i,a),this.type="firestore",this._queue=new fT,this._persistenceKey=a?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||cw(this),this._firestoreClient.terminate()}}function $b(n,e){const t="object"==typeof n?n:(0,Ee.Sx)(),i="string"==typeof n?n:e||"(default)",a=(0,Ee.j6)(t,"firestore").getImmediate({identifier:i});if(!a._initialized){const c=(0,J.yU)("firestore");c&&function dT(n,e,t,i={}){var a;const c=(n=Tn(n,_y))._getSettings(),d=`${e}:${t}`;if("firestore.googleapis.com"!==c.host&&c.host!==d&&vo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},c),{host:d,ssl:!1})),i.mockUserToken){let p,T;if("string"==typeof i.mockUserToken)p=i.mockUserToken,T=ui.MOCK_USER;else{p=(0,J.Fy)(i.mockUserToken,null===(a=n._app)||void 0===a?void 0:a.options.projectId);const A=i.mockUserToken.sub||i.mockUserToken.user_id;if(!A)throw new ke(ge.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new ui(A)}n._authCredentials=new GE(new Ef(p,T))}}(a,...c)}return a}function di(n){return n._firestoreClient||cw(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function cw(n){var e,t,i;const a=n._freezeSettings(),c=(p=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new rm(n._databaseId,p,n._persistenceKey,(A=a).host,A.ssl,A.experimentalForceLongPolling,A.experimentalAutoDetectLongPolling,my(A.experimentalLongPollingOptions),A.useFetchStreams));var p,A;n._firestoreClient=new Fb(n._authCredentials,n._appCheckCredentials,n._queue,c),null!==(t=a.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(i=a.cache)&&void 0!==i&&i._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:a.cache.kind,_offline:a.cache._offlineComponentProvider,_online:a.cache._onlineComponentProvider})}class sh{constructor(e){this._byteString=e}static fromBase64String(e){try{return new sh(Jr.fromBase64String(e))}catch(t){throw new ke(ge.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new sh(Jr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class _c{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new ke(ge.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Br(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class oh{constructor(e){this._methodName=e}}class dw{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ke(ge.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ke(ge.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return zt(this._lat,e._lat)||zt(this._long,e._long)}}const pT=/^__.*__$/;class bl{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return null!==this.fieldMask?new Yo(e,this.data,this.fieldMask,t,this.fieldTransforms):new pl(e,this.data,t,this.fieldTransforms)}}function Ey(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ot()}}class ah{constructor(e,t,i,a,c,d){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=a,void 0===c&&this.ua(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new ah(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),a=this.aa({path:i,la:!1});return a.fa(e),a}da(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),a=this.aa({path:i,la:!1});return a.ua(),a}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return vw(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(Ey(this.ca)&&pT.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class Wb{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||gu(e)}ya(e,t,i,a=!1){return new ah({ca:e,methodName:t,ga:i,path:Br.emptyPath(),la:!1,ma:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function yu(n){const e=n._freezeSettings(),t=gu(n._databaseId);return new Wb(n._databaseId,!!e.ignoreUndefinedProperties,t)}function uh(n,e,t,i,a,c={}){const d=n.ya(c.merge||c.mergeFields?2:0,e,t,a);yw("Data must be an object, but it was:",d,i);const p=gw(i,d);let T,A;if(c.merge)T=new Li(d.fieldMask),A=d.fieldTransforms;else if(c.mergeFields){const R=[];for(const $ of c.mergeFields){const ee=gp(e,$,t);if(!d.contains(ee))throw new ke(ge.INVALID_ARGUMENT,`Field '${ee}' is specified in your field mask but missing from your input data.`);_w(R,ee)||R.push(ee)}T=new Li(R),A=d.fieldTransforms.filter($=>T.covers($.field))}else T=null,A=d.fieldTransforms;return new bl(new Fi(p),T,A)}function wc(n,e){if(mw(n=(0,J.Ku)(n)))return yw("Unsupported field value:",e,n),gw(n,e);if(n instanceof oh)return function(t,i){if(!Ey(i.ca))throw i._a(`${t._methodName}() can only be used with update() and set()`);if(!i.path)throw i._a(`${t._methodName}() is not currently supported inside arrays`);const a=t._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,i){const a=[];let c=0;for(const d of t){let p=wc(d,i.wa(c));null==p&&(p={nullValue:"NULL_VALUE"}),a.push(p),c++}return{arrayValue:{values:a}}}(n,e)}return function(t,i){if(null===(t=(0,J.Ku)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return To(i.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const a=mr.fromDate(t);return{timestampValue:Ud(i.serializer,a)}}if(t instanceof mr){const a=new mr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Ud(i.serializer,a)}}if(t instanceof dw)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof sh)return{bytesValue:j0(i.serializer,t._byteString)};if(t instanceof $r){const a=i.databaseId,c=t.firestore._databaseId;if(!c.isEqual(a))throw i._a(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:Wf(t.firestore._databaseId||i.databaseId,t._key.path)}}throw i._a(`Unsupported field value: ${vy(t)}`)}(n,e)}function gw(n,e){const t={};return BC(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):rc(n,(i,a)=>{const c=wc(a,e.ha(i));null!=c&&(t[i]=c)}),{mapValue:{fields:t}}}function mw(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof mr||n instanceof dw||n instanceof sh||n instanceof $r||n instanceof oh)}function yw(n,e,t){if(!mw(t)||"object"!=typeof(i=t)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=vy(t);throw e._a("an object"===i?n+" a custom object":n+" "+i)}var i}function gp(n,e,t){if((e=(0,J.Ku)(e))instanceof _c)return e._internalPath;if("string"==typeof e)return ch(n,e);throw vw("Field path arguments must be of type string or ",n,!1,void 0,t)}const vT=new RegExp("[~\\*/\\[\\]]");function ch(n,e,t){if(e.search(vT)>=0)throw vw(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new _c(...e.split("."))._internalPath}catch{throw vw(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function vw(n,e,t,i,a){const c=i&&!i.isEmpty(),d=void 0!==a;let p=`Function ${e}() called with invalid data`;t&&(p+=" (via `toFirestore()`)"),p+=". ";let T="";return(c||d)&&(T+=" (found",c&&(T+=` in field ${i}`),d&&(T+=` in document ${a}`),T+=")"),new ke(ge.INVALID_ARGUMENT,p+n+T)}function _w(n,e){return n.some(t=>t.isEqual(e))}class Al{constructor(e,t,i,a,c){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=a,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new $r(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Qb(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Dy("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Qb extends Al{data(){return super.data()}}function Dy(n,e){return"string"==typeof e?ch(n,e):e instanceof _c?e._internalPath:e._delegate._internalPath}class _T{}class mp extends _T{}function Yb(n,e,...t){let i=[];e instanceof _T&&i.push(e),i=i.concat(t),function(a){const c=a.filter(p=>p instanceof Sl).length,d=a.filter(p=>p instanceof yp).length;if(c>1||c>0&&d>0)throw new ke(ge.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const a of i)n=a._apply(n);return n}class yp extends mp{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new yp(e,t,i)}_apply(e){const t=this._parse(e);return wT(e._query,t),new xi(e.firestore,e.converter,v_(e._query,t))}_parse(e){const t=yu(e.firestore);return function(a,c,d,p,T,A,R){let $;if(T.isKeyField()){if("array-contains"===A||"array-contains-any"===A)throw new ke(ge.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on documentId().`);if("in"===A||"not-in"===A){nA(R,A);const ee=[];for(const ye of R)ee.push(Ew(p,a,ye));$={arrayValue:{values:ee}}}else $=Ew(p,a,R)}else"in"!==A&&"not-in"!==A&&"array-contains-any"!==A||nA(R,A),$=function yT(n,e,t,i=!1){return wc(t,n.ya(i?4:3,e))}(d,"where",R,"in"===A||"not-in"===A);return mn.create(T,A,$)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}function Zb(n,e,t){const i=e,a=Dy("where",n);return yp._create(a,i,t)}class Sl extends _T{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Sl(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return 1===t.length?t[0]:Vn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(i,a){let c=i;const d=a.getFlattenedFilters();for(const p of d)wT(c,p),c=v_(c,p)}(e._query,t),new xi(e.firestore,e.converter,v_(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}function Ew(n,e,t){if("string"==typeof(t=(0,J.Ku)(t))){if(""===t)throw new ke(ge.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!I0(e)&&-1!==t.indexOf("/"))throw new ke(ge.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(An.fromString(t));if(!st.isDocumentKey(i))throw new ke(ge.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return oc(n,new st(i))}if(t instanceof $r)return oc(n,t._key);throw new ke(ge.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${vy(t)}.`)}function nA(n,e){if(!Array.isArray(n)||0===n.length)throw new ke(ge.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function wT(n,e){if(e.isInequality()){const i=kd(n),a=e.field;if(null!==i&&!i.isEqual(a))throw new ke(ge.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${i.toString()}' and '${a.toString()}'`);const c=y_(n);null!==c&&function rA(n,e,t){if(!t.isEqual(e))throw new ke(ge.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}(0,a,c)}const t=function(i,a){for(const c of i)for(const d of c.getFlattenedFilters())if(a.indexOf(d.op)>=0)return d.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new ke(ge.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class iA{convertValue(e,t="none"){switch(sc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Rr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(uu(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw ot()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return rc(e,(a,c)=>{i[a]=this.convertValue(c,t)}),i}convertGeoPoint(e){return new dw(Rr(e.latitude),Rr(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=nm(e);return null==i?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(ol(e));default:return null}}convertTimestamp(e){const t=Io(e);return new mr(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=An.fromString(e);mt(Q0(i));const a=new Sa(i.get(1),i.get(3)),c=new st(i.popFirst(5));return a.isEqual(t)||Nr(`Document ${c} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),c}}class lh{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class dh extends Al{constructor(e,t,i,a,c,d){super(e,t,i,a,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Tw(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(Dy("DocumentSnapshot.get",e));if(null!==i)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class Tw extends dh{data(e={}){return super.data(e)}}class _p{constructor(e,t,i,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new lh(a.hasPendingWrites,a.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new Tw(this._firestore,this._userDataWriter,i.key,i,new lh(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ke(ge.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let c=0;return i._snapshot.docChanges.map(d=>({type:"added",doc:new Tw(i._firestore,i._userDataWriter,d.doc.key,d.doc,new lh(i._snapshot.mutatedKeys.has(d.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:c++}))}{let c=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(d=>a||3!==d.type).map(d=>{const p=new Tw(i._firestore,i._userDataWriter,d.doc.key,d.doc,new lh(i._snapshot.mutatedKeys.has(d.doc.key),i._snapshot.fromCache),i.query.converter);let T=-1,A=-1;return 0!==d.type&&(T=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),1!==d.type&&(c=c.add(d.doc),A=c.indexOf(d.doc.key)),{type:bS(d.type),doc:p,oldIndex:T,newIndex:A}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function bS(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ot()}}class Ec extends iA{constructor(e){super(),this.firestore=e}convertBytes(e){return new sh(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new $r(this.firestore,null,t)}}function s(n){n=Tn(n,xi);const e=Tn(n.firestore,or),t=di(e),i=new Ec(e);return function Xb(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new ke(ge.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(n._query),nw(t,n._query).then(a=>new _p(e,i,n,a))}function y(n,e){const t=Tn(n.firestore,or),i=function hT(n,e,...t){if(n=(0,J.Ku)(n),1===arguments.length&&(e=e_.A()),iw("doc","path",e),n instanceof _y){const i=An.fromString(e,...t);return sw(i),new $r(n,null,new st(i))}{if(!(n instanceof $r||n instanceof mu))throw new ke(ge.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(An.fromString(e,...t));return sw(i),new $r(n.firestore,n instanceof mu?n.converter:null,new st(i))}}(n),a=function Dw(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}(n.converter,e);return function k(n,e){return function(t,i){const a=new ci;return t.asyncQueue.enqueueAndForget((0,V.A)(function*(){return function eS(n,e,t){return kI.apply(this,arguments)}(yield function ew(n){return fy(n).then(e=>e.syncEngine)}(t),i,a)})),a.promise}(di(n),e)}(t,[uh(yu(n.firestore),"addDoc",i._key,a,null!==n.converter,{}).toMutation(i._key,yr.exists(!1))]).then(()=>i)}!function(n,e=!0){ou=Ee.MF,(0,Ee.om)(new X.uA("firestore",(t,{instanceIdentifier:i,options:a})=>{const c=t.getProvider("app").getImmediate(),d=new or(new Kg(t.getProvider("auth-internal")),new WE(t.getProvider("app-check-internal")),function(p,T){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new ke(ge.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Sa(p.options.projectId,T)}(c,i),c);return a=Object.assign({useFetchStreams:e},a),d._setSettings(a),d},"PUBLIC").setMultipleInstances(!0)),(0,Ee.KO)(Zv,"3.13.0",n),(0,Ee.KO)(Zv,"3.13.0","esm2017")}();class TT{constructor(e){return e}}const SS="firestore",uA=new Z.nKC("angularfire2.firestore-instances");function iM(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new TT(i)}}const sM={provide:class nM{constructor(){return(0,C.CA)(SS)}},deps:[[new Z.Xx1,uA]]},oM={provide:TT,useFactory:function rM(n,e){const t=(0,C.lR)(SS,n,e);return t&&new TT(t)},deps:[[new Z.Xx1,uA],te.XU]};let aM=(()=>{class n{constructor(){(0,le.KO)("angularfire",C.xv.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Z.$C({type:n}),n.\u0275inj=Z.G2t({providers:[oM,sM]}),n})();function uM(n,...e){return{ngModule:aM,providers:[{provide:uA,useFactory:iM(n),multi:!0,deps:[Z.SKi,Z.zZn,C.u0,te.gL,[new Z.Xx1,Bp],[new Z.Xx1,pv],...e]}]}}const cM=(0,C.S3)(y,!0),lM=(0,C.S3)(aw,!0),dM=(0,C.S3)(s,!0),hM=(0,C.S3)($b,!0),fM=(0,C.S3)(Yb,!0),pM=(0,C.S3)(Zb,!0)},9126:(It,Ne,H)=>{H.d(Ne,{xv:()=>Op,u0:()=>Ry,CA:()=>Pp,lR:()=>Nh,S3:()=>Oy});var C=H(540),Z=H(7037),te=H(467),le=H(2979),V=H(1401),J=H(8779),Ee=H(5398);const qe=(v,D)=>D.some(x=>v instanceof x);let Te,X;const Le=new WeakMap,Ae=new WeakMap,nt=new WeakMap,Gt=new WeakMap,Dt=new WeakMap;let yn={get(v,D,x){if(v instanceof IDBTransaction){if("done"===D)return Ae.get(v);if("objectStoreNames"===D)return v.objectStoreNames||nt.get(v);if("store"===D)return x.objectStoreNames[1]?void 0:x.objectStore(x.objectStoreNames[0])}return Ye(v[D])},set:(v,D,x)=>(v[D]=x,!0),has:(v,D)=>v instanceof IDBTransaction&&("done"===D||"store"===D)||D in v};function be(v){return"function"==typeof v?function Re(v){return v!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function pe(){return X||(X=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(v)?function(...D){return v.apply(at(this),D),Ye(Le.get(this))}:function(...D){return Ye(v.apply(at(this),D))}:function(D,...x){const j=v.call(at(this),D,...x);return nt.set(j,D.sort?D.sort():[D]),Ye(j)}}(v):(v instanceof IDBTransaction&&function pn(v){if(Ae.has(v))return;const D=new Promise((x,j)=>{const Q=()=>{v.removeEventListener("complete",ne),v.removeEventListener("error",ve),v.removeEventListener("abort",ve)},ne=()=>{x(),Q()},ve=()=>{j(v.error||new DOMException("AbortError","AbortError")),Q()};v.addEventListener("complete",ne),v.addEventListener("error",ve),v.addEventListener("abort",ve)});Ae.set(v,D)}(v),qe(v,function K(){return Te||(Te=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(v,yn):v)}function Ye(v){if(v instanceof IDBRequest)return function Ct(v){const D=new Promise((x,j)=>{const Q=()=>{v.removeEventListener("success",ne),v.removeEventListener("error",ve)},ne=()=>{x(Ye(v.result)),Q()},ve=()=>{j(v.error),Q()};v.addEventListener("success",ne),v.addEventListener("error",ve)});return D.then(x=>{x instanceof IDBCursor&&Le.set(x,v)}).catch(()=>{}),Dt.set(D,v),D}(v);if(Gt.has(v))return Gt.get(v);const D=be(v);return D!==v&&(Gt.set(v,D),Dt.set(D,v)),D}const at=v=>Dt.get(v),Bt=["get","getKey","getAll","getAllKeys","count"],Ln=["put","add","delete","clear"],Be=new Map;function Gn(v,D){if(!(v instanceof IDBDatabase)||D in v||"string"!=typeof D)return;if(Be.get(D))return Be.get(D);const x=D.replace(/FromIndex$/,""),j=D!==x,Q=Ln.includes(x);if(!(x in(j?IDBIndex:IDBObjectStore).prototype)||!Q&&!Bt.includes(x))return;const ne=function(){var ve=(0,te.A)(function*(ze,...We){const ft=this.transaction(ze,Q?"readwrite":"readonly");let $t=ft.store;return j&&($t=$t.index(We.shift())),(yield Promise.all([$t[x](...We),Q&&ft.done]))[0]});return function(We){return ve.apply(this,arguments)}}();return Be.set(D,ne),ne}!function De(v){yn=v(yn)}(v=>({...v,get:(D,x,j)=>Gn(D,x)||v.get(D,x,j),has:(D,x)=>!!Gn(D,x)||v.has(D,x)}));const He="@firebase/installations",cn="0.6.4",Xe=1e4,bt=`w:${cn}`,zr="FIS_v2",Vi="https://firebaseinstallations.googleapis.com/v1",se=36e5,Oe=new V.FA("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Ie(v){return v instanceof V.g&&v.code.includes("request-failed")}function je({projectId:v}){return`${Vi}/projects/${v}/installations`}function wt(v){return{token:v.token,requestStatus:2,expiresIn:On(v.expiresIn),creationTime:Date.now()}}function Zt(v,D){return vt.apply(this,arguments)}function vt(){return(vt=(0,te.A)(function*(v,D){const j=(yield D.json()).error;return Oe.create("request-failed",{requestName:v,serverCode:j.code,serverMessage:j.message,serverStatus:j.status})})).apply(this,arguments)}function Yt({apiKey:v}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":v})}function Gr(v){return Pt.apply(this,arguments)}function Pt(){return(Pt=(0,te.A)(function*(v){const D=yield v();return D.status>=500&&D.status<600?v():D})).apply(this,arguments)}function On(v){return Number(v.replace("s","000"))}function vr(){return(vr=(0,te.A)(function*({appConfig:v,heartbeatServiceProvider:D},{fid:x}){const j=je(v),Q=Yt(v),ne=D.getImmediate({optional:!0});if(ne){const ft=yield ne.getHeartbeatsHeader();ft&&Q.append("x-firebase-client",ft)}const ze={method:"POST",headers:Q,body:JSON.stringify({fid:x,authVersion:zr,appId:v.appId,sdkVersion:bt})},We=yield Gr(()=>fetch(j,ze));if(We.ok){const ft=yield We.json();return{fid:ft.fid||x,registrationStatus:2,refreshToken:ft.refreshToken,authToken:wt(ft.authToken)}}throw yield Zt("Create Installation",We)})).apply(this,arguments)}function _t(v){return new Promise(D=>{setTimeout(D,v)})}const Jt=/^[cdef][\w-]{21}$/,Mn="";function Kt(){try{const v=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(v),v[0]=112+v[0]%16;const x=function Mt(v){return function Wr(v){return btoa(String.fromCharCode(...v)).replace(/\+/g,"-").replace(/\//g,"_")}(v).substr(0,22)}(v);return Jt.test(x)?x:Mn}catch{return Mn}}function xn(v){return`${v.appName}!${v.appId}`}const lr=new Map;function _r(v,D){const x=xn(v);Bi(x,D),function bn(v,D){const x=function Ze(){return!Ni&&"BroadcastChannel"in self&&(Ni=new BroadcastChannel("[Firebase] FID Change"),Ni.onmessage=v=>{Bi(v.data.key,v.data.fid)}),Ni}();x&&x.postMessage({key:v,fid:D}),function hi(){0===lr.size&&Ni&&(Ni.close(),Ni=null)}()}(x,D)}function Bi(v,D){const x=lr.get(v);if(x)for(const j of x)j(D)}let Ni=null;const fi="firebase-installations-database",er=1,tr="firebase-installations-store";let ii=null;function gt(){return ii||(ii=function Ge(v,D,{blocked:x,upgrade:j,blocking:Q,terminated:ne}={}){const ve=indexedDB.open(v,D),ze=Ye(ve);return j&&ve.addEventListener("upgradeneeded",We=>{j(Ye(ve.result),We.oldVersion,We.newVersion,Ye(ve.transaction))}),x&&ve.addEventListener("blocked",()=>x()),ze.then(We=>{ne&&We.addEventListener("close",()=>ne()),Q&&We.addEventListener("versionchange",()=>Q())}).catch(()=>{}),ze}(fi,er,{upgrade:(v,D)=>{0===D&&v.createObjectStore(tr)}})),ii}function Ar(v,D){return Or.apply(this,arguments)}function Or(){return(Or=(0,te.A)(function*(v,D){const x=xn(v),Q=(yield gt()).transaction(tr,"readwrite"),ne=Q.objectStore(tr),ve=yield ne.get(x);return yield ne.put(D,x),yield Q.done,(!ve||ve.fid!==D.fid)&&_r(v,D.fid),D})).apply(this,arguments)}function Et(v){return kr.apply(this,arguments)}function kr(){return(kr=(0,te.A)(function*(v){const D=xn(v),j=(yield gt()).transaction(tr,"readwrite");yield j.objectStore(tr).delete(D),yield j.done})).apply(this,arguments)}function jn(v,D){return pi.apply(this,arguments)}function pi(){return(pi=(0,te.A)(function*(v,D){const x=xn(v),Q=(yield gt()).transaction(tr,"readwrite"),ne=Q.objectStore(tr),ve=yield ne.get(x),ze=D(ve);return void 0===ze?yield ne.delete(x):yield ne.put(ze,x),yield Q.done,ze&&(!ve||ve.fid!==ze.fid)&&_r(v,ze.fid),ze})).apply(this,arguments)}function q(v){return L.apply(this,arguments)}function L(){return L=(0,te.A)(function*(v){let D;const x=yield jn(v.appConfig,j=>{const Q=function U(v){return Tt(v||{fid:Kt(),registrationStatus:0})}(j),ne=function F(v,D){if(0===D.registrationStatus){if(!navigator.onLine)return{installationEntry:D,registrationPromise:Promise.reject(Oe.create("app-offline"))};const x={fid:D.fid,registrationStatus:1,registrationTime:Date.now()},j=function B(v,D){return re.apply(this,arguments)}(v,x);return{installationEntry:x,registrationPromise:j}}return 1===D.registrationStatus?{installationEntry:D,registrationPromise:Se(v)}:{installationEntry:D}}(v,Q);return D=ne.registrationPromise,ne.installationEntry});return x.fid===Mn?{installationEntry:yield D}:{installationEntry:x,registrationPromise:D}}),L.apply(this,arguments)}function re(){return re=(0,te.A)(function*(v,D){try{const x=yield function dt(v,D){return vr.apply(this,arguments)}(v,D);return Ar(v.appConfig,x)}catch(x){throw Ie(x)&&409===x.customData.serverCode?yield Et(v.appConfig):yield Ar(v.appConfig,{fid:D.fid,registrationStatus:0}),x}}),re.apply(this,arguments)}function Se(v){return Ke.apply(this,arguments)}function Ke(){return(Ke=(0,te.A)(function*(v){let D=yield At(v.appConfig);for(;1===D.registrationStatus;)yield _t(100),D=yield At(v.appConfig);if(0===D.registrationStatus){const{installationEntry:x,registrationPromise:j}=yield q(v);return j||x}return D})).apply(this,arguments)}function At(v){return jn(v,D=>{if(!D)throw Oe.create("installation-not-found");return Tt(D)})}function Tt(v){return function rn(v){return 1===v.registrationStatus&&v.registrationTime+Xe<Date.now()}(v)?{fid:v.fid,registrationStatus:0}:v}function Bn(){return(Bn=(0,te.A)(function*({appConfig:v,heartbeatServiceProvider:D},x){const j=function Pr(v,{fid:D}){return`${je(v)}/${D}/authTokens:generate`}(v,x),Q=function vn(v,{refreshToken:D}){const x=Yt(v);return x.append("Authorization",function _n(v){return`${zr} ${v}`}(D)),x}(v,x),ne=D.getImmediate({optional:!0});if(ne){const ft=yield ne.getHeartbeatsHeader();ft&&Q.append("x-firebase-client",ft)}const ze={method:"POST",headers:Q,body:JSON.stringify({installation:{sdkVersion:bt,appId:v.appId}})},We=yield Gr(()=>fetch(j,ze));if(We.ok)return wt(yield We.json());throw yield Zt("Generate Auth Token",We)})).apply(this,arguments)}function ys(v){return ji.apply(this,arguments)}function ji(){return ji=(0,te.A)(function*(v,D=!1){let x;const j=yield jn(v.appConfig,ne=>{if(!ut(ne))throw Oe.create("not-registered");const ve=ne.authToken;if(!D&&function en(v){return 2===v.requestStatus&&!function Xn(v){const D=Date.now();return D<v.creationTime||v.creationTime+v.expiresIn<D+se}(v)}(ve))return ne;if(1===ve.requestStatus)return x=function _e(v,D){return oe.apply(this,arguments)}(v,D),ne;{if(!navigator.onLine)throw Oe.create("app-offline");const ze=function gn(v){const D={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},v),{authToken:D})}(ne);return x=function rt(v,D){return xt.apply(this,arguments)}(v,ze),ze}});return x?yield x:j.authToken}),ji.apply(this,arguments)}function oe(){return(oe=(0,te.A)(function*(v,D){let x=yield Fe(v.appConfig);for(;1===x.authToken.requestStatus;)yield _t(100),x=yield Fe(v.appConfig);const j=x.authToken;return 0===j.requestStatus?ys(v,D):j})).apply(this,arguments)}function Fe(v){return jn(v,D=>{if(!ut(D))throw Oe.create("not-registered");return function vs(v){return 1===v.requestStatus&&v.requestTime+Xe<Date.now()}(D.authToken)?Object.assign(Object.assign({},D),{authToken:{requestStatus:0}}):D})}function xt(){return xt=(0,te.A)(function*(v,D){try{const x=yield function Ft(v,D){return Bn.apply(this,arguments)}(v,D),j=Object.assign(Object.assign({},D),{authToken:x});return yield Ar(v.appConfig,j),x}catch(x){if(!Ie(x)||401!==x.customData.serverCode&&404!==x.customData.serverCode){const j=Object.assign(Object.assign({},D),{authToken:{requestStatus:0}});yield Ar(v.appConfig,j)}else yield Et(v.appConfig);throw x}}),xt.apply(this,arguments)}function ut(v){return void 0!==v&&2===v.registrationStatus}function qs(){return(qs=(0,te.A)(function*(v){const D=v,{installationEntry:x,registrationPromise:j}=yield q(D);return j?j.catch(console.error):ys(D).catch(console.error),x.fid})).apply(this,arguments)}function Ri(){return Ri=(0,te.A)(function*(v,D=!1){const x=v;return yield function $i(v){return Kr.apply(this,arguments)}(x),(yield ys(x,D)).token}),Ri.apply(this,arguments)}function Kr(){return(Kr=(0,te.A)(function*(v){const{registrationPromise:D}=yield q(v);D&&(yield D)})).apply(this,arguments)}function Qs(v){return Oe.create("missing-app-config-values",{valueName:v})}const Xs="installations",Pa=v=>{const D=v.getProvider("app").getImmediate(),x=function Zi(v){if(!v||!v.options)throw Qs("App Configuration");if(!v.name)throw Qs("App Name");const D=["projectId","apiKey","appId"];for(const x of D)if(!v.options[x])throw Qs(x);return{appName:v.name,projectId:v.options.projectId,apiKey:v.options.apiKey,appId:v.options.appId}}(D);return{app:D,appConfig:x,heartbeatServiceProvider:(0,le.j6)(D,"heartbeat"),_delete:()=>Promise.resolve()}},Fs=v=>{const D=v.getProvider("app").getImmediate(),x=(0,le.j6)(D,Xs).getImmediate();return{getId:()=>function Ls(v){return qs.apply(this,arguments)}(x),getToken:Q=>function Lr(v){return Ri.apply(this,arguments)}(x,Q)}};(function Ys(){(0,le.om)(new J.uA(Xs,Pa,"PUBLIC")),(0,le.om)(new J.uA("installations-internal",Fs,"PRIVATE"))})(),(0,le.KO)(He,cn),(0,le.KO)(He,cn,"esm2017");const gi="@firebase/remote-config",In=new V.FA("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Lt{constructor(D,x,j,Q){this.client=D,this.storage=x,this.storageCache=j,this.logger=Q}isCachedDataFresh(D,x){if(!x)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const j=Date.now()-x,Q=j<=D;return this.logger.debug(`Config fetch cache check. Cache age millis: ${j}. Cache max age millis (minimumFetchIntervalMillis setting): ${D}. Is cache hit: ${Q}.`),Q}fetch(D){var x=this;return(0,te.A)(function*(){const[j,Q]=yield Promise.all([x.storage.getLastSuccessfulFetchTimestampMillis(),x.storage.getLastSuccessfulFetchResponse()]);if(Q&&x.isCachedDataFresh(D.cacheMaxAgeMillis,j))return Q;D.eTag=Q&&Q.eTag;const ne=yield x.client.fetch(D),ve=[x.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===ne.status&&ve.push(x.storage.setLastSuccessfulFetchResponse(ne)),yield Promise.all(ve),ne})()}}function Nn(v=navigator){return v.languages&&v.languages[0]||v.language}class Kn{constructor(D,x,j,Q,ne,ve){this.firebaseInstallations=D,this.sdkVersion=x,this.namespace=j,this.projectId=Q,this.apiKey=ne,this.appId=ve}fetch(D){var x=this;return(0,te.A)(function*(){const[j,Q]=yield Promise.all([x.firebaseInstallations.getId(),x.firebaseInstallations.getToken()]),ve=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${x.projectId}/namespaces/${x.namespace}:fetch?key=${x.apiKey}`,ze={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":D.eTag||"*"},We={sdk_version:x.sdkVersion,app_instance_id:j,app_instance_id_token:Q,app_id:x.appId,language_code:Nn()},ft={method:"POST",headers:ze,body:JSON.stringify(We)},$t=fetch(ve,ft),Ut=new Promise((ho,fo)=>{D.signal.addEventListener(()=>{const Tr=new Error("The operation was aborted.");Tr.name="AbortError",fo(Tr)})});let lo;try{yield Promise.race([$t,Ut]),lo=yield $t}catch(ho){let fo="fetch-client-network";throw"AbortError"===ho?.name&&(fo="fetch-timeout"),In.create(fo,{originalErrorMessage:ho?.message})}let Ti=lo.status;const Hl=lo.headers.get("ETag")||void 0;let kh,Ho;if(200===lo.status){let ho;try{ho=yield lo.json()}catch(fo){throw In.create("fetch-client-parse",{originalErrorMessage:fo?.message})}kh=ho.entries,Ho=ho.state}if("INSTANCE_STATE_UNSPECIFIED"===Ho?Ti=500:"NO_CHANGE"===Ho?Ti=304:("NO_TEMPLATE"===Ho||"EMPTY_CONFIG"===Ho)&&(kh={}),304!==Ti&&200!==Ti)throw In.create("fetch-status",{httpStatus:Ti});return{status:Ti,eTag:Hl,config:kh}})()}}class Va{constructor(D,x){this.client=D,this.storage=x}fetch(D){var x=this;return(0,te.A)(function*(){const j=(yield x.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return x.attemptFetch(D,j)})()}attemptFetch(D,x){var j=this;return(0,te.A)(function*(Q,{throttleEndTimeMillis:ne,backoffCount:ve}){yield function si(v,D){return new Promise((x,j)=>{const Q=Math.max(D-Date.now(),0),ne=setTimeout(x,Q);v.addEventListener(()=>{clearTimeout(ne),j(In.create("fetch-throttle",{throttleEndTimeMillis:D}))})})}(Q.signal,ne);try{const ze=yield j.client.fetch(Q);return yield j.storage.deleteThrottleMetadata(),ze}catch(ze){if(!function oi(v){if(!(v instanceof V.g&&v.customData))return!1;const D=Number(v.customData.httpStatus);return 429===D||500===D||503===D||504===D}(ze))throw ze;const We={throttleEndTimeMillis:Date.now()+(0,V.p9)(ve),backoffCount:ve+1};return yield j.storage.setThrottleMetadata(We),j.attemptFetch(Q,We)}}).apply(this,arguments)}}class Cc{constructor(D,x,j,Q,ne){this.app=D,this._client=x,this._storageCache=j,this._storage=Q,this._logger=ne,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function ts(v,D){const x=v.target.error||void 0;return In.create(D,{originalErrorMessage:x&&x?.message})}const wn="app_namespace_store";class mi{constructor(D,x,j,Q=function En(){return new Promise((v,D)=>{try{const x=indexedDB.open("firebase_remote_config",1);x.onerror=j=>{D(ts(j,"storage-open"))},x.onsuccess=j=>{v(j.target.result)},x.onupgradeneeded=j=>{0===j.oldVersion&&j.target.result.createObjectStore(wn,{keyPath:"compositeKey"})}}catch(x){D(In.create("storage-open",{originalErrorMessage:x?.message}))}})}()){this.appId=D,this.appName=x,this.namespace=j,this.openDbPromise=Q}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(D){return this.set("last_fetch_status",D)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(D){return this.set("last_successful_fetch_timestamp_millis",D)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(D){return this.set("last_successful_fetch_response",D)}getActiveConfig(){return this.get("active_config")}setActiveConfig(D){return this.set("active_config",D)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(D){return this.set("active_config_etag",D)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(D){return this.set("throttle_metadata",D)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(D){var x=this;return(0,te.A)(function*(){const j=yield x.openDbPromise;return new Promise((Q,ne)=>{const ze=j.transaction([wn],"readonly").objectStore(wn),We=x.createCompositeKey(D);try{const ft=ze.get(We);ft.onerror=$t=>{ne(ts($t,"storage-get"))},ft.onsuccess=$t=>{const Ut=$t.target.result;Q(Ut?Ut.value:void 0)}}catch(ft){ne(In.create("storage-get",{originalErrorMessage:ft?.message}))}})})()}set(D,x){var j=this;return(0,te.A)(function*(){const Q=yield j.openDbPromise;return new Promise((ne,ve)=>{const We=Q.transaction([wn],"readwrite").objectStore(wn),ft=j.createCompositeKey(D);try{const $t=We.put({compositeKey:ft,value:x});$t.onerror=Ut=>{ve(ts(Ut,"storage-set"))},$t.onsuccess=()=>{ne()}}catch($t){ve(In.create("storage-set",{originalErrorMessage:$t?.message}))}})})()}delete(D){var x=this;return(0,te.A)(function*(){const j=yield x.openDbPromise;return new Promise((Q,ne)=>{const ze=j.transaction([wn],"readwrite").objectStore(wn),We=x.createCompositeKey(D);try{const ft=ze.delete(We);ft.onerror=$t=>{ne(ts($t,"storage-delete"))},ft.onsuccess=()=>{Q()}}catch(ft){ne(In.create("storage-delete",{originalErrorMessage:ft?.message}))}})})()}createCompositeKey(D){return[this.appId,this.appName,this.namespace,D].join()}}class eo{constructor(D){this.storage=D}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var D=this;return(0,te.A)(function*(){const x=D.storage.getLastFetchStatus(),j=D.storage.getLastSuccessfulFetchTimestampMillis(),Q=D.storage.getActiveConfig(),ne=yield x;ne&&(D.lastFetchStatus=ne);const ve=yield j;ve&&(D.lastSuccessfulFetchTimestampMillis=ve);const ze=yield Q;ze&&(D.activeConfig=ze)})()}setLastFetchStatus(D){return this.lastFetchStatus=D,this.storage.setLastFetchStatus(D)}setLastSuccessfulFetchTimestampMillis(D){return this.lastSuccessfulFetchTimestampMillis=D,this.storage.setLastSuccessfulFetchTimestampMillis(D)}setActiveConfig(D){return this.activeConfig=D,this.storage.setActiveConfig(D)}}function Fr(){return yi.apply(this,arguments)}function yi(){return(yi=(0,te.A)(function*(){if(!(0,V.zW)())return!1;try{return yield(0,V.eX)()}catch{return!1}})).apply(this,arguments)}!function ar(){(0,le.om)(new J.uA("remote-config",function v(D,{instanceIdentifier:x}){const j=D.getProvider("app").getImmediate(),Q=D.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw In.create("registration-window");if(!(0,V.zW)())throw In.create("indexed-db-unavailable");const{projectId:ne,apiKey:ve,appId:ze}=j.options;if(!ne)throw In.create("registration-project-id");if(!ve)throw In.create("registration-api-key");if(!ze)throw In.create("registration-app-id");const We=new mi(ze,j.name,x=x||"firebase"),ft=new eo(We),$t=new Ee.Vy(gi);$t.logLevel=Ee.$b.ERROR;const Ut=new Kn(Q,le.MF,x,ne,ve,ze),lo=new Va(Ut,We),Ti=new Lt(lo,We,ft,$t),Hl=new Cc(j,Ti,ft,We,$t);return function Ua(v){const D=(0,V.Ku)(v);D._initializePromise||(D._initializePromise=D._storageCache.loadFromStorage().then(()=>{D._isInitializationComplete=!0}))}(Hl),Hl},"PUBLIC").setMultipleInstances(!0)),(0,le.KO)(gi,"0.4.4"),(0,le.KO)(gi,"0.4.4","esm2017")}();const Nt=(v,D)=>D.some(x=>v instanceof x);let js,Ba;const Hi=new WeakMap,vi=new WeakMap,Qr=new WeakMap,xo=new WeakMap,no=new WeakMap;let ro={get(v,D,x){if(v instanceof IDBTransaction){if("done"===D)return vi.get(v);if("objectStoreNames"===D)return v.objectStoreNames||Qr.get(v);if("store"===D)return x.objectStoreNames[1]?void 0:x.objectStore(x.objectStoreNames[0])}return Oi(v[D])},set:(v,D,x)=>(v[D]=x,!0),has:(v,D)=>v instanceof IDBTransaction&&("done"===D||"store"===D)||D in v};function ja(v){return"function"==typeof v?function qt(v){return v!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function qn(){return Ba||(Ba=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(v)?function(...D){return v.apply(io(this),D),Oi(Hi.get(this))}:function(...D){return Oi(v.apply(io(this),D))}:function(D,...x){const j=v.call(io(this),D,...x);return Qr.set(j,D.sort?D.sort():[D]),Oi(j)}}(v):(v instanceof IDBTransaction&&function hr(v){if(vi.has(v))return;const D=new Promise((x,j)=>{const Q=()=>{v.removeEventListener("complete",ne),v.removeEventListener("error",ve),v.removeEventListener("abort",ve)},ne=()=>{x(),Q()},ve=()=>{j(v.error||new DOMException("AbortError","AbortError")),Q()};v.addEventListener("complete",ne),v.addEventListener("error",ve),v.addEventListener("abort",ve)});vi.set(v,D)}(v),Nt(v,function to(){return js||(js=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(v,ro):v)}function Oi(v){if(v instanceof IDBRequest)return function ns(v){const D=new Promise((x,j)=>{const Q=()=>{v.removeEventListener("success",ne),v.removeEventListener("error",ve)},ne=()=>{x(Oi(v.result)),Q()},ve=()=>{j(v.error),Q()};v.addEventListener("success",ne),v.addEventListener("error",ve)});return D.then(x=>{x instanceof IDBCursor&&Hi.set(x,v)}).catch(()=>{}),no.set(D,v),D}(v);if(xo.has(v))return xo.get(v);const D=ja(v);return D!==v&&(xo.set(v,D),no.set(D,v)),D}const io=v=>no.get(v);function nr(v,D,{blocked:x,upgrade:j,blocking:Q,terminated:ne}={}){const ve=indexedDB.open(v,D),ze=Oi(ve);return j&&ve.addEventListener("upgradeneeded",We=>{j(Oi(ve.result),We.oldVersion,We.newVersion,Oi(ve.transaction))}),x&&ve.addEventListener("blocked",()=>x()),ze.then(We=>{ne&&We.addEventListener("close",()=>ne()),Q&&We.addEventListener("versionchange",()=>Q())}).catch(()=>{}),ze}function Ds(v,{blocked:D}={}){const x=indexedDB.deleteDatabase(v);return D&&x.addEventListener("blocked",()=>D()),Oi(x).then(()=>{})}const _i=["get","getKey","getAll","getAllKeys","count"],No=["put","add","delete","clear"],Yn=new Map;function $a(v,D){if(!(v instanceof IDBDatabase)||D in v||"string"!=typeof D)return;if(Yn.get(D))return Yn.get(D);const x=D.replace(/FromIndex$/,""),j=D!==x,Q=No.includes(x);if(!(x in(j?IDBIndex:IDBObjectStore).prototype)||!Q&&!_i.includes(x))return;const ne=function(){var ve=(0,te.A)(function*(ze,...We){const ft=this.transaction(ze,Q?"readwrite":"readonly");let $t=ft.store;return j&&($t=$t.index(We.shift())),(yield Promise.all([$t[x](...We),Q&&ft.done]))[0]});return function(We){return ve.apply(this,arguments)}}();return Yn.set(D,ne),ne}!function aa(v){ro=v(ro)}(v=>({...v,get:(D,x,j)=>$a(D,x)||v.get(D,x,j),has:(D,x)=>!!$a(D,x)||v.has(D,x)}));const Sr="/firebase-messaging-sw.js",rr="/firebase-cloud-messaging-push-scope",ua="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Ts="https://fcmregistrations.googleapis.com/v1",on="google.c.a.c_id",Mr="google.c.a.c_l",Du="google.c.a.ts";var Cs=function(v){return v.PUSH_RECEIVED="push-received",v.NOTIFICATION_CLICKED="notification-clicked",v}(Cs||{});function bs(v){const D=new Uint8Array(v);return btoa(String.fromCharCode(...D)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Cu(v){const x=(v+"=".repeat((4-v.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),j=atob(x),Q=new Uint8Array(j.length);for(let ne=0;ne<j.length;++ne)Q[ne]=j.charCodeAt(ne);return Q}const bc="fcm_token_details_db",Ac=5,la="fcm_token_object_Store";function da(){return da=(0,te.A)(function*(v){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(ne=>ne.name).includes(bc))return null;let D=null;return(yield nr(bc,Ac,{upgrade:(j=(0,te.A)(function*(Q,ne,ve,ze){var We;if(ne<2||!Q.objectStoreNames.contains(la))return;const ft=ze.objectStore(la),$t=yield ft.index("fcmSenderId").get(v);if(yield ft.clear(),$t)if(2===ne){const Ut=$t;if(!Ut.auth||!Ut.p256dh||!Ut.endpoint)return;D={token:Ut.fcmToken,createTime:null!==(We=Ut.createTime)&&void 0!==We?We:Date.now(),subscriptionOptions:{auth:Ut.auth,p256dh:Ut.p256dh,endpoint:Ut.endpoint,swScope:Ut.swScope,vapidKey:"string"==typeof Ut.vapidKey?Ut.vapidKey:bs(Ut.vapidKey)}}}else if(3===ne){const Ut=$t;D={token:Ut.fcmToken,createTime:Ut.createTime,subscriptionOptions:{auth:bs(Ut.auth),p256dh:bs(Ut.p256dh),endpoint:Ut.endpoint,swScope:Ut.swScope,vapidKey:bs(Ut.vapidKey)}}}else if(4===ne){const Ut=$t;D={token:Ut.fcmToken,createTime:Ut.createTime,subscriptionOptions:{auth:bs(Ut.auth),p256dh:bs(Ut.p256dh),endpoint:Ut.endpoint,swScope:Ut.swScope,vapidKey:bs(Ut.vapidKey)}}}}),function(ne,ve,ze,We){return j.apply(this,arguments)})})).close(),yield Ds(bc),yield Ds("fcm_vapid_details_db"),yield Ds("undefined"),function Ro(v){if(!v||!v.subscriptionOptions)return!1;const{subscriptionOptions:D}=v;return"number"==typeof v.createTime&&v.createTime>0&&"string"==typeof v.token&&v.token.length>0&&"string"==typeof D.auth&&D.auth.length>0&&"string"==typeof D.p256dh&&D.p256dh.length>0&&"string"==typeof D.endpoint&&D.endpoint.length>0&&"string"==typeof D.swScope&&D.swScope.length>0&&"string"==typeof D.vapidKey&&D.vapidKey.length>0}(D)?D:null;var j}),da.apply(this,arguments)}const Nl="firebase-messaging-database",$s=1,Xr="firebase-messaging-store";let Ha=null;function Rl(){return Ha||(Ha=nr(Nl,$s,{upgrade:(v,D)=>{0===D&&v.createObjectStore(Xr)}})),Ha}function ha(v){return Oo.apply(this,arguments)}function Oo(){return Oo=(0,te.A)(function*(v){const D=zi(v),j=yield(yield Rl()).transaction(Xr).objectStore(Xr).get(D);if(j)return j;{const Q=yield function Sc(v){return da.apply(this,arguments)}(v.appConfig.senderId);if(Q)return yield ko(v,Q),Q}}),Oo.apply(this,arguments)}function ko(v,D){return Ol.apply(this,arguments)}function Ol(){return(Ol=(0,te.A)(function*(v,D){const x=zi(v),Q=(yield Rl()).transaction(Xr,"readwrite");return yield Q.objectStore(Xr).put(D,x),yield Q.done,D})).apply(this,arguments)}function Au(){return(Au=(0,te.A)(function*(v){const D=zi(v),j=(yield Rl()).transaction(Xr,"readwrite");yield j.objectStore(Xr).delete(D),yield j.done})).apply(this,arguments)}function zi({appConfig:v}){return v.appId}const Yr=new V.FA("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function fa(v,D){return fr.apply(this,arguments)}function fr(){return(fr=(0,te.A)(function*(v,D){const x=yield As(v),j=oo(D),Q={method:"POST",headers:x,body:JSON.stringify(j)};let ne;try{ne=yield(yield fetch(Mu(v.appConfig),Q)).json()}catch(ve){throw Yr.create("token-subscribe-failed",{errorInfo:ve?.toString()})}if(ne.error)throw Yr.create("token-subscribe-failed",{errorInfo:ne.error.message});if(!ne.token)throw Yr.create("token-subscribe-no-token");return ne.token})).apply(this,arguments)}function xr(){return(xr=(0,te.A)(function*(v,D){const x=yield As(v),j=oo(D.subscriptionOptions),Q={method:"PATCH",headers:x,body:JSON.stringify(j)};let ne;try{ne=yield(yield fetch(`${Mu(v.appConfig)}/${D.token}`,Q)).json()}catch(ve){throw Yr.create("token-update-failed",{errorInfo:ve?.toString()})}if(ne.error)throw Yr.create("token-update-failed",{errorInfo:ne.error.message});if(!ne.token)throw Yr.create("token-update-no-token");return ne.token})).apply(this,arguments)}function Su(v,D){return so.apply(this,arguments)}function so(){return(so=(0,te.A)(function*(v,D){const j={method:"DELETE",headers:yield As(v)};try{const ne=yield(yield fetch(`${Mu(v.appConfig)}/${D}`,j)).json();if(ne.error)throw Yr.create("token-unsubscribe-failed",{errorInfo:ne.error.message})}catch(Q){throw Yr.create("token-unsubscribe-failed",{errorInfo:Q?.toString()})}})).apply(this,arguments)}function Mu({projectId:v}){return`${Ts}/projects/${v}/registrations`}function As(v){return pa.apply(this,arguments)}function pa(){return(pa=(0,te.A)(function*({appConfig:v,installations:D}){const x=yield D.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":v.apiKey,"x-goog-firebase-installations-auth":`FIS ${x}`})})).apply(this,arguments)}function oo({p256dh:v,auth:D,endpoint:x,vapidKey:j}){const Q={web:{endpoint:x,auth:D,p256dh:v}};return j!==ua&&(Q.web.applicationPubKey=j),Q}const xu=6048e5;function za(){return za=(0,te.A)(function*(v){const D=yield function Fo(v,D){return Mc.apply(this,arguments)}(v.swRegistration,v.vapidKey),x={vapidKey:v.vapidKey,swScope:v.swRegistration.scope,endpoint:D.endpoint,auth:bs(D.getKey("auth")),p256dh:bs(D.getKey("p256dh"))},j=yield ha(v.firebaseDependencies);if(j){if(function _(v,D){return D.vapidKey===v.vapidKey&&D.endpoint===v.endpoint&&D.auth===v.auth&&D.p256dh===v.p256dh}(j.subscriptionOptions,x))return Date.now()>=j.createTime+xu?function Ss(v,D){return Po.apply(this,arguments)}(v,{token:j.token,createTime:Date.now(),subscriptionOptions:x}):j.token;try{yield Su(v.firebaseDependencies,j.token)}catch(Q){console.warn(Q)}return Lo(v.firebaseDependencies,x)}return Lo(v.firebaseDependencies,x)}),za.apply(this,arguments)}function Nu(){return Nu=(0,te.A)(function*(v){const D=yield ha(v.firebaseDependencies);D&&(yield Su(v.firebaseDependencies,D.token),yield function bu(v){return Au.apply(this,arguments)}(v.firebaseDependencies));const x=yield v.swRegistration.pushManager.getSubscription();return!x||x.unsubscribe()}),Nu.apply(this,arguments)}function Po(){return Po=(0,te.A)(function*(v,D){try{const x=yield function zs(v,D){return xr.apply(this,arguments)}(v.firebaseDependencies,D),j=Object.assign(Object.assign({},D),{token:x,createTime:Date.now()});return yield ko(v.firebaseDependencies,j),x}catch(x){throw yield function ma(v){return Nu.apply(this,arguments)}(v),x}}),Po.apply(this,arguments)}function Lo(v,D){return ya.apply(this,arguments)}function ya(){return(ya=(0,te.A)(function*(v,D){const j={token:yield fa(v,D),createTime:Date.now(),subscriptionOptions:D};return yield ko(v,j),j.token})).apply(this,arguments)}function Mc(){return(Mc=(0,te.A)(function*(v,D){return(yield v.pushManager.getSubscription())||v.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Cu(D)})})).apply(this,arguments)}function O(v){const D={from:v.from,collapseKey:v.collapse_key,messageId:v.fcmMessageId};return function b(v,D){if(!D.notification)return;v.notification={};const x=D.notification.title;x&&(v.notification.title=x);const j=D.notification.body;j&&(v.notification.body=j);const Q=D.notification.image;Q&&(v.notification.image=Q);const ne=D.notification.icon;ne&&(v.notification.icon=ne)}(D,v),function N(v,D){D.data&&(v.data=D.data)}(D,v),function W(v,D){var x,j,Q,ne,ve;if(!(D.fcmOptions||null!==(x=D.notification)&&void 0!==x&&x.click_action))return;v.fcmOptions={};const ze=null!==(Q=null===(j=D.fcmOptions)||void 0===j?void 0:j.link)&&void 0!==Q?Q:null===(ne=D.notification)||void 0===ne?void 0:ne.click_action;ze&&(v.fcmOptions.link=ze);const We=null===(ve=D.fcmOptions)||void 0===ve?void 0:ve.analytics_label;We&&(v.fcmOptions.analyticsLabel=We)}(D,v),D}function Ce(v,D){const x=[];for(let j=0;j<v.length;j++)x.push(v.charAt(j)),j<D.length&&x.push(D.charAt(j));return x.join("")}function Rn(v){return Yr.create("missing-app-config-values",{valueName:v})}Ce("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Ce("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class kn{constructor(D,x,j){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Q=function ht(v){if(!v||!v.options)throw Rn("App Configuration Object");if(!v.name)throw Rn("App Name");const D=["projectId","apiKey","appId","messagingSenderId"],{options:x}=v;for(const j of D)if(!x[j])throw Rn(j);return{appName:v.name,projectId:x.projectId,apiKey:x.apiKey,appId:x.appId,senderId:x.messagingSenderId}}(D);this.firebaseDependencies={app:D,appConfig:Q,installations:x,analyticsProvider:j}}_delete(){return Promise.resolve()}}function jt(){return(jt=(0,te.A)(function*(v){try{v.swRegistration=yield navigator.serviceWorker.register(Sr,{scope:rr}),v.swRegistration.update().catch(()=>{})}catch(D){throw Yr.create("failed-service-worker-registration",{browserErrorMessage:D?.message})}})).apply(this,arguments)}function ln(){return(ln=(0,te.A)(function*(v,D){if(!D&&!v.swRegistration&&(yield function fn(v){return jt.apply(this,arguments)}(v)),D||!v.swRegistration){if(!(D instanceof ServiceWorkerRegistration))throw Yr.create("invalid-sw-registration");v.swRegistration=D}})).apply(this,arguments)}function rs(){return(rs=(0,te.A)(function*(v,D){D?v.vapidKey=D:v.vapidKey||(v.vapidKey=ua)})).apply(this,arguments)}function Ur(){return Ur=(0,te.A)(function*(v,D){if(!navigator)throw Yr.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Yr.create("permission-blocked");return yield function ur(v,D){return rs.apply(this,arguments)}(v,D?.vapidKey),yield function Hn(v,D){return ln.apply(this,arguments)}(v,D?.serviceWorkerRegistration),function ga(v){return za.apply(this,arguments)}(v)}),Ur.apply(this,arguments)}function is(){return(is=(0,te.A)(function*(v,D,x){const j=function Gs(v){switch(v){case Cs.NOTIFICATION_CLICKED:return"notification_open";case Cs.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(D);(yield v.firebaseDependencies.analyticsProvider.get()).logEvent(j,{message_id:x[on],message_name:x[Mr],message_time:x[Du],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Ru(){return Ru=(0,te.A)(function*(v,D){const x=D.data;if(!x.isFirebaseMessaging)return;v.onMessageHandler&&x.messageType===Cs.PUSH_RECEIVED&&("function"==typeof v.onMessageHandler?v.onMessageHandler(O(x)):v.onMessageHandler.next(O(x)));const j=x.data;(function fe(v){return"object"==typeof v&&!!v&&on in v})(j)&&"1"===j["google.c.a.e"]&&(yield function Ir(v,D,x){return is.apply(this,arguments)}(v,x.messageType,j))}),Ru.apply(this,arguments)}const xc="@firebase/messaging",va=v=>{const D=new kn(v.getProvider("app").getImmediate(),v.getProvider("installations-internal").getImmediate(),v.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",x=>function ao(v,D){return Ru.apply(this,arguments)}(D,x)),D},Ou=v=>{const D=v.getProvider("messaging").getImmediate();return{getToken:j=>function Ii(v,D){return Ur.apply(this,arguments)}(D,j)}};function Uo(){return Ga.apply(this,arguments)}function Ga(){return(Ga=(0,te.A)(function*(){try{yield(0,V.eX)()}catch{return!1}return typeof window<"u"&&(0,V.zW)()&&(0,V.dM)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function ph(){(0,le.om)(new J.uA("messaging",va,"PUBLIC")),(0,le.om)(new J.uA("messaging-internal",Ou,"PRIVATE")),(0,le.KO)(xc,"0.12.4"),(0,le.KO)(xc,"0.12.4","esm2017")}();const Nc="analytics",Pu="firebase_id",_a="origin",Dn=6e4,Ep="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Lu="https://www.googletagmanager.com/gtag/js",wr=new Ee.Vy("@firebase/analytics"),Ei=new V.FA("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function mh(v){if(!v.startsWith(Lu)){const D=Ei.create("invalid-gtag-resource",{gtagURL:v});return wr.warn(D.message),""}return v}function Gi(v){return Promise.all(v.map(D=>D.catch(x=>x)))}function Vo(){return(Vo=(0,te.A)(function*(v,D,x,j,Q,ne){const ve=j[Q];try{if(ve)yield D[ve];else{const We=(yield Gi(x)).find(ft=>ft.measurementId===Q);We&&(yield D[We.appId])}}catch(ze){wr.error(ze)}v("config",Q,ne)})).apply(this,arguments)}function Ka(){return(Ka=(0,te.A)(function*(v,D,x,j,Q){try{let ne=[];if(Q&&Q.send_to){let ve=Q.send_to;Array.isArray(ve)||(ve=[ve]);const ze=yield Gi(x);for(const We of ve){const ft=ze.find(Ut=>Ut.measurementId===We),$t=ft&&D[ft.appId];if(!$t){ne=[];break}ne.push($t)}}0===ne.length&&(ne=Object.values(D)),yield Promise.all(ne),v("event",j,Q||{})}catch(ne){wr.error(ne)}})).apply(this,arguments)}const Ws=30,bp=new class by{constructor(D={},x=1e3){this.throttleMetadata=D,this.intervalMillis=x}getThrottleMetadata(D){return this.throttleMetadata[D]}setThrottleMetadata(D,x){this.throttleMetadata[D]=x}deleteThrottleMetadata(D){delete this.throttleMetadata[D]}};function Ay(v){return new Headers({Accept:"application/json","x-goog-api-key":v})}function xe(){return(xe=(0,te.A)(function*(v){var D;const{appId:x,apiKey:j}=v,Q={method:"GET",headers:Ay(j)},ne=Ep.replace("{app-id}",x),ve=yield fetch(ne,Q);if(200!==ve.status&&304!==ve.status){let ze="";try{const We=yield ve.json();null!==(D=We.error)&&void 0!==D&&D.message&&(ze=We.error.message)}catch{}throw Ei.create("config-fetch-failed",{httpStatus:ve.status,responseMessage:ze})}return ve.json()})).apply(this,arguments)}function Oc(){return(Oc=(0,te.A)(function*(v,D=bp,x){const{appId:j,apiKey:Q,measurementId:ne}=v.options;if(!j)throw Ei.create("no-app-id");if(!Q){if(ne)return{measurementId:ne,appId:j};throw Ei.create("no-api-key")}const ve=D.getThrottleMetadata(j)||{backoffCount:0,throttleEndTimeMillis:Date.now()},ze=new Ms;return setTimeout((0,te.A)(function*(){ze.abort()}),void 0!==x?x:Dn),Ll({appId:j,apiKey:Q,measurementId:ne},ve,ze,D)})).apply(this,arguments)}function Ll(v,D,x){return Er.apply(this,arguments)}function Er(){return Er=(0,te.A)(function*(v,{throttleEndTimeMillis:D,backoffCount:x},j,Q=bp){var ne;const{appId:ve,measurementId:ze}=v;try{yield function qa(v,D){return new Promise((x,j)=>{const Q=Math.max(D-Date.now(),0),ne=setTimeout(x,Q);v.addEventListener(()=>{clearTimeout(ne),j(Ei.create("fetch-throttle",{throttleEndTimeMillis:D}))})})}(j,D)}catch(We){if(ze)return wr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${ze} provided in the "measurementId" field in the local Firebase config. [${We?.message}]`),{appId:ve,measurementId:ze};throw We}try{const We=yield function _h(v){return xe.apply(this,arguments)}(v);return Q.deleteThrottleMetadata(ve),We}catch(We){const ft=We;if(!function Qa(v){if(!(v instanceof V.g&&v.customData))return!1;const D=Number(v.customData.httpStatus);return 429===D||500===D||503===D||504===D}(ft)){if(Q.deleteThrottleMetadata(ve),ze)return wr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${ze} provided in the "measurementId" field in the local Firebase config. [${ft?.message}]`),{appId:ve,measurementId:ze};throw We}const $t=503===Number(null===(ne=ft?.customData)||void 0===ne?void 0:ne.httpStatus)?(0,V.p9)(x,Q.intervalMillis,Ws):(0,V.p9)(x,Q.intervalMillis),Ut={throttleEndTimeMillis:Date.now()+$t,backoffCount:x+1};return Q.setThrottleMetadata(ve,Ut),wr.debug(`Calling attemptFetch again in ${$t} millis`),Ll(v,Ut,j,Q)}}),Er.apply(this,arguments)}class Ms{constructor(){this.listeners=[]}addEventListener(D){this.listeners.push(D)}abort(){this.listeners.forEach(D=>D())}}let Xa,w;function Uu(){return(Uu=(0,te.A)(function*(v,D,x,j,Q){if(Q&&Q.global)v("event",x,j);else{const ne=yield D;v("event",x,Object.assign(Object.assign({},j),{send_to:ne}))}})).apply(this,arguments)}function de(){return(de=(0,te.A)(function*(){if(!(0,V.zW)())return wr.warn(Ei.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,V.eX)()}catch(v){return wr.warn(Ei.create("indexeddb-unavailable",{errorInfo:v?.toString()}).message),!1}return!0})).apply(this,arguments)}function Qe(){return Qe=(0,te.A)(function*(v,D,x,j,Q,ne,ve){var ze;const We=function an(v){return Oc.apply(this,arguments)}(v);We.then(Ti=>{x[Ti.measurementId]=Ti.appId,v.options.measurementId&&Ti.measurementId!==v.options.measurementId&&wr.warn(`The measurement ID in the local Firebase config (${v.options.measurementId}) does not match the measurement ID fetched from the server (${Ti.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Ti=>wr.error(Ti)),D.push(We);const ft=function G(){return de.apply(this,arguments)}().then(Ti=>{if(Ti)return j.getId()}),[$t,Ut]=yield Promise.all([We,ft]);(function Tp(v){const D=window.document.getElementsByTagName("script");for(const x of Object.values(D))if(x.src&&x.src.includes(Lu)&&x.src.includes(v))return x;return null})(ne)||function Fu(v,D){const x=function Pl(v,D){let x;return window.trustedTypes&&(x=window.trustedTypes.createPolicy(v,D)),x}("firebase-js-sdk-policy",{createScriptURL:mh}),j=document.createElement("script"),Q=`${Lu}?l=${v}&id=${D}`;j.src=x?x?.createScriptURL(Q):Q,j.async=!0,document.head.appendChild(j)}(ne,$t.measurementId),w&&(Q("consent","default",w),function S(v){w=v}(void 0)),Q("js",new Date);const lo=null!==(ze=ve?.config)&&void 0!==ze?ze:{};return lo[_a]="firebase",lo.update=!0,null!=Ut&&(lo[Pu]=Ut),Q("config",$t.measurementId,lo),Xa&&(Q("set",Xa),function P(v){Xa=v}(void 0)),$t.measurementId}),Qe.apply(this,arguments)}class Ot{constructor(D){this.app=D}_delete(){return delete Qt[this.app.options.appId],Promise.resolve()}}let Qt={},dn=[];const Vr={};let Vu,ai,as="dataLayer",Dr=!1;function Cw(v,D,x){!function pr(){const v=[];if((0,V.sr)()&&v.push("This is a browser extension environment."),(0,V.dM)()||v.push("Cookies are not available."),v.length>0){const D=v.map((j,Q)=>`(${Q+1}) ${j}`).join(" "),x=Ei.create("invalid-analytics-context",{errorInfo:D});wr.warn(x.message)}}();const j=v.options.appId;if(!j)throw Ei.create("no-app-id");if(!v.options.apiKey){if(!v.options.measurementId)throw Ei.create("no-api-key");wr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${v.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Qt[j])throw Ei.create("already-exists",{id:j});if(!Dr){!function yh(v){let D=[];Array.isArray(window[v])?D=window[v]:window[v]=D}(as);const{wrappedGtag:ne,gtagCore:ve}=function Rc(v,D,x,j,Q){let ne=function(...ve){window[j].push(arguments)};return window[Q]&&"function"==typeof window[Q]&&(ne=window[Q]),window[Q]=function Dp(v,D,x,j){function ne(){return ne=(0,te.A)(function*(ve,...ze){try{if("event"===ve){const[We,ft]=ze;yield function vh(v,D,x,j,Q){return Ka.apply(this,arguments)}(v,D,x,We,ft)}else if("config"===ve){const[We,ft]=ze;yield function St(v,D,x,j,Q,ne){return Vo.apply(this,arguments)}(v,D,x,j,We,ft)}else if("consent"===ve){const[We]=ze;v("consent","update",We)}else if("get"===ve){const[We,ft,$t]=ze;v("get",We,ft,$t)}else if("set"===ve){const[We]=ze;v("set",We)}else v(ve,...ze)}catch(We){wr.error(We)}}),ne.apply(this,arguments)}return function Q(ve){return ne.apply(this,arguments)}}(ne,v,D,x),{gtagCore:ne,wrappedGtag:window[Q]}}(Qt,dn,Vr,as,"gtag");ai=ne,Vu=ve,Dr=!0}return Qt[j]=function ce(v,D,x,j,Q,ne,ve){return Qe.apply(this,arguments)}(v,dn,Vr,D,Vu,as,x),new Ot(v)}function Ih(){return wh.apply(this,arguments)}function wh(){return(wh=(0,te.A)(function*(){if((0,V.sr)()||!(0,V.dM)()||!(0,V.zW)())return!1;try{return yield(0,V.eX)()}catch{return!1}})).apply(this,arguments)}const Mp="@firebase/analytics";!function Za(){(0,le.om)(new J.uA(Nc,(D,{options:x})=>Cw(D.getProvider("app").getImmediate(),D.getProvider("installations-internal").getImmediate(),x),"PUBLIC")),(0,le.om)(new J.uA("analytics-internal",function v(D){try{const x=D.getProvider(Nc).getImmediate();return{logEvent:(j,Q,ne)=>function Fc(v,D,x,j){v=(0,V.Ku)(v),function Ya(v,D,x,j,Q){return Uu.apply(this,arguments)}(ai,Qt[v.app.options.appId],D,x,j).catch(Q=>wr.error(Q))}(x,j,Q,ne)}}catch(x){throw Ei.create("interop-component-reg-failed",{reason:x})}},"PRIVATE")),(0,le.KO)(Mp,"0.10.0"),(0,le.KO)(Mp,"0.10.0","esm2017")}();var ju=H(8359);class Aw extends ju.yU{constructor(D,x){super()}schedule(D,x=0){return this}}const bh={setInterval(v,D,...x){const{delegate:j}=bh;return j?.setInterval?j.setInterval(v,D,...x):setInterval(v,D,...x)},clearInterval(v){const{delegate:D}=bh;return(D?.clearInterval||clearInterval)(v)},delegate:void 0};var Uc=H(7908);class Sw extends Aw{constructor(D,x){super(D,x),this.scheduler=D,this.work=x,this.pending=!1}schedule(D,x=0){var j;if(this.closed)return this;this.state=D;const Q=this.id,ne=this.scheduler;return null!=Q&&(this.id=this.recycleAsyncId(ne,Q,x)),this.pending=!0,this.delay=x,this.id=null!==(j=this.id)&&void 0!==j?j:this.requestAsyncId(ne,this.id,x),this}requestAsyncId(D,x,j=0){return bh.setInterval(D.flush.bind(D,this),j)}recycleAsyncId(D,x,j=0){if(null!=j&&this.delay===j&&!1===this.pending)return x;null!=x&&bh.clearInterval(x)}execute(D,x){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const j=this._execute(D,x);if(j)return j;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(D,x){let Q,j=!1;try{this.work(D)}catch(ne){j=!0,Q=ne||new Error("Scheduled action threw falsy error")}if(j)return this.unsubscribe(),Q}unsubscribe(){if(!this.closed){const{id:D,scheduler:x}=this,{actions:j}=x;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Uc.o)(j,this),null!=D&&(this.id=this.recycleAsyncId(x,D,null)),this.delay=null,super.unsubscribe()}}}const Vl={now:()=>(Vl.delegate||Date).now(),delegate:void 0};class Ah{constructor(D,x=Ah.now){this.schedulerActionCtor=D,this.now=x}schedule(D,x=0,j){return new this.schedulerActionCtor(this,D).schedule(j,x)}}Ah.now=Vl.now;class My extends Ah{constructor(D,x=Ah.now){super(D,x),this.actions=[],this._active=!1}flush(D){const{actions:x}=this;if(this._active)return void x.push(D);let j;this._active=!0;do{if(j=D.execute(D.state,D.delay))break}while(D=x.shift());if(this._active=!1,j){for(;D=x.shift();)D.unsubscribe();throw j}}}const Bl=new class Vc extends My{}(class Sy extends Sw{constructor(D,x){super(D,x),this.scheduler=D,this.work=x}schedule(D,x=0){return x>0?super.schedule(D,x):(this.delay=x,this.state=D,this.scheduler.flush(this),this)}execute(D,x){return x>0||this.closed?super.execute(D,x):this._execute(D,x)}requestAsyncId(D,x,j=0){return null!=j&&j>0||null==j&&this.delay>0?super.requestAsyncId(D,x,j):(D.flush(this),0)}}),$u=new My(Sw);var Hu=H(1985),Rp=H(8141),Sh=H(6745),Mh=H(941);const Op=new C.RxE("7.6.1"),us="__angularfire_symbol__analyticsIsSupportedValue",xh="__angularfire_symbol__analyticsIsSupported",zu="__angularfire_symbol__remoteConfigIsSupportedValue",Ja="__angularfire_symbol__remoteConfigIsSupported",$l="__angularfire_symbol__messagingIsSupportedValue",Gu="__angularfire_symbol__messagingIsSupported";function Nh(v,D,x){if(D){if(1===D.length)return D[0];const ne=D.filter(ve=>ve.app===x);if(1===ne.length)return ne[0]}return x.container.getProvider(v).getImmediate({optional:!0})}globalThis[xh]||(globalThis[xh]=Ih().then(v=>globalThis[us]=v).catch(()=>globalThis[us]=!1)),globalThis[Gu]||(globalThis[Gu]=Uo().then(v=>globalThis[$l]=v).catch(()=>globalThis[$l]=!1)),globalThis[Ja]||(globalThis[Ja]=Fr().then(v=>globalThis[zu]=v).catch(()=>globalThis[zu]=!1));const Pp=(v,D)=>{const x=D?[D]:(0,Z.Dk)(),j=[];return x.forEach(Q=>{Q.container.getProvider(v).instances.forEach(ve=>{j.includes(ve)||j.push(ve)})}),j};function $o(){}class jc{constructor(D,x=Bl){this.zone=D,this.delegate=x}now(){return this.delegate.now()}schedule(D,x,j){const Q=this.zone;return this.delegate.schedule(function(ve){Q.runGuarded(()=>{D.apply(this,[ve])})},x,j)}}class eu{constructor(D){this.zone=D,this.task=null}call(D,x){const j=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",$o,{},$o,$o)),x.pipe((0,Rp.M)({next:j,complete:j,error:j})).subscribe(D).add(j)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Ry=(()=>{class v{constructor(x){this.ngZone=x,this.outsideAngular=x.runOutsideAngular(()=>new jc(Zone.current)),this.insideAngular=x.run(()=>new jc(Zone.current,$u)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return v.\u0275fac=function(x){return new(x||v)(C.KVO(C.SKi))},v.\u0275prov=C.jDH({token:v,factory:v.\u0275fac,providedIn:"root"}),v})();function Ia(){const v=globalThis.\u0275AngularFireScheduler;if(!v)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return v}function Ks(v){return Ia().ngZone.run(()=>v())}function Rh(v){return Ia(),function Fp(v){return function(x){return(x=x.lift(new eu(v.ngZone))).pipe((0,Sh._)(v.outsideAngular),(0,Mh.Q)(v.insideAngular))}}(Ia())(v)}const Oh=(v,D)=>function(){const j=arguments;return D&&setTimeout(()=>{"scheduled"===D.state&&D.invoke()},10),Ks(()=>v.apply(void 0,j))},Oy=(v,D)=>function(){let x;const j=arguments;for(let ne=0;ne<arguments.length;ne++)"function"==typeof j[ne]&&(D&&(x||(x=Ks(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",$o,{},$o,$o)))),j[ne]=Oh(j[ne],x));const Q=function Lp(v){return Ia().ngZone.runOutsideAngular(()=>v())}(()=>v.apply(this,j));if(!D){if(Q instanceof Hu.c){const ne=Ia();return Q.pipe((0,Sh._)(ne.outsideAngular),(0,Mh.Q)(ne.insideAngular))}return Ks(()=>Q)}return Q instanceof Hu.c?Q.pipe(Rh):Q instanceof Promise?Ks(()=>new Promise((ne,ve)=>Q.then(ze=>Ks(()=>ne(ze)),ze=>Ks(()=>ve(ze))))):"function"==typeof Q&&x?function(){return setTimeout(()=>{x&&"scheduled"===x.state&&x.invoke()},10),Q.apply(this,arguments)}:Ks(()=>Q)}},1401:(It,Ne,H)=>{H.d(Ne,{Am:()=>Jt,FA:()=>me,Fy:()=>Ye,K3:()=>J,Ku:()=>pi,T9:()=>De,Uj:()=>Te,XA:()=>Re,ZQ:()=>at,bD:()=>vr,cY:()=>be,dM:()=>se,eX:()=>Vi,g:()=>ue,jZ:()=>Ge,lV:()=>Be,nr:()=>bt,p9:()=>Et,sr:()=>Ln,tD:()=>xn,u:()=>X,yU:()=>yn,zW:()=>zr});const le=function(q){const L=[];let U=0;for(let F=0;F<q.length;F++){let B=q.charCodeAt(F);B<128?L[U++]=B:B<2048?(L[U++]=B>>6|192,L[U++]=63&B|128):55296==(64512&B)&&F+1<q.length&&56320==(64512&q.charCodeAt(F+1))?(B=65536+((1023&B)<<10)+(1023&q.charCodeAt(++F)),L[U++]=B>>18|240,L[U++]=B>>12&63|128,L[U++]=B>>6&63|128,L[U++]=63&B|128):(L[U++]=B>>12|224,L[U++]=B>>6&63|128,L[U++]=63&B|128)}return L},J={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(q,L){if(!Array.isArray(q))throw Error("encodeByteArray takes an array as a parameter");this.init_();const U=L?this.byteToCharMapWebSafe_:this.byteToCharMap_,F=[];for(let B=0;B<q.length;B+=3){const re=q[B],Se=B+1<q.length,Ke=Se?q[B+1]:0,At=B+2<q.length,Tt=At?q[B+2]:0;let Bn=(15&Ke)<<2|Tt>>6,Pr=63&Tt;At||(Pr=64,Se||(Bn=64)),F.push(U[re>>2],U[(3&re)<<4|Ke>>4],U[Bn],U[Pr])}return F.join("")},encodeString(q,L){return this.HAS_NATIVE_SUPPORT&&!L?btoa(q):this.encodeByteArray(le(q),L)},decodeString(q,L){return this.HAS_NATIVE_SUPPORT&&!L?atob(q):function(q){const L=[];let U=0,F=0;for(;U<q.length;){const B=q[U++];if(B<128)L[F++]=String.fromCharCode(B);else if(B>191&&B<224){const re=q[U++];L[F++]=String.fromCharCode((31&B)<<6|63&re)}else if(B>239&&B<365){const At=((7&B)<<18|(63&q[U++])<<12|(63&q[U++])<<6|63&q[U++])-65536;L[F++]=String.fromCharCode(55296+(At>>10)),L[F++]=String.fromCharCode(56320+(1023&At))}else{const re=q[U++],Se=q[U++];L[F++]=String.fromCharCode((15&B)<<12|(63&re)<<6|63&Se)}}return L.join("")}(this.decodeStringToByteArray(q,L))},decodeStringToByteArray(q,L){this.init_();const U=L?this.charToByteMapWebSafe_:this.charToByteMap_,F=[];for(let B=0;B<q.length;){const re=U[q.charAt(B++)],Ke=B<q.length?U[q.charAt(B)]:0;++B;const Tt=B<q.length?U[q.charAt(B)]:64;++B;const Ft=B<q.length?U[q.charAt(B)]:64;if(++B,null==re||null==Ke||null==Tt||null==Ft)throw new Ee;F.push(re<<2|Ke>>4),64!==Tt&&(F.push(Ke<<4&240|Tt>>2),64!==Ft&&F.push(Tt<<6&192|Ft))}return F},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let q=0;q<this.ENCODED_VALS.length;q++)this.byteToCharMap_[q]=this.ENCODED_VALS.charAt(q),this.charToByteMap_[this.byteToCharMap_[q]]=q,this.byteToCharMapWebSafe_[q]=this.ENCODED_VALS_WEBSAFE.charAt(q),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[q]]=q,q>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(q)]=q,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(q)]=q)}}};class Ee extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Te=function(q){return function(q){const L=le(q);return J.encodeByteArray(L,!0)}(q).replace(/\./g,"")},X=function(q){try{return J.decodeString(q,!0)}catch(L){console.error("base64Decode failed: ",L)}return null},Ct=()=>{try{return function Ae(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const q=process.env.__FIREBASE_DEFAULTS__;return q?JSON.parse(q):void 0})()||(()=>{if(typeof document>"u")return;let q;try{q=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const L=q&&X(q[1]);return L&&JSON.parse(L)})()}catch(q){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${q}`)}},yn=q=>{const L=(q=>{var L,U;return null===(U=null===(L=Ct())||void 0===L?void 0:L.emulatorHosts)||void 0===U?void 0:U[q]})(q);if(!L)return;const U=L.lastIndexOf(":");if(U<=0||U+1===L.length)throw new Error(`Invalid host ${L} with no separate hostname and port!`);const F=parseInt(L.substring(U+1),10);return"["===L[0]?[L.substring(1,U-1),F]:[L.substring(0,U),F]},De=()=>{var q;return null===(q=Ct())||void 0===q?void 0:q.config},Re=q=>{var L;return null===(L=Ct())||void 0===L?void 0:L[`_${q}`]};class be{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((L,U)=>{this.resolve=L,this.reject=U})}wrapCallback(L){return(U,F)=>{U?this.reject(U):this.resolve(F),"function"==typeof L&&(this.promise.catch(()=>{}),1===L.length?L(U):L(U,F))}}}function Ye(q,L){if(q.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const F=L||"demo-project",B=q.iat||0,re=q.sub||q.user_id;if(!re)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Se=Object.assign({iss:`https://securetoken.google.com/${F}`,aud:F,iat:B,exp:B+3600,auth_time:B,sub:re,user_id:re,firebase:{sign_in_provider:"custom",identities:{}}},q);return[Te(JSON.stringify({alg:"none",type:"JWT"})),Te(JSON.stringify(Se)),""].join(".")}function at(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ge(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(at())}function Ln(){const q="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof q&&void 0!==q.id}function Be(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function bt(){return!function $e(){var q;const L=null===(q=Ct())||void 0===q?void 0:q.forceEnvironment;if("node"===L)return!0;if("browser"===L)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function zr(){try{return"object"==typeof indexedDB}catch{return!1}}function Vi(){return new Promise((q,L)=>{try{let U=!0;const F="validate-browser-context-for-indexeddb-analytics-module",B=self.indexedDB.open(F);B.onsuccess=()=>{B.result.close(),U||self.indexedDB.deleteDatabase(F),q(!0)},B.onupgradeneeded=()=>{U=!1},B.onerror=()=>{var re;L((null===(re=B.error)||void 0===re?void 0:re.message)||"")}}catch(U){L(U)}})}function se(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class ue extends Error{constructor(L,U,F){super(U),this.code=L,this.customData=F,this.name="FirebaseError",Object.setPrototypeOf(this,ue.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,me.prototype.create)}}class me{constructor(L,U,F){this.service=L,this.serviceName=U,this.errors=F}create(L,...U){const F=U[0]||{},B=`${this.service}/${L}`,re=this.errors[L],Se=re?function Oe(q,L){return q.replace(Ie,(U,F)=>{const B=L[F];return null!=B?String(B):`<${F}?>`})}(re,F):"Error";return new ue(B,`${this.serviceName}: ${Se} (${B}).`,F)}}const Ie=/\{\$([^}]+)}/g;function vr(q,L){if(q===L)return!0;const U=Object.keys(q),F=Object.keys(L);for(const B of U){if(!F.includes(B))return!1;const re=q[B],Se=L[B];if(_t(re)&&_t(Se)){if(!vr(re,Se))return!1}else if(re!==Se)return!1}for(const B of F)if(!U.includes(B))return!1;return!0}function _t(q){return null!==q&&"object"==typeof q}function Jt(q){const L=[];for(const[U,F]of Object.entries(q))Array.isArray(F)?F.forEach(B=>{L.push(encodeURIComponent(U)+"="+encodeURIComponent(B))}):L.push(encodeURIComponent(U)+"="+encodeURIComponent(F));return L.length?"&"+L.join("&"):""}function xn(q,L){const U=new lr(q,L);return U.subscribe.bind(U)}class lr{constructor(L,U){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=U,this.task.then(()=>{L(this)}).catch(F=>{this.error(F)})}next(L){this.forEachObserver(U=>{U.next(L)})}error(L){this.forEachObserver(U=>{U.error(L)}),this.close(L)}complete(){this.forEachObserver(L=>{L.complete()}),this.close()}subscribe(L,U,F){let B;if(void 0===L&&void 0===U&&void 0===F)throw new Error("Missing Observer.");B=function Wn(q,L){if("object"!=typeof q||null===q)return!1;for(const U of L)if(U in q&&"function"==typeof q[U])return!0;return!1}(L,["next","error","complete"])?L:{next:L,error:U,complete:F},void 0===B.next&&(B.next=hn),void 0===B.error&&(B.error=hn),void 0===B.complete&&(B.complete=hn);const re=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?B.error(this.finalError):B.complete()}catch{}}),this.observers.push(B),re}unsubscribeOne(L){void 0===this.observers||void 0===this.observers[L]||(delete this.observers[L],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(L){if(!this.finalized)for(let U=0;U<this.observers.length;U++)this.sendOne(U,L)}sendOne(L,U){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[L])try{U(this.observers[L])}catch(F){typeof console<"u"&&console.error&&console.error(F)}})}close(L){this.finalized||(this.finalized=!0,void 0!==L&&(this.finalError=L),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function hn(){}const ii=1e3,gt=2,Ar=144e5,Or=.5;function Et(q,L=ii,U=gt){const F=L*Math.pow(U,q),B=Math.round(Or*F*(Math.random()-.5)*2);return Math.min(Ar,F+B)}function pi(q){return q&&q._delegate?q._delegate:q}},226:(It,Ne,H)=>{var C=H(345),Z=H(6143),te=H(540);const le=[{path:"",redirectTo:"auth/login",pathMatch:"full"},{path:"auth",loadChildren:()=>Promise.all([H.e(341),H.e(155)]).then(H.bind(H,8155)).then(K=>K.AuthModule)},{path:"dashboard",loadChildren:()=>Promise.all([H.e(341),H.e(156)]).then(H.bind(H,9156)).then(K=>K.DashboardModule)}];let V=(()=>{class K{static{this.\u0275fac=function(Ae){return new(Ae||K)}}static{this.\u0275mod=te.$C({type:K})}static{this.\u0275inj=te.G2t({imports:[Z.iI.forRoot(le),Z.iI]})}}return K})(),J=(()=>{class K{constructor(){this.title="coop-app"}static{this.\u0275fac=function(Ae){return new(Ae||K)}}static{this.\u0275cmp=te.VBU({type:K,selectors:[["app-root"]],decls:1,vars:0,template:function(Ae,nt){1&Ae&&te.nrm(0,"router-outlet")},dependencies:[Z.n3]})}}return K})();const Ee_firebase={apiKey:"AIzaSyCbw8b_ag8QyunuIJIXl24SCepm439uzVU",authDomain:"coop-pro.firebaseapp.com",projectId:"coop-pro",storageBucket:"coop-pro.firebasestorage.app",messagingSenderId:"770543345465",appId:"1:770543345465:web:33089459f3d6eba9b992e8",measurementId:"G-T4463ZST23"};var qe=H(8934),Te=H(5510);let X=(()=>{class K{static{this.\u0275fac=function(Ae){return new(Ae||K)}}static{this.\u0275mod=te.$C({type:K,bootstrap:[J]})}static{this.\u0275inj=te.G2t({imports:[C.Bb,V,(0,qe.MW)(()=>(0,qe.Wp)(Ee_firebase)),(0,Te.hV)(()=>(0,Te.aU)())]})}}return K})();C.sG().bootstrapModule(X).catch(K=>console.error(K))},4412:(It,Ne,H)=>{H.d(Ne,{t:()=>Z});var C=H(1413);class Z extends C.B{constructor(le){super(),this._value=le}get value(){return this.getValue()}_subscribe(le){const V=super._subscribe(le);return!V.closed&&le.next(this._value),V}getValue(){const{hasError:le,thrownError:V,_value:J}=this;if(le)throw V;return this._throwIfClosed(),J}next(le){super.next(this._value=le)}}},1985:(It,Ne,H)=>{H.d(Ne,{c:()=>qe});var C=H(7707),Z=H(8359),te=H(3494),le=H(1203),V=H(1026),J=H(8071),Ee=H(9786);let qe=(()=>{class pe{constructor(Ae){Ae&&(this._subscribe=Ae)}lift(Ae){const nt=new pe;return nt.source=this,nt.operator=Ae,nt}subscribe(Ae,nt,Gt){const Dt=function K(pe){return pe&&pe instanceof C.vU||function X(pe){return pe&&(0,J.T)(pe.next)&&(0,J.T)(pe.error)&&(0,J.T)(pe.complete)}(pe)&&(0,Z.Uv)(pe)}(Ae)?Ae:new C.Ms(Ae,nt,Gt);return(0,Ee.Y)(()=>{const{operator:Ct,source:pn}=this;Dt.add(Ct?Ct.call(Dt,pn):pn?this._subscribe(Dt):this._trySubscribe(Dt))}),Dt}_trySubscribe(Ae){try{return this._subscribe(Ae)}catch(nt){Ae.error(nt)}}forEach(Ae,nt){return new(nt=Te(nt))((Gt,Dt)=>{const Ct=new C.Ms({next:pn=>{try{Ae(pn)}catch(yn){Dt(yn),Ct.unsubscribe()}},error:Dt,complete:Gt});this.subscribe(Ct)})}_subscribe(Ae){var nt;return null===(nt=this.source)||void 0===nt?void 0:nt.subscribe(Ae)}[te.s](){return this}pipe(...Ae){return(0,le.m)(Ae)(this)}toPromise(Ae){return new(Ae=Te(Ae))((nt,Gt)=>{let Dt;this.subscribe(Ct=>Dt=Ct,Ct=>Gt(Ct),()=>nt(Dt))})}}return pe.create=Le=>new pe(Le),pe})();function Te(pe){var Le;return null!==(Le=pe??V.$.Promise)&&void 0!==Le?Le:Promise}},1413:(It,Ne,H)=>{H.d(Ne,{B:()=>Ee});var C=H(1985),Z=H(8359);const le=(0,H(1853).L)(Te=>function(){Te(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var V=H(7908),J=H(9786);let Ee=(()=>{class Te extends C.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(K){const pe=new qe(this,this);return pe.operator=K,pe}_throwIfClosed(){if(this.closed)throw new le}next(K){(0,J.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const pe of this.currentObservers)pe.next(K)}})}error(K){(0,J.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=K;const{observers:pe}=this;for(;pe.length;)pe.shift().error(K)}})}complete(){(0,J.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:K}=this;for(;K.length;)K.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var K;return(null===(K=this.observers)||void 0===K?void 0:K.length)>0}_trySubscribe(K){return this._throwIfClosed(),super._trySubscribe(K)}_subscribe(K){return this._throwIfClosed(),this._checkFinalizedStatuses(K),this._innerSubscribe(K)}_innerSubscribe(K){const{hasError:pe,isStopped:Le,observers:Ae}=this;return pe||Le?Z.Kn:(this.currentObservers=null,Ae.push(K),new Z.yU(()=>{this.currentObservers=null,(0,V.o)(Ae,K)}))}_checkFinalizedStatuses(K){const{hasError:pe,thrownError:Le,isStopped:Ae}=this;pe?K.error(Le):Ae&&K.complete()}asObservable(){const K=new C.c;return K.source=this,K}}return Te.create=(X,K)=>new qe(X,K),Te})();class qe extends Ee{constructor(X,K){super(),this.destination=X,this.source=K}next(X){var K,pe;null===(pe=null===(K=this.destination)||void 0===K?void 0:K.next)||void 0===pe||pe.call(K,X)}error(X){var K,pe;null===(pe=null===(K=this.destination)||void 0===K?void 0:K.error)||void 0===pe||pe.call(K,X)}complete(){var X,K;null===(K=null===(X=this.destination)||void 0===X?void 0:X.complete)||void 0===K||K.call(X)}_subscribe(X){var K,pe;return null!==(pe=null===(K=this.source)||void 0===K?void 0:K.subscribe(X))&&void 0!==pe?pe:Z.Kn}}},7707:(It,Ne,H)=>{H.d(Ne,{Ms:()=>Gt,vU:()=>pe});var C=H(8071),Z=H(8359),te=H(1026),le=H(5334),V=H(5343);const J=Te("C",void 0,void 0);function Te(De,Re,be){return{kind:De,value:Re,error:be}}var X=H(9270),K=H(9786);class pe extends Z.yU{constructor(Re){super(),this.isStopped=!1,Re?(this.destination=Re,(0,Z.Uv)(Re)&&Re.add(this)):this.destination=yn}static create(Re,be,Ye){return new Gt(Re,be,Ye)}next(Re){this.isStopped?pn(function qe(De){return Te("N",De,void 0)}(Re),this):this._next(Re)}error(Re){this.isStopped?pn(function Ee(De){return Te("E",void 0,De)}(Re),this):(this.isStopped=!0,this._error(Re))}complete(){this.isStopped?pn(J,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Re){this.destination.next(Re)}_error(Re){try{this.destination.error(Re)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Le=Function.prototype.bind;function Ae(De,Re){return Le.call(De,Re)}class nt{constructor(Re){this.partialObserver=Re}next(Re){const{partialObserver:be}=this;if(be.next)try{be.next(Re)}catch(Ye){Dt(Ye)}}error(Re){const{partialObserver:be}=this;if(be.error)try{be.error(Re)}catch(Ye){Dt(Ye)}else Dt(Re)}complete(){const{partialObserver:Re}=this;if(Re.complete)try{Re.complete()}catch(be){Dt(be)}}}class Gt extends pe{constructor(Re,be,Ye){let at;if(super(),(0,C.T)(Re)||!Re)at={next:Re??void 0,error:be??void 0,complete:Ye??void 0};else{let Ge;this&&te.$.useDeprecatedNextContext?(Ge=Object.create(Re),Ge.unsubscribe=()=>this.unsubscribe(),at={next:Re.next&&Ae(Re.next,Ge),error:Re.error&&Ae(Re.error,Ge),complete:Re.complete&&Ae(Re.complete,Ge)}):at=Re}this.destination=new nt(at)}}function Dt(De){te.$.useDeprecatedSynchronousErrorHandling?(0,K.l)(De):(0,le.m)(De)}function pn(De,Re){const{onStoppedNotification:be}=te.$;be&&X.f.setTimeout(()=>be(De,Re))}const yn={closed:!0,next:V.l,error:function Ct(De){throw De},complete:V.l}},8359:(It,Ne,H)=>{H.d(Ne,{Kn:()=>J,yU:()=>V,Uv:()=>Ee});var C=H(8071);const te=(0,H(1853).L)(Te=>function(K){Te(this),this.message=K?`${K.length} errors occurred during unsubscription:\n${K.map((pe,Le)=>`${Le+1}) ${pe.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=K});var le=H(7908);class V{constructor(X){this.initialTeardown=X,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let X;if(!this.closed){this.closed=!0;const{_parentage:K}=this;if(K)if(this._parentage=null,Array.isArray(K))for(const Ae of K)Ae.remove(this);else K.remove(this);const{initialTeardown:pe}=this;if((0,C.T)(pe))try{pe()}catch(Ae){X=Ae instanceof te?Ae.errors:[Ae]}const{_finalizers:Le}=this;if(Le){this._finalizers=null;for(const Ae of Le)try{qe(Ae)}catch(nt){X=X??[],nt instanceof te?X=[...X,...nt.errors]:X.push(nt)}}if(X)throw new te(X)}}add(X){var K;if(X&&X!==this)if(this.closed)qe(X);else{if(X instanceof V){if(X.closed||X._hasParent(this))return;X._addParent(this)}(this._finalizers=null!==(K=this._finalizers)&&void 0!==K?K:[]).push(X)}}_hasParent(X){const{_parentage:K}=this;return K===X||Array.isArray(K)&&K.includes(X)}_addParent(X){const{_parentage:K}=this;this._parentage=Array.isArray(K)?(K.push(X),K):K?[K,X]:X}_removeParent(X){const{_parentage:K}=this;K===X?this._parentage=null:Array.isArray(K)&&(0,le.o)(K,X)}remove(X){const{_finalizers:K}=this;K&&(0,le.o)(K,X),X instanceof V&&X._removeParent(this)}}V.EMPTY=(()=>{const Te=new V;return Te.closed=!0,Te})();const J=V.EMPTY;function Ee(Te){return Te instanceof V||Te&&"closed"in Te&&(0,C.T)(Te.remove)&&(0,C.T)(Te.add)&&(0,C.T)(Te.unsubscribe)}function qe(Te){(0,C.T)(Te)?Te():Te.unsubscribe()}},1026:(It,Ne,H)=>{H.d(Ne,{$:()=>C});const C={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},983:(It,Ne,H)=>{H.d(Ne,{w:()=>Z});const Z=new(H(1985).c)(V=>V.complete())},8455:(It,Ne,H)=>{H.d(Ne,{H:()=>Re});var C=H(8750),Z=H(941),te=H(6745),J=H(1985),qe=H(4761),Te=H(8071),X=H(5225);function pe(be,Ye){if(!be)throw new Error("Iterable cannot be null");return new J.c(at=>{(0,X.N)(at,Ye,()=>{const Ge=be[Symbol.asyncIterator]();(0,X.N)(at,Ye,()=>{Ge.next().then($e=>{$e.done?at.complete():at.next($e.value)})},0,!0)})})}var Le=H(5055),Ae=H(9858),nt=H(7441),Gt=H(5397),Dt=H(7953),Ct=H(591),pn=H(5196);function Re(be,Ye){return Ye?function De(be,Ye){if(null!=be){if((0,Le.l)(be))return function le(be,Ye){return(0,C.Tg)(be).pipe((0,te._)(Ye),(0,Z.Q)(Ye))}(be,Ye);if((0,nt.X)(be))return function Ee(be,Ye){return new J.c(at=>{let Ge=0;return Ye.schedule(function(){Ge===be.length?at.complete():(at.next(be[Ge++]),at.closed||this.schedule())})})}(be,Ye);if((0,Ae.y)(be))return function V(be,Ye){return(0,C.Tg)(be).pipe((0,te._)(Ye),(0,Z.Q)(Ye))}(be,Ye);if((0,Dt.T)(be))return pe(be,Ye);if((0,Gt.x)(be))return function K(be,Ye){return new J.c(at=>{let Ge;return(0,X.N)(at,Ye,()=>{Ge=be[qe.l](),(0,X.N)(at,Ye,()=>{let $e,Bt;try{({value:$e,done:Bt}=Ge.next())}catch(Ln){return void at.error(Ln)}Bt?at.complete():at.next($e)},0,!0)}),()=>(0,Te.T)(Ge?.return)&&Ge.return()})}(be,Ye);if((0,pn.U)(be))return function yn(be,Ye){return pe((0,pn.C)(be),Ye)}(be,Ye)}throw(0,Ct.L)(be)}(be,Ye):(0,C.Tg)(be)}},8750:(It,Ne,H)=>{H.d(Ne,{Tg:()=>Le});var C=H(1635),Z=H(7441),te=H(9858),le=H(1985),V=H(5055),J=H(7953),Ee=H(591),qe=H(5397),Te=H(5196),X=H(8071),K=H(5334),pe=H(3494);function Le(De){if(De instanceof le.c)return De;if(null!=De){if((0,V.l)(De))return function Ae(De){return new le.c(Re=>{const be=De[pe.s]();if((0,X.T)(be.subscribe))return be.subscribe(Re);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(De);if((0,Z.X)(De))return function nt(De){return new le.c(Re=>{for(let be=0;be<De.length&&!Re.closed;be++)Re.next(De[be]);Re.complete()})}(De);if((0,te.y)(De))return function Gt(De){return new le.c(Re=>{De.then(be=>{Re.closed||(Re.next(be),Re.complete())},be=>Re.error(be)).then(null,K.m)})}(De);if((0,J.T)(De))return Ct(De);if((0,qe.x)(De))return function Dt(De){return new le.c(Re=>{for(const be of De)if(Re.next(be),Re.closed)return;Re.complete()})}(De);if((0,Te.U)(De))return function pn(De){return Ct((0,Te.C)(De))}(De)}throw(0,Ee.L)(De)}function Ct(De){return new le.c(Re=>{(function yn(De,Re){var be,Ye,at,Ge;return(0,C.sH)(this,void 0,void 0,function*(){try{for(be=(0,C.xN)(De);!(Ye=yield be.next()).done;)if(Re.next(Ye.value),Re.closed)return}catch($e){at={error:$e}}finally{try{Ye&&!Ye.done&&(Ge=be.return)&&(yield Ge.call(be))}finally{if(at)throw at.error}}Re.complete()})})(De,Re).catch(be=>Re.error(be))})}},7673:(It,Ne,H)=>{H.d(Ne,{of:()=>te});var C=H(3794),Z=H(8455);function te(...le){const V=(0,C.lI)(le);return(0,Z.H)(le,V)}},4360:(It,Ne,H)=>{H.d(Ne,{_:()=>Z});var C=H(7707);function Z(le,V,J,Ee,qe){return new te(le,V,J,Ee,qe)}class te extends C.vU{constructor(V,J,Ee,qe,Te,X){super(V),this.onFinalize=Te,this.shouldUnsubscribe=X,this._next=J?function(K){try{J(K)}catch(pe){V.error(pe)}}:super._next,this._error=qe?function(K){try{qe(K)}catch(pe){V.error(pe)}finally{this.unsubscribe()}}:super._error,this._complete=Ee?function(){try{Ee()}catch(K){V.error(K)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var V;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:J}=this;super.unsubscribe(),!J&&(null===(V=this.onFinalize)||void 0===V||V.call(this))}}}},6354:(It,Ne,H)=>{H.d(Ne,{T:()=>te});var C=H(9974),Z=H(4360);function te(le,V){return(0,C.N)((J,Ee)=>{let qe=0;J.subscribe((0,Z._)(Ee,Te=>{Ee.next(le.call(V,Te,qe++))}))})}},6365:(It,Ne,H)=>{H.d(Ne,{U:()=>te});var C=H(1397),Z=H(3669);function te(le=1/0){return(0,C.Z)(Z.D,le)}},1397:(It,Ne,H)=>{H.d(Ne,{Z:()=>qe});var C=H(6354),Z=H(8750),te=H(9974),le=H(5225),V=H(4360),Ee=H(8071);function qe(Te,X,K=1/0){return(0,Ee.T)(X)?qe((pe,Le)=>(0,C.T)((Ae,nt)=>X(pe,Ae,Le,nt))((0,Z.Tg)(Te(pe,Le))),K):("number"==typeof X&&(K=X),(0,te.N)((pe,Le)=>function J(Te,X,K,pe,Le,Ae,nt,Gt){const Dt=[];let Ct=0,pn=0,yn=!1;const De=()=>{yn&&!Dt.length&&!Ct&&X.complete()},Re=Ye=>Ct<pe?be(Ye):Dt.push(Ye),be=Ye=>{Ae&&X.next(Ye),Ct++;let at=!1;(0,Z.Tg)(K(Ye,pn++)).subscribe((0,V._)(X,Ge=>{Le?.(Ge),Ae?Re(Ge):X.next(Ge)},()=>{at=!0},void 0,()=>{if(at)try{for(Ct--;Dt.length&&Ct<pe;){const Ge=Dt.shift();nt?(0,le.N)(X,nt,()=>be(Ge)):be(Ge)}De()}catch(Ge){X.error(Ge)}}))};return Te.subscribe((0,V._)(X,Re,()=>{yn=!0,De()})),()=>{Gt?.()}}(pe,Le,Te,K)))}},941:(It,Ne,H)=>{H.d(Ne,{Q:()=>le});var C=H(5225),Z=H(9974),te=H(4360);function le(V,J=0){return(0,Z.N)((Ee,qe)=>{Ee.subscribe((0,te._)(qe,Te=>(0,C.N)(qe,V,()=>qe.next(Te),J),()=>(0,C.N)(qe,V,()=>qe.complete(),J),Te=>(0,C.N)(qe,V,()=>qe.error(Te),J)))})}},6745:(It,Ne,H)=>{H.d(Ne,{_:()=>Z});var C=H(9974);function Z(te,le=0){return(0,C.N)((V,J)=>{J.add(te.schedule(()=>V.subscribe(J),le))})}},5558:(It,Ne,H)=>{H.d(Ne,{n:()=>le});var C=H(8750),Z=H(9974),te=H(4360);function le(V,J){return(0,Z.N)((Ee,qe)=>{let Te=null,X=0,K=!1;const pe=()=>K&&!Te&&qe.complete();Ee.subscribe((0,te._)(qe,Le=>{Te?.unsubscribe();let Ae=0;const nt=X++;(0,C.Tg)(V(Le,nt)).subscribe(Te=(0,te._)(qe,Gt=>qe.next(J?J(Le,Gt,nt,Ae++):Gt),()=>{Te=null,pe()}))},()=>{K=!0,pe()}))})}},8141:(It,Ne,H)=>{H.d(Ne,{M:()=>V});var C=H(8071),Z=H(9974),te=H(4360),le=H(3669);function V(J,Ee,qe){const Te=(0,C.T)(J)||Ee||qe?{next:J,error:Ee,complete:qe}:J;return Te?(0,Z.N)((X,K)=>{var pe;null===(pe=Te.subscribe)||void 0===pe||pe.call(Te);let Le=!0;X.subscribe((0,te._)(K,Ae=>{var nt;null===(nt=Te.next)||void 0===nt||nt.call(Te,Ae),K.next(Ae)},()=>{var Ae;Le=!1,null===(Ae=Te.complete)||void 0===Ae||Ae.call(Te),K.complete()},Ae=>{var nt;Le=!1,null===(nt=Te.error)||void 0===nt||nt.call(Te,Ae),K.error(Ae)},()=>{var Ae,nt;Le&&(null===(Ae=Te.unsubscribe)||void 0===Ae||Ae.call(Te)),null===(nt=Te.finalize)||void 0===nt||nt.call(Te)}))}):le.D}},9270:(It,Ne,H)=>{H.d(Ne,{f:()=>C});const C={setTimeout(Z,te,...le){const{delegate:V}=C;return V?.setTimeout?V.setTimeout(Z,te,...le):setTimeout(Z,te,...le)},clearTimeout(Z){const{delegate:te}=C;return(te?.clearTimeout||clearTimeout)(Z)},delegate:void 0}},4761:(It,Ne,H)=>{H.d(Ne,{l:()=>Z});const Z=function C(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3494:(It,Ne,H)=>{H.d(Ne,{s:()=>C});const C="function"==typeof Symbol&&Symbol.observable||"@@observable"},3794:(It,Ne,H)=>{H.d(Ne,{R0:()=>J,ms:()=>le,lI:()=>V});var C=H(8071);function te(Ee){return Ee[Ee.length-1]}function le(Ee){return(0,C.T)(te(Ee))?Ee.pop():void 0}function V(Ee){return function Z(Ee){return Ee&&(0,C.T)(Ee.schedule)}(te(Ee))?Ee.pop():void 0}function J(Ee,qe){return"number"==typeof te(Ee)?Ee.pop():qe}},3073:(It,Ne,H)=>{H.d(Ne,{D:()=>V});const{isArray:C}=Array,{getPrototypeOf:Z,prototype:te,keys:le}=Object;function V(Ee){if(1===Ee.length){const qe=Ee[0];if(C(qe))return{args:qe,keys:null};if(function J(Ee){return Ee&&"object"==typeof Ee&&Z(Ee)===te}(qe)){const Te=le(qe);return{args:Te.map(X=>qe[X]),keys:Te}}}return{args:Ee,keys:null}}},7908:(It,Ne,H)=>{function C(Z,te){if(Z){const le=Z.indexOf(te);0<=le&&Z.splice(le,1)}}H.d(Ne,{o:()=>C})},1853:(It,Ne,H)=>{function C(Z){const le=Z(V=>{Error.call(V),V.stack=(new Error).stack});return le.prototype=Object.create(Error.prototype),le.prototype.constructor=le,le}H.d(Ne,{L:()=>C})},8496:(It,Ne,H)=>{function C(Z,te){return Z.reduce((le,V,J)=>(le[V]=te[J],le),{})}H.d(Ne,{e:()=>C})},9786:(It,Ne,H)=>{H.d(Ne,{Y:()=>te,l:()=>le});var C=H(1026);let Z=null;function te(V){if(C.$.useDeprecatedSynchronousErrorHandling){const J=!Z;if(J&&(Z={errorThrown:!1,error:null}),V(),J){const{errorThrown:Ee,error:qe}=Z;if(Z=null,Ee)throw qe}}else V()}function le(V){C.$.useDeprecatedSynchronousErrorHandling&&Z&&(Z.errorThrown=!0,Z.error=V)}},5225:(It,Ne,H)=>{function C(Z,te,le,V=0,J=!1){const Ee=te.schedule(function(){le(),J?Z.add(this.schedule(null,V)):this.unsubscribe()},V);if(Z.add(Ee),!J)return Ee}H.d(Ne,{N:()=>C})},3669:(It,Ne,H)=>{function C(Z){return Z}H.d(Ne,{D:()=>C})},7441:(It,Ne,H)=>{H.d(Ne,{X:()=>C});const C=Z=>Z&&"number"==typeof Z.length&&"function"!=typeof Z},7953:(It,Ne,H)=>{H.d(Ne,{T:()=>Z});var C=H(8071);function Z(te){return Symbol.asyncIterator&&(0,C.T)(te?.[Symbol.asyncIterator])}},8071:(It,Ne,H)=>{function C(Z){return"function"==typeof Z}H.d(Ne,{T:()=>C})},5055:(It,Ne,H)=>{H.d(Ne,{l:()=>te});var C=H(3494),Z=H(8071);function te(le){return(0,Z.T)(le[C.s])}},5397:(It,Ne,H)=>{H.d(Ne,{x:()=>te});var C=H(4761),Z=H(8071);function te(le){return(0,Z.T)(le?.[C.l])}},9858:(It,Ne,H)=>{H.d(Ne,{y:()=>Z});var C=H(8071);function Z(te){return(0,C.T)(te?.then)}},5196:(It,Ne,H)=>{H.d(Ne,{C:()=>te,U:()=>le});var C=H(1635),Z=H(8071);function te(V){return(0,C.AQ)(this,arguments,function*(){const Ee=V.getReader();try{for(;;){const{value:qe,done:Te}=yield(0,C.N3)(Ee.read());if(Te)return yield(0,C.N3)(void 0);yield yield(0,C.N3)(qe)}}finally{Ee.releaseLock()}})}function le(V){return(0,Z.T)(V?.getReader)}},9974:(It,Ne,H)=>{H.d(Ne,{N:()=>te,S:()=>Z});var C=H(8071);function Z(le){return(0,C.T)(le?.lift)}function te(le){return V=>{if(Z(V))return V.lift(function(J){try{return le(J,this)}catch(Ee){this.error(Ee)}});throw new TypeError("Unable to lift unknown Observable type")}}},6450:(It,Ne,H)=>{H.d(Ne,{I:()=>le});var C=H(6354);const{isArray:Z}=Array;function le(V){return(0,C.T)(J=>function te(V,J){return Z(J)?V(...J):V(J)}(V,J))}},5343:(It,Ne,H)=>{function C(){}H.d(Ne,{l:()=>C})},1203:(It,Ne,H)=>{H.d(Ne,{F:()=>Z,m:()=>te});var C=H(3669);function Z(...le){return te(le)}function te(le){return 0===le.length?C.D:1===le.length?le[0]:function(J){return le.reduce((Ee,qe)=>qe(Ee),J)}}},5334:(It,Ne,H)=>{H.d(Ne,{m:()=>te});var C=H(1026),Z=H(9270);function te(le){Z.f.setTimeout(()=>{const{onUnhandledError:V}=C.$;if(!V)throw le;V(le)})}},591:(It,Ne,H)=>{function C(Z){return new TypeError(`You provided ${null!==Z&&"object"==typeof Z?"an invalid object":`'${Z}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}H.d(Ne,{L:()=>C})},177:(It,Ne,H)=>{H.d(Ne,{AJ:()=>Es,MD:()=>Vs,N0:()=>yi,QT:()=>te,Sm:()=>nt,Sq:()=>_s,VF:()=>V,Vy:()=>Rt,Xr:()=>ar,ZD:()=>le,_b:()=>Ls,aZ:()=>Dt,bT:()=>bo,fw:()=>Gt,hb:()=>Le,hj:()=>qe,qQ:()=>J});var C=H(540);let Z=null;function te(){return Z}function le(_){Z||(Z=_)}class V{}const J=new C.nKC("DocumentToken");let Ee=(()=>{class _{historyGo(b){throw new Error("Not implemented")}static{this.\u0275fac=function(N){return new(N||_)}}static{this.\u0275prov=C.jDH({token:_,factory:function(){return(0,C.WQX)(Te)},providedIn:"platform"})}}return _})();const qe=new C.nKC("Location Initialized");let Te=(()=>{class _ extends Ee{constructor(){super(),this._doc=(0,C.WQX)(J),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return te().getBaseHref(this._doc)}onPopState(b){const N=te().getGlobalEventTarget(this._doc,"window");return N.addEventListener("popstate",b,!1),()=>N.removeEventListener("popstate",b)}onHashChange(b){const N=te().getGlobalEventTarget(this._doc,"window");return N.addEventListener("hashchange",b,!1),()=>N.removeEventListener("hashchange",b)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(b){this._location.pathname=b}pushState(b,N,W){this._history.pushState(b,N,W)}replaceState(b,N,W){this._history.replaceState(b,N,W)}forward(){this._history.forward()}back(){this._history.back()}historyGo(b=0){this._history.go(b)}getState(){return this._history.state}static{this.\u0275fac=function(N){return new(N||_)}}static{this.\u0275prov=C.jDH({token:_,factory:function(){return new _},providedIn:"platform"})}}return _})();function X(_,O){if(0==_.length)return O;if(0==O.length)return _;let b=0;return _.endsWith("/")&&b++,O.startsWith("/")&&b++,2==b?_+O.substring(1):1==b?_+O:_+"/"+O}function K(_){const O=_.match(/#|\?|$/),b=O&&O.index||_.length;return _.slice(0,b-("/"===_[b-1]?1:0))+_.slice(b)}function pe(_){return _&&"?"!==_[0]?"?"+_:_}let Le=(()=>{class _{historyGo(b){throw new Error("Not implemented")}static{this.\u0275fac=function(N){return new(N||_)}}static{this.\u0275prov=C.jDH({token:_,factory:function(){return(0,C.WQX)(nt)},providedIn:"root"})}}return _})();const Ae=new C.nKC("appBaseHref");let nt=(()=>{class _ extends Le{constructor(b,N){super(),this._platformLocation=b,this._removeListenerFns=[],this._baseHref=N??this._platformLocation.getBaseHrefFromDOM()??(0,C.WQX)(J).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(b){this._removeListenerFns.push(this._platformLocation.onPopState(b),this._platformLocation.onHashChange(b))}getBaseHref(){return this._baseHref}prepareExternalUrl(b){return X(this._baseHref,b)}path(b=!1){const N=this._platformLocation.pathname+pe(this._platformLocation.search),W=this._platformLocation.hash;return W&&b?`${N}${W}`:N}pushState(b,N,W,fe){const Ce=this.prepareExternalUrl(W+pe(fe));this._platformLocation.pushState(b,N,Ce)}replaceState(b,N,W,fe){const Ce=this.prepareExternalUrl(W+pe(fe));this._platformLocation.replaceState(b,N,Ce)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(b=0){this._platformLocation.historyGo?.(b)}static{this.\u0275fac=function(N){return new(N||_)(C.KVO(Ee),C.KVO(Ae,8))}}static{this.\u0275prov=C.jDH({token:_,factory:_.\u0275fac,providedIn:"root"})}}return _})(),Gt=(()=>{class _ extends Le{constructor(b,N){super(),this._platformLocation=b,this._baseHref="",this._removeListenerFns=[],null!=N&&(this._baseHref=N)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(b){this._removeListenerFns.push(this._platformLocation.onPopState(b),this._platformLocation.onHashChange(b))}getBaseHref(){return this._baseHref}path(b=!1){let N=this._platformLocation.hash;return null==N&&(N="#"),N.length>0?N.substring(1):N}prepareExternalUrl(b){const N=X(this._baseHref,b);return N.length>0?"#"+N:N}pushState(b,N,W,fe){let Ce=this.prepareExternalUrl(W+pe(fe));0==Ce.length&&(Ce=this._platformLocation.pathname),this._platformLocation.pushState(b,N,Ce)}replaceState(b,N,W,fe){let Ce=this.prepareExternalUrl(W+pe(fe));0==Ce.length&&(Ce=this._platformLocation.pathname),this._platformLocation.replaceState(b,N,Ce)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(b=0){this._platformLocation.historyGo?.(b)}static{this.\u0275fac=function(N){return new(N||_)(C.KVO(Ee),C.KVO(Ae,8))}}static{this.\u0275prov=C.jDH({token:_,factory:_.\u0275fac})}}return _})(),Dt=(()=>{class _{constructor(b){this._subject=new C.bkB,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=b;const N=this._locationStrategy.getBaseHref();this._basePath=function De(_){if(new RegExp("^(https?:)?//").test(_)){const[,b]=_.split(/\/\/[^\/]+/);return b}return _}(K(yn(N))),this._locationStrategy.onPopState(W=>{this._subject.emit({url:this.path(!0),pop:!0,state:W.state,type:W.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(b=!1){return this.normalize(this._locationStrategy.path(b))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(b,N=""){return this.path()==this.normalize(b+pe(N))}normalize(b){return _.stripTrailingSlash(function pn(_,O){if(!_||!O.startsWith(_))return O;const b=O.substring(_.length);return""===b||["/",";","?","#"].includes(b[0])?b:O}(this._basePath,yn(b)))}prepareExternalUrl(b){return b&&"/"!==b[0]&&(b="/"+b),this._locationStrategy.prepareExternalUrl(b)}go(b,N="",W=null){this._locationStrategy.pushState(W,"",b,N),this._notifyUrlChangeListeners(this.prepareExternalUrl(b+pe(N)),W)}replaceState(b,N="",W=null){this._locationStrategy.replaceState(W,"",b,N),this._notifyUrlChangeListeners(this.prepareExternalUrl(b+pe(N)),W)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(b=0){this._locationStrategy.historyGo?.(b)}onUrlChange(b){return this._urlChangeListeners.push(b),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(N=>{this._notifyUrlChangeListeners(N.url,N.state)})),()=>{const N=this._urlChangeListeners.indexOf(b);this._urlChangeListeners.splice(N,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(b="",N){this._urlChangeListeners.forEach(W=>W(b,N))}subscribe(b,N,W){return this._subject.subscribe({next:b,error:N,complete:W})}static{this.normalizeQueryParams=pe}static{this.joinWithSlash=X}static{this.stripTrailingSlash=K}static{this.\u0275fac=function(N){return new(N||_)(C.KVO(Le))}}static{this.\u0275prov=C.jDH({token:_,factory:function(){return function Ct(){return new Dt((0,C.KVO)(Le))}()},providedIn:"root"})}}return _})();function yn(_){return _.replace(/\/index.html$/,"")}function Ls(_,O){O=encodeURIComponent(O);for(const b of _.split(";")){const N=b.indexOf("="),[W,fe]=-1==N?[b,""]:[b.slice(0,N),b.slice(N+1)];if(W.trim()===O)return decodeURIComponent(fe)}return null}class sn{constructor(O,b,N,W){this.$implicit=O,this.ngForOf=b,this.index=N,this.count=W}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let _s=(()=>{class _{set ngForOf(b){this._ngForOf=b,this._ngForOfDirty=!0}set ngForTrackBy(b){this._trackByFn=b}get ngForTrackBy(){return this._trackByFn}constructor(b,N,W){this._viewContainer=b,this._template=N,this._differs=W,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(b){b&&(this._template=b)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const b=this._ngForOf;!this._differ&&b&&(this._differ=this._differs.find(b).create(this.ngForTrackBy))}if(this._differ){const b=this._differ.diff(this._ngForOf);b&&this._applyChanges(b)}}_applyChanges(b){const N=this._viewContainer;b.forEachOperation((W,fe,Ce)=>{if(null==W.previousIndex)N.createEmbeddedView(this._template,new sn(W.item,this._ngForOf,-1,-1),null===Ce?void 0:Ce);else if(null==Ce)N.remove(null===fe?void 0:fe);else if(null!==fe){const ht=N.get(fe);N.move(ht,Ce),qr(ht,W)}});for(let W=0,fe=N.length;W<fe;W++){const ht=N.get(W).context;ht.index=W,ht.count=fe,ht.ngForOf=this._ngForOf}b.forEachIdentityChange(W=>{qr(N.get(W.currentIndex),W)})}static ngTemplateContextGuard(b,N){return!0}static{this.\u0275fac=function(N){return new(N||_)(C.rXU(C.c1b),C.rXU(C.C4Q),C.rXU(C._q3))}}static{this.\u0275dir=C.FsC({type:_,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return _})();function qr(_,O){_.context.$implicit=O.item}let bo=(()=>{class _{constructor(b,N){this._viewContainer=b,this._context=new Is,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=N}set ngIf(b){this._context.$implicit=this._context.ngIf=b,this._updateView()}set ngIfThen(b){$n("ngIfThen",b),this._thenTemplateRef=b,this._thenViewRef=null,this._updateView()}set ngIfElse(b){$n("ngIfElse",b),this._elseTemplateRef=b,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(b,N){return!0}static{this.\u0275fac=function(N){return new(N||_)(C.rXU(C.c1b),C.rXU(C.C4Q))}}static{this.\u0275dir=C.FsC({type:_,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return _})();class Is{constructor(){this.$implicit=null,this.ngIf=null}}function $n(_,O){if(O&&!O.createEmbeddedView)throw new Error(`${_} must be a TemplateRef, but received '${(0,C.Tbb)(O)}'.`)}let Vs=(()=>{class _{static{this.\u0275fac=function(N){return new(N||_)}}static{this.\u0275mod=C.$C({type:_})}static{this.\u0275inj=C.G2t({})}}return _})();const Es="browser",Cc="server";function Rt(_){return _===Cc}let ar=(()=>{class _{static{this.\u0275prov=(0,C.jDH)({token:_,providedIn:"root",factory:()=>new Bs((0,C.KVO)(J),window)})}}return _})();class Bs{constructor(O,b){this.document=O,this.window=b,this.offset=()=>[0,0]}setOffset(O){this.offset=Array.isArray(O)?()=>O:O}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(O){this.supportsScrolling()&&this.window.scrollTo(O[0],O[1])}scrollToAnchor(O){if(!this.supportsScrolling())return;const b=function Fn(_,O){const b=_.getElementById(O)||_.getElementsByName(O)[0];if(b)return b;if("function"==typeof _.createTreeWalker&&_.body&&"function"==typeof _.body.attachShadow){const N=_.createTreeWalker(_.body,NodeFilter.SHOW_ELEMENT);let W=N.currentNode;for(;W;){const fe=W.shadowRoot;if(fe){const Ce=fe.getElementById(O)||fe.querySelector(`[name="${O}"]`);if(Ce)return Ce}W=N.nextNode()}}return null}(this.document,O);b&&(this.scrollToElement(b),b.focus())}setHistoryScrollRestoration(O){this.supportsScrolling()&&(this.window.history.scrollRestoration=O)}scrollToElement(O){const b=O.getBoundingClientRect(),N=b.left+this.window.pageXOffset,W=b.top+this.window.pageYOffset,fe=this.offset();this.window.scrollTo(N-fe[0],W-fe[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class yi{}},540:(It,Ne,H)=>{H.d(Ne,{iLQ:()=>yy,sZ2:()=>lE,hnV:()=>cy,Hbi:()=>Yb,o8S:()=>vc,BIS:()=>Jh,gRc:()=>pS,Ql9:()=>GI,Ocv:()=>eT,Z63:()=>Qh,aKT:()=>cd,uvJ:()=>mo,zcH:()=>Yu,bkB:()=>Go,$GK:()=>Ze,nKC:()=>Et,zZn:()=>hs,_q3:()=>ch,MKu:()=>Al,xe9:()=>th,Co$:()=>Om,Vns:()=>wl,NEm:()=>vy,SKi:()=>Ci,Xx1:()=>Py,Agw:()=>Mv,PLl:()=>Sv,sFG:()=>pC,_9s:()=>Fv,czy:()=>Hy,kdw:()=>Ly,C4Q:()=>gu,NYb:()=>Ub,giA:()=>nw,xvI:()=>ld,RxE:()=>df,c1b:()=>fc,gXe:()=>$i,L39:()=>TS,Ol2:()=>vD,w6W:()=>Mi,oH4:()=>dT,Rfq:()=>Ge,WQX:()=>ut,QuC:()=>si,fpN:()=>mp,HJs:()=>Ec,O8t:()=>Ii,H3F:()=>ly,H8p:()=>pg,$K3:()=>tT,KH2:()=>ml,wOt:()=>He,WHO:()=>aT,e01:()=>tw,H5H:()=>Wf,mq5:()=>Bd,JZv:()=>gt,LfX:()=>xn,plB:()=>mc,jNT:()=>Vn,zjR:()=>ll,TL$:()=>NA,Tbb:()=>be,Vt3:()=>Xg,GFd:()=>nc,OA$:()=>Ru,Jv_:()=>yD,aNF:()=>tp,R7$:()=>zv,BMQ:()=>Zg,AVh:()=>E_,wni:()=>ey,VBU:()=>sa,FsC:()=>Mo,jDH:()=>Jt,G2t:()=>Kt,$C:()=>Tc,EJ8:()=>Js,rXU:()=>Ju,nrm:()=>um,k0s:()=>am,j41:()=>om,xGo:()=>Fp,KVO:()=>rt,kS0:()=>D,QTQ:()=>Vg,bIt:()=>Rf,lsd:()=>PD,XpG:()=>f_,Y8G:()=>Rd,mGM:()=>Jm,n$t:()=>ug,DNE:()=>sm,EFF:()=>Bf,JRh:()=>C_,E5c:()=>Yo});var C=H(1413),Z=H(8359),te=H(1985),le=H(6365),V=H(8750),J=H(983),Ee=H(3794),qe=H(8455),X=H(4412),K=H(7673),pe=H(7707),Le=H(9974);function Ae(r={}){const{connector:s=(()=>new C.B),resetOnError:o=!0,resetOnComplete:u=!0,resetOnRefCountZero:l=!0}=r;return h=>{let f,y,E,M=0,k=!1,z=!1;const Y=()=>{y?.unsubscribe(),y=void 0},ie=()=>{Y(),f=E=void 0,k=z=!1},we=()=>{const Pe=f;ie(),Pe?.unsubscribe()};return(0,Le.N)((Pe,tt)=>{M++,!z&&!k&&Y();const pt=E=E??s();tt.add(()=>{M--,0===M&&!z&&!k&&(y=nt(we,l))}),pt.subscribe(tt),!f&&M>0&&(f=new pe.Ms({next:Me=>pt.next(Me),error:Me=>{z=!0,Y(),y=nt(ie,o,Me),pt.error(Me)},complete:()=>{k=!0,Y(),y=nt(ie,u),pt.complete()}}),(0,V.Tg)(Pe).subscribe(f))})(h)}}function nt(r,s,...o){if(!0===s)return void r();if(!1===s)return;const u=new pe.Ms({next:()=>{u.unsubscribe(),r()}});return(0,V.Tg)(s(...o)).subscribe(u)}var Gt=H(5558),Dt=H(3669),Ct=H(4360);function yn(r,s){return r===s}function De(r){for(let s in r)if(r[s]===De)return s;throw Error("Could not find renamed property on target object.")}function Re(r,s){for(const o in s)s.hasOwnProperty(o)&&!r.hasOwnProperty(o)&&(r[o]=s[o])}function be(r){if("string"==typeof r)return r;if(Array.isArray(r))return"["+r.map(be).join(", ")+"]";if(null==r)return""+r;if(r.overriddenName)return`${r.overriddenName}`;if(r.name)return`${r.name}`;const s=r.toString();if(null==s)return""+s;const o=s.indexOf("\n");return-1===o?s:s.substring(0,o)}function Ye(r,s){return null==r||""===r?null===s?"":s:null==s||""===s?r:r+" "+s}const at=De({__forward_ref__:De});function Ge(r){return r.__forward_ref__=Ge,r.toString=function(){return be(this())},r}function $e(r){return Bt(r)?r():r}function Bt(r){return"function"==typeof r&&r.hasOwnProperty(at)&&r.__forward_ref__===Ge}function Ln(r){return r&&!!r.\u0275providers}const Gn="https://g.co/ng/security#xss";class He extends Error{constructor(s,o){super(function cn(r,s){return`NG0${Math.abs(r)}${s?": "+s:""}`}(s,o)),this.code=s}}function Xe(r){return"string"==typeof r?r:null==r?"":String(r)}function ae(r,s){throw new He(-201,!1)}function _n(r,s){null==r&&function dt(r,s,o,u){throw new Error(`ASSERTION ERROR: ${r}`+(null==u?"":` [Expected=> ${o} ${u} ${s} <=Actual]`))}(s,r,null,"!=")}function Jt(r){return{token:r.token,providedIn:r.providedIn||null,factory:r.factory,value:void 0}}function Kt(r){return{providers:r.providers||[],imports:r.imports||[]}}function Mt(r){return lr(r,hn)||lr(r,bn)}function xn(r){return null!==Mt(r)}function lr(r,s){return r.hasOwnProperty(s)?r[s]:null}function Wn(r){return r&&(r.hasOwnProperty(Bi)||r.hasOwnProperty(Ni))?r[Bi]:null}const hn=De({\u0275prov:De}),Bi=De({\u0275inj:De}),bn=De({ngInjectableDef:De}),Ni=De({ngInjectorDef:De});var Ze=function(r){return r[r.Default=0]="Default",r[r.Host=1]="Host",r[r.Self=2]="Self",r[r.SkipSelf=4]="SkipSelf",r[r.Optional=8]="Optional",r}(Ze||{});let hi;function er(r){const s=hi;return hi=r,s}function tr(r,s,o){const u=Mt(r);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:o&Ze.Optional?null:void 0!==s?s:void ae(be(r))}const gt=globalThis;class Et{constructor(s,o){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=Jt({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const At={},Tt="__NG_DI_FLAG__",rn="ngTempTokenPath",Bn=/\n/gm,ys="__source";let ji;function oe(r){const s=ji;return ji=r,s}function Fe(r,s=Ze.Default){if(void 0===ji)throw new He(-203,!1);return null===ji?tr(r,void 0,s):ji.get(r,s&Ze.Optional?null:void 0,s)}function rt(r,s=Ze.Default){return(function fi(){return hi}()||Fe)($e(r),s)}function ut(r,s=Ze.Default){return rt(r,en(s))}function en(r){return typeof r>"u"||"number"==typeof r?r:0|(r.optional&&8)|(r.host&&1)|(r.self&&2)|(r.skipSelf&&4)}function Xn(r){const s=[];for(let o=0;o<r.length;o++){const u=$e(r[o]);if(Array.isArray(u)){if(0===u.length)throw new He(900,!1);let l,h=Ze.Default;for(let f=0;f<u.length;f++){const y=u[f],E=vs(y);"number"==typeof E?-1===E?l=y.token:h|=E:l=y}s.push(rt(l,h))}else s.push(rt(u))}return s}function gn(r,s){return r[Tt]=s,r.prototype[Tt]=s,r}function vs(r){return r[Tt]}function Lr(r){return{toString:r}.toString()}var Ri=function(r){return r[r.OnPush=0]="OnPush",r[r.Default=1]="Default",r}(Ri||{}),$i=function(r){return r[r.Emulated=0]="Emulated",r[r.None=2]="None",r[r.ShadowDom=3]="ShadowDom",r}($i||{});const Kr={},sn=[],_s=De({\u0275cmp:De}),qr=De({\u0275dir:De}),ka=De({\u0275pipe:De}),bo=De({\u0275mod:De}),Is=De({\u0275fac:De}),$n=De({__NG_ELEMENT_ID__:De}),Zi=De({__NG_ENV_ID__:De});function Qs(r,s,o){let u=r.length;for(;;){const l=r.indexOf(s,o);if(-1===l)return l;if(0===l||r.charCodeAt(l-1)<=32){const h=s.length;if(l+h===u||r.charCodeAt(l+h)<=32)return l}o=l+1}}function Xs(r,s,o){let u=0;for(;u<o.length;){const l=o[u];if("number"==typeof l){if(0!==l)break;u++;const h=o[u++],f=o[u++],y=o[u++];r.setAttribute(s,f,y,h)}else{const h=l,f=o[++u];Pa(h)?r.setProperty(s,h,f):r.setAttribute(s,h,f),u++}}return u}function _u(r){return 3===r||4===r||6===r}function Pa(r){return 64===r.charCodeAt(0)}function Fs(r,s){if(null!==s&&0!==s.length)if(null===r||0===r.length)r=s.slice();else{let o=-1;for(let u=0;u<s.length;u++){const l=s[u];"number"==typeof l?o=l:0===o||Ys(r,o,l,null,-1===o||2===o?s[++u]:null)}}return r}function Ys(r,s,o,u,l){let h=0,f=r.length;if(-1===s)f=-1;else for(;h<r.length;){const y=r[h++];if("number"==typeof y){if(y===s){f=-1;break}if(y>s){f=h-1;break}}}for(;h<r.length;){const y=r[h];if("number"==typeof y)break;if(y===o){if(null===u)return void(null!==l&&(r[h+1]=l));if(u===r[h+1])return void(r[h+2]=l)}h++,null!==u&&h++,null!==l&&h++}-1!==f&&(r.splice(f,0,s),h=f+1),r.splice(h++,0,o),null!==u&&r.splice(h++,0,u),null!==l&&r.splice(h++,0,l)}const gi="ng-template";function ws(r,s,o){let u=0,l=!0;for(;u<r.length;){let h=r[u++];if("string"==typeof h&&l){const f=r[u++];if(o&&"class"===h&&-1!==Qs(f.toLowerCase(),s,0))return!0}else{if(1===h){for(;u<r.length&&"string"==typeof(h=r[u++]);)if(h.toLowerCase()===s)return!0;return!1}"number"==typeof h&&(l=!1)}}return!1}function Ji(r){return 4===r.type&&r.value!==gi}function dr(r,s,o){return s===(4!==r.type||o?r.value:gi)}function Us(r,s,o){let u=4;const l=r.attrs||[],h=function ra(r){for(let s=0;s<r.length;s++)if(_u(r[s]))return s;return r.length}(l);let f=!1;for(let y=0;y<s.length;y++){const E=s[y];if("number"!=typeof E){if(!f)if(4&u){if(u=2|1&u,""!==E&&!dr(r,E,o)||""===E&&1===s.length){if(In(u))return!1;f=!0}}else{const M=8&u?E:s[++y];if(8&u&&null!==r.attrs){if(!ws(r.attrs,M,o)){if(In(u))return!1;f=!0}continue}const z=Iu(8&u?"class":E,l,Ji(r),o);if(-1===z){if(In(u))return!1;f=!0;continue}if(""!==M){let Y;Y=z>h?"":l[z+1].toLowerCase();const ie=8&u?Y:null;if(ie&&-1!==Qs(ie,M,0)||2&u&&M!==Y){if(In(u))return!1;f=!0}}}}else{if(!f&&!In(u)&&!In(E))return!1;if(f&&In(E))continue;f=!1,u=E|1&u}}return In(u)||f}function In(r){return 0==(1&r)}function Iu(r,s,o,u){if(null===s)return-1;let l=0;if(u||!o){let h=!1;for(;l<s.length;){const f=s[l];if(f===r)return l;if(3===f||6===f)h=!0;else{if(1===f||2===f){let y=s[++l];for(;"string"==typeof y;)y=s[++l];continue}if(4===f)break;if(0===f){l+=4;continue}}l+=h?1:2}return-1}return function ia(r,s){let o=r.indexOf(4);if(o>-1)for(o++;o<r.length;){const u=r[o];if("number"==typeof u)return-1;if(u===s)return o;o++}return-1}(s,r)}function na(r,s,o=!1){for(let u=0;u<s.length;u++)if(Us(r,s[u],o))return!0;return!1}function Dc(r,s){return r?":not("+s.trim()+")":s}function Fa(r){let s=r[0],o=1,u=2,l="",h=!1;for(;o<r.length;){let f=r[o];if("string"==typeof f)if(2&u){const y=r[++o];l+="["+f+(y.length>0?'="'+y+'"':"")+"]"}else 8&u?l+="."+f:4&u&&(l+=" "+f);else""!==l&&!In(f)&&(s+=Dc(h,l),l=""),u=f,h=h||!In(u);o++}return""!==l&&(s+=Dc(h,l)),s}function sa(r){return Lr(()=>{const s=Va(r),o={...s,decls:r.decls,vars:r.vars,template:r.template,consts:r.consts||null,ngContentSelectors:r.ngContentSelectors,onPush:r.changeDetection===Ri.OnPush,directiveDefs:null,pipeDefs:null,dependencies:s.standalone&&r.dependencies||null,getStandaloneInjector:null,signals:r.signals??!1,data:r.data||{},encapsulation:r.encapsulation||$i.Emulated,styles:r.styles||sn,_:null,schemas:r.schemas||null,tView:null,id:""};Vs(o);const u=r.dependencies;return o.directiveDefs=Es(u,!1),o.pipeDefs=Es(u,!0),o.id=function ts(r){let s=0;const o=[r.selectors,r.ngContentSelectors,r.hostVars,r.hostAttrs,r.consts,r.vars,r.decls,r.encapsulation,r.standalone,r.signals,r.exportAs,JSON.stringify(r.inputs),JSON.stringify(r.outputs),Object.getOwnPropertyNames(r.type.prototype),!!r.contentQueries,!!r.viewQuery].join("|");for(const l of o)s=Math.imul(31,s)+l.charCodeAt(0)<<0;return s+=2147483648,"c"+s}(o),o})}function wu(r){return Lt(r)||Nn(r)}function oa(r){return null!==r}function Tc(r){return Lr(()=>({type:r.type,bootstrap:r.bootstrap||sn,declarations:r.declarations||sn,imports:r.imports||sn,exports:r.exports||sn,transitiveCompileScopes:null,schemas:r.schemas||null,id:r.id||null}))}function es(r,s){if(null==r)return Kr;const o={};for(const u in r)if(r.hasOwnProperty(u)){let l=r[u],h=l;Array.isArray(l)&&(h=l[1],l=l[0]),o[l]=u,s&&(s[l]=h)}return o}function Mo(r){return Lr(()=>{const s=Va(r);return Vs(s),s})}function Js(r){return{type:r.type,name:r.name,factory:null,pure:!1!==r.pure,standalone:!0===r.standalone,onDestroy:r.type.prototype.ngOnDestroy||null}}function Lt(r){return r[_s]||null}function Nn(r){return r[qr]||null}function Kn(r){return r[ka]||null}function si(r){const s=Lt(r)||Nn(r)||Kn(r);return null!==s&&s.standalone}function oi(r,s){const o=r[bo]||null;if(!o&&!0===s)throw new Error(`Type ${be(r)} does not have '\u0275mod' property.`);return o}function Va(r){const s={};return{type:r.type,providersResolver:null,factory:null,hostBindings:r.hostBindings||null,hostVars:r.hostVars||0,hostAttrs:r.hostAttrs||null,contentQueries:r.contentQueries||null,declaredInputs:s,inputTransforms:null,inputConfig:r.inputs||Kr,exportAs:r.exportAs||null,standalone:!0===r.standalone,signals:!0===r.signals,selectors:r.selectors||sn,viewQuery:r.viewQuery||null,features:r.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:es(r.inputs,s),outputs:es(r.outputs)}}function Vs(r){r.features?.forEach(s=>s(r))}function Es(r,s){if(!r)return null;const o=s?Kn:wu;return()=>("function"==typeof r?r():r).map(u=>o(u)).filter(oa)}const wn=0,et=1,Rt=2,En=3,mi=4,eo=5,ar=6,Bs=7,Fn=8,Fr=9,yi=10,Nt=11,js=12,Ba=13,to=14,qn=15,Hi=16,vi=17,Qr=18,xo=19,no=20,ns=21,hr=22,ro=23,aa=24,qt=25,Oi=1,io=2,nr=7,_i=9,Yn=11;function Sr(r){return Array.isArray(r)&&"object"==typeof r[Oi]}function rr(r){return Array.isArray(r)&&!0===r[Oi]}function ua(r){return 0!=(4&r.flags)}function Ts(r){return r.componentOffset>-1}function on(r){return 1==(1&r.flags)}function Mr(r){return!!r.template}function Du(r){return 0!=(512&r[Rt])}function zi(r,s){return r.hasOwnProperty(Is)?r[Is]:null}let fr=null,zs=!1;function xr(r){const s=fr;return fr=r,s}const Su={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function Mu(r){if(!Po(r)||r.dirty){if(!r.producerMustRecompute(r)&&!za(r))return void(r.dirty=!1);r.producerRecomputeValue(r),r.dirty=!1}}function oo(r){r.dirty=!0,function As(r){if(void 0===r.liveConsumerNode)return;const s=zs;zs=!0;try{for(const o of r.liveConsumerNode)o.dirty||oo(o)}finally{zs=s}}(r),r.consumerMarkedDirty?.(r)}function xu(r){return r&&(r.nextProducerIndex=0),xr(r)}function ga(r,s){if(xr(s),r&&void 0!==r.producerNode&&void 0!==r.producerIndexOfThis&&void 0!==r.producerLastReadVersion){if(Po(r))for(let o=r.nextProducerIndex;o<r.producerNode.length;o++)Ss(r.producerNode[o],r.producerIndexOfThis[o]);for(;r.producerNode.length>r.nextProducerIndex;)r.producerNode.pop(),r.producerLastReadVersion.pop(),r.producerIndexOfThis.pop()}}function za(r){Lo(r);for(let s=0;s<r.producerNode.length;s++){const o=r.producerNode[s],u=r.producerLastReadVersion[s];if(u!==o.version||(Mu(o),u!==o.version))return!0}return!1}function ma(r){if(Lo(r),Po(r))for(let s=0;s<r.producerNode.length;s++)Ss(r.producerNode[s],r.producerIndexOfThis[s]);r.producerNode.length=r.producerLastReadVersion.length=r.producerIndexOfThis.length=0,r.liveConsumerNode&&(r.liveConsumerNode.length=r.liveConsumerIndexOfThis.length=0)}function Ss(r,s){if(function ya(r){r.liveConsumerNode??=[],r.liveConsumerIndexOfThis??=[]}(r),Lo(r),1===r.liveConsumerNode.length)for(let u=0;u<r.producerNode.length;u++)Ss(r.producerNode[u],r.producerIndexOfThis[u]);const o=r.liveConsumerNode.length-1;if(r.liveConsumerNode[s]=r.liveConsumerNode[o],r.liveConsumerIndexOfThis[s]=r.liveConsumerIndexOfThis[o],r.liveConsumerNode.length--,r.liveConsumerIndexOfThis.length--,s<r.liveConsumerNode.length){const u=r.liveConsumerIndexOfThis[s],l=r.liveConsumerNode[s];Lo(l),l.producerIndexOfThis[u]=s}}function Po(r){return r.consumerIsAlwaysLive||(r?.liveConsumerNode?.length??0)>0}function Lo(r){r.producerNode??=[],r.producerIndexOfThis??=[],r.producerLastReadVersion??=[]}let W=null;function Ii(r){const s=xr(null);try{return r()}finally{xr(s)}}const Ir=()=>{},is=(()=>({...Su,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:r=>{r.schedule(r.ref)},hasRun:!1,cleanupFn:Ir}))();class ao{constructor(s,o,u){this.previousValue=s,this.currentValue=o,this.firstChange=u}isFirstChange(){return this.firstChange}}function Ru(){return xc}function xc(r){return r.type.prototype.ngOnChanges&&(r.setInput=va),kl}function kl(){const r=ph(this),s=r?.current;if(s){const o=r.previous;if(o===Kr)r.previous=s;else for(let u in s)o[u]=s[u];r.current=null,this.ngOnChanges(s)}}function va(r,s,o,u){const l=this.declaredInputs[o],h=ph(r)||function Uo(r,s){return r[Ou]=s}(r,{previous:Kr,current:null}),f=h.current||(h.current={}),y=h.previous,E=y[l];f[l]=new ao(E&&E.currentValue,s,y===Kr),r[u]=s}Ru.ngInherit=!0;const Ou="__ngSimpleChanges__";function ph(r){return r[Ou]||null}const ss=function(r,s,o){};function tn(r){for(;Array.isArray(r);)r=r[wn];return r}function Wa(r,s){return tn(s[r])}function wi(r,s){return tn(s[r.index])}function Pu(r,s){return r.data[s]}function Dn(r,s){const o=s[r];return Sr(o)?o:o[wn]}function os(r,s){return null==s?null:r[s]}function Ei(r){r[vi]=0}function mh(r){1024&r[Rt]||(r[Rt]|=1024,Pl(r,1))}function Gi(r){1024&r[Rt]&&(r[Rt]&=-1025,Pl(r,-1))}function Pl(r,s){let o=r[En];if(null===o)return;o[eo]+=s;let u=o;for(o=o[En];null!==o&&(1===s&&1===u[eo]||-1===s&&0===u[eo]);)o[eo]+=s,u=o,o=o[En]}const St={lFrame:dn(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Tp(){return St.bindingsEnabled}function xe(){return St.lFrame.lView}function an(){return St.lFrame.tView}function Er(){let r=qa();for(;null!==r&&64===r.type;)r=r.parent;return r}function qa(){return St.lFrame.currentTNode}function Ms(r,s){const o=St.lFrame;o.currentTNode=r,o.isParent=s}function Xa(){return St.lFrame.isParent}function Bo(){return St.lFrame.bindingIndex++}function jo(r){const s=St.lFrame,o=s.bindingIndex;return s.bindingIndex=s.bindingIndex+r,o}function g(r,s){const o=St.lFrame;o.bindingIndex=o.bindingRootIndex=r,S(s)}function S(r){St.lFrame.currentDirectiveIndex=r}function G(){return St.lFrame.currentQueryIndex}function de(r){St.lFrame.currentQueryIndex=r}function ce(r){const s=r[et];return 2===s.type?s.declTNode:1===s.type?r[ar]:null}function Qe(r,s,o){if(o&Ze.SkipSelf){let l=s,h=r;for(;!(l=l.parent,null!==l||o&Ze.Host||(l=ce(h),null===l||(h=h[to],10&l.type))););if(null===l)return!1;s=l,r=h}const u=St.lFrame=Qt();return u.currentTNode=s,u.lView=r,!0}function Ot(r){const s=Qt(),o=r[et];St.lFrame=s,s.currentTNode=o.firstChild,s.lView=r,s.tView=o,s.contextLView=r,s.bindingIndex=o.bindingStartIndex,s.inI18n=!1}function Qt(){const r=St.lFrame,s=null===r?null:r.child;return null===s?dn(r):s}function dn(r){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:r,child:null,inI18n:!1};return null!==r&&(r.child=s),s}function Vr(){const r=St.lFrame;return St.lFrame=r.parent,r.currentTNode=null,r.lView=null,r}const as=Vr;function uo(){const r=Vr();r.isParent=!0,r.tView=null,r.selectedIndex=-1,r.contextLView=null,r.elementDepthCount=0,r.currentDirectiveIndex=-1,r.currentNamespace=null,r.bindingRootIndex=-1,r.bindingIndex=-1,r.currentQueryIndex=0}function Dr(){return St.lFrame.selectedIndex}function Bu(r){St.lFrame.selectedIndex=r}function pr(){const r=St.lFrame;return Pu(r.tView,r.selectedIndex)}let Eh=!0;function Pc(){return Eh}function co(r){Eh=r}function Dh(r,s){for(let o=s.directiveStart,u=s.directiveEnd;o<u;o++){const h=r.data[o].type.prototype,{ngAfterContentInit:f,ngAfterContentChecked:y,ngAfterViewInit:E,ngAfterViewChecked:M,ngOnDestroy:k}=h;f&&(r.contentHooks??=[]).push(-o,f),y&&((r.contentHooks??=[]).push(o,y),(r.contentCheckHooks??=[]).push(o,y)),E&&(r.viewHooks??=[]).push(-o,E),M&&((r.viewHooks??=[]).push(o,M),(r.viewCheckHooks??=[]).push(o,M)),null!=k&&(r.destroyHooks??=[]).push(o,k)}}function Th(r,s,o){Ch(r,s,3,o)}function Lc(r,s,o,u){(3&r[Rt])===o&&Ch(r,s,o,u)}function Fc(r,s){let o=r[Rt];(3&o)===s&&(o&=8191,o+=1,r[Rt]=o)}function Ch(r,s,o,u){const h=u??-1,f=s.length-1;let y=0;for(let E=void 0!==u?65535&r[vi]:0;E<f;E++)if("number"==typeof s[E+1]){if(y=s[E],null!=u&&y>=u)break}else s[E]<0&&(r[vi]+=65536),(y<h||-1==h)&&(xp(r,o,s,E),r[vi]=(4294901760&r[vi])+E+2),E++}function Mp(r,s){ss(4,r,s);const o=xr(null);try{s.call(r)}finally{xr(o),ss(5,r,s)}}function xp(r,s,o,u){const l=o[u]<0,h=o[u+1],y=r[l?-o[u]:o[u]];l?r[Rt]>>13<r[vi]>>16&&(3&r[Rt])===s&&(r[Rt]+=8192,Mp(y,h)):Mp(y,h)}const Za=-1;class ju{constructor(s,o,u){this.factory=s,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=u}}function Vc(r){return r!==Za}function Bl(r){return 32767&r}function $u(r,s){let o=function Np(r){return r>>16}(r),u=s;for(;o>0;)u=u[to],o--;return u}let jl=!0;function Hu(r){const s=jl;return jl=r,s}const Sh=255,Mh=5;let Op=0;const us={};function zu(r,s){const o=$l(r,s);if(-1!==o)return o;const u=s[et];u.firstCreatePass&&(r.injectorIndex=s.length,Ja(u.data,r),Ja(s,null),Ja(u.blueprint,null));const l=Gu(r,s),h=r.injectorIndex;if(Vc(l)){const f=Bl(l),y=$u(l,s),E=y[et].data;for(let M=0;M<8;M++)s[h+M]=y[f+M]|E[f+M]}return s[h+8]=l,h}function Ja(r,s){r.push(0,0,0,0,0,0,0,0,s)}function $l(r,s){return-1===r.injectorIndex||r.parent&&r.parent.injectorIndex===r.injectorIndex||null===s[r.injectorIndex+8]?-1:r.injectorIndex}function Gu(r,s){if(r.parent&&-1!==r.parent.injectorIndex)return r.parent.injectorIndex;let o=0,u=null,l=s;for(;null!==l;){if(u=v(l),null===u)return Za;if(o++,l=l[to],-1!==u.injectorIndex)return u.injectorIndex|o<<16}return Za}function Bc(r,s,o){!function xh(r,s,o){let u;"string"==typeof o?u=o.charCodeAt(0)||0:o.hasOwnProperty($n)&&(u=o[$n]),null==u&&(u=o[$n]=Op++);const l=u&Sh;s.data[r+(l>>Mh)]|=1<<l}(r,s,o)}function xy(r,s,o){if(o&Ze.Optional||void 0!==r)return r;ae()}function Ny(r,s,o,u){if(o&Ze.Optional&&void 0===u&&(u=null),!(o&(Ze.Self|Ze.Host))){const l=r[Fr],h=er(void 0);try{return l?l.get(s,u,o&Ze.Optional):tr(s,u,o&Ze.Optional)}finally{er(h)}}return xy(u,0,o)}function Nh(r,s,o,u=Ze.Default,l){if(null!==r){if(2048&s[Rt]&&!(u&Ze.Self)){const f=function Oy(r,s,o,u,l){let h=r,f=s;for(;null!==h&&null!==f&&2048&f[Rt]&&!(512&f[Rt]);){const y=Pp(h,f,o,u|Ze.Self,us);if(y!==us)return y;let E=h.parent;if(!E){const M=f[no];if(M){const k=M.get(o,us,u);if(k!==us)return k}E=v(f),f=f[to]}h=E}return l}(r,s,o,u,us);if(f!==us)return f}const h=Pp(r,s,o,u,us);if(h!==us)return h}return Ny(s,o,u,l)}function Pp(r,s,o,u,l){const h=function Ry(r){if("string"==typeof r)return r.charCodeAt(0)||0;const s=r.hasOwnProperty($n)?r[$n]:void 0;return"number"==typeof s?s>=0?s&Sh:Rh:s}(o);if("function"==typeof h){if(!Qe(s,r,u))return u&Ze.Host?xy(l,0,u):Ny(s,o,u,l);try{let f;if(f=h(u),null!=f||u&Ze.Optional)return f;ae()}finally{as()}}else if("number"==typeof h){let f=null,y=$l(r,s),E=Za,M=u&Ze.Host?s[qn][ar]:null;for((-1===y||u&Ze.SkipSelf)&&(E=-1===y?Gu(r,s):s[y+8],E!==Za&&Lp(u,!1)?(f=s[et],y=Bl(E),s=$u(E,s)):y=-1);-1!==y;){const k=s[et];if(Ia(h,y,k.data)){const z=$o(y,s,o,f,u,M);if(z!==us)return z}E=s[y+8],E!==Za&&Lp(u,s[et].data[y+8]===M)&&Ia(h,y,s)?(f=k,y=Bl(E),s=$u(E,s)):y=-1}}return l}function $o(r,s,o,u,l,h){const f=s[et],y=f.data[r+8],k=jc(y,f,o,null==u?Ts(y)&&jl:u!=f&&0!=(3&y.type),l&Ze.Host&&h===y);return null!==k?eu(s,f,k,y):us}function jc(r,s,o,u,l){const h=r.providerIndexes,f=s.data,y=1048575&h,E=r.directiveStart,k=h>>20,Y=l?y+k:r.directiveEnd;for(let ie=u?y:y+k;ie<Y;ie++){const we=f[ie];if(ie<E&&o===we||ie>=E&&we.type===o)return ie}if(l){const ie=f[E];if(ie&&Mr(ie)&&ie.type===o)return E}return null}function eu(r,s,o,u){let l=r[o];const h=s.data;if(function Aw(r){return r instanceof ju}(l)){const f=l;f.resolving&&function zr(r,s){const o=s?`. Dependency path: ${s.join(" > ")} > ${r}`:"";throw new He(-200,`Circular dependency in DI detected for ${r}${o}`)}(function bt(r){return"function"==typeof r?r.name||r.toString():"object"==typeof r&&null!=r&&"function"==typeof r.type?r.type.name||r.type.toString():Xe(r)}(h[o]));const y=Hu(f.canSeeViewProviders);f.resolving=!0;const M=f.injectImpl?er(f.injectImpl):null;Qe(r,u,Ze.Default);try{l=r[o]=f.factory(void 0,h,r,u),s.firstCreatePass&&o>=u.directiveStart&&function Ul(r,s,o){const{ngOnChanges:u,ngOnInit:l,ngDoCheck:h}=s.type.prototype;if(u){const f=xc(s);(o.preOrderHooks??=[]).push(r,f),(o.preOrderCheckHooks??=[]).push(r,f)}l&&(o.preOrderHooks??=[]).push(0-r,l),h&&((o.preOrderHooks??=[]).push(r,h),(o.preOrderCheckHooks??=[]).push(r,h))}(o,h[o],s)}finally{null!==M&&er(M),Hu(y),f.resolving=!1,as()}}return l}function Ia(r,s,o){return!!(o[s+(r>>Mh)]&1<<r)}function Lp(r,s){return!(r&Ze.Self||r&Ze.Host&&s)}class Wi{constructor(s,o){this._tNode=s,this._lView=o}get(s,o,u){return Nh(this._tNode,this._lView,s,en(u),o)}}function Rh(){return new Wi(Er(),xe())}function Fp(r){return Lr(()=>{const s=r.prototype.constructor,o=s[Is]||Oh(s),u=Object.prototype;let l=Object.getPrototypeOf(r.prototype).constructor;for(;l&&l!==u;){const h=l[Is]||Oh(l);if(h&&h!==o)return h;l=Object.getPrototypeOf(l)}return h=>new h})}function Oh(r){return Bt(r)?()=>{const s=Oh($e(r));return s&&s()}:zi(r)}function v(r){const s=r[et],o=s.type;return 2===o?s.declTNode:1===o?r[ar]:null}function D(r){return function kp(r,s){if("class"===s)return r.classes;if("style"===s)return r.styles;const o=r.attrs;if(o){const u=o.length;let l=0;for(;l<u;){const h=o[l];if(_u(h))break;if(0===h)l+=2;else if("number"==typeof h)for(l++;l<u&&"string"==typeof o[l];)l++;else{if(h===s)return o[l+1];l+=2}}}return null}(Er(),r)}const j="__parameters__";function ze(r,s,o){return Lr(()=>{const u=function ve(r){return function(...o){if(r){const u=r(...o);for(const l in u)this[l]=u[l]}}}(s);function l(...h){if(this instanceof l)return u.apply(this,h),this;const f=new l(...h);return y.annotation=f,y;function y(E,M,k){const z=E.hasOwnProperty(j)?E[j]:Object.defineProperty(E,j,{value:[]})[j];for(;z.length<=k;)z.push(null);return(z[k]=z[k]||[]).push(f),E}}return o&&(l.prototype=Object.create(o.prototype)),l.prototype.ngMetadataName=r,l.annotationCls=l,l})}function Gl(r,s){r.forEach(o=>Array.isArray(o)?Gl(o,s):s(o))}function Nw(r,s,o){s>=r.length?r.push(o):r.splice(s,0,o)}function Vp(r,s){return s>=r.length-1?r.pop():r.splice(s,1)[0]}function cs(r,s,o){let u=Lh(r,s);return u>=0?r[1|u]=o:(u=~u,function lA(r,s,o,u){let l=r.length;if(l==s)r.push(o,u);else if(1===l)r.push(u,r[0]),r[0]=o;else{for(l--,r.push(r[l-1],r[l]);l>s;)r[l]=r[l-2],l--;r[s]=o,r[s+1]=u}}(r,u,s,o)),u}function Bp(r,s){const o=Lh(r,s);if(o>=0)return r[1|o]}function Lh(r,s){return function kw(r,s,o){let u=0,l=r.length>>o;for(;l!==u;){const h=u+(l-u>>1),f=r[h<<o];if(s===f)return h<<o;f>s?l=h:u=h+1}return~(l<<o)}(r,s,1)}const Py=gn(ze("Optional"),8),Ly=gn(ze("SkipSelf"),4);function jy(r){return 128==(128&r.flags)}var Hy=function(r){return r[r.Important=1]="Important",r[r.DashCase=2]="DashCase",r}(Hy||{});const Gy=new Map;let $p=0;const qy="__ngContext__";function Pn(r,s){Sr(s)?(r[qy]=s[xo],function BT(r){Gy.set(r[xo],r)}(s)):r[qy]=s}let $c;function Wp(r,s){return $c(r,s)}function Wl(r){const s=r[En];return rr(s)?s[En]:s}function zw(r){return Yy(r[js])}function Gw(r){return Yy(r[mi])}function Yy(r){for(;null!==r&&!rr(r);)r=r[mi];return r}function Ku(r,s,o,u,l){if(null!=u){let h,f=!1;rr(u)?h=u:Sr(u)&&(f=!0,u=u[wn]);const y=tn(u);0===r&&null!==o?null==l?Zp(s,o,y):tu(s,o,y,l||null,!0):1===r&&null!==o?tu(s,o,y,l||null,!0):2===r?function tg(r,s,o){const u=$h(r,s);u&&function Ww(r,s,o,u){r.removeChild(s,o,u)}(r,u,s,o)}(s,y,f):3===r&&s.destroyNode(y),null!=h&&function XT(r,s,o,u,l){const h=o[nr];h!==tn(o)&&Ku(s,r,u,h,l);for(let y=Yn;y<o.length;y++){const E=o[y];Ql(E[et],E,r,s,u,h)}}(s,r,h,o,l)}}function qu(r,s,o){return r.createElement(s,o)}function Xp(r,s){const o=r[_i],u=o.indexOf(s);Gi(s),o.splice(u,1)}function Kl(r,s){if(r.length<=Yn)return;const o=Yn+s,u=r[o];if(u){const l=u[Hi];null!==l&&l!==r&&Xp(l,u),s>0&&(r[o-1][mi]=u[mi]);const h=Vp(r,Yn+s);!function KT(r,s){Ql(r,s,s[Nt],2,null,null),s[wn]=null,s[ar]=null}(u[et],u);const f=h[Qr];null!==f&&f.detachView(h[et]),u[En]=null,u[mi]=null,u[Rt]&=-129}return u}function nv(r,s){if(!(256&s[Rt])){const o=s[Nt];s[ro]&&ma(s[ro]),s[aa]&&ma(s[aa]),o.destroyNode&&Ql(r,s,o,3,null,null),function qT(r){let s=r[js];if(!s)return rv(r[et],r);for(;s;){let o=null;if(Sr(s))o=s[js];else{const u=s[Yn];u&&(o=u)}if(!o){for(;s&&!s[mi]&&s!==r;)Sr(s)&&rv(s[et],s),s=s[En];null===s&&(s=r),Sr(s)&&rv(s[et],s),o=s&&s[mi]}s=o}}(s)}}function rv(r,s){if(!(256&s[Rt])){s[Rt]&=-129,s[Rt]|=256,function Yp(r,s){let o;if(null!=r&&null!=(o=r.destroyHooks))for(let u=0;u<o.length;u+=2){const l=s[o[u]];if(!(l instanceof ju)){const h=o[u+1];if(Array.isArray(h))for(let f=0;f<h.length;f+=2){const y=l[h[f]],E=h[f+1];ss(4,y,E);try{E.call(y)}finally{ss(5,y,E)}}else{ss(4,l,h);try{h.call(l)}finally{ss(5,l,h)}}}}}(r,s),function QT(r,s){const o=r.cleanup,u=s[Bs];if(null!==o)for(let h=0;h<o.length-1;h+=2)if("string"==typeof o[h]){const f=o[h+3];f>=0?u[f]():u[-f].unsubscribe(),h+=2}else o[h].call(u[o[h+1]]);null!==u&&(s[Bs]=null);const l=s[ns];if(null!==l){s[ns]=null;for(let h=0;h<l.length;h++)(0,l[h])()}}(r,s),1===s[et].type&&s[Nt].destroy();const o=s[Hi];if(null!==o&&rr(s[En])){o!==s[En]&&Xp(o,s);const u=s[Qr];null!==u&&u.detachView(r)}!function jT(r){Gy.delete(r[xo])}(s)}}function jh(r,s,o){return function iv(r,s,o){let u=s;for(;null!==u&&40&u.type;)u=(s=u).parent;if(null===u)return o[wn];{const{componentOffset:l}=u;if(l>-1){const{encapsulation:h}=r.data[u.directiveStart+l];if(h===$i.None||h===$i.Emulated)return null}return wi(u,o)}}(r,s.parent,o)}function tu(r,s,o,u,l){r.insertBefore(s,o,u,l)}function Zp(r,s,o){r.appendChild(s,o)}function Jp(r,s,o,u,l){null!==u?tu(r,s,o,u,l):Zp(r,s,o)}function $h(r,s){return r.parentNode(s)}let ov,Jw,Kh,qw=function Kw(r,s,o){return 40&r.type?wi(r,o):null};function eg(r,s,o,u){const l=jh(r,u,s),h=s[Nt],y=function sv(r,s,o){return qw(r,s,o)}(u.parent||s[ar],u,s);if(null!=l)if(Array.isArray(o))for(let E=0;E<o.length;E++)Jp(h,l,o[E],y,!1);else Jp(h,l,o,y,!1);void 0!==ov&&ov(h,u,s,o,l)}function Hh(r,s){if(null!==s){const o=s.type;if(3&o)return wi(s,r);if(4&o)return av(-1,r[s.index]);if(8&o){const u=s.child;if(null!==u)return Hh(r,u);{const l=r[s.index];return rr(l)?av(-1,l):tn(l)}}if(32&o)return Wp(s,r)()||tn(r[s.index]);{const u=Xw(r,s);return null!==u?Array.isArray(u)?u[0]:Hh(Wl(r[qn]),u):Hh(r,s.next)}}return null}function Xw(r,s){return null!==s?r[qn][ar].projection[s.projection]:null}function av(r,s){const o=Yn+r+1;if(o<s.length){const u=s[o],l=u[et].firstChild;if(null!==l)return Hh(u,l)}return s[nr]}function ng(r,s,o,u,l,h,f){for(;null!=o;){const y=u[o.index],E=o.type;if(f&&0===s&&(y&&Pn(tn(y),u),o.flags|=2),32!=(32&o.flags))if(8&E)ng(r,s,o.child,u,l,h,!1),Ku(s,r,l,y,h);else if(32&E){const M=Wp(o,u);let k;for(;k=M();)Ku(s,r,l,k,h);Ku(s,r,l,y,h)}else 16&E?Yw(r,s,u,o,l,h):Ku(s,r,l,y,h);o=f?o.projectionNext:o.next}}function Ql(r,s,o,u,l,h){ng(o,u,r.firstChild,s,l,h,!1)}function Yw(r,s,o,u,l,h){const f=o[qn],E=f[ar].projection[u.projection];if(Array.isArray(E))for(let M=0;M<E.length;M++)Ku(s,r,l,E[M],h);else{let M=E;const k=f[En];jy(u)&&(M.flags|=128),ng(r,s,M,k,l,h,!0)}}function cv(r,s,o){""===o?r.removeAttribute(s,"class"):r.setAttribute(s,"class",o)}function lv(r,s,o){const{mergedAttrs:u,classes:l,styles:h}=o;null!==u&&Xs(r,s,u),null!==l&&cv(r,s,l),null!==h&&function Zw(r,s,o){r.setAttribute(s,"style",o)}(r,s,h)}function NA(r){Jw=r}function pv(r){return function hv(){if(void 0===Kh&&(Kh=null,gt.trustedTypes))try{Kh=gt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:r=>r,createScript:r=>r,createScriptURL:r=>r})}catch{}return Kh}()?.createScriptURL(r)||r}class JT{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Gn})`}}function Qu(r){return r instanceof JT?r.changingThisBreaksApplicationSecurity:r}function sg(r,s){const o=function kA(r){return r instanceof JT&&r.getTypeName()||null}(r);if(null!=o&&o!==s){if("ResourceURL"===o&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${o} (see ${Gn})`)}return o===s}const mv=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var Jl=function(r){return r[r.NONE=0]="NONE",r[r.HTML=1]="HTML",r[r.STYLE=2]="STYLE",r[r.SCRIPT=3]="SCRIPT",r[r.URL=4]="URL",r[r.RESOURCE_URL=5]="RESOURCE_URL",r}(Jl||{});function ag(r){const s=td();return s?s.sanitize(Jl.URL,r)||"":sg(r,"URL")?Qu(r):function Ht(r){return(r=String(r)).match(mv)?r:"unsafe:"+r}(Xe(r))}function _v(r){const s=td();if(s)return pv(s.sanitize(Jl.RESOURCE_URL,r)||"");if(sg(r,"ResourceURL"))return pv(Qu(r));throw new He(904,!1)}function ug(r,s,o){return function wv(r,s){return"src"===s&&("embed"===r||"frame"===r||"iframe"===r||"media"===r||"script"===r)||"href"===s&&("base"===r||"link"===r)?_v:ag}(s,o)(r)}function td(){const r=xe();return r&&r[yi].sanitizer}const Qh=new Et("ENVIRONMENT_INITIALIZER"),nd=new Et("INJECTOR",-1),aE=new Et("INJECTOR_DEF_TYPES");class Gc{get(s,o=At){if(o===At){const u=new Error(`NullInjectorError: No provider for ${be(s)}!`);throw u.name="NullInjectorError",u}return o}}function aC(...r){return{\u0275providers:Xh(0,r),\u0275fromNgModule:!0}}function Xh(r,...s){const o=[],u=new Set;let l;const h=f=>{o.push(f)};return Gl(s,f=>{const y=f;lg(y,h,[],u)&&(l||=[],l.push(y))}),void 0!==l&&cg(l,h),o}function cg(r,s){for(let o=0;o<r.length;o++){const{ngModule:u,providers:l}=r[o];dg(l,h=>{s(h,u)})}}function lg(r,s,o,u){if(!(r=$e(r)))return!1;let l=null,h=Wn(r);const f=!h&&Lt(r);if(h||f){if(f&&!f.standalone)return!1;l=r}else{const E=r.ngModule;if(h=Wn(E),!h)return!1;l=E}const y=u.has(l);if(f){if(y)return!1;if(u.add(l),f.dependencies){const E="function"==typeof f.dependencies?f.dependencies():f.dependencies;for(const M of E)lg(M,s,o,u)}}else{if(!h)return!1;{if(null!=h.imports&&!y){let M;u.add(l);try{Gl(h.imports,k=>{lg(k,s,o,u)&&(M||=[],M.push(k))})}finally{}void 0!==M&&cg(M,s)}if(!y){const M=zi(l)||(()=>new l);s({provide:l,useFactory:M,deps:sn},l),s({provide:aE,useValue:l,multi:!0},l),s({provide:Qh,useValue:()=>rt(l),multi:!0},l)}const E=h.providers;if(null!=E&&!y){const M=r;dg(E,k=>{s(k,M)})}}}return l!==r&&void 0!==r.providers}function dg(r,s){for(let o of r)Ln(o)&&(o=o.\u0275providers),Array.isArray(o)?dg(o,s):s(o)}const cE=De({provide:String,useValue:De});function rd(r){return null!==r&&"object"==typeof r&&cE in r}function ru(r){return"function"==typeof r}const pg=new Et("Set Injector scope."),Yh={},cC={};let gg;function Zh(){return void 0===gg&&(gg=new Gc),gg}class mo{}class Wc extends mo{get destroyed(){return this._destroyed}constructor(s,o,u,l){super(),this.parent=o,this.source=u,this.scopes=l,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Av(s,f=>this.processProvider(f)),this.records.set(nd,br(void 0,this)),l.has("environment")&&this.records.set(mo,br(void 0,this));const h=this.records.get(pg);null!=h&&"string"==typeof h.value&&this.scopes.add(h.value),this.injectorDefTypes=new Set(this.get(aE.multi,sn,Ze.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();const s=this._onDestroyHooks;this._onDestroyHooks=[];for(const o of s)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(s){return this.assertNotDestroyed(),this._onDestroyHooks.push(s),()=>this.removeOnDestroy(s)}runInContext(s){this.assertNotDestroyed();const o=oe(this),u=er(void 0);try{return s()}finally{oe(o),er(u)}}get(s,o=At,u=Ze.Default){if(this.assertNotDestroyed(),s.hasOwnProperty(Zi))return s[Zi](this);u=en(u);const h=oe(this),f=er(void 0);try{if(!(u&Ze.SkipSelf)){let E=this.records.get(s);if(void 0===E){const M=function bv(r){return"function"==typeof r||"object"==typeof r&&r instanceof Et}(s)&&Mt(s);E=M&&this.injectableDefInScope(M)?br(Dv(s),Yh):null,this.records.set(s,E)}if(null!=E)return this.hydrate(s,E)}return(u&Ze.Self?Zh():this.parent).get(s,o=u&Ze.Optional&&o===At?null:o)}catch(y){if("NullInjectorError"===y.name){if((y[rn]=y[rn]||[]).unshift(be(s)),h)throw y;return function Ls(r,s,o,u){const l=r[rn];throw s[ys]&&l.unshift(s[ys]),r.message=function qs(r,s,o,u=null){r=r&&"\n"===r.charAt(0)&&"\u0275"==r.charAt(1)?r.slice(2):r;let l=be(s);if(Array.isArray(s))l=s.map(be).join(" -> ");else if("object"==typeof s){let h=[];for(let f in s)if(s.hasOwnProperty(f)){let y=s[f];h.push(f+":"+("string"==typeof y?JSON.stringify(y):be(y)))}l=`{${h.join(", ")}}`}return`${o}${u?"("+u+")":""}[${l}]: ${r.replace(Bn,"\n  ")}`}("\n"+r.message,l,o,u),r.ngTokenPath=l,r[rn]=null,r}(y,s,"R3InjectorError",this.source)}throw y}finally{er(f),oe(h)}}resolveInjectorInitializers(){const s=oe(this),o=er(void 0);try{const l=this.get(Qh.multi,sn,Ze.Self);for(const h of l)h()}finally{oe(s),er(o)}}toString(){const s=[],o=this.records;for(const u of o.keys())s.push(be(u));return`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new He(205,!1)}processProvider(s){let o=ru(s=$e(s))?s:$e(s&&s.provide);const u=function Cv(r){return rd(r)?br(void 0,r.useValue):br(mg(r),Yh)}(s);if(ru(s)||!0!==s.multi)this.records.get(o);else{let l=this.records.get(o);l||(l=br(void 0,Yh,!0),l.factory=()=>Xn(l.multi),this.records.set(o,l)),o=s,l.multi.push(s)}this.records.set(o,u)}hydrate(s,o){return o.value===Yh&&(o.value=cC,o.value=o.factory()),"object"==typeof o.value&&o.value&&function yg(r){return null!==r&&"object"==typeof r&&"function"==typeof r.ngOnDestroy}(o.value)&&this._ngOnDestroyHooks.add(o.value),o.value}injectableDefInScope(s){if(!s.providedIn)return!1;const o=$e(s.providedIn);return"string"==typeof o?"any"===o||this.scopes.has(o):this.injectorDefTypes.has(o)}removeOnDestroy(s){const o=this._onDestroyHooks.indexOf(s);-1!==o&&this._onDestroyHooks.splice(o,1)}}function Dv(r){const s=Mt(r),o=null!==s?s.factory:zi(r);if(null!==o)return o;if(r instanceof Et)throw new He(204,!1);if(r instanceof Function)return function Tv(r){const s=r.length;if(s>0)throw function Ph(r,s){const o=[];for(let u=0;u<r;u++)o.push(s);return o}(s,"?"),new He(204,!1);const o=function _r(r){return r&&(r[hn]||r[bn])||null}(r);return null!==o?()=>o.factory(r):()=>new r}(r);throw new He(204,!1)}function mg(r,s,o){let u;if(ru(r)){const l=$e(r);return zi(l)||Dv(l)}if(rd(r))u=()=>$e(r.useValue);else if(function fg(r){return!(!r||!r.useFactory)}(r))u=()=>r.useFactory(...Xn(r.deps||[]));else if(function hg(r){return!(!r||!r.useExisting)}(r))u=()=>rt($e(r.useExisting));else{const l=$e(r&&(r.useClass||r.provide));if(!function ki(r){return!!r.deps}(r))return zi(l)||Dv(l);u=()=>new l(...Xn(r.deps))}return u}function br(r,s,o=!1){return{factory:r,value:s,multi:o?[]:void 0}}function Av(r,s){for(const o of r)Array.isArray(o)?Av(o,s):o&&Ln(o)?Av(o.\u0275providers,s):s(o)}const lE=new Et("AppId",{providedIn:"root",factory:()=>lC}),lC="ng",Sv=new Et("Platform Initializer"),Mv=new Et("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Jh=new Et("CSP nonce",{providedIn:"root",factory:()=>function Xl(){if(void 0!==Jw)return Jw;if(typeof document<"u")return document;throw new He(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let Ov=(r,s,o)=>null;function Yc(r,s,o=!1){return Ov(r,s,o)}class Lv{}class Tg{}class fC{resolveComponentFactory(s){throw function Cg(r){const s=Error(`No component factory found for ${be(r)}.`);return s.ngComponent=r,s}(s)}}let ud=(()=>{class r{static{this.NULL=new fC}}return r})();function bg(){return Xu(Er(),xe())}function Xu(r,s){return new cd(wi(r,s))}let cd=(()=>{class r{constructor(o){this.nativeElement=o}static{this.__NG_ELEMENT_ID__=bg}}return r})();function gE(r){return r instanceof cd?r.nativeElement:r}class Fv{}let pC=(()=>{class r{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>function lf(){const r=xe(),o=Dn(Er().index,r);return(Sr(o)?o:r)[Nt]}()}}return r})(),mE=(()=>{class r{static{this.\u0275prov=Jt({token:r,providedIn:"root",factory:()=>null})}}return r})();class df{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const ld=new df("16.2.12"),iu={};function ir(r,s=null,o=null,u){const l=hf(r,s,o,u);return l.resolveInjectorInitializers(),l}function hf(r,s=null,o=null,u,l=new Set){const h=[o||sn,aC(r)];return u=u||("object"==typeof r?void 0:be(r)),new Wc(h,s||Zh(),u||null,l)}let hs=(()=>{class r{static{this.THROW_IF_NOT_FOUND=At}static{this.NULL=new Gc}static create(o,u){if(Array.isArray(o))return ir({name:""},u,o,"");{const l=o.name??"";return ir({name:l},o.parent,o.providers,l)}}static{this.\u0275prov=Jt({token:r,providedIn:"any",factory:()=>rt(nd)})}static{this.__NG_ELEMENT_ID__=-1}}return r})();function Mg(r){return r.ngOriginalError}class Yu{constructor(){this._console=console}handleError(s){const o=this._findOriginalError(s);this._console.error("ERROR",s),o&&this._console.error("ORIGINAL ERROR",o)}_findOriginalError(s){let o=s&&Mg(s);for(;o&&Mg(o);)o=Mg(o);return o||null}}function Da(r){return s=>{setTimeout(r,void 0,s)}}const Go=class ff extends C.B{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,o,u){let l=s,h=o||(()=>null),f=u;if(s&&"object"==typeof s){const E=s;l=E.next?.bind(E),h=E.error?.bind(E),f=E.complete?.bind(E)}this.__isAsync&&(h=Da(h),l&&(l=Da(l)),f&&(f=Da(f)));const y=super.subscribe({next:l,error:h,complete:f});return s instanceof Z.yU&&s.add(y),y}};function Vv(...r){}class Ci{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Go(!1),this.onMicrotaskEmpty=new Go(!1),this.onStable=new Go(!1),this.onError=new Go(!1),typeof Zone>"u")throw new He(908,!1);Zone.assertZonePatched();const l=this;l._nesting=0,l._outer=l._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(l._inner=l._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(l._inner=l._inner.fork(Zone.longStackTraceZoneSpec)),l.shouldCoalesceEventChangeDetection=!u&&o,l.shouldCoalesceRunChangeDetection=u,l.lastRequestAnimationFrameId=-1,l.nativeRequestAnimationFrame=function EE(){const r="function"==typeof gt.requestAnimationFrame;let s=gt[r?"requestAnimationFrame":"setTimeout"],o=gt[r?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&s&&o){const u=s[Zone.__symbol__("OriginalDelegate")];u&&(s=u);const l=o[Zone.__symbol__("OriginalDelegate")];l&&(o=l)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function DE(r){const s=()=>{!function _C(r){r.isCheckStableRunning||-1!==r.lastRequestAnimationFrameId||(r.lastRequestAnimationFrameId=r.nativeRequestAnimationFrame.call(gt,()=>{r.fakeTopEventTask||(r.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{r.lastRequestAnimationFrameId=-1,Rg(r),r.isCheckStableRunning=!0,Ng(r),r.isCheckStableRunning=!1},void 0,()=>{},()=>{})),r.fakeTopEventTask.invoke()}),Rg(r))}(r)};r._inner=r._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,u,l,h,f,y)=>{if(function IC(r){return!(!Array.isArray(r)||1!==r.length)&&!0===r[0].data?.__ignore_ng_zone__}(y))return o.invokeTask(l,h,f,y);try{return Og(r),o.invokeTask(l,h,f,y)}finally{(r.shouldCoalesceEventChangeDetection&&"eventTask"===h.type||r.shouldCoalesceRunChangeDetection)&&s(),kg(r)}},onInvoke:(o,u,l,h,f,y,E)=>{try{return Og(r),o.invoke(l,h,f,y,E)}finally{r.shouldCoalesceRunChangeDetection&&s(),kg(r)}},onHasTask:(o,u,l,h)=>{o.hasTask(l,h),u===l&&("microTask"==h.change?(r._hasPendingMicrotasks=h.microTask,Rg(r),Ng(r)):"macroTask"==h.change&&(r.hasPendingMacrotasks=h.macroTask))},onHandleError:(o,u,l,h)=>(o.handleError(l,h),r.runOutsideAngular(()=>r.onError.emit(h)),!1)})}(l)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ci.isInAngularZone())throw new He(909,!1)}static assertNotInAngularZone(){if(Ci.isInAngularZone())throw new He(909,!1)}run(s,o,u){return this._inner.run(s,o,u)}runTask(s,o,u,l){const h=this._inner,f=h.scheduleEventTask("NgZoneEvent: "+l,s,vC,Vv,Vv);try{return h.runTask(f,o,u)}finally{h.cancelTask(f)}}runGuarded(s,o,u){return this._inner.runGuarded(s,o,u)}runOutsideAngular(s){return this._outer.run(s)}}const vC={};function Ng(r){if(0==r._nesting&&!r.hasPendingMicrotasks&&!r.isStable)try{r._nesting++,r.onMicrotaskEmpty.emit(null)}finally{if(r._nesting--,!r.hasPendingMicrotasks)try{r.runOutsideAngular(()=>r.onStable.emit(null))}finally{r.isStable=!0}}}function Rg(r){r.hasPendingMicrotasks=!!(r._hasPendingMicrotasks||(r.shouldCoalesceEventChangeDetection||r.shouldCoalesceRunChangeDetection)&&-1!==r.lastRequestAnimationFrameId)}function Og(r){r._nesting++,r.isStable&&(r.isStable=!1,r.onUnstable.emit(null))}function kg(r){r._nesting--,Ng(r)}class TE{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Go,this.onMicrotaskEmpty=new Go,this.onStable=new Go,this.onError=new Go}run(s,o,u){return s.apply(o,u)}runGuarded(s,o,u){return s.apply(o,u)}runOutsideAngular(s){return s()}runTask(s,o,u,l){return s.apply(o,u)}}const Bv=new Et("",{providedIn:"root",factory:CE});function CE(){const r=ut(Ci);let s=!0;return function Te(...r){const s=(0,Ee.lI)(r),o=(0,Ee.R0)(r,1/0),u=r;return u.length?1===u.length?(0,V.Tg)(u[0]):(0,le.U)(o)((0,qe.H)(u,s)):J.w}(new te.c(l=>{s=r.isStable&&!r.hasPendingMacrotasks&&!r.hasPendingMicrotasks,r.runOutsideAngular(()=>{l.next(s),l.complete()})}),new te.c(l=>{let h;r.runOutsideAngular(()=>{h=r.onStable.subscribe(()=>{Ci.assertNotInAngularZone(),queueMicrotask(()=>{!s&&!r.hasPendingMacrotasks&&!r.hasPendingMicrotasks&&(s=!0,l.next(!0))})})});const f=r.onUnstable.subscribe(()=>{Ci.assertInAngularZone(),s&&(s=!1,r.runOutsideAngular(()=>{l.next(!1)}))});return()=>{h.unsubscribe(),f.unsubscribe()}}).pipe(Ae()))}function yo(r){return r instanceof Function?r():r}let gr=(()=>{class r{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static{this.\u0275prov=Jt({token:r,providedIn:"root",factory:()=>new r})}}return r})();function fd(r){for(;r;){r[Rt]|=64;const s=Wl(r);if(Du(r)&&!s)return r;r=s}return null}const ME=new Et("",{providedIn:"root",factory:()=>!1});let gd=null;function yf(r,s){return r[s]??Hv()}function $v(r,s){const o=Hv();o.producerNode?.length&&(r[s]=gd,o.lView=r,gd=kE())}const Ug={...Su,consumerIsAlwaysLive:!0,consumerMarkedDirty:r=>{fd(r.lView)},lView:null};function kE(){return Object.create(Ug)}function Hv(){return gd??=kE(),gd}const Vt={};function zv(r){Gv(an(),xe(),Dr()+r,!1)}function Gv(r,s,o,u){if(!u)if(3==(3&s[Rt])){const h=r.preOrderCheckHooks;null!==h&&Th(s,h,o)}else{const h=r.preOrderHooks;null!==h&&Lc(s,h,0,o)}Bu(o)}function Ju(r,s=Ze.Default){const o=xe();return null===o?rt(r,s):Nh(Er(),o,$e(r),s)}function Vg(){throw new Error("invalid")}function el(r,s,o,u,l,h,f,y,E,M,k){const z=s.blueprint.slice();return z[wn]=l,z[Rt]=140|u,(null!==M||r&&2048&r[Rt])&&(z[Rt]|=2048),Ei(z),z[En]=z[to]=r,z[Fn]=o,z[yi]=f||r&&r[yi],z[Nt]=y||r&&r[Nt],z[Fr]=E||r&&r[Fr]||null,z[ar]=h,z[xo]=function Wy(){return $p++}(),z[hr]=k,z[no]=M,z[qn]=2==s.type?r[qn]:z,z}function tl(r,s,o,u,l){let h=r.data[s];if(null===h)h=function Bg(r,s,o,u,l){const h=qa(),f=Xa(),E=r.data[s]=function CC(r,s,o,u,l,h){let f=s?s.injectorIndex:-1,y=0;return function Ws(){return null!==St.skipHydrationRootTNode}()&&(y|=128),{type:o,index:u,insertBeforeIndex:null,injectorIndex:f,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:y,providerIndexes:0,value:l,attrs:h,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,f?h:h&&h.parent,o,s,u,l);return null===r.firstChild&&(r.firstChild=E),null!==h&&(f?null==h.child&&null!==E.parent&&(h.child=E):null===h.next&&(h.next=E,E.prev=h)),E}(r,s,o,u,l),function m(){return St.lFrame.inI18n}()&&(h.flags|=32);else if(64&h.type){h.type=o,h.value=u,h.attrs=l;const f=function Qa(){const r=St.lFrame,s=r.currentTNode;return r.isParent?s:s.parent}();h.injectorIndex=null===f?-1:f.injectorIndex}return Ms(h,!0),h}function Wo(r,s,o,u){if(0===o)return-1;const l=s.length;for(let h=0;h<o;h++)s.push(u),r.blueprint.push(u),r.data.push(null);return l}function Wv(r,s,o,u,l){const h=yf(s,ro),f=Dr(),y=2&u;try{Bu(-1),y&&s.length>qt&&Gv(r,s,qt,!1),ss(y?2:0,l);const M=y?h:null,k=xu(M);try{null!==M&&(M.dirty=!1),o(u,l)}finally{ga(M,k)}}finally{y&&null===s[ro]&&$v(s,ro),Bu(f),ss(y?3:1,l)}}function jg(r,s,o){if(ua(s)){const u=xr(null);try{const h=s.directiveEnd;for(let f=s.directiveStart;f<h;f++){const y=r.data[f];y.contentQueries&&y.contentQueries(1,o[f],f)}}finally{xr(u)}}}function $g(r,s,o){Tp()&&(function _f(r,s,o,u){const l=o.directiveStart,h=o.directiveEnd;Ts(o)&&function $E(r,s,o){const u=wi(s,r),l=vf(o);let f=16;o.signals?f=4096:o.onPush&&(f=64);const y=ou(r,el(r,l,null,f,u,s,null,r[yi].rendererFactory.createRenderer(u,o),null,null,null));r[s.index]=y}(s,o,r.data[l+o.componentOffset]),r.firstCreatePass||zu(o,s),Pn(u,s);const f=o.initialInputs;for(let y=l;y<h;y++){const E=r.data[y],M=eu(s,r,y,o);Pn(M,s),null!==f&&MC(0,y-l,M,E,0,f),Mr(E)&&(Dn(o.index,s)[Fn]=eu(s,r,y,o))}}(r,s,o,wi(o,s)),64==(64&o.flags)&&If(r,s,o))}function Hg(r,s,o=wi){const u=s.localNames;if(null!==u){let l=s.index+1;for(let h=0;h<u.length;h+=2){const f=u[h+1],y=-1===f?o(s,r):r[f];r[l++]=y}}}function vf(r){const s=r.tView;return null===s||s.incompleteFirstPass?r.tView=fs(1,null,r.template,r.decls,r.vars,r.directiveDefs,r.pipeDefs,r.viewQuery,r.schemas,r.consts,r.id):s}function fs(r,s,o,u,l,h,f,y,E,M,k){const z=qt+u,Y=z+l,ie=function LE(r,s){const o=[];for(let u=0;u<s;u++)o.push(u<r?null:Vt);return o}(z,Y),we="function"==typeof M?M():M;return ie[et]={type:r,blueprint:ie,template:o,queries:null,viewQuery:y,declTNode:s,data:ie.slice().fill(null,z),bindingStartIndex:z,expandoStartIndex:Y,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof h?h():h,pipeRegistry:"function"==typeof f?f():f,firstChild:null,schemas:E,consts:we,incompleteFirstPass:!1,ssrId:k}}let UE=r=>null;function zg(r,s,o,u){for(let l in r)if(r.hasOwnProperty(l)){o=null===o?{}:o;const h=r[l];null===u?qo(o,s,l,h):u.hasOwnProperty(l)&&qo(o,s,u[l],h)}return o}function qo(r,s,o,u){r.hasOwnProperty(o)?r[o].push(s,u):r[o]=[s,u]}function Rs(r,s,o,u){if(Tp()){const l=null===u?null:{"":-1},h=function yd(r,s){const o=r.directiveRegistry;let u=null,l=null;if(o)for(let h=0;h<o.length;h++){const f=o[h];if(na(s,f.selectors,!1))if(u||(u=[]),Mr(f))if(null!==f.findHostDirectiveDefs){const y=[];l=l||new Map,f.findHostDirectiveDefs(f,y,l),u.unshift(...y,f),Xv(r,s,y.length)}else u.unshift(f),Xv(r,s,0);else l=l||new Map,f.findHostDirectiveDefs?.(f,u,l),u.push(f)}return null===u?null:[u,l]}(r,o);let f,y;null===h?f=y=null:[f,y]=h,null!==f&&Ai(r,s,o,f,l,y),l&&function bC(r,s,o){if(s){const u=r.localNames=[];for(let l=0;l<s.length;l+=2){const h=o[s[l+1]];if(null==h)throw new He(-301,!1);u.push(s[l],h)}}}(o,u,l)}o.mergedAttrs=Fs(o.mergedAttrs,o.attrs)}function Ai(r,s,o,u,l,h){for(let M=0;M<u.length;M++)Bc(zu(o,s),r,u[M].type);!function AC(r,s,o){r.flags|=1,r.directiveStart=s,r.directiveEnd=s+o,r.providerIndexes=s}(o,r.data.length,u.length);for(let M=0;M<u.length;M++){const k=u[M];k.providersResolver&&k.providersResolver(k)}let f=!1,y=!1,E=Wo(r,s,u.length,null);for(let M=0;M<u.length;M++){const k=u[M];o.mergedAttrs=Fs(o.mergedAttrs,k.hostAttrs),SC(r,o,s,E,k),Yv(E,k,l),null!==k.contentQueries&&(o.flags|=4),(null!==k.hostBindings||null!==k.hostAttrs||0!==k.hostVars)&&(o.flags|=64);const z=k.type.prototype;!f&&(z.ngOnChanges||z.ngOnInit||z.ngDoCheck)&&((r.preOrderHooks??=[]).push(o.index),f=!0),!y&&(z.ngOnChanges||z.ngDoCheck)&&((r.preOrderCheckHooks??=[]).push(o.index),y=!0),E++}!function VE(r,s,o){const l=s.directiveEnd,h=r.data,f=s.attrs,y=[];let E=null,M=null;for(let k=s.directiveStart;k<l;k++){const z=h[k],Y=o?o.get(z):null,we=Y?Y.outputs:null;E=zg(z.inputs,k,E,Y?Y.inputs:null),M=zg(z.outputs,k,M,we);const Pe=null===E||null===f||Ji(s)?null:_d(E,k,f);y.push(Pe)}null!==E&&(E.hasOwnProperty("class")&&(s.flags|=8),E.hasOwnProperty("style")&&(s.flags|=16)),s.initialInputs=y,s.inputs=E,s.outputs=M}(r,o,h)}function If(r,s,o){const u=o.directiveStart,l=o.directiveEnd,h=o.index,f=function w(){return St.lFrame.currentDirectiveIndex}();try{Bu(h);for(let y=u;y<l;y++){const E=r.data[y],M=s[y];S(y),(null!==E.hostBindings||0!==E.hostVars||null!==E.hostAttrs)&&jE(E,M)}}finally{Bu(-1),S(f)}}function jE(r,s){null!==r.hostBindings&&r.hostBindings(1,s)}function Xv(r,s,o){s.componentOffset=o,(r.components??=[]).push(s.index)}function Yv(r,s,o){if(o){if(s.exportAs)for(let u=0;u<s.exportAs.length;u++)o[s.exportAs[u]]=r;Mr(s)&&(o[""]=r)}}function SC(r,s,o,u,l){r.data[u]=l;const h=l.factory||(l.factory=zi(l.type)),f=new ju(h,Mr(l),Ju);r.blueprint[u]=f,o[u]=f,function Gg(r,s,o,u,l){const h=l.hostBindings;if(h){let f=r.hostBindingOpCodes;null===f&&(f=r.hostBindingOpCodes=[]);const y=~s.index;(function Wg(r){let s=r.length;for(;s>0;){const o=r[--s];if("number"==typeof o&&o<0)return o}return 0})(f)!=y&&f.push(y),f.push(o,u,h)}}(r,s,u,Wo(r,o,l.hostVars,Vt),l)}function Ca(r,s,o,u,l,h){const f=wi(r,s);!function vd(r,s,o,u,l,h,f){if(null==h)r.removeAttribute(s,l,o);else{const y=null==f?Xe(h):f(h,u||"",l);r.setAttribute(s,l,y,o)}}(s[Nt],f,h,r.value,o,u,l)}function MC(r,s,o,u,l,h){const f=h[s];if(null!==f)for(let y=0;y<f.length;)HE(u,o,f[y++],f[y++],f[y++])}function HE(r,s,o,u,l){const h=xr(null);try{const f=r.inputTransforms;null!==f&&f.hasOwnProperty(u)&&(l=f[u].call(s,l)),null!==r.setInput?r.setInput(s,l,o,u):s[u]=l}finally{xr(h)}}function _d(r,s,o){let u=null,l=0;for(;l<o.length;){const h=o[l];if(0!==h)if(5!==h){if("number"==typeof h)break;if(r.hasOwnProperty(h)){null===u&&(u=[]);const f=r[h];for(let y=0;y<f.length;y+=2)if(f[y]===s){u.push(h,f[y+1],o[l+1]);break}}l+=2}else l+=2;else l+=4}return u}function Zv(r,s,o,u){return[r,!0,!1,s,null,0,u,o,null,null,null]}function ui(r,s){const o=r.contentQueries;if(null!==o)for(let u=0;u<o.length;u+=2){const h=o[u+1];if(-1!==h){const f=r.data[h];de(o[u]),f.contentQueries(2,s[h],h)}}}function ou(r,s){return r[js]?r[Ba][mi]=s:r[js]=s,r[Ba]=s,s}function ba(r,s,o){de(0);const u=xr(null);try{s(r,o)}finally{xr(u)}}function xC(r){return r[Bs]||(r[Bs]=[])}function Ue(r){return r.cleanup||(r.cleanup=[])}function vo(r,s){const o=r[Fr],u=o?o.get(Yu,null):null;u&&u.handleError(s)}function wf(r,s,o,u,l){for(let h=0;h<o.length;){const f=o[h++],y=o[h++];HE(r.data[f],s[f],u,y,l)}}function ot(r,s,o){const u=Wa(s,r);!function qp(r,s,o){r.setValue(s,o)}(r[Nt],u,o)}function mt(r,s){const o=Dn(s,r),u=o[et];!function HA(r,s){for(let o=s.length;o<r.blueprint.length;o++)s.push(r.blueprint[o])}(u,o);const l=o[wn];null!==l&&null===o[hr]&&(o[hr]=Yc(l,o[Fr])),it(u,o,o[Fn])}function it(r,s,o){Ot(s);try{const u=r.viewQuery;null!==u&&ba(1,u,o);const l=r.template;null!==l&&Wv(r,s,l,1,o),r.firstCreatePass&&(r.firstCreatePass=!1),r.staticContentQueries&&ui(r,s),r.staticViewQueries&&ba(2,r.viewQuery,o);const h=r.components;null!==h&&function ge(r,s){for(let o=0;o<s.length;o++)mt(r,s[o])}(s,h)}catch(u){throw r.firstCreatePass&&(r.incompleteFirstPass=!0,r.firstCreatePass=!1),u}finally{s[Rt]&=-5,uo()}}let ke=(()=>{class r{constructor(){this.all=new Set,this.queue=new Map}create(o,u,l){const h=typeof Zone>"u"?null:Zone.current,f=function Ur(r,s,o){const u=Object.create(is);o&&(u.consumerAllowSignalWrites=!0),u.fn=r,u.schedule=s;const l=f=>{u.cleanupFn=f};return u.ref={notify:()=>oo(u),run:()=>{if(u.dirty=!1,u.hasRun&&!za(u))return;u.hasRun=!0;const f=xu(u);try{u.cleanupFn(),u.cleanupFn=Ir,u.fn(l)}finally{ga(u,f)}},cleanup:()=>u.cleanupFn()},u.ref}(o,M=>{this.all.has(M)&&this.queue.set(M,h)},l);let y;this.all.add(f),f.notify();const E=()=>{f.cleanup(),y?.(),this.all.delete(f),this.queue.delete(f)};return y=u?.onDestroy(E),{destroy:E}}flush(){if(0!==this.queue.size)for(const[o,u]of this.queue)this.queue.delete(o),u?u.run(()=>o.run()):o.run()}get isQueueEmpty(){return 0===this.queue.size}static{this.\u0275prov=Jt({token:r,providedIn:"root",factory:()=>new r})}}return r})();function Ef(r,s,o){let u=o?r.styles:null,l=o?r.classes:null,h=0;if(null!==s)for(let f=0;f<s.length;f++){const y=s[f];"number"==typeof y?h=y:1==h?l=Ye(l,y):2==h&&(u=Ye(u,y+": "+s[++f]+";"))}o?r.styles=u:r.stylesWithoutHost=u,o?r.classes=l:r.classesWithoutHost=l}function Df(r,s,o,u,l=!1){for(;null!==o;){const h=s[o.index];null!==h&&u.push(tn(h)),rr(h)&&GE(h,u);const f=o.type;if(8&f)Df(r,s,o.child,u);else if(32&f){const y=Wp(o,s);let E;for(;E=y();)u.push(E)}else if(16&f){const y=Xw(s,o);if(Array.isArray(y))u.push(...y);else{const E=Wl(s[qn]);Df(E[et],E,y,u,!0)}}o=l?o.projectionNext:o.next}return u}function GE(r,s){for(let o=Yn;o<r.length;o++){const u=r[o],l=u[et].firstChild;null!==l&&Df(u[et],u,l,s)}r[nr]!==r[wn]&&s.push(r[nr])}function Kg(r,s,o,u=!0){const l=s[yi],h=l.rendererFactory,f=l.afterRenderEventManager;h.begin?.(),f?.begin();try{Jv(r,s,r.template,o)}catch(E){throw u&&vo(s,E),E}finally{h.end?.(),l.effectManager?.flush(),f?.end()}}function Jv(r,s,o,u){const l=s[Rt];if(256!=(256&l)){s[yi].effectManager?.flush(),Ot(s);try{Ei(s),function Fl(r){return St.lFrame.bindingIndex=r}(r.bindingStartIndex),null!==o&&Wv(r,s,o,2,u);const f=3==(3&l);if(f){const M=r.preOrderCheckHooks;null!==M&&Th(s,M,null)}else{const M=r.preOrderHooks;null!==M&&Lc(s,M,0,null),Fc(s,0)}if(function GA(r){for(let s=zw(r);null!==s;s=Gw(s)){if(!s[io])continue;const o=s[_i];for(let u=0;u<o.length;u++){mh(o[u])}}}(s),WE(s,2),null!==r.contentQueries&&ui(r,s),f){const M=r.contentCheckHooks;null!==M&&Th(s,M)}else{const M=r.contentHooks;null!==M&&Lc(s,M,1),Fc(s,1)}!function PE(r,s){const o=r.hostBindingOpCodes;if(null===o)return;const u=yf(s,aa);try{for(let l=0;l<o.length;l++){const h=o[l];if(h<0)Bu(~h);else{const f=h,y=o[++l],E=o[++l];g(y,f),u.dirty=!1;const M=xu(u);try{E(2,s[f])}finally{ga(u,M)}}}}finally{null===s[aa]&&$v(s,aa),Bu(-1)}}(r,s);const y=r.components;null!==y&&zt(s,y,0);const E=r.viewQuery;if(null!==E&&ba(2,E,u),f){const M=r.viewCheckHooks;null!==M&&Th(s,M)}else{const M=r.viewHooks;null!==M&&Lc(s,M,2),Fc(s,2)}!0===r.firstUpdatePass&&(r.firstUpdatePass=!1),s[Rt]&=-73,Gi(s)}finally{uo()}}}function WE(r,s){for(let o=zw(r);null!==o;o=Gw(o))for(let u=Yn;u<o.length;u++)e_(o[u],s)}function RC(r,s,o){e_(Dn(s,r),o)}function e_(r,s){if(!function Lu(r){return 128==(128&r[Rt])}(r))return;const o=r[et],u=r[Rt];if(80&u&&0===s||1024&u||2===s)Jv(o,r,o.template,r[Fn]);else if(r[eo]>0){WE(r,1);const l=o.components;null!==l&&zt(r,l,1)}}function zt(r,s,o){for(let u=0;u<s.length;u++)RC(r,s[u],o)}class Aa{get rootNodes(){const s=this._lView,o=s[et];return Df(o,s,o.firstChild,[])}constructor(s,o){this._lView=s,this._cdRefInjectingView=o,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Fn]}set context(s){this._lView[Fn]=s}get destroyed(){return 256==(256&this._lView[Rt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[En];if(rr(s)){const o=s[8],u=o?o.indexOf(this):-1;u>-1&&(Kl(s,u),Vp(o,u))}this._attachedToViewContainer=!1}nv(this._lView[et],this._lView)}onDestroy(s){!function Fu(r,s){if(256==(256&r[Rt]))throw new He(911,!1);null===r[ns]&&(r[ns]=[]),r[ns].push(s)}(this._lView,s)}markForCheck(){fd(this._cdRefInjectingView||this._lView)}detach(){this._lView[Rt]&=-129}reattach(){this._lView[Rt]|=128}detectChanges(){Kg(this._lView[et],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new He(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Jy(r,s){Ql(r,s,s[Nt],2,null,null)}(this._lView[et],this._lView)}attachToAppRef(s){if(this._attachedToViewContainer)throw new He(902,!1);this._appRef=s}}class KE extends Aa{constructor(s){super(s),this._view=s}detectChanges(){const s=this._view;Kg(s[et],s,s[Fn],!1)}checkNoChanges(){}get context(){return null}}class mr extends ud{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const o=Lt(s);return new Cf(o,this.ngModule)}}function yt(r){const s=[];for(let o in r)r.hasOwnProperty(o)&&s.push({propName:r[o],templateName:o});return s}class An{constructor(s,o){this.injector=s,this.parentInjector=o}get(s,o,u){u=en(u);const l=this.injector.get(s,iu,u);return l!==iu||o===iu?l:this.parentInjector.get(s,o,u)}}class Cf extends Tg{get inputs(){const s=this.componentDef,o=s.inputTransforms,u=yt(s.inputs);if(null!==o)for(const l of u)o.hasOwnProperty(l.propName)&&(l.transform=o[l.propName]);return u}get outputs(){return yt(this.componentDef.outputs)}constructor(s,o){super(),this.componentDef=s,this.ngModule=o,this.componentType=s.type,this.selector=function So(r){return r.map(Fa).join(",")}(s.selectors),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!o}create(s,o,u,l){let h=(l=l||this.ngModule)instanceof mo?l:l?.injector;h&&null!==this.componentDef.getStandaloneInjector&&(h=this.componentDef.getStandaloneInjector(h)||h);const f=h?new An(s,h):s,y=f.get(Fv,null);if(null===y)throw new He(407,!1);const z={rendererFactory:y,sanitizer:f.get(mE,null),effectManager:f.get(ke,null),afterRenderEventManager:f.get(gr,null)},Y=y.createRenderer(null,this.componentDef),ie=this.componentDef.selectors[0][0]||"div",we=u?function FE(r,s,o,u){const h=u.get(ME,!1)||o===$i.ShadowDom,f=r.selectRootElement(s,h);return function md(r){UE(r)}(f),f}(Y,u,this.componentDef.encapsulation,f):qu(Y,ie,function Tf(r){const s=r.toLowerCase();return"svg"===s?"svg":"math"===s?"math":null}(ie)),pt=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let Me=null;null!==we&&(Me=Yc(we,f,!0));const Wt=fs(0,null,null,1,0,null,null,null,null,null,null),un=el(null,Wt,null,pt,null,null,z,Y,f,null,Me);let Qn,Ps;Ot(un);try{const vu=this.componentDef;let hh,DT=null;vu.findHostDirectiveDefs?(hh=[],DT=new Map,vu.findHostDirectiveDefs(vu,hh,DT),hh.push(vu)):hh=[vu];const oA=function st(r,s){const o=r[et],u=qt;return r[u]=s,tl(o,u,2,"#host",null)}(un,we),aA=function qg(r,s,o,u,l,h,f){const y=l[et];!function t_(r,s,o,u){for(const l of r)s.mergedAttrs=Fs(s.mergedAttrs,l.hostAttrs);null!==s.mergedAttrs&&(Ef(s,s.mergedAttrs,!0),null!==o&&lv(u,o,s))}(u,r,s,f);let E=null;null!==s&&(E=Yc(s,l[Fr]));const M=h.rendererFactory.createRenderer(s,o);let k=16;o.signals?k=4096:o.onPush&&(k=64);const z=el(l,vf(o),null,k,l[r.index],r,h,M,null,null,E);return y.firstCreatePass&&Xv(y,r,u.length-1),ou(l,z),l[r.index]=z}(oA,we,vu,hh,un,z,Y);Ps=Pu(Wt,qt),we&&function OC(r,s,o,u){if(u)Xs(r,o,["ng-version",ld.full]);else{const{attrs:l,classes:h}=function Ua(r){const s=[],o=[];let u=1,l=2;for(;u<r.length;){let h=r[u];if("string"==typeof h)2===l?""!==h&&s.push(h,r[++u]):8===l&&o.push(h);else{if(!In(l))break;l=h}u++}return{attrs:s,classes:o}}(s.selectors[0]);l&&Xs(r,o,l),h&&h.length>0&&cv(r,o,h.join(" "))}}(Y,vu,we,u),void 0!==o&&function Qg(r,s,o){const u=r.projection=[];for(let l=0;l<s.length;l++){const h=o[l];u.push(null!=h?Array.from(h):null)}}(Ps,this.ngContentSelectors,o),Qn=function nl(r,s,o,u,l,h){const f=Er(),y=l[et],E=wi(f,l);Ai(y,l,f,o,null,u);for(let k=0;k<o.length;k++)Pn(eu(l,y,f.directiveStart+k,f),l);If(y,l,f),E&&Pn(E,l);const M=eu(l,y,f.directiveStart+f.componentOffset,f);if(r[Fn]=l[Fn]=M,null!==h)for(const k of h)k(M,s);return jg(y,f,r),M}(aA,vu,hh,DT,un,[kC]),it(Wt,un,null)}finally{uo()}return new Br(this.componentType,Qn,Xu(Ps,un),un,Ps)}}class Br extends Lv{constructor(s,o,u,l,h){super(),this.location=u,this._rootLView=l,this._tNode=h,this.previousInputValues=null,this.instance=o,this.hostView=this.changeDetectorRef=new KE(l),this.componentType=s}setInput(s,o){const u=this._tNode.inputs;let l;if(null!==u&&(l=u[s])){if(this.previousInputValues??=new Map,this.previousInputValues.has(s)&&Object.is(this.previousInputValues.get(s),o))return;const h=this._rootLView;wf(h[et],h,l,s,o),this.previousInputValues.set(s,o),fd(Dn(this._tNode.index,h))}}get injector(){return new Wi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}function kC(){const r=Er();Dh(xe()[et],r)}function Xg(r){let s=function Id(r){return Object.getPrototypeOf(r.prototype).constructor}(r.type),o=!0;const u=[r];for(;s;){let l;if(Mr(r))l=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new He(903,!1);l=s.\u0275dir}if(l){if(o){u.push(l);const f=r;f.inputs=qi(r.inputs),f.inputTransforms=qi(r.inputTransforms),f.declaredInputs=qi(r.declaredInputs),f.outputs=qi(r.outputs);const y=l.hostBindings;y&&XE(r,y);const E=l.viewQuery,M=l.contentQueries;if(E&&n_(r,E),M&&QE(r,M),Re(r.inputs,l.inputs),Re(r.declaredInputs,l.declaredInputs),Re(r.outputs,l.outputs),null!==l.inputTransforms&&(null===f.inputTransforms&&(f.inputTransforms={}),Re(f.inputTransforms,l.inputTransforms)),Mr(l)&&l.data.animation){const k=r.data;k.animation=(k.animation||[]).concat(l.data.animation)}}const h=l.features;if(h)for(let f=0;f<h.length;f++){const y=h[f];y&&y.ngInherit&&y(r),y===Xg&&(o=!1)}}s=Object.getPrototypeOf(s)}!function qE(r){let s=0,o=null;for(let u=r.length-1;u>=0;u--){const l=r[u];l.hostVars=s+=l.hostVars,l.hostAttrs=Fs(l.hostAttrs,o=Fs(o,l.hostAttrs))}}(u)}function qi(r){return r===Kr?{}:r===sn?[]:r}function n_(r,s){const o=r.viewQuery;r.viewQuery=o?(u,l)=>{s(u,l),o(u,l)}:s}function QE(r,s){const o=r.contentQueries;r.contentQueries=o?(u,l,h)=>{s(u,l,h),o(u,l,h)}:s}function XE(r,s){const o=r.hostBindings;r.hostBindings=o?(u,l)=>{s(u,l),o(u,l)}:s}function nc(r){const s=r.inputConfig,o={};for(const u in s)if(s.hasOwnProperty(u)){const l=s[u];Array.isArray(l)&&l[2]&&(o[u]=l[2])}r.inputTransforms=o}function wd(r){return!!ps(r)&&(Array.isArray(r)||!(r instanceof Map)&&Symbol.iterator in r)}function ps(r){return null!==r&&("function"==typeof r||"object"==typeof r)}function Un(r,s,o){return!Object.is(r[s],o)&&(r[s]=o,!0)}function Sf(r,s,o,u,l){const h=function il(r,s,o,u){const l=Un(r,s,o);return Un(r,s+1,u)||l}(r,s,o,u);return Un(r,s+2,l)||h}function Zg(r,s,o,u){const l=xe();return Un(l,Bo(),s)&&(an(),Ca(pr(),l,r,s,o,u)),Zg}function Td(r,s,o,u,l,h,f,y){const M=Sf(r,function xs(){return St.lFrame.bindingIndex}(),o,l,f);return jo(3),M?s+Xe(o)+u+Xe(l)+h+Xe(f)+y:Vt}function sm(r,s,o,u,l,h,f,y){const E=xe(),M=an(),k=r+qt,z=M.firstCreatePass?function Nd(r,s,o,u,l,h,f,y,E){const M=s.consts,k=tl(s,r,4,f||null,os(M,y));Rs(s,o,k,os(M,E)),Dh(s,k);const z=k.tView=fs(2,k,u,l,h,s.directiveRegistry,s.pipeRegistry,null,s.schemas,M,null);return null!==s.queries&&(s.queries.template(s,k),z.queries=s.queries.embeddedTView(k)),k}(k,M,E,s,o,u,l,h,f):M.data[k];Ms(z,!1);const Y=xf(M,E,z,r);Pc()&&eg(M,E,Y,z),Pn(Y,E),ou(E,E[k]=Zv(Y,E,Y,z)),on(z)&&$g(M,E,z),null!=f&&Hg(E,z,y)}let xf=function oc(r,s,o,u){return co(!0),s[Nt].createComment("")};function Rd(r,s,o){const u=xe();return Un(u,Bo(),s)&&function bi(r,s,o,u,l,h,f,y){const E=wi(s,o);let k,M=s.inputs;!y&&null!=M&&(k=M[u])?(wf(r,o,k,u,l),Ts(s)&&function Qv(r,s){const o=Dn(s,r);16&o[Rt]||(o[Rt]|=64)}(o,s.index)):3&s.type&&(u=function qv(r){return"class"===r?"className":"for"===r?"htmlFor":"formaction"===r?"formAction":"innerHtml"===r?"innerHTML":"readonly"===r?"readOnly":"tabindex"===r?"tabIndex":r}(u),l=null!=f?f(l,s.value||"",u):l,h.setProperty(E,u,l))}(an(),pr(),u,r,s,u[Nt],o,!1),Rd}function ul(r,s,o,u,l){const f=l?"class":"style";wf(r,o,s.inputs[f],f,u)}function om(r,s,o,u){const l=xe(),h=an(),f=qt+r,y=l[Nt],E=h.firstCreatePass?function h0(r,s,o,u,l,h){const f=s.consts,E=tl(s,r,2,u,os(f,l));return Rs(s,o,E,os(f,h)),null!==E.attrs&&Ef(E,E.attrs,!1),null!==E.mergedAttrs&&Ef(E,E.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,E),E}(f,h,l,s,o,u):h.data[f],M=c_(h,l,E,y,s,r);l[f]=M;const k=on(E);return Ms(E,!0),lv(y,M,E),32!=(32&E.flags)&&Pc()&&eg(h,l,M,E),0===function Ka(){return St.lFrame.elementDepthCount}()&&Pn(M,l),function Dp(){St.lFrame.elementDepthCount++}(),k&&($g(h,l,E),jg(h,E,l)),null!==u&&Hg(l,E),om}function am(){let r=Er();Xa()?function Ya(){St.lFrame.isParent=!1}():(r=r.parent,Ms(r,!1));const s=r;(function Cp(r){return St.skipHydrationRootTNode===r})(s)&&function _h(){St.skipHydrationRootTNode=null}(),function Rc(){St.lFrame.elementDepthCount--}();const o=an();return o.firstCreatePass&&(Dh(o,r),ua(r)&&o.queries.elementEnd(r)),null!=s.classesWithoutHost&&function Sy(r){return 0!=(8&r.flags)}(s)&&ul(o,s,xe(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function Vl(r){return 0!=(16&r.flags)}(s)&&ul(o,s,xe(),s.stylesWithoutHost,!1),am}function um(r,s,o,u){return om(r,s,o,u),am(),um}let c_=(r,s,o,u,l,h)=>(co(!0),qu(u,l,function wh(){return St.lFrame.currentNamespace}()));function Vn(r){return!!r&&"function"==typeof r.then}function ll(r){return!!r&&"function"==typeof r.subscribe}function Rf(r,s,o,u){const l=xe(),h=an(),f=Er();return function dm(r,s,o,u,l,h,f){const y=on(u),M=r.firstCreatePass&&Ue(r),k=s[Fn],z=xC(s);let Y=!0;if(3&u.type||f){const Pe=wi(u,s),tt=f?f(Pe):Pe,pt=z.length,Me=f?un=>f(tn(un[u.index])):u.index;let Wt=null;if(!f&&y&&(Wt=function g0(r,s,o,u){const l=r.cleanup;if(null!=l)for(let h=0;h<l.length-1;h+=2){const f=l[h];if(f===o&&l[h+1]===u){const y=s[Bs],E=l[h+2];return y.length>E?y[E]:null}"string"==typeof f&&(h+=2)}return null}(r,s,l,u.index)),null!==Wt)(Wt.__ngLastListenerFn__||Wt).__ngNextListenerFn__=h,Wt.__ngLastListenerFn__=h,Y=!1;else{h=h_(u,s,k,h,!1);const un=o.listen(tt,l,h);z.push(h,un),M&&M.push(l,Me,pt,pt+1)}}else h=h_(u,s,k,h,!1);const ie=u.outputs;let we;if(Y&&null!==ie&&(we=ie[l])){const Pe=we.length;if(Pe)for(let tt=0;tt<Pe;tt+=2){const Qn=s[we[tt]][we[tt+1]].subscribe(h),Ps=z.length;z.push(h,Qn),M&&M.push(l,u.index,Ps,-(Ps+1))}}}(h,l,l[Nt],f,r,s,u),Rf}function d_(r,s,o,u){try{return ss(6,s,o),!1!==o(u)}catch(l){return vo(r,l),!1}finally{ss(7,s,o)}}function h_(r,s,o,u,l){return function h(f){if(f===Function)return u;fd(r.componentOffset>-1?Dn(r.index,s):s);let E=d_(s,o,u,f),M=h.__ngNextListenerFn__;for(;M;)E=d_(s,o,M,f)&&E,M=M.__ngNextListenerFn__;return l&&!1===E&&f.preventDefault(),E}}function f_(r=1){return function Vu(r){return(St.lFrame.contextLView=function ai(r,s){for(;r>0;)s=s[to],r--;return s}(r,St.lFrame.contextLView))[Fn]}(r)}function dl(r,s){return r<<17|s<<2}function lu(r){return r>>17&32767}function fm(r){return 2|r}function Eo(r){return(131068&r)>>2}function pm(r,s){return-131069&r|s<<2}function kd(r){return 1|r}function kf(r,s,o,u,l){const h=r[o+1],f=null===s;let y=u?lu(h):Eo(h),E=!1;for(;0!==y&&(!1===E||f);){const k=r[y+1];Pf(r[y],s)&&(E=!0,r[y+1]=u?kd(k):fm(k)),y=u?lu(k):Eo(k)}E&&(r[o+1]=u?fm(h):kd(h))}function Pf(r,s){return null===r||null==s||(Array.isArray(r)?r[1]:r)===s||!(!Array.isArray(r)||"string"!=typeof s)&&Lh(r,s)>=0}function E_(r,s){return function Do(r,s,o,u){const l=xe(),h=an(),f=jo(2);h.firstUpdatePass&&function C0(r,s,o,u){const l=r.data;if(null===l[o+1]){const h=l[Dr()],f=function Uf(r,s){return s>=r.expandoStartIndex}(r,o);(function Vf(r,s){return 0!=(r.flags&(s?8:16))})(h,u)&&null===s&&!f&&(s=!1),s=function qC(r,s,o,u){const l=function P(r){const s=St.lFrame.currentDirectiveIndex;return-1===s?null:r[s]}(r);let h=u?s.residualClasses:s.residualStyles;if(null===l)0===(u?s.classBindings:s.styleBindings)&&(o=Xo(o=ym(null,r,s,o,u),s.attrs,u),h=null);else{const f=s.directiveStylingLast;if(-1===f||r[f]!==l)if(o=ym(l,r,s,o,u),null===h){let E=function b0(r,s,o){const u=o?s.classBindings:s.styleBindings;if(0!==Eo(u))return r[lu(u)]}(r,s,u);void 0!==E&&Array.isArray(E)&&(E=ym(null,r,s,E[1],u),E=Xo(E,s.attrs,u),function Ld(r,s,o,u){r[lu(o?s.classBindings:s.styleBindings)]=u}(r,s,u,E))}else h=function hl(r,s,o){let u;const l=s.directiveEnd;for(let h=1+s.directiveStylingLast;h<l;h++)u=Xo(u,r[h].hostAttrs,o);return Xo(u,s.attrs,o)}(r,s,u)}return void 0!==h&&(u?s.residualClasses=h:s.residualStyles=h),o}(l,h,s,u),function gs(r,s,o,u,l,h){let f=h?s.classBindings:s.styleBindings,y=lu(f),E=Eo(f);r[u]=o;let k,M=!1;if(Array.isArray(o)?(k=o[1],(null===k||Lh(o,k)>0)&&(M=!0)):k=o,l)if(0!==E){const Y=lu(r[y+1]);r[u+1]=dl(Y,y),0!==Y&&(r[Y+1]=pm(r[Y+1],u)),r[y+1]=function du(r,s){return 131071&r|s<<17}(r[y+1],u)}else r[u+1]=dl(y,0),0!==y&&(r[y+1]=pm(r[y+1],u)),y=u;else r[u+1]=dl(E,0),0===y?y=u:r[E+1]=pm(r[E+1],u),E=u;M&&(r[u+1]=fm(r[u+1])),kf(r,k,u,!0),kf(r,k,u,!1),function v_(r,s,o,u,l){const h=l?r.residualClasses:r.residualStyles;null!=h&&"string"==typeof s&&Lh(h,s)>=0&&(o[u+1]=kd(o[u+1]))}(s,k,r,u,h),f=dl(y,E),h?s.classBindings=f:s.styleBindings=f}(l,h,s,o,f,u)}}(h,r,f,u),s!==Vt&&Un(l,f,s)&&function Fd(r,s,o,u,l,h,f,y){if(!(3&s.type))return;const E=r.data,M=E[y+1],k=function y_(r){return 1==(1&r)}(M)?x0(E,s,o,l,Eo(M),f):void 0;vm(k)||(vm(h)||function _0(r){return 2==(2&r)}(M)&&(h=x0(E,null,o,l,y,f)),function YT(r,s,o,u,l){if(s)l?r.addClass(o,u):r.removeClass(o,u);else{let h=-1===u.indexOf("-")?void 0:Hy.DashCase;null==l?r.removeStyle(o,u,h):("string"==typeof l&&l.endsWith("!important")&&(l=l.slice(0,-10),h|=Hy.Important),r.setStyle(o,u,l,h))}}(u,f,Wa(Dr(),o),l,h))}(h,h.data[Dr()],l,l[Nt],r,l[f+1]=function yr(r,s){return null==r||""===r||("string"==typeof s?r+=s:"object"==typeof r&&(r=be(Qu(r)))),r}(s,o),u,f)}(r,s,null,!0),E_}function ym(r,s,o,u,l){let h=null;const f=o.directiveEnd;let y=o.directiveStylingLast;for(-1===y?y=o.directiveStart:y++;y<f&&(h=s[y],u=Xo(u,h.hostAttrs,l),h!==r);)y++;return null!==r&&(o.directiveStylingLast=y),u}function Xo(r,s,o){const u=o?1:2;let l=-1;if(null!==s)for(let h=0;h<s.length;h++){const f=s[h];"number"==typeof f?l=f:l===u&&(Array.isArray(r)||(r=void 0===r?[]:["",r]),cs(r,f,!!o||s[++h]))}return void 0===r?null:r}function x0(r,s,o,u,l,h){const f=null===s;let y;for(;l>0;){const E=r[l],M=Array.isArray(E),k=M?E[1]:E,z=null===k;let Y=o[l+1];Y===Vt&&(Y=z?sn:void 0);let ie=z?Bp(Y,u):k===u?Y:void 0;if(M&&!vm(ie)&&(ie=Bp(E,u)),vm(ie)&&(y=ie,f))return y;const we=r[l+1];l=f?lu(we):Eo(we)}if(null!==s){let E=h?s.residualClasses:s.residualStyles;null!=E&&(y=Bp(E,u))}return y}function vm(r){return void 0!==r}function Bf(r,s=""){const o=xe(),u=an(),l=r+qt,h=u.firstCreatePass?tl(u,l,1,s,null):u.data[l],f=T_(u,o,h,s,r);o[l]=f,Pc()&&eg(u,o,f,h),Ms(h,!1)}let T_=(r,s,o,u,l)=>(co(!0),function Bh(r,s){return r.createText(s)}(s[Nt],u));function C_(r){return _m("",r,""),C_}function _m(r,s,o){const u=xe(),l=function sl(r,s,o,u){return Un(r,Bo(),o)?s+Xe(o)+u:Vt}(u,r,s,o);return l!==Vt&&ot(u,Dr(),l),_m}function Yo(r,s,o,u,l,h,f){const y=xe(),E=Td(y,r,s,o,u,l,h,f);return E!==Vt&&ot(y,Dr(),E),Yo}const hu=void 0;var j0=["en",[["a","p"],["AM","PM"],hu],[["AM","PM"],hu,hu],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],hu,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],hu,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",hu,"{1} 'at' {0}",hu],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Ud(r){const o=Math.floor(Math.abs(r)),u=r.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===u?1:5}];let Vd={};function Wf(r){const s=function Kf(r){return r.toLowerCase().replace(/_/g,"-")}(r);let o=Zo(s);if(o)return o;const u=s.split("-")[0];if(o=Zo(u),o)return o;if("en"===u)return j0;throw new He(701,!1)}function Bd(r){return Wf(r)[ml.PluralCase]}function Zo(r){return r in Vd||(Vd[r]=gt.ng&&gt.ng.common&&gt.ng.common.locales&&gt.ng.common.locales[r]),Vd[r]}var ml=function(r){return r[r.LocaleId=0]="LocaleId",r[r.DayPeriodsFormat=1]="DayPeriodsFormat",r[r.DayPeriodsStandalone=2]="DayPeriodsStandalone",r[r.DaysFormat=3]="DaysFormat",r[r.DaysStandalone=4]="DaysStandalone",r[r.MonthsFormat=5]="MonthsFormat",r[r.MonthsStandalone=6]="MonthsStandalone",r[r.Eras=7]="Eras",r[r.FirstDayOfWeek=8]="FirstDayOfWeek",r[r.WeekendRange=9]="WeekendRange",r[r.DateFormat=10]="DateFormat",r[r.TimeFormat=11]="TimeFormat",r[r.DateTimeFormat=12]="DateTimeFormat",r[r.NumberSymbols=13]="NumberSymbols",r[r.NumberFormats=14]="NumberFormats",r[r.CurrencyCode=15]="CurrencyCode",r[r.CurrencySymbol=16]="CurrencySymbol",r[r.CurrencyName=17]="CurrencyName",r[r.Currencies=18]="Currencies",r[r.Directionality=19]="Directionality",r[r.PluralCase=20]="PluralCase",r[r.ExtraData=21]="ExtraData",r}(ml||{});const yl="en-US";let U_=yl;function eI(r,s,o,u,l){if(r=$e(r),Array.isArray(r))for(let h=0;h<r.length;h++)eI(r[h],s,o,u,l);else{const h=an(),f=xe(),y=Er();let E=ru(r)?r:$e(r.provide);const M=mg(r),k=1048575&y.providerIndexes,z=y.directiveStart,Y=y.providerIndexes>>20;if(ru(r)||!r.multi){const ie=new ju(M,l,Ju),we=Il(E,s,l?k:k+Y,z);-1===we?(Bc(zu(y,f),h,E),Rm(h,r,s.length),s.push(E),y.directiveStart++,y.directiveEnd++,l&&(y.providerIndexes+=1048576),o.push(ie),f.push(ie)):(o[we]=ie,f[we]=ie)}else{const ie=Il(E,s,k+Y,z),we=Il(E,s,k,k+Y),tt=we>=0&&o[we];if(l&&!tt||!l&&!(ie>=0&&o[ie])){Bc(zu(y,f),h,E);const pt=function mD(r,s,o,u,l){const h=new ju(r,o,Ju);return h.multi=[],h.index=s,h.componentProviders=0,hc(h,l,u&&!o),h}(l?gD:pD,o.length,l,u,M);!l&&tt&&(o[we].providerFactory=pt),Rm(h,r,s.length,0),s.push(E),y.directiveStart++,y.directiveEnd++,l&&(y.providerIndexes+=1048576),o.push(pt),f.push(pt)}else Rm(h,r,ie>-1?ie:we,hc(o[l?we:ie],M,!l&&u));!l&&u&&tt&&o[we].componentProviders++}}}function Rm(r,s,o,u){const l=ru(s),h=function Ev(r){return!!r.useClass}(s);if(l||h){const E=(h?$e(s.useClass):s).prototype.ngOnDestroy;if(E){const M=r.destroyHooks||(r.destroyHooks=[]);if(!l&&s.multi){const k=M.indexOf(o);-1===k?M.push(o,[u,E]):M[k+1].push(u,E)}else M.push(o,E)}}}function hc(r,s,o){return o&&r.componentProviders++,r.multi.push(s)-1}function Il(r,s,o,u){for(let l=o;l<u;l++)if(s[l]===r)return l;return-1}function pD(r,s,o,u){return tI(this.multi,[])}function gD(r,s,o,u){const l=this.multi;let h;if(this.providerFactory){const f=this.providerFactory.componentProviders,y=eu(o,o[et],this.providerFactory.index,u);h=y.slice(0,f),tI(l,h);for(let E=f;E<y.length;E++)h.push(y[E])}else h=[],tI(l,h);return h}function tI(r,s){for(let o=0;o<r.length;o++)s.push((0,r[o])());return s}function yD(r,s=[]){return o=>{o.providersResolver=(u,l)=>function fD(r,s,o){const u=an();if(u.firstCreatePass){const l=Mr(r);eI(o,u.data,u.blueprint,l,!0),eI(s,u.data,u.blueprint,l,!1)}}(u,l?l(r):r,s)}}class wl{}class Om{}function Mi(r,s){return new nI(r,s??null,[])}class nI extends wl{constructor(s,o,u){super(),this._parent=o,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new mr(this);const l=oi(s);this._bootstrapComponents=yo(l.bootstrap),this._r3Injector=hf(s,o,[{provide:wl,useValue:this},{provide:ud,useValue:this.componentFactoryResolver},...u],be(s),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(s)}get injector(){return this._r3Injector}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class rI extends Om{constructor(s){super(),this.moduleType=s}create(s){return new nI(this.moduleType,s,[])}}class km extends wl{constructor(s){super(),this.componentFactoryResolver=new mr(this),this.instance=null;const o=new Wc([...s.providers,{provide:wl,useValue:this},{provide:ud,useValue:this.componentFactoryResolver}],s.parent||Zh(),s.debugName,new Set(["environment"]));this.injector=o,s.runEnvironmentInitializers&&o.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(s){this.injector.onDestroy(s)}}function vD(r,s,o=null){return new km({providers:r,parent:s,debugName:o,runEnvironmentInitializers:!0}).injector}let Pm=(()=>{class r{constructor(o){this._injector=o,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(o){if(!o.standalone)return null;if(!this.cachedInjectors.has(o)){const u=Xh(0,o.type),l=u.length>0?vD([u],this._injector,`Standalone[${o.type.name}]`):null;this.cachedInjectors.set(o,l)}return this.cachedInjectors.get(o)}ngOnDestroy(){try{for(const o of this.cachedInjectors.values())null!==o&&o.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=Jt({token:r,providedIn:"environment",factory:()=>new r(rt(mo))})}}return r})();function tp(r){r.getStandaloneInjector=s=>s.get(Pm).getOrCreateStandaloneInjector(r)}function Ib(){return this._results[Symbol.iterator]()}class gI{get changes(){return this._changes||(this._changes=new Go)}constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const o=gI.prototype;o[Symbol.iterator]||(o[Symbol.iterator]=Ib)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,o){return this._results.reduce(s,o)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,o){const u=this;u.dirty=!1;const l=function po(r){return r.flat(Number.POSITIVE_INFINITY)}(s);(this._changesDetected=!function xw(r,s,o){if(r.length!==s.length)return!1;for(let u=0;u<r.length;u++){let l=r[u],h=s[u];if(o&&(l=o(l),h=o(h)),h!==l)return!1}return!0}(u._results,l,o))&&(u._results=l,u.length=l.length,u.last=l[this.length-1],u.first=l[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function MD(r,s,o,u=!0){const l=s[et];if(function ev(r,s,o,u){const l=Yn+u,h=o.length;u>0&&(o[l-1][mi]=s),u<h-Yn?(s[mi]=o[l],Nw(o,Yn+u,s)):(o.push(s),s[mi]=null),s[En]=o;const f=s[Hi];null!==f&&o!==f&&function tv(r,s){const o=r[_i];s[qn]!==s[En][En][qn]&&(r[io]=!0),null===o?r[_i]=[s]:o.push(s)}(f,s);const y=s[Qr];null!==y&&y.insertView(r),s[Rt]|=128}(l,s,r,o),u){const h=av(o,r),f=s[Nt],y=$h(f,r[nr]);null!==y&&function Zy(r,s,o,u,l,h){u[wn]=l,u[ar]=s,Ql(r,u,o,1,l,h)}(l,r[ar],f,s,y,h)}}let gu=(()=>{class r{static{this.__NG_ELEMENT_ID__=wb}}return r})();const yI=gu,xD=class extends yI{constructor(s,o,u){super(),this._declarationLView=s,this._declarationTContainer=o,this.elementRef=u}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(s,o){return this.createEmbeddedViewImpl(s,o)}createEmbeddedViewImpl(s,o,u){const l=function Yi(r,s,o,u){const l=s.tView,y=el(r,l,o,4096&r[Rt]?4096:16,null,s,null,null,null,u?.injector??null,u?.hydrationInfo??null);y[Hi]=r[s.index];const M=r[Qr];return null!==M&&(y[Qr]=M.createEmbeddedView(l)),it(l,y,o),y}(this._declarationLView,this._declarationTContainer,s,{injector:o,hydrationInfo:u});return new Aa(l)}};function wb(){return zm(Er(),xe())}function zm(r,s){return 4&r.type?new xD(s,r,Xu(r,s)):null}let fc=(()=>{class r{static{this.__NG_ELEMENT_ID__=_I}}return r})();function _I(){return II(Er(),xe())}const RD=fc,qm=class extends RD{constructor(s,o,u){super(),this._lContainer=s,this._hostTNode=o,this._hostLView=u}get element(){return Xu(this._hostTNode,this._hostLView)}get injector(){return new Wi(this._hostTNode,this._hostLView)}get parentInjector(){const s=Gu(this._hostTNode,this._hostLView);if(Vc(s)){const o=$u(s,this._hostLView),u=Bl(s);return new Wi(o[et].data[u+8],o)}return new Wi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const o=Qm(this._lContainer);return null!==o&&o[s]||null}get length(){return this._lContainer.length-Yn}createEmbeddedView(s,o,u){let l,h;"number"==typeof u?l=u:null!=u&&(l=u.index,h=u.injector);const y=s.createEmbeddedViewImpl(o||{},h,null);return this.insertImpl(y,l,false),y}createComponent(s,o,u,l,h){const f=s&&!function zl(r){return"function"==typeof r}(s);let y;if(f)y=o;else{const Pe=o||{};y=Pe.index,u=Pe.injector,l=Pe.projectableNodes,h=Pe.environmentInjector||Pe.ngModuleRef}const E=f?s:new Cf(Lt(s)),M=u||this.parentInjector;if(!h&&null==E.ngModule){const tt=(f?M:this.parentInjector).get(mo,null);tt&&(h=tt)}Lt(E.componentType??{});const ie=E.create(M,l,null,h);return this.insertImpl(ie.hostView,y,false),ie}insert(s,o){return this.insertImpl(s,o,!1)}insertImpl(s,o,u){const l=s._lView;if(function wr(r){return rr(r[En])}(l)){const E=this.indexOf(s);if(-1!==E)this.detach(E);else{const M=l[En],k=new qm(M,M[ar],M[En]);k.detach(k.indexOf(s))}}const f=this._adjustIndex(o),y=this._lContainer;return MD(y,l,f,!u),s.attachToViewContainerRef(),Nw(Ra(y),f,s),s}move(s,o){return this.insert(s,o)}indexOf(s){const o=Qm(this._lContainer);return null!==o?o.indexOf(s):-1}remove(s){const o=this._adjustIndex(s,-1),u=Kl(this._lContainer,o);u&&(Vp(Ra(this._lContainer),o),nv(u[et],u))}detach(s){const o=this._adjustIndex(s,-1),u=Kl(this._lContainer,o);return u&&null!=Vp(Ra(this._lContainer),o)?new Aa(u):null}_adjustIndex(s,o=0){return s??this.length+o}};function Qm(r){return r[8]}function Ra(r){return r[8]||(r[8]=[])}function II(r,s){let o;const u=s[r.index];return rr(u)?o=u:(o=Zv(u,s,null,r),s[r.index]=o,ou(s,o)),Xm(o,s,r,u),new qm(o,r,s)}let Xm=function OD(r,s,o,u){if(r[nr])return;let l;l=8&o.type?tn(u):function Tb(r,s){const o=r[Nt],u=o.createComment(""),l=wi(s,r);return tu(o,$h(o,l),u,function ql(r,s){return r.nextSibling(s)}(o,l),!1),u}(s,o),r[nr]=l};class ap{constructor(s){this.queryList=s,this.matches=null}clone(){return new ap(this.queryList)}setDirty(){this.queryList.setDirty()}}class Jd{constructor(s=[]){this.queries=s}createEmbeddedView(s){const o=s.queries;if(null!==o){const u=null!==s.contentQueries?s.contentQueries[0]:o.length,l=[];for(let h=0;h<u;h++){const f=o.getByIndex(h);l.push(this.queries[f.indexInDeclarationView].clone())}return new Jd(l)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let o=0;o<this.queries.length;o++)null!==ny(s,o).matches&&this.queries[o].setDirty()}}class Ym{constructor(s,o,u=null){this.predicate=s,this.flags=o,this.read=u}}class Zm{constructor(s=[]){this.queries=s}elementStart(s,o){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(s,o)}elementEnd(s){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(s)}embeddedTView(s){let o=null;for(let u=0;u<this.length;u++){const l=null!==o?o.length:0,h=this.getByIndex(u).embeddedTView(s,l);h&&(h.indexInDeclarationView=u,null!==o?o.push(h):o=[h])}return null!==o?new Zm(o):null}template(s,o){for(let u=0;u<this.queries.length;u++)this.queries[u].template(s,o)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class pc{constructor(s,o=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(s,o){this.isApplyingToNode(o)&&this.matchTNode(s,o)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,o){this.elementStart(s,o)}embeddedTView(s,o){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,o),new pc(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let u=s.parent;for(;null!==u&&8&u.type&&u.index!==o;)u=u.parent;return o===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(s,o){const u=this.metadata.predicate;if(Array.isArray(u))for(let l=0;l<u.length;l++){const h=u[l];this.matchTNodeWithReadOption(s,o,EI(o,h)),this.matchTNodeWithReadOption(s,o,jc(o,s,h,!1,!1))}else u===gu?4&o.type&&this.matchTNodeWithReadOption(s,o,-1):this.matchTNodeWithReadOption(s,o,jc(o,s,u,!1,!1))}matchTNodeWithReadOption(s,o,u){if(null!==u){const l=this.metadata.read;if(null!==l)if(l===cd||l===fc||l===gu&&4&o.type)this.addMatch(o.index,-2);else{const h=jc(o,s,l,!1,!1);null!==h&&this.addMatch(o.index,h)}else this.addMatch(o.index,u)}}addMatch(s,o){null===this.matches?this.matches=[s,o]:this.matches.push(s,o)}}function EI(r,s){const o=r.localNames;if(null!==o)for(let u=0;u<o.length;u+=2)if(o[u]===s)return o[u+1];return null}function Ab(r,s,o,u){return-1===o?function bb(r,s){return 11&r.type?Xu(r,s):4&r.type?zm(r,s):null}(s,r):-2===o?function kD(r,s,o){return o===cd?Xu(s,r):o===gu?zm(s,r):o===fc?II(s,r):void 0}(r,s,u):eu(r,r[et],o,s)}function DI(r,s,o,u){const l=s[Qr].queries[u];if(null===l.matches){const h=r.data,f=o.matches,y=[];for(let E=0;E<f.length;E+=2){const M=f[E];y.push(M<0?null:Ab(s,h[M],f[E+1],o.metadata.read))}l.matches=y}return l.matches}function TI(r,s,o,u){const l=r.queries.getByIndex(o),h=l.matches;if(null!==h){const f=DI(r,s,l,o);for(let y=0;y<h.length;y+=2){const E=h[y];if(E>0)u.push(f[y/2]);else{const M=h[y+1],k=s[-E];for(let z=Yn;z<k.length;z++){const Y=k[z];Y[Hi]===Y[En]&&TI(Y[et],Y,M,u)}if(null!==k[_i]){const z=k[_i];for(let Y=0;Y<z.length;Y++){const ie=z[Y];TI(ie[et],ie,M,u)}}}}}return u}function Jm(r){const s=xe(),o=an(),u=G();de(u+1);const l=ny(o,u);if(r.dirty&&function Ep(r){return 4==(4&r[Rt])}(s)===(2==(2&l.metadata.flags))){if(null===l.matches)r.reset([]);else{const h=l.crossesNgTemplate?TI(o,s,u,[]):DI(o,s,l,u);r.reset(h,gE),r.notifyOnChanges()}return!0}return!1}function ey(r,s,o,u){const l=an();if(l.firstCreatePass){const h=Er();(function ty(r,s,o){null===r.queries&&(r.queries=new Zm),r.queries.track(new pc(s,o))})(l,new Ym(s,o,u),h.index),function FD(r,s){const o=r.contentQueries||(r.contentQueries=[]);s!==(o.length?o[o.length-1]:-1)&&o.push(r.queries.length-1,s)}(l,r),2==(2&o)&&(l.staticContentQueries=!0)}!function LD(r,s,o){const u=new gI(4==(4&o));(function zn(r,s,o,u){const l=xC(s);l.push(o),r.firstCreatePass&&Ue(r).push(u,l.length-1)})(r,s,u,u.destroy),null===s[Qr]&&(s[Qr]=new Jd),s[Qr].queries.push(new ap(u))}(l,xe(),o)}function PD(){return function CI(r,s){return r[Qr].queries[s].queryList}(xe(),G())}function ny(r,s){return r.queries.getByIndex(s)}function mc(r){return!!oi(r)}const cy=new Et("Application Initializer");let $I=(()=>{class r{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((o,u)=>{this.resolve=o,this.reject=u}),this.appInits=ut(cy,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const o=[];for(const l of this.appInits){const h=l();if(Vn(h))o.push(h);else if(ll(h)){const f=new Promise((y,E)=>{h.subscribe({complete:y,error:E})});o.push(f)}}const u=()=>{this.done=!0,this.resolve()};Promise.all(o).then(()=>{u()}).catch(l=>{this.reject(l)}),0===o.length&&u(),this.initialized=!0}static{this.\u0275fac=function(u){return new(u||r)}}static{this.\u0275prov=Jt({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})(),ly=(()=>{class r{log(o){console.log(o)}warn(o){console.warn(o)}static{this.\u0275fac=function(u){return new(u||r)}}static{this.\u0275prov=Jt({token:r,factory:r.\u0275fac,providedIn:"platform"})}}return r})();const th=new Et("LocaleId",{providedIn:"root",factory:()=>ut(th,Ze.Optional|Ze.SkipSelf)||function JD(){return typeof $localize<"u"&&$localize.locale||yl}()}),eT=new Et("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let tT=(()=>{class r{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new X.t(!1)}add(){this.hasPendingTasks.next(!0);const o=this.taskId++;return this.pendingTasks.add(o),o}remove(o){this.pendingTasks.delete(o),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static{this.\u0275fac=function(u){return new(u||r)}}static{this.\u0275prov=Jt({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();class zI{constructor(s,o){this.ngModuleFactory=s,this.componentFactories=o}}let GI=(()=>{class r{compileModuleSync(o){return new rI(o)}compileModuleAsync(o){return Promise.resolve(this.compileModuleSync(o))}compileModuleAndAllComponentsSync(o){const u=this.compileModuleSync(o),h=yo(oi(o).declarations).reduce((f,y)=>{const E=Lt(y);return E&&f.push(new Cf(E)),f},[]);return new zI(u,h)}compileModuleAndAllComponentsAsync(o){return Promise.resolve(this.compileModuleAndAllComponentsSync(o))}clearCache(){}clearCacheFor(o){}getModuleId(o){}static{this.\u0275fac=function(u){return new(u||r)}}static{this.\u0275prov=Jt({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();const aT=new Et(""),tw=new Et("");let rw,Ub=(()=>{class r{constructor(o,u,l){this._ngZone=o,this.registry=u,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,rw||(function Vb(r){rw=r}(l),l.addToWindow(u)),this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ci.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb(this._didWork)}this._didWork=!1});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(o)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,u,l){let h=-1;u&&u>0&&(h=setTimeout(()=>{this._callbacks=this._callbacks.filter(f=>f.timeoutId!==h),o(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:o,timeoutId:h,updateCb:l})}whenStable(o,u,l){if(l&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,u,l),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(o){this.registry.registerApplication(o,this)}unregisterApplication(o){this.registry.unregisterApplication(o)}findProviders(o,u,l){return[]}static{this.\u0275fac=function(u){return new(u||r)(rt(Ci),rt(nw),rt(tw))}}static{this.\u0275prov=Jt({token:r,factory:r.\u0275fac})}}return r})(),nw=(()=>{class r{constructor(){this._applications=new Map}registerApplication(o,u){this._applications.set(o,u)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,u=!0){return rw?.findTestabilityInTree(this,o,u)??null}static{this.\u0275fac=function(u){return new(u||r)}}static{this.\u0275prov=Jt({token:r,factory:r.\u0275fac,providedIn:"platform"})}}return r})(),yc=null;const uT=new Et("AllowMultipleToken"),my=new Et("PlatformDestroyListeners"),yy=new Et("appBootstrapListener");class vy{constructor(s,o){this.name=s,this.token=o}}function dT(r,s,o=[]){const u=`Platform: ${s}`,l=new Et(u);return(h=[])=>{let f=aw();if(!f||f.injector.get(uT,!1)){const y=[...o,...h,{provide:l,useValue:!0}];r?r(y):function Tn(r){if(yc&&!yc.get(uT,!1))throw new He(400,!1);(function sw(){!function Ce(r){W=r}(()=>{throw new He(600,!1)})})(),yc=r;const s=r.get(Bb);(function ow(r){r.get(Sv,null)?.forEach(o=>o())})(r)}(function xi(r=[],s){return hs.create({name:s,providers:[{provide:pg,useValue:"platform"},{provide:my,useValue:new Set([()=>yc=null])},...r]})}(y,u))}return function $r(r){const s=aw();if(!s)throw new He(401,!1);return s}()}}function aw(){return yc?.get(Bb)??null}let Bb=(()=>{class r{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,u){const l=function dS(r="zone.js",s){return"noop"===r?new TE:"zone.js"===r?new Ci(s):r}(u?.ngZone,function hT(r){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:r?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:r?.runCoalescing??!1}}({eventCoalescing:u?.ngZoneEventCoalescing,runCoalescing:u?.ngZoneRunCoalescing}));return l.run(()=>{const h=function hb(r,s,o){return new nI(r,s,o)}(o.moduleType,this.injector,function cw(r){return[{provide:Ci,useFactory:r},{provide:Qh,multi:!0,useFactory:()=>{const s=ut($b,{optional:!0});return()=>s.initialize()}},{provide:or,useFactory:hS},{provide:Bv,useFactory:CE}]}(()=>l)),f=h.injector.get(Yu,null);return l.runOutsideAngular(()=>{const y=l.onError.subscribe({next:E=>{f.handleError(E)}});h.onDestroy(()=>{Iy(this._modules,h),y.unsubscribe()})}),function uw(r,s,o){try{const u=o();return Vn(u)?u.catch(l=>{throw s.runOutsideAngular(()=>r.handleError(l)),l}):u}catch(u){throw s.runOutsideAngular(()=>r.handleError(u)),u}}(f,l,()=>{const y=h.injector.get($I);return y.runInitializers(),y.donePromise.then(()=>(function Tm(r){_n(r,"Expected localeId to be defined"),"string"==typeof r&&(U_=r.toLowerCase().replace(/_/g,"-"))}(h.injector.get(th,yl)||yl),this._moduleDoBootstrap(h),h))})})}bootstrapModule(o,u=[]){const l=fT({},u);return function iw(r,s,o){const u=new rI(o);return Promise.resolve(u)}(0,0,o).then(h=>this.bootstrapModuleFactory(h,l))}_moduleDoBootstrap(o){const u=o.injector.get(vc);if(o._bootstrapComponents.length>0)o._bootstrapComponents.forEach(l=>u.bootstrap(l));else{if(!o.instance.ngDoBootstrap)throw new He(-403,!1);o.instance.ngDoBootstrap(u)}this._modules.push(o)}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new He(404,!1);this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u());const o=this._injector.get(my,null);o&&(o.forEach(u=>u()),o.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static{this.\u0275fac=function(u){return new(u||r)(rt(hs))}}static{this.\u0275prov=Jt({token:r,factory:r.\u0275fac,providedIn:"platform"})}}return r})();function fT(r,s){return Array.isArray(s)?s.reduce(fT,r):{...r,...s}}let vc=(()=>{class r{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=ut(or),this.zoneIsStable=ut(Bv),this.componentTypes=[],this.components=[],this.isStable=ut(tT).hasPendingTasks.pipe((0,Gt.n)(o=>o?(0,K.of)(!1):this.zoneIsStable),function pn(r,s=Dt.D){return r=r??yn,(0,Le.N)((o,u)=>{let l,h=!0;o.subscribe((0,Ct._)(u,f=>{const y=s(f);(h||!r(l,y))&&(h=!1,l=y,u.next(f))}))})}(),Ae()),this._injector=ut(mo)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(o,u){const l=o instanceof Tg;if(!this._injector.get($I).done)throw!l&&si(o),new He(405,!1);let f;f=l?o:this._injector.get(ud).resolveComponentFactory(o),this.componentTypes.push(f.componentType);const y=function cT(r){return r.isBoundToModule}(f)?void 0:this._injector.get(wl),M=f.create(hs.NULL,[],u||f.selector,y),k=M.location.nativeElement,z=M.injector.get(aT,null);return z?.registerApplication(k),M.onDestroy(()=>{this.detachView(M.hostView),Iy(this.components,M),z?.unregisterApplication(k)}),this._loadComponent(M),M}tick(){if(this._runningTick)throw new He(101,!1);try{this._runningTick=!0;for(let o of this._views)o.detectChanges()}catch(o){this.internalErrorHandler(o)}finally{this._runningTick=!1}}attachView(o){const u=o;this._views.push(u),u.attachToAppRef(this)}detachView(o){const u=o;Iy(this._views,u),u.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o);const u=this._injector.get(yy,[]);u.push(...this._bootstrapListeners),u.forEach(l=>l(o))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(o=>o()),this._views.slice().forEach(o=>o.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(o){return this._destroyListeners.push(o),()=>Iy(this._destroyListeners,o)}destroy(){if(this._destroyed)throw new He(406,!1);const o=this._injector;o.destroy&&!o.destroyed&&o.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(u){return new(u||r)}}static{this.\u0275prov=Jt({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();function Iy(r,s){const o=r.indexOf(s);o>-1&&r.splice(o,1)}const or=new Et("",{providedIn:"root",factory:()=>ut(Yu).handleError.bind(void 0)});function hS(){const r=ut(Ci),s=ut(Yu);return o=>r.runOutsideAngular(()=>s.handleError(o))}let $b=(()=>{class r{constructor(){this.zone=ut(Ci),this.applicationRef=ut(vc)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(u){return new(u||r)}}static{this.\u0275prov=Jt({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();let pS=(()=>{class r{static{this.__NG_ELEMENT_ID__=gS}}return r})();function gS(r){return function mS(r,s,o){if(Ts(r)&&!o){const u=Dn(r.index,s);return new Aa(u,u)}return 47&r.type?new Aa(s[qn],s):null}(Er(),xe(),16==(16&r))}class mT{constructor(){}supports(s){return wd(s)}create(s){return new fw(s)}}const qb=(r,s)=>s;class fw{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||qb}forEachItem(s){let o;for(o=this._itHead;null!==o;o=o._next)s(o)}forEachOperation(s){let o=this._itHead,u=this._removalsHead,l=0,h=null;for(;o||u;){const f=!u||o&&o.currentIndex<gw(u,l,h)?o:u,y=gw(f,l,h),E=f.currentIndex;if(f===u)l--,u=u._nextRemoved;else if(o=o._next,null==f.previousIndex)l++;else{h||(h=[]);const M=y-l,k=E-l;if(M!=k){for(let Y=0;Y<M;Y++){const ie=Y<h.length?h[Y]:h[Y]=0,we=ie+Y;k<=we&&we<M&&(h[Y]=ie+1)}h[f.previousIndex]=k-M}}y!==E&&s(f,y,E)}}forEachPreviousItem(s){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)s(o)}forEachAddedItem(s){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)s(o)}forEachMovedItem(s){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)s(o)}forEachRemovedItem(s){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)s(o)}forEachIdentityChange(s){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)s(o)}diff(s){if(null==s&&(s=[]),!wd(s))throw new He(900,!1);return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let l,h,f,o=this._itHead,u=!1;if(Array.isArray(s)){this.length=s.length;for(let y=0;y<this.length;y++)h=s[y],f=this._trackByFn(y,h),null!==o&&Object.is(o.trackById,f)?(u&&(o=this._verifyReinsertion(o,h,f,y)),Object.is(o.item,h)||this._addIdentityChange(o,h)):(o=this._mismatch(o,h,f,y),u=!0),o=o._next}else l=0,function FC(r,s){if(Array.isArray(r))for(let o=0;o<r.length;o++)s(r[o]);else{const o=r[Symbol.iterator]();let u;for(;!(u=o.next()).done;)s(u.value)}}(s,y=>{f=this._trackByFn(l,y),null!==o&&Object.is(o.trackById,f)?(u&&(o=this._verifyReinsertion(o,y,f,l)),Object.is(o.item,y)||this._addIdentityChange(o,y)):(o=this._mismatch(o,y,f,l),u=!0),o=o._next,l++}),this.length=l;return this._truncate(o),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,o,u,l){let h;return null===s?h=this._itTail:(h=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(s.item,o)||this._addIdentityChange(s,o),this._reinsertAfter(s,h,l)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(u,l))?(Object.is(s.item,o)||this._addIdentityChange(s,o),this._moveAfter(s,h,l)):s=this._addAfter(new pw(o,u),h,l),s}_verifyReinsertion(s,o,u,l){let h=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==h?s=this._reinsertAfter(h,s._prev,l):s.currentIndex!=l&&(s.currentIndex=l,this._addToMoves(s,l)),s}_truncate(s){for(;null!==s;){const o=s._next;this._addToRemovals(this._unlink(s)),s=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,o,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const l=s._prevRemoved,h=s._nextRemoved;return null===l?this._removalsHead=h:l._nextRemoved=h,null===h?this._removalsTail=l:h._prevRemoved=l,this._insertAfter(s,o,u),this._addToMoves(s,u),s}_moveAfter(s,o,u){return this._unlink(s),this._insertAfter(s,o,u),this._addToMoves(s,u),s}_addAfter(s,o,u){return this._insertAfter(s,o,u),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,o,u){const l=null===o?this._itHead:o._next;return s._next=l,s._prev=o,null===l?this._itTail=s:l._prev=s,null===o?this._itHead=s:o._next=s,null===this._linkedRecords&&(this._linkedRecords=new wc),this._linkedRecords.put(s),s.currentIndex=u,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const o=s._prev,u=s._next;return null===o?this._itHead=u:o._next=u,null===u?this._itTail=o:u._prev=o,s}_addToMoves(s,o){return s.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new wc),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,o){return s.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class pw{constructor(s,o){this.item=s,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class yT{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,o){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===o||o<=u.currentIndex)&&Object.is(u.trackById,s))return u;return null}remove(s){const o=s._prevDup,u=s._nextDup;return null===o?this._head=u:o._nextDup=u,null===u?this._tail=o:u._prevDup=o,null===this._head}}class wc{constructor(){this.map=new Map}put(s){const o=s.trackById;let u=this.map.get(o);u||(u=new yT,this.map.set(o,u)),u.add(s)}get(s,o){const l=this.map.get(s);return l?l.get(s,o):null}remove(s){const o=s.trackById;return this.map.get(o).remove(s)&&this.map.delete(o),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function gw(r,s,o){const u=r.previousIndex;if(null===u)return u;let l=0;return o&&u<o.length&&(l=o[u]),u+s+l}class mw{constructor(){}supports(s){return s instanceof Map||ps(s)}create(){return new yw}}class yw{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let o;for(o=this._mapHead;null!==o;o=o._next)s(o)}forEachPreviousItem(s){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)s(o)}forEachChangedItem(s){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)s(o)}forEachAddedItem(s){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)s(o)}forEachRemovedItem(s){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)s(o)}diff(s){if(s){if(!(s instanceof Map||ps(s)))throw new He(900,!1)}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(s,(u,l)=>{if(o&&o.key===l)this._maybeAddToChanges(o,u),this._appendAfter=o,o=o._next;else{const h=this._getOrCreateRecordForKey(l,u);o=this._insertBeforeOrAppend(o,h)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let u=o;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,o){if(s){const u=s._prev;return o._next=s,o._prev=u,s._prev=o,u&&(u._next=o),s===this._mapHead&&(this._mapHead=o),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(s,o){if(this._records.has(s)){const l=this._records.get(s);this._maybeAddToChanges(l,o);const h=l._prev,f=l._next;return h&&(h._next=f),f&&(f._prev=h),l._next=null,l._prev=null,l}const u=new gp(s);return this._records.set(s,u),u.currentValue=o,this._addToAdditions(u),u}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,o){Object.is(o,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=o,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,o){s instanceof Map?s.forEach(o):Object.keys(s).forEach(u=>o(s[u],u))}}class gp{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function vT(){return new ch([new mT])}let ch=(()=>{class r{static{this.\u0275prov=Jt({token:r,providedIn:"root",factory:vT})}constructor(o){this.factories=o}static create(o,u){if(null!=u){const l=u.factories.slice();o=o.concat(l)}return new r(o)}static extend(o){return{provide:r,useFactory:u=>r.create(o,u||vT()),deps:[[r,new Ly,new Py]]}}find(o){const u=this.factories.find(l=>l.supports(o));if(null!=u)return u;throw new He(901,!1)}}return r})();function _w(){return new Al([new mw])}let Al=(()=>{class r{static{this.\u0275prov=Jt({token:r,providedIn:"root",factory:_w})}constructor(o){this.factories=o}static create(o,u){if(u){const l=u.factories.slice();o=o.concat(l)}return new r(o)}static extend(o){return{provide:r,useFactory:u=>r.create(o,u||_w()),deps:[[r,new Ly,new Py]]}}find(o){const u=this.factories.find(l=>l.supports(o));if(u)return u;throw new He(901,!1)}}return r})();const mp=dT(null,"core",[]);let Yb=(()=>{class r{constructor(o){}static{this.\u0275fac=function(u){return new(u||r)(rt(vc))}}static{this.\u0275mod=Tc({type:r})}static{this.\u0275inj=Kt({})}}return r})();function TS(r){return"boolean"==typeof r?r:null!=r&&"false"!==r}function Ec(r){const s=Lt(r);if(!s)return null;const o=new Cf(s);return{get selector(){return o.selector},get type(){return o.componentType},get inputs(){return o.inputs},get outputs(){return o.outputs},get ngContentSelectors(){return o.ngContentSelectors},get isStandalone(){return s.standalone},get isSignal(){return s.signals}}}},2979:(It,Ne,H)=>{H.d(Ne,{MF:()=>fi,j6:()=>hn,om:()=>Wn,Sx:()=>tr,Dk:()=>ii,Wp:()=>er,KO:()=>Or});var C=H(467),Z=H(8779),te=H(5398),le=H(1401);const V=(_e,oe)=>oe.some(Fe=>_e instanceof Fe);let J,Ee;const X=new WeakMap,K=new WeakMap,pe=new WeakMap,Le=new WeakMap,Ae=new WeakMap;let Dt={get(_e,oe,Fe){if(_e instanceof IDBTransaction){if("done"===oe)return K.get(_e);if("objectStoreNames"===oe)return _e.objectStoreNames||pe.get(_e);if("store"===oe)return Fe.objectStoreNames[1]?void 0:Fe.objectStore(Fe.objectStoreNames[0])}return De(_e[oe])},set:(_e,oe,Fe)=>(_e[oe]=Fe,!0),has:(_e,oe)=>_e instanceof IDBTransaction&&("done"===oe||"store"===oe)||oe in _e};function yn(_e){return"function"==typeof _e?function pn(_e){return _e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Te(){return Ee||(Ee=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(_e)?function(...oe){return _e.apply(Re(this),oe),De(X.get(this))}:function(...oe){return De(_e.apply(Re(this),oe))}:function(oe,...Fe){const rt=_e.call(Re(this),oe,...Fe);return pe.set(rt,oe.sort?oe.sort():[oe]),De(rt)}}(_e):(_e instanceof IDBTransaction&&function Gt(_e){if(K.has(_e))return;const oe=new Promise((Fe,rt)=>{const xt=()=>{_e.removeEventListener("complete",ut),_e.removeEventListener("error",en),_e.removeEventListener("abort",en)},ut=()=>{Fe(),xt()},en=()=>{rt(_e.error||new DOMException("AbortError","AbortError")),xt()};_e.addEventListener("complete",ut),_e.addEventListener("error",en),_e.addEventListener("abort",en)});K.set(_e,oe)}(_e),V(_e,function qe(){return J||(J=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(_e,Dt):_e)}function De(_e){if(_e instanceof IDBRequest)return function nt(_e){const oe=new Promise((Fe,rt)=>{const xt=()=>{_e.removeEventListener("success",ut),_e.removeEventListener("error",en)},ut=()=>{Fe(De(_e.result)),xt()},en=()=>{rt(_e.error),xt()};_e.addEventListener("success",ut),_e.addEventListener("error",en)});return oe.then(Fe=>{Fe instanceof IDBCursor&&X.set(Fe,_e)}).catch(()=>{}),Ae.set(oe,_e),oe}(_e);if(Le.has(_e))return Le.get(_e);const oe=yn(_e);return oe!==_e&&(Le.set(_e,oe),Ae.set(oe,_e)),oe}const Re=_e=>Ae.get(_e),at=["get","getKey","getAll","getAllKeys","count"],Ge=["put","add","delete","clear"],$e=new Map;function Bt(_e,oe){if(!(_e instanceof IDBDatabase)||oe in _e||"string"!=typeof oe)return;if($e.get(oe))return $e.get(oe);const Fe=oe.replace(/FromIndex$/,""),rt=oe!==Fe,xt=Ge.includes(Fe);if(!(Fe in(rt?IDBIndex:IDBObjectStore).prototype)||!xt&&!at.includes(Fe))return;const ut=function(){var en=(0,C.A)(function*(Xn,...gn){const vs=this.transaction(Xn,xt?"readwrite":"readonly");let Ls=vs.store;return rt&&(Ls=Ls.index(gn.shift())),(yield Promise.all([Ls[Fe](...gn),xt&&vs.done]))[0]});return function(gn){return en.apply(this,arguments)}}();return $e.set(oe,ut),ut}!function Ct(_e){Dt=_e(Dt)}(_e=>({..._e,get:(oe,Fe,rt)=>Bt(oe,Fe)||_e.get(oe,Fe,rt),has:(oe,Fe)=>!!Bt(oe,Fe)||_e.has(oe,Fe)}));class Ln{constructor(oe){this.container=oe}getPlatformInfoString(){return this.container.getProviders().map(Fe=>{if(function Be(_e){const oe=_e.getComponent();return"VERSION"===oe?.type}(Fe)){const rt=Fe.getImmediate();return`${rt.library}/${rt.version}`}return null}).filter(Fe=>Fe).join(" ")}}const Gn="@firebase/app",cn=new te.Vy("@firebase/app"),Mn="[DEFAULT]",Kt={[Gn]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Mt=new Map,xn=new Map;function lr(_e,oe){try{_e.container.addComponent(oe)}catch(Fe){cn.debug(`Component ${oe.name} failed to register with FirebaseApp ${_e.name}`,Fe)}}function Wn(_e){const oe=_e.name;if(xn.has(oe))return cn.debug(`There were multiple attempts to register component ${oe}.`),!1;xn.set(oe,_e);for(const Fe of Mt.values())lr(Fe,_e);return!0}function hn(_e,oe){const Fe=_e.container.getProvider("heartbeat").getImmediate({optional:!0});return Fe&&Fe.triggerHeartbeat(),_e.container.getProvider(oe)}const Ze=new le.FA("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class hi{constructor(oe,Fe,rt){this._isDeleted=!1,this._options=Object.assign({},oe),this._config=Object.assign({},Fe),this._name=Fe.name,this._automaticDataCollectionEnabled=Fe.automaticDataCollectionEnabled,this._container=rt,this.container.addComponent(new Z.uA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(oe){this.checkDestroyed(),this._automaticDataCollectionEnabled=oe}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(oe){this._isDeleted=oe}checkDestroyed(){if(this.isDeleted)throw Ze.create("app-deleted",{appName:this._name})}}const fi="9.23.0";function er(_e,oe={}){let Fe=_e;"object"!=typeof oe&&(oe={name:oe});const rt=Object.assign({name:Mn,automaticDataCollectionEnabled:!1},oe),xt=rt.name;if("string"!=typeof xt||!xt)throw Ze.create("bad-app-name",{appName:String(xt)});if(Fe||(Fe=(0,le.T9)()),!Fe)throw Ze.create("no-options");const ut=Mt.get(xt);if(ut){if((0,le.bD)(Fe,ut.options)&&(0,le.bD)(rt,ut.config))return ut;throw Ze.create("duplicate-app",{appName:xt})}const en=new Z.h1(xt);for(const gn of xn.values())en.addComponent(gn);const Xn=new hi(Fe,rt,en);return Mt.set(xt,Xn),Xn}function tr(_e=Mn){const oe=Mt.get(_e);if(!oe&&_e===Mn&&(0,le.T9)())return er();if(!oe)throw Ze.create("no-app",{appName:_e});return oe}function ii(){return Array.from(Mt.values())}function Or(_e,oe,Fe){var rt;let xt=null!==(rt=Kt[_e])&&void 0!==rt?rt:_e;Fe&&(xt+=`-${Fe}`);const ut=xt.match(/\s|\//),en=oe.match(/\s|\//);if(ut||en){const Xn=[`Unable to register library "${xt}" with version "${oe}":`];return ut&&Xn.push(`library name "${xt}" contains illegal characters (whitespace or "/")`),ut&&en&&Xn.push("and"),en&&Xn.push(`version name "${oe}" contains illegal characters (whitespace or "/")`),void cn.warn(Xn.join(" "))}Wn(new Z.uA(`${xt}-version`,()=>({library:xt,version:oe}),"VERSION"))}const jn="firebase-heartbeat-database",pi=1,q="firebase-heartbeat-store";let L=null;function U(){return L||(L=function be(_e,oe,{blocked:Fe,upgrade:rt,blocking:xt,terminated:ut}={}){const en=indexedDB.open(_e,oe),Xn=De(en);return rt&&en.addEventListener("upgradeneeded",gn=>{rt(De(en.result),gn.oldVersion,gn.newVersion,De(en.transaction),gn)}),Fe&&en.addEventListener("blocked",gn=>Fe(gn.oldVersion,gn.newVersion,gn)),Xn.then(gn=>{ut&&gn.addEventListener("close",()=>ut()),xt&&gn.addEventListener("versionchange",vs=>xt(vs.oldVersion,vs.newVersion,vs))}).catch(()=>{}),Xn}(jn,pi,{upgrade:(_e,oe)=>{0===oe&&_e.createObjectStore(q)}}).catch(_e=>{throw Ze.create("idb-open",{originalErrorMessage:_e.message})})),L}function B(){return(B=(0,C.A)(function*(_e){try{return yield(yield U()).transaction(q).objectStore(q).get(Ke(_e))}catch(oe){if(oe instanceof le.g)cn.warn(oe.message);else{const Fe=Ze.create("idb-get",{originalErrorMessage:oe?.message});cn.warn(Fe.message)}}})).apply(this,arguments)}function re(_e,oe){return Se.apply(this,arguments)}function Se(){return(Se=(0,C.A)(function*(_e,oe){try{const rt=(yield U()).transaction(q,"readwrite");yield rt.objectStore(q).put(oe,Ke(_e)),yield rt.done}catch(Fe){if(Fe instanceof le.g)cn.warn(Fe.message);else{const rt=Ze.create("idb-set",{originalErrorMessage:Fe?.message});cn.warn(rt.message)}}})).apply(this,arguments)}function Ke(_e){return`${_e.name}!${_e.options.appId}`}class rn{constructor(oe){this.container=oe,this._heartbeatsCache=null;const Fe=this.container.getProvider("app").getImmediate();this._storage=new Pr(Fe),this._heartbeatsCachePromise=this._storage.read().then(rt=>(this._heartbeatsCache=rt,rt))}triggerHeartbeat(){var oe=this;return(0,C.A)(function*(){const rt=oe.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),xt=Ft();if(null===oe._heartbeatsCache&&(oe._heartbeatsCache=yield oe._heartbeatsCachePromise),oe._heartbeatsCache.lastSentHeartbeatDate!==xt&&!oe._heartbeatsCache.heartbeats.some(ut=>ut.date===xt))return oe._heartbeatsCache.heartbeats.push({date:xt,agent:rt}),oe._heartbeatsCache.heartbeats=oe._heartbeatsCache.heartbeats.filter(ut=>{const en=new Date(ut.date).valueOf();return Date.now()-en<=2592e6}),oe._storage.overwrite(oe._heartbeatsCache)})()}getHeartbeatsHeader(){var oe=this;return(0,C.A)(function*(){if(null===oe._heartbeatsCache&&(yield oe._heartbeatsCachePromise),null===oe._heartbeatsCache||0===oe._heartbeatsCache.heartbeats.length)return"";const Fe=Ft(),{heartbeatsToSend:rt,unsentEntries:xt}=function Bn(_e,oe=1024){const Fe=[];let rt=_e.slice();for(const xt of _e){const ut=Fe.find(en=>en.agent===xt.agent);if(ut){if(ut.dates.push(xt.date),ys(Fe)>oe){ut.dates.pop();break}}else if(Fe.push({agent:xt.agent,dates:[xt.date]}),ys(Fe)>oe){Fe.pop();break}rt=rt.slice(1)}return{heartbeatsToSend:Fe,unsentEntries:rt}}(oe._heartbeatsCache.heartbeats),ut=(0,le.Uj)(JSON.stringify({version:2,heartbeats:rt}));return oe._heartbeatsCache.lastSentHeartbeatDate=Fe,xt.length>0?(oe._heartbeatsCache.heartbeats=xt,yield oe._storage.overwrite(oe._heartbeatsCache)):(oe._heartbeatsCache.heartbeats=[],oe._storage.overwrite(oe._heartbeatsCache)),ut})()}}function Ft(){return(new Date).toISOString().substring(0,10)}class Pr{constructor(oe){this.app=oe,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,C.A)(function*(){return!!(0,le.zW)()&&(0,le.eX)().then(()=>!0).catch(()=>!1)})()}read(){var oe=this;return(0,C.A)(function*(){return(yield oe._canUseIndexedDBPromise)&&(yield function F(_e){return B.apply(this,arguments)}(oe.app))||{heartbeats:[]}})()}overwrite(oe){var Fe=this;return(0,C.A)(function*(){var rt;if(yield Fe._canUseIndexedDBPromise){const ut=yield Fe.read();return re(Fe.app,{lastSentHeartbeatDate:null!==(rt=oe.lastSentHeartbeatDate)&&void 0!==rt?rt:ut.lastSentHeartbeatDate,heartbeats:oe.heartbeats})}})()}add(oe){var Fe=this;return(0,C.A)(function*(){var rt;if(yield Fe._canUseIndexedDBPromise){const ut=yield Fe.read();return re(Fe.app,{lastSentHeartbeatDate:null!==(rt=oe.lastSentHeartbeatDate)&&void 0!==rt?rt:ut.lastSentHeartbeatDate,heartbeats:[...ut.heartbeats,...oe.heartbeats]})}})()}}function ys(_e){return(0,le.Uj)(JSON.stringify({version:2,heartbeats:_e})).length}!function ji(_e){Wn(new Z.uA("platform-logger",oe=>new Ln(oe),"PRIVATE")),Wn(new Z.uA("heartbeat",oe=>new rn(oe),"PRIVATE")),Or(Gn,"0.9.13",_e),Or(Gn,"0.9.13","esm2017"),Or("fire-js","")}("")},8779:(It,Ne,H)=>{H.d(Ne,{h1:()=>qe,uA:()=>te});var C=H(467),Z=H(1401);class te{constructor(X,K,pe){this.name=X,this.instanceFactory=K,this.type=pe,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(X){return this.instantiationMode=X,this}setMultipleInstances(X){return this.multipleInstances=X,this}setServiceProps(X){return this.serviceProps=X,this}setInstanceCreatedCallback(X){return this.onInstanceCreated=X,this}}const le="[DEFAULT]";class V{constructor(X,K){this.name=X,this.container=K,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(X){const K=this.normalizeInstanceIdentifier(X);if(!this.instancesDeferred.has(K)){const pe=new Z.cY;if(this.instancesDeferred.set(K,pe),this.isInitialized(K)||this.shouldAutoInitialize())try{const Le=this.getOrInitializeService({instanceIdentifier:K});Le&&pe.resolve(Le)}catch{}}return this.instancesDeferred.get(K).promise}getImmediate(X){var K;const pe=this.normalizeInstanceIdentifier(X?.identifier),Le=null!==(K=X?.optional)&&void 0!==K&&K;if(!this.isInitialized(pe)&&!this.shouldAutoInitialize()){if(Le)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:pe})}catch(Ae){if(Le)return null;throw Ae}}getComponent(){return this.component}setComponent(X){if(X.name!==this.name)throw Error(`Mismatching Component ${X.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=X,this.shouldAutoInitialize()){if(function Ee(Te){return"EAGER"===Te.instantiationMode}(X))try{this.getOrInitializeService({instanceIdentifier:le})}catch{}for(const[K,pe]of this.instancesDeferred.entries()){const Le=this.normalizeInstanceIdentifier(K);try{const Ae=this.getOrInitializeService({instanceIdentifier:Le});pe.resolve(Ae)}catch{}}}}clearInstance(X=le){this.instancesDeferred.delete(X),this.instancesOptions.delete(X),this.instances.delete(X)}delete(){var X=this;return(0,C.A)(function*(){const K=Array.from(X.instances.values());yield Promise.all([...K.filter(pe=>"INTERNAL"in pe).map(pe=>pe.INTERNAL.delete()),...K.filter(pe=>"_delete"in pe).map(pe=>pe._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(X=le){return this.instances.has(X)}getOptions(X=le){return this.instancesOptions.get(X)||{}}initialize(X={}){const{options:K={}}=X,pe=this.normalizeInstanceIdentifier(X.instanceIdentifier);if(this.isInitialized(pe))throw Error(`${this.name}(${pe}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Le=this.getOrInitializeService({instanceIdentifier:pe,options:K});for(const[Ae,nt]of this.instancesDeferred.entries())pe===this.normalizeInstanceIdentifier(Ae)&&nt.resolve(Le);return Le}onInit(X,K){var pe;const Le=this.normalizeInstanceIdentifier(K),Ae=null!==(pe=this.onInitCallbacks.get(Le))&&void 0!==pe?pe:new Set;Ae.add(X),this.onInitCallbacks.set(Le,Ae);const nt=this.instances.get(Le);return nt&&X(nt,Le),()=>{Ae.delete(X)}}invokeOnInitCallbacks(X,K){const pe=this.onInitCallbacks.get(K);if(pe)for(const Le of pe)try{Le(X,K)}catch{}}getOrInitializeService({instanceIdentifier:X,options:K={}}){let pe=this.instances.get(X);if(!pe&&this.component&&(pe=this.component.instanceFactory(this.container,{instanceIdentifier:(Te=X,Te===le?void 0:Te),options:K}),this.instances.set(X,pe),this.instancesOptions.set(X,K),this.invokeOnInitCallbacks(pe,X),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,X,pe)}catch{}var Te;return pe||null}normalizeInstanceIdentifier(X=le){return this.component?this.component.multipleInstances?X:le:X}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class qe{constructor(X){this.name=X,this.providers=new Map}addComponent(X){const K=this.getProvider(X.name);if(K.isComponentSet())throw new Error(`Component ${X.name} has already been registered with ${this.name}`);K.setComponent(X)}addOrOverwriteComponent(X){this.getProvider(X.name).isComponentSet()&&this.providers.delete(X.name),this.addComponent(X)}getProvider(X){if(this.providers.has(X))return this.providers.get(X);const K=new V(X,this);return this.providers.set(X,K),K}getProviders(){return Array.from(this.providers.values())}}},5398:(It,Ne,H)=>{H.d(Ne,{$b:()=>Z,Vy:()=>Ee});const C=[];var Z=function(X){return X[X.DEBUG=0]="DEBUG",X[X.VERBOSE=1]="VERBOSE",X[X.INFO=2]="INFO",X[X.WARN=3]="WARN",X[X.ERROR=4]="ERROR",X[X.SILENT=5]="SILENT",X}(Z||{});const te={debug:Z.DEBUG,verbose:Z.VERBOSE,info:Z.INFO,warn:Z.WARN,error:Z.ERROR,silent:Z.SILENT},le=Z.INFO,V={[Z.DEBUG]:"log",[Z.VERBOSE]:"log",[Z.INFO]:"info",[Z.WARN]:"warn",[Z.ERROR]:"error"},J=(X,K,...pe)=>{if(K<X.logLevel)return;const Le=(new Date).toISOString(),Ae=V[K];if(!Ae)throw new Error(`Attempted to log a message with an invalid logType (value: ${K})`);console[Ae](`[${Le}]  ${X.name}:`,...pe)};class Ee{constructor(K){this.name=K,this._logLevel=le,this._logHandler=J,this._userLogHandler=null,C.push(this)}get logLevel(){return this._logLevel}set logLevel(K){if(!(K in Z))throw new TypeError(`Invalid value "${K}" assigned to \`logLevel\``);this._logLevel=K}setLogLevel(K){this._logLevel="string"==typeof K?te[K]:K}get logHandler(){return this._logHandler}set logHandler(K){if("function"!=typeof K)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=K}get userLogHandler(){return this._userLogHandler}set userLogHandler(K){this._userLogHandler=K}debug(...K){this._userLogHandler&&this._userLogHandler(this,Z.DEBUG,...K),this._logHandler(this,Z.DEBUG,...K)}log(...K){this._userLogHandler&&this._userLogHandler(this,Z.VERBOSE,...K),this._logHandler(this,Z.VERBOSE,...K)}info(...K){this._userLogHandler&&this._userLogHandler(this,Z.INFO,...K),this._logHandler(this,Z.INFO,...K)}warn(...K){this._userLogHandler&&this._userLogHandler(this,Z.WARN,...K),this._logHandler(this,Z.WARN,...K)}error(...K){this._userLogHandler&&this._userLogHandler(this,Z.ERROR,...K),this._logHandler(this,Z.ERROR,...K)}}},7037:(It,Ne,H)=>{H.d(Ne,{Dk:()=>C.Dk,KO:()=>C.KO,Sx:()=>C.Sx,Wp:()=>C.Wp});var C=H(2979);(0,C.KO)("firebase","9.23.0","app")},345:(It,Ne,H)=>{H.d(Ne,{Bb:()=>Pt,hE:()=>_t,sG:()=>vt});var C=H(540),Z=H(177);class te extends Z.VF{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class le extends te{static makeCurrent(){(0,Z.ZD)(new le)}onAndCancel(U,F,B){return U.addEventListener(F,B),()=>{U.removeEventListener(F,B)}}dispatchEvent(U,F){U.dispatchEvent(F)}remove(U){U.parentNode&&U.parentNode.removeChild(U)}createElement(U,F){return(F=F||this.getDefaultDocument()).createElement(U)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(U){return U.nodeType===Node.ELEMENT_NODE}isShadowRoot(U){return U instanceof DocumentFragment}getGlobalEventTarget(U,F){return"window"===F?window:"document"===F?U:"body"===F?U.body:null}getBaseHref(U){const F=function J(){return V=V||document.querySelector("base"),V?V.getAttribute("href"):null}();return null==F?null:function qe(L){Ee=Ee||document.createElement("a"),Ee.setAttribute("href",L);const U=Ee.pathname;return"/"===U.charAt(0)?U:`/${U}`}(F)}resetBaseElement(){V=null}getUserAgent(){return window.navigator.userAgent}getCookie(U){return(0,Z._b)(document.cookie,U)}}let Ee,V=null,X=(()=>{class L{build(){return new XMLHttpRequest}static{this.\u0275fac=function(B){return new(B||L)}}static{this.\u0275prov=C.jDH({token:L,factory:L.\u0275fac})}}return L})();const K=new C.nKC("EventManagerPlugins");let pe=(()=>{class L{constructor(F,B){this._zone=B,this._eventNameToPlugin=new Map,F.forEach(re=>{re.manager=this}),this._plugins=F.slice().reverse()}addEventListener(F,B,re){return this._findPluginFor(B).addEventListener(F,B,re)}getZone(){return this._zone}_findPluginFor(F){let B=this._eventNameToPlugin.get(F);if(B)return B;if(B=this._plugins.find(Se=>Se.supports(F)),!B)throw new C.wOt(5101,!1);return this._eventNameToPlugin.set(F,B),B}static{this.\u0275fac=function(B){return new(B||L)(C.KVO(K),C.KVO(C.SKi))}}static{this.\u0275prov=C.jDH({token:L,factory:L.\u0275fac})}}return L})();class Le{constructor(U){this._doc=U}}const Ae="ng-app-id";let nt=(()=>{class L{constructor(F,B,re,Se={}){this.doc=F,this.appId=B,this.nonce=re,this.platformId=Se,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,Z.Vy)(Se),this.resetHostNodes()}addStyles(F){for(const B of F)1===this.changeUsageCount(B,1)&&this.onStyleAdded(B)}removeStyles(F){for(const B of F)this.changeUsageCount(B,-1)<=0&&this.onStyleRemoved(B)}ngOnDestroy(){const F=this.styleNodesInDOM;F&&(F.forEach(B=>B.remove()),F.clear());for(const B of this.getAllStyles())this.onStyleRemoved(B);this.resetHostNodes()}addHost(F){this.hostNodes.add(F);for(const B of this.getAllStyles())this.addStyleToHost(F,B)}removeHost(F){this.hostNodes.delete(F)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(F){for(const B of this.hostNodes)this.addStyleToHost(B,F)}onStyleRemoved(F){const B=this.styleRef;B.get(F)?.elements?.forEach(re=>re.remove()),B.delete(F)}collectServerRenderedStyles(){const F=this.doc.head?.querySelectorAll(`style[${Ae}="${this.appId}"]`);if(F?.length){const B=new Map;return F.forEach(re=>{null!=re.textContent&&B.set(re.textContent,re)}),B}return null}changeUsageCount(F,B){const re=this.styleRef;if(re.has(F)){const Se=re.get(F);return Se.usage+=B,Se.usage}return re.set(F,{usage:B,elements:[]}),B}getStyleElement(F,B){const re=this.styleNodesInDOM,Se=re?.get(B);if(Se?.parentNode===F)return re.delete(B),Se.removeAttribute(Ae),Se;{const Ke=this.doc.createElement("style");return this.nonce&&Ke.setAttribute("nonce",this.nonce),Ke.textContent=B,this.platformIsServer&&Ke.setAttribute(Ae,this.appId),Ke}}addStyleToHost(F,B){const re=this.getStyleElement(F,B);F.appendChild(re);const Se=this.styleRef,Ke=Se.get(B)?.elements;Ke?Ke.push(re):Se.set(B,{elements:[re],usage:1})}resetHostNodes(){const F=this.hostNodes;F.clear(),F.add(this.doc.head)}static{this.\u0275fac=function(B){return new(B||L)(C.KVO(Z.qQ),C.KVO(C.sZ2),C.KVO(C.BIS,8),C.KVO(C.Agw))}}static{this.\u0275prov=C.jDH({token:L,factory:L.\u0275fac})}}return L})();const Gt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Dt=/%COMP%/g,Re=new C.nKC("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function at(L,U){return U.map(F=>F.replace(Dt,L))}let Ge=(()=>{class L{constructor(F,B,re,Se,Ke,At,Tt,rn=null){this.eventManager=F,this.sharedStylesHost=B,this.appId=re,this.removeStylesOnCompDestroy=Se,this.doc=Ke,this.platformId=At,this.ngZone=Tt,this.nonce=rn,this.rendererByCompId=new Map,this.platformIsServer=(0,Z.Vy)(At),this.defaultRenderer=new $e(F,Ke,Tt,this.platformIsServer)}createRenderer(F,B){if(!F||!B)return this.defaultRenderer;this.platformIsServer&&B.encapsulation===C.gXe.ShadowDom&&(B={...B,encapsulation:C.gXe.Emulated});const re=this.getOrCreateRenderer(F,B);return re instanceof cn?re.applyToHost(F):re instanceof He&&re.applyStyles(),re}getOrCreateRenderer(F,B){const re=this.rendererByCompId;let Se=re.get(B.id);if(!Se){const Ke=this.doc,At=this.ngZone,Tt=this.eventManager,rn=this.sharedStylesHost,Ft=this.removeStylesOnCompDestroy,Bn=this.platformIsServer;switch(B.encapsulation){case C.gXe.Emulated:Se=new cn(Tt,rn,B,this.appId,Ft,Ke,At,Bn);break;case C.gXe.ShadowDom:return new Gn(Tt,rn,F,B,Ke,At,this.nonce,Bn);default:Se=new He(Tt,rn,B,Ft,Ke,At,Bn)}re.set(B.id,Se)}return Se}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(B){return new(B||L)(C.KVO(pe),C.KVO(nt),C.KVO(C.sZ2),C.KVO(Re),C.KVO(Z.qQ),C.KVO(C.Agw),C.KVO(C.SKi),C.KVO(C.BIS))}}static{this.\u0275prov=C.jDH({token:L,factory:L.\u0275fac})}}return L})();class $e{constructor(U,F,B,re){this.eventManager=U,this.doc=F,this.ngZone=B,this.platformIsServer=re,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(U,F){return F?this.doc.createElementNS(Gt[F]||F,U):this.doc.createElement(U)}createComment(U){return this.doc.createComment(U)}createText(U){return this.doc.createTextNode(U)}appendChild(U,F){(Be(U)?U.content:U).appendChild(F)}insertBefore(U,F,B){U&&(Be(U)?U.content:U).insertBefore(F,B)}removeChild(U,F){U&&U.removeChild(F)}selectRootElement(U,F){let B="string"==typeof U?this.doc.querySelector(U):U;if(!B)throw new C.wOt(-5104,!1);return F||(B.textContent=""),B}parentNode(U){return U.parentNode}nextSibling(U){return U.nextSibling}setAttribute(U,F,B,re){if(re){F=re+":"+F;const Se=Gt[re];Se?U.setAttributeNS(Se,F,B):U.setAttribute(F,B)}else U.setAttribute(F,B)}removeAttribute(U,F,B){if(B){const re=Gt[B];re?U.removeAttributeNS(re,F):U.removeAttribute(`${B}:${F}`)}else U.removeAttribute(F)}addClass(U,F){U.classList.add(F)}removeClass(U,F){U.classList.remove(F)}setStyle(U,F,B,re){re&(C.czy.DashCase|C.czy.Important)?U.style.setProperty(F,B,re&C.czy.Important?"important":""):U.style[F]=B}removeStyle(U,F,B){B&C.czy.DashCase?U.style.removeProperty(F):U.style[F]=""}setProperty(U,F,B){U[F]=B}setValue(U,F){U.nodeValue=F}listen(U,F,B){if("string"==typeof U&&!(U=(0,Z.QT)().getGlobalEventTarget(this.doc,U)))throw new Error(`Unsupported event target ${U} for event ${F}`);return this.eventManager.addEventListener(U,F,this.decoratePreventDefault(B))}decoratePreventDefault(U){return F=>{if("__ngUnwrap__"===F)return U;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>U(F)):U(F))&&F.preventDefault()}}}function Be(L){return"TEMPLATE"===L.tagName&&void 0!==L.content}class Gn extends $e{constructor(U,F,B,re,Se,Ke,At,Tt){super(U,Se,Ke,Tt),this.sharedStylesHost=F,this.hostEl=B,this.shadowRoot=B.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const rn=at(re.id,re.styles);for(const Ft of rn){const Bn=document.createElement("style");At&&Bn.setAttribute("nonce",At),Bn.textContent=Ft,this.shadowRoot.appendChild(Bn)}}nodeOrShadowRoot(U){return U===this.hostEl?this.shadowRoot:U}appendChild(U,F){return super.appendChild(this.nodeOrShadowRoot(U),F)}insertBefore(U,F,B){return super.insertBefore(this.nodeOrShadowRoot(U),F,B)}removeChild(U,F){return super.removeChild(this.nodeOrShadowRoot(U),F)}parentNode(U){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(U)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class He extends $e{constructor(U,F,B,re,Se,Ke,At,Tt){super(U,Se,Ke,At),this.sharedStylesHost=F,this.removeStylesOnCompDestroy=re,this.styles=Tt?at(Tt,B.styles):B.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class cn extends He{constructor(U,F,B,re,Se,Ke,At,Tt){const rn=re+"-"+B.id;super(U,F,B,Se,Ke,At,Tt,rn),this.contentAttr=function be(L){return"_ngcontent-%COMP%".replace(Dt,L)}(rn),this.hostAttr=function Ye(L){return"_nghost-%COMP%".replace(Dt,L)}(rn)}applyToHost(U){this.applyStyles(),this.setAttribute(U,this.hostAttr,"")}createElement(U,F){const B=super.createElement(U,F);return super.setAttribute(B,this.contentAttr,""),B}}let Xe=(()=>{class L extends Le{constructor(F){super(F)}supports(F){return!0}addEventListener(F,B,re){return F.addEventListener(B,re,!1),()=>this.removeEventListener(F,B,re)}removeEventListener(F,B,re){return F.removeEventListener(B,re)}static{this.\u0275fac=function(B){return new(B||L)(C.KVO(Z.qQ))}}static{this.\u0275prov=C.jDH({token:L,factory:L.\u0275fac})}}return L})();const bt=["alt","control","meta","shift"],zr={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Vi={alt:L=>L.altKey,control:L=>L.ctrlKey,meta:L=>L.metaKey,shift:L=>L.shiftKey};let se=(()=>{class L extends Le{constructor(F){super(F)}supports(F){return null!=L.parseEventName(F)}addEventListener(F,B,re){const Se=L.parseEventName(B),Ke=L.eventCallback(Se.fullKey,re,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,Z.QT)().onAndCancel(F,Se.domEventName,Ke))}static parseEventName(F){const B=F.toLowerCase().split("."),re=B.shift();if(0===B.length||"keydown"!==re&&"keyup"!==re)return null;const Se=L._normalizeKey(B.pop());let Ke="",At=B.indexOf("code");if(At>-1&&(B.splice(At,1),Ke="code."),bt.forEach(rn=>{const Ft=B.indexOf(rn);Ft>-1&&(B.splice(Ft,1),Ke+=rn+".")}),Ke+=Se,0!=B.length||0===Se.length)return null;const Tt={};return Tt.domEventName=re,Tt.fullKey=Ke,Tt}static matchEventFullKeyCode(F,B){let re=zr[F.key]||F.key,Se="";return B.indexOf("code.")>-1&&(re=F.code,Se="code."),!(null==re||!re)&&(re=re.toLowerCase()," "===re?re="space":"."===re&&(re="dot"),bt.forEach(Ke=>{Ke!==re&&(0,Vi[Ke])(F)&&(Se+=Ke+".")}),Se+=re,Se===B)}static eventCallback(F,B,re){return Se=>{L.matchEventFullKeyCode(Se,F)&&re.runGuarded(()=>B(Se))}}static _normalizeKey(F){return"esc"===F?"escape":F}static{this.\u0275fac=function(B){return new(B||L)(C.KVO(Z.qQ))}}static{this.\u0275prov=C.jDH({token:L,factory:L.\u0275fac})}}return L})();const vt=(0,C.oH4)(C.fpN,"browser",[{provide:C.Agw,useValue:Z.AJ},{provide:C.PLl,useValue:function Ie(){le.makeCurrent()},multi:!0},{provide:Z.qQ,useFactory:function wt(){return(0,C.TL$)(document),document},deps:[]}]),Yt=new C.nKC(""),vn=[{provide:C.e01,useClass:class Te{addToWindow(U){C.JZv.getAngularTestability=(B,re=!0)=>{const Se=U.findTestabilityInTree(B,re);if(null==Se)throw new C.wOt(5103,!1);return Se},C.JZv.getAllAngularTestabilities=()=>U.getAllTestabilities(),C.JZv.getAllAngularRootElements=()=>U.getAllRootElements(),C.JZv.frameworkStabilizers||(C.JZv.frameworkStabilizers=[]),C.JZv.frameworkStabilizers.push(B=>{const re=C.JZv.getAllAngularTestabilities();let Se=re.length,Ke=!1;const At=function(Tt){Ke=Ke||Tt,Se--,0==Se&&B(Ke)};re.forEach(Tt=>{Tt.whenStable(At)})})}findTestabilityInTree(U,F,B){return null==F?null:U.getTestability(F)??(B?(0,Z.QT)().isShadowRoot(F)?this.findTestabilityInTree(U,F.host,!0):this.findTestabilityInTree(U,F.parentElement,!0):null)}},deps:[]},{provide:C.WHO,useClass:C.NYb,deps:[C.SKi,C.giA,C.e01]},{provide:C.NYb,useClass:C.NYb,deps:[C.SKi,C.giA,C.e01]}],Gr=[{provide:C.H8p,useValue:"root"},{provide:C.zcH,useFactory:function je(){return new C.zcH},deps:[]},{provide:K,useClass:Xe,multi:!0,deps:[Z.qQ,C.SKi,C.Agw]},{provide:K,useClass:se,multi:!0,deps:[Z.qQ]},Ge,nt,pe,{provide:C._9s,useExisting:Ge},{provide:Z.N0,useClass:X,deps:[]},[]];let Pt=(()=>{class L{constructor(F){}static withServerTransition(F){return{ngModule:L,providers:[{provide:C.sZ2,useValue:F.appId}]}}static{this.\u0275fac=function(B){return new(B||L)(C.KVO(Yt,12))}}static{this.\u0275mod=C.$C({type:L})}static{this.\u0275inj=C.G2t({providers:[...Gr,...vn],imports:[Z.MD,C.Hbi]})}}return L})(),_t=(()=>{class L{constructor(F){this._doc=F}getTitle(){return this._doc.title}setTitle(F){this._doc.title=F||""}static{this.\u0275fac=function(B){return new(B||L)(C.KVO(Z.qQ))}}static{this.\u0275prov=C.jDH({token:L,factory:function(B){let re=null;return re=B?new B:function vr(){return new _t((0,C.KVO)(Z.qQ))}(),re},providedIn:"root"})}}return L})();typeof window<"u"&&window},6143:(It,Ne,H)=>{H.d(Ne,{Ix:()=>tn,iI:()=>Er,n3:()=>eo});var C=H(540),Z=H(1985),te=H(8071),V=H(8455),J=H(7673),Ee=H(4412),qe=H(3073),Te=H(3669),X=H(6450),K=H(3794),pe=H(8496),Le=H(4360),Ae=H(5225);function nt(...m){const I=(0,K.lI)(m),g=(0,K.ms)(m),{args:w,keys:S}=(0,qe.D)(m);if(0===w.length)return(0,V.H)([],I);const P=new Z.c(function Gt(m,I,g=Te.D){return w=>{Dt(I,()=>{const{length:S}=m,P=new Array(S);let G=S,de=S;for(let ce=0;ce<S;ce++)Dt(I,()=>{const Qe=(0,V.H)(m[ce],I);let Ot=!1;Qe.subscribe((0,Le._)(w,Qt=>{P[ce]=Qt,Ot||(Ot=!0,de--),de||w.next(g(P.slice()))},()=>{--G||w.complete()}))},w)},w)}}(w,I,S?G=>(0,pe.e)(S,G):Te.D));return g?P.pipe((0,X.I)(g)):P}function Dt(m,I,g){m?(0,Ae.N)(g,m,I):I()}const pn=(0,H(1853).L)(m=>function(){m(this),this.name="EmptyError",this.message="no elements in sequence"});var yn=H(6365);function Re(...m){return function De(){return(0,yn.U)(1)}()((0,V.H)(m,(0,K.lI)(m)))}var be=H(8750);function Ye(m){return new Z.c(I=>{(0,be.Tg)(m()).subscribe(I)})}var at=H(1203);function Ge(m,I){const g=(0,te.T)(m)?m:()=>m,w=S=>S.error(g());return new Z.c(I?S=>I.schedule(w,0,S):w)}var $e=H(983),Bt=H(8359),Ln=H(9974);function Be(){return(0,Ln.N)((m,I)=>{let g=null;m._refCount++;const w=(0,Le._)(I,void 0,void 0,void 0,()=>{if(!m||m._refCount<=0||0<--m._refCount)return void(g=null);const S=m._connection,P=g;g=null,S&&(!P||S===P)&&S.unsubscribe(),I.unsubscribe()});m.subscribe(w),w.closed||(g=m.connect())})}class Gn extends Z.c{constructor(I,g){super(),this.source=I,this.subjectFactory=g,this._subject=null,this._refCount=0,this._connection=null,(0,Ln.S)(I)&&(this.lift=I.lift)}_subscribe(I){return this.getSubject().subscribe(I)}getSubject(){const I=this._subject;return(!I||I.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:I}=this;this._subject=this._connection=null,I?.unsubscribe()}connect(){let I=this._connection;if(!I){I=this._connection=new Bt.yU;const g=this.getSubject();I.add(this.source.subscribe((0,Le._)(g,void 0,()=>{this._teardown(),g.complete()},w=>{this._teardown(),g.error(w)},()=>this._teardown()))),I.closed&&(this._connection=null,I=Bt.yU.EMPTY)}return I}refCount(){return Be()(this)}}var He=H(1413),cn=H(177),Xe=H(6354),bt=H(5558);function zr(m){return m<=0?()=>$e.w:(0,Ln.N)((I,g)=>{let w=0;I.subscribe((0,Le._)(g,S=>{++w<=m&&(g.next(S),m<=w&&g.complete())}))})}function se(m,I){return(0,Ln.N)((g,w)=>{let S=0;g.subscribe((0,Le._)(w,P=>m.call(I,P,S++)&&w.next(P)))})}var ae=H(1397);function ue(m){return(0,Ln.N)((I,g)=>{let w=!1;I.subscribe((0,Le._)(g,S=>{w=!0,g.next(S)},()=>{w||g.next(m),g.complete()}))})}function me(m=Oe){return(0,Ln.N)((I,g)=>{let w=!1;I.subscribe((0,Le._)(g,S=>{w=!0,g.next(S)},()=>w?g.complete():g.error(m())))})}function Oe(){return new pn}function Ie(m,I){const g=arguments.length>=2;return w=>w.pipe(m?se((S,P)=>m(S,P,w)):Te.D,zr(1),g?ue(I):me(()=>new pn))}function je(m,I){return(0,te.T)(I)?(0,ae.Z)(m,I,1):(0,ae.Z)(m,1)}var wt=H(8141);function Zt(m){return(0,Ln.N)((I,g)=>{let P,w=null,S=!1;w=I.subscribe((0,Le._)(g,void 0,void 0,G=>{P=(0,be.Tg)(m(G,Zt(m)(I))),w?(w.unsubscribe(),w=null,P.subscribe(g)):S=!0})),S&&(w.unsubscribe(),w=null,P.subscribe(g))})}function vn(m){return m<=0?()=>$e.w:(0,Ln.N)((I,g)=>{let w=[];I.subscribe((0,Le._)(g,S=>{w.push(S),m<w.length&&w.shift()},()=>{for(const S of w)g.next(S);g.complete()},void 0,()=>{w=null}))})}function On(m){return(0,Ln.N)((I,g)=>{try{I.subscribe(g)}finally{g.add(m)}})}var _n=H(5343),vr=H(345);const _t="primary",Wr=Symbol("RouteTitle");class Jt{constructor(I){this.params=I||{}}has(I){return Object.prototype.hasOwnProperty.call(this.params,I)}get(I){if(this.has(I)){const g=this.params[I];return Array.isArray(g)?g[0]:g}return null}getAll(I){if(this.has(I)){const g=this.params[I];return Array.isArray(g)?g:[g]}return[]}get keys(){return Object.keys(this.params)}}function Mn(m){return new Jt(m)}function Kt(m,I,g){const w=g.path.split("/");if(w.length>m.length||"full"===g.pathMatch&&(I.hasChildren()||w.length<m.length))return null;const S={};for(let P=0;P<w.length;P++){const G=w[P],de=m[P];if(G.startsWith(":"))S[G.substring(1)]=de;else if(G!==de.path)return null}return{consumed:m.slice(0,w.length),posParams:S}}function xn(m,I){const g=m?Object.keys(m):void 0,w=I?Object.keys(I):void 0;if(!g||!w||g.length!=w.length)return!1;let S;for(let P=0;P<g.length;P++)if(S=g[P],!lr(m[S],I[S]))return!1;return!0}function lr(m,I){if(Array.isArray(m)&&Array.isArray(I)){if(m.length!==I.length)return!1;const g=[...m].sort(),w=[...I].sort();return g.every((S,P)=>w[P]===S)}return m===I}function _r(m){return m.length>0?m[m.length-1]:null}function Wn(m){return function le(m){return!!m&&(m instanceof Z.c||(0,te.T)(m.lift)&&(0,te.T)(m.subscribe))}(m)?m:(0,C.jNT)(m)?(0,V.H)(Promise.resolve(m)):(0,J.of)(m)}const hn={exact:function Ze(m,I,g){if(!Et(m.segments,I.segments)||!tr(m.segments,I.segments,g)||m.numberOfChildren!==I.numberOfChildren)return!1;for(const w in I.children)if(!m.children[w]||!Ze(m.children[w],I.children[w],g))return!1;return!0},subset:fi},Bi={exact:function Ni(m,I){return xn(m,I)},subset:function hi(m,I){return Object.keys(I).length<=Object.keys(m).length&&Object.keys(I).every(g=>lr(m[g],I[g]))},ignored:()=>!0};function bn(m,I,g){return hn[g.paths](m.root,I.root,g.matrixParams)&&Bi[g.queryParams](m.queryParams,I.queryParams)&&!("exact"===g.fragment&&m.fragment!==I.fragment)}function fi(m,I,g){return er(m,I,I.segments,g)}function er(m,I,g,w){if(m.segments.length>g.length){const S=m.segments.slice(0,g.length);return!(!Et(S,g)||I.hasChildren()||!tr(S,g,w))}if(m.segments.length===g.length){if(!Et(m.segments,g)||!tr(m.segments,g,w))return!1;for(const S in I.children)if(!m.children[S]||!fi(m.children[S],I.children[S],w))return!1;return!0}{const S=g.slice(0,m.segments.length),P=g.slice(m.segments.length);return!!(Et(m.segments,S)&&tr(m.segments,S,w)&&m.children[_t])&&er(m.children[_t],I,P,w)}}function tr(m,I,g){return I.every((w,S)=>Bi[g](m[S].parameters,w.parameters))}class ii{constructor(I=new gt([],{}),g={},w=null){this.root=I,this.queryParams=g,this.fragment=w}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Mn(this.queryParams)),this._queryParamMap}toString(){return q.serialize(this)}}class gt{constructor(I,g){this.segments=I,this.children=g,this.parent=null,Object.values(g).forEach(w=>w.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return L(this)}}class Ar{constructor(I,g){this.path=I,this.parameters=g}get parameterMap(){return this._parameterMap||(this._parameterMap=Mn(this.parameters)),this._parameterMap}toString(){return Tt(this)}}function Et(m,I){return m.length===I.length&&m.every((g,w)=>g.path===I[w].path)}let jn=(()=>{class m{static{this.\u0275fac=function(w){return new(w||m)}}static{this.\u0275prov=C.jDH({token:m,factory:function(){return new pi},providedIn:"root"})}}return m})();class pi{parse(I){const g=new xt(I);return new ii(g.parseRootSegment(),g.parseQueryParams(),g.parseFragment())}serialize(I){const g=`/${U(I.root,!0)}`,w=function Ft(m){const I=Object.keys(m).map(g=>{const w=m[g];return Array.isArray(w)?w.map(S=>`${B(g)}=${B(S)}`).join("&"):`${B(g)}=${B(w)}`}).filter(g=>!!g);return I.length?`?${I.join("&")}`:""}(I.queryParams);return`${g}${w}${"string"==typeof I.fragment?`#${function re(m){return encodeURI(m)}(I.fragment)}`:""}`}}const q=new pi;function L(m){return m.segments.map(I=>Tt(I)).join("/")}function U(m,I){if(!m.hasChildren())return L(m);if(I){const g=m.children[_t]?U(m.children[_t],!1):"",w=[];return Object.entries(m.children).forEach(([S,P])=>{S!==_t&&w.push(`${S}:${U(P,!1)}`)}),w.length>0?`${g}(${w.join("//")})`:g}{const g=function kr(m,I){let g=[];return Object.entries(m.children).forEach(([w,S])=>{w===_t&&(g=g.concat(I(S,w)))}),Object.entries(m.children).forEach(([w,S])=>{w!==_t&&(g=g.concat(I(S,w)))}),g}(m,(w,S)=>S===_t?[U(m.children[_t],!1)]:[`${S}:${U(w,!1)}`]);return 1===Object.keys(m.children).length&&null!=m.children[_t]?`${L(m)}/${g[0]}`:`${L(m)}/(${g.join("//")})`}}function F(m){return encodeURIComponent(m).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function B(m){return F(m).replace(/%3B/gi,";")}function Se(m){return F(m).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ke(m){return decodeURIComponent(m)}function At(m){return Ke(m.replace(/\+/g,"%20"))}function Tt(m){return`${Se(m.path)}${function rn(m){return Object.keys(m).map(I=>`;${Se(I)}=${Se(m[I])}`).join("")}(m.parameters)}`}const Bn=/^[^\/()?;#]+/;function Pr(m){const I=m.match(Bn);return I?I[0]:""}const ys=/^[^\/()?;=#]+/,_e=/^[^=?&#]+/,Fe=/^[^&#]+/;class xt{constructor(I){this.url=I,this.remaining=I}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new gt([],{}):new gt([],this.parseChildren())}parseQueryParams(){const I={};if(this.consumeOptional("?"))do{this.parseQueryParam(I)}while(this.consumeOptional("&"));return I}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const I=[];for(this.peekStartsWith("(")||I.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),I.push(this.parseSegment());let g={};this.peekStartsWith("/(")&&(this.capture("/"),g=this.parseParens(!0));let w={};return this.peekStartsWith("(")&&(w=this.parseParens(!1)),(I.length>0||Object.keys(g).length>0)&&(w[_t]=new gt(I,g)),w}parseSegment(){const I=Pr(this.remaining);if(""===I&&this.peekStartsWith(";"))throw new C.wOt(4009,!1);return this.capture(I),new Ar(Ke(I),this.parseMatrixParams())}parseMatrixParams(){const I={};for(;this.consumeOptional(";");)this.parseParam(I);return I}parseParam(I){const g=function ji(m){const I=m.match(ys);return I?I[0]:""}(this.remaining);if(!g)return;this.capture(g);let w="";if(this.consumeOptional("=")){const S=Pr(this.remaining);S&&(w=S,this.capture(w))}I[Ke(g)]=Ke(w)}parseQueryParam(I){const g=function oe(m){const I=m.match(_e);return I?I[0]:""}(this.remaining);if(!g)return;this.capture(g);let w="";if(this.consumeOptional("=")){const G=function rt(m){const I=m.match(Fe);return I?I[0]:""}(this.remaining);G&&(w=G,this.capture(w))}const S=At(g),P=At(w);if(I.hasOwnProperty(S)){let G=I[S];Array.isArray(G)||(G=[G],I[S]=G),G.push(P)}else I[S]=P}parseParens(I){const g={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const w=Pr(this.remaining),S=this.remaining[w.length];if("/"!==S&&")"!==S&&";"!==S)throw new C.wOt(4010,!1);let P;w.indexOf(":")>-1?(P=w.slice(0,w.indexOf(":")),this.capture(P),this.capture(":")):I&&(P=_t);const G=this.parseChildren();g[P]=1===Object.keys(G).length?G[_t]:new gt([],G),this.consumeOptional("//")}return g}peekStartsWith(I){return this.remaining.startsWith(I)}consumeOptional(I){return!!this.peekStartsWith(I)&&(this.remaining=this.remaining.substring(I.length),!0)}capture(I){if(!this.consumeOptional(I))throw new C.wOt(4011,!1)}}function ut(m){return m.segments.length>0?new gt([],{[_t]:m}):m}function en(m){const I={};for(const w of Object.keys(m.children)){const P=en(m.children[w]);if(w===_t&&0===P.segments.length&&P.hasChildren())for(const[G,de]of Object.entries(P.children))I[G]=de;else(P.segments.length>0||P.hasChildren())&&(I[w]=P)}return function Xn(m){if(1===m.numberOfChildren&&m.children[_t]){const I=m.children[_t];return new gt(m.segments.concat(I.segments),I.children)}return m}(new gt(m.segments,I))}function gn(m){return m instanceof ii}function Ls(m){let I;const S=ut(function g(P){const G={};for(const ce of P.children){const Qe=g(ce);G[ce.outlet]=Qe}const de=new gt(P.url,G);return P===m&&(I=de),de}(m.root));return I??S}function qs(m,I,g,w){let S=m;for(;S.parent;)S=S.parent;if(0===I.length)return $i(S,S,S,g,w);const P=function _s(m){if("string"==typeof m[0]&&1===m.length&&"/"===m[0])return new sn(!0,0,m);let I=0,g=!1;const w=m.reduce((S,P,G)=>{if("object"==typeof P&&null!=P){if(P.outlets){const de={};return Object.entries(P.outlets).forEach(([ce,Qe])=>{de[ce]="string"==typeof Qe?Qe.split("/"):Qe}),[...S,{outlets:de}]}if(P.segmentPath)return[...S,P.segmentPath]}return"string"!=typeof P?[...S,P]:0===G?(P.split("/").forEach((de,ce)=>{0==ce&&"."===de||(0==ce&&""===de?g=!0:".."===de?I++:""!=de&&S.push(de))}),S):[...S,P]},[]);return new sn(g,I,w)}(I);if(P.toRoot())return $i(S,S,new gt([],{}),g,w);const G=function ka(m,I,g){if(m.isAbsolute)return new qr(I,!0,0);if(!g)return new qr(I,!1,NaN);if(null===g.parent)return new qr(g,!0,0);const w=Lr(m.commands[0])?0:1;return function bo(m,I,g){let w=m,S=I,P=g;for(;P>S;){if(P-=S,w=w.parent,!w)throw new C.wOt(4005,!1);S=w.segments.length}return new qr(w,!1,S-P)}(g,g.segments.length-1+w,m.numberOfDoubleDots)}(P,S,m),de=G.processChildren?Zi(G.segmentGroup,G.index,P.commands):$n(G.segmentGroup,G.index,P.commands);return $i(S,G.segmentGroup,de,g,w)}function Lr(m){return"object"==typeof m&&null!=m&&!m.outlets&&!m.segmentPath}function Ri(m){return"object"==typeof m&&null!=m&&m.outlets}function $i(m,I,g,w,S){let G,P={};w&&Object.entries(w).forEach(([ce,Qe])=>{P[ce]=Array.isArray(Qe)?Qe.map(Ot=>`${Ot}`):`${Qe}`}),G=m===I?g:Kr(m,I,g);const de=ut(en(G));return new ii(de,P,S)}function Kr(m,I,g){const w={};return Object.entries(m.children).forEach(([S,P])=>{w[S]=P===I?g:Kr(P,I,g)}),new gt(m.segments,w)}class sn{constructor(I,g,w){if(this.isAbsolute=I,this.numberOfDoubleDots=g,this.commands=w,I&&w.length>0&&Lr(w[0]))throw new C.wOt(4003,!1);const S=w.find(Ri);if(S&&S!==_r(w))throw new C.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class qr{constructor(I,g,w){this.segmentGroup=I,this.processChildren=g,this.index=w}}function $n(m,I,g){if(m||(m=new gt([],{})),0===m.segments.length&&m.hasChildren())return Zi(m,I,g);const w=function Qs(m,I,g){let w=0,S=I;const P={match:!1,pathIndex:0,commandIndex:0};for(;S<m.segments.length;){if(w>=g.length)return P;const G=m.segments[S],de=g[w];if(Ri(de))break;const ce=`${de}`,Qe=w<g.length-1?g[w+1]:null;if(S>0&&void 0===ce)break;if(ce&&Qe&&"object"==typeof Qe&&void 0===Qe.outlets){if(!Fs(ce,Qe,G))return P;w+=2}else{if(!Fs(ce,{},G))return P;w++}S++}return{match:!0,pathIndex:S,commandIndex:w}}(m,I,g),S=g.slice(w.commandIndex);if(w.match&&w.pathIndex<m.segments.length){const P=new gt(m.segments.slice(0,w.pathIndex),{});return P.children[_t]=new gt(m.segments.slice(w.pathIndex),m.children),Zi(P,0,S)}return w.match&&0===S.length?new gt(m.segments,{}):w.match&&!m.hasChildren()?Xs(m,I,g):w.match?Zi(m,0,S):Xs(m,I,g)}function Zi(m,I,g){if(0===g.length)return new gt(m.segments,{});{const w=function Is(m){return Ri(m[0])?m[0].outlets:{[_t]:m}}(g),S={};if(Object.keys(w).some(P=>P!==_t)&&m.children[_t]&&1===m.numberOfChildren&&0===m.children[_t].segments.length){const P=Zi(m.children[_t],I,g);return new gt(m.segments,P.children)}return Object.entries(w).forEach(([P,G])=>{"string"==typeof G&&(G=[G]),null!==G&&(S[P]=$n(m.children[P],I,G))}),Object.entries(m.children).forEach(([P,G])=>{void 0===w[P]&&(S[P]=G)}),new gt(m.segments,S)}}function Xs(m,I,g){const w=m.segments.slice(0,I);let S=0;for(;S<g.length;){const P=g[S];if(Ri(P)){const ce=_u(P.outlets);return new gt(w,ce)}if(0===S&&Lr(g[0])){w.push(new Ar(m.segments[I].path,Pa(g[0]))),S++;continue}const G=Ri(P)?P.outlets[_t]:`${P}`,de=S<g.length-1?g[S+1]:null;G&&de&&Lr(de)?(w.push(new Ar(G,Pa(de))),S+=2):(w.push(new Ar(G,{})),S++)}return new gt(w,{})}function _u(m){const I={};return Object.entries(m).forEach(([g,w])=>{"string"==typeof w&&(w=[w]),null!==w&&(I[g]=Xs(new gt([],{}),0,w))}),I}function Pa(m){const I={};return Object.entries(m).forEach(([g,w])=>I[g]=`${w}`),I}function Fs(m,I,g){return m==g.path&&xn(I,g.parameters)}const Ys="imperative";class gi{constructor(I,g){this.id=I,this.url=g}}class ws extends gi{constructor(I,g,w="imperative",S=null){super(I,g),this.type=0,this.navigationTrigger=w,this.restoredState=S}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ji extends gi{constructor(I,g,w){super(I,g),this.urlAfterRedirects=w,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class dr extends gi{constructor(I,g,w,S){super(I,g),this.reason=w,this.code=S,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Us extends gi{constructor(I,g,w,S){super(I,g),this.reason=w,this.code=S,this.type=16}}class In extends gi{constructor(I,g,w,S){super(I,g),this.error=w,this.target=S,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Iu extends gi{constructor(I,g,w,S){super(I,g),this.urlAfterRedirects=w,this.state=S,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class na extends gi{constructor(I,g,w,S){super(I,g),this.urlAfterRedirects=w,this.state=S,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class La extends gi{constructor(I,g,w,S,P){super(I,g),this.urlAfterRedirects=w,this.state=S,this.shouldActivate=P,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class ra extends gi{constructor(I,g,w,S){super(I,g),this.urlAfterRedirects=w,this.state=S,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ia extends gi{constructor(I,g,w,S){super(I,g),this.urlAfterRedirects=w,this.state=S,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ao{constructor(I){this.route=I,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Dc{constructor(I){this.route=I,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Fa{constructor(I){this.snapshot=I,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class So{constructor(I){this.snapshot=I,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ua{constructor(I){this.snapshot=I,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class sa{constructor(I){this.snapshot=I,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Zs{constructor(I,g,w){this.routerEvent=I,this.position=g,this.anchor=w,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class wu{}class oa{constructor(I){this.url=I}}class Eu{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new es,this.attachRef=null}}let es=(()=>{class m{constructor(){this.contexts=new Map}onChildOutletCreated(g,w){const S=this.getOrCreateContext(g);S.outlet=w,this.contexts.set(g,S)}onChildOutletDestroyed(g){const w=this.getContext(g);w&&(w.outlet=null,w.attachRef=null)}onOutletDeactivated(){const g=this.contexts;return this.contexts=new Map,g}onOutletReAttached(g){this.contexts=g}getOrCreateContext(g){let w=this.getContext(g);return w||(w=new Eu,this.contexts.set(g,w)),w}getContext(g){return this.contexts.get(g)||null}static{this.\u0275fac=function(w){return new(w||m)}}static{this.\u0275prov=C.jDH({token:m,factory:m.\u0275fac,providedIn:"root"})}}return m})();class Mo{constructor(I){this._root=I}get root(){return this._root.value}parent(I){const g=this.pathFromRoot(I);return g.length>1?g[g.length-2]:null}children(I){const g=Js(I,this._root);return g?g.children.map(w=>w.value):[]}firstChild(I){const g=Js(I,this._root);return g&&g.children.length>0?g.children[0].value:null}siblings(I){const g=Lt(I,this._root);return g.length<2?[]:g[g.length-2].children.map(S=>S.value).filter(S=>S!==I)}pathFromRoot(I){return Lt(I,this._root).map(g=>g.value)}}function Js(m,I){if(m===I.value)return I;for(const g of I.children){const w=Js(m,g);if(w)return w}return null}function Lt(m,I){if(m===I.value)return[I];for(const g of I.children){const w=Lt(m,g);if(w.length)return w.unshift(I),w}return[]}class Nn{constructor(I,g){this.value=I,this.children=g}toString(){return`TreeNode(${this.value})`}}function Kn(m){const I={};return m&&m.children.forEach(g=>I[g.value.outlet]=g),I}class si extends Mo{constructor(I,g){super(I),this.snapshot=g,et(this,I)}toString(){return this.snapshot.toString()}}function oi(m,I){const g=function Va(m,I){const G=new ts([],{},{},"",{},_t,I,null,{});return new wn("",new Nn(G,[]))}(0,I),w=new Ee.t([new Ar("",{})]),S=new Ee.t({}),P=new Ee.t({}),G=new Ee.t({}),de=new Ee.t(""),ce=new Vs(w,S,G,de,P,_t,I,g.root);return ce.snapshot=g.root,new si(new Nn(ce,[]),g)}class Vs{constructor(I,g,w,S,P,G,de,ce){this.urlSubject=I,this.paramsSubject=g,this.queryParamsSubject=w,this.fragmentSubject=S,this.dataSubject=P,this.outlet=G,this.component=de,this._futureSnapshot=ce,this.title=this.dataSubject?.pipe((0,Xe.T)(Qe=>Qe[Wr]))??(0,J.of)(void 0),this.url=I,this.params=g,this.queryParams=w,this.fragment=S,this.data=P}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Xe.T)(I=>Mn(I)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Xe.T)(I=>Mn(I)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Es(m,I="emptyOnly"){const g=m.pathFromRoot;let w=0;if("always"!==I)for(w=g.length-1;w>=1;){const S=g[w],P=g[w-1];if(S.routeConfig&&""===S.routeConfig.path)w--;else{if(P.component)break;w--}}return function Cc(m){return m.reduce((I,g)=>({params:{...I.params,...g.params},data:{...I.data,...g.data},resolve:{...g.data,...I.resolve,...g.routeConfig?.data,...g._resolvedData}}),{params:{},data:{},resolve:{}})}(g.slice(w))}class ts{get title(){return this.data?.[Wr]}constructor(I,g,w,S,P,G,de,ce,Qe){this.url=I,this.params=g,this.queryParams=w,this.fragment=S,this.data=P,this.outlet=G,this.component=de,this.routeConfig=ce,this._resolve=Qe}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Mn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Mn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(w=>w.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class wn extends Mo{constructor(I,g){super(g),this.url=I,et(this,g)}toString(){return Rt(this._root)}}function et(m,I){I.value._routerState=m,I.children.forEach(g=>et(m,g))}function Rt(m){const I=m.children.length>0?` { ${m.children.map(Rt).join(", ")} } `:"";return`${m.value}${I}`}function En(m){if(m.snapshot){const I=m.snapshot,g=m._futureSnapshot;m.snapshot=g,xn(I.queryParams,g.queryParams)||m.queryParamsSubject.next(g.queryParams),I.fragment!==g.fragment&&m.fragmentSubject.next(g.fragment),xn(I.params,g.params)||m.paramsSubject.next(g.params),function Mt(m,I){if(m.length!==I.length)return!1;for(let g=0;g<m.length;++g)if(!xn(m[g],I[g]))return!1;return!0}(I.url,g.url)||m.urlSubject.next(g.url),xn(I.data,g.data)||m.dataSubject.next(g.data)}else m.snapshot=m._futureSnapshot,m.dataSubject.next(m._futureSnapshot.data)}function mi(m,I){const g=xn(m.params,I.params)&&function Or(m,I){return Et(m,I)&&m.every((g,w)=>xn(g.parameters,I[w].parameters))}(m.url,I.url);return g&&!(!m.parent!=!I.parent)&&(!m.parent||mi(m.parent,I.parent))}let eo=(()=>{class m{constructor(){this.activated=null,this._activatedRoute=null,this.name=_t,this.activateEvents=new C.bkB,this.deactivateEvents=new C.bkB,this.attachEvents=new C.bkB,this.detachEvents=new C.bkB,this.parentContexts=(0,C.WQX)(es),this.location=(0,C.WQX)(C.c1b),this.changeDetector=(0,C.WQX)(C.gRc),this.environmentInjector=(0,C.WQX)(C.uvJ),this.inputBinder=(0,C.WQX)(Bs,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(g){if(g.name){const{firstChange:w,previousValue:S}=g.name;if(w)return;this.isTrackedInParentContexts(S)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(S)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(g){return this.parentContexts.getContext(g)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const g=this.parentContexts.getContext(this.name);g?.route&&(g.attachRef?this.attach(g.attachRef,g.route):this.activateWith(g.route,g.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new C.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new C.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new C.wOt(4012,!1);this.location.detach();const g=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(g.instance),g}attach(g,w){this.activated=g,this._activatedRoute=w,this.location.insert(g.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(g.instance)}deactivate(){if(this.activated){const g=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(g)}}activateWith(g,w){if(this.isActivated)throw new C.wOt(4013,!1);this._activatedRoute=g;const S=this.location,G=g.snapshot.component,de=this.parentContexts.getOrCreateContext(this.name).children,ce=new ar(g,de,S.injector);this.activated=S.createComponent(G,{index:S.length,injector:ce,environmentInjector:w??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(w){return new(w||m)}}static{this.\u0275dir=C.FsC({type:m,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[C.OA$]})}}return m})();class ar{constructor(I,g,w){this.route=I,this.childContexts=g,this.parent=w}get(I,g){return I===Vs?this.route:I===es?this.childContexts:this.parent.get(I,g)}}const Bs=new C.nKC("");let Fn=(()=>{class m{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(g){this.unsubscribeFromRouteData(g),this.subscribeToRouteData(g)}unsubscribeFromRouteData(g){this.outletDataSubscriptions.get(g)?.unsubscribe(),this.outletDataSubscriptions.delete(g)}subscribeToRouteData(g){const{activatedRoute:w}=g,S=nt([w.queryParams,w.params,w.data]).pipe((0,bt.n)(([P,G,de],ce)=>(de={...P,...G,...de},0===ce?(0,J.of)(de):Promise.resolve(de)))).subscribe(P=>{if(!g.isActivated||!g.activatedComponentRef||g.activatedRoute!==w||null===w.component)return void this.unsubscribeFromRouteData(g);const G=(0,C.HJs)(w.component);if(G)for(const{templateName:de}of G.inputs)g.activatedComponentRef.setInput(de,P[de]);else this.unsubscribeFromRouteData(g)});this.outletDataSubscriptions.set(g,S)}static{this.\u0275fac=function(w){return new(w||m)}}static{this.\u0275prov=C.jDH({token:m,factory:m.\u0275fac})}}return m})();function yi(m,I,g){if(g&&m.shouldReuseRoute(I.value,g.value.snapshot)){const w=g.value;w._futureSnapshot=I.value;const S=function Nt(m,I,g){return I.children.map(w=>{for(const S of g.children)if(m.shouldReuseRoute(w.value,S.value.snapshot))return yi(m,w,S);return yi(m,w)})}(m,I,g);return new Nn(w,S)}{if(m.shouldAttach(I.value)){const P=m.retrieve(I.value);if(null!==P){const G=P.route;return G.value._futureSnapshot=I.value,G.children=I.children.map(de=>yi(m,de)),G}}const w=function js(m){return new Vs(new Ee.t(m.url),new Ee.t(m.params),new Ee.t(m.queryParams),new Ee.t(m.fragment),new Ee.t(m.data),m.outlet,m.component,m)}(I.value),S=I.children.map(P=>yi(m,P));return new Nn(w,S)}}const Ba="ngNavigationCancelingError";function to(m,I){const{redirectTo:g,navigationBehaviorOptions:w}=gn(I)?{redirectTo:I,navigationBehaviorOptions:void 0}:I,S=qn(!1,0,I);return S.url=g,S.navigationBehaviorOptions=w,S}function qn(m,I,g){const w=new Error("NavigationCancelingError: "+(m||""));return w[Ba]=!0,w.cancellationCode=I,g&&(w.url=g),w}function vi(m){return m&&m[Ba]}let Qr=(()=>{class m{static{this.\u0275fac=function(w){return new(w||m)}}static{this.\u0275cmp=C.VBU({type:m,selectors:[["ng-component"]],standalone:!0,features:[C.aNF],decls:1,vars:0,template:function(w,S){1&w&&C.nrm(0,"router-outlet")},dependencies:[eo],encapsulation:2})}}return m})();function io(m){const I=m.children&&m.children.map(io),g=I?{...m,children:I}:{...m};return!g.component&&!g.loadComponent&&(I||g.loadChildren)&&g.outlet&&g.outlet!==_t&&(g.component=Qr),g}function nr(m){return m.outlet||_t}function _i(m){if(!m)return null;if(m.routeConfig?._injector)return m.routeConfig._injector;for(let I=m.parent;I;I=I.parent){const g=I.routeConfig;if(g?._loadedInjector)return g._loadedInjector;if(g?._injector)return g._injector}return null}class $a{constructor(I,g,w,S,P){this.routeReuseStrategy=I,this.futureState=g,this.currState=w,this.forwardEvent=S,this.inputBindingEnabled=P}activate(I){const g=this.futureState._root,w=this.currState?this.currState._root:null;this.deactivateChildRoutes(g,w,I),En(this.futureState.root),this.activateChildRoutes(g,w,I)}deactivateChildRoutes(I,g,w){const S=Kn(g);I.children.forEach(P=>{const G=P.value.outlet;this.deactivateRoutes(P,S[G],w),delete S[G]}),Object.values(S).forEach(P=>{this.deactivateRouteAndItsChildren(P,w)})}deactivateRoutes(I,g,w){const S=I.value,P=g?g.value:null;if(S===P)if(S.component){const G=w.getContext(S.outlet);G&&this.deactivateChildRoutes(I,g,G.children)}else this.deactivateChildRoutes(I,g,w);else P&&this.deactivateRouteAndItsChildren(g,w)}deactivateRouteAndItsChildren(I,g){I.value.component&&this.routeReuseStrategy.shouldDetach(I.value.snapshot)?this.detachAndStoreRouteSubtree(I,g):this.deactivateRouteAndOutlet(I,g)}detachAndStoreRouteSubtree(I,g){const w=g.getContext(I.value.outlet),S=w&&I.value.component?w.children:g,P=Kn(I);for(const G of Object.keys(P))this.deactivateRouteAndItsChildren(P[G],S);if(w&&w.outlet){const G=w.outlet.detach(),de=w.children.onOutletDeactivated();this.routeReuseStrategy.store(I.value.snapshot,{componentRef:G,route:I,contexts:de})}}deactivateRouteAndOutlet(I,g){const w=g.getContext(I.value.outlet),S=w&&I.value.component?w.children:g,P=Kn(I);for(const G of Object.keys(P))this.deactivateRouteAndItsChildren(P[G],S);w&&(w.outlet&&(w.outlet.deactivate(),w.children.onOutletDeactivated()),w.attachRef=null,w.route=null)}activateChildRoutes(I,g,w){const S=Kn(g);I.children.forEach(P=>{this.activateRoutes(P,S[P.value.outlet],w),this.forwardEvent(new sa(P.value.snapshot))}),I.children.length&&this.forwardEvent(new So(I.value.snapshot))}activateRoutes(I,g,w){const S=I.value,P=g?g.value:null;if(En(S),S===P)if(S.component){const G=w.getOrCreateContext(S.outlet);this.activateChildRoutes(I,g,G.children)}else this.activateChildRoutes(I,g,w);else if(S.component){const G=w.getOrCreateContext(S.outlet);if(this.routeReuseStrategy.shouldAttach(S.snapshot)){const de=this.routeReuseStrategy.retrieve(S.snapshot);this.routeReuseStrategy.store(S.snapshot,null),G.children.onOutletReAttached(de.contexts),G.attachRef=de.componentRef,G.route=de.route.value,G.outlet&&G.outlet.attach(de.componentRef,de.route.value),En(de.route.value),this.activateChildRoutes(I,null,G.children)}else{const de=_i(S.snapshot);G.attachRef=null,G.route=S,G.injector=de,G.outlet&&G.outlet.activateWith(S,G.injector),this.activateChildRoutes(I,null,G.children)}}else this.activateChildRoutes(I,null,w)}}class Sr{constructor(I){this.path=I,this.route=this.path[this.path.length-1]}}class rr{constructor(I,g){this.component=I,this.route=g}}function ua(m,I,g){const w=m._root;return Mr(w,I?I._root:null,g,[w.value])}function on(m,I){const g=Symbol(),w=I.get(m,g);return w===g?"function"!=typeof m||(0,C.LfX)(m)?I.get(m):m:w}function Mr(m,I,g,w,S={canDeactivateChecks:[],canActivateChecks:[]}){const P=Kn(I);return m.children.forEach(G=>{(function Du(m,I,g,w,S={canDeactivateChecks:[],canActivateChecks:[]}){const P=m.value,G=I?I.value:null,de=g?g.getContext(m.value.outlet):null;if(G&&P.routeConfig===G.routeConfig){const ce=function Tu(m,I,g){if("function"==typeof g)return g(m,I);switch(g){case"pathParamsChange":return!Et(m.url,I.url);case"pathParamsOrQueryParamsChange":return!Et(m.url,I.url)||!xn(m.queryParams,I.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!mi(m,I)||!xn(m.queryParams,I.queryParams);default:return!mi(m,I)}}(G,P,P.routeConfig.runGuardsAndResolvers);ce?S.canActivateChecks.push(new Sr(w)):(P.data=G.data,P._resolvedData=G._resolvedData),Mr(m,I,P.component?de?de.children:null:g,w,S),ce&&de&&de.outlet&&de.outlet.isActivated&&S.canDeactivateChecks.push(new rr(de.outlet.component,G))}else G&&ca(I,de,S),S.canActivateChecks.push(new Sr(w)),Mr(m,null,P.component?de?de.children:null:g,w,S)})(G,P[G.value.outlet],g,w.concat([G.value]),S),delete P[G.value.outlet]}),Object.entries(P).forEach(([G,de])=>ca(de,g.getContext(G),S)),S}function ca(m,I,g){const w=Kn(m),S=m.value;Object.entries(w).forEach(([P,G])=>{ca(G,S.component?I?I.children.getContext(P):null:I,g)}),g.canDeactivateChecks.push(new rr(S.component&&I&&I.outlet&&I.outlet.isActivated?I.outlet.component:null,S))}function Cs(m){return"function"==typeof m}function Nl(m){return m instanceof pn||"EmptyError"===m?.name}const $s=Symbol("INITIAL_VALUE");function Xr(){return(0,bt.n)(m=>nt(m.map(I=>I.pipe(zr(1),function Vi(...m){const I=(0,K.lI)(m);return(0,Ln.N)((g,w)=>{(I?Re(m,g,I):Re(m,g)).subscribe(w)})}($s)))).pipe((0,Xe.T)(I=>{for(const g of I)if(!0!==g){if(g===$s)return $s;if(!1===g||g instanceof ii)return g}return!0}),se(I=>I!==$s),zr(1)))}function Hs(m){return(0,at.F)((0,wt.M)(I=>{if(gn(I))throw to(0,I)}),(0,Xe.T)(I=>!0===I))}class fa{constructor(I){this.segmentGroup=I||null}}class fr{constructor(I){this.urlTree=I}}function zs(m){return Ge(new fa(m))}function xr(m){return Ge(new fr(m))}class Mu{constructor(I,g){this.urlSerializer=I,this.urlTree=g}noMatchError(I){return new C.wOt(4002,!1)}lineralizeSegments(I,g){let w=[],S=g.root;for(;;){if(w=w.concat(S.segments),0===S.numberOfChildren)return(0,J.of)(w);if(S.numberOfChildren>1||!S.children[_t])return Ge(new C.wOt(4e3,!1));S=S.children[_t]}}applyRedirectCommands(I,g,w){return this.applyRedirectCreateUrlTree(g,this.urlSerializer.parse(g),I,w)}applyRedirectCreateUrlTree(I,g,w,S){const P=this.createSegmentGroup(I,g.root,w,S);return new ii(P,this.createQueryParams(g.queryParams,this.urlTree.queryParams),g.fragment)}createQueryParams(I,g){const w={};return Object.entries(I).forEach(([S,P])=>{if("string"==typeof P&&P.startsWith(":")){const de=P.substring(1);w[S]=g[de]}else w[S]=P}),w}createSegmentGroup(I,g,w,S){const P=this.createSegments(I,g.segments,w,S);let G={};return Object.entries(g.children).forEach(([de,ce])=>{G[de]=this.createSegmentGroup(I,ce,w,S)}),new gt(P,G)}createSegments(I,g,w,S){return g.map(P=>P.path.startsWith(":")?this.findPosParam(I,P,S):this.findOrReturn(P,w))}findPosParam(I,g,w){const S=w[g.path.substring(1)];if(!S)throw new C.wOt(4001,!1);return S}findOrReturn(I,g){let w=0;for(const S of g){if(S.path===I.path)return g.splice(w),S;w++}return I}}const As={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function pa(m,I,g,w,S){const P=oo(m,I,g);return P.matched?(w=function xo(m,I){return m.providers&&!m._injector&&(m._injector=(0,C.Ol2)(m.providers,I,`Route: ${m.path}`)),m._injector??I}(I,w),function Yr(m,I,g,w){const S=I.canMatch;if(!S||0===S.length)return(0,J.of)(!0);const P=S.map(G=>{const de=on(G,m);return Wn(function Sc(m){return m&&Cs(m.canMatch)}(de)?de.canMatch(I,g):m.runInContext(()=>de(I,g)))});return(0,J.of)(P).pipe(Xr(),Hs())}(w,I,g).pipe((0,Xe.T)(G=>!0===G?P:{...As}))):(0,J.of)(P)}function oo(m,I,g){if(""===I.path)return"full"===I.pathMatch&&(m.hasChildren()||g.length>0)?{...As}:{matched:!0,consumedSegments:[],remainingSegments:g,parameters:{},positionalParamSegments:{}};const S=(I.matcher||Kt)(g,m,I);if(!S)return{...As};const P={};Object.entries(S.posParams??{}).forEach(([de,ce])=>{P[de]=ce.path});const G=S.consumed.length>0?{...P,...S.consumed[S.consumed.length-1].parameters}:P;return{matched:!0,consumedSegments:S.consumed,remainingSegments:g.slice(S.consumed.length),parameters:G,positionalParamSegments:S.posParams??{}}}function xu(m,I,g,w){return g.length>0&&function ma(m,I,g){return g.some(w=>Ss(m,I,w)&&nr(w)!==_t)}(m,g,w)?{segmentGroup:new gt(I,za(w,new gt(g,m.children))),slicedSegments:[]}:0===g.length&&function Nu(m,I,g){return g.some(w=>Ss(m,I,w))}(m,g,w)?{segmentGroup:new gt(m.segments,ga(m,0,g,w,m.children)),slicedSegments:g}:{segmentGroup:new gt(m.segments,m.children),slicedSegments:g}}function ga(m,I,g,w,S){const P={};for(const G of w)if(Ss(m,g,G)&&!S[nr(G)]){const de=new gt([],{});P[nr(G)]=de}return{...S,...P}}function za(m,I){const g={};g[_t]=I;for(const w of m)if(""===w.path&&nr(w)!==_t){const S=new gt([],{});g[nr(w)]=S}return g}function Ss(m,I,g){return(!(m.hasChildren()||I.length>0)||"full"!==g.pathMatch)&&""===g.path}class Fo{constructor(I,g,w,S,P,G,de){this.injector=I,this.configLoader=g,this.rootComponentType=w,this.config=S,this.urlTree=P,this.paramsInheritanceStrategy=G,this.urlSerializer=de,this.allowRedirects=!0,this.applyRedirects=new Mu(this.urlSerializer,this.urlTree)}noMatchError(I){return new C.wOt(4002,!1)}recognize(){const I=xu(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,I,_t).pipe(Zt(g=>{if(g instanceof fr)return this.allowRedirects=!1,this.urlTree=g.urlTree,this.match(g.urlTree);throw g instanceof fa?this.noMatchError(g):g}),(0,Xe.T)(g=>{const w=new ts([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},_t,this.rootComponentType,null,{}),S=new Nn(w,g),P=new wn("",S),G=function vs(m,I,g=null,w=null){return qs(Ls(m),I,g,w)}(w,[],this.urlTree.queryParams,this.urlTree.fragment);return G.queryParams=this.urlTree.queryParams,P.url=this.urlSerializer.serialize(G),this.inheritParamsAndData(P._root),{state:P,tree:G}}))}match(I){return this.processSegmentGroup(this.injector,this.config,I.root,_t).pipe(Zt(w=>{throw w instanceof fa?this.noMatchError(w):w}))}inheritParamsAndData(I){const g=I.value,w=Es(g,this.paramsInheritanceStrategy);g.params=Object.freeze(w.params),g.data=Object.freeze(w.data),I.children.forEach(S=>this.inheritParamsAndData(S))}processSegmentGroup(I,g,w,S){return 0===w.segments.length&&w.hasChildren()?this.processChildren(I,g,w):this.processSegment(I,g,w,w.segments,S,!0)}processChildren(I,g,w){const S=[];for(const P of Object.keys(w.children))"primary"===P?S.unshift(P):S.push(P);return(0,V.H)(S).pipe(je(P=>{const G=w.children[P],de=function Ds(m,I){const g=m.filter(w=>nr(w)===I);return g.push(...m.filter(w=>nr(w)!==I)),g}(g,P);return this.processSegmentGroup(I,de,G,P)}),function Yt(m,I){return(0,Ln.N)(function vt(m,I,g,w,S){return(P,G)=>{let de=g,ce=I,Qe=0;P.subscribe((0,Le._)(G,Ot=>{const Qt=Qe++;ce=de?m(ce,Ot,Qt):(de=!0,Ot),w&&G.next(ce)},S&&(()=>{de&&G.next(ce),G.complete()})))}}(m,I,arguments.length>=2,!0))}((P,G)=>(P.push(...G),P)),ue(null),function Gr(m,I){const g=arguments.length>=2;return w=>w.pipe(m?se((S,P)=>m(S,P,w)):Te.D,vn(1),g?ue(I):me(()=>new pn))}(),(0,ae.Z)(P=>{if(null===P)return zs(w);const G=O(P);return function Mc(m){m.sort((I,g)=>I.value.outlet===_t?-1:g.value.outlet===_t?1:I.value.outlet.localeCompare(g.value.outlet))}(G),(0,J.of)(G)}))}processSegment(I,g,w,S,P,G){return(0,V.H)(g).pipe(je(de=>this.processSegmentAgainstRoute(de._injector??I,g,de,w,S,P,G).pipe(Zt(ce=>{if(ce instanceof fa)return(0,J.of)(null);throw ce}))),Ie(de=>!!de),Zt(de=>{if(Nl(de))return function Lo(m,I,g){return 0===I.length&&!m.children[g]}(w,S,P)?(0,J.of)([]):zs(w);throw de}))}processSegmentAgainstRoute(I,g,w,S,P,G,de){return function Po(m,I,g,w){return!!(nr(m)===w||w!==_t&&Ss(I,g,m))&&("**"===m.path||oo(I,m,g).matched)}(w,S,P,G)?void 0===w.redirectTo?this.matchSegmentAgainstRoute(I,S,w,P,G,de):de&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(I,S,g,w,P,G):zs(S):zs(S)}expandSegmentAgainstRouteUsingRedirect(I,g,w,S,P,G){return"**"===S.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(I,w,S,G):this.expandRegularSegmentAgainstRouteUsingRedirect(I,g,w,S,P,G)}expandWildCardWithParamsAgainstRouteUsingRedirect(I,g,w,S){const P=this.applyRedirects.applyRedirectCommands([],w.redirectTo,{});return w.redirectTo.startsWith("/")?xr(P):this.applyRedirects.lineralizeSegments(w,P).pipe((0,ae.Z)(G=>{const de=new gt(G,{});return this.processSegment(I,g,de,G,S,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(I,g,w,S,P,G){const{matched:de,consumedSegments:ce,remainingSegments:Qe,positionalParamSegments:Ot}=oo(g,S,P);if(!de)return zs(g);const Qt=this.applyRedirects.applyRedirectCommands(ce,S.redirectTo,Ot);return S.redirectTo.startsWith("/")?xr(Qt):this.applyRedirects.lineralizeSegments(S,Qt).pipe((0,ae.Z)(dn=>this.processSegment(I,w,g,dn.concat(Qe),G,!1)))}matchSegmentAgainstRoute(I,g,w,S,P,G){let de;if("**"===w.path){const ce=S.length>0?_r(S).parameters:{},Qe=new ts(S,ce,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,N(w),nr(w),w.component??w._loadedComponent??null,w,W(w));de=(0,J.of)({snapshot:Qe,consumedSegments:[],remainingSegments:[]}),g.children={}}else de=pa(g,w,S,I).pipe((0,Xe.T)(({matched:ce,consumedSegments:Qe,remainingSegments:Ot,parameters:Qt})=>ce?{snapshot:new ts(Qe,Qt,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,N(w),nr(w),w.component??w._loadedComponent??null,w,W(w)),consumedSegments:Qe,remainingSegments:Ot}:null));return de.pipe((0,bt.n)(ce=>null===ce?zs(g):this.getChildConfig(I=w._injector??I,w,S).pipe((0,bt.n)(({routes:Qe})=>{const Ot=w._loadedInjector??I,{snapshot:Qt,consumedSegments:dn,remainingSegments:Vr}=ce,{segmentGroup:as,slicedSegments:uo}=xu(g,dn,Vr,Qe);if(0===uo.length&&as.hasChildren())return this.processChildren(Ot,Qe,as).pipe((0,Xe.T)(ai=>null===ai?null:[new Nn(Qt,ai)]));if(0===Qe.length&&0===uo.length)return(0,J.of)([new Nn(Qt,[])]);const Vu=nr(w)===P;return this.processSegment(Ot,Qe,as,uo,Vu?_t:P,!0).pipe((0,Xe.T)(ai=>[new Nn(Qt,ai)]))}))))}getChildConfig(I,g,w){return g.children?(0,J.of)({routes:g.children,injector:I}):g.loadChildren?void 0!==g._loadedRoutes?(0,J.of)({routes:g._loadedRoutes,injector:g._loadedInjector}):function zi(m,I,g,w){const S=I.canLoad;if(void 0===S||0===S.length)return(0,J.of)(!0);const P=S.map(G=>{const de=on(G,m);return Wn(function Cu(m){return m&&Cs(m.canLoad)}(de)?de.canLoad(I,g):m.runInContext(()=>de(I,g)))});return(0,J.of)(P).pipe(Xr(),Hs())}(I,g,w).pipe((0,ae.Z)(S=>S?this.configLoader.loadChildren(I,g).pipe((0,wt.M)(P=>{g._loadedRoutes=P.routes,g._loadedInjector=P.injector})):function so(m){return Ge(qn(!1,3))}())):(0,J.of)({routes:[],injector:I})}}function _(m){const I=m.value.routeConfig;return I&&""===I.path}function O(m){const I=[],g=new Set;for(const w of m){if(!_(w)){I.push(w);continue}const S=I.find(P=>w.value.routeConfig===P.value.routeConfig);void 0!==S?(S.children.push(...w.children),g.add(S)):I.push(w)}for(const w of g){const S=O(w.children);I.push(new Nn(w.value,S))}return I.filter(w=>!g.has(w))}function N(m){return m.data||{}}function W(m){return m.resolve||{}}function jt(m){return"string"==typeof m.title||null===m.title}function Hn(m){return(0,bt.n)(I=>{const g=m(I);return g?(0,V.H)(g).pipe((0,Xe.T)(()=>I)):(0,J.of)(I)})}const ln=new C.nKC("ROUTES");let ur=(()=>{class m{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,C.WQX)(C.Ql9)}loadComponent(g){if(this.componentLoaders.get(g))return this.componentLoaders.get(g);if(g._loadedComponent)return(0,J.of)(g._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(g);const w=Wn(g.loadComponent()).pipe((0,Xe.T)(Ur),(0,wt.M)(P=>{this.onLoadEndListener&&this.onLoadEndListener(g),g._loadedComponent=P}),On(()=>{this.componentLoaders.delete(g)})),S=new Gn(w,()=>new He.B).pipe(Be());return this.componentLoaders.set(g,S),S}loadChildren(g,w){if(this.childrenLoaders.get(w))return this.childrenLoaders.get(w);if(w._loadedRoutes)return(0,J.of)({routes:w._loadedRoutes,injector:w._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(w);const P=function rs(m,I,g,w){return Wn(m.loadChildren()).pipe((0,Xe.T)(Ur),(0,ae.Z)(S=>S instanceof C.Co$||Array.isArray(S)?(0,J.of)(S):(0,V.H)(I.compileModuleAsync(S))),(0,Xe.T)(S=>{w&&w(m);let P,G,de=!1;return Array.isArray(S)?(G=S,!0):(P=S.create(g).injector,G=P.get(ln,[],{optional:!0,self:!0}).flat()),{routes:G.map(io),injector:P}}))}(w,this.compiler,g,this.onLoadEndListener).pipe(On(()=>{this.childrenLoaders.delete(w)})),G=new Gn(P,()=>new He.B).pipe(Be());return this.childrenLoaders.set(w,G),G}static{this.\u0275fac=function(w){return new(w||m)}}static{this.\u0275prov=C.jDH({token:m,factory:m.\u0275fac,providedIn:"root"})}}return m})();function Ur(m){return function Ii(m){return m&&"object"==typeof m&&"default"in m}(m)?m.default:m}let Ir=(()=>{class m{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new He.B,this.transitionAbortSubject=new He.B,this.configLoader=(0,C.WQX)(ur),this.environmentInjector=(0,C.WQX)(C.uvJ),this.urlSerializer=(0,C.WQX)(jn),this.rootContexts=(0,C.WQX)(es),this.inputBindingEnabled=null!==(0,C.WQX)(Bs,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,J.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=S=>this.events.next(new Dc(S)),this.configLoader.onLoadStartListener=S=>this.events.next(new Ao(S))}complete(){this.transitions?.complete()}handleNavigationRequest(g){const w=++this.navigationId;this.transitions?.next({...this.transitions.value,...g,id:w})}setupNavigations(g,w,S){return this.transitions=new Ee.t({id:0,currentUrlTree:w,currentRawUrl:w,currentBrowserUrl:w,extractedUrl:g.urlHandlingStrategy.extract(w),urlAfterRedirects:g.urlHandlingStrategy.extract(w),rawUrl:w,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Ys,restoredState:null,currentSnapshot:S.snapshot,targetSnapshot:null,currentRouterState:S,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(se(P=>0!==P.id),(0,Xe.T)(P=>({...P,extractedUrl:g.urlHandlingStrategy.extract(P.rawUrl)})),(0,bt.n)(P=>{this.currentTransition=P;let G=!1,de=!1;return(0,J.of)(P).pipe((0,wt.M)(ce=>{this.currentNavigation={id:ce.id,initialUrl:ce.rawUrl,extractedUrl:ce.extractedUrl,trigger:ce.source,extras:ce.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,bt.n)(ce=>{const Qe=ce.currentBrowserUrl.toString(),Ot=!g.navigated||ce.extractedUrl.toString()!==Qe||Qe!==ce.currentUrlTree.toString();if(!Ot&&"reload"!==(ce.extras.onSameUrlNavigation??g.onSameUrlNavigation)){const dn="";return this.events.next(new Us(ce.id,this.urlSerializer.serialize(ce.rawUrl),dn,0)),ce.resolve(null),$e.w}if(g.urlHandlingStrategy.shouldProcessUrl(ce.rawUrl))return(0,J.of)(ce).pipe((0,bt.n)(dn=>{const Vr=this.transitions?.getValue();return this.events.next(new ws(dn.id,this.urlSerializer.serialize(dn.extractedUrl),dn.source,dn.restoredState)),Vr!==this.transitions?.getValue()?$e.w:Promise.resolve(dn)}),function fe(m,I,g,w,S,P){return(0,ae.Z)(G=>function ya(m,I,g,w,S,P,G="emptyOnly"){return new Fo(m,I,g,w,S,G,P).recognize()}(m,I,g,w,G.extractedUrl,S,P).pipe((0,Xe.T)(({state:de,tree:ce})=>({...G,targetSnapshot:de,urlAfterRedirects:ce}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,g.config,this.urlSerializer,g.paramsInheritanceStrategy),(0,wt.M)(dn=>{P.targetSnapshot=dn.targetSnapshot,P.urlAfterRedirects=dn.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:dn.urlAfterRedirects};const Vr=new Iu(dn.id,this.urlSerializer.serialize(dn.extractedUrl),this.urlSerializer.serialize(dn.urlAfterRedirects),dn.targetSnapshot);this.events.next(Vr)}));if(Ot&&g.urlHandlingStrategy.shouldProcessUrl(ce.currentRawUrl)){const{id:dn,extractedUrl:Vr,source:as,restoredState:uo,extras:Vu}=ce,ai=new ws(dn,this.urlSerializer.serialize(Vr),as,uo);this.events.next(ai);const Dr=oi(0,this.rootComponentType).snapshot;return this.currentTransition=P={...ce,targetSnapshot:Dr,urlAfterRedirects:Vr,extras:{...Vu,skipLocationChange:!1,replaceUrl:!1}},(0,J.of)(P)}{const dn="";return this.events.next(new Us(ce.id,this.urlSerializer.serialize(ce.extractedUrl),dn,1)),ce.resolve(null),$e.w}}),(0,wt.M)(ce=>{const Qe=new na(ce.id,this.urlSerializer.serialize(ce.extractedUrl),this.urlSerializer.serialize(ce.urlAfterRedirects),ce.targetSnapshot);this.events.next(Qe)}),(0,Xe.T)(ce=>(this.currentTransition=P={...ce,guards:ua(ce.targetSnapshot,ce.currentSnapshot,this.rootContexts)},P)),function Ha(m,I){return(0,ae.Z)(g=>{const{targetSnapshot:w,currentSnapshot:S,guards:{canActivateChecks:P,canDeactivateChecks:G}}=g;return 0===G.length&&0===P.length?(0,J.of)({...g,guardsResult:!0}):function Rl(m,I,g,w){return(0,V.H)(m).pipe((0,ae.Z)(S=>function Au(m,I,g,w,S){const P=I&&I.routeConfig?I.routeConfig.canDeactivate:null;if(!P||0===P.length)return(0,J.of)(!0);const G=P.map(de=>{const ce=_i(I)??S,Qe=on(de,ce);return Wn(function la(m){return m&&Cs(m.canDeactivate)}(Qe)?Qe.canDeactivate(m,I,g,w):ce.runInContext(()=>Qe(m,I,g,w))).pipe(Ie())});return(0,J.of)(G).pipe(Xr())}(S.component,S.route,g,I,w)),Ie(S=>!0!==S,!0))}(G,w,S,m).pipe((0,ae.Z)(de=>de&&function bs(m){return"boolean"==typeof m}(de)?function ha(m,I,g,w){return(0,V.H)(I).pipe(je(S=>Re(function ko(m,I){return null!==m&&I&&I(new Fa(m)),(0,J.of)(!0)}(S.route.parent,w),function Oo(m,I){return null!==m&&I&&I(new Ua(m)),(0,J.of)(!0)}(S.route,w),function bu(m,I,g){const w=I[I.length-1],P=I.slice(0,I.length-1).reverse().map(G=>function Ts(m){const I=m.routeConfig?m.routeConfig.canActivateChild:null;return I&&0!==I.length?{node:m,guards:I}:null}(G)).filter(G=>null!==G).map(G=>Ye(()=>{const de=G.guards.map(ce=>{const Qe=_i(G.node)??g,Ot=on(ce,Qe);return Wn(function Ac(m){return m&&Cs(m.canActivateChild)}(Ot)?Ot.canActivateChild(w,m):Qe.runInContext(()=>Ot(w,m))).pipe(Ie())});return(0,J.of)(de).pipe(Xr())}));return(0,J.of)(P).pipe(Xr())}(m,S.path,g),function Ol(m,I,g){const w=I.routeConfig?I.routeConfig.canActivate:null;if(!w||0===w.length)return(0,J.of)(!0);const S=w.map(P=>Ye(()=>{const G=_i(I)??g,de=on(P,G);return Wn(function bc(m){return m&&Cs(m.canActivate)}(de)?de.canActivate(I,m):G.runInContext(()=>de(I,m))).pipe(Ie())}));return(0,J.of)(S).pipe(Xr())}(m,S.route,g))),Ie(S=>!0!==S,!0))}(w,P,m,I):(0,J.of)(de)),(0,Xe.T)(de=>({...g,guardsResult:de})))})}(this.environmentInjector,ce=>this.events.next(ce)),(0,wt.M)(ce=>{if(P.guardsResult=ce.guardsResult,gn(ce.guardsResult))throw to(0,ce.guardsResult);const Qe=new La(ce.id,this.urlSerializer.serialize(ce.extractedUrl),this.urlSerializer.serialize(ce.urlAfterRedirects),ce.targetSnapshot,!!ce.guardsResult);this.events.next(Qe)}),se(ce=>!!ce.guardsResult||(this.cancelNavigationTransition(ce,"",3),!1)),Hn(ce=>{if(ce.guards.canActivateChecks.length)return(0,J.of)(ce).pipe((0,wt.M)(Qe=>{const Ot=new ra(Qe.id,this.urlSerializer.serialize(Qe.extractedUrl),this.urlSerializer.serialize(Qe.urlAfterRedirects),Qe.targetSnapshot);this.events.next(Ot)}),(0,bt.n)(Qe=>{let Ot=!1;return(0,J.of)(Qe).pipe(function Ce(m,I){return(0,ae.Z)(g=>{const{targetSnapshot:w,guards:{canActivateChecks:S}}=g;if(!S.length)return(0,J.of)(g);let P=0;return(0,V.H)(S).pipe(je(G=>function ht(m,I,g,w){const S=m.routeConfig,P=m._resolve;return void 0!==S?.title&&!jt(S)&&(P[Wr]=S.title),function Rn(m,I,g,w){const S=function kn(m){return[...Object.keys(m),...Object.getOwnPropertySymbols(m)]}(m);if(0===S.length)return(0,J.of)({});const P={};return(0,V.H)(S).pipe((0,ae.Z)(G=>function fn(m,I,g,w){const S=_i(I)??w,P=on(m,S);return Wn(P.resolve?P.resolve(I,g):S.runInContext(()=>P(I,g)))}(m[G],I,g,w).pipe(Ie(),(0,wt.M)(de=>{P[G]=de}))),vn(1),function Pt(m){return(0,Xe.T)(()=>m)}(P),Zt(G=>Nl(G)?$e.w:Ge(G)))}(P,m,I,w).pipe((0,Xe.T)(G=>(m._resolvedData=G,m.data=Es(m,g).resolve,S&&jt(S)&&(m.data[Wr]=S.title),null)))}(G.route,w,m,I)),(0,wt.M)(()=>P++),vn(1),(0,ae.Z)(G=>P===S.length?(0,J.of)(g):$e.w))})}(g.paramsInheritanceStrategy,this.environmentInjector),(0,wt.M)({next:()=>Ot=!0,complete:()=>{Ot||this.cancelNavigationTransition(Qe,"",2)}}))}),(0,wt.M)(Qe=>{const Ot=new ia(Qe.id,this.urlSerializer.serialize(Qe.extractedUrl),this.urlSerializer.serialize(Qe.urlAfterRedirects),Qe.targetSnapshot);this.events.next(Ot)}))}),Hn(ce=>{const Qe=Ot=>{const Qt=[];Ot.routeConfig?.loadComponent&&!Ot.routeConfig._loadedComponent&&Qt.push(this.configLoader.loadComponent(Ot.routeConfig).pipe((0,wt.M)(dn=>{Ot.component=dn}),(0,Xe.T)(()=>{})));for(const dn of Ot.children)Qt.push(...Qe(dn));return Qt};return nt(Qe(ce.targetSnapshot.root)).pipe(ue(),zr(1))}),Hn(()=>this.afterPreactivation()),(0,Xe.T)(ce=>{const Qe=function Fr(m,I,g){const w=yi(m,I._root,g?g._root:void 0);return new si(w,I)}(g.routeReuseStrategy,ce.targetSnapshot,ce.currentRouterState);return this.currentTransition=P={...ce,targetRouterState:Qe},P}),(0,wt.M)(()=>{this.events.next(new wu)}),((m,I,g,w)=>(0,Xe.T)(S=>(new $a(I,S.targetRouterState,S.currentRouterState,g,w).activate(m),S)))(this.rootContexts,g.routeReuseStrategy,ce=>this.events.next(ce),this.inputBindingEnabled),zr(1),(0,wt.M)({next:ce=>{G=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Ji(ce.id,this.urlSerializer.serialize(ce.extractedUrl),this.urlSerializer.serialize(ce.urlAfterRedirects))),g.titleStrategy?.updateTitle(ce.targetRouterState.snapshot),ce.resolve(!0)},complete:()=>{G=!0}}),function dt(m){return(0,Ln.N)((I,g)=>{(0,be.Tg)(m).subscribe((0,Le._)(g,()=>g.complete(),_n.l)),!g.closed&&I.subscribe(g)})}(this.transitionAbortSubject.pipe((0,wt.M)(ce=>{throw ce}))),On(()=>{G||de||this.cancelNavigationTransition(P,"",1),this.currentNavigation?.id===P.id&&(this.currentNavigation=null)}),Zt(ce=>{if(de=!0,vi(ce))this.events.next(new dr(P.id,this.urlSerializer.serialize(P.extractedUrl),ce.message,ce.cancellationCode)),function Hi(m){return vi(m)&&gn(m.url)}(ce)?this.events.next(new oa(ce.url)):P.resolve(!1);else{this.events.next(new In(P.id,this.urlSerializer.serialize(P.extractedUrl),ce,P.targetSnapshot??void 0));try{P.resolve(g.errorHandler(ce))}catch(Qe){P.reject(Qe)}}return $e.w}))}))}cancelNavigationTransition(g,w,S){const P=new dr(g.id,this.urlSerializer.serialize(g.extractedUrl),w,S);this.events.next(P),g.resolve(!1)}static{this.\u0275fac=function(w){return new(w||m)}}static{this.\u0275prov=C.jDH({token:m,factory:m.\u0275fac,providedIn:"root"})}}return m})();function is(m){return m!==Ys}let Gs=(()=>{class m{buildTitle(g){let w,S=g.root;for(;void 0!==S;)w=this.getResolvedTitleForRoute(S)??w,S=S.children.find(P=>P.outlet===_t);return w}getResolvedTitleForRoute(g){return g.data[Wr]}static{this.\u0275fac=function(w){return new(w||m)}}static{this.\u0275prov=C.jDH({token:m,factory:function(){return(0,C.WQX)(ao)},providedIn:"root"})}}return m})(),ao=(()=>{class m extends Gs{constructor(g){super(),this.title=g}updateTitle(g){const w=this.buildTitle(g);void 0!==w&&this.title.setTitle(w)}static{this.\u0275fac=function(w){return new(w||m)(C.KVO(vr.hE))}}static{this.\u0275prov=C.jDH({token:m,factory:m.\u0275fac,providedIn:"root"})}}return m})(),Ru=(()=>{class m{static{this.\u0275fac=function(w){return new(w||m)}}static{this.\u0275prov=C.jDH({token:m,factory:function(){return(0,C.WQX)(kl)},providedIn:"root"})}}return m})();class xc{shouldDetach(I){return!1}store(I,g){}shouldAttach(I){return!1}retrieve(I){return null}shouldReuseRoute(I,g){return I.routeConfig===g.routeConfig}}let kl=(()=>{class m extends xc{static{this.\u0275fac=function(){let g;return function(S){return(g||(g=C.xGo(m)))(S||m)}}()}static{this.\u0275prov=C.jDH({token:m,factory:m.\u0275fac,providedIn:"root"})}}return m})();const va=new C.nKC("",{providedIn:"root",factory:()=>({})});let Ou=(()=>{class m{static{this.\u0275fac=function(w){return new(w||m)}}static{this.\u0275prov=C.jDH({token:m,factory:function(){return(0,C.WQX)(ph)},providedIn:"root"})}}return m})(),ph=(()=>{class m{shouldProcessUrl(g){return!0}extract(g){return g}merge(g,w){return g}static{this.\u0275fac=function(w){return new(w||m)}}static{this.\u0275prov=C.jDH({token:m,factory:m.\u0275fac,providedIn:"root"})}}return m})();var Uo=function(m){return m[m.COMPLETE=0]="COMPLETE",m[m.FAILED=1]="FAILED",m[m.REDIRECTING=2]="REDIRECTING",m}(Uo||{});function Ga(m,I){m.events.pipe(se(g=>g instanceof Ji||g instanceof dr||g instanceof In||g instanceof Us),(0,Xe.T)(g=>g instanceof Ji||g instanceof Us?Uo.COMPLETE:g instanceof dr&&(0===g.code||1===g.code)?Uo.REDIRECTING:Uo.FAILED),se(g=>g!==Uo.REDIRECTING),zr(1)).subscribe(()=>{I()})}function Ip(m){throw m}function ss(m,I,g){return I.parse("/")}const gh={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},wp={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let tn=(()=>{class m{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,C.WQX)(C.H3F),this.isNgZoneEnabled=!1,this._events=new He.B,this.options=(0,C.WQX)(va,{optional:!0})||{},this.pendingTasks=(0,C.WQX)(C.$K3),this.errorHandler=this.options.errorHandler||Ip,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||ss,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,C.WQX)(Ou),this.routeReuseStrategy=(0,C.WQX)(Ru),this.titleStrategy=(0,C.WQX)(Gs),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,C.WQX)(ln,{optional:!0})?.flat()??[],this.navigationTransitions=(0,C.WQX)(Ir),this.urlSerializer=(0,C.WQX)(jn),this.location=(0,C.WQX)(cn.aZ),this.componentInputBindingEnabled=!!(0,C.WQX)(Bs,{optional:!0}),this.eventsSubscription=new Bt.yU,this.isNgZoneEnabled=(0,C.WQX)(C.SKi)instanceof C.SKi&&C.SKi.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new ii,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=oi(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(g=>{this.lastSuccessfulId=g.id,this.currentPageId=this.browserPageId},g=>{this.console.warn(`Unhandled Navigation Error: ${g}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const g=this.navigationTransitions.events.subscribe(w=>{try{const{currentTransition:S}=this.navigationTransitions;if(null===S)return void(Wa(w)&&this._events.next(w));if(w instanceof ws)is(S.source)&&(this.browserUrlTree=S.extractedUrl);else if(w instanceof Us)this.rawUrlTree=S.rawUrl;else if(w instanceof Iu){if("eager"===this.urlUpdateStrategy){if(!S.extras.skipLocationChange){const P=this.urlHandlingStrategy.merge(S.urlAfterRedirects,S.rawUrl);this.setBrowserUrl(P,S)}this.browserUrlTree=S.urlAfterRedirects}}else if(w instanceof wu)this.currentUrlTree=S.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(S.urlAfterRedirects,S.rawUrl),this.routerState=S.targetRouterState,"deferred"===this.urlUpdateStrategy&&(S.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,S),this.browserUrlTree=S.urlAfterRedirects);else if(w instanceof dr)0!==w.code&&1!==w.code&&(this.navigated=!0),(3===w.code||2===w.code)&&this.restoreHistory(S);else if(w instanceof oa){const P=this.urlHandlingStrategy.merge(w.url,S.currentRawUrl),G={skipLocationChange:S.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||is(S.source)};this.scheduleNavigation(P,Ys,null,G,{resolve:S.resolve,reject:S.reject,promise:S.promise})}w instanceof In&&this.restoreHistory(S,!0),w instanceof Ji&&(this.navigated=!0),Wa(w)&&this._events.next(w)}catch(S){this.navigationTransitions.transitionAbortSubject.next(S)}});this.eventsSubscription.add(g)}resetRootComponentType(g){this.routerState.root.component=g,this.navigationTransitions.rootComponentType=g}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const g=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Ys,g)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(g=>{const w="popstate"===g.type?"popstate":"hashchange";"popstate"===w&&setTimeout(()=>{this.navigateToSyncWithBrowser(g.url,w,g.state)},0)}))}navigateToSyncWithBrowser(g,w,S){const P={replaceUrl:!0},G=S?.navigationId?S:null;if(S){const ce={...S};delete ce.navigationId,delete ce.\u0275routerPageId,0!==Object.keys(ce).length&&(P.state=ce)}const de=this.parseUrl(g);this.scheduleNavigation(de,w,G,P)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(g){this.config=g.map(io),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(g,w={}){const{relativeTo:S,queryParams:P,fragment:G,queryParamsHandling:de,preserveFragment:ce}=w,Qe=ce?this.currentUrlTree.fragment:G;let Qt,Ot=null;switch(de){case"merge":Ot={...this.currentUrlTree.queryParams,...P};break;case"preserve":Ot=this.currentUrlTree.queryParams;break;default:Ot=P||null}null!==Ot&&(Ot=this.removeEmptyProps(Ot));try{Qt=Ls(S?S.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof g[0]||!g[0].startsWith("/"))&&(g=[]),Qt=this.currentUrlTree.root}return qs(Qt,g,Ot,Qe??null)}navigateByUrl(g,w={skipLocationChange:!1}){const S=gn(g)?g:this.parseUrl(g),P=this.urlHandlingStrategy.merge(S,this.rawUrlTree);return this.scheduleNavigation(P,Ys,null,w)}navigate(g,w={skipLocationChange:!1}){return function ku(m){for(let I=0;I<m.length;I++)if(null==m[I])throw new C.wOt(4008,!1)}(g),this.navigateByUrl(this.createUrlTree(g,w),w)}serializeUrl(g){return this.urlSerializer.serialize(g)}parseUrl(g){let w;try{w=this.urlSerializer.parse(g)}catch(S){w=this.malformedUriErrorHandler(S,this.urlSerializer,g)}return w}isActive(g,w){let S;if(S=!0===w?{...gh}:!1===w?{...wp}:w,gn(g))return bn(this.currentUrlTree,g,S);const P=this.parseUrl(g);return bn(this.currentUrlTree,P,S)}removeEmptyProps(g){return Object.keys(g).reduce((w,S)=>{const P=g[S];return null!=P&&(w[S]=P),w},{})}scheduleNavigation(g,w,S,P,G){if(this.disposed)return Promise.resolve(!1);let de,ce,Qe;G?(de=G.resolve,ce=G.reject,Qe=G.promise):Qe=new Promise((Qt,dn)=>{de=Qt,ce=dn});const Ot=this.pendingTasks.add();return Ga(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(Ot))}),this.navigationTransitions.handleNavigationRequest({source:w,restoredState:S,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:g,extras:P,resolve:de,reject:ce,promise:Qe,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Qe.catch(Qt=>Promise.reject(Qt))}setBrowserUrl(g,w){const S=this.urlSerializer.serialize(g);if(this.location.isCurrentPathEqualTo(S)||w.extras.replaceUrl){const G={...w.extras.state,...this.generateNgRouterState(w.id,this.browserPageId)};this.location.replaceState(S,"",G)}else{const P={...w.extras.state,...this.generateNgRouterState(w.id,this.browserPageId+1)};this.location.go(S,"",P)}}restoreHistory(g,w=!1){if("computed"===this.canceledNavigationResolution){const P=this.currentPageId-this.browserPageId;0!==P?this.location.historyGo(P):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===P&&(this.resetState(g),this.browserUrlTree=g.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(w&&this.resetState(g),this.resetUrlToCurrentUrlTree())}resetState(g){this.routerState=g.currentRouterState,this.currentUrlTree=g.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,g.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(g,w){return"computed"===this.canceledNavigationResolution?{navigationId:g,\u0275routerPageId:w}:{navigationId:g}}static{this.\u0275fac=function(w){return new(w||m)}}static{this.\u0275prov=C.jDH({token:m,factory:m.\u0275fac,providedIn:"root"})}}return m})();function Wa(m){return!(m instanceof wu||m instanceof oa)}class _a{}let Lu=(()=>{class m{constructor(g,w,S,P,G){this.router=g,this.injector=S,this.preloadingStrategy=P,this.loader=G}setUpPreloading(){this.subscription=this.router.events.pipe(se(g=>g instanceof Ji),je(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(g,w){const S=[];for(const P of w){P.providers&&!P._injector&&(P._injector=(0,C.Ol2)(P.providers,g,`Route: ${P.path}`));const G=P._injector??g,de=P._loadedInjector??G;(P.loadChildren&&!P._loadedRoutes&&void 0===P.canLoad||P.loadComponent&&!P._loadedComponent)&&S.push(this.preloadConfig(G,P)),(P.children||P._loadedRoutes)&&S.push(this.processRoutes(de,P.children??P._loadedRoutes))}return(0,V.H)(S).pipe((0,yn.U)())}preloadConfig(g,w){return this.preloadingStrategy.preload(w,()=>{let S;S=w.loadChildren&&void 0===w.canLoad?this.loader.loadChildren(g,w):(0,J.of)(null);const P=S.pipe((0,ae.Z)(G=>null===G?(0,J.of)(void 0):(w._loadedRoutes=G.routes,w._loadedInjector=G.injector,this.processRoutes(G.injector??g,G.routes))));if(w.loadComponent&&!w._loadedComponent){const G=this.loader.loadComponent(w);return(0,V.H)([P,G]).pipe((0,yn.U)())}return P})}static{this.\u0275fac=function(w){return new(w||m)(C.KVO(tn),C.KVO(C.Ql9),C.KVO(C.uvJ),C.KVO(_a),C.KVO(ur))}}static{this.\u0275prov=C.jDH({token:m,factory:m.\u0275fac,providedIn:"root"})}}return m})();const wr=new C.nKC("");let os=(()=>{class m{constructor(g,w,S,P,G={}){this.urlSerializer=g,this.transitions=w,this.viewportScroller=S,this.zone=P,this.options=G,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},G.scrollPositionRestoration=G.scrollPositionRestoration||"disabled",G.anchorScrolling=G.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(g=>{g instanceof ws?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=g.navigationTrigger,this.restoredId=g.restoredState?g.restoredState.navigationId:0):g instanceof Ji?(this.lastId=g.id,this.scheduleScrollEvent(g,this.urlSerializer.parse(g.urlAfterRedirects).fragment)):g instanceof Us&&0===g.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(g,this.urlSerializer.parse(g.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(g=>{g instanceof Zs&&(g.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(g.position):g.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(g.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(g,w){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Zs(g,"popstate"===this.lastSource?this.store[this.restoredId]:null,w))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(w){C.QTQ()}}static{this.\u0275prov=C.jDH({token:m,factory:m.\u0275fac})}}return m})();function Gi(m,I){return{\u0275kind:m,\u0275providers:I}}function Vo(){const m=(0,C.WQX)(C.zZn);return I=>{const g=m.get(C.o8S);if(I!==g.components[0])return;const w=m.get(tn),S=m.get(vh);1===m.get(Ka)&&w.initialNavigation(),m.get(Ws,null,C.$GK.Optional)?.setUpPreloading(),m.get(wr,null,C.$GK.Optional)?.init(),w.resetRootComponentType(g.componentTypes[0]),S.closed||(S.next(),S.complete(),S.unsubscribe())}}const vh=new C.nKC("",{factory:()=>new He.B}),Ka=new C.nKC("",{providedIn:"root",factory:()=>1}),Ws=new C.nKC("");function Cp(m){return Gi(0,[{provide:Ws,useExisting:Lu},{provide:_a,useExisting:m}])}const an=new C.nKC("ROUTER_FORROOT_GUARD"),Oc=[cn.aZ,{provide:jn,useClass:pi},tn,es,{provide:Vs,useFactory:function mh(m){return m.routerState.root},deps:[tn]},ur,[]];function Ll(){return new C.NEm("Router",tn)}let Er=(()=>{class m{constructor(g){}static forRoot(g,w){return{ngModule:m,providers:[Oc,[],{provide:ln,multi:!0,useValue:g},{provide:an,useFactory:Xa,deps:[[tn,new C.Xx1,new C.kdw]]},{provide:va,useValue:w||{}},w?.useHash?{provide:cn.hb,useClass:cn.fw}:{provide:cn.hb,useClass:cn.Sm},{provide:wr,useFactory:()=>{const m=(0,C.WQX)(cn.Xr),I=(0,C.WQX)(C.SKi),g=(0,C.WQX)(va),w=(0,C.WQX)(Ir),S=(0,C.WQX)(jn);return g.scrollOffset&&m.setOffset(g.scrollOffset),new os(S,w,m,I,g)}},w?.preloadingStrategy?Cp(w.preloadingStrategy).\u0275providers:[],{provide:C.NEm,multi:!0,useFactory:Ll},w?.initialNavigation?Ya(w):[],w?.bindToComponentInputs?Gi(8,[Fn,{provide:Bs,useExisting:Fn}]).\u0275providers:[],[{provide:Uu,useFactory:Vo},{provide:C.iLQ,multi:!0,useExisting:Uu}]]}}static forChild(g){return{ngModule:m,providers:[{provide:ln,multi:!0,useValue:g}]}}static{this.\u0275fac=function(w){return new(w||m)(C.KVO(an,8))}}static{this.\u0275mod=C.$C({type:m})}static{this.\u0275inj=C.G2t({})}}return m})();function Xa(m){return"guarded"}function Ya(m){return["disabled"===m.initialNavigation?Gi(3,[{provide:C.hnV,multi:!0,useFactory:()=>{const I=(0,C.WQX)(tn);return()=>{I.setUpLocationChangeListener()}}},{provide:Ka,useValue:2}]).\u0275providers:[],"enabledBlocking"===m.initialNavigation?Gi(2,[{provide:Ka,useValue:0},{provide:C.hnV,multi:!0,deps:[C.zZn],useFactory:I=>{const g=I.get(cn.hj,Promise.resolve());return()=>g.then(()=>new Promise(w=>{const S=I.get(tn),P=I.get(vh);Ga(S,()=>{w(!0)}),I.get(Ir).afterPreactivation=()=>(w(!0),P.closed?(0,J.of)(void 0):P),S.initialNavigation()}))}}]).\u0275providers:[]]}const Uu=new C.nKC("")},467:(It,Ne,H)=>{function C(te,le,V,J,Ee,qe,Te){try{var X=te[qe](Te),K=X.value}catch(pe){return void V(pe)}X.done?le(K):Promise.resolve(K).then(J,Ee)}function Z(te){return function(){var le=this,V=arguments;return new Promise(function(J,Ee){var qe=te.apply(le,V);function Te(K){C(qe,J,Ee,Te,X,"next",K)}function X(K){C(qe,J,Ee,Te,X,"throw",K)}Te(void 0)})}}H.d(Ne,{A:()=>Z})},1635:(It,Ne,H)=>{function le(se,ae){var ue={};for(var me in se)Object.prototype.hasOwnProperty.call(se,me)&&ae.indexOf(me)<0&&(ue[me]=se[me]);if(null!=se&&"function"==typeof Object.getOwnPropertySymbols){var Oe=0;for(me=Object.getOwnPropertySymbols(se);Oe<me.length;Oe++)ae.indexOf(me[Oe])<0&&Object.prototype.propertyIsEnumerable.call(se,me[Oe])&&(ue[me[Oe]]=se[me[Oe]])}return ue}function pe(se,ae,ue,me){return new(ue||(ue=Promise))(function(Ie,je){function wt(Yt){try{vt(me.next(Yt))}catch(vn){je(vn)}}function Zt(Yt){try{vt(me.throw(Yt))}catch(vn){je(vn)}}function vt(Yt){Yt.done?Ie(Yt.value):function Oe(Ie){return Ie instanceof ue?Ie:new ue(function(je){je(Ie)})}(Yt.value).then(wt,Zt)}vt((me=me.apply(se,ae||[])).next())})}function De(se){return this instanceof De?(this.v=se,this):new De(se)}function Re(se,ae,ue){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Oe,me=ue.apply(se,ae||[]),Ie=[];return Oe=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),wt("next"),wt("throw"),wt("return",function je(Pt){return function(On){return Promise.resolve(On).then(Pt,vn)}}),Oe[Symbol.asyncIterator]=function(){return this},Oe;function wt(Pt,On){me[Pt]&&(Oe[Pt]=function(_n){return new Promise(function(dt,vr){Ie.push([Pt,_n,dt,vr])>1||Zt(Pt,_n)})},On&&(Oe[Pt]=On(Oe[Pt])))}function Zt(Pt,On){try{!function vt(Pt){Pt.value instanceof De?Promise.resolve(Pt.value.v).then(Yt,vn):Gr(Ie[0][2],Pt)}(me[Pt](On))}catch(_n){Gr(Ie[0][3],_n)}}function Yt(Pt){Zt("next",Pt)}function vn(Pt){Zt("throw",Pt)}function Gr(Pt,On){Pt(On),Ie.shift(),Ie.length&&Zt(Ie[0][0],Ie[0][1])}}function Ye(se){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ue,ae=se[Symbol.asyncIterator];return ae?ae.call(se):(se=function Gt(se){var ae="function"==typeof Symbol&&Symbol.iterator,ue=ae&&se[ae],me=0;if(ue)return ue.call(se);if(se&&"number"==typeof se.length)return{next:function(){return se&&me>=se.length&&(se=void 0),{value:se&&se[me++],done:!se}}};throw new TypeError(ae?"Object is not iterable.":"Symbol.iterator is not defined.")}(se),ue={},me("next"),me("throw"),me("return"),ue[Symbol.asyncIterator]=function(){return this},ue);function me(Ie){ue[Ie]=se[Ie]&&function(je){return new Promise(function(wt,Zt){!function Oe(Ie,je,wt,Zt){Promise.resolve(Zt).then(function(vt){Ie({value:vt,done:wt})},je)}(wt,Zt,(je=se[Ie](je)).done,je.value)})}}}H.d(Ne,{AQ:()=>Re,N3:()=>De,Tt:()=>le,sH:()=>pe,xN:()=>Ye}),"function"==typeof SuppressedError&&SuppressedError}},It=>{It(It.s=226)}]);