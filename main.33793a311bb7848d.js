"use strict";(self.webpackChunkcoop_app=self.webpackChunkcoop_app||[]).push([[792],{681:(Pt,ke,j)=>{j.d(ke,{kR:()=>Kn});var S=j(3531),ue=(j(8699),j(8934),j(7037),j(467)),K=j(2979),Q=j(8779),Oe=j(1401),Re=j(5398);const te=new Map,J={activated:!1,tokenObservers:[]},me={initialized:!1,enabled:!1};function Le(ae){return te.get(ae)||Object.assign({},J)}function ct(){return me}const We="https://content-firebaseappcheck.googleapis.com/v1",Tn="exchangeDebugToken",_t={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class tt{constructor(le,we,Ue,rt,Et){if(this.operation=le,this.retryPolicy=we,this.getWaitDuration=Ue,this.lowerBound=rt,this.upperBound=Et,this.pending=null,this.nextErrorWaitInterval=rt,rt>Et)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(le){var we=this;return(0,ue.A)(function*(){we.stop();try{we.pending=new Oe.cY,yield function nt(ae){return new Promise(le=>{setTimeout(le,ae)})}(we.getNextRun(le)),we.pending.resolve(),yield we.pending.promise,we.pending=new Oe.cY,yield we.operation(),we.pending.resolve(),yield we.pending.promise,we.process(!0).catch(()=>{})}catch(Ue){we.retryPolicy(Ue)?we.process(!1).catch(()=>{}):we.stop()}})()}getNextRun(le){if(le)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const we=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),we}}}const Se=new Oe.FA("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Ge(ae){if(!Le(ae).activated)throw Se.create("use-before-activation",{appName:ae.name})}function er(ae,le){return Ye.apply(this,arguments)}function Ye(){return(Ye=(0,ue.A)(function*({url:ae,body:le},we){const Ue={"Content-Type":"application/json"},rt=we.getImmediate({optional:!0});if(rt){const oi=yield rt.getHeartbeatsHeader();oi&&(Ue["X-Firebase-Client"]=oi)}const Et={method:"POST",body:JSON.stringify(le),headers:Ue};let yn,an;try{yn=yield fetch(ae,Et)}catch(oi){throw Se.create("fetch-network-error",{originalErrorMessage:oi?.message})}if(200!==yn.status)throw Se.create("fetch-status-error",{httpStatus:yn.status});try{an=yield yn.json()}catch(oi){throw Se.create("fetch-parse-error",{originalErrorMessage:oi?.message})}const mn=an.ttl.match(/^([\d.]+)(s)$/);if(!mn||!mn[2]||isNaN(Number(mn[1])))throw Se.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${an.ttl}`});const gi=1e3*Number(mn[1]),Gr=Date.now();return{token:an.token,expireTimeMillis:Gr+gi,issuedAtTimeMillis:Gr}})).apply(this,arguments)}function gr(ae,le){const{projectId:we,appId:Ue,apiKey:rt}=ae.options;return{url:`${We}/projects/${we}/apps/${Ue}:${Tn}?key=${rt}`,body:{debug_token:le}}}const si="firebase-app-check-database",Xn=1,gn="firebase-app-check-store";let Ae=null;function Yt(){return(Yt=(0,ue.A)(function*(ae,le){const Ue=(yield function be(){return Ae||(Ae=new Promise((ae,le)=>{try{const we=indexedDB.open(si,Xn);we.onsuccess=Ue=>{ae(Ue.target.result)},we.onerror=Ue=>{var rt;le(Se.create("storage-open",{originalErrorMessage:null===(rt=Ue.target.error)||void 0===rt?void 0:rt.message}))},we.onupgradeneeded=Ue=>{0===Ue.oldVersion&&Ue.target.result.createObjectStore(gn,{keyPath:"compositeKey"})}}catch(we){le(Se.create("storage-open",{originalErrorMessage:we?.message}))}}),Ae)}()).transaction(gn,"readwrite"),Et=Ue.objectStore(gn).put({compositeKey:ae,value:le});return new Promise((yn,an)=>{Et.onsuccess=mn=>{yn()},Ue.onerror=mn=>{var gi;an(Se.create("storage-set",{originalErrorMessage:null===(gi=mn.target.error)||void 0===gi?void 0:gi.message}))}})})).apply(this,arguments)}const lr=new Re.Vy("@firebase/app-check");function Sn(ae,le){return(0,Oe.zW)()?function ze(ae,le){return function Lt(ae,le){return Yt.apply(this,arguments)}(function vn(ae){return`${ae.options.appId}-${ae.name}`}(ae),le)}(ae,le).catch(we=>{lr.warn(`Failed to write token to IndexedDB. Error: ${we}`)}):Promise.resolve()}function Ei(){return ct().enabled}function Ar(){return mr.apply(this,arguments)}function mr(){return(mr=(0,ue.A)(function*(){const ae=ct();if(ae.enabled&&ae.token)return ae.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const jt={error:"UNKNOWN_ERROR"};function Zt(ae){return Oe.K3.encodeString(JSON.stringify(ae),!1)}function Ir(ae){return xt.apply(this,arguments)}function xt(){return(xt=(0,ue.A)(function*(ae,le=!1){const we=ae.app;Ge(we);const Ue=Le(we);let Et,rt=Ue.token;if(rt&&!Ai(rt)&&(Ue.token=void 0,rt=void 0),!rt){const mn=yield Ue.cachedTokenPromise;mn&&(Ai(mn)?rt=mn:yield Sn(we,void 0))}if(!le&&rt&&Ai(rt))return{token:rt.token};let an,yn=!1;if(Ei()){Ue.exchangeTokenPromise||(Ue.exchangeTokenPromise=er(gr(we,yield Ar()),ae.heartbeatServiceProvider).finally(()=>{Ue.exchangeTokenPromise=void 0}),yn=!0);const mn=yield Ue.exchangeTokenPromise;return yield Sn(we,mn),Ue.token=mn,{token:mn.token}}try{Ue.exchangeTokenPromise||(Ue.exchangeTokenPromise=Ue.provider.getToken().finally(()=>{Ue.exchangeTokenPromise=void 0}),yn=!0),rt=yield Le(we).exchangeTokenPromise}catch(mn){"appCheck/throttled"===mn.code?lr.warn(mn.message):lr.error(mn),Et=mn}return rt?Et?an=Ai(rt)?{token:rt.token,internalError:Et}:Wt(Et):(an={token:rt.token},Ue.token=rt,yield Sn(we,rt)):an=Wt(Et),yn&&function cn(ae,le){const we=Le(ae).tokenObservers;for(const Ue of we)try{"EXTERNAL"===Ue.type&&null!=le.error?Ue.error(le.error):Ue.next(le)}catch{}}(we,an),an})).apply(this,arguments)}function Er(ae){return wr.apply(this,arguments)}function wr(){return(wr=(0,ue.A)(function*(ae){const le=ae.app;Ge(le);const{provider:we}=Le(le);if(Ei()){const Ue=yield Ar(),{token:rt}=yield er(gr(le,Ue),ae.heartbeatServiceProvider);return{token:rt}}{const{token:Ue}=yield we.getToken();return{token:Ue}}})).apply(this,arguments)}function Ur(ae,le){const we=Le(ae),Ue=we.tokenObservers.filter(rt=>rt.next!==le);0===Ue.length&&we.tokenRefresher&&we.tokenRefresher.isRunning()&&we.tokenRefresher.stop(),we.tokenObservers=Ue}function Nn(ae){const{app:le}=ae,we=Le(le);let Ue=we.tokenRefresher;Ue||(Ue=function On(ae){const{app:le}=ae;return new tt((0,ue.A)(function*(){let Ue;if(Ue=Le(le).token?yield Ir(ae,!0):yield Ir(ae),Ue.error)throw Ue.error;if(Ue.internalError)throw Ue.internalError}),()=>!0,()=>{const we=Le(le);if(we.token){let Ue=we.token.issuedAtTimeMillis+.5*(we.token.expireTimeMillis-we.token.issuedAtTimeMillis)+3e5;return Ue=Math.min(Ue,we.token.expireTimeMillis-3e5),Math.max(0,Ue-Date.now())}return 0},_t.RETRIAL_MIN_WAIT,_t.RETRIAL_MAX_WAIT)}(ae),we.tokenRefresher=Ue),!Ue.isRunning()&&we.isTokenAutoRefreshEnabled&&Ue.start()}function Ai(ae){return ae.expireTimeMillis-Date.now()>0}function Wt(ae){return{token:Zt(jt),error:ae}}class ei{constructor(le,we){this.app=le,this.heartbeatServiceProvider=we}_delete(){const{tokenObservers:le}=Le(this.app);for(const we of le)Ur(this.app,we.next);return Promise.resolve()}}const Rt="app-check-internal";!function Kt(){(0,K.om)(new Q.uA("app-check",ae=>function Jt(ae,le){return new ei(ae,le)}(ae.getProvider("app").getImmediate(),ae.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((ae,le,we)=>{ae.getProvider(Rt).initialize()})),(0,K.om)(new Q.uA(Rt,ae=>function zr(ae){return{getToken:le=>Ir(ae,le),getLimitedUseToken:()=>Er(ae),addTokenListener:le=>function fn(ae,le,we,Ue){const{app:rt}=ae,Et=Le(rt);if(Et.tokenObservers=[...Et.tokenObservers,{next:we,error:Ue,type:le}],Et.token&&Ai(Et.token)){const an=Et.token;Promise.resolve().then(()=>{we({token:an.token}),Nn(ae)}).catch(()=>{})}Et.cachedTokenPromise.then(()=>Nn(ae))}(ae,"INTERNAL",le),removeTokenListener:le=>Ur(ae.app,le)}}(ae.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,K.KO)("@firebase/app-check","0.8.0")}();class Kn{constructor(){return(0,S.CA)("app-check")}}typeof window<"u"&&window},8934:(Pt,ke,j)=>{j.d(ke,{MW:()=>Le,Wp:()=>Bt,XU:()=>fe,gL:()=>ue});var S=j(7037),ne=j(8699),se=j(3531);class fe{constructor(tt){return tt}}class ue{constructor(){return(0,S.Dk)()}}const Oe=new ne.nKC("angularfire2._apps"),Re={provide:fe,useFactory:function Q(et){return et&&1===et.length?et[0]:new fe((0,S.Sx)())},deps:[[new ne.Xx1,Oe]]},te={provide:ue,deps:[[new ne.Xx1,Oe]]};function J(et){return(tt,nt)=>{const st=tt.runOutsideAngular(()=>et(nt));return new fe(st)}}let me=(()=>{class et{constructor(nt){(0,S.KO)("angularfire",se.xv.full,"core"),(0,S.KO)("angularfire",se.xv.full,"app"),(0,S.KO)("angular",ne.xvI.full,nt.toString())}}return et.\u0275fac=function(nt){return new(nt||et)(ne.KVO(ne.Agw))},et.\u0275mod=ne.$C({type:et}),et.\u0275inj=ne.G2t({providers:[Re,te]}),et})();function Le(et,...tt){return{ngModule:me,providers:[{provide:Oe,useFactory:J(et),multi:!0,deps:[ne.SKi,ne.zZn,se.u0,...tt]}]}}const Bt=(0,se.S3)(S.Wp,!0)},9676:(Pt,ke,j)=>{j.d(ke,{Nj:()=>Au,DF:()=>Nl,xI:()=>lm,_q:()=>Wc,x9:()=>jh,CI:()=>Po});var S=j(3531),ne=j(8699),se=j(8934),fe=j(7037),ue=j(681),K=j(467),Q=j(1401),Oe=j(2979),Re=j(1635),te=j(5398),J=j(8779);const _t=function Ut(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},et=new Q.FA("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),nt=new te.Vy("@firebase/auth");function Se(I,...h){nt.logLevel<=te.$b.ERROR&&nt.error(`Auth (${Oe.MF}): ${I}`,...h)}function Qe(I,...h){throw er(I,...h)}function Ge(I,...h){return er(I,...h)}function er(I,...h){if("string"!=typeof I){const p=h[0],D=[...h.slice(1)];return D[0]&&(D[0].appName=I.name),I._errorFactory.create(p,...D)}return et.create(I,...h)}function Ye(I,h,...p){if(!I)throw er(h,...p)}function St(I){const h="INTERNAL ASSERTION FAILED: "+I;throw Se(h),new Error(h)}function rn(I,h){I||St(h)}function gr(){var I;return typeof self<"u"&&(null===(I=self.location)||void 0===I?void 0:I.href)||""}function Xn(){var I;return typeof self<"u"&&(null===(I=self.location)||void 0===I?void 0:I.protocol)||null}class Ae{constructor(h,p){this.shortDelay=h,this.longDelay=p,rn(p>h,"Short delay should be less than long delay!"),this.isMobile=(0,Q.jZ)()||(0,Q.lV)()}get(){return function gn(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function si(){return"http:"===Xn()||"https:"===Xn()}()||(0,Q.sr)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function be(I,h){rn(I.emulator,"Emulator should always be set here");const{url:p}=I.emulator;return h?`${p}${h.startsWith("/")?h.slice(1):h}`:p}class xe{static initialize(h,p,D){this.fetchImpl=h,p&&(this.headersImpl=p),D&&(this.responseImpl=D)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void St("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void St("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void St("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ze={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},je=new Ae(3e4,6e4);function ut(I,h){return I.tenantId&&!h.tenantId?Object.assign(Object.assign({},h),{tenantId:I.tenantId}):h}function Lt(I,h,p,D){return Yt.apply(this,arguments)}function Yt(){return(Yt=(0,K.A)(function*(I,h,p,D,L={}){return Ke(I,L,(0,K.A)(function*(){let W={},de={};D&&("GET"===h?de=D:W={body:JSON.stringify(D)});const _e=(0,Q.Am)(Object.assign({key:I.config.apiKey},de)).slice(1),at=yield I._getAdditionalHeaders();return at["Content-Type"]="application/json",I.languageCode&&(at["X-Firebase-Locale"]=I.languageCode),xe.fetch()(bt(I,I.config.apiHost,p,_e),Object.assign({method:h,headers:at,referrerPolicy:"no-referrer"},W))}))})).apply(this,arguments)}function Ke(I,h,p){return wn.apply(this,arguments)}function wn(){return(wn=(0,K.A)(function*(I,h,p){I._canInitEmulator=!1;const D=Object.assign(Object.assign({},ze),h);try{const L=new Yn(I),W=yield Promise.race([p(),L.promise]);L.clearNetworkTimeout();const de=yield W.json();if("needConfirmation"in de)throw Sn(I,"account-exists-with-different-credential",de);if(W.ok&&!("errorMessage"in de))return de;{const _e=W.ok?de.errorMessage:de.error.message,[at,At]=_e.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===at)throw Sn(I,"credential-already-in-use",de);if("EMAIL_EXISTS"===at)throw Sn(I,"email-already-in-use",de);if("USER_DISABLED"===at)throw Sn(I,"user-disabled",de);const on=D[at]||at.toLowerCase().replace(/[_\s]+/g,"-");if(At)throw function Tt(I,h,p){const D=Object.assign(Object.assign({},_t()),{[h]:p});return new Q.FA("auth","Firebase",D).create(h,{appName:I.name})}(I,on,At);Qe(I,on)}}catch(L){if(L instanceof Q.g)throw L;Qe(I,"network-request-failed",{message:String(L)})}})).apply(this,arguments)}function vn(I,h,p,D){return lr.apply(this,arguments)}function lr(){return(lr=(0,K.A)(function*(I,h,p,D,L={}){const W=yield Lt(I,h,p,D,L);return"mfaPendingCredential"in W&&Qe(I,"multi-factor-auth-required",{_serverResponse:W}),W})).apply(this,arguments)}function bt(I,h,p,D){const L=`${h}${p}?${D}`;return I.config.emulator?be(I.config,L):`${I.config.apiScheme}://${L}`}class Yn{constructor(h){this.auth=h,this.timer=null,this.promise=new Promise((p,D)=>{this.timer=setTimeout(()=>D(Ge(this.auth,"network-request-failed")),je.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Sn(I,h,p){const D={appName:I.name};p.email&&(D.email=p.email),p.phoneNumber&&(D.phoneNumber=p.phoneNumber);const L=Ge(I,h,D);return L.customData._tokenResponse=p,L}function kn(){return(kn=(0,K.A)(function*(I,h){return Lt(I,"POST","/v1/accounts:delete",h)})).apply(this,arguments)}function Gn(){return(Gn=(0,K.A)(function*(I,h){return Lt(I,"POST","/v1/accounts:lookup",h)})).apply(this,arguments)}function jt(I){if(I)try{const h=new Date(Number(I));if(!isNaN(h.getTime()))return h.toUTCString()}catch{}}function xt(){return(xt=(0,K.A)(function*(I,h=!1){const p=(0,Q.Ku)(I),D=yield p.getIdToken(h),L=wr(D);Ye(L&&L.exp&&L.auth_time&&L.iat,p.auth,"internal-error");const W="object"==typeof L.firebase?L.firebase:void 0,de=W?.sign_in_provider;return{claims:L,token:D,authTime:jt(Er(L.auth_time)),issuedAtTime:jt(Er(L.iat)),expirationTime:jt(Er(L.exp)),signInProvider:de||null,signInSecondFactor:W?.sign_in_second_factor||null}})).apply(this,arguments)}function Er(I){return 1e3*Number(I)}function wr(I){const[h,p,D]=I.split(".");if(void 0===h||void 0===p||void 0===D)return Se("JWT malformed, contained fewer than 3 sections"),null;try{const L=(0,Q.u)(p);return L?JSON.parse(L):(Se("Failed to decode base64 JWT payload"),null)}catch(L){return Se("Caught error parsing JWT payload as JSON",L?.toString()),null}}function Ur(I,h){return Nn.apply(this,arguments)}function Nn(){return(Nn=(0,K.A)(function*(I,h,p=!1){if(p)return h;try{return yield h}catch(D){throw D instanceof Q.g&&function On({code:I}){return"auth/user-disabled"===I||"auth/user-token-expired"===I}(D)&&I.auth.currentUser===I&&(yield I.auth.signOut()),D}})).apply(this,arguments)}class cn{constructor(h){this.user=h,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(h){var p;if(h){const D=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),D}{this.errorBackoff=3e4;const L=(null!==(p=this.user.stsTokenManager.expirationTime)&&void 0!==p?p:0)-Date.now()-3e5;return Math.max(0,L)}}schedule(h=!1){var p=this;if(!this.isRunning)return;const D=this.getInterval(h);this.timerId=setTimeout((0,K.A)(function*(){yield p.iteration()}),D)}iteration(){var h=this;return(0,K.A)(function*(){try{yield h.user.getIdToken(!0)}catch(p){return void("auth/network-request-failed"===p?.code&&h.schedule(!0))}h.schedule()})()}}class Ai{constructor(h,p){this.createdAt=h,this.lastLoginAt=p,this._initializeTime()}_initializeTime(){this.lastSignInTime=jt(this.lastLoginAt),this.creationTime=jt(this.createdAt)}_copy(h){this.createdAt=h.createdAt,this.lastLoginAt=h.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Wt(I){return ei.apply(this,arguments)}function ei(){return ei=(0,K.A)(function*(I){var h;const p=I.auth,D=yield I.getIdToken(),L=yield Ur(I,function mr(I,h){return Gn.apply(this,arguments)}(p,{idToken:D}));Ye(L?.users.length,p,"internal-error");const W=L.users[0];I._notifyReloadListener(W);const de=null!==(h=W.providerUserInfo)&&void 0!==h&&h.length?function Dr(I){return I.map(h=>{var{providerId:p}=h,D=(0,Re.Tt)(h,["providerId"]);return{providerId:p,uid:D.rawId||"",displayName:D.displayName||null,email:D.email||null,phoneNumber:D.phoneNumber||null,photoURL:D.photoUrl||null}})}(W.providerUserInfo):[],_e=function Si(I,h){return[...I.filter(D=>!h.some(L=>L.providerId===D.providerId)),...h]}(I.providerData,de),on=!!I.isAnonymous&&!(I.email&&W.passwordHash||_e?.length),ln={uid:W.localId,displayName:W.displayName||null,photoURL:W.photoUrl||null,email:W.email||null,emailVerified:W.emailVerified||!1,phoneNumber:W.phoneNumber||null,tenantId:W.tenantId||null,providerData:_e,metadata:new Ai(W.createdAt,W.lastLoginAt),isAnonymous:on};Object.assign(I,ln)}),ei.apply(this,arguments)}function zr(){return(zr=(0,K.A)(function*(I){const h=(0,Q.Ku)(I);yield Wt(h),yield h.auth._persistUserIfCurrent(h),h.auth._notifyListenersIfCurrent(h)})).apply(this,arguments)}function ti(){return(ti=(0,K.A)(function*(I,h){const p=yield Ke(I,{},(0,K.A)(function*(){const D=(0,Q.Am)({grant_type:"refresh_token",refresh_token:h}).slice(1),{tokenApiHost:L,apiKey:W}=I.config,de=bt(I,L,"/v1/token",`key=${W}`),_e=yield I._getAdditionalHeaders();return _e["Content-Type"]="application/x-www-form-urlencoded",xe.fetch()(de,{method:"POST",headers:_e,body:D})}));return{accessToken:p.access_token,expiresIn:p.expires_in,refreshToken:p.refresh_token}})).apply(this,arguments)}class Bn{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(h){Ye(h.idToken,"internal-error"),Ye(typeof h.idToken<"u","internal-error"),Ye(typeof h.refreshToken<"u","internal-error");const p="expiresIn"in h&&typeof h.expiresIn<"u"?Number(h.expiresIn):function fn(I){const h=wr(I);return Ye(h,"internal-error"),Ye(typeof h.exp<"u","internal-error"),Ye(typeof h.iat<"u","internal-error"),Number(h.exp)-Number(h.iat)}(h.idToken);this.updateTokensAndExpiration(h.idToken,h.refreshToken,p)}getToken(h){var p=this;return(0,K.A)(function*(D,L=!1){return Ye(!p.accessToken||p.refreshToken,D,"user-token-expired"),L||!p.accessToken||p.isExpired?p.refreshToken?(yield p.refresh(D,p.refreshToken),p.accessToken):null:p.accessToken}).apply(this,arguments)}clearRefreshToken(){this.refreshToken=null}refresh(h,p){var D=this;return(0,K.A)(function*(){const{accessToken:L,refreshToken:W,expiresIn:de}=yield function Vr(I,h){return ti.apply(this,arguments)}(h,p);D.updateTokensAndExpiration(L,W,Number(de))})()}updateTokensAndExpiration(h,p,D){this.refreshToken=p||null,this.accessToken=h||null,this.expirationTime=Date.now()+1e3*D}static fromJSON(h,p){const{refreshToken:D,accessToken:L,expirationTime:W}=p,de=new Bn;return D&&(Ye("string"==typeof D,"internal-error",{appName:h}),de.refreshToken=D),L&&(Ye("string"==typeof L,"internal-error",{appName:h}),de.accessToken=L),W&&(Ye("number"==typeof W,"internal-error",{appName:h}),de.expirationTime=W),de}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(h){this.accessToken=h.accessToken,this.refreshToken=h.refreshToken,this.expirationTime=h.expirationTime}_clone(){return Object.assign(new Bn,this.toJSON())}_performRefresh(){return St("not implemented")}}function Cn(I,h){Ye("string"==typeof I||typeof I>"u","internal-error",{appName:h})}class yr{constructor(h){var{uid:p,auth:D,stsTokenManager:L}=h,W=(0,Re.Tt)(h,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new cn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=p,this.auth=D,this.stsTokenManager=L,this.accessToken=L.accessToken,this.displayName=W.displayName||null,this.email=W.email||null,this.emailVerified=W.emailVerified||!1,this.phoneNumber=W.phoneNumber||null,this.photoURL=W.photoURL||null,this.isAnonymous=W.isAnonymous||!1,this.tenantId=W.tenantId||null,this.providerData=W.providerData?[...W.providerData]:[],this.metadata=new Ai(W.createdAt||void 0,W.lastLoginAt||void 0)}getIdToken(h){var p=this;return(0,K.A)(function*(){const D=yield Ur(p,p.stsTokenManager.getToken(p.auth,h));return Ye(D,p.auth,"internal-error"),p.accessToken!==D&&(p.accessToken=D,yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)),D})()}getIdTokenResult(h){return function Ir(I){return xt.apply(this,arguments)}(this,h)}reload(){return function Jt(I){return zr.apply(this,arguments)}(this)}_assign(h){this!==h&&(Ye(this.uid===h.uid,this.auth,"internal-error"),this.displayName=h.displayName,this.photoURL=h.photoURL,this.email=h.email,this.emailVerified=h.emailVerified,this.phoneNumber=h.phoneNumber,this.isAnonymous=h.isAnonymous,this.tenantId=h.tenantId,this.providerData=h.providerData.map(p=>Object.assign({},p)),this.metadata._copy(h.metadata),this.stsTokenManager._assign(h.stsTokenManager))}_clone(h){const p=new yr(Object.assign(Object.assign({},this),{auth:h,stsTokenManager:this.stsTokenManager._clone()}));return p.metadata._copy(this.metadata),p}_onReload(h){Ye(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=h,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(h){this.reloadListener?this.reloadListener(h):this.reloadUserInfo=h}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(h){var p=this;return(0,K.A)(function*(D,L=!1){let W=!1;D.idToken&&D.idToken!==p.stsTokenManager.accessToken&&(p.stsTokenManager.updateFromServerResponse(D),W=!0),L&&(yield Wt(p)),yield p.auth._persistUserIfCurrent(p),W&&p.auth._notifyListenersIfCurrent(p)}).apply(this,arguments)}delete(){var h=this;return(0,K.A)(function*(){const p=yield h.getIdToken();return yield Ur(h,function kt(I,h){return kn.apply(this,arguments)}(h.auth,{idToken:p})),h.stsTokenManager.clearRefreshToken(),h.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(h=>Object.assign({},h)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(h,p){var D,L,W,de,_e,at,At,on;const ln=null!==(D=p.displayName)&&void 0!==D?D:void 0,ur=null!==(L=p.email)&&void 0!==L?L:void 0,co=null!==(W=p.phoneNumber)&&void 0!==W?W:void 0,Yo=null!==(de=p.photoURL)&&void 0!==de?de:void 0,Ua=null!==(_e=p.tenantId)&&void 0!==_e?_e:void 0,Yc=null!==(at=p._redirectEventId)&&void 0!==at?at:void 0,Pd=null!==(At=p.createdAt)&&void 0!==At?At:void 0,kd=null!==(on=p.lastLoginAt)&&void 0!==on?on:void 0,{uid:Zc,emailVerified:Jc,isAnonymous:Ld,providerData:Su,stsTokenManager:Gh}=p;Ye(Zc&&Gh,h,"internal-error");const Ap=Bn.fromJSON(this.name,Gh);Ye("string"==typeof Zc,h,"internal-error"),Cn(ln,h.name),Cn(ur,h.name),Ye("boolean"==typeof Jc,h,"internal-error"),Ye("boolean"==typeof Ld,h,"internal-error"),Cn(co,h.name),Cn(Yo,h.name),Cn(Ua,h.name),Cn(Yc,h.name),Cn(Pd,h.name),Cn(kd,h.name);const Vl=new yr({uid:Zc,auth:h,email:ur,emailVerified:Jc,displayName:ln,isAnonymous:Ld,photoURL:Yo,phoneNumber:co,tenantId:Ua,stsTokenManager:Ap,createdAt:Pd,lastLoginAt:kd});return Su&&Array.isArray(Su)&&(Vl.providerData=Su.map(Bl=>Object.assign({},Bl))),Yc&&(Vl._redirectEventId=Yc),Vl}static _fromIdTokenResponse(h,p){return(0,K.A)(function*(D,L,W=!1){const de=new Bn;de.updateFromServerResponse(L);const _e=new yr({uid:L.localId,auth:D,stsTokenManager:de,isAnonymous:W});return yield Wt(_e),_e}).apply(this,arguments)}}const re=new Map;function B(I){rn(I instanceof Function,"Expected a class definition");let h=re.get(I);return h?(rn(h instanceof I,"Instance stored in cache mismatched with class"),h):(h=new I,re.set(I,h),h)}const $=(()=>{class I{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,K.A)(function*(){return!0})()}_set(p,D){var L=this;return(0,K.A)(function*(){L.storage[p]=D})()}_get(p){var D=this;return(0,K.A)(function*(){const L=D.storage[p];return void 0===L?null:L})()}_remove(p){var D=this;return(0,K.A)(function*(){delete D.storage[p]})()}_addListener(p,D){}_removeListener(p,D){}}return I.type="NONE",I})();function G(I,h,p){return`firebase:${I}:${h}:${p}`}class he{constructor(h,p,D){this.persistence=h,this.auth=p,this.userKey=D;const{config:L,name:W}=this.auth;this.fullUserKey=G(this.userKey,L.apiKey,W),this.fullPersistenceKey=G("persistence",L.apiKey,W),this.boundEventHandler=p._onStorageEvent.bind(p),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(h){return this.persistence._set(this.fullUserKey,h.toJSON())}getCurrentUser(){var h=this;return(0,K.A)(function*(){const p=yield h.persistence._get(h.fullUserKey);return p?yr._fromJSON(h.auth,p):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(h){var p=this;return(0,K.A)(function*(){if(p.persistence===h)return;const D=yield p.getCurrentUser();return yield p.removeCurrentUser(),p.persistence=h,D?p.setCurrentUser(D):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(h,p){return(0,K.A)(function*(D,L,W="authUser"){if(!L.length)return new he(B($),D,W);const de=(yield Promise.all(L.map(function(){var ln=(0,K.A)(function*(ur){if(yield ur._isAvailable())return ur});return function(ur){return ln.apply(this,arguments)}}()))).filter(ln=>ln);let _e=de[0]||B($);const at=G(W,D.config.apiKey,D.name);let At=null;for(const ln of L)try{const ur=yield ln._get(at);if(ur){const co=yr._fromJSON(D,ur);ln!==_e&&(At=co),_e=ln;break}}catch{}const on=de.filter(ln=>ln._shouldAllowMigration);return _e._shouldAllowMigration&&on.length?(_e=on[0],At&&(yield _e._set(at,At.toJSON())),yield Promise.all(L.map(function(){var ln=(0,K.A)(function*(ur){if(ur!==_e)try{yield ur._remove(at)}catch{}});return function(ur){return ln.apply(this,arguments)}}())),new he(_e,D,W)):new he(_e,D,W)}).apply(this,arguments)}}function $e(I){const h=I.toLowerCase();if(h.includes("opera/")||h.includes("opr/")||h.includes("opios/"))return"Opera";if(dn(h))return"IEMobile";if(h.includes("msie")||h.includes("trident/"))return"IE";if(h.includes("edge/"))return"Edge";if(gt(h))return"Firefox";if(h.includes("silk/"))return"Silk";if(hn(h))return"Blackberry";if(fi(h))return"Webos";if(Vt(h))return"Safari";if((h.includes("chrome/")||Ht(h))&&!h.includes("edge/"))return"Chrome";if(tn(h))return"Android";{const D=I.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===D?.length)return D[1]}return"Other"}function gt(I=(0,Q.ZQ)()){return/firefox\//i.test(I)}function Vt(I=(0,Q.ZQ)()){const h=I.toLowerCase();return h.includes("safari/")&&!h.includes("chrome/")&&!h.includes("crios/")&&!h.includes("android")}function Ht(I=(0,Q.ZQ)()){return/crios\//i.test(I)}function dn(I=(0,Q.ZQ)()){return/iemobile/i.test(I)}function tn(I=(0,Q.ZQ)()){return/android/i.test(I)}function hn(I=(0,Q.ZQ)()){return/blackberry/i.test(I)}function fi(I=(0,Q.ZQ)()){return/webos/i.test(I)}function pn(I=(0,Q.ZQ)()){return/iphone|ipad|ipod/i.test(I)||/macintosh/i.test(I)&&/mobile/i.test(I)}function Ze(I=(0,Q.ZQ)()){return pn(I)||tn(I)||fi(I)||hn(I)||/windows phone/i.test(I)||dn(I)}function Kt(I,h=[]){let p;switch(I){case"Browser":p=$e((0,Q.ZQ)());break;case"Worker":p=`${$e((0,Q.ZQ)())}-${I}`;break;default:p=I}const D=h.length?h.join(","):"FirebaseCore-web";return`${p}/JsCore/${Oe.MF}/${D}`}function Kn(I,h){return Ln.apply(this,arguments)}function Ln(){return(Ln=(0,K.A)(function*(I,h){return Lt(I,"GET","/v2/recaptchaConfig",ut(I,h))})).apply(this,arguments)}function Bi(I){return void 0!==I&&void 0!==I.enterprise}class Mi{constructor(h){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===h.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=h.recaptchaKey.split("/")[3],this.emailPasswordEnabled=h.recaptchaEnforcementState.some(p=>"EMAIL_PASSWORD_PROVIDER"===p.provider&&"OFF"!==p.enforcementState)}}function rs(I){return new Promise((h,p)=>{const D=document.createElement("script");D.setAttribute("src",I),D.onload=h,D.onerror=L=>{const W=Ge("internal-error");W.customData=L,p(W)},D.type="text/javascript",D.charset="UTF-8",function ji(){var I,h;return null!==(h=null===(I=document.getElementsByTagName("head"))||void 0===I?void 0:I[0])&&void 0!==h?h:document}().appendChild(D)})}function pi(I){return`__${I}${Math.floor(1e6*Math.random())}`}class Br{constructor(h){this.type="recaptcha-enterprise",this.auth=ae(h)}verify(){var h=this;return(0,K.A)(function*(p="verify",D=!1){function W(){return W=(0,K.A)(function*(_e){if(!D){if(null==_e.tenantId&&null!=_e._agentRecaptchaConfig)return _e._agentRecaptchaConfig.siteKey;if(null!=_e.tenantId&&void 0!==_e._tenantRecaptchaConfigs[_e.tenantId])return _e._tenantRecaptchaConfigs[_e.tenantId].siteKey}return new Promise(function(){var at=(0,K.A)(function*(At,on){Kn(_e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(ln=>{if(void 0!==ln.recaptchaKey){const ur=new Mi(ln);return null==_e.tenantId?_e._agentRecaptchaConfig=ur:_e._tenantRecaptchaConfigs[_e.tenantId]=ur,At(ur.siteKey)}on(new Error("recaptcha Enterprise site key undefined"))}).catch(ln=>{on(ln)})});return function(At,on){return at.apply(this,arguments)}}())}),W.apply(this,arguments)}function de(_e,at,At){const on=window.grecaptcha;Bi(on)?on.enterprise.ready(()=>{on.enterprise.execute(_e,{action:p}).then(ln=>{at(ln)}).catch(()=>{at("NO_RECAPTCHA")})}):At(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((_e,at)=>{(function L(_e){return W.apply(this,arguments)})(h.auth).then(At=>{if(!D&&Bi(window.grecaptcha))de(At,_e,at);else{if(typeof window>"u")return void at(new Error("RecaptchaVerifier is only supported in browser"));rs("https://www.google.com/recaptcha/enterprise.js?render="+At).then(()=>{de(At,_e,at)}).catch(on=>{at(on)})}}).catch(At=>{at(At)})})}).apply(this,arguments)}}function Ls(I,h,p){return $i.apply(this,arguments)}function $i(){return($i=(0,K.A)(function*(I,h,p,D=!1){const L=new Br(I);let W;try{W=yield L.verify(p)}catch{W=yield L.verify(p,!0)}const de=Object.assign({},h);return Object.assign(de,D?{captchaResp:W}:{captchaResponse:W}),Object.assign(de,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(de,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),de})).apply(this,arguments)}class Xi{constructor(h){this.auth=h,this.queue=[]}pushCallback(h,p){const D=W=>new Promise((de,_e)=>{try{de(h(W))}catch(at){_e(at)}});D.onAbort=p,this.queue.push(D);const L=this.queue.length-1;return()=>{this.queue[L]=()=>Promise.resolve()}}runMiddleware(h){var p=this;return(0,K.A)(function*(){if(p.auth.currentUser===h)return;const D=[];try{for(const L of p.queue)yield L(h),L.onAbort&&D.push(L.onAbort)}catch(L){D.reverse();for(const W of D)try{W()}catch{}throw p.auth._errorFactory.create("login-blocked",{originalMessage:L?.message})}})()}}class ea{constructor(h,p,D,L){this.app=h,this.heartbeatServiceProvider=p,this.appCheckServiceProvider=D,this.config=L,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new le(this),this.idTokenSubscription=new le(this),this.beforeStateQueue=new Xi(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=et,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=h.name,this.clientVersion=L.sdkClientVersion}_initializeWithPersistence(h,p){var D=this;return p&&(this._popupRedirectResolver=B(p)),this._initializationPromise=this.queue((0,K.A)(function*(){var L,W;if(!D._deleted&&(D.persistenceManager=yield he.create(D,h),!D._deleted)){if(null!==(L=D._popupRedirectResolver)&&void 0!==L&&L._shouldInitProactively)try{yield D._popupRedirectResolver._initialize(D)}catch{}yield D.initializeCurrentUser(p),D.lastNotifiedUid=(null===(W=D.currentUser)||void 0===W?void 0:W.uid)||null,!D._deleted&&(D._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var h=this;return(0,K.A)(function*(){if(h._deleted)return;const p=yield h.assertedPersistence.getCurrentUser();if(h.currentUser||p){if(h.currentUser&&p&&h.currentUser.uid===p.uid)return h._currentUser._assign(p),void(yield h.currentUser.getIdToken());yield h._updateCurrentUser(p,!0)}})()}initializeCurrentUser(h){var p=this;return(0,K.A)(function*(){var D;const L=yield p.assertedPersistence.getCurrentUser();let W=L,de=!1;if(h&&p.config.authDomain){yield p.getOrInitRedirectPersistenceManager();const _e=null===(D=p.redirectUser)||void 0===D?void 0:D._redirectEventId,at=W?._redirectEventId,At=yield p.tryRedirectSignIn(h);(!_e||_e===at)&&At?.user&&(W=At.user,de=!0)}if(!W)return p.directlySetCurrentUser(null);if(!W._redirectEventId){if(de)try{yield p.beforeStateQueue.runMiddleware(W)}catch(_e){W=L,p._popupRedirectResolver._overrideRedirectResult(p,()=>Promise.reject(_e))}return W?p.reloadAndSetCurrentUserOrClear(W):p.directlySetCurrentUser(null)}return Ye(p._popupRedirectResolver,p,"argument-error"),yield p.getOrInitRedirectPersistenceManager(),p.redirectUser&&p.redirectUser._redirectEventId===W._redirectEventId?p.directlySetCurrentUser(W):p.reloadAndSetCurrentUserOrClear(W)})()}tryRedirectSignIn(h){var p=this;return(0,K.A)(function*(){let D=null;try{D=yield p._popupRedirectResolver._completeRedirectFn(p,h,!0)}catch{yield p._setRedirectUser(null)}return D})()}reloadAndSetCurrentUserOrClear(h){var p=this;return(0,K.A)(function*(){try{yield Wt(h)}catch(D){if("auth/network-request-failed"!==D?.code)return p.directlySetCurrentUser(null)}return p.directlySetCurrentUser(h)})()}useDeviceLanguage(){this.languageCode=function Ee(){if(typeof navigator>"u")return null;const I=navigator;return I.languages&&I.languages[0]||I.language||null}()}_delete(){var h=this;return(0,K.A)(function*(){h._deleted=!0})()}updateCurrentUser(h){var p=this;return(0,K.A)(function*(){const D=h?(0,Q.Ku)(h):null;return D&&Ye(D.auth.config.apiKey===p.config.apiKey,p,"invalid-user-token"),p._updateCurrentUser(D&&D._clone(p))})()}_updateCurrentUser(h){var p=this;return(0,K.A)(function*(D,L=!1){if(!p._deleted)return D&&Ye(p.tenantId===D.tenantId,p,"tenant-id-mismatch"),L||(yield p.beforeStateQueue.runMiddleware(D)),p.queue((0,K.A)(function*(){yield p.directlySetCurrentUser(D),p.notifyAuthListeners()}))}).apply(this,arguments)}signOut(){var h=this;return(0,K.A)(function*(){return yield h.beforeStateQueue.runMiddleware(null),(h.redirectPersistenceManager||h._popupRedirectResolver)&&(yield h._setRedirectUser(null)),h._updateCurrentUser(null,!0)})()}setPersistence(h){var p=this;return this.queue((0,K.A)(function*(){yield p.assertedPersistence.setPersistence(B(h))}))}initializeRecaptchaConfig(){var h=this;return(0,K.A)(function*(){const p=yield Kn(h,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),D=new Mi(p);null==h.tenantId?h._agentRecaptchaConfig=D:h._tenantRecaptchaConfigs[h.tenantId]=D,D.emailPasswordEnabled&&new Br(h).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(h){this._errorFactory=new Q.FA("auth","Firebase",h())}onAuthStateChanged(h,p,D){return this.registerStateListener(this.authStateSubscription,h,p,D)}beforeAuthStateChanged(h,p){return this.beforeStateQueue.pushCallback(h,p)}onIdTokenChanged(h,p,D){return this.registerStateListener(this.idTokenSubscription,h,p,D)}toJSON(){var h;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(h=this._currentUser)||void 0===h?void 0:h.toJSON()}}_setRedirectUser(h,p){var D=this;return(0,K.A)(function*(){const L=yield D.getOrInitRedirectPersistenceManager(p);return null===h?L.removeCurrentUser():L.setCurrentUser(h)})()}getOrInitRedirectPersistenceManager(h){var p=this;return(0,K.A)(function*(){if(!p.redirectPersistenceManager){const D=h&&B(h)||p._popupRedirectResolver;Ye(D,p,"argument-error"),p.redirectPersistenceManager=yield he.create(p,[B(D._redirectPersistence)],"redirectUser"),p.redirectUser=yield p.redirectPersistenceManager.getCurrentUser()}return p.redirectPersistenceManager})()}_redirectUserForId(h){var p=this;return(0,K.A)(function*(){var D,L;return p._isInitialized&&(yield p.queue((0,K.A)(function*(){}))),(null===(D=p._currentUser)||void 0===D?void 0:D._redirectEventId)===h?p._currentUser:(null===(L=p.redirectUser)||void 0===L?void 0:L._redirectEventId)===h?p.redirectUser:null})()}_persistUserIfCurrent(h){var p=this;return(0,K.A)(function*(){if(h===p.currentUser)return p.queue((0,K.A)(function*(){return p.directlySetCurrentUser(h)}))})()}_notifyListenersIfCurrent(h){h===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var h,p;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const D=null!==(p=null===(h=this.currentUser)||void 0===h?void 0:h.uid)&&void 0!==p?p:null;this.lastNotifiedUid!==D&&(this.lastNotifiedUid=D,this.authStateSubscription.next(this.currentUser))}registerStateListener(h,p,D,L){if(this._deleted)return()=>{};const W="function"==typeof p?p:p.next.bind(p),de=this._isInitialized?Promise.resolve():this._initializationPromise;return Ye(de,this,"internal-error"),de.then(()=>W(this.currentUser)),"function"==typeof p?h.addObserver(p,D,L):h.addObserver(p)}directlySetCurrentUser(h){var p=this;return(0,K.A)(function*(){p.currentUser&&p.currentUser!==h&&p._currentUser._stopProactiveRefresh(),h&&p.isProactiveRefreshEnabled&&h._startProactiveRefresh(),p.currentUser=h,h?yield p.assertedPersistence.setCurrentUser(h):yield p.assertedPersistence.removeCurrentUser()})()}queue(h){return this.operations=this.operations.then(h,h),this.operations}get assertedPersistence(){return Ye(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(h){!h||this.frameworks.includes(h)||(this.frameworks.push(h),this.frameworks.sort(),this.clientVersion=Kt(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var h=this;return(0,K.A)(function*(){var p;const D={"X-Client-Version":h.clientVersion};h.app.options.appId&&(D["X-Firebase-gmpid"]=h.app.options.appId);const L=yield null===(p=h.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===p?void 0:p.getHeartbeatsHeader();L&&(D["X-Firebase-Client"]=L);const W=yield h._getAppCheckToken();return W&&(D["X-Firebase-AppCheck"]=W),D})()}_getAppCheckToken(){var h=this;return(0,K.A)(function*(){var p;const D=yield null===(p=h.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===p?void 0:p.getToken();return D?.error&&function st(I,...h){nt.logLevel<=te.$b.WARN&&nt.warn(`Auth (${Oe.MF}): ${I}`,...h)}(`Error while retrieving App Check token: ${D.error}`),D?.token})()}}function ae(I){return(0,Q.Ku)(I)}class le{constructor(h){this.auth=h,this.observer=null,this.addObserver=(0,Q.tD)(p=>this.observer=p)}get next(){return Ye(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Et(I){const h=I.indexOf(":");return h<0?"":I.substr(0,h+1)}function an(I){if(!I)return null;const h=Number(I);return isNaN(h)?null:h}class gi{constructor(h,p){this.providerId=h,this.signInMethod=p}toJSON(){return St("not implemented")}_getIdTokenResponse(h){return St("not implemented")}_linkToIdToken(h,p){return St("not implemented")}_getReauthenticationResolver(h){return St("not implemented")}}function Wr(I,h){return Lo.apply(this,arguments)}function Lo(){return(Lo=(0,K.A)(function*(I,h){return Lt(I,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function Do(I,h){return wa.apply(this,arguments)}function wa(){return(wa=(0,K.A)(function*(I,h){return vn(I,"POST","/v1/accounts:signInWithPassword",ut(I,h))})).apply(this,arguments)}function tr(){return(tr=(0,K.A)(function*(I,h){return vn(I,"POST","/v1/accounts:signInWithEmailLink",ut(I,h))})).apply(this,arguments)}function wi(){return(wi=(0,K.A)(function*(I,h){return vn(I,"POST","/v1/accounts:signInWithEmailLink",ut(I,h))})).apply(this,arguments)}class mi extends gi{constructor(h,p,D,L=null){super("password",D),this._email=h,this._password=p,this._tenantId=L}static _fromEmailAndPassword(h,p){return new mi(h,p,"password")}static _fromEmailAndCode(h,p,D=null){return new mi(h,p,"emailLink",D)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(h){const p="string"==typeof h?JSON.parse(h):h;if(p?.email&&p?.password){if("password"===p.signInMethod)return this._fromEmailAndPassword(p.email,p.password);if("emailLink"===p.signInMethod)return this._fromEmailAndCode(p.email,p.password,p.tenantId)}return null}_getIdTokenResponse(h){var p=this;return(0,K.A)(function*(){var D;switch(p.signInMethod){case"password":const L={returnSecureToken:!0,email:p._email,password:p._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(D=h._getRecaptchaConfig())&&void 0!==D&&D.emailPasswordEnabled){const W=yield Ls(h,L,"signInWithPassword");return Do(h,W)}return Do(h,L).catch(function(){var W=(0,K.A)(function*(de){if("auth/missing-recaptcha-token"===de.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const _e=yield Ls(h,L,"signInWithPassword");return Do(h,_e)}return Promise.reject(de)});return function(de){return W.apply(this,arguments)}}());case"emailLink":return function Co(I,h){return tr.apply(this,arguments)}(h,{email:p._email,oobCode:p._password});default:Qe(h,"internal-error")}})()}_linkToIdToken(h,p){var D=this;return(0,K.A)(function*(){switch(D.signInMethod){case"password":return Wr(h,{idToken:p,returnSecureToken:!0,email:D._email,password:D._password});case"emailLink":return function Yi(I,h){return wi.apply(this,arguments)}(h,{idToken:p,email:D._email,oobCode:D._password});default:Qe(h,"internal-error")}})()}_getReauthenticationResolver(h){return this._getIdTokenResponse(h)}}function os(I,h){return jn.apply(this,arguments)}function jn(){return(jn=(0,K.A)(function*(I,h){return vn(I,"POST","/v1/accounts:signInWithIdp",ut(I,h))})).apply(this,arguments)}class Ri{constructor(h){var p,D,L,W,de,_e;const at=(0,Q.I9)((0,Q.hp)(h)),At=null!==(p=at.apiKey)&&void 0!==p?p:null,on=null!==(D=at.oobCode)&&void 0!==D?D:null,ln=function Js(I){switch(I){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(L=at.mode)&&void 0!==L?L:null);Ye(At&&on&&ln,"argument-error"),this.apiKey=At,this.operation=ln,this.code=on,this.continueUrl=null!==(W=at.continueUrl)&&void 0!==W?W:null,this.languageCode=null!==(de=at.languageCode)&&void 0!==de?de:null,this.tenantId=null!==(_e=at.tenantId)&&void 0!==_e?_e:null}static parseLink(h){const p=function na(I){const h=(0,Q.I9)((0,Q.hp)(I)).link,p=h?(0,Q.I9)((0,Q.hp)(h)).deep_link_id:null,D=(0,Q.I9)((0,Q.hp)(I)).deep_link_id;return(D?(0,Q.I9)((0,Q.hp)(D)).link:null)||D||p||h||I}(h);try{return new Ri(p)}catch{return null}}}let Fo=(()=>{class I{constructor(){this.providerId=I.PROVIDER_ID}static credential(p,D){return mi._fromEmailAndPassword(p,D)}static credentialWithLink(p,D){const L=Ri.parseLink(D);return Ye(L,"argument-error"),mi._fromEmailAndCode(p,L.code,L.tenantId)}}return I.PROVIDER_ID="password",I.EMAIL_PASSWORD_SIGN_IN_METHOD="password",I.EMAIL_LINK_SIGN_IN_METHOD="emailLink",I})();class ui{constructor(h){this.providerId=h,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(h){this.defaultLanguageCode=h}setCustomParameters(h){return this.customParameters=h,this}getCustomParameters(){return this.customParameters}}class as extends ui{constructor(){super(...arguments),this.scopes=[]}addScope(h){return this.scopes.includes(h)||this.scopes.push(h),this}getScopes(){return[...this.scopes]}}class Kr{constructor(h){this.user=h.user,this.providerId=h.providerId,this._tokenResponse=h._tokenResponse,this.operationType=h.operationType}static _fromIdTokenResponse(h,p,D){return(0,K.A)(function*(L,W,de,_e=!1){const at=yield yr._fromIdTokenResponse(L,de,_e),At=ys(de);return new Kr({user:at,providerId:At,_tokenResponse:de,operationType:W})}).apply(this,arguments)}static _forOperation(h,p,D){return(0,K.A)(function*(){yield h._updateTokensIfNecessary(D,!0);const L=ys(D);return new Kr({user:h,providerId:L,_tokenResponse:D,operationType:p})})()}}function ys(I){return I.providerId?I.providerId:"phoneNumber"in I?"phone":null}class vr extends Q.g{constructor(h,p,D,L){var W;super(p.code,p.message),this.operationType=D,this.user=L,Object.setPrototypeOf(this,vr.prototype),this.customData={appName:h.name,tenantId:null!==(W=h.tenantId)&&void 0!==W?W:void 0,_serverResponse:p.customData._serverResponse,operationType:D}}static _fromErrorAndOperation(h,p,D,L){return new vr(h,p,D,L)}}function jr(I,h,p,D){return("reauthenticate"===h?p._getReauthenticationResolver(I):p._getIdTokenResponse(I)).catch(W=>{throw"auth/multi-factor-auth-required"===W.code?vr._fromErrorAndOperation(I,W,h,D):W})}function Ci(){return(Ci=(0,K.A)(function*(I,h,p=!1){const D=yield Ur(I,h._linkToIdToken(I.auth,yield I.getIdToken()),p);return Kr._forOperation(I,"link",D)})).apply(this,arguments)}function to(){return(to=(0,K.A)(function*(I,h,p=!1){const{auth:D}=I,L="reauthenticate";try{const W=yield Ur(I,jr(D,L,h,I),p);Ye(W.idToken,D,"internal-error");const de=wr(W.idToken);Ye(de,D,"internal-error");const{sub:_e}=de;return Ye(I.uid===_e,D,"user-mismatch"),Kr._forOperation(I,L,W)}catch(W){throw"auth/user-not-found"===W?.code&&Qe(D,"user-mismatch"),W}})).apply(this,arguments)}function no(I,h){return ir.apply(this,arguments)}function ir(){return(ir=(0,K.A)(function*(I,h,p=!1){const D="signIn",L=yield jr(I,D,h),W=yield Kr._fromIdTokenResponse(I,D,L);return p||(yield I._updateCurrentUser(W.user)),W})).apply(this,arguments)}function Ao(){return(Ao=(0,K.A)(function*(I,h){return no(ae(I),h)})).apply(this,arguments)}function Qr(I,h,p){return function Is(I,h){return Ao.apply(this,arguments)}((0,Q.Ku)(I),Fo.credential(h,p))}function ni(I){return(0,Q.Ku)(I).signOut()}const mt="__sak";class Te{constructor(h,p){this.storageRetriever=h,this.type=p}_isAvailable(){try{return this.storage?(this.storage.setItem(mt,"1"),this.storage.removeItem(mt),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(h,p){return this.storage.setItem(h,JSON.stringify(p)),Promise.resolve()}_get(h){const p=this.storage.getItem(h);return Promise.resolve(p?JSON.parse(p):null)}_remove(h){return this.storage.removeItem(h),Promise.resolve()}get storage(){return this.storageRetriever()}}const la=(()=>{class I extends Te{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(p,D)=>this.onStorageEvent(p,D),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function qe(){const I=(0,Q.ZQ)();return Vt(I)||pn(I)}()&&function Rt(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Ze(),this._shouldAllowMigration=!0}forAllChangedKeys(p){for(const D of Object.keys(this.listeners)){const L=this.storage.getItem(D),W=this.localCache[D];L!==W&&p(D,W,L)}}onStorageEvent(p,D=!1){if(!p.key)return void this.forAllChangedKeys((_e,at,At)=>{this.notifyListeners(_e,At)});const L=p.key;if(D?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const _e=this.storage.getItem(L);if(p.newValue!==_e)null!==p.newValue?this.storage.setItem(L,p.newValue):this.storage.removeItem(L);else if(this.localCache[L]===p.newValue&&!D)return}const W=()=>{const _e=this.storage.getItem(L);!D&&this.localCache[L]===_e||this.notifyListeners(L,_e)},de=this.storage.getItem(L);!function ye(){return(0,Q.lT)()&&10===document.documentMode}()||de===p.newValue||p.newValue===p.oldValue?W():setTimeout(W,10)}notifyListeners(p,D){this.localCache[p]=D;const L=this.listeners[p];if(L)for(const W of Array.from(L))W(D&&JSON.parse(D))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((p,D,L)=>{this.onStorageEvent(new StorageEvent("storage",{key:p,oldValue:D,newValue:L}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(p,D){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[p]||(this.listeners[p]=new Set,this.localCache[p]=this.storage.getItem(p)),this.listeners[p].add(D)}_removeListener(p,D){this.listeners[p]&&(this.listeners[p].delete(D),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(p,D){var L=()=>super._set,W=this;return(0,K.A)(function*(){yield L().call(W,p,D),W.localCache[p]=JSON.stringify(D)})()}_get(p){var D=()=>super._get,L=this;return(0,K.A)(function*(){const W=yield D().call(L,p);return L.localCache[p]=JSON.stringify(W),W})()}_remove(p){var D=()=>super._remove,L=this;return(0,K.A)(function*(){yield D().call(L,p),delete L.localCache[p]})()}}return I.type="LOCAL",I})(),Uc=(()=>{class I extends Te{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(p,D){}_removeListener(p,D){}}return I.type="SESSION",I})();let Qu=(()=>{class I{constructor(p){this.eventTarget=p,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(p){const D=this.receivers.find(W=>W.isListeningto(p));if(D)return D;const L=new I(p);return this.receivers.push(L),L}isListeningto(p){return this.eventTarget===p}handleEvent(p){var D=this;return(0,K.A)(function*(){const L=p,{eventId:W,eventType:de,data:_e}=L.data,at=D.handlersMap[de];if(!at?.size)return;L.ports[0].postMessage({status:"ack",eventId:W,eventType:de});const At=Array.from(at).map(function(){var ln=(0,K.A)(function*(ur){return ur(L.origin,_e)});return function(ur){return ln.apply(this,arguments)}}()),on=yield function Ts(I){return Promise.all(I.map(function(){var h=(0,K.A)(function*(p){try{return{fulfilled:!0,value:yield p}}catch(D){return{fulfilled:!1,reason:D}}});return function(p){return h.apply(this,arguments)}}()))}(At);L.ports[0].postMessage({status:"done",eventId:W,eventType:de,response:on})})()}_subscribe(p,D){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[p]||(this.handlersMap[p]=new Set),this.handlersMap[p].add(D)}_unsubscribe(p,D){this.handlersMap[p]&&D&&this.handlersMap[p].delete(D),(!D||0===this.handlersMap[p].size)&&delete this.handlersMap[p],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return I.receivers=[],I})();function Xu(I="",h=10){let p="";for(let D=0;D<h;D++)p+=Math.floor(10*Math.random());return I+p}class Vc{constructor(h){this.target=h,this.handlers=new Set}removeMessageHandler(h){h.messageChannel&&(h.messageChannel.port1.removeEventListener("message",h.onMessage),h.messageChannel.port1.close()),this.handlers.delete(h)}_send(h,p){var D=this;return(0,K.A)(function*(L,W,de=50){const _e=typeof MessageChannel<"u"?new MessageChannel:null;if(!_e)throw new Error("connection_unavailable");let at,At;return new Promise((on,ln)=>{const ur=Xu("",20);_e.port1.start();const co=setTimeout(()=>{ln(new Error("unsupported_event"))},de);At={messageChannel:_e,onMessage(Yo){const Ua=Yo;if(Ua.data.eventId===ur)switch(Ua.data.status){case"ack":clearTimeout(co),at=setTimeout(()=>{ln(new Error("timeout"))},3e3);break;case"done":clearTimeout(at),on(Ua.data.response);break;default:clearTimeout(co),clearTimeout(at),ln(new Error("invalid_response"))}}},D.handlers.add(At),_e.port1.addEventListener("message",At.onMessage),D.target.postMessage({eventType:L,eventId:ur,data:W},[_e.port2])}).finally(()=>{At&&D.removeMessageHandler(At)})}).apply(this,arguments)}}function Lr(){return window}function Ot(){return typeof Lr().WorkerGlobalScope<"u"&&"function"==typeof Lr().importScripts}function hr(){return(hr=(0,K.A)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Ma="firebaseLocalStorageDb",ha="firebaseLocalStorage",or="fbase_key";class ft{constructor(h){this.request=h}toPromise(){return new Promise((h,p)=>{this.request.addEventListener("success",()=>{h(this.request.result)}),this.request.addEventListener("error",()=>{p(this.request.error)})})}}function $o(I,h){return I.transaction([ha],h?"readwrite":"readonly").objectStore(ha)}function No(){const I=indexedDB.open(Ma,1);return new Promise((h,p)=>{I.addEventListener("error",()=>{p(I.error)}),I.addEventListener("upgradeneeded",()=>{const D=I.result;try{D.createObjectStore(ha,{keyPath:or})}catch(L){p(L)}}),I.addEventListener("success",(0,K.A)(function*(){const D=I.result;D.objectStoreNames.contains(ha)?h(D):(D.close(),yield function xa(){const I=indexedDB.deleteDatabase(Ma);return new ft(I).toPromise()}(),h(yield No()))}))})}function Eu(I,h,p){return He.apply(this,arguments)}function He(){return(He=(0,K.A)(function*(I,h,p){const D=$o(I,!0).put({[or]:h,value:p});return new ft(D).toPromise()})).apply(this,arguments)}function Ho(){return(Ho=(0,K.A)(function*(I,h){const p=$o(I,!1).get(h),D=yield new ft(p).toPromise();return void 0===D?null:D.value})).apply(this,arguments)}function wu(I,h){const p=$o(I,!0).delete(h);return new ft(p).toPromise()}const ls=(()=>{class I{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var p=this;return(0,K.A)(function*(){return p.db||(p.db=yield No()),p.db})()}_withRetries(p){var D=this;return(0,K.A)(function*(){let L=0;for(;;)try{const W=yield D._openDb();return yield p(W)}catch(W){if(L++>3)throw W;D.db&&(D.db.close(),D.db=void 0)}})()}initializeServiceWorkerMessaging(){var p=this;return(0,K.A)(function*(){return Ot()?p.initializeReceiver():p.initializeSender()})()}initializeReceiver(){var p=this;return(0,K.A)(function*(){p.receiver=Qu._getInstance(function Ft(){return Ot()?self:null}()),p.receiver._subscribe("keyChanged",function(){var D=(0,K.A)(function*(L,W){return{keyProcessed:(yield p._poll()).includes(W.key)}});return function(L,W){return D.apply(this,arguments)}}()),p.receiver._subscribe("ping",function(){var D=(0,K.A)(function*(L,W){return["keyChanged"]});return function(L,W){return D.apply(this,arguments)}}())})()}initializeSender(){var p=this;return(0,K.A)(function*(){var D,L;if(p.activeServiceWorker=yield function Gt(){return hr.apply(this,arguments)}(),!p.activeServiceWorker)return;p.sender=new Vc(p.activeServiceWorker);const W=yield p.sender._send("ping",{},800);W&&null!==(D=W[0])&&void 0!==D&&D.fulfilled&&null!==(L=W[0])&&void 0!==L&&L.value.includes("keyChanged")&&(p.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(p){var D=this;return(0,K.A)(function*(){if(D.sender&&D.activeServiceWorker&&function $r(){var I;return(null===(I=navigator?.serviceWorker)||void 0===I?void 0:I.controller)||null}()===D.activeServiceWorker)try{yield D.sender._send("keyChanged",{key:p},D.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,K.A)(function*(){try{if(!indexedDB)return!1;const p=yield No();return yield Eu(p,mt,"1"),yield wu(p,mt),!0}catch{}return!1})()}_withPendingWrite(p){var D=this;return(0,K.A)(function*(){D.pendingWrites++;try{yield p()}finally{D.pendingWrites--}})()}_set(p,D){var L=this;return(0,K.A)(function*(){return L._withPendingWrite((0,K.A)(function*(){return yield L._withRetries(W=>Eu(W,p,D)),L.localCache[p]=D,L.notifyServiceWorker(p)}))})()}_get(p){var D=this;return(0,K.A)(function*(){const L=yield D._withRetries(W=>function Un(I,h){return Ho.apply(this,arguments)}(W,p));return D.localCache[p]=L,L})()}_remove(p){var D=this;return(0,K.A)(function*(){return D._withPendingWrite((0,K.A)(function*(){return yield D._withRetries(L=>wu(L,p)),delete D.localCache[p],D.notifyServiceWorker(p)}))})()}_poll(){var p=this;return(0,K.A)(function*(){const D=yield p._withRetries(de=>{const _e=$o(de,!1).getAll();return new ft(_e).toPromise()});if(!D)return[];if(0!==p.pendingWrites)return[];const L=[],W=new Set;for(const{fbase_key:de,value:_e}of D)W.add(de),JSON.stringify(p.localCache[de])!==JSON.stringify(_e)&&(p.notifyListeners(de,_e),L.push(de));for(const de of Object.keys(p.localCache))p.localCache[de]&&!W.has(de)&&(p.notifyListeners(de,null),L.push(de));return L})()}notifyListeners(p,D){this.localCache[p]=D;const L=this.listeners[p];if(L)for(const W of Array.from(L))W(D)}startPolling(){var p=this;this.stopPolling(),this.pollTimer=setInterval((0,K.A)(function*(){return p._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(p,D){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[p]||(this.listeners[p]=new Set,this._get(p)),this.listeners[p].add(D)}_removeListener(p,D){this.listeners[p]&&(this.listeners[p].delete(D),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return I.type="LOCAL",I})();pi("rcb"),new Ae(3e4,6e4);class vo extends gi{constructor(h){super("custom","custom"),this.params=h}_getIdTokenResponse(h){return os(h,this._buildIdpRequest())}_linkToIdToken(h,p){return os(h,this._buildIdpRequest(p))}_getReauthenticationResolver(h){return os(h,this._buildIdpRequest())}_buildIdpRequest(h){const p={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return h&&(p.idToken=h),p}}function ec(I){return no(I.auth,new vo(I),I.bypassAuthState)}function Oo(I){const{auth:h,user:p}=I;return Ye(p,h,"internal-error"),function ba(I,h){return to.apply(this,arguments)}(p,new vo(I),I.bypassAuthState)}function tc(I){return Bc.apply(this,arguments)}function Bc(){return(Bc=(0,K.A)(function*(I){const{auth:h,user:p}=I;return Ye(p,h,"internal-error"),function Uo(I,h){return Ci.apply(this,arguments)}(p,new vo(I),I.bypassAuthState)})).apply(this,arguments)}class nc{constructor(h,p,D,L,W=!1){this.auth=h,this.resolver=D,this.user=L,this.bypassAuthState=W,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(p)?p:[p]}execute(){var h=this;return new Promise(function(){var p=(0,K.A)(function*(D,L){h.pendingPromise={resolve:D,reject:L};try{h.eventManager=yield h.resolver._initialize(h.auth),yield h.onExecution(),h.eventManager.registerConsumer(h)}catch(W){h.reject(W)}});return function(D,L){return p.apply(this,arguments)}}())}onAuthEvent(h){var p=this;return(0,K.A)(function*(){const{urlResponse:D,sessionId:L,postBody:W,tenantId:de,error:_e,type:at}=h;if(_e)return void p.reject(_e);const At={auth:p.auth,requestUri:D,sessionId:L,tenantId:de||void 0,postBody:W||void 0,user:p.user,bypassAuthState:p.bypassAuthState};try{p.resolve(yield p.getIdpTask(at)(At))}catch(on){p.reject(on)}})()}onError(h){this.reject(h)}getIdpTask(h){switch(h){case"signInViaPopup":case"signInViaRedirect":return ec;case"linkViaPopup":case"linkViaRedirect":return tc;case"reauthViaPopup":case"reauthViaRedirect":return Oo;default:Qe(this.auth,"internal-error")}}resolve(h){rn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(h),this.unregisterAndCleanUp()}reject(h){rn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(h),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}new Ae(2e3,1e4);const Dl="pendingRedirect",Rr=new Map;class Du extends nc{constructor(h,p,D=!1){super(h,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],p,void 0,D),this.eventId=null}execute(){var h=()=>super.execute,p=this;return(0,K.A)(function*(){let D=Rr.get(p.auth._key());if(!D){try{const W=(yield function Oa(I,h){return jc.apply(this,arguments)}(p.resolver,p.auth))?yield h().call(p):null;D=()=>Promise.resolve(W)}catch(L){D=()=>Promise.reject(L)}Rr.set(p.auth._key(),D)}return p.bypassAuthState||Rr.set(p.auth._key(),()=>Promise.resolve(null)),D()})()}onAuthEvent(h){var p=()=>super.onAuthEvent,D=this;return(0,K.A)(function*(){if("signInViaRedirect"===h.type)return p().call(D,h);if("unknown"!==h.type){if(h.eventId){const L=yield D.auth._redirectUserForId(h.eventId);if(L)return D.user=L,p().call(D,h);D.resolve(null)}}else D.resolve(null)})()}onExecution(){return(0,K.A)(function*(){})()}cleanUp(){}}function jc(){return(jc=(0,K.A)(function*(I,h){const p=function eu(I){return G(Dl,I.config.apiKey,I.name)}(h),D=function Tl(I){return B(I._redirectPersistence)}(I);if(!(yield D._isAvailable()))return!1;const L="true"===(yield D._get(p));return yield D._remove(p),L})).apply(this,arguments)}function Fr(I,h){Rr.set(I._key(),h)}function sc(I,h){return Ms.apply(this,arguments)}function Ms(){return(Ms=(0,K.A)(function*(I,h,p=!1){const D=ae(I),L=function As(I,h){return h?B(h):(Ye(I._popupRedirectResolver,I,"argument-error"),I._popupRedirectResolver)}(D,h),de=yield new Du(D,L,p).execute();return de&&!p&&(delete de.user._redirectEventId,yield D._persistUserIfCurrent(de.user),yield D._setRedirectUser(null,h)),de})).apply(this,arguments)}class xs{constructor(h){this.auth=h,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(h){this.consumers.add(h),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,h)&&(this.sendToConsumer(this.queuedRedirectEvent,h),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(h){this.consumers.delete(h)}onEvent(h){if(this.hasEventBeenHandled(h))return!1;let p=!1;return this.consumers.forEach(D=>{this.isEventForConsumer(h,D)&&(p=!0,this.sendToConsumer(h,D),this.saveEventToCache(h))}),this.hasHandledPotentialRedirect||!function bl(I){switch(I.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Wo(I);default:return!1}}(h)||(this.hasHandledPotentialRedirect=!0,p||(this.queuedRedirectEvent=h,p=!0)),p}sendToConsumer(h,p){var D;if(h.error&&!Wo(h)){const L=(null===(D=h.error.code)||void 0===D?void 0:D.split("auth/")[1])||"internal-error";p.onError(Ge(this.auth,L))}else p.onAuthEvent(h)}isEventForConsumer(h,p){const D=null===p.eventId||!!h.eventId&&h.eventId===p.eventId;return p.filter.includes(h.type)&&D}hasEventBeenHandled(h){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Tu(h))}saveEventToCache(h){this.cachedEventUids.add(Tu(h)),this.lastProcessedEventTime=Date.now()}}function Tu(I){return[I.type,I.eventId,I.sessionId,I.tenantId].filter(h=>h).join("-")}function Wo({type:I,error:h}){return"unknown"===I&&"auth/no-auth-event"===h?.code}function nu(){return(nu=(0,K.A)(function*(I,h={}){return Lt(I,"GET","/v1/projects",h)})).apply(this,arguments)}const Ko=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Io=/^https?/;function ka(){return ka=(0,K.A)(function*(I){if(I.config.emulator)return;const{authorizedDomains:h}=yield function Pa(I){return nu.apply(this,arguments)}(I);for(const p of h)try{if(Qo(p))return}catch{}Qe(I,"unauthorized-domain")}),ka.apply(this,arguments)}function Qo(I){const h=gr(),{protocol:p,hostname:D}=new URL(h);if(I.startsWith("chrome-extension://")){const de=new URL(I);return""===de.hostname&&""===D?"chrome-extension:"===p&&I.replace("chrome-extension://","")===h.replace("chrome-extension://",""):"chrome-extension:"===p&&de.hostname===D}if(!Io.test(p))return!1;if(Ko.test(I))return D===I;const L=I.replace(/\./g,"\\.");return new RegExp("^(.+\\."+L+"|"+L+")$","i").test(D)}const zc=new Ae(3e4,6e4);function fs(){const I=Lr().___jsl;if(I?.H)for(const h of Object.keys(I.H))if(I.H[h].r=I.H[h].r||[],I.H[h].L=I.H[h].L||[],I.H[h].r=[...I.H[h].L],I.CP)for(let p=0;p<I.CP.length;p++)I.CP[p]=null}let ki=null;const Al=new Ae(5e3,15e3),ac="__/auth/iframe",Sl="emulator/auth/iframe",_={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},A=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function O(I){const h=I.config;Ye(h.authDomain,I,"auth-domain-config-required");const p=h.emulator?be(h,Sl):`https://${I.config.authDomain}/${ac}`,D={apiKey:h.apiKey,appName:I.name,v:Oe.MF},L=A.get(I.config.apiHost);L&&(D.eid=L);const W=I._getFrameworks();return W.length&&(D.fw=W.join(",")),`${p}?${(0,Q.Am)(D).slice(1)}`}function ie(){return ie=(0,K.A)(function*(I){const h=yield function bd(I){return ki=ki||function oc(I){return new Promise((h,p)=>{var D,L,W;function de(){fs(),gapi.load("gapi.iframes",{callback:()=>{h(gapi.iframes.getContext())},ontimeout:()=>{fs(),p(Ge(I,"network-request-failed"))},timeout:zc.get()})}if(null!==(L=null===(D=Lr().gapi)||void 0===D?void 0:D.iframes)&&void 0!==L&&L.Iframe)h(gapi.iframes.getContext());else{if(null===(W=Lr().gapi)||void 0===W||!W.load){const _e=pi("iframefcb");return Lr()[_e]=()=>{gapi.load?de():p(Ge(I,"network-request-failed"))},rs(`https://apis.google.com/js/api.js?onload=${_e}`).catch(at=>p(at))}de()}}).catch(h=>{throw ki=null,h})}(I),ki}(I),p=Lr().gapi;return Ye(p,I,"internal-error"),h.open({where:document.body,url:O(I),messageHandlersFilter:p.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:_,dontclear:!0},D=>new Promise(function(){var L=(0,K.A)(function*(W,de){yield D.restyle({setHideOnLeave:!1});const _e=Ge(I,"network-request-failed"),at=Lr().setTimeout(()=>{de(_e)},Al.get());function At(){Lr().clearTimeout(at),W(D)}D.ping(At).then(At,()=>{de(_e)})});return function(W,de){return L.apply(this,arguments)}}()))}),ie.apply(this,arguments)}const pe={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class wt{constructor(h){this.window=h,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Li="__/auth/handler",uc="emulator/auth/handler",cc=encodeURIComponent("fac");function uo(I,h,p,D,L,W){return Rs.apply(this,arguments)}function Rs(){return(Rs=(0,K.A)(function*(I,h,p,D,L,W){Ye(I.config.authDomain,I,"auth-domain-config-required"),Ye(I.config.apiKey,I,"invalid-api-key");const de={apiKey:I.config.apiKey,appName:I.name,authType:p,redirectUrl:D,v:Oe.MF,eventId:L};if(h instanceof ui){h.setDefaultLanguage(I.languageCode),de.providerId=h.providerId||"",(0,Q.Im)(h.getCustomParameters())||(de.customParameters=JSON.stringify(h.getCustomParameters()));for(const[on,ln]of Object.entries(W||{}))de[on]=ln}if(h instanceof as){const on=h.getScopes().filter(ln=>""!==ln);on.length>0&&(de.scopes=on.join(","))}I.tenantId&&(de.tid=I.tenantId);const _e=de;for(const on of Object.keys(_e))void 0===_e[on]&&delete _e[on];const at=yield I._getAppCheckToken(),At=at?`#${cc}=${encodeURIComponent(at)}`:"";return`${function Xo({config:I}){return I.emulator?be(I,uc):`https://${I.authDomain}/${Li}`}(I)}?${(0,Q.Am)(_e).slice(1)}${At}`})).apply(this,arguments)}const ri="webStorageSupport",Gc=class vp{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Uc,this._completeRedirectFn=sc,this._overrideRedirectResult=Fr}_openPopup(h,p,D,L){var W=this;return(0,K.A)(function*(){var de;rn(null===(de=W.eventManagers[h._key()])||void 0===de?void 0:de.manager,"_initialize() not called before _openPopup()");const _e=yield uo(h,p,D,gr(),L);return function un(I,h,p,D=500,L=600){const W=Math.max((window.screen.availHeight-L)/2,0).toString(),de=Math.max((window.screen.availWidth-D)/2,0).toString();let _e="";const at=Object.assign(Object.assign({},pe),{width:D.toString(),height:L.toString(),top:W,left:de}),At=(0,Q.ZQ)().toLowerCase();p&&(_e=Ht(At)?"_blank":p),gt(At)&&(h=h||"http://localhost",at.scrollbars="yes");const on=Object.entries(at).reduce((ur,[co,Yo])=>`${ur}${co}=${Yo},`,"");if(function Pe(I=(0,Q.ZQ)()){var h;return pn(I)&&!(null===(h=window.navigator)||void 0===h||!h.standalone)}(At)&&"_self"!==_e)return function Gs(I,h){const p=document.createElement("a");p.href=I,p.target=h;const D=document.createEvent("MouseEvent");D.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),p.dispatchEvent(D)}(h||"",_e),new wt(null);const ln=window.open(h||"",_e,on);Ye(ln,I,"popup-blocked");try{ln.focus()}catch{}return new wt(ln)}(h,_e,Xu())})()}_openRedirect(h,p,D,L){var W=this;return(0,K.A)(function*(){return yield W._originValidation(h),function da(I){Lr().location.href=I}(yield uo(h,p,D,gr(),L)),new Promise(()=>{})})()}_initialize(h){const p=h._key();if(this.eventManagers[p]){const{manager:L,promise:W}=this.eventManagers[p];return L?Promise.resolve(L):(rn(W,"If manager is not set, promise should be"),W)}const D=this.initAndGetManager(h);return this.eventManagers[p]={promise:D},D.catch(()=>{delete this.eventManagers[p]}),D}initAndGetManager(h){var p=this;return(0,K.A)(function*(){const D=yield function q(I){return ie.apply(this,arguments)}(h),L=new xs(h);return D.register("authEvent",W=>(Ye(W?.authEvent,h,"invalid-auth-event"),{status:L.onEvent(W.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),p.eventManagers[h._key()]={manager:L},p.iframes[h._key()]=D,L})()}_isIframeWebStorageSupported(h,p){this.iframes[h._key()].send(ri,{type:ri},L=>{var W;const de=null===(W=L?.[0])||void 0===W?void 0:W[ri];void 0!==de&&p(!!de),Qe(h,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(h){const p=h._key();return this.originValidationPromises[p]||(this.originValidationPromises[p]=function qo(I){return ka.apply(this,arguments)}(h)),this.originValidationPromises[p]}get _shouldInitProactively(){return Ze()||Vt()||pn()}};var Cu="@firebase/auth";class Sd{constructor(h){this.auth=h,this.internalListeners=new Map}getUid(){var h;return this.assertAuthConfigured(),(null===(h=this.auth.currentUser)||void 0===h?void 0:h.uid)||null}getToken(h){var p=this;return(0,K.A)(function*(){return p.assertAuthConfigured(),yield p.auth._initializationPromise,p.auth.currentUser?{accessToken:yield p.auth.currentUser.getIdToken(h)}:null})()}addAuthTokenListener(h){if(this.assertAuthConfigured(),this.internalListeners.has(h))return;const p=this.auth.onIdTokenChanged(D=>{h(D?.stsTokenManager.accessToken||null)});this.internalListeners.set(h,p),this.updateProactiveRefresh()}removeAuthTokenListener(h){this.assertAuthConfigured();const p=this.internalListeners.get(h);p&&(this.internalListeners.delete(h),p(),this.updateProactiveRefresh())}assertAuthConfigured(){Ye(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const ru=(0,Q.XA)("authIdTokenMaxAge")||300;let xl=null;const gc=I=>function(){var h=(0,K.A)(function*(p){const D=p&&(yield p.getIdTokenResult()),L=D&&((new Date).getTime()-Date.parse(D.issuedAtTime))/1e3;if(L&&L>ru)return;const W=D?.token;xl!==W&&(xl=W,yield fetch(I,{method:W?"POST":"DELETE",headers:W?{Authorization:`Bearer ${W}`}:{}}))});return function(p){return h.apply(this,arguments)}}();function Oh(I=(0,Oe.Sx)()){const h=(0,Oe.j6)(I,"auth");if(h.isInitialized())return h.getImmediate();const p=function we(I,h){const p=(0,Oe.j6)(I,"auth");if(p.isInitialized()){const L=p.getImmediate(),W=p.getOptions();if((0,Q.bD)(W,h??{}))return L;Qe(L,"already-initialized")}return p.initialize({options:h})}(I,{popupRedirectResolver:Gc,persistence:[ls,la,Uc]}),D=(0,Q.XA)("authTokenSyncURL");if(D){const W=gc(D);(function sn(I,h,p){(0,Q.Ku)(I).beforeAuthStateChanged(h,p)})(p,W,()=>W(p.currentUser)),function xn(I,h,p,D){(0,Q.Ku)(I).onIdTokenChanged(h,p,D)}(p,de=>W(de))}const L=(0,Q.Tj)("auth");return L&&function rt(I,h,p){const D=ae(I);Ye(D._canInitEmulator,D,"emulator-config-failed"),Ye(/^https?:\/\//.test(h),D,"invalid-emulator-scheme");const L=!!p?.disableWarnings,W=Et(h),{host:de,port:_e}=function yn(I){const h=Et(I),p=/(\/\/)?([^?#/]+)/.exec(I.substr(h.length));if(!p)return{host:"",port:null};const D=p[2].split("@").pop()||"",L=/^(\[[^\]]+\])(:|$)/.exec(D);if(L){const W=L[1];return{host:W,port:an(D.substr(W.length+1))}}{const[W,de]=D.split(":");return{host:W,port:an(de)}}}(h);D.config.emulator={url:`${W}//${de}${null===_e?"":`:${_e}`}/`},D.settings.appVerificationDisabledForTesting=!0,D.emulatorConfig=Object.freeze({host:de,port:_e,protocol:W.replace(":",""),options:Object.freeze({disableWarnings:L})}),L||function mn(){function I(){const h=document.createElement("p"),p=h.style;h.innerText="Running in emulator mode. Do not use with production credentials.",p.position="fixed",p.width="100%",p.backgroundColor="#ffffff",p.border=".1em solid #000000",p.color="#b50000",p.bottom="0px",p.left="0px",p.margin="0px",p.zIndex="10000",p.textAlign="center",h.classList.add("firebase-emulator-warning"),document.body.appendChild(h)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",I):I())}()}(p,`http://${L}`),p}!function Ml(I){(0,Oe.om)(new J.uA("auth",(h,{options:p})=>{const D=h.getProvider("app").getImmediate(),L=h.getProvider("heartbeat"),W=h.getProvider("app-check-internal"),{apiKey:de,authDomain:_e}=D.options;Ye(de&&!de.includes(":"),"invalid-api-key",{appName:D.name});const at={apiKey:de,authDomain:_e,clientPlatform:I,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Kt(I)},At=new ea(D,L,W,at);return function Ue(I,h){const p=h?.persistence||[],D=(Array.isArray(p)?p:[p]).map(B);h?.errorMap&&I._updateErrorMap(h.errorMap),I._initializeWithPersistence(D,h?.popupRedirectResolver)}(At,p),At},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((h,p,D)=>{h.getProvider("auth-internal").initialize()})),(0,Oe.om)(new J.uA("auth-internal",h=>{const p=ae(h.getProvider("auth").getImmediate());return new Sd(p)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,Oe.KO)(Cu,"0.23.2",function Ns(I){switch(I){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(I)),(0,Oe.KO)(Cu,"0.23.2","esm2017")}("Browser");class Au{constructor(h){return h}}class Nl{constructor(){return(0,S.CA)("auth")}}const qi=new ne.nKC("angularfire2.auth-instances");function Ol(I){return(h,p)=>{const D=h.runOutsideAngular(()=>I(p));return new Au(D)}}const iu={provide:Nl,deps:[[new ne.Xx1,qi]]},Ph={provide:Au,useFactory:function yc(I,h){const p=(0,S.lR)("auth",I,h);return p&&new Au(p)},deps:[[new ne.Xx1,qi],se.XU]};let vc=(()=>{class I{constructor(){(0,fe.KO)("angularfire",S.xv.full,"auth")}}return I.\u0275fac=function(p){return new(p||I)},I.\u0275mod=ne.$C({type:I}),I.\u0275inj=ne.G2t({providers:[Ph,iu]}),I})();function Wc(I,...h){return{ngModule:vc,providers:[{provide:qi,useFactory:Ol(I),multi:!0,deps:[ne.SKi,ne.zZn,S.u0,se.gL,[new ne.Xx1,ue.kR],...h]}]}}const lm=(0,S.S3)(Oh,!0),jh=(0,S.S3)(Qr,!0),Po=(0,S.S3)(ni,!0)},4724:(Pt,ke,j)=>{j.d(ke,{_7:()=>up,gS:()=>Y_,rJ:()=>Z_,kd:()=>eI,H9:()=>nI,GG:()=>aI,aU:()=>fv,hV:()=>cv,P:()=>dI,mZ:()=>mv,_M:()=>pI});var oe,S=j(3531),ne=j(8699),se=j(9676),fe=j(8934),ue=j(7037),K=j(681),Q=j(467),Oe=j(2979),Re=j(8779),te=j(5398),J=j(1401),me=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Le={},ct=ct||{},We=me||self;function Bt(i){var e=typeof i;return"array"==(e="object"!=e?e:i?Array.isArray(i)?"array":e:"null")||"object"==e&&"number"==typeof i.length}function Ut(i){var e=typeof i;return"object"==e&&null!=i||"function"==e}var _t="closure_uid_"+(1e9*Math.random()>>>0),et=0;function tt(i,e,n){return i.call.apply(i.bind,arguments)}function nt(i,e,n){if(!i)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var u=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(u,o),i.apply(e,u)}}return function(){return i.apply(e,arguments)}}function st(i,e,n){return(st=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?tt:nt).apply(null,arguments)}function Se(i,e){var n=Array.prototype.slice.call(arguments,1);return function(){var o=n.slice();return o.push.apply(o,arguments),i.apply(this,o)}}function Qe(i,e){function n(){}n.prototype=e.prototype,i.$=e.prototype,i.prototype=new n,i.prototype.constructor=i,i.ac=function(o,u,l){for(var f=Array(arguments.length-2),w=2;w<arguments.length;w++)f[w-2]=arguments[w];return e.prototype[u].apply(o,f)}}function Ge(){this.s=this.s,this.o=this.o}Ge.prototype.s=!1,Ge.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function Tn(i){Object.prototype.hasOwnProperty.call(i,_t)&&i[_t]||(i[_t]=++et)}(this)},Ge.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const br=Array.prototype.indexOf?function(i,e){return Array.prototype.indexOf.call(i,e,void 0)}:function(i,e){if("string"==typeof i)return"string"!=typeof e||1!=e.length?-1:i.indexOf(e,0);for(let n=0;n<i.length;n++)if(n in i&&i[n]===e)return n;return-1};function er(i){const e=i.length;if(0<e){const n=Array(e);for(let o=0;o<e;o++)n[o]=i[o];return n}return[]}function Ye(i,e){for(let n=1;n<arguments.length;n++){const o=arguments[n];if(Bt(o)){const u=i.length||0,l=o.length||0;i.length=u+l;for(let f=0;f<l;f++)i[u+f]=o[f]}else i.push(o)}}function St(i,e){this.type=i,this.g=this.target=e,this.defaultPrevented=!1}St.prototype.h=function(){this.defaultPrevented=!0};var rn=function(){if(!We.addEventListener||!Object.defineProperty)return!1;var i=!1,e=Object.defineProperty({},"passive",{get:function(){i=!0}});try{We.addEventListener("test",()=>{},e),We.removeEventListener("test",()=>{},e)}catch{}return i}();function gr(i){return/^[\s\xa0]*$/.test(i)}function si(){var i=We.navigator;return i&&(i=i.userAgent)?i:""}function Xn(i){return-1!=si().indexOf(i)}function gn(i){return gn[" "](i),i}gn[" "]=function(){};var Yt,i,Ae=Xn("Opera"),be=Xn("Trident")||Xn("MSIE"),xe=Xn("Edge"),ze=xe||be,je=Xn("Gecko")&&!(-1!=si().toLowerCase().indexOf("webkit")&&!Xn("Edge"))&&!(Xn("Trident")||Xn("MSIE"))&&!Xn("Edge"),ut=-1!=si().toLowerCase().indexOf("webkit")&&!Xn("Edge");function Lt(){var i=We.document;return i?i.documentMode:void 0}e:{var Ke="",wn=(i=si(),je?/rv:([^\);]+)(\)|;)/.exec(i):xe?/Edge\/([\d\.]+)/.exec(i):be?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):ut?/WebKit\/(\S+)/.exec(i):Ae?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(wn&&(Ke=wn?wn[1]:""),be){var vn=Lt();if(null!=vn&&vn>parseFloat(Ke)){Yt=String(vn);break e}}Yt=Ke}var Yn=We.document&&be&&(Lt()||parseInt(Yt,10))||void 0;function Sn(i,e){if(St.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var n=this.type=i.type,o=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=e,e=i.relatedTarget){if(je){e:{try{gn(e.nodeName);var u=!0;break e}catch{}u=!1}u||(e=null)}}else"mouseover"==n?e=i.fromElement:"mouseout"==n&&(e=i.toElement);this.relatedTarget=e,o?(this.clientX=void 0!==o.clientX?o.clientX:o.pageX,this.clientY=void 0!==o.clientY?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:kt[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&Sn.$.h.call(this)}}Qe(Sn,St);var kt={2:"touch",3:"pen",4:"mouse"};Sn.prototype.h=function(){Sn.$.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var kn="closure_listenable_"+(1e6*Math.random()|0),Ei=0;function Ar(i,e,n,o,u){this.listener=i,this.proxy=null,this.src=e,this.type=n,this.capture=!!o,this.la=u,this.key=++Ei,this.fa=this.ia=!1}function mr(i){i.fa=!0,i.listener=null,i.proxy=null,i.src=null,i.la=null}function Gn(i,e,n){for(const o in i)e.call(n,i[o],o,i)}function Zt(i){const e={};for(const n in i)e[n]=i[n];return e}const Ir="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function xt(i,e){let n,o;for(let u=1;u<arguments.length;u++){for(n in o=arguments[u],o)i[n]=o[n];for(let l=0;l<Ir.length;l++)n=Ir[l],Object.prototype.hasOwnProperty.call(o,n)&&(i[n]=o[n])}}function Er(i){this.src=i,this.g={},this.h=0}function wr(i,e){var n=e.type;if(n in i.g){var l,o=i.g[n],u=br(o,e);(l=0<=u)&&Array.prototype.splice.call(o,u,1),l&&(mr(e),0==i.g[n].length&&(delete i.g[n],i.h--))}}function fn(i,e,n,o){for(var u=0;u<i.length;++u){var l=i[u];if(!l.fa&&l.listener==e&&l.capture==!!n&&l.la==o)return u}return-1}Er.prototype.add=function(i,e,n,o,u){var l=i.toString();(i=this.g[l])||(i=this.g[l]=[],this.h++);var f=fn(i,e,o,u);return-1<f?(e=i[f],n||(e.ia=!1)):((e=new Ar(e,this.src,l,!!o,u)).ia=n,i.push(e)),e};var Ur="closure_lm_"+(1e6*Math.random()|0),Nn={};function On(i,e,n,o,u){if(o&&o.once)return Wt(i,e,n,o,u);if(Array.isArray(e)){for(var l=0;l<e.length;l++)On(i,e[l],n,o,u);return null}return n=ti(n),i&&i[kn]?i.O(e,n,Ut(o)?!!o.capture:!!o,u):cn(i,e,n,!1,o,u)}function cn(i,e,n,o,u,l){if(!e)throw Error("Invalid event type");var f=Ut(u)?!!u.capture:!!u,w=Dr(i);if(w||(i[Ur]=w=new Er(i)),(n=w.add(e,n,o,f,l)).proxy)return n;if(o=function Ai(){const e=Si;return function i(n){return e.call(i.src,i.listener,n)}}(),n.proxy=o,o.src=i,o.listener=n,i.addEventListener)rn||(u=f),void 0===u&&(u=!1),i.addEventListener(e.toString(),o,u);else if(i.attachEvent)i.attachEvent(zr(e.toString()),o);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(o)}return n}function Wt(i,e,n,o,u){if(Array.isArray(e)){for(var l=0;l<e.length;l++)Wt(i,e[l],n,o,u);return null}return n=ti(n),i&&i[kn]?i.P(e,n,Ut(o)?!!o.capture:!!o,u):cn(i,e,n,!0,o,u)}function ei(i,e,n,o,u){if(Array.isArray(e))for(var l=0;l<e.length;l++)ei(i,e[l],n,o,u);else o=Ut(o)?!!o.capture:!!o,n=ti(n),i&&i[kn]?(i=i.i,(e=String(e).toString())in i.g&&-1<(n=fn(l=i.g[e],n,o,u))&&(mr(l[n]),Array.prototype.splice.call(l,n,1),0==l.length&&(delete i.g[e],i.h--))):i&&(i=Dr(i))&&(e=i.g[e.toString()],i=-1,e&&(i=fn(e,n,o,u)),(n=-1<i?e[i]:null)&&Jt(n))}function Jt(i){if("number"!=typeof i&&i&&!i.fa){var e=i.src;if(e&&e[kn])wr(e.i,i);else{var n=i.type,o=i.proxy;e.removeEventListener?e.removeEventListener(n,o,i.capture):e.detachEvent?e.detachEvent(zr(n),o):e.addListener&&e.removeListener&&e.removeListener(o),(n=Dr(e))?(wr(n,i),0==n.h&&(n.src=null,e[Ur]=null)):mr(i)}}}function zr(i){return i in Nn?Nn[i]:Nn[i]="on"+i}function Si(i,e){if(i.fa)i=!0;else{e=new Sn(e,this);var n=i.listener,o=i.la||i.src;i.ia&&Jt(i),i=n.call(o,e)}return i}function Dr(i){return(i=i[Ur])instanceof Er?i:null}var Vr="__closure_events_fn_"+(1e9*Math.random()>>>0);function ti(i){return"function"==typeof i?i:(i[Vr]||(i[Vr]=function(e){return i.handleEvent(e)}),i[Vr])}function Bn(){Ge.call(this),this.i=new Er(this),this.S=this,this.J=null}function Cn(i,e){var n,o=i.J;if(o)for(n=[];o;o=o.J)n.push(o);if(i=i.S,o=e.type||e,"string"==typeof e)e=new St(e,i);else if(e instanceof St)e.target=e.target||i;else{var u=e;xt(e=new St(o,i),u)}if(u=!0,n)for(var l=n.length-1;0<=l;l--){var f=e.g=n[l];u=yr(f,o,!0,e)&&u}if(u=yr(f=e.g=i,o,!0,e)&&u,u=yr(f,o,!1,e)&&u,n)for(l=0;l<n.length;l++)u=yr(f=e.g=n[l],o,!1,e)&&u}function yr(i,e,n,o){if(!(e=i.i.g[String(e)]))return!0;e=e.concat();for(var u=!0,l=0;l<e.length;++l){var f=e[l];if(f&&!f.fa&&f.capture==n){var w=f.listener,x=f.la||f.src;f.ia&&wr(i.i,f),u=!1!==w.call(x,o)&&u}}return u&&!o.defaultPrevented}Qe(Bn,Ge),Bn.prototype[kn]=!0,Bn.prototype.removeEventListener=function(i,e,n,o){ei(this,i,e,n,o)},Bn.prototype.N=function(){if(Bn.$.N.call(this),this.i){var e,i=this.i;for(e in i.g){for(var n=i.g[e],o=0;o<n.length;o++)mr(n[o]);delete i.g[e],i.h--}}this.J=null},Bn.prototype.O=function(i,e,n,o){return this.i.add(String(i),e,!1,n,o)},Bn.prototype.P=function(i,e,n,o){return this.i.add(String(i),e,!0,n,o)};var re=We.JSON.stringify;function H(){var i=dn;let e=null;return i.g&&(e=i.g,i.g=i.g.next,i.g||(i.h=null),e.next=null),e}var G=new class B{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new he,i=>i.reset());class he{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function $e(i){var e=1;i=i.split(":");const n=[];for(;0<e&&i.length;)n.push(i.shift()),e--;return i.length&&n.push(i.join(":")),n}function gt(i){We.setTimeout(()=>{throw i},0)}let Vt,Ht=!1,dn=new class ${constructor(){this.h=this.g=null}add(e,n){const o=G.get();o.set(e,n),this.h?this.h.next=o:this.g=o,this.h=o}},tn=()=>{const i=We.Promise.resolve(void 0);Vt=()=>{i.then(hn)}};var hn=()=>{for(var i;i=H();){try{i.h.call(i.g)}catch(n){gt(n)}var e=G;e.j(i),100>e.h&&(e.h++,i.next=e.g,e.g=i)}Ht=!1};function fi(i,e){Bn.call(this),this.h=i||1,this.g=e||We,this.j=st(this.qb,this),this.l=Date.now()}function pn(i){i.ga=!1,i.T&&(i.g.clearTimeout(i.T),i.T=null)}function Vi(i,e,n){if("function"==typeof i)n&&(i=st(i,n));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=st(i.handleEvent,i)}return 2147483647<Number(e)?-1:We.setTimeout(i,e||0)}function Pe(i){i.g=Vi(()=>{i.g=null,i.i&&(i.i=!1,Pe(i))},i.j);const e=i.h;i.h=null,i.m.apply(null,e)}Qe(fi,Bn),(oe=fi.prototype).ga=!1,oe.T=null,oe.qb=function(){if(this.ga){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-i):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Cn(this,"tick"),this.ga&&(pn(this),this.start()))}},oe.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},oe.N=function(){fi.$.N.call(this),pn(this),delete this.g};class ye extends Ge{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Pe(this)}N(){super.N(),this.g&&(We.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ze(i){Ge.call(this),this.h=i,this.g={}}Qe(Ze,Ge);var Rt=[];function Kt(i,e,n,o){Array.isArray(n)||(n&&(Rt[0]=n.toString()),n=Rt);for(var u=0;u<n.length;u++){var l=On(e,n[u],o||i.handleEvent,!1,i.h||i);if(!l)break;i.g[l.key]=l}}function zt(i){Gn(i.g,function(e,n){this.g.hasOwnProperty(n)&&Jt(e)},i),i.g={}}function en(){this.g=!0}function qt(i,e,n,o){i.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Mi(i,e){if(!i.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(i=0;i<n.length;i++)if(Array.isArray(n[i])){var o=n[i];if(!(2>o.length)){var u=o[1];if(Array.isArray(u)&&!(1>u.length)){var l=u[0];if("noop"!=l&&"stop"!=l&&"close"!=l)for(var f=1;f<u.length;f++)u[f]=""}}}return re(n)}catch{return e}}(i,n)+(o?" "+o:"")})}Ze.prototype.N=function(){Ze.$.N.call(this),zt(this)},Ze.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},en.prototype.Ea=function(){this.g=!1},en.prototype.info=function(){};var ji={},rs=null;function pi(){return rs=rs||new Bn}function gs(i){St.call(this,ji.Ta,i)}function ms(i){const e=pi();Cn(e,new gs(e))}function Qs(i,e){St.call(this,ji.STAT_EVENT,i),this.stat=e}function Br(i){const e=pi();Cn(e,new Qs(e,i))}function Ls(i,e){St.call(this,ji.Ua,i),this.size=e}function $i(i,e){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return We.setTimeout(function(){i()},e)}ji.Ta="serverreachability",Qe(gs,St),ji.STAT_EVENT="statevent",Qe(Qs,St),ji.Ua="timingevent",Qe(Ls,St);var Xi={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},ea={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function ae(){}function we(){}ae.prototype.h=null;var yn,Ue={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function rt(){St.call(this,"d")}function Et(){St.call(this,"c")}function an(){}function mn(i,e,n,o){this.l=i,this.j=e,this.m=n,this.W=o||1,this.U=new Ze(this),this.P=Gr,this.V=new fi(i=ze?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new gi}function gi(){this.i=null,this.g="",this.h=!1}Qe(rt,St),Qe(Et,St),Qe(an,ae),an.prototype.g=function(){return new XMLHttpRequest},an.prototype.i=function(){return{}},yn=new an;var Gr=45e3,oi={},Wr={};function Lo(i,e,n){i.L=1,i.v=Zn(Yi(e)),i.s=n,i.S=!0,Ba(i,null)}function Ba(i,e){i.G=Date.now(),is(i),i.A=Yi(i.v);var n=i.A,o=i.W;Array.isArray(o)||(o=[String(o)]),na(n.i,"t",o),i.C=0,n=i.l.J,i.h=new gi,i.g=fo(i.l,n?e:null,!i.s),0<i.O&&(i.M=new ye(st(i.Pa,i,i.g),i.O)),Kt(i.U,i.g,"readystatechange",i.nb),e=i.I?Zt(i.I):{},i.s?(i.u||(i.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",i.g.ha(i.A,i.u,i.s,e)):(i.u="GET",i.g.ha(i.A,i.u,null,e)),ms(),function Kn(i,e,n,o,u,l){i.info(function(){if(i.g)if(l)for(var f="",w=l.split("&"),x=0;x<w.length;x++){var P=w[x].split("=");if(1<P.length){var z=P[0];P=P[1];var ee=z.split("_");f=2<=ee.length&&"type"==ee[1]?f+(z+"=")+P+"&":f+(z+"=redacted&")}}else f=null;else f=l;return"XMLHTTP REQ ("+o+") [attempt "+u+"]: "+e+"\n"+n+"\n"+f})}(i.j,i.u,i.A,i.m,i.W,i.s)}function ta(i){return!!i.g&&"GET"==i.u&&2!=i.L&&i.l.Ha}function Do(i,e,n){let u,o=!0;for(;!i.J&&i.C<n.length;){if(u=wa(i,n),u==Wr){4==e&&(i.o=4,Br(14),o=!1),qt(i.j,i.m,null,"[Incomplete Response]");break}if(u==oi){i.o=4,Br(15),qt(i.j,i.m,n,"[Invalid Chunk]"),o=!1;break}qt(i.j,i.m,u,null),Xs(i,u)}ta(i)&&u!=Wr&&u!=oi&&(i.h.g="",i.C=0),4!=e||0!=n.length||i.h.h||(i.o=1,Br(16),o=!1),i.i=i.i&&o,o?0<n.length&&!i.ba&&(i.ba=!0,(e=i.l).g==i&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Zi(e),e.M=!0,Br(11))):(qt(i.j,i.m,n,"[Invalid Chunked Response]"),ss(i),Fs(i))}function wa(i,e){var n=i.C,o=e.indexOf("\n",n);return-1==o?Wr:(n=Number(e.substring(n,o)),isNaN(n)?oi:(o+=1)+n>e.length?Wr:(e=e.slice(o,o+n),i.C=o+n,e))}function is(i){i.Y=Date.now()+i.P,Da(i,i.P)}function Da(i,e){if(null!=i.B)throw Error("WatchDog timer not null");i.B=$i(st(i.lb,i),e)}function To(i){i.B&&(We.clearTimeout(i.B),i.B=null)}function Fs(i){0==i.l.H||i.J||Wa(i.l,i)}function ss(i){To(i);var e=i.M;e&&"function"==typeof e.sa&&e.sa(),i.M=null,pn(i.V),zt(i.U),i.g&&(e=i.g,i.g=null,e.abort(),e.sa())}function Xs(i,e){try{var n=i.l;if(0!=n.H&&(n.g==i||Us(n.i,i)))if(!i.K&&Us(n.i,i)&&3==n.H){try{var o=n.Ja.g.parse(e)}catch{o=null}if(Array.isArray(o)&&3==o.length){var u=o;if(0==u[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<i.G))break e;io(n),vu(n)}Ga(n),Br(18)}}else n.Fa=u[1],0<n.Fa-n.V&&37500>u[2]&&n.G&&0==n.A&&!n.v&&(n.v=$i(st(n.ib,n),6e3));if(1>=Ta(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Vs(n,11)}else if((i.K||n.g==i)&&io(n),!gr(e))for(u=n.Ja.g.parse(e),e=0;e<u.length;e++){let P=u[e];if(n.V=P[0],P=P[1],2==n.H)if("c"==P[0]){n.K=P[1],n.pa=P[2];const z=P[3];null!=z&&(n.ra=z,n.l.info("VER="+n.ra));const ee=P[4];null!=ee&&(n.Ga=ee,n.l.info("SVER="+n.Ga));const De=P[5];null!=De&&"number"==typeof De&&0<De&&(n.L=o=1.5*De,n.l.info("backChannelRequestTimeoutMs_="+o)),o=n;const Fe=i.g;if(Fe){const lt=Fe.g?Fe.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(lt){var l=o.i;l.g||-1==lt.indexOf("spdy")&&-1==lt.indexOf("quic")&&-1==lt.indexOf("h2")||(l.j=l.l,l.g=new Set,l.h&&(us(l,l.h),l.h=null))}if(o.F){const Ct=Fe.g?Fe.g.getResponseHeader("X-HTTP-Session-Id"):null;Ct&&(o.Da=Ct,jn(o.I,o.F,Ct))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-i.G,n.l.info("Handshake RTT: "+n.S+"ms"));var f=i;if((o=n).wa=Sa(o,o.J?o.pa:null,o.Y),f.K){eo(o.i,f);var w=f,x=o.L;x&&w.setTimeout(x),w.B&&(To(w),is(w)),o.g=f}else Gi(o);0<n.j.length&&Mo(n)}else"stop"!=P[0]&&"close"!=P[0]||Vs(n,7);else 3==n.H&&("stop"==P[0]||"close"==P[0]?"stop"==P[0]?Vs(n,7):So(n):"noop"!=P[0]&&n.h&&n.h.Aa(P),n.A=0)}ms()}catch{}}function ai(i,e){if(i.forEach&&"function"==typeof i.forEach)i.forEach(e,void 0);else if(Bt(i)||"string"==typeof i)Array.prototype.forEach.call(i,e,void 0);else for(var n=function Mn(i){if(i.ta&&"function"==typeof i.ta)return i.ta();if(!i.Z||"function"!=typeof i.Z){if(typeof Map<"u"&&i instanceof Map)return Array.from(i.keys());if(!(typeof Set<"u"&&i instanceof Set)){if(Bt(i)||"string"==typeof i){var e=[];i=i.length;for(var n=0;n<i;n++)e.push(n);return e}e=[],n=0;for(const o in i)e[n++]=o;return e}}}(i),o=function Ys(i){if(i.Z&&"function"==typeof i.Z)return i.Z();if(typeof Map<"u"&&i instanceof Map||typeof Set<"u"&&i instanceof Set)return Array.from(i.values());if("string"==typeof i)return i.split("");if(Bt(i)){for(var e=[],n=i.length,o=0;o<n;o++)e.push(i[o]);return e}for(o in e=[],n=0,i)e[n++]=i[o];return e}(i),u=o.length,l=0;l<u;l++)e.call(void 0,o[l],n&&n[l],i)}(oe=mn.prototype).setTimeout=function(i){this.P=i},oe.nb=function(i){i=i.target;const e=this.M;e&&3==Is(i)?e.l():this.Pa(i)},oe.Pa=function(i){try{if(i==this.g)e:{const z=Is(this.g);var e=this.g.Ia();if(this.g.da(),!(3>z)&&(3!=z||ze||this.g&&(this.h.h||this.g.ja()||Ao(this.g)))){this.J||4!=z||7==e||ms(),To(this);var n=this.g.da();this.ca=n;t:if(ta(this)){var o=Ao(this.g);i="";var u=o.length,l=4==Is(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){ss(this),Fs(this);var f="";break t}this.h.i=new We.TextDecoder}for(e=0;e<u;e++)this.h.h=!0,i+=this.h.i.decode(o[e],{stream:l&&e==u-1});o.splice(0,u),this.h.g+=i,this.C=0,f=this.h.g}else f=this.g.ja();if(this.i=200==n,function Ln(i,e,n,o,u,l,f){i.info(function(){return"XMLHTTP RESP ("+o+") [ attempt "+u+"]: "+e+"\n"+n+"\n"+l+" "+f})}(this.j,this.u,this.A,this.m,this.W,z,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var w,x=this.g;if((w=x.g?x.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!gr(w)){var P=w;break t}}P=null}if(!(n=P)){this.i=!1,this.o=3,Br(12),ss(this),Fs(this);break e}qt(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Xs(this,n)}this.S?(Do(this,z,f),ze&&this.i&&3==z&&(Kt(this.U,this.V,"tick",this.mb),this.V.start())):(qt(this.j,this.m,f,null),Xs(this,f)),4==z&&ss(this),this.i&&!this.J&&(4==z?Wa(this.l,this):(this.i=!1,is(this)))}else(function Aa(i){const e={};i=(i.g&&2<=Is(i)&&i.g.getAllResponseHeaders()||"").split("\r\n");for(let o=0;o<i.length;o++){if(gr(i[o]))continue;var n=$e(i[o]);const u=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const l=e[u]||[];e[u]=l,l.push(n)}!function jt(i,e){for(const n in i)e.call(void 0,i[n],n,i)}(e,function(o){return o.join(", ")})})(this.g),400==n&&0<f.indexOf("Unknown SID")?(this.o=3,Br(12)):(this.o=0,Br(13)),ss(this),Fs(this)}}}catch{}},oe.mb=function(){if(this.g){var i=Is(this.g),e=this.g.ja();this.C<e.length&&(To(this),Do(this,i,e),this.i&&4!=i&&is(this))}},oe.cancel=function(){this.J=!0,ss(this)},oe.lb=function(){this.B=null;const i=Date.now();0<=i-this.Y?(function Bi(i,e){i.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(ms(),Br(17)),ss(this),this.o=2,Fs(this)):Da(this,this.Y-i)};var Nr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function tr(i){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,i instanceof tr){this.h=i.h,wi(this,i.j),this.s=i.s,this.g=i.g,mi(this,i.m),this.l=i.l;var e=i.i,n=new xi;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),os(this,n),this.o=i.o}else i&&(e=String(i).match(Nr))?(this.h=!1,wi(this,e[1]||"",!0),this.s=ht(e[2]||""),this.g=ht(e[3]||"",!0),mi(this,e[4]),this.l=ht(e[5]||"",!0),os(this,e[6]||"",!0),this.o=ht(e[7]||"")):(this.h=!1,this.i=new xi(null,this.h))}function Yi(i){return new tr(i)}function wi(i,e,n){i.j=n?ht(e,!0):e,i.j&&(i.j=i.j.replace(/:$/,""))}function mi(i,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);i.m=e}else i.m=null}function os(i,e,n){e instanceof xi?(i.i=e,function rr(i,e){e&&!i.j&&(vi(i),i.i=null,i.g.forEach(function(n,o){var u=o.toLowerCase();o!=u&&(Qt(this,o),na(this,u,n))},i)),i.j=e}(i.i,i.h)):(n||(e=nn(e,Di)),i.i=new xi(e,i.h))}function jn(i,e,n){i.i.set(e,n)}function Zn(i){return jn(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function ht(i,e){return i?e?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function nn(i,e,n){return"string"==typeof i?(i=encodeURI(i).replace(e,nr),n&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function nr(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}tr.prototype.toString=function(){var i=[],e=this.j;e&&i.push(nn(e,yi,!0),":");var n=this.g;return(n||"file"==e)&&(i.push("//"),(e=this.s)&&i.push(nn(e,yi,!0),"@"),i.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&i.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&i.push("/"),i.push(nn(n,"/"==n.charAt(0)?Or:Zs,!0))),(n=this.i.toString())&&i.push("?",n),(n=this.o)&&i.push("#",nn(n,Sr)),i.join("")};var yi=/[#\/\?@]/g,Zs=/[#\?:]/g,Or=/[#\?]/g,Di=/[#\?@]/g,Sr=/#/g;function xi(i,e){this.h=this.g=null,this.i=i||null,this.j=!!e}function vi(i){i.g||(i.g=new Map,i.h=0,i.i&&function Co(i,e){if(i){i=i.split("&");for(var n=0;n<i.length;n++){var o=i[n].indexOf("="),u=null;if(0<=o){var l=i[n].substring(0,o);u=i[n].substring(o+1)}else l=i[n];e(l,u?decodeURIComponent(u.replace(/\+/g," ")):"")}}}(i.i,function(e,n){i.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function Qt(i,e){vi(i),e=Ri(i,e),i.g.has(e)&&(i.i=null,i.h-=i.g.get(e).length,i.g.delete(e))}function Js(i,e){return vi(i),e=Ri(i,e),i.g.has(e)}function na(i,e,n){Qt(i,e),0<n.length&&(i.i=null,i.g.set(Ri(i,e),er(n)),i.h+=n.length)}function Ri(i,e){return e=String(e),i.j&&(e=e.toLowerCase()),e}function ui(i){this.l=i||as,i=We.PerformanceNavigationTiming?0<(i=We.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(We.g&&We.g.Ka&&We.g.Ka()&&We.g.Ka().ec),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(oe=xi.prototype).add=function(i,e){vi(this),this.i=null,i=Ri(this,i);var n=this.g.get(i);return n||this.g.set(i,n=[]),n.push(e),this.h+=1,this},oe.forEach=function(i,e){vi(this),this.g.forEach(function(n,o){n.forEach(function(u){i.call(e,u,o,this)},this)},this)},oe.ta=function(){vi(this);const i=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let o=0;o<e.length;o++){const u=i[o];for(let l=0;l<u.length;l++)n.push(e[o])}return n},oe.Z=function(i){vi(this);let e=[];if("string"==typeof i)Js(this,i)&&(e=e.concat(this.g.get(Ri(this,i))));else{i=Array.from(this.g.values());for(let n=0;n<i.length;n++)e=e.concat(i[n])}return e},oe.set=function(i,e){return vi(this),this.i=null,Js(this,i=Ri(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[e]),this.h+=1,this},oe.get=function(i,e){return i&&0<(i=this.Z(i)).length?String(i[0]):e},oe.toString=function(){if(this.i)return this.i;if(!this.g)return"";const i=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var o=e[n];const l=encodeURIComponent(String(o)),f=this.Z(o);for(o=0;o<f.length;o++){var u=l;""!==f[o]&&(u+="="+encodeURIComponent(String(f[o]))),i.push(u)}}return this.i=i.join("&")};var as=10;function Hi(i){return!!i.h||!!i.g&&i.g.size>=i.j}function Ta(i){return i.h?1:i.g?i.g.size:0}function Us(i,e){return i.h?i.h==e:!!i.g&&i.g.has(e)}function us(i,e){i.g?i.g.add(e):i.h=e}function eo(i,e){i.h&&i.h==e?i.h=null:i.g&&i.g.has(e)&&i.g.delete(e)}function Ti(i){if(null!=i.h)return i.i.concat(i.h.F);if(null!=i.g&&0!==i.g.size){let e=i.i;for(const n of i.g.values())e=e.concat(n.F);return e}return er(i.i)}ui.prototype.cancel=function(){if(this.i=Ti(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const i of this.g.values())i.cancel();this.g.clear()}};var _n=class{stringify(i){return We.JSON.stringify(i,void 0)}parse(i){return We.JSON.parse(i,void 0)}};function ja(){this.g=new _n}function Ca(i,e,n){const o=n||"";try{ai(i,function(u,l){let f=u;Ut(u)&&(f=re(u)),e.push(o+l+"="+encodeURIComponent(f))})}catch(u){throw e.push(o+"type="+encodeURIComponent("_badmap")),u}}function Ni(i,e,n,o,u){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,u(o)}catch{}}function Kr(i){this.l=i.fc||null,this.j=i.ob||!1}function ys(i,e){Bn.call(this),this.F=i,this.u=e,this.m=void 0,this.readyState=bo,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Qe(Kr,ae),Kr.prototype.g=function(){return new ys(this.l,this.j)},Kr.prototype.i=function(i){return function(){return i}}({}),Qe(ys,Bn);var bo=0;function Mr(i){i.j.read().then(i.Xa.bind(i)).catch(i.ka.bind(i))}function vr(i){i.readyState=4,i.l=null,i.j=null,i.A=null,jr(i)}function jr(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(oe=ys.prototype).open=function(i,e){if(this.readyState!=bo)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=e,this.readyState=1,jr(this)},oe.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(e.body=i),(this.F||We).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},oe.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,vr(this)),this.readyState=bo},oe.$a=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,jr(this)),this.g&&(this.readyState=3,jr(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof We.ReadableStream<"u"&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Mr(this)}else i.text().then(this.Za.bind(this),this.ka.bind(this))},oe.Xa=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var e=i.value?i.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!i.done}))&&(this.response=this.responseText+=e)}i.done?vr(this):jr(this),3==this.readyState&&Mr(this)}},oe.Za=function(i){this.g&&(this.response=this.responseText=i,vr(this))},oe.Ya=function(i){this.g&&(this.response=i,vr(this))},oe.ka=function(){this.g&&vr(this)},oe.setRequestHeader=function(i,e){this.v.append(i,e)},oe.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},oe.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],e=this.h.entries();for(var n=e.next();!n.done;)i.push((n=n.value)[0]+": "+n[1]),n=e.next();return i.join("\r\n")},Object.defineProperty(ys.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var Pr=We.JSON.parse;function _r(i){Bn.call(this),this.headers=new Map,this.u=i||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=vs,this.L=this.M=!1}Qe(_r,Bn);var vs="",Uo=/^https?$/i,Ci=["POST","PUT"];function ia(i,e){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=e,i.m=5,ba(i),no(i)}function ba(i){i.F||(i.F=!0,Cn(i,"complete"),Cn(i,"error"))}function to(i){if(i.h&&typeof ct<"u"&&(!i.C[1]||4!=Is(i)||2!=i.da()))if(i.v&&4==Is(i))Vi(i.La,0,i);else if(Cn(i,"readystatechange"),4==Is(i)){i.h=!1;try{const f=i.da();e:switch(f){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var o;if(o=0===f){var u=String(i.I).match(Nr)[1]||null;!u&&We.self&&We.self.location&&(u=We.self.location.protocol.slice(0,-1)),o=!Uo.test(u?u.toLowerCase():"")}n=o}if(n)Cn(i,"complete"),Cn(i,"success");else{i.m=6;try{var l=2<Is(i)?i.g.statusText:""}catch{l=""}i.j=l+" ["+i.da()+"]",ba(i)}}finally{no(i)}}}function no(i,e){if(i.g){ir(i);const n=i.g,o=i.C[0]?()=>{}:null;i.g=null,i.C=null,e||Cn(i,"ready");try{n.onreadystatechange=o}catch{}}}function ir(i){i.g&&i.L&&(i.g.ontimeout=null),i.A&&(We.clearTimeout(i.A),i.A=null)}function Is(i){return i.g?i.g.readyState:0}function Ao(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.K){case vs:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch{return null}}function $a(i){let e="";return Gn(i,function(n,o){e+=o,e+=":",e+=n,e+="\r\n"}),e}function sa(i,e,n){e:{for(o in n){var o=!1;break e}o=!0}o||(n=$a(n),"string"==typeof i?null!=n&&encodeURIComponent(String(n)):jn(i,e,n))}function zi(i,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[i]||e}function Ku(i){this.Ga=0,this.j=[],this.l=new en,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=zi("failFast",!1,i),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=zi("baseRetryDelayMs",5e3,i),this.hb=zi("retryDelaySeedMs",1e4,i),this.eb=zi("forwardChannelMaxRetries",2,i),this.xa=zi("forwardChannelRequestTimeoutMs",2e4,i),this.va=i&&i.xmlHttpFactory||void 0,this.Ha=i&&i.dc||!1,this.L=void 0,this.J=i&&i.supportsCrossDomainXhr||!1,this.K="",this.i=new ui(i&&i.concurrentRequestLimit),this.Ja=new ja,this.P=i&&i.fastHandshake||!1,this.O=i&&i.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=i&&i.bc||!1,i&&i.Ea&&this.l.Ea(),i&&i.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&i&&i.detectBufferingProxy||!1,this.qa=void 0,i&&i.longPollingTimeout&&0<i.longPollingTimeout&&(this.qa=i.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function So(i){if(Ha(i),3==i.H){var e=i.W++,n=Yi(i.I);if(jn(n,"SID",i.K),jn(n,"RID",e),jn(n,"TYPE","terminate"),_i(i,n),(e=new mn(i,i.l,e)).L=2,e.v=Zn(Yi(n)),n=!1,We.navigator&&We.navigator.sendBeacon)try{n=We.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&We.Image&&((new Image).src=e.v,n=!0),n||(e.g=fo(e.l,null),e.g.ha(e.v)),e.G=Date.now(),is(e)}qr(i)}function vu(i){i.g&&(Zi(i),i.g.cancel(),i.g=null)}function Ha(i){vu(i),i.u&&(We.clearTimeout(i.u),i.u=null),io(i),i.i.cancel(),i.m&&("number"==typeof i.m&&We.clearTimeout(i.m),i.m=null)}function Mo(i){if(!Hi(i.i)&&!i.m){i.m=!0;var e=i.Na;Vt||tn(),Ht||(Vt(),Ht=!0),dn.add(e,i),i.C=0}}function ro(i,e){var n;n=e?e.m:i.W++;const o=Yi(i.I);jn(o,"SID",i.K),jn(o,"RID",n),jn(o,"AID",i.V),_i(i,o),i.o&&i.s&&sa(o,i.o,i.s),n=new mn(i,i.l,n,i.C+1),null===i.o&&(n.I=i.s),e&&(i.j=e.F.concat(i.j)),e=za(i,n,1e3),n.setTimeout(Math.round(.5*i.xa)+Math.round(.5*i.xa*Math.random())),us(i.i,n),Lo(n,o,e)}function _i(i,e){i.na&&Gn(i.na,function(n,o){jn(e,o,n)}),i.h&&ai({},function(n,o){jn(e,o,n)})}function za(i,e,n){n=Math.min(i.j.length,n);var o=i.h?st(i.h.Va,i.h,i):null;e:{var u=i.j;let l=-1;for(;;){const f=["count="+n];-1==l?0<n?(l=u[0].g,f.push("ofs="+l)):l=0:f.push("ofs="+l);let w=!0;for(let x=0;x<n;x++){let P=u[x].g;const z=u[x].map;if(P-=l,0>P)l=Math.max(0,u[x].g-100),w=!1;else try{Ca(z,f,"req"+P+"_")}catch{o&&o(z)}}if(w){o=f.join("&");break e}}}return i=i.j.splice(0,n),e.F=i,o}function Gi(i){if(!i.g&&!i.u){i.ba=1;var e=i.Ma;Vt||tn(),Ht||(Vt(),Ht=!0),dn.add(e,i),i.A=0}}function Ga(i){return!(i.g||i.u||3<=i.A||(i.ba++,i.u=$i(st(i.Ma,i),kr(i,i.A)),i.A++,0))}function Zi(i){null!=i.B&&(We.clearTimeout(i.B),i.B=null)}function Es(i){i.g=new mn(i,i.l,"rpc",i.ba),null===i.o&&(i.g.I=i.s),i.g.O=0;var e=Yi(i.wa);jn(e,"RID","rpc"),jn(e,"SID",i.K),jn(e,"AID",i.V),jn(e,"CI",i.G?"0":"1"),!i.G&&i.qa&&jn(e,"TO",i.qa),jn(e,"TYPE","xmlhttp"),_i(i,e),i.o&&i.s&&sa(e,i.o,i.s),i.L&&i.g.setTimeout(i.L);var n=i.g;i=i.pa,n.L=1,n.v=Zn(Yi(e)),n.s=null,n.S=!0,Ba(n,i)}function io(i){null!=i.v&&(We.clearTimeout(i.v),i.v=null)}function Wa(i,e){var n=null;if(i.g==e){io(i),Zi(i),i.g=null;var o=2}else{if(!Us(i.i,e))return;n=e.F,eo(i.i,e),o=1}if(0!=i.H)if(e.i)if(1==o){n=e.s?e.s.length:0,e=Date.now()-e.G;var u=i.C;Cn(o=pi(),new Ls(o,n)),Mo(i)}else Gi(i);else if(3==(u=e.o)||0==u&&0<e.ca||!(1==o&&function xo(i,e){return!(Ta(i.i)>=i.i.j-(i.m?1:0)||(i.m?(i.j=e.F.concat(i.j),0):1==i.H||2==i.H||i.C>=(i.cb?0:i.eb)||(i.m=$i(st(i.Na,i,e),kr(i,i.C)),i.C++,0)))}(i,e)||2==o&&Ga(i)))switch(n&&0<n.length&&(e=i.i,e.i=e.i.concat(n)),u){case 1:Vs(i,5);break;case 4:Vs(i,10);break;case 3:Vs(i,6);break;default:Vs(i,2)}}function kr(i,e){let n=i.ab+Math.floor(Math.random()*i.hb);return i.isActive()||(n*=2),n*e}function Vs(i,e){if(i.l.info("Error code "+e),2==e){var n=null;i.h&&(n=null);var o=st(i.pb,i);n||(n=new tr("//www.google.com/images/cleardot.gif"),We.location&&"http"==We.location.protocol||wi(n,"https"),Zn(n)),function ra(i,e){const n=new en;if(We.Image){const o=new Image;o.onload=Se(Ni,n,o,"TestLoadImage: loaded",!0,e),o.onerror=Se(Ni,n,o,"TestLoadImage: error",!1,e),o.onabort=Se(Ni,n,o,"TestLoadImage: abort",!1,e),o.ontimeout=Se(Ni,n,o,"TestLoadImage: timeout",!1,e),We.setTimeout(function(){o.ontimeout&&o.ontimeout()},1e4),o.src=i}else e(!1)}(n.toString(),o)}else Br(2);i.H=0,i.h&&i.h.za(e),qr(i),Ha(i)}function qr(i){if(i.H=0,i.ma=[],i.h){const e=Ti(i.i);(0!=e.length||0!=i.j.length)&&(Ye(i.ma,e),Ye(i.ma,i.j),i.i.i.length=0,er(i.j),i.j.length=0),i.h.ya()}}function Sa(i,e,n){var o=n instanceof tr?Yi(n):new tr(n);if(""!=o.g)e&&(o.g=e+"."+o.g),mi(o,o.m);else{var u=We.location;o=u.protocol,e=e?e+"."+u.hostname:u.hostname,u=+u.port;var l=new tr(null);o&&wi(l,o),e&&(l.g=e),u&&mi(l,u),n&&(l.l=n),o=l}return e=i.Da,(n=i.F)&&e&&jn(o,n,e),jn(o,"VER",i.ra),_i(i,o),o}function fo(i,e,n){if(e&&!i.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new _r(n&&i.Ha&&!i.va?new Kr({ob:!0}):i.va)).Oa(i.J),e}function Qr(){}function so(){if(be&&!(10<=Number(Yn)))throw Error("Environmental error: no available transport.")}function Xr(i,e){Bn.call(this),this.g=new Ku(e),this.l=i,this.h=e&&e.messageUrlParams||null,i=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(i?i["X-WebChannel-Content-Type"]=e.messageContentType:i={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(i?i["X-WebChannel-Client-Profile"]=e.Ca:i={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=i,(i=e&&e.cc)&&!gr(i)&&(this.g.o=i),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!gr(e)&&(this.g.F=e,null!==(i=this.h)&&e in i&&e in(i=this.h)&&delete i[e]),this.j=new ws(this)}function _u(i){rt.call(this),i.__headers__&&(this.headers=i.__headers__,this.statusCode=i.__status__,delete i.__headers__,delete i.__status__);var e=i.__sm__;if(e){e:{for(const n in e){i=n;break e}i=void 0}(this.i=i)&&(i=this.i,e=null!==e&&i in e?e[i]:void 0),this.data=e}else this.data=i}function oa(){Et.call(this),this.status=1}function ws(i){this.g=i}function bi(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function po(i,e,n){n||(n=0);var o=Array(16);if("string"==typeof e)for(var u=0;16>u;++u)o[u]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(u=0;16>u;++u)o[u]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;var l=i.g[3],f=(e=i.g[0])+(l^(n=i.g[1])&((u=i.g[2])^l))+o[0]+3614090360&4294967295;f=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=n+(f<<7&4294967295|f>>>25))+((f=l+(u^e&(n^u))+o[1]+3905402710&4294967295)<<12&4294967295|f>>>20))+((f=u+(n^l&(e^n))+o[2]+606105819&4294967295)<<17&4294967295|f>>>15))+((f=n+(e^u&(l^e))+o[3]+3250441966&4294967295)<<22&4294967295|f>>>10))+((f=e+(l^n&(u^l))+o[4]+4118548399&4294967295)<<7&4294967295|f>>>25))+((f=l+(u^e&(n^u))+o[5]+1200080426&4294967295)<<12&4294967295|f>>>20))+((f=u+(n^l&(e^n))+o[6]+2821735955&4294967295)<<17&4294967295|f>>>15))+((f=n+(e^u&(l^e))+o[7]+4249261313&4294967295)<<22&4294967295|f>>>10))+((f=e+(l^n&(u^l))+o[8]+1770035416&4294967295)<<7&4294967295|f>>>25))+((f=l+(u^e&(n^u))+o[9]+2336552879&4294967295)<<12&4294967295|f>>>20))+((f=u+(n^l&(e^n))+o[10]+4294925233&4294967295)<<17&4294967295|f>>>15))+((f=n+(e^u&(l^e))+o[11]+2304563134&4294967295)<<22&4294967295|f>>>10))+((f=e+(l^n&(u^l))+o[12]+1804603682&4294967295)<<7&4294967295|f>>>25))+((f=l+(u^e&(n^u))+o[13]+4254626195&4294967295)<<12&4294967295|f>>>20))+((f=u+(n^l&(e^n))+o[14]+2792965006&4294967295)<<17&4294967295|f>>>15))+((f=n+(e^u&(l^e))+o[15]+1236535329&4294967295)<<22&4294967295|f>>>10))+((f=e+(u^l&(n^u))+o[1]+4129170786&4294967295)<<5&4294967295|f>>>27))+((f=l+(n^u&(e^n))+o[6]+3225465664&4294967295)<<9&4294967295|f>>>23))+((f=u+(e^n&(l^e))+o[11]+643717713&4294967295)<<14&4294967295|f>>>18))+((f=n+(l^e&(u^l))+o[0]+3921069994&4294967295)<<20&4294967295|f>>>12))+((f=e+(u^l&(n^u))+o[5]+3593408605&4294967295)<<5&4294967295|f>>>27))+((f=l+(n^u&(e^n))+o[10]+38016083&4294967295)<<9&4294967295|f>>>23))+((f=u+(e^n&(l^e))+o[15]+3634488961&4294967295)<<14&4294967295|f>>>18))+((f=n+(l^e&(u^l))+o[4]+3889429448&4294967295)<<20&4294967295|f>>>12))+((f=e+(u^l&(n^u))+o[9]+568446438&4294967295)<<5&4294967295|f>>>27))+((f=l+(n^u&(e^n))+o[14]+3275163606&4294967295)<<9&4294967295|f>>>23))+((f=u+(e^n&(l^e))+o[3]+4107603335&4294967295)<<14&4294967295|f>>>18))+((f=n+(l^e&(u^l))+o[8]+1163531501&4294967295)<<20&4294967295|f>>>12))+((f=e+(u^l&(n^u))+o[13]+2850285829&4294967295)<<5&4294967295|f>>>27))+((f=l+(n^u&(e^n))+o[2]+4243563512&4294967295)<<9&4294967295|f>>>23))+((f=u+(e^n&(l^e))+o[7]+1735328473&4294967295)<<14&4294967295|f>>>18))+((f=n+(l^e&(u^l))+o[12]+2368359562&4294967295)<<20&4294967295|f>>>12))+((f=e+(n^u^l)+o[5]+4294588738&4294967295)<<4&4294967295|f>>>28))+((f=l+(e^n^u)+o[8]+2272392833&4294967295)<<11&4294967295|f>>>21))+((f=u+(l^e^n)+o[11]+1839030562&4294967295)<<16&4294967295|f>>>16))+((f=n+(u^l^e)+o[14]+4259657740&4294967295)<<23&4294967295|f>>>9))+((f=e+(n^u^l)+o[1]+2763975236&4294967295)<<4&4294967295|f>>>28))+((f=l+(e^n^u)+o[4]+1272893353&4294967295)<<11&4294967295|f>>>21))+((f=u+(l^e^n)+o[7]+4139469664&4294967295)<<16&4294967295|f>>>16))+((f=n+(u^l^e)+o[10]+3200236656&4294967295)<<23&4294967295|f>>>9))+((f=e+(n^u^l)+o[13]+681279174&4294967295)<<4&4294967295|f>>>28))+((f=l+(e^n^u)+o[0]+3936430074&4294967295)<<11&4294967295|f>>>21))+((f=u+(l^e^n)+o[3]+3572445317&4294967295)<<16&4294967295|f>>>16))+((f=n+(u^l^e)+o[6]+76029189&4294967295)<<23&4294967295|f>>>9))+((f=e+(n^u^l)+o[9]+3654602809&4294967295)<<4&4294967295|f>>>28))+((f=l+(e^n^u)+o[12]+3873151461&4294967295)<<11&4294967295|f>>>21))+((f=u+(l^e^n)+o[15]+530742520&4294967295)<<16&4294967295|f>>>16))+((f=n+(u^l^e)+o[2]+3299628645&4294967295)<<23&4294967295|f>>>9))+((f=e+(u^(n|~l))+o[0]+4096336452&4294967295)<<6&4294967295|f>>>26))+((f=l+(n^(e|~u))+o[7]+1126891415&4294967295)<<10&4294967295|f>>>22))+((f=u+(e^(l|~n))+o[14]+2878612391&4294967295)<<15&4294967295|f>>>17))+((f=n+(l^(u|~e))+o[5]+4237533241&4294967295)<<21&4294967295|f>>>11))+((f=e+(u^(n|~l))+o[12]+1700485571&4294967295)<<6&4294967295|f>>>26))+((f=l+(n^(e|~u))+o[3]+2399980690&4294967295)<<10&4294967295|f>>>22))+((f=u+(e^(l|~n))+o[10]+4293915773&4294967295)<<15&4294967295|f>>>17))+((f=n+(l^(u|~e))+o[1]+2240044497&4294967295)<<21&4294967295|f>>>11))+((f=e+(u^(n|~l))+o[8]+1873313359&4294967295)<<6&4294967295|f>>>26))+((f=l+(n^(e|~u))+o[15]+4264355552&4294967295)<<10&4294967295|f>>>22))+((f=u+(e^(l|~n))+o[6]+2734768916&4294967295)<<15&4294967295|f>>>17))+((f=n+(l^(u|~e))+o[13]+1309151649&4294967295)<<21&4294967295|f>>>11))+((l=(e=n+((f=e+(u^(n|~l))+o[4]+4149444226&4294967295)<<6&4294967295|f>>>26))+((f=l+(n^(e|~u))+o[11]+3174756917&4294967295)<<10&4294967295|f>>>22))^((u=l+((f=u+(e^(l|~n))+o[2]+718787259&4294967295)<<15&4294967295|f>>>17))|~e))+o[9]+3951481745&4294967295,i.g[0]=i.g[0]+e&4294967295,i.g[1]=i.g[1]+(u+(f<<21&4294967295|f>>>11))&4294967295,i.g[2]=i.g[2]+u&4294967295,i.g[3]=i.g[3]+l&4294967295}function In(i,e){this.h=e;for(var n=[],o=!0,u=i.length-1;0<=u;u--){var l=0|i[u];o&&l==e||(n[u]=l,o=!1)}this.g=n}(oe=_r.prototype).Oa=function(i){this.M=i},oe.ha=function(i,e,n,o){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+i);e=e?e.toUpperCase():"GET",this.I=i,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():yn.g(),this.C=function le(i){return i.h||(i.h=i.i())}(this.u?this.u:yn),this.g.onreadystatechange=st(this.La,this);try{this.G=!0,this.g.open(e,String(i),!0),this.G=!1}catch(l){return void ia(this,l)}if(i=n||"",n=new Map(this.headers),o)if(Object.getPrototypeOf(o)===Object.prototype)for(var u in o)n.set(u,o[u]);else{if("function"!=typeof o.keys||"function"!=typeof o.get)throw Error("Unknown input type for opt_headers: "+String(o));for(const l of o.keys())n.set(l,o.get(l))}o=Array.from(n.keys()).find(l=>"content-type"==l.toLowerCase()),u=We.FormData&&i instanceof We.FormData,!(0<=br(Ci,e))||o||u||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[l,f]of n)this.g.setRequestHeader(l,f);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{ir(this),0<this.B&&((this.L=function _s(i){return be&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=st(this.ua,this)):this.A=Vi(this.ua,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(l){ia(this,l)}},oe.ua=function(){typeof ct<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Cn(this,"timeout"),this.abort(8))},oe.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,Cn(this,"complete"),Cn(this,"abort"),no(this))},oe.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),no(this,!0)),_r.$.N.call(this)},oe.La=function(){this.s||(this.G||this.v||this.l?to(this):this.kb())},oe.kb=function(){to(this)},oe.isActive=function(){return!!this.g},oe.da=function(){try{return 2<Is(this)?this.g.status:-1}catch{return-1}},oe.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},oe.Wa=function(i){if(this.g){var e=this.g.responseText;return i&&0==e.indexOf(i)&&(e=e.substring(i.length)),Pr(e)}},oe.Ia=function(){return this.m},oe.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(oe=Ku.prototype).ra=8,oe.H=1,oe.Na=function(i){if(this.m)if(this.m=null,1==this.H){if(!i){this.W=Math.floor(1e5*Math.random()),i=this.W++;const u=new mn(this,this.l,i);let l=this.s;if(this.U&&(l?(l=Zt(l),xt(l,this.U)):l=this.U),null!==this.o||this.O||(u.I=l,l=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){var o=this.j[n];if(void 0===(o="__data__"in o.map&&"string"==typeof(o=o.map.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=n;break e}if(4096===e||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=za(this,u,e),jn(n=Yi(this.I),"RID",i),jn(n,"CVER",22),this.F&&jn(n,"X-HTTP-Session-Id",this.F),_i(this,n),l&&(this.O?e="headers="+encodeURIComponent(String($a(l)))+"&"+e:this.o&&sa(n,this.o,l)),us(this.i,u),this.bb&&jn(n,"TYPE","init"),this.P?(jn(n,"$req",e),jn(n,"SID","null"),u.aa=!0,Lo(u,n,null)):Lo(u,n,e),this.H=2}}else 3==this.H&&(i?ro(this,i):0==this.j.length||Hi(this.i)||ro(this))},oe.Ma=function(){if(this.u=null,Es(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var i=2*this.S;this.l.info("BP detection timer enabled: "+i),this.B=$i(st(this.jb,this),i)}},oe.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Br(10),vu(this),Es(this))},oe.ib=function(){null!=this.v&&(this.v=null,vu(this),Ga(this),Br(19))},oe.pb=function(i){i?(this.l.info("Successfully pinged google.com"),Br(2)):(this.l.info("Failed to ping google.com"),Br(1))},oe.isActive=function(){return!!this.h&&this.h.isActive(this)},(oe=Qr.prototype).Ba=function(){},oe.Aa=function(){},oe.za=function(){},oe.ya=function(){},oe.isActive=function(){return!0},oe.Va=function(){},so.prototype.g=function(i,e){return new Xr(i,e)},Qe(Xr,Bn),Xr.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var i=this.g,e=this.l,n=this.h||void 0;Br(0),i.Y=e,i.na=n||{},i.G=i.aa,i.I=Sa(i,null,i.Y),Mo(i)},Xr.prototype.close=function(){So(this.g)},Xr.prototype.u=function(i){var e=this.g;if("string"==typeof i){var n={};n.__data__=i,i=n}else this.v&&((n={}).__data__=re(i),i=n);e.j.push(new class{constructor(i,e){this.g=i,this.map=e}}(e.fb++,i)),3==e.H&&Mo(e)},Xr.prototype.N=function(){this.g.h=null,delete this.j,So(this.g),delete this.g,Xr.$.N.call(this)},Qe(_u,rt),Qe(oa,Et),Qe(ws,Qr),ws.prototype.Ba=function(){Cn(this.g,"a")},ws.prototype.Aa=function(i){Cn(this.g,new _u(i))},ws.prototype.za=function(i){Cn(this.g,new oa)},ws.prototype.ya=function(){Cn(this.g,"b")},Qe(bi,function Ro(){this.blockSize=-1}),bi.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},bi.prototype.j=function(i,e){void 0===e&&(e=i.length);for(var n=e-this.blockSize,o=this.m,u=this.h,l=0;l<e;){if(0==u)for(;l<=n;)po(this,i,l),l+=this.blockSize;if("string"==typeof i){for(;l<e;)if(o[u++]=i.charCodeAt(l++),u==this.blockSize){po(this,o),u=0;break}}else for(;l<e;)if(o[u++]=i[l++],u==this.blockSize){po(this,o),u=0;break}}this.h=u,this.i+=e},bi.prototype.l=function(){var i=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);i[0]=128;for(var e=1;e<i.length-8;++e)i[e]=0;var n=8*this.i;for(e=i.length-8;e<i.length;++e)i[e]=255&n,n/=256;for(this.j(i),i=Array(16),e=n=0;4>e;++e)for(var o=0;32>o;o+=8)i[n++]=this.g[e]>>>o&255;return i};var aa={};function Bs(i){return-128<=i&&128>i?function Ee(i,e){var n=aa;return Object.prototype.hasOwnProperty.call(n,i)?n[i]:n[i]=e(i)}(i,function(e){return new In([0|e],0>e?-1:0)}):new In([0|i],0>i?-1:0)}function js(i){if(isNaN(i)||!isFinite(i))return oo;if(0>i)return Tr(js(-i));for(var e=[],n=1,o=0;i>=n;o++)e[o]=i/n|0,n*=Vo;return new In(e,0)}var Vo=4294967296,oo=Bs(0),Iu=Bs(1),Bo=Bs(16777216);function go(i){if(0!=i.h)return!1;for(var e=0;e<i.g.length;e++)if(0!=i.g[e])return!1;return!0}function Wi(i){return-1==i.h}function Tr(i){for(var e=i.g.length,n=[],o=0;o<e;o++)n[o]=~i.g[o];return new In(n,~i.h).add(Iu)}function ao(i,e){return i.add(Tr(e))}function E(i,e){for(;(65535&i[e])!=i[e];)i[e+1]+=i[e]>>>16,i[e]&=65535,e++}function F(i,e){this.g=i,this.h=e}function M(i,e){if(go(e))throw Error("division by zero");if(go(i))return new F(oo,oo);if(Wi(i))return e=M(Tr(i),e),new F(Tr(e.g),Tr(e.h));if(Wi(e))return e=M(i,Tr(e)),new F(Tr(e.g),e.h);if(30<i.g.length){if(Wi(i)||Wi(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Iu,o=e;0>=o.X(i);)n=k(n),o=k(o);var u=Z(n,1),l=Z(o,1);for(o=Z(o,2),n=Z(n,2);!go(o);){var f=l.add(o);0>=f.X(i)&&(u=u.add(n),l=f),o=Z(o,1),n=Z(n,1)}return e=ao(i,u.R(e)),new F(u,e)}for(u=oo;0<=i.X(e);){for(n=Math.max(1,Math.floor(i.ea()/e.ea())),o=48>=(o=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,o-48),f=(l=js(n)).R(e);Wi(f)||0<f.X(i);)f=(l=js(n-=o)).R(e);go(l)&&(l=Iu),u=u.add(l),i=ao(i,f)}return new F(u,i)}function k(i){for(var e=i.g.length+1,n=[],o=0;o<e;o++)n[o]=i.D(o)<<1|i.D(o-1)>>>31;return new In(n,i.h)}function Z(i,e){var n=e>>5;e%=32;for(var o=i.g.length-n,u=[],l=0;l<o;l++)u[l]=0<e?i.D(l+n)>>>e|i.D(l+n+1)<<32-e:i.D(l+n);return new In(u,i.h)}(oe=In.prototype).ea=function(){if(Wi(this))return-Tr(this).ea();for(var i=0,e=1,n=0;n<this.g.length;n++){var o=this.D(n);i+=(0<=o?o:Vo+o)*e,e*=Vo}return i},oe.toString=function(i){if(2>(i=i||10)||36<i)throw Error("radix out of range: "+i);if(go(this))return"0";if(Wi(this))return"-"+Tr(this).toString(i);for(var e=js(Math.pow(i,6)),n=this,o="";;){var u=M(n,e).g,l=((0<(n=ao(n,u.R(e))).g.length?n.g[0]:n.h)>>>0).toString(i);if(go(n=u))return l+o;for(;6>l.length;)l="0"+l;o=l+o}},oe.D=function(i){return 0>i?0:i<this.g.length?this.g[i]:this.h},oe.X=function(i){return Wi(i=ao(this,i))?-1:go(i)?0:1},oe.abs=function(){return Wi(this)?Tr(this):this},oe.add=function(i){for(var e=Math.max(this.g.length,i.g.length),n=[],o=0,u=0;u<=e;u++){var l=o+(65535&this.D(u))+(65535&i.D(u)),f=(l>>>16)+(this.D(u)>>>16)+(i.D(u)>>>16);o=f>>>16,n[u]=(f&=65535)<<16|(l&=65535)}return new In(n,-2147483648&n[n.length-1]?-1:0)},oe.R=function(i){if(go(this)||go(i))return oo;if(Wi(this))return Wi(i)?Tr(this).R(Tr(i)):Tr(Tr(this).R(i));if(Wi(i))return Tr(this.R(Tr(i)));if(0>this.X(Bo)&&0>i.X(Bo))return js(this.ea()*i.ea());for(var e=this.g.length+i.g.length,n=[],o=0;o<2*e;o++)n[o]=0;for(o=0;o<this.g.length;o++)for(var u=0;u<i.g.length;u++){var l=this.D(o)>>>16,f=65535&this.D(o),w=i.D(u)>>>16,x=65535&i.D(u);n[2*o+2*u]+=f*x,E(n,2*o+2*u),n[2*o+2*u+1]+=l*x,E(n,2*o+2*u+1),n[2*o+2*u+1]+=f*w,E(n,2*o+2*u+1),n[2*o+2*u+2]+=l*w,E(n,2*o+2*u+2)}for(o=0;o<e;o++)n[o]=n[2*o+1]<<16|n[2*o];for(o=e;o<2*e;o++)n[o]=0;return new In(n,0)},oe.gb=function(i){return M(this,i).h},oe.and=function(i){for(var e=Math.max(this.g.length,i.g.length),n=[],o=0;o<e;o++)n[o]=this.D(o)&i.D(o);return new In(n,this.h&i.h)},oe.or=function(i){for(var e=Math.max(this.g.length,i.g.length),n=[],o=0;o<e;o++)n[o]=this.D(o)|i.D(o);return new In(n,this.h|i.h)},oe.xor=function(i){for(var e=Math.max(this.g.length,i.g.length),n=[],o=0;o<e;o++)n[o]=this.D(o)^i.D(o);return new In(n,this.h^i.h)},so.prototype.createWebChannel=so.prototype.g,Xr.prototype.send=Xr.prototype.u,Xr.prototype.open=Xr.prototype.m,Xr.prototype.close=Xr.prototype.close,Xi.NO_ERROR=0,Xi.TIMEOUT=8,Xi.HTTP_ERROR=6,ea.COMPLETE="complete",we.EventType=Ue,Ue.OPEN="a",Ue.CLOSE="b",Ue.ERROR="c",Ue.MESSAGE="d",Bn.prototype.listen=Bn.prototype.O,_r.prototype.listenOnce=_r.prototype.P,_r.prototype.getLastError=_r.prototype.Sa,_r.prototype.getLastErrorCode=_r.prototype.Ia,_r.prototype.getStatus=_r.prototype.da,_r.prototype.getResponseJson=_r.prototype.Wa,_r.prototype.getResponseText=_r.prototype.ja,_r.prototype.send=_r.prototype.ha,_r.prototype.setWithCredentials=_r.prototype.Oa,bi.prototype.digest=bi.prototype.l,bi.prototype.reset=bi.prototype.reset,bi.prototype.update=bi.prototype.j,In.prototype.add=In.prototype.add,In.prototype.multiply=In.prototype.R,In.prototype.modulo=In.prototype.gb,In.prototype.compare=In.prototype.X,In.prototype.toNumber=In.prototype.ea,In.prototype.toString=In.prototype.toString,In.prototype.getBits=In.prototype.D,In.fromNumber=js,In.fromString=function ua(i,e){if(0==i.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==i.charAt(0))return Tr(ua(i.substring(1),e));if(0<=i.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=js(Math.pow(e,8)),o=oo,u=0;u<i.length;u+=8){var l=Math.min(8,i.length-u),f=parseInt(i.substring(u,u+l),e);8>l?(l=js(Math.pow(e,l)),o=o.R(l).add(js(f))):o=(o=o.R(n)).add(js(f))}return o};var Me=Le.createWebChannelTransport=function(){return new so},Be=Le.getStatEventTarget=function(){return pi()},Nt=Le.ErrorCode=Xi,qn=Le.EventType=ea,Jn=Le.Event=ji,xn=Le.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},sn=Le.FetchXmlHttpFactory=Kr,dr=Le.WebChannel=we,sr=Le.XhrIo=_r,ci=Le.Md5=bi,ni=Le.Integer=In;const Oi="@firebase/firestore";class Qn{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Qn.UNAUTHENTICATED=new Qn(null),Qn.GOOGLE_CREDENTIALS=new Qn("google-credentials-uid"),Qn.FIRST_PARTY=new Qn("first-party-uid"),Qn.MOCK_USER=new Qn("mock-user");let Cr="9.23.0";const Yr=new te.Vy("@firebase/firestore");function $s(){return Yr.logLevel}function Je(i,...e){if(Yr.logLevel<=te.$b.DEBUG){const n=e.map(Ka);Yr.debug(`Firestore (${Cr}): ${i}`,...n)}}function xr(i,...e){if(Yr.logLevel<=te.$b.ERROR){const n=e.map(Ka);Yr.error(`Firestore (${Cr}): ${i}`,...n)}}function Zr(i,...e){if(Yr.logLevel<=te.$b.WARN){const n=e.map(Ka);Yr.warn(`Firestore (${Cr}): ${i}`,...n)}}function Ka(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch{return i}}function It(i="Unexpected state"){const e=`FIRESTORE (${Cr}) INTERNAL ASSERTION FAILED: `+i;throw xr(e),new Error(e)}function dt(i,e){i||It()}function mt(i,e){return i}const Te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class qe extends J.g{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class $n{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class ca{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Ds{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Qn.UNAUTHENTICATED))}shutdown(){}}class la{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Cd{constructor(e){this.t=e,this.currentUser=Qn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var o=this;let u=this.i;const l=P=>this.i!==u?(u=this.i,n(P)):Promise.resolve();let f=new $n;this.o=()=>{this.i++,this.currentUser=this.u(),f.resolve(),f=new $n,e.enqueueRetryable(()=>l(this.currentUser))};const w=()=>{const P=f;e.enqueueRetryable((0,Q.A)(function*(){yield P.promise,yield l(o.currentUser)}))},x=P=>{Je("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=P,this.auth.addAuthTokenListener(this.o),w()};this.t.onInit(P=>x(P)),setTimeout(()=>{if(!this.auth){const P=this.t.getImmediate({optional:!0});P?x(P):(Je("FirebaseAuthCredentialsProvider","Auth not yet detected"),f.resolve(),f=new $n)}},0),w()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(o=>this.i!==e?(Je("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(dt("string"==typeof o.accessToken),new ca(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return dt(null===e||"string"==typeof e),new Qn(e)}}class Uc{constructor(e,n,o){this.h=e,this.l=n,this.m=o,this.type="FirstParty",this.user=Qn.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class Ts{constructor(e,n,o){this.h=e,this.l=n,this.m=o}getToken(){return Promise.resolve(new Uc(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(Qn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Qu{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Xu{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const o=l=>{null!=l.error&&Je("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const f=l.token!==this.T;return this.T=l.token,Je("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>o(l))};const u=l=>{Je("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.appCheck.addTokenListener(this.o)};this.I.onInit(l=>u(l)),setTimeout(()=>{if(!this.appCheck){const l=this.I.getImmediate({optional:!0});l?u(l):Je("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(dt("string"==typeof n.token),this.T=n.token,new Qu(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Lr(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let o=0;o<i;o++)n[o]=Math.floor(256*Math.random());return n}class da{static A(){const n=62*Math.floor(256/62);let o="";for(;o.length<20;){const u=Lr(40);for(let l=0;l<u.length;++l)o.length<20&&u[l]<n&&(o+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(u[l]%62))}return o}}function Ot(i,e){return i<e?-1:i>e?1:0}function Gt(i,e,n){return i.length===e.length&&i.every((o,u)=>n(o,e[u]))}class $r{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new qe(Te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new qe(Te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new qe(Te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new qe(Te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return $r.fromMillis(Date.now())}static fromDate(e){return $r.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),o=Math.floor(1e6*(e-1e3*n));return new $r(n,o)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ot(this.nanoseconds,e.nanoseconds):Ot(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Ft{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ft(e)}static min(){return new Ft(new $r(0,0))}static max(){return new Ft(new $r(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Ma{constructor(e,n,o){void 0===n?n=0:n>e.length&&It(),void 0===o?o=e.length-n:o>e.length-n&&It(),this.segments=e,this.offset=n,this.len=o}get length(){return this.len}isEqual(e){return 0===Ma.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ma?e.forEach(o=>{n.push(o)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,o=this.limit();n<o;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const o=Math.min(e.length,n.length);for(let u=0;u<o;u++){const l=e.get(u),f=n.get(u);if(l<f)return-1;if(l>f)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Fn extends Ma{construct(e,n,o){return new Fn(e,n,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const o of e){if(o.indexOf("//")>=0)throw new qe(Te.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);n.push(...o.split("/").filter(u=>u.length>0))}return new Fn(n)}static emptyPath(){return new Fn([])}}const ha=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class or extends Ma{construct(e,n,o){return new or(e,n,o)}static isValidIdentifier(e){return ha.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),or.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new or(["__name__"])}static fromServerFormat(e){const n=[];let o="",u=0;const l=()=>{if(0===o.length)throw new qe(Te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(o),o=""};let f=!1;for(;u<e.length;){const w=e[u];if("\\"===w){if(u+1===e.length)throw new qe(Te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const x=e[u+1];if("\\"!==x&&"."!==x&&"`"!==x)throw new qe(Te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=x,u+=2}else"`"===w?(f=!f,u++):"."!==w||f?(o+=w,u++):(l(),u++)}if(l(),f)throw new qe(Te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new or(n)}static emptyPath(){return new or([])}}class ft{constructor(e){this.path=e}static fromPath(e){return new ft(Fn.fromString(e))}static fromName(e){return new ft(Fn.fromString(e).popFirst(5))}static empty(){return new ft(Fn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Fn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return Fn.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ft(new Fn(e.slice()))}}function li(i){return new cs(i.readTime,i.key,-1)}class cs{constructor(e,n,o){this.readTime=e,this.documentKey=n,this.largestBatchId=o}static min(){return new cs(Ft.min(),ft.empty(),-1)}static max(){return new cs(Ft.max(),ft.empty(),-1)}}function zo(i,e){let n=i.readTime.compareTo(e.readTime);return 0!==n?n:(n=ft.comparator(i.documentKey,e.documentKey),0!==n?n:Ot(i.largestBatchId,e.largestBatchId))}const ls="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class qa{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Cs(i){return Qa.apply(this,arguments)}function Qa(){return Qa=(0,Q.A)(function*(i){if(i.code!==Te.FAILED_PRECONDITION||i.message!==ls)throw i;Je("LocalStore","Unexpectedly lost primary lease")}),Qa.apply(this,arguments)}class Ce{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&It(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Ce((o,u)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(o,u)},this.catchCallback=l=>{this.wrapFailure(n,l).next(o,u)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Ce?n:Ce.resolve(n)}catch(n){return Ce.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Ce.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Ce.reject(n)}static resolve(e){return new Ce((n,o)=>{n(e)})}static reject(e){return new Ce((n,o)=>{o(e)})}static waitFor(e){return new Ce((n,o)=>{let u=0,l=0,f=!1;e.forEach(w=>{++u,w.next(()=>{++l,f&&l===u&&n()},x=>o(x))}),f=!0,l===u&&n()})}static or(e){let n=Ce.resolve(!1);for(const o of e)n=n.next(u=>u?Ce.resolve(u):o());return n}static forEach(e,n){const o=[];return e.forEach((u,l)=>{o.push(n.call(this,u,l))}),this.waitFor(o)}static mapArray(e,n){return new Ce((o,u)=>{const l=e.length,f=new Array(l);let w=0;for(let x=0;x<l;x++){const P=x;n(e[P]).next(z=>{f[P]=z,++w,w===l&&o(f)},z=>u(z))}})}static doWhile(e,n){return new Ce((o,u)=>{const l=()=>{!0===e()?n().next(()=>{l()},u):o()};l()})}}function ds(i){return"IndexedDbTransactionError"===i.name}let y=(()=>{class i{constructor(n,o){this.previousValue=n,o&&(o.sequenceNumberHandler=u=>this.ot(u),this.ut=u=>o.writeSequenceNumber(u))}ot(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.ut&&this.ut(n),n}}return i.ct=-1,i})();function T(i){return null==i}function m(i){return 0===i&&1/i==-1/0}function Du(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function Oa(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function jc(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class pr{constructor(e,n){this.comparator=e,this.root=n||Ki.EMPTY}insert(e,n){return new pr(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ki.BLACK,null,null))}remove(e){return new pr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ki.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const o=this.comparator(e,n.key);if(0===o)return n.value;o<0?n=n.left:o>0&&(n=n.right)}return null}indexOf(e){let n=0,o=this.root;for(;!o.isEmpty();){const u=this.comparator(e,o.key);if(0===u)return n+o.left.size;u<0?o=o.left:(n+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,o)=>(e(n,o),!1))}toString(){const e=[];return this.inorderTraversal((n,o)=>(e.push(`${n}:${o}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ja(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ja(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ja(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ja(this.root,e,this.comparator,!0)}}class Ja{constructor(e,n,o,u){this.isReverse=u,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?o(e.key,n):1,n&&u&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(0===l){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ki{constructor(e,n,o,u,l){this.key=e,this.value=n,this.color=o??Ki.RED,this.left=u??Ki.EMPTY,this.right=l??Ki.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,o,u,l){return new Ki(e??this.key,n??this.value,o??this.color,u??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,o){let u=this;const l=o(e,u.key);return u=l<0?u.copy(null,null,null,u.left.insert(e,n,o),null):0===l?u.copy(null,n,null,null,null):u.copy(null,null,null,null,u.right.insert(e,n,o)),u.fixUp()}removeMin(){if(this.left.isEmpty())return Ki.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let o,u=this;if(n(e,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(e,n),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),0===n(e,u.key)){if(u.right.isEmpty())return Ki.EMPTY;o=u.right.min(),u=u.copy(o.key,o.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(e,n))}return u.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ki.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ki.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw It();const e=this.left.check();if(e!==this.right.check())throw It();return e+(this.isRed()?0:1)}}Ki.EMPTY=null,Ki.RED=!0,Ki.BLACK=!1,Ki.EMPTY=new class{constructor(){this.size=0}get key(){throw It()}get value(){throw It()}get color(){throw It()}get left(){throw It()}get right(){throw It()}copy(i,e,n,o,u){return this}insert(i,e,n){return new Ki(i,e)}remove(i,e){return this}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Fr{constructor(e){this.comparator=e,this.data=new pr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,o)=>(e(n),!1))}forEachInRange(e,n){const o=this.data.getIteratorFrom(e[0]);for(;o.hasNext();){const u=o.getNext();if(this.comparator(u.key,e[1])>=0)return;n(u.key)}}forEachWhile(e,n){let o;for(o=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();o.hasNext();)if(!e(o.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Tl(this.data.getIterator())}getIteratorFrom(e){return new Tl(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(o=>{n=n.add(o)}),n}isEqual(e){if(!(e instanceof Fr)||this.size!==e.size)return!1;const n=this.data.getIterator(),o=e.data.getIterator();for(;n.hasNext();){const u=n.getNext().key,l=o.getNext().key;if(0!==this.comparator(u,l))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Fr(this.comparator);return n.data=e,n}}class Tl{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class hs{constructor(e){this.fields=e,e.sort(or.comparator)}static empty(){return new hs([])}unionWith(e){let n=new Fr(or.comparator);for(const o of this.fields)n=n.add(o);for(const o of e)n=n.add(o);return new hs(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Gt(this.fields,e.fields,(n,o)=>n.isEqual(o))}}class tu extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class di{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new tu("Invalid base64 string: "+u):u}}(e);return new di(n)}static fromUint8Array(e){const n=function(o){let u="";for(let l=0;l<o.length;++l)u+=String.fromCharCode(o[l]);return u}(e);return new di(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let o=0;o<e.length;o++)n[o]=e.charCodeAt(o);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ot(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}di.EMPTY_BYTE_STRING=new di("");const $c=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ss(i){if(dt(!!i),"string"==typeof i){let e=0;const n=$c.exec(i);if(dt(!!n),n[1]){let u=n[1];u=(u+"000000000").substr(0,9),e=Number(u)}const o=new Date(i);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:Ii(i.seconds),nanos:Ii(i.nanos)}}function Ii(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function _o(i){return"string"==typeof i?di.fromBase64String(i):di.fromUint8Array(i)}function ga(i){var e,n;return"server_timestamp"===(null===(n=((null===(e=i?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Hc(i){const e=i.mapValue.fields.__previous_value__;return ga(e)?Hc(e):e}function Pi(i){const e=Ss(i.mapValue.fields.__local_write_time__.timestampValue);return new $r(e.seconds,e.nanos)}class sc{constructor(e,n,o,u,l,f,w,x,P){this.databaseId=e,this.appId=n,this.persistenceKey=o,this.host=u,this.ssl=l,this.forceLongPolling=f,this.autoDetectLongPolling=w,this.longPollingOptions=x,this.useFetchStreams=P}}class Ms{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Ms("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Ms&&e.projectId===this.projectId&&e.database===this.database}}const Hs={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function zs(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?ga(i)?4:ki(i)?9007199254740991:10:It()}function xs(i,e){if(i===e)return!0;const n=zs(i);if(n!==zs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Pi(i).isEqual(Pi(e));case 3:return function(o,u){if("string"==typeof o.timestampValue&&"string"==typeof u.timestampValue&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const l=Ss(o.timestampValue),f=Ss(u.timestampValue);return l.seconds===f.seconds&&l.nanos===f.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return u=e,_o(i.bytesValue).isEqual(_o(u.bytesValue));case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,u){return Ii(o.geoPointValue.latitude)===Ii(u.geoPointValue.latitude)&&Ii(o.geoPointValue.longitude)===Ii(u.geoPointValue.longitude)}(i,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return Ii(o.integerValue)===Ii(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const l=Ii(o.doubleValue),f=Ii(u.doubleValue);return l===f?m(l)===m(f):isNaN(l)&&isNaN(f)}return!1}(i,e);case 9:return Gt(i.arrayValue.values||[],e.arrayValue.values||[],xs);case 10:return function(o,u){const l=o.mapValue.fields||{},f=u.mapValue.fields||{};if(Du(l)!==Du(f))return!1;for(const w in l)if(l.hasOwnProperty(w)&&(void 0===f[w]||!xs(l[w],f[w])))return!1;return!0}(i,e);default:return It()}var u}function Tu(i,e){return void 0!==(i.values||[]).find(n=>xs(n,e))}function Wo(i,e){if(i===e)return 0;const n=zs(i),o=zs(e);if(n!==o)return Ot(n,o);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ot(i.booleanValue,e.booleanValue);case 2:return function(u,l){const f=Ii(u.integerValue||u.doubleValue),w=Ii(l.integerValue||l.doubleValue);return f<w?-1:f>w?1:f===w?0:isNaN(f)?isNaN(w)?0:-1:1}(i,e);case 3:return bl(i.timestampValue,e.timestampValue);case 4:return bl(Pi(i),Pi(e));case 5:return Ot(i.stringValue,e.stringValue);case 6:return function(u,l){const f=_o(u),w=_o(l);return f.compareTo(w)}(i.bytesValue,e.bytesValue);case 7:return function(u,l){const f=u.split("/"),w=l.split("/");for(let x=0;x<f.length&&x<w.length;x++){const P=Ot(f[x],w[x]);if(0!==P)return P}return Ot(f.length,w.length)}(i.referenceValue,e.referenceValue);case 8:return function(u,l){const f=Ot(Ii(u.latitude),Ii(l.latitude));return 0!==f?f:Ot(Ii(u.longitude),Ii(l.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return function(u,l){const f=u.values||[],w=l.values||[];for(let x=0;x<f.length&&x<w.length;++x){const P=Wo(f[x],w[x]);if(P)return P}return Ot(f.length,w.length)}(i.arrayValue,e.arrayValue);case 10:return function(u,l){if(u===Hs.mapValue&&l===Hs.mapValue)return 0;if(u===Hs.mapValue)return 1;if(l===Hs.mapValue)return-1;const f=u.fields||{},w=Object.keys(f),x=l.fields||{},P=Object.keys(x);w.sort(),P.sort();for(let z=0;z<w.length&&z<P.length;++z){const ee=Ot(w[z],P[z]);if(0!==ee)return ee;const De=Wo(f[w[z]],x[P[z]]);if(0!==De)return De}return Ot(w.length,P.length)}(i.mapValue,e.mapValue);default:throw It()}}function bl(i,e){if("string"==typeof i&&"string"==typeof e&&i.length===e.length)return Ot(i,e);const n=Ss(i),o=Ss(e),u=Ot(n.seconds,o.seconds);return 0!==u?u:Ot(n.nanos,o.nanos)}function Pa(i){return nu(i)}function nu(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(o){const u=Ss(o);return`time(${u.seconds},${u.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?_o(i.bytesValue).toBase64():"referenceValue"in i?ft.fromName(i.referenceValue).toString():"geoPointValue"in i?`geo(${(e=i.geoPointValue).latitude},${e.longitude})`:"arrayValue"in i?function(o){let u="[",l=!0;for(const f of o.values||[])l?l=!1:u+=",",u+=nu(f);return u+"]"}(i.arrayValue):"mapValue"in i?function(o){const u=Object.keys(o.fields||{}).sort();let l="{",f=!0;for(const w of u)f?f=!1:l+=",",l+=`${w}:${nu(o.fields[w])}`;return l+"}"}(i.mapValue):It();var e}function Io(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function qo(i){return!!i&&"integerValue"in i}function ka(i){return!!i&&"arrayValue"in i}function Qo(i){return!!i&&"nullValue"in i}function zc(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function fs(i){return!!i&&"mapValue"in i}function oc(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return Oa(i.mapValue.fields,(n,o)=>e.mapValue.fields[n]=oc(o)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=oc(i.arrayValue.values[n]);return e}return Object.assign({},i)}function ki(i){return"__max__"===(((i.mapValue||{}).fields||{}).__type__||{}).stringValue}class _{constructor(e){this.value=e}static empty(){return new _({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let o=0;o<e.length-1;++o)if(n=(n.mapValue.fields||{})[e.get(o)],!fs(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=oc(n)}setAll(e){let n=or.emptyPath(),o={},u=[];e.forEach((f,w)=>{if(!n.isImmediateParentOf(w)){const x=this.getFieldsMap(n);this.applyChanges(x,o,u),o={},u=[],n=w.popLast()}f?o[w.lastSegment()]=oc(f):u.push(w.lastSegment())});const l=this.getFieldsMap(n);this.applyChanges(l,o,u)}delete(e){const n=this.field(e.popLast());fs(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return xs(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let o=0;o<e.length;++o){let u=n.mapValue.fields[e.get(o)];fs(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},n.mapValue.fields[e.get(o)]=u),n=u}return n.mapValue.fields}applyChanges(e,n,o){Oa(n,(u,l)=>e[u]=l);for(const u of o)delete e[u]}clone(){return new _(oc(this.value))}}function A(i){const e=[];return Oa(i.fields,(n,o)=>{const u=new or([n]);if(fs(o)){const l=A(o.mapValue).fields;if(0===l.length)e.push(u);else for(const f of l)e.push(u.child(f))}else e.push(u)}),new hs(e)}class O{constructor(e,n,o,u,l,f,w){this.key=e,this.documentType=n,this.version=o,this.readTime=u,this.createTime=l,this.data=f,this.documentState=w}static newInvalidDocument(e){return new O(e,0,Ft.min(),Ft.min(),Ft.min(),_.empty(),0)}static newFoundDocument(e,n,o,u){return new O(e,1,n,Ft.min(),o,u,0)}static newNoDocument(e,n){return new O(e,2,n,Ft.min(),Ft.min(),_.empty(),0)}static newUnknownDocument(e,n){return new O(e,3,n,Ft.min(),Ft.min(),_.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ft.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=_.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=_.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ft.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof O&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new O(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class q{constructor(e,n){this.position=e,this.inclusive=n}}function ie(i,e,n){let o=0;for(let u=0;u<i.position.length;u++){const l=e[u],f=i.position[u];if(o=l.field.isKeyField()?ft.comparator(ft.fromName(f.referenceValue),n.key):Wo(f,n.data.field(l.field)),"desc"===l.dir&&(o*=-1),0!==o)break}return o}function pe(i,e){if(null===i)return null===e;if(null===e||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!xs(i.position[n],e.position[n]))return!1;return!0}class Ne{constructor(e,n="asc"){this.field=e,this.dir=n}}function pt(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}class yt{}class ot extends yt{constructor(e,n,o){super(),this.field=e,this.op=n,this.value=o}static create(e,n,o){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,o):new ri(e,n,o):"array-contains"===n?new Eo(e,o):"in"===n?new lc(e,o):"not-in"===n?new _p(e,o):"array-contains-any"===n?new dc(e,o):new ot(e,n,o)}static createKeyFieldInFilter(e,n,o){return"in"===n?new vp(e,o):new Gc(e,o)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(Wo(n,this.value)):null!==n&&zs(this.value)===zs(n)&&this.matchesComparison(Wo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return It()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class wt extends yt{constructor(e,n){super(),this.filters=e,this.op=n,this.lt=null}static create(e,n){return new wt(e,n)}matches(e){return un(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(n=>n.isInequality());return null!==e?e.field:null}ft(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function un(i){return"and"===i.op}function Li(i){return function uc(i){for(const e of i.filters)if(e instanceof wt)return!1;return!0}(i)&&un(i)}function cc(i){if(i instanceof ot)return i.field.canonicalString()+i.op.toString()+Pa(i.value);if(Li(i))return i.filters.map(e=>cc(e)).join(",");{const e=i.filters.map(n=>cc(n)).join(",");return`${i.op}(${e})`}}function uo(i,e){return i instanceof ot?(n=i,(o=e)instanceof ot&&n.op===o.op&&n.field.isEqual(o.field)&&xs(n.value,o.value)):i instanceof wt?function(n,o){return o instanceof wt&&n.op===o.op&&n.filters.length===o.filters.length&&n.filters.reduce((u,l,f)=>u&&uo(l,o.filters[f]),!0)}(i,e):void It();var n,o}function Xo(i){return i instanceof ot?`${(e=i).field.canonicalString()} ${e.op} ${Pa(e.value)}`:i instanceof wt?function(e){return e.op.toString()+" {"+e.getFilters().map(Xo).join(" ,")+"}"}(i):"Filter";var e}class ri extends ot{constructor(e,n,o){super(e,n,o),this.key=ft.fromName(o.referenceValue)}matches(e){const n=ft.comparator(e.key,this.key);return this.matchesComparison(n)}}class vp extends ot{constructor(e,n){super(e,"in",n),this.keys=Ad(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Gc extends ot{constructor(e,n){super(e,"not-in",n),this.keys=Ad(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Ad(i,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(o=>ft.fromName(o.referenceValue))}class Eo extends ot{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return ka(n)&&Tu(n.arrayValue,this.value)}}class lc extends ot{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&Tu(this.value.arrayValue,n)}}class _p extends ot{constructor(e,n){super(e,"not-in",n)}matches(e){if(Tu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!Tu(this.value.arrayValue,n)}}class dc extends ot{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!ka(n)||!n.arrayValue.values)&&n.arrayValue.values.some(o=>Tu(this.value.arrayValue,o))}}class hc{constructor(e,n=null,o=[],u=[],l=null,f=null,w=null){this.path=e,this.collectionGroup=n,this.orderBy=o,this.filters=u,this.limit=l,this.startAt=f,this.endAt=w,this.dt=null}}function fc(i,e=null,n=[],o=[],u=null,l=null,f=null){return new hc(i,e,n,o,u,l,f)}function Cu(i){const e=mt(i);if(null===e.dt){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(o=>cc(o)).join(","),n+="|ob:",n+=e.orderBy.map(o=>{return(u=o).field.canonicalString()+u.dir;var u}).join(","),T(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(o=>Pa(o)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(o=>Pa(o)).join(",")),e.dt=n}return e.dt}function pc(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!pt(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!uo(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!pe(i.startAt,e.startAt)&&pe(i.endAt,e.endAt)}function Sd(i){return ft.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}class ru{constructor(e,n=null,o=[],u=[],l=null,f="F",w=null,x=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=o,this.filters=u,this.limit=l,this.limitType=f,this.startAt=w,this.endAt=x,this.wt=null,this._t=null}}function gc(i){return new ru(i)}function Oh(i){return 0===i.filters.length&&null===i.limit&&null==i.startAt&&null==i.endAt&&(0===i.explicitOrderBy.length||1===i.explicitOrderBy.length&&i.explicitOrderBy[0].field.isKeyField())}function Rl(i){return i.explicitOrderBy.length>0?i.explicitOrderBy[0].field:null}function Au(i){for(const e of i.filters){const n=e.getFirstInequalityField();if(null!==n)return n}return null}function Nl(i){return null!==i.collectionGroup}function mc(i){const e=mt(i);if(null===e.wt){e.wt=[];const n=Au(e),o=Rl(e);if(null!==n&&null===o)n.isKeyField()||e.wt.push(new Ne(n)),e.wt.push(new Ne(or.keyField(),"asc"));else{let u=!1;for(const l of e.explicitOrderBy)e.wt.push(l),l.field.isKeyField()&&(u=!0);if(!u){const l=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Ne(or.keyField(),l))}}}return e.wt}function qi(i){const e=mt(i);if(!e._t)if("F"===e.limitType)e._t=fc(e.path,e.collectionGroup,mc(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const l of mc(e))n.push(new Ne(l.field,"desc"===l.dir?"asc":"desc"));const o=e.endAt?new q(e.endAt.position,e.endAt.inclusive):null,u=e.startAt?new q(e.startAt.position,e.startAt.inclusive):null;e._t=fc(e.path,e.collectionGroup,n,e.filters,e.limit,o,u)}return e._t}function yc(i,e){e.getFirstInequalityField(),Au(i);const n=i.filters.concat([e]);return new ru(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function Ol(i,e,n){return new ru(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function iu(i,e){return pc(qi(i),qi(e))&&i.limitType===e.limitType}function Ph(i){return`${Cu(qi(i))}|lt:${i.limitType}`}function vc(i){return`Query(target=${function(e){let n=e.path.canonicalString();return null!==e.collectionGroup&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(o=>Xo(o)).join(", ")}]`),T(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(o=>{return`${(u=o).field.canonicalString()} (${u.dir})`;var u}).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(o=>Pa(o)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(o=>Pa(o)).join(",")),`Target(${n})`}(qi(i))}; limitType=${i.limitType})`}function Wc(i,e){return e.isFoundDocument()&&function(n,o){const u=o.key.path;return null!==n.collectionGroup?o.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(u):ft.isDocumentKey(n.path)?n.path.isEqual(u):n.path.isImmediateParentOf(u)}(i,e)&&function(n,o){for(const u of mc(n))if(!u.field.isKeyField()&&null===o.data.field(u.field))return!1;return!0}(i,e)&&function(n,o){for(const u of n.filters)if(!u.matches(o))return!1;return!0}(i,e)&&(o=e,!((n=i).startAt&&!function(u,l,f){const w=ie(u,l,f);return u.inclusive?w<=0:w<0}(n.startAt,mc(n),o)||n.endAt&&!function(u,l,f){const w=ie(u,l,f);return u.inclusive?w>=0:w>0}(n.endAt,mc(n),o)));var n,o}function Md(i){return(e,n)=>{let o=!1;for(const u of mc(i)){const l=xd(u,e,n);if(0!==l)return l;o=o||u.field.isKeyField()}return 0}}function xd(i,e,n){const o=i.field.isKeyField()?ft.comparator(e.key,n.key):function(u,l,f){const w=l.data.field(u),x=f.data.field(u);return null!==w&&null!==x?Wo(w,x):It()}(i.field,e,n);switch(i.dir){case"asc":return o;case"desc":return-1*o;default:return It()}}class La{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),o=this.inner[n];if(void 0!==o)for(const[u,l]of o)if(this.equalsFn(u,e))return l}has(e){return void 0!==this.get(e)}set(e,n){const o=this.mapKeyFn(e),u=this.inner[o];if(void 0===u)return this.inner[o]=[[e,n]],void this.innerSize++;for(let l=0;l<u.length;l++)if(this.equalsFn(u[l][0],e))return void(u[l]=[e,n]);u.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),o=this.inner[n];if(void 0===o)return!1;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return 1===o.length?delete this.inner[n]:o.splice(u,1),this.innerSize--,!0;return!1}forEach(e){Oa(this.inner,(n,o)=>{for(const[u,l]of o)e(u,l)})}isEmpty(){return jc(this.inner)}size(){return this.innerSize}}const cm=new pr(ft.comparator);function wo(){return cm}const _c=new pr(ft.comparator);function su(...i){let e=_c;for(const n of i)e=e.insert(n.key,n);return e}function Ip(i){let e=_c;return i.forEach((n,o)=>e=e.insert(n,o.overlayedDocument)),e}function ou(){return Pl()}function Lh(){return Pl()}function Pl(){return new La(i=>i.toString(),(i,e)=>i.isEqual(e))}const lm=new pr(ft.comparator),dm=new Fr(ft.comparator);function bn(...i){let e=dm;for(const n of i)e=e.add(n);return e}const hm=new Fr(Ot);function Fh(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:m(e)?"-0":e}}function Ep(i){return{integerValue:""+i}}function Uh(i,e){return function b(i){return"number"==typeof i&&Number.isInteger(i)&&!m(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}(e)?Ep(e):Fh(i,e)}class Vh{constructor(){this._=void 0}}function wp(i,e,n){return i instanceof qc?function(o,u){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&ga(u)&&(u=Hc(u)),u&&(l.fields.__previous_value__=u),{mapValue:l}}(n,e):i instanceof au?fm(i,e):i instanceof Qc?Rd(i,e):function(o,u){const l=Dp(o,u),f=pm(l)+pm(o.gt);return qo(l)&&qo(o.gt)?Ep(f):Fh(o.serializer,f)}(i,e)}function Nv(i,e,n){return i instanceof au?fm(i,e):i instanceof Qc?Rd(i,e):n}function Dp(i,e){return i instanceof kl?qo(n=e)||(o=n)&&"doubleValue"in o?e:{integerValue:0}:null;var o,n}class qc extends Vh{}class au extends Vh{constructor(e){super(),this.elements=e}}function fm(i,e){const n=gm(e);for(const o of i.elements)n.some(u=>xs(u,o))||n.push(o);return{arrayValue:{values:n}}}class Qc extends Vh{constructor(e){super(),this.elements=e}}function Rd(i,e){let n=gm(e);for(const o of i.elements)n=n.filter(u=>!xs(u,o));return{arrayValue:{values:n}}}class kl extends Vh{constructor(e,n){super(),this.serializer=e,this.gt=n}}function pm(i){return Ii(i.integerValue||i.doubleValue)}function gm(i){return ka(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class mm{constructor(e,n){this.version=e,this.transformResults=n}}class Hr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Hr}static exists(e){return new Hr(void 0,e)}static updateTime(e){return new Hr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ic(i,e){return void 0!==i.updateTime?e.isFoundDocument()&&e.version.isEqual(i.updateTime):void 0===i.exists||i.exists===e.isFoundDocument()}class Ll{}function Bh(i,e){if(!i.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return i.isNoDocument()?new Xc(i.key,Hr.none()):new uu(i.key,i.data,Hr.none());{const n=i.data,o=_.empty();let u=new Fr(or.comparator);for(let l of e.fields)if(!u.has(l)){let f=n.field(l);null===f&&l.length>1&&(l=l.popLast(),f=n.field(l)),null===f?o.delete(l):o.set(l,f),u=u.add(l)}return new Po(i.key,o,new hs(u.toArray()),Hr.none())}}function jh(i,e,n){i instanceof uu?function(o,u,l){const f=o.value.clone(),w=Cp(o.fieldTransforms,u,l.transformResults);f.setAll(w),u.convertToFoundDocument(l.version,f).setHasCommittedMutations()}(i,e,n):i instanceof Po?function(o,u,l){if(!Ic(o.precondition,u))return void u.convertToUnknownDocument(l.version);const f=Cp(o.fieldTransforms,u,l.transformResults),w=u.data;w.setAll(Fl(o)),w.setAll(f),u.convertToFoundDocument(l.version,w).setHasCommittedMutations()}(i,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function Fa(i,e,n,o){return i instanceof uu?function(u,l,f,w){if(!Ic(u.precondition,l))return f;const x=u.value.clone(),P=bp(u.fieldTransforms,w,l);return x.setAll(P),l.convertToFoundDocument(l.version,x).setHasLocalMutations(),null}(i,e,n,o):i instanceof Po?function(u,l,f,w){if(!Ic(u.precondition,l))return f;const x=bp(u.fieldTransforms,w,l),P=l.data;return P.setAll(Fl(u)),P.setAll(x),l.convertToFoundDocument(l.version,P).setHasLocalMutations(),null===f?null:f.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(z=>z.field))}(i,e,n,o):(f=n,Ic(i.precondition,l=e)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):f);var l,f}function Tp(i,e){let n=null;for(const o of i.fieldTransforms){const u=e.data.field(o.field),l=Dp(o.transform,u||null);null!=l&&(null===n&&(n=_.empty()),n.set(o.field,l))}return n||null}function $h(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&(o=e.fieldTransforms,!!(void 0===(n=i.fieldTransforms)&&void 0===o||n&&o&&Gt(n,o,(u,l)=>function Ov(i,e){return i.field.isEqual(e.field)&&(o=e.transform,(n=i.transform)instanceof au&&o instanceof au||n instanceof Qc&&o instanceof Qc?Gt(n.elements,o.elements,xs):n instanceof kl&&o instanceof kl?xs(n.gt,o.gt):n instanceof qc&&o instanceof qc);var n,o}(u,l))))&&(0===i.type?i.value.isEqual(e.value):1!==i.type||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask));var n,o}class uu extends Ll{constructor(e,n,o,u=[]){super(),this.key=e,this.value=n,this.precondition=o,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class Po extends Ll{constructor(e,n,o,u,l=[]){super(),this.key=e,this.data=n,this.fieldMask=o,this.precondition=u,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function Fl(i){const e=new Map;return i.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const o=i.data.field(n);e.set(n,o)}}),e}function Cp(i,e,n){const o=new Map;dt(i.length===n.length);for(let u=0;u<n.length;u++){const l=i[u],f=l.transform,w=e.data.field(l.field);o.set(l.field,Nv(f,w,n[u]))}return o}function bp(i,e,n){const o=new Map;for(const u of i){const l=u.transform,f=n.data.field(u.field);o.set(u.field,wp(l,f,e))}return o}class Xc extends Ll{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Od extends Ll{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Ul{constructor(e,n,o,u){this.batchId=e,this.localWriteTime=n,this.baseMutations=o,this.mutations=u}applyToRemoteDocument(e,n){const o=n.mutationResults;for(let u=0;u<this.mutations.length;u++){const l=this.mutations[u];l.key.isEqual(e.key)&&jh(l,e,o[u])}}applyToLocalView(e,n){for(const o of this.baseMutations)o.key.isEqual(e.key)&&(n=Fa(o,e,n,this.localWriteTime));for(const o of this.mutations)o.key.isEqual(e.key)&&(n=Fa(o,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const o=Lh();return this.mutations.forEach(u=>{const l=e.get(u.key),f=l.overlayedDocument;let w=this.applyToLocalView(f,l.mutatedFields);w=n.has(u.key)?null:w;const x=Bh(f,w);null!==x&&o.set(u.key,x),f.isValidDocument()||f.convertToNoDocument(Ft.min())}),o}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),bn())}isEqual(e){return this.batchId===e.batchId&&Gt(this.mutations,e.mutations,(n,o)=>$h(n,o))&&Gt(this.baseMutations,e.baseMutations,(n,o)=>$h(n,o))}}class Hh{constructor(e,n,o,u){this.batch=e,this.commitVersion=n,this.mutationResults=o,this.docVersions=u}static from(e,n,o){dt(e.mutations.length===o.length);let u=lm;const l=e.mutations;for(let f=0;f<l.length;f++)u=u.insert(l[f].key,o[f].version);return new Hh(e,n,o,u)}}class zh{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class I{constructor(e,n){this.count=e,this.unchangedNames=n}}var h,p;function L(i){if(void 0===i)return xr("GRPC error has no .code"),Te.UNKNOWN;switch(i){case h.OK:return Te.OK;case h.CANCELLED:return Te.CANCELLED;case h.UNKNOWN:return Te.UNKNOWN;case h.DEADLINE_EXCEEDED:return Te.DEADLINE_EXCEEDED;case h.RESOURCE_EXHAUSTED:return Te.RESOURCE_EXHAUSTED;case h.INTERNAL:return Te.INTERNAL;case h.UNAVAILABLE:return Te.UNAVAILABLE;case h.UNAUTHENTICATED:return Te.UNAUTHENTICATED;case h.INVALID_ARGUMENT:return Te.INVALID_ARGUMENT;case h.NOT_FOUND:return Te.NOT_FOUND;case h.ALREADY_EXISTS:return Te.ALREADY_EXISTS;case h.PERMISSION_DENIED:return Te.PERMISSION_DENIED;case h.FAILED_PRECONDITION:return Te.FAILED_PRECONDITION;case h.ABORTED:return Te.ABORTED;case h.OUT_OF_RANGE:return Te.OUT_OF_RANGE;case h.UNIMPLEMENTED:return Te.UNIMPLEMENTED;case h.DATA_LOSS:return Te.DATA_LOSS;default:return It()}}(p=h||(h={}))[p.OK=0]="OK",p[p.CANCELLED=1]="CANCELLED",p[p.UNKNOWN=2]="UNKNOWN",p[p.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",p[p.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",p[p.NOT_FOUND=5]="NOT_FOUND",p[p.ALREADY_EXISTS=6]="ALREADY_EXISTS",p[p.PERMISSION_DENIED=7]="PERMISSION_DENIED",p[p.UNAUTHENTICATED=16]="UNAUTHENTICATED",p[p.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",p[p.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",p[p.ABORTED=10]="ABORTED",p[p.OUT_OF_RANGE=11]="OUT_OF_RANGE",p[p.UNIMPLEMENTED=12]="UNIMPLEMENTED",p[p.INTERNAL=13]="INTERNAL",p[p.UNAVAILABLE=14]="UNAVAILABLE",p[p.DATA_LOSS=15]="DATA_LOSS";class W{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return de}static getOrCreateInstance(){return null===de&&(de=new W),de}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let de=null;const at=new ni([4294967295,4294967295],0);function At(i){const e=function _e(){return new TextEncoder}().encode(i),n=new ci;return n.update(e),new Uint8Array(n.digest())}function on(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),o=e.getUint32(4,!0),u=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new ni([n,o],0),new ni([u,l],0)]}class ln{constructor(e,n,o){if(this.bitmap=e,this.padding=n,this.hashCount=o,n<0||n>=8)throw new ur(`Invalid padding: ${n}`);if(o<0)throw new ur(`Invalid hash count: ${o}`);if(e.length>0&&0===this.hashCount)throw new ur(`Invalid hash count: ${o}`);if(0===e.length&&0!==n)throw new ur(`Invalid padding when bitmap length is 0: ${n}`);this.It=8*e.length-n,this.Tt=ni.fromNumber(this.It)}Et(e,n,o){let u=e.add(n.multiply(ni.fromNumber(o)));return 1===u.compare(at)&&(u=new ni([u.getBits(0),u.getBits(1)],0)),u.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const n=At(e),[o,u]=on(n);for(let l=0;l<this.hashCount;l++){const f=this.Et(o,u,l);if(!this.At(f))return!1}return!0}static create(e,n,o){const u=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),f=new ln(l,u,n);return o.forEach(w=>f.insert(w)),f}insert(e){if(0===this.It)return;const n=At(e),[o,u]=on(n);for(let l=0;l<this.hashCount;l++){const f=this.Et(o,u,l);this.Rt(f)}}Rt(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class ur extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class co{constructor(e,n,o,u,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=o,this.documentUpdates=u,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,o){const u=new Map;return u.set(e,Yo.createSynthesizedTargetChangeForCurrentChange(e,n,o)),new co(Ft.min(),u,new pr(Ot),wo(),bn())}}class Yo{constructor(e,n,o,u,l){this.resumeToken=e,this.current=n,this.addedDocuments=o,this.modifiedDocuments=u,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,o){return new Yo(o,n,bn(),bn(),bn())}}class Ua{constructor(e,n,o,u){this.Pt=e,this.removedTargetIds=n,this.key=o,this.bt=u}}class Yc{constructor(e,n){this.targetId=e,this.Vt=n}}class Pd{constructor(e,n,o=di.EMPTY_BYTE_STRING,u=null){this.state=e,this.targetIds=n,this.resumeToken=o,this.cause=u}}class kd{constructor(){this.St=0,this.Dt=Ld(),this.Ct=di.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=bn(),n=bn(),o=bn();return this.Dt.forEach((u,l)=>{switch(l){case 0:e=e.add(u);break;case 2:n=n.add(u);break;case 1:o=o.add(u);break;default:It()}}),new Yo(this.Ct,this.xt,e,n,o)}Ft(){this.Nt=!1,this.Dt=Ld()}Bt(e,n){this.Nt=!0,this.Dt=this.Dt.insert(e,n)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class Zc{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=wo(),this.zt=Jc(),this.Wt=new pr(Ot)}Ht(e){for(const n of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(n,e.bt):this.Yt(n,e.key,e.bt);for(const n of e.removedTargetIds)this.Yt(n,e.key,e.bt)}Xt(e){this.forEachTarget(e,n=>{const o=this.Zt(n);switch(e.state){case 0:this.te(n)&&o.$t(e.resumeToken);break;case 1:o.Ut(),o.kt||o.Ft(),o.$t(e.resumeToken);break;case 2:o.Ut(),o.kt||this.removeTarget(n);break;case 3:this.te(n)&&(o.Kt(),o.$t(e.resumeToken));break;case 4:this.te(n)&&(this.ee(n),o.$t(e.resumeToken));break;default:It()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qt.forEach((o,u)=>{this.te(u)&&n(u)})}ne(e){var n;const o=e.targetId,u=e.Vt.count,l=this.se(o);if(l){const f=l.target;if(Sd(f))if(0===u){const w=new ft(f.path);this.Yt(o,w,O.newNoDocument(w,Ft.min()))}else dt(1===u);else{const w=this.ie(o);if(w!==u){const x=this.re(e,w);0!==x&&(this.ee(o),this.Wt=this.Wt.insert(o,2===x?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(n=W.instance)||void 0===n||n.notifyOnExistenceFilterMismatch(function(P,z,ee){var De,Fe,lt,Ct,Mt,Rn;const cr={localCacheCount:z,existenceFilterCount:ee.count},Vn=ee.unchangedNames;return Vn&&(cr.bloomFilter={applied:0===P,hashCount:null!==(De=Vn?.hashCount)&&void 0!==De?De:0,bitmapLength:null!==(Ct=null===(lt=null===(Fe=Vn?.bits)||void 0===Fe?void 0:Fe.bitmap)||void 0===lt?void 0:lt.length)&&void 0!==Ct?Ct:0,padding:null!==(Rn=null===(Mt=Vn?.bits)||void 0===Mt?void 0:Mt.padding)&&void 0!==Rn?Rn:0}),cr}(x,w,e.Vt))}}}}re(e,n){const{unchangedNames:o,count:u}=e.Vt;if(!o||!o.bits)return 1;const{bits:{bitmap:l="",padding:f=0},hashCount:w=0}=o;let x,P;try{x=_o(l).toUint8Array()}catch(z){if(z instanceof tu)return Zr("Decoding the base64 bloom filter in existence filter failed ("+z.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw z}try{P=new ln(x,f,w)}catch(z){return Zr(z instanceof ur?"BloomFilter error: ":"Applying bloom filter failed: ",z),1}return 0===P.It?1:u!==n-this.oe(e.targetId,P)?2:0}oe(e,n){const o=this.Gt.getRemoteKeysForTarget(e);let u=0;return o.forEach(l=>{const f=this.Gt.ue(),w=`projects/${f.projectId}/databases/${f.database}/documents/${l.path.canonicalString()}`;n.vt(w)||(this.Yt(e,l,null),u++)}),u}ce(e){const n=new Map;this.Qt.forEach((l,f)=>{const w=this.se(f);if(w){if(l.current&&Sd(w.target)){const x=new ft(w.target.path);null!==this.jt.get(x)||this.ae(f,x)||this.Yt(f,x,O.newNoDocument(x,e))}l.Mt&&(n.set(f,l.Ot()),l.Ft())}});let o=bn();this.zt.forEach((l,f)=>{let w=!0;f.forEachWhile(x=>{const P=this.se(x);return!P||"TargetPurposeLimboResolution"===P.purpose||(w=!1,!1)}),w&&(o=o.add(l))}),this.jt.forEach((l,f)=>f.setReadTime(e));const u=new co(e,n,this.Wt,this.jt,o);return this.jt=wo(),this.zt=Jc(),this.Wt=new pr(Ot),u}Jt(e,n){if(!this.te(e))return;const o=this.ae(e,n.key)?2:0;this.Zt(e).Bt(n.key,o),this.jt=this.jt.insert(n.key,n),this.zt=this.zt.insert(n.key,this.he(n.key).add(e))}Yt(e,n,o){if(!this.te(e))return;const u=this.Zt(e);this.ae(e,n)?u.Bt(n,1):u.Lt(n),this.zt=this.zt.insert(n,this.he(n).delete(e)),o&&(this.jt=this.jt.insert(n,o))}removeTarget(e){this.Qt.delete(e)}ie(e){const n=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let n=this.Qt.get(e);return n||(n=new kd,this.Qt.set(e,n)),n}he(e){let n=this.zt.get(e);return n||(n=new Fr(Ot),this.zt=this.zt.insert(e,n)),n}te(e){const n=null!==this.se(e);return n||Je("WatchChangeAggregator","Detected inactive target",e),n}se(e){const n=this.Qt.get(e);return n&&n.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new kd),this.Gt.getRemoteKeysForTarget(e).forEach(n=>{this.Yt(e,n,null)})}ae(e,n){return this.Gt.getRemoteKeysForTarget(e).has(n)}}function Jc(){return new pr(ft.comparator)}function Ld(){return new pr(ft.comparator)}const Su={asc:"ASCENDING",desc:"DESCENDING"},Gh={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Ap={and:"AND",or:"OR"};class Vl{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Bl(i,e){return i.useProto3Json||T(e)?e:{value:e}}function el(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function tl(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function Wh(i,e){return el(i,e.toTimestamp())}function Fi(i){return dt(!!i),Ft.fromTimestamp(function(e){const n=Ss(e);return new $r(n.seconds,n.nanos)}(i))}function Fd(i,e){return(n=i,new Fn(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}function Ud(i){const e=Fn.fromString(i);return dt(Up(e)),e}function Vd(i,e){return Fd(i.databaseId,e.path)}function cu(i,e){const n=Ud(e);if(n.get(1)!==i.databaseId.projectId)throw new qe(Te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new qe(Te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new ft(_m(n))}function Sp(i,e){return Fd(i.databaseId,e)}function Bd(i){return new Fn(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function _m(i){return dt(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function Mp(i,e,n){return{name:Vd(i,e),fields:n.value.mapValue.fields}}function Pp(i,e){return{documents:[Sp(i,e.path)]}}function Mu(i,e){const n={structuredQuery:{}},o=e.path;null!==e.collectionGroup?(n.parent=Sp(i,o),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Sp(i,o.popLast()),n.structuredQuery.from=[{collectionId:o.lastSegment()}]);const u=function(x){if(0!==x.length)return Lp(wt.create(x,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const l=function(x){if(0!==x.length)return x.map(P=>{return{field:xu((z=P).field),direction:JI(z.dir)};var z})}(e.orderBy);l&&(n.structuredQuery.orderBy=l);const f=Bl(i,e.limit);var w,x;return null!==f&&(n.structuredQuery.limit=f),e.startAt&&(n.structuredQuery.startAt={before:(w=e.startAt).inclusive,values:w.position}),e.endAt&&(n.structuredQuery.endAt={before:!(x=e.endAt).inclusive,values:x.position}),n}function kp(i){let e=function vm(i){const e=Ud(i);return 4===e.length?Fn.emptyPath():_m(e)}(i.parent);const n=i.structuredQuery,o=n.from?n.from.length:0;let u=null;if(o>0){dt(1===o);const z=n.from[0];z.allDescendants?u=z.collectionId:e=e.child(z.collectionId)}let l=[];n.where&&(l=function(z){const ee=Em(z);return ee instanceof wt&&Li(ee)?ee.getFilters():[ee]}(n.where));let f=[];n.orderBy&&(f=n.orderBy.map(z=>{return new Ne(nl((ee=z).field),function(De){switch(De){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(ee.direction));var ee}));let w=null;n.limit&&(w=function(z){let ee;return ee="object"==typeof z?z.value:z,T(ee)?null:ee}(n.limit));let x=null;var z;n.startAt&&(x=new q((z=n.startAt).values||[],!!z.before));let P=null;return n.endAt&&(P=function(z){return new q(z.values||[],!z.before)}(n.endAt)),function xl(i,e,n,o,u,l,f,w){return new ru(i,e,n,o,u,l,f,w)}(e,u,f,l,w,"F",x,P)}function Em(i){return void 0!==i.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=nl(e.unaryFilter.field);return ot.create(n,"==",{doubleValue:NaN});case"IS_NULL":const o=nl(e.unaryFilter.field);return ot.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=nl(e.unaryFilter.field);return ot.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=nl(e.unaryFilter.field);return ot.create(l,"!=",{nullValue:"NULL_VALUE"});default:return It()}}(i):void 0!==i.fieldFilter?ot.create(nl((e=i).fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return It()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==i.compositeFilter?function(e){return wt.create(e.compositeFilter.filters.map(n=>Em(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return It()}}(e.compositeFilter.op))}(i):It();var e}function JI(i){return Su[i]}function Kh(i){return Gh[i]}function Pv(i){return Ap[i]}function xu(i){return{fieldPath:i.canonicalString()}}function nl(i){return or.fromServerFormat(i.fieldPath)}function Lp(i){return i instanceof ot?function(e){if("=="===e.op){if(zc(e.value))return{unaryFilter:{field:xu(e.field),op:"IS_NAN"}};if(Qo(e.value))return{unaryFilter:{field:xu(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(zc(e.value))return{unaryFilter:{field:xu(e.field),op:"IS_NOT_NAN"}};if(Qo(e.value))return{unaryFilter:{field:xu(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:xu(e.field),op:Kh(e.op),value:e.value}}}(i):i instanceof wt?function(e){const n=e.getFilters().map(o=>Lp(o));return 1===n.length?n[0]:{compositeFilter:{op:Pv(e.op),filters:n}}}(i):It()}function Fp(i){const e=[];return i.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Up(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}class ma{constructor(e,n,o,u,l=Ft.min(),f=Ft.min(),w=di.EMPTY_BYTE_STRING,x=null){this.target=e,this.targetId=n,this.purpose=o,this.sequenceNumber=u,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=w,this.expectedCount=x}withSequenceNumber(e){return new ma(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ma(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ma(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ma(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class jl{constructor(e){this.fe=e}}function Bp(i){const e=kp({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?Ol(e,e.limit,"L"):e}class il{constructor(){}_e(e,n){this.me(e,n),n.ge()}me(e,n){if("nullValue"in e)this.ye(n,5);else if("booleanValue"in e)this.ye(n,10),n.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(n,15),n.pe(Ii(e.integerValue));else if("doubleValue"in e){const o=Ii(e.doubleValue);isNaN(o)?this.ye(n,13):(this.ye(n,15),m(o)?n.pe(0):n.pe(o))}else if("timestampValue"in e){const o=e.timestampValue;this.ye(n,20),"string"==typeof o?n.Ie(o):(n.Ie(`${o.seconds||""}`),n.pe(o.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,n),this.Ee(n);else if("bytesValue"in e)this.ye(n,30),n.Ae(_o(e.bytesValue)),this.Ee(n);else if("referenceValue"in e)this.ve(e.referenceValue,n);else if("geoPointValue"in e){const o=e.geoPointValue;this.ye(n,45),n.pe(o.latitude||0),n.pe(o.longitude||0)}else"mapValue"in e?ki(e)?this.ye(n,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,n),this.Ee(n)):"arrayValue"in e?(this.Pe(e.arrayValue,n),this.Ee(n)):It()}Te(e,n){this.ye(n,25),this.be(e,n)}be(e,n){n.Ie(e)}Re(e,n){const o=e.fields||{};this.ye(n,55);for(const u of Object.keys(o))this.Te(u,n),this.me(o[u],n)}Pe(e,n){const o=e.values||[];this.ye(n,50);for(const u of o)this.me(u,n)}ve(e,n){this.ye(n,37),ft.fromName(e).path.forEach(o=>{this.ye(n,60),this.be(o,n)})}ye(e,n){e.pe(n)}Ee(e){e.pe(2)}}il.Ve=new il;class t0{constructor(){this.rn=new Sm}addToCollectionParentIndex(e,n){return this.rn.add(n),Ce.resolve()}getCollectionParents(e,n){return Ce.resolve(this.rn.getEntries(n))}addFieldIndex(e,n){return Ce.resolve()}deleteFieldIndex(e,n){return Ce.resolve()}getDocumentsMatchingTarget(e,n){return Ce.resolve(null)}getIndexType(e,n){return Ce.resolve(0)}getFieldIndexes(e,n){return Ce.resolve([])}getNextCollectionGroupToUpdate(e){return Ce.resolve(null)}getMinOffset(e,n){return Ce.resolve(cs.min())}getMinOffsetFromCollectionGroup(e,n){return Ce.resolve(cs.min())}updateCollectionGroup(e,n,o){return Ce.resolve()}updateIndexEntries(e,n){return Ce.resolve()}}class Sm{constructor(){this.index={}}add(e){const n=e.lastSegment(),o=e.popLast(),u=this.index[n]||new Fr(Fn.comparator),l=!u.has(o);return this.index[n]=u.add(o),l}has(e){const n=e.lastSegment(),o=e.popLast(),u=this.index[n];return u&&u.has(o)}getEntries(e){return(this.index[e]||new Fr(Fn.comparator)).toArray()}}new Uint8Array(0);class Os{constructor(e,n,o){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=o}static withCacheSize(e){return new Os(e,Os.DEFAULT_COLLECTION_PERCENTILE,Os.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Os.DEFAULT_COLLECTION_PERCENTILE=10,Os.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Os.DEFAULT=new Os(41943040,Os.DEFAULT_COLLECTION_PERCENTILE,Os.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Os.DISABLED=new Os(-1,0,0);class Gl{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Gl(0)}static Mn(){return new Gl(-1)}}class Pm{constructor(){this.changes=new La(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,O.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const o=this.changes.get(n);return void 0!==o?Ce.resolve(o):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class $v{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class Um{constructor(e,n,o,u){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=o,this.indexManager=u}getDocument(e,n){let o=null;return this.documentOverlayCache.getOverlay(e,n).next(u=>(o=u,this.remoteDocumentCache.getEntry(e,n))).next(u=>(null!==o&&Fa(o.mutation,u,hs.empty(),$r.now()),u))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(o=>this.getLocalViewOfDocuments(e,o,bn()).next(()=>o))}getLocalViewOfDocuments(e,n,o=bn()){const u=ou();return this.populateOverlays(e,u,n).next(()=>this.computeViews(e,n,u,o).next(l=>{let f=su();return l.forEach((w,x)=>{f=f.insert(w,x.overlayedDocument)}),f}))}getOverlayedDocuments(e,n){const o=ou();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,bn()))}populateOverlays(e,n,o){const u=[];return o.forEach(l=>{n.has(l)||u.push(l)}),this.documentOverlayCache.getOverlays(e,u).next(l=>{l.forEach((f,w)=>{n.set(f,w)})})}computeViews(e,n,o,u){let l=wo();const f=Pl(),w=Pl();return n.forEach((x,P)=>{const z=o.get(P.key);u.has(P.key)&&(void 0===z||z.mutation instanceof Po)?l=l.insert(P.key,P):void 0!==z?(f.set(P.key,z.mutation.getFieldMask()),Fa(z.mutation,P,z.mutation.getFieldMask(),$r.now())):f.set(P.key,hs.empty())}),this.recalculateAndSaveOverlays(e,l).next(x=>(x.forEach((P,z)=>f.set(P,z)),n.forEach((P,z)=>{var ee;return w.set(P,new $v(z,null!==(ee=f.get(P))&&void 0!==ee?ee:null))}),w))}recalculateAndSaveOverlays(e,n){const o=Pl();let u=new pr((f,w)=>f-w),l=bn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(f=>{for(const w of f)w.keys().forEach(x=>{const P=n.get(x);if(null===P)return;let z=o.get(x)||hs.empty();z=w.applyToLocalView(P,z),o.set(x,z);const ee=(u.get(w.batchId)||bn()).add(x);u=u.insert(w.batchId,ee)})}).next(()=>{const f=[],w=u.getReverseIterator();for(;w.hasNext();){const x=w.getNext(),P=x.key,z=x.value,ee=Lh();z.forEach(De=>{if(!l.has(De)){const Fe=Bh(n.get(De),o.get(De));null!==Fe&&ee.set(De,Fe),l=l.add(De)}}),f.push(this.documentOverlayCache.saveOverlays(e,P,ee))}return Ce.waitFor(f)}).next(()=>o)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(o=>this.recalculateAndSaveOverlays(e,o))}getDocumentsMatchingQuery(e,n,o){return ft.isDocumentKey((u=n).path)&&null===u.collectionGroup&&0===u.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):Nl(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,o):this.getDocumentsMatchingCollectionQuery(e,n,o);var u}getNextDocuments(e,n,o,u){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,o,u).next(l=>{const f=u-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,o.largestBatchId,u-l.size):Ce.resolve(ou());let w=-1,x=l;return f.next(P=>Ce.forEach(P,(z,ee)=>(w<ee.largestBatchId&&(w=ee.largestBatchId),l.get(z)?Ce.resolve():this.remoteDocumentCache.getEntry(e,z).next(De=>{x=x.insert(z,De)}))).next(()=>this.populateOverlays(e,P,l)).next(()=>this.computeViews(e,x,P,bn())).next(z=>({batchId:w,changes:Ip(z)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ft(n)).next(o=>{let u=su();return o.isFoundDocument()&&(u=u.insert(o.key,o)),u})}getDocumentsMatchingCollectionGroupQuery(e,n,o){const u=n.collectionGroup;let l=su();return this.indexManager.getCollectionParents(e,u).next(f=>Ce.forEach(f,w=>{const x=(P=n,z=w.child(u),new ru(z,null,P.explicitOrderBy.slice(),P.filters.slice(),P.limit,P.limitType,P.startAt,P.endAt));var P,z;return this.getDocumentsMatchingCollectionQuery(e,x,o).next(P=>{P.forEach((z,ee)=>{l=l.insert(z,ee)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,n,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,o.largestBatchId).next(l=>(u=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,o,u))).next(l=>{u.forEach((w,x)=>{const P=x.getKey();null===l.get(P)&&(l=l.insert(P,O.newInvalidDocument(P)))});let f=su();return l.forEach((w,x)=>{const P=u.get(w);void 0!==P&&Fa(P.mutation,x,hs.empty(),$r.now()),Wc(n,x)&&(f=f.insert(w,x))}),f})}}class Hv{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,n){return Ce.resolve(this.cs.get(n))}saveBundleMetadata(e,n){var o;return this.cs.set(n.id,{id:(o=n).id,version:o.version,createTime:Fi(o.createTime)}),Ce.resolve()}getNamedQuery(e,n){return Ce.resolve(this.hs.get(n))}saveNamedQuery(e,n){return this.hs.set(n.name,{name:(o=n).name,query:Bp(o.bundledQuery),readTime:Fi(o.readTime)}),Ce.resolve();var o}}class Vm{constructor(){this.overlays=new pr(ft.comparator),this.ls=new Map}getOverlay(e,n){return Ce.resolve(this.overlays.get(n))}getOverlays(e,n){const o=ou();return Ce.forEach(n,u=>this.getOverlay(e,u).next(l=>{null!==l&&o.set(u,l)})).next(()=>o)}saveOverlays(e,n,o){return o.forEach((u,l)=>{this.we(e,n,l)}),Ce.resolve()}removeOverlaysForBatchId(e,n,o){const u=this.ls.get(o);return void 0!==u&&(u.forEach(l=>this.overlays=this.overlays.remove(l)),this.ls.delete(o)),Ce.resolve()}getOverlaysForCollection(e,n,o){const u=ou(),l=n.length+1,f=new ft(n.child("")),w=this.overlays.getIteratorFrom(f);for(;w.hasNext();){const x=w.getNext().value,P=x.getKey();if(!n.isPrefixOf(P.path))break;P.path.length===l&&x.largestBatchId>o&&u.set(x.getKey(),x)}return Ce.resolve(u)}getOverlaysForCollectionGroup(e,n,o,u){let l=new pr((P,z)=>P-z);const f=this.overlays.getIterator();for(;f.hasNext();){const P=f.getNext().value;if(P.getKey().getCollectionGroup()===n&&P.largestBatchId>o){let z=l.get(P.largestBatchId);null===z&&(z=ou(),l=l.insert(P.largestBatchId,z)),z.set(P.getKey(),P)}}const w=ou(),x=l.getIterator();for(;x.hasNext()&&(x.getNext().value.forEach((P,z)=>w.set(P,z)),!(w.size()>=u)););return Ce.resolve(w)}we(e,n,o){const u=this.overlays.get(o.key);if(null!==u){const f=this.ls.get(u.largestBatchId).delete(o.key);this.ls.set(u.largestBatchId,f)}this.overlays=this.overlays.insert(o.key,new zh(n,o));let l=this.ls.get(n);void 0===l&&(l=bn(),this.ls.set(n,l)),this.ls.set(n,l.add(o.key))}}class Bm{constructor(){this.fs=new Fr(Ws.ds),this.ws=new Fr(Ws._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,n){const o=new Ws(e,n);this.fs=this.fs.add(o),this.ws=this.ws.add(o)}gs(e,n){e.forEach(o=>this.addReference(o,n))}removeReference(e,n){this.ys(new Ws(e,n))}ps(e,n){e.forEach(o=>this.removeReference(o,n))}Is(e){const n=new ft(new Fn([])),o=new Ws(n,e),u=new Ws(n,e+1),l=[];return this.ws.forEachInRange([o,u],f=>{this.ys(f),l.push(f.key)}),l}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const n=new ft(new Fn([])),o=new Ws(n,e),u=new Ws(n,e+1);let l=bn();return this.ws.forEachInRange([o,u],f=>{l=l.add(f.key)}),l}containsKey(e){const n=new Ws(e,0),o=this.fs.firstAfterOrEqual(n);return null!==o&&e.isEqual(o.key)}}class Ws{constructor(e,n){this.key=e,this.As=n}static ds(e,n){return ft.comparator(e.key,n.key)||Ot(e.As,n.As)}static _s(e,n){return Ot(e.As,n.As)||ft.comparator(e.key,n.key)}}class Qd{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new Fr(Ws.ds)}checkEmpty(e){return Ce.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,o,u){const l=this.vs;this.vs++;const f=new Ul(l,n,o,u);this.mutationQueue.push(f);for(const w of u)this.Rs=this.Rs.add(new Ws(w.key,l)),this.indexManager.addToCollectionParentIndex(e,w.key.path.popLast());return Ce.resolve(f)}lookupMutationBatch(e,n){return Ce.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(e,n){const u=this.bs(n+1),l=u<0?0:u;return Ce.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return Ce.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return Ce.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const o=new Ws(n,0),u=new Ws(n,Number.POSITIVE_INFINITY),l=[];return this.Rs.forEachInRange([o,u],f=>{const w=this.Ps(f.As);l.push(w)}),Ce.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let o=new Fr(Ot);return n.forEach(u=>{const l=new Ws(u,0),f=new Ws(u,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([l,f],w=>{o=o.add(w.As)})}),Ce.resolve(this.Vs(o))}getAllMutationBatchesAffectingQuery(e,n){const o=n.path,u=o.length+1;let l=o;ft.isDocumentKey(l)||(l=l.child(""));const f=new Ws(new ft(l),0);let w=new Fr(Ot);return this.Rs.forEachWhile(x=>{const P=x.key.path;return!!o.isPrefixOf(P)&&(P.length===u&&(w=w.add(x.As)),!0)},f),Ce.resolve(this.Vs(w))}Vs(e){const n=[];return e.forEach(o=>{const u=this.Ps(o);null!==u&&n.push(u)}),n}removeMutationBatch(e,n){dt(0===this.Ss(n.batchId,"removed")),this.mutationQueue.shift();let o=this.Rs;return Ce.forEach(n.mutations,u=>{const l=new Ws(u.key,n.batchId);return o=o.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,u.key)}).next(()=>{this.Rs=o})}Cn(e){}containsKey(e,n){const o=new Ws(n,0),u=this.Rs.firstAfterOrEqual(o);return Ce.resolve(n.isEqual(u&&u.key))}performConsistencyCheck(e){return Ce.resolve()}Ss(e,n){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const n=this.bs(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class Xd{constructor(e){this.Ds=e,this.docs=new pr(ft.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const o=n.key,u=this.docs.get(o),l=u?u.size:0,f=this.Ds(n);return this.docs=this.docs.insert(o,{document:n.mutableCopy(),size:f}),this.size+=f-l,this.indexManager.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const o=this.docs.get(n);return Ce.resolve(o?o.document.mutableCopy():O.newInvalidDocument(n))}getEntries(e,n){let o=wo();return n.forEach(u=>{const l=this.docs.get(u);o=o.insert(u,l?l.document.mutableCopy():O.newInvalidDocument(u))}),Ce.resolve(o)}getDocumentsMatchingQuery(e,n,o,u){let l=wo();const f=n.path,w=new ft(f.child("")),x=this.docs.getIteratorFrom(w);for(;x.hasNext();){const{key:P,value:{document:z}}=x.getNext();if(!f.isPrefixOf(P.path))break;P.path.length>f.length+1||zo(li(z),o)<=0||(u.has(z.key)||Wc(n,z))&&(l=l.insert(z.key,z.mutableCopy()))}return Ce.resolve(l)}getAllFromCollectionGroup(e,n,o,u){It()}Cs(e,n){return Ce.forEach(this.docs,o=>n(o))}newChangeBuffer(e){return new jm(this)}getSize(e){return Ce.resolve(this.size)}}class jm extends Pm{constructor(e){super(),this.os=e}applyChanges(e){const n=[];return this.changes.forEach((o,u)=>{u.isValidDocument()?n.push(this.os.addEntry(e,u)):this.os.removeEntry(o)}),Ce.waitFor(n)}getFromCache(e,n){return this.os.getEntry(e,n)}getAllFromCache(e,n){return this.os.getEntries(e,n)}}class $m{constructor(e){this.persistence=e,this.xs=new La(n=>Cu(n),pc),this.lastRemoteSnapshotVersion=Ft.min(),this.highestTargetId=0,this.Ns=0,this.ks=new Bm,this.targetCount=0,this.Ms=Gl.kn()}forEachTarget(e,n){return this.xs.forEach((o,u)=>n(u)),Ce.resolve()}getLastRemoteSnapshotVersion(e){return Ce.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ce.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),Ce.resolve(this.highestTargetId)}setTargetsMetadata(e,n,o){return o&&(this.lastRemoteSnapshotVersion=o),n>this.Ns&&(this.Ns=n),Ce.resolve()}Fn(e){this.xs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ms=new Gl(n),this.highestTargetId=n),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,n){return this.Fn(n),this.targetCount+=1,Ce.resolve()}updateTargetData(e,n){return this.Fn(n),Ce.resolve()}removeTargetData(e,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,Ce.resolve()}removeTargets(e,n,o){let u=0;const l=[];return this.xs.forEach((f,w)=>{w.sequenceNumber<=n&&null===o.get(w.targetId)&&(this.xs.delete(f),l.push(this.removeMatchingKeysForTargetId(e,w.targetId)),u++)}),Ce.waitFor(l).next(()=>u)}getTargetCount(e){return Ce.resolve(this.targetCount)}getTargetData(e,n){const o=this.xs.get(n)||null;return Ce.resolve(o)}addMatchingKeys(e,n,o){return this.ks.gs(n,o),Ce.resolve()}removeMatchingKeys(e,n,o){this.ks.ps(n,o);const u=this.persistence.referenceDelegate,l=[];return u&&n.forEach(f=>{l.push(u.markPotentiallyOrphaned(e,f))}),Ce.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this.ks.Is(n),Ce.resolve()}getMatchingKeysForTargetId(e,n){const o=this.ks.Es(n);return Ce.resolve(o)}containsKey(e,n){return Ce.resolve(this.ks.containsKey(n))}}class Yd{constructor(e,n){this.$s={},this.overlays={},this.Os=new y(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new $m(this),this.indexManager=new t0,this.remoteDocumentCache=new Xd(o=>this.referenceDelegate.Ls(o)),this.serializer=new jl(n),this.qs=new Hv(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Vm,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let o=this.$s[e.toKey()];return o||(o=new Qd(n,this.referenceDelegate),this.$s[e.toKey()]=o),o}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,n,o){Je("MemoryPersistence","Starting transaction:",e);const u=new Hm(this.Os.next());return this.referenceDelegate.Us(),o(u).next(l=>this.referenceDelegate.Ks(u).next(()=>l)).toPromise().then(l=>(u.raiseOnCommittedEvent(),l))}Gs(e,n){return Ce.or(Object.values(this.$s).map(o=>()=>o.containsKey(e,n)))}}class Hm extends qa{constructor(e){super(),this.currentSequenceNumber=e}}class Zh{constructor(e){this.persistence=e,this.Qs=new Bm,this.js=null}static zs(e){return new Zh(e)}get Ws(){if(this.js)return this.js;throw It()}addReference(e,n,o){return this.Qs.addReference(o,n),this.Ws.delete(o.toString()),Ce.resolve()}removeReference(e,n,o){return this.Qs.removeReference(o,n),this.Ws.add(o.toString()),Ce.resolve()}markPotentiallyOrphaned(e,n){return this.Ws.add(n.toString()),Ce.resolve()}removeTarget(e,n){this.Qs.Is(n.targetId).forEach(u=>this.Ws.add(u.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,n.targetId).next(u=>{u.forEach(l=>this.Ws.add(l.toString()))}).next(()=>o.removeTargetData(e,n))}Us(){this.js=new Set}Ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ce.forEach(this.Ws,o=>{const u=ft.fromPath(o);return this.Hs(e,u).next(l=>{l||n.removeEntry(u,Ft.min())})}).next(()=>(this.js=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hs(e,n).next(o=>{o?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(e){return 0}Hs(e,n){return Ce.or([()=>Ce.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gs(e,n)])}}class ef{constructor(e,n,o,u){this.targetId=e,this.fromCache=n,this.Fi=o,this.Bi=u}static Li(e,n){let o=bn(),u=bn();for(const l of n.docChanges)switch(l.type){case 0:o=o.add(l.doc.key);break;case 1:u=u.add(l.doc.key)}return new ef(e,n.fromCache,o,u)}}class Cc{constructor(){this.qi=!1}initialize(e,n){this.Ui=e,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(e,n,o,u){return this.Ki(e,n).next(l=>l||this.Gi(e,n,u,o)).next(l=>l||this.Qi(e,n))}Ki(e,n){if(Oh(n))return Ce.resolve(null);let o=qi(n);return this.indexManager.getIndexType(e,o).next(u=>0===u?null:(null!==n.limit&&1===u&&(n=Ol(n,null,"F"),o=qi(n)),this.indexManager.getDocumentsMatchingTarget(e,o).next(l=>{const f=bn(...l);return this.Ui.getDocuments(e,f).next(w=>this.indexManager.getMinOffset(e,o).next(x=>{const P=this.ji(n,w);return this.zi(n,P,f,x.readTime)?this.Ki(e,Ol(n,null,"F")):this.Wi(e,P,n,x)}))})))}Gi(e,n,o,u){return Oh(n)||u.isEqual(Ft.min())?this.Qi(e,n):this.Ui.getDocuments(e,o).next(l=>{const f=this.ji(n,l);return this.zi(n,f,o,u)?this.Qi(e,n):($s()<=te.$b.DEBUG&&Je("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),vc(n)),this.Wi(e,f,n,function wu(i,e){const n=i.toTimestamp().seconds,o=i.toTimestamp().nanoseconds+1,u=Ft.fromTimestamp(1e9===o?new $r(n+1,0):new $r(n,o));return new cs(u,ft.empty(),e)}(u,-1)))})}ji(e,n){let o=new Fr(Md(e));return n.forEach((u,l)=>{Wc(e,l)&&(o=o.add(l))}),o}zi(e,n,o,u){if(null===e.limit)return!1;if(o.size!==n.size)return!0;const l="F"===e.limitType?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(u)>0)}Qi(e,n){return $s()<=te.$b.DEBUG&&Je("QueryEngine","Using full collection scan to execute query:",vc(n)),this.Ui.getDocumentsMatchingQuery(e,n,cs.min())}Wi(e,n,o,u){return this.Ui.getDocumentsMatchingQuery(e,o,u).next(l=>(n.forEach(f=>{l=l.insert(f.key,f)}),l))}}class zv{constructor(e,n,o,u){this.persistence=e,this.Hi=n,this.serializer=u,this.Ji=new pr(Ot),this.Yi=new La(l=>Cu(l),pc),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(o)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Um(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function nh(i,e){return tg.apply(this,arguments)}function tg(){return tg=(0,Q.A)(function*(i,e){const n=mt(i);return yield n.persistence.runTransaction("Handle user change","readonly",o=>{let u;return n.mutationQueue.getAllMutationBatches(o).next(l=>(u=l,n.tr(e),n.mutationQueue.getAllMutationBatches(o))).next(l=>{const f=[],w=[];let x=bn();for(const P of u){f.push(P.batchId);for(const z of P.mutations)x=x.add(z.key)}for(const P of l){w.push(P.batchId);for(const z of P.mutations)x=x.add(z.key)}return n.localDocuments.getDocuments(o,x).next(P=>({er:P,removedBatchIds:f,addedBatchIds:w}))})})}),tg.apply(this,arguments)}function rh(i){const e=mt(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Bs.getLastRemoteSnapshotVersion(n))}function rg(i,e){const n=mt(i);return n.persistence.runTransaction("Get next mutation batch","readonly",o=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(o,e)))}function Xl(i,e,n){return nf.apply(this,arguments)}function nf(){return nf=(0,Q.A)(function*(i,e,n){const o=mt(i),u=o.Ji.get(e),l=n?"readwrite":"readwrite-primary";try{n||(yield o.persistence.runTransaction("Release target",l,f=>o.persistence.referenceDelegate.removeTarget(f,u)))}catch(f){if(!ds(f))throw f;Je("LocalStore",`Failed to update sequence numbers for target ${e}: ${f}`)}o.Ji=o.Ji.remove(e),o.Yi.delete(u.target)}),nf.apply(this,arguments)}function Lu(i,e,n){const o=mt(i);let u=Ft.min(),l=bn();return o.persistence.runTransaction("Execute query","readonly",f=>function(w,x,P){const z=mt(w),ee=z.Yi.get(P);return void 0!==ee?Ce.resolve(z.Ji.get(ee)):z.Bs.getTargetData(x,P)}(o,f,qi(e)).next(w=>{if(w)return u=w.lastLimboFreeSnapshotVersion,o.Bs.getMatchingKeysForTargetId(f,w.targetId).next(x=>{l=x})}).next(()=>o.Hi.getDocumentsMatchingQuery(f,e,n?u:Ft.min(),n?l:bn())).next(w=>(function qm(i,e,n){let o=i.Xi.get(e)||Ft.min();n.forEach((u,l)=>{l.readTime.compareTo(o)>0&&(o=l.readTime)}),i.Xi.set(e,o)}(o,function kh(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}(e),w),{documents:w,ir:l})))}class Yl{constructor(){this.activeTargetIds=function Kc(){return hm}()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class cf{constructor(){this.Hr=new Yl,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,o){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,n,o){this.Jr[e]=n}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new Yl,Promise.resolve()}handleUserChange(e,n,o){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class ag{Yr(e){}shutdown(){}}class cl{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){Je("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){Je("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Zl=null;function sh(){return null===Zl?Zl=268435456+Math.round(2147483648*Math.random()):Zl++,"0x"+Zl.toString(16)}const oh={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class lf{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const Qi="WebChannelConnection";class ug extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,n,o,u,l){const f=sh(),w=this.To(e,n);Je("RestConnection",`Sending RPC '${e}' ${f}:`,w,o);const x={};return this.Eo(x,u,l),this.Ao(e,w,x,o).then(P=>(Je("RestConnection",`Received RPC '${e}' ${f}: `,P),P),P=>{throw Zr("RestConnection",`RPC '${e}' ${f} failed with error: `,P,"url: ",w,"request:",o),P})}vo(e,n,o,u,l,f){return this.Io(e,n,o,u,l)}Eo(e,n,o){e["X-Goog-Api-Client"]="gl-js/ fire/"+Cr,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((u,l)=>e[l]=u),o&&o.headers.forEach((u,l)=>e[l]=u)}To(e,n){return`${this.mo}/v1/${n}:${oh[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,n,o,u){const l=sh();return new Promise((f,w)=>{const x=new sr;x.setWithCredentials(!0),x.listenOnce(qn.COMPLETE,()=>{try{switch(x.getLastErrorCode()){case Nt.NO_ERROR:const z=x.getResponseJson();Je(Qi,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(z)),f(z);break;case Nt.TIMEOUT:Je(Qi,`RPC '${e}' ${l} timed out`),w(new qe(Te.DEADLINE_EXCEEDED,"Request time out"));break;case Nt.HTTP_ERROR:const ee=x.getStatus();if(Je(Qi,`RPC '${e}' ${l} failed with status:`,ee,"response text:",x.getResponseText()),ee>0){let De=x.getResponseJson();Array.isArray(De)&&(De=De[0]);const Fe=De?.error;if(Fe&&Fe.status&&Fe.message){const lt=function(Ct){const Mt=Ct.toLowerCase().replace(/_/g,"-");return Object.values(Te).indexOf(Mt)>=0?Mt:Te.UNKNOWN}(Fe.status);w(new qe(lt,Fe.message))}else w(new qe(Te.UNKNOWN,"Server responded with status "+x.getStatus()))}else w(new qe(Te.UNAVAILABLE,"Connection failed."));break;default:It()}}finally{Je(Qi,`RPC '${e}' ${l} completed.`)}});const P=JSON.stringify(u);Je(Qi,`RPC '${e}' ${l} sending request:`,u),x.send(n,"POST",P,o,15)})}Ro(e,n,o){const u=sh(),l=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=Me(),w=Be(),x={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},P=this.longPollingOptions.timeoutSeconds;void 0!==P&&(x.longPollingTimeout=Math.round(1e3*P)),this.useFetchStreams&&(x.xmlHttpFactory=new sn({})),this.Eo(x.initMessageHeaders,n,o),x.encodeInitMessageHeaders=!0;const z=l.join("");Je(Qi,`Creating RPC '${e}' stream ${u}: ${z}`,x);const ee=f.createWebChannel(z,x);let De=!1,Fe=!1;const lt=new lf({ro:Mt=>{Fe?Je(Qi,`Not sending because RPC '${e}' stream ${u} is closed:`,Mt):(De||(Je(Qi,`Opening RPC '${e}' stream ${u} transport.`),ee.open(),De=!0),Je(Qi,`RPC '${e}' stream ${u} sending:`,Mt),ee.send(Mt))},oo:()=>ee.close()}),Ct=(Mt,Rn,cr)=>{Mt.listen(Rn,Vn=>{try{cr(Vn)}catch(ps){setTimeout(()=>{throw ps},0)}})};return Ct(ee,dr.EventType.OPEN,()=>{Fe||Je(Qi,`RPC '${e}' stream ${u} transport opened.`)}),Ct(ee,dr.EventType.CLOSE,()=>{Fe||(Fe=!0,Je(Qi,`RPC '${e}' stream ${u} transport closed`),lt.wo())}),Ct(ee,dr.EventType.ERROR,Mt=>{Fe||(Fe=!0,Zr(Qi,`RPC '${e}' stream ${u} transport errored:`,Mt),lt.wo(new qe(Te.UNAVAILABLE,"The operation could not be completed")))}),Ct(ee,dr.EventType.MESSAGE,Mt=>{var Rn;if(!Fe){const cr=Mt.data[0];dt(!!cr);const ps=cr.error||(null===(Rn=cr[0])||void 0===Rn?void 0:Rn.error);if(ps){Je(Qi,`RPC '${e}' stream ${u} received error:`,ps);const ns=ps.status;let hi=function(Il){const yv=h[Il];if(void 0!==yv)return L(yv)}(ns),ko=ps.message;void 0===hi&&(hi=Te.INTERNAL,ko="Unknown error status: "+ns+" with message "+ps.message),Fe=!0,lt.wo(new qe(hi,ko)),ee.close()}else Je(Qi,`RPC '${e}' stream ${u} received:`,cr),lt._o(cr)}}),Ct(w,Jn.STAT_EVENT,Mt=>{Mt.stat===xn.PROXY?Je(Qi,`RPC '${e}' stream ${u} detected buffering proxy`):Mt.stat===xn.NOPROXY&&Je(Qi,`RPC '${e}' stream ${u} detected no buffering proxy`)}),setTimeout(()=>{lt.fo()},0),lt}}function ll(){return typeof document<"u"?document:null}function hf(i){return new Vl(i,!0)}class ah{constructor(e,n,o=1e3,u=1.5,l=6e4){this.ii=e,this.timerId=n,this.Po=o,this.bo=u,this.Vo=l,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),o=Math.max(0,Date.now()-this.Co),u=Math.max(0,n-o);u>0&&Je("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${o} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,u,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class Jl{constructor(e,n,o,u,l,f,w,x){this.ii=e,this.$o=o,this.Oo=u,this.connection=l,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=w,this.listener=x,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new ah(e,n)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,Q.A)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,Q.A)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,n){var o=this;return(0,Q.A)(function*(){o.Ho(),o.Jo(),o.qo.cancel(),o.Fo++,4!==e?o.qo.reset():n&&n.code===Te.RESOURCE_EXHAUSTED?(xr(n.toString()),xr("Using maximum backoff delay to prevent overloading the backend."),o.qo.xo()):n&&n.code===Te.UNAUTHENTICATED&&3!==o.state&&(o.authCredentialsProvider.invalidateToken(),o.appCheckCredentialsProvider.invalidateToken()),null!==o.stream&&(o.Yo(),o.stream.close(),o.stream=null),o.state=e,yield o.listener.ao(n)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,u])=>{this.Fo===n&&this.Zo(o,u)},o=>{e(()=>{const u=new qe(Te.UNKNOWN,"Fetching auth token failed: "+o.message);return this.tu(u)})})}Zo(e,n){const o=this.Xo(this.Fo);this.stream=this.eu(e,n),this.stream.uo(()=>{o(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(u=>{o(()=>this.tu(u))}),this.stream.onMessage(u=>{o(()=>this.onMessage(u))})}Go(){var e=this;this.state=5,this.qo.No((0,Q.A)(function*(){e.state=0,e.start()}))}tu(e){return Je("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.Fo===e?n():(Je("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Kv extends Jl{constructor(e,n,o,u,l,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,o,u,f),this.serializer=l}eu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.qo.reset();const n=function Rp(i,e){let n;if("targetChange"in e){const o="NO_CHANGE"===(x=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===x?1:"REMOVE"===x?2:"CURRENT"===x?3:"RESET"===x?4:It(),u=e.targetChange.targetIds||[],l=function(x,P){return x.useProto3Json?(dt(void 0===P||"string"==typeof P),di.fromBase64String(P||"")):(dt(void 0===P||P instanceof Uint8Array),di.fromUint8Array(P||new Uint8Array))}(i,e.targetChange.resumeToken),f=e.targetChange.cause,w=f&&function(x){const P=void 0===x.code?Te.UNKNOWN:L(x.code);return new qe(P,x.message||"")}(f);n=new Pd(o,u,l,w||null)}else if("documentChange"in e){const o=e.documentChange,u=cu(i,o.document.name),l=Fi(o.document.updateTime),f=o.document.createTime?Fi(o.document.createTime):Ft.min(),w=new _({mapValue:{fields:o.document.fields}}),x=O.newFoundDocument(u,l,f,w);n=new Ua(o.targetIds||[],o.removedTargetIds||[],x.key,x)}else if("documentDelete"in e){const o=e.documentDelete,u=cu(i,o.document),l=o.readTime?Fi(o.readTime):Ft.min(),f=O.newNoDocument(u,l);n=new Ua([],o.removedTargetIds||[],f.key,f)}else if("documentRemove"in e){const o=e.documentRemove,u=cu(i,o.document);n=new Ua([],o.removedTargetIds||[],u,null)}else{if(!("filter"in e))return It();{const o=e.filter,{count:u=0,unchangedNames:l}=o,f=new I(u,l);n=new Yc(o.targetId,f)}}var x;return n}(this.serializer,e),o=function(u){if(!("targetChange"in u))return Ft.min();const l=u.targetChange;return l.targetIds&&l.targetIds.length?Ft.min():l.readTime?Fi(l.readTime):Ft.min()}(e);return this.listener.nu(n,o)}su(e){const n={};n.database=Bd(this.serializer),n.addTarget=function(u,l){let f;const w=l.target;if(f=Sd(w)?{documents:Pp(u,w)}:{query:Mu(u,w)},f.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){f.resumeToken=tl(u,l.resumeToken);const x=Bl(u,l.expectedCount);null!==x&&(f.expectedCount=x)}else if(l.snapshotVersion.compareTo(Ft.min())>0){f.readTime=el(u,l.snapshotVersion.toTimestamp());const x=Bl(u,l.expectedCount);null!==x&&(f.expectedCount=x)}return f}(this.serializer,e);const o=function Im(i,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return It()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);o&&(n.labels=o),this.Wo(n)}iu(e){const n={};n.database=Bd(this.serializer),n.removeTarget=e,this.Wo(n)}}class Ym extends Jl{constructor(e,n,o,u,l,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,o,u,f),this.serializer=l,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,n){return this.connection.Ro("Write",e,n)}onMessage(e){if(dt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const n=function Op(i,e){return i&&i.length>0?(dt(void 0!==e),i.map(n=>function(o,u){let l=Fi(o.updateTime?o.updateTime:u);return l.isEqual(Ft.min())&&(l=Fi(u)),new mm(l,o.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),o=Fi(e.commitTime);return this.listener.cu(o,n)}return dt(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Bd(this.serializer),this.Wo(e)}uu(e){const n={streamToken:this.lastStreamToken,writes:e.map(o=>function $d(i,e){let n;if(e instanceof uu)n={update:Mp(i,e.key,e.value)};else if(e instanceof Xc)n={delete:Vd(i,e.key)};else if(e instanceof Po)n={update:Mp(i,e.key,e.data),updateMask:Fp(e.fieldMask)};else{if(!(e instanceof Od))return It();n={verify:Vd(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(o=>function(u,l){const f=l.transform;if(f instanceof qc)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof au)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof Qc)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof kl)return{fieldPath:l.field.canonicalString(),increment:f.gt};throw It()}(0,o))),e.precondition.isNone||(n.currentDocument=void 0!==(u=e.precondition).updateTime?{updateTime:Wh(i,u.updateTime)}:void 0!==u.exists?{exists:u.exists}:It()),n;var u}(this.serializer,o))};this.Wo(n)}}class qv extends class{}{constructor(e,n,o,u){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=o,this.serializer=u,this.lu=!1}fu(){if(this.lu)throw new qe(Te.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,n,o){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,l])=>this.connection.Io(e,n,o,u,l)).catch(u=>{throw"FirebaseError"===u.name?(u.code===Te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new qe(Te.UNKNOWN,u.toString())})}vo(e,n,o,u){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,f])=>this.connection.vo(e,n,o,l,f,u)).catch(l=>{throw"FirebaseError"===l.name?(l.code===Te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new qe(Te.UNKNOWN,l.toString())})}terminate(){this.lu=!0}}class Zm{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(xr(n),this.mu=!1):Je("OnlineStateTracker",n)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class Xv{constructor(e,n,o,u,l){var f=this;this.localStore=e,this.datastore=n,this.asyncQueue=o,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=l,this.Pu.Yr(w=>{o.enqueueAndForget((0,Q.A)(function*(){var x;Fu(f)&&(Je("RemoteStore","Restarting streams for network reachability change."),yield(x=(0,Q.A)(function*(P){const z=mt(P);z.vu.add(4),yield ed(z),z.bu.set("Unknown"),z.vu.delete(4),yield ch(z)}),function(P){return x.apply(this,arguments)})(f))}))}),this.bu=new Zm(o,u)}}function ch(i){return Jm.apply(this,arguments)}function Jm(){return Jm=(0,Q.A)(function*(i){if(Fu(i))for(const e of i.Ru)yield e(!0)}),Jm.apply(this,arguments)}function ed(i){return td.apply(this,arguments)}function td(){return td=(0,Q.A)(function*(i){for(const e of i.Ru)yield e(!1)}),td.apply(this,arguments)}function nd(i,e){const n=mt(i);n.Au.has(e.targetId)||(n.Au.set(e.targetId,e),cg(n)?rd(n):dl(n).Ko()&&ff(n,e))}function lh(i,e){const n=mt(i),o=dl(n);n.Au.delete(e),o.Ko()&&pf(n,e),0===n.Au.size&&(o.Ko()?o.jo():Fu(n)&&n.bu.set("Unknown"))}function ff(i,e){if(i.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ft.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}dl(i).su(e)}function pf(i,e){i.Vu.qt(e),dl(i).iu(e)}function rd(i){i.Vu=new Zc({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),le:e=>i.Au.get(e)||null,ue:()=>i.datastore.serializer.databaseId}),dl(i).start(),i.bu.gu()}function cg(i){return Fu(i)&&!dl(i).Uo()&&i.Au.size>0}function Fu(i){return 0===mt(i).vu.size}function ey(i){i.Vu=void 0}function ty(i){return ny.apply(this,arguments)}function ny(){return ny=(0,Q.A)(function*(i){i.Au.forEach((e,n)=>{ff(i,e)})}),ny.apply(this,arguments)}function Yv(i,e){return id.apply(this,arguments)}function id(){return id=(0,Q.A)(function*(i,e){ey(i),cg(i)?(i.bu.Iu(e),rd(i)):i.bu.set("Unknown")}),id.apply(this,arguments)}function Zv(i,e,n){return bc.apply(this,arguments)}function bc(){return bc=(0,Q.A)(function*(i,e,n){if(i.bu.set("Online"),e instanceof Pd&&2===e.state&&e.cause)try{yield(o=(0,Q.A)(function*(u,l){const f=l.cause;for(const w of l.targetIds)u.Au.has(w)&&(yield u.remoteSyncer.rejectListen(w,f),u.Au.delete(w),u.Vu.removeTarget(w))}),function(u,l){return o.apply(this,arguments)})(i,e)}catch(o){Je("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),o),yield Ac(i,o)}else if(e instanceof Ua?i.Vu.Ht(e):e instanceof Yc?i.Vu.ne(e):i.Vu.Xt(e),!n.isEqual(Ft.min()))try{const o=yield rh(i.localStore);n.compareTo(o)>=0&&(yield function(u,l){const f=u.Vu.ce(l);return f.targetChanges.forEach((w,x)=>{if(w.resumeToken.approximateByteSize()>0){const P=u.Au.get(x);P&&u.Au.set(x,P.withResumeToken(w.resumeToken,l))}}),f.targetMismatches.forEach((w,x)=>{const P=u.Au.get(w);if(!P)return;u.Au.set(w,P.withResumeToken(di.EMPTY_BYTE_STRING,P.snapshotVersion)),pf(u,w);const z=new ma(P.target,w,x,P.sequenceNumber);ff(u,z)}),u.remoteSyncer.applyRemoteEvent(f)}(i,n))}catch(o){Je("RemoteStore","Failed to raise snapshot:",o),yield Ac(i,o)}var o}),bc.apply(this,arguments)}function Ac(i,e,n){return lg.apply(this,arguments)}function lg(){return lg=(0,Q.A)(function*(i,e,n){if(!ds(e))throw e;i.vu.add(1),yield ed(i),i.bu.set("Offline"),n||(n=()=>rh(i.localStore)),i.asyncQueue.enqueueRetryable((0,Q.A)(function*(){Je("RemoteStore","Retrying IndexedDB access"),yield n(),i.vu.delete(1),yield ch(i)}))}),lg.apply(this,arguments)}function dg(i,e){return e().catch(n=>Ac(i,n,e))}function sd(i){return hg.apply(this,arguments)}function hg(){return hg=(0,Q.A)(function*(i){const e=mt(i),n=Ps(e);let o=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;Jv(e);)try{const u=yield rg(e.localStore,o);if(null===u){0===e.Eu.length&&n.jo();break}o=u.batchId,ry(e,u)}catch(u){yield Ac(e,u)}fg(e)&&gf(e)}),hg.apply(this,arguments)}function Jv(i){return Fu(i)&&i.Eu.length<10}function ry(i,e){i.Eu.push(e);const n=Ps(i);n.Ko()&&n.ou&&n.uu(e.mutations)}function fg(i){return Fu(i)&&!Ps(i).Uo()&&i.Eu.length>0}function gf(i){Ps(i).start()}function r0(i){return dh.apply(this,arguments)}function dh(){return dh=(0,Q.A)(function*(i){Ps(i).hu()}),dh.apply(this,arguments)}function iy(i){return pg.apply(this,arguments)}function pg(){return pg=(0,Q.A)(function*(i){const e=Ps(i);for(const n of i.Eu)e.uu(n.mutations)}),pg.apply(this,arguments)}function e_(i,e,n){return mf.apply(this,arguments)}function mf(){return mf=(0,Q.A)(function*(i,e,n){const o=i.Eu.shift(),u=Hh.from(o,e,n);yield dg(i,()=>i.remoteSyncer.applySuccessfulWrite(u)),yield sd(i)}),mf.apply(this,arguments)}function t_(i,e){return yf.apply(this,arguments)}function yf(){return yf=(0,Q.A)(function*(i,e){var n;e&&Ps(i).ou&&(yield(n=(0,Q.A)(function*(o,u){if(function D(i){switch(i){default:return It();case Te.CANCELLED:case Te.UNKNOWN:case Te.DEADLINE_EXCEEDED:case Te.RESOURCE_EXHAUSTED:case Te.INTERNAL:case Te.UNAVAILABLE:case Te.UNAUTHENTICATED:return!1;case Te.INVALID_ARGUMENT:case Te.NOT_FOUND:case Te.ALREADY_EXISTS:case Te.PERMISSION_DENIED:case Te.FAILED_PRECONDITION:case Te.ABORTED:case Te.OUT_OF_RANGE:case Te.UNIMPLEMENTED:case Te.DATA_LOSS:return!0}}(l=u.code)&&l!==Te.ABORTED){const f=o.Eu.shift();Ps(o).Qo(),yield dg(o,()=>o.remoteSyncer.rejectFailedWrite(f.batchId,u)),yield sd(o)}var l}),function(o,u){return n.apply(this,arguments)})(i,e)),fg(i)&&gf(i)}),yf.apply(this,arguments)}function sy(i,e){return gg.apply(this,arguments)}function gg(){return gg=(0,Q.A)(function*(i,e){const n=mt(i);n.asyncQueue.verifyOperationInProgress(),Je("RemoteStore","RemoteStore received new credentials");const o=Fu(n);n.vu.add(3),yield ed(n),o&&n.bu.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.vu.delete(3),yield ch(n)}),gg.apply(this,arguments)}function vf(){return vf=(0,Q.A)(function*(i,e){const n=mt(i);e?(n.vu.delete(2),yield ch(n)):e||(n.vu.add(2),yield ed(n),n.bu.set("Unknown"))}),vf.apply(this,arguments)}function dl(i){return i.Su||(i.Su=function(e,n,o){const u=mt(e);return u.fu(),new Kv(n,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{uo:ty.bind(null,i),ao:Yv.bind(null,i),nu:Zv.bind(null,i)}),i.Ru.push(function(){var e=(0,Q.A)(function*(n){n?(i.Su.Qo(),cg(i)?rd(i):i.bu.set("Unknown")):(yield i.Su.stop(),ey(i))});return function(n){return e.apply(this,arguments)}}())),i.Su}function Ps(i){return i.Du||(i.Du=function(e,n,o){const u=mt(e);return u.fu(),new Ym(n,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{uo:r0.bind(null,i),ao:t_.bind(null,i),au:iy.bind(null,i),cu:e_.bind(null,i)}),i.Ru.push(function(){var e=(0,Q.A)(function*(n){n?(i.Du.Qo(),yield sd(i)):(yield i.Du.stop(),i.Eu.length>0&&(Je("RemoteStore",`Stopping write stream with ${i.Eu.length} pending writes`),i.Eu=[]))});return function(n){return e.apply(this,arguments)}}())),i.Du}class _f{constructor(e,n,o,u,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=o,this.op=u,this.removalCallback=l,this.deferred=new $n,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}static createAndSchedule(e,n,o,u,l){const f=Date.now()+o,w=new _f(e,n,f,u,l);return w.start(o),w}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new qe(Te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function hh(i,e){if(xr("AsyncQueue",`${e}: ${i}`),ds(i))return new qe(Te.UNAVAILABLE,`${e}: ${i}`);throw i}class Sc{constructor(e){this.comparator=e?(n,o)=>e(n,o)||ft.comparator(n.key,o.key):(n,o)=>ft.comparator(n.key,o.key),this.keyedMap=su(),this.sortedSet=new pr(this.comparator)}static emptySet(e){return new Sc(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,o)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Sc)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),o=e.sortedSet.getIterator();for(;n.hasNext();){const u=n.getNext().key,l=o.getNext().key;if(!u.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const o=new Sc;return o.comparator=this.comparator,o.keyedMap=e,o.sortedSet=n,o}}class Uu{constructor(){this.Cu=new pr(ft.comparator)}track(e){const n=e.doc.key,o=this.Cu.get(n);o?0!==e.type&&3===o.type?this.Cu=this.Cu.insert(n,e):3===e.type&&1!==o.type?this.Cu=this.Cu.insert(n,{type:o.type,doc:e.doc}):2===e.type&&2===o.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):2===e.type&&0===o.type?this.Cu=this.Cu.insert(n,{type:0,doc:e.doc}):1===e.type&&0===o.type?this.Cu=this.Cu.remove(n):1===e.type&&2===o.type?this.Cu=this.Cu.insert(n,{type:1,doc:o.doc}):0===e.type&&1===o.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):It():this.Cu=this.Cu.insert(n,e)}xu(){const e=[];return this.Cu.inorderTraversal((n,o)=>{e.push(o)}),e}}class Vu{constructor(e,n,o,u,l,f,w,x,P){this.query=e,this.docs=n,this.oldDocs=o,this.docChanges=u,this.mutatedKeys=l,this.fromCache=f,this.syncStateChanged=w,this.excludesMetadataChanges=x,this.hasCachedResults=P}static fromInitialDocuments(e,n,o,u,l){const f=[];return n.forEach(w=>{f.push({type:0,doc:w})}),new Vu(e,n,Sc.emptySet(n),f,o,u,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&iu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,o=e.docChanges;if(n.length!==o.length)return!1;for(let u=0;u<n.length;u++)if(n[u].type!==o[u].type||!n[u].doc.isEqual(o[u].doc))return!1;return!0}}class n_{constructor(){this.Nu=void 0,this.listeners=[]}}class r_{constructor(){this.queries=new La(e=>Ph(e),iu),this.onlineState="Unknown",this.ku=new Set}}function fh(){return fh=(0,Q.A)(function*(i,e){const n=mt(i),o=e.query;let u=!1,l=n.queries.get(o);if(l||(u=!0,l=new n_),u)try{l.Nu=yield n.onListen(o)}catch(f){const w=hh(f,`Initialization of query '${vc(e.query)}' failed`);return void e.onError(w)}n.queries.set(o,l),l.listeners.push(e),e.Mu(n.onlineState),l.Nu&&e.$u(l.Nu)&&es(n)}),fh.apply(this,arguments)}function If(){return If=(0,Q.A)(function*(i,e){const n=mt(i),o=e.query;let u=!1;const l=n.queries.get(o);if(l){const f=l.listeners.indexOf(e);f>=0&&(l.listeners.splice(f,1),u=0===l.listeners.length)}if(u)return n.queries.delete(o),n.onUnlisten(o)}),If.apply(this,arguments)}function i_(i,e){const n=mt(i);let o=!1;for(const u of e){const f=n.queries.get(u.query);if(f){for(const w of f.listeners)w.$u(u)&&(o=!0);f.Nu=u}}o&&es(n)}function s0(i,e,n){const o=mt(i),u=o.queries.get(e);if(u)for(const l of u.listeners)l.onError(n);o.queries.delete(e)}function es(i){i.ku.forEach(e=>{e.next()})}class yg{constructor(e,n,o){this.query=e,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=o||{}}$u(e){if(!this.options.includeMetadataChanges){const o=[];for(const u of e.docChanges)3!==u.type&&o.push(u);e=new Vu(e.query,e.docs,e.oldDocs,o,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),n=!0):this.qu(e,this.onlineState)&&(this.Uu(e),n=!0),this.Bu=e,n}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let n=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),n=!0),n}qu(e,n){return!e.fromCache||(!this.options.Ku||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=Vu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class _g{constructor(e){this.key=e}}class Ig{constructor(e){this.key=e}}class uy{constructor(e,n){this.query=e,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=bn(),this.mutatedKeys=bn(),this.tc=Md(e),this.ec=new Sc(this.tc)}get nc(){return this.Yu}sc(e,n){const o=n?n.ic:new Uu,u=n?n.ec:this.ec;let l=n?n.mutatedKeys:this.mutatedKeys,f=u,w=!1;const x="F"===this.query.limitType&&u.size===this.query.limit?u.last():null,P="L"===this.query.limitType&&u.size===this.query.limit?u.first():null;if(e.inorderTraversal((z,ee)=>{const De=u.get(z),Fe=Wc(this.query,ee)?ee:null,lt=!!De&&this.mutatedKeys.has(De.key),Ct=!!Fe&&(Fe.hasLocalMutations||this.mutatedKeys.has(Fe.key)&&Fe.hasCommittedMutations);let Mt=!1;De&&Fe?De.data.isEqual(Fe.data)?lt!==Ct&&(o.track({type:3,doc:Fe}),Mt=!0):this.rc(De,Fe)||(o.track({type:2,doc:Fe}),Mt=!0,(x&&this.tc(Fe,x)>0||P&&this.tc(Fe,P)<0)&&(w=!0)):!De&&Fe?(o.track({type:0,doc:Fe}),Mt=!0):De&&!Fe&&(o.track({type:1,doc:De}),Mt=!0,(x||P)&&(w=!0)),Mt&&(Fe?(f=f.add(Fe),l=Ct?l.add(z):l.delete(z)):(f=f.delete(z),l=l.delete(z)))}),null!==this.query.limit)for(;f.size>this.query.limit;){const z="F"===this.query.limitType?f.last():f.first();f=f.delete(z.key),l=l.delete(z.key),o.track({type:1,doc:z})}return{ec:f,ic:o,zi:w,mutatedKeys:l}}rc(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,o){const u=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const l=e.ic.xu();l.sort((P,z)=>function(ee,De){const Fe=lt=>{switch(lt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return It()}};return Fe(ee)-Fe(De)}(P.type,z.type)||this.tc(P.doc,z.doc)),this.oc(o);const f=n?this.uc():[],w=0===this.Zu.size&&this.current?1:0,x=w!==this.Xu;return this.Xu=w,0!==l.length||x?{snapshot:new Vu(this.query,e.ec,u,l,e.mutatedKeys,0===w,x,!1,!!o&&o.resumeToken.approximateByteSize()>0),cc:f}:{cc:f}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new Uu,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(n=>this.Yu=this.Yu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Yu=this.Yu.delete(n)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=bn(),this.ec.forEach(o=>{this.ac(o.key)&&(this.Zu=this.Zu.add(o.key))});const n=[];return e.forEach(o=>{this.Zu.has(o)||n.push(new Ig(o))}),this.Zu.forEach(o=>{e.has(o)||n.push(new _g(o))}),n}hc(e){this.Yu=e.ir,this.Zu=bn();const n=this.sc(e.documents);return this.applyChanges(n,!0)}lc(){return Vu.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class cy{constructor(e,n,o){this.query=e,this.targetId=n,this.view=o}}class ly{constructor(e){this.key=e,this.fc=!1}}class o_{constructor(e,n,o,u,l,f){this.localStore=e,this.remoteStore=n,this.eventManager=o,this.sharedClientState=u,this.currentUser=l,this.maxConcurrentLimboResolutions=f,this.dc={},this.wc=new La(w=>Ph(w),iu),this._c=new Map,this.mc=new Set,this.gc=new pr(ft.comparator),this.yc=new Map,this.Ic=new Bm,this.Tc={},this.Ec=new Map,this.Ac=Gl.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function a_(i,e){return Eg.apply(this,arguments)}function Eg(){return Eg=(0,Q.A)(function*(i,e){const n=function Nf(i){const e=mt(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=Dg.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=h_.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=ph.bind(null,e),e.dc.nu=i_.bind(null,e.eventManager),e.dc.Pc=s0.bind(null,e.eventManager),e}(i);let o,u;const l=n.wc.get(e);if(l)o=l.targetId,n.sharedClientState.addLocalQueryTarget(o),u=l.view.lc();else{const f=yield function Ql(i,e){const n=mt(i);return n.persistence.runTransaction("Allocate target","readwrite",o=>{let u;return n.Bs.getTargetData(o,e).next(l=>l?(u=l,Ce.resolve(u)):n.Bs.allocateTargetId(o).next(f=>(u=new ma(e,f,"TargetPurposeListen",o.currentSequenceNumber),n.Bs.addTargetData(o,u).next(()=>u))))}).then(o=>{const u=n.Ji.get(o.targetId);return(null===u||o.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(o.targetId,o),n.Yi.set(e,o.targetId)),o})}(n.localStore,qi(e)),w=n.sharedClientState.addLocalQueryTarget(f.targetId);o=f.targetId,u=yield function wf(i,e,n,o,u){return Mc.apply(this,arguments)}(n,e,o,"current"===w,f.resumeToken),n.isPrimaryClient&&nd(n.remoteStore,f)}return u}),Eg.apply(this,arguments)}function Mc(){return Mc=(0,Q.A)(function*(i,e,n,o,u){i.Rc=(ee,De,Fe)=>{return(lt=(0,Q.A)(function*(Ct,Mt,Rn,cr){let Vn=Mt.view.sc(Rn);Vn.zi&&(Vn=yield Lu(Ct.localStore,Mt.query,!1).then(({documents:hi})=>Mt.view.sc(hi,Vn)));const ps=cr&&cr.targetChanges.get(Mt.targetId),ns=Mt.view.applyChanges(Vn,Ct.isPrimaryClient,ps);return fy(Ct,Mt.targetId,ns.cc),ns.snapshot}),function(Ct,Mt,Rn,cr){return lt.apply(this,arguments)})(i,ee,De,Fe);var lt};const l=yield Lu(i.localStore,e,!0),f=new uy(e,l.ir),w=f.sc(l.documents),x=Yo.createSynthesizedTargetChangeForCurrentChange(n,o&&"Offline"!==i.onlineState,u),P=f.applyChanges(w,i.isPrimaryClient,x);fy(i,n,P.cc);const z=new cy(e,n,f);return i.wc.set(e,z),i._c.has(n)?i._c.get(n).push(e):i._c.set(n,[e]),P.snapshot}),Mc.apply(this,arguments)}function Bu(i,e){return xc.apply(this,arguments)}function xc(){return xc=(0,Q.A)(function*(i,e){const n=mt(i),o=n.wc.get(e),u=n._c.get(o.targetId);if(u.length>1)return n._c.set(o.targetId,u.filter(l=>!iu(l,e))),void n.wc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(o.targetId),n.sharedClientState.isActiveQueryTarget(o.targetId)||(yield Xl(n.localStore,o.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(o.targetId),lh(n.remoteStore,o.targetId),ad(n,o.targetId)}).catch(Cs))):(ad(n,o.targetId),yield Xl(n.localStore,o.targetId,!0))}),xc.apply(this,arguments)}function wg(){return wg=(0,Q.A)(function*(i,e,n){const o=function _h(i){const e=mt(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=dy.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=c_.bind(null,e),e}(i);try{const u=yield function(l,f){const w=mt(l),x=$r.now(),P=f.reduce((De,Fe)=>De.add(Fe.key),bn());let z,ee;return w.persistence.runTransaction("Locally write mutations","readwrite",De=>{let Fe=wo(),lt=bn();return w.Zi.getEntries(De,P).next(Ct=>{Fe=Ct,Fe.forEach((Mt,Rn)=>{Rn.isValidDocument()||(lt=lt.add(Mt))})}).next(()=>w.localDocuments.getOverlayedDocuments(De,Fe)).next(Ct=>{z=Ct;const Mt=[];for(const Rn of f){const cr=Tp(Rn,z.get(Rn.key).overlayedDocument);null!=cr&&Mt.push(new Po(Rn.key,cr,A(cr.value.mapValue),Hr.exists(!0)))}return w.mutationQueue.addMutationBatch(De,x,Mt,f)}).next(Ct=>{ee=Ct;const Mt=Ct.applyToLocalDocumentSet(z,lt);return w.documentOverlayCache.saveOverlays(De,Ct.batchId,Mt)})}).then(()=>({batchId:ee.batchId,changes:Ip(z)}))}(o.localStore,e);o.sharedClientState.addPendingMutation(u.batchId),function(l,f,w){let x=l.Tc[l.currentUser.toKey()];x||(x=new pr(Ot)),x=x.insert(f,w),l.Tc[l.currentUser.toKey()]=x}(o,u.batchId,n),yield Rc(o,u.changes),yield sd(o.remoteStore)}catch(u){const l=hh(u,"Failed to persist write");n.reject(l)}}),wg.apply(this,arguments)}function Dg(i,e){return Df.apply(this,arguments)}function Df(){return Df=(0,Q.A)(function*(i,e){const n=mt(i);try{const o=yield function hu(i,e){const n=mt(i),o=e.snapshotVersion;let u=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const f=n.Zi.newChangeBuffer({trackRemovals:!0});u=n.Ji;const w=[];e.targetChanges.forEach((z,ee)=>{const De=u.get(ee);if(!De)return;w.push(n.Bs.removeMatchingKeys(l,z.removedDocuments,ee).next(()=>n.Bs.addMatchingKeys(l,z.addedDocuments,ee)));let Fe=De.withSequenceNumber(l.currentSequenceNumber);var lt,Ct,Mt;null!==e.targetMismatches.get(ee)?Fe=Fe.withResumeToken(di.EMPTY_BYTE_STRING,Ft.min()).withLastLimboFreeSnapshotVersion(Ft.min()):z.resumeToken.approximateByteSize()>0&&(Fe=Fe.withResumeToken(z.resumeToken,o)),u=u.insert(ee,Fe),Ct=Fe,Mt=z,(0===(lt=De).resumeToken.approximateByteSize()||Ct.snapshotVersion.toMicroseconds()-lt.snapshotVersion.toMicroseconds()>=3e8||Mt.addedDocuments.size+Mt.modifiedDocuments.size+Mt.removedDocuments.size>0)&&w.push(n.Bs.updateTargetData(l,Fe))});let x=wo(),P=bn();if(e.documentUpdates.forEach(z=>{e.resolvedLimboDocuments.has(z)&&w.push(n.persistence.referenceDelegate.updateLimboDocument(l,z))}),w.push(function ul(i,e,n){let o=bn(),u=bn();return n.forEach(l=>o=o.add(l)),e.getEntries(i,o).next(l=>{let f=wo();return n.forEach((w,x)=>{const P=l.get(w);x.isFoundDocument()!==P.isFoundDocument()&&(u=u.add(w)),x.isNoDocument()&&x.version.isEqual(Ft.min())?(e.removeEntry(w,x.readTime),f=f.insert(w,x)):!P.isValidDocument()||x.version.compareTo(P.version)>0||0===x.version.compareTo(P.version)&&P.hasPendingWrites?(e.addEntry(x),f=f.insert(w,x)):Je("LocalStore","Ignoring outdated watch update for ",w,". Current version:",P.version," Watch version:",x.version)}),{nr:f,sr:u}})}(l,f,e.documentUpdates).next(z=>{x=z.nr,P=z.sr})),!o.isEqual(Ft.min())){const z=n.Bs.getLastRemoteSnapshotVersion(l).next(ee=>n.Bs.setTargetsMetadata(l,l.currentSequenceNumber,o));w.push(z)}return Ce.waitFor(w).next(()=>f.apply(l)).next(()=>n.localDocuments.getLocalViewOfDocuments(l,x,P)).next(()=>x)}).then(l=>(n.Ji=u,l))}(n.localStore,e);e.targetChanges.forEach((u,l)=>{const f=n.yc.get(l);f&&(dt(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1),u.addedDocuments.size>0?f.fc=!0:u.modifiedDocuments.size>0?dt(f.fc):u.removedDocuments.size>0&&(dt(f.fc),f.fc=!1))}),yield Rc(n,o,e)}catch(o){yield Cs(o)}}),Df.apply(this,arguments)}function Tf(i,e,n){const o=mt(i);if(o.isPrimaryClient&&0===n||!o.isPrimaryClient&&1===n){const u=[];o.wc.forEach((l,f)=>{const w=f.view.Mu(e);w.snapshot&&u.push(w.snapshot)}),function(l,f){const w=mt(l);w.onlineState=f;let x=!1;w.queries.forEach((P,z)=>{for(const ee of z.listeners)ee.Mu(f)&&(x=!0)}),x&&es(w)}(o.eventManager,e),u.length&&o.dc.nu(u),o.onlineState=e,o.isPrimaryClient&&o.sharedClientState.setOnlineState(e)}}function ph(i,e,n){return od.apply(this,arguments)}function od(){return od=(0,Q.A)(function*(i,e,n){const o=mt(i);o.sharedClientState.updateQueryState(e,"rejected",n);const u=o.yc.get(e),l=u&&u.key;if(l){let f=new pr(ft.comparator);f=f.insert(l,O.newNoDocument(l,Ft.min()));const w=bn().add(l),x=new co(Ft.min(),new Map,new pr(Ot),f,w);yield Dg(o,x),o.gc=o.gc.remove(l),o.yc.delete(e),Af(o)}else yield Xl(o.localStore,e,!1).then(()=>ad(o,e,n)).catch(Cs)}),od.apply(this,arguments)}function dy(i,e){return Cf.apply(this,arguments)}function Cf(){return Cf=(0,Q.A)(function*(i,e){const n=mt(i),o=e.batch.batchId;try{const u=yield function ng(i,e){const n=mt(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const u=e.batch.keys(),l=n.Zi.newChangeBuffer({trackRemovals:!0});return function(f,w,x,P){const z=x.batch,ee=z.keys();let De=Ce.resolve();return ee.forEach(Fe=>{De=De.next(()=>P.getEntry(w,Fe)).next(lt=>{const Ct=x.docVersions.get(Fe);dt(null!==Ct),lt.version.compareTo(Ct)<0&&(z.applyToRemoteDocument(lt,x),lt.isValidDocument()&&(lt.setReadTime(x.commitVersion),P.addEntry(lt)))})}),De.next(()=>f.mutationQueue.removeMutationBatch(w,z))}(n,o,e,l).next(()=>l.apply(o)).next(()=>n.mutationQueue.performConsistencyCheck(o)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(o,u,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(o,function(f){let w=bn();for(let x=0;x<f.mutationResults.length;++x)f.mutationResults[x].transformResults.length>0&&(w=w.add(f.batch.mutations[x].key));return w}(e))).next(()=>n.localDocuments.getDocuments(o,u))})}(n.localStore,e);hy(n,o,null),bf(n,o),n.sharedClientState.updateMutationState(o,"acknowledged"),yield Rc(n,u)}catch(u){yield Cs(u)}}),Cf.apply(this,arguments)}function c_(i,e,n){return Tg.apply(this,arguments)}function Tg(){return Tg=(0,Q.A)(function*(i,e,n){const o=mt(i);try{const u=yield function(l,f){const w=mt(l);return w.persistence.runTransaction("Reject batch","readwrite-primary",x=>{let P;return w.mutationQueue.lookupMutationBatch(x,f).next(z=>(dt(null!==z),P=z.keys(),w.mutationQueue.removeMutationBatch(x,z))).next(()=>w.mutationQueue.performConsistencyCheck(x)).next(()=>w.documentOverlayCache.removeOverlaysForBatchId(x,P,f)).next(()=>w.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(x,P)).next(()=>w.localDocuments.getDocuments(x,P))})}(o.localStore,e);hy(o,e,n),bf(o,e),o.sharedClientState.updateMutationState(e,"rejected",n),yield Rc(o,u)}catch(u){yield Cs(u)}}),Tg.apply(this,arguments)}function bf(i,e){(i.Ec.get(e)||[]).forEach(n=>{n.resolve()}),i.Ec.delete(e)}function hy(i,e,n){const o=mt(i);let u=o.Tc[o.currentUser.toKey()];if(u){const l=u.get(e);l&&(n?l.reject(n):l.resolve(),u=u.remove(e)),o.Tc[o.currentUser.toKey()]=u}}function ad(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const o of i._c.get(e))i.wc.delete(o),n&&i.dc.Pc(o,n);i._c.delete(e),i.isPrimaryClient&&i.Ic.Is(e).forEach(o=>{i.Ic.containsKey(o)||d_(i,o)})}function d_(i,e){i.mc.delete(e.path.canonicalString());const n=i.gc.get(e);null!==n&&(lh(i.remoteStore,n),i.gc=i.gc.remove(e),i.yc.delete(n),Af(i))}function fy(i,e,n){for(const o of n)o instanceof _g?(i.Ic.addReference(o.key,e),py(i,o)):o instanceof Ig?(Je("SyncEngine","Document no longer in limbo: "+o.key),i.Ic.removeReference(o.key,e),i.Ic.containsKey(o.key)||d_(i,o.key)):It()}function py(i,e){const n=e.key,o=n.path.canonicalString();i.gc.get(n)||i.mc.has(o)||(Je("SyncEngine","New document in limbo: "+n),i.mc.add(o),Af(i))}function Af(i){for(;i.mc.size>0&&i.gc.size<i.maxConcurrentLimboResolutions;){const e=i.mc.values().next().value;i.mc.delete(e);const n=new ft(Fn.fromString(e)),o=i.Ac.next();i.yc.set(o,new ly(n)),i.gc=i.gc.insert(n,o),nd(i.remoteStore,new ma(qi(gc(n.path)),o,"TargetPurposeLimboResolution",y.ct))}}function Rc(i,e,n){return ud.apply(this,arguments)}function ud(){return ud=(0,Q.A)(function*(i,e,n){const o=mt(i),u=[],l=[],f=[];var w;o.wc.isEmpty()||(o.wc.forEach((w,x)=>{f.push(o.Rc(x,e,n).then(P=>{if((P||n)&&o.isPrimaryClient&&o.sharedClientState.updateQueryState(x.targetId,P?.fromCache?"not-current":"current"),P){u.push(P);const z=ef.Li(x.targetId,P);l.push(z)}}))}),yield Promise.all(f),o.dc.nu(u),yield(w=(0,Q.A)(function*(x,P){const z=mt(x);try{yield z.persistence.runTransaction("notifyLocalViewChanges","readwrite",ee=>Ce.forEach(P,De=>Ce.forEach(De.Fi,Fe=>z.persistence.referenceDelegate.addReference(ee,De.targetId,Fe)).next(()=>Ce.forEach(De.Bi,Fe=>z.persistence.referenceDelegate.removeReference(ee,De.targetId,Fe)))))}catch(ee){if(!ds(ee))throw ee;Je("LocalStore","Failed to update sequence numbers: "+ee)}for(const ee of P){const De=ee.targetId;if(!ee.fromCache){const Fe=z.Ji.get(De),Ct=Fe.withLastLimboFreeSnapshotVersion(Fe.snapshotVersion);z.Ji=z.Ji.insert(De,Ct)}}}),function(x,P){return w.apply(this,arguments)})(o.localStore,l))}),ud.apply(this,arguments)}function gy(i,e){return Sf.apply(this,arguments)}function Sf(){return Sf=(0,Q.A)(function*(i,e){const n=mt(i);if(!n.currentUser.isEqual(e)){Je("SyncEngine","User change. New user:",e.toKey());const o=yield nh(n.localStore,e);n.currentUser=e,(u=n).Ec.forEach(f=>{f.forEach(w=>{w.reject(new qe(Te.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),u.Ec.clear(),n.sharedClientState.handleUserChange(e,o.removedBatchIds,o.addedBatchIds),yield Rc(n,o.er)}var u}),Sf.apply(this,arguments)}function h_(i,e){const n=mt(i),o=n.yc.get(e);if(o&&o.fc)return bn().add(o.key);{let u=bn();const l=n._c.get(e);if(!l)return u;for(const f of l){const w=n.wc.get(f);u=u.unionWith(w.view.nc)}return u}}class cd{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return(0,Q.A)(function*(){n.serializer=hf(e.databaseInfo.databaseId),n.sharedClientState=n.createSharedClientState(e),n.persistence=n.createPersistence(e),yield n.persistence.start(),n.localStore=n.createLocalStore(e),n.gcScheduler=n.createGarbageCollectionScheduler(e,n.localStore),n.indexBackfillerScheduler=n.createIndexBackfillerScheduler(e,n.localStore)})()}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return function tf(i,e,n,o){return new zv(i,e,n,o)}(this.persistence,new Cc,e.initialUser,this.serializer)}createPersistence(e){return new Yd(Zh.zs,this.serializer)}createSharedClientState(e){return new cf}terminate(){var e=this;return(0,Q.A)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class ld{initialize(e,n){var o=this;return(0,Q.A)(function*(){o.localStore||(o.localStore=e.localStore,o.sharedClientState=e.sharedClientState,o.datastore=o.createDatastore(n),o.remoteStore=o.createRemoteStore(n),o.eventManager=o.createEventManager(n),o.syncEngine=o.createSyncEngine(n,!e.synchronizeTabs),o.sharedClientState.onlineStateHandler=u=>Tf(o.syncEngine,u,1),o.remoteStore.remoteSyncer.handleCredentialChange=gy.bind(null,o.syncEngine),yield function oy(i,e){return vf.apply(this,arguments)}(o.remoteStore,o.syncEngine.isPrimaryClient))})()}createEventManager(e){return new r_}createDatastore(e){const n=hf(e.databaseInfo.databaseId),o=new ug(e.databaseInfo);return new qv(e.authCredentials,e.appCheckCredentials,o,n)}createRemoteStore(e){return n=this.localStore,o=this.datastore,u=e.asyncQueue,l=w=>Tf(this.syncEngine,w,0),f=cl.D()?new cl:new ag,new Xv(n,o,u,l,f);var n,o,u,l,f}createSyncEngine(e,n){return function(o,u,l,f,w,x,P){const z=new o_(o,u,l,f,w,x);return P&&(z.vc=!0),z}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return(e=(0,Q.A)(function*(n){const o=mt(n);Je("RemoteStore","RemoteStore shutting down."),o.vu.add(5),yield ed(o),o.Pu.shutdown(),o.bu.set("Unknown")}),function(n){return e.apply(this,arguments)})(this.remoteStore);var e}}class Pf{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):xr("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class m_{constructor(e,n,o,u){var l=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=o,this.databaseInfo=u,this.user=Qn.UNAUTHENTICATED,this.clientId=da.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(o,function(){var f=(0,Q.A)(function*(w){Je("FirestoreClient","Received user=",w.uid),yield l.authCredentialListener(w),l.user=w});return function(w){return f.apply(this,arguments)}}()),this.appCheckCredentials.start(o,f=>(Je("FirestoreClient","Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}getConfiguration(){var e=this;return(0,Q.A)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new qe(Te.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new $n;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Q.A)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(o){const u=hh(o,"Failed to shutdown persistence");n.reject(u)}})),n.promise}}function lo(i,e){return Sg.apply(this,arguments)}function Sg(){return Sg=(0,Q.A)(function*(i,e){i.asyncQueue.verifyOperationInProgress(),Je("FirestoreClient","Initializing OfflineComponentProvider");const n=yield i.getConfiguration();yield e.initialize(n);let o=n.initialUser;i.setCredentialChangeListener(function(){var u=(0,Q.A)(function*(l){o.isEqual(l)||(yield nh(e.localStore,l),o=l)});return function(l){return u.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}),Sg.apply(this,arguments)}function Mg(i,e){return Ty.apply(this,arguments)}function Ty(){return Ty=(0,Q.A)(function*(i,e){i.asyncQueue.verifyOperationInProgress();const n=yield function Lf(i){return xg.apply(this,arguments)}(i);Je("FirestoreClient","Initializing OnlineComponentProvider");const o=yield i.getConfiguration();yield e.initialize(n,o),i.setCredentialChangeListener(u=>sy(e.remoteStore,u)),i.setAppCheckTokenChangeListener((u,l)=>sy(e.remoteStore,l)),i._onlineComponents=e}),Ty.apply(this,arguments)}function xg(){return xg=(0,Q.A)(function*(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){Je("FirestoreClient","Using user provided OfflineComponentProvider");try{yield lo(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function kf(i){return"FirebaseError"===i.name?i.code===Te.FAILED_PRECONDITION||i.code===Te.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||22===i.code||20===i.code||11===i.code}(n))throw n;Zr("Error using user provided cache. Falling back to memory cache: "+n),yield lo(i,new cd)}}else Je("FirestoreClient","Using default OfflineComponentProvider"),yield lo(i,new cd);return i._offlineComponents}),xg.apply(this,arguments)}function Ff(i){return Rg.apply(this,arguments)}function Rg(){return Rg=(0,Q.A)(function*(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(Je("FirestoreClient","Using user provided OnlineComponentProvider"),yield Mg(i,i._uninitializedComponentsProvider._online)):(Je("FirestoreClient","Using default OnlineComponentProvider"),yield Mg(i,new ld))),i._onlineComponents}),Rg.apply(this,arguments)}function Og(){return Og=(0,Q.A)(function*(i){const e=yield Ff(i),n=e.eventManager;return n.onListen=a_.bind(null,e.syncEngine),n.onUnlisten=Bu.bind(null,e.syncEngine),n}),Og.apply(this,arguments)}function Pg(i,e,n={}){const o=new $n;return i.asyncQueue.enqueueAndForget((0,Q.A)(function*(){return function(u,l,f,w,x){const P=new Pf({next:ee=>{l.enqueueAndForget(()=>function ya(i,e){return If.apply(this,arguments)}(u,z)),ee.fromCache&&"server"===w.source?x.reject(new qe(Te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):x.resolve(ee)},error:ee=>x.reject(ee)}),z=new yg(f,P,{includeMetadataChanges:!0,Ku:!0});return function mg(i,e){return fh.apply(this,arguments)}(u,z)}(yield function dd(i){return Og.apply(this,arguments)}(i),i.asyncQueue,e,n,o)})),o.promise}function jf(i){const e={};return void 0!==i.timeoutSeconds&&(e.timeoutSeconds=i.timeoutSeconds),e}const E_=new Map;function $f(i,e,n){if(!n)throw new qe(Te.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function kg(i){if(!ft.isDocumentKey(i))throw new qe(Te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function Lg(i){if(ft.isDocumentKey(i))throw new qe(Te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function hd(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const e=(n=i).constructor?n.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var n;return"function"==typeof i?"a function":It()}function An(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new qe(Te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=hd(i);throw new qe(Te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}class Ry{constructor(e){var n,o;if(void 0===e.host){if(void 0!==e.ssl)throw new qe(Te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new qe(Te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function My(i,e,n,o){if(!0===e&&!0===o)throw new qe(Te.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=jf(null!==(o=e.experimentalLongPollingOptions)&&void 0!==o?o:{}),function(u){if(void 0!==u.timeoutSeconds){if(isNaN(u.timeoutSeconds))throw new qe(Te.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new qe(Te.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new qe(Te.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class hl{constructor(e,n,o,u){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=o,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ry({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new qe(Te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new qe(Te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ry(e),void 0!==e.credentials&&(this._authCredentials=function(n){if(!n)return new Ds;switch(n.type){case"firstParty":return new Ts(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new qe(Te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=E_.get(e);n&&(Je("ComponentProvider","Removing Datastore"),E_.delete(e),n.terminate())}(this),Promise.resolve()}}class Ui{constructor(e,n,o){this.converter=n,this._key=o,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Zo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ui(this.firestore,e,this._key)}}class Ks{constructor(e,n,o){this.converter=n,this._query=o,this.type="query",this.firestore=e}withConverter(e){return new Ks(this.firestore,e,this._query)}}class Zo extends Ks{constructor(e,n,o){super(e,n,gc(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ui(this.firestore,null,new ft(e))}withConverter(e){return new Zo(this.firestore,e,this._path)}}function Eh(i,e,...n){if(i=(0,J.Ku)(i),$f("collection","path",e),i instanceof hl){const o=Fn.fromString(e,...n);return Lg(o),new Zo(i,null,o)}{if(!(i instanceof Ui||i instanceof Zo))throw new qe(Te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(Fn.fromString(e,...n));return Lg(o),new Zo(i.firestore,null,o)}}function wh(i,e,...n){if(i=(0,J.Ku)(i),1===arguments.length&&(e=da.A()),$f("doc","path",e),i instanceof hl){const o=Fn.fromString(e,...n);return kg(o),new Ui(i,null,new ft(o))}{if(!(i instanceof Ui||i instanceof Zo))throw new qe(Te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(Fn.fromString(e,...n));return kg(o),new Ui(i.firestore,i instanceof Zo?i.converter:null,new ft(o))}}class Oy{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new ah(this,"async_queue_retry"),this.Xc=()=>{const n=ll();n&&Je("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=ll();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=ll();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new $n;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,Q.A)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(n){if(!ds(n))throw n;Je("AsyncQueue","Operation failed with retryable error: "+n)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(o=>{throw this.Wc=o,this.Hc=!1,xr("INTERNAL UNHANDLED ERROR: ",function(l){let f=l.message||"";return l.stack&&(f=l.stack.includes(l.message)?l.stack:l.message+"\n"+l.stack),f}(o)),o}).then(o=>(this.Hc=!1,o))));return this.Gc=n,n}enqueueAfterDelay(e,n,o){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const u=_f.createAndSchedule(this,e,n,o,l=>this.na(l));return this.zc.push(u),u}Zc(){this.Wc&&It()}verifyOperationInProgress(){}sa(){var e=this;return(0,Q.A)(function*(){let n;do{n=e.Gc,yield n}while(n!==e.Gc)})()}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,o)=>n.targetTimeMs-o.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}}class ii extends hl{constructor(e,n,o,u){super(e,n,o,u),this.type="firestore",this._queue=new Oy,this._persistenceKey=u?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||Fg(this),this._firestoreClient.terminate()}}function Dh(i,e){const n="object"==typeof i?i:(0,Oe.Sx)(),o="string"==typeof i?i:e||"(default)",u=(0,Oe.j6)(n,"firestore").getImmediate({identifier:o});if(!u._initialized){const l=(0,J.yU)("firestore");l&&function w_(i,e,n,o={}){var u;const l=(i=An(i,hl))._getSettings(),f=`${e}:${n}`;if("firestore.googleapis.com"!==l.host&&l.host!==f&&Zr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),i._setSettings(Object.assign(Object.assign({},l),{host:f,ssl:!1})),o.mockUserToken){let w,x;if("string"==typeof o.mockUserToken)w=o.mockUserToken,x=Qn.MOCK_USER;else{w=(0,J.Fy)(o.mockUserToken,null===(u=i._app)||void 0===u?void 0:u.options.projectId);const P=o.mockUserToken.sub||o.mockUserToken.user_id;if(!P)throw new qe(Te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");x=new Qn(P)}i._authCredentials=new la(new ca(w,x))}}(u,...l)}return u}function ts(i){return i._firestoreClient||Fg(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function Fg(i){var e,n,o;const u=i._freezeSettings(),l=(w=(null===(e=i._app)||void 0===e?void 0:e.options.appId)||"",new sc(i._databaseId,w,i._persistenceKey,(P=u).host,P.ssl,P.experimentalForceLongPolling,P.experimentalAutoDetectLongPolling,jf(P.experimentalLongPollingOptions),P.useFetchStreams));var w,P;i._firestoreClient=new m_(i._authCredentials,i._appCheckCredentials,i._queue,l),null!==(n=u.cache)&&void 0!==n&&n._offlineComponentProvider&&null!==(o=u.cache)&&void 0!==o&&o._onlineComponentProvider&&(i._firestoreClient._uninitializedComponentsProvider={_offlineKind:u.cache.kind,_offline:u.cache._offlineComponentProvider,_online:u.cache._onlineComponentProvider})}class ju{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ju(di.fromBase64String(e))}catch(n){throw new qe(Te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ju(di.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class fl{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new qe(Te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new or(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class fd{constructor(e){this._methodName=e}}class Vg{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new qe(Te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new qe(Te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ot(this._lat,e._lat)||Ot(this._long,e._long)}}const A_=/^__.*__$/;class S_{constructor(e,n,o){this.data=e,this.fieldMask=n,this.fieldTransforms=o}toMutation(e,n){return null!==this.fieldMask?new Po(e,this.data,this.fieldMask,n,this.fieldTransforms):new uu(e,this.data,n,this.fieldTransforms)}}class Fy{constructor(e,n,o){this.data=e,this.fieldMask=n,this.fieldTransforms=o}toMutation(e,n){return new Po(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Uy(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw It()}}class Gf{constructor(e,n,o,u,l,f){this.settings=e,this.databaseId=n,this.serializer=o,this.ignoreUndefinedProperties=u,void 0===l&&this.ua(),this.fieldTransforms=l||[],this.fieldMask=f||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new Gf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var n;const o=null===(n=this.path)||void 0===n?void 0:n.child(e),u=this.aa({path:o,la:!1});return u.fa(e),u}da(e){var n;const o=null===(n=this.path)||void 0===n?void 0:n.child(e),u=this.aa({path:o,la:!1});return u.ua(),u}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return Hu(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(Uy(this.ca)&&A_.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class Vy{constructor(e,n,o){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=o||hf(e)}ya(e,n,o,u=!1){return new Gf({ca:e,methodName:n,ga:o,path:or.emptyPath(),la:!1,ma:u},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Pc(i){const e=i._freezeSettings(),n=hf(i._databaseId);return new Vy(i._databaseId,!!e.ignoreUndefinedProperties,n)}function Wf(i,e,n,o,u,l={}){const f=i.ya(l.merge||l.mergeFields?2:0,e,n,u);$u("Data must be an object, but it was:",f,o);const w=pd(o,f);let x,P;if(l.merge)x=new hs(f.fieldMask),P=f.fieldTransforms;else if(l.mergeFields){const z=[];for(const ee of l.mergeFields){const De=kc(e,ee,n);if(!f.contains(De))throw new qe(Te.INVALID_ARGUMENT,`Field '${De}' is specified in your field mask but missing from your input data.`);pl(z,De)||z.push(De)}x=new hs(z),P=f.fieldTransforms.filter(ee=>x.covers(ee.field))}else x=null,P=f.fieldTransforms;return new S_(new _(w),x,P)}class Kf extends fd{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Kf}}function ho(i,e){if(qs(i=(0,J.Ku)(i)))return $u("Unsupported field value:",e,i),pd(i,e);if(i instanceof fd)return function(n,o){if(!Uy(o.ca))throw o._a(`${n._methodName}() can only be used with update() and set()`);if(!o.path)throw o._a(`${n._methodName}() is not currently supported inside arrays`);const u=n._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(i,e),null;if(void 0===i&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(n,o){const u=[];let l=0;for(const f of n){let w=ho(f,o.wa(l));null==w&&(w={nullValue:"NULL_VALUE"}),u.push(w),l++}return{arrayValue:{values:u}}}(i,e)}return function(n,o){if(null===(n=(0,J.Ku)(n)))return{nullValue:"NULL_VALUE"};if("number"==typeof n)return Uh(o.serializer,n);if("boolean"==typeof n)return{booleanValue:n};if("string"==typeof n)return{stringValue:n};if(n instanceof Date){const u=$r.fromDate(n);return{timestampValue:el(o.serializer,u)}}if(n instanceof $r){const u=new $r(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:el(o.serializer,u)}}if(n instanceof Vg)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof ju)return{bytesValue:tl(o.serializer,n._byteString)};if(n instanceof Ui){const u=o.databaseId,l=n.firestore._databaseId;if(!l.isEqual(u))throw o._a(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Fd(n.firestore._databaseId||o.databaseId,n._key.path)}}throw o._a(`Unsupported field value: ${hd(n)}`)}(i,e)}function pd(i,e){const n={};return jc(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Oa(i,(o,u)=>{const l=ho(u,e.ha(o));null!=l&&(n[o]=l)}),{mapValue:{fields:n}}}function qs(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof $r||i instanceof Vg||i instanceof ju||i instanceof Ui||i instanceof fd)}function $u(i,e,n){if(!qs(n)||"object"!=typeof(o=n)||null===o||Object.getPrototypeOf(o)!==Object.prototype&&null!==Object.getPrototypeOf(o)){const o=hd(n);throw e._a("an object"===o?i+" a custom object":i+" "+o)}var o}function kc(i,e,n){if((e=(0,J.Ku)(e))instanceof fl)return e._internalPath;if("string"==typeof e)return gd(i,e);throw Hu("Field path arguments must be of type string or ",i,!1,void 0,n)}const va=new RegExp("[~\\*/\\[\\]]");function gd(i,e,n){if(e.search(va)>=0)throw Hu(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new fl(...e.split("."))._internalPath}catch{throw Hu(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function Hu(i,e,n,o,u){const l=o&&!o.isEmpty(),f=void 0!==u;let w=`Function ${e}() called with invalid data`;n&&(w+=" (via `toFirestore()`)"),w+=". ";let x="";return(l||f)&&(x+=" (found",l&&(x+=` in field ${o}`),f&&(x+=` in document ${u}`),x+=")"),new qe(Te.INVALID_ARGUMENT,w+i+x)}function pl(i,e){return i.some(n=>n.isEqual(e))}class pu{constructor(e,n,o,u,l){this._firestore=e,this._userDataWriter=n,this._key=o,this._document=u,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Ui(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new md(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(zu("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class md extends pu{data(){return super.data()}}function zu(i,e){return"string"==typeof e?gd(i,e):e instanceof fl?e._internalPath:e._delegate._internalPath}class Lc{}class gu extends Lc{}function yd(i,e,...n){let o=[];e instanceof Lc&&o.push(e),o=o.concat(n),function(u){const l=u.filter(w=>w instanceof ml).length,f=u.filter(w=>w instanceof vd).length;if(l>1||l>0&&f>0)throw new qe(Te.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(o);for(const u of o)i=u._apply(i);return i}class vd extends gu{constructor(e,n,o){super(),this._field=e,this._op=n,this._value=o,this.type="where"}static _create(e,n,o){return new vd(e,n,o)}_apply(e){const n=this._parse(e);return Gy(e._query,n),new Ks(e.firestore,e.converter,yc(e._query,n))}_parse(e){const n=Pc(e.firestore);return function(u,l,f,w,x,P,z){let ee;if(x.isKeyField()){if("array-contains"===P||"array-contains-any"===P)throw new qe(Te.INVALID_ARGUMENT,`Invalid Query. You can't perform '${P}' queries on documentId().`);if("in"===P||"not-in"===P){zy(z,P);const De=[];for(const Fe of z)De.push(P_(w,u,Fe));ee={arrayValue:{values:De}}}else ee=P_(w,u,z)}else"in"!==P&&"not-in"!==P&&"array-contains-any"!==P||zy(z,P),ee=function By(i,e,n,o=!1){return ho(n,i.ya(o?4:3,e))}(f,"where",z,"in"===P||"not-in"===P);return ot.create(x,P,ee)}(e._query,0,n,e.firestore._databaseId,this._field,this._op,this._value)}}function jy(i,e,n){const o=e,u=zu("where",i);return vd._create(u,o,n)}class ml extends Lc{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new ml(e,n)}_parse(e){const n=this._queryConstraints.map(o=>o._parse(e)).filter(o=>o.getFilters().length>0);return 1===n.length?n[0]:wt.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return 0===n.getFilters().length?e:(function(o,u){let l=o;const f=u.getFlattenedFilters();for(const w of f)Gy(l,w),l=yc(l,w)}(e._query,n),new Ks(e.firestore,e.converter,yc(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}function P_(i,e,n){if("string"==typeof(n=(0,J.Ku)(n))){if(""===n)throw new qe(Te.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Nl(e)&&-1!==n.indexOf("/"))throw new qe(Te.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const o=e.path.child(Fn.fromString(n));if(!ft.isDocumentKey(o))throw new qe(Te.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${o}' is not because it has an odd number of segments (${o.length}).`);return Io(i,new ft(o))}if(n instanceof Ui)return Io(i,n._key);throw new qe(Te.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${hd(n)}.`)}function zy(i,e){if(!Array.isArray(i)||0===i.length)throw new qe(Te.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Gy(i,e){if(e.isInequality()){const o=Au(i),u=e.field;if(null!==o&&!o.isEqual(u))throw new qe(Te.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${o.toString()}' and '${u.toString()}'`);const l=Rl(i);null!==l&&function Wy(i,e,n){if(!n.isEqual(e))throw new qe(Te.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}(0,u,l)}const n=function(o,u){for(const l of o)for(const f of l.getFlattenedFilters())if(u.indexOf(f.op)>=0)return f.op;return null}(i.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==n)throw new qe(Te.INVALID_ARGUMENT,n===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class _d{convertValue(e,n="none"){switch(zs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ii(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(_o(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw It()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const o={};return Oa(e,(u,l)=>{o[u]=this.convertValue(l,n)}),o}convertGeoPoint(e){return new Vg(Ii(e.latitude),Ii(e.longitude))}convertArray(e,n){return(e.values||[]).map(o=>this.convertValue(o,n))}convertServerTimestamp(e,n){switch(n){case"previous":const o=Hc(e);return null==o?null:this.convertValue(o,n);case"estimate":return this.convertTimestamp(Pi(e));default:return null}}convertTimestamp(e){const n=Ss(e);return new $r(n.seconds,n.nanos)}convertDocumentKey(e,n){const o=Fn.fromString(e);dt(Up(o));const u=new Ms(o.get(1),o.get(3)),l=new ft(o.popFirst(5));return u.isEqual(n)||xr(`Document ${l} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}class yl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ed extends pu{constructor(e,n,o,u,l,f){super(e,n,o,u,f),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new rp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const o=this._document.data.field(zu("DocumentSnapshot.get",e));if(null!==o)return this._userDataWriter.convertValue(o,n.serverTimestamps)}}}class rp extends Ed{data(e={}){return super.data(e)}}class wd{constructor(e,n,o,u){this._firestore=e,this._userDataWriter=n,this._snapshot=u,this.metadata=new yl(u.hasPendingWrites,u.fromCache),this.query=o}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(o=>{e.call(n,new rp(this._firestore,this._userDataWriter,o.key,o,new yl(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new qe(Te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let l=0;return o._snapshot.docChanges.map(f=>({type:"added",doc:new rp(o._firestore,o._userDataWriter,f.doc.key,f.doc,new yl(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter),oldIndex:-1,newIndex:l++}))}{let l=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(f=>u||3!==f.type).map(f=>{const w=new rp(o._firestore,o._userDataWriter,f.doc.key,f.doc,new yl(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);let x=-1,P=-1;return 0!==f.type&&(x=l.indexOf(f.doc.key),l=l.delete(f.doc.key)),1!==f.type&&(l=l.add(f.doc),P=l.indexOf(f.doc.key)),{type:$g(f.type),doc:w,oldIndex:x,newIndex:P}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function $g(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return It()}}class vl extends _d{constructor(e){super(),this.firestore=e}convertBytes(e){return new ju(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ui(this.firestore,null,n)}}function Gg(i){i=An(i,Ks);const e=An(i.firestore,ii),n=ts(e),o=new vl(e);return function gl(i){if("L"===i.limitType&&0===i.explicitOrderBy.length)throw new qe(Te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(i._query),Pg(n,i._query).then(u=>new wd(e,o,i,u))}function F_(i,e,n,...o){i=An(i,Ui);const u=An(i.firestore,ii),l=Pc(u);let f;return f="string"==typeof(e=(0,J.Ku)(e))||e instanceof fl?function Ch(i,e,n,o,u,l){const f=i.ya(1,e,n),w=[kc(e,o,n)],x=[u];if(l.length%2!=0)throw new qe(Te.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let De=0;De<l.length;De+=2)w.push(kc(e,l[De])),x.push(l[De+1]);const P=[],z=_.empty();for(let De=w.length-1;De>=0;--De)if(!pl(P,w[De])){const Fe=w[De];let lt=x[De];lt=(0,J.Ku)(lt);const Ct=f.da(Fe);if(lt instanceof Kf)P.push(Fe);else{const Mt=ho(lt,Ct);null!=Mt&&(P.push(Fe),z.set(Fe,Mt))}}const ee=new hs(P);return new Fy(z,ee,f.fieldTransforms)}(l,"updateDoc",i._key,e,n,o):function jg(i,e,n,o){const u=i.ya(1,e,n);$u("Data must be an object, but it was:",u,o);const l=[],f=_.empty();Oa(o,(x,P)=>{const z=gd(e,x,n);P=(0,J.Ku)(P);const ee=u.da(z);if(P instanceof Kf)l.push(z);else{const De=ho(P,ee);null!=De&&(l.push(z),f.set(z,De))}});const w=new hs(l);return new Fy(f,w,u.fieldTransforms)}(l,"updateDoc",i._key,e),Ah(u,[f.toMutation(i._key,Hr.exists(!0))])}function qy(i){return Ah(An(i.firestore,ii),[new Xc(i._key,Hr.none())])}function Qy(i,e){const n=An(i.firestore,ii),o=wh(i),u=function Id(i,e,n){let o;return o=i?n&&(n.merge||n.mergeFields)?i.toFirestore(e,n):i.toFirestore(e):e,o}(i.converter,e);return Ah(n,[Wf(Pc(i.firestore),"addDoc",o._key,u,null!==i.converter,{}).toMutation(o._key,Hr.exists(!1))]).then(()=>o)}function Ah(i,e){return function(n,o){const u=new $n;return n.asyncQueue.enqueueAndForget((0,Q.A)(function*(){return function u_(i,e,n){return wg.apply(this,arguments)}(yield function Ih(i){return Ff(i).then(e=>e.syncEngine)}(n),o,u)})),u.promise}(ts(i),e)}!function(i,e=!0){Cr=Oe.MF,(0,Oe.om)(new Re.uA("firestore",(n,{instanceIdentifier:o,options:u})=>{const l=n.getProvider("app").getImmediate(),f=new ii(new Cd(n.getProvider("auth-internal")),new Xu(n.getProvider("app-check-internal")),function(w,x){if(!Object.prototype.hasOwnProperty.apply(w.options,["projectId"]))throw new qe(Te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ms(w.options.projectId,x)}(l,o),l);return u=Object.assign({useFetchStreams:e},u),f._setSettings(u),f},"PUBLIC").setMultipleInstances(!0)),(0,Oe.KO)(Oi,"3.13.0",i),(0,Oe.KO)(Oi,"3.13.0","esm2017")}();class up{constructor(e){return e}}const Xg="firestore",Sh=new ne.nKC("angularfire2.firestore-instances");function sv(i){return(e,n)=>{const o=e.runOutsideAngular(()=>i(n));return new up(o)}}const ov={provide:class nv{constructor(){return(0,S.CA)(Xg)}},deps:[[new ne.Xx1,Sh]]},av={provide:up,useFactory:function iv(i,e){const n=(0,S.lR)(Xg,i,e);return n&&new up(n)},deps:[[new ne.Xx1,Sh],fe.XU]};let uv=(()=>{class i{constructor(){(0,ue.KO)("angularfire",S.xv.full,"fst")}}return i.\u0275fac=function(n){return new(n||i)},i.\u0275mod=ne.$C({type:i}),i.\u0275inj=ne.G2t({providers:[av,ov]}),i})();function cv(i,...e){return{ngModule:uv,providers:[{provide:Sh,useFactory:sv(i),multi:!0,deps:[ne.SKi,ne.zZn,S.u0,fe.gL,[new ne.Xx1,se.DF],[new ne.Xx1,K.kR],...e]}]}}const Y_=(0,S.S3)(Qy,!0),Z_=(0,S.S3)(Eh,!0),eI=(0,S.S3)(qy,!0),nI=(0,S.S3)(wh,!0),aI=(0,S.S3)(Gg,!0),fv=(0,S.S3)(Dh,!0),dI=(0,S.S3)(yd,!0),mv=(0,S.S3)(F_,!0),pI=(0,S.S3)(jy,!0)},3531:(Pt,ke,j)=>{j.d(ke,{xv:()=>Hc,u0:()=>ka,CA:()=>nu,lR:()=>Pa,S3:()=>Sl});var S=j(8699),ne=j(7037),se=j(467),fe=j(2979),ue=j(1401),K=j(8779),Q=j(5398);const Oe=(_,A)=>A.some(O=>_ instanceof O);let Re,te;const Le=new WeakMap,oe=new WeakMap,ct=new WeakMap,We=new WeakMap,Bt=new WeakMap;let _t={get(_,A,O){if(_ instanceof IDBTransaction){if("done"===A)return oe.get(_);if("objectStoreNames"===A)return _.objectStoreNames||ct.get(_);if("store"===A)return O.objectStoreNames[1]?void 0:O.objectStore(O.objectStoreNames[0])}return st(_[A])},set:(_,A,O)=>(_[A]=O,!0),has:(_,A)=>_ instanceof IDBTransaction&&("done"===A||"store"===A)||A in _};function nt(_){return"function"==typeof _?function tt(_){return _!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function me(){return te||(te=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(_)?function(...A){return _.apply(Se(this),A),st(Le.get(this))}:function(...A){return st(_.apply(Se(this),A))}:function(A,...O){const q=_.call(Se(this),A,...O);return ct.set(q,A.sort?A.sort():[A]),st(q)}}(_):(_ instanceof IDBTransaction&&function Tn(_){if(oe.has(_))return;const A=new Promise((O,q)=>{const ie=()=>{_.removeEventListener("complete",pe),_.removeEventListener("error",Ne),_.removeEventListener("abort",Ne)},pe=()=>{O(),ie()},Ne=()=>{q(_.error||new DOMException("AbortError","AbortError")),ie()};_.addEventListener("complete",pe),_.addEventListener("error",Ne),_.addEventListener("abort",Ne)});oe.set(_,A)}(_),Oe(_,function J(){return Re||(Re=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(_,_t):_)}function st(_){if(_ instanceof IDBRequest)return function Ut(_){const A=new Promise((O,q)=>{const ie=()=>{_.removeEventListener("success",pe),_.removeEventListener("error",Ne)},pe=()=>{O(st(_.result)),ie()},Ne=()=>{q(_.error),ie()};_.addEventListener("success",pe),_.addEventListener("error",Ne)});return A.then(O=>{O instanceof IDBCursor&&Le.set(O,_)}).catch(()=>{}),Bt.set(A,_),A}(_);if(We.has(_))return We.get(_);const A=nt(_);return A!==_&&(We.set(_,A),Bt.set(A,_)),A}const Se=_=>Bt.get(_),Tt=["get","getKey","getAll","getAllKeys","count"],br=["put","add","delete","clear"],er=new Map;function Ye(_,A){if(!(_ instanceof IDBDatabase)||A in _||"string"!=typeof A)return;if(er.get(A))return er.get(A);const O=A.replace(/FromIndex$/,""),q=A!==O,ie=br.includes(O);if(!(O in(q?IDBIndex:IDBObjectStore).prototype)||!ie&&!Tt.includes(O))return;const pe=function(){var Ne=(0,se.A)(function*(pt,...yt){const ot=this.transaction(pt,ie?"readwrite":"readonly");let wt=ot.store;return q&&(wt=wt.index(yt.shift())),(yield Promise.all([wt[O](...yt),ie&&ot.done]))[0]});return function(yt){return Ne.apply(this,arguments)}}();return er.set(A,pe),pe}!function et(_){_t=_(_t)}(_=>({..._,get:(A,O,q)=>Ye(A,O)||_.get(A,O,q),has:(A,O)=>!!Ye(A,O)||_.has(A,O)}));const St="@firebase/installations",rn="0.6.4",gr=1e4,si=`w:${rn}`,Xn="FIS_v2",gn="https://firebaseinstallations.googleapis.com/v1",Ee=36e5,ze=new ue.FA("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function je(_){return _ instanceof ue.g&&_.code.includes("request-failed")}function ut({projectId:_}){return`${gn}/projects/${_}/installations`}function Lt(_){return{token:_.token,requestStatus:2,expiresIn:Yn(_.expiresIn),creationTime:Date.now()}}function Yt(_,A){return Ke.apply(this,arguments)}function Ke(){return(Ke=(0,se.A)(function*(_,A){const q=(yield A.json()).error;return ze.create("request-failed",{requestName:_,serverCode:q.code,serverMessage:q.message,serverStatus:q.status})})).apply(this,arguments)}function wn({apiKey:_}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":_})}function lr(_){return bt.apply(this,arguments)}function bt(){return(bt=(0,se.A)(function*(_){const A=yield _();return A.status>=500&&A.status<600?_():A})).apply(this,arguments)}function Yn(_){return Number(_.replace("s","000"))}function kn(){return(kn=(0,se.A)(function*({appConfig:_,heartbeatServiceProvider:A},{fid:O}){const q=ut(_),ie=wn(_),pe=A.getImmediate({optional:!0});if(pe){const ot=yield pe.getHeartbeatsHeader();ot&&ie.append("x-firebase-client",ot)}const pt={method:"POST",headers:ie,body:JSON.stringify({fid:O,authVersion:Xn,appId:_.appId,sdkVersion:si})},yt=yield lr(()=>fetch(q,pt));if(yt.ok){const ot=yield yt.json();return{fid:ot.fid||O,registrationStatus:2,refreshToken:ot.refreshToken,authToken:Lt(ot.authToken)}}throw yield Yt("Create Installation",yt)})).apply(this,arguments)}function Ei(_){return new Promise(A=>{setTimeout(A,_)})}const mr=/^[cdef][\w-]{21}$/,Gn="";function jt(){try{const _=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(_),_[0]=112+_[0]%16;const O=function Zt(_){return function Ar(_){return btoa(String.fromCharCode(..._)).replace(/\+/g,"-").replace(/\//g,"_")}(_).substr(0,22)}(_);return mr.test(O)?O:Gn}catch{return Gn}}function Ir(_){return`${_.appName}!${_.appId}`}const xt=new Map;function Er(_,A){const O=Ir(_);Ur(O,A),function Nn(_,A){const O=function cn(){return!On&&"BroadcastChannel"in self&&(On=new BroadcastChannel("[Firebase] FID Change"),On.onmessage=_=>{Ur(_.data.key,_.data.fid)}),On}();O&&O.postMessage({key:_,fid:A}),function Ai(){0===xt.size&&On&&(On.close(),On=null)}()}(O,A)}function Ur(_,A){const O=xt.get(_);if(O)for(const q of O)q(A)}let On=null;const Wt="firebase-installations-database",ei=1,Jt="firebase-installations-store";let zr=null;function Si(){return zr||(zr=function Qe(_,A,{blocked:O,upgrade:q,blocking:ie,terminated:pe}={}){const Ne=indexedDB.open(_,A),pt=st(Ne);return q&&Ne.addEventListener("upgradeneeded",yt=>{q(st(Ne.result),yt.oldVersion,yt.newVersion,st(Ne.transaction))}),O&&Ne.addEventListener("blocked",()=>O()),pt.then(yt=>{pe&&yt.addEventListener("close",()=>pe()),ie&&yt.addEventListener("versionchange",()=>ie())}).catch(()=>{}),pt}(Wt,ei,{upgrade:(_,A)=>{0===A&&_.createObjectStore(Jt)}})),zr}function Dr(_,A){return Vr.apply(this,arguments)}function Vr(){return(Vr=(0,se.A)(function*(_,A){const O=Ir(_),ie=(yield Si()).transaction(Jt,"readwrite"),pe=ie.objectStore(Jt),Ne=yield pe.get(O);return yield pe.put(A,O),yield ie.done,(!Ne||Ne.fid!==A.fid)&&Er(_,A.fid),A})).apply(this,arguments)}function ti(_){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,se.A)(function*(_){const A=Ir(_),q=(yield Si()).transaction(Jt,"readwrite");yield q.objectStore(Jt).delete(A),yield q.done})).apply(this,arguments)}function Cn(_,A){return yr.apply(this,arguments)}function yr(){return(yr=(0,se.A)(function*(_,A){const O=Ir(_),ie=(yield Si()).transaction(Jt,"readwrite"),pe=ie.objectStore(Jt),Ne=yield pe.get(O),pt=A(Ne);return void 0===pt?yield pe.delete(O):yield pe.put(pt,O),yield ie.done,pt&&(!Ne||Ne.fid!==pt.fid)&&Er(_,pt.fid),pt})).apply(this,arguments)}function re(_){return B.apply(this,arguments)}function B(){return B=(0,se.A)(function*(_){let A;const O=yield Cn(_.appConfig,q=>{const ie=function H(_){return Ht(_||{fid:jt(),registrationStatus:0})}(q),pe=function $(_,A){if(0===A.registrationStatus){if(!navigator.onLine)return{installationEntry:A,registrationPromise:Promise.reject(ze.create("app-offline"))};const O={fid:A.fid,registrationStatus:1,registrationTime:Date.now()},q=function G(_,A){return he.apply(this,arguments)}(_,O);return{installationEntry:O,registrationPromise:q}}return 1===A.registrationStatus?{installationEntry:A,registrationPromise:$e(_)}:{installationEntry:A}}(_,ie);return A=pe.registrationPromise,pe.installationEntry});return O.fid===Gn?{installationEntry:yield A}:{installationEntry:O,registrationPromise:A}}),B.apply(this,arguments)}function he(){return he=(0,se.A)(function*(_,A){try{const O=yield function kt(_,A){return kn.apply(this,arguments)}(_,A);return Dr(_.appConfig,O)}catch(O){throw je(O)&&409===O.customData.serverCode?yield ti(_.appConfig):yield Dr(_.appConfig,{fid:A.fid,registrationStatus:0}),O}}),he.apply(this,arguments)}function $e(_){return gt.apply(this,arguments)}function gt(){return(gt=(0,se.A)(function*(_){let A=yield Vt(_.appConfig);for(;1===A.registrationStatus;)yield Ei(100),A=yield Vt(_.appConfig);if(0===A.registrationStatus){const{installationEntry:O,registrationPromise:q}=yield re(_);return q||O}return A})).apply(this,arguments)}function Vt(_){return Cn(_,A=>{if(!A)throw ze.create("installation-not-found");return Ht(A)})}function Ht(_){return function dn(_){return 1===_.registrationStatus&&_.registrationTime+gr<Date.now()}(_)?{fid:_.fid,registrationStatus:0}:_}function hn(){return(hn=(0,se.A)(function*({appConfig:_,heartbeatServiceProvider:A},O){const q=function fi(_,{fid:A}){return`${ut(_)}/${A}/authTokens:generate`}(_,O),ie=function vn(_,{refreshToken:A}){const O=wn(_);return O.append("Authorization",function Sn(_){return`${Xn} ${_}`}(A)),O}(_,O),pe=A.getImmediate({optional:!0});if(pe){const ot=yield pe.getHeartbeatsHeader();ot&&ie.append("x-firebase-client",ot)}const pt={method:"POST",headers:ie,body:JSON.stringify({installation:{sdkVersion:si,appId:_.appId}})},yt=yield lr(()=>fetch(q,pt));if(yt.ok)return Lt(yield yt.json());throw yield Yt("Generate Auth Token",yt)})).apply(this,arguments)}function pn(_){return Vi.apply(this,arguments)}function Vi(){return Vi=(0,se.A)(function*(_,A=!1){let O;const q=yield Cn(_.appConfig,pe=>{if(!zt(pe))throw ze.create("not-registered");const Ne=pe.authToken;if(!A&&function en(_){return 2===_.requestStatus&&!function Kn(_){const A=Date.now();return A<_.creationTime||_.creationTime+_.expiresIn<A+Ee}(_)}(Ne))return pe;if(1===Ne.requestStatus)return O=function Pe(_,A){return ye.apply(this,arguments)}(_,A),pe;{if(!navigator.onLine)throw ze.create("app-offline");const pt=function Ln(_){const A={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},_),{authToken:A})}(pe);return O=function Rt(_,A){return Kt.apply(this,arguments)}(_,pt),pt}});return O?yield O:q.authToken}),Vi.apply(this,arguments)}function ye(){return(ye=(0,se.A)(function*(_,A){let O=yield Ze(_.appConfig);for(;1===O.authToken.requestStatus;)yield Ei(100),O=yield Ze(_.appConfig);const q=O.authToken;return 0===q.requestStatus?pn(_,A):q})).apply(this,arguments)}function Ze(_){return Cn(_,A=>{if(!zt(A))throw ze.create("not-registered");return function qt(_){return 1===_.requestStatus&&_.requestTime+gr<Date.now()}(A.authToken)?Object.assign(Object.assign({},A),{authToken:{requestStatus:0}}):A})}function Kt(){return Kt=(0,se.A)(function*(_,A){try{const O=yield function tn(_,A){return hn.apply(this,arguments)}(_,A),q=Object.assign(Object.assign({},A),{authToken:O});return yield Dr(_.appConfig,q),O}catch(O){if(!je(O)||401!==O.customData.serverCode&&404!==O.customData.serverCode){const q=Object.assign(Object.assign({},A),{authToken:{requestStatus:0}});yield Dr(_.appConfig,q)}else yield ti(_.appConfig);throw O}}),Kt.apply(this,arguments)}function zt(_){return void 0!==_&&2===_.registrationStatus}function Mi(){return(Mi=(0,se.A)(function*(_){const A=_,{installationEntry:O,registrationPromise:q}=yield re(A);return q?q.catch(console.error):pn(A).catch(console.error),O.fid})).apply(this,arguments)}function rs(){return rs=(0,se.A)(function*(_,A=!1){const O=_;return yield function pi(_){return gs.apply(this,arguments)}(O),(yield pn(O,A)).token}),rs.apply(this,arguments)}function gs(){return(gs=(0,se.A)(function*(_){const{registrationPromise:A}=yield re(_);A&&(yield A)})).apply(this,arguments)}function le(_){return ze.create("missing-app-config-values",{valueName:_})}const we="installations",rt=_=>{const A=_.getProvider("app").getImmediate(),O=function ae(_){if(!_||!_.options)throw le("App Configuration");if(!_.name)throw le("App Name");const A=["projectId","apiKey","appId"];for(const O of A)if(!_.options[O])throw le(O);return{appName:_.name,projectId:_.options.projectId,apiKey:_.options.apiKey,appId:_.options.appId}}(A);return{app:A,appConfig:O,heartbeatServiceProvider:(0,fe.j6)(A,"heartbeat"),_delete:()=>Promise.resolve()}},Et=_=>{const A=_.getProvider("app").getImmediate(),O=(0,fe.j6)(A,we).getImmediate();return{getId:()=>function Bi(_){return Mi.apply(this,arguments)}(O),getToken:ie=>function ji(_){return rs.apply(this,arguments)}(O,ie)}};(function yn(){(0,fe.om)(new K.uA(we,rt,"PUBLIC")),(0,fe.om)(new K.uA("installations-internal",Et,"PRIVATE"))})(),(0,fe.KO)(St,rn),(0,fe.KO)(St,rn,"esm2017");const an="@firebase/remote-config",Wr=new ue.FA("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class mi{constructor(A,O,q,ie){this.client=A,this.storage=O,this.storageCache=q,this.logger=ie}isCachedDataFresh(A,O){if(!O)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const q=Date.now()-O,ie=q<=A;return this.logger.debug(`Config fetch cache check. Cache age millis: ${q}. Cache max age millis (minimumFetchIntervalMillis setting): ${A}. Is cache hit: ${ie}.`),ie}fetch(A){var O=this;return(0,se.A)(function*(){const[q,ie]=yield Promise.all([O.storage.getLastSuccessfulFetchTimestampMillis(),O.storage.getLastSuccessfulFetchResponse()]);if(ie&&O.isCachedDataFresh(A.cacheMaxAgeMillis,q))return ie;A.eTag=ie&&ie.eTag;const pe=yield O.client.fetch(A),Ne=[O.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===pe.status&&Ne.push(O.storage.setLastSuccessfulFetchResponse(pe)),yield Promise.all(Ne),pe})()}}function os(_=navigator){return _.languages&&_.languages[0]||_.language}class jn{constructor(A,O,q,ie,pe,Ne){this.firebaseInstallations=A,this.sdkVersion=O,this.namespace=q,this.projectId=ie,this.apiKey=pe,this.appId=Ne}fetch(A){var O=this;return(0,se.A)(function*(){const[q,ie]=yield Promise.all([O.firebaseInstallations.getId(),O.firebaseInstallations.getToken()]),Ne=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${O.projectId}/namespaces/${O.namespace}:fetch?key=${O.apiKey}`,pt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":A.eTag||"*"},yt={sdk_version:O.sdkVersion,app_instance_id:q,app_instance_id_token:ie,app_id:O.appId,language_code:os()},ot={method:"POST",headers:pt,body:JSON.stringify(yt)},wt=fetch(Ne,ot),un=new Promise((Rs,Xo)=>{A.signal.addEventListener(()=>{const ri=new Error("The operation was aborted.");ri.name="AbortError",Xo(ri)})});let Gs;try{yield Promise.race([wt,un]),Gs=yield wt}catch(Rs){let Xo="fetch-client-network";throw"AbortError"===Rs?.name&&(Xo="fetch-timeout"),Wr.create(Xo,{originalErrorMessage:Rs?.message})}let Li=Gs.status;const uc=Gs.headers.get("ETag")||void 0;let cc,uo;if(200===Gs.status){let Rs;try{Rs=yield Gs.json()}catch(Xo){throw Wr.create("fetch-client-parse",{originalErrorMessage:Xo?.message})}cc=Rs.entries,uo=Rs.state}if("INSTANCE_STATE_UNSPECIFIED"===uo?Li=500:"NO_CHANGE"===uo?Li=304:("NO_TEMPLATE"===uo||"EMPTY_CONFIG"===uo)&&(cc={}),304!==Li&&200!==Li)throw Wr.create("fetch-status",{httpStatus:Li});return{status:Li,eTag:uc,config:cc}})()}}class nn{constructor(A,O){this.client=A,this.storage=O}fetch(A){var O=this;return(0,se.A)(function*(){const q=(yield O.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return O.attemptFetch(A,q)})()}attemptFetch(A,O){var q=this;return(0,se.A)(function*(ie,{throttleEndTimeMillis:pe,backoffCount:Ne}){yield function Zn(_,A){return new Promise((O,q)=>{const ie=Math.max(A-Date.now(),0),pe=setTimeout(O,ie);_.addEventListener(()=>{clearTimeout(pe),q(Wr.create("fetch-throttle",{throttleEndTimeMillis:A}))})})}(ie.signal,pe);try{const pt=yield q.client.fetch(ie);return yield q.storage.deleteThrottleMetadata(),pt}catch(pt){if(!function ht(_){if(!(_ instanceof ue.g&&_.customData))return!1;const A=Number(_.customData.httpStatus);return 429===A||500===A||503===A||504===A}(pt))throw pt;const yt={throttleEndTimeMillis:Date.now()+(0,ue.p9)(Ne),backoffCount:Ne+1};return yield q.storage.setThrottleMetadata(yt),q.attemptFetch(ie,yt)}}).apply(this,arguments)}}class Zs{constructor(A,O,q,ie,pe){this.app=A,this._client=O,this._storageCache=q,this._storage=ie,this._logger=pe,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Or(_,A){const O=_.target.error||void 0;return Wr.create(A,{originalErrorMessage:O&&O?.message})}const Di="app_namespace_store";class Qt{constructor(A,O,q,ie=function vi(){return new Promise((_,A)=>{try{const O=indexedDB.open("firebase_remote_config",1);O.onerror=q=>{A(Or(q,"storage-open"))},O.onsuccess=q=>{_(q.target.result)},O.onupgradeneeded=q=>{0===q.oldVersion&&q.target.result.createObjectStore(Di,{keyPath:"compositeKey"})}}catch(O){A(Wr.create("storage-open",{originalErrorMessage:O?.message}))}})}()){this.appId=A,this.appName=O,this.namespace=q,this.openDbPromise=ie}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(A){return this.set("last_fetch_status",A)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(A){return this.set("last_successful_fetch_timestamp_millis",A)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(A){return this.set("last_successful_fetch_response",A)}getActiveConfig(){return this.get("active_config")}setActiveConfig(A){return this.set("active_config",A)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(A){return this.set("active_config_etag",A)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(A){return this.set("throttle_metadata",A)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(A){var O=this;return(0,se.A)(function*(){const q=yield O.openDbPromise;return new Promise((ie,pe)=>{const pt=q.transaction([Di],"readonly").objectStore(Di),yt=O.createCompositeKey(A);try{const ot=pt.get(yt);ot.onerror=wt=>{pe(Or(wt,"storage-get"))},ot.onsuccess=wt=>{const un=wt.target.result;ie(un?un.value:void 0)}}catch(ot){pe(Wr.create("storage-get",{originalErrorMessage:ot?.message}))}})})()}set(A,O){var q=this;return(0,se.A)(function*(){const ie=yield q.openDbPromise;return new Promise((pe,Ne)=>{const yt=ie.transaction([Di],"readwrite").objectStore(Di),ot=q.createCompositeKey(A);try{const wt=yt.put({compositeKey:ot,value:O});wt.onerror=un=>{Ne(Or(un,"storage-set"))},wt.onsuccess=()=>{pe()}}catch(wt){Ne(Wr.create("storage-set",{originalErrorMessage:wt?.message}))}})})()}delete(A){var O=this;return(0,se.A)(function*(){const q=yield O.openDbPromise;return new Promise((ie,pe)=>{const pt=q.transaction([Di],"readwrite").objectStore(Di),yt=O.createCompositeKey(A);try{const ot=pt.delete(yt);ot.onerror=wt=>{pe(Or(wt,"storage-delete"))},ot.onsuccess=()=>{ie()}}catch(ot){pe(Wr.create("storage-delete",{originalErrorMessage:ot?.message}))}})})()}createCompositeKey(A){return[this.appId,this.appName,this.namespace,A].join()}}class Js{constructor(A){this.storage=A}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var A=this;return(0,se.A)(function*(){const O=A.storage.getLastFetchStatus(),q=A.storage.getLastSuccessfulFetchTimestampMillis(),ie=A.storage.getActiveConfig(),pe=yield O;pe&&(A.lastFetchStatus=pe);const Ne=yield q;Ne&&(A.lastSuccessfulFetchTimestampMillis=Ne);const pt=yield ie;pt&&(A.activeConfig=pt)})()}setLastFetchStatus(A){return this.lastFetchStatus=A,this.storage.setLastFetchStatus(A)}setLastSuccessfulFetchTimestampMillis(A){return this.lastSuccessfulFetchTimestampMillis=A,this.storage.setLastSuccessfulFetchTimestampMillis(A)}setActiveConfig(A){return this.activeConfig=A,this.storage.setActiveConfig(A)}}function Fo(){return ui.apply(this,arguments)}function ui(){return(ui=(0,se.A)(function*(){if(!(0,ue.zW)())return!1;try{return yield(0,ue.eX)()}catch{return!1}})).apply(this,arguments)}!function na(){(0,fe.om)(new K.uA("remote-config",function _(A,{instanceIdentifier:O}){const q=A.getProvider("app").getImmediate(),ie=A.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Wr.create("registration-window");if(!(0,ue.zW)())throw Wr.create("indexed-db-unavailable");const{projectId:pe,apiKey:Ne,appId:pt}=q.options;if(!pe)throw Wr.create("registration-project-id");if(!Ne)throw Wr.create("registration-api-key");if(!pt)throw Wr.create("registration-app-id");const yt=new Qt(pt,q.name,O=O||"firebase"),ot=new Js(yt),wt=new Q.Vy(an);wt.logLevel=Q.$b.ERROR;const un=new jn(ie,fe.MF,O,pe,Ne,pt),Gs=new nn(un,yt),Li=new mi(Gs,yt,ot,wt),uc=new Zs(q,Li,ot,yt,wt);return function ss(_){const A=(0,ue.Ku)(_);A._initializePromise||(A._initializePromise=A._storageCache.loadFromStorage().then(()=>{A._isInitializationComplete=!0}))}(uc),uc},"PUBLIC").setMultipleInstances(!0)),(0,fe.KO)(an,"0.4.4"),(0,fe.KO)(an,"0.4.4","esm2017")}();const as=(_,A)=>A.some(O=>_ instanceof O);let Hi,Ta;const eo=new WeakMap,Ti=new WeakMap,_n=new WeakMap,ja=new WeakMap,Ca=new WeakMap;let Kr={get(_,A,O){if(_ instanceof IDBTransaction){if("done"===A)return Ti.get(_);if("objectStoreNames"===A)return _.objectStoreNames||_n.get(_);if("store"===A)return O.objectStoreNames[1]?void 0:O.objectStore(O.objectStoreNames[0])}return vr(_[A])},set:(_,A,O)=>(_[A]=O,!0),has:(_,A)=>_ instanceof IDBTransaction&&("done"===A||"store"===A)||A in _};function Mr(_){return"function"==typeof _?function bo(_){return _!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function us(){return Ta||(Ta=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(_)?function(...A){return _.apply(jr(this),A),vr(eo.get(this))}:function(...A){return vr(_.apply(jr(this),A))}:function(A,...O){const q=_.call(jr(this),A,...O);return _n.set(q,A.sort?A.sort():[A]),vr(q)}}(_):(_ instanceof IDBTransaction&&function Ni(_){if(Ti.has(_))return;const A=new Promise((O,q)=>{const ie=()=>{_.removeEventListener("complete",pe),_.removeEventListener("error",Ne),_.removeEventListener("abort",Ne)},pe=()=>{O(),ie()},Ne=()=>{q(_.error||new DOMException("AbortError","AbortError")),ie()};_.addEventListener("complete",pe),_.addEventListener("error",Ne),_.addEventListener("abort",Ne)});Ti.set(_,A)}(_),as(_,function Us(){return Hi||(Hi=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(_,Kr):_)}function vr(_){if(_ instanceof IDBRequest)return function ra(_){const A=new Promise((O,q)=>{const ie=()=>{_.removeEventListener("success",pe),_.removeEventListener("error",Ne)},pe=()=>{O(vr(_.result)),ie()},Ne=()=>{q(_.error),ie()};_.addEventListener("success",pe),_.addEventListener("error",Ne)});return A.then(O=>{O instanceof IDBCursor&&eo.set(O,_)}).catch(()=>{}),Ca.set(A,_),A}(_);if(ja.has(_))return ja.get(_);const A=Mr(_);return A!==_&&(ja.set(_,A),Ca.set(A,_)),A}const jr=_=>Ca.get(_);function Pr(_,A,{blocked:O,upgrade:q,blocking:ie,terminated:pe}={}){const Ne=indexedDB.open(_,A),pt=vr(Ne);return q&&Ne.addEventListener("upgradeneeded",yt=>{q(vr(Ne.result),yt.oldVersion,yt.newVersion,vr(Ne.transaction))}),O&&Ne.addEventListener("blocked",()=>O()),pt.then(yt=>{pe&&yt.addEventListener("close",()=>pe()),ie&&yt.addEventListener("versionchange",()=>ie())}).catch(()=>{}),pt}function _r(_,{blocked:A}={}){const O=indexedDB.deleteDatabase(_);return A&&O.addEventListener("blocked",()=>A()),vr(O).then(()=>{})}const vs=["get","getKey","getAll","getAllKeys","count"],Uo=["put","add","delete","clear"],Ci=new Map;function _s(_,A){if(!(_ instanceof IDBDatabase)||A in _||"string"!=typeof A)return;if(Ci.get(A))return Ci.get(A);const O=A.replace(/FromIndex$/,""),q=A!==O,ie=Uo.includes(O);if(!(O in(q?IDBIndex:IDBObjectStore).prototype)||!ie&&!vs.includes(O))return;const pe=function(){var Ne=(0,se.A)(function*(pt,...yt){const ot=this.transaction(pt,ie?"readwrite":"readonly");let wt=ot.store;return q&&(wt=wt.index(yt.shift())),(yield Promise.all([wt[O](...yt),ie&&ot.done]))[0]});return function(yt){return Ne.apply(this,arguments)}}();return Ci.set(A,pe),pe}!function ys(_){Kr=_(Kr)}(_=>({..._,get:(A,O,q)=>_s(A,O)||_.get(A,O,q),has:(A,O)=>!!_s(A,O)||_.has(A,O)}));const ia="/firebase-messaging-sw.js",ba="/firebase-cloud-messaging-push-scope",to="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",no="https://fcmregistrations.googleapis.com/v1",ir="google.c.a.c_id",Is="google.c.a.c_l",Ao="google.c.a.ts";var sa=function(_){return _.PUSH_RECEIVED="push-received",_.NOTIFICATION_CLICKED="notification-clicked",_}(sa||{});function zi(_){const A=new Uint8Array(_);return btoa(String.fromCharCode(...A)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Ku(_){const O=(_+"=".repeat((4-_.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),q=atob(O),ie=new Uint8Array(q.length);for(let pe=0;pe<q.length;++pe)ie[pe]=q.charCodeAt(pe);return ie}const So="fcm_token_details_db",vu=5,Ha="fcm_token_object_Store";function xo(){return xo=(0,se.A)(function*(_){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(pe=>pe.name).includes(So))return null;let A=null;return(yield Pr(So,vu,{upgrade:(q=(0,se.A)(function*(ie,pe,Ne,pt){var yt;if(pe<2||!ie.objectStoreNames.contains(Ha))return;const ot=pt.objectStore(Ha),wt=yield ot.index("fcmSenderId").get(_);if(yield ot.clear(),wt)if(2===pe){const un=wt;if(!un.auth||!un.p256dh||!un.endpoint)return;A={token:un.fcmToken,createTime:null!==(yt=un.createTime)&&void 0!==yt?yt:Date.now(),subscriptionOptions:{auth:un.auth,p256dh:un.p256dh,endpoint:un.endpoint,swScope:un.swScope,vapidKey:"string"==typeof un.vapidKey?un.vapidKey:zi(un.vapidKey)}}}else if(3===pe){const un=wt;A={token:un.fcmToken,createTime:un.createTime,subscriptionOptions:{auth:zi(un.auth),p256dh:zi(un.p256dh),endpoint:un.endpoint,swScope:un.swScope,vapidKey:zi(un.vapidKey)}}}else if(4===pe){const un=wt;A={token:un.fcmToken,createTime:un.createTime,subscriptionOptions:{auth:zi(un.auth),p256dh:zi(un.p256dh),endpoint:un.endpoint,swScope:un.swScope,vapidKey:zi(un.vapidKey)}}}}),function(pe,Ne,pt,yt){return q.apply(this,arguments)})})).close(),yield _r(So),yield _r("fcm_vapid_details_db"),yield _r("undefined"),function ro(_){if(!_||!_.subscriptionOptions)return!1;const{subscriptionOptions:A}=_;return"number"==typeof _.createTime&&_.createTime>0&&"string"==typeof _.token&&_.token.length>0&&"string"==typeof A.auth&&A.auth.length>0&&"string"==typeof A.p256dh&&A.p256dh.length>0&&"string"==typeof A.endpoint&&A.endpoint.length>0&&"string"==typeof A.swScope&&A.swScope.length>0&&"string"==typeof A.vapidKey&&A.vapidKey.length>0}(A)?A:null;var q}),xo.apply(this,arguments)}const _i="firebase-messaging-database",za=1,Gi="firebase-messaging-store";let Ga=null;function Zi(){return Ga||(Ga=Pr(_i,za,{upgrade:(_,A)=>{0===A&&_.createObjectStore(Gi)}})),Ga}function Es(_){return io.apply(this,arguments)}function io(){return io=(0,se.A)(function*(_){const A=Sa(_),q=yield(yield Zi()).transaction(Gi).objectStore(Gi).get(A);if(q)return q;{const ie=yield function Mo(_){return xo.apply(this,arguments)}(_.appConfig.senderId);if(ie)return yield Wa(_,ie),ie}}),io.apply(this,arguments)}function Wa(_,A){return kr.apply(this,arguments)}function kr(){return(kr=(0,se.A)(function*(_,A){const O=Sa(_),ie=(yield Zi()).transaction(Gi,"readwrite");return yield ie.objectStore(Gi).put(A,O),yield ie.done,A})).apply(this,arguments)}function qr(){return(qr=(0,se.A)(function*(_){const A=Sa(_),q=(yield Zi()).transaction(Gi,"readwrite");yield q.objectStore(Gi).delete(A),yield q.done})).apply(this,arguments)}function Sa({appConfig:_}){return _.appId}const Qr=new ue.FA("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function so(_,A){return Xr.apply(this,arguments)}function Xr(){return(Xr=(0,se.A)(function*(_,A){const O=yield po(_),q=aa(A),ie={method:"POST",headers:O,body:JSON.stringify(q)};let pe;try{pe=yield(yield fetch(bi(_.appConfig),ie)).json()}catch(Ne){throw Qr.create("token-subscribe-failed",{errorInfo:Ne?.toString()})}if(pe.error)throw Qr.create("token-subscribe-failed",{errorInfo:pe.error.message});if(!pe.token)throw Qr.create("token-subscribe-no-token");return pe.token})).apply(this,arguments)}function oa(){return(oa=(0,se.A)(function*(_,A){const O=yield po(_),q=aa(A.subscriptionOptions),ie={method:"PATCH",headers:O,body:JSON.stringify(q)};let pe;try{pe=yield(yield fetch(`${bi(_.appConfig)}/${A.token}`,ie)).json()}catch(Ne){throw Qr.create("token-update-failed",{errorInfo:Ne?.toString()})}if(pe.error)throw Qr.create("token-update-failed",{errorInfo:pe.error.message});if(!pe.token)throw Qr.create("token-update-no-token");return pe.token})).apply(this,arguments)}function ws(_,A){return Ro.apply(this,arguments)}function Ro(){return(Ro=(0,se.A)(function*(_,A){const q={method:"DELETE",headers:yield po(_)};try{const pe=yield(yield fetch(`${bi(_.appConfig)}/${A}`,q)).json();if(pe.error)throw Qr.create("token-unsubscribe-failed",{errorInfo:pe.error.message})}catch(ie){throw Qr.create("token-unsubscribe-failed",{errorInfo:ie?.toString()})}})).apply(this,arguments)}function bi({projectId:_}){return`${no}/projects/${_}/registrations`}function po(_){return In.apply(this,arguments)}function In(){return(In=(0,se.A)(function*({appConfig:_,installations:A}){const O=yield A.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":_.apiKey,"x-goog-firebase-installations-auth":`FIS ${O}`})})).apply(this,arguments)}function aa({p256dh:_,auth:A,endpoint:O,vapidKey:q}){const ie={web:{endpoint:O,auth:A,p256dh:_}};return q!==to&&(ie.web.applicationPubKey=q),ie}const Bs=6048e5;function ua(){return ua=(0,se.A)(function*(_){const A=yield function Tr(_,A){return ao.apply(this,arguments)}(_.swRegistration,_.vapidKey),O={vapidKey:_.vapidKey,swScope:_.swRegistration.scope,endpoint:A.endpoint,auth:zi(A.getKey("auth")),p256dh:zi(A.getKey("p256dh"))},q=yield Es(_.firebaseDependencies);if(q){if(function E(_,A){return A.vapidKey===_.vapidKey&&A.endpoint===_.endpoint&&A.auth===_.auth&&A.p256dh===_.p256dh}(q.subscriptionOptions,O))return Date.now()>=q.createTime+Bs?function Iu(_,A){return Bo.apply(this,arguments)}(_,{token:q.token,createTime:Date.now(),subscriptionOptions:O}):q.token;try{yield ws(_.firebaseDependencies,q.token)}catch(ie){console.warn(ie)}return go(_.firebaseDependencies,O)}return go(_.firebaseDependencies,O)}),ua.apply(this,arguments)}function oo(){return oo=(0,se.A)(function*(_){const A=yield Es(_.firebaseDependencies);A&&(yield ws(_.firebaseDependencies,A.token),yield function Vs(_){return qr.apply(this,arguments)}(_.firebaseDependencies));const O=yield _.swRegistration.pushManager.getSubscription();return!O||O.unsubscribe()}),oo.apply(this,arguments)}function Bo(){return Bo=(0,se.A)(function*(_,A){try{const O=yield function _u(_,A){return oa.apply(this,arguments)}(_.firebaseDependencies,A),q=Object.assign(Object.assign({},A),{token:O,createTime:Date.now()});return yield Wa(_.firebaseDependencies,q),O}catch(O){throw yield function Vo(_){return oo.apply(this,arguments)}(_),O}}),Bo.apply(this,arguments)}function go(_,A){return Wi.apply(this,arguments)}function Wi(){return(Wi=(0,se.A)(function*(_,A){const q={token:yield so(_,A),createTime:Date.now(),subscriptionOptions:A};return yield Wa(_,q),q.token})).apply(this,arguments)}function ao(){return(ao=(0,se.A)(function*(_,A){return(yield _.pushManager.getSubscription())||_.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Ku(A)})})).apply(this,arguments)}function F(_){const A={from:_.from,collapseKey:_.collapse_key,messageId:_.fcmMessageId};return function M(_,A){if(!A.notification)return;_.notification={};const O=A.notification.title;O&&(_.notification.title=O);const q=A.notification.body;q&&(_.notification.body=q);const ie=A.notification.image;ie&&(_.notification.image=ie);const pe=A.notification.icon;pe&&(_.notification.icon=pe)}(A,_),function k(_,A){A.data&&(_.data=A.data)}(A,_),function Z(_,A){var O,q,ie,pe,Ne;if(!(A.fcmOptions||null!==(O=A.notification)&&void 0!==O&&O.click_action))return;_.fcmOptions={};const pt=null!==(ie=null===(q=A.fcmOptions)||void 0===q?void 0:q.link)&&void 0!==ie?ie:null===(pe=A.notification)||void 0===pe?void 0:pe.click_action;pt&&(_.fcmOptions.link=pt);const yt=null===(Ne=A.fcmOptions)||void 0===Ne?void 0:Ne.analytics_label;yt&&(_.fcmOptions.analyticsLabel=yt)}(A,_),A}function Be(_,A){const O=[];for(let q=0;q<_.length;q++)O.push(_.charAt(q)),q<A.length&&O.push(A.charAt(q));return O.join("")}function qn(_){return Qr.create("missing-app-config-values",{valueName:_})}Be("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Be("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Jn{constructor(A,O,q){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const ie=function Nt(_){if(!_||!_.options)throw qn("App Configuration Object");if(!_.name)throw qn("App Name");const A=["projectId","apiKey","appId","messagingSenderId"],{options:O}=_;for(const q of A)if(!O[q])throw qn(q);return{appName:_.name,projectId:O.projectId,apiKey:O.apiKey,appId:O.appId,senderId:O.messagingSenderId}}(A);this.firebaseDependencies={app:A,appConfig:ie,installations:O,analyticsProvider:q}}_delete(){return Promise.resolve()}}function sn(){return(sn=(0,se.A)(function*(_){try{_.swRegistration=yield navigator.serviceWorker.register(ia,{scope:ba}),_.swRegistration.update().catch(()=>{})}catch(A){throw Qr.create("failed-service-worker-registration",{browserErrorMessage:A?.message})}})).apply(this,arguments)}function sr(){return(sr=(0,se.A)(function*(_,A){if(!A&&!_.swRegistration&&(yield function xn(_){return sn.apply(this,arguments)}(_)),A||!_.swRegistration){if(!(A instanceof ServiceWorkerRegistration))throw Qr.create("invalid-sw-registration");_.swRegistration=A}})).apply(this,arguments)}function ni(){return(ni=(0,se.A)(function*(_,A){A?_.vapidKey=A:_.vapidKey||(_.vapidKey=to)})).apply(this,arguments)}function Qn(){return Qn=(0,se.A)(function*(_,A){if(!navigator)throw Qr.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Qr.create("permission-blocked");return yield function ci(_,A){return ni.apply(this,arguments)}(_,A?.vapidKey),yield function dr(_,A){return sr.apply(this,arguments)}(_,A?.serviceWorkerRegistration),function js(_){return ua.apply(this,arguments)}(_)}),Qn.apply(this,arguments)}function Yr(){return(Yr=(0,se.A)(function*(_,A,O){const q=function $s(_){switch(_){case sa.NOTIFICATION_CLICKED:return"notification_open";case sa.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(A);(yield _.firebaseDependencies.analyticsProvider.get()).logEvent(q,{message_id:O[ir],message_name:O[Is],message_time:O[Ao],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Je(){return Je=(0,se.A)(function*(_,A){const O=A.data;if(!O.isFirebaseMessaging)return;_.onMessageHandler&&O.messageType===sa.PUSH_RECEIVED&&("function"==typeof _.onMessageHandler?_.onMessageHandler(F(O)):_.onMessageHandler.next(F(O)));const q=O.data;(function Me(_){return"object"==typeof _&&!!_&&ir in _})(q)&&"1"===q["google.c.a.e"]&&(yield function Cr(_,A,O){return Yr.apply(this,arguments)}(_,O.messageType,q))}),Je.apply(this,arguments)}const xr="@firebase/messaging",Ka=_=>{const A=new Jn(_.getProvider("app").getImmediate(),_.getProvider("installations-internal").getImmediate(),_.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",O=>function jo(_,A){return Je.apply(this,arguments)}(A,O)),A},It=_=>{const A=_.getProvider("messaging").getImmediate();return{getToken:q=>function Oi(_,A){return Qn.apply(this,arguments)}(A,q)}};function qu(){return mt.apply(this,arguments)}function mt(){return(mt=(0,se.A)(function*(){try{yield(0,ue.eX)()}catch{return!1}return typeof window<"u"&&(0,ue.zW)()&&(0,ue.dM)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function dt(){(0,fe.om)(new K.uA("messaging",Ka,"PUBLIC")),(0,fe.om)(new K.uA("messaging-internal",It,"PRIVATE")),(0,fe.KO)(xr,"0.12.4"),(0,fe.KO)(xr,"0.12.4","esm2017")}();const Ts="analytics",Qu="firebase_id",Xu="origin",Vc=6e4,Lr="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",da="https://www.googletagmanager.com/gtag/js",Ot=new Q.Vy("@firebase/analytics"),hr=new ue.FA("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function $r(_){if(!_.startsWith(da)){const A=hr.create("invalid-gtag-resource",{gtagURL:_});return Ot.warn(A.message),""}return _}function Ft(_){return Promise.all(_.map(A=>A.catch(O=>O)))}function ft(){return(ft=(0,se.A)(function*(_,A,O,q,ie,pe){const Ne=q[ie];try{if(Ne)yield A[Ne];else{const yt=(yield Ft(O)).find(ot=>ot.measurementId===ie);yt&&(yield A[yt.appId])}}catch(pt){Ot.error(pt)}_("config",ie,pe)})).apply(this,arguments)}function xa(){return(xa=(0,se.A)(function*(_,A,O,q,ie){try{let pe=[];if(ie&&ie.send_to){let Ne=ie.send_to;Array.isArray(Ne)||(Ne=[Ne]);const pt=yield Ft(O);for(const yt of Ne){const ot=pt.find(un=>un.measurementId===yt),wt=ot&&A[ot.appId];if(!wt){pe=[];break}pe.push(wt)}}0===pe.length&&(pe=Object.values(A)),yield Promise.all(pe),_("event",q,ie||{})}catch(pe){Ot.error(pe)}})).apply(this,arguments)}const Un=30,li=new class wu{constructor(A={},O=1e3){this.throttleMetadata=A,this.intervalMillis=O}getThrottleMetadata(A){return this.throttleMetadata[A]}setThrottleMetadata(A,O){this.throttleMetadata[A]=O}deleteThrottleMetadata(A){delete this.throttleMetadata[A]}};function cs(_){return new Headers({Accept:"application/json","x-goog-api-key":_})}function ls(){return(ls=(0,se.A)(function*(_){var A;const{appId:O,apiKey:q}=_,ie={method:"GET",headers:cs(q)},pe=Lr.replace("{app-id}",O),Ne=yield fetch(pe,ie);if(200!==Ne.status&&304!==Ne.status){let pt="";try{const yt=yield Ne.json();null!==(A=yt.error)&&void 0!==A&&A.message&&(pt=yt.error.message)}catch{}throw hr.create("config-fetch-failed",{httpStatus:Ne.status,responseMessage:pt})}return Ne.json()})).apply(this,arguments)}function Cs(){return(Cs=(0,se.A)(function*(_,A=li,O){const{appId:q,apiKey:ie,measurementId:pe}=_.options;if(!q)throw hr.create("no-app-id");if(!ie){if(pe)return{measurementId:pe,appId:q};throw hr.create("no-api-key")}const Ne=A.getThrottleMetadata(q)||{backoffCount:0,throttleEndTimeMillis:Date.now()},pt=new mo;return setTimeout((0,se.A)(function*(){pt.abort()}),void 0!==O?O:Vc),Qa({appId:q,apiKey:ie,measurementId:pe},Ne,pt,A)})).apply(this,arguments)}function Qa(_,A,O){return Ce.apply(this,arguments)}function Ce(){return Ce=(0,se.A)(function*(_,{throttleEndTimeMillis:A,backoffCount:O},q,ie=li){var pe;const{appId:Ne,measurementId:pt}=_;try{yield function Ra(_,A){return new Promise((O,q)=>{const ie=Math.max(A-Date.now(),0),pe=setTimeout(O,ie);_.addEventListener(()=>{clearTimeout(pe),q(hr.create("fetch-throttle",{throttleEndTimeMillis:A}))})})}(q,A)}catch(yt){if(pt)return Ot.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${pt} provided in the "measurementId" field in the local Firebase config. [${yt?.message}]`),{appId:Ne,measurementId:pt};throw yt}try{const yt=yield function zo(_){return ls.apply(this,arguments)}(_);return ie.deleteThrottleMetadata(Ne),yt}catch(yt){const ot=yt;if(!function ar(_){if(!(_ instanceof ue.g&&_.customData))return!1;const A=Number(_.customData.httpStatus);return 429===A||500===A||503===A||504===A}(ot)){if(ie.deleteThrottleMetadata(Ne),pt)return Ot.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${pt} provided in the "measurementId" field in the local Firebase config. [${ot?.message}]`),{appId:Ne,measurementId:pt};throw yt}const wt=503===Number(null===(pe=ot?.customData)||void 0===pe?void 0:pe.httpStatus)?(0,ue.p9)(O,ie.intervalMillis,Un):(0,ue.p9)(O,ie.intervalMillis),un={throttleEndTimeMillis:Date.now()+wt,backoffCount:O+1};return ie.setThrottleMetadata(Ne,un),Ot.debug(`Calling attemptFetch again in ${wt} millis`),Qa(_,un,q,ie)}}),Ce.apply(this,arguments)}class mo{constructor(){this.listeners=[]}addEventListener(A){this.listeners.push(A)}abort(){this.listeners.forEach(A=>A())}}let yo,V;function bs(){return(bs=(0,se.A)(function*(_,A,O,q,ie){if(ie&&ie.global)_("event",O,q);else{const pe=yield A;_("event",O,Object.assign(Object.assign({},q),{send_to:pe}))}})).apply(this,arguments)}function vt(){return(vt=(0,se.A)(function*(){if(!(0,ue.zW)())return Ot.warn(hr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ue.eX)()}catch(_){return Ot.warn(hr.create("indexeddb-unavailable",{errorInfo:_?.toString()}).message),!1}return!0})).apply(this,arguments)}function Hn(){return Hn=(0,se.A)(function*(_,A,O,q,ie,pe,Ne){var pt;const yt=function qa(_){return Cs.apply(this,arguments)}(_);yt.then(Li=>{O[Li.measurementId]=Li.appId,_.options.measurementId&&Li.measurementId!==_.options.measurementId&&Ot.warn(`The measurement ID in the local Firebase config (${_.options.measurementId}) does not match the measurement ID fetched from the server (${Li.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Li=>Ot.error(Li)),A.push(yt);const ot=function ve(){return vt.apply(this,arguments)}().then(Li=>{if(Li)return q.getId()}),[wt,un]=yield Promise.all([yt,ot]);(function He(_){const A=window.document.getElementsByTagName("script");for(const O of Object.values(A))if(O.src&&O.src.includes(da)&&O.src.includes(_))return O;return null})(pe)||function Fn(_,A){const O=function Ma(_,A){let O;return window.trustedTypes&&(O=window.trustedTypes.createPolicy(_,A)),O}("firebase-js-sdk-policy",{createScriptURL:$r}),q=document.createElement("script"),ie=`${da}?l=${_}&id=${A}`;q.src=O?O?.createScriptURL(ie):ie,q.async=!0,document.head.appendChild(q)}(pe,wt.measurementId),V&&(ie("consent","default",V),function Y(_){V=_}(void 0)),ie("js",new Date);const Gs=null!==(pt=Ne?.config)&&void 0!==pt?pt:{};return Gs[Xu]="firebase",Gs.update=!0,null!=un&&(Gs[Qu]=un),ie("config",wt.measurementId,Gs),yo&&(ie("set",yo),function Ie(_){yo=_}(void 0)),wt.measurementId}),Hn.apply(this,arguments)}class Pn{constructor(A){this.app=A}_delete(){return delete Wn[this.app.options.appId],Promise.resolve()}}let Wn={},Ji=[];const fr={};let ec,Oo,As="dataLayer",tc=!1;function Na(_,A,O){!function nc(){const _=[];if((0,ue.sr)()&&_.push("This is a browser extension environment."),(0,ue.dM)()||_.push("Cookies are not available."),_.length>0){const A=_.map((q,ie)=>`(${ie+1}) ${q}`).join(" "),O=hr.create("invalid-analytics-context",{errorInfo:A});Ot.warn(O.message)}}();const q=_.options.appId;if(!q)throw hr.create("no-app-id");if(!_.options.apiKey){if(!_.options.measurementId)throw hr.create("no-api-key");Ot.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${_.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Wn[q])throw hr.create("already-exists",{id:q});if(!tc){!function ha(_){let A=[];Array.isArray(window[_])?A=window[_]:window[_]=A}(As);const{wrappedGtag:pe,gtagCore:Ne}=function Eu(_,A,O,q,ie){let pe=function(...Ne){window[q].push(arguments)};return window[ie]&&"function"==typeof window[ie]&&(pe=window[ie]),window[ie]=function No(_,A,O,q){function pe(){return pe=(0,se.A)(function*(Ne,...pt){try{if("event"===Ne){const[yt,ot]=pt;yield function $o(_,A,O,q,ie){return xa.apply(this,arguments)}(_,A,O,yt,ot)}else if("config"===Ne){const[yt,ot]=pt;yield function or(_,A,O,q,ie,pe){return ft.apply(this,arguments)}(_,A,O,q,yt,ot)}else if("consent"===Ne){const[yt]=pt;_("consent","update",yt)}else if("get"===Ne){const[yt,ot,wt]=pt;_("get",yt,ot,wt)}else if("set"===Ne){const[yt]=pt;_("set",yt)}else _(Ne,...pt)}catch(yt){Ot.error(yt)}}),pe.apply(this,arguments)}return function ie(Ne){return pe.apply(this,arguments)}}(pe,_,A,O),{gtagCore:pe,wrappedGtag:window[ie]}}(Wn,Ji,fr,As,"gtag");Oo=pe,ec=Ne,tc=!0}return Wn[q]=function Xt(_,A,O,q,ie,pe,Ne){return Hn.apply(this,arguments)}(_,Ji,fr,A,ec,As,O),new Pn(_)}function rc(){return pa.apply(this,arguments)}function pa(){return(pa=(0,se.A)(function*(){if((0,ue.sr)()||!(0,ue.dM)()||!(0,ue.zW)())return!1;try{return yield(0,ue.eX)()}catch{return!1}})).apply(this,arguments)}const Ja="@firebase/analytics";!function Fr(){(0,fe.om)(new K.uA(Ts,(A,{options:O})=>Na(A.getProvider("app").getImmediate(),A.getProvider("installations-internal").getImmediate(),O),"PUBLIC")),(0,fe.om)(new K.uA("analytics-internal",function _(A){try{const O=A.getProvider(Ts).getImmediate();return{logEvent:(q,ie,pe)=>function jc(_,A,O,q){_=(0,ue.Ku)(_),function ds(_,A,O,q,ie){return bs.apply(this,arguments)}(Oo,Wn[_.app.options.appId],A,O,q).catch(ie=>Ot.error(ie))}(O,q,ie,pe)}}catch(O){throw hr.create("interop-component-reg-failed",{reason:O})}},"PRIVATE")),(0,fe.KO)(Ja,"0.10.0"),(0,fe.KO)(Ja,"0.10.0","esm2017")}();var Tl=j(6780),hs=j(3604);const Cl=new class tu extends hs.q{}(class eu extends Tl.R{constructor(A,O){super(A,O),this.scheduler=A,this.work=O}schedule(A,O=0){return O>0?super.schedule(A,O):(this.delay=O,this.state=A,this.scheduler.flush(this),this)}execute(A,O){return O>0||this.closed?super.execute(A,O):this._execute(A,O)}requestAsyncId(A,O,q=0){return null!=q&&q>0||null==q&&this.delay>0?super.requestAsyncId(A,O,q):(A.flush(this),0)}});var $c=j(3236),Ss=j(1985),Ii=j(8141),_o=j(6745),ga=j(941);const Hc=new S.RxE("7.6.1"),Pi="__angularfire_symbol__analyticsIsSupportedValue",sc="__angularfire_symbol__analyticsIsSupported",Ms="__angularfire_symbol__remoteConfigIsSupportedValue",Hs="__angularfire_symbol__remoteConfigIsSupported",Go="__angularfire_symbol__messagingIsSupportedValue",zs="__angularfire_symbol__messagingIsSupported";function Pa(_,A,O){if(A){if(1===A.length)return A[0];const pe=A.filter(Ne=>Ne.app===O);if(1===pe.length)return pe[0]}return O.container.getProvider(_).getImmediate({optional:!0})}globalThis[sc]||(globalThis[sc]=rc().then(_=>globalThis[Pi]=_).catch(()=>globalThis[Pi]=!1)),globalThis[zs]||(globalThis[zs]=qu().then(_=>globalThis[Go]=_).catch(()=>globalThis[Go]=!1)),globalThis[Hs]||(globalThis[Hs]=Fo().then(_=>globalThis[Ms]=_).catch(()=>globalThis[Ms]=!1));const nu=(_,A)=>{const O=A?[A]:(0,ne.Dk)(),q=[];return O.forEach(ie=>{ie.container.getProvider(_).instances.forEach(Ne=>{q.includes(Ne)||q.push(Ne)})}),q};function Ko(){}class Io{constructor(A,O=Cl){this.zone=A,this.delegate=O}now(){return this.delegate.now()}schedule(A,O,q){const ie=this.zone;return this.delegate.schedule(function(Ne){ie.runGuarded(()=>{A.apply(this,[Ne])})},O,q)}}class qo{constructor(A){this.zone=A,this.task=null}call(A,O){const q=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ko,{},Ko,Ko)),O.pipe((0,Ii.M)({next:q,complete:q,error:q})).subscribe(A).add(q)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let ka=(()=>{class _{constructor(O){this.ngZone=O,this.outsideAngular=O.runOutsideAngular(()=>new Io(Zone.current)),this.insideAngular=O.run(()=>new Io(Zone.current,$c.E)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return _.\u0275fac=function(O){return new(O||_)(S.KVO(S.SKi))},_.\u0275prov=S.jDH({token:_,factory:_.\u0275fac,providedIn:"root"}),_})();function Qo(){const _=globalThis.\u0275AngularFireScheduler;if(!_)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return _}function fs(_){return Qo().ngZone.run(()=>_())}function bd(_){return Qo(),function Al(_){return function(O){return(O=O.lift(new qo(_.ngZone))).pipe((0,_o._)(_.outsideAngular),(0,ga.Q)(_.insideAngular))}}(Qo())(_)}const ac=(_,A)=>function(){const q=arguments;return A&&setTimeout(()=>{"scheduled"===A.state&&A.invoke()},10),fs(()=>_.apply(void 0,q))},Sl=(_,A)=>function(){let O;const q=arguments;for(let pe=0;pe<arguments.length;pe++)"function"==typeof q[pe]&&(A&&(O||(O=fs(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ko,{},Ko,Ko)))),q[pe]=ac(q[pe],O));const ie=function zc(_){return Qo().ngZone.runOutsideAngular(()=>_())}(()=>_.apply(this,q));if(!A){if(ie instanceof Ss.c){const pe=Qo();return ie.pipe((0,_o._)(pe.outsideAngular),(0,ga.Q)(pe.insideAngular))}return fs(()=>ie)}return ie instanceof Ss.c?ie.pipe(bd):ie instanceof Promise?fs(()=>new Promise((pe,Ne)=>ie.then(pt=>fs(()=>pe(pt)),pt=>fs(()=>Ne(pt))))):"function"==typeof ie&&O?function(){return setTimeout(()=>{O&&"scheduled"===O.state&&O.invoke()},10),ie.apply(this,arguments)}:fs(()=>ie)}},1401:(Pt,ke,j)=>{j.d(ke,{Am:()=>mr,FA:()=>xe,Fy:()=>st,I9:()=>Gn,Im:()=>Sn,K3:()=>K,Ku:()=>yr,T9:()=>et,Tj:()=>Tn,Uj:()=>Re,XA:()=>tt,ZQ:()=>Se,bD:()=>kn,cY:()=>nt,dM:()=>Ee,eX:()=>gn,g:()=>be,hp:()=>jt,jZ:()=>Qe,lT:()=>St,lV:()=>er,nr:()=>si,p9:()=>ti,sr:()=>br,tD:()=>Ir,u:()=>te,yU:()=>_t,zW:()=>Xn});const fe=function(re){const B=[];let H=0;for(let $=0;$<re.length;$++){let G=re.charCodeAt($);G<128?B[H++]=G:G<2048?(B[H++]=G>>6|192,B[H++]=63&G|128):55296==(64512&G)&&$+1<re.length&&56320==(64512&re.charCodeAt($+1))?(G=65536+((1023&G)<<10)+(1023&re.charCodeAt(++$)),B[H++]=G>>18|240,B[H++]=G>>12&63|128,B[H++]=G>>6&63|128,B[H++]=63&G|128):(B[H++]=G>>12|224,B[H++]=G>>6&63|128,B[H++]=63&G|128)}return B},K={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(re,B){if(!Array.isArray(re))throw Error("encodeByteArray takes an array as a parameter");this.init_();const H=B?this.byteToCharMapWebSafe_:this.byteToCharMap_,$=[];for(let G=0;G<re.length;G+=3){const he=re[G],$e=G+1<re.length,gt=$e?re[G+1]:0,Vt=G+2<re.length,Ht=Vt?re[G+2]:0;let hn=(15&gt)<<2|Ht>>6,fi=63&Ht;Vt||(fi=64,$e||(hn=64)),$.push(H[he>>2],H[(3&he)<<4|gt>>4],H[hn],H[fi])}return $.join("")},encodeString(re,B){return this.HAS_NATIVE_SUPPORT&&!B?btoa(re):this.encodeByteArray(fe(re),B)},decodeString(re,B){return this.HAS_NATIVE_SUPPORT&&!B?atob(re):function(re){const B=[];let H=0,$=0;for(;H<re.length;){const G=re[H++];if(G<128)B[$++]=String.fromCharCode(G);else if(G>191&&G<224){const he=re[H++];B[$++]=String.fromCharCode((31&G)<<6|63&he)}else if(G>239&&G<365){const Vt=((7&G)<<18|(63&re[H++])<<12|(63&re[H++])<<6|63&re[H++])-65536;B[$++]=String.fromCharCode(55296+(Vt>>10)),B[$++]=String.fromCharCode(56320+(1023&Vt))}else{const he=re[H++],$e=re[H++];B[$++]=String.fromCharCode((15&G)<<12|(63&he)<<6|63&$e)}}return B.join("")}(this.decodeStringToByteArray(re,B))},decodeStringToByteArray(re,B){this.init_();const H=B?this.charToByteMapWebSafe_:this.charToByteMap_,$=[];for(let G=0;G<re.length;){const he=H[re.charAt(G++)],gt=G<re.length?H[re.charAt(G)]:0;++G;const Ht=G<re.length?H[re.charAt(G)]:64;++G;const tn=G<re.length?H[re.charAt(G)]:64;if(++G,null==he||null==gt||null==Ht||null==tn)throw new Q;$.push(he<<2|gt>>4),64!==Ht&&($.push(gt<<4&240|Ht>>2),64!==tn&&$.push(Ht<<6&192|tn))}return $},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let re=0;re<this.ENCODED_VALS.length;re++)this.byteToCharMap_[re]=this.ENCODED_VALS.charAt(re),this.charToByteMap_[this.byteToCharMap_[re]]=re,this.byteToCharMapWebSafe_[re]=this.ENCODED_VALS_WEBSAFE.charAt(re),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[re]]=re,re>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(re)]=re,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(re)]=re)}}};class Q extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Re=function(re){return function(re){const B=fe(re);return K.encodeByteArray(B,!0)}(re).replace(/\./g,"")},te=function(re){try{return K.decodeString(re,!0)}catch(B){console.error("base64Decode failed: ",B)}return null},Ut=()=>{try{return function oe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const re=process.env.__FIREBASE_DEFAULTS__;return re?JSON.parse(re):void 0})()||(()=>{if(typeof document>"u")return;let re;try{re=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const B=re&&te(re[1]);return B&&JSON.parse(B)})()}catch(re){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${re}`)}},Tn=re=>{var B,H;return null===(H=null===(B=Ut())||void 0===B?void 0:B.emulatorHosts)||void 0===H?void 0:H[re]},_t=re=>{const B=Tn(re);if(!B)return;const H=B.lastIndexOf(":");if(H<=0||H+1===B.length)throw new Error(`Invalid host ${B} with no separate hostname and port!`);const $=parseInt(B.substring(H+1),10);return"["===B[0]?[B.substring(1,H-1),$]:[B.substring(0,H),$]},et=()=>{var re;return null===(re=Ut())||void 0===re?void 0:re.config},tt=re=>{var B;return null===(B=Ut())||void 0===B?void 0:B[`_${re}`]};class nt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((B,H)=>{this.resolve=B,this.reject=H})}wrapCallback(B){return(H,$)=>{H?this.reject(H):this.resolve($),"function"==typeof B&&(this.promise.catch(()=>{}),1===B.length?B(H):B(H,$))}}}function st(re,B){if(re.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const $=B||"demo-project",G=re.iat||0,he=re.sub||re.user_id;if(!he)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const $e=Object.assign({iss:`https://securetoken.google.com/${$}`,aud:$,iat:G,exp:G+3600,auth_time:G,sub:he,user_id:he,firebase:{sign_in_provider:"custom",identities:{}}},re);return[Re(JSON.stringify({alg:"none",type:"JWT"})),Re(JSON.stringify($e)),""].join(".")}function Se(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Qe(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Se())}function br(){const re="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof re&&void 0!==re.id}function er(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function St(){const re=Se();return re.indexOf("MSIE ")>=0||re.indexOf("Trident/")>=0}function si(){return!function Ge(){var re;const B=null===(re=Ut())||void 0===re?void 0:re.forceEnvironment;if("node"===B)return!0;if("browser"===B)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Xn(){try{return"object"==typeof indexedDB}catch{return!1}}function gn(){return new Promise((re,B)=>{try{let H=!0;const $="validate-browser-context-for-indexeddb-analytics-module",G=self.indexedDB.open($);G.onsuccess=()=>{G.result.close(),H||self.indexedDB.deleteDatabase($),re(!0)},G.onupgradeneeded=()=>{H=!1},G.onerror=()=>{var he;B((null===(he=G.error)||void 0===he?void 0:he.message)||"")}}catch(H){B(H)}})}function Ee(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class be extends Error{constructor(B,H,$){super(H),this.code=B,this.customData=$,this.name="FirebaseError",Object.setPrototypeOf(this,be.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,xe.prototype.create)}}class xe{constructor(B,H,$){this.service=B,this.serviceName=H,this.errors=$}create(B,...H){const $=H[0]||{},G=`${this.service}/${B}`,he=this.errors[B],$e=he?function ze(re,B){return re.replace(je,(H,$)=>{const G=B[$];return null!=G?String(G):`<${$}?>`})}(he,$):"Error";return new be(G,`${this.serviceName}: ${$e} (${G}).`,$)}}const je=/\{\$([^}]+)}/g;function Sn(re){for(const B in re)if(Object.prototype.hasOwnProperty.call(re,B))return!1;return!0}function kn(re,B){if(re===B)return!0;const H=Object.keys(re),$=Object.keys(B);for(const G of H){if(!$.includes(G))return!1;const he=re[G],$e=B[G];if(Ei(he)&&Ei($e)){if(!kn(he,$e))return!1}else if(he!==$e)return!1}for(const G of $)if(!H.includes(G))return!1;return!0}function Ei(re){return null!==re&&"object"==typeof re}function mr(re){const B=[];for(const[H,$]of Object.entries(re))Array.isArray($)?$.forEach(G=>{B.push(encodeURIComponent(H)+"="+encodeURIComponent(G))}):B.push(encodeURIComponent(H)+"="+encodeURIComponent($));return B.length?"&"+B.join("&"):""}function Gn(re){const B={};return re.replace(/^\?/,"").split("&").forEach($=>{if($){const[G,he]=$.split("=");B[decodeURIComponent(G)]=decodeURIComponent(he)}}),B}function jt(re){const B=re.indexOf("?");if(!B)return"";const H=re.indexOf("#",B);return re.substring(B,H>0?H:void 0)}function Ir(re,B){const H=new xt(re,B);return H.subscribe.bind(H)}class xt{constructor(B,H){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=H,this.task.then(()=>{B(this)}).catch($=>{this.error($)})}next(B){this.forEachObserver(H=>{H.next(B)})}error(B){this.forEachObserver(H=>{H.error(B)}),this.close(B)}complete(){this.forEachObserver(B=>{B.complete()}),this.close()}subscribe(B,H,$){let G;if(void 0===B&&void 0===H&&void 0===$)throw new Error("Missing Observer.");G=function wr(re,B){if("object"!=typeof re||null===re)return!1;for(const H of B)if(H in re&&"function"==typeof re[H])return!0;return!1}(B,["next","error","complete"])?B:{next:B,error:H,complete:$},void 0===G.next&&(G.next=fn),void 0===G.error&&(G.error=fn),void 0===G.complete&&(G.complete=fn);const he=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?G.error(this.finalError):G.complete()}catch{}}),this.observers.push(G),he}unsubscribeOne(B){void 0===this.observers||void 0===this.observers[B]||(delete this.observers[B],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(B){if(!this.finalized)for(let H=0;H<this.observers.length;H++)this.sendOne(H,B)}sendOne(B,H){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[B])try{H(this.observers[B])}catch($){typeof console<"u"&&console.error&&console.error($)}})}close(B){this.finalized||(this.finalized=!0,void 0!==B&&(this.finalError=B),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function fn(){}const zr=1e3,Si=2,Dr=144e5,Vr=.5;function ti(re,B=zr,H=Si){const $=B*Math.pow(H,re),G=Math.round(Vr*$*(Math.random()-.5)*2);return Math.min(Dr,$+G)}function yr(re){return re&&re._delegate?re._delegate:re}},226:(Pt,ke,j)=>{var S=j(345),ne=j(7711),se=j(8699);const fe=[{path:"",redirectTo:"auth/login",pathMatch:"full"},{path:"auth",loadChildren:()=>Promise.all([j.e(341),j.e(384)]).then(j.bind(j,5384)).then(me=>me.AuthModule)},{path:"dashboard",loadChildren:()=>Promise.all([j.e(341),j.e(942)]).then(j.bind(j,1942)).then(me=>me.DashboardModule)}];let ue=(()=>{class me{static{this.\u0275fac=function(ct){return new(ct||me)}}static{this.\u0275mod=se.$C({type:me})}static{this.\u0275inj=se.G2t({imports:[ne.iI.forRoot(fe),ne.iI]})}}return me})(),K=(()=>{class me{constructor(){this.title="coop-app"}static{this.\u0275fac=function(ct){return new(ct||me)}}static{this.\u0275cmp=se.VBU({type:me,selectors:[["app-root"]],decls:1,vars:0,template:function(ct,We){1&ct&&se.nrm(0,"router-outlet")},dependencies:[ne.n3]})}}return me})();const Q_firebase={apiKey:"AIzaSyCbw8b_ag8QyunuIJIXl24SCepm439uzVU",authDomain:"coop-pro.firebaseapp.com",projectId:"coop-pro",storageBucket:"coop-pro.firebasestorage.app",messagingSenderId:"770543345465",appId:"1:770543345465:web:33089459f3d6eba9b992e8",measurementId:"G-T4463ZST23"};var Oe=j(8934),Re=j(4724),te=j(9676);let J=(()=>{class me{static{this.\u0275fac=function(ct){return new(ct||me)}}static{this.\u0275mod=se.$C({type:me,bootstrap:[K]})}static{this.\u0275inj=se.G2t({imports:[(0,te._q)(()=>(0,te.xI)()),S.Bb,ue,(0,Oe.MW)(()=>(0,Oe.Wp)(Q_firebase)),(0,Re.hV)(()=>(0,Re.aU)())]})}}return me})();S.sG().bootstrapModule(J).catch(me=>console.error(me))},4412:(Pt,ke,j)=>{j.d(ke,{t:()=>ne});var S=j(1413);class ne extends S.B{constructor(fe){super(),this._value=fe}get value(){return this.getValue()}_subscribe(fe){const ue=super._subscribe(fe);return!ue.closed&&fe.next(this._value),ue}getValue(){const{hasError:fe,thrownError:ue,_value:K}=this;if(fe)throw ue;return this._throwIfClosed(),K}next(fe){super.next(this._value=fe)}}},1985:(Pt,ke,j)=>{j.d(ke,{c:()=>Oe});var S=j(7707),ne=j(8359),se=j(3494),fe=j(1203),ue=j(1026),K=j(8071),Q=j(9786);let Oe=(()=>{class me{constructor(oe){oe&&(this._subscribe=oe)}lift(oe){const ct=new me;return ct.source=this,ct.operator=oe,ct}subscribe(oe,ct,We){const Bt=function J(me){return me&&me instanceof S.vU||function te(me){return me&&(0,K.T)(me.next)&&(0,K.T)(me.error)&&(0,K.T)(me.complete)}(me)&&(0,ne.Uv)(me)}(oe)?oe:new S.Ms(oe,ct,We);return(0,Q.Y)(()=>{const{operator:Ut,source:Tn}=this;Bt.add(Ut?Ut.call(Bt,Tn):Tn?this._subscribe(Bt):this._trySubscribe(Bt))}),Bt}_trySubscribe(oe){try{return this._subscribe(oe)}catch(ct){oe.error(ct)}}forEach(oe,ct){return new(ct=Re(ct))((We,Bt)=>{const Ut=new S.Ms({next:Tn=>{try{oe(Tn)}catch(_t){Bt(_t),Ut.unsubscribe()}},error:Bt,complete:We});this.subscribe(Ut)})}_subscribe(oe){var ct;return null===(ct=this.source)||void 0===ct?void 0:ct.subscribe(oe)}[se.s](){return this}pipe(...oe){return(0,fe.m)(oe)(this)}toPromise(oe){return new(oe=Re(oe))((ct,We)=>{let Bt;this.subscribe(Ut=>Bt=Ut,Ut=>We(Ut),()=>ct(Bt))})}}return me.create=Le=>new me(Le),me})();function Re(me){var Le;return null!==(Le=me??ue.$.Promise)&&void 0!==Le?Le:Promise}},1413:(Pt,ke,j)=>{j.d(ke,{B:()=>Q});var S=j(1985),ne=j(8359);const fe=(0,j(1853).L)(Re=>function(){Re(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ue=j(7908),K=j(9786);let Q=(()=>{class Re extends S.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(J){const me=new Oe(this,this);return me.operator=J,me}_throwIfClosed(){if(this.closed)throw new fe}next(J){(0,K.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const me of this.currentObservers)me.next(J)}})}error(J){(0,K.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=J;const{observers:me}=this;for(;me.length;)me.shift().error(J)}})}complete(){(0,K.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:J}=this;for(;J.length;)J.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var J;return(null===(J=this.observers)||void 0===J?void 0:J.length)>0}_trySubscribe(J){return this._throwIfClosed(),super._trySubscribe(J)}_subscribe(J){return this._throwIfClosed(),this._checkFinalizedStatuses(J),this._innerSubscribe(J)}_innerSubscribe(J){const{hasError:me,isStopped:Le,observers:oe}=this;return me||Le?ne.Kn:(this.currentObservers=null,oe.push(J),new ne.yU(()=>{this.currentObservers=null,(0,ue.o)(oe,J)}))}_checkFinalizedStatuses(J){const{hasError:me,thrownError:Le,isStopped:oe}=this;me?J.error(Le):oe&&J.complete()}asObservable(){const J=new S.c;return J.source=this,J}}return Re.create=(te,J)=>new Oe(te,J),Re})();class Oe extends Q{constructor(te,J){super(),this.destination=te,this.source=J}next(te){var J,me;null===(me=null===(J=this.destination)||void 0===J?void 0:J.next)||void 0===me||me.call(J,te)}error(te){var J,me;null===(me=null===(J=this.destination)||void 0===J?void 0:J.error)||void 0===me||me.call(J,te)}complete(){var te,J;null===(J=null===(te=this.destination)||void 0===te?void 0:te.complete)||void 0===J||J.call(te)}_subscribe(te){var J,me;return null!==(me=null===(J=this.source)||void 0===J?void 0:J.subscribe(te))&&void 0!==me?me:ne.Kn}}},7707:(Pt,ke,j)=>{j.d(ke,{Ms:()=>We,vU:()=>me});var S=j(8071),ne=j(8359),se=j(1026),fe=j(5334),ue=j(5343);const K=Re("C",void 0,void 0);function Re(et,tt,nt){return{kind:et,value:tt,error:nt}}var te=j(9270),J=j(9786);class me extends ne.yU{constructor(tt){super(),this.isStopped=!1,tt?(this.destination=tt,(0,ne.Uv)(tt)&&tt.add(this)):this.destination=_t}static create(tt,nt,st){return new We(tt,nt,st)}next(tt){this.isStopped?Tn(function Oe(et){return Re("N",et,void 0)}(tt),this):this._next(tt)}error(tt){this.isStopped?Tn(function Q(et){return Re("E",void 0,et)}(tt),this):(this.isStopped=!0,this._error(tt))}complete(){this.isStopped?Tn(K,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(tt){this.destination.next(tt)}_error(tt){try{this.destination.error(tt)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Le=Function.prototype.bind;function oe(et,tt){return Le.call(et,tt)}class ct{constructor(tt){this.partialObserver=tt}next(tt){const{partialObserver:nt}=this;if(nt.next)try{nt.next(tt)}catch(st){Bt(st)}}error(tt){const{partialObserver:nt}=this;if(nt.error)try{nt.error(tt)}catch(st){Bt(st)}else Bt(tt)}complete(){const{partialObserver:tt}=this;if(tt.complete)try{tt.complete()}catch(nt){Bt(nt)}}}class We extends me{constructor(tt,nt,st){let Se;if(super(),(0,S.T)(tt)||!tt)Se={next:tt??void 0,error:nt??void 0,complete:st??void 0};else{let Qe;this&&se.$.useDeprecatedNextContext?(Qe=Object.create(tt),Qe.unsubscribe=()=>this.unsubscribe(),Se={next:tt.next&&oe(tt.next,Qe),error:tt.error&&oe(tt.error,Qe),complete:tt.complete&&oe(tt.complete,Qe)}):Se=tt}this.destination=new ct(Se)}}function Bt(et){se.$.useDeprecatedSynchronousErrorHandling?(0,J.l)(et):(0,fe.m)(et)}function Tn(et,tt){const{onStoppedNotification:nt}=se.$;nt&&te.f.setTimeout(()=>nt(et,tt))}const _t={closed:!0,next:ue.l,error:function Ut(et){throw et},complete:ue.l}},8359:(Pt,ke,j)=>{j.d(ke,{Kn:()=>K,yU:()=>ue,Uv:()=>Q});var S=j(8071);const se=(0,j(1853).L)(Re=>function(J){Re(this),this.message=J?`${J.length} errors occurred during unsubscription:\n${J.map((me,Le)=>`${Le+1}) ${me.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=J});var fe=j(7908);class ue{constructor(te){this.initialTeardown=te,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let te;if(!this.closed){this.closed=!0;const{_parentage:J}=this;if(J)if(this._parentage=null,Array.isArray(J))for(const oe of J)oe.remove(this);else J.remove(this);const{initialTeardown:me}=this;if((0,S.T)(me))try{me()}catch(oe){te=oe instanceof se?oe.errors:[oe]}const{_finalizers:Le}=this;if(Le){this._finalizers=null;for(const oe of Le)try{Oe(oe)}catch(ct){te=te??[],ct instanceof se?te=[...te,...ct.errors]:te.push(ct)}}if(te)throw new se(te)}}add(te){var J;if(te&&te!==this)if(this.closed)Oe(te);else{if(te instanceof ue){if(te.closed||te._hasParent(this))return;te._addParent(this)}(this._finalizers=null!==(J=this._finalizers)&&void 0!==J?J:[]).push(te)}}_hasParent(te){const{_parentage:J}=this;return J===te||Array.isArray(J)&&J.includes(te)}_addParent(te){const{_parentage:J}=this;this._parentage=Array.isArray(J)?(J.push(te),J):J?[J,te]:te}_removeParent(te){const{_parentage:J}=this;J===te?this._parentage=null:Array.isArray(J)&&(0,fe.o)(J,te)}remove(te){const{_finalizers:J}=this;J&&(0,fe.o)(J,te),te instanceof ue&&te._removeParent(this)}}ue.EMPTY=(()=>{const Re=new ue;return Re.closed=!0,Re})();const K=ue.EMPTY;function Q(Re){return Re instanceof ue||Re&&"closed"in Re&&(0,S.T)(Re.remove)&&(0,S.T)(Re.add)&&(0,S.T)(Re.unsubscribe)}function Oe(Re){(0,S.T)(Re)?Re():Re.unsubscribe()}},1026:(Pt,ke,j)=>{j.d(ke,{$:()=>S});const S={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},8793:(Pt,ke,j)=>{j.d(ke,{x:()=>ue});var S=j(6365),se=j(9326),fe=j(8455);function ue(...K){return function ne(){return(0,S.U)(1)}()((0,fe.H)(K,(0,se.lI)(K)))}},983:(Pt,ke,j)=>{j.d(ke,{w:()=>ne});const ne=new(j(1985).c)(ue=>ue.complete())},8455:(Pt,ke,j)=>{j.d(ke,{H:()=>tt});var S=j(8750),ne=j(941),se=j(6745),K=j(1985),Oe=j(4761),Re=j(8071),te=j(5225);function me(nt,st){if(!nt)throw new Error("Iterable cannot be null");return new K.c(Se=>{(0,te.N)(Se,st,()=>{const Qe=nt[Symbol.asyncIterator]();(0,te.N)(Se,st,()=>{Qe.next().then(Ge=>{Ge.done?Se.complete():Se.next(Ge.value)})},0,!0)})})}var Le=j(5055),oe=j(9858),ct=j(7441),We=j(5397),Bt=j(7953),Ut=j(591),Tn=j(5196);function tt(nt,st){return st?function et(nt,st){if(null!=nt){if((0,Le.l)(nt))return function fe(nt,st){return(0,S.Tg)(nt).pipe((0,se._)(st),(0,ne.Q)(st))}(nt,st);if((0,ct.X)(nt))return function Q(nt,st){return new K.c(Se=>{let Qe=0;return st.schedule(function(){Qe===nt.length?Se.complete():(Se.next(nt[Qe++]),Se.closed||this.schedule())})})}(nt,st);if((0,oe.y)(nt))return function ue(nt,st){return(0,S.Tg)(nt).pipe((0,se._)(st),(0,ne.Q)(st))}(nt,st);if((0,Bt.T)(nt))return me(nt,st);if((0,We.x)(nt))return function J(nt,st){return new K.c(Se=>{let Qe;return(0,te.N)(Se,st,()=>{Qe=nt[Oe.l](),(0,te.N)(Se,st,()=>{let Ge,Tt;try{({value:Ge,done:Tt}=Qe.next())}catch(br){return void Se.error(br)}Tt?Se.complete():Se.next(Ge)},0,!0)}),()=>(0,Re.T)(Qe?.return)&&Qe.return()})}(nt,st);if((0,Tn.U)(nt))return function _t(nt,st){return me((0,Tn.C)(nt),st)}(nt,st)}throw(0,Ut.L)(nt)}(nt,st):(0,S.Tg)(nt)}},8750:(Pt,ke,j)=>{j.d(ke,{Tg:()=>Le});var S=j(1635),ne=j(7441),se=j(9858),fe=j(1985),ue=j(5055),K=j(7953),Q=j(591),Oe=j(5397),Re=j(5196),te=j(8071),J=j(5334),me=j(3494);function Le(et){if(et instanceof fe.c)return et;if(null!=et){if((0,ue.l)(et))return function oe(et){return new fe.c(tt=>{const nt=et[me.s]();if((0,te.T)(nt.subscribe))return nt.subscribe(tt);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(et);if((0,ne.X)(et))return function ct(et){return new fe.c(tt=>{for(let nt=0;nt<et.length&&!tt.closed;nt++)tt.next(et[nt]);tt.complete()})}(et);if((0,se.y)(et))return function We(et){return new fe.c(tt=>{et.then(nt=>{tt.closed||(tt.next(nt),tt.complete())},nt=>tt.error(nt)).then(null,J.m)})}(et);if((0,K.T)(et))return Ut(et);if((0,Oe.x)(et))return function Bt(et){return new fe.c(tt=>{for(const nt of et)if(tt.next(nt),tt.closed)return;tt.complete()})}(et);if((0,Re.U)(et))return function Tn(et){return Ut((0,Re.C)(et))}(et)}throw(0,Q.L)(et)}function Ut(et){return new fe.c(tt=>{(function _t(et,tt){var nt,st,Se,Qe;return(0,S.sH)(this,void 0,void 0,function*(){try{for(nt=(0,S.xN)(et);!(st=yield nt.next()).done;)if(tt.next(st.value),tt.closed)return}catch(Ge){Se={error:Ge}}finally{try{st&&!st.done&&(Qe=nt.return)&&(yield Qe.call(nt))}finally{if(Se)throw Se.error}}tt.complete()})})(et,tt).catch(nt=>tt.error(nt))})}},7786:(Pt,ke,j)=>{j.d(ke,{h:()=>K});var S=j(6365),ne=j(8750),se=j(983),fe=j(9326),ue=j(8455);function K(...Q){const Oe=(0,fe.lI)(Q),Re=(0,fe.R0)(Q,1/0),te=Q;return te.length?1===te.length?(0,ne.Tg)(te[0]):(0,S.U)(Re)((0,ue.H)(te,Oe)):se.w}},7673:(Pt,ke,j)=>{j.d(ke,{of:()=>se});var S=j(9326),ne=j(8455);function se(...fe){const ue=(0,S.lI)(fe);return(0,ne.H)(fe,ue)}},4360:(Pt,ke,j)=>{j.d(ke,{_:()=>ne});var S=j(7707);function ne(fe,ue,K,Q,Oe){return new se(fe,ue,K,Q,Oe)}class se extends S.vU{constructor(ue,K,Q,Oe,Re,te){super(ue),this.onFinalize=Re,this.shouldUnsubscribe=te,this._next=K?function(J){try{K(J)}catch(me){ue.error(me)}}:super._next,this._error=Oe?function(J){try{Oe(J)}catch(me){ue.error(me)}finally{this.unsubscribe()}}:super._error,this._complete=Q?function(){try{Q()}catch(J){ue.error(J)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ue;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:K}=this;super.unsubscribe(),!K&&(null===(ue=this.onFinalize)||void 0===ue||ue.call(this))}}}},3294:(Pt,ke,j)=>{j.d(ke,{F:()=>fe});var S=j(3669),ne=j(9974),se=j(4360);function fe(K,Q=S.D){return K=K??ue,(0,ne.N)((Oe,Re)=>{let te,J=!0;Oe.subscribe((0,se._)(Re,me=>{const Le=Q(me);(J||!K(te,Le))&&(J=!1,te=Le,Re.next(me))}))})}function ue(K,Q){return K===Q}},5964:(Pt,ke,j)=>{j.d(ke,{p:()=>se});var S=j(9974),ne=j(4360);function se(fe,ue){return(0,S.N)((K,Q)=>{let Oe=0;K.subscribe((0,ne._)(Q,Re=>fe.call(ue,Re,Oe++)&&Q.next(Re)))})}},6354:(Pt,ke,j)=>{j.d(ke,{T:()=>se});var S=j(9974),ne=j(4360);function se(fe,ue){return(0,S.N)((K,Q)=>{let Oe=0;K.subscribe((0,ne._)(Q,Re=>{Q.next(fe.call(ue,Re,Oe++))}))})}},6365:(Pt,ke,j)=>{j.d(ke,{U:()=>se});var S=j(1397),ne=j(3669);function se(fe=1/0){return(0,S.Z)(ne.D,fe)}},1397:(Pt,ke,j)=>{j.d(ke,{Z:()=>Oe});var S=j(6354),ne=j(8750),se=j(9974),fe=j(5225),ue=j(4360),Q=j(8071);function Oe(Re,te,J=1/0){return(0,Q.T)(te)?Oe((me,Le)=>(0,S.T)((oe,ct)=>te(me,oe,Le,ct))((0,ne.Tg)(Re(me,Le))),J):("number"==typeof te&&(J=te),(0,se.N)((me,Le)=>function K(Re,te,J,me,Le,oe,ct,We){const Bt=[];let Ut=0,Tn=0,_t=!1;const et=()=>{_t&&!Bt.length&&!Ut&&te.complete()},tt=st=>Ut<me?nt(st):Bt.push(st),nt=st=>{oe&&te.next(st),Ut++;let Se=!1;(0,ne.Tg)(J(st,Tn++)).subscribe((0,ue._)(te,Qe=>{Le?.(Qe),oe?tt(Qe):te.next(Qe)},()=>{Se=!0},void 0,()=>{if(Se)try{for(Ut--;Bt.length&&Ut<me;){const Qe=Bt.shift();ct?(0,fe.N)(te,ct,()=>nt(Qe)):nt(Qe)}et()}catch(Qe){te.error(Qe)}}))};return Re.subscribe((0,ue._)(te,tt,()=>{_t=!0,et()})),()=>{We?.()}}(me,Le,Re,J)))}},941:(Pt,ke,j)=>{j.d(ke,{Q:()=>fe});var S=j(5225),ne=j(9974),se=j(4360);function fe(ue,K=0){return(0,ne.N)((Q,Oe)=>{Q.subscribe((0,se._)(Oe,Re=>(0,S.N)(Oe,ue,()=>Oe.next(Re),K),()=>(0,S.N)(Oe,ue,()=>Oe.complete(),K),Re=>(0,S.N)(Oe,ue,()=>Oe.error(Re),K)))})}},9172:(Pt,ke,j)=>{j.d(ke,{Z:()=>fe});var S=j(8793),ne=j(9326),se=j(9974);function fe(...ue){const K=(0,ne.lI)(ue);return(0,se.N)((Q,Oe)=>{(K?(0,S.x)(ue,Q,K):(0,S.x)(ue,Q)).subscribe(Oe)})}},6745:(Pt,ke,j)=>{j.d(ke,{_:()=>ne});var S=j(9974);function ne(se,fe=0){return(0,S.N)((ue,K)=>{K.add(se.schedule(()=>ue.subscribe(K),fe))})}},5558:(Pt,ke,j)=>{j.d(ke,{n:()=>fe});var S=j(8750),ne=j(9974),se=j(4360);function fe(ue,K){return(0,ne.N)((Q,Oe)=>{let Re=null,te=0,J=!1;const me=()=>J&&!Re&&Oe.complete();Q.subscribe((0,se._)(Oe,Le=>{Re?.unsubscribe();let oe=0;const ct=te++;(0,S.Tg)(ue(Le,ct)).subscribe(Re=(0,se._)(Oe,We=>Oe.next(K?K(Le,We,ct,oe++):We),()=>{Re=null,me()}))},()=>{J=!0,me()}))})}},6977:(Pt,ke,j)=>{j.d(ke,{Q:()=>ue});var S=j(9974),ne=j(4360),se=j(8750),fe=j(5343);function ue(K){return(0,S.N)((Q,Oe)=>{(0,se.Tg)(K).subscribe((0,ne._)(Oe,()=>Oe.complete(),fe.l)),!Oe.closed&&Q.subscribe(Oe)})}},8141:(Pt,ke,j)=>{j.d(ke,{M:()=>ue});var S=j(8071),ne=j(9974),se=j(4360),fe=j(3669);function ue(K,Q,Oe){const Re=(0,S.T)(K)||Q||Oe?{next:K,error:Q,complete:Oe}:K;return Re?(0,ne.N)((te,J)=>{var me;null===(me=Re.subscribe)||void 0===me||me.call(Re);let Le=!0;te.subscribe((0,se._)(J,oe=>{var ct;null===(ct=Re.next)||void 0===ct||ct.call(Re,oe),J.next(oe)},()=>{var oe;Le=!1,null===(oe=Re.complete)||void 0===oe||oe.call(Re),J.complete()},oe=>{var ct;Le=!1,null===(ct=Re.error)||void 0===ct||ct.call(Re,oe),J.error(oe)},()=>{var oe,ct;Le&&(null===(oe=Re.unsubscribe)||void 0===oe||oe.call(Re)),null===(ct=Re.finalize)||void 0===ct||ct.call(Re)}))}):fe.D}},6780:(Pt,ke,j)=>{j.d(ke,{R:()=>ue});var S=j(8359);class ne extends S.yU{constructor(Q,Oe){super()}schedule(Q,Oe=0){return this}}const se={setInterval(K,Q,...Oe){const{delegate:Re}=se;return Re?.setInterval?Re.setInterval(K,Q,...Oe):setInterval(K,Q,...Oe)},clearInterval(K){const{delegate:Q}=se;return(Q?.clearInterval||clearInterval)(K)},delegate:void 0};var fe=j(7908);class ue extends ne{constructor(Q,Oe){super(Q,Oe),this.scheduler=Q,this.work=Oe,this.pending=!1}schedule(Q,Oe=0){var Re;if(this.closed)return this;this.state=Q;const te=this.id,J=this.scheduler;return null!=te&&(this.id=this.recycleAsyncId(J,te,Oe)),this.pending=!0,this.delay=Oe,this.id=null!==(Re=this.id)&&void 0!==Re?Re:this.requestAsyncId(J,this.id,Oe),this}requestAsyncId(Q,Oe,Re=0){return se.setInterval(Q.flush.bind(Q,this),Re)}recycleAsyncId(Q,Oe,Re=0){if(null!=Re&&this.delay===Re&&!1===this.pending)return Oe;null!=Oe&&se.clearInterval(Oe)}execute(Q,Oe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Re=this._execute(Q,Oe);if(Re)return Re;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Q,Oe){let te,Re=!1;try{this.work(Q)}catch(J){Re=!0,te=J||new Error("Scheduled action threw falsy error")}if(Re)return this.unsubscribe(),te}unsubscribe(){if(!this.closed){const{id:Q,scheduler:Oe}=this,{actions:Re}=Oe;this.work=this.state=this.scheduler=null,this.pending=!1,(0,fe.o)(Re,this),null!=Q&&(this.id=this.recycleAsyncId(Oe,Q,null)),this.delay=null,super.unsubscribe()}}}},3604:(Pt,ke,j)=>{j.d(ke,{q:()=>se});const S={now:()=>(S.delegate||Date).now(),delegate:void 0};class ne{constructor(ue,K=ne.now){this.schedulerActionCtor=ue,this.now=K}schedule(ue,K=0,Q){return new this.schedulerActionCtor(this,ue).schedule(Q,K)}}ne.now=S.now;class se extends ne{constructor(ue,K=ne.now){super(ue,K),this.actions=[],this._active=!1}flush(ue){const{actions:K}=this;if(this._active)return void K.push(ue);let Q;this._active=!0;do{if(Q=ue.execute(ue.state,ue.delay))break}while(ue=K.shift());if(this._active=!1,Q){for(;ue=K.shift();)ue.unsubscribe();throw Q}}}},3236:(Pt,ke,j)=>{j.d(ke,{E:()=>se,b:()=>fe});var S=j(6780);const se=new(j(3604).q)(S.R),fe=se},9270:(Pt,ke,j)=>{j.d(ke,{f:()=>S});const S={setTimeout(ne,se,...fe){const{delegate:ue}=S;return ue?.setTimeout?ue.setTimeout(ne,se,...fe):setTimeout(ne,se,...fe)},clearTimeout(ne){const{delegate:se}=S;return(se?.clearTimeout||clearTimeout)(ne)},delegate:void 0}},4761:(Pt,ke,j)=>{j.d(ke,{l:()=>ne});const ne=function S(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3494:(Pt,ke,j)=>{j.d(ke,{s:()=>S});const S="function"==typeof Symbol&&Symbol.observable||"@@observable"},9326:(Pt,ke,j)=>{j.d(ke,{R0:()=>K,lI:()=>ue,ms:()=>fe});var S=j(8071),ne=j(9470);function se(Q){return Q[Q.length-1]}function fe(Q){return(0,S.T)(se(Q))?Q.pop():void 0}function ue(Q){return(0,ne.m)(se(Q))?Q.pop():void 0}function K(Q,Oe){return"number"==typeof se(Q)?Q.pop():Oe}},3073:(Pt,ke,j)=>{j.d(ke,{D:()=>ue});const{isArray:S}=Array,{getPrototypeOf:ne,prototype:se,keys:fe}=Object;function ue(Q){if(1===Q.length){const Oe=Q[0];if(S(Oe))return{args:Oe,keys:null};if(function K(Q){return Q&&"object"==typeof Q&&ne(Q)===se}(Oe)){const Re=fe(Oe);return{args:Re.map(te=>Oe[te]),keys:Re}}}return{args:Q,keys:null}}},7908:(Pt,ke,j)=>{function S(ne,se){if(ne){const fe=ne.indexOf(se);0<=fe&&ne.splice(fe,1)}}j.d(ke,{o:()=>S})},1853:(Pt,ke,j)=>{function S(ne){const fe=ne(ue=>{Error.call(ue),ue.stack=(new Error).stack});return fe.prototype=Object.create(Error.prototype),fe.prototype.constructor=fe,fe}j.d(ke,{L:()=>S})},8496:(Pt,ke,j)=>{function S(ne,se){return ne.reduce((fe,ue,K)=>(fe[ue]=se[K],fe),{})}j.d(ke,{e:()=>S})},9786:(Pt,ke,j)=>{j.d(ke,{Y:()=>se,l:()=>fe});var S=j(1026);let ne=null;function se(ue){if(S.$.useDeprecatedSynchronousErrorHandling){const K=!ne;if(K&&(ne={errorThrown:!1,error:null}),ue(),K){const{errorThrown:Q,error:Oe}=ne;if(ne=null,Q)throw Oe}}else ue()}function fe(ue){S.$.useDeprecatedSynchronousErrorHandling&&ne&&(ne.errorThrown=!0,ne.error=ue)}},5225:(Pt,ke,j)=>{function S(ne,se,fe,ue=0,K=!1){const Q=se.schedule(function(){fe(),K?ne.add(this.schedule(null,ue)):this.unsubscribe()},ue);if(ne.add(Q),!K)return Q}j.d(ke,{N:()=>S})},3669:(Pt,ke,j)=>{function S(ne){return ne}j.d(ke,{D:()=>S})},7441:(Pt,ke,j)=>{j.d(ke,{X:()=>S});const S=ne=>ne&&"number"==typeof ne.length&&"function"!=typeof ne},7953:(Pt,ke,j)=>{j.d(ke,{T:()=>ne});var S=j(8071);function ne(se){return Symbol.asyncIterator&&(0,S.T)(se?.[Symbol.asyncIterator])}},8071:(Pt,ke,j)=>{function S(ne){return"function"==typeof ne}j.d(ke,{T:()=>S})},5055:(Pt,ke,j)=>{j.d(ke,{l:()=>se});var S=j(3494),ne=j(8071);function se(fe){return(0,ne.T)(fe[S.s])}},5397:(Pt,ke,j)=>{j.d(ke,{x:()=>se});var S=j(4761),ne=j(8071);function se(fe){return(0,ne.T)(fe?.[S.l])}},9858:(Pt,ke,j)=>{j.d(ke,{y:()=>ne});var S=j(8071);function ne(se){return(0,S.T)(se?.then)}},5196:(Pt,ke,j)=>{j.d(ke,{C:()=>se,U:()=>fe});var S=j(1635),ne=j(8071);function se(ue){return(0,S.AQ)(this,arguments,function*(){const Q=ue.getReader();try{for(;;){const{value:Oe,done:Re}=yield(0,S.N3)(Q.read());if(Re)return yield(0,S.N3)(void 0);yield yield(0,S.N3)(Oe)}}finally{Q.releaseLock()}})}function fe(ue){return(0,ne.T)(ue?.getReader)}},9470:(Pt,ke,j)=>{j.d(ke,{m:()=>ne});var S=j(8071);function ne(se){return se&&(0,S.T)(se.schedule)}},9974:(Pt,ke,j)=>{j.d(ke,{N:()=>se,S:()=>ne});var S=j(8071);function ne(fe){return(0,S.T)(fe?.lift)}function se(fe){return ue=>{if(ne(ue))return ue.lift(function(K){try{return fe(K,this)}catch(Q){this.error(Q)}});throw new TypeError("Unable to lift unknown Observable type")}}},6450:(Pt,ke,j)=>{j.d(ke,{I:()=>fe});var S=j(6354);const{isArray:ne}=Array;function fe(ue){return(0,S.T)(K=>function se(ue,K){return ne(K)?ue(...K):ue(K)}(ue,K))}},5343:(Pt,ke,j)=>{function S(){}j.d(ke,{l:()=>S})},1203:(Pt,ke,j)=>{j.d(ke,{F:()=>ne,m:()=>se});var S=j(3669);function ne(...fe){return se(fe)}function se(fe){return 0===fe.length?S.D:1===fe.length?fe[0]:function(K){return fe.reduce((Q,Oe)=>Oe(Q),K)}}},5334:(Pt,ke,j)=>{j.d(ke,{m:()=>se});var S=j(1026),ne=j(9270);function se(fe){ne.f.setTimeout(()=>{const{onUnhandledError:ue}=S.$;if(!ue)throw fe;ue(fe)})}},591:(Pt,ke,j)=>{function S(ne){return new TypeError(`You provided ${null!==ne&&"object"==typeof ne?"an invalid object":`'${ne}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}j.d(ke,{L:()=>S})},177:(Pt,ke,j)=>{j.d(ke,{AJ:()=>yi,MD:()=>nr,N0:()=>ui,PV:()=>is,QT:()=>se,Sm:()=>ct,Sq:()=>Qs,T3:()=>mn,VF:()=>ue,Vy:()=>xi,Xr:()=>na,YU:()=>rs,ZD:()=>fe,_b:()=>Bi,aZ:()=>Bt,bT:()=>$i,fw:()=>We,hb:()=>Le,hj:()=>Oe,qQ:()=>K});var S=j(8699);let ne=null;function se(){return ne}function fe(E){ne||(ne=E)}class ue{}const K=new S.nKC("DocumentToken");let Q=(()=>{class E{historyGo(M){throw new Error("Not implemented")}static{this.\u0275fac=function(k){return new(k||E)}}static{this.\u0275prov=S.jDH({token:E,factory:function(){return(0,S.WQX)(Re)},providedIn:"platform"})}}return E})();const Oe=new S.nKC("Location Initialized");let Re=(()=>{class E extends Q{constructor(){super(),this._doc=(0,S.WQX)(K),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return se().getBaseHref(this._doc)}onPopState(M){const k=se().getGlobalEventTarget(this._doc,"window");return k.addEventListener("popstate",M,!1),()=>k.removeEventListener("popstate",M)}onHashChange(M){const k=se().getGlobalEventTarget(this._doc,"window");return k.addEventListener("hashchange",M,!1),()=>k.removeEventListener("hashchange",M)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(M){this._location.pathname=M}pushState(M,k,Z){this._history.pushState(M,k,Z)}replaceState(M,k,Z){this._history.replaceState(M,k,Z)}forward(){this._history.forward()}back(){this._history.back()}historyGo(M=0){this._history.go(M)}getState(){return this._history.state}static{this.\u0275fac=function(k){return new(k||E)}}static{this.\u0275prov=S.jDH({token:E,factory:function(){return new E},providedIn:"platform"})}}return E})();function te(E,F){if(0==E.length)return F;if(0==F.length)return E;let M=0;return E.endsWith("/")&&M++,F.startsWith("/")&&M++,2==M?E+F.substring(1):1==M?E+F:E+"/"+F}function J(E){const F=E.match(/#|\?|$/),M=F&&F.index||E.length;return E.slice(0,M-("/"===E[M-1]?1:0))+E.slice(M)}function me(E){return E&&"?"!==E[0]?"?"+E:E}let Le=(()=>{class E{historyGo(M){throw new Error("Not implemented")}static{this.\u0275fac=function(k){return new(k||E)}}static{this.\u0275prov=S.jDH({token:E,factory:function(){return(0,S.WQX)(ct)},providedIn:"root"})}}return E})();const oe=new S.nKC("appBaseHref");let ct=(()=>{class E extends Le{constructor(M,k){super(),this._platformLocation=M,this._removeListenerFns=[],this._baseHref=k??this._platformLocation.getBaseHrefFromDOM()??(0,S.WQX)(K).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(M){this._removeListenerFns.push(this._platformLocation.onPopState(M),this._platformLocation.onHashChange(M))}getBaseHref(){return this._baseHref}prepareExternalUrl(M){return te(this._baseHref,M)}path(M=!1){const k=this._platformLocation.pathname+me(this._platformLocation.search),Z=this._platformLocation.hash;return Z&&M?`${k}${Z}`:k}pushState(M,k,Z,Me){const Be=this.prepareExternalUrl(Z+me(Me));this._platformLocation.pushState(M,k,Be)}replaceState(M,k,Z,Me){const Be=this.prepareExternalUrl(Z+me(Me));this._platformLocation.replaceState(M,k,Be)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(M=0){this._platformLocation.historyGo?.(M)}static{this.\u0275fac=function(k){return new(k||E)(S.KVO(Q),S.KVO(oe,8))}}static{this.\u0275prov=S.jDH({token:E,factory:E.\u0275fac,providedIn:"root"})}}return E})(),We=(()=>{class E extends Le{constructor(M,k){super(),this._platformLocation=M,this._baseHref="",this._removeListenerFns=[],null!=k&&(this._baseHref=k)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(M){this._removeListenerFns.push(this._platformLocation.onPopState(M),this._platformLocation.onHashChange(M))}getBaseHref(){return this._baseHref}path(M=!1){let k=this._platformLocation.hash;return null==k&&(k="#"),k.length>0?k.substring(1):k}prepareExternalUrl(M){const k=te(this._baseHref,M);return k.length>0?"#"+k:k}pushState(M,k,Z,Me){let Be=this.prepareExternalUrl(Z+me(Me));0==Be.length&&(Be=this._platformLocation.pathname),this._platformLocation.pushState(M,k,Be)}replaceState(M,k,Z,Me){let Be=this.prepareExternalUrl(Z+me(Me));0==Be.length&&(Be=this._platformLocation.pathname),this._platformLocation.replaceState(M,k,Be)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(M=0){this._platformLocation.historyGo?.(M)}static{this.\u0275fac=function(k){return new(k||E)(S.KVO(Q),S.KVO(oe,8))}}static{this.\u0275prov=S.jDH({token:E,factory:E.\u0275fac})}}return E})(),Bt=(()=>{class E{constructor(M){this._subject=new S.bkB,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=M;const k=this._locationStrategy.getBaseHref();this._basePath=function et(E){if(new RegExp("^(https?:)?//").test(E)){const[,M]=E.split(/\/\/[^\/]+/);return M}return E}(J(_t(k))),this._locationStrategy.onPopState(Z=>{this._subject.emit({url:this.path(!0),pop:!0,state:Z.state,type:Z.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(M=!1){return this.normalize(this._locationStrategy.path(M))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(M,k=""){return this.path()==this.normalize(M+me(k))}normalize(M){return E.stripTrailingSlash(function Tn(E,F){if(!E||!F.startsWith(E))return F;const M=F.substring(E.length);return""===M||["/",";","?","#"].includes(M[0])?M:F}(this._basePath,_t(M)))}prepareExternalUrl(M){return M&&"/"!==M[0]&&(M="/"+M),this._locationStrategy.prepareExternalUrl(M)}go(M,k="",Z=null){this._locationStrategy.pushState(Z,"",M,k),this._notifyUrlChangeListeners(this.prepareExternalUrl(M+me(k)),Z)}replaceState(M,k="",Z=null){this._locationStrategy.replaceState(Z,"",M,k),this._notifyUrlChangeListeners(this.prepareExternalUrl(M+me(k)),Z)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(M=0){this._locationStrategy.historyGo?.(M)}onUrlChange(M){return this._urlChangeListeners.push(M),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(k=>{this._notifyUrlChangeListeners(k.url,k.state)})),()=>{const k=this._urlChangeListeners.indexOf(M);this._urlChangeListeners.splice(k,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(M="",k){this._urlChangeListeners.forEach(Z=>Z(M,k))}subscribe(M,k,Z){return this._subject.subscribe({next:M,error:k,complete:Z})}static{this.normalizeQueryParams=me}static{this.joinWithSlash=te}static{this.stripTrailingSlash=J}static{this.\u0275fac=function(k){return new(k||E)(S.KVO(Le))}}static{this.\u0275prov=S.jDH({token:E,factory:function(){return function Ut(){return new Bt((0,S.KVO)(Le))}()},providedIn:"root"})}}return E})();function _t(E){return E.replace(/\/index.html$/,"")}function Bi(E,F){F=encodeURIComponent(F);for(const M of E.split(";")){const k=M.indexOf("="),[Z,Me]=-1==k?[M,""]:[M.slice(0,k),M.slice(k+1)];if(Z.trim()===F)return decodeURIComponent(Me)}return null}const Mi=/\s+/,ji=[];let rs=(()=>{class E{constructor(M,k,Z,Me){this._iterableDiffers=M,this._keyValueDiffers=k,this._ngEl=Z,this._renderer=Me,this.initialClasses=ji,this.stateMap=new Map}set klass(M){this.initialClasses=null!=M?M.trim().split(Mi):ji}set ngClass(M){this.rawClass="string"==typeof M?M.trim().split(Mi):M}ngDoCheck(){for(const k of this.initialClasses)this._updateState(k,!0);const M=this.rawClass;if(Array.isArray(M)||M instanceof Set)for(const k of M)this._updateState(k,!0);else if(null!=M)for(const k of Object.keys(M))this._updateState(k,!!M[k]);this._applyStateDiff()}_updateState(M,k){const Z=this.stateMap.get(M);void 0!==Z?(Z.enabled!==k&&(Z.changed=!0,Z.enabled=k),Z.touched=!0):this.stateMap.set(M,{enabled:k,changed:!0,touched:!0})}_applyStateDiff(){for(const M of this.stateMap){const k=M[0],Z=M[1];Z.changed?(this._toggleClass(k,Z.enabled),Z.changed=!1):Z.touched||(Z.enabled&&this._toggleClass(k,!1),this.stateMap.delete(k)),Z.touched=!1}}_toggleClass(M,k){(M=M.trim()).length>0&&M.split(Mi).forEach(Z=>{k?this._renderer.addClass(this._ngEl.nativeElement,Z):this._renderer.removeClass(this._ngEl.nativeElement,Z)})}static{this.\u0275fac=function(k){return new(k||E)(S.rXU(S._q3),S.rXU(S.MKu),S.rXU(S.aKT),S.rXU(S.sFG))}}static{this.\u0275dir=S.FsC({type:E,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}}return E})();class ms{constructor(F,M,k,Z){this.$implicit=F,this.ngForOf=M,this.index=k,this.count=Z}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Qs=(()=>{class E{set ngForOf(M){this._ngForOf=M,this._ngForOfDirty=!0}set ngForTrackBy(M){this._trackByFn=M}get ngForTrackBy(){return this._trackByFn}constructor(M,k,Z){this._viewContainer=M,this._template=k,this._differs=Z,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(M){M&&(this._template=M)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const M=this._ngForOf;!this._differ&&M&&(this._differ=this._differs.find(M).create(this.ngForTrackBy))}if(this._differ){const M=this._differ.diff(this._ngForOf);M&&this._applyChanges(M)}}_applyChanges(M){const k=this._viewContainer;M.forEachOperation((Z,Me,Be)=>{if(null==Z.previousIndex)k.createEmbeddedView(this._template,new ms(Z.item,this._ngForOf,-1,-1),null===Be?void 0:Be);else if(null==Be)k.remove(null===Me?void 0:Me);else if(null!==Me){const Nt=k.get(Me);k.move(Nt,Be),Br(Nt,Z)}});for(let Z=0,Me=k.length;Z<Me;Z++){const Nt=k.get(Z).context;Nt.index=Z,Nt.count=Me,Nt.ngForOf=this._ngForOf}M.forEachIdentityChange(Z=>{Br(k.get(Z.currentIndex),Z)})}static ngTemplateContextGuard(M,k){return!0}static{this.\u0275fac=function(k){return new(k||E)(S.rXU(S.c1b),S.rXU(S.C4Q),S.rXU(S._q3))}}static{this.\u0275dir=S.FsC({type:E,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return E})();function Br(E,F){E.context.$implicit=F.item}let $i=(()=>{class E{constructor(M,k){this._viewContainer=M,this._context=new Xi,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=k}set ngIf(M){this._context.$implicit=this._context.ngIf=M,this._updateView()}set ngIfThen(M){ea("ngIfThen",M),this._thenTemplateRef=M,this._thenViewRef=null,this._updateView()}set ngIfElse(M){ea("ngIfElse",M),this._elseTemplateRef=M,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(M,k){return!0}static{this.\u0275fac=function(k){return new(k||E)(S.rXU(S.c1b),S.rXU(S.C4Q))}}static{this.\u0275dir=S.FsC({type:E,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return E})();class Xi{constructor(){this.$implicit=null,this.ngIf=null}}function ea(E,F){if(F&&!F.createEmbeddedView)throw new Error(`${E} must be a TemplateRef, but received '${(0,S.Tbb)(F)}'.`)}let mn=(()=>{class E{constructor(M){this._viewContainerRef=M,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(M){if(M.ngTemplateOutlet||M.ngTemplateOutletInjector){const k=this._viewContainerRef;if(this._viewRef&&k.remove(k.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:Z,ngTemplateOutletContext:Me,ngTemplateOutletInjector:Be}=this;this._viewRef=k.createEmbeddedView(Z,Me,Be?{injector:Be}:void 0)}else this._viewRef=null}else this._viewRef&&M.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}static{this.\u0275fac=function(k){return new(k||E)(S.rXU(S.c1b))}}static{this.\u0275dir=S.FsC({type:E,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[S.OA$]})}}return E})();const wa=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g;let is=(()=>{class E{transform(M){if(null==M)return null;if("string"!=typeof M)throw function Gr(E,F){return new S.wOt(2100,!1)}();return M.replace(wa,k=>k[0].toUpperCase()+k.slice(1).toLowerCase())}static{this.\u0275fac=function(k){return new(k||E)}}static{this.\u0275pipe=S.EJ8({name:"titlecase",type:E,pure:!0,standalone:!0})}}return E})(),nr=(()=>{class E{static{this.\u0275fac=function(k){return new(k||E)}}static{this.\u0275mod=S.$C({type:E})}static{this.\u0275inj=S.G2t({})}}return E})();const yi="browser",Zs="server";function xi(E){return E===Zs}let na=(()=>{class E{static{this.\u0275prov=(0,S.jDH)({token:E,providedIn:"root",factory:()=>new Ri((0,S.KVO)(K),window)})}}return E})();class Ri{constructor(F,M){this.document=F,this.window=M,this.offset=()=>[0,0]}setOffset(F){this.offset=Array.isArray(F)?()=>F:F}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(F){this.supportsScrolling()&&this.window.scrollTo(F[0],F[1])}scrollToAnchor(F){if(!this.supportsScrolling())return;const M=function rr(E,F){const M=E.getElementById(F)||E.getElementsByName(F)[0];if(M)return M;if("function"==typeof E.createTreeWalker&&E.body&&"function"==typeof E.body.attachShadow){const k=E.createTreeWalker(E.body,NodeFilter.SHOW_ELEMENT);let Z=k.currentNode;for(;Z;){const Me=Z.shadowRoot;if(Me){const Be=Me.getElementById(F)||Me.querySelector(`[name="${F}"]`);if(Be)return Be}Z=k.nextNode()}}return null}(this.document,F);M&&(this.scrollToElement(M),M.focus())}setHistoryScrollRestoration(F){this.supportsScrolling()&&(this.window.history.scrollRestoration=F)}scrollToElement(F){const M=F.getBoundingClientRect(),k=M.left+this.window.pageXOffset,Z=M.top+this.window.pageYOffset,Me=this.offset();this.window.scrollTo(k-Me[0],Z-Me[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class ui{}},8699:(Pt,ke,j)=>{j.d(ke,{iLQ:()=>HI,sZ2:()=>rf,hnV:()=>Sw,Hbi:()=>Lb,o8S:()=>gp,BIS:()=>uf,gRc:()=>Eb,Ql9:()=>jC,Ocv:()=>UC,Z63:()=>Xd,aKT:()=>Ac,uvJ:()=>hu,zcH:()=>Uu,bkB:()=>ya,$GK:()=>xt,nKC:()=>Wt,zZn:()=>Ps,_q3:()=>QI,MKu:()=>XI,xe9:()=>bv,Co$:()=>bE,Vns:()=>Rh,NEm:()=>fb,SKi:()=>es,Xx1:()=>iu,Agw:()=>af,PLl:()=>sf,sFG:()=>sd,_9s:()=>dg,czy:()=>Fl,kdw:()=>vc,C4Q:()=>om,NYb:()=>cb,giA:()=>Lw,xvI:()=>fg,RxE:()=>ry,c1b:()=>Tv,gXe:()=>Kn,L39:()=>Kb,Ol2:()=>SE,w6W:()=>AT,oH4:()=>Bw,Rfq:()=>Tn,WQX:()=>pn,QuC:()=>Co,fpN:()=>kb,HJs:()=>Qb,O8t:()=>Jn,H3F:()=>Mw,H8p:()=>tf,$K3:()=>xw,KH2:()=>dp,wOt:()=>Se,WHO:()=>Pw,e01:()=>kw,H5H:()=>mI,mq5:()=>Y0,JZv:()=>On,LfX:()=>kn,plB:()=>OI,jNT:()=>ev,zjR:()=>z_,TL$:()=>kv,Tbb:()=>We,Vt3:()=>ju,GFd:()=>qf,OA$:()=>ni,Jv_:()=>CE,aNF:()=>ME,R7$:()=>xf,BMQ:()=>gd,AVh:()=>pv,wni:()=>ow,VBU:()=>Do,FsC:()=>Xs,jDH:()=>bt,G2t:()=>Sn,$C:()=>To,EJ8:()=>Ys,rXU:()=>Nc,nrm:()=>Xy,eu8:()=>Yy,bVm:()=>ap,qex:()=>op,k0s:()=>sp,j41:()=>ip,RV6:()=>Jy,xGo:()=>Al,KVO:()=>hn,kS0:()=>A,QTQ:()=>vy,bIt:()=>tv,lsd:()=>aw,XpG:()=>Qg,nI1:()=>GE,bMT:()=>WE,SdG:()=>nv,NAR:()=>Xg,Y8G:()=>Kg,FS9:()=>rv,eq3:()=>LE,l_i:()=>FE,sMw:()=>UE,ziG:()=>VE,mGM:()=>iw,sdS:()=>V_,Njj:()=>wu,eBV:()=>Ho,n$t:()=>Vm,DNE:()=>qy,C5r:()=>dw,EFF:()=>i,JRh:()=>u,SpI:()=>l,Lme:()=>f,E5c:()=>w,GBs:()=>sw});var S=j(1413),ne=j(8359),se=j(1985),fe=j(7786),ue=j(4412),K=j(7673),Q=j(8750),Oe=j(7707),Re=j(9974);function te(t={}){const{connector:r=(()=>new S.B),resetOnError:s=!0,resetOnComplete:a=!0,resetOnRefCountZero:c=!0}=t;return d=>{let g,v,C,N=0,U=!1,X=!1;const ce=()=>{v?.unsubscribe(),v=void 0},ge=()=>{ce(),g=C=void 0,U=X=!1},Ve=()=>{const it=g;ge(),it?.unsubscribe()};return(0,Re.N)((it,Dt)=>{N++,!X&&!U&&ce();const $t=C=C??r();Dt.add(()=>{N--,0===N&&!X&&!U&&(v=J(Ve,c))}),$t.subscribe(Dt),!g&&N>0&&(g=new Oe.Ms({next:Xe=>$t.next(Xe),error:Xe=>{X=!0,ce(),v=J(ge,s,Xe),$t.error(Xe)},complete:()=>{U=!0,ce(),v=J(ge,a),$t.complete()}}),(0,Q.Tg)(it).subscribe(g))})(d)}}function J(t,r,...s){if(!0===r)return void t();if(!1===r)return;const a=new Oe.Ms({next:()=>{a.unsubscribe(),t()}});return(0,Q.Tg)(r(...s)).subscribe(a)}var me=j(5558),Le=j(3294);function oe(t){for(let r in t)if(t[r]===oe)return r;throw Error("Could not find renamed property on target object.")}function ct(t,r){for(const s in r)r.hasOwnProperty(s)&&!t.hasOwnProperty(s)&&(t[s]=r[s])}function We(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(We).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const r=t.toString();if(null==r)return""+r;const s=r.indexOf("\n");return-1===s?r:r.substring(0,s)}function Bt(t,r){return null==t||""===t?null===r?"":r:null==r||""===r?t:t+" "+r}const Ut=oe({__forward_ref__:oe});function Tn(t){return t.__forward_ref__=Tn,t.toString=function(){return We(this())},t}function _t(t){return et(t)?t():t}function et(t){return"function"==typeof t&&t.hasOwnProperty(Ut)&&t.__forward_ref__===Tn}function tt(t){return t&&!!t.\u0275providers}const st="https://g.co/ng/security#xss";class Se extends Error{constructor(r,s){super(function Qe(t,r){return`NG0${Math.abs(t)}${r?": "+r:""}`}(r,s)),this.code=r}}function Ge(t){return"string"==typeof t?t:null==t?"":String(t)}function St(t,r){throw new Se(-201,!1)}function Yt(t,r){null==t&&function Ke(t,r,s,a){throw new Error(`ASSERTION ERROR: ${t}`+(null==a?"":` [Expected=> ${s} ${a} ${r} <=Actual]`))}(r,t,null,"!=")}function bt(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Sn(t){return{providers:t.providers||[],imports:t.imports||[]}}function kt(t){return Ei(t,Gn)||Ei(t,Zt)}function kn(t){return null!==kt(t)}function Ei(t,r){return t.hasOwnProperty(r)?t[r]:null}function mr(t){return t&&(t.hasOwnProperty(jt)||t.hasOwnProperty(Ir))?t[jt]:null}const Gn=oe({\u0275prov:oe}),jt=oe({\u0275inj:oe}),Zt=oe({ngInjectableDef:oe}),Ir=oe({ngInjectorDef:oe});var xt=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(xt||{});let Er;function fn(t){const r=Er;return Er=t,r}function Ur(t,r,s){const a=kt(t);return a&&"root"==a.providedIn?void 0===a.value?a.value=a.factory():a.value:s&xt.Optional?null:void 0!==r?r:void St(We(t))}const On=globalThis;class Wt{constructor(r,s){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=bt({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const B={},H="__NG_DI_FLAG__",$="ngTempTokenPath",he=/\n/gm,gt="__source";let Vt;function dn(t){const r=Vt;return Vt=t,r}function tn(t,r=xt.Default){if(void 0===Vt)throw new Se(-203,!1);return null===Vt?Ur(t,void 0,r):Vt.get(t,r&xt.Optional?null:void 0,r)}function hn(t,r=xt.Default){return(function wr(){return Er}()||tn)(_t(t),r)}function pn(t,r=xt.Default){return hn(t,Vi(r))}function Vi(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Pe(t){const r=[];for(let s=0;s<t.length;s++){const a=_t(t[s]);if(Array.isArray(a)){if(0===a.length)throw new Se(900,!1);let c,d=xt.Default;for(let g=0;g<a.length;g++){const v=a[g],C=Ze(v);"number"==typeof C?-1===C?c=v.token:d|=C:c=v}r.push(hn(c,d))}else r.push(hn(a))}return r}function ye(t,r){return t[H]=r,t.prototype[H]=r,t}function Ze(t){return t[H]}function zt(t){return{toString:t}.toString()}var en=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(en||{}),Kn=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Kn||{});const Ln={},qt=[],Bi=oe({\u0275cmp:oe}),Mi=oe({\u0275dir:oe}),ji=oe({\u0275pipe:oe}),rs=oe({\u0275mod:oe}),pi=oe({\u0275fac:oe}),gs=oe({__NG_ELEMENT_ID__:oe}),ms=oe({__NG_ENV_ID__:oe});function Qs(t,r,s){let a=t.length;for(;;){const c=t.indexOf(r,s);if(-1===c)return c;if(0===c||t.charCodeAt(c-1)<=32){const d=r.length;if(c+d===a||t.charCodeAt(c+d)<=32)return c}s=c+1}}function Br(t,r,s){let a=0;for(;a<s.length;){const c=s[a];if("number"==typeof c){if(0!==c)break;a++;const d=s[a++],g=s[a++],v=s[a++];t.setAttribute(r,g,v,d)}else{const d=c,g=s[++a];$i(d)?t.setProperty(r,d,g):t.setAttribute(r,d,g),a++}}return a}function Ls(t){return 3===t||4===t||6===t}function $i(t){return 64===t.charCodeAt(0)}function Xi(t,r){if(null!==r&&0!==r.length)if(null===t||0===t.length)t=r.slice();else{let s=-1;for(let a=0;a<r.length;a++){const c=r[a];"number"==typeof c?s=c:0===s||ea(t,s,c,null,-1===s||2===s?r[++a]:null)}}return t}function ea(t,r,s,a,c){let d=0,g=t.length;if(-1===r)g=-1;else for(;d<t.length;){const v=t[d++];if("number"==typeof v){if(v===r){g=-1;break}if(v>r){g=d-1;break}}}for(;d<t.length;){const v=t[d];if("number"==typeof v)break;if(v===s){if(null===a)return void(null!==c&&(t[d+1]=c));if(a===t[d+1])return void(t[d+2]=c)}d++,null!==a&&d++,null!==c&&d++}-1!==g&&(t.splice(g,0,r),d=g+1),t.splice(d++,0,s),null!==a&&t.splice(d++,0,a),null!==c&&t.splice(d++,0,c)}const ae="ng-template";function le(t,r,s){let a=0,c=!0;for(;a<t.length;){let d=t[a++];if("string"==typeof d&&c){const g=t[a++];if(s&&"class"===d&&-1!==Qs(g.toLowerCase(),r,0))return!0}else{if(1===d){for(;a<t.length&&"string"==typeof(d=t[a++]);)if(d.toLowerCase()===r)return!0;return!1}"number"==typeof d&&(c=!1)}}return!1}function we(t){return 4===t.type&&t.value!==ae}function Ue(t,r,s){return r===(4!==t.type||s?t.value:ae)}function rt(t,r,s){let a=4;const c=t.attrs||[],d=function gi(t){for(let r=0;r<t.length;r++)if(Ls(t[r]))return r;return t.length}(c);let g=!1;for(let v=0;v<r.length;v++){const C=r[v];if("number"!=typeof C){if(!g)if(4&a){if(a=2|1&a,""!==C&&!Ue(t,C,s)||""===C&&1===r.length){if(Et(a))return!1;g=!0}}else{const N=8&a?C:r[++v];if(8&a&&null!==t.attrs){if(!le(t.attrs,N,s)){if(Et(a))return!1;g=!0}continue}const X=yn(8&a?"class":C,c,we(t),s);if(-1===X){if(Et(a))return!1;g=!0;continue}if(""!==N){let ce;ce=X>d?"":c[X+1].toLowerCase();const ge=8&a?ce:null;if(ge&&-1!==Qs(ge,N,0)||2&a&&N!==ce){if(Et(a))return!1;g=!0}}}}else{if(!g&&!Et(a)&&!Et(C))return!1;if(g&&Et(C))continue;g=!1,a=C|1&a}}return Et(a)||g}function Et(t){return 0==(1&t)}function yn(t,r,s,a){if(null===r)return-1;let c=0;if(a||!s){let d=!1;for(;c<r.length;){const g=r[c];if(g===t)return c;if(3===g||6===g)d=!0;else{if(1===g||2===g){let v=r[++c];for(;"string"==typeof v;)v=r[++c];continue}if(4===g)break;if(0===g){c+=4;continue}}c+=d?1:2}return-1}return function Gr(t,r){let s=t.indexOf(4);if(s>-1)for(s++;s<t.length;){const a=t[s];if("number"==typeof a)return-1;if(a===r)return s;s++}return-1}(r,t)}function an(t,r,s=!1){for(let a=0;a<r.length;a++)if(rt(t,r[a],s))return!0;return!1}function oi(t,r){e:for(let s=0;s<r.length;s++){const a=r[s];if(t.length===a.length){for(let c=0;c<t.length;c++)if(t[c]!==a[c])continue e;return!0}}return!1}function Wr(t,r){return t?":not("+r.trim()+")":r}function Lo(t){let r=t[0],s=1,a=2,c="",d=!1;for(;s<t.length;){let g=t[s];if("string"==typeof g)if(2&a){const v=t[++s];c+="["+g+(v.length>0?'="'+v+'"':"")+"]"}else 8&a?c+="."+g:4&a&&(c+=" "+g);else""!==c&&!Et(g)&&(r+=Wr(d,c),c=""),a=g,d=d||!Et(a);s++}return""!==c&&(r+=Wr(d,c)),r}function Do(t){return zt(()=>{const r=Yi(t),s={...r,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===en.OnPush,directiveDefs:null,pipeDefs:null,dependencies:r.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Kn.Emulated,styles:t.styles||qt,_:null,schemas:t.schemas||null,tView:null,id:""};wi(s);const a=t.dependencies;return s.directiveDefs=mi(a,!1),s.pipeDefs=mi(a,!0),s.id=function jn(t){let r=0;const s=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const c of s)r=Math.imul(31,r)+c.charCodeAt(0)<<0;return r+=2147483648,"c"+r}(s),s})}function is(t){return Mn(t)||ai(t)}function Da(t){return null!==t}function To(t){return zt(()=>({type:t.type,bootstrap:t.bootstrap||qt,declarations:t.declarations||qt,imports:t.imports||qt,exports:t.exports||qt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function ss(t,r){if(null==t)return Ln;const s={};for(const a in t)if(t.hasOwnProperty(a)){let c=t[a],d=c;Array.isArray(c)&&(d=c[1],c=c[0]),s[c]=a,r&&(r[c]=d)}return s}function Xs(t){return zt(()=>{const r=Yi(t);return wi(r),r})}function Ys(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function Mn(t){return t[Bi]||null}function ai(t){return t[Mi]||null}function Nr(t){return t[ji]||null}function Co(t){const r=Mn(t)||ai(t)||Nr(t);return null!==r&&r.standalone}function tr(t,r){const s=t[rs]||null;if(!s&&!0===r)throw new Error(`Type ${We(t)} does not have '\u0275mod' property.`);return s}function Yi(t){const r={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:r,inputTransforms:null,inputConfig:t.inputs||Ln,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||qt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:ss(t.inputs,r),outputs:ss(t.outputs)}}function wi(t){t.features?.forEach(r=>r(t))}function mi(t,r){if(!t)return null;const s=r?Nr:is;return()=>("function"==typeof t?t():t).map(a=>s(a)).filter(Da)}const Zn=0,ht=1,nn=2,nr=3,yi=4,Zs=5,Or=6,Di=7,Sr=8,xi=9,vi=10,Qt=11,Js=12,na=13,Ri=14,rr=15,Fo=16,ui=17,as=18,Hi=19,Ta=20,Us=21,us=22,eo=23,Ti=24,_n=25,Ca=1,ra=2,Ni=7,ys=9,Mr=11;function jr(t){return Array.isArray(t)&&"object"==typeof t[Ca]}function Pr(t){return Array.isArray(t)&&!0===t[Ca]}function _r(t){return 0!=(4&t.flags)}function vs(t){return t.componentOffset>-1}function Uo(t){return 1==(1&t.flags)}function Ci(t){return!!t.template}function _s(t){return 0!=(512&t[nn])}function Zi(t,r){return t.hasOwnProperty(pi)?t[pi]:null}let kr=null,Vs=!1;function qr(t){const r=kr;return kr=t,r}const Sa={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function Qr(t){if(!aa(t)||t.dirty){if(!t.producerMustRecompute(t)&&!Ro(t))return void(t.dirty=!1);t.producerRecomputeValue(t),t.dirty=!1}}function _u(t){t.dirty=!0,function so(t){if(void 0===t.liveConsumerNode)return;const r=Vs;Vs=!0;try{for(const s of t.liveConsumerNode)s.dirty||_u(s)}finally{Vs=r}}(t),t.consumerMarkedDirty?.(t)}function oa(t){return t&&(t.nextProducerIndex=0),qr(t)}function ws(t,r){if(qr(r),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(aa(t))for(let s=t.nextProducerIndex;s<t.producerNode.length;s++)In(t.producerNode[s],t.producerIndexOfThis[s]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Ro(t){Bs(t);for(let r=0;r<t.producerNode.length;r++){const s=t.producerNode[r],a=t.producerLastReadVersion[r];if(a!==s.version||(Qr(s),a!==s.version))return!0}return!1}function bi(t){if(Bs(t),aa(t))for(let r=0;r<t.producerNode.length;r++)In(t.producerNode[r],t.producerIndexOfThis[r]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function In(t,r){if(function js(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),Bs(t),1===t.liveConsumerNode.length)for(let a=0;a<t.producerNode.length;a++)In(t.producerNode[a],t.producerIndexOfThis[a]);const s=t.liveConsumerNode.length-1;if(t.liveConsumerNode[r]=t.liveConsumerNode[s],t.liveConsumerIndexOfThis[r]=t.liveConsumerIndexOfThis[s],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,r<t.liveConsumerNode.length){const a=t.liveConsumerIndexOfThis[r],c=t.liveConsumerNode[r];Bs(c),c.producerIndexOfThis[a]=r}}function aa(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Bs(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let Wi=null;function Jn(t){const r=qr(null);try{return t()}finally{qr(r)}}const sn=()=>{},dr=(()=>({...Sa,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule(t.ref)},hasRun:!1,cleanupFn:sn}))();class ci{constructor(r,s,a){this.previousValue=r,this.currentValue=s,this.firstChange=a}isFirstChange(){return this.firstChange}}function ni(){return Oi}function Oi(t){return t.type.prototype.ngOnChanges&&(t.setInput=Cr),Qn}function Qn(){const t=$s(this),r=t?.current;if(r){const s=t.previous;if(s===Ln)t.previous=r;else for(let a in r)s[a]=r[a];t.current=null,this.ngOnChanges(r)}}function Cr(t,r,s,a){const c=this.declaredInputs[s],d=$s(t)||function jo(t,r){return t[Yr]=r}(t,{previous:Ln,current:null}),g=d.current||(d.current={}),v=d.previous,C=v[c];g[c]=new ci(C&&C.currentValue,r,v===Ln),t[a]=r}ni.ngInherit=!0;const Yr="__ngSimpleChanges__";function $s(t){return t[Yr]||null}const Zr=function(t,r,s){};function dt(t){for(;Array.isArray(t);)t=t[Zn];return t}function mt(t,r){return dt(r[t])}function Te(t,r){return dt(r[t.index])}function $n(t,r){return t.data[r]}function ca(t,r){return t[r]}function Ds(t,r){const s=r[t];return jr(s)?s:s[Zn]}function Ts(t,r){return null==r?null:t[r]}function Qu(t){t[ui]=0}function Xu(t){1024&t[nn]||(t[nn]|=1024,Lr(t,1))}function Vc(t){1024&t[nn]&&(t[nn]&=-1025,Lr(t,-1))}function Lr(t,r){let s=t[nr];if(null===s)return;s[Zs]+=r;let a=s;for(s=s[nr];null!==s&&(1===r&&1===a[Zs]||-1===r&&0===a[Zs]);)s[Zs]+=r,a=s,s=s[nr]}const Gt={lFrame:Ie(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function ha(){return Gt.bindingsEnabled}function or(){return null!==Gt.skipHydrationRootTNode}function He(){return Gt.lFrame.lView}function Un(){return Gt.lFrame.tView}function Ho(t){return Gt.lFrame.contextLView=t,t[Sr]}function wu(t){return Gt.lFrame.contextLView=null,t}function li(){let t=cs();for(;null!==t&&64===t.type;)t=t.parent;return t}function cs(){return Gt.lFrame.currentTNode}function ls(t,r){const s=Gt.lFrame;s.currentTNode=t,s.isParent=r}function qa(){return Gt.lFrame.isParent}function Cs(){Gt.lFrame.isParent=!1}function ar(){const t=Gt.lFrame;let r=t.bindingRootIndex;return-1===r&&(r=t.bindingRootIndex=t.tView.bindingStartIndex),r}function mo(){return Gt.lFrame.bindingIndex}function ds(){return Gt.lFrame.bindingIndex++}function bs(t){const r=Gt.lFrame,s=r.bindingIndex;return r.bindingIndex=r.bindingIndex+t,s}function Yu(t,r){const s=Gt.lFrame;s.bindingIndex=s.bindingRootIndex=t,Ju(r)}function Ju(t){Gt.lFrame.currentDirectiveIndex=t}function T(){return Gt.lFrame.currentQueryIndex}function m(t){Gt.lFrame.currentQueryIndex=t}function b(t){const r=t[ht];return 2===r.type?r.declTNode:1===r.type?t[Or]:null}function R(t,r,s){if(s&xt.SkipSelf){let c=r,d=t;for(;!(c=c.parent,null!==c||s&xt.Host||(c=b(d),null===c||(d=d[Ri],10&c.type))););if(null===c)return!1;r=c,t=d}const a=Gt.lFrame=Y();return a.currentTNode=r,a.lView=t,!0}function V(t){const r=Y(),s=t[ht];Gt.lFrame=r,r.currentTNode=s.firstChild,r.lView=t,r.tView=s,r.contextLView=t,r.bindingIndex=s.bindingStartIndex,r.inI18n=!1}function Y(){const t=Gt.lFrame,r=null===t?null:t.child;return null===r?Ie(t):r}function Ie(t){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=r),r}function ve(){const t=Gt.lFrame;return Gt.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const vt=ve;function Xt(){const t=ve();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Wn(){return Gt.lFrame.selectedIndex}function Ji(t){Gt.lFrame.selectedIndex=t}function fr(){const t=Gt.lFrame;return $n(t.tView,t.selectedIndex)}let Bc=!0;function nc(){return Bc}function Na(t){Bc=t}function Ya(t,r){for(let s=r.directiveStart,a=r.directiveEnd;s<a;s++){const d=t.data[s].type.prototype,{ngAfterContentInit:g,ngAfterContentChecked:v,ngAfterViewInit:C,ngAfterViewChecked:N,ngOnDestroy:U}=d;g&&(t.contentHooks??=[]).push(-s,g),v&&((t.contentHooks??=[]).push(s,v),(t.contentCheckHooks??=[]).push(s,v)),C&&(t.viewHooks??=[]).push(-s,C),N&&((t.viewHooks??=[]).push(s,N),(t.viewCheckHooks??=[]).push(s,N)),null!=U&&(t.destroyHooks??=[]).push(s,U)}}function rc(t,r,s){ic(t,r,3,s)}function pa(t,r,s,a){(3&t[nn])===s&&ic(t,r,s,a)}function wl(t,r){let s=t[nn];(3&s)===r&&(s&=8191,s+=1,t[nn]=s)}function ic(t,r,s,a){const d=a??-1,g=r.length-1;let v=0;for(let C=void 0!==a?65535&t[ui]:0;C<g;C++)if("number"==typeof r[C+1]){if(v=r[C],null!=a&&v>=a)break}else r[C]<0&&(t[ui]+=65536),(v<d||-1==d)&&(Dl(t,s,r,C),t[ui]=(4294901760&t[ui])+C+2),C++}function Za(t,r){Zr(4,t,r);const s=qr(null);try{r.call(t)}finally{qr(s),Zr(5,t,r)}}function Dl(t,r,s,a){const c=s[a]<0,d=s[a+1],v=t[c?-s[a]:s[a]];c?t[nn]>>13<t[ui]>>16&&(3&t[nn])===r&&(t[nn]+=8192,Za(v,d)):Za(v,d)}const Rr=-1;class Du{constructor(r,s,a){this.factory=r,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=a}}function hs(t){return t!==Rr}function tu(t){return 32767&t}function di(t,r){let s=function Cl(t){return t>>16}(t),a=r;for(;s>0;)a=a[Ri],s--;return a}let $c=!0;function Ss(t){const r=$c;return $c=t,r}const _o=255,ga=5;let Hc=0;const Pi={};function Ms(t,r){const s=Go(t,r);if(-1!==s)return s;const a=r[ht];a.firstCreatePass&&(t.injectorIndex=r.length,Hs(a.data,t),Hs(r,null),Hs(a.blueprint,null));const c=zs(t,r),d=t.injectorIndex;if(hs(c)){const g=tu(c),v=di(c,r),C=v[ht].data;for(let N=0;N<8;N++)r[d+N]=v[g+N]|C[g+N]}return r[d+8]=c,d}function Hs(t,r){t.push(0,0,0,0,0,0,0,0,r)}function Go(t,r){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===r[t.injectorIndex+8]?-1:t.injectorIndex}function zs(t,r){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let s=0,a=null,c=r;for(;null!==c;){if(a=_(c),null===a)return Rr;if(s++,c=c[Ri],-1!==a.injectorIndex)return a.injectorIndex|s<<16}return Rr}function xs(t,r,s){!function sc(t,r,s){let a;"string"==typeof s?a=s.charCodeAt(0)||0:s.hasOwnProperty(gs)&&(a=s[gs]),null==a&&(a=s[gs]=Hc++);const c=a&_o;r.data[t+(c>>ga)]|=1<<c}(t,r,s)}function Wo(t,r,s){if(s&xt.Optional||void 0!==t)return t;St()}function bl(t,r,s,a){if(s&xt.Optional&&void 0===a&&(a=null),!(s&(xt.Self|xt.Host))){const c=t[xi],d=fn(void 0);try{return c?c.get(r,a,s&xt.Optional):Ur(r,a,s&xt.Optional)}finally{fn(d)}}return Wo(a,0,s)}function Pa(t,r,s,a=xt.Default,c){if(null!==t){if(2048&r[nn]&&!(a&xt.Self)){const g=function Sl(t,r,s,a,c){let d=t,g=r;for(;null!==d&&null!==g&&2048&g[nn]&&!(512&g[nn]);){const v=nu(d,g,s,a|xt.Self,Pi);if(v!==Pi)return v;let C=d.parent;if(!C){const N=g[Ta];if(N){const U=N.get(s,Pi,a);if(U!==Pi)return U}C=_(g),g=g[Ri]}d=C}return c}(t,r,s,a,Pi);if(g!==Pi)return g}const d=nu(t,r,s,a,Pi);if(d!==Pi)return d}return bl(r,s,a,c)}function nu(t,r,s,a,c){const d=function ka(t){if("string"==typeof t)return t.charCodeAt(0)||0;const r=t.hasOwnProperty(gs)?t[gs]:void 0;return"number"==typeof r?r>=0?r&_o:bd:r}(s);if("function"==typeof d){if(!R(r,t,a))return a&xt.Host?Wo(c,0,a):bl(r,s,a,c);try{let g;if(g=d(a),null!=g||a&xt.Optional)return g;St()}finally{vt()}}else if("number"==typeof d){let g=null,v=Go(t,r),C=Rr,N=a&xt.Host?r[rr][Or]:null;for((-1===v||a&xt.SkipSelf)&&(C=-1===v?zs(t,r):r[v+8],C!==Rr&&zc(a,!1)?(g=r[ht],v=tu(C),r=di(C,r)):v=-1);-1!==v;){const U=r[ht];if(Qo(d,v,U.data)){const X=Ko(v,r,s,g,a,N);if(X!==Pi)return X}C=r[v+8],C!==Rr&&zc(a,r[ht].data[v+8]===N)&&Qo(d,v,r)?(g=U,v=tu(C),r=di(C,r)):v=-1}}return c}function Ko(t,r,s,a,c,d){const g=r[ht],v=g.data[t+8],U=Io(v,g,s,null==a?vs(v)&&$c:a!=g&&0!=(3&v.type),c&xt.Host&&d===v);return null!==U?qo(r,g,U,v):Pi}function Io(t,r,s,a,c){const d=t.providerIndexes,g=r.data,v=1048575&d,C=t.directiveStart,U=d>>20,ce=c?v+U:t.directiveEnd;for(let ge=a?v:v+U;ge<ce;ge++){const Ve=g[ge];if(ge<C&&s===Ve||ge>=C&&Ve.type===s)return ge}if(c){const ge=g[C];if(ge&&Ci(ge)&&ge.type===s)return C}return null}function qo(t,r,s,a){let c=t[s];const d=r.data;if(function Oa(t){return t instanceof Du}(c)){const g=c;g.resolving&&function br(t,r){const s=r?`. Dependency path: ${r.join(" > ")} > ${t}`:"";throw new Se(-200,`Circular dependency in DI detected for ${t}${s}`)}(function Tt(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Ge(t)}(d[s]));const v=Ss(g.canSeeViewProviders);g.resolving=!0;const N=g.injectImpl?fn(g.injectImpl):null;R(t,a,xt.Default);try{c=t[s]=g.factory(void 0,d,t,a),r.firstCreatePass&&s>=a.directiveStart&&function yp(t,r,s){const{ngOnChanges:a,ngOnInit:c,ngDoCheck:d}=r.type.prototype;if(a){const g=Oi(r);(s.preOrderHooks??=[]).push(t,g),(s.preOrderCheckHooks??=[]).push(t,g)}c&&(s.preOrderHooks??=[]).push(0-t,c),d&&((s.preOrderHooks??=[]).push(t,d),(s.preOrderCheckHooks??=[]).push(t,d))}(s,d[s],r)}finally{null!==N&&fn(N),Ss(v),g.resolving=!1,vt()}}return c}function Qo(t,r,s){return!!(s[r+(t>>ga)]&1<<t)}function zc(t,r){return!(t&xt.Self||t&xt.Host&&r)}class ki{constructor(r,s){this._tNode=r,this._lView=s}get(r,s,a){return Pa(this._tNode,this._lView,r,Vi(a),s)}}function bd(){return new ki(li(),He())}function Al(t){return zt(()=>{const r=t.prototype.constructor,s=r[pi]||ac(r),a=Object.prototype;let c=Object.getPrototypeOf(t.prototype).constructor;for(;c&&c!==a;){const d=c[pi]||ac(c);if(d&&d!==s)return d;c=Object.getPrototypeOf(c)}return d=>new d})}function ac(t){return et(t)?()=>{const r=ac(_t(t));return r&&r()}:Zi(t)}function _(t){const r=t[ht],s=r.type;return 2===s?r.declTNode:1===s?t[Or]:null}function A(t){return function Tu(t,r){if("class"===r)return t.classes;if("style"===r)return t.styles;const s=t.attrs;if(s){const a=s.length;let c=0;for(;c<a;){const d=s[c];if(Ls(d))break;if(0===d)c+=2;else if("number"==typeof d)for(c++;c<a&&"string"==typeof s[c];)c++;else{if(d===r)return s[c+1];c+=2}}}return null}(li(),t)}const q="__parameters__";function pt(t,r,s){return zt(()=>{const a=function Ne(t){return function(...s){if(t){const a=t(...s);for(const c in a)this[c]=a[c]}}}(r);function c(...d){if(this instanceof c)return a.apply(this,d),this;const g=new c(...d);return v.annotation=g,v;function v(C,N,U){const X=C.hasOwnProperty(q)?C[q]:Object.defineProperty(C,q,{value:[]})[q];for(;X.length<=U;)X.push(null);return(X[U]=X[U]||[]).push(g),C}}return s&&(c.prototype=Object.create(s.prototype)),c.prototype.ngMetadataName=t,c.annotationCls=c,c})}function lc(t,r){t.forEach(s=>Array.isArray(s)?lc(s,r):r(s))}function _p(t,r,s){r>=t.length?t.push(s):t.splice(r,0,s)}function dc(t,r){return r>=t.length-1?t.pop():t.splice(r,1)[0]}function hc(t,r){const s=[];for(let a=0;a<t;a++)s.push(r);return s}function Ns(t,r,s){let a=bu(t,r);return a>=0?t[1|a]=s:(a=~a,function pc(t,r,s,a){let c=t.length;if(c==r)t.push(s,a);else if(1===c)t.push(a,t[0]),t[0]=s;else{for(c--,t.push(t[c-1],t[c]);c>r;)t[c]=t[c-2],c--;t[r]=s,t[r+1]=a}}(t,a,r,s)),a}function Ml(t,r){const s=bu(t,r);if(s>=0)return t[1|s]}function bu(t,r){return function xl(t,r,s){let a=0,c=t.length>>s;for(;c!==a;){const d=a+(c-a>>1),g=t[d<<s];if(r===g)return d<<s;g>r?c=d:a=d+1}return~(c<<s)}(t,r,1)}const iu=ye(pt("Optional"),8),vc=ye(pt("SkipSelf"),4);function uu(t){return 128==(128&t.flags)}var Fl=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Fl||{});const Cp=/^>|^->|<!--|-->|--!>|<!-$/g,bp=/(<|>)/g,Xc="\u200b$1\u200b";const Ul=new Map;let Hh=0;const de="__ngContext__";function _e(t,r){jr(r)?(t[de]=r[Hi],function ym(t){Ul.set(t[Hi],t)}(r)):t[de]=r}let Zc;function Jc(t,r){return Zc(t,r)}function Su(t){const r=t[nr];return Pr(r)?r[nr]:r}function Vl(t){return el(t[Js])}function Bl(t){return el(t[yi])}function el(t){for(;null!==t&&!Pr(t);)t=t[yi];return t}function tl(t,r,s,a,c){if(null!=a){let d,g=!1;Pr(a)?d=a:jr(a)&&(g=!0,a=a[Zn]);const v=dt(a);0===t&&null!==s?null==c?kp(r,s,v):Mu(r,s,v,c||null,!0):1===t&&null!==s?Mu(r,s,v,c||null,!0):2===t?function rl(t,r,s){const a=Kh(t,r);a&&function Em(t,r,s,a){t.removeChild(r,s,a)}(t,a,r,s)}(r,v,g):3===t&&r.destroyNode(v),null!=d&&function Bp(t,r,s,a,c){const d=s[Ni];d!==dt(s)&&tl(r,t,a,d,c);for(let v=Mr;v<s.length;v++){const C=s[v];Va(C[ht],C,t,r,a,d)}}(r,t,d,s,c)}}function Fd(t,r){return t.createComment(function Od(t){return t.replace(Cp,r=>r.replace(bp,Xc))}(r))}function Ud(t,r,s){return t.createElement(r,s)}function Mp(t,r){const s=t[ys],a=s.indexOf(r);Vc(r),s.splice(a,1)}function jd(t,r){if(t.length<=Mr)return;const s=Mr+r,a=t[s];if(a){const c=a[Fo];null!==c&&c!==t&&Mp(c,a),r>0&&(t[s-1][yi]=a[yi]);const d=dc(t,Mr+r);!function Vd(t,r){Va(t,r,r[Qt],2,null,null),r[Zn]=null,r[Or]=null}(a[ht],a);const g=d[as];null!==g&&g.detachView(d[ht]),a[nr]=null,a[yi]=null,a[nn]&=-129}return a}function xp(t,r){if(!(256&r[nn])){const s=r[Qt];r[eo]&&bi(r[eo]),r[Ti]&&bi(r[Ti]),s.destroyNode&&Va(t,r,s,3,null,null),function vm(t){let r=t[Js];if(!r)return Rp(t[ht],t);for(;r;){let s=null;if(jr(r))s=r[Js];else{const a=r[Mr];a&&(s=a)}if(!s){for(;r&&!r[yi]&&r!==t;)jr(r)&&Rp(r[ht],r),r=r[nr];null===r&&(r=t),jr(r)&&Rp(r[ht],r),s=r&&r[yi]}r=s}}(r)}}function Rp(t,r){if(!(256&r[nn])){r[nn]&=-129,r[nn]|=256,function Np(t,r){let s;if(null!=t&&null!=(s=t.destroyHooks))for(let a=0;a<s.length;a+=2){const c=r[s[a]];if(!(c instanceof Du)){const d=s[a+1];if(Array.isArray(d))for(let g=0;g<d.length;g+=2){const v=c[d[g]],C=d[g+1];Zr(4,v,C);try{C.call(v)}finally{Zr(5,v,C)}}else{Zr(4,c,d);try{d.call(c)}finally{Zr(5,c,d)}}}}}(t,r),function $d(t,r){const s=t.cleanup,a=r[Di];if(null!==s)for(let d=0;d<s.length-1;d+=2)if("string"==typeof s[d]){const g=s[d+3];g>=0?a[g]():a[-g].unsubscribe(),d+=2}else s[d].call(a[s[d+1]]);null!==a&&(r[Di]=null);const c=r[Us];if(null!==c){r[Us]=null;for(let d=0;d<c.length;d++)(0,c[d])()}}(t,r),1===r[ht].type&&r[Qt].destroy();const s=r[Fo];if(null!==s&&Pr(r[nr])){s!==r[nr]&&Mp(s,r);const a=r[as];null!==a&&a.detachView(t)}!function h(t){Ul.delete(t[Hi])}(r)}}function Op(t,r,s){return function Pp(t,r,s){let a=r;for(;null!==a&&40&a.type;)a=(r=a).parent;if(null===a)return s[Zn];{const{componentOffset:c}=a;if(c>-1){const{encapsulation:d}=t.data[a.directiveStart+c];if(d===Kn.None||d===Kn.Emulated)return null}return Te(a,s)}}(t,r.parent,s)}function Mu(t,r,s,a,c){t.insertBefore(r,s,a,c)}function kp(t,r,s){t.appendChild(r,s)}function Im(t,r,s,a,c){null!==a?Mu(t,r,s,a,c):kp(t,r,s)}function Kh(t,r){return t.parentNode(r)}function xu(t,r,s){return Lp(t,r,s)}let Fp,Hp,wc,Lp=function nl(t,r,s){return 40&t.type?Te(t,s):null};function ma(t,r,s,a){const c=Op(t,a,r),d=r[Qt],v=xu(a.parent||r[Or],a,r);if(null!=c)if(Array.isArray(s))for(let C=0;C<s.length;C++)Im(d,c,s[C],v,!1);else Im(d,c,s,v,!1);void 0!==Fp&&Fp(d,a,r,s,c)}function jl(t,r){if(null!==r){const s=r.type;if(3&s)return Te(r,t);if(4&s)return qh(-1,t[r.index]);if(8&s){const a=r.child;if(null!==a)return jl(t,a);{const c=t[r.index];return Pr(c)?qh(-1,c):dt(c)}}if(32&s)return Jc(r,t)()||dt(t[r.index]);{const a=wm(t,r);return null!==a?Array.isArray(a)?a[0]:jl(Su(t[rr]),a):jl(t,r.next)}}return null}function wm(t,r){return null!==r?t[rr][Or].projection[r.projection]:null}function qh(t,r){const s=Mr+t+1;if(s<r.length){const a=r[s],c=a[ht].firstChild;if(null!==c)return jl(a,c)}return r[Ni]}function Ru(t,r,s,a,c,d,g){for(;null!=s;){const v=a[s.index],C=s.type;if(g&&0===r&&(v&&_e(dt(v),a),s.flags|=2),32!=(32&s.flags))if(8&C)Ru(t,r,s.child,a,c,d,!1),tl(r,t,c,v,d);else if(32&C){const N=Jc(s,a);let U;for(;U=N();)tl(r,t,c,U,d);tl(r,t,c,v,d)}else 16&C?Vp(t,r,a,s,c,d):tl(r,t,c,v,d);s=g?s.projectionNext:s.next}}function Va(t,r,s,a,c,d){Ru(s,a,t.firstChild,r,c,d,!1)}function Vp(t,r,s,a,c,d){const g=s[rr],C=g[Or].projection[a.projection];if(Array.isArray(C))for(let N=0;N<C.length;N++)tl(r,t,c,C[N],d);else{let N=C;const U=g[nr];uu(a)&&(N.flags|=128),Ru(t,r,N,U,c,d,!0)}}function $p(t,r,s){""===s?t.removeAttribute(r,"class"):t.setAttribute(r,"class",s)}function Tm(t,r,s){const{mergedAttrs:a,classes:c,styles:d}=s;null!==a&&Br(t,r,a),null!==c&&$p(t,r,c),null!==d&&function Dm(t,r,s){t.setAttribute(r,"style",s)}(t,r,d)}function kv(t){Hp=t}function bm(t){return function Ou(){if(void 0===wc&&(wc=null,On.trustedTypes))try{wc=On.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return wc}()?.createScriptURL(t)||t}class Gp{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${st})`}}function lu(t){return t instanceof Gp?t.changingThisBreaksApplicationSecurity:t}function Hl(t,r){const s=function Xh(t){return t instanceof Gp&&t.getTypeName()||null}(t);if(null!=s&&s!==r){if("ResourceURL"===s&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${s} (see ${st})`)}return s===r}const xm=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var Wl=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Wl||{});function Kl(t){const r=Qd();return r?r.sanitize(Wl.URL,t)||"":Hl(t,"URL")?lu(t):function Os(t){return(t=String(t)).match(xm)?t:"unsafe:"+t}(Ge(t))}function eg(t){const r=Qd();if(r)return bm(r.sanitize(Wl.RESOURCE_URL,t)||"");if(Hl(t,"ResourceURL"))return bm(lu(t));throw new Se(904,!1)}function Vm(t,r,s){return function Hv(t,r){return"src"===r&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===r&&("base"===t||"link"===t)?eg:Kl}(r,s)(t)}function Qd(){const t=He();return t&&t[vi].sanitizer}const Xd=new Wt("ENVIRONMENT_INITIALIZER"),jm=new Wt("INJECTOR",-1),$m=new Wt("INJECTOR_DEF_TYPES");class Yd{get(r,s=B){if(s===B){const a=new Error(`NullInjectorError: No provider for ${We(r)}!`);throw a.name="NullInjectorError",a}return s}}function Zh(...t){return{\u0275providers:Zd(0,t),\u0275fromNgModule:!0}}function Zd(t,...r){const s=[],a=new Set;let c;const d=g=>{s.push(g)};return lc(r,g=>{const v=g;Jd(v,d,[],a)&&(c||=[],c.push(v))}),void 0!==c&&zm(c,d),s}function zm(t,r){for(let s=0;s<t.length;s++){const{ngModule:a,providers:c}=t[s];eh(c,d=>{r(d,a)})}}function Jd(t,r,s,a){if(!(t=_t(t)))return!1;let c=null,d=mr(t);const g=!d&&Mn(t);if(d||g){if(g&&!g.standalone)return!1;c=t}else{const C=t.ngModule;if(d=mr(C),!d)return!1;c=C}const v=a.has(c);if(g){if(v)return!1;if(a.add(c),g.dependencies){const C="function"==typeof g.dependencies?g.dependencies():g.dependencies;for(const N of C)Jd(N,r,s,a)}}else{if(!d)return!1;{if(null!=d.imports&&!v){let N;a.add(c);try{lc(d.imports,U=>{Jd(U,r,s,a)&&(N||=[],N.push(U))})}finally{}void 0!==N&&zm(N,r)}if(!v){const N=Zi(c)||(()=>new c);r({provide:c,useFactory:N,deps:qt},c),r({provide:$m,useValue:c,multi:!0},c),r({provide:Xd,useValue:()=>hn(c),multi:!0},c)}const C=d.providers;if(null!=C&&!v){const N=t;eh(C,U=>{r(U,N)})}}}return c!==t&&void 0!==t.providers}function eh(t,r){for(let s of t)tt(s)&&(s=s.\u0275providers),Array.isArray(s)?eh(s,r):r(s)}const th=oe({provide:String,useValue:oe});function ql(t){return null!==t&&"object"==typeof t&&th in t}function Cc(t){return"function"==typeof t}const tf=new Wt("Set Injector scope."),nh={},tg={};let ng;function rh(){return void 0===ng&&(ng=new Yd),ng}class hu{}class ul extends hu{get destroyed(){return this._destroyed}constructor(r,s,a,c){super(),this.parent=s,this.source=a,this.scopes=c,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,ig(r,g=>this.processProvider(g)),this.records.set(jm,Lu(void 0,this)),c.has("environment")&&this.records.set(hu,Lu(void 0,this));const d=this.records.get(tf);null!=d&&"string"==typeof d.value&&this.scopes.add(d.value),this.injectorDefTypes=new Set(this.get($m.multi,qt,xt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const s of this._ngOnDestroyHooks)s.ngOnDestroy();const r=this._onDestroyHooks;this._onDestroyHooks=[];for(const s of r)s()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(r){return this.assertNotDestroyed(),this._onDestroyHooks.push(r),()=>this.removeOnDestroy(r)}runInContext(r){this.assertNotDestroyed();const s=dn(this),a=fn(void 0);try{return r()}finally{dn(s),fn(a)}}get(r,s=B,a=xt.Default){if(this.assertNotDestroyed(),r.hasOwnProperty(ms))return r[ms](this);a=Vi(a);const d=dn(this),g=fn(void 0);try{if(!(a&xt.SkipSelf)){let C=this.records.get(r);if(void 0===C){const N=function qm(t){return"function"==typeof t||"object"==typeof t&&t instanceof Wt}(r)&&kt(r);C=N&&this.injectableDefInScope(N)?Lu(rg(r),nh):null,this.records.set(r,C)}if(null!=C)return this.hydrate(r,C)}return(a&xt.Self?rh():this.parent).get(r,s=a&xt.Optional&&s===B?null:s)}catch(v){if("NullInjectorError"===v.name){if((v[$]=v[$]||[]).unshift(We(r)),d)throw v;return function Rt(t,r,s,a){const c=t[$];throw r[gt]&&c.unshift(r[gt]),t.message=function Kt(t,r,s,a=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let c=We(r);if(Array.isArray(r))c=r.map(We).join(" -> ");else if("object"==typeof r){let d=[];for(let g in r)if(r.hasOwnProperty(g)){let v=r[g];d.push(g+":"+("string"==typeof v?JSON.stringify(v):We(v)))}c=`{${d.join(", ")}}`}return`${s}${a?"("+a+")":""}[${c}]: ${t.replace(he,"\n  ")}`}("\n"+t.message,c,s,a),t.ngTokenPath=c,t[$]=null,t}(v,r,"R3InjectorError",this.source)}throw v}finally{fn(g),dn(d)}}resolveInjectorInitializers(){const r=dn(this),s=fn(void 0);try{const c=this.get(Xd.multi,qt,xt.Self);for(const d of c)d()}finally{dn(r),fn(s)}}toString(){const r=[],s=this.records;for(const a of s.keys())r.push(We(a));return`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Se(205,!1)}processProvider(r){let s=Cc(r=_t(r))?r:_t(r&&r.provide);const a=function Xl(t){return ql(t)?Lu(void 0,t.useValue):Lu(nf(t),nh)}(r);if(Cc(r)||!0!==r.multi)this.records.get(s);else{let c=this.records.get(s);c||(c=Lu(void 0,nh,!0),c.factory=()=>Pe(c.multi),this.records.set(s,c)),s=r,c.multi.push(r)}this.records.set(s,a)}hydrate(r,s){return s.value===nh&&(s.value=tg,s.value=s.factory()),"object"==typeof s.value&&s.value&&function Km(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(s.value)&&this._ngOnDestroyHooks.add(s.value),s.value}injectableDefInScope(r){if(!r.providedIn)return!1;const s=_t(r.providedIn);return"string"==typeof s?"any"===s||this.scopes.has(s):this.injectorDefTypes.has(s)}removeOnDestroy(r){const s=this._onDestroyHooks.indexOf(r);-1!==s&&this._onDestroyHooks.splice(s,1)}}function rg(t){const r=kt(t),s=null!==r?r.factory:Zi(t);if(null!==s)return s;if(t instanceof Wt)throw new Se(204,!1);if(t instanceof Function)return function Ql(t){const r=t.length;if(r>0)throw hc(r,"?"),new Se(204,!1);const s=function Ar(t){return t&&(t[Gn]||t[Zt])||null}(t);return null!==s?()=>s.factory(t):()=>new t}(t);throw new Se(204,!1)}function nf(t,r,s){let a;if(Cc(t)){const c=_t(t);return Zi(c)||rg(c)}if(ql(t))a=()=>_t(t.useValue);else if(function ef(t){return!(!t||!t.useFactory)}(t))a=()=>t.useFactory(...Pe(t.deps||[]));else if(function Jh(t){return!(!t||!t.useExisting)}(t))a=()=>hn(_t(t.useExisting));else{const c=_t(t&&(t.useClass||t.provide));if(!function Wm(t){return!!t.deps}(t))return Zi(c)||rg(c);a=()=>new c(...Pe(t.deps))}return a}function Lu(t,r,s=!1){return{factory:t,value:r,multi:s?[]:void 0}}function ig(t,r){for(const s of t)Array.isArray(s)?ig(s,r):s&&tt(s)?ig(s.\u0275providers,r):r(s)}const rf=new Wt("AppId",{providedIn:"root",factory:()=>Gv}),Gv="ng",sf=new Wt("Platform Initializer"),af=new Wt("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),uf=new Wt("CSP nonce",{providedIn:"root",factory:()=>function $l(){if(void 0!==Hp)return Hp;if(typeof document<"u")return document;throw new Se(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let Ym=(t,r,s)=>null;function uh(t,r,s=!1){return Ym(t,r,s)}class cg{}class Fu{}class Yv{resolveComponentFactory(r){throw function ey(t){const r=Error(`No component factory found for ${We(t)}.`);return r.ngComponent=t,r}(r)}}let id=(()=>{class t{static{this.NULL=new Yv}}return t})();function Zv(){return bc(li(),He())}function bc(t,r){return new Ac(Te(t,r))}let Ac=(()=>{class t{constructor(s){this.nativeElement=s}static{this.__NG_ELEMENT_ID__=Zv}}return t})();function lg(t){return t instanceof Ac?t.nativeElement:t}class dg{}let sd=(()=>{class t{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>function hg(){const t=He(),s=Ds(li().index,t);return(jr(s)?s:t)[Qt]}()}}return t})(),Jv=(()=>{class t{static{this.\u0275prov=bt({token:t,providedIn:"root",factory:()=>null})}}return t})();class ry{constructor(r){this.full=r,this.major=r.split(".")[0],this.minor=r.split(".")[1],this.patch=r.split(".").slice(2).join(".")}}const fg=new ry("16.2.12"),gf={};function vf(t,r=null,s=null,a){const c=dl(t,r,s,a);return c.resolveInjectorInitializers(),c}function dl(t,r=null,s=null,a,c=new Set){const d=[s||qt,Zh(t)];return a=a||("object"==typeof t?void 0:We(t)),new ul(d,r||rh(),a||null,c)}let Ps=(()=>{class t{static{this.THROW_IF_NOT_FOUND=B}static{this.NULL=new Yd}static create(s,a){if(Array.isArray(s))return vf({name:""},a,s,"");{const c=s.name??"";return vf({name:c},s.parent,s.providers,c)}}static{this.\u0275prov=bt({token:t,providedIn:"any",factory:()=>hn(jm)})}static{this.__NG_ELEMENT_ID__=-1}}return t})();function Sc(t){return t.ngOriginalError}class Uu{constructor(){this._console=console}handleError(r){const s=this._findOriginalError(r);this._console.error("ERROR",r),s&&this._console.error("ORIGINAL ERROR",s)}_findOriginalError(r){let s=r&&Sc(r);for(;s&&Sc(s);)s=Sc(s);return s||null}}function fh(t){return r=>{setTimeout(t,void 0,r)}}const ya=class mg extends S.B{constructor(r=!1){super(),this.__isAsync=r}emit(r){super.next(r)}subscribe(r,s,a){let c=r,d=s||(()=>null),g=a;if(r&&"object"==typeof r){const C=r;c=C.next?.bind(C),d=C.error?.bind(C),g=C.complete?.bind(C)}this.__isAsync&&(d=fh(d),c&&(c=fh(c)),g&&(g=fh(g)));const v=super.subscribe({next:c,error:d,complete:g});return r instanceof ne.yU&&r.add(v),v}};function If(...t){}class es{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:a=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ya(!1),this.onMicrotaskEmpty=new ya(!1),this.onStable=new ya(!1),this.onError=new ya(!1),typeof Zone>"u")throw new Se(908,!1);Zone.assertZonePatched();const c=this;c._nesting=0,c._outer=c._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(c._inner=c._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(c._inner=c._inner.fork(Zone.longStackTraceZoneSpec)),c.shouldCoalesceEventChangeDetection=!a&&s,c.shouldCoalesceRunChangeDetection=a,c.lastRequestAnimationFrameId=-1,c.nativeRequestAnimationFrame=function i_(){const t="function"==typeof On.requestAnimationFrame;let r=On[t?"requestAnimationFrame":"setTimeout"],s=On[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&r&&s){const a=r[Zone.__symbol__("OriginalDelegate")];a&&(r=a);const c=s[Zone.__symbol__("OriginalDelegate")];c&&(s=c)}return{nativeRequestAnimationFrame:r,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function s_(t){const r=()=>{!function ay(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(On,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Ef(t),t.isCheckStableRunning=!0,vg(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Ef(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,a,c,d,g,v)=>{if(function o_(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(v))return s.invokeTask(c,d,g,v);try{return _g(t),s.invokeTask(c,d,g,v)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===d.type||t.shouldCoalesceRunChangeDetection)&&r(),Ig(t)}},onInvoke:(s,a,c,d,g,v,C)=>{try{return _g(t),s.invoke(c,d,g,v,C)}finally{t.shouldCoalesceRunChangeDetection&&r(),Ig(t)}},onHasTask:(s,a,c,d)=>{s.hasTask(c,d),a===c&&("microTask"==d.change?(t._hasPendingMicrotasks=d.microTask,Ef(t),vg(t)):"macroTask"==d.change&&(t.hasPendingMacrotasks=d.macroTask))},onHandleError:(s,a,c,d)=>(s.handleError(c,d),t.runOutsideAngular(()=>t.onError.emit(d)),!1)})}(c)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!es.isInAngularZone())throw new Se(909,!1)}static assertNotInAngularZone(){if(es.isInAngularZone())throw new Se(909,!1)}run(r,s,a){return this._inner.run(r,s,a)}runTask(r,s,a,c){const d=this._inner,g=d.scheduleEventTask("NgZoneEvent: "+c,r,yg,If,If);try{return d.runTask(g,s,a)}finally{d.cancelTask(g)}}runGuarded(r,s,a){return this._inner.runGuarded(r,s,a)}runOutsideAngular(r){return this._outer.run(r)}}const yg={};function vg(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Ef(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function _g(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Ig(t){t._nesting--,vg(t)}class uy{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ya,this.onMicrotaskEmpty=new ya,this.onStable=new ya,this.onError=new ya}run(r,s,a){return r.apply(s,a)}runGuarded(r,s,a){return r.apply(s,a)}runOutsideAngular(r){return r()}runTask(r,s,a,c){return r.apply(s,a)}}const cy=new Wt("",{providedIn:"root",factory:ly});function ly(){const t=pn(es);let r=!0;const s=new se.c(c=>{r=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{c.next(r),c.complete()})}),a=new se.c(c=>{let d;t.runOutsideAngular(()=>{d=t.onStable.subscribe(()=>{es.assertNotInAngularZone(),queueMicrotask(()=>{!r&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(r=!0,c.next(!0))})})});const g=t.onUnstable.subscribe(()=>{es.assertInAngularZone(),r&&(r=!1,t.runOutsideAngular(()=>{c.next(!1)}))});return()=>{d.unsubscribe(),g.unsubscribe()}});return(0,fe.h)(s,a.pipe(te()))}function Bu(t){return t instanceof Function?t():t}let Tf=(()=>{class t{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static{this.\u0275prov=bt({token:t,providedIn:"root",factory:()=>new t})}}return t})();function ph(t){for(;t;){t[nn]|=64;const r=Su(t);if(_s(t)&&!r)return t;t=r}return null}const Cf=new Wt("",{providedIn:"root",factory:()=>!1});let ud=null;function gy(t,r){return t[r]??Mf()}function Sf(t,r){const s=Mf();s.producerNode?.length&&(t[r]=ud,s.lView=t,ud=my())}const h_={...Sa,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{ph(t.lView)},lView:null};function my(){return Object.create(h_)}function Mf(){return ud??=my(),ud}const Dn={};function xf(t){yy(Un(),He(),Wn()+t,!1)}function yy(t,r,s,a){if(!a)if(3==(3&r[nn])){const d=t.preOrderCheckHooks;null!==d&&rc(r,d,s)}else{const d=t.preOrderHooks;null!==d&&pa(r,d,0,s)}Ji(s)}function Nc(t,r=xt.Default){const s=He();return null===s?hn(t,r):Pa(li(),s,_t(t),r)}function vy(){throw new Error("invalid")}function gh(t,r,s,a,c,d,g,v,C,N,U){const X=r.blueprint.slice();return X[Zn]=c,X[nn]=140|a,(null!==N||t&&2048&t[nn])&&(X[nn]|=2048),Qu(X),X[nr]=X[Ri]=t,X[Sr]=s,X[vi]=g||t&&t[vi],X[Qt]=v||t&&t[Qt],X[xi]=C||t&&t[xi]||null,X[Or]=d,X[Hi]=function zh(){return Hh++}(),X[us]=U,X[Ta]=N,X[rr]=2==r.type?t[rr]:X,X}function Oc(t,r,s,a,c){let d=t.data[r];if(null===d)d=function Rf(t,r,s,a,c){const d=cs(),g=qa(),C=t.data[r]=function Pf(t,r,s,a,c,d){let g=r?r.injectorIndex:-1,v=0;return or()&&(v|=128),{type:s,index:a,insertBeforeIndex:null,injectorIndex:g,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:v,providerIndexes:0,value:c,attrs:d,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,g?d:d&&d.parent,s,r,a,c);return null===t.firstChild&&(t.firstChild=C),null!==d&&(g?null==d.child&&null!==C.parent&&(d.child=C):null===d.next&&(d.next=C,C.prev=d)),C}(t,r,s,a,c),function fa(){return Gt.lFrame.inI18n}()&&(d.flags|=32);else if(64&d.type){d.type=s,d.value=a,d.attrs=c;const g=function zo(){const t=Gt.lFrame,r=t.currentTNode;return t.isParent?r:r.parent}();d.injectorIndex=null===g?-1:g.injectorIndex}return ls(d,!0),d}function mh(t,r,s,a){if(0===s)return-1;const c=r.length;for(let d=0;d<s;d++)r.push(a),t.blueprint.push(a),t.data.push(null);return c}function _y(t,r,s,a,c){const d=gy(r,eo),g=Wn(),v=2&a;try{Ji(-1),v&&r.length>_n&&yy(t,r,_n,!1),Zr(v?2:0,c);const N=v?d:null,U=oa(N);try{null!==N&&(N.dirty=!1),s(a,c)}finally{ws(N,U)}}finally{v&&null===r[eo]&&Sf(r,eo),Ji(g),Zr(v?3:1,c)}}function yh(t,r,s){if(_r(r)){const a=qr(null);try{const d=r.directiveEnd;for(let g=r.directiveStart;g<d;g++){const v=t.data[g];v.contentQueries&&v.contentQueries(1,s[g],g)}}finally{qr(a)}}}function Ag(t,r,s){ha()&&(function Rg(t,r,s,a){const c=s.directiveStart,d=s.directiveEnd;vs(s)&&function v_(t,r,s){const a=Te(r,t),c=Nf(s);let g=16;s.signals?g=4096:s.onPush&&(g=64);const v=Bf(t,gh(t,c,null,g,a,r,null,t[vi].rendererFactory.createRenderer(a,s),null,null,null));t[r.index]=v}(r,s,t.data[c+s.componentOffset]),t.firstCreatePass||Ms(s,r),_e(a,r);const g=s.initialInputs;for(let v=c;v<d;v++){const C=t.data[v],N=qo(r,t,v,s);_e(N,r),null!==g&&__(0,v-c,N,C,0,g),Ci(C)&&(Ds(s.index,r)[Sr]=qo(r,t,v,s))}}(t,r,s,Te(s,r)),64==(64&s.flags)&&Ng(t,r,s))}function vh(t,r,s=Te){const a=r.localNames;if(null!==a){let c=r.index+1;for(let d=0;d<a.length;d+=2){const g=a[d+1],v=-1===g?s(r,t):t[g];t[c++]=v}}}function Nf(t){const r=t.tView;return null===r||r.incompleteFirstPass?t.tView=_h(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):r}function _h(t,r,s,a,c,d,g,v,C,N,U){const X=_n+a,ce=X+c,ge=function f_(t,r){const s=[];for(let a=0;a<r;a++)s.push(a<t?null:Dn);return s}(X,ce),Ve="function"==typeof N?N():N;return ge[ht]={type:t,blueprint:ge,template:s,queries:null,viewQuery:v,declTNode:r,data:ge.slice().fill(null,X),bindingStartIndex:X,expandoStartIndex:ce,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof d?d():d,pipeRegistry:"function"==typeof g?g():g,firstChild:null,schemas:C,consts:Ve,incompleteFirstPass:!1,ssrId:U}}let Of=t=>null;function wy(t,r,s,a){for(let c in t)if(t.hasOwnProperty(c)){s=null===s?{}:s;const d=t[c];null===a?Dy(s,r,c,d):a.hasOwnProperty(c)&&Dy(s,r,a[c],d)}return s}function Dy(t,r,s,a){t.hasOwnProperty(s)?t[s].push(r,a):t[s]=[r,a]}function lo(t,r,s,a,c,d,g,v){const C=Te(r,s);let U,N=r.inputs;!v&&null!=N&&(U=N[a])?(hd(t,s,U,a,c),vs(r)&&function Sg(t,r){const s=Ds(r,t);16&s[nn]||(s[nn]|=64)}(s,r.index)):3&r.type&&(a=function m_(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(a),c=null!=g?g(c,r.value||"",a):c,d.setProperty(C,a,c))}function kf(t,r,s,a){if(ha()){const c=null===a?null:{"":-1},d=function Cy(t,r){const s=t.directiveRegistry;let a=null,c=null;if(s)for(let d=0;d<s.length;d++){const g=s[d];if(an(r,g.selectors,!1))if(a||(a=[]),Ci(g))if(null!==g.findHostDirectiveDefs){const v=[];c=c||new Map,g.findHostDirectiveDefs(g,v,c),a.unshift(...v,g),Ih(t,r,v.length)}else a.unshift(g),Ih(t,r,0);else c=c||new Map,g.findHostDirectiveDefs?.(g,a,c),a.push(g)}return null===a?null:[a,c]}(t,s);let g,v;null===d?g=v=null:[g,v]=d,null!==g&&Lf(t,r,s,g,c,v),c&&function by(t,r,s){if(r){const a=t.localNames=[];for(let c=0;c<r.length;c+=2){const d=s[r[c+1]];if(null==d)throw new Se(-301,!1);a.push(r[c],d)}}}(s,a,c)}s.mergedAttrs=Xi(s.mergedAttrs,s.attrs)}function Lf(t,r,s,a,c,d){for(let N=0;N<a.length;N++)xs(Ms(s,r),t,a[N].type);!function Og(t,r,s){t.flags|=1,t.directiveStart=r,t.directiveEnd=r+s,t.providerIndexes=r}(s,t.data.length,a.length);for(let N=0;N<a.length;N++){const U=a[N];U.providersResolver&&U.providersResolver(U)}let g=!1,v=!1,C=mh(t,r,a.length,null);for(let N=0;N<a.length;N++){const U=a[N];s.mergedAttrs=Xi(s.mergedAttrs,U.hostAttrs),y_(t,s,r,C,U),dd(C,U,c),null!==U.contentQueries&&(s.flags|=4),(null!==U.hostBindings||null!==U.hostAttrs||0!==U.hostVars)&&(s.flags|=64);const X=U.type.prototype;!g&&(X.ngOnChanges||X.ngOnInit||X.ngDoCheck)&&((t.preOrderHooks??=[]).push(s.index),g=!0),!v&&(X.ngOnChanges||X.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(s.index),v=!0),C++}!function g_(t,r,s){const c=r.directiveEnd,d=t.data,g=r.attrs,v=[];let C=null,N=null;for(let U=r.directiveStart;U<c;U++){const X=d[U],ce=s?s.get(X):null,Ve=ce?ce.outputs:null;C=wy(X.inputs,U,C,ce?ce.inputs:null),N=wy(X.outputs,U,N,Ve);const it=null===C||null===g||we(r)?null:I_(C,U,g);v.push(it)}null!==C&&(C.hasOwnProperty("class")&&(r.flags|=8),C.hasOwnProperty("style")&&(r.flags|=16)),r.initialInputs=v,r.inputs=C,r.outputs=N}(t,s,d)}function Ng(t,r,s){const a=s.directiveStart,c=s.directiveEnd,d=s.index,g=function Zu(){return Gt.lFrame.currentDirectiveIndex}();try{Ji(d);for(let v=a;v<c;v++){const C=t.data[v],N=r[v];Ju(v),(null!==C.hostBindings||0!==C.hostVars||null!==C.hostAttrs)&&Uf(C,N)}}finally{Ji(-1),Ju(g)}}function Uf(t,r){null!==t.hostBindings&&t.hostBindings(1,r)}function Ih(t,r,s){r.componentOffset=s,(t.components??=[]).push(r.index)}function dd(t,r,s){if(s){if(r.exportAs)for(let a=0;a<r.exportAs.length;a++)s[r.exportAs[a]]=t;Ci(r)&&(s[""]=t)}}function y_(t,r,s,a,c){t.data[a]=c;const d=c.factory||(c.factory=Zi(c.type)),g=new Du(d,Ci(c),Nc);t.blueprint[a]=g,s[a]=g,function xg(t,r,s,a,c){const d=c.hostBindings;if(d){let g=t.hostBindingOpCodes;null===g&&(g=t.hostBindingOpCodes=[]);const v=~r.index;(function Ff(t){let r=t.length;for(;r>0;){const s=t[--r];if("number"==typeof s&&s<0)return s}return 0})(g)!=v&&g.push(v),g.push(s,a,d)}}(t,r,a,mh(t,s,c.hostVars,Dn),c)}function fu(t,r,s,a,c,d){const g=Te(t,r);!function Vf(t,r,s,a,c,d,g){if(null==d)t.removeAttribute(r,c,s);else{const v=null==g?Ge(d):g(d,a||"",c);t.setAttribute(r,c,v,s)}}(r[Qt],g,d,t.value,s,a,c)}function __(t,r,s,a,c,d){const g=d[r];if(null!==g)for(let v=0;v<g.length;)Pg(a,s,g[v++],g[v++],g[v++])}function Pg(t,r,s,a,c){const d=qr(null);try{const g=t.inputTransforms;null!==g&&g.hasOwnProperty(a)&&(c=g[a].call(r,c)),null!==t.setInput?t.setInput(r,c,s,a):r[a]=c}finally{qr(d)}}function I_(t,r,s){let a=null,c=0;for(;c<s.length;){const d=s[c];if(0!==d)if(5!==d){if("number"==typeof d)break;if(t.hasOwnProperty(d)){null===a&&(a=[]);const g=t[d];for(let v=0;v<g.length;v+=2)if(g[v]===r){a.push(d,g[v+1],s[c+1]);break}}c+=2}else c+=2;else c+=4}return a}function Ay(t,r,s,a){return[t,!0,!1,r,null,0,a,s,null,null,null]}function Sy(t,r){const s=t.contentQueries;if(null!==s)for(let a=0;a<s.length;a+=2){const d=s[a+1];if(-1!==d){const g=t.data[d];m(s[a]),g.contentQueries(2,r[d],d)}}}function Bf(t,r){return t[Js]?t[na][yi]=r:t[Js]=r,t[na]=r,r}function jf(t,r,s){m(0);const a=qr(null);try{r(t,s)}finally{qr(a)}}function $f(t){return t[Di]||(t[Di]=[])}function My(t){return t.cleanup||(t.cleanup=[])}function Lg(t,r){const s=t[xi],a=s?s.get(Uu,null):null;a&&a.handleError(r)}function hd(t,r,s,a,c){for(let d=0;d<s.length;){const g=s[d++],v=s[d++];Pg(t.data[g],r[g],a,v,c)}}function An(t,r,s){const a=mt(r,t);!function Fi(t,r,s){t.setValue(r,s)}(t[Qt],a,s)}function xy(t,r){const s=Ds(r,t),a=s[ht];!function Ry(t,r){for(let s=r.length;s<t.blueprint.length;s++)r.push(t.blueprint[s])}(a,s);const c=s[Zn];null!==c&&null===s[us]&&(s[us]=uh(c,s[xi])),hl(a,s,s[Sr])}function hl(t,r,s){V(r);try{const a=t.viewQuery;null!==a&&jf(1,a,s);const c=t.template;null!==c&&_y(t,r,c,1,s),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Sy(t,r),t.staticViewQueries&&jf(2,t.viewQuery,s);const d=t.components;null!==d&&function w_(t,r){for(let s=0;s<r.length;s++)xy(t,r[s])}(r,d)}catch(a){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),a}finally{r[nn]&=-5,Xt()}}let Ui=(()=>{class t{constructor(){this.all=new Set,this.queue=new Map}create(s,a,c){const d=typeof Zone>"u"?null:Zone.current,g=function xn(t,r,s){const a=Object.create(dr);s&&(a.consumerAllowSignalWrites=!0),a.fn=t,a.schedule=r;const c=g=>{a.cleanupFn=g};return a.ref={notify:()=>_u(a),run:()=>{if(a.dirty=!1,a.hasRun&&!Ro(a))return;a.hasRun=!0;const g=oa(a);try{a.cleanupFn(),a.cleanupFn=sn,a.fn(c)}finally{ws(a,g)}},cleanup:()=>a.cleanupFn()},a.ref}(s,N=>{this.all.has(N)&&this.queue.set(N,d)},c);let v;this.all.add(g),g.notify();const C=()=>{g.cleanup(),v?.(),this.all.delete(g),this.queue.delete(g)};return v=a?.onDestroy(C),{destroy:C}}flush(){if(0!==this.queue.size)for(const[s,a]of this.queue)this.queue.delete(s),a?a.run(()=>s.run()):s.run()}get isQueueEmpty(){return 0===this.queue.size}static{this.\u0275prov=bt({token:t,providedIn:"root",factory:()=>new t})}}return t})();function Zo(t,r,s){let a=s?t.styles:null,c=s?t.classes:null,d=0;if(null!==r)for(let g=0;g<r.length;g++){const v=r[g];"number"==typeof v?d=v:1==d?c=Bt(c,v):2==d&&(a=Bt(a,v+": "+r[++g]+";"))}s?t.styles=a:t.stylesWithoutHost=a,s?t.classes=c:t.classesWithoutHost=c}function Eh(t,r,s,a,c=!1){for(;null!==s;){const d=r[s.index];null!==d&&a.push(dt(d)),Pr(d)&&D_(d,a);const g=s.type;if(8&g)Eh(t,r,s.child,a);else if(32&g){const v=Jc(s,r);let C;for(;C=v();)a.push(C)}else if(16&g){const v=wm(r,s);if(Array.isArray(v))a.push(...v);else{const C=Su(r[rr]);Eh(C[ht],C,v,a,!0)}}s=c?s.projectionNext:s.next}return a}function D_(t,r){for(let s=Mr;s<t.length;s++){const a=t[s],c=a[ht].firstChild;null!==c&&Eh(a[ht],a,c,r)}t[Ni]!==t[Zn]&&r.push(t[Ni])}function wh(t,r,s,a=!0){const c=r[vi],d=c.rendererFactory,g=c.afterRenderEventManager;d.begin?.(),g?.begin();try{Oy(t,r,t.template,s)}catch(C){throw a&&Lg(r,C),C}finally{d.end?.(),c.effectManager?.flush(),g?.end()}}function Oy(t,r,s,a){const c=r[nn];if(256!=(256&c)){r[vi].effectManager?.flush(),V(r);try{Qu(r),function yo(t){return Gt.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==s&&_y(t,r,s,2,a);const g=3==(3&c);if(g){const N=t.preOrderCheckHooks;null!==N&&rc(r,N,null)}else{const N=t.preOrderHooks;null!==N&&pa(r,N,0,null),wl(r,0)}if(function T_(t){for(let r=Vl(t);null!==r;r=Bl(r)){if(!r[ra])continue;const s=r[ys];for(let a=0;a<s.length;a++){Xu(s[a])}}}(r),Hf(r,2),null!==t.contentQueries&&Sy(t,r),g){const N=t.contentCheckHooks;null!==N&&rc(r,N)}else{const N=t.contentHooks;null!==N&&pa(r,N,1),wl(r,1)}!function bg(t,r){const s=t.hostBindingOpCodes;if(null===s)return;const a=gy(r,Ti);try{for(let c=0;c<s.length;c++){const d=s[c];if(d<0)Ji(~d);else{const g=d,v=s[++c],C=s[++c];Yu(v,g),a.dirty=!1;const N=oa(a);try{C(2,r[g])}finally{ws(a,N)}}}}finally{null===r[Ti]&&Sf(r,Ti),Ji(-1)}}(t,r);const v=t.components;null!==v&&C_(r,v,0);const C=t.viewQuery;if(null!==C&&jf(2,C,a),g){const N=t.viewCheckHooks;null!==N&&rc(r,N)}else{const N=t.viewHooks;null!==N&&pa(r,N,2),wl(r,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),r[nn]&=-73,Vc(r)}finally{Xt()}}}function Hf(t,r){for(let s=Vl(t);null!==s;s=Bl(s))for(let a=Mr;a<s.length;a++)ii(s[a],r)}function o0(t,r,s){ii(Ds(r,t),s)}function ii(t,r){if(!function Cd(t){return 128==(128&t[nn])}(t))return;const s=t[ht],a=t[nn];if(80&a&&0===r||1024&a||2===r)Oy(s,t,s.template,t[Sr]);else if(t[Zs]>0){Hf(t,1);const c=s.components;null!==c&&C_(t,c,1)}}function C_(t,r,s){for(let a=0;a<r.length;a++)o0(t,r[a],s)}class Dh{get rootNodes(){const r=this._lView,s=r[ht];return Eh(s,r,s.firstChild,[])}constructor(r,s){this._lView=r,this._cdRefInjectingView=s,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Sr]}set context(r){this._lView[Sr]=r}get destroyed(){return 256==(256&this._lView[nn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[nr];if(Pr(r)){const s=r[8],a=s?s.indexOf(this):-1;a>-1&&(jd(r,a),dc(s,a))}this._attachedToViewContainer=!1}xp(this._lView[ht],this._lView)}onDestroy(r){!function da(t,r){if(256==(256&t[nn]))throw new Se(911,!1);null===t[Us]&&(t[Us]=[]),t[Us].push(r)}(this._lView,r)}markForCheck(){ph(this._cdRefInjectingView||this._lView)}detach(){this._lView[nn]&=-129}reattach(){this._lView[nn]|=128}detectChanges(){wh(this._lView[ht],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Se(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Sp(t,r){Va(t,r,r[Qt],2,null,null)}(this._lView[ht],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new Se(902,!1);this._appRef=r}}class ts extends Dh{constructor(r){super(r),this._view=r}detectChanges(){const r=this._view;wh(r[ht],r,r[Sr],!1)}checkNoChanges(){}get context(){return null}}class Fg extends id{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const s=Mn(r);return new zf(s,this.ngModule)}}function b_(t){const r=[];for(let s in t)t.hasOwnProperty(s)&&r.push({propName:t[s],templateName:s});return r}class Py{constructor(r,s){this.injector=r,this.parentInjector=s}get(r,s,a){a=Vi(a);const c=this.injector.get(r,gf,a);return c!==gf||s===gf?c:this.parentInjector.get(r,s,a)}}class zf extends Fu{get inputs(){const r=this.componentDef,s=r.inputTransforms,a=b_(r.inputs);if(null!==s)for(const c of a)s.hasOwnProperty(c.propName)&&(c.transform=s[c.propName]);return a}get outputs(){return b_(this.componentDef.outputs)}constructor(r,s){super(),this.componentDef=r,this.ngModule=s,this.componentType=r.type,this.selector=function Ba(t){return t.map(Lo).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!s}create(r,s,a,c){let d=(c=c||this.ngModule)instanceof hu?c:c?.injector;d&&null!==this.componentDef.getStandaloneInjector&&(d=this.componentDef.getStandaloneInjector(d)||d);const g=d?new Py(r,d):r,v=g.get(dg,null);if(null===v)throw new Se(407,!1);const X={rendererFactory:v,sanitizer:g.get(Jv,null),effectManager:g.get(Ui,null),afterRenderEventManager:g.get(Tf,null)},ce=v.createRenderer(null,this.componentDef),ge=this.componentDef.selectors[0][0]||"div",Ve=a?function cd(t,r,s,a){const d=a.get(Cf,!1)||s===Kn.ShadowDom,g=t.selectRootElement(r,d);return function p_(t){Of(t)}(g),g}(ce,a,this.componentDef.encapsulation,g):Ud(ce,ge,function a0(t){const r=t.toLowerCase();return"svg"===r?"svg":"math"===r?"math":null}(ge)),$t=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let Xe=null;null!==Ve&&(Xe=uh(Ve,g,!0));const En=_h(0,null,null,1,0,null,null,null,null,null,null),zn=gh(null,En,null,$t,null,null,X,ce,g,null,Xe);let Jr,Ea;V(zn);try{const El=this.componentDef;let mp,ZI=null;El.findHostDirectiveDefs?(mp=[],ZI=new Map,El.findHostDirectiveDefs(El,mp,ZI),mp.push(El)):mp=[El];const Xb=function c0(t,r){const s=t[ht],a=_n;return t[a]=r,Oc(s,a,2,"#host",null)}(zn,Ve),Yb=function l0(t,r,s,a,c,d,g){const v=c[ht];!function d0(t,r,s,a){for(const c of t)r.mergedAttrs=Xi(r.mergedAttrs,c.hostAttrs);null!==r.mergedAttrs&&(Zo(r,r.mergedAttrs,!0),null!==s&&Tm(a,s,r))}(a,t,r,g);let C=null;null!==r&&(C=uh(r,c[xi]));const N=d.rendererFactory.createRenderer(r,s);let U=16;s.signals?U=4096:s.onPush&&(U=64);const X=gh(c,Nf(s),null,U,c[t.index],t,d,N,null,null,C);return v.firstCreatePass&&Ih(v,t,a.length-1),Bf(c,X),c[t.index]=X}(Xb,Ve,El,mp,zn,X,ce);Ea=$n(En,_n),Ve&&function f0(t,r,s,a){if(a)Br(t,s,["ng-version",fg.full]);else{const{attrs:c,classes:d}=function ta(t){const r=[],s=[];let a=1,c=2;for(;a<t.length;){let d=t[a];if("string"==typeof d)2===c?""!==d&&r.push(d,t[++a]):8===c&&s.push(d);else{if(!Et(c))break;c=d}a++}return{attrs:r,classes:s}}(r.selectors[0]);c&&Br(t,s,c),d&&d.length>0&&$p(t,s,d.join(" "))}}(ce,El,Ve,a),void 0!==s&&function ky(t,r,s){const a=t.projection=[];for(let c=0;c<r.length;c++){const d=s[c];a.push(null!=d?Array.from(d):null)}}(Ea,this.ngContentSelectors,s),Jr=function h0(t,r,s,a,c,d){const g=li(),v=c[ht],C=Te(g,c);Lf(v,c,g,s,null,a);for(let U=0;U<s.length;U++)_e(qo(c,v,g.directiveStart+U,g),c);Ng(v,c,g),C&&_e(C,c);const N=qo(c,v,g.directiveStart+g.componentOffset,g);if(t[Sr]=c[Sr]=N,null!==d)for(const U of d)U(N,r);return yh(v,g,t),N}(Yb,El,mp,ZI,zn,[Th]),hl(En,zn,null)}finally{Xt()}return new u0(this.componentType,Jr,bc(Ea,zn),zn,Ea)}}class u0 extends cg{constructor(r,s,a,c,d){super(),this.location=a,this._rootLView=c,this._tNode=d,this.previousInputValues=null,this.instance=s,this.hostView=this.changeDetectorRef=new ts(c),this.componentType=r}setInput(r,s){const a=this._tNode.inputs;let c;if(null!==a&&(c=a[r])){if(this.previousInputValues??=new Map,this.previousInputValues.has(r)&&Object.is(this.previousInputValues.get(r),s))return;const d=this._rootLView;hd(d[ht],d,c,r,s),this.previousInputValues.set(r,s),ph(Ds(this._tNode.index,d))}}get injector(){return new ki(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}function Th(){const t=li();Ya(He()[ht],t)}function ju(t){let r=function Ly(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),s=!0;const a=[t];for(;r;){let c;if(Ci(t))c=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new Se(903,!1);c=r.\u0275dir}if(c){if(s){a.push(c);const g=t;g.inputs=Ug(t.inputs),g.inputTransforms=Ug(t.inputTransforms),g.declaredInputs=Ug(t.declaredInputs),g.outputs=Ug(t.outputs);const v=c.hostBindings;v&&A_(t,v);const C=c.viewQuery,N=c.contentQueries;if(C&&fd(t,C),N&&Vg(t,N),ct(t.inputs,c.inputs),ct(t.declaredInputs,c.declaredInputs),ct(t.outputs,c.outputs),null!==c.inputTransforms&&(null===g.inputTransforms&&(g.inputTransforms={}),ct(g.inputTransforms,c.inputTransforms)),Ci(c)&&c.data.animation){const U=t.data;U.animation=(U.animation||[]).concat(c.data.animation)}}const d=c.features;if(d)for(let g=0;g<d.length;g++){const v=d[g];v&&v.ngInherit&&v(t),v===ju&&(s=!1)}}r=Object.getPrototypeOf(r)}!function fl(t){let r=0,s=null;for(let a=t.length-1;a>=0;a--){const c=t[a];c.hostVars=r+=c.hostVars,c.hostAttrs=Xi(c.hostAttrs,s=Xi(s,c.hostAttrs))}}(a)}function Ug(t){return t===Ln?{}:t===qt?[]:t}function fd(t,r){const s=t.viewQuery;t.viewQuery=s?(a,c)=>{r(a,c),s(a,c)}:r}function Vg(t,r){const s=t.contentQueries;t.contentQueries=s?(a,c,d)=>{r(a,c,d),s(a,c,d)}:r}function A_(t,r){const s=t.hostBindings;t.hostBindings=s?(a,c)=>{r(a,c),s(a,c)}:r}function qf(t){const r=t.inputConfig,s={};for(const a in r)if(r.hasOwnProperty(a)){const c=r[a];Array.isArray(c)&&c[2]&&(s[a]=c[2])}t.inputTransforms=s}function Qf(t){return!!Ch(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function Ch(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function ho(t,r,s){return t[r]=s}function qs(t,r,s){return!Object.is(t[r],s)&&(t[r]=s,!0)}function $u(t,r,s,a){const c=qs(t,r,s);return qs(t,r+1,a)||c}function kc(t,r,s,a,c){const d=$u(t,r,s,a);return qs(t,r+2,c)||d}function gd(t,r,s,a){const c=He();return qs(c,ds(),r)&&(Un(),fu(fr(),c,t,r,s,a)),gd}function pl(t,r,s,a){return qs(t,ds(),s)?r+Ge(s)+a:Dn}function qy(t,r,s,a,c,d,g,v){const C=He(),N=Un(),U=t+_n,X=N.firstCreatePass?function F_(t,r,s,a,c,d,g,v,C){const N=r.consts,U=Oc(r,t,4,g||null,Ts(N,v));kf(r,s,U,Ts(N,C)),Ya(r,U);const X=U.tView=_h(2,U,a,c,d,r.directiveRegistry,r.pipeRegistry,null,r.schemas,N,null);return null!==r.queries&&(r.queries.template(r,U),X.queries=r.queries.embeddedTView(U)),U}(U,N,C,r,s,a,c,d,g):N.data[U];ls(X,!1);const ce=Qy(N,C,X,t);nc()&&ma(N,C,ce,X),_e(ce,C),Bf(C,C[U]=Ay(ce,C,ce,X)),Uo(X)&&Ag(N,C,X),null!=g&&vh(C,X,v)}let Qy=function U_(t,r,s,a){return Na(!0),r[Qt].createComment("")};function V_(t){return ca(function Qa(){return Gt.lFrame.contextLView}(),_n+t)}function Kg(t,r,s){const a=He();return qs(a,ds(),r)&&lo(Un(),fr(),a,t,r,a[Qt],s,!1),Kg}function qg(t,r,s,a,c){const g=c?"class":"style";hd(t,s,r.inputs[g],g,a)}function ip(t,r,s,a){const c=He(),d=Un(),g=_n+t,v=c[Qt],C=d.firstCreatePass?function B_(t,r,s,a,c,d){const g=r.consts,C=Oc(r,t,2,a,Ts(g,c));return kf(r,s,C,Ts(g,d)),null!==C.attrs&&Zo(C,C.attrs,!1),null!==C.mergedAttrs&&Zo(C,C.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,C),C}(g,d,c,r,s,a):d.data[g],N=j_(d,c,C,v,r,t);c[g]=N;const U=Uo(C);return ls(C,!0),Tm(v,N,C),32!=(32&C.flags)&&nc()&&ma(d,c,N,C),0===function Ft(){return Gt.lFrame.elementDepthCount}()&&_e(N,c),function Ma(){Gt.lFrame.elementDepthCount++}(),U&&(Ag(d,c,C),yh(d,C,c)),null!==a&&vh(c,C),ip}function sp(){let t=li();qa()?Cs():(t=t.parent,ls(t,!1));const r=t;(function ft(t){return Gt.skipHydrationRootTNode===t})(r)&&function Eu(){Gt.skipHydrationRootTNode=null}(),function Fn(){Gt.lFrame.elementDepthCount--}();const s=Un();return s.firstCreatePass&&(Ya(s,t),_r(t)&&s.queries.elementEnd(t)),null!=r.classesWithoutHost&&function Ki(t){return 0!=(8&t.flags)}(r)&&qg(s,r,He(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function Fr(t){return 0!=(16&t.flags)}(r)&&qg(s,r,He(),r.stylesWithoutHost,!1),sp}function Xy(t,r,s,a){return ip(t,r,s,a),sp(),Xy}let j_=(t,r,s,a,c,d)=>(Na(!0),Ud(a,c,function tc(){return Gt.lFrame.currentNamespace}()));function op(t,r,s){const a=He(),c=Un(),d=t+_n,g=c.firstCreatePass?function $_(t,r,s,a,c){const d=r.consts,g=Ts(d,a),v=Oc(r,t,8,"ng-container",g);return null!==g&&Zo(v,g,!0),kf(r,s,v,Ts(d,c)),null!==r.queries&&r.queries.elementStart(r,v),v}(d,c,a,r,s):c.data[d];ls(g,!0);const v=Zy(c,a,g,t);return a[d]=v,nc()&&ma(c,a,v,g),_e(v,a),Uo(g)&&(Ag(c,a,g),yh(c,g,a)),null!=s&&vh(a,g),op}function ap(){let t=li();const r=Un();return qa()?Cs():(t=t.parent,ls(t,!1)),r.firstCreatePass&&(Ya(r,t),_r(t)&&r.queries.elementEnd(t)),ap}function Yy(t,r,s){return op(t,r,s),ap(),Yy}let Zy=(t,r,s,a)=>(Na(!0),Fd(r[Qt],""));function Jy(){return He()}function ev(t){return!!t&&"function"==typeof t.then}function z_(t){return!!t&&"function"==typeof t.subscribe}function tv(t,r,s,a){const c=He(),d=Un(),g=li();return function W_(t,r,s,a,c,d,g){const v=Uo(a),N=t.firstCreatePass&&My(t),U=r[Sr],X=$f(r);let ce=!0;if(3&a.type||g){const it=Te(a,r),Dt=g?g(it):it,$t=X.length,Xe=g?zn=>g(dt(zn[a.index])):a.index;let En=null;if(!g&&v&&(En=function T0(t,r,s,a){const c=t.cleanup;if(null!=c)for(let d=0;d<c.length-1;d+=2){const g=c[d];if(g===s&&c[d+1]===a){const v=r[Di],C=c[d+2];return v.length>C?v[C]:null}"string"==typeof g&&(d+=2)}return null}(t,r,c,a.index)),null!==En)(En.__ngLastListenerFn__||En).__ngNextListenerFn__=d,En.__ngLastListenerFn__=d,ce=!1;else{d=q_(a,r,U,d,!1);const zn=s.listen(Dt,c,d);X.push(d,zn),N&&N.push(c,Xe,$t,$t+1)}}else d=q_(a,r,U,d,!1);const ge=a.outputs;let Ve;if(ce&&null!==ge&&(Ve=ge[c])){const it=Ve.length;if(it)for(let Dt=0;Dt<it;Dt+=2){const Jr=r[Ve[Dt]][Ve[Dt+1]].subscribe(d),Ea=X.length;X.push(d,Jr),N&&N.push(c,a.index,Ea,-(Ea+1))}}}(d,c,c[Qt],g,t,r,a),tv}function K_(t,r,s,a){try{return Zr(6,r,s),!1!==s(a)}catch(c){return Lg(t,c),!1}finally{Zr(7,r,s)}}function q_(t,r,s,a,c){return function d(g){if(g===Function)return a;ph(t.componentOffset>-1?Ds(t.index,r):r);let C=K_(r,s,a,g),N=d.__ngNextListenerFn__;for(;N;)C=K_(r,s,N,g)&&C,N=N.__ngNextListenerFn__;return c&&!1===C&&g.preventDefault(),C}}function Qg(t=1){return function Hn(t){return(Gt.lFrame.contextLView=function Pn(t,r){for(;t>0;)r=r[Ri],t--;return r}(t,Gt.lFrame.contextLView))[Sr]}(t)}function up(t,r){let s=null;const a=function mn(t){const r=t.attrs;if(null!=r){const s=r.indexOf(5);if(!(1&s))return r[s+1]}return null}(t);for(let c=0;c<r.length;c++){const d=r[c];if("*"!==d){if(null===a?an(t,d,!0):oi(a,d))return c}else s=c}return s}function Xg(t){const r=He()[rr][Or];if(!r.projection){const a=r.projection=hc(t?t.length:1,null),c=a.slice();let d=r.child;for(;null!==d;){const g=t?up(d,t):0;null!==g&&(c[g]?c[g].projectionNext=d:a[g]=d,c[g]=d),d=d.next}}}function nv(t,r=0,s){const a=He(),c=Un(),d=Oc(c,_n+t,16,null,s||null);null===d.projection&&(d.projection=r),Cs(),(!a[us]||or())&&32!=(32&d.flags)&&function Hd(t,r,s){Vp(r[Qt],0,r,s,Op(t,s,r),xu(s.parent||r[Or],s,r))}(c,a,d)}function rv(t,r,s){return Sh(t,"",r,"",s),rv}function Sh(t,r,s,a,c){const d=He(),g=pl(d,r,s,a);return g!==Dn&&lo(Un(),fr(),d,t,g,d[Qt],c,!1),Sh}function Yg(t,r){return t<<17|r<<2}function _l(t){return t>>17&32767}function lv(t){return 2|t}function Dd(t){return(131068&t)>>2}function dv(t,r){return-131069&t|r<<2}function hv(t){return 1|t}function J_(t,r,s,a,c){const d=t[s+1],g=null===r;let v=a?_l(d):Dd(d),C=!1;for(;0!==v&&(!1===C||g);){const U=t[v+1];eI(t[v],r)&&(C=!0,t[v+1]=a?hv(U):lv(U)),v=a?_l(U):Dd(U)}C&&(t[s+1]=a?lv(d):hv(d))}function eI(t,r){return null===t||null==r||(Array.isArray(t)?t[1]:t)===r||!(!Array.isArray(t)||"string"!=typeof r)&&bu(t,r)>=0}function pv(t,r){return function mu(t,r,s,a){const c=He(),d=Un(),g=bs(2);d.firstUpdatePass&&function lI(t,r,s,a){const c=t.data;if(null===c[s+1]){const d=c[Wn()],g=function cI(t,r){return r>=t.expandoStartIndex}(t,s);(function gI(t,r){return 0!=(t.flags&(r?8:16))})(d,a)&&null===r&&!g&&(r=!1),r=function dI(t,r,s,a){const c=function y(t){const r=Gt.lFrame.currentDirectiveIndex;return-1===r?null:t[r]}(t);let d=a?r.residualClasses:r.residualStyles;if(null===c)0===(a?r.classBindings:r.styleBindings)&&(s=cp(s=gv(null,t,r,s,a),r.attrs,a),d=null);else{const g=r.directiveStylingLast;if(-1===g||t[g]!==c)if(s=gv(c,t,r,s,a),null===d){let C=function P0(t,r,s){const a=s?r.classBindings:r.styleBindings;if(0!==Dd(a))return t[_l(a)]}(t,r,a);void 0!==C&&Array.isArray(C)&&(C=gv(null,t,r,C[1],a),C=cp(C,r.attrs,a),function k0(t,r,s,a){t[_l(s?r.classBindings:r.styleBindings)]=a}(t,r,a,C))}else d=function L0(t,r,s){let a;const c=r.directiveEnd;for(let d=1+r.directiveStylingLast;d<c;d++)a=cp(a,t[d].hostAttrs,s);return cp(a,r.attrs,s)}(t,r,a)}return void 0!==d&&(a?r.residualClasses=d:r.residualStyles=d),s}(c,d,r,a),function Z_(t,r,s,a,c,d){let g=d?r.classBindings:r.styleBindings,v=_l(g),C=Dd(g);t[a]=s;let U,N=!1;if(Array.isArray(s)?(U=s[1],(null===U||bu(s,U)>0)&&(N=!0)):U=s,c)if(0!==C){const ce=_l(t[v+1]);t[a+1]=Yg(ce,v),0!==ce&&(t[ce+1]=dv(t[ce+1],a)),t[v+1]=function b0(t,r){return 131071&t|r<<17}(t[v+1],a)}else t[a+1]=Yg(v,0),0!==v&&(t[v+1]=dv(t[v+1],a)),v=a;else t[a+1]=Yg(C,0),0===v?v=a:t[C+1]=dv(t[C+1],a),C=a;N&&(t[a+1]=lv(t[a+1])),J_(t,U,a,!0),J_(t,U,a,!1),function A0(t,r,s,a,c){const d=c?t.residualClasses:t.residualStyles;null!=d&&"string"==typeof r&&bu(d,r)>=0&&(s[a+1]=hv(s[a+1]))}(r,U,t,a,d),g=Yg(v,C),d?r.classBindings=g:r.styleBindings=g}(c,d,r,s,g,a)}}(d,t,g,a),r!==Dn&&qs(c,g,r)&&function fI(t,r,s,a,c,d,g,v){if(!(3&r.type))return;const C=t.data,N=C[v+1],U=function Y_(t){return 1==(1&t)}(N)?mv(C,r,s,c,Dd(N),g):void 0;Zg(U)||(Zg(d)||function C0(t){return 2==(2&t)}(N)&&(d=mv(C,null,s,c,v,g)),function jp(t,r,s,a,c){if(r)c?t.addClass(s,a):t.removeClass(s,a);else{let d=-1===a.indexOf("-")?void 0:Fl.DashCase;null==c?t.removeStyle(s,a,d):("string"==typeof c&&c.endsWith("!important")&&(c=c.slice(0,-10),d|=Fl.Important),t.setStyle(s,a,c,d))}}(a,g,mt(Wn(),s),c,d))}(d,d.data[Wn()],c,c[Qt],t,c[g+1]=function pI(t,r){return null==t||""===t||("string"==typeof r?t+=r:"object"==typeof t&&(t=We(lu(t)))),t}(r,s),a,g)}(t,r,null,!0),pv}function gv(t,r,s,a,c){let d=null;const g=s.directiveEnd;let v=s.directiveStylingLast;for(-1===v?v=s.directiveStart:v++;v<g&&(d=r[v],a=cp(a,d.hostAttrs,c),d!==t);)v++;return null!==t&&(s.directiveStylingLast=v),a}function cp(t,r,s){const a=s?1:2;let c=-1;if(null!==r)for(let d=0;d<r.length;d++){const g=r[d];"number"==typeof g?c=g:c===a&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Ns(t,g,!!s||r[++d]))}return void 0===t?null:t}function mv(t,r,s,a,c,d){const g=null===r;let v;for(;c>0;){const C=t[c],N=Array.isArray(C),U=N?C[1]:C,X=null===U;let ce=s[c+1];ce===Dn&&(ce=X?qt:void 0);let ge=X?Ml(ce,a):U===a?ce:void 0;if(N&&!Zg(ge)&&(ge=Ml(C,a)),Zg(ge)&&(v=ge,g))return v;const Ve=t[c+1];c=g?_l(Ve):Dd(Ve)}if(null!==r){let C=d?r.residualClasses:r.residualStyles;null!=C&&(v=Ml(C,a))}return v}function Zg(t){return void 0!==t}function i(t,r=""){const s=He(),a=Un(),c=t+_n,d=a.firstCreatePass?Oc(a,c,1,r,null):a.data[c],g=e(a,s,d,r,t);s[c]=g,nc()&&ma(a,s,g,d),ls(d,!1)}let e=(t,r,s,a,c)=>(Na(!0),function Wh(t,r){return t.createText(r)}(r[Qt],a));function u(t){return l("",t,""),u}function l(t,r,s){const a=He(),c=pl(a,t,r,s);return c!==Dn&&An(a,Wn(),c),l}function f(t,r,s,a,c){const d=He(),g=function pu(t,r,s,a,c,d){const v=$u(t,mo(),s,c);return bs(2),v?r+Ge(s)+a+Ge(c)+d:Dn}(d,t,r,s,a,c);return g!==Dn&&An(d,Wn(),g),f}function w(t,r,s,a,c,d,g){const v=He(),C=function md(t,r,s,a,c,d,g,v){const N=kc(t,mo(),s,c,g);return bs(3),N?r+Ge(s)+a+Ge(c)+d+Ge(g)+v:Dn}(v,t,r,s,a,c,d,g);return C!==Dn&&An(v,Wn(),C),w}const xh=void 0;var AD=["en",[["a","p"],["AM","PM"],xh],[["AM","PM"],xh,xh],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],xh,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],xh,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",xh,"{1} 'at' {0}",xh],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function bD(t){const s=Math.floor(Math.abs(t)),a=t.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===a?1:5}];let lp={};function mI(t){const r=function SD(t){return t.toLowerCase().replace(/_/g,"-")}(t);let s=Z0(r);if(s)return s;const a=r.split("-")[0];if(s=Z0(a),s)return s;if("en"===a)return AD;throw new Se(701,!1)}function Y0(t){return mI(t)[dp.PluralCase]}function Z0(t){return t in lp||(lp[t]=On.ng&&On.ng.common&&On.ng.common.locales&&On.ng.common.locales[t]),lp[t]}var dp=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(dp||{});const hp="en-US";let J0=hp;function _I(t,r,s,a,c){if(t=_t(t),Array.isArray(t))for(let d=0;d<t.length;d++)_I(t[d],r,s,a,c);else{const d=Un(),g=He(),v=li();let C=Cc(t)?t:_t(t.provide);const N=nf(t),U=1048575&v.providerIndexes,X=v.directiveStart,ce=v.providerIndexes>>20;if(Cc(t)||!t.multi){const ge=new Du(N,c,Nc),Ve=EI(C,r,c?U:U+ce,X);-1===Ve?(xs(Ms(v,g),d,C),II(d,t,r.length),r.push(C),v.directiveStart++,v.directiveEnd++,c&&(v.providerIndexes+=1048576),s.push(ge),g.push(ge)):(s[Ve]=ge,g[Ve]=ge)}else{const ge=EI(C,r,U+ce,X),Ve=EI(C,r,U,U+ce),Dt=Ve>=0&&s[Ve];if(c&&!Dt||!c&&!(ge>=0&&s[ge])){xs(Ms(v,g),d,C);const $t=function bT(t,r,s,a,c){const d=new Du(t,s,Nc);return d.multi=[],d.index=r,d.componentProviders=0,TE(d,c,a&&!s),d}(c?CT:TT,s.length,c,a,N);!c&&Dt&&(s[Ve].providerFactory=$t),II(d,t,r.length,0),r.push(C),v.directiveStart++,v.directiveEnd++,c&&(v.providerIndexes+=1048576),s.push($t),g.push($t)}else II(d,t,ge>-1?ge:Ve,TE(s[c?Ve:ge],N,!c&&a));!c&&a&&Dt&&s[Ve].componentProviders++}}}function II(t,r,s,a){const c=Cc(r),d=function zv(t){return!!t.useClass}(r);if(c||d){const C=(d?_t(r.useClass):r).prototype.ngOnDestroy;if(C){const N=t.destroyHooks||(t.destroyHooks=[]);if(!c&&r.multi){const U=N.indexOf(s);-1===U?N.push(s,[a,C]):N[U+1].push(a,C)}else N.push(s,C)}}}function TE(t,r,s){return s&&t.componentProviders++,t.multi.push(r)-1}function EI(t,r,s,a){for(let c=s;c<a;c++)if(r[c]===t)return c;return-1}function TT(t,r,s,a){return wI(this.multi,[])}function CT(t,r,s,a){const c=this.multi;let d;if(this.providerFactory){const g=this.providerFactory.componentProviders,v=qo(s,s[ht],this.providerFactory.index,a);d=v.slice(0,g),wI(c,d);for(let C=g;C<v.length;C++)d.push(v[C])}else d=[],wI(c,d);return d}function wI(t,r){for(let s=0;s<t.length;s++)r.push((0,t[s])());return r}function CE(t,r=[]){return s=>{s.providersResolver=(a,c)=>function DT(t,r,s){const a=Un();if(a.firstCreatePass){const c=Ci(t);_I(s,a.data,a.blueprint,c,!0),_I(r,a.data,a.blueprint,c,!1)}}(a,c?c(t):t,r)}}class Rh{}class bE{}function AT(t,r){return new DI(t,r??null,[])}class DI extends Rh{constructor(r,s,a){super(),this._parent=s,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Fg(this);const c=tr(r);this._bootstrapComponents=Bu(c.bootstrap),this._r3Injector=dl(r,s,[{provide:Rh,useValue:this},{provide:id,useValue:this.componentFactoryResolver},...a],We(r),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(r)}get injector(){return this._r3Injector}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class TI extends bE{constructor(r){super(),this.moduleType=r}create(r){return new DI(this.moduleType,r,[])}}class AE extends Rh{constructor(r){super(),this.componentFactoryResolver=new Fg(this),this.instance=null;const s=new ul([...r.providers,{provide:Rh,useValue:this},{provide:id,useValue:this.componentFactoryResolver}],r.parent||rh(),r.debugName,new Set(["environment"]));this.injector=s,r.runEnvironmentInitializers&&s.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(r){this.injector.onDestroy(r)}}function SE(t,r,s=null){return new AE({providers:t,parent:r,debugName:s,runEnvironmentInitializers:!0}).injector}let MT=(()=>{class t{constructor(s){this._injector=s,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(s){if(!s.standalone)return null;if(!this.cachedInjectors.has(s)){const a=Zd(0,s.type),c=a.length>0?SE([a],this._injector,`Standalone[${s.type.name}]`):null;this.cachedInjectors.set(s,c)}return this.cachedInjectors.get(s)}ngOnDestroy(){try{for(const s of this.cachedInjectors.values())null!==s&&s.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=bt({token:t,providedIn:"environment",factory:()=>new t(hn(hu))})}}return t})();function ME(t){t.getStandaloneInjector=r=>r.get(MT).getOrCreateStandaloneInjector(t)}function LE(t,r,s,a){return BE(He(),ar(),t,r,s,a)}function FE(t,r,s,a,c){return function jE(t,r,s,a,c,d,g){const v=r+s;return $u(t,v,c,d)?ho(t,v+2,g?a.call(g,c,d):a(c,d)):im(t,v+2)}(He(),ar(),t,r,s,a,c)}function UE(t,r,s,a,c,d){return function $E(t,r,s,a,c,d,g,v){const C=r+s;return kc(t,C,c,d,g)?ho(t,C+3,v?a.call(v,c,d,g):a(c,d,g)):im(t,C+3)}(He(),ar(),t,r,s,a,c,d)}function VE(t,r,s,a,c,d,g){return function HE(t,r,s,a,c,d,g,v,C){const N=r+s;return function va(t,r,s,a,c,d){const g=$u(t,r,s,a);return $u(t,r+2,c,d)||g}(t,N,c,d,g,v)?ho(t,N+4,C?a.call(C,c,d,g,v):a(c,d,g,v)):im(t,N+4)}(He(),ar(),t,r,s,a,c,d,g)}function im(t,r){const s=t[r];return s===Dn?void 0:s}function BE(t,r,s,a,c,d){const g=r+s;return qs(t,g,c)?ho(t,g+1,d?a.call(d,c):a(c)):im(t,g+1)}function GE(t,r){const s=Un();let a;const c=t+_n;s.firstCreatePass?(a=function zT(t,r){if(r)for(let s=r.length-1;s>=0;s--){const a=r[s];if(t===a.name)return a}}(r,s.pipeRegistry),s.data[c]=a,a.onDestroy&&(s.destroyHooks??=[]).push(c,a.onDestroy)):a=s.data[c];const d=a.factory||(a.factory=Zi(a.type)),v=fn(Nc);try{const C=Ss(!1),N=d();return Ss(C),function Wg(t,r,s,a){s>=t.data.length&&(t.data[s]=null,t.blueprint[s]=null),r[s]=a}(s,He(),c,N),N}finally{fn(v)}}function WE(t,r,s){const a=t+_n,c=He(),d=ca(c,a);return function sm(t,r){return t[ht].data[r].pure}(c,a)?BE(c,ar(),r,d.transform,s,d):d.transform(s)}function QT(){return this._results[Symbol.iterator]()}class bI{get changes(){return this._changes||(this._changes=new ya)}constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const s=bI.prototype;s[Symbol.iterator]||(s[Symbol.iterator]=QT)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,s){return this._results.reduce(r,s)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,s){const a=this;a.dirty=!1;const c=function Eo(t){return t.flat(Number.POSITIVE_INFINITY)}(r);(this._changesDetected=!function Ad(t,r,s){if(t.length!==r.length)return!1;for(let a=0;a<t.length;a++){let c=t[a],d=r[a];if(s&&(c=s(c),d=s(d)),d!==c)return!1}return!0}(a._results,c,s))&&(a._results=c,a.length=c.length,a.last=c[this.length-1],a.first=c[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function YT(t,r,s,a=!0){const c=r[ht];if(function Bd(t,r,s,a){const c=Mr+a,d=s.length;a>0&&(s[c-1][yi]=r),a<d-Mr?(r[yi]=s[c],_p(s,Mr+a,r)):(s.push(r),r[yi]=null),r[nr]=s;const g=r[Fo];null!==g&&s!==g&&function _m(t,r){const s=t[ys];r[rr]!==r[nr][nr][rr]&&(t[ra]=!0),null===s?t[ys]=[r]:s.push(r)}(g,r);const v=r[as];null!==v&&v.insertView(t),r[nn]|=128}(c,r,t,s),a){const d=qh(s,t),g=r[Qt],v=Kh(g,t[Ni]);null!==v&&function cu(t,r,s,a,c,d){a[Zn]=c,a[Or]=r,Va(t,a,s,1,c,d)}(c,t[Or],g,r,v,d)}}let om=(()=>{class t{static{this.__NG_ELEMENT_ID__=eC}}return t})();const ZT=om,JT=class extends ZT{constructor(r,s,a){super(),this._declarationLView=r,this._declarationTContainer=s,this.elementRef=a}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(r,s){return this.createEmbeddedViewImpl(r,s)}createEmbeddedViewImpl(r,s,a){const c=function XT(t,r,s,a){const c=r.tView,v=gh(t,c,s,4096&t[nn]?4096:16,null,r,null,null,null,a?.injector??null,a?.hydrationInfo??null);v[Fo]=t[r.index];const N=t[as];return null!==N&&(v[as]=N.createEmbeddedView(c)),hl(c,v,s),v}(this._declarationLView,this._declarationTContainer,r,{injector:s,hydrationInfo:a});return new Dh(c)}};function eC(){return wv(li(),He())}function wv(t,r){return 4&t.type?new JT(r,t,bc(t,r)):null}let Tv=(()=>{class t{static{this.__NG_ELEMENT_ID__=oC}}return t})();function oC(){return JE(li(),He())}const aC=Tv,YE=class extends aC{constructor(r,s,a){super(),this._lContainer=r,this._hostTNode=s,this._hostLView=a}get element(){return bc(this._hostTNode,this._hostLView)}get injector(){return new ki(this._hostTNode,this._hostLView)}get parentInjector(){const r=zs(this._hostTNode,this._hostLView);if(hs(r)){const s=di(r,this._hostLView),a=tu(r);return new ki(s[ht].data[a+8],s)}return new ki(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const s=ZE(this._lContainer);return null!==s&&s[r]||null}get length(){return this._lContainer.length-Mr}createEmbeddedView(r,s,a){let c,d;"number"==typeof a?c=a:null!=a&&(c=a.index,d=a.injector);const v=r.createEmbeddedViewImpl(s||{},d,null);return this.insertImpl(v,c,false),v}createComponent(r,s,a,c,d){const g=r&&!function Gc(t){return"function"==typeof t}(r);let v;if(g)v=s;else{const it=s||{};v=it.index,a=it.injector,c=it.projectableNodes,d=it.environmentInjector||it.ngModuleRef}const C=g?r:new zf(Mn(r)),N=a||this.parentInjector;if(!d&&null==C.ngModule){const Dt=(g?N:this.parentInjector).get(hu,null);Dt&&(d=Dt)}Mn(C.componentType??{});const ge=C.create(N,c,null,d);return this.insertImpl(ge.hostView,v,false),ge}insert(r,s){return this.insertImpl(r,s,!1)}insertImpl(r,s,a){const c=r._lView;if(function Uc(t){return Pr(t[nr])}(c)){const C=this.indexOf(r);if(-1!==C)this.detach(C);else{const N=c[nr],U=new YE(N,N[Or],N[nr]);U.detach(U.indexOf(r))}}const g=this._adjustIndex(s),v=this._lContainer;return YT(v,c,g,!a),r.attachToViewContainerRef(),_p(AI(v),g,r),r}move(r,s){return this.insert(r,s)}indexOf(r){const s=ZE(this._lContainer);return null!==s?s.indexOf(r):-1}remove(r){const s=this._adjustIndex(r,-1),a=jd(this._lContainer,s);a&&(dc(AI(this._lContainer),s),xp(a[ht],a))}detach(r){const s=this._adjustIndex(r,-1),a=jd(this._lContainer,s);return a&&null!=dc(AI(this._lContainer),s)?new Dh(a):null}_adjustIndex(r,s=0){return r??this.length+s}};function ZE(t){return t[8]}function AI(t){return t[8]||(t[8]=[])}function JE(t,r){let s;const a=r[t.index];return Pr(a)?s=a:(s=Ay(a,r,null,t),r[t.index]=s,Bf(r,s)),ew(s,r,t,a),new YE(s,t,r)}let ew=function tw(t,r,s,a){if(t[Ni])return;let c;c=8&s.type?dt(a):function uC(t,r){const s=t[Qt],a=s.createComment(""),c=Te(r,t);return Mu(s,Kh(s,c),a,function Pv(t,r){return t.nextSibling(r)}(s,c),!1),a}(r,s),t[Ni]=c};class SI{constructor(r){this.queryList=r,this.matches=null}clone(){return new SI(this.queryList)}setDirty(){this.queryList.setDirty()}}class MI{constructor(r=[]){this.queries=r}createEmbeddedView(r){const s=r.queries;if(null!==s){const a=null!==r.contentQueries?r.contentQueries[0]:s.length,c=[];for(let d=0;d<a;d++){const g=s.getByIndex(d);c.push(this.queries[g.indexInDeclarationView].clone())}return new MI(c)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let s=0;s<this.queries.length;s++)null!==lw(r,s).matches&&this.queries[s].setDirty()}}class nw{constructor(r,s,a=null){this.predicate=r,this.flags=s,this.read=a}}class xI{constructor(r=[]){this.queries=r}elementStart(r,s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementStart(r,s)}elementEnd(r){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(r)}embeddedTView(r){let s=null;for(let a=0;a<this.length;a++){const c=null!==s?s.length:0,d=this.getByIndex(a).embeddedTView(r,c);d&&(d.indexInDeclarationView=a,null!==s?s.push(d):s=[d])}return null!==s?new xI(s):null}template(r,s){for(let a=0;a<this.queries.length;a++)this.queries[a].template(r,s)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class RI{constructor(r,s=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(r,s){this.isApplyingToNode(s)&&this.matchTNode(r,s)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,s){this.elementStart(r,s)}embeddedTView(r,s){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,s),new RI(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const s=this._declarationNodeIndex;let a=r.parent;for(;null!==a&&8&a.type&&a.index!==s;)a=a.parent;return s===(null!==a?a.index:-1)}return this._appliesToNextNode}matchTNode(r,s){const a=this.metadata.predicate;if(Array.isArray(a))for(let c=0;c<a.length;c++){const d=a[c];this.matchTNodeWithReadOption(r,s,dC(s,d)),this.matchTNodeWithReadOption(r,s,Io(s,r,d,!1,!1))}else a===om?4&s.type&&this.matchTNodeWithReadOption(r,s,-1):this.matchTNodeWithReadOption(r,s,Io(s,r,a,!1,!1))}matchTNodeWithReadOption(r,s,a){if(null!==a){const c=this.metadata.read;if(null!==c)if(c===Ac||c===Tv||c===om&&4&s.type)this.addMatch(s.index,-2);else{const d=Io(s,r,c,!1,!1);null!==d&&this.addMatch(s.index,d)}else this.addMatch(s.index,a)}}addMatch(r,s){null===this.matches?this.matches=[r,s]:this.matches.push(r,s)}}function dC(t,r){const s=t.localNames;if(null!==s)for(let a=0;a<s.length;a+=2)if(s[a]===r)return s[a+1];return null}function fC(t,r,s,a){return-1===s?function hC(t,r){return 11&t.type?bc(t,r):4&t.type?wv(t,r):null}(r,t):-2===s?function pC(t,r,s){return s===Ac?bc(r,t):s===om?wv(r,t):s===Tv?JE(r,t):void 0}(t,r,a):qo(t,t[ht],s,r)}function rw(t,r,s,a){const c=r[as].queries[a];if(null===c.matches){const d=t.data,g=s.matches,v=[];for(let C=0;C<g.length;C+=2){const N=g[C];v.push(N<0?null:fC(r,d[N],g[C+1],s.metadata.read))}c.matches=v}return c.matches}function NI(t,r,s,a){const c=t.queries.getByIndex(s),d=c.matches;if(null!==d){const g=rw(t,r,c,s);for(let v=0;v<d.length;v+=2){const C=d[v];if(C>0)a.push(g[v/2]);else{const N=d[v+1],U=r[-C];for(let X=Mr;X<U.length;X++){const ce=U[X];ce[Fo]===ce[nr]&&NI(ce[ht],ce,N,a)}if(null!==U[ys]){const X=U[ys];for(let ce=0;ce<X.length;ce++){const ge=X[ce];NI(ge[ht],ge,N,a)}}}}}return a}function iw(t){const r=He(),s=Un(),a=T();m(a+1);const c=lw(s,a);if(t.dirty&&function la(t){return 4==(4&t[nn])}(r)===(2==(2&c.metadata.flags))){if(null===c.matches)t.reset([]);else{const d=c.crossesNgTemplate?NI(s,r,a,[]):rw(s,r,c,a);t.reset(d,lg),t.notifyOnChanges()}return!0}return!1}function sw(t,r,s){const a=Un();a.firstCreatePass&&(cw(a,new nw(t,r,s),-1),2==(2&r)&&(a.staticViewQueries=!0)),uw(a,He(),r)}function ow(t,r,s,a){const c=Un();if(c.firstCreatePass){const d=li();cw(c,new nw(r,s,a),d.index),function mC(t,r){const s=t.contentQueries||(t.contentQueries=[]);r!==(s.length?s[s.length-1]:-1)&&s.push(t.queries.length-1,r)}(c,t),2==(2&s)&&(c.staticContentQueries=!0)}uw(c,He(),s)}function aw(){return function gC(t,r){return t[as].queries[r].queryList}(He(),T())}function uw(t,r,s){const a=new bI(4==(4&s));(function Ey(t,r,s,a){const c=$f(r);c.push(s),t.firstCreatePass&&My(t).push(a,c.length-1)})(t,r,a,a.destroy),null===r[as]&&(r[as]=new MI),r[as].queries.push(new SI(a))}function cw(t,r,s){null===t.queries&&(t.queries=new xI),t.queries.track(new RI(r,s))}function lw(t,r){return t.queries.getByIndex(r)}function dw(t,r){return wv(t,r)}function OI(t){return!!tr(t)}const Sw=new Wt("Application Initializer");let UI=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((s,a)=>{this.resolve=s,this.reject=a}),this.appInits=pn(Sw,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const s=[];for(const c of this.appInits){const d=c();if(ev(d))s.push(d);else if(z_(d)){const g=new Promise((v,C)=>{d.subscribe({complete:v,error:C})});s.push(g)}}const a=()=>{this.done=!0,this.resolve()};Promise.all(s).then(()=>{a()}).catch(c=>{this.reject(c)}),0===s.length&&a(),this.initialized=!0}static{this.\u0275fac=function(a){return new(a||t)}}static{this.\u0275prov=bt({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Mw=(()=>{class t{log(s){console.log(s)}warn(s){console.warn(s)}static{this.\u0275fac=function(a){return new(a||t)}}static{this.\u0275prov=bt({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();const bv=new Wt("LocaleId",{providedIn:"root",factory:()=>pn(bv,xt.Optional|xt.SkipSelf)||function FC(){return typeof $localize<"u"&&$localize.locale||hp}()}),UC=new Wt("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let xw=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new ue.t(!1)}add(){this.hasPendingTasks.next(!0);const s=this.taskId++;return this.pendingTasks.add(s),s}remove(s){this.pendingTasks.delete(s),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static{this.\u0275fac=function(a){return new(a||t)}}static{this.\u0275prov=bt({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();class BC{constructor(r,s){this.ngModuleFactory=r,this.componentFactories=s}}let jC=(()=>{class t{compileModuleSync(s){return new TI(s)}compileModuleAsync(s){return Promise.resolve(this.compileModuleSync(s))}compileModuleAndAllComponentsSync(s){const a=this.compileModuleSync(s),d=Bu(tr(s).declarations).reduce((g,v)=>{const C=Mn(v);return C&&g.push(new zf(C)),g},[]);return new BC(a,d)}compileModuleAndAllComponentsAsync(s){return Promise.resolve(this.compileModuleAndAllComponentsSync(s))}clearCache(){}clearCacheFor(s){}getModuleId(s){}static{this.\u0275fac=function(a){return new(a||t)}}static{this.\u0275prov=bt({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();const Pw=new Wt(""),kw=new Wt("");let jI,cb=(()=>{class t{constructor(s,a,c){this._ngZone=s,this.registry=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,jI||(function lb(t){jI=t}(c),c.addToWindow(a)),this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{es.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb(this._didWork)}this._didWork=!1});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(a=>!a.updateCb||!a.updateCb(s)||(clearTimeout(a.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,a,c){let d=-1;a&&a>0&&(d=setTimeout(()=>{this._callbacks=this._callbacks.filter(g=>g.timeoutId!==d),s(this._didWork,this.getPendingTasks())},a)),this._callbacks.push({doneCb:s,timeoutId:d,updateCb:c})}whenStable(s,a,c){if(c&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,a,c),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(s){this.registry.registerApplication(s,this)}unregisterApplication(s){this.registry.unregisterApplication(s)}findProviders(s,a,c){return[]}static{this.\u0275fac=function(a){return new(a||t)(hn(es),hn(Lw),hn(kw))}}static{this.\u0275prov=bt({token:t,factory:t.\u0275fac})}}return t})(),Lw=(()=>{class t{constructor(){this._applications=new Map}registerApplication(s,a){this._applications.set(s,a)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,a=!0){return jI?.findTestabilityInTree(this,s,a)??null}static{this.\u0275fac=function(a){return new(a||t)}}static{this.\u0275prov=bt({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})(),Td=null;const Fw=new Wt("AllowMultipleToken"),$I=new Wt("PlatformDestroyListeners"),HI=new Wt("appBootstrapListener");class fb{constructor(r,s){this.name=r,this.token=s}}function Bw(t,r,s=[]){const a=`Platform: ${r}`,c=new Wt(a);return(d=[])=>{let g=zI();if(!g||g.injector.get(Fw,!1)){const v=[...s,...d,{provide:c,useValue:!0}];t?t(v):function pb(t){if(Td&&!Td.get(Fw,!1))throw new Se(400,!1);(function Uw(){!function ao(t){Wi=t}(()=>{throw new Se(600,!1)})})(),Td=t;const r=t.get($w);(function Vw(t){t.get(sf,null)?.forEach(s=>s())})(t)}(function jw(t=[],r){return Ps.create({name:r,providers:[{provide:tf,useValue:"platform"},{provide:$I,useValue:new Set([()=>Td=null])},...t]})}(v,a))}return function mb(t){const r=zI();if(!r)throw new Se(401,!1);return r}()}}function zI(){return Td?.get($w)??null}let $w=(()=>{class t{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,a){const c=function yb(t="zone.js",r){return"noop"===t?new uy:"zone.js"===t?new es(r):t}(a?.ngZone,function Hw(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:a?.ngZoneEventCoalescing,runCoalescing:a?.ngZoneRunCoalescing}));return c.run(()=>{const d=function ST(t,r,s){return new DI(t,r,s)}(s.moduleType,this.injector,function qw(t){return[{provide:es,useFactory:t},{provide:Xd,multi:!0,useFactory:()=>{const r=pn(_b,{optional:!0});return()=>r.initialize()}},{provide:Kw,useFactory:vb},{provide:cy,useFactory:ly}]}(()=>c)),g=d.injector.get(Uu,null);return c.runOutsideAngular(()=>{const v=c.onError.subscribe({next:C=>{g.handleError(C)}});d.onDestroy(()=>{Sv(this._modules,d),v.unsubscribe()})}),function zw(t,r,s){try{const a=s();return ev(a)?a.catch(c=>{throw r.runOutsideAngular(()=>t.handleError(c)),c}):a}catch(a){throw r.runOutsideAngular(()=>t.handleError(a)),a}}(g,c,()=>{const v=d.injector.get(UI);return v.runInitializers(),v.donePromise.then(()=>(function eE(t){Yt(t,"Expected localeId to be defined"),"string"==typeof t&&(J0=t.toLowerCase().replace(/_/g,"-"))}(d.injector.get(bv,hp)||hp),this._moduleDoBootstrap(d),d))})})}bootstrapModule(s,a=[]){const c=Gw({},a);return function db(t,r,s){const a=new TI(s);return Promise.resolve(a)}(0,0,s).then(d=>this.bootstrapModuleFactory(d,c))}_moduleDoBootstrap(s){const a=s.injector.get(gp);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(c=>a.bootstrap(c));else{if(!s.instance.ngDoBootstrap)throw new Se(-403,!1);s.instance.ngDoBootstrap(a)}this._modules.push(s)}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Se(404,!1);this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a());const s=this._injector.get($I,null);s&&(s.forEach(a=>a()),s.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static{this.\u0275fac=function(a){return new(a||t)(hn(Ps))}}static{this.\u0275prov=bt({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();function Gw(t,r){return Array.isArray(r)?r.reduce(Gw,t):{...t,...r}}let gp=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=pn(Kw),this.zoneIsStable=pn(cy),this.componentTypes=[],this.components=[],this.isStable=pn(xw).hasPendingTasks.pipe((0,me.n)(s=>s?(0,K.of)(!1):this.zoneIsStable),(0,Le.F)(),te()),this._injector=pn(hu)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(s,a){const c=s instanceof Fu;if(!this._injector.get(UI).done)throw!c&&Co(s),new Se(405,!1);let g;g=c?s:this._injector.get(id).resolveComponentFactory(s),this.componentTypes.push(g.componentType);const v=function hb(t){return t.isBoundToModule}(g)?void 0:this._injector.get(Rh),N=g.create(Ps.NULL,[],a||g.selector,v),U=N.location.nativeElement,X=N.injector.get(Pw,null);return X?.registerApplication(U),N.onDestroy(()=>{this.detachView(N.hostView),Sv(this.components,N),X?.unregisterApplication(U)}),this._loadComponent(N),N}tick(){if(this._runningTick)throw new Se(101,!1);try{this._runningTick=!0;for(let s of this._views)s.detectChanges()}catch(s){this.internalErrorHandler(s)}finally{this._runningTick=!1}}attachView(s){const a=s;this._views.push(a),a.attachToAppRef(this)}detachView(s){const a=s;Sv(this._views,a),a.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s);const a=this._injector.get(HI,[]);a.push(...this._bootstrapListeners),a.forEach(c=>c(s))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(s=>s()),this._views.slice().forEach(s=>s.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(s){return this._destroyListeners.push(s),()=>Sv(this._destroyListeners,s)}destroy(){if(this._destroyed)throw new Se(406,!1);const s=this._injector;s.destroy&&!s.destroyed&&s.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(a){return new(a||t)}}static{this.\u0275prov=bt({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Sv(t,r){const s=t.indexOf(r);s>-1&&t.splice(s,1)}const Kw=new Wt("",{providedIn:"root",factory:()=>pn(Uu).handleError.bind(void 0)});function vb(){const t=pn(es),r=pn(Uu);return s=>t.runOutsideAngular(()=>r.handleError(s))}let _b=(()=>{class t{constructor(){this.zone=pn(es),this.applicationRef=pn(gp)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(a){return new(a||t)}}static{this.\u0275prov=bt({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();let Eb=(()=>{class t{static{this.__NG_ELEMENT_ID__=wb}}return t})();function wb(t){return function Db(t,r,s){if(vs(t)&&!s){const a=Ds(t.index,r);return new Dh(a,a)}return 47&t.type?new Dh(r[rr],r):null}(li(),He(),16==(16&t))}class Jw{constructor(){}supports(r){return Qf(r)}create(r){return new Sb(r)}}const Ab=(t,r)=>r;class Sb{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||Ab}forEachItem(r){let s;for(s=this._itHead;null!==s;s=s._next)r(s)}forEachOperation(r){let s=this._itHead,a=this._removalsHead,c=0,d=null;for(;s||a;){const g=!a||s&&s.currentIndex<tD(a,c,d)?s:a,v=tD(g,c,d),C=g.currentIndex;if(g===a)c--,a=a._nextRemoved;else if(s=s._next,null==g.previousIndex)c++;else{d||(d=[]);const N=v-c,U=C-c;if(N!=U){for(let ce=0;ce<N;ce++){const ge=ce<d.length?d[ce]:d[ce]=0,Ve=ge+ce;U<=Ve&&Ve<N&&(d[ce]=ge+1)}d[g.previousIndex]=U-N}}v!==C&&r(g,v,C)}}forEachPreviousItem(r){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachMovedItem(r){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}forEachIdentityChange(r){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)r(s)}diff(r){if(null==r&&(r=[]),!Qf(r))throw new Se(900,!1);return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let c,d,g,s=this._itHead,a=!1;if(Array.isArray(r)){this.length=r.length;for(let v=0;v<this.length;v++)d=r[v],g=this._trackByFn(v,d),null!==s&&Object.is(s.trackById,g)?(a&&(s=this._verifyReinsertion(s,d,g,v)),Object.is(s.item,d)||this._addIdentityChange(s,d)):(s=this._mismatch(s,d,g,v),a=!0),s=s._next}else c=0,function jg(t,r){if(Array.isArray(t))for(let s=0;s<t.length;s++)r(t[s]);else{const s=t[Symbol.iterator]();let a;for(;!(a=s.next()).done;)r(a.value)}}(r,v=>{g=this._trackByFn(c,v),null!==s&&Object.is(s.trackById,g)?(a&&(s=this._verifyReinsertion(s,v,g,c)),Object.is(s.item,v)||this._addIdentityChange(s,v)):(s=this._mismatch(s,v,g,c),a=!0),s=s._next,c++}),this.length=c;return this._truncate(s),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,s,a,c){let d;return null===r?d=this._itTail:(d=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._reinsertAfter(r,d,c)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(a,c))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._moveAfter(r,d,c)):r=this._addAfter(new Mb(s,a),d,c),r}_verifyReinsertion(r,s,a,c){let d=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null);return null!==d?r=this._reinsertAfter(d,r._prev,c):r.currentIndex!=c&&(r.currentIndex=c,this._addToMoves(r,c)),r}_truncate(r){for(;null!==r;){const s=r._next;this._addToRemovals(this._unlink(r)),r=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,s,a){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const c=r._prevRemoved,d=r._nextRemoved;return null===c?this._removalsHead=d:c._nextRemoved=d,null===d?this._removalsTail=c:d._prevRemoved=c,this._insertAfter(r,s,a),this._addToMoves(r,a),r}_moveAfter(r,s,a){return this._unlink(r),this._insertAfter(r,s,a),this._addToMoves(r,a),r}_addAfter(r,s,a){return this._insertAfter(r,s,a),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,s,a){const c=null===s?this._itHead:s._next;return r._next=c,r._prev=s,null===c?this._itTail=r:c._prev=r,null===s?this._itHead=r:s._next=r,null===this._linkedRecords&&(this._linkedRecords=new eD),this._linkedRecords.put(r),r.currentIndex=a,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const s=r._prev,a=r._next;return null===s?this._itHead=a:s._next=a,null===a?this._itTail=s:a._prev=s,r}_addToMoves(r,s){return r.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new eD),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,s){return r.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class Mb{constructor(r,s){this.item=r,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class xb{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,s){let a;for(a=this._head;null!==a;a=a._nextDup)if((null===s||s<=a.currentIndex)&&Object.is(a.trackById,r))return a;return null}remove(r){const s=r._prevDup,a=r._nextDup;return null===s?this._head=a:s._nextDup=a,null===a?this._tail=s:a._prevDup=s,null===this._head}}class eD{constructor(){this.map=new Map}put(r){const s=r.trackById;let a=this.map.get(s);a||(a=new xb,this.map.set(s,a)),a.add(r)}get(r,s){const c=this.map.get(r);return c?c.get(r,s):null}remove(r){const s=r.trackById;return this.map.get(s).remove(r)&&this.map.delete(s),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function tD(t,r,s){const a=t.previousIndex;if(null===a)return a;let c=0;return s&&a<s.length&&(c=s[a]),a+r+c}class nD{constructor(){}supports(r){return r instanceof Map||Ch(r)}create(){return new Rb}}class Rb{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let s;for(s=this._mapHead;null!==s;s=s._next)r(s)}forEachPreviousItem(r){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)r(s)}forEachChangedItem(r){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}diff(r){if(r){if(!(r instanceof Map||Ch(r)))throw new Se(900,!1)}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(r,(a,c)=>{if(s&&s.key===c)this._maybeAddToChanges(s,a),this._appendAfter=s,s=s._next;else{const d=this._getOrCreateRecordForKey(c,a);s=this._insertBeforeOrAppend(s,d)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let a=s;null!==a;a=a._nextRemoved)a===this._mapHead&&(this._mapHead=null),this._records.delete(a.key),a._nextRemoved=a._next,a.previousValue=a.currentValue,a.currentValue=null,a._prev=null,a._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,s){if(r){const a=r._prev;return s._next=r,s._prev=a,r._prev=s,a&&(a._next=s),r===this._mapHead&&(this._mapHead=s),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(r,s){if(this._records.has(r)){const c=this._records.get(r);this._maybeAddToChanges(c,s);const d=c._prev,g=c._next;return d&&(d._next=g),g&&(g._prev=d),c._next=null,c._prev=null,c}const a=new Nb(r);return this._records.set(r,a),a.currentValue=s,this._addToAdditions(a),a}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,s){Object.is(s,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=s,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,s){r instanceof Map?r.forEach(s):Object.keys(r).forEach(a=>s(r[a],a))}}class Nb{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function rD(){return new QI([new Jw])}let QI=(()=>{class t{static{this.\u0275prov=bt({token:t,providedIn:"root",factory:rD})}constructor(s){this.factories=s}static create(s,a){if(null!=a){const c=a.factories.slice();s=s.concat(c)}return new t(s)}static extend(s){return{provide:t,useFactory:a=>t.create(s,a||rD()),deps:[[t,new vc,new iu]]}}find(s){const a=this.factories.find(c=>c.supports(s));if(null!=a)return a;throw new Se(901,!1)}}return t})();function iD(){return new XI([new nD])}let XI=(()=>{class t{static{this.\u0275prov=bt({token:t,providedIn:"root",factory:iD})}constructor(s){this.factories=s}static create(s,a){if(a){const c=a.factories.slice();s=s.concat(c)}return new t(s)}static extend(s){return{provide:t,useFactory:a=>t.create(s,a||iD()),deps:[[t,new vc,new iu]]}}find(s){const a=this.factories.find(c=>c.supports(s));if(a)return a;throw new Se(901,!1)}}return t})();const kb=Bw(null,"core",[]);let Lb=(()=>{class t{constructor(s){}static{this.\u0275fac=function(a){return new(a||t)(hn(gp))}}static{this.\u0275mod=To({type:t})}static{this.\u0275inj=Sn({})}}return t})();function Kb(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function Qb(t){const r=Mn(t);if(!r)return null;const s=new zf(r);return{get selector(){return s.selector},get type(){return s.componentType},get inputs(){return s.inputs},get outputs(){return s.outputs},get ngContentSelectors(){return s.ngContentSelectors},get isStandalone(){return r.standalone},get isSignal(){return r.signals}}}},2979:(Pt,ke,j)=>{j.d(ke,{MF:()=>Wt,j6:()=>fn,om:()=>wr,Sx:()=>Jt,Dk:()=>zr,Wp:()=>ei,KO:()=>Vr});var S=j(467),ne=j(8779),se=j(5398),fe=j(1401);const ue=(Pe,ye)=>ye.some(Ze=>Pe instanceof Ze);let K,Q;const te=new WeakMap,J=new WeakMap,me=new WeakMap,Le=new WeakMap,oe=new WeakMap;let Bt={get(Pe,ye,Ze){if(Pe instanceof IDBTransaction){if("done"===ye)return J.get(Pe);if("objectStoreNames"===ye)return Pe.objectStoreNames||me.get(Pe);if("store"===ye)return Ze.objectStoreNames[1]?void 0:Ze.objectStore(Ze.objectStoreNames[0])}return et(Pe[ye])},set:(Pe,ye,Ze)=>(Pe[ye]=Ze,!0),has:(Pe,ye)=>Pe instanceof IDBTransaction&&("done"===ye||"store"===ye)||ye in Pe};function _t(Pe){return"function"==typeof Pe?function Tn(Pe){return Pe!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Re(){return Q||(Q=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Pe)?function(...ye){return Pe.apply(tt(this),ye),et(te.get(this))}:function(...ye){return et(Pe.apply(tt(this),ye))}:function(ye,...Ze){const Rt=Pe.call(tt(this),ye,...Ze);return me.set(Rt,ye.sort?ye.sort():[ye]),et(Rt)}}(Pe):(Pe instanceof IDBTransaction&&function We(Pe){if(J.has(Pe))return;const ye=new Promise((Ze,Rt)=>{const Kt=()=>{Pe.removeEventListener("complete",zt),Pe.removeEventListener("error",en),Pe.removeEventListener("abort",en)},zt=()=>{Ze(),Kt()},en=()=>{Rt(Pe.error||new DOMException("AbortError","AbortError")),Kt()};Pe.addEventListener("complete",zt),Pe.addEventListener("error",en),Pe.addEventListener("abort",en)});J.set(Pe,ye)}(Pe),ue(Pe,function Oe(){return K||(K=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Pe,Bt):Pe)}function et(Pe){if(Pe instanceof IDBRequest)return function ct(Pe){const ye=new Promise((Ze,Rt)=>{const Kt=()=>{Pe.removeEventListener("success",zt),Pe.removeEventListener("error",en)},zt=()=>{Ze(et(Pe.result)),Kt()},en=()=>{Rt(Pe.error),Kt()};Pe.addEventListener("success",zt),Pe.addEventListener("error",en)});return ye.then(Ze=>{Ze instanceof IDBCursor&&te.set(Ze,Pe)}).catch(()=>{}),oe.set(ye,Pe),ye}(Pe);if(Le.has(Pe))return Le.get(Pe);const ye=_t(Pe);return ye!==Pe&&(Le.set(Pe,ye),oe.set(ye,Pe)),ye}const tt=Pe=>oe.get(Pe),Se=["get","getKey","getAll","getAllKeys","count"],Qe=["put","add","delete","clear"],Ge=new Map;function Tt(Pe,ye){if(!(Pe instanceof IDBDatabase)||ye in Pe||"string"!=typeof ye)return;if(Ge.get(ye))return Ge.get(ye);const Ze=ye.replace(/FromIndex$/,""),Rt=ye!==Ze,Kt=Qe.includes(Ze);if(!(Ze in(Rt?IDBIndex:IDBObjectStore).prototype)||!Kt&&!Se.includes(Ze))return;const zt=function(){var en=(0,S.A)(function*(Kn,...Ln){const qt=this.transaction(Kn,Kt?"readwrite":"readonly");let Bi=qt.store;return Rt&&(Bi=Bi.index(Ln.shift())),(yield Promise.all([Bi[Ze](...Ln),Kt&&qt.done]))[0]});return function(Ln){return en.apply(this,arguments)}}();return Ge.set(ye,zt),zt}!function Ut(Pe){Bt=Pe(Bt)}(Pe=>({...Pe,get:(ye,Ze,Rt)=>Tt(ye,Ze)||Pe.get(ye,Ze,Rt),has:(ye,Ze)=>!!Tt(ye,Ze)||Pe.has(ye,Ze)}));class br{constructor(ye){this.container=ye}getPlatformInfoString(){return this.container.getProviders().map(Ze=>{if(function er(Pe){const ye=Pe.getComponent();return"VERSION"===ye?.type}(Ze)){const Rt=Ze.getImmediate();return`${Rt.library}/${Rt.version}`}return null}).filter(Ze=>Ze).join(" ")}}const Ye="@firebase/app",rn=new se.Vy("@firebase/app"),Gn="[DEFAULT]",jt={[Ye]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Zt=new Map,Ir=new Map;function xt(Pe,ye){try{Pe.container.addComponent(ye)}catch(Ze){rn.debug(`Component ${ye.name} failed to register with FirebaseApp ${Pe.name}`,Ze)}}function wr(Pe){const ye=Pe.name;if(Ir.has(ye))return rn.debug(`There were multiple attempts to register component ${ye}.`),!1;Ir.set(ye,Pe);for(const Ze of Zt.values())xt(Ze,Pe);return!0}function fn(Pe,ye){const Ze=Pe.container.getProvider("heartbeat").getImmediate({optional:!0});return Ze&&Ze.triggerHeartbeat(),Pe.container.getProvider(ye)}const cn=new fe.FA("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Ai{constructor(ye,Ze,Rt){this._isDeleted=!1,this._options=Object.assign({},ye),this._config=Object.assign({},Ze),this._name=Ze.name,this._automaticDataCollectionEnabled=Ze.automaticDataCollectionEnabled,this._container=Rt,this.container.addComponent(new ne.uA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ye){this.checkDestroyed(),this._automaticDataCollectionEnabled=ye}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(ye){this._isDeleted=ye}checkDestroyed(){if(this.isDeleted)throw cn.create("app-deleted",{appName:this._name})}}const Wt="9.23.0";function ei(Pe,ye={}){let Ze=Pe;"object"!=typeof ye&&(ye={name:ye});const Rt=Object.assign({name:Gn,automaticDataCollectionEnabled:!1},ye),Kt=Rt.name;if("string"!=typeof Kt||!Kt)throw cn.create("bad-app-name",{appName:String(Kt)});if(Ze||(Ze=(0,fe.T9)()),!Ze)throw cn.create("no-options");const zt=Zt.get(Kt);if(zt){if((0,fe.bD)(Ze,zt.options)&&(0,fe.bD)(Rt,zt.config))return zt;throw cn.create("duplicate-app",{appName:Kt})}const en=new ne.h1(Kt);for(const Ln of Ir.values())en.addComponent(Ln);const Kn=new Ai(Ze,Rt,en);return Zt.set(Kt,Kn),Kn}function Jt(Pe=Gn){const ye=Zt.get(Pe);if(!ye&&Pe===Gn&&(0,fe.T9)())return ei();if(!ye)throw cn.create("no-app",{appName:Pe});return ye}function zr(){return Array.from(Zt.values())}function Vr(Pe,ye,Ze){var Rt;let Kt=null!==(Rt=jt[Pe])&&void 0!==Rt?Rt:Pe;Ze&&(Kt+=`-${Ze}`);const zt=Kt.match(/\s|\//),en=ye.match(/\s|\//);if(zt||en){const Kn=[`Unable to register library "${Kt}" with version "${ye}":`];return zt&&Kn.push(`library name "${Kt}" contains illegal characters (whitespace or "/")`),zt&&en&&Kn.push("and"),en&&Kn.push(`version name "${ye}" contains illegal characters (whitespace or "/")`),void rn.warn(Kn.join(" "))}wr(new ne.uA(`${Kt}-version`,()=>({library:Kt,version:ye}),"VERSION"))}const Cn="firebase-heartbeat-database",yr=1,re="firebase-heartbeat-store";let B=null;function H(){return B||(B=function nt(Pe,ye,{blocked:Ze,upgrade:Rt,blocking:Kt,terminated:zt}={}){const en=indexedDB.open(Pe,ye),Kn=et(en);return Rt&&en.addEventListener("upgradeneeded",Ln=>{Rt(et(en.result),Ln.oldVersion,Ln.newVersion,et(en.transaction),Ln)}),Ze&&en.addEventListener("blocked",Ln=>Ze(Ln.oldVersion,Ln.newVersion,Ln)),Kn.then(Ln=>{zt&&Ln.addEventListener("close",()=>zt()),Kt&&Ln.addEventListener("versionchange",qt=>Kt(qt.oldVersion,qt.newVersion,qt))}).catch(()=>{}),Kn}(Cn,yr,{upgrade:(Pe,ye)=>{0===ye&&Pe.createObjectStore(re)}}).catch(Pe=>{throw cn.create("idb-open",{originalErrorMessage:Pe.message})})),B}function G(){return(G=(0,S.A)(function*(Pe){try{return yield(yield H()).transaction(re).objectStore(re).get(gt(Pe))}catch(ye){if(ye instanceof fe.g)rn.warn(ye.message);else{const Ze=cn.create("idb-get",{originalErrorMessage:ye?.message});rn.warn(Ze.message)}}})).apply(this,arguments)}function he(Pe,ye){return $e.apply(this,arguments)}function $e(){return($e=(0,S.A)(function*(Pe,ye){try{const Rt=(yield H()).transaction(re,"readwrite");yield Rt.objectStore(re).put(ye,gt(Pe)),yield Rt.done}catch(Ze){if(Ze instanceof fe.g)rn.warn(Ze.message);else{const Rt=cn.create("idb-set",{originalErrorMessage:Ze?.message});rn.warn(Rt.message)}}})).apply(this,arguments)}function gt(Pe){return`${Pe.name}!${Pe.options.appId}`}class dn{constructor(ye){this.container=ye,this._heartbeatsCache=null;const Ze=this.container.getProvider("app").getImmediate();this._storage=new fi(Ze),this._heartbeatsCachePromise=this._storage.read().then(Rt=>(this._heartbeatsCache=Rt,Rt))}triggerHeartbeat(){var ye=this;return(0,S.A)(function*(){const Rt=ye.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Kt=tn();if(null===ye._heartbeatsCache&&(ye._heartbeatsCache=yield ye._heartbeatsCachePromise),ye._heartbeatsCache.lastSentHeartbeatDate!==Kt&&!ye._heartbeatsCache.heartbeats.some(zt=>zt.date===Kt))return ye._heartbeatsCache.heartbeats.push({date:Kt,agent:Rt}),ye._heartbeatsCache.heartbeats=ye._heartbeatsCache.heartbeats.filter(zt=>{const en=new Date(zt.date).valueOf();return Date.now()-en<=2592e6}),ye._storage.overwrite(ye._heartbeatsCache)})()}getHeartbeatsHeader(){var ye=this;return(0,S.A)(function*(){if(null===ye._heartbeatsCache&&(yield ye._heartbeatsCachePromise),null===ye._heartbeatsCache||0===ye._heartbeatsCache.heartbeats.length)return"";const Ze=tn(),{heartbeatsToSend:Rt,unsentEntries:Kt}=function hn(Pe,ye=1024){const Ze=[];let Rt=Pe.slice();for(const Kt of Pe){const zt=Ze.find(en=>en.agent===Kt.agent);if(zt){if(zt.dates.push(Kt.date),pn(Ze)>ye){zt.dates.pop();break}}else if(Ze.push({agent:Kt.agent,dates:[Kt.date]}),pn(Ze)>ye){Ze.pop();break}Rt=Rt.slice(1)}return{heartbeatsToSend:Ze,unsentEntries:Rt}}(ye._heartbeatsCache.heartbeats),zt=(0,fe.Uj)(JSON.stringify({version:2,heartbeats:Rt}));return ye._heartbeatsCache.lastSentHeartbeatDate=Ze,Kt.length>0?(ye._heartbeatsCache.heartbeats=Kt,yield ye._storage.overwrite(ye._heartbeatsCache)):(ye._heartbeatsCache.heartbeats=[],ye._storage.overwrite(ye._heartbeatsCache)),zt})()}}function tn(){return(new Date).toISOString().substring(0,10)}class fi{constructor(ye){this.app=ye,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,S.A)(function*(){return!!(0,fe.zW)()&&(0,fe.eX)().then(()=>!0).catch(()=>!1)})()}read(){var ye=this;return(0,S.A)(function*(){return(yield ye._canUseIndexedDBPromise)&&(yield function $(Pe){return G.apply(this,arguments)}(ye.app))||{heartbeats:[]}})()}overwrite(ye){var Ze=this;return(0,S.A)(function*(){var Rt;if(yield Ze._canUseIndexedDBPromise){const zt=yield Ze.read();return he(Ze.app,{lastSentHeartbeatDate:null!==(Rt=ye.lastSentHeartbeatDate)&&void 0!==Rt?Rt:zt.lastSentHeartbeatDate,heartbeats:ye.heartbeats})}})()}add(ye){var Ze=this;return(0,S.A)(function*(){var Rt;if(yield Ze._canUseIndexedDBPromise){const zt=yield Ze.read();return he(Ze.app,{lastSentHeartbeatDate:null!==(Rt=ye.lastSentHeartbeatDate)&&void 0!==Rt?Rt:zt.lastSentHeartbeatDate,heartbeats:[...zt.heartbeats,...ye.heartbeats]})}})()}}function pn(Pe){return(0,fe.Uj)(JSON.stringify({version:2,heartbeats:Pe})).length}!function Vi(Pe){wr(new ne.uA("platform-logger",ye=>new br(ye),"PRIVATE")),wr(new ne.uA("heartbeat",ye=>new dn(ye),"PRIVATE")),Vr(Ye,"0.9.13",Pe),Vr(Ye,"0.9.13","esm2017"),Vr("fire-js","")}("")},8779:(Pt,ke,j)=>{j.d(ke,{h1:()=>Oe,uA:()=>se});var S=j(467),ne=j(1401);class se{constructor(te,J,me){this.name=te,this.instanceFactory=J,this.type=me,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(te){return this.instantiationMode=te,this}setMultipleInstances(te){return this.multipleInstances=te,this}setServiceProps(te){return this.serviceProps=te,this}setInstanceCreatedCallback(te){return this.onInstanceCreated=te,this}}const fe="[DEFAULT]";class ue{constructor(te,J){this.name=te,this.container=J,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(te){const J=this.normalizeInstanceIdentifier(te);if(!this.instancesDeferred.has(J)){const me=new ne.cY;if(this.instancesDeferred.set(J,me),this.isInitialized(J)||this.shouldAutoInitialize())try{const Le=this.getOrInitializeService({instanceIdentifier:J});Le&&me.resolve(Le)}catch{}}return this.instancesDeferred.get(J).promise}getImmediate(te){var J;const me=this.normalizeInstanceIdentifier(te?.identifier),Le=null!==(J=te?.optional)&&void 0!==J&&J;if(!this.isInitialized(me)&&!this.shouldAutoInitialize()){if(Le)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:me})}catch(oe){if(Le)return null;throw oe}}getComponent(){return this.component}setComponent(te){if(te.name!==this.name)throw Error(`Mismatching Component ${te.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=te,this.shouldAutoInitialize()){if(function Q(Re){return"EAGER"===Re.instantiationMode}(te))try{this.getOrInitializeService({instanceIdentifier:fe})}catch{}for(const[J,me]of this.instancesDeferred.entries()){const Le=this.normalizeInstanceIdentifier(J);try{const oe=this.getOrInitializeService({instanceIdentifier:Le});me.resolve(oe)}catch{}}}}clearInstance(te=fe){this.instancesDeferred.delete(te),this.instancesOptions.delete(te),this.instances.delete(te)}delete(){var te=this;return(0,S.A)(function*(){const J=Array.from(te.instances.values());yield Promise.all([...J.filter(me=>"INTERNAL"in me).map(me=>me.INTERNAL.delete()),...J.filter(me=>"_delete"in me).map(me=>me._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(te=fe){return this.instances.has(te)}getOptions(te=fe){return this.instancesOptions.get(te)||{}}initialize(te={}){const{options:J={}}=te,me=this.normalizeInstanceIdentifier(te.instanceIdentifier);if(this.isInitialized(me))throw Error(`${this.name}(${me}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Le=this.getOrInitializeService({instanceIdentifier:me,options:J});for(const[oe,ct]of this.instancesDeferred.entries())me===this.normalizeInstanceIdentifier(oe)&&ct.resolve(Le);return Le}onInit(te,J){var me;const Le=this.normalizeInstanceIdentifier(J),oe=null!==(me=this.onInitCallbacks.get(Le))&&void 0!==me?me:new Set;oe.add(te),this.onInitCallbacks.set(Le,oe);const ct=this.instances.get(Le);return ct&&te(ct,Le),()=>{oe.delete(te)}}invokeOnInitCallbacks(te,J){const me=this.onInitCallbacks.get(J);if(me)for(const Le of me)try{Le(te,J)}catch{}}getOrInitializeService({instanceIdentifier:te,options:J={}}){let me=this.instances.get(te);if(!me&&this.component&&(me=this.component.instanceFactory(this.container,{instanceIdentifier:(Re=te,Re===fe?void 0:Re),options:J}),this.instances.set(te,me),this.instancesOptions.set(te,J),this.invokeOnInitCallbacks(me,te),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,te,me)}catch{}var Re;return me||null}normalizeInstanceIdentifier(te=fe){return this.component?this.component.multipleInstances?te:fe:te}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Oe{constructor(te){this.name=te,this.providers=new Map}addComponent(te){const J=this.getProvider(te.name);if(J.isComponentSet())throw new Error(`Component ${te.name} has already been registered with ${this.name}`);J.setComponent(te)}addOrOverwriteComponent(te){this.getProvider(te.name).isComponentSet()&&this.providers.delete(te.name),this.addComponent(te)}getProvider(te){if(this.providers.has(te))return this.providers.get(te);const J=new ue(te,this);return this.providers.set(te,J),J}getProviders(){return Array.from(this.providers.values())}}},5398:(Pt,ke,j)=>{j.d(ke,{$b:()=>ne,Vy:()=>Q});const S=[];var ne=function(te){return te[te.DEBUG=0]="DEBUG",te[te.VERBOSE=1]="VERBOSE",te[te.INFO=2]="INFO",te[te.WARN=3]="WARN",te[te.ERROR=4]="ERROR",te[te.SILENT=5]="SILENT",te}(ne||{});const se={debug:ne.DEBUG,verbose:ne.VERBOSE,info:ne.INFO,warn:ne.WARN,error:ne.ERROR,silent:ne.SILENT},fe=ne.INFO,ue={[ne.DEBUG]:"log",[ne.VERBOSE]:"log",[ne.INFO]:"info",[ne.WARN]:"warn",[ne.ERROR]:"error"},K=(te,J,...me)=>{if(J<te.logLevel)return;const Le=(new Date).toISOString(),oe=ue[J];if(!oe)throw new Error(`Attempted to log a message with an invalid logType (value: ${J})`);console[oe](`[${Le}]  ${te.name}:`,...me)};class Q{constructor(J){this.name=J,this._logLevel=fe,this._logHandler=K,this._userLogHandler=null,S.push(this)}get logLevel(){return this._logLevel}set logLevel(J){if(!(J in ne))throw new TypeError(`Invalid value "${J}" assigned to \`logLevel\``);this._logLevel=J}setLogLevel(J){this._logLevel="string"==typeof J?se[J]:J}get logHandler(){return this._logHandler}set logHandler(J){if("function"!=typeof J)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=J}get userLogHandler(){return this._userLogHandler}set userLogHandler(J){this._userLogHandler=J}debug(...J){this._userLogHandler&&this._userLogHandler(this,ne.DEBUG,...J),this._logHandler(this,ne.DEBUG,...J)}log(...J){this._userLogHandler&&this._userLogHandler(this,ne.VERBOSE,...J),this._logHandler(this,ne.VERBOSE,...J)}info(...J){this._userLogHandler&&this._userLogHandler(this,ne.INFO,...J),this._logHandler(this,ne.INFO,...J)}warn(...J){this._userLogHandler&&this._userLogHandler(this,ne.WARN,...J),this._logHandler(this,ne.WARN,...J)}error(...J){this._userLogHandler&&this._userLogHandler(this,ne.ERROR,...J),this._logHandler(this,ne.ERROR,...J)}}},7037:(Pt,ke,j)=>{j.d(ke,{Dk:()=>S.Dk,KO:()=>S.KO,Sx:()=>S.Sx,Wp:()=>S.Wp});var S=j(2979);(0,S.KO)("firebase","9.23.0","app")},345:(Pt,ke,j)=>{j.d(ke,{Bb:()=>bt,hE:()=>Ei,sG:()=>Ke});var S=j(8699),ne=j(177);class se extends ne.VF{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class fe extends se{static makeCurrent(){(0,ne.ZD)(new fe)}onAndCancel(H,$,G){return H.addEventListener($,G),()=>{H.removeEventListener($,G)}}dispatchEvent(H,$){H.dispatchEvent($)}remove(H){H.parentNode&&H.parentNode.removeChild(H)}createElement(H,$){return($=$||this.getDefaultDocument()).createElement(H)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(H){return H.nodeType===Node.ELEMENT_NODE}isShadowRoot(H){return H instanceof DocumentFragment}getGlobalEventTarget(H,$){return"window"===$?window:"document"===$?H:"body"===$?H.body:null}getBaseHref(H){const $=function K(){return ue=ue||document.querySelector("base"),ue?ue.getAttribute("href"):null}();return null==$?null:function Oe(B){Q=Q||document.createElement("a"),Q.setAttribute("href",B);const H=Q.pathname;return"/"===H.charAt(0)?H:`/${H}`}($)}resetBaseElement(){ue=null}getUserAgent(){return window.navigator.userAgent}getCookie(H){return(0,ne._b)(document.cookie,H)}}let Q,ue=null,te=(()=>{class B{build(){return new XMLHttpRequest}static{this.\u0275fac=function(G){return new(G||B)}}static{this.\u0275prov=S.jDH({token:B,factory:B.\u0275fac})}}return B})();const J=new S.nKC("EventManagerPlugins");let me=(()=>{class B{constructor($,G){this._zone=G,this._eventNameToPlugin=new Map,$.forEach(he=>{he.manager=this}),this._plugins=$.slice().reverse()}addEventListener($,G,he){return this._findPluginFor(G).addEventListener($,G,he)}getZone(){return this._zone}_findPluginFor($){let G=this._eventNameToPlugin.get($);if(G)return G;if(G=this._plugins.find($e=>$e.supports($)),!G)throw new S.wOt(5101,!1);return this._eventNameToPlugin.set($,G),G}static{this.\u0275fac=function(G){return new(G||B)(S.KVO(J),S.KVO(S.SKi))}}static{this.\u0275prov=S.jDH({token:B,factory:B.\u0275fac})}}return B})();class Le{constructor(H){this._doc=H}}const oe="ng-app-id";let ct=(()=>{class B{constructor($,G,he,$e={}){this.doc=$,this.appId=G,this.nonce=he,this.platformId=$e,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,ne.Vy)($e),this.resetHostNodes()}addStyles($){for(const G of $)1===this.changeUsageCount(G,1)&&this.onStyleAdded(G)}removeStyles($){for(const G of $)this.changeUsageCount(G,-1)<=0&&this.onStyleRemoved(G)}ngOnDestroy(){const $=this.styleNodesInDOM;$&&($.forEach(G=>G.remove()),$.clear());for(const G of this.getAllStyles())this.onStyleRemoved(G);this.resetHostNodes()}addHost($){this.hostNodes.add($);for(const G of this.getAllStyles())this.addStyleToHost($,G)}removeHost($){this.hostNodes.delete($)}getAllStyles(){return this.styleRef.keys()}onStyleAdded($){for(const G of this.hostNodes)this.addStyleToHost(G,$)}onStyleRemoved($){const G=this.styleRef;G.get($)?.elements?.forEach(he=>he.remove()),G.delete($)}collectServerRenderedStyles(){const $=this.doc.head?.querySelectorAll(`style[${oe}="${this.appId}"]`);if($?.length){const G=new Map;return $.forEach(he=>{null!=he.textContent&&G.set(he.textContent,he)}),G}return null}changeUsageCount($,G){const he=this.styleRef;if(he.has($)){const $e=he.get($);return $e.usage+=G,$e.usage}return he.set($,{usage:G,elements:[]}),G}getStyleElement($,G){const he=this.styleNodesInDOM,$e=he?.get(G);if($e?.parentNode===$)return he.delete(G),$e.removeAttribute(oe),$e;{const gt=this.doc.createElement("style");return this.nonce&&gt.setAttribute("nonce",this.nonce),gt.textContent=G,this.platformIsServer&&gt.setAttribute(oe,this.appId),gt}}addStyleToHost($,G){const he=this.getStyleElement($,G);$.appendChild(he);const $e=this.styleRef,gt=$e.get(G)?.elements;gt?gt.push(he):$e.set(G,{elements:[he],usage:1})}resetHostNodes(){const $=this.hostNodes;$.clear(),$.add(this.doc.head)}static{this.\u0275fac=function(G){return new(G||B)(S.KVO(ne.qQ),S.KVO(S.sZ2),S.KVO(S.BIS,8),S.KVO(S.Agw))}}static{this.\u0275prov=S.jDH({token:B,factory:B.\u0275fac})}}return B})();const We={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Bt=/%COMP%/g,tt=new S.nKC("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function Se(B,H){return H.map($=>$.replace(Bt,B))}let Qe=(()=>{class B{constructor($,G,he,$e,gt,Vt,Ht,dn=null){this.eventManager=$,this.sharedStylesHost=G,this.appId=he,this.removeStylesOnCompDestroy=$e,this.doc=gt,this.platformId=Vt,this.ngZone=Ht,this.nonce=dn,this.rendererByCompId=new Map,this.platformIsServer=(0,ne.Vy)(Vt),this.defaultRenderer=new Ge($,gt,Ht,this.platformIsServer)}createRenderer($,G){if(!$||!G)return this.defaultRenderer;this.platformIsServer&&G.encapsulation===S.gXe.ShadowDom&&(G={...G,encapsulation:S.gXe.Emulated});const he=this.getOrCreateRenderer($,G);return he instanceof rn?he.applyToHost($):he instanceof St&&he.applyStyles(),he}getOrCreateRenderer($,G){const he=this.rendererByCompId;let $e=he.get(G.id);if(!$e){const gt=this.doc,Vt=this.ngZone,Ht=this.eventManager,dn=this.sharedStylesHost,tn=this.removeStylesOnCompDestroy,hn=this.platformIsServer;switch(G.encapsulation){case S.gXe.Emulated:$e=new rn(Ht,dn,G,this.appId,tn,gt,Vt,hn);break;case S.gXe.ShadowDom:return new Ye(Ht,dn,$,G,gt,Vt,this.nonce,hn);default:$e=new St(Ht,dn,G,tn,gt,Vt,hn)}he.set(G.id,$e)}return $e}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(G){return new(G||B)(S.KVO(me),S.KVO(ct),S.KVO(S.sZ2),S.KVO(tt),S.KVO(ne.qQ),S.KVO(S.Agw),S.KVO(S.SKi),S.KVO(S.BIS))}}static{this.\u0275prov=S.jDH({token:B,factory:B.\u0275fac})}}return B})();class Ge{constructor(H,$,G,he){this.eventManager=H,this.doc=$,this.ngZone=G,this.platformIsServer=he,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(H,$){return $?this.doc.createElementNS(We[$]||$,H):this.doc.createElement(H)}createComment(H){return this.doc.createComment(H)}createText(H){return this.doc.createTextNode(H)}appendChild(H,$){(er(H)?H.content:H).appendChild($)}insertBefore(H,$,G){H&&(er(H)?H.content:H).insertBefore($,G)}removeChild(H,$){H&&H.removeChild($)}selectRootElement(H,$){let G="string"==typeof H?this.doc.querySelector(H):H;if(!G)throw new S.wOt(-5104,!1);return $||(G.textContent=""),G}parentNode(H){return H.parentNode}nextSibling(H){return H.nextSibling}setAttribute(H,$,G,he){if(he){$=he+":"+$;const $e=We[he];$e?H.setAttributeNS($e,$,G):H.setAttribute($,G)}else H.setAttribute($,G)}removeAttribute(H,$,G){if(G){const he=We[G];he?H.removeAttributeNS(he,$):H.removeAttribute(`${G}:${$}`)}else H.removeAttribute($)}addClass(H,$){H.classList.add($)}removeClass(H,$){H.classList.remove($)}setStyle(H,$,G,he){he&(S.czy.DashCase|S.czy.Important)?H.style.setProperty($,G,he&S.czy.Important?"important":""):H.style[$]=G}removeStyle(H,$,G){G&S.czy.DashCase?H.style.removeProperty($):H.style[$]=""}setProperty(H,$,G){H[$]=G}setValue(H,$){H.nodeValue=$}listen(H,$,G){if("string"==typeof H&&!(H=(0,ne.QT)().getGlobalEventTarget(this.doc,H)))throw new Error(`Unsupported event target ${H} for event ${$}`);return this.eventManager.addEventListener(H,$,this.decoratePreventDefault(G))}decoratePreventDefault(H){return $=>{if("__ngUnwrap__"===$)return H;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>H($)):H($))&&$.preventDefault()}}}function er(B){return"TEMPLATE"===B.tagName&&void 0!==B.content}class Ye extends Ge{constructor(H,$,G,he,$e,gt,Vt,Ht){super(H,$e,gt,Ht),this.sharedStylesHost=$,this.hostEl=G,this.shadowRoot=G.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const dn=Se(he.id,he.styles);for(const tn of dn){const hn=document.createElement("style");Vt&&hn.setAttribute("nonce",Vt),hn.textContent=tn,this.shadowRoot.appendChild(hn)}}nodeOrShadowRoot(H){return H===this.hostEl?this.shadowRoot:H}appendChild(H,$){return super.appendChild(this.nodeOrShadowRoot(H),$)}insertBefore(H,$,G){return super.insertBefore(this.nodeOrShadowRoot(H),$,G)}removeChild(H,$){return super.removeChild(this.nodeOrShadowRoot(H),$)}parentNode(H){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(H)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class St extends Ge{constructor(H,$,G,he,$e,gt,Vt,Ht){super(H,$e,gt,Vt),this.sharedStylesHost=$,this.removeStylesOnCompDestroy=he,this.styles=Ht?Se(Ht,G.styles):G.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class rn extends St{constructor(H,$,G,he,$e,gt,Vt,Ht){const dn=he+"-"+G.id;super(H,$,G,$e,gt,Vt,Ht,dn),this.contentAttr=function nt(B){return"_ngcontent-%COMP%".replace(Bt,B)}(dn),this.hostAttr=function st(B){return"_nghost-%COMP%".replace(Bt,B)}(dn)}applyToHost(H){this.applyStyles(),this.setAttribute(H,this.hostAttr,"")}createElement(H,$){const G=super.createElement(H,$);return super.setAttribute(G,this.contentAttr,""),G}}let gr=(()=>{class B extends Le{constructor($){super($)}supports($){return!0}addEventListener($,G,he){return $.addEventListener(G,he,!1),()=>this.removeEventListener($,G,he)}removeEventListener($,G,he){return $.removeEventListener(G,he)}static{this.\u0275fac=function(G){return new(G||B)(S.KVO(ne.qQ))}}static{this.\u0275prov=S.jDH({token:B,factory:B.\u0275fac})}}return B})();const si=["alt","control","meta","shift"],Xn={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},gn={alt:B=>B.altKey,control:B=>B.ctrlKey,meta:B=>B.metaKey,shift:B=>B.shiftKey};let Ee=(()=>{class B extends Le{constructor($){super($)}supports($){return null!=B.parseEventName($)}addEventListener($,G,he){const $e=B.parseEventName(G),gt=B.eventCallback($e.fullKey,he,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,ne.QT)().onAndCancel($,$e.domEventName,gt))}static parseEventName($){const G=$.toLowerCase().split("."),he=G.shift();if(0===G.length||"keydown"!==he&&"keyup"!==he)return null;const $e=B._normalizeKey(G.pop());let gt="",Vt=G.indexOf("code");if(Vt>-1&&(G.splice(Vt,1),gt="code."),si.forEach(dn=>{const tn=G.indexOf(dn);tn>-1&&(G.splice(tn,1),gt+=dn+".")}),gt+=$e,0!=G.length||0===$e.length)return null;const Ht={};return Ht.domEventName=he,Ht.fullKey=gt,Ht}static matchEventFullKeyCode($,G){let he=Xn[$.key]||$.key,$e="";return G.indexOf("code.")>-1&&(he=$.code,$e="code."),!(null==he||!he)&&(he=he.toLowerCase()," "===he?he="space":"."===he&&(he="dot"),si.forEach(gt=>{gt!==he&&(0,gn[gt])($)&&($e+=gt+".")}),$e+=he,$e===G)}static eventCallback($,G,he){return $e=>{B.matchEventFullKeyCode($e,$)&&he.runGuarded(()=>G($e))}}static _normalizeKey($){return"esc"===$?"escape":$}static{this.\u0275fac=function(G){return new(G||B)(S.KVO(ne.qQ))}}static{this.\u0275prov=S.jDH({token:B,factory:B.\u0275fac})}}return B})();const Ke=(0,S.oH4)(S.fpN,"browser",[{provide:S.Agw,useValue:ne.AJ},{provide:S.PLl,useValue:function je(){fe.makeCurrent()},multi:!0},{provide:ne.qQ,useFactory:function Lt(){return(0,S.TL$)(document),document},deps:[]}]),wn=new S.nKC(""),vn=[{provide:S.e01,useClass:class Re{addToWindow(H){S.JZv.getAngularTestability=(G,he=!0)=>{const $e=H.findTestabilityInTree(G,he);if(null==$e)throw new S.wOt(5103,!1);return $e},S.JZv.getAllAngularTestabilities=()=>H.getAllTestabilities(),S.JZv.getAllAngularRootElements=()=>H.getAllRootElements(),S.JZv.frameworkStabilizers||(S.JZv.frameworkStabilizers=[]),S.JZv.frameworkStabilizers.push(G=>{const he=S.JZv.getAllAngularTestabilities();let $e=he.length,gt=!1;const Vt=function(Ht){gt=gt||Ht,$e--,0==$e&&G(gt)};he.forEach(Ht=>{Ht.whenStable(Vt)})})}findTestabilityInTree(H,$,G){return null==$?null:H.getTestability($)??(G?(0,ne.QT)().isShadowRoot($)?this.findTestabilityInTree(H,$.host,!0):this.findTestabilityInTree(H,$.parentElement,!0):null)}},deps:[]},{provide:S.WHO,useClass:S.NYb,deps:[S.SKi,S.giA,S.e01]},{provide:S.NYb,useClass:S.NYb,deps:[S.SKi,S.giA,S.e01]}],lr=[{provide:S.H8p,useValue:"root"},{provide:S.zcH,useFactory:function ut(){return new S.zcH},deps:[]},{provide:J,useClass:gr,multi:!0,deps:[ne.qQ,S.SKi,S.Agw]},{provide:J,useClass:Ee,multi:!0,deps:[ne.qQ]},Qe,ct,me,{provide:S._9s,useExisting:Qe},{provide:ne.N0,useClass:te,deps:[]},[]];let bt=(()=>{class B{constructor($){}static withServerTransition($){return{ngModule:B,providers:[{provide:S.sZ2,useValue:$.appId}]}}static{this.\u0275fac=function(G){return new(G||B)(S.KVO(wn,12))}}static{this.\u0275mod=S.$C({type:B})}static{this.\u0275inj=S.G2t({providers:[...lr,...vn],imports:[ne.MD,S.Hbi]})}}return B})(),Ei=(()=>{class B{constructor($){this._doc=$}getTitle(){return this._doc.title}setTitle($){this._doc.title=$||""}static{this.\u0275fac=function(G){return new(G||B)(S.KVO(ne.qQ))}}static{this.\u0275prov=S.jDH({token:B,factory:function(G){let he=null;return he=G?new G:function kn(){return new Ei((0,S.KVO)(ne.qQ))}(),he},providedIn:"root"})}}return B})();typeof window<"u"&&window},7711:(Pt,ke,j)=>{j.d(ke,{Ix:()=>$n,Wk:()=>la,iI:()=>Cs,n3:()=>vi});var S=j(8699),ne=j(1985),se=j(8071),ue=j(8455),K=j(7673),Q=j(4412),Oe=j(3073),Re=j(3669),te=j(6450),J=j(9326),me=j(8496),Le=j(4360),oe=j(5225);function ct(...y){const T=(0,J.lI)(y),m=(0,J.ms)(y),{args:b,keys:R}=(0,Oe.D)(y);if(0===b.length)return(0,ue.H)([],T);const V=new ne.c(function We(y,T,m=Re.D){return b=>{Bt(T,()=>{const{length:R}=y,V=new Array(R);let Y=R,Ie=R;for(let ve=0;ve<R;ve++)Bt(T,()=>{const vt=(0,ue.H)(y[ve],T);let Xt=!1;vt.subscribe((0,Le._)(b,Hn=>{V[ve]=Hn,Xt||(Xt=!0,Ie--),Ie||b.next(m(V.slice()))},()=>{--Y||b.complete()}))},b)},b)}}(b,T,R?Y=>(0,me.e)(R,Y):Re.D));return m?V.pipe((0,te.I)(m)):V}function Bt(y,T,m){y?(0,oe.N)(m,y,T):T()}const Tn=(0,j(1853).L)(y=>function(){y(this),this.name="EmptyError",this.message="no elements in sequence"});var _t=j(8793),et=j(8750);function tt(y){return new ne.c(T=>{(0,et.Tg)(y()).subscribe(T)})}var nt=j(1203);function st(y,T){const m=(0,se.T)(y)?y:()=>y,b=R=>R.error(m());return new ne.c(T?R=>T.schedule(b,0,R):b)}var Se=j(983),Qe=j(8359),Ge=j(9974);function Tt(){return(0,Ge.N)((y,T)=>{let m=null;y._refCount++;const b=(0,Le._)(T,void 0,void 0,void 0,()=>{if(!y||y._refCount<=0||0<--y._refCount)return void(m=null);const R=y._connection,V=m;m=null,R&&(!V||R===V)&&R.unsubscribe(),T.unsubscribe()});y.subscribe(b),b.closed||(m=y.connect())})}class br extends ne.c{constructor(T,m){super(),this.source=T,this.subjectFactory=m,this._subject=null,this._refCount=0,this._connection=null,(0,Ge.S)(T)&&(this.lift=T.lift)}_subscribe(T){return this.getSubject().subscribe(T)}getSubject(){const T=this._subject;return(!T||T.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:T}=this;this._subject=this._connection=null,T?.unsubscribe()}connect(){let T=this._connection;if(!T){T=this._connection=new Qe.yU;const m=this.getSubject();T.add(this.source.subscribe((0,Le._)(m,void 0,()=>{this._teardown(),m.complete()},b=>{this._teardown(),m.error(b)},()=>this._teardown()))),T.closed&&(this._connection=null,T=Qe.yU.EMPTY)}return T}refCount(){return Tt()(this)}}var er=j(1413),Ye=j(177),St=j(6354),rn=j(5558);function gr(y){return y<=0?()=>Se.w:(0,Ge.N)((T,m)=>{let b=0;T.subscribe((0,Le._)(m,R=>{++b<=y&&(m.next(R),y<=b&&m.complete())}))})}var si=j(9172),Xn=j(5964),gn=j(1397);function Ee(y){return(0,Ge.N)((T,m)=>{let b=!1;T.subscribe((0,Le._)(m,R=>{b=!0,m.next(R)},()=>{b||m.next(y),m.complete()}))})}function Ae(y=be){return(0,Ge.N)((T,m)=>{let b=!1;T.subscribe((0,Le._)(m,R=>{b=!0,m.next(R)},()=>b?m.complete():m.error(y())))})}function be(){return new Tn}function xe(y,T){const m=arguments.length>=2;return b=>b.pipe(y?(0,Xn.p)((R,V)=>y(R,V,b)):Re.D,gr(1),m?Ee(T):Ae(()=>new Tn))}function ze(y,T){return(0,se.T)(T)?(0,gn.Z)(y,T,1):(0,gn.Z)(y,1)}var je=j(8141);function ut(y){return(0,Ge.N)((T,m)=>{let V,b=null,R=!1;b=T.subscribe((0,Le._)(m,void 0,void 0,Y=>{V=(0,et.Tg)(y(Y,ut(y)(T))),b?(b.unsubscribe(),b=null,V.subscribe(m)):R=!0})),R&&(b.unsubscribe(),b=null,V.subscribe(m))})}function Ke(y){return y<=0?()=>Se.w:(0,Ge.N)((T,m)=>{let b=[];T.subscribe((0,Le._)(m,R=>{b.push(R),y<b.length&&b.shift()},()=>{for(const R of b)m.next(R);m.complete()},void 0,()=>{b=null}))})}function lr(y){return(0,Ge.N)((T,m)=>{try{T.subscribe(m)}finally{m.add(y)}})}var bt=j(6977),Yn=j(6365),Sn=j(345);const kt="primary",kn=Symbol("RouteTitle");class Ei{constructor(T){this.params=T||{}}has(T){return Object.prototype.hasOwnProperty.call(this.params,T)}get(T){if(this.has(T)){const m=this.params[T];return Array.isArray(m)?m[0]:m}return null}getAll(T){if(this.has(T)){const m=this.params[T];return Array.isArray(m)?m:[m]}return[]}get keys(){return Object.keys(this.params)}}function Ar(y){return new Ei(y)}function mr(y,T,m){const b=m.path.split("/");if(b.length>y.length||"full"===m.pathMatch&&(T.hasChildren()||b.length<y.length))return null;const R={};for(let V=0;V<b.length;V++){const Y=b[V],Ie=y[V];if(Y.startsWith(":"))R[Y.substring(1)]=Ie;else if(Y!==Ie.path)return null}return{consumed:y.slice(0,b.length),posParams:R}}function jt(y,T){const m=y?Object.keys(y):void 0,b=T?Object.keys(T):void 0;if(!m||!b||m.length!=b.length)return!1;let R;for(let V=0;V<m.length;V++)if(R=m[V],!Zt(y[R],T[R]))return!1;return!0}function Zt(y,T){if(Array.isArray(y)&&Array.isArray(T)){if(y.length!==T.length)return!1;const m=[...y].sort(),b=[...T].sort();return m.every((R,V)=>b[V]===R)}return y===T}function Ir(y){return y.length>0?y[y.length-1]:null}function xt(y){return function fe(y){return!!y&&(y instanceof ne.c||(0,se.T)(y.lift)&&(0,se.T)(y.subscribe))}(y)?y:(0,S.jNT)(y)?(0,ue.H)(Promise.resolve(y)):(0,K.of)(y)}const Er={exact:function Nn(y,T,m){if(!Dr(y.segments,T.segments)||!Wt(y.segments,T.segments,m)||y.numberOfChildren!==T.numberOfChildren)return!1;for(const b in T.children)if(!y.children[b]||!Nn(y.children[b],T.children[b],m))return!1;return!0},subset:cn},wr={exact:function Ur(y,T){return jt(y,T)},subset:function On(y,T){return Object.keys(T).length<=Object.keys(y).length&&Object.keys(T).every(m=>Zt(y[m],T[m]))},ignored:()=>!0};function fn(y,T,m){return Er[m.paths](y.root,T.root,m.matrixParams)&&wr[m.queryParams](y.queryParams,T.queryParams)&&!("exact"===m.fragment&&y.fragment!==T.fragment)}function cn(y,T,m){return Ai(y,T,T.segments,m)}function Ai(y,T,m,b){if(y.segments.length>m.length){const R=y.segments.slice(0,m.length);return!(!Dr(R,m)||T.hasChildren()||!Wt(R,m,b))}if(y.segments.length===m.length){if(!Dr(y.segments,m)||!Wt(y.segments,m,b))return!1;for(const R in T.children)if(!y.children[R]||!cn(y.children[R],T.children[R],b))return!1;return!0}{const R=m.slice(0,y.segments.length),V=m.slice(y.segments.length);return!!(Dr(y.segments,R)&&Wt(y.segments,R,b)&&y.children[kt])&&Ai(y.children[kt],T,V,b)}}function Wt(y,T,m){return T.every((b,R)=>wr[m](y[R].parameters,b.parameters))}class ei{constructor(T=new Jt([],{}),m={},b=null){this.root=T,this.queryParams=m,this.fragment=b}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ar(this.queryParams)),this._queryParamMap}toString(){return Cn.serialize(this)}}class Jt{constructor(T,m){this.segments=T,this.children=m,this.parent=null,Object.values(m).forEach(b=>b.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return yr(this)}}class zr{constructor(T,m){this.path=T,this.parameters=m}get parameterMap(){return this._parameterMap||(this._parameterMap=Ar(this.parameters)),this._parameterMap}toString(){return gt(this)}}function Dr(y,T){return y.length===T.length&&y.every((m,b)=>m.path===T[b].path)}let ti=(()=>{class y{static{this.\u0275fac=function(b){return new(b||y)}}static{this.\u0275prov=S.jDH({token:y,factory:function(){return new Bn},providedIn:"root"})}}return y})();class Bn{parse(T){const m=new Ze(T);return new ei(m.parseRootSegment(),m.parseQueryParams(),m.parseFragment())}serialize(T){const m=`/${re(T.root,!0)}`,b=function Ht(y){const T=Object.keys(y).map(m=>{const b=y[m];return Array.isArray(b)?b.map(R=>`${H(m)}=${H(R)}`).join("&"):`${H(m)}=${H(b)}`}).filter(m=>!!m);return T.length?`?${T.join("&")}`:""}(T.queryParams);return`${m}${b}${"string"==typeof T.fragment?`#${function $(y){return encodeURI(y)}(T.fragment)}`:""}`}}const Cn=new Bn;function yr(y){return y.segments.map(T=>gt(T)).join("/")}function re(y,T){if(!y.hasChildren())return yr(y);if(T){const m=y.children[kt]?re(y.children[kt],!1):"",b=[];return Object.entries(y.children).forEach(([R,V])=>{R!==kt&&b.push(`${R}:${re(V,!1)}`)}),b.length>0?`${m}(${b.join("//")})`:m}{const m=function Vr(y,T){let m=[];return Object.entries(y.children).forEach(([b,R])=>{b===kt&&(m=m.concat(T(R,b)))}),Object.entries(y.children).forEach(([b,R])=>{b!==kt&&(m=m.concat(T(R,b)))}),m}(y,(b,R)=>R===kt?[re(y.children[kt],!1)]:[`${R}:${re(b,!1)}`]);return 1===Object.keys(y.children).length&&null!=y.children[kt]?`${yr(y)}/${m[0]}`:`${yr(y)}/(${m.join("//")})`}}function B(y){return encodeURIComponent(y).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function H(y){return B(y).replace(/%3B/gi,";")}function G(y){return B(y).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function he(y){return decodeURIComponent(y)}function $e(y){return he(y.replace(/\+/g,"%20"))}function gt(y){return`${G(y.path)}${function Vt(y){return Object.keys(y).map(T=>`;${G(T)}=${G(y[T])}`).join("")}(y.parameters)}`}const dn=/^[^\/()?;#]+/;function tn(y){const T=y.match(dn);return T?T[0]:""}const hn=/^[^\/()?;=#]+/,pn=/^[^=?&#]+/,Pe=/^[^&#]+/;class Ze{constructor(T){this.url=T,this.remaining=T}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Jt([],{}):new Jt([],this.parseChildren())}parseQueryParams(){const T={};if(this.consumeOptional("?"))do{this.parseQueryParam(T)}while(this.consumeOptional("&"));return T}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const T=[];for(this.peekStartsWith("(")||T.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),T.push(this.parseSegment());let m={};this.peekStartsWith("/(")&&(this.capture("/"),m=this.parseParens(!0));let b={};return this.peekStartsWith("(")&&(b=this.parseParens(!1)),(T.length>0||Object.keys(m).length>0)&&(b[kt]=new Jt(T,m)),b}parseSegment(){const T=tn(this.remaining);if(""===T&&this.peekStartsWith(";"))throw new S.wOt(4009,!1);return this.capture(T),new zr(he(T),this.parseMatrixParams())}parseMatrixParams(){const T={};for(;this.consumeOptional(";");)this.parseParam(T);return T}parseParam(T){const m=function fi(y){const T=y.match(hn);return T?T[0]:""}(this.remaining);if(!m)return;this.capture(m);let b="";if(this.consumeOptional("=")){const R=tn(this.remaining);R&&(b=R,this.capture(b))}T[he(m)]=he(b)}parseQueryParam(T){const m=function Vi(y){const T=y.match(pn);return T?T[0]:""}(this.remaining);if(!m)return;this.capture(m);let b="";if(this.consumeOptional("=")){const Y=function ye(y){const T=y.match(Pe);return T?T[0]:""}(this.remaining);Y&&(b=Y,this.capture(b))}const R=$e(m),V=$e(b);if(T.hasOwnProperty(R)){let Y=T[R];Array.isArray(Y)||(Y=[Y],T[R]=Y),Y.push(V)}else T[R]=V}parseParens(T){const m={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const b=tn(this.remaining),R=this.remaining[b.length];if("/"!==R&&")"!==R&&";"!==R)throw new S.wOt(4010,!1);let V;b.indexOf(":")>-1?(V=b.slice(0,b.indexOf(":")),this.capture(V),this.capture(":")):T&&(V=kt);const Y=this.parseChildren();m[V]=1===Object.keys(Y).length?Y[kt]:new Jt([],Y),this.consumeOptional("//")}return m}peekStartsWith(T){return this.remaining.startsWith(T)}consumeOptional(T){return!!this.peekStartsWith(T)&&(this.remaining=this.remaining.substring(T.length),!0)}capture(T){if(!this.consumeOptional(T))throw new S.wOt(4011,!1)}}function Rt(y){return y.segments.length>0?new Jt([],{[kt]:y}):y}function Kt(y){const T={};for(const b of Object.keys(y.children)){const V=Kt(y.children[b]);if(b===kt&&0===V.segments.length&&V.hasChildren())for(const[Y,Ie]of Object.entries(V.children))T[Y]=Ie;else(V.segments.length>0||V.hasChildren())&&(T[b]=V)}return function zt(y){if(1===y.numberOfChildren&&y.children[kt]){const T=y.children[kt];return new Jt(y.segments.concat(T.segments),T.children)}return y}(new Jt(y.segments,T))}function en(y){return y instanceof ei}function Ln(y){let T;const R=Rt(function m(V){const Y={};for(const ve of V.children){const vt=m(ve);Y[ve.outlet]=vt}const Ie=new Jt(V.url,Y);return V===y&&(T=Ie),Ie}(y.root));return T??R}function qt(y,T,m,b){let R=y;for(;R.parent;)R=R.parent;if(0===T.length)return ji(R,R,R,m,b);const V=function gs(y){if("string"==typeof y[0]&&1===y.length&&"/"===y[0])return new pi(!0,0,y);let T=0,m=!1;const b=y.reduce((R,V,Y)=>{if("object"==typeof V&&null!=V){if(V.outlets){const Ie={};return Object.entries(V.outlets).forEach(([ve,vt])=>{Ie[ve]="string"==typeof vt?vt.split("/"):vt}),[...R,{outlets:Ie}]}if(V.segmentPath)return[...R,V.segmentPath]}return"string"!=typeof V?[...R,V]:0===Y?(V.split("/").forEach((Ie,ve)=>{0==ve&&"."===Ie||(0==ve&&""===Ie?m=!0:".."===Ie?T++:""!=Ie&&R.push(Ie))}),R):[...R,V]},[]);return new pi(m,T,b)}(T);if(V.toRoot())return ji(R,R,new Jt([],{}),m,b);const Y=function Qs(y,T,m){if(y.isAbsolute)return new ms(T,!0,0);if(!m)return new ms(T,!1,NaN);if(null===m.parent)return new ms(m,!0,0);const b=Bi(y.commands[0])?0:1;return function Br(y,T,m){let b=y,R=T,V=m;for(;V>R;){if(V-=R,b=b.parent,!b)throw new S.wOt(4005,!1);R=b.segments.length}return new ms(b,!1,R-V)}(m,m.segments.length-1+b,y.numberOfDoubleDots)}(V,R,y),Ie=Y.processChildren?Xi(Y.segmentGroup,Y.index,V.commands):$i(Y.segmentGroup,Y.index,V.commands);return ji(R,Y.segmentGroup,Ie,m,b)}function Bi(y){return"object"==typeof y&&null!=y&&!y.outlets&&!y.segmentPath}function Mi(y){return"object"==typeof y&&null!=y&&y.outlets}function ji(y,T,m,b,R){let Y,V={};b&&Object.entries(b).forEach(([ve,vt])=>{V[ve]=Array.isArray(vt)?vt.map(Xt=>`${Xt}`):`${vt}`}),Y=y===T?m:rs(y,T,m);const Ie=Rt(Kt(Y));return new ei(Ie,V,R)}function rs(y,T,m){const b={};return Object.entries(y.children).forEach(([R,V])=>{b[R]=V===T?m:rs(V,T,m)}),new Jt(y.segments,b)}class pi{constructor(T,m,b){if(this.isAbsolute=T,this.numberOfDoubleDots=m,this.commands=b,T&&b.length>0&&Bi(b[0]))throw new S.wOt(4003,!1);const R=b.find(Mi);if(R&&R!==Ir(b))throw new S.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ms{constructor(T,m,b){this.segmentGroup=T,this.processChildren=m,this.index=b}}function $i(y,T,m){if(y||(y=new Jt([],{})),0===y.segments.length&&y.hasChildren())return Xi(y,T,m);const b=function ea(y,T,m){let b=0,R=T;const V={match:!1,pathIndex:0,commandIndex:0};for(;R<y.segments.length;){if(b>=m.length)return V;const Y=y.segments[R],Ie=m[b];if(Mi(Ie))break;const ve=`${Ie}`,vt=b<m.length-1?m[b+1]:null;if(R>0&&void 0===ve)break;if(ve&&vt&&"object"==typeof vt&&void 0===vt.outlets){if(!Ue(ve,vt,Y))return V;b+=2}else{if(!Ue(ve,{},Y))return V;b++}R++}return{match:!0,pathIndex:R,commandIndex:b}}(y,T,m),R=m.slice(b.commandIndex);if(b.match&&b.pathIndex<y.segments.length){const V=new Jt(y.segments.slice(0,b.pathIndex),{});return V.children[kt]=new Jt(y.segments.slice(b.pathIndex),y.children),Xi(V,0,R)}return b.match&&0===R.length?new Jt(y.segments,{}):b.match&&!y.hasChildren()?ae(y,T,m):b.match?Xi(y,0,R):ae(y,T,m)}function Xi(y,T,m){if(0===m.length)return new Jt(y.segments,{});{const b=function Ls(y){return Mi(y[0])?y[0].outlets:{[kt]:y}}(m),R={};if(Object.keys(b).some(V=>V!==kt)&&y.children[kt]&&1===y.numberOfChildren&&0===y.children[kt].segments.length){const V=Xi(y.children[kt],T,m);return new Jt(y.segments,V.children)}return Object.entries(b).forEach(([V,Y])=>{"string"==typeof Y&&(Y=[Y]),null!==Y&&(R[V]=$i(y.children[V],T,Y))}),Object.entries(y.children).forEach(([V,Y])=>{void 0===b[V]&&(R[V]=Y)}),new Jt(y.segments,R)}}function ae(y,T,m){const b=y.segments.slice(0,T);let R=0;for(;R<m.length;){const V=m[R];if(Mi(V)){const ve=le(V.outlets);return new Jt(b,ve)}if(0===R&&Bi(m[0])){b.push(new zr(y.segments[T].path,we(m[0]))),R++;continue}const Y=Mi(V)?V.outlets[kt]:`${V}`,Ie=R<m.length-1?m[R+1]:null;Y&&Ie&&Bi(Ie)?(b.push(new zr(Y,we(Ie))),R+=2):(b.push(new zr(Y,{})),R++)}return new Jt(b,{})}function le(y){const T={};return Object.entries(y).forEach(([m,b])=>{"string"==typeof b&&(b=[b]),null!==b&&(T[m]=ae(new Jt([],{}),0,b))}),T}function we(y){const T={};return Object.entries(y).forEach(([m,b])=>T[m]=`${b}`),T}function Ue(y,T,m){return y==m.path&&jt(T,m.parameters)}const rt="imperative";class Et{constructor(T,m){this.id=T,this.url=m}}class yn extends Et{constructor(T,m,b="imperative",R=null){super(T,m),this.type=0,this.navigationTrigger=b,this.restoredState=R}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class an extends Et{constructor(T,m,b){super(T,m),this.urlAfterRedirects=b,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class mn extends Et{constructor(T,m,b,R){super(T,m),this.reason=b,this.code=R,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class gi extends Et{constructor(T,m,b,R){super(T,m),this.reason=b,this.code=R,this.type=16}}class Gr extends Et{constructor(T,m,b,R){super(T,m),this.error=b,this.target=R,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class oi extends Et{constructor(T,m,b,R){super(T,m),this.urlAfterRedirects=b,this.state=R,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Wr extends Et{constructor(T,m,b,R){super(T,m),this.urlAfterRedirects=b,this.state=R,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Lo extends Et{constructor(T,m,b,R,V){super(T,m),this.urlAfterRedirects=b,this.state=R,this.shouldActivate=V,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Ba extends Et{constructor(T,m,b,R){super(T,m),this.urlAfterRedirects=b,this.state=R,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ta extends Et{constructor(T,m,b,R){super(T,m),this.urlAfterRedirects=b,this.state=R,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Do{constructor(T){this.route=T,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class wa{constructor(T){this.route=T,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class is{constructor(T){this.snapshot=T,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Da{constructor(T){this.snapshot=T,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class To{constructor(T){this.snapshot=T,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Fs{constructor(T){this.snapshot=T,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ss{constructor(T,m,b){this.routerEvent=T,this.position=m,this.anchor=b,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Xs{}class Ys{constructor(T){this.url=T}}class ai{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Nr,this.attachRef=null}}let Nr=(()=>{class y{constructor(){this.contexts=new Map}onChildOutletCreated(m,b){const R=this.getOrCreateContext(m);R.outlet=b,this.contexts.set(m,R)}onChildOutletDestroyed(m){const b=this.getContext(m);b&&(b.outlet=null,b.attachRef=null)}onOutletDeactivated(){const m=this.contexts;return this.contexts=new Map,m}onOutletReAttached(m){this.contexts=m}getOrCreateContext(m){let b=this.getContext(m);return b||(b=new ai,this.contexts.set(m,b)),b}getContext(m){return this.contexts.get(m)||null}static{this.\u0275fac=function(b){return new(b||y)}}static{this.\u0275prov=S.jDH({token:y,factory:y.\u0275fac,providedIn:"root"})}}return y})();class Co{constructor(T){this._root=T}get root(){return this._root.value}parent(T){const m=this.pathFromRoot(T);return m.length>1?m[m.length-2]:null}children(T){const m=tr(T,this._root);return m?m.children.map(b=>b.value):[]}firstChild(T){const m=tr(T,this._root);return m&&m.children.length>0?m.children[0].value:null}siblings(T){const m=Yi(T,this._root);return m.length<2?[]:m[m.length-2].children.map(R=>R.value).filter(R=>R!==T)}pathFromRoot(T){return Yi(T,this._root).map(m=>m.value)}}function tr(y,T){if(y===T.value)return T;for(const m of T.children){const b=tr(y,m);if(b)return b}return null}function Yi(y,T){if(y===T.value)return[T];for(const m of T.children){const b=Yi(y,m);if(b.length)return b.unshift(T),b}return[]}class wi{constructor(T,m){this.value=T,this.children=m}toString(){return`TreeNode(${this.value})`}}function mi(y){const T={};return y&&y.children.forEach(m=>T[m.value.outlet]=m),T}class os extends Co{constructor(T,m){super(T),this.snapshot=m,Or(this,T)}toString(){return this.snapshot.toString()}}function jn(y,T){const m=function Zn(y,T){const Y=new yi([],{},{},"",{},kt,T,null,{});return new Zs("",new wi(Y,[]))}(0,T),b=new Q.t([new zr("",{})]),R=new Q.t({}),V=new Q.t({}),Y=new Q.t({}),Ie=new Q.t(""),ve=new ht(b,R,Y,Ie,V,kt,T,m.root);return ve.snapshot=m.root,new os(new wi(ve,[]),m)}class ht{constructor(T,m,b,R,V,Y,Ie,ve){this.urlSubject=T,this.paramsSubject=m,this.queryParamsSubject=b,this.fragmentSubject=R,this.dataSubject=V,this.outlet=Y,this.component=Ie,this._futureSnapshot=ve,this.title=this.dataSubject?.pipe((0,St.T)(vt=>vt[kn]))??(0,K.of)(void 0),this.url=T,this.params=m,this.queryParams=b,this.fragment=R,this.data=V}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,St.T)(T=>Ar(T)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,St.T)(T=>Ar(T)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function nn(y,T="emptyOnly"){const m=y.pathFromRoot;let b=0;if("always"!==T)for(b=m.length-1;b>=1;){const R=m[b],V=m[b-1];if(R.routeConfig&&""===R.routeConfig.path)b--;else{if(V.component)break;b--}}return function nr(y){return y.reduce((T,m)=>({params:{...T.params,...m.params},data:{...T.data,...m.data},resolve:{...m.data,...T.resolve,...m.routeConfig?.data,...m._resolvedData}}),{params:{},data:{},resolve:{}})}(m.slice(b))}class yi{get title(){return this.data?.[kn]}constructor(T,m,b,R,V,Y,Ie,ve,vt){this.url=T,this.params=m,this.queryParams=b,this.fragment=R,this.data=V,this.outlet=Y,this.component=Ie,this.routeConfig=ve,this._resolve=vt}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ar(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ar(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(b=>b.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Zs extends Co{constructor(T,m){super(m),this.url=T,Or(this,m)}toString(){return Di(this._root)}}function Or(y,T){T.value._routerState=y,T.children.forEach(m=>Or(y,m))}function Di(y){const T=y.children.length>0?` { ${y.children.map(Di).join(", ")} } `:"";return`${y.value}${T}`}function Sr(y){if(y.snapshot){const T=y.snapshot,m=y._futureSnapshot;y.snapshot=m,jt(T.queryParams,m.queryParams)||y.queryParamsSubject.next(m.queryParams),T.fragment!==m.fragment&&y.fragmentSubject.next(m.fragment),jt(T.params,m.params)||y.paramsSubject.next(m.params),function Gn(y,T){if(y.length!==T.length)return!1;for(let m=0;m<y.length;++m)if(!jt(y[m],T[m]))return!1;return!0}(T.url,m.url)||y.urlSubject.next(m.url),jt(T.data,m.data)||y.dataSubject.next(m.data)}else y.snapshot=y._futureSnapshot,y.dataSubject.next(y._futureSnapshot.data)}function xi(y,T){const m=jt(y.params,T.params)&&function Si(y,T){return Dr(y,T)&&y.every((m,b)=>jt(m.parameters,T[b].parameters))}(y.url,T.url);return m&&!(!y.parent!=!T.parent)&&(!y.parent||xi(y.parent,T.parent))}let vi=(()=>{class y{constructor(){this.activated=null,this._activatedRoute=null,this.name=kt,this.activateEvents=new S.bkB,this.deactivateEvents=new S.bkB,this.attachEvents=new S.bkB,this.detachEvents=new S.bkB,this.parentContexts=(0,S.WQX)(Nr),this.location=(0,S.WQX)(S.c1b),this.changeDetector=(0,S.WQX)(S.gRc),this.environmentInjector=(0,S.WQX)(S.uvJ),this.inputBinder=(0,S.WQX)(Js,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(m){if(m.name){const{firstChange:b,previousValue:R}=m.name;if(b)return;this.isTrackedInParentContexts(R)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(R)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(m){return this.parentContexts.getContext(m)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const m=this.parentContexts.getContext(this.name);m?.route&&(m.attachRef?this.attach(m.attachRef,m.route):this.activateWith(m.route,m.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new S.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new S.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new S.wOt(4012,!1);this.location.detach();const m=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(m.instance),m}attach(m,b){this.activated=m,this._activatedRoute=b,this.location.insert(m.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(m.instance)}deactivate(){if(this.activated){const m=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(m)}}activateWith(m,b){if(this.isActivated)throw new S.wOt(4013,!1);this._activatedRoute=m;const R=this.location,Y=m.snapshot.component,Ie=this.parentContexts.getOrCreateContext(this.name).children,ve=new Qt(m,Ie,R.injector);this.activated=R.createComponent(Y,{index:R.length,injector:ve,environmentInjector:b??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(b){return new(b||y)}}static{this.\u0275dir=S.FsC({type:y,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[S.OA$]})}}return y})();class Qt{constructor(T,m,b){this.route=T,this.childContexts=m,this.parent=b}get(T,m){return T===ht?this.route:T===Nr?this.childContexts:this.parent.get(T,m)}}const Js=new S.nKC("");let na=(()=>{class y{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(m){this.unsubscribeFromRouteData(m),this.subscribeToRouteData(m)}unsubscribeFromRouteData(m){this.outletDataSubscriptions.get(m)?.unsubscribe(),this.outletDataSubscriptions.delete(m)}subscribeToRouteData(m){const{activatedRoute:b}=m,R=ct([b.queryParams,b.params,b.data]).pipe((0,rn.n)(([V,Y,Ie],ve)=>(Ie={...V,...Y,...Ie},0===ve?(0,K.of)(Ie):Promise.resolve(Ie)))).subscribe(V=>{if(!m.isActivated||!m.activatedComponentRef||m.activatedRoute!==b||null===b.component)return void this.unsubscribeFromRouteData(m);const Y=(0,S.HJs)(b.component);if(Y)for(const{templateName:Ie}of Y.inputs)m.activatedComponentRef.setInput(Ie,V[Ie]);else this.unsubscribeFromRouteData(m)});this.outletDataSubscriptions.set(m,R)}static{this.\u0275fac=function(b){return new(b||y)}}static{this.\u0275prov=S.jDH({token:y,factory:y.\u0275fac})}}return y})();function rr(y,T,m){if(m&&y.shouldReuseRoute(T.value,m.value.snapshot)){const b=m.value;b._futureSnapshot=T.value;const R=function Fo(y,T,m){return T.children.map(b=>{for(const R of m.children)if(y.shouldReuseRoute(b.value,R.value.snapshot))return rr(y,b,R);return rr(y,b)})}(y,T,m);return new wi(b,R)}{if(y.shouldAttach(T.value)){const V=y.retrieve(T.value);if(null!==V){const Y=V.route;return Y.value._futureSnapshot=T.value,Y.children=T.children.map(Ie=>rr(y,Ie)),Y}}const b=function ui(y){return new ht(new Q.t(y.url),new Q.t(y.params),new Q.t(y.queryParams),new Q.t(y.fragment),new Q.t(y.data),y.outlet,y.component,y)}(T.value),R=T.children.map(V=>rr(y,V));return new wi(b,R)}}const as="ngNavigationCancelingError";function Hi(y,T){const{redirectTo:m,navigationBehaviorOptions:b}=en(T)?{redirectTo:T,navigationBehaviorOptions:void 0}:T,R=Ta(!1,0,T);return R.url=m,R.navigationBehaviorOptions=b,R}function Ta(y,T,m){const b=new Error("NavigationCancelingError: "+(y||""));return b[as]=!0,b.cancellationCode=T,m&&(b.url=m),b}function us(y){return y&&y[as]}let eo=(()=>{class y{static{this.\u0275fac=function(b){return new(b||y)}}static{this.\u0275cmp=S.VBU({type:y,selectors:[["ng-component"]],standalone:!0,features:[S.aNF],decls:1,vars:0,template:function(b,R){1&b&&S.nrm(0,"router-outlet")},dependencies:[vi],encapsulation:2})}}return y})();function Mr(y){const T=y.children&&y.children.map(Mr),m=T?{...y,children:T}:{...y};return!m.component&&!m.loadComponent&&(T||m.loadChildren)&&m.outlet&&m.outlet!==kt&&(m.component=eo),m}function vr(y){return y.outlet||kt}function Pr(y){if(!y)return null;if(y.routeConfig?._injector)return y.routeConfig._injector;for(let T=y.parent;T;T=T.parent){const m=T.routeConfig;if(m?._loadedInjector)return m._loadedInjector;if(m?._injector)return m._injector}return null}class Uo{constructor(T,m,b,R,V){this.routeReuseStrategy=T,this.futureState=m,this.currState=b,this.forwardEvent=R,this.inputBindingEnabled=V}activate(T){const m=this.futureState._root,b=this.currState?this.currState._root:null;this.deactivateChildRoutes(m,b,T),Sr(this.futureState.root),this.activateChildRoutes(m,b,T)}deactivateChildRoutes(T,m,b){const R=mi(m);T.children.forEach(V=>{const Y=V.value.outlet;this.deactivateRoutes(V,R[Y],b),delete R[Y]}),Object.values(R).forEach(V=>{this.deactivateRouteAndItsChildren(V,b)})}deactivateRoutes(T,m,b){const R=T.value,V=m?m.value:null;if(R===V)if(R.component){const Y=b.getContext(R.outlet);Y&&this.deactivateChildRoutes(T,m,Y.children)}else this.deactivateChildRoutes(T,m,b);else V&&this.deactivateRouteAndItsChildren(m,b)}deactivateRouteAndItsChildren(T,m){T.value.component&&this.routeReuseStrategy.shouldDetach(T.value.snapshot)?this.detachAndStoreRouteSubtree(T,m):this.deactivateRouteAndOutlet(T,m)}detachAndStoreRouteSubtree(T,m){const b=m.getContext(T.value.outlet),R=b&&T.value.component?b.children:m,V=mi(T);for(const Y of Object.keys(V))this.deactivateRouteAndItsChildren(V[Y],R);if(b&&b.outlet){const Y=b.outlet.detach(),Ie=b.children.onOutletDeactivated();this.routeReuseStrategy.store(T.value.snapshot,{componentRef:Y,route:T,contexts:Ie})}}deactivateRouteAndOutlet(T,m){const b=m.getContext(T.value.outlet),R=b&&T.value.component?b.children:m,V=mi(T);for(const Y of Object.keys(V))this.deactivateRouteAndItsChildren(V[Y],R);b&&(b.outlet&&(b.outlet.deactivate(),b.children.onOutletDeactivated()),b.attachRef=null,b.route=null)}activateChildRoutes(T,m,b){const R=mi(m);T.children.forEach(V=>{this.activateRoutes(V,R[V.value.outlet],b),this.forwardEvent(new Fs(V.value.snapshot))}),T.children.length&&this.forwardEvent(new Da(T.value.snapshot))}activateRoutes(T,m,b){const R=T.value,V=m?m.value:null;if(Sr(R),R===V)if(R.component){const Y=b.getOrCreateContext(R.outlet);this.activateChildRoutes(T,m,Y.children)}else this.activateChildRoutes(T,m,b);else if(R.component){const Y=b.getOrCreateContext(R.outlet);if(this.routeReuseStrategy.shouldAttach(R.snapshot)){const Ie=this.routeReuseStrategy.retrieve(R.snapshot);this.routeReuseStrategy.store(R.snapshot,null),Y.children.onOutletReAttached(Ie.contexts),Y.attachRef=Ie.componentRef,Y.route=Ie.route.value,Y.outlet&&Y.outlet.attach(Ie.componentRef,Ie.route.value),Sr(Ie.route.value),this.activateChildRoutes(T,null,Y.children)}else{const Ie=Pr(R.snapshot);Y.attachRef=null,Y.route=R,Y.injector=Ie,Y.outlet&&Y.outlet.activateWith(R,Y.injector),this.activateChildRoutes(T,null,Y.children)}}else this.activateChildRoutes(T,null,b)}}class Ci{constructor(T){this.path=T,this.route=this.path[this.path.length-1]}}class _s{constructor(T,m){this.component=T,this.route=m}}function ia(y,T,m){const b=y._root;return no(b,T?T._root:null,m,[b.value])}function to(y,T){const m=Symbol(),b=T.get(y,m);return b===m?"function"!=typeof y||(0,S.LfX)(y)?T.get(y):y:b}function no(y,T,m,b,R={canDeactivateChecks:[],canActivateChecks:[]}){const V=mi(T);return y.children.forEach(Y=>{(function ir(y,T,m,b,R={canDeactivateChecks:[],canActivateChecks:[]}){const V=y.value,Y=T?T.value:null,Ie=m?m.getContext(y.value.outlet):null;if(Y&&V.routeConfig===Y.routeConfig){const ve=function Is(y,T,m){if("function"==typeof m)return m(y,T);switch(m){case"pathParamsChange":return!Dr(y.url,T.url);case"pathParamsOrQueryParamsChange":return!Dr(y.url,T.url)||!jt(y.queryParams,T.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!xi(y,T)||!jt(y.queryParams,T.queryParams);default:return!xi(y,T)}}(Y,V,V.routeConfig.runGuardsAndResolvers);ve?R.canActivateChecks.push(new Ci(b)):(V.data=Y.data,V._resolvedData=Y._resolvedData),no(y,T,V.component?Ie?Ie.children:null:m,b,R),ve&&Ie&&Ie.outlet&&Ie.outlet.isActivated&&R.canDeactivateChecks.push(new _s(Ie.outlet.component,Y))}else Y&&Ao(T,Ie,R),R.canActivateChecks.push(new Ci(b)),no(y,null,V.component?Ie?Ie.children:null:m,b,R)})(Y,V[Y.value.outlet],m,b.concat([Y.value]),R),delete V[Y.value.outlet]}),Object.entries(V).forEach(([Y,Ie])=>Ao(Ie,m.getContext(Y),R)),R}function Ao(y,T,m){const b=mi(y),R=y.value;Object.entries(b).forEach(([V,Y])=>{Ao(Y,R.component?T?T.children.getContext(V):null:T,m)}),m.canDeactivateChecks.push(new _s(R.component&&T&&T.outlet&&T.outlet.isActivated?T.outlet.component:null,R))}function Aa(y){return"function"==typeof y}function xo(y){return y instanceof Tn||"EmptyError"===y?.name}const ro=Symbol("INITIAL_VALUE");function _i(){return(0,rn.n)(y=>ct(y.map(T=>T.pipe(gr(1),(0,si.Z)(ro)))).pipe((0,St.T)(T=>{for(const m of T)if(!0!==m){if(m===ro)return ro;if(!1===m||m instanceof ei)return m}return!0}),(0,Xn.p)(T=>T!==ro),gr(1)))}function qr(y){return(0,nt.F)((0,je.M)(T=>{if(en(T))throw Hi(0,T)}),(0,St.T)(T=>!0===T))}class fo{constructor(T){this.segmentGroup=T||null}}class Qr{constructor(T){this.urlTree=T}}function so(y){return st(new fo(y))}function Xr(y){return st(new Qr(y))}class ws{constructor(T,m){this.urlSerializer=T,this.urlTree=m}noMatchError(T){return new S.wOt(4002,!1)}lineralizeSegments(T,m){let b=[],R=m.root;for(;;){if(b=b.concat(R.segments),0===R.numberOfChildren)return(0,K.of)(b);if(R.numberOfChildren>1||!R.children[kt])return st(new S.wOt(4e3,!1));R=R.children[kt]}}applyRedirectCommands(T,m,b){return this.applyRedirectCreateUrlTree(m,this.urlSerializer.parse(m),T,b)}applyRedirectCreateUrlTree(T,m,b,R){const V=this.createSegmentGroup(T,m.root,b,R);return new ei(V,this.createQueryParams(m.queryParams,this.urlTree.queryParams),m.fragment)}createQueryParams(T,m){const b={};return Object.entries(T).forEach(([R,V])=>{if("string"==typeof V&&V.startsWith(":")){const Ie=V.substring(1);b[R]=m[Ie]}else b[R]=V}),b}createSegmentGroup(T,m,b,R){const V=this.createSegments(T,m.segments,b,R);let Y={};return Object.entries(m.children).forEach(([Ie,ve])=>{Y[Ie]=this.createSegmentGroup(T,ve,b,R)}),new Jt(V,Y)}createSegments(T,m,b,R){return m.map(V=>V.path.startsWith(":")?this.findPosParam(T,V,R):this.findOrReturn(V,b))}findPosParam(T,m,b){const R=b[m.path.substring(1)];if(!R)throw new S.wOt(4001,!1);return R}findOrReturn(T,m){let b=0;for(const R of m){if(R.path===T.path)return m.splice(b),R;b++}return T}}const Ro={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function bi(y,T,m,b,R){const V=po(y,T,m);return V.matched?(b=function Ti(y,T){return y.providers&&!y._injector&&(y._injector=(0,S.Ol2)(y.providers,T,`Route: ${y.path}`)),y._injector??T}(T,b),function Sa(y,T,m,b){const R=T.canMatch;if(!R||0===R.length)return(0,K.of)(!0);const V=R.map(Y=>{const Ie=to(Y,y);return xt(function vu(y){return y&&Aa(y.canMatch)}(Ie)?Ie.canMatch(T,m):y.runInContext(()=>Ie(T,m)))});return(0,K.of)(V).pipe(_i(),qr())}(b,T,m).pipe((0,St.T)(Y=>!0===Y?V:{...Ro}))):(0,K.of)(V)}function po(y,T,m){if(""===T.path)return"full"===T.pathMatch&&(y.hasChildren()||m.length>0)?{...Ro}:{matched:!0,consumedSegments:[],remainingSegments:m,parameters:{},positionalParamSegments:{}};const R=(T.matcher||mr)(m,y,T);if(!R)return{...Ro};const V={};Object.entries(R.posParams??{}).forEach(([Ie,ve])=>{V[Ie]=ve.path});const Y=R.consumed.length>0?{...V,...R.consumed[R.consumed.length-1].parameters}:V;return{matched:!0,consumedSegments:R.consumed,remainingSegments:m.slice(R.consumed.length),parameters:Y,positionalParamSegments:R.posParams??{}}}function In(y,T,m,b){return m.length>0&&function js(y,T,m){return m.some(b=>Vo(y,T,b)&&vr(b)!==kt)}(y,m,b)?{segmentGroup:new Jt(T,Bs(b,new Jt(m,y.children))),slicedSegments:[]}:0===m.length&&function ua(y,T,m){return m.some(b=>Vo(y,T,b))}(y,m,b)?{segmentGroup:new Jt(y.segments,aa(y,0,m,b,y.children)),slicedSegments:m}:{segmentGroup:new Jt(y.segments,y.children),slicedSegments:m}}function aa(y,T,m,b,R){const V={};for(const Y of b)if(Vo(y,m,Y)&&!R[vr(Y)]){const Ie=new Jt([],{});V[vr(Y)]=Ie}return{...R,...V}}function Bs(y,T){const m={};m[kt]=T;for(const b of y)if(""===b.path&&vr(b)!==kt){const R=new Jt([],{});m[vr(b)]=R}return m}function Vo(y,T,m){return(!(y.hasChildren()||T.length>0)||"full"!==m.pathMatch)&&""===m.path}class go{constructor(T,m,b,R,V,Y,Ie){this.injector=T,this.configLoader=m,this.rootComponentType=b,this.config=R,this.urlTree=V,this.paramsInheritanceStrategy=Y,this.urlSerializer=Ie,this.allowRedirects=!0,this.applyRedirects=new ws(this.urlSerializer,this.urlTree)}noMatchError(T){return new S.wOt(4002,!1)}recognize(){const T=In(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,T,kt).pipe(ut(m=>{if(m instanceof Qr)return this.allowRedirects=!1,this.urlTree=m.urlTree,this.match(m.urlTree);throw m instanceof fo?this.noMatchError(m):m}),(0,St.T)(m=>{const b=new yi([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},kt,this.rootComponentType,null,{}),R=new wi(b,m),V=new Zs("",R),Y=function Kn(y,T,m=null,b=null){return qt(Ln(y),T,m,b)}(b,[],this.urlTree.queryParams,this.urlTree.fragment);return Y.queryParams=this.urlTree.queryParams,V.url=this.urlSerializer.serialize(Y),this.inheritParamsAndData(V._root),{state:V,tree:Y}}))}match(T){return this.processSegmentGroup(this.injector,this.config,T.root,kt).pipe(ut(b=>{throw b instanceof fo?this.noMatchError(b):b}))}inheritParamsAndData(T){const m=T.value,b=nn(m,this.paramsInheritanceStrategy);m.params=Object.freeze(b.params),m.data=Object.freeze(b.data),T.children.forEach(R=>this.inheritParamsAndData(R))}processSegmentGroup(T,m,b,R){return 0===b.segments.length&&b.hasChildren()?this.processChildren(T,m,b):this.processSegment(T,m,b,b.segments,R,!0)}processChildren(T,m,b){const R=[];for(const V of Object.keys(b.children))"primary"===V?R.unshift(V):R.push(V);return(0,ue.H)(R).pipe(ze(V=>{const Y=b.children[V],Ie=function jr(y,T){const m=y.filter(b=>vr(b)===T);return m.push(...y.filter(b=>vr(b)!==T)),m}(m,V);return this.processSegmentGroup(T,Ie,Y,V)}),function Yt(y,T){return(0,Ge.N)(function Lt(y,T,m,b,R){return(V,Y)=>{let Ie=m,ve=T,vt=0;V.subscribe((0,Le._)(Y,Xt=>{const Hn=vt++;ve=Ie?y(ve,Xt,Hn):(Ie=!0,Xt),b&&Y.next(ve)},R&&(()=>{Ie&&Y.next(ve),Y.complete()})))}}(y,T,arguments.length>=2,!0))}((V,Y)=>(V.push(...Y),V)),Ee(null),function wn(y,T){const m=arguments.length>=2;return b=>b.pipe(y?(0,Xn.p)((R,V)=>y(R,V,b)):Re.D,Ke(1),m?Ee(T):Ae(()=>new Tn))}(),(0,gn.Z)(V=>{if(null===V)return so(b);const Y=ao(V);return function Wi(y){y.sort((T,m)=>T.value.outlet===kt?-1:m.value.outlet===kt?1:T.value.outlet.localeCompare(m.value.outlet))}(Y),(0,K.of)(Y)}))}processSegment(T,m,b,R,V,Y){return(0,ue.H)(m).pipe(ze(Ie=>this.processSegmentAgainstRoute(Ie._injector??T,m,Ie,b,R,V,Y).pipe(ut(ve=>{if(ve instanceof fo)return(0,K.of)(null);throw ve}))),xe(Ie=>!!Ie),ut(Ie=>{if(xo(Ie))return function Iu(y,T,m){return 0===T.length&&!y.children[m]}(b,R,V)?(0,K.of)([]):so(b);throw Ie}))}processSegmentAgainstRoute(T,m,b,R,V,Y,Ie){return function oo(y,T,m,b){return!!(vr(y)===b||b!==kt&&Vo(T,m,y))&&("**"===y.path||po(T,y,m).matched)}(b,R,V,Y)?void 0===b.redirectTo?this.matchSegmentAgainstRoute(T,R,b,V,Y,Ie):Ie&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(T,R,m,b,V,Y):so(R):so(R)}expandSegmentAgainstRouteUsingRedirect(T,m,b,R,V,Y){return"**"===R.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(T,b,R,Y):this.expandRegularSegmentAgainstRouteUsingRedirect(T,m,b,R,V,Y)}expandWildCardWithParamsAgainstRouteUsingRedirect(T,m,b,R){const V=this.applyRedirects.applyRedirectCommands([],b.redirectTo,{});return b.redirectTo.startsWith("/")?Xr(V):this.applyRedirects.lineralizeSegments(b,V).pipe((0,gn.Z)(Y=>{const Ie=new Jt(Y,{});return this.processSegment(T,m,Ie,Y,R,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(T,m,b,R,V,Y){const{matched:Ie,consumedSegments:ve,remainingSegments:vt,positionalParamSegments:Xt}=po(m,R,V);if(!Ie)return so(m);const Hn=this.applyRedirects.applyRedirectCommands(ve,R.redirectTo,Xt);return R.redirectTo.startsWith("/")?Xr(Hn):this.applyRedirects.lineralizeSegments(R,Hn).pipe((0,gn.Z)(Pn=>this.processSegment(T,b,m,Pn.concat(vt),Y,!1)))}matchSegmentAgainstRoute(T,m,b,R,V,Y){let Ie;if("**"===b.path){const ve=R.length>0?Ir(R).parameters:{},vt=new yi(R,ve,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,F(b),vr(b),b.component??b._loadedComponent??null,b,M(b));Ie=(0,K.of)({snapshot:vt,consumedSegments:[],remainingSegments:[]}),m.children={}}else Ie=bi(m,b,R,T).pipe((0,St.T)(({matched:ve,consumedSegments:vt,remainingSegments:Xt,parameters:Hn})=>ve?{snapshot:new yi(vt,Hn,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,F(b),vr(b),b.component??b._loadedComponent??null,b,M(b)),consumedSegments:vt,remainingSegments:Xt}:null));return Ie.pipe((0,rn.n)(ve=>null===ve?so(m):this.getChildConfig(T=b._injector??T,b,R).pipe((0,rn.n)(({routes:vt})=>{const Xt=b._loadedInjector??T,{snapshot:Hn,consumedSegments:Pn,remainingSegments:Wn}=ve,{segmentGroup:Ji,slicedSegments:fr}=In(m,Pn,Wn,vt);if(0===fr.length&&Ji.hasChildren())return this.processChildren(Xt,vt,Ji).pipe((0,St.T)(vo=>null===vo?null:[new wi(Hn,vo)]));if(0===vt.length&&0===fr.length)return(0,K.of)([new wi(Hn,[])]);const As=vr(b)===V;return this.processSegment(Xt,vt,Ji,fr,As?kt:V,!0).pipe((0,St.T)(vo=>[new wi(Hn,vo)]))}))))}getChildConfig(T,m,b){return m.children?(0,K.of)({routes:m.children,injector:T}):m.loadChildren?void 0!==m._loadedRoutes?(0,K.of)({routes:m._loadedRoutes,injector:m._loadedInjector}):function Vs(y,T,m,b){const R=T.canLoad;if(void 0===R||0===R.length)return(0,K.of)(!0);const V=R.map(Y=>{const Ie=to(Y,y);return xt(function sa(y){return y&&Aa(y.canLoad)}(Ie)?Ie.canLoad(T,m):y.runInContext(()=>Ie(T,m)))});return(0,K.of)(V).pipe(_i(),qr())}(T,m,b).pipe((0,gn.Z)(R=>R?this.configLoader.loadChildren(T,m).pipe((0,je.M)(V=>{m._loadedRoutes=V.routes,m._loadedInjector=V.injector})):function oa(y){return st(Ta(!1,3))}())):(0,K.of)({routes:[],injector:T})}}function Tr(y){const T=y.value.routeConfig;return T&&""===T.path}function ao(y){const T=[],m=new Set;for(const b of y){if(!Tr(b)){T.push(b);continue}const R=T.find(V=>b.value.routeConfig===V.value.routeConfig);void 0!==R?(R.children.push(...b.children),m.add(R)):T.push(b)}for(const b of m){const R=ao(b.children);T.push(new wi(b.value,R))}return T.filter(b=>!m.has(b))}function F(y){return y.data||{}}function M(y){return y.resolve||{}}function Jn(y){return"string"==typeof y.title||null===y.title}function xn(y){return(0,rn.n)(T=>{const m=y(T);return m?(0,ue.H)(m).pipe((0,St.T)(()=>T)):(0,K.of)(T)})}const sn=new S.nKC("ROUTES");let dr=(()=>{class y{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,S.WQX)(S.Ql9)}loadComponent(m){if(this.componentLoaders.get(m))return this.componentLoaders.get(m);if(m._loadedComponent)return(0,K.of)(m._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(m);const b=xt(m.loadComponent()).pipe((0,St.T)(ni),(0,je.M)(V=>{this.onLoadEndListener&&this.onLoadEndListener(m),m._loadedComponent=V}),lr(()=>{this.componentLoaders.delete(m)})),R=new br(b,()=>new er.B).pipe(Tt());return this.componentLoaders.set(m,R),R}loadChildren(m,b){if(this.childrenLoaders.get(b))return this.childrenLoaders.get(b);if(b._loadedRoutes)return(0,K.of)({routes:b._loadedRoutes,injector:b._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(b);const V=function sr(y,T,m,b){return xt(y.loadChildren()).pipe((0,St.T)(ni),(0,gn.Z)(R=>R instanceof S.Co$||Array.isArray(R)?(0,K.of)(R):(0,ue.H)(T.compileModuleAsync(R))),(0,St.T)(R=>{b&&b(y);let V,Y,Ie=!1;return Array.isArray(R)?(Y=R,!0):(V=R.create(m).injector,Y=V.get(sn,[],{optional:!0,self:!0}).flat()),{routes:Y.map(Mr),injector:V}}))}(b,this.compiler,m,this.onLoadEndListener).pipe(lr(()=>{this.childrenLoaders.delete(b)})),Y=new br(V,()=>new er.B).pipe(Tt());return this.childrenLoaders.set(b,Y),Y}static{this.\u0275fac=function(b){return new(b||y)}}static{this.\u0275prov=S.jDH({token:y,factory:y.\u0275fac,providedIn:"root"})}}return y})();function ni(y){return function ci(y){return y&&"object"==typeof y&&"default"in y}(y)?y.default:y}let Oi=(()=>{class y{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new er.B,this.transitionAbortSubject=new er.B,this.configLoader=(0,S.WQX)(dr),this.environmentInjector=(0,S.WQX)(S.uvJ),this.urlSerializer=(0,S.WQX)(ti),this.rootContexts=(0,S.WQX)(Nr),this.inputBindingEnabled=null!==(0,S.WQX)(Js,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,K.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=R=>this.events.next(new wa(R)),this.configLoader.onLoadStartListener=R=>this.events.next(new Do(R))}complete(){this.transitions?.complete()}handleNavigationRequest(m){const b=++this.navigationId;this.transitions?.next({...this.transitions.value,...m,id:b})}setupNavigations(m,b,R){return this.transitions=new Q.t({id:0,currentUrlTree:b,currentRawUrl:b,currentBrowserUrl:b,extractedUrl:m.urlHandlingStrategy.extract(b),urlAfterRedirects:m.urlHandlingStrategy.extract(b),rawUrl:b,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:rt,restoredState:null,currentSnapshot:R.snapshot,targetSnapshot:null,currentRouterState:R,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,Xn.p)(V=>0!==V.id),(0,St.T)(V=>({...V,extractedUrl:m.urlHandlingStrategy.extract(V.rawUrl)})),(0,rn.n)(V=>{this.currentTransition=V;let Y=!1,Ie=!1;return(0,K.of)(V).pipe((0,je.M)(ve=>{this.currentNavigation={id:ve.id,initialUrl:ve.rawUrl,extractedUrl:ve.extractedUrl,trigger:ve.source,extras:ve.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,rn.n)(ve=>{const vt=ve.currentBrowserUrl.toString(),Xt=!m.navigated||ve.extractedUrl.toString()!==vt||vt!==ve.currentUrlTree.toString();if(!Xt&&"reload"!==(ve.extras.onSameUrlNavigation??m.onSameUrlNavigation)){const Pn="";return this.events.next(new gi(ve.id,this.urlSerializer.serialize(ve.rawUrl),Pn,0)),ve.resolve(null),Se.w}if(m.urlHandlingStrategy.shouldProcessUrl(ve.rawUrl))return(0,K.of)(ve).pipe((0,rn.n)(Pn=>{const Wn=this.transitions?.getValue();return this.events.next(new yn(Pn.id,this.urlSerializer.serialize(Pn.extractedUrl),Pn.source,Pn.restoredState)),Wn!==this.transitions?.getValue()?Se.w:Promise.resolve(Pn)}),function k(y,T,m,b,R,V){return(0,gn.Z)(Y=>function Bo(y,T,m,b,R,V,Y="emptyOnly"){return new go(y,T,m,b,R,Y,V).recognize()}(y,T,m,b,Y.extractedUrl,R,V).pipe((0,St.T)(({state:Ie,tree:ve})=>({...Y,targetSnapshot:Ie,urlAfterRedirects:ve}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,m.config,this.urlSerializer,m.paramsInheritanceStrategy),(0,je.M)(Pn=>{V.targetSnapshot=Pn.targetSnapshot,V.urlAfterRedirects=Pn.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:Pn.urlAfterRedirects};const Wn=new oi(Pn.id,this.urlSerializer.serialize(Pn.extractedUrl),this.urlSerializer.serialize(Pn.urlAfterRedirects),Pn.targetSnapshot);this.events.next(Wn)}));if(Xt&&m.urlHandlingStrategy.shouldProcessUrl(ve.currentRawUrl)){const{id:Pn,extractedUrl:Wn,source:Ji,restoredState:fr,extras:As}=ve,vo=new yn(Pn,this.urlSerializer.serialize(Wn),Ji,fr);this.events.next(vo);const ec=jn(0,this.rootComponentType).snapshot;return this.currentTransition=V={...ve,targetSnapshot:ec,urlAfterRedirects:Wn,extras:{...As,skipLocationChange:!1,replaceUrl:!1}},(0,K.of)(V)}{const Pn="";return this.events.next(new gi(ve.id,this.urlSerializer.serialize(ve.extractedUrl),Pn,1)),ve.resolve(null),Se.w}}),(0,je.M)(ve=>{const vt=new Wr(ve.id,this.urlSerializer.serialize(ve.extractedUrl),this.urlSerializer.serialize(ve.urlAfterRedirects),ve.targetSnapshot);this.events.next(vt)}),(0,St.T)(ve=>(this.currentTransition=V={...ve,guards:ia(ve.targetSnapshot,ve.currentSnapshot,this.rootContexts)},V)),function za(y,T){return(0,gn.Z)(m=>{const{targetSnapshot:b,currentSnapshot:R,guards:{canActivateChecks:V,canDeactivateChecks:Y}}=m;return 0===Y.length&&0===V.length?(0,K.of)({...m,guardsResult:!0}):function Gi(y,T,m,b){return(0,ue.H)(y).pipe((0,gn.Z)(R=>function kr(y,T,m,b,R){const V=T&&T.routeConfig?T.routeConfig.canDeactivate:null;if(!V||0===V.length)return(0,K.of)(!0);const Y=V.map(Ie=>{const ve=Pr(T)??R,vt=to(Ie,ve);return xt(function So(y){return y&&Aa(y.canDeactivate)}(vt)?vt.canDeactivate(y,T,m,b):ve.runInContext(()=>vt(y,T,m,b))).pipe(xe())});return(0,K.of)(Y).pipe(_i())}(R.component,R.route,m,T,b)),xe(R=>!0!==R,!0))}(Y,b,R,y).pipe((0,gn.Z)(Ie=>Ie&&function $a(y){return"boolean"==typeof y}(Ie)?function Ga(y,T,m,b){return(0,ue.H)(T).pipe(ze(R=>(0,_t.x)(function Es(y,T){return null!==y&&T&&T(new is(y)),(0,K.of)(!0)}(R.route.parent,b),function Zi(y,T){return null!==y&&T&&T(new To(y)),(0,K.of)(!0)}(R.route,b),function Wa(y,T,m){const b=T[T.length-1],V=T.slice(0,T.length-1).reverse().map(Y=>function ba(y){const T=y.routeConfig?y.routeConfig.canActivateChild:null;return T&&0!==T.length?{node:y,guards:T}:null}(Y)).filter(Y=>null!==Y).map(Y=>tt(()=>{const Ie=Y.guards.map(ve=>{const vt=Pr(Y.node)??m,Xt=to(ve,vt);return xt(function Ku(y){return y&&Aa(y.canActivateChild)}(Xt)?Xt.canActivateChild(b,y):vt.runInContext(()=>Xt(b,y))).pipe(xe())});return(0,K.of)(Ie).pipe(_i())}));return(0,K.of)(V).pipe(_i())}(y,R.path,m),function io(y,T,m){const b=T.routeConfig?T.routeConfig.canActivate:null;if(!b||0===b.length)return(0,K.of)(!0);const R=b.map(V=>tt(()=>{const Y=Pr(T)??m,Ie=to(V,Y);return xt(function zi(y){return y&&Aa(y.canActivate)}(Ie)?Ie.canActivate(T,y):Y.runInContext(()=>Ie(T,y))).pipe(xe())}));return(0,K.of)(R).pipe(_i())}(y,R.route,m))),xe(R=>!0!==R,!0))}(b,V,y,T):(0,K.of)(Ie)),(0,St.T)(Ie=>({...m,guardsResult:Ie})))})}(this.environmentInjector,ve=>this.events.next(ve)),(0,je.M)(ve=>{if(V.guardsResult=ve.guardsResult,en(ve.guardsResult))throw Hi(0,ve.guardsResult);const vt=new Lo(ve.id,this.urlSerializer.serialize(ve.extractedUrl),this.urlSerializer.serialize(ve.urlAfterRedirects),ve.targetSnapshot,!!ve.guardsResult);this.events.next(vt)}),(0,Xn.p)(ve=>!!ve.guardsResult||(this.cancelNavigationTransition(ve,"",3),!1)),xn(ve=>{if(ve.guards.canActivateChecks.length)return(0,K.of)(ve).pipe((0,je.M)(vt=>{const Xt=new Ba(vt.id,this.urlSerializer.serialize(vt.extractedUrl),this.urlSerializer.serialize(vt.urlAfterRedirects),vt.targetSnapshot);this.events.next(Xt)}),(0,rn.n)(vt=>{let Xt=!1;return(0,K.of)(vt).pipe(function Z(y,T){return(0,gn.Z)(m=>{const{targetSnapshot:b,guards:{canActivateChecks:R}}=m;if(!R.length)return(0,K.of)(m);let V=0;return(0,ue.H)(R).pipe(ze(Y=>function Me(y,T,m,b){const R=y.routeConfig,V=y._resolve;return void 0!==R?.title&&!Jn(R)&&(V[kn]=R.title),function Be(y,T,m,b){const R=function Nt(y){return[...Object.keys(y),...Object.getOwnPropertySymbols(y)]}(y);if(0===R.length)return(0,K.of)({});const V={};return(0,ue.H)(R).pipe((0,gn.Z)(Y=>function qn(y,T,m,b){const R=Pr(T)??b,V=to(y,R);return xt(V.resolve?V.resolve(T,m):R.runInContext(()=>V(T,m)))}(y[Y],T,m,b).pipe(xe(),(0,je.M)(Ie=>{V[Y]=Ie}))),Ke(1),function vn(y){return(0,St.T)(()=>y)}(V),ut(Y=>xo(Y)?Se.w:st(Y)))}(V,y,T,b).pipe((0,St.T)(Y=>(y._resolvedData=Y,y.data=nn(y,m).resolve,R&&Jn(R)&&(y.data[kn]=R.title),null)))}(Y.route,b,y,T)),(0,je.M)(()=>V++),Ke(1),(0,gn.Z)(Y=>V===R.length?(0,K.of)(m):Se.w))})}(m.paramsInheritanceStrategy,this.environmentInjector),(0,je.M)({next:()=>Xt=!0,complete:()=>{Xt||this.cancelNavigationTransition(vt,"",2)}}))}),(0,je.M)(vt=>{const Xt=new ta(vt.id,this.urlSerializer.serialize(vt.extractedUrl),this.urlSerializer.serialize(vt.urlAfterRedirects),vt.targetSnapshot);this.events.next(Xt)}))}),xn(ve=>{const vt=Xt=>{const Hn=[];Xt.routeConfig?.loadComponent&&!Xt.routeConfig._loadedComponent&&Hn.push(this.configLoader.loadComponent(Xt.routeConfig).pipe((0,je.M)(Pn=>{Xt.component=Pn}),(0,St.T)(()=>{})));for(const Pn of Xt.children)Hn.push(...vt(Pn));return Hn};return ct(vt(ve.targetSnapshot.root)).pipe(Ee(),gr(1))}),xn(()=>this.afterPreactivation()),(0,St.T)(ve=>{const vt=function Ri(y,T,m){const b=rr(y,T._root,m?m._root:void 0);return new os(b,T)}(m.routeReuseStrategy,ve.targetSnapshot,ve.currentRouterState);return this.currentTransition=V={...ve,targetRouterState:vt},V}),(0,je.M)(()=>{this.events.next(new Xs)}),((y,T,m,b)=>(0,St.T)(R=>(new Uo(T,R.targetRouterState,R.currentRouterState,m,b).activate(y),R)))(this.rootContexts,m.routeReuseStrategy,ve=>this.events.next(ve),this.inputBindingEnabled),gr(1),(0,je.M)({next:ve=>{Y=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new an(ve.id,this.urlSerializer.serialize(ve.extractedUrl),this.urlSerializer.serialize(ve.urlAfterRedirects))),m.titleStrategy?.updateTitle(ve.targetRouterState.snapshot),ve.resolve(!0)},complete:()=>{Y=!0}}),(0,bt.Q)(this.transitionAbortSubject.pipe((0,je.M)(ve=>{throw ve}))),lr(()=>{Y||Ie||this.cancelNavigationTransition(V,"",1),this.currentNavigation?.id===V.id&&(this.currentNavigation=null)}),ut(ve=>{if(Ie=!0,us(ve))this.events.next(new mn(V.id,this.urlSerializer.serialize(V.extractedUrl),ve.message,ve.cancellationCode)),function Us(y){return us(y)&&en(y.url)}(ve)?this.events.next(new Ys(ve.url)):V.resolve(!1);else{this.events.next(new Gr(V.id,this.urlSerializer.serialize(V.extractedUrl),ve,V.targetSnapshot??void 0));try{V.resolve(m.errorHandler(ve))}catch(vt){V.reject(vt)}}return Se.w}))}))}cancelNavigationTransition(m,b,R){const V=new mn(m.id,this.urlSerializer.serialize(m.extractedUrl),b,R);this.events.next(V),m.resolve(!1)}static{this.\u0275fac=function(b){return new(b||y)}}static{this.\u0275prov=S.jDH({token:y,factory:y.\u0275fac,providedIn:"root"})}}return y})();function Qn(y){return y!==rt}let Cr=(()=>{class y{buildTitle(m){let b,R=m.root;for(;void 0!==R;)b=this.getResolvedTitleForRoute(R)??b,R=R.children.find(V=>V.outlet===kt);return b}getResolvedTitleForRoute(m){return m.data[kn]}static{this.\u0275fac=function(b){return new(b||y)}}static{this.\u0275prov=S.jDH({token:y,factory:function(){return(0,S.WQX)(Yr)},providedIn:"root"})}}return y})(),Yr=(()=>{class y extends Cr{constructor(m){super(),this.title=m}updateTitle(m){const b=this.buildTitle(m);void 0!==b&&this.title.setTitle(b)}static{this.\u0275fac=function(b){return new(b||y)(S.KVO(Sn.hE))}}static{this.\u0275prov=S.jDH({token:y,factory:y.\u0275fac,providedIn:"root"})}}return y})(),$s=(()=>{class y{static{this.\u0275fac=function(b){return new(b||y)}}static{this.\u0275prov=S.jDH({token:y,factory:function(){return(0,S.WQX)(Je)},providedIn:"root"})}}return y})();class jo{shouldDetach(T){return!1}store(T,m){}shouldAttach(T){return!1}retrieve(T){return null}shouldReuseRoute(T,m){return T.routeConfig===m.routeConfig}}let Je=(()=>{class y extends jo{static{this.\u0275fac=function(){let m;return function(R){return(m||(m=S.xGo(y)))(R||y)}}()}static{this.\u0275prov=S.jDH({token:y,factory:y.\u0275fac,providedIn:"root"})}}return y})();const xr=new S.nKC("",{providedIn:"root",factory:()=>({})});let Zr=(()=>{class y{static{this.\u0275fac=function(b){return new(b||y)}}static{this.\u0275prov=S.jDH({token:y,factory:function(){return(0,S.WQX)(Ka)},providedIn:"root"})}}return y})(),Ka=(()=>{class y{shouldProcessUrl(m){return!0}extract(m){return m}merge(m,b){return m}static{this.\u0275fac=function(b){return new(b||y)}}static{this.\u0275prov=S.jDH({token:y,factory:y.\u0275fac,providedIn:"root"})}}return y})();var It=function(y){return y[y.COMPLETE=0]="COMPLETE",y[y.FAILED=1]="FAILED",y[y.REDIRECTING=2]="REDIRECTING",y}(It||{});function dt(y,T){y.events.pipe((0,Xn.p)(m=>m instanceof an||m instanceof mn||m instanceof Gr||m instanceof gi),(0,St.T)(m=>m instanceof an||m instanceof gi?It.COMPLETE:m instanceof mn&&(0===m.code||1===m.code)?It.REDIRECTING:It.FAILED),(0,Xn.p)(m=>m!==It.REDIRECTING),gr(1)).subscribe(()=>{T()})}function qu(y){throw y}function mt(y,T,m){return T.parse("/")}const Te={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},qe={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let $n=(()=>{class y{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,S.WQX)(S.H3F),this.isNgZoneEnabled=!1,this._events=new er.B,this.options=(0,S.WQX)(xr,{optional:!0})||{},this.pendingTasks=(0,S.WQX)(S.$K3),this.errorHandler=this.options.errorHandler||qu,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||mt,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,S.WQX)(Zr),this.routeReuseStrategy=(0,S.WQX)($s),this.titleStrategy=(0,S.WQX)(Cr),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,S.WQX)(sn,{optional:!0})?.flat()??[],this.navigationTransitions=(0,S.WQX)(Oi),this.urlSerializer=(0,S.WQX)(ti),this.location=(0,S.WQX)(Ye.aZ),this.componentInputBindingEnabled=!!(0,S.WQX)(Js,{optional:!0}),this.eventsSubscription=new Qe.yU,this.isNgZoneEnabled=(0,S.WQX)(S.SKi)instanceof S.SKi&&S.SKi.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new ei,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=jn(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(m=>{this.lastSuccessfulId=m.id,this.currentPageId=this.browserPageId},m=>{this.console.warn(`Unhandled Navigation Error: ${m}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const m=this.navigationTransitions.events.subscribe(b=>{try{const{currentTransition:R}=this.navigationTransitions;if(null===R)return void(Ds(b)&&this._events.next(b));if(b instanceof yn)Qn(R.source)&&(this.browserUrlTree=R.extractedUrl);else if(b instanceof gi)this.rawUrlTree=R.rawUrl;else if(b instanceof oi){if("eager"===this.urlUpdateStrategy){if(!R.extras.skipLocationChange){const V=this.urlHandlingStrategy.merge(R.urlAfterRedirects,R.rawUrl);this.setBrowserUrl(V,R)}this.browserUrlTree=R.urlAfterRedirects}}else if(b instanceof Xs)this.currentUrlTree=R.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(R.urlAfterRedirects,R.rawUrl),this.routerState=R.targetRouterState,"deferred"===this.urlUpdateStrategy&&(R.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,R),this.browserUrlTree=R.urlAfterRedirects);else if(b instanceof mn)0!==b.code&&1!==b.code&&(this.navigated=!0),(3===b.code||2===b.code)&&this.restoreHistory(R);else if(b instanceof Ys){const V=this.urlHandlingStrategy.merge(b.url,R.currentRawUrl),Y={skipLocationChange:R.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Qn(R.source)};this.scheduleNavigation(V,rt,null,Y,{resolve:R.resolve,reject:R.reject,promise:R.promise})}b instanceof Gr&&this.restoreHistory(R,!0),b instanceof an&&(this.navigated=!0),Ds(b)&&this._events.next(b)}catch(R){this.navigationTransitions.transitionAbortSubject.next(R)}});this.eventsSubscription.add(m)}resetRootComponentType(m){this.routerState.root.component=m,this.navigationTransitions.rootComponentType=m}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const m=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),rt,m)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(m=>{const b="popstate"===m.type?"popstate":"hashchange";"popstate"===b&&setTimeout(()=>{this.navigateToSyncWithBrowser(m.url,b,m.state)},0)}))}navigateToSyncWithBrowser(m,b,R){const V={replaceUrl:!0},Y=R?.navigationId?R:null;if(R){const ve={...R};delete ve.navigationId,delete ve.\u0275routerPageId,0!==Object.keys(ve).length&&(V.state=ve)}const Ie=this.parseUrl(m);this.scheduleNavigation(Ie,b,Y,V)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(m){this.config=m.map(Mr),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(m,b={}){const{relativeTo:R,queryParams:V,fragment:Y,queryParamsHandling:Ie,preserveFragment:ve}=b,vt=ve?this.currentUrlTree.fragment:Y;let Hn,Xt=null;switch(Ie){case"merge":Xt={...this.currentUrlTree.queryParams,...V};break;case"preserve":Xt=this.currentUrlTree.queryParams;break;default:Xt=V||null}null!==Xt&&(Xt=this.removeEmptyProps(Xt));try{Hn=Ln(R?R.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof m[0]||!m[0].startsWith("/"))&&(m=[]),Hn=this.currentUrlTree.root}return qt(Hn,m,Xt,vt??null)}navigateByUrl(m,b={skipLocationChange:!1}){const R=en(m)?m:this.parseUrl(m),V=this.urlHandlingStrategy.merge(R,this.rawUrlTree);return this.scheduleNavigation(V,rt,null,b)}navigate(m,b={skipLocationChange:!1}){return function ca(y){for(let T=0;T<y.length;T++)if(null==y[T])throw new S.wOt(4008,!1)}(m),this.navigateByUrl(this.createUrlTree(m,b),b)}serializeUrl(m){return this.urlSerializer.serialize(m)}parseUrl(m){let b;try{b=this.urlSerializer.parse(m)}catch(R){b=this.malformedUriErrorHandler(R,this.urlSerializer,m)}return b}isActive(m,b){let R;if(R=!0===b?{...Te}:!1===b?{...qe}:b,en(m))return fn(this.currentUrlTree,m,R);const V=this.parseUrl(m);return fn(this.currentUrlTree,V,R)}removeEmptyProps(m){return Object.keys(m).reduce((b,R)=>{const V=m[R];return null!=V&&(b[R]=V),b},{})}scheduleNavigation(m,b,R,V,Y){if(this.disposed)return Promise.resolve(!1);let Ie,ve,vt;Y?(Ie=Y.resolve,ve=Y.reject,vt=Y.promise):vt=new Promise((Hn,Pn)=>{Ie=Hn,ve=Pn});const Xt=this.pendingTasks.add();return dt(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(Xt))}),this.navigationTransitions.handleNavigationRequest({source:b,restoredState:R,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:m,extras:V,resolve:Ie,reject:ve,promise:vt,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),vt.catch(Hn=>Promise.reject(Hn))}setBrowserUrl(m,b){const R=this.urlSerializer.serialize(m);if(this.location.isCurrentPathEqualTo(R)||b.extras.replaceUrl){const Y={...b.extras.state,...this.generateNgRouterState(b.id,this.browserPageId)};this.location.replaceState(R,"",Y)}else{const V={...b.extras.state,...this.generateNgRouterState(b.id,this.browserPageId+1)};this.location.go(R,"",V)}}restoreHistory(m,b=!1){if("computed"===this.canceledNavigationResolution){const V=this.currentPageId-this.browserPageId;0!==V?this.location.historyGo(V):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===V&&(this.resetState(m),this.browserUrlTree=m.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(b&&this.resetState(m),this.resetUrlToCurrentUrlTree())}resetState(m){this.routerState=m.currentRouterState,this.currentUrlTree=m.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,m.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(m,b){return"computed"===this.canceledNavigationResolution?{navigationId:m,\u0275routerPageId:b}:{navigationId:m}}static{this.\u0275fac=function(b){return new(b||y)}}static{this.\u0275prov=S.jDH({token:y,factory:y.\u0275fac,providedIn:"root"})}}return y})();function Ds(y){return!(y instanceof Xs||y instanceof Ys)}let la=(()=>{class y{constructor(m,b,R,V,Y,Ie){this.router=m,this.route=b,this.tabIndexAttribute=R,this.renderer=V,this.el=Y,this.locationStrategy=Ie,this.href=null,this.commands=null,this.onChanges=new er.B,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const ve=Y.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===ve||"area"===ve,this.isAnchorElement?this.subscription=m.events.subscribe(vt=>{vt instanceof an&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(m){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",m)}ngOnChanges(m){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(m){null!=m?(this.commands=Array.isArray(m)?m:[m],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(m,b,R,V,Y){return!!(null===this.urlTree||this.isAnchorElement&&(0!==m||b||R||V||Y||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const m=null===this.href?null:(0,S.n$t)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",m)}applyAttributeValue(m,b){const R=this.renderer,V=this.el.nativeElement;null!==b?R.setAttribute(V,m,b):R.removeAttribute(V,m)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(b){return new(b||y)(S.rXU($n),S.rXU(ht),S.kS0("tabindex"),S.rXU(S.sFG),S.rXU(S.aKT),S.rXU(Ye.hb))}}static{this.\u0275dir=S.FsC({type:y,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(b,R){1&b&&S.bIt("click",function(Y){return R.onClick(Y.button,Y.ctrlKey,Y.shiftKey,Y.altKey,Y.metaKey)}),2&b&&S.BMQ("target",R.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",S.L39],skipLocationChange:["skipLocationChange","skipLocationChange",S.L39],replaceUrl:["replaceUrl","replaceUrl",S.L39],routerLink:"routerLink"},standalone:!0,features:[S.GFd,S.OA$]})}}return y})();class Ts{}let Vc=(()=>{class y{constructor(m,b,R,V,Y){this.router=m,this.injector=R,this.preloadingStrategy=V,this.loader=Y}setUpPreloading(){this.subscription=this.router.events.pipe((0,Xn.p)(m=>m instanceof an),ze(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(m,b){const R=[];for(const V of b){V.providers&&!V._injector&&(V._injector=(0,S.Ol2)(V.providers,m,`Route: ${V.path}`));const Y=V._injector??m,Ie=V._loadedInjector??Y;(V.loadChildren&&!V._loadedRoutes&&void 0===V.canLoad||V.loadComponent&&!V._loadedComponent)&&R.push(this.preloadConfig(Y,V)),(V.children||V._loadedRoutes)&&R.push(this.processRoutes(Ie,V.children??V._loadedRoutes))}return(0,ue.H)(R).pipe((0,Yn.U)())}preloadConfig(m,b){return this.preloadingStrategy.preload(b,()=>{let R;R=b.loadChildren&&void 0===b.canLoad?this.loader.loadChildren(m,b):(0,K.of)(null);const V=R.pipe((0,gn.Z)(Y=>null===Y?(0,K.of)(void 0):(b._loadedRoutes=Y.routes,b._loadedInjector=Y.injector,this.processRoutes(Y.injector??m,Y.routes))));if(b.loadComponent&&!b._loadedComponent){const Y=this.loader.loadComponent(b);return(0,ue.H)([V,Y]).pipe((0,Yn.U)())}return V})}static{this.\u0275fac=function(b){return new(b||y)(S.KVO($n),S.KVO(S.Ql9),S.KVO(S.uvJ),S.KVO(Ts),S.KVO(dr))}}static{this.\u0275prov=S.jDH({token:y,factory:y.\u0275fac,providedIn:"root"})}}return y})();const Lr=new S.nKC("");let da=(()=>{class y{constructor(m,b,R,V,Y={}){this.urlSerializer=m,this.transitions=b,this.viewportScroller=R,this.zone=V,this.options=Y,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},Y.scrollPositionRestoration=Y.scrollPositionRestoration||"disabled",Y.anchorScrolling=Y.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(m=>{m instanceof yn?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=m.navigationTrigger,this.restoredId=m.restoredState?m.restoredState.navigationId:0):m instanceof an?(this.lastId=m.id,this.scheduleScrollEvent(m,this.urlSerializer.parse(m.urlAfterRedirects).fragment)):m instanceof gi&&0===m.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(m,this.urlSerializer.parse(m.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(m=>{m instanceof ss&&(m.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(m.position):m.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(m.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(m,b){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new ss(m,"popstate"===this.lastSource?this.store[this.restoredId]:null,b))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(b){S.QTQ()}}static{this.\u0275prov=S.jDH({token:y,factory:y.\u0275fac})}}return y})();function hr(y,T){return{\u0275kind:y,\u0275providers:T}}function ha(){const y=(0,S.WQX)(S.zZn);return T=>{const m=y.get(S.o8S);if(T!==m.components[0])return;const b=y.get($n),R=y.get(or);1===y.get(ft)&&b.initialNavigation(),y.get(Eu,null,S.$GK.Optional)?.setUpPreloading(),y.get(Lr,null,S.$GK.Optional)?.init(),b.resetRootComponentType(m.componentTypes[0]),R.closed||(R.next(),R.complete(),R.unsubscribe())}}const or=new S.nKC("",{factory:()=>new er.B}),ft=new S.nKC("",{providedIn:"root",factory:()=>1}),Eu=new S.nKC("");function He(y){return hr(0,[{provide:Eu,useExisting:Vc},{provide:Ts,useExisting:y}])}const zo=new S.nKC("ROUTER_FORROOT_GUARD"),ls=[Ye.aZ,{provide:ti,useClass:Bn},$n,Nr,{provide:ht,useFactory:function Gt(y){return y.routerState.root},deps:[$n]},dr,[]];function qa(){return new S.NEm("Router",$n)}let Cs=(()=>{class y{constructor(m){}static forRoot(m,b){return{ngModule:y,providers:[ls,[],{provide:sn,multi:!0,useValue:m},{provide:zo,useFactory:ar,deps:[[$n,new S.Xx1,new S.kdw]]},{provide:xr,useValue:b||{}},b?.useHash?{provide:Ye.hb,useClass:Ye.fw}:{provide:Ye.hb,useClass:Ye.Sm},{provide:Lr,useFactory:()=>{const y=(0,S.WQX)(Ye.Xr),T=(0,S.WQX)(S.SKi),m=(0,S.WQX)(xr),b=(0,S.WQX)(Oi),R=(0,S.WQX)(ti);return m.scrollOffset&&y.setOffset(m.scrollOffset),new da(R,b,y,T,m)}},b?.preloadingStrategy?He(b.preloadingStrategy).\u0275providers:[],{provide:S.NEm,multi:!0,useFactory:qa},b?.initialNavigation?mo(b):[],b?.bindToComponentInputs?hr(8,[na,{provide:Js,useExisting:na}]).\u0275providers:[],[{provide:yo,useFactory:ha},{provide:S.iLQ,multi:!0,useExisting:yo}]]}}static forChild(m){return{ngModule:y,providers:[{provide:sn,multi:!0,useValue:m}]}}static{this.\u0275fac=function(b){return new(b||y)(S.KVO(zo,8))}}static{this.\u0275mod=S.$C({type:y})}static{this.\u0275inj=S.G2t({})}}return y})();function ar(y){return"guarded"}function mo(y){return["disabled"===y.initialNavigation?hr(3,[{provide:S.hnV,multi:!0,useFactory:()=>{const T=(0,S.WQX)($n);return()=>{T.setUpLocationChangeListener()}}},{provide:ft,useValue:2}]).\u0275providers:[],"enabledBlocking"===y.initialNavigation?hr(2,[{provide:ft,useValue:0},{provide:S.hnV,multi:!0,deps:[S.zZn],useFactory:T=>{const m=T.get(Ye.hj,Promise.resolve());return()=>m.then(()=>new Promise(b=>{const R=T.get($n),V=T.get(or);dt(R,()=>{b(!0)}),T.get(Oi).afterPreactivation=()=>(b(!0),V.closed?(0,K.of)(void 0):V),R.initialNavigation()}))}}]).\u0275providers:[]]}const yo=new S.nKC("")},467:(Pt,ke,j)=>{function S(se,fe,ue,K,Q,Oe,Re){try{var te=se[Oe](Re),J=te.value}catch(me){return void ue(me)}te.done?fe(J):Promise.resolve(J).then(K,Q)}function ne(se){return function(){var fe=this,ue=arguments;return new Promise(function(K,Q){var Oe=se.apply(fe,ue);function Re(J){S(Oe,K,Q,Re,te,"next",J)}function te(J){S(Oe,K,Q,Re,te,"throw",J)}Re(void 0)})}}j.d(ke,{A:()=>ne})},1635:(Pt,ke,j)=>{function fe(Ee,Ae){var be={};for(var xe in Ee)Object.prototype.hasOwnProperty.call(Ee,xe)&&Ae.indexOf(xe)<0&&(be[xe]=Ee[xe]);if(null!=Ee&&"function"==typeof Object.getOwnPropertySymbols){var ze=0;for(xe=Object.getOwnPropertySymbols(Ee);ze<xe.length;ze++)Ae.indexOf(xe[ze])<0&&Object.prototype.propertyIsEnumerable.call(Ee,xe[ze])&&(be[xe[ze]]=Ee[xe[ze]])}return be}function me(Ee,Ae,be,xe){return new(be||(be=Promise))(function(je,ut){function Lt(wn){try{Ke(xe.next(wn))}catch(vn){ut(vn)}}function Yt(wn){try{Ke(xe.throw(wn))}catch(vn){ut(vn)}}function Ke(wn){wn.done?je(wn.value):function ze(je){return je instanceof be?je:new be(function(ut){ut(je)})}(wn.value).then(Lt,Yt)}Ke((xe=xe.apply(Ee,Ae||[])).next())})}function et(Ee){return this instanceof et?(this.v=Ee,this):new et(Ee)}function tt(Ee,Ae,be){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ze,xe=be.apply(Ee,Ae||[]),je=[];return ze=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),Lt("next"),Lt("throw"),Lt("return",function ut(bt){return function(Yn){return Promise.resolve(Yn).then(bt,vn)}}),ze[Symbol.asyncIterator]=function(){return this},ze;function Lt(bt,Yn){xe[bt]&&(ze[bt]=function(Sn){return new Promise(function(kt,kn){je.push([bt,Sn,kt,kn])>1||Yt(bt,Sn)})},Yn&&(ze[bt]=Yn(ze[bt])))}function Yt(bt,Yn){try{!function Ke(bt){bt.value instanceof et?Promise.resolve(bt.value.v).then(wn,vn):lr(je[0][2],bt)}(xe[bt](Yn))}catch(Sn){lr(je[0][3],Sn)}}function wn(bt){Yt("next",bt)}function vn(bt){Yt("throw",bt)}function lr(bt,Yn){bt(Yn),je.shift(),je.length&&Yt(je[0][0],je[0][1])}}function st(Ee){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var be,Ae=Ee[Symbol.asyncIterator];return Ae?Ae.call(Ee):(Ee=function We(Ee){var Ae="function"==typeof Symbol&&Symbol.iterator,be=Ae&&Ee[Ae],xe=0;if(be)return be.call(Ee);if(Ee&&"number"==typeof Ee.length)return{next:function(){return Ee&&xe>=Ee.length&&(Ee=void 0),{value:Ee&&Ee[xe++],done:!Ee}}};throw new TypeError(Ae?"Object is not iterable.":"Symbol.iterator is not defined.")}(Ee),be={},xe("next"),xe("throw"),xe("return"),be[Symbol.asyncIterator]=function(){return this},be);function xe(je){be[je]=Ee[je]&&function(ut){return new Promise(function(Lt,Yt){!function ze(je,ut,Lt,Yt){Promise.resolve(Yt).then(function(Ke){je({value:Ke,done:Lt})},ut)}(Lt,Yt,(ut=Ee[je](ut)).done,ut.value)})}}}j.d(ke,{AQ:()=>tt,N3:()=>et,Tt:()=>fe,sH:()=>me,xN:()=>st}),"function"==typeof SuppressedError&&SuppressedError}},Pt=>{Pt(Pt.s=226)}]);